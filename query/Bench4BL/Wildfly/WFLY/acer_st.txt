1810	SFSB lock released exception thrown Synchronization callback owning pushed OwnableReentrantLock ownership stack org jboss ejb component stateful StatefulSessionSynchronizationInterceptor handleThrowableInTxSync subsequent Lock tryAcquire fail SFSB lock released exception thrown Synchronization callback timer test transaction context write synchronization remove exception
2016	Security context EJB asynchronous invocations corrupted time caller thread servlet invokes asynchronous EJB assume runs foo role invokes foo role correctly propagated asynchronous EJB invocation invocation completes clears security context role invocation asynchronous EJB lose security context role association threads servlet invocation async EJB invocation literally share object instance SecurityContext expected behaviour original security context attributes copied async invocation updates security context separate thread shouldn affect ongoing async EJB invocation Security context EJB asynchronous invocations corrupted time caller thread attribute context test connection security interceptor count set
2065	Update jboss transaction spi JPA integration test suite tests afterCompletion synchonization callback timed transactions called transaction reaper thread hard coding reaper thread latest SPI jar includes method job update test suite SPI method marked jira bug testing reaper thread brittle Update jboss transaction spi student transaction test employee ejb deployment message create
2458	run AsynchronousService 1 GlobalComponentRegistryService ThreadPoolExecutor Worker AbstractComponentRegistry PrioritizedMethod JBossThread ThreadPoolExecutor GlobalComponentRegistry Thread ReflectionUtil start IllegalStateException CacheException EmbeddedCacheManagerStartupException StartException Exception Re deployment of a clustered application fail due to race condition with infinispan
2467	Deadlock startup configured transactional Infinispan cachesCacheConfigurationService installed AsynchronousService wrapper Deadlock startup configured transactional Infinispan cachesCacheConfigurationService installed AsynchronousService wrapper cache service unit manager factory handler config lient
2954	Transaction Synchronization registration issue injected JMSContextThe JMSContextProducer registers Synchronization object Transaction leads issue parts register Synchronization objects http stackoverflow questions jboss wildfly arjuna synchronizations allowed sending mess JSMContextProducer TransactionSynchronizationRegistry register syncs Transaction Synchronization registration issue injected JMSContextThe JMSContextProducer registers Synchronization object Transaction transaction batch synchronization create store manager timeout completion
3259	ServiceControllerImpl StartTask UndertowDeploymentService contextInitialized ApplicationAssociate PostConstructApplicationListener DeploymentManagerImpl startService ForwardingBeanManager BeanManagerImpl getContext ConfigureListener start RuntimeException ContextNotActiveException StartException Race condition in built in ServletContextListenersWeldComponentIntegrationProcessor properly adds service dependency on the WeldStartService
3280	Thread locking problem app server shutdownI face problem remoting thread MSC service thread deadlocked server shutdown cases integration arquillian tests EAP engineering releases deploy testing application packaged jar file jdbc driver deployed copying deployments folder attaching server log file thread dump time threads stuck find lock occurs stack trace places lock remoting queue lock DeploymentRepository object quick work removed keyword methods remove listeners DeploymentRepository https github jbossas jboss eap blob ejb src main java org jboss ejb deployment DeploymentRepository java https github jbossas jboss eap blob ejb src main java org jboss ejb deployment DeploymentRepository java correct observation starting point trouble remoting problem MSC component change jira type Thread locking problem app server shutdownI face problem remoting thread MSC service thread deadlocked server shutdown client service context lock selector element identity deployment
3338	JMSContext thread safe JMS spec method called injected JMSContext JTA transaction bean managed container managed scope JMSContext TransactionScoped WildFly test suppose beans javax annotation Resource javax enterprise context ApplicationScoped javax enterprise inject Instance javax inject Inject javax jms JMSContext javax jms Topic javax transaction Transactional ApplicationScoped Transactional AppScopedBean Inject JMSContext jmsCtx Instance JMSContext jmsCtx Resource lookup jms topic test Topic topic sendMessage jmsCtx createProducer setDisableMessageID setDisableMessageTimestamp send topic message jmsCtx createProducer setDisableMessageID setDisableMessageTimestamp send topic message javax annotation Resource javax enterprise concurrent ManagedThreadFactory javax enterprise context ApplicationScoped javax enterprise context Dependent javax enterprise context Initialized javax enterprise event Observes javax inject Inject Dependent ThreadLauncher Resource ManagedThreadFactory threadFactory Inject AppScopedBean bean start Observes Initialized ApplicationScoped Object event System println starting threads threadFactory newThread SendRunnable start System println start finished SendRunnable Runnable System println starting send bean sendMessage System println sending deploy code lot WARN org hornetq core client ManagedThreadFactory Thread Invalid concurrent session usage Sessions supposed thread concurrently happening JMSContext TransactionScoped problem appears org jboss messaging deployment JMSContextProducer JMSContextWrapper getDelegate method threads call time create delegate receive delegate delegate doesn nulled transaction thread completes threads session time allowed don HornetQ detects concurrent depending works messages wrong transaction workaround inject Instance JMSContext JMSContext commented lines code JMSContext producer Dependent Instance call instance thread instance JMSContext thread safe transaction receive resource synchronization entity injection module interceptor
3381	race remote process receipt cancellation request receipt initial request managed domain operation sends request process domain cancelled initiating sending request cancellation request received original request occurs cancellation request fail ActiveOperation cancel original request hang waiting commit rollback arrive http brontes lab eng brq redhat viewLog html buildId amp tab buildResultsDiv amp buildTypeId MasterLinux testNameId occurred race remote process receipt cancellation request receipt initial request cancel servlet message http timeout request invocation oss
3396	TimerResourceDefinition AbstractReadAttributeHandler TimerResourceDefinition 10 AbstractOperationContext TimerResourceDefinition AbstractTimerHandler 1 ModelControllerClientOperationHandler ExecuteRequestHandler completeStepInternal ModelControllerImpl readAttribute execute doCompleteStep executeStep NullPointerException InterruptedException NPE in TimerResourceDefinitionI am experiencing race conditions when running test remotely from Arquillian to Wildfly       CR
3517	DeploymentMountProvider leaks thread poolsDeploymentMountProvider start calls Executors newScheduledThreadPool shutdown pool reload command slow thread leak eventually result OOM DeploymentMountProvider leaks thread poolsDeploymentMountProvider start calls Executors newScheduledThreadPool shutdown pool test service server subsystem executor add status descriptor
3548	JTA synchronization distributed transaction called incorrect TCCLIt RequestProcessor processing JTA synchronizations TCCL set result synchronization invocation NameNotFoundException thrown JNDI lookup java comp UserTransaction acccess org jboss weld Container org jboss weld services ModuleGroupSingletonProvider TCCLSingleton ISE Singleton set access weld deployment Thread Context ClassLoader deployment JTA synchronization distributed transaction called incorrect TCCLIt RequestProcessor processing JTA synchronizations TCCL set transaction synchronization registry recovery bridge entity manager scoped
3695	Distributed web session expiration ScheduledExecutorService leaks threads undeployThe ScheduledExecutorService employed SessionExpirationScheduler shutdown shutdown thread pool explicitly setExecuteExistingDelayedTasksAfterShutdownPolicy scheduled tasks attempt execute shutdown Distributed web session expiration ScheduledExecutorService leaks threads undeployThe ScheduledExecutorService employed SessionExpirationScheduler shutdown shutdown thread pool explicitly setExecuteExistingDelayedTasksAfterShutdownPolicy scheduled tasks attempt execute shutdown service failover deployment context executor session expiration ful
3715	Async servlets lock timeouts distributable sessions Infinispan BatchContainer relies thread locals Batcher capabilities ejb clustering web clustering modules refactored share objects Async servlets lock timeouts distributable sessions timer set write lock transaction context create time
3727	run AsynchronousService 1 GlobalComponentRegistryService ThreadPoolExecutor Worker AbstractComponentRegistry PrioritizedMethod JBossThread ThreadPoolExecutor GlobalComponentRegistry Thread ReflectionUtil start CacheException NullPointerException EmbeddedCacheManagerStartupException StartException Race condition during channel create vs start causing NPE on channel startupMy hunch is that this is due to the fact that WildFly creates a channel in one thread but starts it in another
3731	TransactionSynchronizationRegistryImple getTransactionImple EjbRequestScopeActivationInterceptor registerInterposedSynchronization StatefulSessionSynchronizationInterceptor AbstractEJBRequestScopeActivationInterceptor processInvocation Interceptor InterceptorContext Invocation proceed Synchronization IllegalStateException EJBTransactionRolledbackException org jboss as ejb  component stateful StatefulSessionSynchronizationInterceptor should not register a Synchronization if the transaction was rolled back
3942	Race condition clean shutdown mod cluster session draining issue exists revalidate logic race conditions https issues jboss org browse MODCLUSTER https bugzilla redhat bug cgi Race condition clean shutdown mod cluster session draining cluster channel message failover removed test invocation client
4133	Hanging EJB threads persistent timer failed deployment time service pending timeouts bad redeploy hang worker threads server Hanging EJB threads persistent timer failed deployment timer method ejb transaction failed component type fail
4310	AbstractModelResource DefaultResourceProvider AbstractResourceAdapterDeploymentServiceListener registerChild ServiceControllerImpl ListenerTask AbstractModelResource ServiceControllerImpl Resource invokeListener access 2800 register ThreadPoolExecutor Worker IllegalStateException Race condition registering resource adapters at startupUpstream Jira of https bugzilla redhat com show bug cgi id
4511	CMTTxInterceptor invokeInOurTx stale code handling ApplicationDeadlockExceptionDescription problem git git app eng bos redhat jbossas jboss git ejb src main java org jboss ejb CMTTxInterceptor java stale code catching ApplicationDeadlockException attempting retry transaction failure exception raised retry occur Version Release number selected component applicable reproducible Consistently Steps Reproduce Visual Inspection Register transaction Synchronization object raises exception beforeCompletion Note EAP longer raises exception block code handling ApplicationDeadlockException artifact EAP simply removed Actual Retry occur Expected Retry attempted code CMTTxInterceptor invokeInOurTx stale code handling ApplicationDeadlockExceptionDescription problem method transaction context load runtime exception model security
4844	Wildfly EJB timer finishes transaction fully committed Singleton EJB timer finishes started waiting write lock Singleton EJB won committed current assume EJB timers finishes transaction fully committed starts early test reproduce issue facing https github xiaodong xie wildfly singleton timer analysis issue CMTTxInterceptor applied ContainerManagedConcurrencyInterceptor waiting write lock EJBReadWriteLock started transaction IMHO earlier Wildfly EJB timer finishes transaction fully committed timer method ejb transaction failed component fail type
5186	LockManagerImpl lockKeyAndCheckOwnership lockAndRegisterBackupLock AbstractTxLockingInterceptor visitLockControlCommand Lock acquireLock lock PessimisticLockingInterceptor LockControlCommand CommandInterceptor TimeoutException TimeoutException  Unable to acquire lock after   secondsSeen in these scenarios
5449	Custom socket factory JGroups subsystem set correctlyWildfly JChannelFactory set custom socket factory JGroups transport correct API overwritten JGroups channel starts custom socket factory set JChannel time custom socket factory race condition channels started time custom factory set channel Custom socket factory JGroups subsystem set correctlyWildfly JChannelFactory set custom socket factory JGroups transport protocol transport add test subsystem operation attribute resource
5596	MessageDrivenComponent startDelivery stopDelivery thread safeWFLY change prevent MDBs activated deactivated multiple times thread safe flag protection multiple threads invoking methods simultaneously effects include activating endpoint deactivation leading registering resources recovery manager properly activate deactivate running wrong order separate threads simple solutions work correctly AtomicBoolean multiple activations deactivations concurrent calls startDelivery activation block exclusive lock work involves invoking container code resource adapter deadlock risk invoked container functionality MessageDrivenComponent startDelivery stopDelivery thread safeWFLY change prevent MDBs activated deactivated multiple times thread safe transaction context resource executor synchronization manager entity thread
5770	DefaultPendingLockManager awaitPendingTransactionsForKey lockOrRegisterBackupLock checkPendingAndLockKey visitDataWriteCommand checkForPendingLock AbstractTxLockingInterceptor Pending PessimisticLockingInterceptor Lock visitRemoveCommand CacheException RollbackException Exception TimeoutException Lock TimeoutException on CacheRegistry close Just happened on node shutdown when testing locally
6127	IllegalStateException JTA unsynchronized persistence context target persistence contextSPEC component called JTA transaction propagated component persistence context type SynchronizationType UNSYNCHRONIZED JTA transaction target component specifies persistence context type SynchronizationType IllegalStateException thrown container stateful session bean SFB TRANSACTION UNSYNCHRONIZED stateful session bean SFB TRANSACTION SFB method REQUIRED calls SFB Method REQUIRED propagated SFB SFB exception IllegalStateException JTA unsynchronized persistence context target persistence contextSPEC component called JTA transaction propagated component transaction entity test manager synchronization persistence injected detach
6215	SessionSynchronization callbacks concurrent access SFSBIssue encountered customer EAP JBPAPP Assume local SFSB container managed transactions calling SFSB bean managed transactions SessionSynchronization bean managed transaction timesout executing exampleMethod transaction aborts transaction reaper thread calls afterCompletion original worker thread executing exampleMethod continues execute exampleMethod completed SFSB accessed concurrently afterCompletion finish executing exampleMethod SessionSynchronization callbacks concurrent access SFSBIssue encountered customer EAP JBPAPP customer transaction set test audit revision synchronization list
6405	Performance WeldDeployment getBeanDeploymentArchive method Wildfly performance test app concurrent users jmeter running issue locked threads method WeldDeployment getBeanDeploymentArchive code method sense question expected behavior bug cases workaround overcome limitation STACK TRACE org jboss weld WeldProvider CdiImpl getBeanManager org jboss weld WeldProvider CdiImpl getBeanManager org jboss weld deployment WeldDeployment getBeanDeploymentArchive Performance WeldDeployment getBeanDeploymentArchive method Wildfly deployment module set service bean attribute container result
6776	Unclear error message creating multiple thread pools type workmanagerWhen running thread pool work manager create subsystem jca workmanager running threads custom add max threads queue length opaque error message failure description WFLYCTL Failed persist configuration change WFLYCTL Failed marshal configuration useless java lang IllegalArgumentException server log obvious error create running thread pools Unclear error message creating multiple thread pools type workmanagerWhen running thread pool work manager create method timer ejb transaction failed type component fail
6877	DefaultLockManager KeyAwareExtendedLockPromise DefaultLockManager CompositeLockPromise lockAllOrRegisterBackupLock lock Interceptor checkPendingAndLockAllKeys invokeNextInterceptorAndVerifyTransaction AbstractTxLockingInterceptor visitPrepareCommand lockAllAndRecord Lock Error TimeoutException Fine session attributes  i e  replication granularity   ATTRIBUTE  cause org infinispan util concurrent TimeoutException  ISPN   Unable to acquire lock after   secondsOur system using the following infinispan configuration for web session cache  i e  an async  non transactional  batch  optimistic locking dustrubutable cache
7282	Deadlock BasicAction jboss remoting JTA EJBRemoteTransactionPropagatingInterceptor transaction open current server causing transaction reimported diamond problem deadlock Issue created based discussion jboss support transactions list http post office corp redhat archives jboss support transactions September msg html Current jboss remoting implementation JTA provide correct handling diamond transaction propagation problem transaction propagated server situation deadlock Remote calls transactions processed servers remote resource prepare phase stuck Transaction timed recovery process rolls IIOP JTS suffer flaw Deadlock BasicAction jboss remoting JTA context connection transaction client service security manager data