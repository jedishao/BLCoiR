199	Synchronisation performance tests performance tests observed threads were status blocked stack tests were carried jmeter read queries http bio 8080 exec Thread t 115 State BLOCKED waiting lock Field owned http bio 8080 exec t 94 java
532	Multithreading authentication issue have come issue results following exception be thrown appears be caused threads trying authenticate DB instance bug appears be MongoDbUtils doGetDB method method retrieves DB object given name checks is authenticated is authenticated authenticate given username password threads check DB object attempt authenticate leads exception being thrown have checked source code git repository bug appears be solve issue have replaced lines throw CannotGetMongoDbConnectionException Failed authenticate database databaseName synchronized block be moved include statements remove need call isAuthenticated mean time doGetDb method is called synchronized block be entered be synchronized calls doGetDb db has been authenticated compromise isAuthenticated method has be called have run fix fix based 1 0 4 RELEASE code appears solve issue issue be is version java mongo driver has multithreading bug described link have had look dev version spring mongo is using be considering upgrade RuntimeException CannotGetMongoDbConnectionException Failed authenticate database
622	use doInsert avoid race conditions inserts object be created using insert doSaveVersioned uses doSave store object
737	Extra MongoSynchronizations cause TransactionSynchronizationManager throw IllegalStateException transaction Mongo databases are being accessed test case transaction is rolled end test following exception is thrown is stack trace was filed DATAMONGO looked code resolution issue appears was closed reporter upgraded issue disappeared ends registering MongoSynchronizations have holder database apos synchronization unbinds holder Mongo key fails holder is bound am submit patch issue does things am options is feedback committer community be appreciated get weeds IllegalStateException value key Mongo localhost bound thread debugging interaction MongoDbUtils TransactionSynchronizationManager have working theory cause nutshell MongoDbUtils invokes TransactionSynchronizationManager database Mongo instance is resource bound TransactionSynchronizationManager see java lines transaction is completed triggerBeforeCompletion is invoked iterates MongoSynchronizations effect invoking unbindResource Override beforeCompletion suspend utilize Modify doGetDB registers MongoSynchronization Mongo database