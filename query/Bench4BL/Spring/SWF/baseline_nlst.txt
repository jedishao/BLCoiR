976	SimpleELContext is not thread safe  Class SimpleELContext extends javax el Context  Javadoc http   java sun com products jsp 2 1 docs jsp 2_1 pfd2 javax el ELContext html said       Because it stores state during expression evaluation  an ELContext object is not thread safe      Instance of SimpleELContext is stored in ELDelegatingPropertyResolver and ELDelegatingVariableResolver  which are application singletons  so this instance of SimpleELContext is shared for all sessions  This bug is very strange  because in single user development testing everything works fine  but in production with more users  we got usually NullPointerException on bizzarre places in program like this   &gt         String label   getItemLabel   !  null   getItemLabel   toString     null  Attachment contains a patch  which helps me
1437	Two concurrent threads in an expression of a flow override the rootobject of evaluation contextWhen two concurrent threads are evaluating an expression contained in a flow  the evaluation context linked to the expression can be overriden by multiple threads  Result is in most of cases NullPointerException in a getValueInternal of classes from  org springframework expression spel ast package  like PropertyOrFieldReference for example   Wrong code seems to be in org springframework binding expression spel SpringELExpression   public Object getValue Object rootObject  throws EvaluationException   try   updateEvaluationContext rootObject   return expression getValue evaluationContext  expectedType       As the SpringElExpression is unique for the expression to be evaluated  it&amp apos s not thread safe when updating the evaluation context with root object  Synchronize this method resolves problem