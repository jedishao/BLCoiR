140	XsltBuilder instance threadsafe be used XsltBuilder uses ResultHandler instance variable hold result transformation makes thread time ‘s cleared reset be used
510	test failure MultiCastAggregatorTest is race condition test aggregators are aggregating output looks InAggregator make copy exchange attached patch gets method
574	default excecutor do create thread processing added loan broker example CAMEL found is performance improvement using mulitcast digging code found create thread parallel processing
715	ConcurrentModificationException ThreadProcessor defining routing ThreadProcessor get ConcurrentModificationException multicore systems Example  Override void process Exchange ex throws Exception Stack trace Exception thread Thread Processor ava va va ConcurrentModificationException run ThreadProcess j runTask ThreadPoolExecuto ja ja
803	ValidatingProcessor thread method process is executed error information is stored shared errorHandler thread calls reset clean errors written thread way fix issue be synchronized block java disadvantage solution is is threads created error handler be
1199	Throttler appears throttle thread throttling threads
1270	countdown latch MainSupport is completed Main is stopping Starting Camel using Main camel run class countdown latch is hanging have hanging thread bee seen using ctrl
1401	JaxbDataFormat is thread JaxbDataFormat reuses Marshaller Unmarshaller instances creating instances JAXBContext getter methods is thread synchronization is required are getting exceptions JAXB implementation ClassCastException SAXException FWK005 parse be called Everything works custom JaxbDataFormat creates Unmarshaller Marshaller instance request
1510	BatchProcessor interrupt has side effects have noticed BatchProcessor class uses Thread class interrupt method wake run loop sleeping enqueueExchange method became performance testing resulted adding exchanges aggregator threshold becoming reached trying enqueue aggregated result JMS queue  Override change is queuing exchange does interrupt batch sender activity hope sample is side effect is run loop is middle processing exchanges processing involves something establishing JMS connection SSL queuing processor processing become consequence side effect is batch sender thread gets opportunity complete exceptions regarding interrupt are thrown analysis BatchProcessor is recommend grained concurrency controls being used relying interrupting thread something following re write sender await batchTimeout have replaced queue linked list mutexed access addition queuing exchanges is noted result locking
1565	Make camel validation thread flow contains camel validation endpoint is started XSD schemas are loaded request comes camel validation endpoint is hit requests come initialization be performed time seems SchemaFactory is thread results following exception Is backport fix ERROR DeadLetterChannel Logger Failed delivery exchangeId ID ATOS B624 E47AF0 delivery attempt caught SAXException FWK005 parse be called parsing SAXException FWK005 parse be called parsing
1583	ldap component is thread JNDI context objects are thread LDAP component shares directory context threads use component is addition LDAP component attempt establish connection instantiation component component is required process requests LDAP server is g Camel application stop JNDI directory contexts be established consuming thread needs be released thread is finished component release connection LDAP server existing component relies JNDI release socket time seconds
1604	UnitOfWork synchronization callbacks add DSL registering custom processor See nabble
1641	camel ftp is thread See nabble discussion FTPClient be created instance created producer consumer http component does
1650	Race condition IdempotentConsumer race condition exists IdempotentConsumer implementation enclose version IdempotentConsumerTest illustrates problem code checks MessageIdRepository message was processed processes message is note test demonstrates issue MemoryIdempotentRepository solution address case database based respository environment imply locking mechanism database is required
1670	thread File Components file startDirectory move endDirectory threads bean myBean myMethod route ran OverlappingFileLockException was thrown file was read lock files were left source directory experimented adding calls thread route make speeds route keeps throwing OverlappingFileLockException errors leaving lock files start route looks
1795	camel jms defaults causes message listener use thread receiving messageJmsConfiguratiuon have default maxMessagesPerTask be  1 do want DefaultMessageListenerContainer handle message thread
1930	Synchronized access XPathExpression resulting contention consumers XPathExpression objects need be stored ThreadLocal avoid synchronization contention Cheers Fabrice  m using Camel do JMS message routing Messages are XML is choice using choice xpath expression XPathBuilder creates XPathExpression object According specification objects are thread synchronizing looks using jms consumers is evaluations be made
1966	CamelNamespaceHandler is thread is mail thread discusses
2049	configuration MINA connector acceptor instances mina tcp localhost lazySessionCreation sync mina tcp localhost lazySessionCreation sync producerA sample scenario MINA producer consumer are used route g kind dispatching proxying Camel MINA producer is thread known point attached file contains thread pool based version be used TCP endpoints parameters lazySessionCreation sync set
2175	Initialization code camel cxf is thread getCxfBinding is thread case threads hit CXF webserive hasnt been initialized Code HeaderFilterStrategyAware cxfBinding Is sense getAndSet let threads pass cxfBinding have been initialized getAndSet
2496	StreamCache Splitter race condition Attached patch introduces test shows following symptom RuntimeCamelException FileNotFoundException var folders vC vCA487MkHEeSaIu9LmlkrU TI Tmp camel tmp 627613 cos3755307044377901165 tmp file directory RuntimeCamelException FileNotFoundException var folders vC vCA487MkHEeSaIu9LmlkrU TI Tmp camel tmp 627613 cos3755307044377901165 tmp file directory believe be race condition threads are passing splitter case  m using seda queue threads Am logging  m time have investigate week
2824	processdump is attached bug have tried recreate failing testcase luck Deadlock DefaultTimeoutMap running camel route camel Aggregator while get deadlock DefaultTimeoutMap
2935	failure reporting asyncCallback Synchronization change send java throws CamelExecutionException getException is makes asyncCallback report failures fault messages onFailure java was working Camel was test case attached patch DefaultProducerTemplateAsyncTest demonstrates problem did commit fix  m moment way fix tried fix asyncCallback methods causes test patch pass like hear opinions continue
2986	IllegalStateException CamelContinuationServlet loadReason is race suspend resume occur resume is executed suspend leading IllegalStateException thrown Jetty IllegalStateException DISPATCHED is case async completion callback is thread is executing isInitial block
2994	camel cxf CxfClientCallback is invoked was expectedRun test CXFWsdlOnlyTest CXF invokes CxfClientCallback times is race condition threads wanting complete routing Exchange end errors default workqueue INFO Logger Exchange Message Body is instance InputStream Exception thread default workqueue NoSuchElementException default workqueue INFO Logger Exchange Message Body is instance InputStream Exception thread default workqueue NoSuchElementException CXF invoke ClientCallback time have registered
3216	ScheduledPollConsumer avoid thread die ensure kept being scheduledscheduled consumers file ftp uses ScheduledPollConsumer poll throwable is thrown thread die throws JDK avoid ensure catch exceptions thread die JDK re schedule thread cause stop polling
3277	Threading issue lets converter loading abort type converter loading is fails end type converters loaded let camel routes fail conversion errors ERROR qtp25205731 DefaultErrorHandler Logger camel core 2 4 0 fuse  00 00 Failed delivery exchangeId  5551 4487 9fc4 87dd33687f0b delivery attempt caught ClassCastException InputStreamCache be cast Node ClassCastException InputStreamCache be cast Node Tracking issue showed type converter loaders share registry object fail load converters while be fixed making load method see attached patch
3349	Race condition found CxfRsEndpoint getting endpoint binding load performing sync async invocation CxfRsEndpoint apos getBinding method is thread customer site ran issue startup threads raced perform sync async invocation code getBinding given react following way Thread proceed create binding object Thread mean find binding be proceed create binding thread have binding set binding initialized proceed set HeaderStrategy Thread overwrite binding object find set have way associate HeaderFilterStrategy object flag is absence HeaderFilterStrategy copying ProtocolHeaders throw exceptions following request invocation LOG isDebugEnabled getAndSet binding instanceof HeaderFilterStrategyAware
3493	ConcurrentModificationException removeRouteDefinitions get following exception removeRouteDefinitions are removing route definitions threads see synchronization methods one Caused ConcurrentModificationException
3528	HybridSourceDataBinding thread HybridSourceDataBinding camel cxf is thread readers writers CXF hold state schemas properties be created needed
7116	CamelContext route routingSlip generateHttpUrl generateHttpUrl returns example Result doStop does stop client thread poolCase CamelContext is closing doStop is called client is closing thread pool is threads are threads subject JIRA application be shutdown
7161	camel dozer cause lock init using springWhen using spring dozer call init ctr spring cause deadlock does stuff defer init bit turn loader service is done others start stop methods State BLOCKED object monitor waiting lock ConcurrentHashMap
7239	Address SchemaFactory thread issue SchemaFactory is thread need do addition work ValidatorProcessor avoid threads issue
7318	Concurrency HDFS Consumer working have HDFS consumers files are being processed consumer waiting consumers are working parallel add consumers work team transfer go happens is exception thrown rename method returns everything carries nothing have happened order fix add HdfsInputStream tf HdfsConsumer try catch IOException ioe
7321	JcrConsumer freezes environments January Willem Jiang reported JUnit test JcrConsumerTest fails environment be reproduced environments time Willem Jiang applied following fix xml order make test pass xml made tests run processes was indicator issues JcrConsumer was reproduce problem running Maven Eclipse problem is synchronization issue be addressed ticket
7364	JpaMessageIdRepository uses EntityManager thread product have found behavior JpaMessageIdRepository change version think assign EntityManager method reason was EntityManager assigned constructor JpaMessageIdRepository EntityManager required be thread
7556	camel rabbitmq consumer threads Allow threads listening queue JMS endpoint
7715	SjmsConsumer SjmsProducer do remove thread pool stop SjmsConsumer SjmsProducer register ThreadPool Camel context ExecutorServiceManager time instance is created endpoint consumer producer is stopped removed component is removed thread pool exists
7795	Regression MDC lose values Async Routing Engine is used CAMEL introduced optimisations MDC Logging mechanism make lose MDC values async routing engine is used situation be salvaged fact underlying MDC implementations use InheritableThreadLocal requests system initialisation see behaviour MDC values requesting thread is propagated initialised threads underlying stack ThreadPool coreThreads are being initialised context threads act parent threads attempts behaviour is seen responses async endpoint come MDC are using async component CXF response done callback be issued thread managed Camel need MDCCallback reset MDC values routeId was intended commits caused regression
7968	Container has concurrency behaviour implementation Instance is ThreadSafe is defined happens Containers race singleton using Container singleton approach be have singleton ContainerRegistry handle Containers
7973	CircuitBreakerLoadBalancer fails async processors CircuitBreakerLoadBalancer works processor seems behave expected case async processor reproduce error  s add threads processor CircuitBreakerLoadBalancerTest routeBuilder configuration misbehaviour seems be related use AsyncProcessorConverterHelper force processor behave  m going propose patch failing test proposal solution EDIT patch contains fix behaviour CircuitBreaker problem addressed is opening circuit RejectedExecutionException raised circuit breaker is set Exchange does return cause processor receive Exchange circuit is case CircuitBreaker is instructed react Exception close circuit following request raised exception be RejectedExecutionException specified configuration
7988	file consumer call abort case read lock be acquired exception was thrown See nabble cause camelLock phaned file be causing file be consuming poll
8088	FTP wait connection timeout occurs connect production system have seen cases FTP thread is waiting response having set soTimeout connection investigation is condition occur socket is connect firewall ilk blocks traffic be case socket connection response occurs socket be deemed is case RemoteFileProducer enter block loggedIn state has been reached existing broken socket is reused connectIfNecessary method return check condition is based socket connection takes account login was achieved dead socket is reused test blocks blocking condition  Override  Override  Override  Override  Override  Before  Override  After  Test  Override  Override  Override start ftpClient soTimeout be come setting property defaultTimeout value following exception is thrown connect FTP server socket has connected awaiting reply leave RemoteFileProducer state is connected logged attempt reconnect is attempted soTimeout set defaultTimeout is set cause command wait reply Caused IOException Timed waiting connect reply ftp   localhost getServerControlPort
8134	add synchronisation CachedOutputStream closedOnCompletion option is falseCachedOutputStream adds synchronization exchange closedOnCompletion option is cause OOM error HttpProducer endpoint does redelivery is discussion issue
8146	Starting stopping routes leak threads Seems be consequence issue CAMEL cause Having file SFTP based route trying something results orphan threads type Camel camel thread   sftp path   daemon prio os_prio tid nid waiting condition 0x00007fa452934000 Switching suspend resume solves problem guess start stop issue be addressed State TIMED_WAITING parking parking wait AbstractQueuedSynchronizer
8200	Race condition JmsProducer request response messaging causing setting body looks is problem JmsProducer class processInOut exchange callback method thread processInOut method was called thread JMS component handling JMS response caused body response message was lost set looks calling setMessageId end processInOut method is logic be executed JMS reply message is handled  ve attached patch invokation setMessageId is removed  ve checked does break test camel jms component team have noticed is race condition problem JmsProducer class request response messaging causes body response message is changed happen JMS response is received use memory ActiveMQ VM transport persistence load problem is caused invoking setMessageId method doSend Method doSend is sending JMS request message causes thread is used handle JMS reply message leads situation threads operate exchange is synchronized time case was happening setMessageId was invoked time createNextMessage exchange method
8241	Exec command failures using Java Unix ’m attaching test case shows issue ‘ve been running exec command updating environment Java appears ’m running race condition stream is DefaultExecutor has chance close causing DefaultExecCommandExecutor throw exit command did execute ‘ve tested updated version commons exec make has been fixed library note attached test does n‘t fail need run times error show
8268	camel hbase scan method is thread using filter list scan method is thread using filter list call endpoint produce values FilterList is used threads Cloning passed filter list solve problem
8353	FileLockExclusiveReadLockStrategy defer closing channel release lock See nabble acquire lock method closes channel acquired lock make lock channel remain closed lock is released
8673	ConcurrentModificationException creating routesThis ticket refers CAMEL fix seems be geht ConcurrentModificationException cause seems be removeRouteCollection addRouteCollection See code synchronizes routes parameter be routes getRoutes does addRouteCollection
8713	ParallelAggregate option using mode does run parallel See CAMEL have thread pool allow use existing pool processing worker threads do work parallel using processing boss thread aggregate fly is threaded boss thread controls aggregation setting aggregate boss thread
8885	ConsumeLockEntity ConsumeDeleteI think condition beginning lock function is wan select update entity set consumeDelete entity be locked
8954	Lock information is handovered Exchange completion synchronizations applies file components using read lock strategies strategies stores lock information Exchange properties Lock information is stored values hold information lock example completing route lock file1 dat is released file data input a fileName readLock markerFile pollEnrich file data input b fileName readLock markerFile markerFile MarkerFileExclusiveReadLockStrategy fileLock FileLockExclusiveReadLockStrategy FILE_LOCK_FILE_ACQUIRED CamelFileLockFileAcquired FILE_LOCK_FILE_NAME CamelFileLockFileName FILE_LOCK_EXCLUSIVE_LOCK CamelFileLockExclusiveLock FILE_LOCK_RANDOM_ACCESS_FILE CamelFileLockRandomAccessFile are Exchanges participates route share UoW synchronizations are handovered Exchange information locks be stored Exchange properties lost completion synchronizations are performed read lock strategies access information locks are released
9199	RabbitMQ Consumer threads crash sending objects RabbitMQ consumer thread crashes sending object implements Serializable contains objects have PR fix add tests
9311	Concurrency issue router have service HTTP contexts endpoints be called using HTTP GET method router routes message take look attached unit test case detail HTTP endpoint has instance router bean router bean does use shared state HTTP endpoints are called calls are handled expected HTTP endpoints are called router endpoin1 endpoint is re routing calls originating endpoin2 dynamic vice versa
9319	SshClient resource leak used ProducerTemplate threads are being killed stopping ProducerTemplate is discussion profiler results code reproduce issue using ProducerTemplate execution ssh command e class threads are being created are killed calls create threads exhausts memory thread resources machine
9331	Thread leak Http4Endpoint doStop does httpClient Thread leak Http4Endpoint doStop does httpClient using shared client connection manager builder be told does shared connection manager http client is closed
9738	Thread leak camel mina2 consumers behavior stopping web application threadpool started Mina2 IoAcceptor be stopped have thread do shutdown camel mina2 consumer doStart start Mina2 IoAcceptor IoAcceptor doStop do invoke dispose release threadpool started Mina2 Suggested bugfix doShutdown call IoAcceptor dispose method unbind address
9951	Setup default values thread connected properties WebSocket component minThreads do set properties minThreads maxThreads method getThreadPool returns get RuntimeCamelException websocket cosumer be created attributes were required versions camel Websocket component uses Jetty properties are required do use default values maxThreads availableProcessors
9970	solution is check file length lastModified read lock is granted update CamelFileLength header is write fileGiven write file Camel polls file stores parameters length Camel tries get read lock fails file is writing someone time Camel gets lock file was changed parameters are
10024	Race condition Mina2Producer Mina2Consumer closing connections disconnect is race condition Mina2Producer trying close connections use setting disconnect setting CamelMina2CloseSessionWhenComplete Connections be closed method maybeDisconnectOnDone unit testing be be issue Mina2Consumer provoke  Override call close returns CloseFuture one await ensure session is implementation is await CloseFuture means producer be returned pool session is closed call comes is get producer session be closed use leading errors ExchangeTimedOutException message was received ms IllegalStateException handler be set service is fix is change line java is program demonstrating problem system fail iterations looking log is connections are closed iteration has started
10215	EventDrivenPollingConsumer is thread used ConsumerCache static endpoints DefaultConsumerTemplate  receive is used ConsumerCache return cached instance PollingConsumer thread part processing split aggregate EventDrivenPollingConsumer is used returning cache instance causes race condition receive receive methods are thread ordering beforePoll poll afterPoll needs be synchronized consumer end being suspended afterPoll client beforePoll wake suspended thread get data
10229	camel rabbitmq Race condition stopping context autoack Run following code hit enter message is state see RabbitMQ console  Override rabbitmq queue sourceQueue skipExchangeDeclare skipQueueDeclare autoAck prefetchCount   delayer rabbitmq skipExchangeDeclare skipQueueDeclare autoAck get following exception behaviour be following Wait is running consumer consumer acks message Close channel ROUTING_KEY destinationQueue DefaultExceptionHandler Consumer RabbitConsumer 4c57777e ctag dWpQw46flmamv0dM_Fa_Qg method handleDelivery channel AMQChannel amqp rabbit_user 127 0 0 1 threw exception channel AMQChannel amqp rabbit_user 127 0 0 1 AlreadyClosedException channel is closed channel shutdown protocol method reply code reply text class id method id think is caused race condition thread runs basicCancel tag see RabbitConsumer waiting basicAck deliveryTag handleDelivery side effect is find duplicate message destinationQueue example have messages sourceQueue hit enter  s processing get messages sourceQueue messages destinationQueue Stop consumer basicCancel tag
10273	Jetty missing jmx object custom thread pool is used custom configuration ThreadPool is passed correspondent JMX object is published  ve put PR adds check enableJmx flag component level wonder make take account settings Endpoint level remove flag Endpoint