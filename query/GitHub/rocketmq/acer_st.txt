1986	IndexService getAndCreateLastIndexFile threadsafe issue issue tracker bug report feature request follow RIP process mind check existing report raise Alternately communication bug report send mail mailing lists friendly suggestions bug fixes collaboration improvements ensure bug report clear complete unable understand reproduce prevent fixing bug recommend report bug report feature request include hints BUG REPORT describe issue observed steps reproduce expect thread safe function getAndCreateLastIndexFile environment detailed explanation logs issues suggestions FEATURE REQUEST describe feature requesting getAndCreateLastIndexFile execute thread ReputMessageService ReputMessageService single thread 、getAndCreateLastIndexFile lock readWriteLock。 、if readWriteLock，where IndexFile create file，it thread safe。 IndexFile getAndCreateLastIndexFile IndexFile indexFile IndexFile prevIndexFile lastUpdateEndPhyOffset lastUpdateIndexTimestamp readWriteLock readLock lock indexFileList isEmpty IndexFile tmp indexFileList indexFileList size tmp isWriteFull indexFile tmp lastUpdateEndPhyOffset tmp getEndPhyOffset lastUpdateIndexTimestamp tmp getEndTimestamp prevIndexFile tmp readWriteLock readLock unlock thread safe indexFile String fileName storePath File separator UtilAll timeMillisToHumanString System currentTimeMillis indexFile IndexFile fileName hashSlotNum indexNum lastUpdateEndPhyOffset lastUpdateIndexTimestamp readWriteLock writeLock lock indexFileList add indexFile Exception log error getLastIndexFile exception readWriteLock writeLock unlock indexFile IndexFile flushThisFile prevIndexFile Thread flushThread Thread Runnable Override IndexService flush flushThisFile FlushIndexFileThread flushThread setDaemon flushThread start indexFile Provide additional detail proposed feature issue blocker nice workarounds address issue tasks subtask create issue map task task issue number task description task issue number task description IndexService getAndCreateLastIndexFile threadsafe issue message offset queue set store file files time
4143	Unnecessary file lock IndexFile IndexService FileLock IndexFile IndexService unnecessary remove Unnecessary file lock IndexFile IndexService message queue files file consume store space key
4686	lock released wrong position BUG REPORT describe issue observed steps reproduce org apache rocketmq namesrv kvconfig KVConfigManager putKVConfig lock writeLock lockInterruptibly HashMap String String kvTable configTable namespace kvTable kvTable HashMap configTable namespace kvTable log info putKVConfig create Namespace namespace String prev kvTable key prev log info putKVConfig update config item Namespace Key namespace key log info putKVConfig create config item Namespace Key namespace key lock writeLock unlock InterruptedException log error putKVConfig InterruptedException lock released outermost layer lock released exception acquired expected lock released correct position lock released wrong position environment develop detailed explanation logs issues suggestions thread interrupted interrupted lock released wrong position offset queue time message file ext set swap
5039	lookupAllHostAddr Inet6AddressImpl InetAddress 2 InetAddress getAddressesFromNameService getLocalHost BrokerController localHostName BrokerIdentity Host Broker localHostName  get stuck when constructing the BrokerIdentity object