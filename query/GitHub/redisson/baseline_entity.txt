39	Locking Jersey  m trying use Lock Unlock Jersey Resource User makes POST request System LOCK A System does stuff System UNLOCK A User makes POST request System LOCK A System does stuff System UNLOCK A system crashes point view attachment try make LOCK UNLOCK while loop works make LOCK UNLOCK Threads does works IllegalStateException DefaultPromise 3c519764
40	Lock TTL plan add TTL Lock operation Do confuse tryLock TIME refer situation thread is leave resource locked deadlock
67	RedissonList concurrency problem is rely size invocation return value mean calling subList size calls hasNext iterator is happens cause exception
83	Deadlock obtaining lock lock name was obtained held thread jvm released Redisson version used Thread gets stuck obtaining lock Running keys L redis cli returns list INFO jvm http  8080 exec 156 daemon prio tid nid wait INFO jvm State WAITING object monitor INFO jvm locked DefaultPromise
89	RedissonLock locks have thread locked trying release lock Thread state BLOCKED note have threads locked awaiting lock used thread checked threads jstack is output Thread state BLOCKED checked Redis state cli keys betCreation use production Redisson locks get locked application stalls  m using Redisson wait  bci Compiled frame information be wait int  bci line Compiled frame await0  bci line Compiled frame TimeUnit  bci line Compiled frame Future TimeUnit  bci line Compiled frame Future  bci line Compiled frame  bci line Compiled frame RedisConnection  bci line Compiled frame RedissonLock RedisConnection  bci line Compiled frame RedisConnection  bci line Compiled frame RedisConnection  bci line Compiled frame SyncOperation int  bci line Compiled frame SyncOperation  bci line Compiled frame unlock  bci line Compiled frame wait  bci Compiled frame information be wait  bci line Interpreted frame  bci line Interpreted frame  bci line Interpreted frame TimeUnit  bci line Interpreted frame  bci line Interpreted frame lock  bci line Interpreted frame key is corresponding thread blocked trying release lock threads are waiting lock are locked is one taking lock
106	RedissonList Iterator Race Conditions RedissonList iterator tries keep date data has race condition hasNext call set is emptied list throw NoSuchElementException
169	ConnectionManager call hangs exception is thrown Command processing Bug found cause MasterSlaveConnectionManager hang get call exception is thrown CommandHandler Pull request test case is proving bug bug fix proposition be published replicate bug use RedissonMap JsonJacksonCodec put instance class does have default constructor try fetch object using get call deserialization object fail MapOutput missing constructor thread calling get block details is happening get method awaits object is released is called call is executed decode method CommandHandler RedisStateMachine processes Redis response example RedisStateMachine throws exception be called result exception be set object is causing calling thread block get method
199	Concurrency Issues Today tried tests experiment Redisson performance using build master discovered concurrency issues  m state code is issues are known ones wanted make guys are have app Creates Redisson instance connection pool masters slaves creates thread pool using newFixedThreadPool feeds Runnables generates string adds end Deque do things Add millions queued Runnables Increase number threads add contains call Deque sec get ton exceptions do include code stack trace  s snippet INFO ClusterConnectionManager master slot range added INFO ClusterConnectionManager master slot range added INFO ClusterConnectionManager master slot range added nioEventLoopGroup WARN DefaultChannelPipeline An exceptionCaught event was fired reached tail pipeline means handler pipeline did handle exception DecoderException IllegalStateException CancellationException Caused IllegalStateException CancellationException nioEventLoopGroup  2 16 WARN DefaultChannelPipeline An exceptionCaught event was fired reached tail pipeline means handler pipeline did handle exception DecoderException IllegalStateException CancellationException Caused IllegalStateException CancellationException nioEventLoopGroup  2 5 WARN DefaultChannelPipeline An exceptionCaught event was fired reached tail pipeline means handler pipeline did handle exception nioEventLoopGroup  2 11 WARN DefaultChannelPipeline An exceptionCaught event was fired reached tail pipeline means handler pipeline did handle exception DecoderException IllegalStateException CancellationException Caused IllegalStateException CancellationException nioEventLoopGroup  2 7 WARN DefaultChannelPipeline An exceptionCaught event was fired reached tail pipeline means handler pipeline did handle exception nioEventLoopGroup  2 12 WARN DefaultChannelPipeline An exceptionCaught event was fired reached tail pipeline means handler pipeline did handle exception nioEventLoopGroup  2 3 WARN DefaultChannelPipeline An exceptionCaught event was fired reached tail pipeline means handler pipeline did handle exception DecoderException IllegalStateException CancellationException Caused IllegalStateException CancellationException nioEventLoopGroup  2 1 WARN DefaultChannelPipeline An exceptionCaught event was fired reached tail pipeline means handler pipeline did handle exception DecoderException IllegalStateException CancellationException Caused IllegalStateException CancellationException DecoderException IllegalStateException CancellationException Caused IllegalStateException CancellationException DecoderException IllegalStateException CancellationException Caused IllegalStateException CancellationException DecoderException IllegalStateException CancellationException Caused IllegalStateException CancellationException nioEventLoopGroup  2 12 WARN DefaultChannelPipeline An exceptionCaught event was fired reached tail pipeline means handler pipeline did handle exception DecoderException IllegalStateException CancellationException Caused IllegalStateException CancellationException nioEventLoopGroup  2 13 WARN DefaultChannelPipeline An exceptionCaught event was fired reached tail pipeline means handler pipeline did handle exception DecoderException IllegalStateException CancellationException Caused IllegalStateException CancellationException nioEventLoopGroup  2 10 WARN DefaultChannelPipeline An exceptionCaught event was fired reached tail pipeline means handler pipeline did handle exception DecoderException IllegalStateException CancellationException Caused IllegalStateException CancellationException nioEventLoopGroup  2 10 WARN DefaultChannelPipeline An exceptionCaught event was fired reached tail pipeline means handler pipeline did handle exception DecoderException IllegalStateException CancellationException Caused IllegalStateException CancellationException nioEventLoopGroup  2 10 WARN DefaultChannelPipeline An exceptionCaught event was fired reached tail pipeline means handler pipeline did handle exception DecoderException IllegalStateException CancellationException Caused IllegalStateException CancellationException nioEventLoopGroup  2 8 WARN DefaultChannelPipeline An exceptionCaught event was fired reached tail pipeline means handler pipeline did handle exception DecoderException IllegalStateException CancellationException Caused IllegalStateException CancellationException
254	EOFException use RLock SerializationCodec configure Redisson use SerializationCodec default JsonJacksonCodec run code environment threads use Lock object sync thread get exception unlock expiration sec version Redisson does t contain issues problem have use CountDown nioEventLoopGroup  4 7 WARN DefaultChannelPipeline An exceptionCaught event was fired reached tail pipeline means handler pipeline did handle exception DecoderException EOFException Caused EOFException
455	latency issue call Redis use Redisson implement distributed lock project run load test distributed lock using redis mode found are latency APIs  s latency APIs are 1000ms latency percent latecy is 15ms 30ms used jstack get call stack found threads are WAITING place following Processor prio tid nid wait State WAITING object monitor locked DefaultPromise test dumped network packages using tcpdump found took 1000ms package was sent Redis Redis server did find query latency is 10ms think latency API time be cost project network help have check give suggestion issue thanks
486	Rlock performance issue am using reddison Rlock cluster setup see latency trying acquire lock unlock saw issue opened zhxjouc   problem am working am getting latency thread is trying lock key code is running Java thread pool accessing redis notice work pool size latency getting lock working threads cause lock delay be thread issue think 1000ms is help get performance locking unlocking Thanks
491	Locks Happen lock Process Thread A is loop getting lock subscription Thread B has applied subscription waits result is thread dump lock happens concurrency happens application lock requests sink responses lock lease time has passed requests wait position is get subscribe opinion be thread removes netty listener is used thread happen way Thread A gets lock enters unsubscribe step removes listeners channel includes listener used Thread B causes Thread B get subscription response hang suggest apply ttl algorithm get step cost time has timeout lock be prevented work way
530	Deadlock lock want raise issue deadlocks claster servers was reproduce server happens rate means runs load JUnit test happens bug is exist making headache present loaded tasks case is happens client talks claster is located see thread is locked stuck get Future await line exits understand something object is staying state nobody change tried understand logics function is deals deals connection retry redirections end release fail object is nightmare promises futures made code read analyse BUG is am give thoughts
533	Exception using RedissonMultiLock have masters use server config create Redission instance RedissonMultiLock works redis nodes are shutdown redis nodes throw RedisConnectionException Exception thread RedisConnectionException init connections amount were initialized Server According Redlock algorithm try lock node throw exception Do use RedissonMultiLock tries acquire lock N instances using name value instances step setting lock instance client uses timeout is compared lock auto release time order acquire example auto release time is seconds timeout be milliseconds range prevents client remaining blocked time trying talk Redis node is instance is try talk instance
543	RLock trylock blocks Found seems was verifying pool  4 thread 5   prio os_prio tid nid waiting monitor entry 0x00007f15b90e5000 tryLock is called wait time thread blocks took thread dump looks stack pasted note environment are running Elasticache cluster AWS accessing EC2 instances have seen lot command timeouts am is way leading State BLOCKED object monitor waiting lock LockPubSub
757	Unlock does unlock unlock FairLock thread is delay threads see lock Example test clase static Logger log  Test info Attempting get lock executor
758	RReadWriteLock is was expecting RReadWriteLock be wiki page describes emphasis mine Redisson distributed reentrant ReadWriteLock object Java test see reentrancy clause ReentrantReadWriteLock Javadoc states writer acquire read lock vice versa use redisson relies locks being Thread does seem be case is bug configuration issue end app_1 WARN RedisLockService     Acquiring write lock app_1 WARN RedisLockService     Write lock acquired acquiring read lock app_1 WARN RedisLockService     Lock success
775	lock lost master failover update fail failover case lock is gone exception gets thrown update fails  ve found held locks disappear master slave failover block reschedule renewal attempt update fails RedissonLock update lock chaos pixel gun 2rQnzwnEeOcovlp1fBZCw expiration RedisTimeoutException Redis server response timeout ms occured command EVAL params call hexists KEYS ARGV call pexpire KEYS ARGV chaos pixel gun 2rQnzwnEeOcovlp1fBZCw key 4c47 bdc6 fff775044369 channel id 0x48ee8af7 0 0 0 0 0 0 0 0 56264
828	URIBuilder seems be thread Scenario Thread currentFactory is value start create URL Thread newFactory currentFactory start create URL Thread set URL factory URL call cause load handlers ebersb test case cluster setup went factory factory
889	Cache ops taking  m using Redisson JCache Provider cache operations are taking time execute be seen log cases takes minutes Taking thread dump noticed EJB async threads http executor threads were state generating queue async thread pool Thread dump threads thread dump be downloaded EJB async Thread t 1214 Locked synchronizers redisson  3 9 Thread t 1416 Locked synchronizers None redisson netty  1 9 Thread t 1297 Locked synchronizers None looks is lock issue do know solve WARN CacheResultInterceptor executor threads Cache result find took milliseconds State TIMED_WAITING parking wait Semaphore java locked ThreadPoolExecutor Worker State WAITING parking wait AbstractQueuedSynchronizer State locked SelectedSelectionKeySet locked Collections locked EPollSelectorImpl
891	RReadWriteLock is reentry r op using RReadWriteLock bug confuse time is logic problem ops write lock A succeed read lock A succeed read unlock A succeed write unlock A hold thread Assuming unlock op is holding check is holding check running environment op4 throw IllegalMonitorException  s follows write lock A succeed write lock A succeed write unlock A succeed write unlock A succeed found read unlock delete lock checking is write lock Is bug do need do way described ops yesterday fix
1048	are using redisson client application use RBatch batch commands test noticed hang time show error hang tried set lockWatchdogTimeout set batch timeout did help Redisson hang execute thread calling batch hung is stacktrack
1104	issue like report locking issue are seeing using redisson versions using RFairLock is redis is reporting occurences commands ran AM PST redis zrange redisson_lock_timeout mylock WITHSCORES dfaa 4b4e a691 cfee25458333 a8baa8c5 d42d  4912 9a1b e72d0728ae88 17cd3d41 8ea1 44c7 b458 a530aff209f0 redis lrange redisson_lock_queue mylock 17cd3d41 8ea1 44c7 b458 a530aff209f0 dfaa 4b4e a691 cfee25458333 a8baa8c5 d42d  4912 9a1b e72d0728ae88 see timeout zscore timeout keys is set hours future time Tuesday October AM GMT DST Tuesday October PM GMT DST Tuesday October PM GMT DST were using redisson version experienced issue days decided upgrade assuming problem was fixed happened hours keep trying reproduce issue help is appreciated Thanks Michael have instances application competing lock time timeout lock queue gets set time hours future thread gets lock have been reproduce issue is happening production environment are suspecting problem is happening application gets killed operating system kill  9 something happen way manage apps year tried updating version started seeing problem day reverted waited updated version
1268	hit issue server using Redission Redis Client do have thread executor handling subscribe unsubscribe channels week found got blocked server is thread print pool  12 thread 1   prio os_prio tid nid waiting condition 0x00007f9f6a2f6000 removeAllListeners got blocked await State WAITING parking parking wait CountDownLatch Sync removeAllListeners is respond request blocked acquireUninterruptibly FOREVER tried dig logs was exception thrown syncSubscription line Subscribe timeout 9500ms is related was Subscribe timeout message saw days logs issue happened do find prove Looks is case hit tried reproduce luck think removeAllListeners give option let caller pass timeout is going resolve root cause am wondering people have observed issue advise have ideas thanks
1433	calls RemoteService result exception behavior calls RemoteService result exception behavior calls RemoteService result exception Steps reproduce test case  Override  Override Redis version Redisson version Redisson configuration
1602	unlock fail expirationRenewal execute behavior unlock success behavior unlock fail Steps reproduce test case unlock client redis service network problem unlock throw Exception network recovery expirationRenewal execute Redis version Redisson version Redisson configuration connectionPoolSize connectionMinimumIdleSize address database password connectTimeout timeout
1626	Deadlock RedissonLock used JCache  ve ran number issues using Redisson implementation JCache bucket4j production rate limiting behavior  Override IllegalMonitorStateException cause IllegalMonitorStateException attempt unlock lock locked thread node id behavior Steps reproduce test case Issues verified redisson code review reproduce forcing timeout redis unlock call made RedissonLock leaving watchdog thread keep holding lock observing threads wait lock Redis version Redis AWS ElastiCache Redisson version Redisson issues appear be 3 8 0 Redisson configuration Stacktraces Timeout unlock time watchdog thread timing saving case watchdog thread fails does reschedule lock got released time update lock buckets SiBJapgTpcxaBHBLc5ZqSw expiration put K key V value calls lock lease time resulting RedissonLock creating watchdog thread renews lease lock Redis are using default lockWatchdogTimeout seconds thread runs seconds  ve seen is cases watchdog thread gets canceled meaning continues renewing lease instance containing thread is restarted causes deadlock threads trying grab lock bring application threads build Threads using RedissonLock wait lock be released is timeout waiting lock unlock method RedissonLock fail number reasons timing trying unlock Redis seconds happened case unlock fails watchdog thread is canceled means instance have be restarted release lock watchdog thread exist is issues gets destroyed lock is held lease time be used ensure lock is held be verified lock is held caller making updates check update time case thread does execute update lease time thread grabs lock Threads wait lock be timeout timeout unlock be retried lease time handle failure unlock reason watchdog thread is kept unlock needs ensure is canceled fails useReplicatedServers EntryProcessorException RedisTimeoutException Redis server response timeout ms occured command EVAL params call exists KEYS call publish KEYS ARGV return end buckets SiBJapgTpcxaB Sw key __ channel buckets SiBJapgTpcxa Sw key a6688b3a 07dc  4347 bd8c 060a3a86b32f channel id L com Caused RedisTimeoutException Redis server response timeout ms occured command EVAL params call exists KEYS call publish KEYS ARGV return end buckets SiBJapgTpcxaB __ channel buckets SiBJapgTpcx qSw key a6688b3a 07dc  4347 bd8c 060a3a86b32f channel id L com RedisTimeoutException Redis server response timeout ms occured command EVAL params call hexists KEYS ARGV call pexpire KEYS ARGV buckets SiBJapgTpcxaB qSw key a6688b3a 07dc  4347 bd8c 060a3a86b32f channel id L com
1950	PriorityBlockingQueue does release lock reconnect network behavior reconnect network behavior is lock name redisson_sortedset_lock testqueue dose release seem release lock cause network boke get lock network boke Steps reproduce test case run code blow setTimeout setMasterAddress redis  Override disconnect network wait minute reconnect network Redis version Redisson version Redisson configuration redisson netty  1 1 ERROR CommandDecoder decode data reply channel id 0xf819abf5 L R command CommandData promise RedissonPromise promise ImmediateEventExecutor failure CancellationException command EVAL params call exists KEYS call hset KEYS ARGV redisson_sortedset_lock testqueue c6d227cd fb96  4350 b26f 9f47f2bd029c LongCodec CancellationException redisson netty  1 6 ERROR CommandDecoder decode data reply channel id 0x25aa8d2b L R command CommandData promise RedissonPromise promise ImmediateEventExecutor failure CancellationException command EVAL params call hexists KEYS ARGV call pexpire KEYS ARGV redisson_sortedset_lock testqueue c6d227cd fb96  4350 b26f 9f47f2bd029c LongCodec CancellationException MasterSlaveServersConfig serverConfig useMasterSlaveServers
1966	Deadlock Redis timeout behavior Redis response timeout Redisson needs be operation Redis timeout allow lock unlock sections behavior task run thread lock feature task runs thread deadlock occurs Steps reproduce test case Start Redis Force timeout Redis runnning client pause command CLIENT PAUSE Redis version Redisson version Redisson configuration server default Redis response timeout attempts Redisson adds lock scheduled renew task remove application enters deadlock lock renewed unlock
2099	RedissonFairLock timeout drift  ve discovered conditions produce timeout drift described   summarize issue see timeouts redisson_lock_timeout sorted set created RedissonFairLock increase time be hours days future queue containing threads condition continues wait queue empties threads dies rest threads are forced wait timeout thread lapse creates lock situation behavior behavior is is documented paragraph Lock HGETALL example_fair_lock lock name thread redisson_lock_queue example_fair_lock  1 lock name thread lock name thread lock name thread lock name thread lock name thread lock name thread redisson_lock_timeout example_fair_lock WITHSCORES lock name thread lock timeout 5s lock name thread lock timeout 10s lock name thread lock timeout 15s lock name thread lock timeout 20s lock name thread lock timeout 25s lock name thread lock timeout 30s see thread need wait 25s lock expiration based lease time acquire lock 1st threads die redisson_lock_timeout example_fair_lock WITHSCORES lock name thread lock timeout 5s lock name thread lock timeout 10s lock name thread lock timeout 15s lock name thread lock timeout 20s lock name thread lock timeout 25s thread need wait 20s lock expiration acquire lock threads died behavior usages redisson use lock using servers using instance Redisson running following code thread server Steps reproduce test case PR contain test cases hope cover code changes produce behavior described Redis version Redisson version Redisson configuration run redis server use redisson provide PR follow test cases proposed changes fix issue appreciate feed misunderstanding issue described do feedback PR waiting threads are queued thread has died Redisson waits return seconds example threads are died reason delay be seconds example replicates documentation given have threads trying take lock expect redis data structures contain following threads try acquire lock using tryLock threadId order delays expect thread leaves leaves queue wait timeout acquiring lock timeouts adjust thread was queue example thread example left queue acquireFailedAsync call wait timeout sorted set be expected be observe work done locked portion code take 100ms server threads running code churn lock queue issue queue is is time thread unlocks locks take snapshots redisson_lock_timeout sorted set tend see timeouts increase increments 5s time timeouts are hours days future servers is killed observe servers stop doing work are timing trying get lock server lock holding position redisson_lock_queue timeout redisson_lock_timeout be hours days future expect case lose server timeout values be range 35s future time 5s lease time 5s thread wait time position queue be said lock usage be working chance deadlock provide PR issue follow test cases added RedissonFairLockTest started was modification testTimeoutDrift changed wait time 500ms 3s changed lock holding time 30s 100ms see sleep test case tryLock failing wait timeout threads are lock unlock lock version test test fails timeout drift futre way test failed
2278	RedissonFairLock deadlock Seems related change   have tried upgrade behavior started occurring behavior FairLock acquired load system lease time defined behavior Redisson does handle case lock lease time load threads are asking lock key client is thread acquires lock Steps reproduce test case  Override  Override Redis version Redisson version Redisson configuration defaults ExecutorService executorService ThreadPoolExecutor MAX_VALUE 1000L MILLISECONDS sleep
2355	behavior behavior Steps reproduce test case rabbitmq thread 1awaiting notification 0x00000005e298c400 holding 0x00000005cad3ebd0 code goes  Override IllegalMonitorStateException cause IllegalMonitorStateException attempt unlock lock locked thread node id add check timeout ExpirationEntry object Redis version Redisson version Redisson configuration Default configuration sentinel servers unlock hangs waiting RedissonPromise Calls unlock are expected finish lock has been deleted Redis have experienced threads locked waiting calls unlock production system hours upgrading Redisson Redisson 3 8 0 am reproduce problem computer have experienced production servers hours starting version application updated Redisson version upgraded order receive fixes bug   Deadlock Redis timeout experienced couple times start have found exceptions logs coming redisson threads redisson netty  5 24 WARN DefaultPromise An exception was thrown operationComplete NullPointerException were investigating issues blocked threads analyzing thread dumps threads had stack trace examining source code java have found NullPointerException occurs missing timeout object task  m solve root cause getTimeout returns calls cancelExpirationRenewal method fail exception g method future receive result failure had return version problem think is
2575	RedissonLock fails unsubscribe channel lock is acquired behavior pub sub channels are created trying acquire lock RedissonLock be unsubscribed needed behavior pub sub channels are meaning client did unsubscribe locks are used expired were unlocked channels are cleaned 24h created workaround get rid is restart client Steps reproduce test case use limits subscription connection pool size subscriptions connection increase probability see bug wait error shows Subscribe timeout 7500ms Increase subscriptionsPerConnection parameters connect Redis server fetch lock keys pub sub channels number pub sub channels locks bug was reproduced number pub sub channels does decrease locks are being created means subscriptions have leaked are used RedissonLock implementation Redis version Redisson version Redisson configuration redisson server connection timeout ping timeout connect timeout timeout connection pool size connection minimum size subscription connection pool size subscriptions connection was observed caused connection leak calling RedissonLock obtain locks returned error Subscribe timeout 7500ms Increase subscriptionsPerConnection parameters have increased limits order have workaround bug use java implementation method lockInterruptibly leaseTime TimeUnit unit obtain locks url
2690	RedissonSessionRepository topic listeners initialization has race condition ’ve migrated using RedissonSessionRepository Spring sessions get NPEs startup looks issue is listener is added topics are initialized matching onMessage does go order initialization NullPointerException
2692	RedissonSession  changeSessionId expiredKey race condition Stacktrace have number instances app production ’ve encountered race condition session have changeSessionId invoked session servers means server receive  2 PTTL is handled RedisException ERR expire time psetex channel id 0xf8f93a9c L redacted R redacted command PSETEX params spring session sessions expires session id  2 PooledUnsafeDirectByteBuf ridx widx cap
2714	behavior tryLock is interrupted watchdog renew listener is cancelled behavior tryLock is interrupted watchdog keeps renewing lock makes lock Steps reproduce test case Redis version does matter Redisson version Redisson configuration tryLock interrupted keep renew lock sleep 45000L default watchdog time
2883	RedissonFairLock deadlock version spring boot redisson spring boot starter redis test case  GetMapping testRedisson  Override  Override RedissonFairLock result endLok were printed use RedissonLock be print redis has redisson_lock_queue 4e6cbfe2 1dc0  4956 bec3 ba9aaf16f63e redisson_lock_timeout 4e6cbfe2 1dc0  4956 bec3 ba9aaf16f63e Blocking program running redisson_lock_queue 4e6cbfe2 1dc0  4956 bec3 ba9aaf16f63e 19df2c25 acc0 42c1 b1a3 19df2c25 acc0 42c1 b1a3 19df2c25 acc0 42c1 b1a3 19df2c25 acc0 42c1 b1a3 19df2c25 acc0 42c1 b1a3 19df2c25 acc0 42c1 b1a3 19df2c25 acc0 42c1 b1a3 19df2c25 acc0 42c1 b1a3 19df2c25 acc0 42c1 b1a3 19df2c25 acc0 42c1 b1a3 19df2c25 acc0 42c1 b1a3 redisson_lock_timeout 4e6cbfe2 1dc0  4956 bec3 ba9aaf16f63e WITHSCORES 19df2c25 acc0 42c1 b1a3 19df2c25 acc0 42c1 b1a3 19df2c25 acc0 42c1 b1a3 19df2c25 acc0 42c1 b1a3 19df2c25 acc0 42c1 b1a3 19df2c25 acc0 42c1 b1a3 19df2c25 acc0 42c1 b1a3 19df2c25 acc0 42c1 b1a3 19df2c25 acc0 42c1 b1a3 19df2c25 acc0 42c1 b1a3 19df2c25 acc0 42c1 b1a3 ExecutorService executorService ThreadPoolExecutor MAX_VALUE 1000L SECONDS sleep 200ms
3484	thread get lock subject run method time leaseTime is  1  s leaseTime is thread cam cam set internalLockLeaseTime thread came set internalLockLeaseTime leaseTime get redis lock cause watchDog invaild lock be expired time return nil end return nil end be concurrency problems RedissonLock  tryLockInnerAsync return evalWriteAsync getName INSTANCE command call exists KEYS call hincrby KEYS ARGV call pexpire KEYS ARGV call hexists KEYS ARGV call hincrby KEYS ARGV call pexpire KEYS ARGV return call pttl KEYS
4033	multilock fail behavior lock behavior lock fail get lock lock case Steps reproduce test case set waitTime lock fail set waitTime RLock success debug RedissonMultiLock Line think is bug RedissonMultiLock Redis version Redisson version Redisson configuration server remainTime currentTimeMillis time remainTime is end lock flow
4064	Thread problem acquiring locks resulting pubsub channel being unsubscribed seems be related behavior pub sub channels are created trying acquire lock RedissonLock be unsubscribed needed behavior cases pub sub channels are created time lock keys throws error Subscribe timeout 7500ms Increase subscriptionsPerConnection parameters see logging test case notice thread pool  1 thread 12 locks thread pool  1 thread 19 tries lock lockkey throws subscribe timeout exception notice does wait 7500ms is locking going app is running kept channel lockkey CHANNELS redisson_lock channel lock logging test case fails Steps reproduce test case does fail runs locks issues throws error puts channel failed state  Slf4j setSubscriptionConnectionPoolSize setSubscriptionConnectionMinimumIdleSize setSubscriptionsPerConnection Redis version Redisson version Redisson configuration see testcase error failed lock key lock locked is locked thread fail pool  1 thread 27 INFO ReddisTest unlock lock pool  1 thread 27 INFO ReddisTest lock lock pool  1 thread 27 INFO ReddisTest lock lock pool  1 thread 13 INFO ReddisTest unlock lock pool  1 thread 13 INFO ReddisTest lock lock pool  1 thread 22 INFO ReddisTest lock lock pool  1 thread 6 INFO ReddisTest unlock lock pool  1 thread 24 INFO ReddisTest unlock lock pool  1 thread 24 INFO ReddisTest lock lock pool  1 thread 6 INFO ReddisTest lock lock pool  1 thread 12 INFO ReddisTest unlock lock pool  1 thread 12 INFO ReddisTest lock lock pool  1 thread 27 INFO ReddisTest unlock lock pool  1 thread 27 INFO ReddisTest lock lock pool  1 thread 31 INFO ReddisTest lock lock pool  1 thread 19 INFO ReddisTest lock lock pool  1 thread 4 INFO ReddisTest lock lock pool  1 thread 12 INFO ReddisTest lock lock pool  1 thread 31 INFO ReddisTest unlock lock pool  1 thread 31 INFO ReddisTest lock lock pool  1 thread 13 INFO ReddisTest lock lock pool  1 thread 22 INFO ReddisTest unlock lock pool  1 thread 4 INFO ReddisTest unlock lock pool  1 thread 22 INFO ReddisTest lock lock pool  1 thread 4 INFO ReddisTest lock lock pool  1 thread 20 INFO ReddisTest lock lock pool  1 thread 16 INFO ReddisTest lock lock pool  1 thread 19 INFO ReddisTest unlock lock pool  1 thread 19 INFO ReddisTest lock lock pool  1 thread 19 ERROR ReddisTest e RedisTimeoutException Subscribe timeout 7500ms Increase subscriptionsPerConnection parameters useSingleServer