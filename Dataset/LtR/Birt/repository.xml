<bugrepository name="Birt">
    <bug id="123840" opendate="2006-01-13 17:17:07" fixdate="2006-01-17 02:26:39" resolution="Fixed">
        <buginformation>
            <summary>Incorrect use of static fields in NEvaluator and FilterPassControllerData Engine classes
                org.eclipse.birt.data.engine.script.NEvaluator and FilterPassController (used for top-n and bottom-n
                filter process) use static class fields to store proessing data.
            </summary>
            <description>This is not multi-thread safe.
                If there are concurrent requests running in the same JVM (even if they use different instances of
                DataEngine), data corruption will occur since multiple requests may get/set the static fields at the
                same time.

                These classes should keep all per-request data in instance fields. Each report query need to have its
                own instance.
            </description>
            <version>1.1.0</version>
            <fixedVersion>2.6.1</fixedVersion>
            <type>Bug</type>
        </buginformation>
        <fixedFiles>
            <file type="M">org.eclipse.birt.data.engine.script.FilterPassController.java</file>
            <file type="M">org.eclipse.birt.data.engine.script.NEvaluator.java</file>
            <file type="M">org.eclipse.birt.data.engine.script.ScriptEvalUtil.java</file>
        </fixedFiles>
    </bug>
    <bug id="208512" opendate="2007-11-02 04:07:22" fixdate="2007-11-09 22:31:16" resolution="Fixed">
        <buginformation>
            <summary>Classes in package org.eclipse.birt.data.engine.odaconsumer have multithreads issuesClasses in
                package org.eclipse.birt.data.engine.odaconsumer are not thread-safe.
            </summary>
            <description></description>
            <version>1.1.0</version>
            <fixedVersion>2.6.1</fixedVersion>
            <type>Bug</type>
        </buginformation>
        <fixedFiles>
            <file type="M">org.eclipse.birt.data.engine.odaconsumer.ConnectionManager.java</file>
            <file type="M">org.eclipse.birt.data.engine.odaconsumer.DriverManager.java</file>
            <file type="M">org.eclipse.birt.data.engine.odaconsumer.LogHelper.java</file>
        </fixedFiles>
    </bug>
    <bug id="284367" opendate="2009-07-23 02:52:53" fixdate="2009-08-27 03:02:39" resolution="Fixed">
        <buginformation>
            <summary>org.eclipse.birt.data.engine.executor.DataSourceFactory isn't thread safe.</summary>
            <description></description>
            <version>1.1.0</version>
            <fixedVersion>2.6.1</fixedVersion>
            <type>Bug</type>
        </buginformation>
        <fixedFiles>
            <file type="M">org.eclipse.birt.data.engine.executor.DataSourceFactory.java</file>
            <file type="M">org.eclipse.birt.data.engine.odaconsumer.ConnectionManager.java</file>
        </fixedFiles>
    </bug>
    <bug id="287102" opendate="2009-08-19 13:13:19" fixdate="2012-10-31 10:02:38" resolution="Fixed">
        <buginformation>
            <summary>Classloader deadlock related to
                org.eclipse.birt.core.framework.osgi.OSGILauncher$ChildFirstURLClassLoader.
            </summary>
            <description></description>
            <version>1.1.0</version>
            <fixedVersion>2.6.1</fixedVersion>
            <type>Bug</type>
        </buginformation>
        <fixedFiles>
            <file type="M">org.eclipse.birt.core.framework.osgi.OSGILauncher.java</file>
        </fixedFiles>
    </bug>
    <bug id="314645" opendate="2010-05-27 08:56:40" fixdate="2010-08-06 05:15:49" resolution="Fixed">
        <buginformation>
            <summary>XML Datasource is not Thread-Safe when passing data as InputStream.
            </summary>
            <description>Build Identifier: Eclipse Build id: 20090920-1017 / BIRT Runtime 2.5.1 + 2.5.2

                When passing XML-data to the IRunTask in a multi-threaded application, some of the resulting
                .rptdocument files will be corrupted.

                The error only occures when passing an InputStream using the setAppContext method:
                ctxMap.put("org.eclipse.birt.report.data.oda.xml.inputStream", new FileInputStream("data.xml"));
                ctxMap.put("org.eclipse.birt.report.data.oda.xml.closeInputStream", new Boolean(true));
                task.setAppContext(ctxMap);

                This warning will be written to the log: "WARNUNG: Exceptions occur during xml parsing" (see attachments
                for stackstrace)


                Reproducible: Sometimes

                Steps to Reproduce:
                1. Run the sample application in the attachments (use the -Xmx1024m VM-Argument to avoid our of memory
                errors
                2. Wait till the log shows the this warning: WARNUNG: Exceptions occur during xml parsing
                3. Kill the sample application process
                4. Analyze the generated rptdocument files (sort by ascending file size to find corrupted files)
            </description>
            <version>1.1.0</version>
            <fixedVersion>2.6.1</fixedVersion>
            <type>Bug</type>
        </buginformation>
        <fixedFiles>
            <file type="M">org.eclipse.birt.data.engine.odaconsumer.ConnectionManager.java</file>
            <file type="M">org.eclipse.birt.data.engine.odaconsumer.Driver.java</file>
            <file type="M">org.eclipse.birt.data.engine.odaconsumer.DriverManager.java</file>
        </fixedFiles>
    </bug>
    <bug id="195335" opendate="2007-07-04 01:49:49" fixdate="2007-07-11 01:24:24" resolution="Fixed">
        <buginformation>
            <summary>Multithreads issue.
            </summary>
            <description>a static hashmap in class HTMLServerImageHandler has not been synchronized which may leads to
                that the same images are handled(eg: write to disk) multiple times.
            </description>
            <version>1.1.0</version>
            <fixedVersion>2.6.1</fixedVersion>
            <type>Bug</type>
        </buginformation>
        <fixedFiles>
            <file type="M">org.eclipse.birt.report.engine.api.HTMLServerImageHandler.java</file>
        </fixedFiles>
    </bug>
</bugrepository>