Incorrect sequence number for cache flushAn HRegion asks each HStore to flush its cache with a sequence number X. 
The assumption is that all the updates before X will be flushed. 
So during the startup reconstruction, the updates before X are skipped.
The use of updatesLock should guarantee that all the updates before X will be flushed when HStore flushes with X - snapshots are taken after the write lock on updatesLock is acquired, while all the updates are written to the log and to the cache with the read lock on updatesLock is acquired. However, because the sequence number X is obtained without the write lock on updatesLock, some updates with sequence number X may not have been written to the cache which will be flushed.