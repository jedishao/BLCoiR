Replication remove_peer gets stuck and blocks WAL rollingWe use a blocking take from CompletionService in HBaseInterClusterReplicationEndpoint. 
When we remove a peer, we try to shut down all threads gracefully. 
But, under certain race condition, the underlying executor gets shutdown and the CompletionService#take will block forever, which means the remove_peer call will never gracefully finish.
Since ReplicationSourceManager#removePeer and ReplicationSourceManager#recordLog lock on the same object, we are not able to roll WALs in such a situation and will end up with gigantic WALs.