<!-- 
RSS generated by JIRA (6.3.4#6332-sha1:51bc225ef474afe3128b2f66878477f322397b16) at Sun Nov 20 00:13:05 UTC 2016

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary add field=key&field=summary to the URL of your request.
For example:
https://issues.apache.org/jira/si/jira.issueviews:issue-xml/MATH-995/MATH-995.xml?field=key&amp;field=summary
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>6.3.4</version>
        <build-number>6332</build-number>
        <build-date>15-08-2014</build-date>
    </build-info>

<item>
            <title>[MATH-995] Adaptive division of segments in Quadrature  Legendre-Gauss</title>
                <link>https://issues.apache.org/jira/browse/MATH-995</link>
                <project id="12310485" key="MATH">Commons Math</project>
                    <description>&lt;p&gt;I think the existing Legendre-Gauss object fails for certain integrals. An example of failure and a solution that divides segments based on error is provided. Please let me know if I&apos;m not using the Legendre-Gauss object correctly.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12653966">MATH-995</key>
            <summary>Adaptive division of segments in Quadrature  Legendre-Gauss</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/bug.png">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.png">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="ajo.fod">Ajo Fod</reporter>
                        <labels>
                    </labels>
                <created>Thu, 20 Jun 2013 16:40:12 +0000</created>
                <updated>Mon, 19 May 2014 15:13:21 +0000</updated>
                            <resolved>Fri, 12 Jul 2013 11:06:22 +0000</resolved>
                                                    <fixVersion>3.3</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>3</watches>
                                                                <comments>
                            <comment id="13689796" author="ajo.fod" created="Thu, 20 Jun 2013 22:51:57 +0000"  >&lt;p&gt;The attached files show how to use AdaptiveQuadrature and how the existing method fails. I&apos;ve wrapped the IterativeLegendreGaussIntegrator in an InfiniteIntegral object to show a specific instance of a failure of the class. The AdaptiveQuadrature object is more efficient at solving problems (in function evaluation counts) because it selectively increases resolution where the error is high. &lt;/p&gt;

&lt;p&gt;This problem is not limited to infinite integrals because the underlying IterativeLegendreGaussIntegrator is integrating in the region &lt;span class=&quot;error&quot;&gt;&amp;#91;-1,1&amp;#93;&lt;/span&gt;. &lt;/p&gt;

&lt;p&gt;The attached solution uses 1st and 2nd order polynomials, but it can be generalized to a higher order polynomial solutions.&lt;/p&gt;</comment>
                            <comment id="13695069" author="erans" created="Thu, 27 Jun 2013 21:29:41 +0000"  >&lt;p&gt;Your &quot;InfiniteIntegral&quot; class instantiates an &quot;IterativeLegendreGaussIntegrator&quot; with only 3 sample points.&lt;br/&gt;
Could you test whether the problem persists when increasing the number of points?&lt;/p&gt;</comment>
                            <comment id="13695613" author="ajo.fod" created="Fri, 28 Jun 2013 17:58:45 +0000"  >&lt;p&gt;These patches show the failure of the LGQ and the success of the Adaptive method. The adaptive method uses a fixed resolution quadrature (3) ... the concept itself is more general and work with higher orders. I&apos;ve left system printline code to show failure/success ... feel free to remove/edit the code if you chose to accept it.&lt;/p&gt;</comment>
                            <comment id="13695749" author="erans" created="Fri, 28 Jun 2013 20:22:27 +0000"  >&lt;p&gt;In revision 1497904, I&apos;ve added a unit test.&lt;br/&gt;
One step at a time: can we first figure out &lt;em&gt;what&lt;/em&gt; exactly is going wrong?&lt;/p&gt;</comment>
                            <comment id="13697363" author="ajo.fod" created="Tue, 2 Jul 2013 00:32:04 +0000"  >&lt;p&gt;Look at the digits in accuracy per evaluation for LGQ vs AQ&lt;/p&gt;</comment>
                            <comment id="13697439" author="ajo.fod" created="Tue, 2 Jul 2013 02:48:26 +0000"  >&lt;p&gt;An improvement in accuracy as suggested by Konstantin. This avoids the redundant computations in of the middle function values.&lt;/p&gt;</comment>
                            <comment id="13700072" author="erans" created="Thu, 4 Jul 2013 13:54:11 +0000"  >&lt;p&gt;I attached plots that hint to why the &quot;IterativeGaussLegendreIntegrator&quot; is not adapted to this particular change of variable.&lt;br/&gt;
It appears to be a limitation of the algorithm but not a bug in the implementation.&lt;/p&gt;</comment>
                            <comment id="13700090" author="erans" created="Thu, 4 Jul 2013 14:30:56 +0000"  >&lt;p&gt;The ML contains a &lt;a href=&quot;http://markmail.org/message/vshi3gka7a7tdvbb&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;lengthy discussion&lt;/a&gt; about this issue, that is drifting away from the original report about a bug in CM.&lt;/p&gt;

&lt;p&gt;A warning has been added (revision 1499765) in the class&apos;s Javadoc to avoid the kind of usage that hits the limitation of this algorithm.&lt;/p&gt;

&lt;p&gt;Adaptive strategies are nice features to have in CM; but such a request belongs to another report, and how to best implement them in CM should be discussed in a specific thread on the &quot;dev&quot; ML.&lt;/p&gt;
</comment>
                            <comment id="13706067" author="ajo.fod" created="Thu, 11 Jul 2013 18:21:43 +0000"  >&lt;p&gt;I like the plots ... does explain what is happening. &lt;/p&gt;

&lt;p&gt;However, if the IterativeGaussLegendreIntegrator is retained in the codebase, I&apos;d suggest at the very least reporting on the non-convergence of the integration process or throwing an exception when the integration does&apos;nt converge. Otherwise, any user of the code is likely to have to deal with expensive debugging session ... not good for confidence.&lt;/p&gt;</comment>
                            <comment id="13706230" author="erans" created="Thu, 11 Jul 2013 21:07:59 +0000"  >&lt;blockquote&gt;&lt;p&gt;&lt;span class=&quot;error&quot;&gt;&amp;#91;...&amp;#93;&lt;/span&gt; if the IterativeGaussLegendreIntegrator is retained in the codebase &lt;span class=&quot;error&quot;&gt;&amp;#91;...&amp;#93;&lt;/span&gt;&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;It is not the only instance where CM contains an algorithm that has shortcomings or drawbacks. Not every condition that leads to (numerical) problems can be easily characterized, short of seeing that the result is incorrect.&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;I recall a discussion about the &amp;quot;Regula falsi&amp;quot; root solver where the algorithm was stuck in an infinite loop; in that case it was possible to cheaply test for the condition and throw an exception.&amp;#93;&lt;/span&gt;&lt;/p&gt;

&lt;p&gt;The Javadoc now draws attention that the algorithm is not 100% fool-proof.&lt;/p&gt;</comment>
                            <comment id="13706633" author="ajo.fod" created="Fri, 12 Jul 2013 04:18:06 +0000"  >&lt;p&gt;Well, I suppose if there is nothing one can do, you might as well mark this issue closed.&lt;/p&gt;</comment>
                            <comment id="13706858" author="erans" created="Fri, 12 Jul 2013 11:04:55 +0000"  >&lt;p&gt;When some issue has been dealt with, it is first marked as &quot;resolved&quot;; it is &quot;closed&quot; post release.&lt;/p&gt;</comment>
                            <comment id="13706861" author="erans" created="Fri, 12 Jul 2013 11:06:22 +0000"  >&lt;p&gt;Warning added (in r1499765) in the code documentation (cf. comment above).&lt;/p&gt;</comment>
                            <comment id="14001781" author="luc" created="Mon, 19 May 2014 15:13:21 +0000"  >&lt;p&gt;Closing all resolved issue now available in released 3.3 version.&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10020">
                    <name>Cloners</name>
                                            <outwardlinks description="is a clone of">
                                        <issuelink>
            <issuekey id="12653952">MATH-994</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="12590891" name="gaussian__sigma_1.png" size="18082" author="erans" created="Thu, 4 Jul 2013 13:54:11 +0000"/>
                            <attachment id="12590892" name="gaussian__sigma_1000.png" size="12274" author="erans" created="Thu, 4 Jul 2013 13:54:11 +0000"/>
                            <attachment id="12590893" name="gaussian__sigma_1000_zoom.png" size="16294" author="erans" created="Thu, 4 Jul 2013 13:54:11 +0000"/>
                            <attachment id="12590359" name="patch-code" size="2908" author="ajo.fod" created="Tue, 2 Jul 2013 02:48:26 +0000"/>
                            <attachment id="12590343" name="patch-code" size="3261" author="ajo.fod" created="Tue, 2 Jul 2013 00:32:04 +0000"/>
                            <attachment id="12590064" name="patch-code" size="5883" author="ajo.fod" created="Fri, 28 Jun 2013 17:58:45 +0000"/>
                            <attachment id="12590065" name="patch-test" size="3767" author="ajo.fod" created="Fri, 28 Jun 2013 17:58:45 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>7.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Thu, 27 Jun 2013 21:29:41 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>334243</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            2 years, 26 weeks, 5 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1lnp3:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>334569</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        </customfields>
    </item>
</channel>
</rss>