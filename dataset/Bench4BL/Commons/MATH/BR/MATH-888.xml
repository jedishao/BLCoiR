<!-- 
RSS generated by JIRA (6.3.4#6332-sha1:51bc225ef474afe3128b2f66878477f322397b16) at Sat Nov 19 22:53:52 UTC 2016

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary add field=key&field=summary to the URL of your request.
For example:
https://issues.apache.org/jira/si/jira.issueviews:issue-xml/MATH-888/MATH-888.xml?field=key&amp;field=summary
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>6.3.4</version>
        <build-number>6332</build-number>
        <build-date>15-08-2014</build-date>
    </build-info>

<item>
            <title>[MATH-888] GammaDistribution returns infinite density when cdf = 1</title>
                <link>https://issues.apache.org/jira/browse/MATH-888</link>
                <project id="12310485" key="MATH">Commons Math</project>
                    <description>&lt;p&gt;When GammaDistribution.cumulativeProbability = 1, then GammaDistribution.density may return Infinite - but it should return 0.&lt;br/&gt;
Here is sample java code which demonstrates this issue, with results. Note that when pass the point at which cumulativeProbability = 1, the density stays &amp;gt; 0, though very small (pdf should be 0 when cdf = 1) - but as continue, then cdf stays 1, but pdf becomes infinite. This is seen most clearly in the second set of data below.&lt;/p&gt;


&lt;p&gt;package ApacheTester;&lt;/p&gt;

&lt;p&gt;import org.apache.commons.math3.distribution.GammaDistribution;&lt;/p&gt;

&lt;p&gt;public class GammaDistributionTester&lt;br/&gt;
{&lt;br/&gt;
    public static void main(String[] args)&lt;br/&gt;
    {&lt;br/&gt;
        double mean = 10.118627813856065;&lt;br/&gt;
        double std  = 0.8934747186204953;&lt;br/&gt;
        double alpha = (mean*mean)/(std*std);&lt;br/&gt;
        double beta = (std*std)/mean;&lt;br/&gt;
        System.out.println(&quot;alpha: &quot; + alpha);&lt;br/&gt;
        System.out.println(&quot;beta: &quot; + beta);&lt;/p&gt;

&lt;p&gt;        GammaDistribution gd = new GammaDistribution(alpha, beta);&lt;/p&gt;

&lt;p&gt;        for (int i=0; i&amp;lt;25; i++)&lt;/p&gt;
        {
            double pdf = gd.density(i);
            double cdf = gd.cumulativeProbability(i);
            System.out.println(&quot;i=&quot; + i + &quot;; pdf=&quot; + pdf + &quot;; cdf=&quot; + cdf);            
        }
&lt;p&gt;        System.out.println();&lt;/p&gt;

&lt;p&gt;        for (int i=0; i&amp;lt;20; i++)&lt;/p&gt;
        {
            double x = 19.0 + (.1 * i);
            double pdf = gd.density(x);
            double cdf = gd.cumulativeProbability(x);
            System.out.println(&quot;x=&quot; + x + &quot;; pdf=&quot; + pdf + &quot;; cdf=&quot; + cdf);            
        }
&lt;p&gt;    }&lt;br/&gt;
}&lt;/p&gt;

&lt;p&gt;Here&apos;s results of running above test:&lt;/p&gt;

&lt;p&gt;alpha: 128.25629996917283&lt;br/&gt;
beta: 0.07889380729280462&lt;br/&gt;
i=0; pdf=0.0; cdf=0.0&lt;br/&gt;
i=1; pdf=8.663477060371509E-79; cdf=7.488555717749243E-81&lt;br/&gt;
i=2; pdf=5.5062704634862175E-46; cdf=1.0676382015037016E-47&lt;br/&gt;
i=3; pdf=4.413483488439264E-29; cdf=1.4607150065658644E-30&lt;br/&gt;
i=4; pdf=1.0945225959157887E-18; cdf=5.599255664602861E-20&lt;br/&gt;
i=5; pdf=7.35929647596093E-12; cdf=5.590805261026197E-13&lt;br/&gt;
i=6; pdf=2.7437881760964153E-7; cdf=3.0732983691238435E-8&lt;br/&gt;
i=7; pdf=2.8376132639470645E-4; cdf=4.7826733420766874E-5&lt;br/&gt;
i=8; pdf=0.021281179160656388; cdf=0.005695853765034336&lt;br/&gt;
i=9; pdf=0.2151187723352627; cdf=0.10175065472250033&lt;br/&gt;
i=10; pdf=0.44751658755472723; cdf=0.4586536845007119&lt;br/&gt;
i=11; pdf=0.259114059558244; cdf=0.8385256983930766&lt;br/&gt;
i=12; pdf=0.05218255030958943; cdf=0.9781383380332821&lt;br/&gt;
i=13; pdf=0.004329365023697574; cdf=0.9986058018679428&lt;br/&gt;
i=14; pdf=1.6878342979402664E-4; cdf=0.9999549514385939&lt;br/&gt;
i=15; pdf=3.431947471368873E-6; cdf=0.9999992047520807&lt;br/&gt;
i=16; pdf=3.9588967227014906E-8; cdf=0.9999999917873332&lt;br/&gt;
i=17; pdf=2.7752325350928474E-10; cdf=0.9999999999473412&lt;br/&gt;
i=18; pdf=1.2515801802459923E-12; cdf=0.9999999999997794&lt;br/&gt;
i=19; pdf=3.808710263354571E-15; cdf=0.9999999999999993&lt;br/&gt;
i=20; pdf=8.143130333262255E-18; cdf=1.0&lt;br/&gt;
i=21; pdf=Infinity; cdf=1.0&lt;br/&gt;
i=22; pdf=Infinity; cdf=1.0&lt;br/&gt;
i=23; pdf=Infinity; cdf=1.0&lt;br/&gt;
i=24; pdf=Infinity; cdf=1.0&lt;/p&gt;

&lt;p&gt;x=19.0; pdf=3.808710263354571E-15; cdf=0.9999999999999993&lt;br/&gt;
x=19.1; pdf=2.0912827149653448E-15; cdf=0.9999999999999997&lt;br/&gt;
x=19.2; pdf=1.144280754920214E-15; cdf=0.9999999999999998&lt;br/&gt;
x=19.3; pdf=6.239549206021272E-16; cdf=0.9999999999999999&lt;br/&gt;
x=19.4; pdf=3.3907057624200243E-16; cdf=1.0&lt;br/&gt;
x=19.5; pdf=1.8363629496980252E-16; cdf=1.0&lt;br/&gt;
x=19.6; pdf=9.912278358035803E-17; cdf=1.0&lt;br/&gt;
x=19.7; pdf=5.332732516340122E-17; cdf=1.0&lt;br/&gt;
x=19.8; pdf=2.8595785047900534E-17; cdf=1.0&lt;br/&gt;
x=19.9; pdf=1.5284263208928833E-17; cdf=1.0&lt;br/&gt;
x=20.0; pdf=8.143130333262255E-18; cdf=1.0&lt;br/&gt;
x=20.1; pdf=4.324705899342647E-18; cdf=1.0&lt;br/&gt;
x=20.2; pdf=2.2895693394216285E-18; cdf=1.0&lt;br/&gt;
x=20.3; pdf=1.2083606178165914E-18; cdf=1.0&lt;br/&gt;
x=20.4; pdf=6.357672846520565E-19; cdf=1.0&lt;br/&gt;
x=20.5; pdf=Infinity; cdf=1.0&lt;br/&gt;
x=20.6; pdf=Infinity; cdf=1.0&lt;br/&gt;
x=20.7; pdf=Infinity; cdf=1.0&lt;br/&gt;
x=20.8; pdf=Infinity; cdf=1.0&lt;br/&gt;
x=20.9; pdf=Infinity; cdf=1.0&lt;/p&gt;
</description>
                <environment>&lt;p&gt;Windows 7&lt;/p&gt;</environment>
        <key id="12614053">MATH-888</key>
            <summary>GammaDistribution returns infinite density when cdf = 1</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/bug.png">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.png">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="zhochberg">Zev Hochberg</reporter>
                        <labels>
                    </labels>
                <created>Tue, 30 Oct 2012 17:08:41 +0000</created>
                <updated>Thu, 2 May 2013 02:29:57 +0000</updated>
                            <resolved>Fri, 23 Nov 2012 11:42:39 +0000</resolved>
                                    <version>3.0</version>
                                    <fixVersion>3.1</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                                <comments>
                            <comment id="13494307" author="tn" created="Fri, 9 Nov 2012 20:59:20 +0000"  >&lt;p&gt;Several improvements to the Gamma function have already been implemented in trunk (see &lt;a href=&quot;https://issues.apache.org/jira/browse/MATH-849&quot; title=&quot;Precision improvement in class Gamma&quot; class=&quot;issue-link&quot; data-issue-key=&quot;MATH-849&quot;&gt;&lt;del&gt;MATH-849&lt;/del&gt;&lt;/a&gt;).&lt;/p&gt;

&lt;p&gt;Running your test program with the latest trunk gives the following results:&lt;/p&gt;

&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;alpha: 128.25629996917283
beta: 0.07889380729280462
i=0; pdf=0.0; cdf=0.0
i=1; pdf=8.663477060372497E-79; cdf=7.488555717749243E-81
i=2; pdf=5.506270463486845E-46; cdf=1.0676382015037016E-47
i=3; pdf=4.4134834884397667E-29; cdf=1.4607150065658644E-30
i=4; pdf=1.0945225959159135E-18; cdf=5.599255664602861E-20
i=5; pdf=7.359296475961767E-12; cdf=5.590805261026197E-13
i=6; pdf=2.7437881760967277E-7; cdf=3.0732983691238435E-8
i=7; pdf=2.837613263947388E-4; cdf=4.7826733420766874E-5
i=8; pdf=0.021281179160658817; cdf=0.005695853765034336
i=9; pdf=0.21511877233528723; cdf=0.10175065472250033
i=10; pdf=0.4475165875547783; cdf=0.4586536845007119
i=11; pdf=0.25911405955827355; cdf=0.8385256983930767
i=12; pdf=0.052182550309595385; cdf=0.9781383380332821
i=13; pdf=0.004329365023698068; cdf=0.9986058018679428
i=14; pdf=1.6878342979404588E-4; cdf=0.9999549514385939
i=15; pdf=3.431947471369265E-6; cdf=0.9999992047520807
i=16; pdf=3.958896722701942E-8; cdf=0.9999999917873332
i=17; pdf=2.775232535093164E-10; cdf=0.9999999999473412
i=18; pdf=1.2515801802472468E-12; cdf=0.9999999999997794
i=19; pdf=3.808712290749614E-15; cdf=0.9999999999999993
i=20; pdf=8.266386718783014E-18; cdf=1.0
i=21; pdf=1.2660914223523828E-20; cdf=1.0
i=22; pdf=1.4746029859879733E-23; cdf=1.0
i=23; pdf=1.320017264979955E-26; cdf=1.0
i=24; pdf=9.28776702592028E-30; cdf=1.0

x=19.0; pdf=3.808712290749614E-15; cdf=0.9999999999999993
x=19.1; pdf=2.091282124070138E-15; cdf=0.9999999999999997
x=19.2; pdf=1.1442807873491891E-15; cdf=0.9999999999999998
x=19.3; pdf=6.239511895039934E-16; cdf=0.9999999999999999
x=19.4; pdf=3.3905614583343015E-16; cdf=1.0
x=19.5; pdf=1.8362803668472756E-16; cdf=1.0
x=19.6; pdf=9.92380512634114E-17; cdf=1.0
x=19.7; pdf=5.314805483145551E-17; cdf=1.0
x=19.8; pdf=2.8759196357817904E-17; cdf=1.0
x=19.9; pdf=1.528822526909328E-17; cdf=1.0
x=20.0; pdf=8.266386718783014E-18; cdf=1.0
x=20.1; pdf=7.797057331677706E-18; cdf=1.0
x=20.2; pdf=0.0; cdf=1.0
x=20.3; pdf=0.0; cdf=1.0
x=20.4; pdf=0.0; cdf=1.0
x=20.5; pdf=0.0; cdf=1.0
x=20.6; pdf=0.0; cdf=1.0
x=20.7; pdf=0.0; cdf=1.0
x=20.8; pdf=0.0; cdf=1.0
x=20.9; pdf=2.4498611525242454E-20; cdf=1.0
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Could you please test yourself and report if the result is as expected?&lt;/p&gt;

&lt;p&gt;Thanks,&lt;/p&gt;

&lt;p&gt;Thomas&lt;/p&gt;</comment>
                            <comment id="13497353" author="zhochberg" created="Wed, 14 Nov 2012 19:12:09 +0000"  >&lt;p&gt;I&apos;ve built trunk, and I do get the results Thomas Neidhart shows below - problem is fixed.&lt;/p&gt;

&lt;p&gt;One odd thing: for all unit tests to run correctly, I needed to download trunk to root of c:\ drive.&lt;br/&gt;
If I copied elsewhere, I would get a unit test failure - once, for example, of FixedElapsedTimeTest.java in genetics package.&lt;/p&gt;</comment>
                            <comment id="13497356" author="tn" created="Wed, 14 Nov 2012 19:14:46 +0000"  >&lt;p&gt;Hi Zev,&lt;/p&gt;

&lt;p&gt;thanks for the feedback.&lt;/p&gt;

&lt;p&gt;Could you attach a log of the mentioned test failure?&lt;/p&gt;

&lt;p&gt;Thanks,&lt;/p&gt;

&lt;p&gt;Thomas&lt;/p&gt;</comment>
                            <comment id="13497380" author="zhochberg" created="Wed, 14 Nov 2012 19:42:21 +0000"  >&lt;p&gt;Here&apos;s a unit test error log, when I copy trunk to c:\ACM\commons-math3, rather than to c:\commons-math3&lt;br/&gt;
There was also a unit test error when trunk was much &quot;deeper&quot; in the drive; in that case failed to open a file, which was in fact present.&lt;br/&gt;
I&apos;ll try and find my notes so I reproduce that one.&lt;/p&gt;

&lt;p&gt;-------------------------------------------------------------------------------&lt;br/&gt;
Test set: org.apache.commons.math3.genetics.FixedElapsedTimeTest&lt;br/&gt;
-------------------------------------------------------------------------------&lt;br/&gt;
Tests run: 1, Failures: 1, Errors: 0, Skipped: 0, Time elapsed: 3.488 sec &amp;lt;&amp;lt;&amp;lt; FAILURE!&lt;br/&gt;
testIsSatisfied(org.apache.commons.math3.genetics.FixedElapsedTimeTest)  Time elapsed: 3.487 sec  &amp;lt;&amp;lt;&amp;lt; FAILURE!&lt;br/&gt;
java.lang.AssertionError&lt;br/&gt;
	at org.junit.Assert.fail(Assert.java:92)&lt;br/&gt;
	at org.junit.Assert.assertTrue(Assert.java:43)&lt;br/&gt;
	at org.junit.Assert.assertTrue(Assert.java:54)&lt;br/&gt;
	at org.apache.commons.math3.genetics.FixedElapsedTimeTest.testIsSatisfied(FixedElapsedTimeTest.java:72)&lt;br/&gt;
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)&lt;br/&gt;
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:57)&lt;br/&gt;
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)&lt;br/&gt;
	at java.lang.reflect.Method.invoke(Method.java:601)&lt;br/&gt;
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:45)&lt;br/&gt;
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:15)&lt;br/&gt;
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:42)&lt;br/&gt;
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:20)&lt;br/&gt;
	at org.junit.runners.ParentRunner.runLeaf(ParentRunner.java:263)&lt;br/&gt;
	at org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:68)&lt;br/&gt;
	at org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:47)&lt;br/&gt;
	at org.junit.runners.ParentRunner$3.run(ParentRunner.java:231)&lt;br/&gt;
	at org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:60)&lt;br/&gt;
	at org.junit.runners.ParentRunner.runChildren(ParentRunner.java:229)&lt;br/&gt;
	at org.junit.runners.ParentRunner.access$000(ParentRunner.java:50)&lt;br/&gt;
	at org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:222)&lt;br/&gt;
	at org.junit.runners.ParentRunner.run(ParentRunner.java:300)&lt;br/&gt;
	at org.apache.maven.surefire.junit4.JUnit4Provider.execute(JUnit4Provider.java:236)&lt;br/&gt;
	at org.apache.maven.surefire.junit4.JUnit4Provider.executeTestSet(JUnit4Provider.java:134)&lt;br/&gt;
	at org.apache.maven.surefire.junit4.JUnit4Provider.invoke(JUnit4Provider.java:113)&lt;br/&gt;
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)&lt;br/&gt;
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:57)&lt;br/&gt;
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)&lt;br/&gt;
	at java.lang.reflect.Method.invoke(Method.java:601)&lt;br/&gt;
	at org.apache.maven.surefire.util.ReflectionUtils.invokeMethodWithArray(ReflectionUtils.java:189)&lt;br/&gt;
	at org.apache.maven.surefire.booter.ProviderFactory$ProviderProxy.invoke(ProviderFactory.java:165)&lt;br/&gt;
	at org.apache.maven.surefire.booter.ProviderFactory.invokeProvider(ProviderFactory.java:85)&lt;br/&gt;
	at org.apache.maven.surefire.booter.ForkedBooter.runSuitesInProcess(ForkedBooter.java:103)&lt;br/&gt;
	at org.apache.maven.surefire.booter.ForkedBooter.main(ForkedBooter.java:74)&lt;/p&gt;</comment>
                            <comment id="13497396" author="tn" created="Wed, 14 Nov 2012 20:10:36 +0000"  >&lt;p&gt;ok, the test should be fixed, the sleep was larger than the test condition which could lead to a race condition.&lt;/p&gt;</comment>
                            <comment id="13503172" author="erans" created="Fri, 23 Nov 2012 11:42:39 +0000"  >&lt;p&gt;Resolving, as the reporter confirmed that the issue had already been fixed in &quot;trunk&quot;.&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10001">
                    <name>dependent</name>
                                            <outwardlinks description="depends upon">
                                        <issuelink>
            <issuekey id="12604010">MATH-849</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                    </issuelinks>
                <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Fri, 9 Nov 2012 20:59:20 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>253177</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            4 years, 1 day ago
                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0dc8n:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>75912</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        </customfields>
    </item>
</channel>
</rss>