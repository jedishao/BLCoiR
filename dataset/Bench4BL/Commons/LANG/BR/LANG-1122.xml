<!-- 
RSS generated by JIRA (6.3.4#6332-sha1:51bc225ef474afe3128b2f66878477f322397b16) at Wed Nov 30 23:45:03 UTC 2016

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary add field=key&field=summary to the URL of your request.
For example:
https://issues.apache.org/jira/si/jira.issueviews:issue-xml/LANG-1122/LANG-1122.xml?field=key&amp;field=summary
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>6.3.4</version>
        <build-number>6332</build-number>
        <build-date>15-08-2014</build-date>
    </build-info>

<item>
            <title>[LANG-1122] Inconsistent behavior of swap for malformed inputs</title>
                <link>https://issues.apache.org/jira/browse/LANG-1122</link>
                <project id="12310481" key="LANG">Commons Lang</project>
                    <description>&lt;p&gt;Following the discussion at &lt;a href=&quot;https://github.com/apache/commons-lang/pull/47&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://github.com/apache/commons-lang/pull/47&lt;/a&gt; we need to decide how malformed inputs should be handled by the swap method. We have to handle several forms of malformed inputs and we should decide how to do that based on the current behavior of ArrayUtils. Malformed inputs are:&lt;/p&gt;

&lt;ol&gt;
	&lt;li&gt;array == null&lt;/li&gt;
	&lt;li&gt;array.length == 0&lt;/li&gt;
	&lt;li&gt;offset1 &amp;lt; 0&lt;/li&gt;
	&lt;li&gt;offset2 &amp;lt; 0&lt;/li&gt;
	&lt;li&gt;len &amp;lt; 0&lt;/li&gt;
	&lt;li&gt;offset1 &amp;gt; offset2&lt;/li&gt;
	&lt;li&gt;offset1 &amp;gt; array.length&lt;/li&gt;
	&lt;li&gt;offset2 &amp;gt; array.length&lt;/li&gt;
	&lt;li&gt;offset1 + len &amp;gt; array.length&lt;/li&gt;
	&lt;li&gt;offset2 + len &amp;gt; array.length&lt;/li&gt;
&lt;/ol&gt;
</description>
                <environment></environment>
        <key id="12826024">LANG-1122</key>
            <summary>Inconsistent behavior of swap for malformed inputs</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/bug.png">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.png">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="britter">Benedikt Ritter</assignee>
                                    <reporter username="britter">Benedikt Ritter</reporter>
                        <labels>
                    </labels>
                <created>Wed, 29 Apr 2015 17:37:45 +0000</created>
                <updated>Wed, 19 Oct 2016 07:01:17 +0000</updated>
                            <resolved>Thu, 7 May 2015 18:33:08 +0000</resolved>
                                                    <fixVersion>3.5</fixVersion>
                                    <component>lang.*</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>3</watches>
                                                                <comments>
                            <comment id="14519794" author="githubbot" created="Wed, 29 Apr 2015 17:38:04 +0000"  >&lt;p&gt;Github user britter commented on the pull request:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/commons-lang/pull/47#issuecomment-97514318&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://github.com/apache/commons-lang/pull/47#issuecomment-97514318&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    Hello @beradrian,&lt;/p&gt;

&lt;p&gt;    sorry for being so oblivious. Yes it would be best to create a separate PR for this issue. I&apos;ve already created a new jira issue for tracking this: &lt;a href=&quot;https://issues.apache.org/jira/browse/LANG-1122&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/browse/LANG-1122&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="14521148" author="beradrian" created="Thu, 30 Apr 2015 08:46:34 +0000"  >&lt;p&gt;I guess start is the start of first block (in swap methods - offset1), end is the start of second block (in swap methods - offset2) and offset is the length of block to swap (in swap methods - len).&lt;br/&gt;
For case 1, 2, 3, 4, 5, 7, 8 I propose to result in no op. For case 6, it actually doesn&apos;t matter which block is first.&lt;br/&gt;
For case 9 and 10 - what do you think it should happen with swap(&lt;span class=&quot;error&quot;&gt;&amp;#91;1, 2, 3, 4, 5&amp;#93;&lt;/span&gt;, 0, 3, 3)? It should result in no op or it should result in &lt;span class=&quot;error&quot;&gt;&amp;#91;4, 5, 3, 1, 2&amp;#93;&lt;/span&gt;, meaning that it will swap as many as possible? I would incline to go for the latter.&lt;/p&gt;</comment>
                            <comment id="14524135" author="britter" created="Fri, 1 May 2015 22:27:33 +0000"  >&lt;p&gt;Hello &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=beradrian&quot; class=&quot;user-hover&quot; rel=&quot;beradrian&quot;&gt;Adrian Ber&lt;/a&gt;,&lt;/p&gt;

&lt;p&gt;yes I meant offset1, offset2 and len. I&apos;ve adjusted the description of this issue.&lt;/p&gt;

&lt;p&gt;I agree with your assessment of 1, 2, and 6, 7, 8. For 3, 4, and 5 we should take into account how other methods with index parameters behave for negative inputs. For example the indexOf methods treat a negative startIndex as zero. However the remove methods throw an &lt;tt&gt;IndexOutOfBoundsException&lt;/tt&gt;. We should do either of this, but we shouldn&apos;t introduce yet another way of handling negative indicies.&lt;/p&gt;

&lt;p&gt;For case 9 and 10, I&apos;m fine with the proposed solution.&lt;/p&gt;</comment>
                            <comment id="14526414" author="beradrian" created="Mon, 4 May 2015 08:35:56 +0000"  >&lt;p&gt;For case 5, even if we promote len to zero, it will have the same result - no op.&lt;br/&gt;
If we will use the principle &quot;swap as many as possible from the given offset onwards&quot; in all cases then 5 and 6 will promote the indices to zero. And then it will be consistent with 9 and 10 behavior too. And it will also be easy to document it too &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/smile.gif&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;.&lt;br/&gt;
What do you think?&lt;/p&gt;</comment>
                            <comment id="14527174" author="britter" created="Mon, 4 May 2015 20:04:19 +0000"  >&lt;p&gt;Go for it!&lt;/p&gt;</comment>
                            <comment id="14532247" author="githubbot" created="Thu, 7 May 2015 08:37:56 +0000"  >&lt;p&gt;GitHub user beradrian opened a pull request:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/commons-lang/pull/86&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://github.com/apache/commons-lang/pull/86&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    Fix issue 1122&lt;/p&gt;

&lt;p&gt;    Fixes issue &lt;a href=&quot;https://issues.apache.org/jira/browse/LANG-1122&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/browse/LANG-1122&lt;/a&gt; as discussed.&lt;br/&gt;
    I also added a link to an article on my blog about shift algorithm, as it was discussed previously. Hope it&apos;s fine, if not, I can remove it.&lt;/p&gt;

&lt;p&gt;You can merge this pull request into a Git repository by running:&lt;/p&gt;

&lt;p&gt;    $ git pull &lt;a href=&quot;https://github.com/beradrian/commons-lang&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://github.com/beradrian/commons-lang&lt;/a&gt; master&lt;/p&gt;

&lt;p&gt;Alternatively you can review and apply these changes as the patch at:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/commons-lang/pull/86.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://github.com/apache/commons-lang/pull/86.patch&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;To close this pull request, make a commit to your master/trunk branch&lt;br/&gt;
with (at least) the following in the commit message:&lt;/p&gt;

&lt;p&gt;    This closes #86&lt;/p&gt;

&lt;hr /&gt;
&lt;p&gt;commit 5b7608d1549989d92dd159392c19d9ba8ce0e62e&lt;br/&gt;
Author: beradrian &amp;lt;beradrian@yahoo.com&amp;gt;&lt;br/&gt;
Date:   2015-05-07T06:50:41Z&lt;/p&gt;

&lt;p&gt;    consistent treatment for negative indices for swap method&lt;/p&gt;

&lt;p&gt;commit e79a590e0cdabd93883aca964db2a862ff3f8490&lt;br/&gt;
Author: beradrian &amp;lt;beradrian@yahoo.com&amp;gt;&lt;br/&gt;
Date:   2015-05-07T08:31:28Z&lt;/p&gt;

&lt;p&gt;    new test case&lt;br/&gt;
    explanations about algorithm&lt;/p&gt;

&lt;hr /&gt;</comment>
                            <comment id="14533152" author="githubbot" created="Thu, 7 May 2015 18:32:42 +0000"  >&lt;p&gt;Github user asfgit closed the pull request at:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/commons-lang/pull/86&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://github.com/apache/commons-lang/pull/86&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="14533154" author="britter" created="Thu, 7 May 2015 18:33:08 +0000"  >&lt;p&gt;Fixed in commit 13d7ce9fb65e8f05014daf4ee6cebc76f4781e6c&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Wed, 29 Apr 2015 17:38:04 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            1 year, 29 weeks, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i2e3dr:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        </customfields>
    </item>
</channel>
</rss>