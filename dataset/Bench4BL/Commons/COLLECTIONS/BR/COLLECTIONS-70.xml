<!-- 
RSS generated by JIRA (6.3.4#6332-sha1:51bc225ef474afe3128b2f66878477f322397b16) at Sat Nov 19 22:06:59 UTC 2016

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary add field=key&field=summary to the URL of your request.
For example:
https://issues.apache.org/jira/si/jira.issueviews:issue-xml/COLLECTIONS-70/COLLECTIONS-70.xml?field=key&amp;field=summary
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>6.3.4</version>
        <build-number>6332</build-number>
        <build-date>15-08-2014</build-date>
    </build-info>

<item>
            <title>[COLLECTIONS-70] [collections] TreeList Collections.binarySearch problem - general remove() after previous() problem</title>
                <link>https://issues.apache.org/jira/browse/COLLECTIONS-70</link>
                <project id="12310465" key="COLLECTIONS">Commons Collections</project>
                    <description>&lt;p&gt;Sometimes TreeList crashes if i tried to call:&lt;br/&gt;
  Collections.binarySearch(queue, n, comp);&lt;br/&gt;
with ArrayList is everything ok.&lt;/p&gt;

&lt;p&gt;Exception in thread &quot;main&quot; java.lang.NullPointerException&lt;br/&gt;
	at &lt;br/&gt;
org.apache.commons.collections.list.TreeList$TreeListIterator.previous&lt;br/&gt;
(TreeList.java:841)&lt;br/&gt;
	at java.util.Collections.get(Unknown Source)&lt;br/&gt;
	at java.util.Collections.iteratorBinarySearch(Unknown Source)&lt;br/&gt;
	at java.util.Collections.binarySearch(Unknown Source)&lt;br/&gt;
	at utils.queue.QueueSorted.put(QueueSorted.java:51)&lt;br/&gt;
	at framework.search.GraphSearch.solve(GraphSearch.java:53)&lt;br/&gt;
	at search.informed.BestFirstSearch.solve(BestFirstSearch.java:20)&lt;br/&gt;
	at Hlavni.main(Hlavni.java:66)&lt;/p&gt;</description>
                <environment>&lt;p&gt;Operating System: Windows XP&lt;br/&gt;
Platform: Other&lt;/p&gt;</environment>
        <key id="12342290">COLLECTIONS-70</key>
            <summary>[collections] TreeList Collections.binarySearch problem - general remove() after previous() problem</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/bug.png">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.png">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="trim@atlas.cz">Tomas D.</reporter>
                        <labels>
                    </labels>
                <created>Wed, 8 Jun 2005 06:21:24 +0000</created>
                <updated>Sat, 15 Mar 2008 21:36:00 +0000</updated>
                            <resolved>Sat, 15 Mar 2008 21:36:00 +0000</resolved>
                                    <version>3.1</version>
                                                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                <comments>
                            <comment id="12409500" author="jwcarman" created="Sat, 9 Jul 2005 10:37:53 +0000"  >&lt;p&gt;Do you have a test case for this? &lt;/p&gt;</comment>
                            <comment id="12409501" author="scolebourne@joda.org" created="Sun, 17 Jul 2005 02:10:20 +0000"  >&lt;p&gt;This report lead me to examine the previous() method, and it was broken in&lt;br/&gt;
various classes when remove() is used afterwards.&lt;/p&gt;

&lt;p&gt;Changes in svn rv219343&lt;/p&gt;</comment>
                            <comment id="12409502" author="trim@atlas.cz" created="Fri, 9 Dec 2005 07:30:26 +0000"  >&lt;p&gt;Created an attachment (id=17185)&lt;br/&gt;
TestSuite&lt;/p&gt;</comment>
                            <comment id="12409503" author="trim@atlas.cz" created="Fri, 9 Dec 2005 07:37:15 +0000"  >&lt;p&gt;I posted a test case for a bug. It seems as previous() metod is unstable after &lt;br/&gt;
remove(o);&lt;/p&gt;

&lt;p&gt;This test failed after something about 6-15 cycles of &lt;br/&gt;
       	int i = Collections.binarySearch(pq, n);&lt;br/&gt;
        pq.remove&lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/thumbs_down.gif&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;;&lt;/p&gt;
</comment>
                            <comment id="12409504" author="jwcarman" created="Fri, 9 Dec 2005 07:39:10 +0000"  >&lt;p&gt;We can&apos;t use the test case as-is, since it uses JDK5 features, but we&apos;ll&lt;br/&gt;
retrofit it.  Does this test fail repeatedly at the same point?  &lt;/p&gt;</comment>
                            <comment id="12409505" author="trim@atlas.cz" created="Fri, 9 Dec 2005 07:58:08 +0000"  >&lt;p&gt;Created an attachment (id=17186)&lt;br/&gt;
TestSuite for java 1.4&lt;/p&gt;</comment>
                            <comment id="12409506" author="trim@atlas.cz" created="Fri, 9 Dec 2005 08:05:06 +0000"  >&lt;p&gt;The test not fail repeatedly at the same point, because there is shuffed &lt;br/&gt;
ArrayList which is romoving from TreeList.&lt;br/&gt;
If TreeList is in same order as List which we are removing, than there is no &lt;br/&gt;
error reported.&lt;/p&gt;</comment>
                            <comment id="12409507" author="jwcarman" created="Fri, 9 Dec 2005 19:06:45 +0000"  >&lt;p&gt;Why don&apos;t you try passing in a Random instance to the Collections.shuffle()&lt;br/&gt;
method?  You could seed it with a known value that fails every time.  You could do:&lt;/p&gt;

&lt;p&gt;Collections.shuffle( noes, new Random( 1 ) );&lt;/p&gt;

&lt;p&gt;That way, it would be more deterministic.&lt;/p&gt;</comment>
                            <comment id="12409508" author="trim@atlas.cz" created="Sun, 11 Dec 2005 21:45:08 +0000"  >&lt;p&gt;Created an attachment (id=17194)&lt;br/&gt;
Test case for  a &lt;a href=&quot;https://issues.apache.org/jira/browse/COLLECTIONS-70&quot; title=&quot;[collections] TreeList Collections.binarySearch problem - general remove() after previous() problem&quot; class=&quot;issue-link&quot; data-issue-key=&quot;COLLECTIONS-70&quot;&gt;&lt;del&gt;COM-2138&lt;/del&gt;&lt;/a&gt; version 2.0&lt;/p&gt;

&lt;p&gt;It was a good idea to use seeded random generator for Collections.shuffle(). So&lt;br/&gt;
i was able to find much more suitable test case. This test case has TreeList&lt;br/&gt;
size only 5 nodes and the point of inconsistece of listIterator is known too.&lt;br/&gt;
It can be much more easy to solve that bug with this test case than with&lt;br/&gt;
previous one.&lt;/p&gt;</comment>
                            <comment id="12409509" author="scolebourne@joda.org" created="Sat, 21 Jan 2006 10:50:10 +0000"  >&lt;p&gt;As always, a good test case makes all the difference.&lt;/p&gt;

&lt;p&gt;Fixed in SVN 370952&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12333547" name="ASF.LICENSE.NOT.GRANTED--Test.java" size="1204" author="trim@atlas.cz" created="Fri, 9 Dec 2005 07:58:08 +0000"/>
                            <attachment id="12333546" name="ASF.LICENSE.NOT.GRANTED--Test.java" size="2004" author="trim@atlas.cz" created="Fri, 9 Dec 2005 07:30:26 +0000"/>
                            <attachment id="12333548" name="ASF.LICENSE.NOT.GRANTED--TestCaseForBug35258.java" size="2727" author="trim@atlas.cz" created="Sun, 11 Dec 2005 21:45:08 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>3.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_10010" key="com.atlassian.jira.plugin.system.customfieldtypes:importid">
                        <customfieldname>Bugzilla Id</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>35258</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Sat, 9 Jul 2005 10:37:53 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>18928</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            10 years, 45 weeks ago
                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0sjif:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>164638</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        </customfields>
    </item>
</channel>
</rss>