<!-- 
RSS generated by JIRA (6.3.4#6332-sha1:51bc225ef474afe3128b2f66878477f322397b16) at Sun Nov 20 16:59:31 UTC 2016

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary add field=key&field=summary to the URL of your request.
For example:
https://issues.apache.org/jira/si/jira.issueviews:issue-xml/IO-132/IO-132.xml?field=key&amp;field=summary
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>6.3.4</version>
        <build-number>6332</build-number>
        <build-date>15-08-2014</build-date>
    </build-info>

<item>
            <title>[IO-132] File Listener/Monitor</title>
                <link>https://issues.apache.org/jira/browse/IO-132</link>
                <project id="12310477" key="IO">Commons IO</project>
                    <description>&lt;p&gt;Commons JCI has a &quot;fam&quot; (file alteration monitor) module&lt;span class=&quot;error&quot;&gt;&amp;#91;1&amp;#93;&lt;/span&gt; which provides a listener for file and directory create/change/delete events. I have done some work refactoring the JCI implementation and propose adding to to Commons IO. There is already an existing request/propsal to add similar functionality in &lt;a href=&quot;https://issues.apache.org/jira/browse/IO-79&quot; title=&quot;[IO][PATCH] - file and directory pollers&quot; class=&quot;issue-link&quot; data-issue-key=&quot;IO-79&quot;&gt;&lt;del&gt;IO-79&lt;/del&gt;&lt;/a&gt; from Jim Harrington (which includes code).&lt;/p&gt;

&lt;p&gt;There are IMO two main differences (IMO improvements) in this implementation over exsiting JCI fam module:&lt;/p&gt;

&lt;p&gt;1) It uses a matching array technique to compare previous and current directory contents which minimizes object creation&lt;br/&gt;
2) FileFilters can be specified to monitor only portions of the file system, ignoring files/directories of no interest. This is more efficient and reduces the amount of noise from un-wanted file/directory events&lt;/p&gt;

&lt;p&gt;From a quick look at &lt;a href=&quot;https://issues.apache.org/jira/browse/IO-79&quot; title=&quot;[IO][PATCH] - file and directory pollers&quot; class=&quot;issue-link&quot; data-issue-key=&quot;IO-79&quot;&gt;&lt;del&gt;IO-79&lt;/del&gt;&lt;/a&gt;, the above also applies to that proposal. Additionally IMO the solution in &lt;a href=&quot;https://issues.apache.org/jira/browse/IO-79&quot; title=&quot;[IO][PATCH] - file and directory pollers&quot; class=&quot;issue-link&quot; data-issue-key=&quot;IO-79&quot;&gt;&lt;del&gt;IO-79&lt;/del&gt;&lt;/a&gt; would benefit from been broken out from the two DirectoryPoller and FilePoller artifacts.&lt;/p&gt;

&lt;p&gt;There are also some changes to the API specified in JCI&apos;s fam:&lt;br/&gt;
1) FileObserver (FilesystemAlterationObserver in fam) has additional init() and destroy() methods&lt;br/&gt;
2) FileMonitor (FilesystemAlterationMonitor in fam) has addObserver/removeObserver methods rather than addListener/removeListener methods. The issue (IMO) with fam is that the monitor is fixed to the FilesystemAlterationObserverImpl implementation, rather than any FilesystemAlterationObserver implementation. Also the ability to specify file filters means that there is a need to be able to add more than one observer for the same root directory.&lt;/p&gt;

&lt;p&gt;&lt;span class=&quot;error&quot;&gt;&amp;#91;1&amp;#93;&lt;/span&gt; &lt;a href=&quot;http://svn.apache.org/repos/asf/commons/proper/jci/trunk/fam/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://svn.apache.org/repos/asf/commons/proper/jci/trunk/fam/&lt;/a&gt;&lt;/p&gt;</description>
                <environment></environment>
        <key id="12380822">IO-132</key>
            <summary>File Listener/Monitor</summary>
                <type id="2" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/newfeature.png">New Feature</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.png">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="niallp">Niall Pemberton</assignee>
                                    <reporter username="niallp">Niall Pemberton</reporter>
                        <labels>
                    </labels>
                <created>Sat, 20 Oct 2007 06:37:53 +0000</created>
                <updated>Fri, 22 Aug 2008 07:36:50 +0000</updated>
                            <resolved>Fri, 30 May 2008 15:52:58 +0000</resolved>
                                                    <fixVersion>2.0</fixVersion>
                                        <due></due>
                            <votes>1</votes>
                                    <watches>2</watches>
                                                                <comments>
                            <comment id="12536481" author="niallp" created="Sun, 21 Oct 2007 01:19:21 +0000"  >&lt;p&gt;Discussion on the dev list here: &lt;a href=&quot;http://tinyurl.com/29oufy&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://tinyurl.com/29oufy&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="12536483" author="niallp" created="Sun, 21 Oct 2007 02:35:51 +0000"  >&lt;p&gt;Thought I would give a quick summary of the core of this feature, which is two interfaces and four classes:&lt;/p&gt;

&lt;p&gt;1) Interfaces&lt;br/&gt;
FileListener - listens for file/directory create, change and delete events&lt;br/&gt;
FileObserver - checks the file system for changes and notifies registered listeners (core method is checkAndNotify())&lt;/p&gt;

&lt;p&gt;2) Implementations&lt;br/&gt;
FileListenerAdaptor - do nothing convenience FileListener implementation&lt;br/&gt;
AbstractFileObserver - basic FileObserver plumbing - checkAndNotify() not implemented&lt;br/&gt;
FileObserverImpl - core class providing checkAndNotify() implementation (extends AbstractFileObserver)&lt;br/&gt;
FileMonitor - Runnable which periodically executes checkAndNotify() of registered FileObserver&lt;/p&gt;

&lt;p&gt;The heart of all of this is the logic in FileObserverImpl which does the main task of identifying new, modified and deleted files/directories and notifying the listeners.&lt;/p&gt;</comment>
                            <comment id="12540662" author="niallp" created="Wed, 7 Nov 2007 03:47:28 +0000"  >&lt;p&gt;In the JCI thread discussing this (see &lt;a href=&quot;http://tinyurl.com/29oufy&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://tinyurl.com/29oufy&lt;/a&gt;) Torsten wasn&apos;t keen on adding this to Commons IO - I still am, anyone else got an opinion for or against committing this?&lt;/p&gt;</comment>
                            <comment id="12546298" author="mbenson" created="Wed, 28 Nov 2007 16:48:10 +0000"  >&lt;p&gt;Huge delay; my email&apos;s been &lt;em&gt;very&lt;/em&gt; backed up, but I thought this was a good idea as well.&lt;/p&gt;</comment>
                            <comment id="12556312" author="niallp" created="Sun, 6 Jan 2008 00:46:17 +0000"  >&lt;p&gt;No agreement on this - so punting to post 1.4&lt;/p&gt;</comment>
                            <comment id="12577694" author="niallp" created="Wed, 12 Mar 2008 04:08:35 +0000"  >&lt;p&gt;Stephen&apos;s comment was that it seemed too much like a framework. I&apos;ve re-written the implementations with a single concrete implementation of FilesystemObserver. With that refactoring and being able to use JDK 1.5 features I believe it is much more straight forward - attaching the following:&lt;/p&gt;

&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;FilesystemListener - interface which receives create/change/delete events for files/directories&lt;/li&gt;
	&lt;li&gt;FilesystemObserver - checks the current state of a directory against what it has cached from the previous invocation and notifies listeners&lt;/li&gt;
	&lt;li&gt;FilesystemMonitor - Runnable that invokes registered observers at a specified interval&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;I also have a do nothing FilesystemListenerAdaptor implementation and FilesystemObserver test case.&lt;/p&gt;

&lt;p&gt;I&apos;ll leave this for review/comment for a while before I commit.&lt;/p&gt;</comment>
                            <comment id="12586116" author="niallp" created="Sun, 6 Apr 2008 09:55:59 +0000"  >&lt;p&gt;Added:&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;http://svn.apache.org/viewvc/commons/proper/io/trunk/src/java/org/apache/commons/io/monitor/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://svn.apache.org/viewvc/commons/proper/io/trunk/src/java/org/apache/commons/io/monitor/&lt;/a&gt;&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="12310000">
                    <name>Duplicate</name>
                                                                <inwardlinks description="is duplicated by">
                                        <issuelink>
            <issuekey id="12342828">IO-79</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                            <outwardlinks description="relates to">
                                        <issuelink>
            <issuekey id="12380860">JCI-55</issuekey>
        </issuelink>
            <issuelink>
            <issuekey id="12342828">IO-79</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="12377666" name="FilesystemListener.java" size="2415" author="niallp" created="Wed, 12 Mar 2008 04:08:35 +0000"/>
                            <attachment id="12377668" name="FilesystemMonitor.java" size="4161" author="niallp" created="Wed, 12 Mar 2008 04:08:35 +0000"/>
                            <attachment id="12377667" name="FilesystemObserver.java" size="23432" author="niallp" created="Wed, 12 Mar 2008 04:08:35 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>3.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Wed, 28 Nov 2007 16:48:10 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>139576</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            8 years, 34 weeks ago
                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0smav:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>165090</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        </customfields>
    </item>
</channel>
</rss>