<!-- 
RSS generated by JIRA (6.3.4#6332-sha1:51bc225ef474afe3128b2f66878477f322397b16) at Thu Dec 01 19:39:46 UTC 2016

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary add field=key&field=summary to the URL of your request.
For example:
https://issues.apache.org/jira/si/jira.issueviews:issue-xml/CONFIGURATION-465/CONFIGURATION-465.xml?field=key&amp;field=summary
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>6.3.4</version>
        <build-number>6332</build-number>
        <build-date>15-08-2014</build-date>
    </build-info>

<item>
            <title>[CONFIGURATION-465] OSGI issue - configuration depends on Jexl 1.0 which does not have OSGI release</title>
                <link>https://issues.apache.org/jira/browse/CONFIGURATION-465</link>
                <project id="12310467" key="CONFIGURATION">Commons Configuration</project>
                    <description>&lt;p&gt;I updated to use commons-configuration 1.7 (from 1.6) and am running into the following resolution error under Eclipse Equinox OSGi framework.&lt;/p&gt;

&lt;p&gt;        An Import-Package could not be resolved. Caused by missing constraint in bundle &amp;lt;org.apache.commons.configuration_1.7.0&amp;gt;&lt;br/&gt;
             constraint: &amp;lt;Import-Package: org.apache.commons.jexl; version=&quot;0.0.0&quot;&amp;gt;&lt;/p&gt;

&lt;p&gt;According to the Import-Package header in 1.7&apos;s MANIFEST.MF, commons-configuration now has a required dependency on org.apache.commons.jexl.  Problem is, there is no OSGi enabled version of Apache Commons jexl that exports this package.&lt;/p&gt;

&lt;p&gt;In jexl 2.0 the packages were renamed and org.apache.commons.jexl2 is exported.  The 1.x codeline, although using org.apache.commons.jexl, does not have the appropriate MANIFEST.MF headers to be used as an OSGi bundle.&lt;/p&gt;

&lt;p&gt;As such, you cannot consume commons-configuration 1.7 in an OSGi environment.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12525552">CONFIGURATION-465</key>
            <summary>OSGI issue - configuration depends on Jexl 1.0 which does not have OSGI release</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/bug.png">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.png">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="richmayfield">Rich Mayfield</reporter>
                        <labels>
                    </labels>
                <created>Mon, 3 Oct 2011 17:28:04 +0000</created>
                <updated>Sat, 4 Feb 2012 16:18:45 +0000</updated>
                            <resolved>Sun, 22 Jan 2012 16:25:04 +0000</resolved>
                                    <version>1.7</version>
                                    <fixVersion>1.8</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                <comments>
                            <comment id="13119887" author="ralph.goers@dslextreme.com" created="Tue, 4 Oct 2011 03:58:41 +0000"  >&lt;p&gt;Jexl is used in the ExprLookup class. If you don&apos;t use it in your DefaultConfigurationBuilder configuration then Jexl would not be required. I didn&apos;t realize that Jexl had this issue so I appreciate you letting us know about it. Jexl 2.x requires Java 1.5 so it would definitely have to be an optional dependency since Commons Configuration supports Java 1.4.&lt;/p&gt;</comment>
                            <comment id="13119975" author="richmayfield" created="Tue, 4 Oct 2011 09:19:08 +0000"  >&lt;p&gt;Thanks for the response.  By default, packages listed in the MANIFEST.MF Import-Package header is considered required.  You can, however, make package imports &quot;optional&quot; in cases like you have described.&lt;/p&gt;

&lt;p&gt;If it is the case that the class that references Jexl (ExprLookup) is never loaded via the bundle classloader for commons-configuration, then making that package dependency optional should do the trick.&lt;/p&gt;</comment>
                            <comment id="13120035" author="richmayfield" created="Tue, 4 Oct 2011 12:39:16 +0000"  >&lt;p&gt;I guess I should add, and I hinted at this in the defect submission: Even if you do make that package optional the use of ExprLookup will be dependent upon a new release of Jexl 1.x that includes the OSGi MANIFEST.MF headers to export packages.&lt;/p&gt;

&lt;p&gt;If the Jexl project does not plan to update it&apos;s 1.x distribution perhaps someone might &quot;bundle-ize&quot; the 1.x distribution and make it available via the SpringSource Bundle Repository.&lt;/p&gt;

&lt;p&gt;At the very least though making it optional will allow anyone not using Jexl to leverage the new version of commons-configuration in an OSGi environment.&lt;/p&gt;</comment>
                            <comment id="13190475" author="oliver.heger@t-online.de" created="Sat, 21 Jan 2012 17:35:06 +0000"  >&lt;p&gt;As configuration 1.8 will target Java 1.5, it is possible to switch to a Jexl 2.x version. AIUI this should solve this problem.&lt;/p&gt;

&lt;p&gt;I committed a change which sets the Jexl version to the most recent 2.1.1. A few adjustments in &lt;tt&gt;ExprLookup&lt;/tt&gt; were necessary. Ralph, can you have a short review whether may changes are correct (I am not familar with Jexl)? The unit test is still green.&lt;/p&gt;</comment>
                            <comment id="13190624" author="ralph.goers@dslextreme.com" created="Sun, 22 Jan 2012 08:04:10 +0000"  >&lt;p&gt;As far as I can tell the changes look OK, assuming JexlEngine is thread-safe. If the unit tests are passing then these chagnes should be OK.&lt;/p&gt;</comment>
                            <comment id="13190697" author="oliver.heger@t-online.de" created="Sun, 22 Jan 2012 15:45:05 +0000"  >&lt;p&gt;Thanks for reviewing.&lt;/p&gt;

&lt;p&gt;I was also wondering whether the Jexl classes are thread-safe and finally found the information (in the package documentation for o.a.c.jexl2) that JexlEngine actually is. However, I doubt that the same is true for MapContext because it is just a wrapper around a HashMap. Therefore, I am going to change the implementation to create a new context every time rather than caching it in a member field.&lt;/p&gt;</comment>
                            <comment id="13190705" author="oliver.heger@t-online.de" created="Sun, 22 Jan 2012 16:25:04 +0000"  >&lt;p&gt;Switched to version 2.1.1 of Commons Jexl. This dependency should be resolvable in an OSGi environment.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Tue, 4 Oct 2011 03:58:41 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>43831</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            4 years, 45 weeks, 4 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0lo4v:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>124560</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        </customfields>
    </item>
</channel>
</rss>