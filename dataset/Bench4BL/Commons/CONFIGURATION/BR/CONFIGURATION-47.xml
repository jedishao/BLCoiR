<!-- 
RSS generated by JIRA (6.3.4#6332-sha1:51bc225ef474afe3128b2f66878477f322397b16) at Thu Dec 01 19:56:43 UTC 2016

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary add field=key&field=summary to the URL of your request.
For example:
https://issues.apache.org/jira/si/jira.issueviews:issue-xml/CONFIGURATION-47/CONFIGURATION-47.xml?field=key&amp;field=summary
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>6.3.4</version>
        <build-number>6332</build-number>
        <build-date>15-08-2014</build-date>
    </build-info>

<item>
            <title>[CONFIGURATION-47] [configuration] ConfigurationFactory loading from classpath issue</title>
                <link>https://issues.apache.org/jira/browse/CONFIGURATION-47</link>
                <project id="12310467" key="CONFIGURATION">Commons Configuration</project>
                    <description>&lt;p&gt;I found a thread on the commons mailing list about this topic, but did not see a&lt;br/&gt;
resolution presented.  &lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;http://www.mail-archive.com/commons-user@jakarta.apache.org/msg07782.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://www.mail-archive.com/commons-user@jakarta.apache.org/msg07782.html&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;It seems the only way to load a properties file from a separate jar in the&lt;br/&gt;
classpath is to use absolute paths.  I believe the ConfigurationFactory&lt;br/&gt;
framework would be a tad more useful if it used the classloader to load the&lt;br/&gt;
properties files as resources instead.  The major advantage being that one could&lt;br/&gt;
package a default properties file in a config jar, but temporarily override it&lt;br/&gt;
by placing a copy higher in the classpath.  There are other uses as well, but&lt;br/&gt;
that&apos;s the main use case I have in mind right now.&lt;/p&gt;

&lt;p&gt;Let&apos;s say I have the following JAR that contains only these configuration files:&lt;/p&gt;

&lt;p&gt;core-config&lt;br/&gt;
  properties/config.xml  &amp;lt;= The ConfigurationFactory settings&lt;br/&gt;
  properties/test-config.xml  &amp;lt;= An XML properties file&lt;/p&gt;

&lt;p&gt;core-configtest&lt;br/&gt;
  com.test.ConfigurationTest &amp;lt;= Constructs ConfigurationFactory and calls&lt;br/&gt;
getConfiguration()&lt;/p&gt;

&lt;p&gt;Because I use the classload to load &lt;/p&gt;

&lt;p&gt;&amp;lt;!-- config.xml --&amp;gt;&lt;br/&gt;
&amp;lt;configuration&amp;gt;&lt;br/&gt;
  &amp;lt;xml fileName=&quot;test-config.xml&quot;/&amp;gt;&lt;br/&gt;
&amp;lt;/configuration&amp;gt;&lt;/p&gt;

&lt;p&gt;I have tried many variations of the above path to get it to load from the&lt;br/&gt;
classpath to no avail, such as:&lt;/p&gt;

&lt;p&gt;&amp;lt;xml fileName=&quot;properties/test-config.xml&quot;/&amp;gt;&lt;br/&gt;
&amp;lt;xml fileName=&quot;/properties/test-config.xml&quot;/&amp;gt;&lt;br/&gt;
&amp;lt;xml fileName=&quot;file:test-config.xml&quot;/&amp;gt;&lt;br/&gt;
&amp;lt;xml fileName=&quot;file:properties/test-config.xml&quot;/&amp;gt;&lt;br/&gt;
&amp;lt;xml fileName=&quot;file:/properties/test-config.xml&quot;/&amp;gt;&lt;/p&gt;

&lt;p&gt;Most of the time it coughs out a SAXException with a garbled path like this:&lt;/p&gt;

&lt;p&gt;Could not load from&lt;br/&gt;
C:\dev\Java\Core-ConfigTest\&lt;a href=&quot;file:C:devJavaCore-ConfigTestlibcore-config.jar!propertiestest-config.xml&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;file:\C:\dev\Java\Core-ConfigTest\lib\core-config.jar!\properties\test-config.xml&lt;/a&gt;&lt;br/&gt;
	at org.apache.commons.digester.Digester.createSAXException(Digester.java:2540)&lt;br/&gt;
	at org.apache.commons.digester.Digester.createSAXException(Digester.java:2566)&lt;br/&gt;
	at org.apache.commons.digester.Digester.endElement(Digester.java:1061)&lt;/p&gt;

&lt;p&gt;In other words, I can&apos;t seem to make it use the appropriate URL for accessing&lt;br/&gt;
the file when it&apos;s in another JAR.  &lt;/p&gt;

&lt;p&gt;jar:&lt;a href=&quot;file:/C:/dev/Java/Core-ConfigTest/lib/core-config.jar!/properties/config.xml&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;file:/C:/dev/Java/Core-ConfigTest/lib/core-config.jar!/properties/config.xml&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;If I move the properties folder to the JAR that contains the test class, it&lt;br/&gt;
works fine.  I believe I could also use an absolute path to the properties file,&lt;br/&gt;
but again, that precludes me from being able to quickly override the properties&lt;br/&gt;
file by placing a copy higher in the classpath.&lt;/p&gt;

&lt;p&gt;This is my first experience with trying to initiate a change in an open source&lt;br/&gt;
project, so bear with me if I&apos;m not following the right protocol.  I&apos;d like to&lt;br/&gt;
take a stab at creating a patch myself if someone hasn&apos;t already beat me to it.&lt;/p&gt;

&lt;p&gt;Thanks.&lt;/p&gt;</description>
                <environment>&lt;p&gt;Operating System: All&lt;br/&gt;
Platform: All&lt;/p&gt;</environment>
        <key id="12341659">CONFIGURATION-47</key>
            <summary>[configuration] ConfigurationFactory loading from classpath issue</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/bug.png">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.png">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="jomofo7@yahoo.com">Joe Holloway</reporter>
                        <labels>
                    </labels>
                <created>Thu, 26 Aug 2004 12:03:41 +0000</created>
                <updated>Tue, 16 May 2006 11:23:49 +0000</updated>
                            <resolved>Tue, 16 May 2006 11:23:49 +0000</resolved>
                                                                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                <comments>
                            <comment id="12407335" author="dep4b" created="Mon, 6 Sep 2004 20:23:11 +0000"  >&lt;p&gt;Your bug report looks nicely detailed!  The key thing to keep in mind when&lt;br/&gt;
submitting a fix is to include a unit test!  This makes it easier for the&lt;br/&gt;
maintainers to have something to verify your fix against, and ensures the bug&lt;br/&gt;
doesn&apos;t come back.  If you need any help, holler.&lt;/p&gt;</comment>
                            <comment id="12407336" author="ebourg" created="Thu, 9 Sep 2004 00:38:44 +0000"  >&lt;p&gt;Taking the bug, a fix is on the way !&lt;/p&gt;</comment>
                            <comment id="12407337" author="ebourg" created="Thu, 23 Sep 2004 00:27:56 +0000"  >&lt;p&gt;Fixed, all file based configurations can now be loaded from the classpath, tell&lt;br/&gt;
us if it works for you Joe.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_10010" key="com.atlassian.jira.plugin.system.customfieldtypes:importid">
                        <customfieldname>Bugzilla Id</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>30856</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Mon, 6 Sep 2004 20:23:11 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>110655</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            12 years, 12 weeks ago
                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0tfe7:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>169803</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>
</channel>
</rss>