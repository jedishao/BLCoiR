<!-- 
RSS generated by JIRA (6.3.4#6332-sha1:51bc225ef474afe3128b2f66878477f322397b16) at Thu Dec 01 20:11:01 UTC 2016

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary add field=key&field=summary to the URL of your request.
For example:
https://issues.apache.org/jira/si/jira.issueviews:issue-xml/CONFIGURATION-282/CONFIGURATION-282.xml?field=key&amp;field=summary
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>6.3.4</version>
        <build-number>6332</build-number>
        <build-date>15-08-2014</build-date>
    </build-info>

<item>
            <title>[CONFIGURATION-282] NPE in HierarchicalConfiguration.fetchNodeList after redeployment</title>
                <link>https://issues.apache.org/jira/browse/CONFIGURATION-282</link>
                <project id="12310467" key="CONFIGURATION">Commons Configuration</project>
                    <description>&lt;p&gt;java.lang.NullPointerException&lt;br/&gt;
        at org.apache.commons.configuration.HierarchicalConfiguration.fetchNodeList(HierarchicalConfiguration.java:721)&lt;br/&gt;
        at org.apache.commons.configuration.AbstractHierarchicalFileConfiguration.fetchNodeList(AbstractHierarchicalFileConfiguration.java:338)&lt;br/&gt;
        at org.apache.commons.configuration.HierarchicalConfiguration.getProperty(HierarchicalConfiguration.java:284)&lt;br/&gt;
        at org.apache.commons.configuration.AbstractHierarchicalFileConfiguration.getProperty(AbstractHierarchicalFileConfiguration.java:319)&lt;br/&gt;
        at org.apache.commons.configuration.AbstractConfiguration.resolveContainerStore(AbstractConfiguration.java:1222)&lt;br/&gt;
        at org.apache.commons.configuration.AbstractConfiguration.getBoolean(AbstractConfiguration.java:667)&lt;br/&gt;
        at org.apache.commons.configuration.AbstractConfiguration.getBoolean(AbstractConfiguration.java:633)&lt;/p&gt;


&lt;p&gt;java.lang.NullPointerException&lt;br/&gt;
        at org.apache.commons.configuration.HierarchicalConfiguration.fetchNodeList(HierarchicalConfiguration.java:721)&lt;br/&gt;
        at org.apache.commons.configuration.AbstractHierarchicalFileConfiguration.fetchNodeList(AbstractHierarchicalFileConfiguration.java:338)&lt;br/&gt;
        at org.apache.commons.configuration.HierarchicalConfiguration.getProperty(HierarchicalConfiguration.java:284)&lt;br/&gt;
        at org.apache.commons.configuration.AbstractHierarchicalFileConfiguration.getProperty(AbstractHierarchicalFileConfiguration.java:319)&lt;br/&gt;
        at org.apache.commons.configuration.AbstractConfiguration.resolveContainerStore(AbstractConfiguration.java:1222)&lt;br/&gt;
        at org.apache.commons.configuration.AbstractConfiguration.getString(AbstractConfiguration.java:1097)&lt;br/&gt;
        at org.apache.commons.configuration.AbstractConfiguration.getString(AbstractConfiguration.java:1077)&lt;/p&gt;</description>
                <environment>&lt;p&gt;Linux, Java 1.5&lt;/p&gt;</environment>
        <key id="12372405">CONFIGURATION-282</key>
            <summary>NPE in HierarchicalConfiguration.fetchNodeList after redeployment</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/bug.png">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.png">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="oliver.heger@t-online.de">Oliver Heger</assignee>
                                    <reporter username="deki">Dennis Kieselhorst</reporter>
                        <labels>
                    </labels>
                <created>Tue, 26 Jun 2007 06:49:27 +0000</created>
                <updated>Sat, 22 Aug 2009 19:36:49 +0000</updated>
                            <resolved>Wed, 18 Jul 2007 19:36:12 +0000</resolved>
                                    <version>1.4</version>
                                    <fixVersion>1.5</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                <comments>
                            <comment id="12508306" author="oliver.heger@t-online.de" created="Tue, 26 Jun 2007 19:45:35 +0000"  >&lt;p&gt;It would really be helpful if you could provide some more information: How did you create the configuration object, which properties were set and which key did you pass in.&lt;/p&gt;

&lt;p&gt;Since the last release development has been going on, so the line numbers are no longer valid.&lt;/p&gt;

&lt;p&gt;Thanks.&lt;/p&gt;</comment>
                            <comment id="12508808" author="deki" created="Thu, 28 Jun 2007 11:59:12 +0000"  >&lt;p&gt;Unfortunately I cannot add a testcase yet, because the error only occurs in production environment. I will try to reproduce it.&lt;/p&gt;

&lt;p&gt;I think this is the corresponding line: &lt;a href=&quot;http://jakarta.apache.org/commons/configuration/xref/org/apache/commons/configuration/HierarchicalConfiguration.html#721&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://jakarta.apache.org/commons/configuration/xref/org/apache/commons/configuration/HierarchicalConfiguration.html#721&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="12508919" author="oliver.heger@t-online.de" created="Thu, 28 Jun 2007 19:43:52 +0000"  >&lt;p&gt;A NPE on this line would mean that getExpressionEngine() returns null, which normally should not happen. Is it possible that you do something with serialization or hot-deployment of your application? This could be an explanation why the static defaultExpressionEngine field is null.&lt;/p&gt;</comment>
                            <comment id="12509599" author="deki" created="Mon, 2 Jul 2007 15:39:28 +0000"  >&lt;p&gt;I went through the logs: you&apos;re right... the exception only occurs after a redeployment or a server restart.&lt;/p&gt;</comment>
                            <comment id="12509651" author="oliver.heger@t-online.de" created="Mon, 2 Jul 2007 19:54:06 +0000"  >&lt;p&gt;So, the cause for this problem seems to be the static field for the default expression engine in HierarchicalConfiguration. After a redeploy it obviously looses its value and is set to null.&lt;/p&gt;

&lt;p&gt;I guess, it should be possible to initialize it lazily when it is accessed and it is null. But then the getDefaultExpressionEngine() method has to be synchronized. Does anybody have a better idea? There are probably other static fields in other classes, which can cause similar problems.&lt;/p&gt;</comment>
                            <comment id="12511235" author="oliver.heger@t-online.de" created="Mon, 9 Jul 2007 19:46:39 +0000"  >&lt;p&gt;A fix was committed that initializes the default expression engine every time if it is null. Can you please check whether this solves your problem?&lt;/p&gt;

&lt;p&gt;Unfortunately I have no idea how to write a unit test that demonstrates the problem. However because the defaultExpressionEngine field is now null at the beginning, code coverage should be complete.&lt;/p&gt;

&lt;p&gt;There is now some additional overhead because of the required synchronization of the static getDefaultExpressionEngine() method, which also gets called if no specific expression engine is set for a configuration instance. This could be avoided if the default expression engine is fetched once in the constructor of HierarchicalConfiguration and copied into the member field for the local expression engine. The drawback is that this could break existing code that relies on the fact that changing the default expression engine immediately impacts all configuration instances that have no specific expression engine set. So I would prefer making this change only in a major release.&lt;/p&gt;</comment>
                            <comment id="12513695" author="oliver.heger@t-online.de" created="Wed, 18 Jul 2007 19:36:12 +0000"  >&lt;p&gt;Got no more feedback, so assuming the problem is solved. Please reopen if the issue persists.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Tue, 26 Jun 2007 19:45:35 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>110810</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            9 years, 21 weeks, 1 day ago
                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0uozb:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>177188</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        </customfields>
    </item>
</channel>
</rss>