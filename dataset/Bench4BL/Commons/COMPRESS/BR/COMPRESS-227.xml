<!-- 
RSS generated by JIRA (6.3.4#6332-sha1:51bc225ef474afe3128b2f66878477f322397b16) at Thu Dec 01 20:27:51 UTC 2016

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary add field=key&field=summary to the URL of your request.
For example:
https://issues.apache.org/jira/si/jira.issueviews:issue-xml/COMPRESS-227/COMPRESS-227.xml?field=key&amp;field=summary
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>6.3.4</version>
        <build-number>6332</build-number>
        <build-date>15-08-2014</build-date>
    </build-info>

<item>
            <title>[COMPRESS-227] duplicate entries may let ZipFile#getInputStream return null</title>
                <link>https://issues.apache.org/jira/browse/COMPRESS-227</link>
                <project id="12310904" key="COMPRESS">Commons Compress</project>
                    <description>&lt;p&gt;Found while investigating &lt;a href=&quot;https://issues.apache.org/bugzilla/show_bug.cgi?id=54967&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/bugzilla/show_bug.cgi?id=54967&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;If an archive contains two entries for the same file readCentralDirectory in ZipFile will only add the first entry to the entries map and only the last to the nameMap map - this is because entries is a LinkedHashMap and nameMap is a &quot;plain&quot; HashMap.&lt;/p&gt;

&lt;p&gt;Normally this wouldn&apos;t matter since both ZipArchiveEntry instances are equal and thus it is irrelevant which of the two is used as a key when obtaining the InputStream.&lt;/p&gt;

&lt;p&gt;Things get different, though, if the entry has data inside the local file header as only the first entry is dealt with in resolveLocalFileHeaderData - after this the two instances are no longer equal and nameMap.get(NAME) will return an instance that can no longer be found.&lt;/p&gt;

&lt;p&gt;I intend to modify readCentralDirectory to only add the first entry to nameMap as well and document the behavior.  I&apos;ll also start a discussion thread on the dev list on whether we need to provide an additional API with multiple entries per name.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12648439">COMPRESS-227</key>
            <summary>duplicate entries may let ZipFile#getInputStream return null</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/bug.png">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.png">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="bodewig">Stefan Bodewig</assignee>
                                    <reporter username="bodewig">Stefan Bodewig</reporter>
                        <labels>
                            <label>zip</label>
                    </labels>
                <created>Mon, 20 May 2013 14:08:24 +0000</created>
                <updated>Tue, 4 Jun 2013 04:27:10 +0000</updated>
                            <resolved>Tue, 4 Jun 2013 04:27:10 +0000</resolved>
                                    <version>1.5</version>
                                    <fixVersion>1.6</fixVersion>
                                    <component>Archivers</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                <comments>
                            <comment id="13662086" author="bodewig" created="Mon, 20 May 2013 15:34:24 +0000"  >&lt;p&gt;One way to fix it is committed with svn revision 1484499&lt;/p&gt;</comment>
                            <comment id="13662833" author="bodewig" created="Tue, 21 May 2013 09:16:39 +0000"  >&lt;p&gt;Test archive containing the same (empty) entry twice&lt;/p&gt;</comment>
                            <comment id="13663458" author="sebb@apache.org" created="Tue, 21 May 2013 21:54:53 +0000"  >&lt;p&gt;The test archive shows 2 entries in both WinZip (9.0) and 7-Zip (9.20).&lt;/p&gt;</comment>
                            <comment id="13667143" author="bodewig" created="Sat, 25 May 2013 17:57:48 +0000"  >&lt;p&gt;svn revision 1486348 adds two methods to ZipFile that provide access to all entries of a given name.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12583988" name="test.zip" size="254" author="bodewig" created="Tue, 21 May 2013 09:16:39 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Tue, 21 May 2013 21:54:53 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>328794</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            3 years, 27 weeks, 5 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1kq7z:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>329136</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        </customfields>
    </item>
</channel>
</rss>