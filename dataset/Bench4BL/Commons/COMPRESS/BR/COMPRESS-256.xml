<!-- 
RSS generated by JIRA (6.3.4#6332-sha1:51bc225ef474afe3128b2f66878477f322397b16) at Thu Dec 01 20:41:07 UTC 2016

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary add field=key&field=summary to the URL of your request.
For example:
https://issues.apache.org/jira/si/jira.issueviews:issue-xml/COMPRESS-256/COMPRESS-256.xml?field=key&amp;field=summary
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>6.3.4</version>
        <build-number>6332</build-number>
        <build-date>15-08-2014</build-date>
    </build-info>

<item>
            <title>[COMPRESS-256] 7z: 16 MB dictionary is too big</title>
                <link>https://issues.apache.org/jira/browse/COMPRESS-256</link>
                <project id="12310904" key="COMPRESS">Commons Compress</project>
                    <description>&lt;p&gt;I created an archiv with 7zip 9.20 containing the compress-1.7-src directory. Also tried it with 1.6 version and directory. I &lt;/p&gt;

&lt;p&gt;downloaded the zip file and reziped it as 7z. The standard setting where used:&lt;br/&gt;
Compression level: normal&lt;br/&gt;
Compression method: lzma2&lt;br/&gt;
Dictionary size: 16 MB&lt;br/&gt;
Word size: 32&lt;br/&gt;
Solid Block size: 2 GB&lt;/p&gt;

&lt;p&gt;I get an exception if I try to open the file with the simple line of code:&lt;br/&gt;
SevenZFile input = new SevenZFile(new File(arcName));&lt;/p&gt;

&lt;p&gt;Maybe it is a bug in the tukaani library, but I do not know how to report it to them.&lt;br/&gt;
The exception thrown:&lt;/p&gt;

&lt;p&gt;org.tukaani.xz.UnsupportedOptionsException: LZMA dictionary is too big for this implementation&lt;br/&gt;
	at org.tukaani.xz.LZMAInputStream.initialize(Unknown Source)&lt;br/&gt;
	at org.tukaani.xz.LZMAInputStream.&amp;lt;init&amp;gt;(Unknown Source)&lt;br/&gt;
	at org.apache.commons.compress.archivers.sevenz.Coders$LZMADecoder.decode(Coders.java:117)&lt;br/&gt;
	at org.apache.commons.compress.archivers.sevenz.Coders.addDecoder(Coders.java:48)&lt;br/&gt;
	at org.apache.commons.compress.archivers.sevenz.SevenZFile.readEncodedHeader(SevenZFile.java:278)&lt;br/&gt;
	at org.apache.commons.compress.archivers.sevenz.SevenZFile.readHeaders(SevenZFile.java:190)&lt;br/&gt;
	at org.apache.commons.compress.archivers.sevenz.SevenZFile.&amp;lt;init&amp;gt;(SevenZFile.java:94)&lt;br/&gt;
	at org.apache.commons.compress.archivers.sevenz.SevenZFile.&amp;lt;init&amp;gt;(SevenZFile.java:116)&lt;br/&gt;
	at compress.SevenZipError.main(SevenZipError.java:28)&lt;/p&gt;</description>
                <environment></environment>
        <key id="12689837">COMPRESS-256</key>
            <summary>7z: 16 MB dictionary is too big</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/bug.png">Bug</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.png">Minor</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="Stefan Mueller">Stefan Mueller</reporter>
                        <labels>
                            <label>7zip</label>
                    </labels>
                <created>Mon, 20 Jan 2014 17:18:17 +0000</created>
                <updated>Wed, 22 Jan 2014 05:16:37 +0000</updated>
                            <resolved>Wed, 22 Jan 2014 05:16:37 +0000</resolved>
                                    <version>1.6</version>
                    <version>1.7</version>
                                    <fixVersion>1.8</fixVersion>
                                    <component>Archivers</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                                <comments>
                            <comment id="13877483" author="bodewig" created="Tue, 21 Jan 2014 14:05:28 +0000"  >&lt;p&gt;note this is while reading the header rather than the content of the entry.  The content may use LZMA2 but the header seems to use LZMA.&lt;/p&gt;

&lt;p&gt;XZ for Java says:&lt;/p&gt;

&lt;blockquote&gt;
&lt;ul&gt;
	&lt;li&gt;LZMA allows dictionaries up to one byte less than 4 GiB. This&lt;/li&gt;
	&lt;li&gt;implementation supports only 16 bytes less than 2 GiB. This&lt;/li&gt;
	&lt;li&gt;limitation is due to Java using signed 32-bit integers for array&lt;/li&gt;
	&lt;li&gt;indexing. The limitation shouldn&apos;t matter much in practice since so&lt;/li&gt;
	&lt;li&gt;huge dictionaries are not normally used.&lt;/li&gt;
&lt;/ul&gt;
&lt;/blockquote&gt;

&lt;p&gt;uhm, apparently they are used.  But then again I&apos;m surprised 7z would use a dictionary larger than 2GiB for headers.  This makes me believe there is some bug in our parsing code for compressed headers.  Again, any chance you could provide an example archive?&lt;/p&gt;</comment>
                            <comment id="13877513" author="stefan mueller" created="Tue, 21 Jan 2014 15:08:33 +0000"  >&lt;p&gt;I attached the archive with the problem.&lt;br/&gt;
Btw. besides the two problem-archives I have got a third archive with same settings that works without problems.&lt;/p&gt;</comment>
                            <comment id="13878271" author="bodewig" created="Wed, 22 Jan 2014 05:16:37 +0000"  >&lt;p&gt;fixed with svn revision 1560252&lt;/p&gt;

&lt;p&gt;Java&apos;s signed bytes and overflowing integers byting us &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/sad.gif&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12624138" name="dictTooBig.7z" size="4069842" author="Stefan Mueller" created="Tue, 21 Jan 2014 15:03:55 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Tue, 21 Jan 2014 14:05:28 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>368804</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            2 years, 45 weeks, 1 day ago
                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1rkf3:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>369108</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        </customfields>
    </item>
</channel>
</rss>