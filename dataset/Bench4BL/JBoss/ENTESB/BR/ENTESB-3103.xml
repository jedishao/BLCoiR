<!-- 
RSS generated by JIRA (7.2.3#72005-sha1:73be91d2b96fc29303a7eb6820acf420e5d0ed65) at Mon Dec 12 15:34:47 EST 2016

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary add field=key&field=summary to the URL of your request.
For example:
https://issues.jboss.org/si/jira.issueviews:issue-xml/ENTESB-3103/ENTESB-3103.xml?field=key&amp;field=summary
-->
<rss version="0.92" >
<channel>
    <title>JBoss Issue Tracker</title>
    <link>https://issues.jboss.org</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-us</language>    <build-info>
        <version>7.2.3</version>
        <build-number>72005</build-number>
        <build-date>06-10-2016</build-date>
    </build-info>

<item>
            <title>[ENTESB-3103] Netty leaks timeout handlers</title>
                <link>https://issues.jboss.org/browse/ENTESB-3103</link>
                <project id="12314570" key="ENTESB">JBoss Fuse</project>
                    <description>&lt;p&gt;After applying &lt;a href=&quot;https://issues.jboss.org/browse/ENTESB-2783&quot; title=&quot;NettyComponent#getTimer() returns null intermittently &quot; class=&quot;issue-link&quot; data-issue-key=&quot;ENTESB-2783&quot;&gt;&lt;del&gt;ENTESB-2783&lt;/del&gt;&lt;/a&gt;, Netty exposed a hidden memory leak. It looks like the timeout handlers are registered, but never removed until the component is stopped.&lt;/p&gt;

&lt;p&gt;See attached MAT screenshots.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12569887">ENTESB-3103</key>
            <summary>Netty leaks timeout handlers</summary>
                <type id="1" iconUrl="https://issues.jboss.org/secure/viewavatar?size=xsmall&amp;avatarId=13263&amp;avatarType=issuetype">Bug</type>
                                            <priority id="1" iconUrl="https://issues.jboss.org/images/icons/priorities/blocker.svg">Blocker</priority>
                        <status id="6" iconUrl="https://issues.jboss.org/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Done</resolution>
                                        <assignee username="willem.jiang">Willem Jiang</assignee>
                                    <reporter username="hkonsek">Henryk Konsek</reporter>
                        <labels>
                    </labels>
                <created>Mon, 27 Apr 2015 12:16:07 -0400</created>
                <updated>Mon, 30 Nov 2015 10:46:04 -0500</updated>
                            <resolved>Fri, 15 May 2015 11:06:36 -0400</resolved>
                                    <version> jboss-fuse-6.2</version>
                                    <fixVersion>jboss-fuse-6.2.1</fixVersion>
                                    <component>Camel</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>5</watches>
                                                                <comments>
                            <comment id="13064358" author="willem.jiang" created="Thu, 30 Apr 2015 09:46:24 -0400"  >&lt;p&gt;Just attached the patched camel-netty and camel-netty-http jars for verification.&lt;/p&gt;</comment>
                            <comment id="13064918" author="hkonsek" created="Mon, 4 May 2015 06:36:06 -0400"  >&lt;p&gt;Great thanks Willem!&lt;/p&gt;</comment>
                            <comment id="13067339" author="willem.jiang" created="Tue, 12 May 2015 11:06:25 -0400"  >&lt;p&gt;Hi Henryk,&lt;/p&gt;

&lt;p&gt;I checked the memory dump file, it looks like the LinkedBlockingQueue which is hold by the OrderedMemoryAwareThreadPool eats up all the memory.  It has nothing to do the first issue report I showed to you today.&lt;/p&gt;

&lt;p&gt;Current camel-netty just doesn&apos;t setup the memory size of the LinkedBlockingQueue which could lead to situation of memory leak.&lt;br/&gt;
Now I&apos;m setting up the memory size of the  OrderedMemoryAwareThreadPool, channel event size is 10M,  total memory size is 200M. If these limit is reached, the  OrderedMemoryAwareThreadPool  could block the caller thread of executor() method to avoid adding the task to the LinkedBlockingQueue.&lt;/p&gt;

&lt;p&gt;I just attached the patched jars for verification.&lt;/p&gt;

&lt;p&gt;Regards,&lt;/p&gt;

&lt;p&gt;Willem&lt;/p&gt;</comment>
                            <comment id="13135204" author="trohovsky" created="Mon, 30 Nov 2015 10:46:04 -0500"  >&lt;p&gt;Closing based on verification by the customer.&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="12310001">
                    <name>Related</name>
                                            <outwardlinks description="relates to">
                                                        </outwardlinks>
                                                        </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="12389526" name="camel-netty-2.12.0.redhat-611424.jar" size="92892" author="willem.jiang" created="Tue, 12 May 2015 11:07:56 -0400"/>
                            <attachment id="12389525" name="camel-netty-http-2.12.0.redhat-611424.jar" size="86331" author="willem.jiang" created="Tue, 12 May 2015 11:07:56 -0400"/>
                            <attachment id="12389211" name="mat1.png" size="265760" author="hkonsek" created="Mon, 27 Apr 2015 12:16:54 -0400"/>
                            <attachment id="12389212" name="mat2.png" size="254664" author="hkonsek" created="Mon, 27 Apr 2015 12:16:54 -0400"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12310641" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Number of attachments</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>4.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310640" key="com.atlassian.jira.toolkit:comments">
                        <customfieldname>Number of comments</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>4.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12311940" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1|hzw46n:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310840" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                </customfields>
    </item>
</channel>
</rss>