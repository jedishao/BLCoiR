<!-- 
RSS generated by JIRA (7.2.3#72005-sha1:73be91d2b96fc29303a7eb6820acf420e5d0ed65) at Tue Dec 06 21:59:53 EST 2016

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary add field=key&field=summary to the URL of your request.
For example:
https://issues.jboss.org/si/jira.issueviews:issue-xml/ENTESB-5414/ENTESB-5414.xml?field=key&amp;field=summary
-->
<rss version="0.92" >
<channel>
    <title>JBoss Issue Tracker</title>
    <link>https://issues.jboss.org</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-us</language>    <build-info>
        <version>7.2.3</version>
        <build-number>72005</build-number>
        <build-date>06-10-2016</build-date>
    </build-info>

<item>
            <title>[ENTESB-5414] [Camel] org.apache.camel.impl.DefaultInflightRepository holding onto DefaultExchange instances when using Restlet Producer synchronous=true</title>
                <link>https://issues.jboss.org/browse/ENTESB-5414</link>
                <project id="12314570" key="ENTESB">JBoss Fuse</project>
                    <description>&lt;p&gt;invoking  Camel restlet component  (producer) synchronous=true within a recipientList EIP with noErrorHandler configured on route is  causing  DefaultExchange&apos;s to build up in org.apache.camel.impl.DefaultInflightRepository.  &lt;/p&gt;

&lt;p&gt;It seems that the recipientList/Restlet producer creates a &quot;new exchange&quot;  when invoking the restlet service. Normally the org.apache.camel.impl.DefaultUnitOfWork#done() would be invoked after the exchange is used and the would remove it from the  org.apache.camel.impl.DefaultInflightRepository. However with noErrorHandler  in place, the DefaultUnitOfWork#done() is not been called and that &quot;new exchange&quot; is left in the DefaultInflightRepository.&lt;/p&gt;</description>
                <environment>&lt;p&gt;2.15.1.redhat-621084&lt;/p&gt;</environment>
        <key id="12617489">ENTESB-5414</key>
            <summary>[Camel] org.apache.camel.impl.DefaultInflightRepository holding onto DefaultExchange instances when using Restlet Producer synchronous=true</summary>
                <type id="1" iconUrl="https://issues.jboss.org/secure/viewavatar?size=xsmall&amp;avatarId=13263&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.jboss.org/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.jboss.org/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Done</resolution>
                                        <assignee username="oscerd">Andrea Cosentino</assignee>
                                    <reporter username="pfox">Pat Fox</reporter>
                        <labels>
                    </labels>
                <created>Thu, 28 Apr 2016 16:07:19 -0400</created>
                <updated>Tue, 7 Jun 2016 10:28:42 -0400</updated>
                            <resolved>Fri, 29 Apr 2016 08:37:21 -0400</resolved>
                                    <version>jboss-fuse-6.2.1</version>
                                    <fixVersion>jboss-fuse-6.3</fixVersion>
                                    <component>Camel</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>4</watches>
                                                                <comments>
                            <comment id="13198890" author="pfox" created="Fri, 29 Apr 2016 04:58:28 -0400"  >&lt;p&gt;potential workarounds for now (that worked in my test): &lt;/p&gt;

&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;use the DefaultErrorHandler&lt;br/&gt;
OR&lt;/li&gt;
	&lt;li&gt;do not use restlet component within recipientList EIP&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13199020" author="davsclaus" created="Fri, 29 Apr 2016 08:09:26 -0400"  >&lt;p&gt;Thanks Pat for the unit test. That was excellent. There is indeed that bug in camel-restlet when you use synchronous=true and without that default error handler that otherwise would call the callback. But we should call  the callback from the restlet producer as well when it goes into sync mode. I am fixing this upstream.&lt;/p&gt;</comment>
                            <comment id="13199022" author="davsclaus" created="Fri, 29 Apr 2016 08:10:27 -0400"  >&lt;p&gt;See ticket: &lt;a href=&quot;https://issues.apache.org/jira/browse/CAMEL-9929&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/browse/CAMEL-9929&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="13249016" author="tturek" created="Tue, 7 Jun 2016 10:28:42 -0400"  >&lt;p&gt;Verified on fuse-6.3.0.redhat-069.&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="12310001">
                    <name>Related</name>
                                                                <inwardlinks description="is related to">
                                                        </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="12400826" name="RecipientListInflightExchangesTest.java" size="3006" author="pfox" created="Thu, 28 Apr 2016 16:11:06 -0400"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12310641" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Number of attachments</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310640" key="com.atlassian.jira.toolkit:comments">
                        <customfieldname>Number of comments</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>4.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12311940" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1|i03ofb:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310840" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                <customfield id="customfield_12310940" key="com.pyxis.greenhopper.jira:gh-sprint">
                        <customfieldname>Sprint</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue id="4672">6.3 Sprint 4 (Mar 28 - Apr 29)</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310183" key="com.atlassian.jira.plugin.system.customfieldtypes:textarea">
                        <customfieldname>Steps to Reproduce</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>&lt;p&gt;Unit test attached&lt;/p&gt;</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12310080" key="com.atlassian.jira.plugin.system.customfieldtypes:userpicker">
                        <customfieldname>Tester</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>tturek</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            </customfields>
    </item>
</channel>
</rss>