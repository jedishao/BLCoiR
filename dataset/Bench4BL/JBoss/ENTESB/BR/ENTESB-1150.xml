<!-- 
RSS generated by JIRA (7.2.3#72005-sha1:73be91d2b96fc29303a7eb6820acf420e5d0ed65) at Tue Dec 06 23:23:00 EST 2016

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary add field=key&field=summary to the URL of your request.
For example:
https://issues.jboss.org/si/jira.issueviews:issue-xml/ENTESB-1150/ENTESB-1150.xml?field=key&amp;field=summary
-->
<rss version="0.92" >
<channel>
    <title>JBoss Issue Tracker</title>
    <link>https://issues.jboss.org</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-us</language>    <build-info>
        <version>7.2.3</version>
        <build-number>72005</build-number>
        <build-date>06-10-2016</build-date>
    </build-info>

<item>
            <title>[ENTESB-1150] Error importing files into fabric using CLI</title>
                <link>https://issues.jboss.org/browse/ENTESB-1150</link>
                <project id="12314570" key="ENTESB">JBoss Fuse</project>
                    <description>&lt;p&gt;Trying to import broker config into a newly created fabric results in the following error...&lt;/p&gt;

&lt;p&gt;Error executing command: Path must not end with / character&lt;/p&gt;

&lt;p&gt;When running in debug I can see that the path causing the stacktrace below is..&lt;br/&gt;
/fabric/configs/versions/1.0/profiles/mq-base/my-broker.xml/&lt;/p&gt;

&lt;p&gt;Looks like a forward slash is being appended to the target path.&lt;/p&gt;

&lt;p&gt;Stacktrace..&lt;br/&gt;
    13:39:06,307 | INFO  | l Console Thread | Console                          | 16 - org.apache.karaf.shell.console - 2.3.0.redhat-610321 | Exception caught while executing command&lt;br/&gt;
    java.lang.IllegalArgumentException: Path must not end with / character&lt;br/&gt;
    at org.apache.zookeeper.common.PathUtils.validatePath(PathUtils.java:58)&lt;span class=&quot;error&quot;&gt;&amp;#91;56:io.fabric8.fabric-zookeeper:1.0.0.redhat-321&amp;#93;&lt;/span&gt;&lt;br/&gt;
    at org.apache.zookeeper.ZooKeeper.exists(ZooKeeper.java:1020)&lt;span class=&quot;error&quot;&gt;&amp;#91;56:io.fabric8.fabric-zookeeper:1.0.0.redhat-321&amp;#93;&lt;/span&gt;&lt;br/&gt;
    at org.apache.curator.framework.imps.ExistsBuilderImpl$2.call(ExistsBuilderImpl.java:172)&lt;span class=&quot;error&quot;&gt;&amp;#91;56:io.fabric8.fabric-zookeeper:1.0.0.redhat-321&amp;#93;&lt;/span&gt;&lt;br/&gt;
    at org.apache.curator.framework.imps.ExistsBuilderImpl$2.call(ExistsBuilderImpl.java:161)&lt;span class=&quot;error&quot;&gt;&amp;#91;56:io.fabric8.fabric-zookeeper:1.0.0.redhat-321&amp;#93;&lt;/span&gt;&lt;br/&gt;
    at org.apache.curator.RetryLoop.callWithRetry(RetryLoop.java:107)&lt;span class=&quot;error&quot;&gt;&amp;#91;56:io.fabric8.fabric-zookeeper:1.0.0.redhat-321&amp;#93;&lt;/span&gt;&lt;br/&gt;
    at org.apache.curator.framework.imps.ExistsBuilderImpl.pathInForeground(ExistsBuilderImpl.java:157)&lt;span class=&quot;error&quot;&gt;&amp;#91;56:io.fabric8.fabric-zookeeper:1.0.0.redhat-321&amp;#93;&lt;/span&gt;&lt;/p&gt;</description>
                <environment></environment>
        <key id="12530282">ENTESB-1150</key>
            <summary>Error importing files into fabric using CLI</summary>
                <type id="1" iconUrl="https://issues.jboss.org/secure/viewavatar?size=xsmall&amp;avatarId=13263&amp;avatarType=issuetype">Bug</type>
                                            <priority id="4" iconUrl="https://issues.jboss.org/images/icons/priorities/minor.svg">Minor</priority>
                        <status id="5" iconUrl="https://issues.jboss.org/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Done</resolution>
                                        <assignee username="jamesrawlings">James Rawlings</assignee>
                                    <reporter username="jamesrawlings">James Rawlings</reporter>
                        <labels>
                    </labels>
                <created>Fri, 24 Jan 2014 06:34:51 -0500</created>
                <updated>Thu, 27 Feb 2014 02:28:23 -0500</updated>
                            <resolved>Mon, 27 Jan 2014 07:06:15 -0500</resolved>
                                    <version>jboss-fuse-6.1</version>
                                    <fixVersion>jboss-fuse-6.1</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                <comments>
                            <comment id="12938805" author="jamesrawlings" created="Sun, 26 Jan 2014 17:30:03 -0500"  >&lt;p&gt;Looks like a new ZookeeperUtils method is called which has validation checking that the target path doesn&apos;t have a forward slash at the end.  I&apos;ve removed code that appended this slash and added a unit test albeit not a great one as I didn&apos;t know how to assert the imported config in ZK.  &lt;/p&gt;

&lt;p&gt;The method changed is only called from one place so impact is minimal and I have also manually tested the change in Fuse.&lt;/p&gt;</comment>
                            <comment id="12938806" author="jamesrawlings" created="Sun, 26 Jan 2014 17:31:56 -0500"  >&lt;p&gt;Pull request submitted..&lt;br/&gt;
&lt;a href=&quot;https://github.com/fabric8io/fabric8/pull/591&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://github.com/fabric8io/fabric8/pull/591&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="12938907" author="jamesrawlings" created="Mon, 27 Jan 2014 07:06:15 -0500"  >&lt;p&gt;Merged into master&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12310641" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Number of attachments</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310640" key="com.atlassian.jira.toolkit:comments">
                        <customfieldname>Number of comments</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>3.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12311940" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1|hzlxzj:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310840" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>188300</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                            <customfield id="customfield_12310183" key="com.atlassian.jira.plugin.system.customfieldtypes:textarea">
                        <customfieldname>Steps to Reproduce</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>&lt;p&gt;Running the following command results in error...&lt;/p&gt;

&lt;p&gt;fabric:create --clean&lt;br/&gt;
import --target /fabric/configs/versions/1.0/profiles/mq-base/my-broker.xml config/my-broker.xml&lt;/p&gt;
</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                            </customfields>
    </item>
</channel>
</rss>