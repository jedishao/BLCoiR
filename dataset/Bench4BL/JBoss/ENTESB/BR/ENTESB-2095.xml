<!-- 
RSS generated by JIRA (7.2.3#72005-sha1:73be91d2b96fc29303a7eb6820acf420e5d0ed65) at Tue Dec 06 21:50:57 EST 2016

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary add field=key&field=summary to the URL of your request.
For example:
https://issues.jboss.org/si/jira.issueviews:issue-xml/ENTESB-2095/ENTESB-2095.xml?field=key&amp;field=summary
-->
<rss version="0.92" >
<channel>
    <title>JBoss Issue Tracker</title>
    <link>https://issues.jboss.org</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-us</language>    <build-info>
        <version>7.2.3</version>
        <build-number>72005</build-number>
        <build-date>06-10-2016</build-date>
    </build-info>

<item>
            <title>[ENTESB-2095] Cartridge Creation fails waiting on console</title>
                <link>https://issues.jboss.org/browse/ENTESB-2095</link>
                <project id="12314570" key="ENTESB">JBoss Fuse</project>
                    <description>&lt;p&gt;When creating a cartridge with openshift-origin-cartridge-amq-6.1.1.redhat.406-1.el6op.noarch.rpm  openshift-origin-cartridge-fuse-6.1.1.redhat.406-1.el6op.noarch.rpm &lt;/p&gt;

&lt;p&gt;Running rhc app create myamq1 amq-6.1.1 or rhc app create myfuse1 fuse-6.1.1&lt;/p&gt;

&lt;p&gt;You get the following error, which stops you from being able to create the cartridge. &lt;/p&gt;

&lt;p&gt;October 15 16:18:09 INFO openshift-agent: request end: action=cartridge_do, requestid=0e9787fbe5cc5012aecf0a4d26dbe25d, senderid=broker.xpass.com, statuscode=1, data={:time=&amp;gt;nil, :output=&amp;gt;&quot;Shell command &apos;/sbin/runuser -s /bin/sh 543ed5327f116a704e000036 -c \&quot;exec /usr/bin/runcon &apos;unconfined_u:system_r:openshift_t:s0:c4,c98&apos; /bin/sh -c \\\&quot;/var/lib/openshift/543ed5327f116a704e000036/amq/bin/install --version 6.1.1\\\&quot;\&quot;&apos; returned an error. rc=1\nCLIENT_RESULT: Generating password\nCLIENT_RESULT: Configuring zookeeper server\nCLIENT_MESSAGE: ENV_VAR_ADD: OPENSHIFT_FUSE_DOMAIN_DNS=myamq1-myxpaas.xpass.com\nCLIENT_MESSAGE: ENV_VAR_ADD: OPENSHIFT_FUSE_DOMAIN_SSH_PORT=60732\nCLIENT_MESSAGE: ENV_VAR_ADD: OPENSHIFT_FUSE_DOMAIN_HTTP_PORT=80\nCLIENT_MESSAGE: ENV_VAR_ADD: OPENSHIFT_FUSE_DOMAIN_ZOOKEEPER_URL=myamq1-myxpaas.xpass.com:60731\nCLIENT_MESSAGE: ENV_VAR_ADD: OPENSHIFT_FUSE_DOMAIN_PASSWORD=g-SBj1jscHiu\nCLIENT_RESULT: \nCLIENT_RESULT: Application myamq1 created successfully.  Please make note of these credentials:\nCLIENT_RESULT: \nCLIENT_RESULT:    Console URL:        &lt;a href=&quot;https://myamq1-myxpaas.xpass.comnCLIENT_RESULT:&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://myamq1-myxpaas.xpass.com\nCLIENT_RESULT:&lt;/a&gt;    Console User:       admin\nCLIENT_RESULT:    Console Password:   g-SBj1jscHiu\nCLIENT_RESULT:    Zookeeper URL:      myamq1-myxpaas.xpass.com:60731\nCLIENT_RESULT:    Zookeeper Password: g-SBj1jscHiu\nCLIENT_RESULT:    SSL Certificate URL: &lt;a href=&quot;https://myamq1-myxpaas.xpass.com/hawtio/index.html#/wiki/branch/1.0/view/fabric/profiles/default.profile/keystore.certnCLIENT_RESULT:&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://myamq1-myxpaas.xpass.com/hawtio/index.html#/wiki/branch/1.0/view/fabric/profiles/default.profile/keystore.cert\nCLIENT_RESULT:&lt;/a&gt; \nCLIENT_RESULT:    The management console will be available shortly at: &lt;a href=&quot;https://myamq1-myxpaas.xpass.comnCLIENT_RESULT:&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://myamq1-myxpaas.xpass.com\nCLIENT_RESULT:&lt;/a&gt; \nCLIENT_MESSAGE: CART_PROPERTIES: username=admin\nCLIENT_MESSAGE: CART_PROPERTIES: password=g-SBj1jscHiu\nCLIENT_ERROR: Command Failed: Could not reach myamq1 console.\n\n\n&quot;, :exitcode=&amp;gt;157, :addtl_params=&amp;gt;nil}&lt;br/&gt;
October 15 16:18:10 INFO openshift-agent: request start: action=cartridge_do requestid=22495ce1078e5f288d5fc729e5d27800, senderid=broker.xpass.com, data={:cartridge=&amp;gt;&quot;openshift-origin-node&quot;, :action=&amp;gt;&quot;app-destroy&quot;, :args=&amp;gt;&lt;/p&gt;
{&quot;--with-app-uuid&quot;=&amp;gt;&quot;543ed5327f116a704e000036&quot;, &quot;--with-app-name&quot;=&amp;gt;&quot;myamq1&quot;, &quot;--with-expose-ports&quot;=&amp;gt;false, &quot;--with-container-uuid&quot;=&amp;gt;&quot;543ed5327f116a704e000036&quot;, &quot;--with-container-name&quot;=&amp;gt;&quot;myamq1&quot;, &quot;--with-namespace&quot;=&amp;gt;&quot;myxpaas&quot;, &quot;--with-uid&quot;=&amp;gt;4180, &quot;--with-request-id&quot;=&amp;gt;&quot;3affbde5957fe111fdc905a2bb6841e0&quot;, &quot;--cart-name&quot;=&amp;gt;&quot;openshift-origin-node&quot;}
&lt;p&gt;, :process_results=&amp;gt;true}&lt;/p&gt;

&lt;p&gt;What is happening here is at the end of the install (script), your cartridge, is trying to check if your console is up and working, however after 300 tries you give up, and throw an error. At which point OSE remvoes the gear because it failed to install.&lt;/p&gt;

&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;Note: this removes the logs, and makes it hard to troubleshoot if/what the root cause is.&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;Because &lt;a href=&quot;https://bugzilla.redhat.com/show_bug.cgi?id=1092045&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://bugzilla.redhat.com/show_bug.cgi?id=1092045&lt;/a&gt; is not an option for us right now its hard to track down why the cartridge is failing. &lt;/p&gt;

&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;Note: this feature is coming in 2.2 (however will not be getting a back-port to 2.1, to my knowledge).&lt;/li&gt;
&lt;/ul&gt;
</description>
                <environment>&lt;p&gt;OpenShift Enterprise 2.1&lt;/p&gt;</environment>
        <key id="12555334">ENTESB-2095</key>
            <summary>Cartridge Creation fails waiting on console</summary>
                <type id="1" iconUrl="https://issues.jboss.org/secure/viewavatar?size=xsmall&amp;avatarId=13263&amp;avatarType=issuetype">Bug</type>
                                            <priority id="2" iconUrl="https://issues.jboss.org/images/icons/priorities/critical.svg">Critical</priority>
                        <status id="6" iconUrl="https://issues.jboss.org/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Done</resolution>
                                        <assignee username="janstey">Jonathan Anstey</assignee>
                                    <reporter username="edrich">Eric Rich</reporter>
                        <labels>
                    </labels>
                <created>Thu, 16 Oct 2014 09:49:42 -0400</created>
                <updated>Thu, 28 Jan 2016 11:04:02 -0500</updated>
                            <resolved>Thu, 28 Jan 2016 11:04:02 -0500</resolved>
                                    <version>jboss-fuse-6.1</version>
                    <version>jboss-fuse-6.1 on OSE</version>
                                    <fixVersion>Future</fixVersion>
                                    <component>Documentation</component>
                    <component>OpenShift</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>10</watches>
                                                                <comments>
                            <comment id="13012595" author="edrich" created="Thu, 16 Oct 2014 11:43:04 -0400"  >&lt;p&gt;I was able to get logs from the cartridge by doing the following (on the node): &lt;/p&gt;

&lt;p&gt;mktemp -d /mytemp.XXX&lt;br/&gt;
chmod 777 /mytemp.XXX/&lt;br/&gt;
setenforce 0 &lt;/p&gt;

&lt;p&gt;Applying the following to /var/lib/openshift/.cartridge_repository/redhat-amq/0.0.1/bin/install&lt;br/&gt;
43a44,45&lt;br/&gt;
&amp;gt;            # I added this to get debugging when this error happens. &lt;br/&gt;
&amp;gt;            cp $&lt;/p&gt;
{OPENSHIFT_FUSE_LOG_DIR}
&lt;p&gt;/* /mytemp.4HF/&lt;/p&gt;

&lt;p&gt;Hopefully this shows us why the console can be connected to. &lt;/p&gt;</comment>
                            <comment id="13012600" author="janstey" created="Thu, 16 Oct 2014 11:53:49 -0400"  >&lt;p&gt;Logs don&apos;t really give anything helpful.... think I&apos;ll need to look around your env. &lt;/p&gt;

&lt;p&gt;BTW in my own testing using openshift-origin-cartridge-fuse-6.1.1.redhat.406-1.el6op.noarch.rpm, OSE 2.1.7-1 env everything works fine. The first app is created in 1m12s and then the next app takes about 35s. I suspected this may be a resource issue in your environment so I lowered my VM to 0.5 CPU. It took a lot longer, but still did not fail. It was 2m47s for the first app, then 1m32s for the next.&lt;/p&gt;</comment>
                            <comment id="13012662" author="janstey" created="Thu, 16 Oct 2014 15:50:40 -0400"  >&lt;p&gt;Tracked it down to fabric being unable to use a publichostname resolver in this environment. It may be because the DNS is not updated before fabric looks up this hostname, but I&apos;m not sure. Using a publicip based resolver gets around this though. By default we use publichostname in the cart so we may want to have this configurable during cart creation. Will take a look at this later, I have to run right now.&lt;/p&gt;

&lt;p&gt;Tracking mods to env (on node1.xpass.com):&lt;br/&gt;
I edited /var/lib/openshift/.cartridge_repository/redhat-fuse/0.0.1/versions/6.1/etc/system.properties.erb to include&lt;br/&gt;
global.resolver=publicip&lt;br/&gt;
local.resolver=publicip&lt;/p&gt;</comment>
                            <comment id="13012674" author="janstey" created="Thu, 16 Oct 2014 17:05:19 -0400"  >&lt;p&gt;Not all OSE network setups are equal so we shouldn&apos;t hardcode the fabric resolver policy to publichostname. Fixed with &lt;a href=&quot;https://github.com/jboss-fuse/fuse-openshift-cartridge/commit/fa37cdaca3817e4e574ad77f9fbf03406e3e861e&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://github.com/jboss-fuse/fuse-openshift-cartridge/commit/fa37cdaca3817e4e574ad77f9fbf03406e3e861e&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;By default it is publichostname, just like it has been throughout testing up to this point. To change it, users need to pass in an env variable like:&lt;/p&gt;

&lt;p&gt;rhc app create myfuse fuse-6.1.1 -e OPENSHIFT_FUSE_RESOLVER=publicip&lt;/p&gt;
</comment>
                            <comment id="13012676" author="edrich" created="Thu, 16 Oct 2014 17:16:47 -0400"  >&lt;p&gt;Is rhc app create myfuse fuse-6.1.1 -e OPENSHIFT_FUSE_RESOLVER=publicip the new default way to create application for AMQ an Fuse? If so this should be documented. &lt;/p&gt;</comment>
                            <comment id="13012677" author="janstey" created="Thu, 16 Oct 2014 17:28:53 -0400"  >&lt;p&gt;I wouldn&apos;t say it is the new default way to create - publicip shouldn&apos;t be used in all situations. For example, using publicip wouldn&apos;t work in my local VM environment.&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.jboss.org/secure/ViewProfile.jspa?name=mariel&quot; class=&quot;user-hover&quot; rel=&quot;mariel&quot;&gt;Mikey Ariel&lt;/a&gt; we should probably add a note to the cloud deployment guide about changing the resolver policy with the OPENSHIFT_FUSE_RESOLVER env variable as per &lt;a href=&quot;https://issues.jboss.org/browse/ENTESB-2095?focusedCommentId=13012674&amp;amp;page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-13012674&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.jboss.org/browse/ENTESB-2095?focusedCommentId=13012674&amp;amp;page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-13012674&lt;/a&gt; There are some notes on resolvers in fabric here: &lt;a href=&quot;https://access.redhat.com/documentation/en-US/Red_Hat_JBoss_Fuse/6.1/html/Console_Reference/files/ConsoleFabricContainerResolverSet.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://access.redhat.com/documentation/en-US/Red_Hat_JBoss_Fuse/6.1/html/Console_Reference/files/ConsoleFabricContainerResolverSet.html&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="13012679" author="edrich" created="Thu, 16 Oct 2014 17:37:43 -0400"  >&lt;p&gt;&lt;cite&gt;I wouldn&apos;t say it is the new default way to create - publicip shouldn&apos;t be used in all situations. For example, using publicip wouldn&apos;t work in my local VM environment.&lt;/cite&gt;&lt;/p&gt;

&lt;p&gt;Why not? A cartridge deployment is a cartridge deployment, is there something specific to you env that allows this to work? &lt;/p&gt;

&lt;p&gt;I would think that you would always want to use the publicip in a cloud based deployment as the point of a PaaS is that you don&apos;t have access or control over the infrastructure. &lt;br/&gt;
Should publicip be the default and not publichostname?&lt;/p&gt;</comment>
                            <comment id="13012714" author="maschmid" created="Fri, 17 Oct 2014 02:35:50 -0400"  >&lt;p&gt;I don&apos;t quite understand what properly setup OSE environment wouldn&apos;t work with publichostname and why... Can you please aloborate? At this point I am not sure if this change is a legitimate feature or a workaround for a possible OSE or configuration issue. &lt;/p&gt;</comment>
                            <comment id="13012717" author="maschmid" created="Fri, 17 Oct 2014 03:01:13 -0400"  >&lt;p&gt;And also, even if this would be the case of &quot;in specific environments, use OPENSHIFT_FUSE_RESOLVER=publicip&quot;, we must not pass this decision to the end-user. It must be setup by the OSE administrator.&lt;/p&gt;</comment>
                            <comment id="13012767" author="xuanjia" created="Fri, 17 Oct 2014 05:08:16 -0400"  >&lt;p&gt;&lt;a href=&quot;https://issues.jboss.org/secure/ViewProfile.jspa?name=edrich&quot; class=&quot;user-hover&quot; rel=&quot;edrich&quot;&gt;Eric Rich&lt;/a&gt; , could you tell us what&apos;s your DNS configuration? i can&apos;t reproduce this issue. &lt;/p&gt;</comment>
                            <comment id="13012825" author="edrich" created="Fri, 17 Oct 2014 07:16:36 -0400"  >&lt;p&gt;&lt;a href=&quot;https://issues.jboss.org/secure/ViewProfile.jspa?name=xuanjia&quot; class=&quot;user-hover&quot; rel=&quot;xuanjia&quot;&gt;Xuan Jia&lt;/a&gt; In my setup I have 1 broker (and support services with DNS) and 1 Node.  Since the broker hosts DNS, the following is what I have as the base configuration for my domain. &lt;/p&gt;

&lt;p&gt;$ORIGIN .&lt;br/&gt;
$TTL 1  ; 1 second&lt;br/&gt;
xpass.com   IN SOA  broker.xpass.com. hostmaster.xpass.com. (&lt;br/&gt;
        2011112958 ; serial&lt;br/&gt;
        60         ; refresh (1 minute)&lt;br/&gt;
        15         ; retry (15 seconds)&lt;br/&gt;
        1800       ; expire (30 minutes)&lt;br/&gt;
        10         ; minimum (10 seconds)&lt;br/&gt;
        )&lt;br/&gt;
      NS  broker.xpass.com.&lt;br/&gt;
      MX  10 mail.xpass.com.&lt;br/&gt;
$ORIGIN xpass.com.&lt;br/&gt;
broker      A 10.10.73.69&lt;br/&gt;
$TTL 60 ; 1 minute&lt;br/&gt;
$TTL 1  ; 1 second&lt;br/&gt;
node1     A 10.10.73.70&lt;/p&gt;</comment>
                            <comment id="13012833" author="xuanjia" created="Fri, 17 Oct 2014 07:37:23 -0400"  >&lt;p&gt;Hmm.. that&apos;s an usual environment. i am wondering how it happened.  Have you checked your environment is ok ?  &quot;oo-diagnostics -v &quot;on node/broker could check the most of common issues. &lt;/p&gt;</comment>
                            <comment id="13012886" author="edrich" created="Fri, 17 Oct 2014 09:32:57 -0400"  >&lt;p&gt;I ran oo-diagnostics on the broker and the node to prove the env has no issues. Attached are the logs and output. &lt;/p&gt;</comment>
                            <comment id="13013044" author="edrich" created="Fri, 17 Oct 2014 16:50:43 -0400"  >&lt;p&gt;So I mad the following change to your cartridge and was able to determine that the following is stopping the cartridge from instantiating. &lt;/p&gt;

&lt;p&gt;35a36&lt;br/&gt;
&amp;gt;             client_result &quot;TRACE: ($retries): curl -s &lt;a href=&quot;http://admin:$&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://admin:$&lt;/a&gt;&lt;/p&gt;
{OPENSHIFT_FUSE_PASSWORD}
&lt;p&gt;@$OPENSHIFT_FUSE_IP:8080/jolokia/read/io.fabric8:type=Fabric/CurrentContainerName&quot;&lt;br/&gt;
37c38,39&lt;br/&gt;
&amp;lt;             ( echo $result | grep &apos;&quot;status&quot;:200&apos; &amp;gt; /dev/null ) &amp;amp;&amp;amp; fabric_loaded=1 &amp;amp;&amp;amp; break&lt;br/&gt;
&amp;#8212;&lt;br/&gt;
&amp;gt;             ( echo $result | grep &apos;&quot;status&quot;:200&apos; &amp;gt;&amp;gt; /dev/null ) &amp;amp;&amp;amp; fabric_loaded=1 &amp;amp;&amp;amp; break&lt;br/&gt;
&amp;gt;             client_result $result&lt;/p&gt;

&lt;p&gt;You see this for about 100 cycles: &lt;/p&gt;

&lt;p&gt;CLIENT_RESULT: {&quot;error_type&quot;:&quot;javax.management.InstanceNotFoundException&quot;,&quot;error&quot;:&quot;javax.management.InstanceNotFoundException&lt;br/&gt;
CLIENT_RESULT: TRACE: (22): curl -s &lt;a href=&quot;http://admin:weddEvI9IPYr@127.3.31.1:8080/jolokia/read/io.fabric8:type=Fabric/CurrentContainerName&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://admin:weddEvI9IPYr@127.3.31.1:8080/jolokia/read/io.fabric8:type=Fabric/CurrentContainerName&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="13013063" author="edrich" created="Fri, 17 Oct 2014 17:55:30 -0400"  >&lt;p&gt;I was able to get the full thread by adding the following  to get more data. &lt;/p&gt;

&lt;p&gt;35a36,37&lt;br/&gt;
&amp;gt;             client_result `date +&quot;%T&quot;`&lt;br/&gt;
&amp;gt;             client_result &quot;TRACE: ($retries): curl -s &lt;a href=&quot;http://admin:$&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://admin:$&lt;/a&gt;&lt;/p&gt;
{OPENSHIFT_FUSE_PASSWORD}@$OPENSHIFT_FUSE_IP:8080/jolokia/read/io.fabric8:type=Fabric/CurrentContainerName&quot;&lt;br/&gt;
37c39,40&lt;br/&gt;
&amp;lt;             ( echo $result | grep &apos;&quot;status&quot;:200&apos; &amp;gt; /dev/null ) &amp;amp;&amp;amp; fabric_loaded=1 &amp;amp;&amp;amp; break&lt;br/&gt;
&amp;#8212;&lt;br/&gt;
&amp;gt;             ( echo $result | grep &apos;&quot;status&quot;:200&apos; &amp;gt;&amp;gt; /dev/null ) &amp;amp;&amp;amp; fabric_loaded=1 &amp;amp;&amp;amp; break&lt;br/&gt;
&amp;gt;             client_result $result&lt;br/&gt;
44a48,49&lt;br/&gt;
&amp;gt;            cp ${OPENSHIFT_FUSE_LOG_DIR}/* /mytemp.4HF/&lt;br/&gt;
&amp;gt;            client_error `curl &lt;a href=&quot;http://admin:$&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://admin:$&lt;/a&gt;{OPENSHIFT_FUSE_PASSWORD}
&lt;p&gt;@$OPENSHIFT_FUSE_IP:8080/jolokia/read/io.fabric8:type=Fabric/CurrentContainerName | tee /mytemp.4HF/curl.log`&lt;/p&gt;

&lt;p&gt;The full stack causing the issue is this: &lt;/p&gt;

&lt;p&gt;&quot;error_type&quot;:&quot;javax.management.InstanceNotFoundException&quot;,&quot;error&quot;:&quot;javax.management.InstanceNotFoundException : io.fabric8:type=Fabric&quot;,&quot;status&quot;:404,&quot;request&quot;:&lt;/p&gt;
{&quot;mbean&quot;:&quot;io.fabric8:type=Fabric&quot;,&quot;attribute&quot;:&quot;CurrentContainerName&quot;,&quot;type&quot;:&quot;read&quot;}
&lt;p&gt;,&quot;stacktrace&quot;:&quot;javax.management.InstanceNotFoundException: io.fabric8:type=Fabric\n\tat com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.getMBean(DefaultMBeanServerInterceptor.java:1095)\n\tat com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.getAttribute(DefaultMBeanServerInterceptor.java:643)\n\tat com.sun.jmx.mbeanserver.JmxMBeanServer.getAttribute(JmxMBeanServer.java:678)\n\tat org.jolokia.handler.ReadHandler.doHandleRequest(ReadHandler.java:106)\n\tat org.jolokia.handler.ReadHandler.doHandleRequest(ReadHandler.java:37)\n\tat org.jolokia.handler.JsonRequestHandler.handleRequest(JsonRequestHandler.java:89)\n\tat org.jolokia.backend.MBeanServerExecutorLocal.handleRequest(MBeanServerExecutorLocal.java:109)\n\tat org.jolokia.backend.MBeanServerHandler.dispatchRequest(MBeanServerHandler.java:102)\n\tat org.jolokia.backend.LocalRequestDispatcher.dispatchRequest(LocalRequestDispatcher.java:98)\n\tat org.jolokia.backend.BackendManager.callRequestDispatcher(BackendManager.java:410)\n\tat org.jolokia.backend.BackendManager.handleRequest(BackendManager.java:158)\n\tat org.jolokia.http.HttpRequestHandler.executeRequest(HttpRequestHandler.java:197)\n\tat org.jolokia.http.HttpRequestHandler.handleGetRequest(HttpRequestHandler.java:86)\n\tat org.jolokia.http.AgentServlet$3.handleRequest(AgentServlet.java:419)\n\tat org.jolokia.http.AgentServlet.handle(AgentServlet.java:288)\n\tat org.jolokia.http.AgentServlet.doGet(AgentServlet.java:249)\n\tat javax.servlet.http.HttpServlet.service(HttpServlet.java:575)\n\tat javax.servlet.http.HttpServlet.service(HttpServlet.java:668)\n\tat org.eclipse.jetty.servlet.ServletHolder.handle(ServletHolder.java:684)\n\tat org.eclipse.jetty.servlet.ServletHandler.doHandle(ServletHandler.java:501)\n\tat org.ops4j.pax.web.service.jetty.internal.HttpServiceServletHandler.doHandle(HttpServiceServletHandler.java:69)\n\tat org.eclipse.jetty.server.handler.ScopedHandler.handle(ScopedHandler.java:137)\n\tat org.eclipse.jetty.security.SecurityHandler.handle(SecurityHandler.java:557)\n\tat org.eclipse.jetty.server.session.SessionHandler.doHandle(SessionHandler.java:231)\n\tat org.eclipse.jetty.server.handler.ContextHandler.doHandle(ContextHandler.java:1086)\n\tat org.ops4j.pax.web.service.jetty.internal.HttpServiceContext.doHandle(HttpServiceContext.java:219)\n\tat org.eclipse.jetty.servlet.ServletHandler.doScope(ServletHandler.java:428)\n\tat org.eclipse.jetty.server.session.SessionHandler.doScope(SessionHandler.java:193)\n\tat org.eclipse.jetty.server.handler.ContextHandler.doScope(ContextHandler.java:1020)\n\tat org.eclipse.jetty.server.handler.ScopedHandler.handle(ScopedHandler.java:135)\n\tat org.ops4j.pax.web.service.jetty.internal.JettyServerHandlerCollection.handle(JettyServerHandlerCollection.java:77)\n\tat org.eclipse.jetty.server.handler.HandlerWrapper.handle(HandlerWrapper.java:116)\n\tat org.eclipse.jetty.server.Server.handle(Server.java:370)\n\tat org.eclipse.jetty.server.AbstractHttpConnection.handleRequest(AbstractHttpConnection.java:494)\n\tat org.eclipse.jetty.server.AbstractHttpConnection.headerComplete(AbstractHttpConnection.java:971)\n\tat org.eclipse.jetty.server.AbstractHttpConnection$RequestHandler.headerComplete(AbstractHttpConnection.java:1033)\n\tat org.eclipse.jetty.http.HttpParser.parseNext(HttpParser.java:644)\n\tat org.eclipse.jetty.http.HttpParser.parseAvailable(HttpParser.java:235)\n\tat org.eclipse.jetty.server.AsyncHttpConnection.handle(AsyncHttpConnection.java:82)\n\tat org.eclipse.jetty.io.nio.SelectChannelEndPoint.handle(SelectChannelEndPoint.java:667)\n\tat org.eclipse.jetty.io.nio.SelectChannelEndPoint$1.run(SelectChannelEndPoint.java:52)\n\tat org.eclipse.jetty.util.thread.QueuedThreadPool.runJob(QueuedThreadPool.java:608)\n\tat org.eclipse.jetty.util.thread.QueuedThreadPool$3.run(QueuedThreadPool.java:543)\n\tat java.lang.Thread.run(Thread.java:745)\n&quot;}&lt;/p&gt;</comment>
                            <comment id="13013171" author="janstey" created="Sat, 18 Oct 2014 21:46:40 -0400"  >&lt;p&gt;That wait in the install script is by design. It is checking for the correct startup of the Fabric ensemble. In this case, Fabric wasn&apos;t starting up correctly and so the cart waited until it timed out (yeah, we could add some extra smarts here and bail early, but not critical for GA IMHO). After stepping through Fabric on node01.xpaas.com and my local VM environment, I found a difference in hostname resolution. Fabric uses JRE classes to list all interfaces on the host and then derive a hostname from that - pretty standard stuff. On my local OSE VM environment I was getting:&lt;/p&gt;

&lt;p&gt;InetAddress: 10.0.2.15&lt;br/&gt;
InetAddress.getHostName(): vm.openshift.example.com&lt;/p&gt;

&lt;p&gt;also tried this on an OpenShift Online gear:&lt;/p&gt;

&lt;p&gt;InetAddress: 10.137.32.19&lt;br/&gt;
InetAddress.getHostName(): ex-std-node152.prod.rhcloud.com&lt;/p&gt;

&lt;p&gt;However, on node1.xpaas.com no hostname could be found:&lt;/p&gt;

&lt;p&gt;InetAddress: 192.168.15.4&lt;br/&gt;
InetAddress.getHostName(): 192.168.15.4&lt;/p&gt;

&lt;p&gt;Kinda bad because we tell Fabric to use hostname resolution, so it can&apos;t really move forward. We could probably add some extra checks in the cart to revert to IP based resolution if no hostname can be found but I think we can just leave this off for GA and call this an envorinment issue. To work around this issue in such an environment, an easy local solution (without having to update DNS), would be to add an entry for the host in /etc/hosts or use -e OPENSHIFT_FUSE_RESOLVER=publicip in rhc.&lt;/p&gt;</comment>
                            <comment id="13013573" author="sjavurek" created="Mon, 20 Oct 2014 12:42:45 -0400"  >&lt;p&gt;Additional improvement based on Jon&apos;s last comment created under &lt;a href=&quot;https://issues.jboss.org/browse/ENTESB-2119&quot; title=&quot;Please update the cartridge to diagnose potential IP issues&quot; class=&quot;issue-link&quot; data-issue-key=&quot;ENTESB-2119&quot;&gt;&lt;del&gt;ENTESB-2119&lt;/del&gt;&lt;/a&gt; logged for future. &lt;/p&gt;</comment>
                            <comment id="13013794" author="xuanjia" created="Tue, 21 Oct 2014 06:44:40 -0400"  >&lt;p&gt;Fail to create the second container from Hawtio if the root container is created with &apos; -e OPENSHIFT_FUSE_RESOLVER=publicip&apos; parameter. &lt;/p&gt;</comment>
                            <comment id="13013798" author="edrich" created="Tue, 21 Oct 2014 07:20:05 -0400"  >&lt;p&gt;Based on &lt;a href=&quot;https://issues.jboss.org/browse/ENTESB-2095?focusedCommentId=13013794&amp;amp;page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-13013794&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.jboss.org/browse/ENTESB-2095?focusedCommentId=13013794&amp;amp;page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-13013794&lt;/a&gt; I think we should re-open this. &lt;/p&gt;</comment>
                            <comment id="13013818" author="edrich" created="Tue, 21 Oct 2014 08:24:59 -0400"  >&lt;p&gt;I can confirm that &apos;-e OPENSHIFT_FUSE_RESOLVER=publicip&apos; in my environment works with the openshift-origin-cartridge-fuse-6.1.1.redhat.412-1.el6op.noarch.rpm  and openshift-origin-cartridge-amq-6.1.1.redhat.412-1.el6op.noarch.rpm builds. &lt;/p&gt;

&lt;p&gt;However the work around suggested with using /etc/hosts entries on the node for the public IP address does not work! &lt;/p&gt;
&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;Note: I have created &lt;a href=&quot;https://access.redhat.com/solutions/1238573&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://access.redhat.com/solutions/1238573&lt;/a&gt; to document this in the KBase as well as&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;I can also confirm that trying to create multiple AMQ or Fuse containers on the same domain (namespace) when using the  &apos;-e OPENSHIFT_FUSE_RESOLVER=publicip&apos;  causes issues like the one seen below: &lt;/p&gt;

&lt;p&gt;Creating application &apos;myfuse&apos; ... &lt;br/&gt;
CART_PROPERTIES: username=admin&lt;br/&gt;
CART_PROPERTIES: password=vnv68BMisMIV&lt;br/&gt;
client: JAVA_HOME not set; results may vary&lt;br/&gt;
retrying (attempt 1) ...&lt;br/&gt;
true&lt;br/&gt;
client: JAVA_HOME not set; results may vary&lt;br/&gt;
Error executing command: KeeperErrorCode = ConnectionLoss for /fabric/registry/containers/config/myfuse&lt;br/&gt;
7532 &lt;span class=&quot;error&quot;&gt;&amp;#91;pool-2-thread-5&amp;#93;&lt;/span&gt; WARN org.apache.sshd.client.keyverifier.AcceptAllServerKeyVerifier - Server at &lt;span class=&quot;error&quot;&gt;&amp;#91;/127.8.171.1:23101, DSA, 31:76:66:79:0e:45:e9:82:f4:f6:d6:5b:ab:13:43:07&amp;#93;&lt;/span&gt; presented unverified {} key: {}&lt;br/&gt;
263 &lt;span class=&quot;error&quot;&gt;&amp;#91;pool-2-thread-2&amp;#93;&lt;/span&gt; WARN org.apache.sshd.client.keyverifier.AcceptAllServerKeyVerifier - Server at &lt;span class=&quot;error&quot;&gt;&amp;#91;/127.8.171.1:23101, DSA, 31:76:66:79:0e:45:e9:82:f4:f6:d6:5b:ab:13:43:07&amp;#93;&lt;/span&gt; presented unverified {} key: {}&lt;br/&gt;
&amp;#8212;&lt;br/&gt;
October 21 07:44:06 INFO openshift-agent: request end: action=cartridge_do, requestid=ed16a7bc921f5cf488e0d077a40beade, senderid=broker.xpass.com, statuscode=1, data={:time=&amp;gt;nil, :output=&amp;gt;&quot;Shell command &apos;/sbin/r&lt;br/&gt;
unuser -s /bin/sh 544645867f116a704e000572 -c \&quot;exec /usr/bin/runcon &apos;unconfined_u:system_r:openshift_t:s0:c4,c356&apos; /bin/sh -c \\\&quot;/var/lib/openshift/544645867f116a704e000572/fuse/bin/install --version 6.1.1\\\&quot;&lt;br/&gt;
\&quot;&apos; returned an error. rc=1\nCLIENT_RESULT: Using provided password from domain\nCLIENT_RESULT: Using provided url from domain\nCLIENT_RESULT: \nCLIENT_RESULT: Application myfuse created successfully.  Please ma&lt;br/&gt;
ke note of these credentials:\nCLIENT_RESULT: \nCLIENT_RESULT:    Console URL:        &lt;a href=&quot;https://myamq-myxpaas.xpass.comnCLIENT_RESULT:&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://myamq-myxpaas.xpass.com\nCLIENT_RESULT:&lt;/a&gt;    Console User:       admin\nCLIENT_RESULT:    Console Password:   vnv68BMis&lt;br/&gt;
MIV\nCLIENT_RESULT:    Zookeeper URL:      myamq-myxpaas.xpass.com:49901\nCLIENT_RESULT:    Zookeeper Password: vnv68BMisMIV\nCLIENT_MESSAGE: CART_PROPERTIES: username=admin\nCLIENT_MESSAGE: CART_PROPERTIES: pas&lt;br/&gt;
sword=vnv68BMisMIV\nCLIENT_RESULT: \nCLIENT_MESSAGE: client: JAVA_HOME not set; results may vary\nCLIENT_MESSAGE: retrying (attempt 1) ...\nCLIENT_MESSAGE: true\nCLIENT_MESSAGE: client: JAVA_HOME not set; result&lt;br/&gt;
s may vary\nCLIENT_MESSAGE: Error executing command: KeeperErrorCode = ConnectionLoss for /fabric/registry/containers/config/myfuse\n\nCLIENT_ERROR: 7532 &lt;span class=&quot;error&quot;&gt;&amp;#91;pool-2-thread-5&amp;#93;&lt;/span&gt; WARN org.apache.sshd.client.keyverifier&lt;br/&gt;
.AcceptAllServerKeyVerifier - Server at &lt;span class=&quot;error&quot;&gt;&amp;#91;/127.8.171.1:23101, DSA, 31:76:66:79:0e:45:e9:82:f4:f6:d6:5b:ab:13:43:07&amp;#93;&lt;/span&gt; presented unverified {} key: {}\nCLIENT_ERROR: 263 &lt;span class=&quot;error&quot;&gt;&amp;#91;pool-2-thread-2&amp;#93;&lt;/span&gt; WARN org.apache.sshd.client&lt;br/&gt;
.keyverifier.AcceptAllServerKeyVerifier - Server at &lt;span class=&quot;error&quot;&gt;&amp;#91;/127.8.171.1:23101, DSA, 31:76:66:79:0e:45:e9:82:f4:f6:d6:5b:ab:13:43:07&amp;#93;&lt;/span&gt; presented unverified {} key: {}\n&quot;, :exitcode=&amp;gt;157, :addtl_params=&amp;gt;nil}&lt;br/&gt;
October 21 07:44:06 INFO openshift-agent: request start: action=cartridge_do requestid=e9cb215c209550269ebe51431fd22aab, senderid=broker.xpass.com, data={:cartridge=&amp;gt;&quot;openshift-origin-node&quot;, :action=&amp;gt;&quot;user-var-r&lt;br/&gt;
emove&quot;, :args=&amp;gt;&lt;/p&gt;
{&quot;--with-app-uuid&quot;=&amp;gt;&quot;544645867f116a704e000572&quot;, &quot;--with-app-name&quot;=&amp;gt;&quot;myfuse&quot;, &quot;--with-expose-ports&quot;=&amp;gt;false, &quot;--with-container-uuid&quot;=&amp;gt;&quot;544645867f116a704e000572&quot;, &quot;--with-container-name&quot;=&amp;gt;&quot;myfuse&quot;, &quot;
--with-namespace&quot;=&amp;gt;&quot;myxpaas&quot;, &quot;--with-uid&quot;=&amp;gt;4438, &quot;--with-request-id&quot;=&amp;gt;&quot;5dabe86c8eb4e9f7a0a01fa8a76e6e1a&quot;, &quot;--with-keys&quot;=&amp;gt;&quot;OPENSHIFT_FUSE_RESOLVER&quot;, &quot;--cart-name&quot;=&amp;gt;&quot;openshift-origin-node&quot;}
&lt;p&gt;, :process_results=&amp;gt;tru&lt;br/&gt;
e}&lt;/p&gt;

&lt;p&gt;If you remove &apos;-e OPENSHIFT_FUSE_RESOLVER=publicip&apos;  from the second member the request gets to a point where you it a failure issue documented by &lt;a href=&quot;https://issues.jboss.org/browse/ENTESB-1957&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.jboss.org/browse/ENTESB-1957&lt;/a&gt; however in this case &lt;a href=&quot;https://issues.jboss.org/browse/ENTESB-2018&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.jboss.org/browse/ENTESB-2018&lt;/a&gt; is not a good solution because I have already adjusted the timeouts in &apos;/opt/rh/ruby193/root/usr/libexec/mcollective/mcollective/agent/openshift.ddl&apos; to 600. &lt;/p&gt;

&lt;p&gt;October 21 08:21:22 INFO openshift-agent: request end: action=cartridge_do, requestid=fb2e9599af51539daf34fbad64d72716, senderid=broker.xpass.com, statuscode=1, data={:time=&amp;gt;nil, :output=&amp;gt;&quot;Shell command &apos;/sbin/r&lt;br/&gt;
unuser -s /bin/sh 54464e347f116a704e0005fb -c \&quot;exec /usr/bin/runcon &apos;unconfined_u:system_r:openshift_t:s0:c1,c359&apos; /bin/sh -c \\\&quot;/var/lib/openshift/54464e347f116a704e0005fb/amq/bin/install --version 6.1.1\\\&quot;\&lt;br/&gt;
&quot;&apos; exceeded timeout of 381\n\n&quot;, :exitcode=&amp;gt;157, :addtl_params=&amp;gt;nil}&lt;br/&gt;
October 21 08:21:22 INFO openshift-agent: request start: action=cartridge_do requestid=738a13c86f925f809f9db048249aed72, senderid=broker.xpass.com, data={:cartridge=&amp;gt;&quot;openshift-origin-node&quot;, :action=&amp;gt;&quot;app-destro&lt;br/&gt;
y&quot;, :args=&amp;gt;&lt;/p&gt;
{&quot;--with-app-uuid&quot;=&amp;gt;&quot;54464e347f116a704e0005fb&quot;, &quot;--with-app-name&quot;=&amp;gt;&quot;myamq2&quot;, &quot;--with-expose-ports&quot;=&amp;gt;false, &quot;--with-container-uuid&quot;=&amp;gt;&quot;54464e347f116a704e0005fb&quot;, &quot;--with-container-name&quot;=&amp;gt;&quot;myamq2&quot;, &quot;--wi
th-namespace&quot;=&amp;gt;&quot;myxpaas&quot;, &quot;--with-uid&quot;=&amp;gt;1381, &quot;--with-request-id&quot;=&amp;gt;&quot;500969de690414f36501b6a8658fd3a9&quot;, &quot;--cart-name&quot;=&amp;gt;&quot;openshift-origin-node&quot;}
&lt;p&gt;, :process_results=&amp;gt;true}&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://access.redhat.com/solutions/1238583&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://access.redhat.com/solutions/1238583&lt;/a&gt; has more details on this error. &lt;/p&gt;</comment>
                            <comment id="13013823" author="edrich" created="Tue, 21 Oct 2014 08:47:56 -0400"  >&lt;p&gt;Following &lt;a href=&quot;https://access.redhat.com/documentation/en-US/Red_Hat_Enterprise_Linux/6/html-single/Deployment_Guide/index.html#s3-bind-configuration-zone-reverse&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://access.redhat.com/documentation/en-US/Red_Hat_Enterprise_Linux/6/html-single/Deployment_Guide/index.html#s3-bind-configuration-zone-reverse&lt;/a&gt; I tried this as well however like adding entries to /etc/hosts this too fails with out the &apos;-e OPENSHIFT_FUSE_RESOLVER=publicip&apos; flag. &lt;/p&gt;

&lt;p&gt;October 21 08:47:28 INFO openshift-agent: request end: action=cartridge_do, requestid=2d0ba0253779547db2c3ae21f8b2c698, senderid=broker.xpass.com, statuscode=1, data={:time=&amp;gt;nil, :output=&amp;gt;&quot;Shell command &apos;/sbin/r&lt;br/&gt;
unuser -s /bin/sh 5446548e7f116a704e00061b -c \&quot;exec /usr/bin/runcon &apos;unconfined_u:system_r:openshift_t:s0:c3,c786&apos; /bin/sh -c \\\&quot;/var/lib/openshift/5446548e7f116a704e00061b/amq/bin/install --version 6.1.1\\\&quot;\&lt;br/&gt;
&quot;&apos; returned an error. rc=1\nCLIENT_RESULT: Generating password\nCLIENT_RESULT: Configuring zookeeper server\nCLIENT_MESSAGE: ENV_VAR_ADD: OPENSHIFT_FUSE_DOMAIN_DNS=myamq-myxpaas.xpass.com\nCLIENT_MESSAGE: ENV_VA&lt;br/&gt;
R_ADD: OPENSHIFT_FUSE_DOMAIN_SSH_PORT=55767\nCLIENT_MESSAGE: ENV_VAR_ADD: OPENSHIFT_FUSE_DOMAIN_HTTP_PORT=80\nCLIENT_MESSAGE: ENV_VAR_ADD: OPENSHIFT_FUSE_DOMAIN_ZOOKEEPER_URL=myamq-myxpaas.xpass.com:55766\nCLIEN&lt;br/&gt;
T_MESSAGE: ENV_VAR_ADD: OPENSHIFT_FUSE_DOMAIN_PASSWORD=qXeKCIlCaMYj\nCLIENT_RESULT: \nCLIENT_RESULT: Application myamq created successfully.  Please make note of these credentials:\nCLIENT_RESULT: \nCLIENT_RESUL&lt;br/&gt;
T:    Console URL:        &lt;a href=&quot;https://myamq-myxpaas.xpass.comnCLIENT_RESULT:&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://myamq-myxpaas.xpass.com\nCLIENT_RESULT:&lt;/a&gt;    Console User:       admin\nCLIENT_RESULT:    Console Password:   qXeKCIlCaMYj\nCLIENT_RESULT:    Zookeeper URL:      myamq-myxpaas.xpa&lt;br/&gt;
ss.com:55766\nCLIENT_RESULT:    Zookeeper Password: qXeKCIlCaMYj\nCLIENT_RESULT:    SSL Certificate URL: &lt;a href=&quot;https://myamq-myxpaas.xpass.com/hawtio/index.html#/wiki/branch/1.0/view/fabric/profiles/default.profile/ke&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://myamq-myxpaas.xpass.com/hawtio/index.html#/wiki/branch/1.0/view/fabric/profiles/default.profile/ke&lt;/a&gt;&lt;br/&gt;
ystore.cert\nCLIENT_RESULT: \nCLIENT_RESULT:    The management console will be available shortly at: &lt;a href=&quot;https://myamq-myxpaas.xpass.comnCLIENT_RESULT:&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://myamq-myxpaas.xpass.com\nCLIENT_RESULT:&lt;/a&gt; \nCLIENT_MESSAGE: CART_PROPERTIES: username=admin\nCLIENT_MESS&lt;br/&gt;
AGE: CART_PROPERTIES: password=qXeKCIlCaMYj\nCLIENT_ERROR: Command Failed: Could not reach myamq console.\n\n\n&quot;, :exitcode=&amp;gt;157, :addtl_params=&amp;gt;nil}&lt;/p&gt;</comment>
                            <comment id="13014183" author="edrich" created="Wed, 22 Oct 2014 07:21:43 -0400"  >&lt;p&gt;&lt;a href=&quot;https://issues.jboss.org/secure/ViewProfile.jspa?name=janstey&quot; class=&quot;user-hover&quot; rel=&quot;janstey&quot;&gt;Jonathan Anstey&lt;/a&gt;, ah I think I see the problem. The Node is referenced by its public IP, however the node or the underlying OS does not see that IP listed as one of the interfaces. So this would be an issue for any fuse customer running on an OpenStack or AWS environment, where a floating IP (that routes to the private IP) is used.&lt;/p&gt;

&lt;p&gt;Currently Platform Support (Cloud) is working on &lt;a href=&quot;https://access.redhat.com/articles/1154063&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://access.redhat.com/articles/1154063&lt;/a&gt;, and other articles to deal with DNS or IP&apos;s in this senario (as its a complicated problem - telling the VM what its floating IP is). &lt;/p&gt;

&lt;p&gt;However the issue with `oo-register-dns -h node1 -d xpass.com -n 192.168.15.4` is that by doing this you change the DNS entry for the host to the private network. When this is done if you try and access the application from your browser the routing will fail as you can not resolve the 192.168.15.4 address for your node (so even adding dns entries like this into OpenStack does not look like a viable option). &lt;/p&gt;</comment>
                            <comment id="13014194" author="edrich" created="Wed, 22 Oct 2014 07:35:43 -0400"  >&lt;p&gt;This looks related to &lt;a href=&quot;https://bugzilla.redhat.com/show_bug.cgi?id=1125227&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://bugzilla.redhat.com/show_bug.cgi?id=1125227&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="13014946" author="xuanjia" created="Fri, 24 Oct 2014 09:58:46 -0400"  >&lt;p&gt;Sorry, &lt;a href=&quot;https://issues.jboss.org/secure/ViewProfile.jspa?name=edrich&quot; class=&quot;user-hover&quot; rel=&quot;edrich&quot;&gt;Eric Rich&lt;/a&gt;. Could you kindly try to add &apos;TCP ingress 30000-65535&apos; in the &apos;default&apos; security group ? i still think it should be not fixed from DNS side. If it can&apos;t work, i have to think more about why my environment is okay for fuse.&lt;/p&gt;</comment>
                            <comment id="13014965" author="edrich" created="Fri, 24 Oct 2014 10:23:03 -0400"  >&lt;p&gt;I have the following rules in my security Group. &lt;/p&gt;

&lt;p&gt;	Ingress	IPv4	Any	-	default	Delete Rule&lt;br/&gt;
	Ingress	IPv4	TCP	389 (LDAP)	0.0.0.0/0 (CIDR)	Delete Rule&lt;br/&gt;
	Ingress	IPv4	TCP	443 (HTTPS)	0.0.0.0/0 (CIDR)	Delete Rule&lt;br/&gt;
	Ingress	IPv4	TCP	61616	0.0.0.0/0 (CIDR)	Delete Rule&lt;br/&gt;
	Ingress	IPv4	TCP	27017	0.0.0.0/0 (CIDR)	Delete Rule&lt;br/&gt;
	Ingress	IPv4	TCP	8000	0.0.0.0/0 (CIDR)	Delete Rule&lt;br/&gt;
	Ingress	IPv4	TCP	80 (HTTP)	0.0.0.0/0 (CIDR)	Delete Rule&lt;br/&gt;
	Egress	IPv4	Any	-	0.0.0.0/0 (CIDR)	Delete Rule&lt;br/&gt;
	Ingress	IPv4	TCP	53 (DNS)	0.0.0.0/0 (CIDR)	Delete Rule&lt;br/&gt;
	Ingress	IPv4	UDP	53	0.0.0.0/0 (CIDR)	Delete Rule&lt;br/&gt;
	Ingress	IPv4	ICMP	-	0.0.0.0/0 (CIDR)	Delete Rule&lt;br/&gt;
	Ingress	IPv4	TCP	8443	0.0.0.0/0 (CIDR)	Delete Rule&lt;br/&gt;
	Ingress	IPv4	TCP	61613	0.0.0.0/0 (CIDR)	Delete Rule&lt;br/&gt;
	Ingress	IPv6	Any	-	default	Delete Rule&lt;br/&gt;
	Ingress	IPv4	TCP	22 (SSH)	0.0.0.0/0 (CIDR)	Delete Rule&lt;br/&gt;
	Egress	IPv6	Any	-	::/0 (CIDR)	Delete Rule&lt;/p&gt;

&lt;p&gt;You likely don&apos;t see this particular issue because DNS is using the internal IP addresses. What happens if you try and use a web browser to access the application do you have problems getting to the private ip addresses? &lt;/p&gt;

&lt;p&gt;Or is you openstack networking layed out in such a way that your on a public network (not in a private network) with floating IP&apos;s.  &lt;/p&gt;</comment>
                            <comment id="13014973" author="xuanjia" created="Fri, 24 Oct 2014 10:50:32 -0400"  >&lt;p&gt;Add two rules in default security group:&lt;br/&gt;
Ingress	IPv4	TCP	35531 - 65535	0.0.0.0/0 (CIDR)&lt;br/&gt;
Egress	IPv4	TCP	35531 - 65535	0.0.0.0/0 (CIDR)&lt;/p&gt;</comment>
                            <comment id="13032130" author="atangrin" created="Tue, 13 Jan 2015 08:35:30 -0500"  >&lt;p&gt;We will keep this open, but if this is not seen during 6.2 testing, we should close it as Can&apos;t reproduce.&lt;/p&gt;</comment>
                            <comment id="13032153" author="edrich" created="Tue, 13 Jan 2015 09:18:34 -0500"  >&lt;p&gt;&lt;a href=&quot;https://issues.jboss.org/secure/ViewProfile.jspa?name=atangrin&quot; class=&quot;user-hover&quot; rel=&quot;atangrin&quot;&gt;Anne-Louise Tangring&lt;/a&gt; Its 100% reproducible if your cloud (OpenStack) environment, is setup to give you private network IP addresses, however DNS does not resolve these IP addresses (but instead resolves only the public address). This points to the QA environment not being configured to match that of a customer install or setup (with OpenStack). &lt;/p&gt;

&lt;p&gt;From the OpenShift perspective, this is 100% OK and a valid configuration.  If you cartridge requires this DNS configuration it should be denoted in your documentation, as an additional OpenShift requirement needed to run your cartridge. &lt;/p&gt;

&lt;p&gt;Please feel free to use any of the un-used systems or setups on &lt;a href=&quot;http://labs-gssos.itos.redhat.com/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://labs-gssos.itos.redhat.com/&lt;/a&gt; to test. &lt;/p&gt;</comment>
                            <comment id="13042646" author="janstey" created="Sun, 22 Feb 2015 13:04:21 -0500"  >&lt;p&gt;Fix is described in &lt;a href=&quot;https://issues.jboss.org/browse/ENTESB-2119&quot; title=&quot;Please update the cartridge to diagnose potential IP issues&quot; class=&quot;issue-link&quot; data-issue-key=&quot;ENTESB-2119&quot;&gt;&lt;del&gt;ENTESB-2119&lt;/del&gt;&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="13155517" author="jira-bugzilla-migration" created="Thu, 28 Jan 2016 07:38:53 -0500"  >&lt;p&gt;Eric Rich &amp;lt;erich@redhat.com&amp;gt; changed the Status of &lt;a href=&quot;https://bugzilla.redhat.com/show_bug.cgi?id=1156400&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;bug 1156400&lt;/a&gt; from NEW to CLOSED&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="12310001">
                    <name>Related</name>
                                                                <inwardlinks description="is related to">
                                        <issuelink>
            <issuekey id="12555585">ENTESB-2119</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="12385868" name="diagnostics.tar.gz" size="2165" author="edrich" created="Fri, 17 Oct 2014 09:32:57 -0400"/>
                            <attachment id="12385843" name="karaf-myamq1.log" size="123432" author="edrich" created="Thu, 16 Oct 2014 11:43:04 -0400"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310440" key="org.jboss.labs.jira.plugin.jboss-custom-field-types-plugin:multiurl">
                        <customfieldname>Bugzilla References</customfieldname>
                        <customfieldvalues>
                            https://bugzilla.redhat.com/show_bug.cgi?id=1156400
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310341" key="com.atlassian.jira.plugin.system.customfieldtypes:multicheckboxes">
                        <customfieldname>Bugzilla Update</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10250"><![CDATA[Perform]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310641" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Number of attachments</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>2.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310640" key="com.atlassian.jira.toolkit:comments">
                        <customfieldname>Number of comments</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>30.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12311940" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1|hyph0u:v0000k</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310840" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                    </customfields>
    </item>
</channel>
</rss>