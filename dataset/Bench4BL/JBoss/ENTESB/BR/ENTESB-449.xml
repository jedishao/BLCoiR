<!-- 
RSS generated by JIRA (7.2.3#72005-sha1:73be91d2b96fc29303a7eb6820acf420e5d0ed65) at Tue Dec 06 22:03:17 EST 2016

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary add field=key&field=summary to the URL of your request.
For example:
https://issues.jboss.org/si/jira.issueviews:issue-xml/ENTESB-449/ENTESB-449.xml?field=key&amp;field=summary
-->
<rss version="0.92" >
<channel>
    <title>JBoss Issue Tracker</title>
    <link>https://issues.jboss.org</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-us</language>    <build-info>
        <version>7.2.3</version>
        <build-number>72005</build-number>
        <build-date>06-10-2016</build-date>
    </build-info>

<item>
            <title>[ENTESB-449] Camel doesn&apos;t return error while invoking jbi endpoint which doesn&apos;t exist, setting up a infinite loop on retry.</title>
                <link>https://issues.jboss.org/browse/ENTESB-449</link>
                <project id="12314570" key="ENTESB">JBoss Fuse</project>
                    <description>&lt;p&gt;The customer has supplied a test case that reproduces the error case reliably: for_red_hat_use_cases_sanitized.zip&lt;/p&gt;

&lt;p&gt;Note: when trying the fail case your ESB instance will lock up, requiring a kill -9. &lt;/p&gt;

&lt;p&gt;How to reproduce. Follow README.TXT to run app from for_red_hat_use_cases_sanitized.zip&lt;/p&gt;

&lt;p&gt;and invoke JMX (for example from jconsole):&lt;/p&gt;

&lt;p&gt;com.my.camel.beans:obj=JMXCamelInvoker&lt;br/&gt;
invoke operation: invokeCamel with parameters &quot;direct:dummy&quot;, &quot;a&quot;, &quot;&amp;lt;a/&amp;gt;&lt;br/&gt;
you will get: OK response: &amp;lt;a/&amp;gt;&lt;/p&gt;

&lt;p&gt;invoke operation: invokeCamel with parameters &quot;direct:goToNotExistingJBIEndpoint&quot;, &quot;a&quot;, &quot;&amp;lt;a/&amp;gt;&lt;br/&gt;
you will get: OK response: &amp;lt;error&amp;gt;Error: java.lang.IllegalStateException: No endpoint, service or interface name specified for routing occurred in endpoint:&lt;a href=&quot;https://my.namespace.com/GhostEndpoint/my&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://my.namespace.com/GhostEndpoint/my&lt;/a&gt; during processing&amp;lt;/error&amp;gt;&lt;br/&gt;
what is correct behavior&lt;/p&gt;

&lt;p&gt;BUT&lt;/p&gt;

&lt;p&gt;invoke JMX&lt;br/&gt;
com.my.jbi.beans:obj=JMXJBIInvoker&lt;br/&gt;
invoke operation: sendAction with parameter &quot;OTA_PingCamel&quot; after 10 seconds (a timeout ) you will get: &quot;Response didn&apos;t come&quot; and the logs are constantly growing with:&lt;/p&gt;

&lt;p&gt;15:21:53,062 | INFO | rovider-thread-5 | camel | 119 - com.myproject.camel-endpoints - 1.0.0.SNAPSHOT | OTA_PingCamel route processing has started&lt;br/&gt;
15:21:53,062 | INFO | rovider-thread-4 | camel | 119 - com.myproject.camel-endpoints - 1.0.0.SNAPSHOT | OTA_PingCamel route processing has started&lt;br/&gt;
15:21:53,062 | INFO | rovider-thread-6 | camel | 119 - com.myproject.camel-endpoints - 1.0.0.SNAPSHOT | OTA_PingCamel route processing has started&lt;br/&gt;
15:21:53,063 | INFO | rovider-thread-7 | camel | 119 - com.myproject.camel-endpoints - 1.0.0.SNAPSHOT | OTA_PingCamel route processing has started&lt;/p&gt;

&lt;p&gt;In conclusion:&lt;/p&gt;

&lt;p&gt;So having flow:&lt;br/&gt;
Camel -&amp;gt; not exisiting JBI endpoint&lt;/p&gt;

&lt;p&gt;Invoking directly that Camel flow - everything works.&lt;br/&gt;
Invoking Camel from JBI which point to not existing Camel flow - causes that Camel rerun the same flow endlessly.&lt;/p&gt;

&lt;p&gt;Enjoy!&lt;/p&gt;

&lt;p&gt;Forgot to say that it ends with: FuseESB:karaf@root&amp;gt; Exception in thread &quot;RMI TCP Connection(idle)&quot; java.lang.OutOfMemoryError: GC overhead limit exceeded&lt;/p&gt;</description>
                <environment>&lt;p&gt;Fuse ESB 7.0.2&lt;/p&gt;</environment>
        <key id="12511450">ENTESB-449</key>
            <summary>Camel doesn&apos;t return error while invoking jbi endpoint which doesn&apos;t exist, setting up a infinite loop on retry.</summary>
                <type id="1" iconUrl="https://issues.jboss.org/secure/viewavatar?size=xsmall&amp;avatarId=13263&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.jboss.org/images/icons/priorities/major.svg">Major</priority>
                        <status id="5" iconUrl="https://issues.jboss.org/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Done</resolution>
                                        <assignee username="willem.jiang">Willem Jiang</assignee>
                                    <reporter username="jgoodyear_icbts">jamie goodyear</reporter>
                        <labels>
                    </labels>
                <created>Tue, 27 Nov 2012 17:35:19 -0500</created>
                <updated>Thu, 15 May 2014 06:17:46 -0400</updated>
                            <resolved>Wed, 6 Feb 2013 13:28:14 -0500</resolved>
                                    <version>fuse-esb-7.0.2</version>
                                    <fixVersion>7.0.3</fixVersion>
                    <fixVersion>7.1.1</fixVersion>
                    <fixVersion>jboss-fuse-6.0</fixVersion>
                    <fixVersion>M1</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                                <comments>
                            <comment id="12830656" author="jgoodyear_icbts" created="Tue, 27 Nov 2012 17:36:06 -0500"  >&lt;p&gt;File: for_red_hat_use_cases_sanitized.zip&lt;/p&gt;</comment>
                            <comment id="12831121" author="willem.jiang" created="Wed, 6 Feb 2013 11:37:31 -0500"  >&lt;p&gt;User can work around this issue by changing the file CamelRoutes.java  to remove the  exchange property of &quot;javax.jbi.ServiceName&quot; just like this &lt;/p&gt;
&lt;p/&gt;
&lt;div id=&quot;syntaxplugin&quot; class=&quot;syntaxplugin&quot; style=&quot;border: 1px dashed #bbb; border-radius: 5px !important; overflow: auto; max-height: 30em;&quot;&gt;
&lt;table cellspacing=&quot;0&quot; cellpadding=&quot;0&quot; border=&quot;0&quot; width=&quot;100%&quot; style=&quot;font-size: 1em; line-height: 1.4em !important; font-weight: normal; font-style: normal; color: black;&quot;&gt;
		&lt;tbody &gt;
				&lt;tr id=&quot;syntaxplugin_code_and_gutter&quot;&gt;
						&lt;td  style=&quot; line-height: 1.4em !important; padding: 0em; vertical-align: top;&quot;&gt;
					&lt;pre style=&quot;font-size: 1em; margin: 0 10px;  margin-top: 10px;   width: auto; padding: 0;&quot;&gt;&lt;span style=&quot;color: black; font-family: &apos;Consolas&apos;, &apos;Bitstream Vera Sans Mono&apos;, &apos;Courier New&apos;, Courier, monospace !important;&quot;&gt;//main flow&lt;/span&gt;&lt;/pre&gt;
			&lt;/td&gt;
		&lt;/tr&gt;
				&lt;tr id=&quot;syntaxplugin_code_and_gutter&quot;&gt;
						&lt;td  style=&quot; line-height: 1.4em !important; padding: 0em; vertical-align: top;&quot;&gt;
					&lt;pre style=&quot;font-size: 1em; margin: 0 10px;   width: auto; padding: 0;&quot;&gt;&lt;span style=&quot;color: black; font-family: &apos;Consolas&apos;, &apos;Bitstream Vera Sans Mono&apos;, &apos;Courier New&apos;, Courier, monospace !important;&quot;&gt;        from(&quot;jbi:endpoint:https://my.namespace.com/OTA_PingCamel/my?mep=in-optional-out&quot;)&lt;/span&gt;&lt;/pre&gt;
			&lt;/td&gt;
		&lt;/tr&gt;
				&lt;tr id=&quot;syntaxplugin_code_and_gutter&quot;&gt;
						&lt;td  style=&quot; line-height: 1.4em !important; padding: 0em; vertical-align: top;&quot;&gt;
					&lt;pre style=&quot;font-size: 1em; margin: 0 10px;   width: auto; padding: 0;&quot;&gt;&lt;span style=&quot;color: black; font-family: &apos;Consolas&apos;, &apos;Bitstream Vera Sans Mono&apos;, &apos;Courier New&apos;, Courier, monospace !important;&quot;&gt;                .removeProperty(&quot;javax.jbi.ServiceName&quot;)&lt;/span&gt;&lt;/pre&gt;
			&lt;/td&gt;
		&lt;/tr&gt;
				&lt;tr id=&quot;syntaxplugin_code_and_gutter&quot;&gt;
						&lt;td  style=&quot; line-height: 1.4em !important; padding: 0em; vertical-align: top;&quot;&gt;
					&lt;pre style=&quot;font-size: 1em; margin: 0 10px;   width: auto; padding: 0;&quot;&gt;&lt;span style=&quot;color: black; font-family: &apos;Consolas&apos;, &apos;Bitstream Vera Sans Mono&apos;, &apos;Courier New&apos;, Courier, monospace !important;&quot;&gt;                .process(logStart(Level.INFO, &quot;com.my.camel&quot;, &quot;OTA_PingCamel route processing has started&quot;))&lt;/span&gt;&lt;/pre&gt;
			&lt;/td&gt;
		&lt;/tr&gt;
				&lt;tr id=&quot;syntaxplugin_code_and_gutter&quot;&gt;
						&lt;td  style=&quot; line-height: 1.4em !important; padding: 0em; vertical-align: top;&quot;&gt;
					&lt;pre style=&quot;font-size: 1em; margin: 0 10px;   width: auto; padding: 0;&quot;&gt;&lt;span style=&quot;color: black; font-family: &apos;Consolas&apos;, &apos;Bitstream Vera Sans Mono&apos;, &apos;Courier New&apos;, Courier, monospace !important;&quot;&gt;                .to(&quot;direct:goToNotExistingJBIEndpoint&quot;)&lt;/span&gt;&lt;/pre&gt;
			&lt;/td&gt;
		&lt;/tr&gt;
				&lt;tr id=&quot;syntaxplugin_code_and_gutter&quot;&gt;
						&lt;td  style=&quot; line-height: 1.4em !important; padding: 0em; vertical-align: top;&quot;&gt;
					&lt;pre style=&quot;font-size: 1em; margin: 0 10px;   margin-bottom: 10px;  width: auto; padding: 0;&quot;&gt;&lt;span style=&quot;color: black; font-family: &apos;Consolas&apos;, &apos;Bitstream Vera Sans Mono&apos;, &apos;Courier New&apos;, Courier, monospace !important;&quot;&gt;                .process(logEnd(Level.INFO, &quot;com.my.camel&quot;, &quot;OTA_PingCamel route processing has ended&quot;));&lt;/span&gt;&lt;/pre&gt;
			&lt;/td&gt;
		&lt;/tr&gt;
			&lt;/tbody&gt;
&lt;/table&gt;
&lt;/div&gt;
&lt;p/&gt;</comment>
                            <comment id="12831125" author="willem.jiang" created="Wed, 6 Feb 2013 13:27:58 -0500"  >&lt;p&gt;Merge the patch &lt;a href=&quot;https://issues.apache.org/jira/browse/SMXCOMP-964&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;SMXCOMP-964&lt;/a&gt; into &lt;br/&gt;
2012.01.0.fuse-7-0-x-stable   225e51f381d4f67b59f0d1785fccb072fe333f1d&lt;br/&gt;
2012.01.0.fuse-7-1-x-stable   2a4b63098932af16ba8c227691236822bb246aac&lt;br/&gt;
2012.01.0.fuse-7-2-x-stable  d04fb4c74ef26375668578bfa41f1e5018db6c8d&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="12310001">
                    <name>Related</name>
                                            <outwardlinks description="relates to">
                                                        </outwardlinks>
                                                                <inwardlinks description="is related to">
                                                        </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="12367159" name="for_red_hat_use_cases_sanitized.zip" size="30443" author="jgoodyear_icbts" created="Tue, 27 Nov 2012 17:36:06 -0500"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12310641" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Number of attachments</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310640" key="com.atlassian.jira.toolkit:comments">
                        <customfieldname>Number of comments</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>3.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12311940" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1|hzjmsv:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310840" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>174839</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                    </customfields>
    </item>
</channel>
</rss>