<!-- 
RSS generated by JIRA (7.2.3#72005-sha1:73be91d2b96fc29303a7eb6820acf420e5d0ed65) at Tue Dec 06 19:58:05 EST 2016

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary add field=key&field=summary to the URL of your request.
For example:
https://issues.jboss.org/si/jira.issueviews:issue-xml/ENTESB-6274/ENTESB-6274.xml?field=key&amp;field=summary
-->
<rss version="0.92" >
<channel>
    <title>JBoss Issue Tracker</title>
    <link>https://issues.jboss.org</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-us</language>    <build-info>
        <version>7.2.3</version>
        <build-number>72005</build-number>
        <build-date>06-10-2016</build-date>
    </build-info>

<item>
            <title>[ENTESB-6274] WS-Notification Does Not Recover From Producer Flow Control</title>
                <link>https://issues.jboss.org/browse/ENTESB-6274</link>
                <project id="12314570" key="ENTESB">JBoss Fuse</project>
                    <description></description>
                <environment></environment>
        <key id="12661805">ENTESB-6274</key>
            <summary>WS-Notification Does Not Recover From Producer Flow Control</summary>
                <type id="1" iconUrl="https://issues.jboss.org/secure/viewavatar?size=xsmall&amp;avatarId=13263&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.jboss.org/images/icons/priorities/major.svg">Major</priority>
                        <status id="5" iconUrl="https://issues.jboss.org/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Done</resolution>
                                        <assignee username="ffang">Freeman(Yue) Fang</assignee>
                                    <reporter username="joef551">Joe Fernandez</reporter>
                        <labels>
                    </labels>
                <created>Tue, 15 Nov 2016 09:33:59 -0500</created>
                <updated>Mon, 28 Nov 2016 13:15:55 -0500</updated>
                            <resolved>Fri, 25 Nov 2016 01:11:41 -0500</resolved>
                                    <version>jboss-fuse-6.2.1</version>
                    <version>jboss-fuse-6.3</version>
                                    <fixVersion>jboss-fuse-7.0</fixVersion>
                                    <component>CXF</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>5</watches>
                                                                    <issuelinks>
                            <issuelinktype id="12310001">
                    <name>Related</name>
                                            <outwardlinks description="relates to">
                                                        </outwardlinks>
                                                        </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="12412721" name="amq.log" size="867853" author="joef551" created="Tue, 15 Nov 2016 09:20:13 -0500"/>
                            <attachment id="12412723" name="consumer.tdump" size="7956" author="joef551" created="Tue, 15 Nov 2016 09:19:21 -0500"/>
                            <attachment id="12412722" name="container.tdump" size="166288" author="joef551" created="Tue, 15 Nov 2016 09:19:22 -0500"/>
                            <attachment id="12413231" name="cxf-services-wsn-core-3.0.4.redhat-621159.jar" size="63566" author="ffang" created="Tue, 22 Nov 2016 21:34:45 -0500"/>
                            <attachment id="12412724" name="wsn.zip" size="85992" author="joef551" created="Tue, 15 Nov 2016 09:18:41 -0500"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12312340" key="org.jboss.labs.jira.plugin.jboss-custom-field-types-plugin:jbonlyselect">
                        <customfieldname>GSS Priority</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                <customfield id="customfield_12310641" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Number of attachments</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>5.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310640" key="com.atlassian.jira.toolkit:comments">
                        <customfieldname>Number of comments</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12311940" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1|i0an1r:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310840" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                <customfield id="customfield_12310940" key="com.pyxis.greenhopper.jira:gh-sprint">
                        <customfieldname>Sprint</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue id="4412">7.0 Sprint 1</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310183" key="com.atlassian.jira.plugin.system.customfieldtypes:textarea">
                        <customfieldname>Steps to Reproduce</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>&lt;p&gt;See attached zip for reproducer. &lt;/p&gt;

&lt;p&gt;1. Set up the broker as described in the WSN tutorial (1).&lt;br/&gt;
2. Extract the attached wsn.zip file and build the publisher and pullpoint projects. &lt;br/&gt;
3. Start the pullpoint consumer, followed by the publisher. The publisher will publish messages at a much higher rate than the pullpoint consumer. &lt;br/&gt;
4. Eventually, memory usage for the target queue will breach 100%; at which point, the publisher encounters PFC and stops publishing. Meanwhile, the pullpoint consumer has altogether stopped consuming. &lt;br/&gt;
5. Terminating the publisher doesn&apos;t help, as the pullpoint consumer remains stuck and does not consume messages from the queue.   &lt;/p&gt;

&lt;p&gt;I have attached the amq.log, and thread dumps for both container and pullpoint consumer. In the amq.log, PFC kicks in @ line 219 or at &apos;2016-11-15 08:43:31,790&apos;.&lt;/p&gt;


&lt;p&gt;(1) &lt;a href=&quot;https://access.redhat.com/documentation/en-US/Red_Hat_JBoss_A-MQ/6.2/html/WS-Notification_Guide/WSNTutorial.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://access.redhat.com/documentation/en-US/Red_Hat_JBoss_A-MQ/6.2/html/WS-Notification_Guide/WSNTutorial.html&lt;/a&gt;&lt;/p&gt;</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                            </customfields>
    </item>
</channel>
</rss>