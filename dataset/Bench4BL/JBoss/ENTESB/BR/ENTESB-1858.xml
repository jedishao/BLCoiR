<!-- 
RSS generated by JIRA (7.2.3#72005-sha1:73be91d2b96fc29303a7eb6820acf420e5d0ed65) at Tue Dec 06 19:45:52 EST 2016

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary add field=key&field=summary to the URL of your request.
For example:
https://issues.jboss.org/si/jira.issueviews:issue-xml/ENTESB-1858/ENTESB-1858.xml?field=key&amp;field=summary
-->
<rss version="0.92" >
<channel>
    <title>JBoss Issue Tracker</title>
    <link>https://issues.jboss.org</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-us</language>    <build-info>
        <version>7.2.3</version>
        <build-number>72005</build-number>
        <build-date>06-10-2016</build-date>
    </build-info>

<item>
            <title>[ENTESB-1858] OSE bin/install wait-for-fabric wait too short</title>
                <link>https://issues.jboss.org/browse/ENTESB-1858</link>
                <project id="12314570" key="ENTESB">JBoss Fuse</project>
                    <description>&lt;p&gt;The default timeout in the Fuse cartridge bin/install script for &quot;wait-for-fabric&quot; is too short. In our testing environment (OSE on OpenStack - based virtual machines) it occasionally happens that the timeout is reached and the gear is not created.  &lt;/p&gt;

&lt;p&gt;(the number of retries is 18,   in my environment the container is usually created on average with 5 retries remaining, which is not a lot and reaches zero with high probability when the machine is under load)&lt;/p&gt;</description>
                <environment>&lt;p&gt;OSE 2.1 on OpenStack, openshift-origin-cartridge-fuse-6.1.0.redhat.390-1.el6op.noarch.rpm&lt;/p&gt;</environment>
        <key id="12550216">ENTESB-1858</key>
            <summary>OSE bin/install wait-for-fabric wait too short</summary>
                <type id="1" iconUrl="https://issues.jboss.org/secure/viewavatar?size=xsmall&amp;avatarId=13263&amp;avatarType=issuetype">Bug</type>
                                            <priority id="2" iconUrl="https://issues.jboss.org/images/icons/priorities/critical.svg">Critical</priority>
                        <status id="6" iconUrl="https://issues.jboss.org/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Done</resolution>
                                        <assignee username="janstey">Jonathan Anstey</assignee>
                                    <reporter username="maschmid">Marek Schmidt</reporter>
                        <labels>
                    </labels>
                <created>Tue, 26 Aug 2014 07:16:16 -0400</created>
                <updated>Fri, 19 Sep 2014 04:25:23 -0400</updated>
                            <resolved>Wed, 17 Sep 2014 13:57:35 -0400</resolved>
                                    <version>jboss-fuse-6.1 on OSE</version>
                                    <fixVersion>jboss-fuse-6.1 on OSE</fixVersion>
                                    <component>OpenShift</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>4</watches>
                                                                <comments>
                            <comment id="12998538" author="janstey" created="Wed, 3 Sep 2014 14:19:07 -0400"  >&lt;p&gt;&lt;a href=&quot;https://github.com/jboss-fuse/fuse-openshift-cartridge/commit/799dcd7311b7dd14ee3121028a7abaa5af6923e5&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://github.com/jboss-fuse/fuse-openshift-cartridge/commit/799dcd7311b7dd14ee3121028a7abaa5af6923e5&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="12999488" author="dsimansk" created="Fri, 5 Sep 2014 12:08:36 -0400"  >&lt;p&gt;Attached thread dump and log from the container. I&apos;ve tried to switch to 390-3 RPM container, but the issue was exactly the same.&lt;/p&gt;</comment>
                            <comment id="13000050" author="janstey" created="Mon, 8 Sep 2014 14:15:51 -0400"  >&lt;p&gt;New RPMs available:&lt;br/&gt;
&lt;a href=&quot;http://download.devel.redhat.com/brewroot/work/tasks/8706/7928706/openshift-origin-cartridge-fuse-6.1.0.redhat.394-1.el6op.noarch.rpm&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://download.devel.redhat.com/brewroot/work/tasks/8706/7928706/openshift-origin-cartridge-fuse-6.1.0.redhat.394-1.el6op.noarch.rpm&lt;/a&gt;&lt;br/&gt;
&lt;a href=&quot;http://download.devel.redhat.com/brewroot/work/tasks/9318/7929318/openshift-origin-cartridge-amq-6.1.0.redhat.394-1.el6op.noarch.rpm&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://download.devel.redhat.com/brewroot/work/tasks/9318/7929318/openshift-origin-cartridge-amq-6.1.0.redhat.394-1.el6op.noarch.rpm&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Wonder if you still see the same issue David? I was unable to see the same unfortunately...&lt;/p&gt;</comment>
                            <comment id="13000233" author="dsimansk" created="Tue, 9 Sep 2014 06:53:16 -0400"  >&lt;p&gt;Hi Jon, works for me. The issue was in mine OSE setup.&lt;/p&gt;</comment>
                            <comment id="13000234" author="xuanjia" created="Tue, 9 Sep 2014 06:55:01 -0400"  >&lt;p&gt;When creating containers one by one from Hawtio, the interval time is 1s or 2s. From production.log on broker, there&apos;re error messages:&lt;br/&gt;
2014-09-09 18:36:10.736 &lt;span class=&quot;error&quot;&gt;&amp;#91;ERROR&amp;#93;&lt;/span&gt; /opt/rh/ruby193/root/usr/share/gems/gems/openshift-origin-msg-broker-mcollective-1.23.3.5/lib/openshift/mcollective_application_container_proxy.rb:2763:in `parse_result&apos;&lt;br/&gt;
/opt/rh/ruby193/root/usr/share/gems/gems/openshift-origin-msg-broker-mcollective-1.23.3.5/lib/openshift/mcollective_application_container_proxy.rb:2944:in `run_cartridge_command&apos;&lt;br/&gt;
/opt/rh/ruby193/root/usr/share/gems/gems/openshift-origin-msg-broker-mcollective-1.23.3.5/lib/openshift/mcollective_application_container_proxy.rb:816:in `add_component&apos;&lt;br/&gt;
/opt/rh/ruby193/root/usr/share/gems/gems/openshift-origin-controller-1.23.10.11/app/models/gear.rb:173:in `add_component&apos;&lt;br/&gt;
&amp;lt;-&lt;del&gt;snip&lt;/del&gt;-&amp;gt;&lt;br/&gt;
2014-09-09 18:36:10.736 &lt;span class=&quot;error&quot;&gt;&amp;#91;ERROR&amp;#93;&lt;/span&gt; Encountered error during execute &apos;Command Failed: Could not reach a2 console.&lt;br/&gt;
&apos; (pid:19651)&lt;br/&gt;
2014-09-09 18:36:13.166 &lt;span class=&quot;error&quot;&gt;&amp;#91;INFO &amp;#93;&lt;/span&gt; Completed 422 Unprocessable Entity in 167960ms (Views: 1.0ms) (pid:19651)&lt;br/&gt;
&quot;&lt;/p&gt;</comment>
                            <comment id="13000860" author="janstey" created="Wed, 10 Sep 2014 09:44:03 -0400"  >&lt;p&gt;What kind of containers were you creating? I&apos;d like to try this myself. Also was the error handled nicely (i.e. were you able to just try again and create the container that failed)?&lt;/p&gt;</comment>
                            <comment id="13000883" author="dsimansk" created="Wed, 10 Sep 2014 10:15:38 -0400"  >&lt;p&gt;Well, the new containers aren&apos;t listed in &quot;rhc apps&quot;, but stays in Hawtio container list as &quot;Not running&quot; and in console. &lt;br/&gt;
Xuan has created Fuse container through Hawtio in a series one by one without waiting for completion. The positive is that my formerly running containers were untouched, Hawtio was a bit slow for a while &apos;till the creation failed.&lt;/p&gt;

&lt;p/&gt;
&lt;div id=&quot;syntaxplugin&quot; class=&quot;syntaxplugin&quot; style=&quot;border: 1px dashed #bbb; border-radius: 5px !important; overflow: auto; max-height: 30em;&quot;&gt;
&lt;table cellspacing=&quot;0&quot; cellpadding=&quot;0&quot; border=&quot;0&quot; width=&quot;100%&quot; style=&quot;font-size: 1em; line-height: 1.4em !important; font-weight: normal; font-style: normal; color: black;&quot;&gt;
		&lt;tbody &gt;
				&lt;tr id=&quot;syntaxplugin_code_and_gutter&quot;&gt;
						&lt;td  style=&quot; line-height: 1.4em !important; padding: 0em; vertical-align: top;&quot;&gt;
					&lt;pre style=&quot;font-size: 1em; margin: 0 10px;  margin-top: 10px;   width: auto; padding: 0;&quot;&gt;&lt;span style=&quot;color: black; font-family: &apos;Consolas&apos;, &apos;Bitstream Vera Sans Mono&apos;, &apos;Courier New&apos;, Courier, monospace !important;&quot;&gt;JBossFuse:admin@root&amp;gt; container-list&lt;/span&gt;&lt;/pre&gt;
			&lt;/td&gt;
		&lt;/tr&gt;
				&lt;tr id=&quot;syntaxplugin_code_and_gutter&quot;&gt;
						&lt;td  style=&quot; line-height: 1.4em !important; padding: 0em; vertical-align: top;&quot;&gt;
					&lt;pre style=&quot;font-size: 1em; margin: 0 10px;   width: auto; padding: 0;&quot;&gt;&lt;span style=&quot;color: black; font-family: &apos;Consolas&apos;, &apos;Bitstream Vera Sans Mono&apos;, &apos;Courier New&apos;, Courier, monospace !important;&quot;&gt;[id]                           [version] [connected] [profiles]                                         [provision status]&lt;/span&gt;&lt;/pre&gt;
			&lt;/td&gt;
		&lt;/tr&gt;
				&lt;tr id=&quot;syntaxplugin_code_and_gutter&quot;&gt;
						&lt;td  style=&quot; line-height: 1.4em !important; padding: 0em; vertical-align: top;&quot;&gt;
					&lt;pre style=&quot;font-size: 1em; margin: 0 10px;   width: auto; padding: 0;&quot;&gt;&lt;span style=&quot;color: black; font-family: &apos;Consolas&apos;, &apos;Bitstream Vera Sans Mono&apos;, &apos;Courier New&apos;, Courier, monospace !important;&quot;&gt;amq                            1.0       true        default, mq-broker-default.amq                     success&lt;/span&gt;&lt;/pre&gt;
			&lt;/td&gt;
		&lt;/tr&gt;
				&lt;tr id=&quot;syntaxplugin_code_and_gutter&quot;&gt;
						&lt;td  style=&quot; line-height: 1.4em !important; padding: 0em; vertical-align: top;&quot;&gt;
					&lt;pre style=&quot;font-size: 1em; margin: 0 10px;   width: auto; padding: 0;&quot;&gt;&lt;span style=&quot;color: black; font-family: &apos;Consolas&apos;, &apos;Bitstream Vera Sans Mono&apos;, &apos;Courier New&apos;, Courier, monospace !important;&quot;&gt;app                            1.0       true        default, camel-salesforce-test                     success&lt;/span&gt;&lt;/pre&gt;
			&lt;/td&gt;
		&lt;/tr&gt;
				&lt;tr id=&quot;syntaxplugin_code_and_gutter&quot;&gt;
						&lt;td  style=&quot; line-height: 1.4em !important; padding: 0em; vertical-align: top;&quot;&gt;
					&lt;pre style=&quot;font-size: 1em; margin: 0 10px;   width: auto; padding: 0;&quot;&gt;&lt;span style=&quot;color: black; font-family: &apos;Consolas&apos;, &apos;Bitstream Vera Sans Mono&apos;, &apos;Courier New&apos;, Courier, monospace !important;&quot;&gt;app1                           1.0       false       default                                            &lt;/span&gt;&lt;/pre&gt;
			&lt;/td&gt;
		&lt;/tr&gt;
				&lt;tr id=&quot;syntaxplugin_code_and_gutter&quot;&gt;
						&lt;td  style=&quot; line-height: 1.4em !important; padding: 0em; vertical-align: top;&quot;&gt;
					&lt;pre style=&quot;font-size: 1em; margin: 0 10px;   width: auto; padding: 0;&quot;&gt;&lt;span style=&quot;color: black; font-family: &apos;Consolas&apos;, &apos;Bitstream Vera Sans Mono&apos;, &apos;Courier New&apos;, Courier, monospace !important;&quot;&gt;app2                           1.0       false       default                                            &lt;/span&gt;&lt;/pre&gt;
			&lt;/td&gt;
		&lt;/tr&gt;
				&lt;tr id=&quot;syntaxplugin_code_and_gutter&quot;&gt;
						&lt;td  style=&quot; line-height: 1.4em !important; padding: 0em; vertical-align: top;&quot;&gt;
					&lt;pre style=&quot;font-size: 1em; margin: 0 10px;   width: auto; padding: 0;&quot;&gt;&lt;span style=&quot;color: black; font-family: &apos;Consolas&apos;, &apos;Bitstream Vera Sans Mono&apos;, &apos;Courier New&apos;, Courier, monospace !important;&quot;&gt;app3                           1.0       false       default                                            &lt;/span&gt;&lt;/pre&gt;
			&lt;/td&gt;
		&lt;/tr&gt;
				&lt;tr id=&quot;syntaxplugin_code_and_gutter&quot;&gt;
						&lt;td  style=&quot; line-height: 1.4em !important; padding: 0em; vertical-align: top;&quot;&gt;
					&lt;pre style=&quot;font-size: 1em; margin: 0 10px;   width: auto; padding: 0;&quot;&gt;&lt;span style=&quot;color: black; font-family: &apos;Consolas&apos;, &apos;Bitstream Vera Sans Mono&apos;, &apos;Courier New&apos;, Courier, monospace !important;&quot;&gt;app4                           1.0       false       default                                            &lt;/span&gt;&lt;/pre&gt;
			&lt;/td&gt;
		&lt;/tr&gt;
				&lt;tr id=&quot;syntaxplugin_code_and_gutter&quot;&gt;
						&lt;td  style=&quot; line-height: 1.4em !important; padding: 0em; vertical-align: top;&quot;&gt;
					&lt;pre style=&quot;font-size: 1em; margin: 0 10px;   width: auto; padding: 0;&quot;&gt;&lt;span style=&quot;color: black; font-family: &apos;Consolas&apos;, &apos;Bitstream Vera Sans Mono&apos;, &apos;Courier New&apos;, Courier, monospace !important;&quot;&gt;app5                           1.0       false       default                                            &lt;/span&gt;&lt;/pre&gt;
			&lt;/td&gt;
		&lt;/tr&gt;
				&lt;tr id=&quot;syntaxplugin_code_and_gutter&quot;&gt;
						&lt;td  style=&quot; line-height: 1.4em !important; padding: 0em; vertical-align: top;&quot;&gt;
					&lt;pre style=&quot;font-size: 1em; margin: 0 10px;   margin-bottom: 10px;  width: auto; padding: 0;&quot;&gt;&lt;span style=&quot;color: black; font-family: &apos;Consolas&apos;, &apos;Bitstream Vera Sans Mono&apos;, &apos;Courier New&apos;, Courier, monospace !important;&quot;&gt;root*                          1.0       true        fabric, fabric-ensemble-0000-1, hawtio, openshift  success&lt;/span&gt;&lt;/pre&gt;
			&lt;/td&gt;
		&lt;/tr&gt;
			&lt;/tbody&gt;
&lt;/table&gt;
&lt;/div&gt;
&lt;p/&gt;

&lt;p&gt;And after reaching Fabric timeout, the failed containers are removed.&lt;/p&gt;
&lt;p/&gt;
&lt;div id=&quot;syntaxplugin&quot; class=&quot;syntaxplugin&quot; style=&quot;border: 1px dashed #bbb; border-radius: 5px !important; overflow: auto; max-height: 30em;&quot;&gt;
&lt;table cellspacing=&quot;0&quot; cellpadding=&quot;0&quot; border=&quot;0&quot; width=&quot;100%&quot; style=&quot;font-size: 1em; line-height: 1.4em !important; font-weight: normal; font-style: normal; color: black;&quot;&gt;
		&lt;tbody &gt;
				&lt;tr id=&quot;syntaxplugin_code_and_gutter&quot;&gt;
						&lt;td  style=&quot; line-height: 1.4em !important; padding: 0em; vertical-align: top;&quot;&gt;
					&lt;pre style=&quot;font-size: 1em; margin: 0 10px;  margin-top: 10px;   margin-bottom: 10px;  width: auto; padding: 0;&quot;&gt;&lt;span style=&quot;color: black; font-family: &apos;Consolas&apos;, &apos;Bitstream Vera Sans Mono&apos;, &apos;Courier New&apos;, Courier, monospace !important;&quot;&gt;Failed to create containers io.fabric8.api.FabricException: Timeout waiting for container creation&lt;/span&gt;&lt;/pre&gt;
			&lt;/td&gt;
		&lt;/tr&gt;
			&lt;/tbody&gt;
&lt;/table&gt;
&lt;/div&gt;
&lt;p/&gt;</comment>
                            <comment id="13003598" author="janstey" created="Wed, 17 Sep 2014 13:57:35 -0400"  >&lt;p&gt;Original wait-for-fabric issue fixed in current RPM build. Comment about creating containers from hawtio is covered by &lt;a href=&quot;https://issues.jboss.org/browse/ENTESB-1957&quot; title=&quot;If creating more than 3 containers from Hawtio at the same time, none of them can be created in the end&quot; class=&quot;issue-link&quot; data-issue-key=&quot;ENTESB-1957&quot;&gt;&lt;del&gt;ENTESB-1957&lt;/del&gt;&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="13004192" author="maschmid" created="Fri, 19 Sep 2014 04:25:23 -0400"  >&lt;p&gt;Verified on 396-1 (for the case of single container creation, the other case is tracked as &lt;a href=&quot;https://issues.jboss.org/browse/ENTESB-1957&quot; title=&quot;If creating more than 3 containers from Hawtio at the same time, none of them can be created in the end&quot; class=&quot;issue-link&quot; data-issue-key=&quot;ENTESB-1957&quot;&gt;&lt;del&gt;ENTESB-1957&lt;/del&gt;&lt;/a&gt;)&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="12310001">
                    <name>Related</name>
                                                                <inwardlinks description="is related to">
                                        <issuelink>
            <issuekey id="12550215">ENTESB-1857</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="12384734" name="dump.txt" size="3525" author="dsimansk" created="Fri, 5 Sep 2014 12:08:36 -0400"/>
                            <attachment id="12384735" name="log.txt" size="57629" author="dsimansk" created="Fri, 5 Sep 2014 12:08:36 -0400"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12310641" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Number of attachments</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>2.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310640" key="com.atlassian.jira.toolkit:comments">
                        <customfieldname>Number of comments</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12311940" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1|hzsy73:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310840" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                    </customfields>
    </item>
</channel>
</rss>