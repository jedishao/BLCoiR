<!-- 
RSS generated by JIRA (7.2.3#72005-sha1:73be91d2b96fc29303a7eb6820acf420e5d0ed65) at Tue Dec 06 22:54:08 EST 2016

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary add field=key&field=summary to the URL of your request.
For example:
https://issues.jboss.org/si/jira.issueviews:issue-xml/ENTESB-4369/ENTESB-4369.xml?field=key&amp;field=summary
-->
<rss version="0.92" >
<channel>
    <title>JBoss Issue Tracker</title>
    <link>https://issues.jboss.org</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-us</language>    <build-info>
        <version>7.2.3</version>
        <build-number>72005</build-number>
        <build-date>06-10-2016</build-date>
    </build-info>

<item>
            <title>[ENTESB-4369] Standby Fuse container in active/standby configuration does not expose an SSH service since 6.2</title>
                <link>https://issues.jboss.org/browse/ENTESB-4369</link>
                <project id="12314570" key="ENTESB">JBoss Fuse</project>
                    <description>&lt;p&gt;In Fuse 6.1, when Fuse was used in an active/standby configuration so that only one instance would be active at a given time, the standby instance initialized its SSH service and could be interrogated via SSH or using the bin/client script.&lt;/p&gt;

&lt;p&gt;As of 6.2 this behaviour has changed, presumably because the start-level of the sshd bundles have changed from 30 to 80. Customers that relied on SSH access to monitor their production systems can no longer do so.&lt;/p&gt;</description>
                <environment>&lt;p&gt;JBoss Fuse 6.2&lt;/p&gt;</environment>
        <key id="12591780">ENTESB-4369</key>
            <summary>Standby Fuse container in active/standby configuration does not expose an SSH service since 6.2</summary>
                <type id="1" iconUrl="https://issues.jboss.org/secure/viewavatar?size=xsmall&amp;avatarId=13263&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.jboss.org/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.jboss.org/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Done</resolution>
                                        <assignee username="sonicaaaa">Paolo Antinori</assignee>
                                    <reporter username="kboone">Kevin Boone</reporter>
                        <labels>
                            <label>fabricv1</label>
                            <label>karaf</label>
                    </labels>
                <created>Fri, 6 Nov 2015 07:33:00 -0500</created>
                <updated>Tue, 16 Aug 2016 06:02:53 -0400</updated>
                            <resolved>Tue, 17 Nov 2015 09:03:48 -0500</resolved>
                                    <version> jboss-fuse-6.2</version>
                                    <fixVersion>jboss-fuse-6.3</fixVersion>
                                    <component>Karaf</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>4</watches>
                                                                <comments>
                            <comment id="13126367" author="kboone" created="Fri, 6 Nov 2015 08:14:33 -0500"  >&lt;p&gt;This bug/change not only causes problems with monitoring, but also with application maintenance.&lt;/p&gt;

&lt;p&gt;Consider a situation where there are Fuse instances on multiple machines, with active/standby operation being coordinated with the JDBC locker. In 6.1, it was possible to deploy on the passive instance(s), so the installation could be updated with little hassle and minimal downtime. In 6.2, however, the lack of SSH access makes it impossible to deploy on the passive instance(s), and so updating software is a major headache, involving numerous restarts.&lt;/p&gt;</comment>
                            <comment id="13160158" author="jludvice" created="Tue, 9 Feb 2016 06:35:31 -0500"  >&lt;p&gt;Verified by QA with Fuse 6.3 and  following configuration&lt;/p&gt;
&lt;p/&gt;
&lt;div id=&quot;syntaxplugin&quot; class=&quot;syntaxplugin&quot; style=&quot;border: 1px dashed #bbb; border-radius: 5px !important; overflow: auto; max-height: 30em;&quot;&gt;
&lt;table cellspacing=&quot;0&quot; cellpadding=&quot;0&quot; border=&quot;0&quot; width=&quot;100%&quot; style=&quot;font-size: 1em; line-height: 1.4em !important; font-weight: normal; font-style: normal; color: black;&quot;&gt;
		&lt;thead&gt;
			&lt;tr id=&quot;syntaxplugin_title&quot;&gt;
			&lt;td bgcolor=&quot;#f5f5f5&quot; style=&quot;font-family: Arial,sans-serif; color: #333; border-bottom: 1px solid #bbb; background-color: #f5f5f5 !important; font-weight: bold; line-height: 1em;&quot; &gt;
				&lt;p style=&quot;margin: 5px 10px; padding: 0;&quot;&gt;etc/system.properties&lt;/p&gt;
			&lt;/td&gt;
		&lt;/tr&gt;
			&lt;/thead&gt;
		&lt;tbody &gt;
				&lt;tr id=&quot;syntaxplugin_code_and_gutter&quot;&gt;
						&lt;td  style=&quot; line-height: 1.4em !important; padding: 0em; vertical-align: top;&quot;&gt;
					&lt;pre style=&quot;font-size: 1em; margin: 0 10px;  margin-top: 10px;   width: auto; padding: 0;&quot;&gt;&lt;span style=&quot;color: black; font-family: &apos;Consolas&apos;, &apos;Bitstream Vera Sans Mono&apos;, &apos;Courier New&apos;, Courier, monospace !important;&quot;&gt;# lock settings&lt;/span&gt;&lt;/pre&gt;
			&lt;/td&gt;
		&lt;/tr&gt;
				&lt;tr id=&quot;syntaxplugin_code_and_gutter&quot;&gt;
						&lt;td  style=&quot; line-height: 1.4em !important; padding: 0em; vertical-align: top;&quot;&gt;
					&lt;pre style=&quot;font-size: 1em; margin: 0 10px;   width: auto; padding: 0;&quot;&gt;&lt;span style=&quot;color: black; font-family: &apos;Consolas&apos;, &apos;Bitstream Vera Sans Mono&apos;, &apos;Courier New&apos;, Courier, monospace !important;&quot;&gt;karaf.lock=true&lt;/span&gt;&lt;/pre&gt;
			&lt;/td&gt;
		&lt;/tr&gt;
				&lt;tr id=&quot;syntaxplugin_code_and_gutter&quot;&gt;
						&lt;td  style=&quot; line-height: 1.4em !important; padding: 0em; vertical-align: top;&quot;&gt;
					&lt;pre style=&quot;font-size: 1em; margin: 0 10px;   width: auto; padding: 0;&quot;&gt;&lt;span style=&quot;color: black; font-family: &apos;Consolas&apos;, &apos;Bitstream Vera Sans Mono&apos;, &apos;Courier New&apos;, Courier, monospace !important;&quot;&gt;karaf.lock.class=org.apache.karaf.main.SimpleFileLock&lt;/span&gt;&lt;/pre&gt;
			&lt;/td&gt;
		&lt;/tr&gt;
				&lt;tr id=&quot;syntaxplugin_code_and_gutter&quot;&gt;
						&lt;td  style=&quot; line-height: 1.4em !important; padding: 0em; vertical-align: top;&quot;&gt;
					&lt;pre style=&quot;font-size: 1em; margin: 0 10px;   width: auto; padding: 0;&quot;&gt;&lt;span style=&quot;color: black; font-family: &apos;Consolas&apos;, &apos;Bitstream Vera Sans Mono&apos;, &apos;Courier New&apos;, Courier, monospace !important;&quot;&gt;karaf.lock.dir=/path/to/dir/for/lockfile&lt;/span&gt;&lt;/pre&gt;
			&lt;/td&gt;
		&lt;/tr&gt;
				&lt;tr id=&quot;syntaxplugin_code_and_gutter&quot;&gt;
						&lt;td  style=&quot; line-height: 1.4em !important; padding: 0em; vertical-align: top;&quot;&gt;
					&lt;pre style=&quot;font-size: 1em; margin: 0 10px;   width: auto; padding: 0;&quot;&gt;&lt;span style=&quot;color: black; font-family: &apos;Consolas&apos;, &apos;Bitstream Vera Sans Mono&apos;, &apos;Courier New&apos;, Courier, monospace !important;&quot;&gt;karaf.lock.level=50&lt;/span&gt;&lt;/pre&gt;
			&lt;/td&gt;
		&lt;/tr&gt;
				&lt;tr id=&quot;syntaxplugin_code_and_gutter&quot;&gt;
						&lt;td  style=&quot; line-height: 1.4em !important; padding: 0em; vertical-align: top;&quot;&gt;
					&lt;pre style=&quot;font-size: 1em; margin: 0 10px;   margin-bottom: 10px;  width: auto; padding: 0;&quot;&gt;&lt;span style=&quot;color: black; font-family: &apos;Consolas&apos;, &apos;Bitstream Vera Sans Mono&apos;, &apos;Courier New&apos;, Courier, monospace !important;&quot;&gt;karaf.lock.delay=10000&lt;/span&gt;&lt;/pre&gt;
			&lt;/td&gt;
		&lt;/tr&gt;
			&lt;/tbody&gt;
&lt;/table&gt;
&lt;/div&gt;
&lt;p/&gt;

&lt;ul&gt;
	&lt;li&gt;Ssh bundle has start-level 50.
&lt;p/&gt;
&lt;div id=&quot;syntaxplugin&quot; class=&quot;syntaxplugin&quot; style=&quot;border: 1px dashed #bbb; border-radius: 5px !important; overflow: auto; max-height: 30em;&quot;&gt;
&lt;table cellspacing=&quot;0&quot; cellpadding=&quot;0&quot; border=&quot;0&quot; width=&quot;100%&quot; style=&quot;font-size: 1em; line-height: 1.4em !important; font-weight: normal; font-style: normal; color: black;&quot;&gt;
		&lt;tbody &gt;
				&lt;tr id=&quot;syntaxplugin_code_and_gutter&quot;&gt;
						&lt;td  style=&quot; line-height: 1.4em !important; padding: 0em; vertical-align: top;&quot;&gt;
					&lt;pre style=&quot;font-size: 1em; margin: 0 10px;  margin-top: 10px;   margin-bottom: 10px;  width: auto; padding: 0;&quot;&gt;&lt;span style=&quot;color: black; font-family: &apos;Consolas&apos;, &apos;Bitstream Vera Sans Mono&apos;, &apos;Courier New&apos;, Courier, monospace !important;&quot;&gt;[ 147] [Active     ] [Created     ] [       ] [   50] mvn:org.apache.karaf.shell/org.apache.karaf.shell.ssh/2.4.0.redhat-630015&lt;/span&gt;&lt;/pre&gt;
			&lt;/td&gt;
		&lt;/tr&gt;
			&lt;/tbody&gt;
&lt;/table&gt;
&lt;/div&gt;
&lt;p/&gt;&lt;/li&gt;
	&lt;li&gt;ssh to container with  &lt;tt&gt;karaf.lock.level=50&lt;/tt&gt; is possible&lt;/li&gt;
	&lt;li&gt;but keep in mind, that some commands are not accessible at this time. For instance features service (and &lt;tt&gt;features:*&lt;/tt&gt; commands) has start level 80 - it&apos;s not started yet.&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;Also, each fuse should have it&apos;s owhn &lt;tt&gt;$FUSE_HOME&lt;/tt&gt;. &lt;br/&gt;
Starting multiple instances from same location might cause unexpected behavior because of shared data folder.&lt;/p&gt;

&lt;p&gt;For completeness, list of files with bind ports configuration - change to avoid port conflicts when running multiple containers on same host.&lt;/p&gt;

&lt;ul&gt;
	&lt;li&gt;etc/system.properties&lt;/li&gt;
	&lt;li&gt;etc/org.apache.karaf.management.cfg &amp;#8211; JMX&lt;/li&gt;
	&lt;li&gt;etc/org.apache.karaf.shell.cfg&lt;/li&gt;
	&lt;li&gt;etc/org.ops4j.pax.web.cfg&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;Closing issue&lt;/p&gt;</comment>
                            <comment id="13160319" author="jludvice" created="Tue, 9 Feb 2016 09:36:09 -0500"  >&lt;p&gt;Created enhancment ticket &lt;a href=&quot;https://issues.jboss.org/browse/ENTESB-4930&quot; title=&quot;improve active/standby container configuration&quot; class=&quot;issue-link&quot; data-issue-key=&quot;ENTESB-4930&quot;&gt;&lt;del&gt;ENTESB-4930&lt;/del&gt;&lt;/a&gt; to improve:&lt;/p&gt;
&lt;blockquote&gt;
&lt;ul&gt;
	&lt;li&gt;ssh to container with karaf.lock.level=50 is possible&lt;/li&gt;
	&lt;li&gt;but some commands are not accessible at this time. For instance features service (and features:* commands) has start level 80 - it&apos;s not started yet.&lt;/li&gt;
&lt;/ul&gt;
&lt;/blockquote&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="12310220">
                    <name>Causality</name>
                                                                <inwardlinks description="causes">
                                        <issuelink>
            <issuekey id="12637955">ENTESB-5820</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                            <issuelinktype id="12310001">
                    <name>Related</name>
                                                                <inwardlinks description="is related to">
                                                        </inwardlinks>
                                    </issuelinktype>
                            <issuelinktype id="12310221">
                    <name>Sequence</name>
                                                                <inwardlinks description="is followed up by">
                                        <issuelink>
            <issuekey id="12603167">ENTESB-4930</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12312340" key="org.jboss.labs.jira.plugin.jboss-custom-field-types-plugin:jbonlyselect">
                        <customfieldname>GSS Priority</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                <customfield id="customfield_12310641" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Number of attachments</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310640" key="com.atlassian.jira.toolkit:comments">
                        <customfieldname>Number of comments</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>3.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12311940" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1|hzmgw6:zzzx</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310840" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                <customfield id="customfield_12310940" key="com.pyxis.greenhopper.jira:gh-sprint">
                        <customfieldname>Sprint</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue id="4452">6.3 Sprint 1 (4-Jan-&gt;29-Jan)</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310183" key="com.atlassian.jira.plugin.system.customfieldtypes:textarea">
                        <customfieldname>Steps to Reproduce</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>&lt;p&gt;1. Install Fuse 6.2 GA&lt;br/&gt;
2. bin/fuse&lt;br/&gt;
3. In a different console, bin/fuse&lt;br/&gt;
4. Check the open ports in the second instance &amp;#8211; no SSH port is exposed&lt;/p&gt;</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12310080" key="com.atlassian.jira.plugin.system.customfieldtypes:userpicker">
                        <customfieldname>Tester</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>jludvice</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            </customfields>
    </item>
</channel>
</rss>