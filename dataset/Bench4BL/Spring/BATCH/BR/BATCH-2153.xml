<!-- 
RSS generated by JIRA (6.4.11#64026-sha1:78f6ec473a3f058bd5d6c30e9319c7ab376bdb9c) at Thu Dec 22 11:16:47 UTC 2016

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary add field=key&field=summary to the URL of your request.
For example:
https://jira.spring.io/si/jira.issueviews:issue-xml/BATCH-2153/BATCH-2153.xml?field=key&amp;field=summary
-->
<rss version="0.92" >
<channel>
    <title>Spring JIRA</title>
    <link>https://jira.spring.io</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>6.4.11</version>
        <build-number>64026</build-number>
        <build-date>25-08-2015</build-date>
    </build-info>

<item>
            <title>[BATCH-2153] StepSynchronizationManager uses static HashMap - NullPointerException with multiple Threads</title>
                <link>https://jira.spring.io/browse/BATCH-2153</link>
                <project id="10090" key="BATCH">Spring Batch</project>
                    <description>&lt;p&gt;org.springframework.batch.core.scope.context.StepSynchronizationManager produces NullPointerException, because it uses static java.util.HashMap to increment and decrement variables for the current Thread, which is not threadsafe.&lt;br/&gt;
Solution: Replacing java.util.HashMap with java.util.Hashtable (threadsafe) works for me.&lt;/p&gt;

&lt;p&gt;Also see this build error &lt;a href=&quot;https://build.springsource.org/browse/BATCH-TRUNK-JOB1-6375/test/case/62852213;jsessionid=59A64053379861A4C2328C879E4525EA&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://build.springsource.org/browse/BATCH-TRUNK-JOB1-6375/test/case/62852213;jsessionid=59A64053379861A4C2328C879E4525EA&lt;/a&gt; with the same exception.&lt;/p&gt;

&lt;p&gt;Find attached a minimal maven project (start TestStepSynchronizationManagerMain to reproduce the NullPointerException) and a possible fix.&lt;/p&gt;</description>
                <environment>Windows 7 64bit &amp;amp; Solaris, jdk1.7.0_40</environment>
        <key id="52100">BATCH-2153</key>
            <summary>StepSynchronizationManager uses static HashMap - NullPointerException with multiple Threads</summary>
                <type id="1" iconUrl="https://jira.spring.io/images/icons/issuetypes/bug.png">Bug</type>
                                            <priority id="2" iconUrl="https://jira.spring.io/images/icons/priorities/critical.png">Critical</priority>
                        <status id="5" iconUrl="https://jira.spring.io/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="8">Complete</resolution>
                                        <assignee username="mminella">Michael Minella</assignee>
                                    <reporter username="philler@gmx.at">Philipp Kra&#223;nitzer</reporter>
                        <labels>
                            <label>error-reporting</label>
                    </labels>
                <created>Thu, 28 Nov 2013 05:35:33 +0000</created>
                <updated>Fri, 21 Feb 2014 12:09:36 +0000</updated>
                            <resolved>Fri, 21 Feb 2014 12:05:13 +0000</resolved>
                                    <version>3.0.0</version>
                    <version>2.2.3</version>
                    <version>2.2.4</version>
                                    <fixVersion>2.2.5</fixVersion>
                                    <component>Core</component>
                        <due></due>
                            <votes>5</votes>
                                    <watches>5</watches>
                                    <timeoriginalestimate seconds="300">5m</timeoriginalestimate>
                            <timeestimate seconds="300">5m</timeestimate>
                                        <comments>
                            <comment id="96708" author="philler@gmx.at" created="Fri, 20 Dec 2013 01:03:34 +0000"  >&lt;p&gt;Do you need some support? Shall I contribute the solution in another way?&lt;/p&gt;</comment>
                            <comment id="99165" author="mminella" created="Fri, 21 Feb 2014 12:05:07 +0000"  >&lt;p&gt;I converted the &lt;tt&gt;HashMap&lt;/tt&gt; to a &lt;tt&gt;ConcurrentHashMap&lt;/tt&gt;.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="21521" name="StepSynchronizationManager.java.patch" size="1215" author="philler@gmx.at" created="Thu, 28 Nov 2013 05:35:34 +0000"/>
                            <attachment id="21520" name="TestStepSynchronizationManager.zip" size="2781" author="philler@gmx.at" created="Thu, 28 Nov 2013 05:35:34 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_10170" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>First Response Date</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Fri, 21 Feb 2014 12:05:07 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_10280" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>38580</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_10880" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i06qfj:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_10380" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>39320</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_10381" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Ranking</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>38282</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_10171" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                </customfields>
    </item>
</channel>
</rss>