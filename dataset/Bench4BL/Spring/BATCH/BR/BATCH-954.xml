<!-- 
RSS generated by JIRA (6.4.11#64026-sha1:78f6ec473a3f058bd5d6c30e9319c7ab376bdb9c) at Thu Dec 22 12:01:50 UTC 2016

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary add field=key&field=summary to the URL of your request.
For example:
https://jira.spring.io/si/jira.issueviews:issue-xml/BATCH-954/BATCH-954.xml?field=key&amp;field=summary
-->
<rss version="0.92" >
<channel>
    <title>Spring JIRA</title>
    <link>https://jira.spring.io</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>6.4.11</version>
        <build-number>64026</build-number>
        <build-date>25-08-2015</build-date>
    </build-info>

<item>
            <title>[BATCH-954] Failure on job stop</title>
                <link>https://jira.spring.io/browse/BATCH-954</link>
                <project id="10090" key="BATCH">Spring Batch</project>
                    <description>&lt;p&gt;Try to stop a job with SimpleJobOperator through JMX.&lt;/p&gt;

&lt;p&gt;A OptimisticLockingFailureException is thrown because the jobExecution version doesn&apos;t match with persisted one.&lt;/p&gt;

&lt;p&gt;Bug origin :&lt;br/&gt;
When the JobExecution status is synchronized, the version is not updated.&lt;/p&gt;</description>
                <environment></environment>
        <key id="24981">BATCH-954</key>
            <summary>Failure on job stop</summary>
                <type id="1" iconUrl="https://jira.spring.io/images/icons/issuetypes/bug.png">Bug</type>
                                            <priority id="2" iconUrl="https://jira.spring.io/images/icons/priorities/critical.png">Critical</priority>
                        <status id="5" iconUrl="https://jira.spring.io/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="david_syer">Dave Syer</assignee>
                                    <reporter username="edouard">Edouard Lemaistre</reporter>
                        <labels>
                    </labels>
                <created>Thu, 4 Dec 2008 23:55:20 +0000</created>
                <updated>Sun, 7 Dec 2008 23:41:22 +0000</updated>
                            <resolved>Sun, 7 Dec 2008 22:52:01 +0000</resolved>
                                    <version>2.0.0.M3</version>
                                    <fixVersion>2.0.0.M4</fixVersion>
                                    <component>Core</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                    <timeoriginalestimate seconds="14400">0.5d</timeoriginalestimate>
                            <timeestimate seconds="3600">1h</timeestimate>
                            <timespent seconds="10800">3h</timespent>
                                <comments>
                            <comment id="41488" author="robert.kasanicky" created="Sun, 7 Dec 2008 22:52:01 +0000"  >&lt;p&gt;Added version check before synchronizing JobExecution.status. If versions do not match both status and version are synchronized.&lt;/p&gt;</comment>
                            <comment id="41489" author="david_syer" created="Sun, 7 Dec 2008 23:01:43 +0000"  >&lt;p&gt;What&apos;s the reason for the mismatch?  Isn&apos;t it dangerous to just ignore it and synchronize?&lt;/p&gt;</comment>
                            <comment id="41491" author="robert.kasanicky" created="Sun, 7 Dec 2008 23:40:24 +0000"  >&lt;p&gt;JobOperator works with its own copy of JobExecution therefore the version mismatch between job&apos;s and jobOperators&apos; version is inevitable. This issue fixed the obvious problem (when jobOperator updates the status, job&apos;s version becomes obsolete), but I think there can still be trouble with race conditions. I want to take a closer look at this in &lt;a href=&quot;https://jira.spring.io/browse/BATCH-961&quot; title=&quot;integration tests for JobOperator&quot; class=&quot;issue-link&quot; data-issue-key=&quot;BATCH-961&quot;&gt;&lt;del&gt;BATCH-961&lt;/del&gt;&lt;/a&gt;&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10020">
                    <name>Related</name>
                                                                <inwardlinks description="is related to">
                                        <issuelink>
            <issuekey id="25005">BATCH-961</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_10170" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>First Response Date</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Sun, 7 Dec 2008 22:52:01 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_10280" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>11703</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_10880" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i03x93:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_10380" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>22929</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_10381" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Ranking</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>19395</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_10171" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                </customfields>
    </item>
</channel>
</rss>