<!-- 
RSS generated by JIRA (6.4.11#64026-sha1:78f6ec473a3f058bd5d6c30e9319c7ab376bdb9c) at Thu Dec 22 11:14:15 UTC 2016

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary add field=key&field=summary to the URL of your request.
For example:
https://jira.spring.io/si/jira.issueviews:issue-xml/BATCH-2126/BATCH-2126.xml?field=key&amp;field=summary
-->
<rss version="0.92" >
<channel>
    <title>Spring JIRA</title>
    <link>https://jira.spring.io</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>6.4.11</version>
        <build-number>64026</build-number>
        <build-date>25-08-2015</build-date>
    </build-info>

<item>
            <title>[BATCH-2126] DefaultJobParametersConverter is not thread-safe and the SimpleJobOperator either </title>
                <link>https://jira.spring.io/browse/BATCH-2126</link>
                <project id="10090" key="BATCH">Spring Batch</project>
                    <description>&lt;p&gt;DefaultJobParametersConverter is not thread-safe due to usage of instance variable for numberFormat, dateFormat and longNumberFormat. Then as the SimpleJobOperator use a JobParametersConverter as a instance variable it is not thread-safe either. Thus means that we cannot use it with a SimpleAsyncTaskExecutor or any asynchronous TaskExecutor. &lt;/p&gt;

&lt;p&gt;Can you fix it or can you explain which setup as be evaluated to make it work properly with an asynchronous TaskExecutor ?&lt;/p&gt;</description>
                <environment></environment>
        <key id="51480">BATCH-2126</key>
            <summary>DefaultJobParametersConverter is not thread-safe and the SimpleJobOperator either </summary>
                <type id="1" iconUrl="https://jira.spring.io/images/icons/issuetypes/bug.png">Bug</type>
                                            <priority id="3" iconUrl="https://jira.spring.io/images/icons/priorities/major.png">Major</priority>
                        <status id="5" iconUrl="https://jira.spring.io/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="8">Complete</resolution>
                                        <assignee username="mminella">Michael Minella</assignee>
                                    <reporter username="almex">Alexis SOUMAGNE</reporter>
                        <labels>
                    </labels>
                <created>Wed, 23 Oct 2013 03:19:04 +0000</created>
                <updated>Sun, 23 Feb 2014 23:52:51 +0000</updated>
                            <resolved>Thu, 20 Feb 2014 14:03:33 +0000</resolved>
                                    <version>2.2.2</version>
                                    <fixVersion>3.0.0</fixVersion>
                                    <component>Core</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                                <comments>
                            <comment id="94749" author="mminella" created="Wed, 23 Oct 2013 07:35:18 +0000"  >&lt;p&gt;A JobLauncher (SimpleJobLauncher for example) is the more appropriate component for what you are describing.  It is what we use internally to launch jobs using multiple threads.  We should probably be a bit more clear in the documentation with regards to the thread safety of the DefaultJobParametersConverter and JobOperator.&lt;/p&gt;</comment>
                            <comment id="94779" author="almex" created="Wed, 23 Oct 2013 13:55:35 +0000"  >&lt;p&gt;I notice that the actual implementation for the JSR javax.batch.operations.JobOperator will also use an instance variable for the JobParametersConverter. But if I&apos;m not mistaking for JSR the JobOperator should be thread-safe, is that correct ?&lt;/p&gt;</comment>
                            <comment id="99133" author="mminella" created="Thu, 20 Feb 2014 14:03:25 +0000"  >&lt;p&gt;From the top:&lt;/p&gt;
&lt;ol&gt;
	&lt;li&gt;I&apos;ve updated the DefaultJobParametersConverter to synchronize around the use of the formatters.  Since this is typically used only briefly at the beginning of a job&apos;s execution, the minor performance hit from synchronization should be acceptable.  Change: &lt;a href=&quot;https://github.com/spring-projects/spring-batch/commit/cc3c7593c86c94f2754b0b283387dd3378cf472b&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://github.com/spring-projects/spring-batch/commit/cc3c7593c86c94f2754b0b283387dd3378cf472b&lt;/a&gt;&lt;/li&gt;
	&lt;li&gt;The SimpleJobOperator itself doesn&apos;t maintain any state beyond what is held in those formatters in the DefaultJobParametersConverter so assuming the first point, this should be addressed.&lt;/li&gt;
	&lt;li&gt;The JsrJobOperator is in the same situation in that it doesn&apos;t maintain any state beyond the converter so, again, this should be ok with point one applied.&lt;/li&gt;
&lt;/ol&gt;
</comment>
                            <comment id="99222" author="almex" created="Sun, 23 Feb 2014 23:52:51 +0000"  >&lt;p&gt;Thanks, for me it&apos;s perfect.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_10170" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>First Response Date</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Wed, 23 Oct 2013 07:35:18 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_10280" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>37966</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_10880" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i06nlr:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_10380" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>38862</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_10381" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Ranking</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>37668</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_10171" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                </customfields>
    </item>
</channel>
</rss>