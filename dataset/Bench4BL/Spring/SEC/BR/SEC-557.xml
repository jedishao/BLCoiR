<!-- 
RSS generated by JIRA (6.4.11#64026-sha1:78f6ec473a3f058bd5d6c30e9319c7ab376bdb9c) at Fri Dec 23 10:15:35 UTC 2016

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary add field=key&field=summary to the URL of your request.
For example:
https://jira.spring.io/si/jira.issueviews:issue-xml/SEC-557/SEC-557.xml?field=key&amp;field=summary
-->
<rss version="0.92" >
<channel>
    <title>Spring JIRA</title>
    <link>https://jira.spring.io</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>6.4.11</version>
        <build-number>64026</build-number>
        <build-date>25-08-2015</build-date>
    </build-info>

<item>
            <title>[SEC-557] NullPointerException in ExceptionTranslationFilter: accessDeniedHandler is null</title>
                <link>https://jira.spring.io/browse/SEC-557</link>
                <project id="10040" key="SEC">Spring Security</project>
                    <description>&lt;p&gt;NullPointerException is thrown while trying to access secured content with a user which does not have a neccessary role in the Authorities set (Access Denied situation):&lt;/p&gt;

&lt;p&gt;java.lang.NullPointerException&lt;br/&gt;
  at org.acegisecurity.ui.ExceptionTranslationFilter.handleException(ExceptionTranslationFilter.java:229)&lt;br/&gt;
  at org.acegisecurity.ui.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:176)&lt;br/&gt;
  at org.acegisecurity.util.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:275)&lt;br/&gt;
  at org.acegisecurity.providers.anonymous.AnonymousProcessingFilter.doFilter(AnonymousProcessingFilter.java:125)&lt;br/&gt;
  at org.acegisecurity.util.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:275)&lt;br/&gt;
  at org.acegisecurity.ui.rememberme.RememberMeProcessingFilter.doFilter(RememberMeProcessingFilter.java:142)&lt;br/&gt;
  at org.acegisecurity.util.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:275)&lt;br/&gt;
  at org.acegisecurity.ui.basicauth.BasicProcessingFilter.doFilter(BasicProcessingFilter.java:173)&lt;br/&gt;
  at org.acegisecurity.util.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:275)&lt;br/&gt;
  at org.acegisecurity.ui.AbstractProcessingFilter.doFilter(AbstractProcessingFilter.java:271)&lt;br/&gt;
  at org.acegisecurity.util.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:275)&lt;br/&gt;
  at org.acegisecurity.ui.logout.LogoutFilter.doFilter(LogoutFilter.java:110)&lt;br/&gt;
  at org.acegisecurity.util.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:275)&lt;br/&gt;
  at org.acegisecurity.context.HttpSessionContextIntegrationFilter.doFilter(HttpSessionContextIntegrationFilter.java:249)&lt;br/&gt;
  at org.acegisecurity.util.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:275)&lt;br/&gt;
  at org.acegisecurity.util.FilterChainProxy.doFilter(FilterChainProxy.java:149)&lt;br/&gt;
  at org.acegisecurity.util.FilterToBeanProxy.doFilter(FilterToBeanProxy.java:98)&lt;br/&gt;
  at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:202)&lt;br/&gt;
  ...&lt;/p&gt;

&lt;p&gt;Seems to be caused by accessDeniedHandler being null on that line:&lt;/p&gt;

&lt;p&gt;  229: accessDeniedHandler.handle(request, response, (AccessDeniedException) exception);&lt;/p&gt;

&lt;p&gt;Seems that for some reason default AccessDeniedHandlerImpl is not being assigned.&lt;/p&gt;</description>
                <environment>Spring 2.0.6</environment>
        <key id="17926">SEC-557</key>
            <summary>NullPointerException in ExceptionTranslationFilter: accessDeniedHandler is null</summary>
                <type id="1" iconUrl="https://jira.spring.io/images/icons/issuetypes/bug.png">Bug</type>
                                            <priority id="3" iconUrl="https://jira.spring.io/images/icons/priorities/major.png">Major</priority>
                        <status id="6" iconUrl="https://jira.spring.io/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="luke">Luke Taylor</assignee>
                                    <reporter username="aramir">Anton Parygin</reporter>
                        <labels>
                    </labels>
                <created>Thu, 13 Sep 2007 06:36:15 +0000</created>
                <updated>Sat, 6 Feb 2016 06:33:48 +0000</updated>
                            <resolved>Wed, 19 Sep 2007 03:51:48 +0000</resolved>
                                    <version>1.0.5</version>
                                    <fixVersion>1.0.6</fixVersion>
                    <fixVersion>2.0.0 M1</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>4</watches>
                                                                <comments>
                            <comment id="26177" author="luke" created="Thu, 13 Sep 2007 21:00:50 +0000"  >&lt;p&gt;Are you setting the accessDeniedHandler property of ExceptionTranslationFilter?&lt;/p&gt;

&lt;p&gt;It looks like the null check for this property has been removed from afterPropertiesSet.&lt;/p&gt;</comment>
                            <comment id="26183" author="aramir" created="Fri, 14 Sep 2007 02:24:32 +0000"  >&lt;p&gt;&amp;gt; Are you setting the accessDeniedHandler property of ExceptionTranslationFilter? &lt;/p&gt;

&lt;p&gt;No, of course not.&lt;/p&gt;

&lt;p&gt;&amp;gt; It looks like the null check for this property has been removed from afterPropertiesSet&lt;/p&gt;

&lt;p&gt;It wasn&apos;t there to begin with (at least not in 1.0.4). But setAccessDeniedHandler still contains the null check, so it is impossible to set it to null value.&lt;/p&gt;</comment>
                            <comment id="26219" author="luke" created="Mon, 17 Sep 2007 00:33:21 +0000"  >&lt;p&gt;On closer examination, ExceptionTranslationFilter previously had a default AccessDeniedHandler set, but this has been removed. So unless one is allocated then this problem will occur.&lt;/p&gt;

&lt;p&gt;In the meantime, if you make sure you set the property then the problem will go away. e.g.&lt;/p&gt;

&lt;p&gt;   &amp;lt;bean id=&quot;exceptionTranslationFilter&quot; class=&quot;org.acegisecurity.ui.ExceptionTranslationFilter&quot;&amp;gt;&lt;br/&gt;
      &amp;lt;property name=&quot;authenticationEntryPoint&quot; ref=&quot;authenticationProcessingFilterEntryPoint&quot;/&amp;gt;&lt;br/&gt;
      &amp;lt;property name=&quot;accessDeniedHandler&quot;&amp;gt;&lt;br/&gt;
      	&amp;lt;bean class=&quot;org.acegisecurity.ui.AccessDeniedHandlerImpl&quot;&amp;gt;&lt;br/&gt;
      		&amp;lt;property name=&quot;errorPage&quot; value=&quot;/accessDenied.jsp&quot;/&amp;gt;&lt;br/&gt;
      	&amp;lt;/bean&amp;gt;&lt;br/&gt;
      &amp;lt;/property&amp;gt;&lt;br/&gt;
   &amp;lt;/bean&amp;gt;&lt;/p&gt;
</comment>
                            <comment id="26253" author="luke" created="Wed, 19 Sep 2007 03:51:48 +0000"  >&lt;p&gt;I&apos;ve reinstated the use of AccessDeniedHandlerImpl as the default in both 1.0 and 2.0 code. The 2.0 version may be superseded by new configuration features later.&lt;/p&gt;</comment>
                            <comment id="45110" author="spmarc8" created="Thu, 25 Jun 2009 03:45:53 +0000"  >&lt;p&gt;I am having some similar problems and wanted to see if I could get some advise. I have an applicationContext-security.xml file with the following:&lt;/p&gt;

&lt;p&gt;    &amp;lt;s:http auto-config=&quot;true&quot; access-denied-page=&quot;/AccessDenied.action&quot;&amp;gt;&lt;br/&gt;
        &amp;lt;s:intercept-url pattern=&quot;/Vetting*&quot; access=&quot;ROLE_ADMIN&quot;/&amp;gt;\&lt;br/&gt;
        &amp;lt;s:form-login default-target-url=&quot;/Login.action&quot; authentication-failure-url=&quot;/Login_input.action?login_error=1&quot; login-page=&quot;/Login_input.action?login_error=3&quot;/&amp;gt;&lt;br/&gt;
        &amp;lt;s:anonymous /&amp;gt;&lt;br/&gt;
         &amp;lt;!--&amp;lt;s:concurrent-session-control max-sessions=&quot;1&quot; exception-if-maximum-exceeded=&quot;true&quot;/&amp;gt; --&amp;gt;&lt;br/&gt;
        &amp;lt;s:logout logout-url=&quot;/Logout.action&quot; logout-success-url=&quot;/Login_input.action?login_error=2&quot;/&amp;gt; &lt;br/&gt;
    &amp;lt;/s:http&amp;gt;&lt;/p&gt;

&lt;p&gt;In my Container Console I am seeing the following Debug messages - which seems to be correct&lt;/p&gt;

&lt;p&gt;9:34:41,088 DEBUG ExceptionTranslationFilter:167 - Access is denied (user is not anonymous); delegating to AccessDeniedHandler&lt;br/&gt;
org.springframework.security.AccessDeniedException: Access is denied&lt;br/&gt;
	at org.springframework.security.vote.AffirmativeBased.decide(AffirmativeBased.java:68)&lt;br/&gt;
	at org.springframework.security.intercept.AbstractSecurityInterceptor.beforeInvocation(AbstractSecurityInterceptor.java:262)&lt;br/&gt;
	at org.springframework.security.intercept.web.FilterSecurityInterceptor.invoke(FilterSecurityInterceptor.java:106)&lt;br/&gt;
	at org.springframework.security.intercept.web.FilterSecurityInterceptor.doFilter(FilterSecurityInterceptor.java:83)&lt;br/&gt;
	at org.springframework.security.util.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:390)&lt;br/&gt;
	at org.springframework.security.ui.SessionFixationProtectionFilter.doFilterHttp(SessionFixationProtectionFilter.java:67)&lt;br/&gt;
	at org.springframework.security.ui.SpringSecurityFilter.doFilter(SpringSecurityFilter.java:53)&lt;br/&gt;
	at org.springframework.security.util.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:390)&lt;br/&gt;
	at org.springframework.security.ui.ExceptionTranslationFilter.doFilterHttp(ExceptionTranslationFilter.java:101)&lt;br/&gt;
	at org.springframework.security.ui.SpringSecurityFilter.doFilter(SpringSecurityFilter.java:53)&lt;br/&gt;
	at org.springframework.security.util.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:390)&lt;br/&gt;
	at org.springframework.security.providers.anonymous.AnonymousProcessingFilter.doFilterHttp(AnonymousProcessingFilter.java:105)&lt;br/&gt;
	at org.springframework.security.ui.SpringSecurityFilter.doFilter(SpringSecurityFilter.java:53)&lt;br/&gt;
	at org.springframework.security.util.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:390)&lt;br/&gt;
	at org.springframework.security.ui.rememberme.RememberMeProcessingFilter.doFilterHttp(RememberMeProcessingFilter.java:116)&lt;br/&gt;
	at org.springframework.security.ui.SpringSecurityFilter.doFilter(SpringSecurityFilter.java:53)&lt;br/&gt;
	at org.springframework.security.util.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:390)&lt;br/&gt;
	at org.springframework.security.wrapper.SecurityContextHolderAwareRequestFilter.doFilterHttp(SecurityContextHolderAwareRequestFilter.java:91)&lt;br/&gt;
	at org.springframework.security.ui.SpringSecurityFilter.doFilter(SpringSecurityFilter.java:53)&lt;br/&gt;
	at org.springframework.security.util.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:390)&lt;br/&gt;
	at org.springframework.security.ui.basicauth.BasicProcessingFilter.doFilterHttp(BasicProcessingFilter.java:174)&lt;br/&gt;
	at org.springframework.security.ui.SpringSecurityFilter.doFilter(SpringSecurityFilter.java:53)&lt;br/&gt;
	at org.springframework.security.util.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:390)&lt;br/&gt;
	at org.springframework.security.ui.AbstractProcessingFilter.doFilterHttp(AbstractProcessingFilter.java:278)&lt;br/&gt;
	at org.springframework.security.ui.SpringSecurityFilter.doFilter(SpringSecurityFilter.java:53)&lt;br/&gt;
	at org.springframework.security.util.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:390)&lt;br/&gt;
	at org.springframework.security.ui.logout.LogoutFilter.doFilterHttp(LogoutFilter.java:89)&lt;br/&gt;
	at org.springframework.security.ui.SpringSecurityFilter.doFilter(SpringSecurityFilter.java:53)&lt;br/&gt;
	at org.springframework.security.util.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:390)&lt;br/&gt;
	at org.springframework.security.context.HttpSessionContextIntegrationFilter.doFilterHttp(HttpSessionContextIntegrationFilter.java:235)&lt;br/&gt;
	at org.springframework.security.ui.SpringSecurityFilter.doFilter(SpringSecurityFilter.java:53)&lt;br/&gt;
	at org.springframework.security.util.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:390)&lt;br/&gt;
	at org.springframework.security.util.FilterChainProxy.doFilter(FilterChainProxy.java:175)&lt;br/&gt;
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:183)&lt;br/&gt;
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:138)&lt;br/&gt;
	at com.evermind.server.http.ServletRequestDispatcher.invoke(ServletRequestDispatcher.java:620)&lt;br/&gt;
	at com.evermind.server.http.ServletRequestDispatcher.forwardInternal(ServletRequestDispatcher.java:369)&lt;br/&gt;
	at com.evermind.server.http.HttpRequestHandler.handleNotFound(HttpRequestHandler.java:1035)&lt;br/&gt;
	at com.evermind.server.http.HttpRequestHandler.doProcessRequest(HttpRequestHandler.java:905)&lt;br/&gt;
	at com.evermind.server.http.HttpRequestHandler.processRequest(HttpRequestHandler.java:447)&lt;br/&gt;
	at com.evermind.server.http.HttpRequestHandler.serveOneRequest(HttpRequestHandler.java:215)&lt;br/&gt;
	at com.evermind.server.http.HttpRequestHandler.run(HttpRequestHandler.java:117)&lt;br/&gt;
	at com.evermind.server.http.HttpRequestHandler.run(HttpRequestHandler.java:110)&lt;br/&gt;
	at oracle.oc4j.network.ServerSocketReadHandler$SafeRunnable.run(ServerSocketReadHandler.java:260)&lt;br/&gt;
	at com.evermind.util.ReleasableResourcePooledExecutor$MyWorker.run(ReleasableResourcePooledExecutor.java:303)&lt;br/&gt;
	at java.lang.Thread.run(Thread.java:595)&lt;/p&gt;


&lt;p&gt;My JSP is returning the following:&lt;/p&gt;

&lt;p&gt;500 Internal Server Error&lt;/p&gt;

&lt;p&gt;java.lang.NullPointerException&lt;br/&gt;
	at org.springframework.security.ui.AccessDeniedHandlerImpl.handle(AccessDeniedHandlerImpl.java:65)&lt;br/&gt;
	at org.springframework.security.ui.ExceptionTranslationFilter.handleException(ExceptionTranslationFilter.java:171)&lt;br/&gt;
	at org.springframework.security.ui.ExceptionTranslationFilter.doFilterHttp(ExceptionTranslationFilter.java:117)&lt;br/&gt;
	at org.springframework.security.ui.SpringSecurityFilter.doFilter(SpringSecurityFilter.java:53)&lt;br/&gt;
	at org.springframework.security.util.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:390)&lt;br/&gt;
	at org.springframework.security.providers.anonymous.AnonymousProcessingFilter.doFilterHttp(AnonymousProcessingFilter.java:105)&lt;br/&gt;
	at org.springframework.security.ui.SpringSecurityFilter.doFilter(SpringSecurityFilter.java:53)&lt;br/&gt;
	at org.springframework.security.util.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:390)&lt;br/&gt;
	at org.springframework.security.ui.rememberme.RememberMeProcessingFilter.doFilterHttp(RememberMeProcessingFilter.java:116)&lt;br/&gt;
	at org.springframework.security.ui.SpringSecurityFilter.doFilter(SpringSecurityFilter.java:53)&lt;br/&gt;
	at org.springframework.security.util.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:390)&lt;br/&gt;
	at org.springframework.security.wrapper.SecurityContextHolderAwareRequestFilter.doFilterHttp(SecurityContextHolderAwareRequestFilter.java:91)&lt;br/&gt;
	at org.springframework.security.ui.SpringSecurityFilter.doFilter(SpringSecurityFilter.java:53)&lt;br/&gt;
	at org.springframework.security.util.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:390)&lt;br/&gt;
	at org.springframework.security.ui.basicauth.BasicProcessingFilter.doFilterHttp(BasicProcessingFilter.java:174)&lt;br/&gt;
	at org.springframework.security.ui.SpringSecurityFilter.doFilter(SpringSecurityFilter.java:53)&lt;br/&gt;
	at org.springframework.security.util.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:390)&lt;br/&gt;
	at org.springframework.security.ui.AbstractProcessingFilter.doFilterHttp(AbstractProcessingFilter.java:278)&lt;br/&gt;
	at org.springframework.security.ui.SpringSecurityFilter.doFilter(SpringSecurityFilter.java:53)&lt;br/&gt;
	at org.springframework.security.util.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:390)&lt;br/&gt;
	at org.springframework.security.ui.logout.LogoutFilter.doFilterHttp(LogoutFilter.java:89)&lt;br/&gt;
	at org.springframework.security.ui.SpringSecurityFilter.doFilter(SpringSecurityFilter.java:53)&lt;br/&gt;
	at org.springframework.security.util.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:390)&lt;br/&gt;
	at org.springframework.security.context.HttpSessionContextIntegrationFilter.doFilterHttp(HttpSessionContextIntegrationFilter.java:235)&lt;br/&gt;
	at org.springframework.security.ui.SpringSecurityFilter.doFilter(SpringSecurityFilter.java:53)&lt;br/&gt;
	at org.springframework.security.util.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:390)&lt;br/&gt;
	at org.springframework.security.util.FilterChainProxy.doFilter(FilterChainProxy.java:175)&lt;br/&gt;
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:183)&lt;br/&gt;
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:138)&lt;br/&gt;
	at com.evermind&lt;span class=&quot;error&quot;&gt;&amp;#91;Oracle Containers for J2EE 10g (10.1.3.1.1) &amp;#93;&lt;/span&gt;.server.http.ServletRequestDispatcher.invoke(ServletRequestDispatcher.java:620)&lt;br/&gt;
	at com.evermind&lt;span class=&quot;error&quot;&gt;&amp;#91;Oracle Containers for J2EE 10g (10.1.3.1.1) &amp;#93;&lt;/span&gt;.server.http.ServletRequestDispatcher.forwardInternal(ServletRequestDispatcher.java:369)&lt;br/&gt;
	at com.evermind&lt;span class=&quot;error&quot;&gt;&amp;#91;Oracle Containers for J2EE 10g (10.1.3.1.1) &amp;#93;&lt;/span&gt;.server.http.HttpRequestHandler.handleNotFound(HttpRequestHandler.java:1035)&lt;br/&gt;
	at com.evermind&lt;span class=&quot;error&quot;&gt;&amp;#91;Oracle Containers for J2EE 10g (10.1.3.1.1) &amp;#93;&lt;/span&gt;.server.http.HttpRequestHandler.doProcessRequest(HttpRequestHandler.java:905)&lt;br/&gt;
	at com.evermind&lt;span class=&quot;error&quot;&gt;&amp;#91;Oracle Containers for J2EE 10g (10.1.3.1.1) &amp;#93;&lt;/span&gt;.server.http.HttpRequestHandler.processRequest(HttpRequestHandler.java:447)&lt;br/&gt;
	at com.evermind&lt;span class=&quot;error&quot;&gt;&amp;#91;Oracle Containers for J2EE 10g (10.1.3.1.1) &amp;#93;&lt;/span&gt;.server.http.HttpRequestHandler.serveOneRequest(HttpRequestHandler.java:215)&lt;br/&gt;
	at com.evermind&lt;span class=&quot;error&quot;&gt;&amp;#91;Oracle Containers for J2EE 10g (10.1.3.1.1) &amp;#93;&lt;/span&gt;.server.http.HttpRequestHandler.run(HttpRequestHandler.java:117)&lt;br/&gt;
	at com.evermind&lt;span class=&quot;error&quot;&gt;&amp;#91;Oracle Containers for J2EE 10g (10.1.3.1.1) &amp;#93;&lt;/span&gt;.server.http.HttpRequestHandler.run(HttpRequestHandler.java:110)&lt;br/&gt;
	at oracle.oc4j.network.ServerSocketReadHandler$SafeRunnable.run(ServerSocketReadHandler.java:260)&lt;br/&gt;
	at oracle.oc4j.network.ServerSocketAcceptHandler.procClientSocket(ServerSocketAcceptHandler.java:239)&lt;br/&gt;
	at oracle.oc4j.network.ServerSocketAcceptHandler.access$700(ServerSocketAcceptHandler.java:34)&lt;br/&gt;
	at oracle.oc4j.network.ServerSocketAcceptHandler$AcceptHandlerHorse.run(ServerSocketAcceptHandler.java:880)&lt;br/&gt;
	at com.evermind&lt;span class=&quot;error&quot;&gt;&amp;#91;Oracle Containers for J2EE 10g (10.1.3.1.1) &amp;#93;&lt;/span&gt;.util.ReleasableResourcePooledExecutor$MyWorker.run(ReleasableResourcePooledExecutor.java:303)&lt;br/&gt;
	at java.lang.Thread.run(Thread.java:595)&lt;/p&gt;


&lt;p&gt;FYI - I am using struts2.  Also, I can change the applicationContext-security.xml file with the following, which seems to ?:&lt;/p&gt;

&lt;p&gt;    &amp;lt;s:http auto-config=&quot;true&quot; access-denied-page=&quot;/pages/accessDenied.jsp&quot;&amp;gt;&lt;br/&gt;
        &amp;lt;s:intercept-url pattern=&quot;/Vetting*&quot; access=&quot;ROLE_ADMIN&quot;/&amp;gt;\&lt;br/&gt;
        &amp;lt;s:form-login default-target-url=&quot;/Login.action&quot; authentication-failure-url=&quot;/Login_input.action?login_error=1&quot; login-page=&quot;/Login_input.action?login_error=3&quot;/&amp;gt;&lt;br/&gt;
        &amp;lt;s:anonymous /&amp;gt;&lt;br/&gt;
         &amp;lt;!--&amp;lt;s:concurrent-session-control max-sessions=&quot;1&quot; exception-if-maximum-exceeded=&quot;true&quot;/&amp;gt; --&amp;gt;&lt;br/&gt;
        &amp;lt;s:logout logout-url=&quot;/Logout.action&quot; logout-success-url=&quot;/Login_input.action?login_error=2&quot;/&amp;gt; &lt;br/&gt;
    &amp;lt;/s:http&amp;gt;&lt;/p&gt;

&lt;p&gt;FYI - Following feedback from other posts I have verified that my web.xml file has spring filter before sitemesh filter, see the below:&lt;/p&gt;

&lt;p&gt;    &amp;lt;filter&amp;gt;&lt;br/&gt;
        &amp;lt;filter-name&amp;gt;springSecurityFilterChain&amp;lt;/filter-name&amp;gt;&lt;br/&gt;
        &amp;lt;filter-class&amp;gt;org.springframework.web.filter.DelegatingFilterProxy&amp;lt;/filter-class&amp;gt;&lt;br/&gt;
    &amp;lt;/filter&amp;gt;&lt;/p&gt;

&lt;p&gt;    &amp;lt;filter&amp;gt;&lt;br/&gt;
        &amp;lt;filter-name&amp;gt;sitemesh&amp;lt;/filter-name&amp;gt;&lt;br/&gt;
        &amp;lt;filter-class&amp;gt;com.opensymphony.module.sitemesh.filter.PageFilter&amp;lt;/filter-class&amp;gt;&lt;br/&gt;
    &amp;lt;/filter&amp;gt;&lt;/p&gt;

&lt;p&gt;    &amp;lt;filter&amp;gt;&lt;br/&gt;
        &amp;lt;filter-name&amp;gt;struts-cleanup&amp;lt;/filter-name&amp;gt;&lt;br/&gt;
        &amp;lt;filter-class&amp;gt;org.apache.struts2.dispatcher.ActionContextCleanUp&amp;lt;/filter-class&amp;gt;&lt;br/&gt;
    &amp;lt;/filter&amp;gt;&lt;/p&gt;

&lt;p&gt;    &amp;lt;filter&amp;gt;&lt;br/&gt;
        &amp;lt;filter-name&amp;gt;struts2&amp;lt;/filter-name&amp;gt;&lt;br/&gt;
        &amp;lt;filter-class&amp;gt;org.apache.struts2.dispatcher.FilterDispatcher&amp;lt;/filter-class&amp;gt;&lt;br/&gt;
    &amp;lt;/filter&amp;gt;&lt;/p&gt;

&lt;p&gt;    &amp;lt;filter&amp;gt;&lt;br/&gt;
        &amp;lt;filter-name&amp;gt;sample-filter&amp;lt;/filter-name&amp;gt;&lt;br/&gt;
        &amp;lt;filter-class&amp;gt;org.apache.struts2.dispatcher.ng.filter.StrutsPrepareAndExecuteFilter&amp;lt;/filter-class&amp;gt;&lt;br/&gt;
    &amp;lt;/filter&amp;gt;&lt;/p&gt;

&lt;p&gt;    &amp;lt;filter-mapping&amp;gt;&lt;br/&gt;
        &amp;lt;filter-name&amp;gt;springSecurityFilterChain&amp;lt;/filter-name&amp;gt;&lt;br/&gt;
        &amp;lt;url-pattern&amp;gt;/*&amp;lt;/url-pattern&amp;gt;&lt;br/&gt;
    &amp;lt;/filter-mapping&amp;gt;&lt;/p&gt;

&lt;p&gt;    &amp;lt;filter-mapping&amp;gt;&lt;br/&gt;
        &amp;lt;filter-name&amp;gt;struts-cleanup&amp;lt;/filter-name&amp;gt;&lt;br/&gt;
        &amp;lt;url-pattern&amp;gt;/*&amp;lt;/url-pattern&amp;gt;&lt;br/&gt;
    &amp;lt;/filter-mapping&amp;gt;&lt;/p&gt;

&lt;p&gt;    &amp;lt;filter-mapping&amp;gt;&lt;br/&gt;
        &amp;lt;filter-name&amp;gt;sitemesh&amp;lt;/filter-name&amp;gt;&lt;br/&gt;
        &amp;lt;url-pattern&amp;gt;/*&amp;lt;/url-pattern&amp;gt;&lt;br/&gt;
    &amp;lt;/filter-mapping&amp;gt;&lt;/p&gt;

&lt;p&gt;    &amp;lt;filter-mapping&amp;gt;&lt;br/&gt;
        &amp;lt;filter-name&amp;gt;sample-filter&amp;lt;/filter-name&amp;gt;&lt;br/&gt;
        &amp;lt;url-pattern&amp;gt;/*&amp;lt;/url-pattern&amp;gt;&lt;br/&gt;
    &amp;lt;/filter-mapping&amp;gt;&lt;/p&gt;

&lt;p&gt;    &amp;lt;filter-mapping&amp;gt;&lt;br/&gt;
        &amp;lt;filter-name&amp;gt;struts2&amp;lt;/filter-name&amp;gt;&lt;br/&gt;
        &amp;lt;url-pattern&amp;gt;/*&amp;lt;/url-pattern&amp;gt;&lt;br/&gt;
    &amp;lt;/filter-mapping&amp;gt;&lt;/p&gt;</comment>
                            <comment id="45112" author="spmarc8" created="Thu, 25 Jun 2009 04:05:57 +0000"  >&lt;p&gt;I meant to say that &lt;/p&gt;

&lt;p&gt;FYI - I am using struts2. Also, I can change the applicationContext-security.xml file with the following, which seems to work fine - but then I loose all the decorators and sitemesh to wrap my jsp:&lt;/p&gt;

&lt;p&gt;    &amp;lt;s:http auto-config=&quot;true&quot; access-denied-page=&quot;/pages/accessDenied.jsp&quot;&amp;gt;&lt;br/&gt;
        &amp;lt;s:intercept-url pattern=&quot;/Vetting*&quot; access=&quot;ROLE_ADMIN&quot;/&amp;gt;\&lt;br/&gt;
        &amp;lt;s:form-login default-target-url=&quot;/Login.action&quot; authentication-failure-url=&quot;/Login_input.action?login_error=1&quot; login-page=&quot;/Login_input.action?login_error=3&quot;/&amp;gt;&lt;br/&gt;
        &amp;lt;s:anonymous /&amp;gt;&lt;br/&gt;
         &amp;lt;!--&amp;lt;s:concurrent-session-control max-sessions=&quot;1&quot; exception-if-maximum-exceeded=&quot;true&quot;/&amp;gt; --&amp;gt;&lt;br/&gt;
        &amp;lt;s:logout logout-url=&quot;/Logout.action&quot; logout-success-url=&quot;/Login_input.action?login_error=2&quot;/&amp;gt;&lt;br/&gt;
    &amp;lt;/s:http&amp;gt; &lt;/p&gt;</comment>
                            <comment id="126546" author="issuemaster" created="Sat, 6 Feb 2016 06:33:48 +0000"  >&lt;p&gt;This issue has been migrated to &lt;a href=&quot;https://github.com/spring-projects/spring-security/issues/818&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://github.com/spring-projects/spring-security/issues/818&lt;/a&gt;&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_10170" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>First Response Date</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Thu, 13 Sep 2007 21:00:50 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_10280" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>20293</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_10880" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i02urr:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_10380" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>16694</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_10381" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Ranking</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>15710</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_10171" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                </customfields>
    </item>
</channel>
</rss>