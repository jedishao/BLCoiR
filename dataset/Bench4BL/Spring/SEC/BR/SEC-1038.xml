<!-- 
RSS generated by JIRA (6.4.11#64026-sha1:78f6ec473a3f058bd5d6c30e9319c7ab376bdb9c) at Fri Dec 23 10:22:44 UTC 2016

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary add field=key&field=summary to the URL of your request.
For example:
https://jira.spring.io/si/jira.issueviews:issue-xml/SEC-1038/SEC-1038.xml?field=key&amp;field=summary
-->
<rss version="0.92" >
<channel>
    <title>Spring JIRA</title>
    <link>https://jira.spring.io</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>6.4.11</version>
        <build-number>64026</build-number>
        <build-date>25-08-2015</build-date>
    </build-info>

<item>
            <title>[SEC-1038] Error in JdbcMutableAclService with Postgres</title>
                <link>https://jira.spring.io/browse/SEC-1038</link>
                <project id="10040" key="SEC">Spring Security</project>
                    <description>&lt;p&gt;When I use the Spring Security&apos;s ACL services with a Postgres database, I am getting the following error when I call the createAcl method in the JdbcMutableAclService class  :&lt;br/&gt;
Caused by: org.postgresql.util.PSQLException: ERROR: column &quot;object_id_identity&quot; is of type bigint but expression is of type character varying&lt;/p&gt;

&lt;p&gt;The problem is caused in the createObjectIdentity method by object.getIdentifier().toString() because the parameter is a string or the column is a bigint in the database. &lt;/p&gt;

&lt;p&gt;To solve the problem, you must cast to long : &lt;br/&gt;
protected void createObjectIdentity(ObjectIdentity object, Sid owner) {&lt;br/&gt;
  Long sidId = createOrRetrieveSidPrimaryKey(owner, true);&lt;br/&gt;
  Long classId = createOrRetrieveClassPrimaryKey(object.getJavaType(), true);&lt;br/&gt;
  jdbcTemplate.update(insertObjectIdentity,&lt;br/&gt;
      new Object[] &lt;/p&gt;
{classId, new Long(object.getIdentifier().toString()), sidId, new Boolean(true)}
&lt;p&gt;);&lt;br/&gt;
}&lt;/p&gt;

&lt;p&gt;There is a thread in the forum about this problem : &lt;a href=&quot;http://forum.springframework.org/showthread.php?t=56889&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://forum.springframework.org/showthread.php?t=56889&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Thomas&lt;/p&gt;</description>
                <environment>Postgres</environment>
        <key id="24883">SEC-1038</key>
            <summary>Error in JdbcMutableAclService with Postgres</summary>
                <type id="1" iconUrl="https://jira.spring.io/images/icons/issuetypes/bug.png">Bug</type>
                                            <priority id="3" iconUrl="https://jira.spring.io/images/icons/priorities/major.png">Major</priority>
                        <status id="6" iconUrl="https://jira.spring.io/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="luke">Luke Taylor</assignee>
                                    <reporter username="lafeuil">Thomas Champagne</reporter>
                        <labels>
                    </labels>
                <created>Tue, 25 Nov 2008 18:55:32 +0000</created>
                <updated>Sat, 6 Feb 2016 06:09:41 +0000</updated>
                            <resolved>Wed, 6 May 2009 01:36:55 +0000</resolved>
                                    <version>2.0.4</version>
                                    <fixVersion>3.0.0 M1</fixVersion>
                                    <component>ACLs</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                    <timeoriginalestimate seconds="0">0d</timeoriginalestimate>
                            <timeestimate seconds="0">0d</timeestimate>
                                        <comments>
                            <comment id="43859" author="luke" created="Mon, 27 Apr 2009 21:23:18 +0000"  >&lt;p&gt;Looking at this, we can probably remove the toString() altogether and just use object.getIdentifier(). This should be the appropriate type for the schema (i.e. a Long in this case).&lt;/p&gt;</comment>
                            <comment id="43994" author="luke" created="Wed, 6 May 2009 01:36:51 +0000"  >&lt;p&gt;I&apos;ve modified the code to use the identifier explicitly and run the tests against a Postgres database. Also updated the schema appendix in the reference manual to include information on Postgres.&lt;/p&gt;</comment>
                            <comment id="44005" author="lafeuil" created="Wed, 6 May 2009 19:58:09 +0000"  >&lt;p&gt;I tested your patch in the current stable release (2.0.4) and it works fine.&lt;br/&gt;
Thanks for your help. &lt;/p&gt;</comment>
                            <comment id="44008" author="luke" created="Wed, 6 May 2009 20:16:45 +0000"  >&lt;p&gt;Thanks for the feedback, Thomas. Closing the issue.&lt;/p&gt;</comment>
                            <comment id="123921" author="issuemaster" created="Sat, 6 Feb 2016 06:09:41 +0000"  >&lt;p&gt;This issue has been migrated to &lt;a href=&quot;https://github.com/spring-projects/spring-security/issues/1289&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://github.com/spring-projects/spring-security/issues/1289&lt;/a&gt;&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10000">
                    <name>Duplicate</name>
                                                                <inwardlinks description="is duplicated by">
                                        <issuelink>
            <issuekey id="27349">SEC-1199</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="15365" name="mylyn-context.zip" size="31822" author="luke" created="Wed, 6 May 2009 00:52:26 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_10170" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>First Response Date</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Mon, 27 Apr 2009 21:23:18 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_10280" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>19864</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_10880" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i024l3:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_10380" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>12452</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_10381" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Ranking</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>12288</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_10171" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                </customfields>
    </item>
</channel>
</rss>