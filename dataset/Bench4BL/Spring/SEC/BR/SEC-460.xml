<!-- 
RSS generated by JIRA (6.4.11#64026-sha1:78f6ec473a3f058bd5d6c30e9319c7ab376bdb9c) at Fri Dec 23 10:06:12 UTC 2016

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary add field=key&field=summary to the URL of your request.
For example:
https://jira.spring.io/si/jira.issueviews:issue-xml/SEC-460/SEC-460.xml?field=key&amp;field=summary
-->
<rss version="0.92" >
<channel>
    <title>Spring JIRA</title>
    <link>https://jira.spring.io</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>6.4.11</version>
        <build-number>64026</build-number>
        <build-date>25-08-2015</build-date>
    </build-info>

<item>
            <title>[SEC-460] HttpSessionContextIntegrationFilter should clear FILTER_APPLIED after doFilter</title>
                <link>https://jira.spring.io/browse/SEC-460</link>
                <project id="10040" key="SEC">Spring Security</project>
                    <description>&lt;p&gt;I have an error-page defined in my web.xml.  When my servlet throws an exception HttpSessionContextIntegrationFilter clears the SecurityContext but does not clear the FILTER_APPLIED request attribute.   So, when the servlet container dispatches my error-page it hits the HttpSessionContextIntegrationFilter again but doesn&apos;t put a SecurityContext into the SecurityContextHolder because the FILTER_APPLIED request attribute is already set from a previous invocation of HttpSessionContextIntegrationFilter in the same request.&lt;/p&gt;

&lt;p&gt;To solve simply set a local flag in the filter if it sets &quot;FILTER_APPLIED&quot; and clear &quot;FILTER_APPLIED in the finally block if this filter was the one to set it.&lt;/p&gt;

&lt;p&gt;Mike&lt;/p&gt;</description>
                <environment></environment>
        <key id="16480">SEC-460</key>
            <summary>HttpSessionContextIntegrationFilter should clear FILTER_APPLIED after doFilter</summary>
                <type id="1" iconUrl="https://jira.spring.io/images/icons/issuetypes/bug.png">Bug</type>
                                            <priority id="2" iconUrl="https://jira.spring.io/images/icons/priorities/critical.png">Critical</priority>
                        <status id="6" iconUrl="https://jira.spring.io/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="3">Duplicate</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="youngm">Mike Youngstrom</reporter>
                        <labels>
                    </labels>
                <created>Thu, 29 Mar 2007 10:16:10 +0000</created>
                <updated>Sat, 6 Feb 2016 06:32:53 +0000</updated>
                            <resolved>Sun, 1 Apr 2007 04:45:41 +0000</resolved>
                                    <version>1.0.3</version>
                                                    <component>Core</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                                <comments>
                            <comment id="22959" author="youngm" created="Thu, 29 Mar 2007 10:40:24 +0000"  >&lt;p&gt;This is similar to &lt;a href=&quot;https://jira.spring.io/browse/SEC-305&quot; title=&quot;HttpSessionContextIntegrationFilter to retain SecurityContext when rendering error pages&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SEC-305&quot;&gt;&lt;del&gt;SEC-305&lt;/del&gt;&lt;/a&gt; but much smaller in scope.  Simply clear the FILTER_APPLIED request attribute and acegi should work correctly with error-page situations.  I&apos;m hoping this fix is small enough it can make it into 1.0.4&lt;/p&gt;</comment>
                            <comment id="22974" author="youngm" created="Fri, 30 Mar 2007 06:29:15 +0000"  >&lt;p&gt;Actually after further investigation this issue is much more like &lt;a href=&quot;https://jira.spring.io/browse/SEC-305&quot; title=&quot;HttpSessionContextIntegrationFilter to retain SecurityContext when rendering error pages&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SEC-305&quot;&gt;&lt;del&gt;SEC-305&lt;/del&gt;&lt;/a&gt; then I originally thought.  I created a patch and attached it to &lt;a href=&quot;https://jira.spring.io/browse/SEC-305&quot; title=&quot;HttpSessionContextIntegrationFilter to retain SecurityContext when rendering error pages&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SEC-305&quot;&gt;&lt;del&gt;SEC-305&lt;/del&gt;&lt;/a&gt;.  It would be nice if that patch could make it into 1.0.4.&lt;/p&gt;

&lt;p&gt;This issue can be closed as a duplicate.&lt;/p&gt;

&lt;p&gt;Thanks,&lt;br/&gt;
Mike&lt;/p&gt;</comment>
                            <comment id="23032" author="youngm" created="Mon, 2 Apr 2007 03:50:56 +0000"  >&lt;p&gt;So since this issue was closed is there any chance you can get my patch for &lt;a href=&quot;https://jira.spring.io/browse/SEC-305&quot; title=&quot;HttpSessionContextIntegrationFilter to retain SecurityContext when rendering error pages&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SEC-305&quot;&gt;&lt;del&gt;SEC-305&lt;/del&gt;&lt;/a&gt; in for 1.0.4?&lt;/p&gt;</comment>
                            <comment id="126439" author="issuemaster" created="Sat, 6 Feb 2016 06:32:53 +0000"  >&lt;p&gt;This issue has been migrated to &lt;a href=&quot;https://github.com/spring-projects/spring-security/issues/721&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://github.com/spring-projects/spring-security/issues/721&lt;/a&gt;&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_10170" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>First Response Date</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Sat, 6 Feb 2016 06:32:53 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_10280" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>10691</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_10880" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i03f07:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_10380" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>19973</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_10381" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Ranking</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>3691</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_10171" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                </customfields>
    </item>
</channel>
</rss>