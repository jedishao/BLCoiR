<!-- 
RSS generated by JIRA (6.4.11#64026-sha1:78f6ec473a3f058bd5d6c30e9319c7ab376bdb9c) at Fri Dec 23 11:27:07 UTC 2016

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary add field=key&field=summary to the URL of your request.
For example:
https://jira.spring.io/si/jira.issueviews:issue-xml/SEC-434/SEC-434.xml?field=key&amp;field=summary
-->
<rss version="0.92" >
<channel>
    <title>Spring JIRA</title>
    <link>https://jira.spring.io</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>6.4.11</version>
        <build-number>64026</build-number>
        <build-date>25-08-2015</build-date>
    </build-info>

<item>
            <title>[SEC-434] AuthenticationManager.authenticate() with a valid username and a null password causes NPE.</title>
                <link>https://jira.spring.io/browse/SEC-434</link>
                <project id="10040" key="SEC">Spring Security</project>
                    <description>&lt;p&gt;From thread: &lt;a href=&quot;http://forum.springframework.org/showthread.php?t=34747&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://forum.springframework.org/showthread.php?t=34747&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Code snippet to reproduce:&lt;/p&gt;

&lt;p&gt;AuthenticationManager authManager = (AuthenticationManager)applicationContext.getBean( &quot;authenticationManager&quot;);&lt;br/&gt;
UsernamePasswordAuthenticationToken authenticationToken = new UsernamePasswordAuthenticationToken(&quot;validUsername &quot;, null);&lt;br/&gt;
authManager.authenticate(authenticationToken); // null pointer exception&lt;/p&gt;

&lt;p&gt;When the user exists in the usermap, and you enter the correct username and a null password, the error is thrown. I expect a BadCredentialsException, however I get a NullPointerException.&lt;/p&gt;

&lt;p&gt;The NPE occurs on DaoAuthenticationProvider.additionalAuthenticationChecks() Line 60, where the DaoAuthenticationProvider gets the credentials from the authentication object, and then runs a .toString() on it. In this case, the credentials object it tries to run a .toString() on is null.&lt;/p&gt;

&lt;p&gt;Note that I am NOT using the AuthenticationProcessingFilter, which would have avoided this. Maybe we can move the null-value-to-empty-string conversion from there to somewhere within the AuthenticationManager?&lt;/p&gt;

&lt;p&gt;If you cannot reproduce, please let me know and I will be happy to provide more environment details if that would help.&lt;/p&gt;</description>
                <environment>Spring 2.0, using an InMemoryDaoImpl, programmatic authentication.</environment>
        <key id="16084">SEC-434</key>
            <summary>AuthenticationManager.authenticate() with a valid username and a null password causes NPE.</summary>
                <type id="1" iconUrl="https://jira.spring.io/images/icons/issuetypes/bug.png">Bug</type>
                                            <priority id="3" iconUrl="https://jira.spring.io/images/icons/priorities/major.png">Major</priority>
                        <status id="6" iconUrl="https://jira.spring.io/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="balex">Ben Alex</assignee>
                                    <reporter username="jimr">Jim Roycroft</reporter>
                        <labels>
                    </labels>
                <created>Sun, 11 Feb 2007 14:12:26 +0000</created>
                <updated>Sat, 6 Feb 2016 06:32:38 +0000</updated>
                            <resolved>Wed, 23 May 2007 11:48:04 +0000</resolved>
                                    <version>1.0.3</version>
                                    <fixVersion>1.0.4</fixVersion>
                                    <component>Core</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                <comments>
                            <comment id="23953" author="balex" created="Wed, 23 May 2007 11:48:04 +0000"  >&lt;p&gt;Wrote test DaoAuthenticationProviderTests.testReceivedBadCredentialsWhenCredentialsNotProvided() method. Corrected bug in DaoAuthenticationProvider. Tests pass. SVN revision number 1857.&lt;/p&gt;</comment>
                            <comment id="23968" author="jimr" created="Thu, 24 May 2007 01:33:47 +0000"  >&lt;p&gt;&lt;img class=&quot;emoticon&quot; src=&quot;https://jira.spring.io/images/icons/emoticons/smile.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;))&lt;/p&gt;</comment>
                            <comment id="126410" author="issuemaster" created="Sat, 6 Feb 2016 06:32:38 +0000"  >&lt;p&gt;This issue has been migrated to &lt;a href=&quot;https://github.com/spring-projects/spring-security/issues/695&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://github.com/spring-projects/spring-security/issues/695&lt;/a&gt;&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_10170" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>First Response Date</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Wed, 23 May 2007 11:48:04 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_10280" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>20407</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_10880" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i04mlz:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_10380" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>27037</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_10381" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Ranking</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>21686</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_10171" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                </customfields>
    </item>
</channel>
</rss>