<!-- 
RSS generated by JIRA (6.4.11#64026-sha1:78f6ec473a3f058bd5d6c30e9319c7ab376bdb9c) at Fri Dec 23 07:16:53 UTC 2016

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary add field=key&field=summary to the URL of your request.
For example:
https://jira.spring.io/si/jira.issueviews:issue-xml/SWS-455/SWS-455.xml?field=key&amp;field=summary
-->
<rss version="0.92" >
<channel>
    <title>Spring JIRA</title>
    <link>https://jira.spring.io</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>6.4.11</version>
        <build-number>64026</build-number>
        <build-date>25-08-2015</build-date>
    </build-info>

<item>
            <title>[SWS-455] Mangled predefined xml &apos;special character&apos; entities when using AxiomSoapMessageFactory and extending AbstractStaxStreamPayloadEndpoint</title>
                <link>https://jira.spring.io/browse/SWS-455</link>
                <project id="10060" key="SWS">Spring Web Services</project>
                    <description>&lt;p&gt;Using AxiomSoapMessageFactory and with an endpoint extending AbstractStaxStreamPayloadEndpoint, special character predefined entities like &amp;amp; or &amp;lt; in HTTP response get &apos;mangled&apos;.  For example, when the endpoint writes  &amp;lt;echo:echoRequest&amp;gt; &amp;lt; &amp;lt;/echo:echoRequest&amp;gt; to the XMLStreamWriter (which is correct) what actually gets sent in the resulting AxiomSoapMessage is this: &amp;lt;echo:echoRequest&amp;gt; &amp;amp;&amp;lt;; &amp;lt;/echo:echoRequest&amp;gt; (which is incorrect).  I recreated this bug with the echo sample application in 1.5.5 by changing the endpoint to extend AbstractStaxStreamPayloadEndpoint and specifying the AxiomSoapMessageFactory  in the spring-ws-servlet.xml file (documented in this forum thread: &lt;a href=&quot;http://forum.springframework.org/showthread.php?p=215668&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://forum.springframework.org/showthread.php?p=215668&lt;/a&gt;)&lt;/p&gt;

&lt;p&gt;I was able to correct this behavior by modifying org.springframework.ws.soap.axiom.AxiomHandler - I simply commented out the statements inside startEntity(..) and endEntity(..) functions making them &quot;unsupported&quot;.  While this did not produce any side-effects during the testing I did for my project, I have not run the full spring-ws test suite.  The change is as follows:&lt;/p&gt;

&lt;p&gt;class AxiomHandler implements ContentHandler, LexicalHandler {&lt;/p&gt;

&lt;p&gt;...&lt;/p&gt;

&lt;p&gt; public void startEntity(String name) throws SAXException &lt;/p&gt;
{
        //make unsupported to fix mangling of special character entities        
        //charactersType = XMLStreamConstants.ENTITY_REFERENCE;
    }

&lt;p&gt;    public void endEntity(String name) throws SAXException &lt;/p&gt;
{
        //make unsupported to fix mangling of special character entities
        //charactersType = XMLStreamConstants.CHARACTERS;
    }

&lt;p&gt;...&lt;/p&gt;

&lt;p&gt;}&lt;/p&gt;
</description>
                <environment>Sun jdk 1.5, Spring-ws 1.5.5, Spring 2.5.6, Tomcat 6, AxiomSoapMessageFactory, endpoint extends AbstractStaxStreamPayloadEndpoint</environment>
        <key id="24931">SWS-455</key>
            <summary>Mangled predefined xml &apos;special character&apos; entities when using AxiomSoapMessageFactory and extending AbstractStaxStreamPayloadEndpoint</summary>
                <type id="1" iconUrl="https://jira.spring.io/images/icons/issuetypes/bug.png">Bug</type>
                                            <priority id="2" iconUrl="https://jira.spring.io/images/icons/priorities/critical.png">Critical</priority>
                        <status id="6" iconUrl="https://jira.spring.io/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="3">Duplicate</resolution>
                                        <assignee username="arjen.poutsma">Arjen Poutsma</assignee>
                                    <reporter username="pdotsenko">Paul Dotsenko</reporter>
                        <labels>
                    </labels>
                <created>Mon, 1 Dec 2008 06:35:46 +0000</created>
                <updated>Fri, 4 May 2012 07:03:24 +0000</updated>
                            <resolved>Fri, 12 Dec 2008 22:01:03 +0000</resolved>
                                    <version>1.5.5</version>
                                    <fixVersion>1.5.6</fixVersion>
                                    <component>Core</component>
                        <due></due>
                            <votes>1</votes>
                                    <watches>2</watches>
                                                                <comments>
                            <comment id="78200" author="arjen.poutsma" created="Fri, 4 May 2012 07:03:24 +0000"  >&lt;p&gt;Closing old issues&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10000">
                    <name>Duplicate</name>
                                            <outwardlinks description="duplicates">
                                        <issuelink>
            <issuekey id="24154">SWS-434</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                    </issuelinks>
                <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_10170" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>First Response Date</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Fri, 4 May 2012 07:03:24 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_10280" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>7662</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_10880" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i040j3:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_10380" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>23460</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_10381" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Ranking</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>20004</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_10171" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                </customfields>
    </item>
</channel>
</rss>