<!-- 
RSS generated by JIRA (6.4.11#64026-sha1:78f6ec473a3f058bd5d6c30e9319c7ab376bdb9c) at Fri Dec 23 06:50:50 UTC 2016

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary add field=key&field=summary to the URL of your request.
For example:
https://jira.spring.io/si/jira.issueviews:issue-xml/SWS-55/SWS-55.xml?field=key&amp;field=summary
-->
<rss version="0.92" >
<channel>
    <title>Spring JIRA</title>
    <link>https://jira.spring.io</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>6.4.11</version>
        <build-number>64026</build-number>
        <build-date>25-08-2015</build-date>
    </build-info>

<item>
            <title>[SWS-55] npe thrown when validating with nonce</title>
                <link>https://jira.spring.io/browse/SWS-55</link>
                <project id="10060" key="SWS">Spring Web Services</project>
                    <description>&lt;p&gt;I am having a problem getting an npe as referenced in another thread (which was getting really long).&lt;br/&gt;
it looks like it happens in DefaulttimestampValidator.java, at line 41&lt;/p&gt;

&lt;p&gt;Date expired = parseDate(utcRequest.getExpired());&lt;/p&gt;

&lt;p&gt;while trying to verifyInboundMessage.&lt;/p&gt;


&lt;p&gt;This happens when my security policy inbound is:&lt;/p&gt;

&lt;p&gt;&amp;lt;xwss:SecurityConfiguration dumpMessages=&quot;true&quot; xmlns:xwss=&quot;http://java.sun.com/xml/ns/xwss/config&quot;&amp;gt;&lt;br/&gt;
&amp;lt;xwss:Timestamp timeout=&quot;120&quot;/&amp;gt;&lt;br/&gt;
&amp;lt;xwss:RequireUsernameToken passwordDigestRequired=&quot;false&quot; nonceRequired=&quot;true&quot;/&amp;gt;&lt;br/&gt;
&amp;lt;/xwss:SecurityConfiguration&amp;gt;&lt;/p&gt;

&lt;p&gt;and outbound is &lt;/p&gt;

&lt;p&gt;&amp;lt;xwss:SecurityConfiguration dumpMessages=&quot;true&quot; xmlns:xwss=&quot;http://java.sun.com/xml/ns/xwss/config&quot;&amp;gt;&lt;br/&gt;
&amp;lt;xwss:Timestamp timeout=&quot;120&quot;/&amp;gt;&lt;br/&gt;
&amp;lt;xwss:UsernameToken digestPassword=&quot;false&quot; useNonce=&quot;true&quot;/&amp;gt;&lt;br/&gt;
&amp;lt;/xwss:SecurityConfiguration&amp;gt;If I change useNonce to false, it works.&lt;/p&gt;

&lt;p&gt;I can see in the console that the timestamp for nonce only has created, not expired&lt;/p&gt;


&lt;p&gt;&amp;lt;wsse:UsernameToken xmlns:wsu=&quot;http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-utility-1.0.xsd&quot; wsu:Id=&quot;XWSSGID-1159216970175594217203&quot;&amp;gt;&lt;br/&gt;
&amp;lt;wsse:Username&amp;gt;Bert&amp;lt;/wsse:Username&amp;gt;&lt;br/&gt;
&amp;lt;wsse:Password Type=&quot;http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-username-token-profile-1.0#PasswordText&quot;&amp;gt;****&amp;lt;/wsse:Password&amp;gt;&lt;br/&gt;
&amp;lt;wsse:Nonce EncodingType=&quot;http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-soap-message-security-1.0#Base64Binary&quot;&amp;gt;lNS7NMI3OJWQ8WtjNiB0AuFS&amp;lt;/wsse:Nonce&amp;gt;&lt;br/&gt;
&amp;lt;wsu:Created&amp;gt;2006-09-25T20:42:50Z&amp;lt;/wsu:Created&amp;gt;&lt;br/&gt;
&amp;lt;/wsse:UsernameToken&amp;gt;&lt;/p&gt;


&lt;p&gt;Jira opened as recommended by Arjen. &lt;br/&gt;
Thanks.&lt;/p&gt;</description>
                <environment>windows xp, tomcat</environment>
        <key id="15065">SWS-55</key>
            <summary>npe thrown when validating with nonce</summary>
                <type id="1" iconUrl="https://jira.spring.io/images/icons/issuetypes/bug.png">Bug</type>
                                            <priority id="3" iconUrl="https://jira.spring.io/images/icons/priorities/major.png">Major</priority>
                        <status id="6" iconUrl="https://jira.spring.io/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="arjen.poutsma">Arjen Poutsma</assignee>
                                    <reporter username="farrellr">rich farrell</reporter>
                        <labels>
                    </labels>
                <created>Mon, 25 Sep 2006 21:42:29 +0000</created>
                <updated>Thu, 12 Apr 2007 12:08:29 +0000</updated>
                            <resolved>Sun, 1 Oct 2006 07:17:18 +0000</resolved>
                                    <version>1.0 M2</version>
                                    <fixVersion>1.0 M3</fixVersion>
                                    <component>Security</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                <comments>
                            <comment id="19949" author="farrellr" created="Thu, 28 Sep 2006 03:09:00 +0000"  >&lt;p&gt;Since the expired attribute for the token is optional, is there any chance &lt;br/&gt;
you can do in a near term nightly build to not throw an exception if it is not there. I realize that there might be more to do (to put the expired information if it should be there) but it would help me make progress in testing security other than plain text and password, and seems like it should work that way anyway.&lt;br/&gt;
Thanks for your help.&lt;/p&gt;


&lt;p&gt;Also, I think this should have been under security rathre than core, but I don&apos;t think I can move it once I&apos;ve put it here.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                                                                                    <customfield id="customfield_10280" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>8043</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_10880" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i01pdz:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_10380" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9990</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_10381" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Ranking</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>10006</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_10171" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                </customfields>
    </item>
</channel>
</rss>