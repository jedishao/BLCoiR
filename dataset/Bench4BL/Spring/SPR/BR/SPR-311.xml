<!-- 
RSS generated by JIRA (6.4.11#64026-sha1:78f6ec473a3f058bd5d6c30e9319c7ab376bdb9c) at Thu Dec 22 19:57:55 UTC 2016

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary add field=key&field=summary to the URL of your request.
For example:
https://jira.spring.io/si/jira.issueviews:issue-xml/SPR-311/SPR-311.xml?field=key&amp;field=summary
-->
<rss version="0.92" >
<channel>
    <title>Spring JIRA</title>
    <link>https://jira.spring.io</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>6.4.11</version>
        <build-number>64026</build-number>
        <build-date>25-08-2015</build-date>
    </build-info>

<item>
            <title>[SPR-311] MetadataModelMBeanInfoAssembler assumes a ManagedAttribute has both get and set methods</title>
                <link>https://jira.spring.io/browse/SPR-311</link>
                <project id="10000" key="SPR">Spring Framework</project>
                    <description>&lt;p&gt;For a ManagedAttribute as follows:&lt;/p&gt;

&lt;p&gt;  /**&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;@@org.springframework.jmx.metadata.support.ManagedAttribute(&lt;/li&gt;
	&lt;li&gt;description=&quot;Active HTTP Sessions&quot;)&lt;br/&gt;
   */&lt;br/&gt;
  public synchronized int getSessionCount() 
  {
    return activeSessions;
  }&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;The following code in MetadataModelMBeanInfoAssembler gives an NPE if the ManagedAttribute only has a get method (as above):&lt;/p&gt;

&lt;p&gt;    private String getDescription(PropertyDescriptor pd) {&lt;/p&gt;

&lt;p&gt;        ManagedAttribute getter = MetadataReader.getManagedAttribute(attributes, pd.getReadMethod());&lt;br/&gt;
        ManagedAttribute setter = MetadataReader.getManagedAttribute(attributes, pd.getWriteMethod());&lt;/p&gt;

&lt;p&gt;        StringBuffer sb = new StringBuffer();&lt;/p&gt;

&lt;p&gt;        if((getter.getDescription() != null) &amp;amp;&amp;amp; (getter.getDescription().length() &amp;gt; 0)) &lt;/p&gt;
{
            return getter.getDescription();
        } else if((setter.getDescription() != null) &amp;amp;&amp;amp; (setter.getDescription().length() &amp;gt; 0)) {
            return setter.getDescription();
        } else {
            return pd.getDisplayName();
        }&lt;br/&gt;
    }&lt;br/&gt;
&lt;br/&gt;
I modified the code as follows to get this working:&lt;br/&gt;
&lt;br/&gt;
    private String getDescription(PropertyDescriptor pd) {&lt;br/&gt;
        ManagedAttribute getter = null;&lt;br/&gt;
        ManagedAttribute setter = null;&lt;br/&gt;
        &lt;br/&gt;
        if (pd.getReadMethod() != null) {
            getter = MetadataReader.getManagedAttribute(attributes, pd.getReadMethod());
        }&lt;br/&gt;
        &lt;br/&gt;
        if (pd.getWriteMethod() != null) {
            setter = MetadataReader.getManagedAttribute(attributes, pd.getWriteMethod());
        }&lt;br/&gt;
        &lt;br/&gt;
        StringBuffer sb = new StringBuffer();&lt;br/&gt;
        &lt;br/&gt;
        if((getter != null) &amp;amp;&amp;amp; (getter.getDescription() != null) &amp;amp;&amp;amp; (getter.getDescription().length() &amp;gt; 0)) {            return getter.getDescription();        }
&lt;p&gt; else if((setter != null) &amp;amp;&amp;amp; (setter.getDescription() != null) &amp;amp;&amp;amp; (setter.getDescription().length() &amp;gt; 0)) &lt;/p&gt;
{
            return setter.getDescription();
        }
&lt;p&gt; else &lt;/p&gt;
{
            return pd.getDisplayName();
        }
&lt;p&gt;    }&lt;/p&gt;</description>
            <key id="10532">SPR-311</key>
            <summary>MetadataModelMBeanInfoAssembler assumes a ManagedAttribute has both get and set methods</summary>
                <type id="1" iconUrl="https://jira.spring.io/images/icons/issuetypes/bug.png">Bug</type>
                                            <priority id="3" iconUrl="https://jira.spring.io/images/icons/priorities/major.png">Major</priority>
                        <status id="6" iconUrl="https://jira.spring.io/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="robh">Rob Harrop</assignee>
                                    <reporter username="chrisborrill">Chris Borrill</reporter>
                        <labels>
                    </labels>
                <created>Mon, 6 Sep 2004 16:33:37 +0000</created>
                <updated>Wed, 15 Sep 2004 08:50:03 +0000</updated>
                            <resolved>Wed, 15 Sep 2004 08:50:03 +0000</resolved>
                                                                    <component>Core</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                <comments>
                            <comment id="11032" author="robh" created="Wed, 15 Sep 2004 04:43:51 +0000"  >&lt;p&gt;Just fixed this - committed the changes to CVS. I added new tests to the  test suite to cover the case where only a getter is supplied and the case where only a setter is supplied.&lt;/p&gt;

&lt;p&gt;Rob&lt;/p&gt;</comment>
                            <comment id="11033" author="juergen.hoeller" created="Wed, 15 Sep 2004 08:50:03 +0000"  >&lt;p&gt;Thanks Rob - I&apos;ve assigned this issue to you, in case of any further problems.&lt;/p&gt;

&lt;p&gt;Juergen&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_10180" key="com.atlassian.jira.toolkit:dayslastcommented">
                        <customfieldname>Days since last comment</customfieldname>
                        <customfieldvalues>
                                        12 years, 16 weeks, 1 day ago
    
                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_10170" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>First Response Date</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Wed, 15 Sep 2004 04:43:51 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_10181" key="com.atlassian.jira.toolkit:lastusercommented">
                        <customfieldname>Last commented by a User</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>false</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_10182" key="com.atlassian.jira.toolkit:lastupdaterorcommenter">
                        <customfieldname>Last updater</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>tmarshall</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_10880" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0371b:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_10380" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>18682</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_10171" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                </customfields>
    </item>
</channel>
</rss>