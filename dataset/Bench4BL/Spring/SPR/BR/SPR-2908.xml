<!-- 
RSS generated by JIRA (6.4.11#64026-sha1:78f6ec473a3f058bd5d6c30e9319c7ab376bdb9c) at Thu Dec 22 18:23:06 UTC 2016

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary add field=key&field=summary to the URL of your request.
For example:
https://jira.spring.io/si/jira.issueviews:issue-xml/SPR-2908/SPR-2908.xml?field=key&amp;field=summary
-->
<rss version="0.92" >
<channel>
    <title>Spring JIRA</title>
    <link>https://jira.spring.io</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>6.4.11</version>
        <build-number>64026</build-number>
        <build-date>25-08-2015</build-date>
    </build-info>

<item>
            <title>[SPR-2908] Arguments not properly bound in advice when @Pointcut defines &quot;args(...)&quot;</title>
                <link>https://jira.spring.io/browse/SPR-2908</link>
                <project id="10000" key="SPR">Spring Framework</project>
                    <description>&lt;p&gt;I get an exception when I define a pointcut via @Pointcut and I define the &apos;args(...)&apos; in that pointcut.  I then apply the defined pointcut with @Around advice and I receive the following exeception :&lt;/p&gt;

&lt;p&gt;==================================================================================&lt;br/&gt;
Caused by: java.lang.IllegalStateException: Failed to bind all argument names: 1 argument(s) could not be bound&lt;br/&gt;
	at org.springframework.aop.aspectj.AspectJAdviceParameterNameDiscoverer.getParameterNames(AspectJAdviceParameterNameDiscoverer.java:282)&lt;br/&gt;
	at org.springframework.core.PrioritizedParameterNameDiscoverer.getParameterNames(PrioritizedParameterNameDiscoverer.java:54)&lt;br/&gt;
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.bindArgumentsByName(AbstractAspectJAdvice.java:356)&lt;br/&gt;
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.calculateArgumentBindings(AbstractAspectJAdvice.java:317)&lt;br/&gt;
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.afterPropertiesSet(AbstractAspectJAdvice.java:283)&lt;br/&gt;
	at org.springframework.aop.aspectj.annotation.ReflectiveAspectJAdvisorFactory.getAdvice(ReflectiveAspectJAdvisorFactory.java:211)&lt;br/&gt;
	... 172 more&lt;br/&gt;
===================================================================================&lt;/p&gt;

&lt;p&gt;I stepped through the code and found that org.springframework.aop.aspectj.AspectJAdviceParameterNameDiscoverer.maybeBindThisOrTargetOrArgsFromPointcutExpression() is only binding arguments if the &apos;args(...)&apos; declaration is defined in the advice (@Around) declaration as opposed to being defined in the @Pointcut declaration.&lt;/p&gt;

&lt;p&gt;Defining the &apos;args(...)&apos; in the @Pointcut declaration is valid according to the aspectj documentation for the new annotations in AspectJ 5. (see &lt;a href=&quot;http://www.eclipse.org/aspectj/doc/released/adk15notebook/ataspectj-pcadvice.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://www.eclipse.org/aspectj/doc/released/adk15notebook/ataspectj-pcadvice.html&lt;/a&gt; for an example)&lt;/p&gt;

&lt;p&gt;The related forum thread explaining my findings and example can be found here : &lt;a href=&quot;http://forum.springframework.org/showthread.php?t=32111&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://forum.springframework.org/showthread.php?t=32111&lt;/a&gt;&lt;/p&gt;</description>
            <key id="15627">SPR-2908</key>
            <summary>Arguments not properly bound in advice when @Pointcut defines &quot;args(...)&quot;</summary>
                <type id="1" iconUrl="https://jira.spring.io/images/icons/issuetypes/bug.png">Bug</type>
                                            <priority id="3" iconUrl="https://jira.spring.io/images/icons/priorities/major.png">Major</priority>
                        <status id="6" iconUrl="https://jira.spring.io/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="adrian.colyer">Adrian Colyer</assignee>
                                    <reporter username="puppetmasta">Dave Knipp</reporter>
                        <labels>
                    </labels>
                <created>Mon, 4 Dec 2006 04:53:35 +0000</created>
                <updated>Tue, 19 Jun 2012 03:50:38 +0000</updated>
                            <resolved>Fri, 12 Jan 2007 01:08:21 +0000</resolved>
                                    <version>2.0.1</version>
                                    <fixVersion>2.0.3</fixVersion>
                                    <component>Core:AOP</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                <comments>
                            <comment id="21725" author="adrian.colyer" created="Fri, 12 Jan 2007 00:58:47 +0000"  >&lt;p&gt;The problem occurs when there is no debug information available in the .class file, and so Spring falls back to this &quot;intelligent deduction&quot; strategy. This explains why most of the time aspects using this feature work - it&apos;s only with debug off you get a problem.&lt;/p&gt;

&lt;p&gt;The AspectJAdviceParameterNameDiscoverer does not consider reference pointcuts as a potential source of parameter binding (which of course it should). Problem reproduced in test suite...&lt;/p&gt;</comment>
                            <comment id="21727" author="adrian.colyer" created="Fri, 12 Jan 2007 01:08:21 +0000"  >&lt;p&gt;Fix and tests now committed in the tree. Thanks for the clear description of the issue which may this easy to track down and fix.&lt;/p&gt;</comment>
                            <comment id="21729" author="puppetmasta" created="Fri, 12 Jan 2007 01:17:25 +0000"  >&lt;p&gt;No problem, glad to hear you were able to track down the problem.  Thanks!&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_10180" key="com.atlassian.jira.toolkit:dayslastcommented">
                        <customfieldname>Days since last comment</customfieldname>
                        <customfieldvalues>
                                        9 years, 50 weeks, 6 days ago
    
                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_10170" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>First Response Date</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Fri, 12 Jan 2007 00:58:47 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_10181" key="com.atlassian.jira.toolkit:lastusercommented">
                        <customfieldname>Last commented by a User</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>true</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_10182" key="com.atlassian.jira.toolkit:lastupdaterorcommenter">
                        <customfieldname>Last updater</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>tmarshall</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_10880" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i00v67:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_10380" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>5095</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_10171" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                </customfields>
    </item>
</channel>
</rss>