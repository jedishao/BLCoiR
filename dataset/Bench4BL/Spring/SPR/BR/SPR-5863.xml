<!-- 
RSS generated by JIRA (6.4.11#64026-sha1:78f6ec473a3f058bd5d6c30e9319c7ab376bdb9c) at Thu Dec 22 21:32:06 UTC 2016

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary add field=key&field=summary to the URL of your request.
For example:
https://jira.spring.io/si/jira.issueviews:issue-xml/SPR-5863/SPR-5863.xml?field=key&amp;field=summary
-->
<rss version="0.92" >
<channel>
    <title>Spring JIRA</title>
    <link>https://jira.spring.io</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>6.4.11</version>
        <build-number>64026</build-number>
        <build-date>25-08-2015</build-date>
    </build-info>

<item>
            <title>[SPR-5863] Allow for concurrent test execution in the TestContext framework</title>
                <link>https://jira.spring.io/browse/SPR-5863</link>
                <project id="10000" key="SPR">Spring Framework</project>
                    <description>&lt;h4&gt;&lt;a name=&quot;StatusQuo&quot;&gt;&lt;/a&gt;Status Quo&lt;/h4&gt;

&lt;p&gt;Newer versions of JUnit support concurrent test execution; however, the &lt;em&gt;Spring TestContext Framework&lt;/em&gt; is not designed for concurrency. &lt;/p&gt;

&lt;h4&gt;&lt;a name=&quot;ProposedSolution&quot;&gt;&lt;/a&gt;Proposed Solution&lt;/h4&gt;

&lt;p&gt;The enclosed fixes sharpen focus on concurrency (including making mutable state much more distinct from immutable state), increasing separation between data for each test method run and the class they are being run on.&lt;/p&gt;

&lt;p&gt;The patch consists of a failing test (patch 1) and a fix (patch 2), including several new tests. If you choose to apply the patch with the failing test, you must revert this before applying the fix (failing test is contained in fix patch). The included failing test may not produce concurrency issues (fail) in all cases and on all hardware platforms. They have been known to fail consistently on 3 different machines, usually upon first run.&lt;/p&gt;

&lt;h5&gt;&lt;a name=&quot;DetailsofthePatch&quot;&gt;&lt;/a&gt;Details of the Patch&lt;/h5&gt;

&lt;p&gt;The patch contains minor changes to the &lt;tt&gt;ContextLoader&lt;/tt&gt; interface. The most significant changes have been made to the &lt;tt&gt;TestContextManager&lt;/tt&gt; and &lt;tt&gt;TestContext&lt;/tt&gt; classes.&lt;/p&gt;

&lt;p&gt;Additionally upon completing the functionality, I had multiple deadlocks in the JVM when running my real test suite. I solved this by using a Java 5 &lt;tt&gt;ReentrantReadWriteLock&lt;/tt&gt; in the &lt;tt&gt;RequestAttributes.getSessionMutex()&lt;/tt&gt; method. It really looks to me like the creation of this mutex should be moved to one of the loader filters, since it&apos;s always created as of this patch.&lt;/p&gt;

&lt;p&gt;Additionally, the patch contains a &lt;tt&gt;MockContextLoader&lt;/tt&gt; that transfers attributes between threads. I&apos;d really like you guys to check that code out before accepting it; there may be other smarter ways of doing this. It&apos;s only a part of the test code-base, but once it&apos;s included it sets a standard.&lt;/p&gt;

&lt;h4&gt;&lt;a name=&quot;ReallifeTests&quot;&gt;&lt;/a&gt;Real-life Tests&lt;/h4&gt;

&lt;p&gt;The patch has been applied to a local version of Spring 3 that has been running stably with multi-core machines and multi-CPU servers too. We have been running a continuous build using parallel classes, methods, and a combination of both. This is a full-scale build that was adaptable to multi-threaded test execution. The application under test uses lots of web-scopes, etc.&lt;/p&gt;

&lt;h4&gt;&lt;a name=&quot;ProposedDocumentation&quot;&gt;&lt;/a&gt;Proposed Documentation&lt;/h4&gt;

&lt;blockquote&gt;
&lt;p&gt;&lt;b&gt;Parallel Test Execution&lt;/b&gt;&lt;/p&gt;

&lt;p&gt;From version 3.0, Spring supports parallel test execution in the &lt;em&gt;Spring TestContext Framework&lt;/em&gt;. Executing builds in parallel with JUnit is only supported in later versions of JUnit, and it is recommended to use at least JUnit 4.6 for this feature. Please also note that there&apos;s no guarantee your tests will run properly in parallel; a number of general concurrency issues have to be taken into account when executing tests in parallel. Your runner can usually let you choose between classes, methods, and a combination of both. Classes are usually the easiest to get working; &quot;a combination of both&quot; is the hardest. All three modes are supported.&lt;/p&gt;&lt;/blockquote&gt;</description>
            <key id="27066">SPR-5863</key>
            <summary>Allow for concurrent test execution in the TestContext framework</summary>
                <type id="2" iconUrl="https://jira.spring.io/images/icons/issuetypes/newfeature.png">New Feature</type>
                                            <priority id="3" iconUrl="https://jira.spring.io/images/icons/priorities/major.png">Major</priority>
                        <status id="6" iconUrl="https://jira.spring.io/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="8">Complete</resolution>
                                        <assignee username="sbrannen">Sam Brannen</assignee>
                                    <reporter username="krosenvold">Kristian Rosenvold</reporter>
                        <labels>
                            <label>concurrency</label>
                    </labels>
                <created>Wed, 24 Jun 2009 09:55:12 +0000</created>
                <updated>Wed, 7 Dec 2016 03:07:35 +0000</updated>
                            <resolved>Mon, 5 Sep 2016 17:08:40 +0000</resolved>
                                    <version>3.0 M3</version>
                                    <fixVersion>5.0 M2</fixVersion>
                                    <component>Test</component>
                        <due></due>
                            <votes>42</votes>
                                    <watches>39</watches>
                                    <timeoriginalestimate seconds="0">0d</timeoriginalestimate>
                            <timeestimate seconds="0">0d</timeestimate>
                            <timespent seconds="1800">0.5h</timespent>
                                <comments>
                            <comment id="45076" author="krosenvold" created="Wed, 24 Jun 2009 09:56:11 +0000"  >&lt;p&gt;This is the failing test in isolation, can be applied to trunk of spring m3&lt;/p&gt;</comment>
                            <comment id="45077" author="krosenvold" created="Wed, 24 Jun 2009 09:57:38 +0000"  >&lt;p&gt;The complete patch. Apply this to a CLEAN svn up; do not apply the failing-test  patch first. Merged well at rev 1417.&lt;/p&gt;</comment>
                            <comment id="46687" author="krosenvold" created="Sun, 13 Sep 2009 17:55:33 +0000"  >&lt;p&gt;I have come to understand that I can split this patch in two; I can separate the concurrency issue into a separate issue, thereby reducing the overall footprint of the patch slightly. &lt;/p&gt;

&lt;p&gt;The concurrency issue only arises when you have concurrent construction of session scoped artifacts within the same session. In real life this is probably only an issue for quite few applications, and the chances of this occuring are slim. When running parallel tests, this happens all of the time, but can be solved by introducing a non-blocking session scope from within the MockContextLoader instead. &lt;/p&gt;

&lt;p&gt;Is there any chance I can make you reconsider the main concurrency fix for 3.0 if I split the patch it in two ? (I&apos;m probably a few months late with this suggestion &lt;img class=&quot;emoticon&quot; src=&quot;https://jira.spring.io/images/icons/emoticons/wink.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;br/&gt;
The patch for the main concurrency fixes would only affect spring-test.&lt;/p&gt;
</comment>
                            <comment id="47215" author="krosenvold" created="Sun, 4 Oct 2009 19:56:00 +0000"  >&lt;p&gt;Enclosed is an updated version of the concurrency patches that apply cleanly on trunk release 2051. Apply patches within the org.springframework.test module, using patch -p1&lt;/p&gt;

&lt;p&gt;Due to the mentioned workaround for deadlock issue wrt Session object, I will be making a separate issue for this problem. &lt;/p&gt;

&lt;p&gt;This patch now consists of three files with &quot;2051&quot; in the name. The two first are the main fix for concurrency issues. These two first patches do not support the use of &quot;DirtiesContext&quot; in a concurrent environment. DirtiesContext is supported with the third patch, although this third patch is more of an idea and you may consider accepting this too. &lt;/p&gt;

&lt;p&gt;The original &quot;failing test&quot; can still be used as evidence.&lt;/p&gt;

&lt;p&gt;The patch is being maintained at &lt;a href=&quot;http://github.com/krosenvold/spring-test&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://github.com/krosenvold/spring-test&lt;/a&gt;&lt;/p&gt;
</comment>
                            <comment id="51626" author="krosenvold" created="Tue, 2 Mar 2010 00:43:52 +0000"  >&lt;p&gt;Just for the record, all the relevant bits and pieces necessary to support this patch are now released (aspectj 1.6.6), junit 4.8.1 (works from 4.7 but important concurrency bugs are fixed in 4.8.1). maven surefire2.5 support running with concurrent junit. This patch has also been running stably for quite some time in a number of projects.&lt;/p&gt;</comment>
                            <comment id="54924" author="krosenvold" created="Thu, 17 Jun 2010 21:59:52 +0000"  >&lt;p&gt;3428* patch revised for 3.0.3 trunk at r3428&lt;/p&gt;</comment>
                            <comment id="73729" author="fprumbau" created="Tue, 13 Dec 2011 01:00:40 +0000"  >&lt;p&gt;So is there any issue why it isn&apos;t fixed until 3.2m1? &lt;br/&gt;
With 3.1.RC2 I still seem to have concurrency issues and running&lt;br/&gt;
the Spring tests in parallel mode seems still to be no option. Is&lt;br/&gt;
this correct or is this issues description outdated (since it has not&lt;br/&gt;
been revised for quite a long time now)?&lt;/p&gt;</comment>
                            <comment id="77252" author="krosenvold" created="Thu, 29 Mar 2012 00:20:04 +0000"  >&lt;p&gt;I have not bothered resubmitting this patch based on trunk since it&apos;s been more or less permanently on the &quot;move forward&quot; list in the issue tracker. This is probably because the patch contains an interface change.&lt;/p&gt;

&lt;p&gt;I think it should be possible to re-work the patch to not contain any breaking changes, especially if this increases the likelihood of getting the patch accepted. The patch is certainly quite stale as applied on current trunk. Let me know if reworking the patch will increase the probability of this getting applied to &amp;gt;0, which seems to be its current value.&lt;/p&gt;</comment>
                            <comment id="79371" author="sbrannen" created="Mon, 28 May 2012 12:19:00 +0000"  >&lt;p&gt;Hi guys,&lt;/p&gt;

&lt;p&gt;Due to the increasing popularity of this issue, I&apos;m assigning the fix version to 3.2 M2, and I&apos;ll take a look at in the M2 time frame.&lt;/p&gt;

&lt;p&gt;Regards,&lt;/p&gt;

&lt;p&gt;Sam&lt;/p&gt;</comment>
                            <comment id="87701" author="juergen.hoeller" created="Thu, 7 Feb 2013 02:31:45 +0000"  >&lt;p&gt;Kristian,&lt;/p&gt;

&lt;p&gt;We are currently working on some remaining TestContext framework enhancements for 3.2.2, and have been considering this request as well. We do realize the importance of parallel test execution and will definitely address this over the next few months. Note that we got 3.2.2 upcoming in early March as well as 4.0 M1 in late April.&lt;/p&gt;

&lt;p&gt;It would be great if you could submit a pull request on GitHub since that&apos;s much easier to consume for us these days. We might not be able to accept the full set of changes for 3.2.2 due to backwards compatibility issues but are definitely up for doing a thorough revision for the 4.0 line then - even for 4.0 M1 in April already.&lt;/p&gt;

&lt;p&gt;Juergen&lt;/p&gt;</comment>
                            <comment id="89101" author="ibrandt" created="Thu, 28 Mar 2013 16:36:19 +0000"  >&lt;p&gt;The &lt;a href=&quot;http://github.com/krosenvold/spring-test&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://github.com/krosenvold/spring-test&lt;/a&gt; link above is broken.  I&apos;m guessing that &lt;a href=&quot;https://github.com/krosenvold/org.springframework.test&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://github.com/krosenvold/org.springframework.test&lt;/a&gt; is its replacement?  There is no pull request from that repo however.&lt;/p&gt;

&lt;p&gt;Would this fix include context caching across parallel tests?  If I recall correctly when I last tried to use JUnit 4.8 parallel testing with Spring 3.0.7 integration tests I ran into two issues: deadlocks as mentioned above, and identical context locations not being reused across tests.  No inheritance or profiles were being used.  The tests were run via the Maven Failsafe plugin with the default fork mode of &quot;once&quot;.&lt;/p&gt;</comment>
                            <comment id="128719" author="elennaro" created="Thu, 14 Apr 2016 12:25:24 +0000"  >&lt;p&gt;Is there any known easy workaround to be able to run parallel test for today?&lt;/p&gt;</comment>
                            <comment id="130166" author="paranoiabla" created="Wed, 22 Jun 2016 13:00:51 +0000"  >&lt;p&gt;41 votes and still no workaround... Sigh...&lt;/p&gt;</comment>
                            <comment id="131832" author="sbrannen" created="Sat, 3 Sep 2016 14:34:02 +0000"  >&lt;p&gt;FYI: initial work on this issue has been pushed to &lt;tt&gt;master&lt;/tt&gt; for inclusion in Spring Framework 5.0.&lt;/p&gt;

&lt;p&gt;The following commits aim to address concurrency issues within the &lt;tt&gt;TestContextManager&lt;/tt&gt; and &lt;tt&gt;DefaultTestContext&lt;/tt&gt;.&lt;/p&gt;

&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;&lt;a href=&quot;https://github.com/spring-projects/spring-framework/commit/ec7aefa8589d2baf0aea28eac6fd8baae1167de6&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://github.com/spring-projects/spring-framework/commit/ec7aefa8589d2baf0aea28eac6fd8baae1167de6&lt;/a&gt;&lt;/li&gt;
	&lt;li&gt;&lt;a href=&quot;https://github.com/spring-projects/spring-framework/commit/a10a8e56df80e6855d104d07010e6f1445100a61&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://github.com/spring-projects/spring-framework/commit/a10a8e56df80e6855d104d07010e6f1445100a61&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;Note that concurrency issues with regard to the loading and eviction of &lt;tt&gt;ApplicationContexts&lt;/tt&gt; have not yet beed addressed. However, having said that, it may be the case that recent changes to the context caching support in &lt;tt&gt;spring-test&lt;/tt&gt; combined with the aforementioned improvements to &lt;tt&gt;TestContextManager&lt;/tt&gt; and &lt;tt&gt;DefaultTestContext&lt;/tt&gt; may already get you quite far in terms of being able to execute tests in parallel.&lt;/p&gt;

&lt;p&gt;So, with that in mind, we would be grateful if people could start trying out parallel test execution in Spring Framework 5.0 snapshots.&lt;/p&gt;

&lt;p&gt;Cheers,&lt;/p&gt;

&lt;p&gt;Sam&lt;/p&gt;</comment>
                            <comment id="131833" author="sbrannen" created="Sat, 3 Sep 2016 16:15:35 +0000"  >&lt;h4&gt;&lt;a name=&quot;Update&quot;&gt;&lt;/a&gt;Update&lt;/h4&gt;

&lt;p&gt;I have copied over &lt;a href=&quot;https://jira.spring.io/secure/ViewProfile.jspa?name=krosenvold&quot; class=&quot;user-hover&quot; rel=&quot;krosenvold&quot;&gt;Kristian Rosenvold&lt;/a&gt;&apos;s failing tests from &lt;a href=&quot;https://github.com/krosenvold/org.springframework.test&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://github.com/krosenvold/org.springframework.test&lt;/a&gt; and applied that to &lt;tt&gt;master&lt;/tt&gt; (i.e., Spring Framework 5.0).&lt;/p&gt;

&lt;p&gt;This work can be seen in my personal branch here: &lt;a href=&quot;https://github.com/sbrannen/spring-framework/commits/SPR-5863-krosenvold-github&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://github.com/sbrannen/spring-framework/commits/SPR-5863-krosenvold-github&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;His custom &lt;tt&gt;ContextCleaner&lt;/tt&gt; no longer works, so I simply replaced that with calls to &lt;tt&gt;ContextCacheTestUtils.resetContextCache()&lt;/tt&gt;. If I recall correctly, that is all that&apos;s required to get the code compiling.&lt;/p&gt;

&lt;p&gt;I then replaced:&lt;/p&gt;

&lt;p/&gt;
&lt;div id=&quot;syntaxplugin&quot; class=&quot;syntaxplugin&quot; style=&quot;border: 1px dashed #bbb; border-radius: 5px !important; overflow: auto; max-height: 30em;&quot;&gt;
&lt;table cellspacing=&quot;0&quot; cellpadding=&quot;0&quot; border=&quot;0&quot; width=&quot;100%&quot; style=&quot;font-size: 1em; line-height: 1.4em !important; font-weight: normal; font-style: normal; color: black;&quot;&gt;
		&lt;tbody &gt;
				&lt;tr id=&quot;syntaxplugin_code_and_gutter&quot;&gt;
						&lt;td  style=&quot; line-height: 1.4em !important; padding: 0em; vertical-align: top;&quot;&gt;
					&lt;pre style=&quot;font-size: 1em; margin: 0 10px;  margin-top: 10px;   width: auto; padding: 0;&quot;&gt;&lt;span style=&quot;color: gray; font-family: &apos;Consolas&apos;, &apos;Bitstream Vera Sans Mono&apos;, &apos;Courier New&apos;, Courier, monospace !important;&quot;&gt;@RunWith&lt;/span&gt;&lt;span style=&quot;color: black; font-family: &apos;Consolas&apos;, &apos;Bitstream Vera Sans Mono&apos;, &apos;Courier New&apos;, Courier, monospace !important;&quot;&gt;(SpringJUnit4ClassRunner.&lt;/span&gt;&lt;span style=&quot;color: #006699; font-weight: bold; font-family: &apos;Consolas&apos;, &apos;Bitstream Vera Sans Mono&apos;, &apos;Courier New&apos;, Courier, monospace !important;&quot;&gt;class&lt;/span&gt;&lt;span style=&quot;color: black; font-family: &apos;Consolas&apos;, &apos;Bitstream Vera Sans Mono&apos;, &apos;Courier New&apos;, Courier, monospace !important;&quot;&gt;)&lt;/span&gt;&lt;/pre&gt;
			&lt;/td&gt;
		&lt;/tr&gt;
				&lt;tr id=&quot;syntaxplugin_code_and_gutter&quot;&gt;
						&lt;td  style=&quot; line-height: 1.4em !important; padding: 0em; vertical-align: top;&quot;&gt;
					&lt;pre style=&quot;font-size: 1em; margin: 0 10px;   width: auto; padding: 0;&quot;&gt;&lt;span style=&quot;color: gray; font-family: &apos;Consolas&apos;, &apos;Bitstream Vera Sans Mono&apos;, &apos;Courier New&apos;, Courier, monospace !important;&quot;&gt;@ContextConfiguration&lt;/span&gt;&lt;span style=&quot;color: black; font-family: &apos;Consolas&apos;, &apos;Bitstream Vera Sans Mono&apos;, &apos;Courier New&apos;, Courier, monospace !important;&quot;&gt;(&lt;/span&gt;&lt;/pre&gt;
			&lt;/td&gt;
		&lt;/tr&gt;
				&lt;tr id=&quot;syntaxplugin_code_and_gutter&quot;&gt;
						&lt;td  style=&quot; line-height: 1.4em !important; padding: 0em; vertical-align: top;&quot;&gt;
					&lt;pre style=&quot;font-size: 1em; margin: 0 10px;   width: auto; padding: 0;&quot;&gt;&lt;span style=&quot;color: black; font-family: &apos;Consolas&apos;, &apos;Bitstream Vera Sans Mono&apos;, &apos;Courier New&apos;, Courier, monospace !important;&quot;&gt;    locations = &lt;/span&gt;&lt;span style=&quot;color: blue; font-family: &apos;Consolas&apos;, &apos;Bitstream Vera Sans Mono&apos;, &apos;Courier New&apos;, Courier, monospace !important;&quot;&gt;&quot;model/applicationContext-concurrency-simple.xml&quot;&lt;/span&gt;&lt;span style=&quot;color: black; font-family: &apos;Consolas&apos;, &apos;Bitstream Vera Sans Mono&apos;, &apos;Courier New&apos;, Courier, monospace !important;&quot;&gt;,&lt;/span&gt;&lt;/pre&gt;
			&lt;/td&gt;
		&lt;/tr&gt;
				&lt;tr id=&quot;syntaxplugin_code_and_gutter&quot;&gt;
						&lt;td  style=&quot; line-height: 1.4em !important; padding: 0em; vertical-align: top;&quot;&gt;
					&lt;pre style=&quot;font-size: 1em; margin: 0 10px;   width: auto; padding: 0;&quot;&gt;&lt;span style=&quot;color: black; font-family: &apos;Consolas&apos;, &apos;Bitstream Vera Sans Mono&apos;, &apos;Courier New&apos;, Courier, monospace !important;&quot;&gt;    loader = MockContextLoader.&lt;/span&gt;&lt;span style=&quot;color: #006699; font-weight: bold; font-family: &apos;Consolas&apos;, &apos;Bitstream Vera Sans Mono&apos;, &apos;Courier New&apos;, Courier, monospace !important;&quot;&gt;class&lt;/span&gt;&lt;span style=&quot;color: black; font-family: &apos;Consolas&apos;, &apos;Bitstream Vera Sans Mono&apos;, &apos;Courier New&apos;, Courier, monospace !important;&quot;&gt;)&lt;/span&gt;&lt;/pre&gt;
			&lt;/td&gt;
		&lt;/tr&gt;
				&lt;tr id=&quot;syntaxplugin_code_and_gutter&quot;&gt;
						&lt;td  style=&quot; line-height: 1.4em !important; padding: 0em; vertical-align: top;&quot;&gt;
					&lt;pre style=&quot;font-size: 1em; margin: 0 10px;   margin-bottom: 10px;  width: auto; padding: 0;&quot;&gt;&lt;span style=&quot;color: #006699; font-weight: bold; font-family: &apos;Consolas&apos;, &apos;Bitstream Vera Sans Mono&apos;, &apos;Courier New&apos;, Courier, monospace !important;&quot;&gt;public&lt;/span&gt;&lt;span style=&quot;color: black; font-family: &apos;Consolas&apos;, &apos;Bitstream Vera Sans Mono&apos;, &apos;Courier New&apos;, Courier, monospace !important;&quot;&gt; &lt;/span&gt;&lt;span style=&quot;color: #006699; font-weight: bold; font-family: &apos;Consolas&apos;, &apos;Bitstream Vera Sans Mono&apos;, &apos;Courier New&apos;, Courier, monospace !important;&quot;&gt;class&lt;/span&gt;&lt;span style=&quot;color: black; font-family: &apos;Consolas&apos;, &apos;Bitstream Vera Sans Mono&apos;, &apos;Courier New&apos;, Courier, monospace !important;&quot;&gt; SpringJUnit4ClassRunnerEnvironmentAssumptionsTests { &lt;/span&gt;&lt;span style=&quot;color: #008200; font-family: &apos;Consolas&apos;, &apos;Bitstream Vera Sans Mono&apos;, &apos;Courier New&apos;, Courier, monospace !important;&quot;&gt;/* ... */&lt;/span&gt;&lt;span style=&quot;color: black; font-family: &apos;Consolas&apos;, &apos;Bitstream Vera Sans Mono&apos;, &apos;Courier New&apos;, Courier, monospace !important;&quot;&gt; }&lt;/span&gt;&lt;/pre&gt;
			&lt;/td&gt;
		&lt;/tr&gt;
			&lt;/tbody&gt;
&lt;/table&gt;
&lt;/div&gt;
&lt;p/&gt;

&lt;p&gt;... with:&lt;/p&gt;

&lt;p/&gt;
&lt;div id=&quot;syntaxplugin&quot; class=&quot;syntaxplugin&quot; style=&quot;border: 1px dashed #bbb; border-radius: 5px !important; overflow: auto; max-height: 30em;&quot;&gt;
&lt;table cellspacing=&quot;0&quot; cellpadding=&quot;0&quot; border=&quot;0&quot; width=&quot;100%&quot; style=&quot;font-size: 1em; line-height: 1.4em !important; font-weight: normal; font-style: normal; color: black;&quot;&gt;
		&lt;tbody &gt;
				&lt;tr id=&quot;syntaxplugin_code_and_gutter&quot;&gt;
						&lt;td  style=&quot; line-height: 1.4em !important; padding: 0em; vertical-align: top;&quot;&gt;
					&lt;pre style=&quot;font-size: 1em; margin: 0 10px;  margin-top: 10px;   width: auto; padding: 0;&quot;&gt;&lt;span style=&quot;color: gray; font-family: &apos;Consolas&apos;, &apos;Bitstream Vera Sans Mono&apos;, &apos;Courier New&apos;, Courier, monospace !important;&quot;&gt;@RunWith&lt;/span&gt;&lt;span style=&quot;color: black; font-family: &apos;Consolas&apos;, &apos;Bitstream Vera Sans Mono&apos;, &apos;Courier New&apos;, Courier, monospace !important;&quot;&gt;(SpringJUnit4ClassRunner.&lt;/span&gt;&lt;span style=&quot;color: #006699; font-weight: bold; font-family: &apos;Consolas&apos;, &apos;Bitstream Vera Sans Mono&apos;, &apos;Courier New&apos;, Courier, monospace !important;&quot;&gt;class&lt;/span&gt;&lt;span style=&quot;color: black; font-family: &apos;Consolas&apos;, &apos;Bitstream Vera Sans Mono&apos;, &apos;Courier New&apos;, Courier, monospace !important;&quot;&gt;)&lt;/span&gt;&lt;/pre&gt;
			&lt;/td&gt;
		&lt;/tr&gt;
				&lt;tr id=&quot;syntaxplugin_code_and_gutter&quot;&gt;
						&lt;td  style=&quot; line-height: 1.4em !important; padding: 0em; vertical-align: top;&quot;&gt;
					&lt;pre style=&quot;font-size: 1em; margin: 0 10px;   width: auto; padding: 0;&quot;&gt;&lt;span style=&quot;color: gray; font-family: &apos;Consolas&apos;, &apos;Bitstream Vera Sans Mono&apos;, &apos;Courier New&apos;, Courier, monospace !important;&quot;&gt;@ContextConfiguration&lt;/span&gt;&lt;span style=&quot;color: black; font-family: &apos;Consolas&apos;, &apos;Bitstream Vera Sans Mono&apos;, &apos;Courier New&apos;, Courier, monospace !important;&quot;&gt;(&lt;/span&gt;&lt;span style=&quot;color: blue; font-family: &apos;Consolas&apos;, &apos;Bitstream Vera Sans Mono&apos;, &apos;Courier New&apos;, Courier, monospace !important;&quot;&gt;&quot;model/applicationContext-concurrency-simple.xml&quot;&lt;/span&gt;&lt;span style=&quot;color: black; font-family: &apos;Consolas&apos;, &apos;Bitstream Vera Sans Mono&apos;, &apos;Courier New&apos;, Courier, monospace !important;&quot;&gt;)&lt;/span&gt;&lt;/pre&gt;
			&lt;/td&gt;
		&lt;/tr&gt;
				&lt;tr id=&quot;syntaxplugin_code_and_gutter&quot;&gt;
						&lt;td  style=&quot; line-height: 1.4em !important; padding: 0em; vertical-align: top;&quot;&gt;
					&lt;pre style=&quot;font-size: 1em; margin: 0 10px;   width: auto; padding: 0;&quot;&gt;&lt;span style=&quot;color: gray; font-family: &apos;Consolas&apos;, &apos;Bitstream Vera Sans Mono&apos;, &apos;Courier New&apos;, Courier, monospace !important;&quot;&gt;@WebAppConfiguration&lt;/span&gt;&lt;/pre&gt;
			&lt;/td&gt;
		&lt;/tr&gt;
				&lt;tr id=&quot;syntaxplugin_code_and_gutter&quot;&gt;
						&lt;td  style=&quot; line-height: 1.4em !important; padding: 0em; vertical-align: top;&quot;&gt;
					&lt;pre style=&quot;font-size: 1em; margin: 0 10px;   margin-bottom: 10px;  width: auto; padding: 0;&quot;&gt;&lt;span style=&quot;color: #006699; font-weight: bold; font-family: &apos;Consolas&apos;, &apos;Bitstream Vera Sans Mono&apos;, &apos;Courier New&apos;, Courier, monospace !important;&quot;&gt;public&lt;/span&gt;&lt;span style=&quot;color: black; font-family: &apos;Consolas&apos;, &apos;Bitstream Vera Sans Mono&apos;, &apos;Courier New&apos;, Courier, monospace !important;&quot;&gt; &lt;/span&gt;&lt;span style=&quot;color: #006699; font-weight: bold; font-family: &apos;Consolas&apos;, &apos;Bitstream Vera Sans Mono&apos;, &apos;Courier New&apos;, Courier, monospace !important;&quot;&gt;class&lt;/span&gt;&lt;span style=&quot;color: black; font-family: &apos;Consolas&apos;, &apos;Bitstream Vera Sans Mono&apos;, &apos;Courier New&apos;, Courier, monospace !important;&quot;&gt; SpringJUnit4ClassRunnerEnvironmentAssumptionsTests { &lt;/span&gt;&lt;span style=&quot;color: #008200; font-family: &apos;Consolas&apos;, &apos;Bitstream Vera Sans Mono&apos;, &apos;Courier New&apos;, Courier, monospace !important;&quot;&gt;/* ... */&lt;/span&gt;&lt;span style=&quot;color: black; font-family: &apos;Consolas&apos;, &apos;Bitstream Vera Sans Mono&apos;, &apos;Courier New&apos;, Courier, monospace !important;&quot;&gt; }&lt;/span&gt;&lt;/pre&gt;
			&lt;/td&gt;
		&lt;/tr&gt;
			&lt;/tbody&gt;
&lt;/table&gt;
&lt;/div&gt;
&lt;p/&gt;

&lt;p&gt;Note that his custom &lt;tt&gt;MockContextLoader&lt;/tt&gt; was replaced by the now built-in support for &lt;tt&gt;@WebAppConfiguration&lt;/tt&gt;.&lt;/p&gt;

&lt;p&gt;With those minor changes, all of his concurrency tests now pass on &lt;tt&gt;master&lt;/tt&gt;.&lt;/p&gt;

&lt;p&gt;Soooooo, it&apos;s looking like we are in much better shape now in terms of parallel test execution! &lt;img class=&quot;emoticon&quot; src=&quot;https://jira.spring.io/images/icons/emoticons/thumbs_up.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/p&gt;

&lt;p&gt;But the Spring Team would greatly appreciate it if people in the community could report back on their experiences with recent Spring Framework 5.0 snapshots! &lt;img class=&quot;emoticon&quot; src=&quot;https://jira.spring.io/images/icons/emoticons/wink.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/p&gt;

&lt;p&gt;Cheers,&lt;/p&gt;

&lt;p&gt;Sam&lt;/p&gt;</comment>
                            <comment id="131834" author="sbrannen" created="Sat, 3 Sep 2016 16:19:18 +0000"  >&lt;p&gt;&lt;a href=&quot;https://jira.spring.io/secure/ViewProfile.jspa?name=krosenvold&quot; class=&quot;user-hover&quot; rel=&quot;krosenvold&quot;&gt;Kristian Rosenvold&lt;/a&gt;, since I unfortunately cannot merge your work without it going through the official channels (i.e., Pivotal CLA, etc.)...&lt;/p&gt;

&lt;p&gt;Would you mind submitting a pull request on GitHub that only includes the failing tests (similar to what I&apos;ve done in my &lt;tt&gt;SPR&amp;#45;5863-krosenvold-github&lt;/tt&gt; branch)?&lt;/p&gt;

&lt;p&gt;Thanks,&lt;/p&gt;

&lt;p&gt;Sam&lt;/p&gt;</comment>
                            <comment id="131859" author="sbrannen" created="Mon, 5 Sep 2016 10:35:44 +0000"  >&lt;p&gt;&lt;a href=&quot;https://jira.spring.io/secure/ViewProfile.jspa?name=krosenvold&quot; class=&quot;user-hover&quot; rel=&quot;krosenvold&quot;&gt;Kristian Rosenvold&lt;/a&gt;, please disregard my request for you to create a PR. I have come up with an alternative means to complete our test suite coverage of concurrent test execution, and I will push that to &lt;tt&gt;master&lt;/tt&gt; in the near future.&lt;/p&gt;</comment>
                            <comment id="131867" author="sbrannen" created="Mon, 5 Sep 2016 15:32:46 +0000"  >&lt;p&gt;For those interested in the details, the following additional refinements have been pushed to &lt;tt&gt;master&lt;/tt&gt;:&lt;/p&gt;

&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;&lt;a href=&quot;https://github.com/spring-projects/spring-framework/commit/fbfad8695ecc9262f23fd31b0b425eca38b58d01&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://github.com/spring-projects/spring-framework/commit/fbfad8695ecc9262f23fd31b0b425eca38b58d01&lt;/a&gt;&lt;/li&gt;
	&lt;li&gt;&lt;a href=&quot;https://github.com/spring-projects/spring-framework/commit/e822e4cbe87b09b901eb2363bc884a635a96a01e&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://github.com/spring-projects/spring-framework/commit/e822e4cbe87b09b901eb2363bc884a635a96a01e&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;Furthermore, &lt;a href=&quot;https://github.com/spring-projects/spring-framework/commit/2699504cb8150d7be3e3a4033215acb8fbf1e851&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;2699504&lt;/a&gt; replaces the need for the tests originally implemented by &lt;a href=&quot;https://jira.spring.io/secure/ViewProfile.jspa?name=krosenvold&quot; class=&quot;user-hover&quot; rel=&quot;krosenvold&quot;&gt;Kristian Rosenvold&lt;/a&gt;.&lt;/p&gt;</comment>
                            <comment id="131868" author="sbrannen" created="Mon, 5 Sep 2016 17:00:41 +0000"  >&lt;p&gt;A new &quot;Parallel test execution&quot; section has been added to the &quot;Testing&quot; chapter of the reference manual in &lt;a href=&quot;https://github.com/spring-projects/spring-framework/commit/3e96cab0bb9e2861f9555f81117eb46098674f8e&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;commit 3e96cab&lt;/a&gt;.&lt;/p&gt;</comment>
                            <comment id="131869" author="sbrannen" created="Mon, 5 Sep 2016 17:08:40 +0000"  >&lt;p&gt;Resolving this issue as &lt;em&gt;complete&lt;/em&gt;.&lt;/p&gt;

&lt;p&gt;For a list of general guidelines and &lt;em&gt;unsupported&lt;/em&gt; use cases, please consult the new &lt;em&gt;Parallel test execution&lt;/em&gt; section in the &lt;em&gt;Testing&lt;/em&gt; chapter of the reference manual.&lt;/p&gt;

&lt;p&gt;Please give Spring Framework 5.0 snapshots a try and let us know how parallel test execution works for you.&lt;/p&gt;

&lt;p&gt;Thanks!&lt;/p&gt;</comment>
                            <comment id="133001" author="ahoehma" created="Tue, 25 Oct 2016 15:55:49 +0000"  >&lt;p&gt;This fix was not merged back to 3.2.17.RELEASE right?&lt;/p&gt;</comment>
                            <comment id="133002" author="juergen.hoeller" created="Tue, 25 Oct 2016 16:08:32 +0000"  >&lt;p&gt;This isn&apos;t even in a 4.x release... It&apos;s 5.0 only, available as of 5.0 M2.&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10000">
                    <name>Duplicate</name>
                                                                <inwardlinks description="is duplicated by">
                                        <issuelink>
            <issuekey id="49010">SPR-10635</issuekey>
        </issuelink>
            <issuelink>
            <issuekey id="68151">SPR-14112</issuekey>
        </issuelink>
            <issuelink>
            <issuekey id="70722">SPR-14983</issuekey>
        </issuelink>
            <issuelink>
            <issuekey id="60585">SPR-12421</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                            <issuelinktype id="10151">
                    <name>Relate</name>
                                            <outwardlinks description="relates to">
                                        <issuelink>
            <issuekey id="41382">SPR-8942</issuekey>
        </issuelink>
            <issuelink>
            <issuekey id="40958">SPR-8857</issuekey>
        </issuelink>
            <issuelink>
            <issuekey id="48472">SPR-10536</issuekey>
        </issuelink>
            <issuelink>
            <issuekey id="34035">SPR-7687</issuekey>
        </issuelink>
            <issuelink>
            <issuekey id="36812">SPR-8055</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="15764" name="1concurrencyFix2051.patch" size="79339" author="krosenvold" created="Sun, 4 Oct 2009 19:56:00 +0000"/>
                            <attachment id="15765" name="2tests2051.patch" size="32285" author="krosenvold" created="Sun, 4 Oct 2009 19:56:00 +0000"/>
                            <attachment id="16722" name="3428_SPR5863.patch" size="54598" author="krosenvold" created="Thu, 17 Jun 2010 21:59:52 +0000"/>
                            <attachment id="15766" name="3dirtiesContext2051.patch" size="35287" author="krosenvold" created="Sun, 4 Oct 2009 19:56:00 +0000"/>
                            <attachment id="15500" name="completeFix.patch" size="194211" author="krosenvold" created="Wed, 24 Jun 2009 09:57:38 +0000"/>
                            <attachment id="15499" name="springFailingTest.patch" size="33900" author="krosenvold" created="Wed, 24 Jun 2009 09:56:11 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_10180" key="com.atlassian.jira.toolkit:dayslastcommented">
                        <customfieldname>Days since last comment</customfieldname>
                        <customfieldvalues>
                                        8 weeks, 2 days ago
    
                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_10170" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>First Response Date</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Tue, 13 Dec 2011 01:00:40 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_10181" key="com.atlassian.jira.toolkit:lastusercommented">
                        <customfieldname>Last commented by a User</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>false</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_10182" key="com.atlassian.jira.toolkit:lastupdaterorcommenter">
                        <customfieldname>Last updater</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>sbrannen</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_10880" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i00i7r:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_10380" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>2996</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_10171" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                </customfields>
    </item>
</channel>
</rss>