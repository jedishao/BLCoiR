<!-- 
RSS generated by JIRA (6.4.11#64026-sha1:78f6ec473a3f058bd5d6c30e9319c7ab376bdb9c) at Thu Dec 22 21:06:31 UTC 2016

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary add field=key&field=summary to the URL of your request.
For example:
https://jira.spring.io/si/jira.issueviews:issue-xml/SPR-1274/SPR-1274.xml?field=key&amp;field=summary
-->
<rss version="0.92" >
<channel>
    <title>Spring JIRA</title>
    <link>https://jira.spring.io</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>6.4.11</version>
        <build-number>64026</build-number>
        <build-date>25-08-2015</build-date>
    </build-info>

<item>
            <title>[SPR-1274] Handle nested brackets in a map keys</title>
                <link>https://jira.spring.io/browse/SPR-1274</link>
                <project id="10000" key="SPR">Spring Framework</project>
                    <description>&lt;p&gt;If the map key contains nested brackets, the key is not properly extracted from the string by BeanWrapperImpl.getPropertyNameTokens(String propertyName).&lt;/p&gt;

&lt;p&gt;For example, consider these &apos;paths&apos;:&lt;/p&gt;

&lt;p&gt;1) &quot;entries[some text&lt;span class=&quot;error&quot;&gt;&amp;#91;abc&amp;#93;&lt;/span&gt;]&quot;, key = &quot;some text&lt;span class=&quot;error&quot;&gt;&amp;#91;abc&amp;quot; (missing &amp;#93;&lt;/span&gt;)&lt;br/&gt;
2) &quot;entries[&apos;some text&lt;span class=&quot;error&quot;&gt;&amp;#91;abc&amp;#93;&lt;/span&gt;&apos;]&quot;, key = &quot;&apos;some text&lt;span class=&quot;error&quot;&gt;&amp;#91;abc&amp;quot; (missing &amp;#93;&lt;/span&gt;&apos;)&lt;br/&gt;
3) &quot;entries[\&quot;some text&lt;span class=&quot;error&quot;&gt;&amp;#91;abc&amp;#93;&lt;/span&gt;\&quot;]&quot;, key = &quot;\&quot;some text&lt;span class=&quot;error&quot;&gt;&amp;#91;abc&amp;quot; (missing &amp;#93;&lt;/span&gt;&quot;)&lt;/p&gt;

&lt;p&gt;The first one is kinda a stretch, and I didn&apos;t expect it to work.  My natural reaction was to try the second and third, thinking that grouping it would do the trick.  It didn&apos;t though.&lt;/p&gt;

&lt;p&gt;This came up in the web application I&apos;m working on.  There&apos;s a form with let&apos;s the user assign IDs to textual names.  The name sometimes contain brackets, which triggered this issue.&lt;/p&gt;

&lt;p&gt;BeanWrapperImpl.java:610 (1.2.4 source) is the cause.  The parser could count braces, and return the key when it&apos;s found the first matching pair.  In the example above, the first ] would be part of the key, and the second, which completes the initial pair, would complete the key.  This solution would work regardless of the single or double quotes.  An alternative would be to ignore braces that are in quoted ections of the string.  This naturally would only work for scenarios #2 and #3 above.&lt;/p&gt;

&lt;p&gt;I will try to update BeanWrapperImpl.java with a sllightly more sophisticated bracket parser and submit a patch with tests.  If you think it&apos;s a waste of time, or if there&apos;s something obvious I&apos;m missing, feel free to point out my error.  Regards, Christian&lt;/p&gt;</description>
            <key id="12318">SPR-1274</key>
            <summary>Handle nested brackets in a map keys</summary>
                <type id="4" iconUrl="https://jira.spring.io/images/icons/issuetypes/improvement.png">Improvement</type>
                                            <priority id="3" iconUrl="https://jira.spring.io/images/icons/priorities/major.png">Major</priority>
                        <status id="5" iconUrl="https://jira.spring.io/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="2">Won&apos;t Fix</resolution>
                                        <assignee username="juergen.hoeller">Juergen Hoeller</assignee>
                                    <reporter username="cnelson">Christian Nelson</reporter>
                        <labels>
                    </labels>
                <created>Wed, 31 Aug 2005 06:52:14 +0000</created>
                <updated>Tue, 22 Sep 2015 17:34:38 +0000</updated>
                            <resolved>Tue, 22 Sep 2015 17:34:38 +0000</resolved>
                                    <version>1.2.4</version>
                                                    <component>Core</component>
                        <due></due>
                            <votes>5</votes>
                                    <watches>4</watches>
                                                                <comments>
                            <comment id="14558" author="cnelson" created="Wed, 31 Aug 2005 06:55:35 +0000"  >&lt;p&gt;There is a forum thread associated with this issue as well: &lt;a href=&quot;http://forum.springframework.org/viewtopic.php?t=8468&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://forum.springframework.org/viewtopic.php?t=8468&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="14570" author="cnelson" created="Thu, 1 Sep 2005 10:57:17 +0000"  >&lt;p&gt;This patch (spr-1274-patch-1.txt) contains my update to BeanWrapperImpl.java, and the associated unit tests).  It&apos;s in eclipse&apos;s universal format.&lt;/p&gt;</comment>
                            <comment id="14571" author="cnelson" created="Thu, 1 Sep 2005 11:01:32 +0000"  >&lt;p&gt;I should mention that the patch resolves the issue in all three scenarios listed in the original bug report.&lt;/p&gt;</comment>
                            <comment id="14572" author="cnelson" created="Thu, 1 Sep 2005 12:29:55 +0000"  >&lt;p&gt;The first patch missed a necessary updat to addStrippedPropertyPaths(...).  This caused the lookup of custom editors to fail.&lt;/p&gt;

&lt;p&gt;This new patch (spr-1274-patch-2.txt) includes the first patch, as well as the additional changes.&lt;/p&gt;

&lt;p&gt;The file MapBindingTests.java includes the unit test used to diagnose the custom editor lookup problem.  It may be interestnig to review or possibly add to the test suite.&lt;/p&gt;</comment>
                            <comment id="14573" author="oliverhutchison" created="Thu, 1 Sep 2005 17:15:55 +0000"  >&lt;p&gt;What if the key has and unmatched brace? For example &quot;entries[&lt;span class=&quot;error&quot;&gt;&amp;#91;java.lang.String&amp;#93;&lt;/span&gt;&quot;.&lt;/p&gt;

&lt;p&gt;IMHO what we realy need is a way to escape the brace.&lt;/p&gt;</comment>
                            <comment id="14574" author="cnelson" created="Thu, 1 Sep 2005 17:42:39 +0000"  >&lt;p&gt;Oliver, apparently, sometimes I miss the obvious...&lt;/p&gt;

&lt;p&gt;I think I&apos;ll tweak my patch so that brackets in string literals aren&apos;t processed.  I think that will do the trick.  Excaping would also work, but I&apos;d like to find a way to automate it or something, which I need to investigate.&lt;/p&gt;

&lt;p&gt;Thanks for the comment!&lt;br/&gt;
Christian&lt;/p&gt;</comment>
                            <comment id="19543" author="alza" created="Tue, 12 Sep 2006 01:09:26 +0000"  >&lt;p&gt;Hi there,&lt;/p&gt;

&lt;p&gt;I am using Spring 1.2.7 and this issue is affecting me. I tried to patch using the attached patch but it didn&apos;t seem to patch cleanly. Is there an updated patch for 1.2.7 or the current production release (1.2.8) somewhere, so that brackets in string literals aren&apos;t processed?&lt;/p&gt;

&lt;p&gt;I see the target is 2.1RC1 but it would be useful to backport this fix.&lt;/p&gt;

&lt;p&gt;Thanks&lt;/p&gt;

&lt;p&gt;Alex&lt;/p&gt;

</comment>
                            <comment id="19546" author="cnelson" created="Tue, 12 Sep 2006 01:45:06 +0000"  >&lt;p&gt;Alex,&lt;/p&gt;

&lt;p&gt;Unfortunately, that patch didn&apos;t fully fix the problem.  There were some test cases that still failed and I was never able to develop a complete fix.&lt;/p&gt;

&lt;p&gt;Oliver is right is saying the right fix is to implement some sort of excaping.  The bracket counting I was working on is problematic and obscure.&lt;/p&gt;

&lt;p&gt;Vote for the issue and then perhaps it will catch the Spring team&apos;s attention once again.&lt;/p&gt;

&lt;p&gt;Christian&lt;/p&gt;</comment>
                            <comment id="19570" author="alza" created="Tue, 12 Sep 2006 19:53:24 +0000"  >&lt;p&gt;I understand that the existing patch does not support some scenarios (i.e. unmatched brackets) without escaping, but nevertheless it is a better solution to handling brackets than the stock approach? &lt;/p&gt;

&lt;p&gt;Would this not justify the release of a &apos;working&apos; patch, even if it only supported matching bracket pairs?&lt;/p&gt;

&lt;p&gt;In any case, surely there is a problem with escaping solution, in that (as far as I know) it is not a part of the javabeans standard property notation? Or would it be possible to overlook this...&lt;/p&gt;

&lt;p&gt;Thanks&lt;/p&gt;

&lt;p&gt;Alex.&lt;/p&gt;</comment>
                            <comment id="38765" author="asalant" created="Fri, 8 Aug 2008 04:20:19 +0000"  >&lt;p&gt;I am also experiencing this problem in Spring 2.0.8.&lt;/p&gt;</comment>
                            <comment id="119784" author="juergen.hoeller" created="Tue, 22 Sep 2015 17:34:38 +0000"  >&lt;p&gt;Closing groups of outdated issues. Please reopen if still relevant.&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10000">
                    <name>Duplicate</name>
                                                                <inwardlinks description="is duplicated by">
                                        <issuelink>
            <issuekey id="14515">SPR-2294</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="11129" name="MapBindingTests.java" size="2083" author="cnelson" created="Thu, 1 Sep 2005 12:30:59 +0000"/>
                            <attachment id="11127" name="spr-1274-patch-1.txt" size="7857" author="cnelson" created="Thu, 1 Sep 2005 10:57:17 +0000"/>
                            <attachment id="11128" name="spr-1274-patch-2.txt" size="8712" author="cnelson" created="Thu, 1 Sep 2005 12:29:55 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_10180" key="com.atlassian.jira.toolkit:dayslastcommented">
                        <customfieldname>Days since last comment</customfieldname>
                        <customfieldvalues>
                                        1 year, 13 weeks, 2 days ago
    
                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_10170" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>First Response Date</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Thu, 1 Sep 2005 17:15:55 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_10181" key="com.atlassian.jira.toolkit:lastusercommented">
                        <customfieldname>Last commented by a User</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>false</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_10182" key="com.atlassian.jira.toolkit:lastupdaterorcommenter">
                        <customfieldname>Last updater</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>juergen.hoeller</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_10880" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i02tin:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_10380" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>16491</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_10171" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                </customfields>
    </item>
</channel>
</rss>