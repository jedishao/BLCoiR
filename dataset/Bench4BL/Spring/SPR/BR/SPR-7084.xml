<!-- 
RSS generated by JIRA (6.4.11#64026-sha1:78f6ec473a3f058bd5d6c30e9319c7ab376bdb9c) at Thu Dec 22 21:41:16 UTC 2016

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary add field=key&field=summary to the URL of your request.
For example:
https://jira.spring.io/si/jira.issueviews:issue-xml/SPR-7084/SPR-7084.xml?field=key&amp;field=summary
-->
<rss version="0.92" >
<channel>
    <title>Spring JIRA</title>
    <link>https://jira.spring.io</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>6.4.11</version>
        <build-number>64026</build-number>
        <build-date>25-08-2015</build-date>
    </build-info>

<item>
            <title>[SPR-7084] IllegalArgumentException thrown for simple java.lang.String prototype bean </title>
                <link>https://jira.spring.io/browse/SPR-7084</link>
                <project id="10000" key="SPR">Spring Framework</project>
                    <description>&lt;p&gt;Code&lt;br/&gt;
====&lt;/p&gt;

&lt;p&gt;import org.springframework.context.support.GenericApplicationContext;&lt;br/&gt;
import org.springframework.beans.factory.xml.XmlBeanDefinitionReader;&lt;br/&gt;
import org.springframework.core.io.ClassPathResource;&lt;/p&gt;

&lt;p&gt;/**&lt;br/&gt;
 */&lt;br/&gt;
public class IllegalArgumentProblem {&lt;/p&gt;

&lt;p&gt;    public static void main(String[] args) &lt;/p&gt;
{
         GenericApplicationContext parent = new GenericApplicationContext();
        XmlBeanDefinitionReader reader = new XmlBeanDefinitionReader(parent);
        reader.loadBeanDefinitions(new ClassPathResource(&quot;app.xml&quot;, IllegalArgumentProblem.class));
        parent.refresh();

        String bean = (String) parent.getBean(&quot;x&quot;);
        String bean2 = (String) parent.getBean(&quot;x&quot;); // second access throws the exception.
    }

&lt;p&gt;}&lt;/p&gt;

&lt;p&gt;Configuration&lt;br/&gt;
=============&lt;/p&gt;

&lt;p&gt;&amp;lt;beans xmlns=&quot;http://www.springframework.org/schema/beans&quot;&lt;br/&gt;
       xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;&lt;br/&gt;
       xsi:schemaLocation=&quot;http://www.springframework.org/schema/beans&lt;br/&gt;
           &lt;a href=&quot;http://www.springframework.org/schema/beans/spring-beans-2.5.xsd&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://www.springframework.org/schema/beans/spring-beans-2.5.xsd&lt;/a&gt;&quot;&amp;gt;&lt;/p&gt;

&lt;p&gt;    &amp;lt;bean id=&quot;x&quot; class=&quot;java.lang.String&quot; scope=&quot;prototype&quot;&amp;gt;&lt;br/&gt;
        &amp;lt;constructor-arg&amp;gt;&amp;lt;value&amp;gt;PARENT value&amp;lt;/value&amp;gt;&amp;lt;/constructor-arg&amp;gt;&lt;br/&gt;
    &amp;lt;/bean&amp;gt;&lt;/p&gt;

&lt;p&gt;&amp;lt;/beans&amp;gt;&lt;/p&gt;

&lt;p&gt;Error&lt;br/&gt;
=====&lt;/p&gt;

&lt;p&gt;log4j:WARN No appenders could be found for logger (org.springframework.core.CollectionFactory).&lt;br/&gt;
log4j:WARN Please initialize the log4j system properly.&lt;br/&gt;
Exception in thread &quot;main&quot; org.springframework.beans.factory.BeanCreationException: Error creating bean with name &apos;x&apos; defined in class path resource &lt;span class=&quot;error&quot;&gt;&amp;#91;app.xml&amp;#93;&lt;/span&gt;: Instantiation of bean failed; nested exception is org.springframework.beans.BeanInstantiationException: Could not instantiate bean class &lt;span class=&quot;error&quot;&gt;&amp;#91;java.lang.String&amp;#93;&lt;/span&gt;: Illegal arguments for constructor; nested exception is java.lang.IllegalArgumentException: argument type mismatch&lt;br/&gt;
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:254)&lt;br/&gt;
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireConstructor(AbstractAutowireCapableBeanFactory.java:925)&lt;br/&gt;
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:823)&lt;br/&gt;
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:440)&lt;br/&gt;
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory$1.run(AbstractAutowireCapableBeanFactory.java:409)&lt;br/&gt;
	at java.security.AccessController.doPrivileged(Native Method)&lt;br/&gt;
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:380)&lt;br/&gt;
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:283)&lt;br/&gt;
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:185)&lt;br/&gt;
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:164)&lt;br/&gt;
	at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:881)&lt;br/&gt;
	at IllegalArgumentProblem.main(IllegalArgumentProblem.java:21)&lt;br/&gt;
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)&lt;br/&gt;
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)&lt;br/&gt;
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)&lt;br/&gt;
	at java.lang.reflect.Method.invoke(Method.java:597)&lt;br/&gt;
	at com.intellij.rt.execution.application.AppMain.main(AppMain.java:90)&lt;br/&gt;
Caused by: org.springframework.beans.BeanInstantiationException: Could not instantiate bean class &lt;span class=&quot;error&quot;&gt;&amp;#91;java.lang.String&amp;#93;&lt;/span&gt;: Illegal arguments for constructor; nested exception is java.lang.IllegalArgumentException: argument type mismatch&lt;br/&gt;
	at org.springframework.beans.BeanUtils.instantiateClass(BeanUtils.java:111)&lt;br/&gt;
	at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:87)&lt;br/&gt;
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:248)&lt;br/&gt;
	... 16 more&lt;br/&gt;
Caused by: java.lang.IllegalArgumentException: argument type mismatch&lt;br/&gt;
	at sun.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)&lt;br/&gt;
	at sun.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:39)&lt;br/&gt;
	at sun.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:27)&lt;br/&gt;
	at java.lang.reflect.Constructor.newInstance(Constructor.java:513)&lt;br/&gt;
	at org.springframework.beans.BeanUtils.instantiateClass(BeanUtils.java:100)&lt;br/&gt;
	... 18 more&lt;/p&gt;

&lt;p&gt;Process finished with exit code 1&lt;/p&gt;</description>
            <key id="30964">SPR-7084</key>
            <summary>IllegalArgumentException thrown for simple java.lang.String prototype bean </summary>
                <type id="1" iconUrl="https://jira.spring.io/images/icons/issuetypes/bug.png">Bug</type>
                                            <priority id="3" iconUrl="https://jira.spring.io/images/icons/priorities/major.png">Major</priority>
                        <status id="6" iconUrl="https://jira.spring.io/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="8">Complete</resolution>
                                        <assignee username="juergen.hoeller">Juergen Hoeller</assignee>
                                    <reporter username="diwakar">diwakar</reporter>
                        <labels>
                    </labels>
                <created>Fri, 9 Apr 2010 06:17:47 +0000</created>
                <updated>Tue, 19 Jun 2012 03:43:45 +0000</updated>
                            <resolved>Tue, 13 Apr 2010 23:07:13 +0000</resolved>
                                    <version>2.5.5</version>
                    <version>2.5.6</version>
                                    <fixVersion>3.0.3</fixVersion>
                                    <component>Core</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                <comments>
                            <comment id="52951" author="juergen.hoeller" created="Tue, 13 Apr 2010 23:07:14 +0000"  >&lt;p&gt;After some research, this seems to be a rather rare case that only occurs where matches are still being found after an &apos;optimal&apos; constructor, despite the upfront ordering of constructors that we do there. Our constructor argument caching for optimized prototype creation performance breaks in such a scenario.&lt;/p&gt;

&lt;p&gt;The String class is such a case with its (String) and (StringBuffer) constructors... I haven&apos;t found any other cases yet. And of course, this problem can only ever occur with non-singleton beans.&lt;/p&gt;

&lt;p&gt;In any case, I&apos;ve fixed this for Spring 3.0.3 now.&lt;/p&gt;

&lt;p&gt;Juergen&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10000">
                    <name>Duplicate</name>
                                                                <inwardlinks description="is duplicated by">
                                        <issuelink>
            <issuekey id="25943">SPR-5569</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_10180" key="com.atlassian.jira.toolkit:dayslastcommented">
                        <customfieldname>Days since last comment</customfieldname>
                        <customfieldvalues>
                                        6 years, 37 weeks, 1 day ago
    
                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_10170" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>First Response Date</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Tue, 13 Apr 2010 23:07:14 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_10181" key="com.atlassian.jira.toolkit:lastusercommented">
                        <customfieldname>Last commented by a User</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>false</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_10182" key="com.atlassian.jira.toolkit:lastupdaterorcommenter">
                        <customfieldname>Last updater</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>tmarshall</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_10880" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i03413:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_10380" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>18195</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_10171" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                </customfields>
    </item>
</channel>
</rss>