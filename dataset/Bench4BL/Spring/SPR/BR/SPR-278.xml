<!-- 
RSS generated by JIRA (6.4.11#64026-sha1:78f6ec473a3f058bd5d6c30e9319c7ab376bdb9c) at Thu Dec 22 20:51:37 UTC 2016

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary add field=key&field=summary to the URL of your request.
For example:
https://jira.spring.io/si/jira.issueviews:issue-xml/SPR-278/SPR-278.xml?field=key&amp;field=summary
-->
<rss version="0.92" >
<channel>
    <title>Spring JIRA</title>
    <link>https://jira.spring.io</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>6.4.11</version>
        <build-number>64026</build-number>
        <build-date>25-08-2015</build-date>
    </build-info>

<item>
            <title>[SPR-278] BeanWrapperImpl registration of editors for nested paths with null values</title>
                <link>https://jira.spring.io/browse/SPR-278</link>
                <project id="10000" key="SPR">Spring Framework</project>
                    <description>&lt;p&gt;Juergen, recent changes on BeanWrapperImpl implementation are what I&apos;m hoping for and I&apos;m very happy with that. Indeed there is no support for mixing editors for maps/lists and their elements, but I can live with that (it is not really that important).&lt;/p&gt;

&lt;p&gt;Still, there are some problems left, so I open this issue again (please accept apologies for my impatience &lt;img class=&quot;emoticon&quot; src=&quot;https://jira.spring.io/images/icons/emoticons/smile.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt; ).&lt;/p&gt;

&lt;p&gt;Here is a first problem:&lt;br/&gt;
Current version of findCustomEditor() method doesn&apos;t work for lists because an InvalidPropertyException with IndexOutOfBoundsException cause is thrown. (I think that same apply on sets and arrays). Problem lies in getPropertyType() method which tries to determine property type based on property value (line 921 of your latest source). But if that value is not in list yet, an IndexOutOfBoundException will emerge. I suppose it could be easily solved by putting line 283 in try/catch block which will ignore InvalidPropertyException. Here is a small example which demonstrates this (exception will be thrown at line 6):&lt;/p&gt;

&lt;p&gt;1. SimpleDateFormat dateFormatEur = new SimpleDateFormat(&quot;dd.MM.yyyy&quot;);&lt;br/&gt;
2. CustomDateEditor dateEditorEur = new CustomDateEditor(dateFormatEur, false);    &lt;br/&gt;
3. BeanWrapperImpl bw = new BeanWrapperImpl(new Person());&lt;br/&gt;
4. bw.registerCustomEditor(null, &quot;friends.birthDate&quot;, dateEditorEur);&lt;br/&gt;
5. bw.setPropertyValue(&quot;friends&quot;, new ArrayList());&lt;br/&gt;
6. bw.setPropertyValue(&quot;friends&lt;span class=&quot;error&quot;&gt;&amp;#91;0&amp;#93;&lt;/span&gt;&quot;, new Person());         // InvalidPropertyException&lt;br/&gt;
7. bw.setPropertyValue(&quot;friends&lt;span class=&quot;error&quot;&gt;&amp;#91;0&amp;#93;&lt;/span&gt;.birthDate&quot;, &quot;10.10.1980&quot;);&lt;/p&gt;

&lt;p&gt;And a second one:&lt;br/&gt;
Even with above changes implemented, findCustomEditor() method still won&apos;t work as expected. Suppose that you register some property editor for property path &apos;employees.person.birthDate&apos;. If you later try to retrieve it via findCutomEditor() with property path &apos;employees&lt;span class=&quot;error&quot;&gt;&amp;#91;id1&amp;#93;&lt;/span&gt;.person.birthDate &apos; (note a key), a null will be returned instead of editor registered under path &apos;employees.person.birthDate&apos;. I think this is wrong behavior.&lt;/p&gt;

&lt;p&gt;In attachment can be found a simple tester which demonstrates described problems, and my proposal for findCustomEditor() method implementation which (I hope) fixes it. Also note that I didn&apos;t run this implementation against spring&apos;s test suite.&lt;/p&gt;

&lt;p&gt;Best regards,&lt;br/&gt;
Damir Murat&lt;/p&gt;</description>
            <key id="10485">SPR-278</key>
            <summary>BeanWrapperImpl registration of editors for nested paths with null values</summary>
                <type id="1" iconUrl="https://jira.spring.io/images/icons/issuetypes/bug.png">Bug</type>
                                            <priority id="3" iconUrl="https://jira.spring.io/images/icons/priorities/major.png">Major</priority>
                        <status id="6" iconUrl="https://jira.spring.io/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="juergen.hoeller">Juergen Hoeller</assignee>
                                    <reporter username="dmurat">Damir Murat</reporter>
                        <labels>
                    </labels>
                <created>Sun, 22 Aug 2004 02:08:32 +0000</created>
                <updated>Mon, 23 Aug 2004 08:56:15 +0000</updated>
                            <resolved>Mon, 23 Aug 2004 08:56:15 +0000</resolved>
                                    <version>1.1 final</version>
                                    <fixVersion>1.1 final</fixVersion>
                                    <component>Core</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                <comments>
                            <comment id="10827" author="juergen.hoeller" created="Mon, 23 Aug 2004 08:56:15 +0000"  >&lt;p&gt;Thanks for spotting and reporting those issues - I&apos;ve just fixed both! Feel free to give a CVS snapshot of BeanWrapperImpl a try &lt;img class=&quot;emoticon&quot; src=&quot;https://jira.spring.io/images/icons/emoticons/smile.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/p&gt;

&lt;p&gt;Juergen&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="10168" name="sources.zip" size="4280" author="dmurat" created="Sun, 22 Aug 2004 02:08:53 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_10180" key="com.atlassian.jira.toolkit:dayslastcommented">
                        <customfieldname>Days since last comment</customfieldname>
                        <customfieldvalues>
                                        12 years, 19 weeks, 3 days ago
    
                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_10170" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>First Response Date</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Mon, 23 Aug 2004 08:56:15 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_10181" key="com.atlassian.jira.toolkit:lastusercommented">
                        <customfieldname>Last commented by a User</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>false</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_10182" key="com.atlassian.jira.toolkit:lastupdaterorcommenter">
                        <customfieldname>Last updater</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>tmarshall</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_10880" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i01sq7:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_10380" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>10531</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_10171" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                </customfields>
    </item>
</channel>
</rss>