<!-- 
RSS generated by JIRA (6.4.11#64026-sha1:78f6ec473a3f058bd5d6c30e9319c7ab376bdb9c) at Thu Dec 22 20:19:28 UTC 2016

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary add field=key&field=summary to the URL of your request.
For example:
https://jira.spring.io/si/jira.issueviews:issue-xml/SPR-544/SPR-544.xml?field=key&amp;field=summary
-->
<rss version="0.92" >
<channel>
    <title>Spring JIRA</title>
    <link>https://jira.spring.io</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>6.4.11</version>
        <build-number>64026</build-number>
        <build-date>25-08-2015</build-date>
    </build-info>

<item>
            <title>[SPR-544] Quartz not properly shutting down in tomcat.</title>
                <link>https://jira.spring.io/browse/SPR-544</link>
                <project id="10000" key="SPR">Spring Framework</project>
                    <description>&lt;p&gt;I&apos;m running quartz in a clustered environment. When shutting down tomcat, I am seeing ThreadDeath errors. It looks like these 2 threads are never shut down:&lt;/p&gt;
&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;clusterManagementThread&lt;/li&gt;
	&lt;li&gt;misfireHandler&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;I believe I see the cause of the problem:&lt;br/&gt;
I&apos;m using LocalDataSourceJobStore, and the shutdown method has been overridden to do nothing. The javadoc comment is &quot;Do not perform the base class&apos; DataSource shutdown here. A Spring-provided DataSource has its own lifecycle.&quot; The problem is that this prevents this piece of code in org.quartz.impl.jdbcjobstore.JobStoreSupport:&lt;/p&gt;


&lt;p&gt;    public void shutdown() {&lt;br/&gt;
        if (clusterManagementThread != null)&lt;br/&gt;
                clusterManagementThread.shutdown();&lt;/p&gt;

&lt;p&gt;        if (misfireHandler != null) misfireHandler.shutdown();&lt;/p&gt;

&lt;p&gt;...&lt;/p&gt;</description>
            <key id="10853">SPR-544</key>
            <summary>Quartz not properly shutting down in tomcat.</summary>
                <type id="1" iconUrl="https://jira.spring.io/images/icons/issuetypes/bug.png">Bug</type>
                                            <priority id="3" iconUrl="https://jira.spring.io/images/icons/priorities/major.png">Major</priority>
                        <status id="6" iconUrl="https://jira.spring.io/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="juergen.hoeller">Juergen Hoeller</assignee>
                                    <reporter username="gattster">Philip Gatt</reporter>
                        <labels>
                    </labels>
                <created>Sat, 11 Dec 2004 12:30:28 +0000</created>
                <updated>Sun, 12 Dec 2004 05:11:41 +0000</updated>
                            <resolved>Sat, 11 Dec 2004 21:18:00 +0000</resolved>
                                    <version>1.1.2</version>
                                    <fixVersion>1.1.3</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                <comments>
                            <comment id="11765" author="juergen.hoeller" created="Sat, 11 Dec 2004 21:18:00 +0000"  >&lt;p&gt;Thanks for the report! Fixed through reworking LocalDataSourceConnectionProvider from the ground up: It registers Quartz ConnectionProviders now which delegate to the underlying Spring-managed DataSource. Shutdown of the base classes is properly performed, just the ConnectionProviders do nothing on shutdown.&lt;/p&gt;

&lt;p&gt;Juergen&lt;/p&gt;</comment>
                            <comment id="11770" author="gattster" created="Sun, 12 Dec 2004 05:11:41 +0000"  >&lt;p&gt;Awesome, thanks for the quick fix!&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_10180" key="com.atlassian.jira.toolkit:dayslastcommented">
                        <customfieldname>Days since last comment</customfieldname>
                        <customfieldvalues>
                                        12 years, 3 weeks, 4 days ago
    
                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_10170" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>First Response Date</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Sat, 11 Dec 2004 21:18:00 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_10181" key="com.atlassian.jira.toolkit:lastusercommented">
                        <customfieldname>Last commented by a User</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>true</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_10182" key="com.atlassian.jira.toolkit:lastupdaterorcommenter">
                        <customfieldname>Last updater</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>tmarshall</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_10880" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i046qn:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_10380" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>24466</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_10171" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                </customfields>
    </item>
</channel>
</rss>