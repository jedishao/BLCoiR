<!-- 
RSS generated by JIRA (6.4.11#64026-sha1:78f6ec473a3f058bd5d6c30e9319c7ab376bdb9c) at Thu Dec 22 20:42:35 UTC 2016

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary add field=key&field=summary to the URL of your request.
For example:
https://jira.spring.io/si/jira.issueviews:issue-xml/SPR-654/SPR-654.xml?field=key&amp;field=summary
-->
<rss version="0.92" >
<channel>
    <title>Spring JIRA</title>
    <link>https://jira.spring.io</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>6.4.11</version>
        <build-number>64026</build-number>
        <build-date>25-08-2015</build-date>
    </build-info>

<item>
            <title>[SPR-654] HibernateTemplate.checkWriteOperationAllowed &gt; NullPointerException</title>
                <link>https://jira.spring.io/browse/SPR-654</link>
                <project id="10000" key="SPR">Spring Framework</project>
                    <description>&lt;p&gt;I have this exception when I try to update an entity, it seem the session object passed in the HibernateCallback is null :&lt;/p&gt;

&lt;p&gt; java.lang.NullPointerException&lt;br/&gt;
at org.springframework.orm.hibernate.HibernateTemplate.checkWriteOperationAllowed(Lnet.sf.hibernate.Session;)V(HibernateTemplate.java:954)&lt;br/&gt;
at org.springframework.orm.hibernate.HibernateTemplate$15.doInHibernate(Lnet.sf.hibernate.Session;)Ljava.lang.Object;(HibernateTemplate.java:362)&lt;br/&gt;
at org.springframework.orm.hibernate.HibernateTemplate.execute(Lorg.springframework.orm.hibernate.HibernateCallback;)Ljava.lang.Object;(HibernateTemplate.java:200)&lt;br/&gt;
at org.springframework.orm.hibernate.HibernateTemplate.update(Ljava.lang.Object;)V(HibernateTemplate.java:360)&lt;br/&gt;
at com.monitoring.dao.impl.BsContractDaoImpl.update(Lcom.monitoring.BsContract;)V(BsContractDaoImpl.java:286)&lt;/p&gt;

&lt;p&gt;Here the JTA configuration : &lt;/p&gt;

&lt;p&gt;    &amp;lt;bean id=&quot;jndiTransactionManager&quot;&lt;br/&gt;
        class=&quot;org.springframework.transaction.jta.WebLogicServerTransactionManagerFactoryBean&quot;&amp;gt;&lt;br/&gt;
    &amp;lt;/bean&amp;gt;&lt;/p&gt;

&lt;p&gt;    &amp;lt;!-- Jta platform tm --&amp;gt;&lt;br/&gt;
    &amp;lt;bean id=&quot;transactionManager&quot;&lt;br/&gt;
        class=&quot;org.springframework.transaction.jta.WebLogicJtaTransactionManager&quot;&amp;gt;&lt;br/&gt;
        &amp;lt;property name=&quot;transactionManager&quot;&amp;gt;&lt;br/&gt;
            &amp;lt;ref local=&quot;jndiTransactionManager&quot;/&amp;gt;&lt;br/&gt;
        &amp;lt;/property&amp;gt;&lt;br/&gt;
    &amp;lt;/bean&amp;gt; &lt;/p&gt;</description>
            <key id="11048">SPR-654</key>
            <summary>HibernateTemplate.checkWriteOperationAllowed &gt; NullPointerException</summary>
                <type id="1" iconUrl="https://jira.spring.io/images/icons/issuetypes/bug.png">Bug</type>
                                            <priority id="2" iconUrl="https://jira.spring.io/images/icons/priorities/critical.png">Critical</priority>
                        <status id="6" iconUrl="https://jira.spring.io/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="juergen.hoeller">Juergen Hoeller</assignee>
                                    <reporter username="eboudrant">Emmanuel Boudrant</reporter>
                        <labels>
                    </labels>
                <created>Tue, 25 Jan 2005 03:30:23 +0000</created>
                <updated>Wed, 26 Jan 2005 07:33:17 +0000</updated>
                            <resolved>Wed, 26 Jan 2005 07:33:17 +0000</resolved>
                                    <version>1.1.1</version>
                                    <fixVersion>1.1.4</fixVersion>
                                    <component>Data</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                <comments>
                            <comment id="12078" author="juergen.hoeller" created="Tue, 25 Jan 2005 05:36:19 +0000"  >&lt;p&gt;That looks odd... Could you check with the debugger what happens there in HibernateTemplate&apos;s &quot;execute&quot; method, when fetching the Hibernate Session?&lt;/p&gt;

&lt;p&gt;You might also want to update to Spring 1.1.3 and see whether you can reproduce the problem there.&lt;/p&gt;

&lt;p&gt;Juergen&lt;/p&gt;</comment>
                            <comment id="12079" author="juergen.hoeller" created="Tue, 25 Jan 2005 05:42:01 +0000"  >&lt;p&gt;As you&apos;re using JTA synchronization with the full JTA TransactionManager, this might share a common cause with issue &lt;a href=&quot;https://jira.spring.io/browse/SPR-638&quot; title=&quot;SessionFactoryUtils.getSession(..) before PROPAGATION_REQUIRED&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SPR-638&quot;&gt;&lt;del&gt;SPR-638&lt;/del&gt;&lt;/a&gt;. Actually, it&apos;s very likely: the per-JTA-transaction synchronization (which just kicks in for the full JTA TransactionManager, to cover transaction suspension) might have a corner case that doesn&apos;t work properly.&lt;/p&gt;</comment>
                            <comment id="12081" author="eboudrant" created="Tue, 25 Jan 2005 06:25:13 +0000"  >&lt;p&gt;I have the same problem with Spring 1.1.3&lt;/p&gt;</comment>
                            <comment id="12089" author="juergen.hoeller" created="Wed, 26 Jan 2005 07:33:17 +0000"  >&lt;p&gt;This is caused when a pre-bound SessionHolder with a JTA-synchronized Session already exists when a new Spring-managed transaction (with Spring transaction synchronization active) kicks in.&lt;/p&gt;

&lt;p&gt;Fixed through adding a check to the synchronization code in SessionFactoryUtils, and (of course) a unit test.&lt;/p&gt;

&lt;p&gt;This fix will make it into 1.1.4. Feel free to give a current nightly snapshot a try (probably the one generated Thursday night rather than tonight, as anonymous CVS won&apos;t catch up immediately).&lt;/p&gt;

&lt;p&gt;Juergen&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10000">
                    <name>Duplicate</name>
                                            <outwardlinks description="duplicates">
                                        <issuelink>
            <issuekey id="11002">SPR-638</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                    </issuelinks>
                <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_10180" key="com.atlassian.jira.toolkit:dayslastcommented">
                        <customfieldname>Days since last comment</customfieldname>
                        <customfieldvalues>
                                        11 years, 49 weeks, 1 day ago
    
                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_10170" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>First Response Date</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Tue, 25 Jan 2005 05:36:19 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_10181" key="com.atlassian.jira.toolkit:lastusercommented">
                        <customfieldname>Last commented by a User</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>false</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_10182" key="com.atlassian.jira.toolkit:lastupdaterorcommenter">
                        <customfieldname>Last updater</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>tmarshall</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_10880" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i01fif:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_10380" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>8390</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_10171" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                </customfields>
    </item>
</channel>
</rss>