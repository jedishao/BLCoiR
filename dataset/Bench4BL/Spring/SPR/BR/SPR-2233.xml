<!-- 
RSS generated by JIRA (6.4.11#64026-sha1:78f6ec473a3f058bd5d6c30e9319c7ab376bdb9c) at Thu Dec 22 19:49:42 UTC 2016

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary add field=key&field=summary to the URL of your request.
For example:
https://jira.spring.io/si/jira.issueviews:issue-xml/SPR-2233/SPR-2233.xml?field=key&amp;field=summary
-->
<rss version="0.92" >
<channel>
    <title>Spring JIRA</title>
    <link>https://jira.spring.io</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>6.4.11</version>
        <build-number>64026</build-number>
        <build-date>25-08-2015</build-date>
    </build-info>

<item>
            <title>[SPR-2233] DispatcherServlet.noHandlerFound logging incorrect</title>
                <link>https://jira.spring.io/browse/SPR-2233</link>
                <project id="10000" key="SPR">Spring Framework</project>
                    <description>&lt;p&gt;Let me preface this by saying I know my use case is an edge case.  However, the logging produced at WARN level by DispatcherServlet.noHandlerFound is incorrect for this case and is &lt;b&gt;very&lt;/b&gt; confusing.  Let me just start by saying what the fix is, and then come back to how the problem can be duplicated.&lt;/p&gt;

&lt;p&gt;The current code for the method is:&lt;/p&gt;

&lt;p&gt;	protected void noHandlerFound(HttpServletRequest request, HttpServletResponse response) throws IOException {&lt;br/&gt;
		if (pageNotFoundLogger.isWarnEnabled()) &lt;/p&gt;
{
			pageNotFoundLogger.warn(&quot;No mapping for [&quot; + request.getRequestURI() +
					&quot;] in DispatcherServlet with name &apos;&quot; + getServletName() + &quot;&apos;&quot;);
		}
&lt;p&gt;		response.sendError(HttpServletResponse.SC_NOT_FOUND);&lt;br/&gt;
	}&lt;/p&gt;

&lt;p&gt;In the case of a include done with &amp;lt;c:import&amp;gt;, request.getRequestURI() returns the wrong path.  UrlPathHelper.getLookupPathForRequest needs to be used to get the correct path.&lt;/p&gt;

&lt;p&gt;Here is my log output from a valid request.  In this case, in a JSP called closeDialogRefreshPane.jsp I correctly did a &amp;lt;c:import&amp;gt; to one of my controllers called &apos;/dashboardsNav&apos;&lt;/p&gt;

&lt;p&gt;DEBUG &lt;span class=&quot;error&quot;&gt;&amp;#91;http-80-Processor24&amp;#93;&lt;/span&gt; (DispatcherServlet:doService) - DispatcherServlet with name &apos;spring&apos; received request for &lt;span class=&quot;error&quot;&gt;&amp;#91;/scoreboard/common/closeDialogRefreshPane.jsp&amp;#93;&lt;/span&gt;&lt;br/&gt;
DEBUG &lt;span class=&quot;error&quot;&gt;&amp;#91;http-80-Processor24&amp;#93;&lt;/span&gt; (DispatcherServlet:doService) - Taking snapshot of request attributes before include&lt;br/&gt;
DEBUG &lt;span class=&quot;error&quot;&gt;&amp;#91;http-80-Processor24&amp;#93;&lt;/span&gt; (DispatcherServlet:doDispatch) - Bound request context to thread: org.apache.catalina.core.ApplicationHttpRequest@1f489d9&lt;br/&gt;
DEBUG &lt;span class=&quot;error&quot;&gt;&amp;#91;http-80-Processor24&amp;#93;&lt;/span&gt; (DispatcherServlet:getHandler) - Testing handler map &lt;span class=&quot;error&quot;&gt;&amp;#91;org.springframework.web.servlet.handler.BeanNameUrlHandlerMapping@16a346a&amp;#93;&lt;/span&gt; in DispatcherServlet with name &apos;spring&apos;&lt;br/&gt;
DEBUG &lt;span class=&quot;error&quot;&gt;&amp;#91;http-80-Processor24&amp;#93;&lt;/span&gt; (BeanNameUrlHandlerMapping:getHandlerInternal) - Looking up handler for &lt;span class=&quot;error&quot;&gt;&amp;#91;/dashboardsNav&amp;#93;&lt;/span&gt;&lt;br/&gt;
DEBUG &lt;span class=&quot;error&quot;&gt;&amp;#91;http-80-Processor24&amp;#93;&lt;/span&gt; (DispatcherServlet:getHandlerAdapter) - Testing handler adapter &lt;span class=&quot;error&quot;&gt;&amp;#91;org.springframework.web.servlet.mvc.HttpRequestHandlerAdapter@1bd871&amp;#93;&lt;/span&gt;&lt;br/&gt;
DEBUG &lt;span class=&quot;error&quot;&gt;&amp;#91;http-80-Processor24&amp;#93;&lt;/span&gt; (DispatcherServlet:getHandlerAdapter) - Testing handler adapter &lt;span class=&quot;error&quot;&gt;&amp;#91;org.springframework.web.servlet.mvc.SimpleControllerHandlerAdapter@1ba0609&amp;#93;&lt;/span&gt;&lt;br/&gt;
DEBUG &lt;span class=&quot;error&quot;&gt;&amp;#91;http-80-Processor24&amp;#93;&lt;/span&gt; (DispatcherServlet:render) - Rendering view [org.springframework.web.servlet.view.InternalResourceView: name &apos;dashboardsNavView&apos;; URL &lt;span class=&quot;error&quot;&gt;&amp;#91;/dashboards/dashboardsNav.jsp&amp;#93;&lt;/span&gt;] in DispatcherServlet with name &apos;spring&apos;&lt;/p&gt;

&lt;p&gt;Here is my log output from an invalid request.  I accidentally tried to do a &amp;lt;c:import&amp;gt; from closeDialogRefreshPane.jsp to the view &apos;/calendarsNavView&apos; instead of to my controller called &apos;/calendarsNav&apos;:&lt;/p&gt;

&lt;p&gt;DEBUG &lt;span class=&quot;error&quot;&gt;&amp;#91;http-80-Processor24&amp;#93;&lt;/span&gt; (DispatcherServlet:doService) - DispatcherServlet with name &apos;spring&apos; received request for &lt;span class=&quot;error&quot;&gt;&amp;#91;/scoreboard/common/closeDialogRefreshPane.jsp&amp;#93;&lt;/span&gt;&lt;br/&gt;
DEBUG &lt;span class=&quot;error&quot;&gt;&amp;#91;http-80-Processor24&amp;#93;&lt;/span&gt; (DispatcherServlet:doService) - Taking snapshot of request attributes before include&lt;br/&gt;
DEBUG &lt;span class=&quot;error&quot;&gt;&amp;#91;http-80-Processor24&amp;#93;&lt;/span&gt; (DispatcherServlet:doDispatch) - Bound request context to thread: org.apache.catalina.core.ApplicationHttpRequest@1a34544&lt;br/&gt;
DEBUG &lt;span class=&quot;error&quot;&gt;&amp;#91;http-80-Processor24&amp;#93;&lt;/span&gt; (DispatcherServlet:getHandler) - Testing handler map &lt;span class=&quot;error&quot;&gt;&amp;#91;org.springframework.web.servlet.handler.BeanNameUrlHandlerMapping@16a346a&amp;#93;&lt;/span&gt; in DispatcherServlet with name &apos;spring&apos;&lt;br/&gt;
DEBUG &lt;span class=&quot;error&quot;&gt;&amp;#91;http-80-Processor24&amp;#93;&lt;/span&gt; (BeanNameUrlHandlerMapping:getHandlerInternal) - Looking up handler for &lt;span class=&quot;error&quot;&gt;&amp;#91;/calendarsNavView&amp;#93;&lt;/span&gt;&lt;br/&gt;
 WARN &lt;span class=&quot;error&quot;&gt;&amp;#91;http-80-Processor24&amp;#93;&lt;/span&gt; (PageNotFound:noHandlerFound) - No mapping for &lt;span class=&quot;error&quot;&gt;&amp;#91;/scoreboard/common/closeDialogRefreshPane.jsp&amp;#93;&lt;/span&gt; in DispatcherServlet with name &apos;spring&apos;&lt;/p&gt;

&lt;p&gt;As you can see, the the PageNotFound logger says /common/closeDialogRefreshPane could not be found, when in fact it was already found and dispatched to, at which point an invalid &amp;lt;c:import&amp;gt; call is what&apos;s actually screwing things up.&lt;/p&gt;</description>
            <key id="14430">SPR-2233</key>
            <summary>DispatcherServlet.noHandlerFound logging incorrect</summary>
                <type id="1" iconUrl="https://jira.spring.io/images/icons/issuetypes/bug.png">Bug</type>
                                            <priority id="4" iconUrl="https://jira.spring.io/images/icons/priorities/minor.png">Minor</priority>
                        <status id="6" iconUrl="https://jira.spring.io/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="juergen.hoeller">Juergen Hoeller</assignee>
                                    <reporter username="sgarlatm">Matthew Sgarlata</reporter>
                        <labels>
                    </labels>
                <created>Tue, 4 Jul 2006 01:08:11 +0000</created>
                <updated>Tue, 19 Jun 2012 03:52:50 +0000</updated>
                            <resolved>Wed, 5 Jul 2006 01:04:29 +0000</resolved>
                                    <version>2.0 RC1</version>
                                    <fixVersion>2.0 RC2</fixVersion>
                                    <component>Web</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                <comments>
                            <comment id="18401" author="juergen.hoeller" created="Wed, 5 Jul 2006 01:04:29 +0000"  >&lt;p&gt;Thanks for pointing this out - fixed!&lt;/p&gt;

&lt;p&gt;Juergen&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_10180" key="com.atlassian.jira.toolkit:dayslastcommented">
                        <customfieldname>Days since last comment</customfieldname>
                        <customfieldvalues>
                                        10 years, 26 weeks, 1 day ago
    
                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_10170" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>First Response Date</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Wed, 5 Jul 2006 01:04:29 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_10181" key="com.atlassian.jira.toolkit:lastusercommented">
                        <customfieldname>Last commented by a User</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>false</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_10182" key="com.atlassian.jira.toolkit:lastupdaterorcommenter">
                        <customfieldname>Last updater</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>tmarshall</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_10880" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0195j:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_10380" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>7360</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_10171" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                </customfields>
    </item>
</channel>
</rss>