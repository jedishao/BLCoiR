<!-- 
RSS generated by JIRA (6.4.11#64026-sha1:78f6ec473a3f058bd5d6c30e9319c7ab376bdb9c) at Thu Dec 22 19:43:42 UTC 2016

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary add field=key&field=summary to the URL of your request.
For example:
https://jira.spring.io/si/jira.issueviews:issue-xml/SPR-733/SPR-733.xml?field=key&amp;field=summary
-->
<rss version="0.92" >
<channel>
    <title>Spring JIRA</title>
    <link>https://jira.spring.io</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>6.4.11</version>
        <build-number>64026</build-number>
        <build-date>25-08-2015</build-date>
    </build-info>

<item>
            <title>[SPR-733] Spring doesn&apos;t recognize MySQL deadlock exceptions</title>
                <link>https://jira.spring.io/browse/SPR-733</link>
                <project id="10000" key="SPR">Spring Framework</project>
                    <description>&lt;p&gt;A SQL Exception thrown by MySQL with SQLState &apos;41000&apos; and errorCode &apos;1213&apos; and message &lt;span class=&quot;error&quot;&gt;&amp;#91;Deadlock found when trying to get lock; Try restarting transaction message from server: &amp;quot;Deadlock found when trying to get lock; Try restarting transaction&amp;quot;&amp;#93;&lt;/span&gt;&lt;/p&gt;

&lt;p&gt;will result in:&lt;/p&gt;

&lt;p&gt;org.springframework.jdbc.UncategorizedSQLException: (HibernateTemplate): encountered SQLException &lt;span class=&quot;error&quot;&gt;&amp;#91;Deadlock found when trying to get lock; Try restarting transaction message from server: &amp;quot;Deadlock found when trying to get lock; Try restarting transaction&amp;quot;&amp;#93;&lt;/span&gt;; nested exception is java.sql.SQLException: Deadlock found when trying to get lock; Try restarting transaction message from server: &quot;Deadlock found when trying to get lock; Try restarting transaction&quot;&lt;/p&gt;

&lt;p&gt;I believe it should instead result in org.springframework.dao.CannotAcquireLockException, which could be achieved by adding&lt;/p&gt;

&lt;p&gt;&amp;lt;property name=&quot;cannotAcquireLockCodes&quot;&amp;gt;&amp;lt;value&amp;gt;1213&amp;lt;/value&amp;gt;&amp;lt;/property&amp;gt;&lt;/p&gt;

&lt;p&gt;to the MySQL bean in sql-error-codes.xml&lt;/p&gt;</description>
            <key id="11181">SPR-733</key>
            <summary>Spring doesn&apos;t recognize MySQL deadlock exceptions</summary>
                <type id="1" iconUrl="https://jira.spring.io/images/icons/issuetypes/bug.png">Bug</type>
                                            <priority id="3" iconUrl="https://jira.spring.io/images/icons/priorities/major.png">Major</priority>
                        <status id="6" iconUrl="https://jira.spring.io/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="juergen.hoeller">Juergen Hoeller</assignee>
                                    <reporter username="szegedia">Attila Szegedi</reporter>
                        <labels>
                    </labels>
                <created>Mon, 21 Feb 2005 21:20:56 +0000</created>
                <updated>Sun, 20 Mar 2005 03:49:50 +0000</updated>
                            <resolved>Sun, 20 Mar 2005 03:49:50 +0000</resolved>
                                    <version>1.1.5</version>
                                    <fixVersion>1.2 RC1</fixVersion>
                                    <component>Data</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                <comments>
                            <comment id="12392" author="szegedia" created="Mon, 21 Feb 2005 21:58:04 +0000"  >&lt;p&gt;Thinking more about it, it could also be a org.springframework.dao.DeadlockLoserDataAccessException. However, my feeling is that you should anyway make DeadlockLoserDataAccessException subclass of springframework.dao.ConcurrencyFailureException&lt;/p&gt;</comment>
                            <comment id="12467" author="juergen.hoeller" created="Mon, 28 Feb 2005 03:27:54 +0000"  >&lt;p&gt;We need to go through the error codes of the various databases again, to make sure that we throw consistent exceptions for the same error conditions.&lt;/p&gt;

&lt;p&gt;In particular, the semantics of CannotAcquireLockException vs DeadlockLoserDataAccessException need to be clarified.&lt;/p&gt;

&lt;p&gt;Juergen&lt;/p&gt;</comment>
                            <comment id="12614" author="juergen.hoeller" created="Sun, 20 Mar 2005 03:49:50 +0000"  >&lt;p&gt;Added as code for CannotAcquireLockException. DeadlockLoserDataAccessException is considered an even more specific exception that&apos;s supposed to be mapped on a custom basis.&lt;/p&gt;

&lt;p&gt;Juergen&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_10180" key="com.atlassian.jira.toolkit:dayslastcommented">
                        <customfieldname>Days since last comment</customfieldname>
                        <customfieldvalues>
                                        11 years, 41 weeks, 4 days ago
    
                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_10170" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>First Response Date</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Mon, 28 Feb 2005 03:27:54 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_10181" key="com.atlassian.jira.toolkit:lastusercommented">
                        <customfieldname>Last commented by a User</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>false</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_10182" key="com.atlassian.jira.toolkit:lastupdaterorcommenter">
                        <customfieldname>Last updater</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>tmarshall</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_10880" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i01ffj:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_10380" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>8377</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_10171" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                </customfields>
    </item>
</channel>
</rss>