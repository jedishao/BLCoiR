<!-- 
RSS generated by JIRA (6.4.11#64026-sha1:78f6ec473a3f058bd5d6c30e9319c7ab376bdb9c) at Thu Dec 22 19:37:14 UTC 2016

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary add field=key&field=summary to the URL of your request.
For example:
https://jira.spring.io/si/jira.issueviews:issue-xml/SPR-2928/SPR-2928.xml?field=key&amp;field=summary
-->
<rss version="0.92" >
<channel>
    <title>Spring JIRA</title>
    <link>https://jira.spring.io</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>6.4.11</version>
        <build-number>64026</build-number>
        <build-date>25-08-2015</build-date>
    </build-info>

<item>
            <title>[SPR-2928] Problems with spring 2.0.2 and hibernate using schemaupdate=true</title>
                <link>https://jira.spring.io/browse/SPR-2928</link>
                <project id="10000" key="SPR">Spring Framework</project>
                    <description>

&lt;p&gt;loading the following application-context, causes the error message at the end.&lt;/p&gt;

&lt;p&gt;    &amp;lt;!-- ========================= GENERAL DEFINITIONS ========================= --&amp;gt;&lt;/p&gt;

&lt;p&gt;    &amp;lt;!-- Configurer that replaces $&lt;/p&gt;
{...}
&lt;p&gt; placeholders with values from a properties file --&amp;gt;&lt;br/&gt;
    &amp;lt;!-- (in this case, JDBC-related settings for the dataSource definition below) --&amp;gt;&lt;br/&gt;
    &amp;lt;bean id=&quot;propertyConfigurer&quot; class=&quot;org.springframework.beans.factory.config.PropertyPlaceholderConfigurer&quot;&amp;gt;&lt;br/&gt;
        &amp;lt;property name=&quot;location&quot;&amp;gt;&lt;br/&gt;
            &amp;lt;value&amp;gt;WEB-INF/jdbc.properties&amp;lt;/value&amp;gt;&lt;br/&gt;
        &amp;lt;/property&amp;gt;&lt;br/&gt;
    &amp;lt;/bean&amp;gt;&lt;/p&gt;

&lt;p&gt;    &amp;lt;!-- Message source for this context, loaded from localized &quot;messages_xx&quot; files --&amp;gt;&lt;br/&gt;
    &amp;lt;!--&lt;br/&gt;
    &amp;lt;bean id=&quot;messageSource&quot; class=&quot;org.springframework.context.support.ResourceBundleMessageSource&quot;&amp;gt;&lt;br/&gt;
        &amp;lt;property name=&quot;basename&quot;&amp;gt;&amp;lt;value&amp;gt;/WEB-INF/messages&amp;lt;/value&amp;gt;&amp;lt;/property&amp;gt;&lt;br/&gt;
    &amp;lt;/bean&amp;gt;&lt;br/&gt;
    --&amp;gt;&lt;/p&gt;

&lt;p&gt;    &amp;lt;!-- ========================= RESOURCE DEFINITIONS ========================= --&amp;gt;&lt;/p&gt;

&lt;p&gt;    &amp;lt;!-- Local DataSource that works in any environment --&amp;gt;&lt;br/&gt;
    &amp;lt;bean id=&quot;dataSource&quot; class=&quot;org.springframework.jdbc.datasource.DriverManagerDataSource&quot;&amp;gt;&lt;br/&gt;
        &amp;lt;property name=&quot;driverClassName&quot;&amp;gt;&lt;br/&gt;
            &amp;lt;value&amp;gt;$&lt;/p&gt;
{jdbc.driverClassName}
&lt;p&gt;&amp;lt;/value&amp;gt;&lt;br/&gt;
        &amp;lt;/property&amp;gt;&lt;br/&gt;
        &amp;lt;property name=&quot;url&quot;&amp;gt;&lt;br/&gt;
            &amp;lt;value&amp;gt;$&lt;/p&gt;
{jdbc.url}
&lt;p&gt;&amp;lt;/value&amp;gt;&lt;br/&gt;
        &amp;lt;/property&amp;gt;&lt;br/&gt;
        &amp;lt;property name=&quot;username&quot;&amp;gt;&lt;br/&gt;
            &amp;lt;value&amp;gt;$&lt;/p&gt;
{jdbc.username}
&lt;p&gt;&amp;lt;/value&amp;gt;&lt;br/&gt;
        &amp;lt;/property&amp;gt;&lt;br/&gt;
        &amp;lt;property name=&quot;password&quot;&amp;gt;&lt;br/&gt;
            &amp;lt;value&amp;gt;$&lt;/p&gt;
{jdbc.password}
&lt;p&gt;&amp;lt;/value&amp;gt;&lt;br/&gt;
        &amp;lt;/property&amp;gt;&lt;br/&gt;
    &amp;lt;/bean&amp;gt;&lt;/p&gt;

&lt;p&gt;    &amp;lt;!-- Hibernate SessionFactory --&amp;gt;&lt;br/&gt;
    &amp;lt;bean id=&quot;sessionFactory&quot; class=&quot;org.springframework.orm.hibernate3.LocalSessionFactoryBean&quot;&amp;gt;&lt;br/&gt;
        &amp;lt;property name=&quot;dataSource&quot; ref=&quot;dataSource&quot;/&amp;gt;&lt;br/&gt;
        &amp;lt;property name=&quot;mappingResources&quot;&amp;gt;&lt;br/&gt;
            &amp;lt;value&amp;gt;library.hbm.xml&amp;lt;/value&amp;gt;&lt;br/&gt;
        &amp;lt;/property&amp;gt;&lt;br/&gt;
        &amp;lt;property name=&quot;hibernateProperties&quot;&amp;gt;&lt;br/&gt;
            &amp;lt;props&amp;gt;&lt;br/&gt;
                &amp;lt;prop key=&quot;hibernate.dialect&quot;&amp;gt;$&lt;/p&gt;
{hibernate.dialect}
&lt;p&gt;&amp;lt;/prop&amp;gt;&lt;br/&gt;
                &amp;lt;!--				&amp;lt;prop key=&quot;hibernate.show_sql&quot;&amp;gt;true&amp;lt;/prop&amp;gt;--&amp;gt;&lt;br/&gt;
                &amp;lt;!--				&amp;lt;prop key=&quot;hibernate.generate_statistics&quot;&amp;gt;true&amp;lt;/prop&amp;gt;--&amp;gt;&lt;br/&gt;
                &amp;lt;prop key=&quot;hibernate.query.substitutions&quot;&amp;gt;true 1, false 0, yes &apos;Y&apos;, no &apos;N&apos;&amp;lt;/prop&amp;gt;&lt;br/&gt;
                &amp;lt;prop key=&quot;hibernate.cache.use_second_level_cache&quot;&amp;gt;false&amp;lt;/prop&amp;gt;&lt;br/&gt;
                &amp;lt;prop key=&quot;hibernate.cache.use_query_cache&quot;&amp;gt;false&amp;lt;/prop&amp;gt;&lt;br/&gt;
            &amp;lt;/props&amp;gt;&lt;br/&gt;
        &amp;lt;/property&amp;gt;&lt;br/&gt;
        &amp;lt;property name=&quot;eventListeners&quot;&amp;gt;&lt;br/&gt;
            &amp;lt;map&amp;gt;&lt;br/&gt;
                &amp;lt;entry key=&quot;merge&quot;&amp;gt;&lt;br/&gt;
                    &amp;lt;bean class=&quot;org.springframework.orm.hibernate3.support.IdTransferringMergeEventListener&quot;/&amp;gt;&lt;br/&gt;
                &amp;lt;/entry&amp;gt;&lt;br/&gt;
            &amp;lt;/map&amp;gt;&lt;br/&gt;
        &amp;lt;/property&amp;gt;&lt;br/&gt;
        &amp;lt;property name=&quot;schemaUpdate&quot;&amp;gt;&lt;br/&gt;
            &amp;lt;value&amp;gt;true&amp;lt;/value&amp;gt;&lt;br/&gt;
        &amp;lt;/property&amp;gt;&lt;br/&gt;
    &amp;lt;/bean&amp;gt;&lt;/p&gt;

&lt;p&gt;    &amp;lt;!-- Transaction manager for a single Hibernate SessionFactory (alternative to JTA) --&amp;gt;&lt;br/&gt;
    &amp;lt;bean id=&quot;transactionManager&quot; class=&quot;org.springframework.orm.hibernate3.HibernateTransactionManager&quot;&amp;gt;&lt;br/&gt;
        &amp;lt;property name=&quot;sessionFactory&quot; ref=&quot;sessionFactory&quot;/&amp;gt;&lt;br/&gt;
    &amp;lt;/bean&amp;gt;&lt;/p&gt;

&lt;p&gt;    &amp;lt;!-- ========================= BUSINESS OBJECT DEFINITIONS ========================= --&amp;gt;&lt;/p&gt;

&lt;p&gt;    &amp;lt;!-- Library primary business object: Hibernate implementation --&amp;gt;&lt;br/&gt;
    &amp;lt;bean id=&quot;libraryTarget&quot; class=&quot;se.transrail.trains.persistence.HibernateLibraryDao&quot;&amp;gt;&lt;br/&gt;
        &amp;lt;property name=&quot;sessionFactory&quot;&amp;gt;&lt;br/&gt;
            &amp;lt;ref local=&quot;sessionFactory&quot;/&amp;gt;&lt;br/&gt;
        &amp;lt;/property&amp;gt;&lt;br/&gt;
    &amp;lt;/bean&amp;gt;&lt;/p&gt;

&lt;p&gt;    &amp;lt;!-- Transactional proxy for the Library primary business object --&amp;gt;&lt;br/&gt;
    &amp;lt;bean id=&quot;libraryService&quot; class=&quot;org.springframework.transaction.interceptor.TransactionProxyFactoryBean&quot;&amp;gt;&lt;br/&gt;
        &amp;lt;property name=&quot;transactionManager&quot;&amp;gt;&lt;br/&gt;
            &amp;lt;ref local=&quot;transactionManager&quot;/&amp;gt;&lt;br/&gt;
        &amp;lt;/property&amp;gt;&lt;br/&gt;
        &amp;lt;property name=&quot;target&quot;&amp;gt;&lt;br/&gt;
            &amp;lt;ref local=&quot;libraryTarget&quot;/&amp;gt;&lt;br/&gt;
        &amp;lt;/property&amp;gt;&lt;br/&gt;
        &amp;lt;property name=&quot;transactionAttributes&quot;&amp;gt;&lt;br/&gt;
            &amp;lt;props&amp;gt;&lt;br/&gt;
                &amp;lt;prop key=&quot;get*&quot;&amp;gt;PROPAGATION_REQUIRED,readOnly&amp;lt;/prop&amp;gt;&lt;br/&gt;
                &amp;lt;prop key=&quot;find*&quot;&amp;gt;PROPAGATION_REQUIRED,readOnly&amp;lt;/prop&amp;gt;&lt;br/&gt;
                &amp;lt;prop key=&quot;load*&quot;&amp;gt;PROPAGATION_REQUIRED,readOnly&amp;lt;/prop&amp;gt;&lt;br/&gt;
                &amp;lt;prop key=&quot;store*&quot;&amp;gt;PROPAGATION_REQUIRED&amp;lt;/prop&amp;gt;&lt;br/&gt;
                &amp;lt;prop key=&quot;delete*&quot;&amp;gt;PROPAGATION_REQUIRED&amp;lt;/prop&amp;gt;&lt;br/&gt;
            &amp;lt;/props&amp;gt;&lt;br/&gt;
        &amp;lt;/property&amp;gt;&lt;br/&gt;
    &amp;lt;/bean&amp;gt;&lt;/p&gt;


&lt;p&gt;Exception in thread &quot;main&quot; org.springframework.beans.factory.BeanCreationException: Error creating bean with name &apos;sessionFactory&apos; defined in file &lt;span class=&quot;error&quot;&gt;&amp;#91;/home/simonrydberg/projects/trains/web/WEB-INF/applicationContext-hibernate.xml&amp;#93;&lt;/span&gt;: Invocation of init method failed; nested exception is org.springframework.orm.hibernate3.HibernateSystemException: No local DataSource found for configuration - dataSource property must be set on LocalSessionFactoryBean; nested exception is org.hibernate.HibernateException: No local DataSource found for configuration - dataSource property must be set on LocalSessionFactoryBean&lt;br/&gt;
Caused by: org.springframework.orm.hibernate3.HibernateSystemException: No local DataSource found for configuration - dataSource property must be set on LocalSessionFactoryBean; nested exception is org.hibernate.HibernateException: No local DataSource found for configuration - dataSource property must be set on LocalSessionFactoryBean&lt;br/&gt;
Caused by: org.hibernate.HibernateException: No local DataSource found for configuration - dataSource property must be set on LocalSessionFactoryBean&lt;br/&gt;
	at org.springframework.orm.hibernate3.LocalDataSourceConnectionProvider.configure(LocalDataSourceConnectionProvider.java:49)&lt;br/&gt;
	at org.hibernate.connection.ConnectionProviderFactory.newConnectionProvider(ConnectionProviderFactory.java:124)&lt;br/&gt;
	at org.hibernate.connection.ConnectionProviderFactory.newConnectionProvider(ConnectionProviderFactory.java:56)&lt;br/&gt;
	at org.hibernate.cfg.SettingsFactory.createConnectionProvider(SettingsFactory.java:397)&lt;br/&gt;
	at org.hibernate.cfg.SettingsFactory.buildSettings(SettingsFactory.java:62)&lt;br/&gt;
	at org.hibernate.cfg.Configuration.buildSettings(Configuration.java:2002)&lt;br/&gt;
	at org.hibernate.cfg.Configuration.generateSchemaUpdateScript(Configuration.java:947)&lt;br/&gt;
	at org.springframework.orm.hibernate3.LocalSessionFactoryBean$3.doInHibernate(LocalSessionFactoryBean.java:934)&lt;br/&gt;
	at org.springframework.orm.hibernate3.HibernateTemplate.execute(HibernateTemplate.java:362)&lt;br/&gt;
	at org.springframework.orm.hibernate3.HibernateTemplate.execute(HibernateTemplate.java:328)&lt;br/&gt;
	at org.springframework.orm.hibernate3.LocalSessionFactoryBean.updateDatabaseSchema(LocalSessionFactoryBean.java:928)&lt;br/&gt;
	at org.springframework.orm.hibernate3.LocalSessionFactoryBean.afterSessionFactoryCreation(LocalSessionFactoryBean.java:826)&lt;br/&gt;
	at org.springframework.orm.hibernate3.AbstractSessionFactoryBean.afterPropertiesSet(AbstractSessionFactoryBean.java:133)&lt;br/&gt;
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1057)&lt;br/&gt;
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1024)&lt;br/&gt;
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:421)&lt;br/&gt;
	at org.springframework.beans.factory.support.AbstractBeanFactory$1.getObject(AbstractBeanFactory.java:245)&lt;br/&gt;
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:141)&lt;br/&gt;
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:242)&lt;br/&gt;
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:156)&lt;br/&gt;
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:270)&lt;br/&gt;
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:346)&lt;br/&gt;
	at org.springframework.context.support.FileSystemXmlApplicationContext.&amp;lt;init&amp;gt;(FileSystemXmlApplicationContext.java:89)&lt;br/&gt;
	at org.springframework.context.support.FileSystemXmlApplicationContext.&amp;lt;init&amp;gt;(FileSystemXmlApplicationContext.java:74)&lt;br/&gt;
	at se.transrail.trains.domain.railway.RailwayImport2.createDatabaseFromFile(RailwayImport2.java:44)&lt;br/&gt;
	at se.transrail.trains.domain.railway.RailwayImport2.main(RailwayImport2.java:36)&lt;br/&gt;
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)&lt;br/&gt;
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)&lt;br/&gt;
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)&lt;br/&gt;
	at java.lang.reflect.Method.invoke(Method.java:585)&lt;br/&gt;
	at com.intellij.rt.execution.application.AppMain.main(AppMain.java:90)&lt;/p&gt;

&lt;p&gt;I have tried to create a own LocalSessionFactoryBean:&lt;/p&gt;

&lt;p&gt;public class MyLSFB extends LocalSessionFactoryBean {&lt;br/&gt;
    protected void postProcessConfiguration(Configuration config) throws HibernateException &lt;/p&gt;
{
        DriverManagerDataSource dataSource = new DriverManagerDataSource();
        dataSource.setDriverClassName(&quot;org.gjt.mm.mysql.Driver&quot;);
        dataSource.setUrl(&quot;jdbc.url=jdbc:mysql://localhost:3306/database_name?autoReconnect=true&quot;);
        dataSource.setUsername(&quot;root&quot;);
        dataSource.setPassword(&quot;&quot;);
        this.setDataSource(dataSource);
    }

&lt;p&gt;and loading it instead of the default LocalSessionFactoryBean. Debugging it, it does come in to the method and creates and sets the datasource, but I still get the error-message...&lt;/p&gt;</description>
            <key id="15667">SPR-2928</key>
            <summary>Problems with spring 2.0.2 and hibernate using schemaupdate=true</summary>
                <type id="1" iconUrl="https://jira.spring.io/images/icons/issuetypes/bug.png">Bug</type>
                                            <priority id="3" iconUrl="https://jira.spring.io/images/icons/priorities/major.png">Major</priority>
                        <status id="5" iconUrl="https://jira.spring.io/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="3">Duplicate</resolution>
                                        <assignee username="juergen.hoeller">Juergen Hoeller</assignee>
                                    <reporter username="simpor">Simon Rydberg</reporter>
                        <labels>
                    </labels>
                <created>Thu, 7 Dec 2006 23:55:35 +0000</created>
                <updated>Tue, 19 Jun 2012 02:28:26 +0000</updated>
                            <resolved>Fri, 8 Dec 2006 05:54:05 +0000</resolved>
                                    <version>2.0.2</version>
                                                    <component>Data</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                <comments>
                            <comment id="21262" author="juergen.hoeller" created="Fri, 8 Dec 2006 05:54:05 +0000"  >&lt;p&gt;This has fortunately already been discovered. The fix is already available in the latest nightly snapshots (&lt;a href=&quot;http://www.springframework.org/snapshots&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://www.springframework.org/snapshots&lt;/a&gt;).&lt;/p&gt;

&lt;p&gt;FWIW, the problem only occurs with Hibernate 3.2.1, which is why it hasn&apos;t been discovered earlier...&lt;/p&gt;

&lt;p&gt;Juergen&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10000">
                    <name>Duplicate</name>
                                            <outwardlinks description="duplicates">
                                        <issuelink>
            <issuekey id="15628">SPR-2909</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                    </issuelinks>
                <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_10180" key="com.atlassian.jira.toolkit:dayslastcommented">
                        <customfieldname>Days since last comment</customfieldname>
                        <customfieldvalues>
                                        10 years, 3 weeks, 6 days ago
    
                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_10170" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>First Response Date</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Fri, 8 Dec 2006 05:54:05 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_10181" key="com.atlassian.jira.toolkit:lastusercommented">
                        <customfieldname>Last commented by a User</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>false</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_10182" key="com.atlassian.jira.toolkit:lastupdaterorcommenter">
                        <customfieldname>Last updater</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>tmarshall</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_10880" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0101b:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_10380" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>5883</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_10171" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                </customfields>
    </item>
</channel>
</rss>