<!-- 
RSS generated by JIRA (6.4.11#64026-sha1:78f6ec473a3f058bd5d6c30e9319c7ab376bdb9c) at Fri Dec 23 01:42:49 UTC 2016

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary add field=key&field=summary to the URL of your request.
For example:
https://jira.spring.io/si/jira.issueviews:issue-xml/LDAP-97/LDAP-97.xml?field=key&amp;field=summary
-->
<rss version="0.92" >
<channel>
    <title>Spring JIRA</title>
    <link>https://jira.spring.io</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>6.4.11</version>
        <build-number>64026</build-number>
        <build-date>25-08-2015</build-date>
    </build-info>

<item>
            <title>[LDAP-97] Escaping of weird characters in DistinguishedNames is inconsistent</title>
                <link>https://jira.spring.io/browse/LDAP-97</link>
                <project id="10071" key="LDAP">Spring LDAP</project>
                    <description>&lt;p&gt;I can create a DistinguishedName that contains a \r, I can bind and unbind with the given DN, but I cannot do a LdapTemplate.search() with a ParametrizedContextMapper where the search matches the entry with the weird dn even if the contextmapper doesn&apos;t even touch the DirContextAdapter. Not that I really want to put carriage returns in my DNs, but I guess this might be considered as a bug anyway.&lt;img class=&quot;emoticon&quot; src=&quot;https://jira.spring.io/images/icons/emoticons/smile.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/p&gt;

&lt;p&gt;Sample code that generates a org.springframework.ldap.BadLdapGrammarException:&lt;/p&gt;

&lt;p&gt;		DirContextAdapter ctx=new DirContextAdapter();&lt;br/&gt;
		ctx.addAttributeValue(&quot;objectclass&quot;, &quot;person&quot;);&lt;br/&gt;
		ctx.addAttributeValue(&quot;sn&quot;, &quot;lisadotter&quot;);&lt;br/&gt;
		DistinguishedName dn=new DistinguishedName();&lt;br/&gt;
		dn.add(&quot;cn&quot;,&quot;lisa \r lisadotter&quot;);&lt;br/&gt;
		try{&lt;br/&gt;
			ldapTemplate.bind(dn, ctx, null);&lt;/p&gt;

&lt;p&gt;			EqualsFilter filter = new EqualsFilter(&quot;sn&quot;, &quot;lisadotter&quot;);&lt;br/&gt;
			List foo = ldapTemplate.search(&quot;&quot;, filter.encode(), &lt;br/&gt;
					new ParameterizedContextMapper&amp;lt;String&amp;gt;(){&lt;br/&gt;
				public String mapFromContext(Object arg0)&lt;/p&gt;
				{
					return &quot;foo&quot;;
				}
&lt;p&gt;			});&lt;br/&gt;
		} finally &lt;/p&gt;
{
			ldapTemplate.unbind(dn);
		}


&lt;p&gt;Exception in thread &quot;main&quot; org.springframework.ldap.UncategorizedLdapException: Uncategorized exception occured during LDAP processing; nested exception is javax.naming.NamingException: problem generating object using object factory &lt;span class=&quot;error&quot;&gt;&amp;#91;Root exception is org.springframework.ldap.BadLdapGrammarException: Failed to parse DN; nested exception is org.springframework.ldap.core.TokenMgrError: Lexical error at line 1, column 9.  Encountered: &amp;quot;\r&amp;quot; (13), after : &amp;quot;&amp;quot;&amp;#93;&lt;/span&gt;; remaining name &apos;&apos;&lt;br/&gt;
Caused by: javax.naming.NamingException: problem generating object using object factory &lt;span class=&quot;error&quot;&gt;&amp;#91;Root exception is org.springframework.ldap.BadLdapGrammarException: Failed to parse DN; nested exception is org.springframework.ldap.core.TokenMgrError: Lexical error at line 1, column 9.  Encountered: &amp;quot;\r&amp;quot; (13), after : &amp;quot;&amp;quot;&amp;#93;&lt;/span&gt;; remaining name &apos;&apos;&lt;br/&gt;
	at com.sun.jndi.ldap.LdapSearchEnumeration.createItem(LdapSearchEnumeration.java:111)&lt;br/&gt;
	at com.sun.jndi.ldap.LdapNamingEnumeration.nextAux(LdapNamingEnumeration.java:256)&lt;br/&gt;
	at com.sun.jndi.ldap.LdapNamingEnumeration.nextImpl(LdapNamingEnumeration.java:236)&lt;br/&gt;
	at com.sun.jndi.ldap.LdapNamingEnumeration.next(LdapNamingEnumeration.java:184)&lt;br/&gt;
	at org.springframework.ldap.core.LdapTemplate.search(LdapTemplate.java:275)&lt;br/&gt;
	at org.springframework.ldap.core.LdapTemplate.search(LdapTemplate.java:234)&lt;br/&gt;
	at org.springframework.ldap.core.LdapTemplate.search(LdapTemplate.java:583)&lt;br/&gt;
	at org.springframework.ldap.core.LdapTemplate.search(LdapTemplate.java:497)&lt;br/&gt;
	at org.springframework.ldap.core.LdapTemplate.search(LdapTemplate.java:447)&lt;br/&gt;
	at org.springframework.ldap.core.LdapTemplate.search(LdapTemplate.java:468)&lt;br/&gt;
	at org.springframework.ldap.core.LdapTemplate.search(LdapTemplate.java:486)&lt;br/&gt;
	at se.kth.infosys.ldapperformance.TestBug.main(TestBug.java:39)&lt;br/&gt;
Caused by: org.springframework.ldap.BadLdapGrammarException: Failed to parse DN; nested exception is org.springframework.ldap.core.TokenMgrError: Lexical error at line 1, column 9.  Encountered: &quot;\r&quot; (13), after : &quot;&quot;&lt;br/&gt;
	at org.springframework.ldap.core.DistinguishedName.parse(DistinguishedName.java:145)&lt;br/&gt;
	at org.springframework.ldap.core.DistinguishedName.&amp;lt;init&amp;gt;(DistinguishedName.java:100)&lt;br/&gt;
	at org.springframework.ldap.core.DirContextAdapter.&amp;lt;init&amp;gt;(DirContextAdapter.java:139)&lt;br/&gt;
	at org.springframework.ldap.core.support.DefaultDirObjectFactory.getObjectInstance(DefaultDirObjectFactory.java:61)&lt;br/&gt;
	at javax.naming.spi.DirectoryManager.createObjectFromFactories(DirectoryManager.java:218)&lt;br/&gt;
	at javax.naming.spi.DirectoryManager.getObjectInstance(DirectoryManager.java:197)&lt;br/&gt;
	at com.sun.jndi.ldap.LdapSearchEnumeration.createItem(LdapSearchEnumeration.java:105)&lt;br/&gt;
	... 11 more&lt;br/&gt;
Caused by: org.springframework.ldap.core.TokenMgrError: Lexical error at line 1, column 9.  Encountered: &quot;\r&quot; (13), after : &quot;&quot;&lt;br/&gt;
	at org.springframework.ldap.core.DnParserImplTokenManager.getNextToken(DnParserImplTokenManager.java:690)&lt;br/&gt;
	at org.springframework.ldap.core.DnParserImpl.jj_ntk(DnParserImpl.java:249)&lt;br/&gt;
	at org.springframework.ldap.core.DnParserImpl.attributeTypeAndValue(DnParserImpl.java:98)&lt;br/&gt;
	at org.springframework.ldap.core.DnParserImpl.rdn(DnParserImpl.java:58)&lt;br/&gt;
	at org.springframework.ldap.core.DnParserImpl.dn(DnParserImpl.java:23)&lt;br/&gt;
	at org.springframework.ldap.core.DistinguishedName.parse(DistinguishedName.java:139)&lt;br/&gt;
	... 17 more&lt;/p&gt;


&lt;p&gt;(I guess it is related to that a &quot;new DistinguishedName(&quot;cn=foo \r bar&quot;)&quot; will throw the same exception, but in that case I think it is pretty fair even if I would prefer a different behavior, since the constructor documentation says that the string should be a correct rdn.)&lt;/p&gt;</description>
                <environment></environment>
        <key id="19118">LDAP-97</key>
            <summary>Escaping of weird characters in DistinguishedNames is inconsistent</summary>
                <type id="1" iconUrl="https://jira.spring.io/images/icons/issuetypes/bug.png">Bug</type>
                                            <priority id="5" iconUrl="https://jira.spring.io/images/icons/priorities/trivial.png">Trivial</priority>
                        <status id="6" iconUrl="https://jira.spring.io/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="marthursson">Mattias Hellborg Arthursson</assignee>
                                    <reporter username="mea">Johanna</reporter>
                        <labels>
                    </labels>
                <created>Fri, 11 Jan 2008 01:46:49 +0000</created>
                <updated>Fri, 5 Feb 2016 21:20:48 +0000</updated>
                            <resolved>Tue, 21 Oct 2008 23:59:46 +0000</resolved>
                                    <version>1.2.1</version>
                                    <fixVersion>1.3.0-RC1</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                <comments>
                            <comment id="33903" author="marthursson" created="Tue, 25 Mar 2008 21:35:42 +0000"  >&lt;p&gt;It&apos;s kind of unclear, but the DistinguishedName RFC seems to allow this, so our parser should probably do so as well.&lt;/p&gt;</comment>
                            <comment id="40526" author="marthursson" created="Tue, 21 Oct 2008 23:59:46 +0000"  >&lt;p&gt;On closer examination of the relevant RFCs it turned out that the LDAP v2 DN RFC explicitly forbids &apos;\r&apos;, whereas the LDAP v3 DN RFC allows it. We should be as compliant as possible so we&apos;re now allowing &apos;\r&apos;.&lt;/p&gt;</comment>
                            <comment id="123872" author="rwinch" created="Fri, 5 Feb 2016 21:20:48 +0000"  >&lt;p&gt;This issue has been migrated to &lt;a href=&quot;https://github.com/spring-projects/spring-ldap/issues/137&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://github.com/spring-projects/spring-ldap/issues/137&lt;/a&gt;&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_10170" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>First Response Date</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Tue, 25 Mar 2008 21:35:42 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_10280" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>24963</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_10880" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i055pj:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_10380" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>30131</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_10381" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Ranking</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>27101</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_10171" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                </customfields>
    </item>
</channel>
</rss>