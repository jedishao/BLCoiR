<!-- 
RSS generated by JIRA (6.4.11#64026-sha1:78f6ec473a3f058bd5d6c30e9319c7ab376bdb9c) at Fri Dec 23 03:32:29 UTC 2016

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary add field=key&field=summary to the URL of your request.
For example:
https://jira.spring.io/si/jira.issueviews:issue-xml/ROO-1659/ROO-1659.xml?field=key&amp;field=summary
-->
<rss version="0.92" >
<channel>
    <title>Spring JIRA</title>
    <link>https://jira.spring.io</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>6.4.11</version>
        <build-number>64026</build-number>
        <build-date>25-08-2015</build-date>
    </build-info>

<item>
            <title>[ROO-1659] GET request for non existing entity should create a 404</title>
                <link>https://jira.spring.io/browse/ROO-1659</link>
                <project id="10340" key="ROO">Spring Roo</project>
                    <description>&lt;p&gt;A GET request for a JSON representation of a non existing resource should create an HTTP 404 (not found) response. It currently creates a null point exception. The code is:&lt;/p&gt;


&lt;p&gt;    public String PlayerController.showJson(@PathVariable(&quot;id&quot;) Long id) &lt;/p&gt;
{
        return Player.findPlayer(id).toJson();
    }

&lt;p&gt;If there is no player the result of findPlayer(id) is null and a NPE is thrown:&lt;/p&gt;


&lt;p&gt;wolff@wolff-desktop:~$ curl --header &quot;Accept: application/json&quot; &lt;a href=&quot;http://localhost:5544/MeinRooProjekt/players/2&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://localhost:5544/MeinRooProjekt/players/2&lt;/a&gt;&lt;br/&gt;
&amp;lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&amp;gt;&lt;br/&gt;
&amp;lt;!DOCTYPE HTML SYSTEM &quot;about:legacy-compat&quot;&amp;gt;&lt;br/&gt;
...&lt;/p&gt;

&lt;p&gt;This is text of the HTML that is returned&lt;/p&gt;

&lt;p&gt;Internal Error&lt;/p&gt;

&lt;p&gt;Sorry, we encountered an internal error.&lt;/p&gt;

&lt;p&gt;Details&lt;/p&gt;

&lt;p&gt;com.springsource.meinrooprojekt.domain.Player_Roo_Json.ajc$interMethodDispatch1$com_springsource_meinrooprojekt_domain_Player_Roo_Json$com_springsource_meinrooprojekt_domain_Player$toJson(Player_Roo_Json.aj)&lt;br/&gt;
com.springsource.meinrooprojekt.web.PlayerController_Roo_Controller.ajc$interMethod$com_springsource_meinrooprojekt_web_PlayerController_Roo_Controller$com_springsource_meinrooprojekt_web_PlayerController$showJson(PlayerController_Roo_Controller.aj:110)&lt;br/&gt;
com.springsource.meinrooprojekt.web.PlayerController.showJson(PlayerController.java:1)&lt;br/&gt;
sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)&lt;br/&gt;
sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:57)&lt;br/&gt;
sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)&lt;br/&gt;
java.lang.reflect.Method.invoke(Method.java:616)&lt;br/&gt;
org.springframework.web.bind.annotation.support.HandlerMethodInvoker.invokeHandlerMethod(HandlerMethodInvoker.java:176)&lt;br/&gt;
org.springframework.web.servlet.mvc.annotation.AnnotationMethodHandlerAdapter.invokeHandlerMethod(AnnotationMethodHandlerAdapter.java:426)&lt;br/&gt;
org.springframework.web.servlet.mvc.annotation.AnnotationMethodHandlerAdapter.handle(AnnotationMethodHandlerAdapter.java:414)&lt;br/&gt;
org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:790)&lt;br/&gt;
org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:719)&lt;br/&gt;
org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:644)&lt;br/&gt;
org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:549)&lt;br/&gt;
javax.servlet.http.HttpServlet.service(HttpServlet.java:617)&lt;br/&gt;
javax.servlet.http.HttpServlet.service(HttpServlet.java:717)&lt;br/&gt;
org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:290)&lt;br/&gt;
org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:206)&lt;br/&gt;
org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:88)&lt;br/&gt;
org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:76)&lt;br/&gt;
org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:235)&lt;br/&gt;
org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:206)&lt;br/&gt;
org.springframework.web.filter.HiddenHttpMethodFilter.doFilterInternal(HiddenHttpMethodFilter.java:77)&lt;br/&gt;
org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:76)&lt;br/&gt;
org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:235)&lt;br/&gt;
org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:206)&lt;br/&gt;
org.springframework.orm.jpa.support.OpenEntityManagerInViewFilter.doFilterInternal(OpenEntityManagerInViewFilter.java:113)&lt;br/&gt;
org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:76)&lt;br/&gt;
org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:235)&lt;br/&gt;
org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:206)&lt;br/&gt;
org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:233)&lt;br/&gt;
org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:191)&lt;br/&gt;
com.springsource.insight.collection.tcserver.request.HttpRequestOperationCollectionValve.invoke(HttpRequestOperationCollectionValve.java:65)&lt;br/&gt;
org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:127)&lt;br/&gt;
org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:102)&lt;br/&gt;
org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:109)&lt;br/&gt;
org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:298)&lt;br/&gt;
org.apache.coyote.http11.Http11Processor.process(Http11Processor.java:857)&lt;br/&gt;
org.apache.coyote.http11.Http11Protocol$Http11ConnectionHandler.process(Http11Protocol.java:588)&lt;br/&gt;
org.apache.tomcat.util.net.JIoEndpoint$SocketProcessor.run(JIoEndpoint.java:409)&lt;br/&gt;
java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1110)&lt;br/&gt;
java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:603)&lt;br/&gt;
java.lang.Thread.run(Thread.java:636)&lt;/p&gt;
</description>
                <environment></environment>
        <key id="34592">ROO-1659</key>
            <summary>GET request for non existing entity should create a 404</summary>
                <type id="1" iconUrl="https://jira.spring.io/images/icons/issuetypes/bug.png">Bug</type>
                                            <priority id="4" iconUrl="https://jira.spring.io/images/icons/priorities/minor.png">Minor</priority>
                        <status id="5" iconUrl="https://jira.spring.io/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="8">Complete</resolution>
                                        <assignee username="sschmidt">Stefan Schmidt</assignee>
                                    <reporter username="eberhardwolff">Eberhard Wolff</reporter>
                        <labels>
                    </labels>
                <created>Sun, 31 Oct 2010 06:47:48 +0000</created>
                <updated>Mon, 9 May 2011 02:46:18 +0000</updated>
                            <resolved>Tue, 2 Nov 2010 02:17:03 +0000</resolved>
                                                    <fixVersion>1.1.1.RELEASE</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                <comments>
                            <comment id="60169" author="sschmidt" created="Tue, 2 Nov 2010 02:17:03 +0000"  >&lt;p&gt;Complete with commit 5f09dced6b5452b0ceef254bd3dc47685d960671. Introduced Spring&apos;s ResponseEntity into the relevant method. Example:&lt;/p&gt;

&lt;p/&gt;
&lt;div id=&quot;syntaxplugin&quot; class=&quot;syntaxplugin&quot; style=&quot;border: 1px dashed #bbb; border-radius: 5px !important; overflow: auto; max-height: 30em;&quot;&gt;
&lt;table cellspacing=&quot;0&quot; cellpadding=&quot;0&quot; border=&quot;0&quot; width=&quot;100%&quot; style=&quot;font-size: 1em; line-height: 1.4em !important; font-weight: normal; font-style: normal; color: black;&quot;&gt;
		&lt;tbody &gt;
				&lt;tr id=&quot;syntaxplugin_code_and_gutter&quot;&gt;
						&lt;td  style=&quot; line-height: 1.4em !important; padding: 0em; vertical-align: top;&quot;&gt;
					&lt;pre style=&quot;font-size: 1em; margin: 0 10px;  margin-top: 10px;   width: auto; padding: 0;&quot;&gt;&lt;span style=&quot;color: black; font-family: &apos;Consolas&apos;, &apos;Bitstream Vera Sans Mono&apos;, &apos;Courier New&apos;, Courier, monospace !important;&quot;&gt;@RequestMapping(value = &quot;/{id}&quot;, method = RequestMethod.GET, headers = &quot;Accept=application/json&quot;)&lt;/span&gt;&lt;/pre&gt;
			&lt;/td&gt;
		&lt;/tr&gt;
				&lt;tr id=&quot;syntaxplugin_code_and_gutter&quot;&gt;
						&lt;td  style=&quot; line-height: 1.4em !important; padding: 0em; vertical-align: top;&quot;&gt;
					&lt;pre style=&quot;font-size: 1em; margin: 0 10px;   width: auto; padding: 0;&quot;&gt;&lt;span style=&quot;color: black; font-family: &apos;Consolas&apos;, &apos;Bitstream Vera Sans Mono&apos;, &apos;Courier New&apos;, Courier, monospace !important;&quot;&gt;@ResponseBody&lt;/span&gt;&lt;/pre&gt;
			&lt;/td&gt;
		&lt;/tr&gt;
				&lt;tr id=&quot;syntaxplugin_code_and_gutter&quot;&gt;
						&lt;td  style=&quot; line-height: 1.4em !important; padding: 0em; vertical-align: top;&quot;&gt;
					&lt;pre style=&quot;font-size: 1em; margin: 0 10px;   width: auto; padding: 0;&quot;&gt;&lt;span style=&quot;color: black; font-family: &apos;Consolas&apos;, &apos;Bitstream Vera Sans Mono&apos;, &apos;Courier New&apos;, Courier, monospace !important;&quot;&gt;public Object showJson(@PathVariable(&quot;id&quot;) Long id) {&lt;/span&gt;&lt;/pre&gt;
			&lt;/td&gt;
		&lt;/tr&gt;
				&lt;tr id=&quot;syntaxplugin_code_and_gutter&quot;&gt;
						&lt;td  style=&quot; line-height: 1.4em !important; padding: 0em; vertical-align: top;&quot;&gt;
					&lt;pre style=&quot;font-size: 1em; margin: 0 10px;   width: auto; padding: 0;&quot;&gt;&lt;span style=&quot;color: black; font-family: &apos;Consolas&apos;, &apos;Bitstream Vera Sans Mono&apos;, &apos;Courier New&apos;, Courier, monospace !important;&quot;&gt;        Owner owner = Owner.findOwner(id);&lt;/span&gt;&lt;/pre&gt;
			&lt;/td&gt;
		&lt;/tr&gt;
				&lt;tr id=&quot;syntaxplugin_code_and_gutter&quot;&gt;
						&lt;td  style=&quot; line-height: 1.4em !important; padding: 0em; vertical-align: top;&quot;&gt;
					&lt;pre style=&quot;font-size: 1em; margin: 0 10px;   width: auto; padding: 0;&quot;&gt;&lt;span style=&quot;color: black; font-family: &apos;Consolas&apos;, &apos;Bitstream Vera Sans Mono&apos;, &apos;Courier New&apos;, Courier, monospace !important;&quot;&gt;        if (owner == null) {&lt;/span&gt;&lt;/pre&gt;
			&lt;/td&gt;
		&lt;/tr&gt;
				&lt;tr id=&quot;syntaxplugin_code_and_gutter&quot;&gt;
						&lt;td  style=&quot; line-height: 1.4em !important; padding: 0em; vertical-align: top;&quot;&gt;
					&lt;pre style=&quot;font-size: 1em; margin: 0 10px;   width: auto; padding: 0;&quot;&gt;&lt;span style=&quot;color: black; font-family: &apos;Consolas&apos;, &apos;Bitstream Vera Sans Mono&apos;, &apos;Courier New&apos;, Courier, monospace !important;&quot;&gt;            return new ResponseEntity&amp;lt;String&amp;gt;(HttpStatus.NOT_FOUND);&lt;/span&gt;&lt;/pre&gt;
			&lt;/td&gt;
		&lt;/tr&gt;
				&lt;tr id=&quot;syntaxplugin_code_and_gutter&quot;&gt;
						&lt;td  style=&quot; line-height: 1.4em !important; padding: 0em; vertical-align: top;&quot;&gt;
					&lt;pre style=&quot;font-size: 1em; margin: 0 10px;   width: auto; padding: 0;&quot;&gt;&lt;span style=&quot;color: black; font-family: &apos;Consolas&apos;, &apos;Bitstream Vera Sans Mono&apos;, &apos;Courier New&apos;, Courier, monospace !important;&quot;&gt;        }&lt;/span&gt;&lt;/pre&gt;
			&lt;/td&gt;
		&lt;/tr&gt;
				&lt;tr id=&quot;syntaxplugin_code_and_gutter&quot;&gt;
						&lt;td  style=&quot; line-height: 1.4em !important; padding: 0em; vertical-align: top;&quot;&gt;
					&lt;pre style=&quot;font-size: 1em; margin: 0 10px;   width: auto; padding: 0;&quot;&gt;&lt;span style=&quot;color: black; font-family: &apos;Consolas&apos;, &apos;Bitstream Vera Sans Mono&apos;, &apos;Courier New&apos;, Courier, monospace !important;&quot;&gt;        return owner.toJson();&lt;/span&gt;&lt;/pre&gt;
			&lt;/td&gt;
		&lt;/tr&gt;
				&lt;tr id=&quot;syntaxplugin_code_and_gutter&quot;&gt;
						&lt;td  style=&quot; line-height: 1.4em !important; padding: 0em; vertical-align: top;&quot;&gt;
					&lt;pre style=&quot;font-size: 1em; margin: 0 10px;   margin-bottom: 10px;  width: auto; padding: 0;&quot;&gt;&lt;span style=&quot;color: black; font-family: &apos;Consolas&apos;, &apos;Bitstream Vera Sans Mono&apos;, &apos;Courier New&apos;, Courier, monospace !important;&quot;&gt;}&lt;/span&gt;&lt;/pre&gt;
			&lt;/td&gt;
		&lt;/tr&gt;
			&lt;/tbody&gt;
&lt;/table&gt;
&lt;/div&gt;
&lt;p/&gt;</comment>
                            <comment id="66088" author="mikeshi" created="Sat, 7 May 2011 22:44:25 +0000"  >&lt;p&gt;It does not return the 404 again at 1.1.4 Snapshot when I access a non existing entiry, please take a look.&lt;/p&gt;

&lt;p&gt;I reviewed the source, it seems caused by &lt;b&gt;Owner.findOwner(id)&lt;/b&gt;, if id does not exist, the &lt;b&gt;EmptyResultDataAccessException&lt;/b&gt; will be thrown, and the next &lt;b&gt;owner == null&lt;/b&gt; will never be executed. I believe we should add a try catch block here.&lt;/p&gt;</comment>
                            <comment id="66099" author="sschmidt" created="Sun, 8 May 2011 16:14:42 +0000"  >&lt;p&gt;Mike,&lt;/p&gt;

&lt;p&gt;It appears the behaviour of the exception translation has changed somewhat in the meantime. Can you please open a new ticket for this?&lt;/p&gt;

&lt;p&gt;-Stefan&lt;/p&gt;</comment>
                            <comment id="66101" author="sschmidt" created="Sun, 8 May 2011 17:39:59 +0000"  >&lt;p&gt;Hi Mike,&lt;/p&gt;

&lt;p&gt;I just tested this with 1.1.4.BUILD-SNAPSHOT and am having trouble replicating your scenario. Here are the steps I followed:&lt;/p&gt;

&lt;p&gt;1. roo&amp;gt; script clinic.roo&lt;br/&gt;
2. roo&amp;gt; json all&lt;br/&gt;
3. mvn jetty:run&lt;/p&gt;

&lt;p&gt;in detached shell:&lt;/p&gt;

&lt;p&gt;curl -H &quot;Accept: application/json&quot; &lt;a href=&quot;http://localhost:8080/petclinic/owners/2&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://localhost:8080/petclinic/owners/2&lt;/a&gt; -i&lt;br/&gt;
HTTP/1.1 404 Not Found&lt;br/&gt;
Content-Type: application/text&lt;br/&gt;
Content-Length: 0&lt;br/&gt;
Server: Jetty(7.3.0.v20110203)&lt;/p&gt;

&lt;p&gt;This clearly returns the 404 status code. Note, Tomcat does wrap 404 messages automatically in a HTML message. &lt;/p&gt;

&lt;p&gt;If you open a new ticket, please attach the exact steps to reproduce.&lt;/p&gt;
</comment>
                            <comment id="66107" author="mikeshi" created="Sun, 8 May 2011 23:34:30 +0000"  >&lt;p&gt;OK, I know the reason now. Just modify the clinic.roo, update the provider from DATANUCLEUS to HIBERNATE, after generating the source, do &quot;mvn test&quot;&lt;/p&gt;</comment>
                            <comment id="66118" author="mikeshi" created="Mon, 9 May 2011 02:46:18 +0000"  >&lt;p&gt;Sorry, just like the &lt;a href=&quot;https://jira.spring.io/browse/ROO-2341&quot; title=&quot;Web view and JSON view inconsistent.  JSON view should use deepSerialize() or allow option to&quot; class=&quot;issue-link&quot; data-issue-key=&quot;ROO-2341&quot;&gt;&lt;del&gt;ROO-2341&lt;/del&gt;&lt;/a&gt;, after delete the last version roo and unzip a new one (not unzip to the last version and overwrite it), the bug does not raise again.&lt;/p&gt;

&lt;p&gt;I am very sorry about it. It is a good lesson that never overwrite the old version, but delete the old one and unzip new one. Otherwise, some strange behavors will appear.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_10170" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>First Response Date</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Tue, 2 Nov 2010 02:17:03 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_10280" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>21612</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_10880" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i045dr:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_10380" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>24246</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_10381" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Ranking</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>20998</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_10171" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                </customfields>
    </item>
</channel>
</rss>