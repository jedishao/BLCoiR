<!-- 
RSS generated by JIRA (6.4.11#64026-sha1:78f6ec473a3f058bd5d6c30e9319c7ab376bdb9c) at Fri Dec 23 03:03:44 UTC 2016

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary add field=key&field=summary to the URL of your request.
For example:
https://jira.spring.io/si/jira.issueviews:issue-xml/ROO-996/ROO-996.xml?field=key&amp;field=summary
-->
<rss version="0.92" >
<channel>
    <title>Spring JIRA</title>
    <link>https://jira.spring.io</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>6.4.11</version>
        <build-number>64026</build-number>
        <build-date>25-08-2015</build-date>
    </build-info>

<item>
            <title>[ROO-996] Appengine does not process .jspx files</title>
                <link>https://jira.spring.io/browse/ROO-996</link>
                <project id="10340" key="ROO">Spring Roo</project>
                    <description>&lt;p&gt;I created a very simple application, and in this case opted not to go for GWT but instead wanted to have a regular spring-mvc setup.&lt;/p&gt;

&lt;hr /&gt;
&lt;p&gt;project nl.enhance.gaejspx&lt;br/&gt;
persistence setup --provider DATANUCLEUS --database GOOGLE_APP_ENGINE &lt;br/&gt;
entity --class ~.domain.Book&lt;br/&gt;
field string name&lt;br/&gt;
controller all --package ~.web&lt;br/&gt;
quit&lt;/p&gt;
&lt;hr /&gt;

&lt;p&gt;After that, I corrected appengine-web.xml to contain the correct project name to match my gaejspx.appspot.com and deployed the application by using mvn gae:deploy&lt;/p&gt;

&lt;p&gt;When visiting the homepage, I can see that appengine is not processing the .jspx files, e.g. it returns output that looks like this:&lt;/p&gt;

&lt;p&gt;&amp;lt;html &lt;br/&gt;
 	xmlns:jsp=&quot;http://java.sun.com/JSP/Page&quot;&lt;br/&gt;
	xmlns:c=&quot;http://java.sun.com/jsp/jstl/core&quot;&lt;br/&gt;
	xmlns:tiles=&quot;http://tiles.apache.org/tags-tiles&quot;&lt;br/&gt;
	xmlns:form=&quot;http://www.springframework.org/tags/form&quot;&lt;br/&gt;
	xmlns:spring=&quot;http://www.springframework.org/tags&quot;&lt;br/&gt;
	xmlns:util=&quot;urn:jsptagdir:/WEB-INF/tags/util&quot; &amp;gt;  &lt;/p&gt;

&lt;p&gt;	&amp;lt;jsp:directive.page contentType=&quot;text/html;charset=UTF-8&quot; /&amp;gt;  &lt;/p&gt;

&lt;hr /&gt;

&lt;p&gt;Etc etc... None of the taglibs are processed. Appengine &lt;/p&gt;

&lt;p&gt;A sidenote: without adding &amp;lt;jsp:directive.page isELIgnored=&quot;false&quot;/&amp;gt; to the main layout, JSTL will not be evaluated by appengine. This is a known issue in the GAE-java community. It is not required to deploy jstl.jar, I think it is provided at runtime by default.&lt;/p&gt;

&lt;p&gt;Sidenote #2: the resource servlet approach may need to be different on appengine as well as Appengine is very picky about how static files are served. See &lt;a href=&quot;http://code.google.com/appengine/docs/java/config/appconfig.html#Static_Files_and_Resource_Files&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://code.google.com/appengine/docs/java/config/appconfig.html#Static_Files_and_Resource_Files&lt;/a&gt; &lt;/p&gt;</description>
                <environment></environment>
        <key id="31767">ROO-996</key>
            <summary>Appengine does not process .jspx files</summary>
                <type id="1" iconUrl="https://jira.spring.io/images/icons/issuetypes/bug.png">Bug</type>
                                            <priority id="4" iconUrl="https://jira.spring.io/images/icons/priorities/minor.png">Minor</priority>
                        <status id="6" iconUrl="https://jira.spring.io/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="8">Complete</resolution>
                                        <assignee username="sschmidt">Stefan Schmidt</assignee>
                                    <reporter username="hanswesterbeek">Hans Westerbeek</reporter>
                        <labels>
                    </labels>
                <created>Mon, 14 Jun 2010 05:50:56 +0000</created>
                <updated>Mon, 23 Aug 2010 17:30:46 +0000</updated>
                            <resolved>Wed, 16 Jun 2010 13:41:03 +0000</resolved>
                                    <version>1.1.0.M1</version>
                                    <fixVersion>1.1.0.M2</fixVersion>
                                    <component>WEB MVC</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                                <comments>
                            <comment id="54628" author="hanswesterbeek" created="Mon, 14 Jun 2010 06:06:01 +0000"  >&lt;p&gt;BTW this may well be an appengine issue but I&apos;ve created the issue here since it may also be caused by Roo&apos;s web.xml and the libs it ships to appengine&lt;/p&gt;</comment>
                            <comment id="54636" author="sschmidt" created="Mon, 14 Jun 2010 10:30:29 +0000"  >&lt;p&gt;Hans,&lt;/p&gt;

&lt;p&gt;Thanks for reporting this. Can you please try to include an empty dummy.jsp file into your WEB-INF/views folder? As far as I remember GAE uses the Jasper JSP engine and they have currently only .jsp enabled as trigger to get Jasper started. If you include an empty .jsp file it should get things going. The GAE team is aware of this. &lt;/p&gt;

&lt;p&gt;If this trick resolves the issue I&apos;ll contact them again to find out if they can enable .jspx triggering as well. I can also have the MVC addon temporarily include the empty jsp file into the user project until GAE is fixed.&lt;/p&gt;

&lt;p&gt;-Stefan&lt;/p&gt;</comment>
                            <comment id="54658" author="hanswesterbeek" created="Mon, 14 Jun 2010 19:31:06 +0000"  >&lt;p&gt;Hmm, tried this and it provokes an Exception in the &quot;compiling jsp&apos;s&quot; phase of deployment. See output.txt which I will attach in a minute.&lt;/p&gt;

&lt;p&gt;I think this is the most relevant part of the output, it seems like the datanucleus enhancer is kicking in when compiling jsp&apos;s and not liking what it finds &lt;img class=&quot;emoticon&quot; src=&quot;https://jira.spring.io/images/icons/emoticons/smile.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/p&gt;

&lt;hr /&gt;
&lt;p&gt; work dir=/var/folders/jC/jCBcvXSYEw4xU+MV-w8cR++++TI/&lt;del&gt;Tmp&lt;/del&gt;/appcfg1428978599717840658.tmp/WEB-INF/classes&lt;br/&gt;
    extension dir=/Library/Java/Extensions:/System/Library/Java/Extensions:/System/Library/Frameworks/JavaVM.framework/Versions/1.6.0/Home/lib/ext&lt;br/&gt;
    srcDir=/var/folders/jC/jCBcvXSYEw4xU+MV-w8cR++++TI/&lt;del&gt;Tmp&lt;/del&gt;/appcfg1428978599717840658.tmp/WEB-INF/classes&lt;br/&gt;
    compiler=extJavac&lt;br/&gt;
    include=org/apache/jsp/tag/web/form/page_tagx.java&lt;/p&gt;

&lt;p&gt;2010-06-15 10:24:58,148 &lt;span class=&quot;error&quot;&gt;&amp;#91;main&amp;#93;&lt;/span&gt; ERROR org.apache.jasper.compiler.Compiler - Error compiling file: /var/folders/jC/jCBcvXSYEw4xU+MV-w8cR++++TI/&lt;del&gt;Tmp&lt;/del&gt;/appcfg1428978599717840658.tmp/WEB-INF/classes//org/apache/jsp/tag/web/form/page_tagx.java     &lt;span class=&quot;error&quot;&gt;&amp;#91;javac&amp;#93;&lt;/span&gt; Compiling 1 source file&lt;br/&gt;
    &lt;span class=&quot;error&quot;&gt;&amp;#91;javac&amp;#93;&lt;/span&gt; error: Bad service configuration file, or exception thrown while constructing Processor object: javax.annotation.processing.Processor: Provider org.datanucleus.enhancer.EnhancerProcessor could not be instantiated: org.datanucleus.exceptions.NucleusException: Error reading manifest file &quot;jar:&lt;a href=&quot;file:/var/folders/jC/jCBcvXSYEw4xU+MV-w8cR++++TI/-Tmp-/appcfg1428978599717840658.tmp/WEB-INF/lib/datanucleus-appengine-1.0.7.final.jar!/plugin.xml&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;file:/var/folders/jC/jCBcvXSYEw4xU+MV-w8cR++++TI/-Tmp-/appcfg1428978599717840658.tmp/WEB-INF/lib/datanucleus-appengine-1.0.7.final.jar!/plugin.xml&lt;/a&gt;&quot;&lt;/p&gt;


&lt;p&gt;Exception in thread &quot;main&quot; org.apache.jasper.JasperException: Unable to compile class for JSP&lt;/p&gt;

&lt;p&gt;Generated servlet error:&lt;br/&gt;
    &lt;span class=&quot;error&quot;&gt;&amp;#91;javac&amp;#93;&lt;/span&gt; error: Bad service configuration file, or exception thrown while constructing Processor object: javax.annotation.processing.Processor: Provider org.datanucleus.enhancer.EnhancerProcessor could not be instantiated: org.datanucleus.exceptions.NucleusException: Error reading manifest file &quot;jar:&lt;a href=&quot;file:/var/folders/jC/jCBcvXSYEw4xU+MV-w8cR++++TI/-Tmp-/appcfg1428978599717840658.tmp/WEB-INF/lib/datanucleus-appengine-1.0.7.final.jar!/plugin.xml&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;file:/var/folders/jC/jCBcvXSYEw4xU+MV-w8cR++++TI/-Tmp-/appcfg1428978599717840658.tmp/WEB-INF/lib/datanucleus-appengine-1.0.7.final.jar!/plugin.xml&lt;/a&gt;&quot;&lt;/p&gt;
</comment>
                            <comment id="54659" author="hanswesterbeek" created="Mon, 14 Jun 2010 19:32:25 +0000"  >&lt;p&gt;BTW, where did you find out about this dummy.jsp trick?&lt;/p&gt;</comment>
                            <comment id="54660" author="hanswesterbeek" created="Mon, 14 Jun 2010 19:55:16 +0000"  >&lt;p&gt;In a different project (that does not use Roo), I have verified that placing a dummy.jsp file into WEB-INF/views indeed tricks GAE into compiling .jspx files.&lt;/p&gt;</comment>
                            <comment id="54678" author="sschmidt" created="Mon, 14 Jun 2010 21:22:30 +0000"  >&lt;p&gt;Thanks Hans for the details provided. I&apos;ll take a closer look at your logs tomorrow. &lt;/p&gt;

&lt;p&gt;Re the dummy.jsp trick, this was actually recommended by a Google engineer to us as a temp workaround. So they are definitely aware of the issue. I&apos;ll ping them again about it.&lt;/p&gt;</comment>
                            <comment id="54737" author="sschmidt" created="Wed, 16 Jun 2010 13:41:03 +0000"  >&lt;p&gt;Hans,&lt;/p&gt;

&lt;p&gt;I am closing this issue as complete given the original problem described here &apos;Appengine does not process .jspx files&apos; has been resolved with the dummy.jsp workaround. I have contacted the GAE team to find out if and when they will include jspx to be triggered directly in GAE.&lt;/p&gt;

&lt;p&gt;The other issue you raised here is the compilation problem of the Roo generated jspx files in a GAE environment. The problem is the use of jasper-runtime-5.0.28.jar in the current version of GAE alongside geronimo-jsp_2.1_spec-1.0.1.jar. This means that GAE have an API which allows JSP 2.1 and an implementation of Jasper which only supports JSP 2.0. Spring Roo generated MVC apps use a number of JSP 2.1 features (mostly EL related) which are supported by all current Web containers but not GAE. (see &lt;a href=&quot;http://code.google.com/p/googleappengine/issues/detail?id=1506&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://code.google.com/p/googleappengine/issues/detail?id=1506&lt;/a&gt;)&lt;/p&gt;

&lt;p&gt;As such GAE deployments are currently not supported by Roo generated Spring MVC applications. However, we are in contact with Google to resolve this issue as soon as possible. As a workaround Roo could ship a custom tag library (potentially with reduced functionality) to support JSP 2.0 EL. &lt;/p&gt;

&lt;p&gt;Another issue which needs to be resolved is the full support of the default GAE data store. This will require changes outlined in &lt;a href=&quot;https://jira.spring.io/browse/ROO-611&quot; title=&quot;Make @RooJavaBean more flexible&quot; class=&quot;issue-link&quot; data-issue-key=&quot;ROO-611&quot;&gt;ROO-611&lt;/a&gt; to fully support references between domain objects.&lt;/p&gt;

&lt;p&gt;I have raised &lt;a href=&quot;https://jira.spring.io/browse/ROO-1006&quot; title=&quot;Roo generated Spring MVC apps should be deployable on GAE&quot; class=&quot;issue-link&quot; data-issue-key=&quot;ROO-1006&quot;&gt;&lt;del&gt;ROO-1006&lt;/del&gt;&lt;/a&gt; to track the work on this.&lt;/p&gt;

</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10020">
                    <name>Related</name>
                                            <outwardlinks description="is related to">
                                        <issuelink>
            <issuekey id="31808">ROO-1006</issuekey>
        </issuelink>
                            </outwardlinks>
                                                                <inwardlinks description="is related to">
                                        <issuelink>
            <issuekey id="31808">ROO-1006</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="16708" name="output.txt" size="66346" author="hanswesterbeek" created="Mon, 14 Jun 2010 19:31:33 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_10170" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>First Response Date</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Mon, 14 Jun 2010 10:30:29 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_10280" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>22210</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_10880" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i04khb:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_10380" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>26692</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_10381" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Ranking</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>25620</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_10171" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                </customfields>
    </item>
</channel>
</rss>