<!-- 
RSS generated by JIRA (6.4.11#64026-sha1:78f6ec473a3f058bd5d6c30e9319c7ab376bdb9c) at Fri Dec 23 06:34:18 UTC 2016

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary add field=key&field=summary to the URL of your request.
For example:
https://jira.spring.io/si/jira.issueviews:issue-xml/SWF-282/SWF-282.xml?field=key&amp;field=summary
-->
<rss version="0.92" >
<channel>
    <title>Spring JIRA</title>
    <link>https://jira.spring.io</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>6.4.11</version>
        <build-number>64026</build-number>
        <build-date>25-08-2015</build-date>
    </build-info>

<item>
            <title>[SWF-282] ajax4jsf compatibility is broken</title>
                <link>https://jira.spring.io/browse/SWF-282</link>
                <project id="10050" key="SWF">Spring Web Flow</project>
                    <description>&lt;p&gt;A recent snapshot broke the ability to use SWF together with JSF and ajax4jsf. As soon as the ajax4jsf.jar is in the classpath the following exception is thrown:&lt;/p&gt;

&lt;p&gt;2007-04-05 18:07:37,366 ERROR &lt;span class=&quot;error&quot;&gt;&amp;#91;org.apache.myfaces.lifecycle.PhaseListenerManager&amp;#93;&lt;/span&gt; - &amp;lt;Exception in PhaseListener RESTORE_VIEW(1) afterPhase&amp;gt;&lt;br/&gt;
javax.faces.el.EvaluationException: FlowExecution is not bound to current thread context - has the flow ended or expired?&lt;br/&gt;
        at org.springframework.webflow.executor.jsf.FlowExecutionHolderUtils.getRequiredCurrentFlowExecution(FlowExecutionHolderUtils.java:74)&lt;br/&gt;
        at org.springframework.webflow.executor.jsf.DelegatingFlowVariableResolver.resolveVariable(DelegatingFlowVariableResolver.java:65)&lt;br/&gt;
        at org.ajax4jsf.framework.ajax.AjaxContext.getCurrentInstance(AjaxContext.java:150)&lt;br/&gt;
        at org.ajax4jsf.framework.renderer.AjaxPhaseListener.afterPhase(AjaxPhaseListener.java:76)&lt;br/&gt;
        at org.apache.myfaces.lifecycle.PhaseListenerManager.informPhaseListenersAfter(PhaseListenerManager.java:92)&lt;br/&gt;
        at org.apache.myfaces.lifecycle.LifecycleImpl.executePhase(LifecycleImpl.java:99)&lt;br/&gt;
        at org.apache.myfaces.lifecycle.LifecycleImpl.execute(LifecycleImpl.java:70)&lt;br/&gt;
        at javax.faces.webapp.FacesServlet.service(FacesServlet.java:139)&lt;br/&gt;
        at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:269)&lt;br/&gt;
        at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:188)&lt;br/&gt;
        at org.apache.catalina.core.ApplicationDispatcher.invoke(ApplicationDispatcher.java:691)&lt;br/&gt;
        at org.apache.catalina.core.ApplicationDispatcher.processRequest(ApplicationDispatcher.java:469)&lt;br/&gt;
        at org.apache.catalina.core.ApplicationDispatcher.doForward(ApplicationDispatcher.java:403)&lt;br/&gt;
        at org.apache.catalina.core.ApplicationDispatcher.forward(ApplicationDispatcher.java:301)&lt;br/&gt;
        at org.apache.jasper.runtime.PageContextImpl.doForward(PageContextImpl.java:691)&lt;br/&gt;
        at org.apache.jasper.runtime.PageContextImpl.forward(PageContextImpl.java:661)&lt;br/&gt;
        at org.apache.jsp.index_jsp._jspService(index_jsp.java:49)&lt;br/&gt;
        at org.apache.jasper.runtime.HttpJspBase.service(HttpJspBase.java:98)&lt;br/&gt;
        at javax.servlet.http.HttpServlet.service(HttpServlet.java:803)&lt;br/&gt;
        at org.apache.jasper.servlet.JspServletWrapper.service(JspServletWrapper.java:328)&lt;br/&gt;
        at org.apache.jasper.servlet.JspServlet.serviceJspFile(JspServlet.java:315)&lt;br/&gt;
        at org.apache.jasper.servlet.JspServlet.service(JspServlet.java:265)&lt;br/&gt;
        at javax.servlet.http.HttpServlet.service(HttpServlet.java:803)&lt;br/&gt;
        at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:269)&lt;br/&gt;
        at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:188)&lt;br/&gt;
        at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:210)&lt;br/&gt;
        at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:174)&lt;br/&gt;
        at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:127)&lt;br/&gt;
        at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:117)&lt;br/&gt;
        at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:108)&lt;br/&gt;
        at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:151)&lt;br/&gt;
        at org.apache.coyote.http11.Http11Processor.process(Http11Processor.java:870)&lt;br/&gt;
        at org.apache.coyote.http11.Http11BaseProtocol$Http11ConnectionHandler.processConnection(Http11BaseProtocol.java:665)&lt;br/&gt;
        at org.apache.tomcat.util.net.PoolTcpEndpoint.processSocket(PoolTcpEndpoint.java:528)&lt;br/&gt;
        at org.apache.tomcat.util.net.LeaderFollowerWorkerThread.runIt(LeaderFollowerWorkerThread.java:81)&lt;br/&gt;
        at org.apache.tomcat.util.threads.ThreadPool$ControlRunnable.run(ThreadPool.java:685)&lt;br/&gt;
        at java.lang.Thread.run(Thread.java:613)&lt;/p&gt;

&lt;p&gt;This is a major problem since ajax4jsf worked with a previous snapshot version of SWF 1.0.2, at least when Facelets are used as the view technology.&lt;/p&gt;</description>
            <key id="16535">SWF-282</key>
            <summary>ajax4jsf compatibility is broken</summary>
                <type id="1" iconUrl="https://jira.spring.io/images/icons/issuetypes/bug.png">Bug</type>
                                            <priority id="3" iconUrl="https://jira.spring.io/images/icons/priorities/major.png">Major</priority>
                        <status id="6" iconUrl="https://jira.spring.io/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="kdonald">Keith Donald</assignee>
                                    <reporter username="eickmeyer">Jens Eickmeyer</reporter>
                        <labels>
                    </labels>
                <created>Thu, 5 Apr 2007 03:56:05 +0000</created>
                <updated>Thu, 12 Apr 2007 17:57:52 +0000</updated>
                            <resolved>Fri, 6 Apr 2007 01:26:41 +0000</resolved>
                                    <version>1.0.2</version>
                                    <fixVersion>1.0.2</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                <comments>
                            <comment id="23094" author="eickmeyer" created="Thu, 5 Apr 2007 04:01:54 +0000"  >&lt;p&gt;The attachment contains the sellitem-jsf example with a pom.xml file to load all dependencies. There is a dependency to ajax4jsf and the configuration for using ajax4jsf in the web.xml file. The views do not contain any ajax4jsf related code. Even if the ajax4jsf filter is not configured the sellitem-jsf example does not work. Another way to proof this is by placing the ajax4jsf.jar in the WEB-INF/lib of the unmodified sellitem-jsf.war.&lt;/p&gt;</comment>
                            <comment id="23104" author="eickmeyer" created="Thu, 5 Apr 2007 19:49:22 +0000"  >&lt;p&gt;With the current SVN head ajax4jsf almost works again. Unfortunately, the end-state of the sellitem example causes an IllegalStateException which does not occur in the plain JSF example:&lt;/p&gt;

&lt;p&gt;2007-04-06 10:41:24,907 ERROR &lt;span class=&quot;error&quot;&gt;&amp;#91;org.apache.myfaces.lifecycle.PhaseListenerManager&amp;#93;&lt;/span&gt; - &amp;lt;Exception in PhaseListener INVOKE_APPLICATION(5) afterPhase&amp;gt;&lt;br/&gt;
java.lang.IllegalStateException: This flow execution is not active, it has either ended or has never been started.&lt;br/&gt;
	at org.springframework.webflow.engine.impl.FlowExecutionImpl.assertActive(FlowExecutionImpl.java:453)&lt;br/&gt;
	at org.springframework.webflow.engine.impl.FlowExecutionImpl.getActiveSessionInternal(FlowExecutionImpl.java:377)&lt;br/&gt;
	at org.springframework.webflow.engine.impl.FlowExecutionImpl.getActiveSession(FlowExecutionImpl.java:164)&lt;br/&gt;
	at org.springframework.webflow.executor.jsf.DelegatingFlowVariableResolver.resolveVariable(DelegatingFlowVariableResolver.java:73)&lt;br/&gt;
	at org.ajax4jsf.framework.ajax.AjaxContext.getCurrentInstance(AjaxContext.java:150)&lt;br/&gt;
	at org.ajax4jsf.framework.renderer.AjaxPhaseListener.afterPhase(AjaxPhaseListener.java:76)&lt;br/&gt;
	at org.apache.myfaces.lifecycle.PhaseListenerManager.informPhaseListenersAfter(PhaseListenerManager.java:92)&lt;br/&gt;
	at org.apache.myfaces.lifecycle.LifecycleImpl.executePhase(LifecycleImpl.java:99)&lt;br/&gt;
	at org.apache.myfaces.lifecycle.LifecycleImpl.execute(LifecycleImpl.java:70)&lt;br/&gt;
	at javax.faces.webapp.FacesServlet.service(FacesServlet.java:139)&lt;br/&gt;
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:269)&lt;br/&gt;
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:188)&lt;br/&gt;
	at org.ajax4jsf.framework.ajax.xmlfilter.BaseXMLFilter.doXmlFilter(BaseXMLFilter.java:96)&lt;br/&gt;
	at org.ajax4jsf.framework.ajax.xmlfilter.BaseFilter.doFilter(BaseFilter.java:220)&lt;br/&gt;
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:215)&lt;br/&gt;
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:188)&lt;br/&gt;
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:210)&lt;br/&gt;
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:174)&lt;br/&gt;
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:127)&lt;br/&gt;
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:117)&lt;br/&gt;
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:108)&lt;br/&gt;
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:151)&lt;br/&gt;
	at org.apache.coyote.http11.Http11Processor.process(Http11Processor.java:870)&lt;br/&gt;
	at org.apache.coyote.http11.Http11BaseProtocol$Http11ConnectionHandler.processConnection(Http11BaseProtocol.java:665)&lt;br/&gt;
	at org.apache.tomcat.util.net.PoolTcpEndpoint.processSocket(PoolTcpEndpoint.java:528)&lt;br/&gt;
	at org.apache.tomcat.util.net.LeaderFollowerWorkerThread.runIt(LeaderFollowerWorkerThread.java:81)&lt;br/&gt;
	at org.apache.tomcat.util.threads.ThreadPool$ControlRunnable.run(ThreadPool.java:685)&lt;br/&gt;
	at java.lang.Thread.run(Thread.java:613)&lt;/p&gt;

&lt;p&gt;Attached you find the modified sellitem-jsf example which uses ajax4jsf on the priceAndItemCountForm to show the total amount immediately. However, the end-state view is broken.&lt;/p&gt;</comment>
                            <comment id="23113" author="jeremyg484" created="Thu, 5 Apr 2007 23:54:53 +0000"  >&lt;p&gt;The problem is ocurring when variables are being resolved by ajax4jsf during the INVOKE_APPLICATION phase after the end state transition has already been signaled and the FlowExecution is marked inactive.  Adding a simple execution.isActive() check to DelegatingFlowVariableResolver before trying to resolve variables fixes the problem.  &lt;/p&gt;

&lt;p&gt;DelegatingFlowVariableResolver patch attached.&lt;/p&gt;</comment>
                            <comment id="23116" author="kdonald" created="Fri, 6 Apr 2007 01:26:41 +0000"  >&lt;p&gt;Patch applied for 1.0.2&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12523" name="DelegatingFlowVariableResolver.patch" size="583" author="jeremyg484" created="Thu, 5 Apr 2007 23:54:53 +0000"/>
                            <attachment id="12521" name="swf-sellitem-jsf.tar.gz" size="45957" author="eickmeyer" created="Thu, 5 Apr 2007 19:49:21 +0000"/>
                            <attachment id="12519" name="swf-sellitem-jsf.tar.gz" size="95563" author="eickmeyer" created="Thu, 5 Apr 2007 04:01:54 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_10170" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>First Response Date</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Thu, 5 Apr 2007 23:54:53 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_10880" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i04qan:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_10380" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>27634</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_10171" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                </customfields>
    </item>
</channel>
</rss>