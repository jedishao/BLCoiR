<!-- 
RSS generated by JIRA (6.4.11#64026-sha1:78f6ec473a3f058bd5d6c30e9319c7ab376bdb9c) at Fri Dec 23 06:01:34 UTC 2016

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary add field=key&field=summary to the URL of your request.
For example:
https://jira.spring.io/si/jira.issueviews:issue-xml/SWF-1650/SWF-1650.xml?field=key&amp;field=summary
-->
<rss version="0.92" >
<channel>
    <title>Spring JIRA</title>
    <link>https://jira.spring.io</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>6.4.11</version>
        <build-number>64026</build-number>
        <build-date>25-08-2015</build-date>
    </build-info>

<item>
            <title>[SWF-1650] Detection of MyFaces implementation is still not sufficient</title>
                <link>https://jira.spring.io/browse/SWF-1650</link>
                <project id="10050" key="SWF">Spring Web Flow</project>
                    <description>&lt;p&gt;Thanks for fixing the MyFaces detection issue in &lt;a href=&quot;https://jira.spring.io/browse/SWF-1641&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;SWF-1641&lt;/a&gt;, but the fix does not work &lt;img class=&quot;emoticon&quot; src=&quot;https://jira.spring.io/images/icons/emoticons/sad.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt; I had no chance for testing the 2.4.1.RELEASE solution, because the fix and release date where at the same day. &lt;img class=&quot;emoticon&quot; src=&quot;https://jira.spring.io/images/icons/emoticons/smile.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/p&gt;

&lt;p&gt;In the org/springframework/faces/webflow/FlowRenderKit.java line 47 the check was enhanced to &lt;br/&gt;
&lt;tt&gt;if (!JsfRuntimeInformation.isMyFacesPresent() &amp;amp;&amp;amp; !JsfRuntimeInformation.isMyFacesInUse()) {&lt;/tt&gt;&lt;/p&gt;

&lt;p&gt;But the MyFaces case needs to evaluate to true only, if both requirements are fulfilled. When running with an inactive MyFaces implementation (which was the original issue) the first expression evaluates to false. Because of the &amp;amp;&amp;amp; the whole expression is short-circuited and evaluated to false, which causes the MyFaces implementation to load. Correct would have been using&lt;/p&gt;

&lt;p&gt;&lt;tt&gt;if (!(JsfRuntimeInformation.isMyFacesPresent() &amp;amp;&amp;amp; JsfRuntimeInformation.isMyFacesInUse())) {&lt;/tt&gt;&lt;/p&gt;

&lt;p&gt;This will first evaluate if MyFaces is present AND running and afterwards negating the result to jump into the correct block of the if statement.&lt;/p&gt;</description>
            <key id="60703">SWF-1650</key>
            <summary>Detection of MyFaces implementation is still not sufficient</summary>
                <type id="1" iconUrl="https://jira.spring.io/images/icons/issuetypes/bug.png">Bug</type>
                                            <priority id="3" iconUrl="https://jira.spring.io/images/icons/priorities/major.png">Major</priority>
                        <status id="5" iconUrl="https://jira.spring.io/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="8">Complete</resolution>
                                        <assignee username="rstoya05-aop">Rossen Stoyanchev</assignee>
                                    <reporter username="fabians">Fabian Schlier</reporter>
                        <labels>
                    </labels>
                <created>Tue, 18 Nov 2014 07:26:45 +0000</created>
                <updated>Fri, 17 Jun 2016 15:20:59 +0000</updated>
                            <resolved>Thu, 4 Jun 2015 13:28:52 +0000</resolved>
                                    <version>2.4.1</version>
                                    <fixVersion>2.4.2</fixVersion>
                                    <component>JSF</component>
                        <due></due>
                            <votes>4</votes>
                                    <watches>6</watches>
                                                                <comments>
                            <comment id="114378" author="patrick ehmke" created="Thu, 9 Apr 2015 01:59:17 +0000"  >&lt;p&gt;Dear Spring Web Flow Team,&lt;/p&gt;

&lt;p&gt;i am currently trying to develop an application with SWF 2.4.1 + Mojarra 2.1.24 on WebSphere 8.5 and facing the same issue.&lt;br/&gt;
Is the suggested fix going to be integrated in the next build or version?&lt;/p&gt;

&lt;p&gt;Kind regards&lt;br/&gt;
Patrick Ehmke&lt;/p&gt;</comment>
                            <comment id="114383" author="patrick ehmke" created="Thu, 9 Apr 2015 06:10:37 +0000"  >&lt;p&gt;The suggested fix is not sufficient as well when using Mojarra 2.2.10.&lt;br/&gt;
More details in the created ticket: &lt;a href=&quot;https://jira.spring.io/browse/SWF-1656&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;SWF-1656&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="116321" author="rstoya05-aop" created="Thu, 4 Jun 2015 13:28:36 +0000"  >&lt;p&gt;Apologies for pre-emptying any possibility to test. It seems that the check for &lt;tt&gt;isMyFacesInUse&lt;/tt&gt; should be sufficient on its own. After that&apos;s what we care about. So I&apos;ve made a change long those lines. See commit &lt;a href=&quot;https://github.com/spring-projects/spring-webflow/commit/7c4d2e25add4e1cb028e0a7deb22cceb01c80394&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;7c4d2e&lt;/a&gt;. This should do it hopefully but if you have a chance to confirm that would be great, thanks.&lt;/p&gt;</comment>
                            <comment id="116333" author="patrick ehmke" created="Thu, 4 Jun 2015 23:45:52 +0000"  >&lt;p&gt;I&apos;ve just tested the fix and it seems to work. Thank you!&lt;/p&gt;</comment>
                            <comment id="116339" author="rstoya05-aop" created="Fri, 5 Jun 2015 05:49:14 +0000"  >&lt;p&gt;Thanks for confirming!&lt;/p&gt;</comment>
                            <comment id="116406" author="fabians" created="Mon, 8 Jun 2015 08:01:21 +0000"  >&lt;p&gt;I tested the fix with WebSphere Application Server 8.0 and 8.5 and it works. Thanks for fixing!&lt;/p&gt;</comment>
                            <comment id="116410" author="rstoya05-aop" created="Mon, 8 Jun 2015 09:03:27 +0000"  >&lt;p&gt;Great, thanks!&lt;/p&gt;</comment>
                            <comment id="118343" author="rstoya05-aop" created="Thu, 6 Aug 2015 13:11:41 +0000"  >&lt;p&gt;I ran into an issue the other way around, where MyFaces is in use but is not properly detected because of FacesContextFactory wrapping. I&apos;ve &lt;a href=&quot;https://github.com/spring-projects/spring-webflow/commit/f860d9e17a6d818f9531ad1090cb818f174d6ef6&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;committed a fix&lt;/a&gt; that shouldn&apos;t affect you but if you had a chance to double check and confirm, that would be great, thanks!&lt;/p&gt;</comment>
                            <comment id="118457" author="fabians" created="Tue, 11 Aug 2015 01:17:22 +0000"  >&lt;p&gt;I can confirm that it still works.&lt;/p&gt;</comment>
                            <comment id="118462" author="rstoya05-aop" created="Tue, 11 Aug 2015 03:58:06 +0000"  >&lt;p&gt;Excellent, thanks!&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10151">
                    <name>Relate</name>
                                                                <inwardlinks description="is related to">
                                        <issuelink>
            <issuekey id="63163">SWF-1656</issuekey>
        </issuelink>
            <issuelink>
            <issuekey id="59384">SWF-1641</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_10170" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>First Response Date</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Thu, 9 Apr 2015 01:59:17 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_10880" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i07z6v:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_10380" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>46573</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_10171" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                </customfields>
    </item>
</channel>
</rss>