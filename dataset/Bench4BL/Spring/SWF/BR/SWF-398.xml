<!-- 
RSS generated by JIRA (6.4.11#64026-sha1:78f6ec473a3f058bd5d6c30e9319c7ab376bdb9c) at Fri Dec 23 06:45:00 UTC 2016

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary add field=key&field=summary to the URL of your request.
For example:
https://jira.spring.io/si/jira.issueviews:issue-xml/SWF-398/SWF-398.xml?field=key&amp;field=summary
-->
<rss version="0.92" >
<channel>
    <title>Spring JIRA</title>
    <link>https://jira.spring.io</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>6.4.11</version>
        <build-number>64026</build-number>
        <build-date>25-08-2015</build-date>
    </build-info>

<item>
            <title>[SWF-398] SessionBindingConversationManager unsuitable for clustering through session replication</title>
                <link>https://jira.spring.io/browse/SWF-398</link>
                <project id="10050" key="SWF">Spring Web Flow</project>
                    <description>
&lt;p&gt;org.springframework.webflow.conversation.impl.SessionBindingConversationManager is unsuitable for use in a session replication clustered environment.&lt;/p&gt;

&lt;p&gt;The ConversationContainer is replicated OK, but the problem comes if it needs to be retrieved on a different server.&lt;/p&gt;

&lt;p&gt;SessionBindingConversationManager.getConversationContainer() looks for the ConversationContainer using a key&lt;br/&gt;
including a RandomGuid string. Unless the SessionBindingConversationManager is also replicated, this key will be&lt;br/&gt;
different on each server.&lt;/p&gt;

&lt;p&gt;        private final String sessionKey = &quot;webflow.conversation.container.&quot; + new RandomGuid().toString();&lt;br/&gt;
        ...&lt;br/&gt;
        private ConversationContainer getConversationContainer() {&lt;br/&gt;
                SharedAttributeMap sessionMap = ExternalContextHolder.getExternalContext().getSessionMap();&lt;br/&gt;
                synchronized (sessionMap.getMutex()) {&lt;br/&gt;
                        ConversationContainer container = (ConversationContainer)sessionMap.get(sessionKey);&lt;/p&gt;

&lt;p&gt;The result is that on a server other than that where the flow was begun, the SessionBindingConversationManager&lt;br/&gt;
finds no ConversationContainer for its key and thus creates a new empty one in which, of course, it can&apos;t find the&lt;br/&gt;
Conversation it is looking for and so a NoSuchConversationException is thrown.&lt;/p&gt;

&lt;p&gt;One solution would be to make SessionBindingConversationManager Serializable and put that in the Session too.&lt;/p&gt;

&lt;p&gt;Ref: &lt;a href=&quot;http://forum.springframework.org/showthread.php?t=43049&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://forum.springframework.org/showthread.php?t=43049&lt;/a&gt;&lt;/p&gt;</description>
            <key id="17742">SWF-398</key>
            <summary>SessionBindingConversationManager unsuitable for clustering through session replication</summary>
                <type id="1" iconUrl="https://jira.spring.io/images/icons/issuetypes/bug.png">Bug</type>
                                            <priority id="2" iconUrl="https://jira.spring.io/images/icons/priorities/critical.png">Critical</priority>
                        <status id="5" iconUrl="https://jira.spring.io/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="3">Duplicate</resolution>
                                        <assignee username="kdonald">Keith Donald</assignee>
                                    <reporter username="derek">Derek Alexander</reporter>
                        <labels>
                    </labels>
                <created>Fri, 24 Aug 2007 01:32:02 +0000</created>
                <updated>Fri, 24 Aug 2007 02:59:32 +0000</updated>
                            <resolved>Fri, 24 Aug 2007 02:15:35 +0000</resolved>
                                    <version>1.0.4</version>
                                    <fixVersion>1.0.5</fixVersion>
                                    <component>Core: Flow Execution Repository</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                <comments>
                            <comment id="25664" author="kdonald" created="Fri, 24 Aug 2007 02:15:35 +0000"  >&lt;p&gt;Duplicate fixed in 2.0 m1 and upcoming 1.0.5.  Please use a 1.0.5 nightly build to test the fix in your environment.&lt;/p&gt;</comment>
                            <comment id="25665" author="derek" created="Fri, 24 Aug 2007 02:59:32 +0000"  >&lt;p&gt;That&apos;s great. Just tested with the latest snapshot and it was fine.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_10170" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>First Response Date</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Fri, 24 Aug 2007 02:15:35 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_10880" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i026g7:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_10380" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>12754</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_10171" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                </customfields>
    </item>
</channel>
</rss>