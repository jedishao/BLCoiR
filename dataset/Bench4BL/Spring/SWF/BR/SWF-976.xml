<!-- 
RSS generated by JIRA (6.4.11#64026-sha1:78f6ec473a3f058bd5d6c30e9319c7ab376bdb9c) at Fri Dec 23 06:34:40 UTC 2016

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary add field=key&field=summary to the URL of your request.
For example:
https://jira.spring.io/si/jira.issueviews:issue-xml/SWF-976/SWF-976.xml?field=key&amp;field=summary
-->
<rss version="0.92" >
<channel>
    <title>Spring JIRA</title>
    <link>https://jira.spring.io</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>6.4.11</version>
        <build-number>64026</build-number>
        <build-date>25-08-2015</build-date>
    </build-info>

<item>
            <title>[SWF-976] SimpleELContext is not thread-safe</title>
                <link>https://jira.spring.io/browse/SWF-976</link>
                <project id="10050" key="SWF">Spring Web Flow</project>
                    <description>&lt;p&gt;Class SimpleELContext extends javax.el.Context. &lt;br/&gt;
Javadoc &lt;a href=&quot;http://java.sun.com/products/jsp/2.1/docs/jsp-2_1-pfd2/javax/el/ELContext.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://java.sun.com/products/jsp/2.1/docs/jsp-2_1-pfd2/javax/el/ELContext.html&lt;/a&gt; said :&lt;br/&gt;
&quot;&quot;&quot;&quot; Because it stores state during expression evaluation, an ELContext object is not thread-safe &quot;&quot;&quot;.&lt;/p&gt;

&lt;p&gt;Instance of SimpleELContext is stored in ELDelegatingPropertyResolver and ELDelegatingVariableResolver, which are application singletons, so this instance of SimpleELContext is shared for all sessions.&lt;/p&gt;

&lt;p&gt;This bug is very strange, because in single user development/testing everything works fine, but in production with more users, we got usually NullPointerException on bizzarre places in program like this :&lt;br/&gt;
&amp;gt;        String label = getItemLabel() != null ? getItemLabel().toString() : null;&lt;/p&gt;

&lt;p&gt;Attachment contains a patch, which helps me.&lt;/p&gt;</description>
            <key id="24943">SWF-976</key>
            <summary>SimpleELContext is not thread-safe</summary>
                <type id="1" iconUrl="https://jira.spring.io/images/icons/issuetypes/bug.png">Bug</type>
                                            <priority id="2" iconUrl="https://jira.spring.io/images/icons/priorities/critical.png">Critical</priority>
                        <status id="5" iconUrl="https://jira.spring.io/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="jeremyg484">Jeremy Grelle</assignee>
                                    <reporter username="vkralik">Vladimir Kralik</reporter>
                        <labels>
                    </labels>
                <created>Mon, 1 Dec 2008 23:36:59 +0000</created>
                <updated>Thu, 12 Mar 2009 14:37:11 +0000</updated>
                            <resolved>Wed, 10 Dec 2008 06:55:46 +0000</resolved>
                                    <version>2.0.5</version>
                                    <fixVersion>2.0.6</fixVersion>
                                    <component>JSF</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                    <timeoriginalestimate seconds="60">1m</timeoriginalestimate>
                            <timeestimate seconds="60">1m</timeestimate>
                                        <comments>
                            <comment id="43018" author="phamlen" created="Thu, 12 Mar 2009 14:37:11 +0000"  >&lt;p&gt;Just some testing results:&lt;/p&gt;

&lt;p&gt;We had this problem on our application and were able to consistently reproduce it by having two users submit the same form of a complex page at the same time.  (Specifically, we could reproduce it 20 out of 20 times and had debugged it down to the SimpleELContext before we found this Jira bug.)&lt;/p&gt;

&lt;p&gt;We then applied the patch to a fresh copy of 2.0.5.RELEASE source from svn and it eliminated the problem (and all other related problems.)  &lt;/p&gt;

&lt;p&gt;It also had no noticeable impact on performance when we ran our load testing (we have a standard loadtest and there was no difference in the numbers.)&lt;/p&gt;

&lt;p&gt;In addition, we actually tested this patch using both the SUN Mojarra RI implementation and MyFaces 1.2.6 and using two different EL engines (UEL and an Ognl EL variant.)  It worked on all variations.&lt;/p&gt;

&lt;p&gt;-Peter Hamlen (phamlen &lt;em&gt;at&lt;/em&gt; mail.com)&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="14926" name="swf_p1.patch" size="5042" author="vkralik" created="Mon, 1 Dec 2008 23:36:59 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_10170" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>First Response Date</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Thu, 12 Mar 2009 14:37:11 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_10880" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i025mv:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_10380" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>12622</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_10171" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                </customfields>
    </item>
</channel>
</rss>