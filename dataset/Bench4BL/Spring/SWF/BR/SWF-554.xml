<!-- 
RSS generated by JIRA (6.4.11#64026-sha1:78f6ec473a3f058bd5d6c30e9319c7ab376bdb9c) at Fri Dec 23 06:02:49 UTC 2016

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary add field=key&field=summary to the URL of your request.
For example:
https://jira.spring.io/si/jira.issueviews:issue-xml/SWF-554/SWF-554.xml?field=key&amp;field=summary
-->
<rss version="0.92" >
<channel>
    <title>Spring JIRA</title>
    <link>https://jira.spring.io</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>6.4.11</version>
        <build-number>64026</build-number>
        <build-date>25-08-2015</build-date>
    </build-info>

<item>
            <title>[SWF-554] implementations of ConversationLock.lock should throw exception after configurable timeout period</title>
                <link>https://jira.spring.io/browse/SWF-554</link>
                <project id="10050" key="SWF">Spring Web Flow</project>
                    <description>&lt;p&gt;Using SWF 1.0.5 in a JSR 168 portlet on WebSphere.  This also looks to be an issue with 2.0M4 code, so I&apos;m reporting it against that too.  The FlowExecutorImpl locks a conversation upon resume() or refresh() in 1.0.5 and resumeExecution() in 2.0 M4.  The ConversationLock is implemented by JdkConcurrentConversationLock in JDK 1.5+ and UtilConcurrentConversationLock in JDK 1.4.  In both cases, it uses the lock variant that waits infinitely unless interrupted.  &lt;/p&gt;

&lt;p&gt;For UtilConcurrentConversationLock, it would be better to do ReentrantLock.attempt(long msecs) instead of ReentrantLock.acquire(); and in JdkConcurrentConversationLock it would be better to do ReentrantLock.tryLock(long time, TimeUnit unit).  Then have a reasonable default wait time, e.g. 30 seconds, and allow that to be customized.  If time period elapses without acquiring the lock, propagate an exception out of SWF to fail the request.&lt;/p&gt;

&lt;p&gt;The use case for this is that a flow becomes hung inside an action execution due to a deadlock or something.  The user sees their browser waiting, so tries to submit the request again and again and again.  What would have been one hung thread (not Spring&apos;s fault) is now 1 + N, aggravating the problem and opening the door to exhausting the web container thread pool.&lt;/p&gt;</description>
            <key id="21341">SWF-554</key>
            <summary>implementations of ConversationLock.lock should throw exception after configurable timeout period</summary>
                <type id="1" iconUrl="https://jira.spring.io/images/icons/issuetypes/bug.png">Bug</type>
                                            <priority id="2" iconUrl="https://jira.spring.io/images/icons/priorities/critical.png">Critical</priority>
                        <status id="5" iconUrl="https://jira.spring.io/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="kdonald">Keith Donald</assignee>
                                    <reporter username="agaalswyk">aaron gaalswyk</reporter>
                        <labels>
                    </labels>
                <created>Thu, 27 Mar 2008 09:32:15 +0000</created>
                <updated>Mon, 31 Mar 2008 06:34:32 +0000</updated>
                            <resolved>Mon, 31 Mar 2008 06:34:32 +0000</resolved>
                                    <version>1.0.5</version>
                    <version>2.0 M4</version>
                                    <fixVersion>2.0.0.RC1</fixVersion>
                                    <component>Core: Flow Executor</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                <comments>
                            <comment id="34159" author="kdonald" created="Mon, 31 Mar 2008 06:34:32 +0000"  >&lt;p&gt;Made timeoutSeconds configurable in 2.0 RC1.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_10170" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>First Response Date</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Mon, 31 Mar 2008 06:34:32 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_10880" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i04cd3:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_10380" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>25377</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_10171" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                </customfields>
    </item>
</channel>
</rss>