<!-- 
RSS generated by JIRA (6.4.11#64026-sha1:78f6ec473a3f058bd5d6c30e9319c7ab376bdb9c) at Fri Dec 23 05:14:19 UTC 2016

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary add field=key&field=summary to the URL of your request.
For example:
https://jira.spring.io/si/jira.issueviews:issue-xml/SECOAUTH-410/SECOAUTH-410.xml?field=key&amp;field=summary
-->
<rss version="0.92" >
<channel>
    <title>Spring JIRA</title>
    <link>https://jira.spring.io</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>6.4.11</version>
        <build-number>64026</build-number>
        <build-date>25-08-2015</build-date>
    </build-info>

<item>
            <title>[SECOAUTH-410] How to add custom authorization parameters to the authorization URL for a resource at run time</title>
                <link>https://jira.spring.io/browse/SECOAUTH-410</link>
                <project id="10440" key="SECOAUTH">Spring Security OAuth</project>
                    <description>&lt;p&gt;I am implementing oauth2 authentication for gmail. In this process I need to add custom authorization parameters to the authorization URL in my controller to access a gmail account access_token. Like - &lt;br/&gt;
Default authorization url for gmail is = &lt;a href=&quot;https://accounts.google.com/o/oauth2/auth&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://accounts.google.com/o/oauth2/auth&lt;/a&gt;. &lt;/p&gt;

&lt;p&gt;But I need to add custom parameter to this url as -  &lt;a href=&quot;https://accounts.google.com/o/oauth2/auth?user_id=username@gmail.com&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://accounts.google.com/o/oauth2/auth?user_id=username@gmail.com&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;So that It will open a specific gmail account for authorization if user has multiple gmail accounts.&lt;/p&gt;

&lt;p&gt;As per my knowledge there is no option to add custom parameters in authorization url at run time. &lt;/p&gt;

&lt;p&gt;Please guide me on this, how we can do, if there is no option available can someone guide me how to achieve this functionality out of box.   &lt;/p&gt;


</description>
                <environment></environment>
        <key id="49111">SECOAUTH-410</key>
            <summary>How to add custom authorization parameters to the authorization URL for a resource at run time</summary>
                <type id="2" iconUrl="https://jira.spring.io/images/icons/issuetypes/newfeature.png">New Feature</type>
                                            <priority id="2" iconUrl="https://jira.spring.io/images/icons/priorities/critical.png">Critical</priority>
                        <status id="5" iconUrl="https://jira.spring.io/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="3">Duplicate</resolution>
                                        <assignee username="david_syer">Dave Syer</assignee>
                                    <reporter username="yogeshnehra">yogesh</reporter>
                        <labels>
                    </labels>
                <created>Thu, 13 Jun 2013 05:59:28 +0000</created>
                <updated>Fri, 12 Jul 2013 01:07:15 +0000</updated>
                            <resolved>Thu, 11 Jul 2013 23:46:06 +0000</resolved>
                                                                    <component>OAuth 2</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                    <timeoriginalestimate seconds="0">0d</timeoriginalestimate>
                            <timeestimate seconds="0">0d</timeestimate>
                                        <comments>
                            <comment id="91676" author="david_syer" created="Thu, 11 Jul 2013 23:46:05 +0000"  >&lt;p&gt;This is a duplicate, or possibly an interesting variant (see &lt;a href=&quot;https://jira.spring.io/browse/SECOAUTH-374&quot; title=&quot;Support additional/custom token parameters&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SECOAUTH-374&quot;&gt;&lt;del&gt;SECOAUTH-374&lt;/del&gt;&lt;/a&gt;).&lt;/p&gt;</comment>
                            <comment id="91683" author="yogeshnehra" created="Fri, 12 Jul 2013 01:07:15 +0000"  >&lt;p&gt;When custom parameters are dynamic then we can use ThreadLocal and set custom parameter as threadlocal variable before calling api and use same thread local to construct custom token parameters as given below. Code is written in AuthorizationCodeAccessTokenProvider.java file&apos;s getRedirectForAuthorization method - &lt;/p&gt;

&lt;p&gt;               String currentUser = ThreadLocalContext.get();&lt;br/&gt;
               if(currentUser != null &amp;amp;&amp;amp; !&quot;&quot;.equals(currentUser.trim()))&lt;/p&gt;
{
                      requestParameters.put(&quot;user_id&quot;, currentUser);
               }
&lt;p&gt; &lt;/p&gt;

&lt;p&gt;I have done this workaround for my requirement and if others agree I can submit a patch for the same, which will be more generic then above.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_10170" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>First Response Date</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Thu, 11 Jul 2013 23:46:05 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_10280" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>35624</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_10880" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i06dj3:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_10380" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>37230</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_10381" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Ranking</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>35326</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_10171" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                </customfields>
    </item>
</channel>
</rss>