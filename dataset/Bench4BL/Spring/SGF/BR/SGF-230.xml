<!-- 
RSS generated by JIRA (6.4.11#64026-sha1:78f6ec473a3f058bd5d6c30e9319c7ab376bdb9c) at Thu Dec 22 14:14:02 UTC 2016

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary add field=key&field=summary to the URL of your request.
For example:
https://jira.spring.io/si/jira.issueviews:issue-xml/SGF-230/SGF-230.xml?field=key&amp;field=summary
-->
<rss version="0.92" >
<channel>
    <title>Spring JIRA</title>
    <link>https://jira.spring.io</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>6.4.11</version>
        <build-number>64026</build-number>
        <build-date>25-08-2015</build-date>
    </build-info>

<item>
            <title>[SGF-230] Cannot specify a Disk Store to be used for overflow on a Gateway Sender without enabling persistence.</title>
                <link>https://jira.spring.io/browse/SGF-230</link>
                <project id="10462" key="SGF">Spring Data GemFire</project>
                    <description>&lt;p&gt;Getting the exception pasted below trying to specify the Disk Store for a Gateway Sender for overflow purposes ONLY.  Note that GW Sender Queue overflow is implicit, and reverts to using the &quot;default&quot; disk store if none is specified.  This can lead to unexpected disk usage in the GemFire process&apos; runtime directory, and, on the case of RTI, data being written where security policies do not permit.  There should be an option to specify the overflow disk store without having to also enable persistence.  This would also match the way Region configuration works.&lt;/p&gt;

&lt;p&gt;WORKAROUND to a enable custom-configured Disk Store for GW Sender overflow-to-disk when persistence for recovery (persistent=&quot;false&quot;) is not enabled: &lt;/p&gt;

&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;Define the &quot;DEFAULT&quot; (named as such) Disk Store explicitly, which allows full control in specifying related attributes/elements such as target Disk Directories.&lt;/li&gt;
&lt;/ul&gt;


&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;Exclude the disk-store-ref from the gateway-sender configuration.&lt;/li&gt;
&lt;/ul&gt;


&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;The shortfall of this work-around is that GW Sender queue overflow must share the same disk store configuration as other SDG persistent elements that also revert to using the DEFAULT disk store.&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;Exception is:&lt;/p&gt;

&lt;p&gt;java.lang.IllegalArgumentException: specifying a disk store requires persistent property to be true&lt;br/&gt;
        at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1512)&lt;br/&gt;
        at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:521)&lt;br/&gt;
        at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:458)&lt;br/&gt;
        at org.springframework.beans.factory.support.AbstractBeanFactory$1.getObject(AbstractBeanFactory.java:296)&lt;br/&gt;
        at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:223)&lt;br/&gt;
        at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:293)&lt;br/&gt;
        at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:194)&lt;br/&gt;
        at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:628)&lt;br/&gt;
        at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:932)&lt;br/&gt;
        at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:479)&lt;br/&gt;
        at org.springframework.context.support.GenericXmlApplicationContext.&amp;lt;init&amp;gt;(GenericXmlApplicationContext.java:70)&lt;br/&gt;
        at com.gopivotal.rti.boot.spring.AbstractXmlSpringInitializer.initSpring(AbstractXmlSpringInitializer.java:48)&lt;br/&gt;
        at com.gopivotal.rti.boot.spring.AbstractSpringInitializer.init(AbstractSpringInitializer.java:49)&lt;br/&gt;
        at com.gopivotal.rti.boot.AbstractInitializer.init(AbstractInitializer.java:52)&lt;br/&gt;
        at com.gopivotal.rti.boot.impl.SimpleLifecycle.doStart(SimpleLifecycle.java:97)&lt;/p&gt;

&lt;p&gt;Configuration that caused the Exception is:&lt;/p&gt;

&lt;p&gt;	&amp;lt;gfe:gateway-sender id=&quot;toGrid2SenderSerial&quot; remote-distributed-system-id=&quot;$&lt;/p&gt;
{rti.distgrid.distributed-system-id}
&lt;p&gt;&quot;&lt;br/&gt;
	    batch-size=&quot;$&lt;/p&gt;
{rti.ingestgrid.gateway-sender.batch-size}
&lt;p&gt;&quot;&lt;br/&gt;
	    batch-time-interval=&quot;$&lt;/p&gt;
{rti.ingestgrid.gateway-sender.batch-time-interval}
&lt;p&gt;&quot;&lt;br/&gt;
	    maximum-queue-memory=&quot;$&lt;/p&gt;
{rti.ingestgrid.gateway-sender.maximum-queue-memory}
&lt;p&gt;&quot;&lt;br/&gt;
	    parallel=&quot;false&quot;&lt;br/&gt;
	    dispatcher-threads=&quot;$&lt;/p&gt;
{rti.ingestgrid.gateway-sender.dispatcher-threads}
&lt;p&gt;&quot;&lt;br/&gt;
	    alert-threshold=&quot;$&lt;/p&gt;
{rti.ingestgrid.gateway-sender.alert-threshold}
&lt;p&gt;&quot;&lt;br/&gt;
	    enable-batch-conflation=&quot;false&quot;&lt;br/&gt;
	    persistent=&quot;false&quot;&lt;br/&gt;
	    disk-store-ref=&quot;refgw&quot;&lt;br/&gt;
	    socket-buffer-size=&quot;1048576&quot;&lt;br/&gt;
	    socket-read-timeout=&quot;10000&quot;&lt;br/&gt;
	    order-policy=&quot;KEY&quot;&lt;br/&gt;
	    manual-start=&quot;false&quot;&amp;gt;&lt;/p&gt;</description>
                <environment>Spring + GemFire 7.0.1</environment>
        <key id="51872">SGF-230</key>
            <summary>Cannot specify a Disk Store to be used for overflow on a Gateway Sender without enabling persistence.</summary>
                <type id="1" iconUrl="https://jira.spring.io/images/icons/issuetypes/bug.png">Bug</type>
                                            <priority id="2" iconUrl="https://jira.spring.io/images/icons/priorities/critical.png">Critical</priority>
                        <status id="6" iconUrl="https://jira.spring.io/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="jblum">John Blum</assignee>
                                    <reporter username="gideonlow">Gideon Low</reporter>
                        <labels>
                            <label>DiskStore</label>
                            <label>GatewaySender</label>
                            <label>GemFire</label>
                            <label>Persistence</label>
                            <label>Spring</label>
                    </labels>
                <created>Fri, 15 Nov 2013 09:55:18 +0000</created>
                <updated>Tue, 21 Jan 2014 18:44:53 +0000</updated>
                            <resolved>Tue, 21 Jan 2014 18:44:48 +0000</resolved>
                                    <version>1.3.3</version>
                                    <fixVersion>1.3.3</fixVersion>
                    <fixVersion>1.4 M1 (Dijkstra)</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                                <comments>
                            <comment id="95594" author="jblum" created="Sat, 16 Nov 2013 13:21:18 +0000"  >&lt;p&gt;In addition, setting the &lt;tt&gt;disk-store-ref&lt;/tt&gt; erroneously &quot;enables&quot; persistence (i.e. defaults the &lt;tt&gt;persistent&lt;/tt&gt; property to true) when the &lt;tt&gt;persistent&lt;/tt&gt; attribute is not explicitly specified!  Furthermore, persistence was erroneously enabled or forced when the &lt;tt&gt;disk-synchronous&lt;/tt&gt; attribute was set as well, regardless of whether the &lt;tt&gt;disk-synchronous&lt;/tt&gt; attribute was true or false.  The same applied to the &lt;tt&gt;disk-store-ref&lt;/tt&gt; attribute too.&lt;/p&gt;</comment>
                            <comment id="95595" author="jblum" created="Sat, 16 Nov 2013 13:50:53 +0000"  >&lt;p&gt;Also see &lt;a href=&quot;https://jira.springsource.org/browse/SGF-233&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;SGF-233&lt;/a&gt;: &quot;&lt;em&gt;Cannot specify a Disk Store to be used for overflow on a Gateway Sender without enabling persistence.&lt;/em&gt;&quot;&lt;/p&gt;</comment>
                            <comment id="95599" author="jblum" created="Sat, 16 Nov 2013 14:30:05 +0000"  >&lt;p&gt;The fix is available in the 1.4.0.BUILD-SNAPSHOT; will consider whether or not I want to back port this fix to 1.3.3.RELEASE.&lt;/p&gt;</comment>
                            <comment id="97700" author="jblum" created="Tue, 21 Jan 2014 18:44:48 +0000"  >&lt;p&gt;Moved to the 1.3.4 Release.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_10170" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>First Response Date</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Sat, 16 Nov 2013 13:21:18 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_10280" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>38353</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_10182" key="com.atlassian.jira.toolkit:lastupdaterorcommenter">
                        <customfieldname>Last updater</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>tmarshall</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_10880" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i06pfj:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_10380" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>39158</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_10381" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Ranking</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>38055</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_10171" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                </customfields>
    </item>
</channel>
</rss>