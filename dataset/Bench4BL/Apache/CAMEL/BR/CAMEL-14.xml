<!-- 
RSS generated by JIRA (6.3.4#6332-sha1:51bc225ef474afe3128b2f66878477f322397b16) at Sun Dec 04 00:48:04 UTC 2016

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary add field=key&field=summary to the URL of your request.
For example:
https://issues.apache.org/jira/si/jira.issueviews:issue-xml/CAMEL-14/CAMEL-14.xml?field=key&amp;field=summary
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>6.3.4</version>
        <build-number>6332</build-number>
        <build-date>15-08-2014</build-date>
    </build-info>

<item>
            <title>[CAMEL-14] add ability to pool routes/steps for parallel processing</title>
                <link>https://issues.apache.org/jira/browse/CAMEL-14</link>
                <project id="12311211" key="CAMEL">Camel</project>
                    <description>&lt;p&gt;If you have a route that goes through a processor that is expensive, you may want to pool that processor so it&apos;s not holding up the rest of the route.&lt;/p&gt;

&lt;p&gt;Configuration could look as such:&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;from(&lt;span class=&quot;code-quote&quot;&gt;&quot;activemq:queue:SOMETHING&quot;&lt;/span&gt;).pool(5 [min], 15 [max]).process(&lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; ExpensiveMessageEnricher()).to(&lt;span class=&quot;code-quote&quot;&gt;&quot;activemq:queue:SOMEWHERE_ELSE&quot;&lt;/span&gt;);
or
from(&lt;span class=&quot;code-quote&quot;&gt;&quot;activemq:queue:SOMETHING&quot;&lt;/span&gt;).process(&lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; ExpensiveMessageEnricher()).pool(5 [min], 15 [max]).to(&lt;span class=&quot;code-quote&quot;&gt;&quot;activemq:queue:SOMEWHERE_ELSE&quot;&lt;/span&gt;);
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;I&apos;m not sure exactly how these would differ, but I think the first one would have 5-15 MQ queue listeners, which would all go through 1 EME, and then through 1 mq producer, and the second would have 1 mq listener that would dispatch to one of the 5-15 EME threads (if available?, not sure if that level of interaction between steps is good), and then go through 1 mq producer.&lt;/p&gt;

&lt;p&gt;Seems like the first would be the better option as I write this...&lt;/p&gt;

&lt;p&gt;Notes from IRC convo with James:&lt;br/&gt;
first thought is; we might wanna wrap a Producer in a factory thingy that does pooling (e.g. like the way spring does pooling using interceptors etc); but that the pool part could be done wherever a Processor can be used&lt;/p&gt;</description>
                <environment></environment>
        <key id="12486075">CAMEL-14</key>
            <summary>add ability to pool routes/steps for parallel processing</summary>
                <type id="2" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/newfeature.png">New Feature</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.png">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="3">Duplicate</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="nnordrum">Noah Nordrum</reporter>
                        <labels>
                    </labels>
                <created>Mon, 11 Jun 2007 19:07:33 +0000</created>
                <updated>Mon, 16 Feb 2009 05:53:17 +0000</updated>
                            <resolved>Fri, 8 Aug 2008 12:23:01 +0000</resolved>
                                                    <fixVersion>1.2.0</fixVersion>
                                    <component>camel-core</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                <comments>
                            <comment id="12948274" author="cmoulliard" created="Fri, 8 Aug 2008 07:16:47 +0000"  >&lt;p&gt;Be careful, what you propose (pool(5,15)) can generate confusion in the head of the users because actually, you can define the number of thread that you  want :&lt;/p&gt;

&lt;p&gt;from(&quot;activemq:queue:SOMETHING&quot;).thread(5).process(new ExpensiveMessageEnricher()).to(&quot;activemq:queue:SOMEWHERE_ELSE&quot;);&lt;/p&gt;

&lt;p&gt;Personally, what you request already exist except that we cannot now define the limit of the thread to be created.&lt;/p&gt;

&lt;p&gt;If you want to process tasks in // (parallel), you can use the multicast EIP (&lt;a href=&quot;http://activemq.apache.org/camel/multicast.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://activemq.apache.org/camel/multicast.html&lt;/a&gt;).&lt;/p&gt;</comment>
                            <comment id="12948380" author="davsclaus" created="Fri, 8 Aug 2008 12:19:12 +0000"  >&lt;p&gt;Yes as Charles said there is a thread() DSL type that can be used for thread pool.&lt;/p&gt;

&lt;p&gt;It has attributes you can configure (see ThreadType.java) for instance it has a max size property:&lt;br/&gt;
 private Integer maxSize = 1;&lt;/p&gt;

&lt;p&gt;Can&apos;t you just append the options using the fluent builder?&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
from(&lt;span class=&quot;code-quote&quot;&gt;&quot;activemq:queue:SOMETHING&quot;&lt;/span&gt;).thread(5).setMaxSize(15).process(&lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; ExpensiveMessageEnricher()).to(&lt;span class=&quot;code-quote&quot;&gt;&quot;activemq:queue:SOMEWHERE_ELSE&quot;&lt;/span&gt;);
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;I think thus we already have this feature in Camel 1.4&lt;/p&gt;</comment>
                            <comment id="12948366" author="davsclaus" created="Fri, 8 Aug 2008 12:21:01 +0000"  >&lt;p&gt;Ah it got fluent builders already so you should use&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
thread(5).maxSize(15)
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</comment>
                            <comment id="12948401" author="davsclaus" created="Fri, 8 Aug 2008 12:22:42 +0000"  >&lt;p&gt;Implemented by &lt;a href=&quot;https://issues.apache.org/jira/browse/CAMEL-149&quot; title=&quot;Add a thread(5) DSL method and assoicated ThreadProcessor&quot; class=&quot;issue-link&quot; data-issue-key=&quot;CAMEL-149&quot;&gt;&lt;del&gt;CAMEL-149&lt;/del&gt;&lt;/a&gt;. Closing this one.&lt;/p&gt;</comment>
                            <comment id="12950785" author="davsclaus" created="Mon, 16 Feb 2009 05:53:17 +0000"  >&lt;p&gt;Closing old tickets&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Fri, 8 Aug 2008 07:16:47 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>102736</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            7 years, 42 weeks, 5 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i019mf:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>5328</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        </customfields>
    </item>
</channel>
</rss>