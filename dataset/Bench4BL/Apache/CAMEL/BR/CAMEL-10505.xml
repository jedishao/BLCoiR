<!-- 
RSS generated by JIRA (6.3.4#6332-sha1:51bc225ef474afe3128b2f66878477f322397b16) at Sat Dec 03 04:11:27 UTC 2016

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary add field=key&field=summary to the URL of your request.
For example:
https://issues.apache.org/jira/si/jira.issueviews:issue-xml/CAMEL-10505/CAMEL-10505.xml?field=key&amp;field=summary
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>6.3.4</version>
        <build-number>6332</build-number>
        <build-date>15-08-2014</build-date>
    </build-info>

<item>
            <title>[CAMEL-10505] &quot;FILE&quot; component with option &quot;readLock=rename&quot; throws FileNotFound exception in case of work file is locked/used by another application</title>
                <link>https://issues.apache.org/jira/browse/CAMEL-10505</link>
                <project id="12311211" key="CAMEL">Camel</project>
                    <description>&lt;p&gt;Option &quot;readLock=rename&quot; (according to htttp://camel.apache.org/file2.html) is necessary to lock work file in case of it is not used by another application. But currently we see &quot;FileNotFound&quot; during test rename operation and &quot;FILE&quot; component tries to lock and process corresponding work file.&lt;/p&gt;


&lt;p&gt;This issue can be resolved by wrapping of corresponding rename operation by try-catch block. See diff.txt for &quot;camel-core/src/main/java/org/apache/camel/component/file/strategy/GenericFileRenameExclusiveReadLockStrategy.java&quot; in attachment which shows way to correct current issue.&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;http://stackoverflow.com/questions/40040023/cannot-rename-file-warning-while-using-idempotent-readlock-in-camel&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;Similar issue&lt;/a&gt; is applicable for previous Camel version also.  &lt;/p&gt;
</description>
                <environment>&lt;p&gt;Windows 7 / Java 8.&lt;/p&gt;</environment>
        <key id="13022428">CAMEL-10505</key>
            <summary>&quot;FILE&quot; component with option &quot;readLock=rename&quot; throws FileNotFound exception in case of work file is locked/used by another application</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/bug.png">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.png">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="davsclaus">Claus Ibsen</assignee>
                                    <reporter username="apoltavtsev">Andrey Poltavtsev</reporter>
                        <labels>
                    </labels>
                <created>Tue, 22 Nov 2016 08:34:47 +0000</created>
                <updated>Wed, 23 Nov 2016 13:12:10 +0000</updated>
                            <resolved>Tue, 22 Nov 2016 19:44:17 +0000</resolved>
                                    <version>2.17.3</version>
                                    <fixVersion>2.16.5</fixVersion>
                    <fixVersion>2.17.4</fixVersion>
                    <fixVersion>2.18.1</fixVersion>
                    <fixVersion>2.19.0</fixVersion>
                                    <component>camel-core</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>4</watches>
                                                                <comments>
                            <comment id="15686081" author="davsclaus" created="Tue, 22 Nov 2016 08:39:31 +0000"  >&lt;p&gt;Can you do a PR or patch file for this?&lt;br/&gt;
&lt;a href=&quot;http://camel.apache.org/contributing&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://camel.apache.org/contributing&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;PR on github is often the easiest. You can do this on the master branch and we will merge to older branches.&lt;/p&gt;</comment>
                            <comment id="15686101" author="apoltavtsev" created="Tue, 22 Nov 2016 08:47:19 +0000"  >&lt;p&gt;Yes, will provide patch soon&lt;/p&gt;</comment>
                            <comment id="15686150" author="apoltavtsev" created="Tue, 22 Nov 2016 09:07:41 +0000"  >&lt;p&gt;&lt;span class=&quot;nobr&quot;&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/attachment/12839989/12839989_camel-core.patch&quot; title=&quot;camel-core.patch attached to CAMEL-10505&quot;&gt;camel-core.patch&lt;sup&gt;&lt;img class=&quot;rendericon&quot; src=&quot;https://issues.apache.org/jira/images/icons/link_attachment_7.gif&quot; height=&quot;7&quot; width=&quot;7&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/sup&gt;&lt;/a&gt;&lt;/span&gt; is attached&lt;/p&gt;</comment>
                            <comment id="15686244" author="apoltavtsev" created="Tue, 22 Nov 2016 09:54:59 +0000"  >&lt;p&gt;Sorry, I did not follow instructions for PATH and see some formatting issue during compilation. I will do PR a bit later.&lt;/p&gt;</comment>
                            <comment id="15687221" author="githubbot" created="Tue, 22 Nov 2016 16:43:15 +0000"  >&lt;p&gt;GitHub user apoltavtsev opened a pull request:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/camel/pull/1295&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://github.com/apache/camel/pull/1295&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://issues.apache.org/jira/browse/CAMEL-10505&quot; title=&quot;&amp;quot;FILE&amp;quot; component with option &amp;quot;readLock=rename&amp;quot; throws FileNotFound exception in case of work file is locked/used by another application&quot; class=&quot;issue-link&quot; data-issue-key=&quot;CAMEL-10505&quot;&gt;&lt;del&gt;CAMEL-10505&lt;/del&gt;&lt;/a&gt; FILE component - resolved FileNotFountException in Gene&#8230;&lt;/p&gt;

&lt;p&gt;    &#8230;ric File Rename Exclusive Read Lock Strategy in case of work file is locked by another application&lt;/p&gt;

&lt;p&gt;You can merge this pull request into a Git repository by running:&lt;/p&gt;

&lt;p&gt;    $ git pull &lt;a href=&quot;https://github.com/apoltavtsev/camel&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://github.com/apoltavtsev/camel&lt;/a&gt; &lt;a href=&quot;https://issues.apache.org/jira/browse/CAMEL-10505&quot; title=&quot;&amp;quot;FILE&amp;quot; component with option &amp;quot;readLock=rename&amp;quot; throws FileNotFound exception in case of work file is locked/used by another application&quot; class=&quot;issue-link&quot; data-issue-key=&quot;CAMEL-10505&quot;&gt;&lt;del&gt;CAMEL-10505&lt;/del&gt;&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Alternatively you can review and apply these changes as the patch at:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/camel/pull/1295.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://github.com/apache/camel/pull/1295.patch&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;To close this pull request, make a commit to your master/trunk branch&lt;br/&gt;
with (at least) the following in the commit message:&lt;/p&gt;

&lt;p&gt;    This closes #1295&lt;/p&gt;

&lt;hr /&gt;
&lt;p&gt;commit cdc6dd0ad06d6ceb1ce3704f43937bbb4765c7dd&lt;br/&gt;
Author: apoltavtsev@gmail.com &amp;lt;apoltavtsev@gmail.com&amp;gt;&lt;br/&gt;
Date:   2016-11-22T12:39:11Z&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://issues.apache.org/jira/browse/CAMEL-10505&quot; title=&quot;&amp;quot;FILE&amp;quot; component with option &amp;quot;readLock=rename&amp;quot; throws FileNotFound exception in case of work file is locked/used by another application&quot; class=&quot;issue-link&quot; data-issue-key=&quot;CAMEL-10505&quot;&gt;&lt;del&gt;CAMEL-10505&lt;/del&gt;&lt;/a&gt; FILE component - resolved FileNotFountException in Generic File Rename Exclusive Read Lock Strategy in case of work file is locked by another application&lt;/p&gt;

&lt;hr /&gt;</comment>
                            <comment id="15687627" author="davsclaus" created="Tue, 22 Nov 2016 19:22:26 +0000"  >&lt;p&gt;Thanks for the PR - testing it now&lt;/p&gt;</comment>
                            <comment id="15687691" author="davsclaus" created="Tue, 22 Nov 2016 19:44:17 +0000"  >&lt;p&gt;Thanks for the PR&lt;/p&gt;</comment>
                            <comment id="15689957" author="githubbot" created="Wed, 23 Nov 2016 12:21:17 +0000"  >&lt;p&gt;Github user apoltavtsev closed the pull request at:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/camel/pull/1295&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://github.com/apache/camel/pull/1295&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="15690068" author="chris@die-schneider.net" created="Wed, 23 Nov 2016 13:12:10 +0000"  >&lt;p&gt;Just added a backport to 2.16.x as we still have products based on this.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12839989" name="camel-core.patch" size="1865" author="apoltavtsev" created="Tue, 22 Nov 2016 10:16:30 +0000"/>
                            <attachment id="12839968" name="diff.txt" size="518" author="apoltavtsev" created="Tue, 22 Nov 2016 08:45:57 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>2.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Tue, 22 Nov 2016 08:39:31 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12310060" key="com.atlassian.jira.plugin.system.customfieldtypes:select">
                        <customfieldname>Estimated Complexity</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10061"><![CDATA[Novice]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            1 week, 2 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i36mcf:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                    <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        </customfields>
    </item>
</channel>
</rss>