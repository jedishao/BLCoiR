<!-- 
RSS generated by JIRA (6.3.4#6332-sha1:51bc225ef474afe3128b2f66878477f322397b16) at Sat Dec 03 04:01:14 UTC 2016

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary add field=key&field=summary to the URL of your request.
For example:
https://issues.apache.org/jira/si/jira.issueviews:issue-xml/CAMEL-2153/CAMEL-2153.xml?field=key&amp;field=summary
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>6.3.4</version>
        <build-number>6332</build-number>
        <build-date>15-08-2014</build-date>
    </build-info>

<item>
            <title>[CAMEL-2153] FTP Component issue with tempPrefix or tempFileName</title>
                <link>https://issues.apache.org/jira/browse/CAMEL-2153</link>
                <project id="12311211" key="CAMEL">Camel</project>
                    <description>&lt;p&gt;using FTP component to push files via FTP I am facing issues pushing a file on subfolder when using tempPrefix or tempFileName. &lt;/p&gt;

&lt;p&gt;route sample: &lt;/p&gt;

&lt;p&gt;from(&quot;direct:start&quot;).to(&quot;ftp://username@ipaddress?password=mypass&amp;amp;fileName=./camel/test/message.txt&amp;amp;tempFileName=$&lt;/p&gt;
{file:name.noext}
&lt;p&gt;.tmp&quot;);&lt;/p&gt;

&lt;p&gt;no errors are raised if the final destination file doesn&apos;t exists, if it exists following error is raised: &lt;/p&gt;

&lt;p&gt;Exception in thread &quot;main&quot; org.apache.camel.CamelExecutionException: Exception occurred during execution on the exchange: Exchange&lt;span class=&quot;error&quot;&gt;&amp;#91;Message: Message content&amp;#93;&lt;/span&gt; &lt;br/&gt;
        at org.apache.camel.util.ObjectHelper.wrapCamelExecutionException(ObjectHelper.java:1055) &lt;br/&gt;
        at org.apache.camel.util.ExchangeHelper.extractResultBody(ExchangeHelper.java:446) &lt;br/&gt;
        at org.apache.camel.impl.DefaultProducerTemplate.extractResultBody(DefaultProducerTemplate.java:431) &lt;br/&gt;
        at org.apache.camel.impl.DefaultProducerTemplate.extractResultBody(DefaultProducerTemplate.java:427) &lt;br/&gt;
        at org.apache.camel.impl.DefaultProducerTemplate.sendBody(DefaultProducerTemplate.java:112) &lt;br/&gt;
        at org.apache.camel.impl.DefaultProducerTemplate.sendBody(DefaultProducerTemplate.java:117) &lt;br/&gt;
        at com.opta.camel.test.FTPTester.main(FTPTester.java:30) &lt;br/&gt;
Caused by: java.lang.NullPointerException &lt;br/&gt;
        at org.apache.camel.component.file.remote.FtpOperations.existsFile(FtpOperations.java:372)&lt;br/&gt;
        at org.apache.camel.component.file.GenericFileProducer.processExchange(GenericFileProducer.java:92) &lt;br/&gt;
        at org.apache.camel.component.file.remote.RemoteFileProducer.process(RemoteFileProducer.java:52) &lt;br/&gt;
        at org.apache.camel.processor.SendProcessor$1.doInProducer(SendProcessor.java:86) &lt;br/&gt;
        at org.apache.camel.processor.SendProcessor$1.doInProducer(SendProcessor.java:84) &lt;br/&gt;
        at org.apache.camel.impl.ProducerCache.doInProducer(ProducerCache.java:146) &lt;br/&gt;
        at org.apache.camel.processor.SendProcessor.process(SendProcessor.java:83) &lt;br/&gt;
        at org.apache.camel.management.InstrumentationProcessor.process(InstrumentationProcessor.java:67) &lt;br/&gt;
        at org.apache.camel.processor.DelegateProcessor.processNext(DelegateProcessor.java:53) &lt;br/&gt;
        at org.apache.camel.processor.DelegateProcessor.proceed(DelegateProcessor.java:82) &lt;br/&gt;
        at org.apache.camel.processor.interceptor.TraceInterceptor.process(TraceInterceptor.java:85) &lt;br/&gt;
        at org.apache.camel.management.InstrumentationProcessor.process(InstrumentationProcessor.java:67) &lt;br/&gt;
        at org.apache.camel.processor.RedeliveryErrorHandler.processExchange(RedeliveryErrorHandler.java:232) &lt;br/&gt;
        at org.apache.camel.processor.RedeliveryErrorHandler.processErrorHandler(RedeliveryErrorHandler.java:162) &lt;br/&gt;
        at org.apache.camel.processor.RedeliveryErrorHandler.process(RedeliveryErrorHandler.java:91) &lt;br/&gt;
        at org.apache.camel.processor.DefaultErrorHandler.process(DefaultErrorHandler.java:49) &lt;br/&gt;
        at org.apache.camel.processor.DefaultChannel.process(DefaultChannel.java:201) &lt;br/&gt;
        at org.apache.camel.processor.UnitOfWorkProcessor.processNext(UnitOfWorkProcessor.java:54) &lt;br/&gt;
        at org.apache.camel.processor.DelegateProcessor.process(DelegateProcessor.java:48) &lt;br/&gt;
        at org.apache.camel.management.InstrumentationProcessor.process(InstrumentationProcessor.java:67) &lt;br/&gt;
        at org.apache.camel.component.direct.DirectProducer.process(DirectProducer.java:45) &lt;br/&gt;
        at org.apache.camel.impl.ProducerCache$1.doInProducer(ProducerCache.java:179) &lt;br/&gt;
        at org.apache.camel.impl.ProducerCache$1.doInProducer(ProducerCache.java:161) &lt;br/&gt;
        at org.apache.camel.impl.ProducerCache.doInProducer(ProducerCache.java:146) &lt;br/&gt;
        at org.apache.camel.impl.ProducerCache.sendExchange(ProducerCache.java:160) &lt;br/&gt;
        at org.apache.camel.impl.ProducerCache.send(ProducerCache.java:98) &lt;br/&gt;
        at org.apache.camel.impl.DefaultProducerTemplate.send(DefaultProducerTemplate.java:97) &lt;br/&gt;
        at org.apache.camel.impl.DefaultProducerTemplate.sendBody(DefaultProducerTemplate.java:110) &lt;br/&gt;
        ... 2 more&lt;/p&gt;</description>
                <environment>&lt;p&gt;OS: Windows XP where application runs, Windows 2003 is the FTP server.&lt;/p&gt;</environment>
        <key id="12486866">CAMEL-2153</key>
            <summary>FTP Component issue with tempPrefix or tempFileName</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/bug.png">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.png">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="davsclaus">Claus Ibsen</assignee>
                                    <reporter username="crive">Marco Crivellaro</reporter>
                        <labels>
                    </labels>
                <created>Mon, 9 Nov 2009 14:37:25 +0000</created>
                <updated>Thu, 3 Jun 2010 07:25:20 +0000</updated>
                            <resolved>Tue, 10 Nov 2009 13:32:22 +0000</resolved>
                                    <version>2.1.0</version>
                                    <fixVersion>2.1.0</fixVersion>
                                    <component>camel-ftp</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                <comments>
                            <comment id="12952854" author="davsclaus" created="Tue, 10 Nov 2009 06:00:51 +0000"  >&lt;p&gt;Can you try with latest code as I cannot reproduce this error and the stacktrace line numbers have changed since.&lt;/p&gt;

&lt;p&gt;I will add an unit test I have used, but the Apache SVN is not working currently so I cant commit it.&lt;/p&gt;</comment>
                            <comment id="12953101" author="davsclaus" created="Tue, 10 Nov 2009 07:23:41 +0000"  >&lt;p&gt;Committed now&lt;br/&gt;
&lt;a href=&quot;http://svn.apache.org/viewvc?rev=834371&amp;amp;view=rev&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://svn.apache.org/viewvc?rev=834371&amp;amp;view=rev&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="12953266" author="crive" created="Tue, 10 Nov 2009 13:05:43 +0000"  >&lt;p&gt;I&apos;ve tried the same route with a bunch of FTP Server, in some cases it works (no issues on org.apache.camel.component.file.remote.FtpOperations.existsFile).&lt;/p&gt;

&lt;p&gt;When directory where to place the file is empty or doesn&apos;t exist&lt;br/&gt;
client.listNames(directory); returns an empty array in some ftp servers or null in some others&lt;br/&gt;
when client.listNames returns null the camel runs in NullPointerException&lt;/p&gt;

&lt;p&gt;here is the piece of code where the exception is raised:&lt;/p&gt;

&lt;p&gt;            String[] names = client.listNames(directory);&lt;br/&gt;
            for (String existing : names) {&lt;br/&gt;
                if (existing.equals(onlyName)) &lt;/p&gt;
{
                    return true;
                }
&lt;p&gt;            }&lt;/p&gt;

&lt;p&gt;I guess you should just return false in case names is null.&lt;/p&gt;</comment>
                            <comment id="12953264" author="davsclaus" created="Tue, 10 Nov 2009 13:32:22 +0000"  >&lt;p&gt;trunk: 834460.&lt;/p&gt;

&lt;p&gt;Thanks Marco I have fixed the NPE.&lt;/p&gt;

&lt;p&gt;PS: You may want to use &lt;a href=&quot;file:onlyname.noext&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;file:onlyname.noext&lt;/a&gt; in the tempFile option to avoid leading paths if you upload files that contains paths.&lt;/p&gt;</comment>
                            <comment id="12956214" author="davsclaus" created="Thu, 3 Jun 2010 07:25:20 +0000"  >&lt;p&gt;Closing old resolved issues&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Tue, 10 Nov 2009 06:00:51 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>76619</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            6 years, 27 weeks, 1 day ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i01mu7:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>7469</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                    <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        </customfields>
    </item>
</channel>
</rss>