<!-- 
RSS generated by JIRA (6.3.4#6332-sha1:51bc225ef474afe3128b2f66878477f322397b16) at Sat Dec 03 04:12:17 UTC 2016

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary add field=key&field=summary to the URL of your request.
For example:
https://issues.apache.org/jira/si/jira.issueviews:issue-xml/CAMEL-7411/CAMEL-7411.xml?field=key&amp;field=summary
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>6.3.4</version>
        <build-number>6332</build-number>
        <build-date>15-08-2014</build-date>
    </build-info>

<item>
            <title>[CAMEL-7411] EventDrivenPollingConsumer can lose exchanges when the internal queue is full</title>
                <link>https://issues.apache.org/jira/browse/CAMEL-7411</link>
                <project id="12311211" key="CAMEL">Camel</project>
                    <description>&lt;p&gt;The exchange processing in the &lt;tt&gt;EventDrivenPollingConsumer&lt;/tt&gt; can lose exchanges when the internal queue is bounded and full.&lt;/p&gt;

&lt;p&gt;The implementation:&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;public void process(Exchange exchange) throws Exception {
    queue.offer(exchange);
}
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;The reason is that &lt;tt&gt;BlockingQueue.offer(...)&lt;/tt&gt; is non-blocking and returns a boolean which indicates whether the element was added.&lt;br/&gt;
However, the return value is ignored causing the exchange to get lost if it could not be added.&lt;/p&gt;

&lt;p&gt;A potential workaround is to use an unbounded BlockingQueue (e.g. LinkedBlockingQueue).&lt;/p&gt;</description>
                <environment></environment>
        <key id="12712294">CAMEL-7411</key>
            <summary>EventDrivenPollingConsumer can lose exchanges when the internal queue is full</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/bug.png">Bug</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.png">Minor</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="davsclaus">Claus Ibsen</assignee>
                                    <reporter username="bwaldvogel">Benedikt Waldvogel</reporter>
                        <labels>
                    </labels>
                <created>Mon, 5 May 2014 11:39:53 +0000</created>
                <updated>Thu, 8 May 2014 11:21:00 +0000</updated>
                            <resolved>Tue, 6 May 2014 07:56:44 +0000</resolved>
                                    <version>2.13.0</version>
                                    <fixVersion>2.12.4</fixVersion>
                    <fixVersion>2.13.1</fixVersion>
                    <fixVersion>2.14.0</fixVersion>
                                    <component>camel-core</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                                <comments>
                            <comment id="13990401" author="davsclaus" created="Tue, 6 May 2014 07:56:44 +0000"  >&lt;p&gt;Thanks for reporting. We now block by default, and there is new options you can use to configure the initial queue size, and whether to block or not.&lt;/p&gt;

&lt;p&gt;Documented at&lt;br/&gt;
&lt;a href=&quot;https://cwiki.apache.org/confluence/display/CAMEL/Polling+Consumer&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://cwiki.apache.org/confluence/display/CAMEL/Polling+Consumer&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="13991625" author="bwaldvogel" created="Wed, 7 May 2014 07:23:24 +0000"  >&lt;p&gt;Thanks for fixing this so quickly!&lt;/p&gt;

&lt;p&gt;Is it also planned to backport this fix on Camel 2.12?&lt;/p&gt;

&lt;p&gt;One nit-picky remark on your &lt;a href=&quot;https://git-wip-us.apache.org/repos/asf?p=camel.git;a=commitdiff;h=f0b8e011f29772da7d0da92852b8f70d5b31ad80&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;commit f0b8e011&lt;/a&gt;:&lt;br/&gt;
Why do do you use a &lt;tt&gt;LinkedBlockingDeque&lt;/tt&gt; instead of a &lt;tt&gt;LinkedBlockingQueue&lt;/tt&gt;?&lt;/p&gt;

&lt;p&gt;How do you like the idea to add another option (e.g. &lt;tt&gt;pollingConsumerBlockTimeout&lt;/tt&gt;) to set a max wait time before it gives up adding an exchange to the internal queue?&lt;/p&gt;</comment>
                            <comment id="13992512" author="davsclaus" created="Thu, 8 May 2014 05:12:48 +0000"  >&lt;p&gt;Thanks for spotting the dequeue.&lt;/p&gt;

&lt;p&gt;Log another ticket for the timeout idea.&lt;/p&gt;</comment>
                            <comment id="13992694" author="bwaldvogel" created="Thu, 8 May 2014 11:21:00 +0000"  >&lt;p&gt;Thanks!&lt;/p&gt;

&lt;p&gt;I&apos;ve created a follow-up ticket: &lt;a href=&quot;https://issues.apache.org/jira/browse/CAMEL-7425&quot; title=&quot;Add EventDrivenPollingConsumer option to specify timeout&quot; class=&quot;issue-link&quot; data-issue-key=&quot;CAMEL-7425&quot;&gt;&lt;del&gt;CAMEL-7425&lt;/del&gt;&lt;/a&gt;.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Tue, 6 May 2014 07:56:44 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12310060" key="com.atlassian.jira.plugin.system.customfieldtypes:select">
                        <customfieldname>Estimated Complexity</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10060"><![CDATA[Unknown]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>390610</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            2 years, 30 weeks, 1 day ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1va4f:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>390856</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                    <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        </customfields>
    </item>
</channel>
</rss>