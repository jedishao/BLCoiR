<!-- 
RSS generated by JIRA (6.3.4#6332-sha1:51bc225ef474afe3128b2f66878477f322397b16) at Sat Dec 03 02:07:21 UTC 2016

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary add field=key&field=summary to the URL of your request.
For example:
https://issues.apache.org/jira/si/jira.issueviews:issue-xml/CAMEL-8887/CAMEL-8887.xml?field=key&amp;field=summary
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>6.3.4</version>
        <build-number>6332</build-number>
        <build-date>15-08-2014</build-date>
    </build-info>

<item>
            <title>[CAMEL-8887] Exceptions on routes SFTP and SEDA or DISRUPTOR (probably others)</title>
                <link>https://issues.apache.org/jira/browse/CAMEL-8887</link>
                <project id="12311211" key="CAMEL">Camel</project>
                    <description>&lt;p&gt;When polling from SFTP, if the exchanges are sent to asynchronous routes (seda, disruptor) many different types of exceptions happen everytime, when retrienving the content or deleting / moving / renaming the polled files.&lt;/p&gt;

&lt;p&gt;The cause is that when routes are executed asynchronously, concurrent calls to SftpOperations are made. It looks like SftpOperations as well as ChannelSftp (Jsch) are not thread-safe. Sftp commands are either colliding, and sometime are invalid at the protocol level.&lt;/p&gt;

&lt;p&gt;One workaround is to make SftpOperations thread-safe by making its methods synchronized.&lt;/p&gt;

&lt;p&gt;Maybe there is another better place for a fix but i leave that to the specialists.&lt;/p&gt;</description>
                <environment>&lt;p&gt;Camel running on Windows, polling Linux server.&lt;/p&gt;</environment>
        <key id="12839073">CAMEL-8887</key>
            <summary>Exceptions on routes SFTP and SEDA or DISRUPTOR (probably others)</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/bug.png">Bug</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.png">Minor</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="davsclaus">Claus Ibsen</assignee>
                                    <reporter username="gegefr">Gwenha&#235;l PASQUIERS</reporter>
                        <labels>
                    </labels>
                <created>Fri, 19 Jun 2015 08:46:45 +0000</created>
                <updated>Wed, 5 Aug 2015 11:32:43 +0000</updated>
                            <resolved>Wed, 5 Aug 2015 11:32:43 +0000</resolved>
                                                    <fixVersion>2.15.3</fixVersion>
                    <fixVersion>2.16.0</fixVersion>
                                    <component>camel-ftp</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                                <comments>
                            <comment id="14593207" author="gegefr" created="Fri, 19 Jun 2015 08:48:28 +0000"  >&lt;p&gt;Link to the related discussion on the maling list archive (nabble)&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;http://camel.465427.n5.nabble.com/sftp-gt-seda-yields-GenericFileOperationFailedException-during-GenericFileOnCompletion-move-processig-td2905598.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://camel.465427.n5.nabble.com/sftp-gt-seda-yields-GenericFileOperationFailedException-during-GenericFileOnCompletion-move-processig-td2905598.html&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="14593212" author="davsclaus" created="Fri, 19 Jun 2015 08:51:10 +0000"  >&lt;p&gt;Use synchronous on the ftp endpoint, eg synchronous=true. You cannot have it async. Marking methods as synchronous is not the solution.&lt;/p&gt;</comment>
                            <comment id="14593239" author="gegefr" created="Fri, 19 Jun 2015 09:07:23 +0000"  >&lt;p&gt;Where can this option be set ?&lt;br/&gt;
I use xml dsl in spring.&lt;/p&gt;</comment>
                            <comment id="14593247" author="davsclaus" created="Fri, 19 Jun 2015 09:11:28 +0000"  >&lt;p&gt;See&lt;br/&gt;
&lt;a href=&quot;http://camel.apache.org/how-do-i-configure-endpoints.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://camel.apache.org/how-do-i-configure-endpoints.html&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="14593378" author="gegefr" created="Fri, 19 Jun 2015 12:30:29 +0000"  >&lt;p&gt;If I understood correctly, adding &quot;sftp://........?synchronous=true&amp;amp;......&quot; to the endpoint URI should do the job.&lt;/p&gt;

&lt;p&gt;The &quot;synchronous&quot; property seems to be understood since if i type it wrong the uri cannot be parsed.&lt;/p&gt;

&lt;p&gt;However, no matter if it is true or false, I still have the same exceptions.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Fri, 19 Jun 2015 08:51:10 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12310060" key="com.atlassian.jira.plugin.system.customfieldtypes:select">
                        <customfieldname>Estimated Complexity</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10062"><![CDATA[Moderate]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            1 year, 24 weeks ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i2g97z:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                    <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        </customfields>
    </item>
</channel>
</rss>