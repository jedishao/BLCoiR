<!-- 
RSS generated by JIRA (6.3.4#6332-sha1:51bc225ef474afe3128b2f66878477f322397b16) at Sat Dec 03 04:45:04 UTC 2016

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary add field=key&field=summary to the URL of your request.
For example:
https://issues.apache.org/jira/si/jira.issueviews:issue-xml/CAMEL-3045/CAMEL-3045.xml?field=key&amp;field=summary
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>6.3.4</version>
        <build-number>6332</build-number>
        <build-date>15-08-2014</build-date>
    </build-info>

<item>
            <title>[CAMEL-3045] Flatpack component : unable to set the delimiter parameter in spring config file</title>
                <link>https://issues.apache.org/jira/browse/CAMEL-3045</link>
                <project id="12311211" key="CAMEL">Camel</project>
                    <description>&lt;p&gt;It&apos;s not possible to set the delimiter parameter in spring configuration file or I don&apos;t find the way to do it !&lt;br/&gt;
For example : &lt;br/&gt;
&amp;lt;route id=&quot;routeA&quot;&amp;gt;&lt;br/&gt;
   &amp;lt;from uri=&quot;file:src/test/resources/csv?move=done/&amp;amp;fileName=testfileRouteA.csv&quot; /&amp;gt;&lt;br/&gt;
   &amp;lt;to uri=&quot;flatpack:delim:META-INF/Delimited.pzmap.xml?delimiter=;&quot; /&amp;gt;&lt;br/&gt;
&amp;lt;/route&amp;gt;&lt;/p&gt;

&lt;p&gt;I get the following error :&lt;br/&gt;
Exception in thread &quot;main&quot; org.apache.camel.RuntimeCamelException: org.apache.camel.FailedToCreateRouteException: Failed to create route routeA at: &amp;gt;&amp;gt;&amp;gt; To&lt;span class=&quot;error&quot;&gt;&amp;#91;flatpack:delim:META-INF/Delimited.pzmap.xml?ignoreFirstRecord=false&amp;amp;splitRows=true&amp;amp;delimiter=;&amp;#93;&lt;/span&gt; &amp;lt;&amp;lt;&amp;lt; in route: Route[[From[file:src/test/resources/csv?move=done/&amp;amp;fileName=... because of Failed to resolve endpoint: flatpack://delim:META-INF/Delimited.pzmap.xml?delimiter=%3B&amp;amp;ignoreFirstRecord=false&amp;amp;splitRows=true due to: Could not find a suitable setter for property: delimiter as there isn&apos;t a setter method with same type: java.lang.String nor type conversion possible: No type converter available to convert from type: java.lang.String to the required type: char with value ;&lt;br/&gt;
	at org.apache.camel.util.ObjectHelper.wrapRuntimeCamelException(ObjectHelper.java:1126)&lt;br/&gt;
	at org.apache.camel.spring.SpringCamelContext.onApplicationEvent(SpringCamelContext.java:103)&lt;br/&gt;
	at org.apache.camel.spring.CamelContextFactoryBean.onApplicationEvent(CamelContextFactoryBean.java:231)&lt;br/&gt;
	at org.springframework.context.event.SimpleApplicationEventMulticaster.multicastEvent(SimpleApplicationEventMulticaster.java:97)&lt;br/&gt;
	at org.springframework.context.support.AbstractApplicationContext.publishEvent(AbstractApplicationContext.java:303)&lt;br/&gt;
	at org.springframework.context.support.AbstractApplicationContext.finishRefresh(AbstractApplicationContext.java:911)&lt;br/&gt;
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:428)&lt;br/&gt;
	at org.springframework.context.support.ClassPathXmlApplicationContext.&amp;lt;init&amp;gt;(ClassPathXmlApplicationContext.java:139)&lt;br/&gt;
	at org.springframework.context.support.ClassPathXmlApplicationContext.&amp;lt;init&amp;gt;(ClassPathXmlApplicationContext.java:93)&lt;br/&gt;
	at org.apache.camel.spring.Main.createDefaultApplicationContext(Main.java:219)&lt;br/&gt;
	at org.apache.camel.spring.Main.doStart(Main.java:173)&lt;br/&gt;
	at org.apache.camel.impl.ServiceSupport.start(ServiceSupport.java:56)&lt;br/&gt;
	at org.apache.camel.impl.MainSupport.run(MainSupport.java:114)&lt;br/&gt;
	at org.apache.camel.impl.MainSupport.run(MainSupport.java:291)&lt;br/&gt;
	at org.apache.camel.spring.Main.main(Main.java:97)&lt;/p&gt;

&lt;p&gt;If it&apos;s a bug, to solve it, it&apos;s just necessary to change the class org.apache.camel.component.flatpack.DelimitedEndpoint as below :&lt;/p&gt;
&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;change the flied definition like this (and getter/setter to):&lt;br/&gt;
    private String delimiter = &quot;,&quot;;&lt;br/&gt;
    private String textQualifier = &quot;\&quot;&quot;;&lt;/li&gt;
&lt;/ul&gt;


&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;and the the method createParser like this :&lt;br/&gt;
    public Parser createParser(Exchange exchange) throws InvalidPayloadException, IOException 
&lt;div class=&quot;error&quot;&gt;&lt;span class=&quot;error&quot;&gt;Unknown macro: {        Reader bodyReader = ExchangeHelper.getMandatoryInBody(exchange, Reader.class);        Resource resource = getResource();        if (delimiter == null || delimiter.equals(&amp;quot;&amp;quot;))        	delimiter = &amp;quot;,&amp;quot;;                if (textQualifier == null || textQualifier.equals(&amp;quot;&amp;quot;))        	textQualifier = &amp;quot;&amp;quot;&amp;quot;;        if (resource == null) {
            return getParserFactory().newDelimitedParser(bodyReader, delimiter.charAt(0), textQualifier.charAt(0));
        } else {
            return getParserFactory().newDelimitedParser(new InputStreamReader(resource.getInputStream()), bodyReader, delimiter.charAt(0), textQualifier.charAt(0), ignoreFirstRecord);
        }    }&lt;/span&gt; &lt;/div&gt;&lt;/li&gt;
&lt;/ul&gt;

</description>
                <environment></environment>
        <key id="12485142">CAMEL-3045</key>
            <summary>Flatpack component : unable to set the delimiter parameter in spring config file</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/bug.png">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.png">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="davsclaus">Claus Ibsen</assignee>
                                    <reporter username="rsinelle">Richard Sinelle</reporter>
                        <labels>
                    </labels>
                <created>Wed, 11 Aug 2010 12:38:12 +0000</created>
                <updated>Sun, 24 Apr 2011 09:58:14 +0000</updated>
                            <resolved>Wed, 11 Aug 2010 14:28:10 +0000</resolved>
                                    <version>2.4.0</version>
                                    <fixVersion>2.5.0</fixVersion>
                                    <component>camel-flatpack</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                <comments>
                            <comment id="12945996" author="davsclaus" created="Wed, 11 Aug 2010 13:21:57 +0000"  >&lt;p&gt;Ah we just need a String -&amp;gt; char type converter and we are all set.&lt;/p&gt;</comment>
                            <comment id="12945886" author="davsclaus" created="Wed, 11 Aug 2010 14:28:10 +0000"  >&lt;p&gt;trunk: 984420.&lt;/p&gt;</comment>
                            <comment id="13024110" author="davsclaus" created="Sun, 24 Apr 2011 09:58:14 +0000"  >&lt;p&gt;Closing all resolved tickets from 2010 or older&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Wed, 11 Aug 2010 13:21:57 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>76364</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            5 years, 32 weeks, 5 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i01sbj:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>8357</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                    <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        </customfields>
    </item>
</channel>
</rss>