<!-- 
RSS generated by JIRA (6.3.4#6332-sha1:51bc225ef474afe3128b2f66878477f322397b16) at Sat Dec 03 02:58:46 UTC 2016

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary add field=key&field=summary to the URL of your request.
For example:
https://issues.apache.org/jira/si/jira.issueviews:issue-xml/CAMEL-3081/CAMEL-3081.xml?field=key&amp;field=summary
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>6.3.4</version>
        <build-number>6332</build-number>
        <build-date>15-08-2014</build-date>
    </build-info>

<item>
            <title>[CAMEL-3081] netty timeout exception</title>
                <link>https://issues.apache.org/jira/browse/CAMEL-3081</link>
                <project id="12311211" key="CAMEL">Camel</project>
                    <description>&lt;p&gt;eventhough message was received by netty procuder, it thows a timeout exception after 30 secs. here is the route and log. as this is a basic functionality I think this is critical priority.&lt;/p&gt;

&lt;p&gt;		from(&quot;netty:tcp://localhost:6205?textline=true&amp;amp;sync=true&quot;).process(new Processor() {&lt;br/&gt;
		    int i=0;&lt;br/&gt;
			public void process(Exchange exchange) throws Exception &lt;/p&gt;
{
		        String body = exchange.getIn().getBody(String.class);
				Thread.sleep(5000);
		        exchange.getOut().setBody(&quot;Bye 1&quot; + body);
		       // if(i++%2==1) throw new IOException(&quot;custom exception&quot;);
		    }
&lt;p&gt;		});&lt;/p&gt;


&lt;p&gt;		from(&quot;file:///test/test/response&quot;)&lt;br/&gt;
		.convertBodyTo(String.class)&lt;br/&gt;
		.threads(1)&lt;br/&gt;
		.to(ExchangePattern.InOut,&quot;netty:tcp://localhost:6205?textline=true&amp;amp;sync=true&quot;)&lt;br/&gt;
		.to(&quot;log:+++ reply++++&quot;);&lt;/p&gt;

&lt;p&gt;2010-08-25 11:33:29,963 &lt;span class=&quot;error&quot;&gt;&amp;#91;1 - file:///test/test/response&amp;#93;&lt;/span&gt; FileConsumer                   DEBUG Total 1 files to consume&lt;br/&gt;
2010-08-25 11:33:29,963 &lt;span class=&quot;error&quot;&gt;&amp;#91;1 - file:///test/test/response&amp;#93;&lt;/span&gt; FileConsumer                   DEBUG About to process file: GenericFile&lt;span class=&quot;error&quot;&gt;&amp;#91;C:\test\test\response\hello1.txt&amp;#93;&lt;/span&gt; using exchange: Exchange[GenericFileMessage with file: GenericFile&lt;span class=&quot;error&quot;&gt;&amp;#91;C:\test\test\response\hello1.txt&amp;#93;&lt;/span&gt;]&lt;br/&gt;
2010-08-25 11:33:31,510 [      Camel Thread 6 - Threads] SendProcessor                  DEBUG &amp;gt;&amp;gt;&amp;gt;&amp;gt; Endpoint&lt;span class=&quot;error&quot;&gt;&amp;#91;tcp://localhost:6205&amp;#93;&lt;/span&gt; Exchange&lt;span class=&quot;error&quot;&gt;&amp;#91;GenericFileMessage with body: hello1&amp;#93;&lt;/span&gt;&lt;br/&gt;
2010-08-25 11:33:31,682 [      Camel Thread 6 - Threads] NettyProducer                  DEBUG Creating connector to address: localhost:6205&lt;br/&gt;
2010-08-25 11:33:31,682 [      Camel Thread 6 - Threads] NettyProducer                  DEBUG Writing body: hello1&lt;/p&gt;

&lt;p&gt;2010-08-25 11:33:31,697 [    New I/O client worker #1-1] NettyProducer                  DEBUG Operation complete org.jboss.netty.channel.DefaultChannelFuture@944dbd&lt;br/&gt;
2010-08-25 11:33:31,697 [    New I/O server worker #1-1] ServerChannelHandler           DEBUG Incoming message: hello1&lt;br/&gt;
2010-08-25 11:33:36,697 [    New I/O server worker #1-1] ServerChannelHandler           DEBUG Writing body: Bye 1hello1&lt;/p&gt;

&lt;p&gt;2010-08-25 11:33:36,697 [    New I/O client worker #1-1] ClientChannelHandler           DEBUG Message received: Bye 1hello1&lt;br/&gt;
2010-08-25 11:33:36,697 [    New I/O client worker #1-1] SendProcessor                  DEBUG &amp;gt;&amp;gt;&amp;gt;&amp;gt; Endpoint&lt;span class=&quot;error&quot;&gt;&amp;#91;log://+++ reply++++&amp;#93;&lt;/span&gt; Exchange&lt;span class=&quot;error&quot;&gt;&amp;#91;GenericFileMessage with body: Bye 1hello1&amp;#93;&lt;/span&gt;&lt;br/&gt;
2010-08-25 11:33:36,713 [    New I/O client worker #1-1] +++ reply++++                  INFO  Exchange&lt;span class=&quot;error&quot;&gt;&amp;#91;ExchangePattern:InOut, BodyType:String, Body:Bye 1hello1&amp;#93;&lt;/span&gt;&lt;br/&gt;
2010-08-25 11:33:36,713 [    New I/O client worker #1-1] GenericFileOnCompletion        DEBUG Done processing file: GenericFile&lt;span class=&quot;error&quot;&gt;&amp;#91;C:\test\test\response\hello1.txt&amp;#93;&lt;/span&gt; using exchange: Exchange&lt;span class=&quot;error&quot;&gt;&amp;#91;GenericFileMessage with body: Bye 1hello1&amp;#93;&lt;/span&gt;&lt;br/&gt;
2010-08-25 11:33:36,713 [    New I/O client worker #1-1] FileUtil                       DEBUG Tried 1 to delete file: C:\test\test\response\hello1.txt.camelLock with result: true&lt;br/&gt;
2010-08-25 11:33:36,713 [    New I/O client worker #1-1] nericFileRenameProcessStrategy DEBUG Renaming file: GenericFile&lt;span class=&quot;error&quot;&gt;&amp;#91;C:\test\test\response\hello1.txt&amp;#93;&lt;/span&gt; to: GenericFile&lt;span class=&quot;error&quot;&gt;&amp;#91;C:\test\test\response\.camel\hello1.txt&amp;#93;&lt;/span&gt;&lt;br/&gt;
2010-08-25 11:33:36,713 [    New I/O client worker #1-1] FileUtil                       DEBUG Tried 1 to rename file: C:\test\test\response\hello1.txt to: C:\test\test\response\.camel\hello1.txt with result: true&lt;br/&gt;
2010-08-25 11:34:06,886 [         Hashed wheel timer #1] DefaultErrorHandler            DEBUG Failed delivery for exchangeId: f5eb372d-a214-4418-a60f-62c0557768d2. On delivery attempt: 0 caught: org.apache.camel.ExchangeTimedOutException: The OUT message was not received within: 30000 millis. Exchange&lt;span class=&quot;error&quot;&gt;&amp;#91;GenericFileMessage with body: Bye 1hello1&amp;#93;&lt;/span&gt;&lt;br/&gt;
2010-08-25 11:34:06,886 [         Hashed wheel timer #1] DefaultErrorHandler            ERROR Failed delivery for exchangeId: f5eb372d-a214-4418-a60f-62c0557768d2. Exhausted after delivery attempt: 1 caught: org.apache.camel.ExchangeTimedOutException: The OUT message was not received within: 30000 millis. Exchange&lt;span class=&quot;error&quot;&gt;&amp;#91;GenericFileMessage with body: Bye 1hello1&amp;#93;&lt;/span&gt;&lt;br/&gt;
org.apache.camel.ExchangeTimedOutException: The OUT message was not received within: 30000 millis. Exchange&lt;span class=&quot;error&quot;&gt;&amp;#91;GenericFileMessage with body: Bye 1hello1&amp;#93;&lt;/span&gt;&lt;/p&gt;</description>
                <environment>&lt;p&gt;tomcat&lt;/p&gt;</environment>
        <key id="12487416">CAMEL-3081</key>
            <summary>netty timeout exception</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/bug.png">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.png">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="davsclaus">Claus Ibsen</assignee>
                                    <reporter username="skusma@arccorp.com">Anand</reporter>
                        <labels>
                    </labels>
                <created>Wed, 25 Aug 2010 15:45:27 +0000</created>
                <updated>Sun, 24 Apr 2011 09:57:43 +0000</updated>
                            <resolved>Thu, 26 Aug 2010 08:03:32 +0000</resolved>
                                    <version>2.4.0</version>
                                    <fixVersion>2.5.0</fixVersion>
                                    <component>camel-netty</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                <comments>
                            <comment id="12945737" author="davsclaus" created="Wed, 25 Aug 2010 16:01:16 +0000"  >&lt;p&gt;See the release notes for Camel 2.4.0&lt;br/&gt;
&lt;a href=&quot;http://camel.apache.org/camel-240-release.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://camel.apache.org/camel-240-release.html&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;It explains that you must set the timeout to 0 as it doesnt work in Camel 2.4.&lt;/p&gt;

&lt;p&gt;Try using 2.5-SNAPSHOT&lt;/p&gt;</comment>
                            <comment id="12945595" author="skusma@arccorp.com" created="Wed, 25 Aug 2010 16:12:27 +0000"  >&lt;p&gt;changing from critical to major becuase it doesn&apos;t crash but does trigger false failure alerts.&lt;/p&gt;</comment>
                            <comment id="12945799" author="skusma@arccorp.com" created="Wed, 25 Aug 2010 16:24:23 +0000"  >&lt;p&gt;as you are fixing it in next release, I guess this bug can be closed?. sorry, I didn&apos;t realise it was in release notes.&lt;/p&gt;</comment>
                            <comment id="12945677" author="skusma@arccorp.com" created="Wed, 25 Aug 2010 16:31:55 +0000"  >&lt;p&gt;I tried with timeout as zero, it doesn&apos;t generate that exception any more.i hope 2.5 still runs in a async mode fine. I am thinking timeout is applicable only for sync mode?.&lt;/p&gt;</comment>
                            <comment id="12956506" author="davsclaus" created="Thu, 26 Aug 2010 08:03:32 +0000"  >&lt;p&gt;trunk: 989516.&lt;/p&gt;

&lt;p&gt;Removed the &lt;tt&gt;timeout&lt;/tt&gt; option as it was flawed.&lt;/p&gt;</comment>
                            <comment id="13023910" author="davsclaus" created="Sun, 24 Apr 2011 09:57:43 +0000"  >&lt;p&gt;Closing all resolved tickets from 2010 or older&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Wed, 25 Aug 2010 16:01:16 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>76353</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            5 years, 32 weeks, 5 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i01sjj:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>8393</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                    <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        </customfields>
    </item>
</channel>
</rss>