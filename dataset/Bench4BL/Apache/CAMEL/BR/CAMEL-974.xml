<!-- 
RSS generated by JIRA (6.3.4#6332-sha1:51bc225ef474afe3128b2f66878477f322397b16) at Sat Dec 03 01:52:00 UTC 2016

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary add field=key&field=summary to the URL of your request.
For example:
https://issues.apache.org/jira/si/jira.issueviews:issue-xml/CAMEL-974/CAMEL-974.xml?field=key&amp;field=summary
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>6.3.4</version>
        <build-number>6332</build-number>
        <build-date>15-08-2014</build-date>
    </build-info>

<item>
            <title>[CAMEL-974] DataSetSedaTest intermittent test failure</title>
                <link>https://issues.apache.org/jira/browse/CAMEL-974</link>
                <project id="12311211" key="CAMEL">Camel</project>
                    <description>&lt;p&gt;I get this kind of failures in the DataSetSedaTest now and then:&lt;/p&gt;

&lt;p&gt;Tests run: 1, Failures: 0, Errors: 1, Skipped: 0, Time elapsed: 4.731 sec &amp;lt;&amp;lt;&amp;lt; FAILURE!&lt;br/&gt;
test(org.apache.camel.component.dataset.DataSetSedaTest)  Time elapsed: 4.49 sec  &amp;lt;&amp;lt;&amp;lt; ERROR!&lt;br/&gt;
java.lang.AssertionError: dataset:foo Failed due to caught exception: java.lang.AssertionError: Header: camelDataSetIndex does not match. Expected: 33 but was: 32 on Exchange&lt;span class=&quot;error&quot;&gt;&amp;#91;Message: &amp;lt;hello&amp;gt;world!&amp;lt;/hello&amp;gt;&amp;#93;&lt;/span&gt; with headers: &lt;/p&gt;
{camelDataSetIndex=32}
&lt;p&gt;        at org.apache.camel.component.mock.MockEndpoint.fail(MockEndpoint.java:712)&lt;br/&gt;
        at org.apache.camel.component.mock.MockEndpoint.assertIsSatisfied(MockEndpoint.java:255)&lt;br/&gt;
        at org.apache.camel.component.mock.MockEndpoint.assertIsSatisfied(MockEndpoint.java:214)&lt;br/&gt;
        at org.apache.camel.component.mock.MockEndpoint.assertIsSatisfied(MockEndpoint.java:141)&lt;br/&gt;
        at org.apache.camel.ContextTestSupport.assertMockEndpointsSatisfied(ContextTestSupport.java:283)&lt;br/&gt;
        at org.apache.camel.component.dataset.DataSetSedaTest.test(DataSetSedaTest.java:35)&lt;/p&gt;


&lt;p&gt;I am not sure yet if it&apos;s just a test issue (quite probable) or there&apos;s a more serious underlying issue.  If anybody else experienced this please add a comment.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12486843">CAMEL-974</key>
            <summary>DataSetSedaTest intermittent test failure</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/bug.png">Bug</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.png">Minor</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="davsclaus">Claus Ibsen</assignee>
                                    <reporter username="hadrian">Hadrian Zbarcea</reporter>
                        <labels>
                    </labels>
                <created>Sat, 11 Oct 2008 00:23:39 +0000</created>
                <updated>Sat, 21 Nov 2009 11:57:54 +0000</updated>
                            <resolved>Sat, 18 Apr 2009 10:15:54 +0000</resolved>
                                    <version>1.4.0</version>
                                    <fixVersion>2.0-M2</fixVersion>
                                    <component>camel-core</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                <comments>
                            <comment id="12949146" author="davsclaus" created="Sun, 12 Oct 2008 10:02:30 +0000"  >&lt;p&gt;I do think there were some high concurrency issue with the seda component. Willem fixed a problem with copying exchanges, but I used once in a while to get such errors as well.&lt;/p&gt;

&lt;p&gt;But not for 2+ months or so.&lt;/p&gt;

&lt;p&gt;See also &lt;a href=&quot;https://issues.apache.org/jira/browse/CAMEL-901&quot; title=&quot;If using thread() processor followed by a pipeline Camel redelivers to the wrong processor&quot; class=&quot;issue-link&quot; data-issue-key=&quot;CAMEL-901&quot;&gt;&lt;del&gt;CAMEL-901&lt;/del&gt;&lt;/a&gt; that somehow could be related&lt;/p&gt;

&lt;p&gt;If you change it to use direct queues then I am sure it works all the time.&lt;/p&gt;</comment>
                            <comment id="12949135" author="janstey" created="Tue, 14 Oct 2008 13:28:40 +0000"  >&lt;p&gt;You can also slow down the dataset producer by adding produceDelay=numOfMilliseconds. The default is 3 (milliseconds) but maybe this is not large enough?&lt;/p&gt;</comment>
                            <comment id="12949186" author="hadrian" created="Tue, 14 Oct 2008 13:44:10 +0000"  >&lt;p&gt;@Claus, I saw that mail exchange, but didn&apos;t look into it, since you were on top of it &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/smile.gif&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/p&gt;

&lt;p&gt;@Jon, well, the question is if there is some subtle problem in the seda component, of course we can work it around.&lt;/p&gt;

&lt;p&gt;It doesn&apos;t happen often, it never happens in eclipse, i didn&apos;t see it if i enable logging, it&apos;s definitely some timing issue.  &lt;/p&gt;</comment>
                            <comment id="12949206" author="janstey" created="Tue, 14 Oct 2008 14:12:09 +0000"  >&lt;p&gt;Hadrian, yeah, we don&apos;t want to just mask the problem &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/smile.gif&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt; I just remember having this issue in routes that did not have any seda endpoint&lt;/p&gt;

&lt;p&gt;See: &lt;a href=&quot;http://svn.apache.org/repos/asf/activemq/trunk/activemq-camel-loadtest/src/test/resources/org/apache/activemq/soaktest/LoadTest-context.xml&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://svn.apache.org/repos/asf/activemq/trunk/activemq-camel-loadtest/src/test/resources/org/apache/activemq/soaktest/LoadTest-context.xml&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;In that route, removing the produceDelay (which will then default it to 3 ms) will cause the same problem you see in DataSetSedaTest.&lt;/p&gt;</comment>
                            <comment id="12951815" author="davsclaus" created="Sat, 18 Apr 2009 10:15:54 +0000"  >&lt;p&gt;DataSet expects the data to receive in order, but the seda is async so some exchanges can arrive out of order.&lt;br/&gt;
I have added the produceDelay to the unit test and fixed the seda consumer to not minimum sleep for 4 millis.&lt;/p&gt;

&lt;p&gt;trunk: 766288&lt;/p&gt;</comment>
                            <comment id="12951154" author="davsclaus" created="Sat, 21 Nov 2009 11:57:54 +0000"  >&lt;p&gt;Closing all 2.0M2 tickets&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Sun, 12 Oct 2008 10:02:30 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>83262</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            7 years, 2 weeks, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i01fjz:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>6289</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                    <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        </customfields>
    </item>
</channel>
</rss>