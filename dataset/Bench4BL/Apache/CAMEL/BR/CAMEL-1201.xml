<!-- 
RSS generated by JIRA (6.3.4#6332-sha1:51bc225ef474afe3128b2f66878477f322397b16) at Sat Dec 03 02:13:17 UTC 2016

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary add field=key&field=summary to the URL of your request.
For example:
https://issues.apache.org/jira/si/jira.issueviews:issue-xml/CAMEL-1201/CAMEL-1201.xml?field=key&amp;field=summary
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>6.3.4</version>
        <build-number>6332</build-number>
        <build-date>15-08-2014</build-date>
    </build-info>

<item>
            <title>[CAMEL-1201] Messages dropped with ActiveMQ/JMS component and Resequencer pattern </title>
                <link>https://issues.apache.org/jira/browse/CAMEL-1201</link>
                <project id="12311211" key="CAMEL">Camel</project>
                    <description>&lt;p&gt;I&apos;ve created a simple class to test the resequencer as listed below: &lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;&lt;span class=&quot;code-keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;final&lt;/span&gt; class MyCamelResequencer {
    &lt;span class=&quot;code-keyword&quot;&gt;private&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;static&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;final&lt;/span&gt; Logger LOG = Logger.getLogger(MyCamelResequencer.class);

    &lt;span class=&quot;code-keyword&quot;&gt;private&lt;/span&gt; MyCamelResequencer() {}

    &lt;span class=&quot;code-keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;static&lt;/span&gt; void main(&lt;span class=&quot;code-object&quot;&gt;String&lt;/span&gt; args[]) &lt;span class=&quot;code-keyword&quot;&gt;throws&lt;/span&gt; Exception {
        CamelContext context = &lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; DefaultCamelContext();
        Tracer tracer = &lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; Tracer();
        tracer.getFormatter().setShowBreadCrumb(&lt;span class=&quot;code-keyword&quot;&gt;false&lt;/span&gt;);
        tracer.getFormatter().setShowNode(&lt;span class=&quot;code-keyword&quot;&gt;true&lt;/span&gt;);
        context.addInterceptStrategy(tracer);
       
        &lt;span class=&quot;code-object&quot;&gt;String&lt;/span&gt; brokerUrl = &lt;span class=&quot;code-quote&quot;&gt;&quot;vm:&lt;span class=&quot;code-comment&quot;&gt;//localhost?broker.persistent=&lt;span class=&quot;code-keyword&quot;&gt;false&lt;/span&gt;&quot;&lt;/span&gt;;
&lt;/span&gt;&lt;span class=&quot;code-comment&quot;&gt;//        &lt;span class=&quot;code-object&quot;&gt;String&lt;/span&gt; brokerUrl = &lt;span class=&quot;code-quote&quot;&gt;&quot;tcp://localhost:61616&quot;&lt;/span&gt;;
&lt;/span&gt;        context.addComponent(&lt;span class=&quot;code-quote&quot;&gt;&quot;activemq&quot;&lt;/span&gt;, ActiveMQComponent.activeMQComponent(brokerUrl));
        context.addRoutes(&lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; RouteBuilder() {
            &lt;span class=&quot;code-keyword&quot;&gt;public&lt;/span&gt; void configure() {
&lt;span class=&quot;code-comment&quot;&gt;//                from(&lt;span class=&quot;code-quote&quot;&gt;&quot;seda:FOO&quot;&lt;/span&gt;).to(&lt;span class=&quot;code-quote&quot;&gt;&quot;log:PLANETS&quot;&lt;/span&gt;);
&lt;/span&gt;&lt;span class=&quot;code-comment&quot;&gt;//                from(&lt;span class=&quot;code-quote&quot;&gt;&quot;seda:FOO&quot;&lt;/span&gt;).resequencer(header(&lt;span class=&quot;code-quote&quot;&gt;&quot;seqnum&quot;&lt;/span&gt;)).to(&lt;span class=&quot;code-quote&quot;&gt;&quot;log:PLANETS&quot;&lt;/span&gt;);
&lt;/span&gt;&lt;span class=&quot;code-comment&quot;&gt;//                from(&lt;span class=&quot;code-quote&quot;&gt;&quot;activemq:TEST.IN&quot;&lt;/span&gt;).to(&lt;span class=&quot;code-quote&quot;&gt;&quot;log:PLANETS&quot;&lt;/span&gt;);
&lt;/span&gt;                from(&lt;span class=&quot;code-quote&quot;&gt;&quot;activemq:TEST.IN&quot;&lt;/span&gt;).resequencer(header(&lt;span class=&quot;code-quote&quot;&gt;&quot;seqnum&quot;&lt;/span&gt;)).to(&lt;span class=&quot;code-quote&quot;&gt;&quot;log:PLANETS&quot;&lt;/span&gt;);
&lt;span class=&quot;code-comment&quot;&gt;//                from(&lt;span class=&quot;code-quote&quot;&gt;&quot;activemq:TEST.IN&quot;&lt;/span&gt;).resequencer(header(&lt;span class=&quot;code-quote&quot;&gt;&quot;seq&quot;&lt;/span&gt;)).to(&lt;span class=&quot;code-quote&quot;&gt;&quot;activemq:TEST.OUT&quot;&lt;/span&gt;);
&lt;/span&gt;            }
        });

        ProducerTemplate template = context.createProducerTemplate();

        context.start();

        List&amp;lt;&lt;span class=&quot;code-object&quot;&gt;String&lt;/span&gt;&amp;gt; planets = &lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; ArrayList(8);
        planets.add(&lt;span class=&quot;code-quote&quot;&gt;&quot;Mercury&quot;&lt;/span&gt;);
        planets.add(&lt;span class=&quot;code-quote&quot;&gt;&quot;Venus&quot;&lt;/span&gt;);
        planets.add(&lt;span class=&quot;code-quote&quot;&gt;&quot;Earth&quot;&lt;/span&gt;);
        planets.add(&lt;span class=&quot;code-quote&quot;&gt;&quot;Mars&quot;&lt;/span&gt;);
        planets.add(&lt;span class=&quot;code-quote&quot;&gt;&quot;Jupiter&quot;&lt;/span&gt;);
        planets.add(&lt;span class=&quot;code-quote&quot;&gt;&quot;Saturn&quot;&lt;/span&gt;);
        planets.add(&lt;span class=&quot;code-quote&quot;&gt;&quot;Uranus&quot;&lt;/span&gt;);
        planets.add(&lt;span class=&quot;code-quote&quot;&gt;&quot;Neptune&quot;&lt;/span&gt;);
        
        List&amp;lt;&lt;span class=&quot;code-object&quot;&gt;Integer&lt;/span&gt;&amp;gt; numbers = &lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; ArrayList&amp;lt;&lt;span class=&quot;code-object&quot;&gt;Integer&lt;/span&gt;&amp;gt;(8);
        numbers.add(1);
        numbers.add(2);
        numbers.add(3);
        numbers.add(4);
        numbers.add(5);
        numbers.add(6);
        numbers.add(7);
        numbers.add(8);
        
        &lt;span class=&quot;code-keyword&quot;&gt;for&lt;/span&gt; (&lt;span class=&quot;code-object&quot;&gt;String&lt;/span&gt; planet: planets) {
            Collections.shuffle(numbers);
            &lt;span class=&quot;code-object&quot;&gt;int&lt;/span&gt; seqnum = numbers.remove(0);
            &lt;span class=&quot;code-object&quot;&gt;String&lt;/span&gt; message = &lt;span class=&quot;code-quote&quot;&gt;&quot;I am the planet &quot;&lt;/span&gt; + planet + &lt;span class=&quot;code-quote&quot;&gt;&quot; with seqnum: &quot;&lt;/span&gt; + seqnum;
            LOG.info(&lt;span class=&quot;code-quote&quot;&gt;&quot;Sending message: &quot;&lt;/span&gt; + message);
            template.sendBodyAndHeader(&lt;span class=&quot;code-quote&quot;&gt;&quot;activemq:TEST.IN&quot;&lt;/span&gt;, message, &lt;span class=&quot;code-quote&quot;&gt;&quot;seqnum&quot;&lt;/span&gt;, seqnum);
&lt;span class=&quot;code-comment&quot;&gt;//            template.sendBodyAndHeader(&lt;span class=&quot;code-quote&quot;&gt;&quot;seda:FOO&quot;&lt;/span&gt;, message, &lt;span class=&quot;code-quote&quot;&gt;&quot;seqnum&quot;&lt;/span&gt;, seqnum);
&lt;/span&gt;        }

        &lt;span class=&quot;code-object&quot;&gt;Thread&lt;/span&gt;.sleep(10000);
        LOG.info(&lt;span class=&quot;code-quote&quot;&gt;&quot;Shutting down the Camel context&quot;&lt;/span&gt;);
        context.stop();
        &lt;span class=&quot;code-object&quot;&gt;System&lt;/span&gt;.exit(1);
    }
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;The following are my observations: &lt;/p&gt;

&lt;ul&gt;
	&lt;li&gt;SEDA -&amp;gt; log receives all messages&lt;/li&gt;
	&lt;li&gt;SEDA -&amp;gt; resequencer -&amp;gt; log receives all messages&lt;/li&gt;
	&lt;li&gt;ActiveMQ -&amp;gt; log receives all messages&lt;/li&gt;
	&lt;li&gt;ActiveMQ -&amp;gt; resequencer -&amp;gt; log does not receive all messages&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;Upon enabling the Tracer interceptor, I&apos;m able to see that it doesn&apos;t even receive all messages from the ActiveMQ component: &lt;/p&gt;

&lt;div class=&quot;panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;panelContent&quot;&gt;
&lt;p&gt;[                          main] DefaultCamelContext            INFO  JMX enabled. Using InstrumentationLifecycleStrategy.&lt;br/&gt;
[                          main] BrokerService                  INFO  Using Persistence Adapter: MemoryPersistenceAdapter&lt;br/&gt;
[                          main] BrokerService                  INFO  ActiveMQ null JMS Message Broker (localhost) is starting&lt;br/&gt;
[                          main] BrokerService                  INFO  For help or more information please see: &lt;a href=&quot;http://activemq.apache.org/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://activemq.apache.org/&lt;/a&gt;&lt;br/&gt;
[                 JMX connector] ManagementContext              WARN  Failed to start jmx connector: Cannot bind to URL &lt;span class=&quot;error&quot;&gt;&amp;#91;rmi://localhost:1099/jmxrmi&amp;#93;&lt;/span&gt;: javax.naming.NameAlreadyBoundException: jmxrmi &lt;span class=&quot;error&quot;&gt;&amp;#91;Root exception is java.rmi.AlreadyBoundException: jmxrmi&amp;#93;&lt;/span&gt;&lt;br/&gt;
[                          main] BrokerService                  INFO  ActiveMQ JMS Message Broker (localhost, ID:174-155-37-223.pools.spcsdns.net-58792-1229973871555-0:0) started&lt;br/&gt;
[                          main] TransportConnector             INFO  Connector vm://localhost Started&lt;br/&gt;
[                          main] MyCamelResequencer             INFO  Sending message: I am the planet Mercury with seqnum: 1&lt;br/&gt;
[                          main] MyCamelResequencer             INFO  Sending message: I am the planet Venus with seqnum: 3&lt;br/&gt;
[                          main] MyCamelResequencer             INFO  Sending message: I am the planet Earth with seqnum: 6&lt;br/&gt;
[                          main] MyCamelResequencer             INFO  Sending message: I am the planet Mars with seqnum: 2&lt;br/&gt;
[                          main] MyCamelResequencer             INFO  Sending message: I am the planet Jupiter with seqnum: 4&lt;br/&gt;
[                          main] MyCamelResequencer             INFO  Sending message: I am the planet Saturn with seqnum: 8&lt;br/&gt;
[                          main] MyCamelResequencer             INFO  Sending message: I am the planet Uranus with seqnum: 7&lt;br/&gt;
[                          main] MyCamelResequencer             INFO  Sending message: I am the planet Neptune with seqnum: 5&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;aultMessageListenerContainer-1&amp;#93;&lt;/span&gt; TraceInterceptor               INFO  -&amp;gt; interceptor1 Interceptor[Delegate(DeadLetterChannel[Delegate(TraceInterceptor[Resequencer[ [] -&amp;gt; [To&lt;span class=&quot;error&quot;&gt;&amp;#91;log:PLANETS&amp;#93;&lt;/span&gt;]]]), RecipientList&lt;span class=&quot;error&quot;&gt;&amp;#91;log:org.apache.camel.DeadLetterChannel?level=error&amp;#93;&lt;/span&gt;, RedeliveryPolicy&lt;span class=&quot;error&quot;&gt;&amp;#91;maximumRedeliveries=6&amp;#93;&lt;/span&gt;])] InOnly Properties:{} Headers:&lt;/p&gt;
&lt;div class=&quot;error&quot;&gt;&lt;span class=&quot;error&quot;&gt;Unknown macro: {JMSDestination=queue}&lt;/span&gt; &lt;/div&gt;
&lt;p&gt; BodyType:String Body:I am the planet Mercury with seqnum: 1&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;aultMessageListenerContainer-1&amp;#93;&lt;/span&gt; TraceInterceptor               INFO  -&amp;gt; resequencer1 Resequencer[ [] -&amp;gt; [To&lt;span class=&quot;error&quot;&gt;&amp;#91;log:PLANETS&amp;#93;&lt;/span&gt;]] InOnly Properties:&lt;/p&gt;
&lt;div class=&quot;error&quot;&gt;&lt;span class=&quot;error&quot;&gt;Unknown macro: {CamelCauseException=null}&lt;/span&gt; &lt;p&gt; Headers:&lt;/p&gt;
&lt;div class=&quot;error&quot;&gt;&lt;span class=&quot;error&quot;&gt;Unknown macro: {JMSDestination=queue}&lt;/span&gt; &lt;/div&gt;
&lt;p&gt; BodyType:String Body:I am the planet Mercury with seqnum: 1&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;aultMessageListenerContainer-2&amp;#93;&lt;/span&gt; TraceInterceptor               INFO  -&amp;gt; interceptor1 Interceptor[Delegate(DeadLetterChannel[Delegate(TraceInterceptor[Resequencer[ [] -&amp;gt; [To&lt;span class=&quot;error&quot;&gt;&amp;#91;log:PLANETS&amp;#93;&lt;/span&gt;]]]), RecipientList&lt;span class=&quot;error&quot;&gt;&amp;#91;log:org.apache.camel.DeadLetterChannel?level=error&amp;#93;&lt;/span&gt;, RedeliveryPolicy&lt;span class=&quot;error&quot;&gt;&amp;#91;maximumRedeliveries=6&amp;#93;&lt;/span&gt;])] InOnly Properties:{} Headers:&lt;/p&gt;
&lt;div class=&quot;error&quot;&gt;&lt;span class=&quot;error&quot;&gt;Unknown macro: {JMSDestination=queue}&lt;/span&gt; &lt;/div&gt;
&lt;p&gt; BodyType:String Body:I am the planet Earth with seqnum: 6&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;aultMessageListenerContainer-2&amp;#93;&lt;/span&gt; TraceInterceptor               INFO  -&amp;gt; resequencer1 Resequencer[ [] -&amp;gt; [To&lt;span class=&quot;error&quot;&gt;&amp;#91;log:PLANETS&amp;#93;&lt;/span&gt;]] InOnly Properties:&lt;/p&gt;&lt;/div&gt;
&lt;p&gt; Headers:&lt;/p&gt;
&lt;div class=&quot;error&quot;&gt;&lt;span class=&quot;error&quot;&gt;Unknown macro: {JMSDestination=queue}&lt;/span&gt; &lt;/div&gt;
&lt;p&gt; BodyType:String Body:I am the planet Earth with seqnum: 6&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;aultMessageListenerContainer-3&amp;#93;&lt;/span&gt; TraceInterceptor               INFO  -&amp;gt; interceptor1 Interceptor[Delegate(DeadLetterChannel[Delegate(TraceInterceptor[Resequencer[ [] -&amp;gt; [To&lt;span class=&quot;error&quot;&gt;&amp;#91;log:PLANETS&amp;#93;&lt;/span&gt;]]]), RecipientList&lt;span class=&quot;error&quot;&gt;&amp;#91;log:org.apache.camel.DeadLetterChannel?level=error&amp;#93;&lt;/span&gt;, RedeliveryPolicy&lt;span class=&quot;error&quot;&gt;&amp;#91;maximumRedeliveries=6&amp;#93;&lt;/span&gt;])] InOnly Properties:{} Headers:&lt;/p&gt;
&lt;div class=&quot;error&quot;&gt;&lt;span class=&quot;error&quot;&gt;Unknown macro: {JMSDestination=queue}&lt;/span&gt; &lt;/div&gt;
&lt;p&gt; BodyType:String Body:I am the planet Mars with seqnum: 2&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;aultMessageListenerContainer-3&amp;#93;&lt;/span&gt; TraceInterceptor               INFO  -&amp;gt; resequencer1 Resequencer[ [] -&amp;gt; [To&lt;span class=&quot;error&quot;&gt;&amp;#91;log:PLANETS&amp;#93;&lt;/span&gt;]] InOnly Properties:&lt;/p&gt;
&lt;div class=&quot;error&quot;&gt;&lt;span class=&quot;error&quot;&gt;Unknown macro: {CamelCauseException=null}&lt;/span&gt; &lt;p&gt; Headers:&lt;/p&gt;
&lt;div class=&quot;error&quot;&gt;&lt;span class=&quot;error&quot;&gt;Unknown macro: {JMSDestination=queue}&lt;/span&gt; &lt;/div&gt;
&lt;p&gt; BodyType:String Body:I am the planet Mars with seqnum: 2&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;aultMessageListenerContainer-4&amp;#93;&lt;/span&gt; TraceInterceptor               INFO  -&amp;gt; interceptor1 Interceptor[Delegate(DeadLetterChannel[Delegate(TraceInterceptor[Resequencer[ [] -&amp;gt; [To&lt;span class=&quot;error&quot;&gt;&amp;#91;log:PLANETS&amp;#93;&lt;/span&gt;]]]), RecipientList&lt;span class=&quot;error&quot;&gt;&amp;#91;log:org.apache.camel.DeadLetterChannel?level=error&amp;#93;&lt;/span&gt;, RedeliveryPolicy&lt;span class=&quot;error&quot;&gt;&amp;#91;maximumRedeliveries=6&amp;#93;&lt;/span&gt;])] InOnly Properties:{} Headers:&lt;/p&gt;
&lt;div class=&quot;error&quot;&gt;&lt;span class=&quot;error&quot;&gt;Unknown macro: {JMSDestination=queue}&lt;/span&gt; &lt;/div&gt;
&lt;p&gt; BodyType:String Body:I am the planet Jupiter with seqnum: 4&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;aultMessageListenerContainer-4&amp;#93;&lt;/span&gt; TraceInterceptor               INFO  -&amp;gt; resequencer1 Resequencer[ [] -&amp;gt; [To&lt;span class=&quot;error&quot;&gt;&amp;#91;log:PLANETS&amp;#93;&lt;/span&gt;]] InOnly Properties:&lt;/p&gt;&lt;/div&gt;
&lt;p&gt; Headers:&lt;/p&gt;
&lt;div class=&quot;error&quot;&gt;&lt;span class=&quot;error&quot;&gt;Unknown macro: {JMSDestination=queue}&lt;/span&gt; &lt;/div&gt;
&lt;p&gt; BodyType:String Body:I am the planet Jupiter with seqnum: 4&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;aultMessageListenerContainer-5&amp;#93;&lt;/span&gt; TraceInterceptor               INFO  -&amp;gt; interceptor1 Interceptor[Delegate(DeadLetterChannel[Delegate(TraceInterceptor[Resequencer[ [] -&amp;gt; [To&lt;span class=&quot;error&quot;&gt;&amp;#91;log:PLANETS&amp;#93;&lt;/span&gt;]]]), RecipientList&lt;span class=&quot;error&quot;&gt;&amp;#91;log:org.apache.camel.DeadLetterChannel?level=error&amp;#93;&lt;/span&gt;, RedeliveryPolicy&lt;span class=&quot;error&quot;&gt;&amp;#91;maximumRedeliveries=6&amp;#93;&lt;/span&gt;])] InOnly Properties:{} Headers:&lt;/p&gt;
&lt;div class=&quot;error&quot;&gt;&lt;span class=&quot;error&quot;&gt;Unknown macro: {JMSDestination=queue}&lt;/span&gt; &lt;/div&gt;
&lt;p&gt; BodyType:String Body:I am the planet Uranus with seqnum: 7&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;aultMessageListenerContainer-5&amp;#93;&lt;/span&gt; TraceInterceptor               INFO  -&amp;gt; resequencer1 Resequencer[ [] -&amp;gt; [To&lt;span class=&quot;error&quot;&gt;&amp;#91;log:PLANETS&amp;#93;&lt;/span&gt;]] InOnly Properties:&lt;/p&gt;
&lt;div class=&quot;error&quot;&gt;&lt;span class=&quot;error&quot;&gt;Unknown macro: {CamelCauseException=null}&lt;/span&gt; &lt;p&gt; Headers:&lt;/p&gt;
&lt;div class=&quot;error&quot;&gt;&lt;span class=&quot;error&quot;&gt;Unknown macro: {JMSDestination=queue}&lt;/span&gt; &lt;/div&gt;
&lt;p&gt; BodyType:String Body:I am the planet Uranus with seqnum: 7&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;aultMessageListenerContainer-6&amp;#93;&lt;/span&gt; TraceInterceptor               INFO  -&amp;gt; interceptor1 Interceptor[Delegate(DeadLetterChannel[Delegate(TraceInterceptor[Resequencer[ [] -&amp;gt; [To&lt;span class=&quot;error&quot;&gt;&amp;#91;log:PLANETS&amp;#93;&lt;/span&gt;]]]), RecipientList&lt;span class=&quot;error&quot;&gt;&amp;#91;log:org.apache.camel.DeadLetterChannel?level=error&amp;#93;&lt;/span&gt;, RedeliveryPolicy&lt;span class=&quot;error&quot;&gt;&amp;#91;maximumRedeliveries=6&amp;#93;&lt;/span&gt;])] InOnly Properties:{} Headers:&lt;/p&gt;
&lt;div class=&quot;error&quot;&gt;&lt;span class=&quot;error&quot;&gt;Unknown macro: {JMSDestination=queue}&lt;/span&gt; &lt;/div&gt;
&lt;p&gt; BodyType:String Body:I am the planet Neptune with seqnum: 5&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;aultMessageListenerContainer-6&amp;#93;&lt;/span&gt; TraceInterceptor               INFO  -&amp;gt; resequencer1 Resequencer[ [] -&amp;gt; [To&lt;span class=&quot;error&quot;&gt;&amp;#91;log:PLANETS&amp;#93;&lt;/span&gt;]] InOnly Properties:&lt;/p&gt;&lt;/div&gt;
&lt;p&gt; Headers:&lt;/p&gt;
&lt;div class=&quot;error&quot;&gt;&lt;span class=&quot;error&quot;&gt;Unknown macro: {JMSDestination=queue}&lt;/span&gt; &lt;/div&gt;
&lt;p&gt; BodyType:String Body:I am the planet Neptune with seqnum: 5&lt;br/&gt;
[&lt;span class=&quot;error&quot;&gt;&amp;#91;log:PLANETS&amp;#93;&lt;/span&gt;]] Polling Thread] TraceInterceptor               INFO  -&amp;gt; to1 To&lt;span class=&quot;error&quot;&gt;&amp;#91;log:PLANETS&amp;#93;&lt;/span&gt; InOnly Properties:{} Headers:&lt;/p&gt;
&lt;div class=&quot;error&quot;&gt;&lt;span class=&quot;error&quot;&gt;Unknown macro: {JMSDestination=queue}&lt;/span&gt; &lt;/div&gt;
&lt;p&gt; BodyType:String Body:I am the planet Venus with seqnum: 3&lt;br/&gt;
[&lt;span class=&quot;error&quot;&gt;&amp;#91;log:PLANETS&amp;#93;&lt;/span&gt;]] Polling Thread] PLANETS                        INFO  Exchange&lt;span class=&quot;error&quot;&gt;&amp;#91;BodyType:String, Body:I am the planet Venus with seqnum: 3&amp;#93;&lt;/span&gt;&lt;br/&gt;
[&lt;span class=&quot;error&quot;&gt;&amp;#91;log:PLANETS&amp;#93;&lt;/span&gt;]] Polling Thread] TraceInterceptor               INFO  -&amp;gt; to1 To&lt;span class=&quot;error&quot;&gt;&amp;#91;log:PLANETS&amp;#93;&lt;/span&gt; InOnly Properties:{} Headers:&lt;/p&gt;
&lt;div class=&quot;error&quot;&gt;&lt;span class=&quot;error&quot;&gt;Unknown macro: {JMSDestination=queue}&lt;/span&gt; &lt;/div&gt;
&lt;p&gt; BodyType:String Body:I am the planet Saturn with seqnum: 8&lt;br/&gt;
[&lt;span class=&quot;error&quot;&gt;&amp;#91;log:PLANETS&amp;#93;&lt;/span&gt;]] Polling Thread] PLANETS                        INFO  Exchange&lt;span class=&quot;error&quot;&gt;&amp;#91;BodyType:String, Body:I am the planet Saturn with seqnum: 8&amp;#93;&lt;/span&gt;&lt;br/&gt;
[                          main] MyCamelResequencer             INFO  Shutting down the Camel context&lt;br/&gt;
[         ActiveMQ ShutdownHook] BrokerService                  INFO  ActiveMQ Message Broker (localhost, ID:174-155-37-223.pools.spcsdns.net-58792-1229973871555-0:0) is shutting down&lt;br/&gt;
[         ActiveMQ ShutdownHook] TransportConnector             INFO  Connector vm://localhost Stopped&lt;br/&gt;
[         ActiveMQ ShutdownHook] BrokerService                  INFO  ActiveMQ JMS Message Broker (localhost, ID:174-155-37-223.pools.spcsdns.net-58792-1229973871555-0:0) stopped&lt;/p&gt;
&lt;/div&gt;&lt;/div&gt;</description>
                <environment></environment>
        <key id="12485772">CAMEL-1201</key>
            <summary>Messages dropped with ActiveMQ/JMS component and Resequencer pattern </summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/bug.png">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.png">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="hadrian">Hadrian Zbarcea</assignee>
                                    <reporter username="bsnyder">Bruce Snyder</reporter>
                        <labels>
                    </labels>
                <created>Mon, 22 Dec 2008 19:36:29 +0000</created>
                <updated>Fri, 31 Jul 2009 06:33:53 +0000</updated>
                            <resolved>Wed, 14 Jan 2009 17:04:29 +0000</resolved>
                                    <version>1.5.0</version>
                                    <fixVersion>2.0-M1</fixVersion>
                                    <component>camel-activemq</component>
                    <component>camel-jms</component>
                    <component>eip</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                <comments>
                            <comment id="12950172" author="davsclaus" created="Thu, 25 Dec 2008 08:43:14 +0000"  >&lt;p&gt;Could you try on the trunk? I recall that Martin Krasser has submitted a great patch to fix the BatchProcessor that is the core for the resequencer, aggregator etc. It should fix adding a competing consumer, so that could explain the dropped messages.&lt;/p&gt;</comment>
                            <comment id="12950345" author="bsnyder" created="Wed, 14 Jan 2009 17:04:29 +0000"  >&lt;p&gt;It appears that the problem has been fixed in the trunk. I hazard a guess that the fixes to the &lt;tt&gt;BatchProcessor&lt;/tt&gt; et al. in &lt;a href=&quot;https://issues.apache.org/jira/browse/CAMEL-1037&quot; title=&quot;Messages in Resequencer between 2 JMS queues get stuck&quot; class=&quot;issue-link&quot; data-issue-key=&quot;CAMEL-1037&quot;&gt;&lt;del&gt;CAMEL-1037&lt;/del&gt;&lt;/a&gt; fixed it. &lt;/p&gt;</comment>
                            <comment id="12948563" author="davsclaus" created="Fri, 31 Jul 2009 06:33:53 +0000"  >&lt;p&gt;Closing 2.0m1 tickets&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Thu, 25 Dec 2008 08:43:14 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>76917</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            7 years, 19 weeks ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i01gyf:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>6516</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                    <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        </customfields>
    </item>
</channel>
</rss>