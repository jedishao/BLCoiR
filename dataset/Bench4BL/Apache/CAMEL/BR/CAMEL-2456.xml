<!-- 
RSS generated by JIRA (6.3.4#6332-sha1:51bc225ef474afe3128b2f66878477f322397b16) at Sat Dec 03 02:17:48 UTC 2016

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary add field=key&field=summary to the URL of your request.
For example:
https://issues.apache.org/jira/si/jira.issueviews:issue-xml/CAMEL-2456/CAMEL-2456.xml?field=key&amp;field=summary
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>6.3.4</version>
        <build-number>6332</build-number>
        <build-date>15-08-2014</build-date>
    </build-info>

<item>
            <title>[CAMEL-2456] WARNING log of JmsTemporaryTopicEndpoint , JmsTemporaryQueueEndpoint don&apos;t have the ManagedResource annotation</title>
                <link>https://issues.apache.org/jira/browse/CAMEL-2456</link>
                <project id="12311211" key="CAMEL">Camel</project>
                    <description>&lt;p&gt;Here is the mail thread which discusses about this issue.&lt;br/&gt;
&lt;a href=&quot;http://old.nabble.com/Attemp-to-send-message-to-activemq-temporary-queue-using-producerTemplate%3A-InvalidMetadataException-tp27520096p27520096.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://old.nabble.com/Attemp-to-send-message-to-activemq-temporary-queue-using-producerTemplate%3A-InvalidMetadataException-tp27520096p27520096.html&lt;/a&gt;&lt;/p&gt;</description>
                <environment></environment>
        <key id="12487228">CAMEL-2456</key>
            <summary>WARNING log of JmsTemporaryTopicEndpoint , JmsTemporaryQueueEndpoint don&apos;t have the ManagedResource annotation</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/bug.png">Bug</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.png">Minor</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="njiang">Willem Jiang</assignee>
                                    <reporter username="njiang">Willem Jiang</reporter>
                        <labels>
                    </labels>
                <created>Wed, 10 Feb 2010 02:13:00 +0000</created>
                <updated>Sun, 24 Apr 2011 10:01:11 +0000</updated>
                            <resolved>Fri, 12 Feb 2010 07:09:03 +0000</resolved>
                                    <version>2.1.0</version>
                                    <fixVersion>2.3.0</fixVersion>
                                    <component>camel-jms</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                <comments>
                            <comment id="12954805" author="davsclaus" created="Wed, 10 Feb 2010 06:21:10 +0000"  >&lt;p&gt;I do NOT think we should enlist temporary JMS queues in JMX&lt;br/&gt;
management, the overhead is way to high for that.&lt;br/&gt;
Since those queues are temporary they live for a short time and&lt;br/&gt;
management is more about long lived resources to manage.&lt;/p&gt;

&lt;p&gt;Can we do a -1 on this and implement logic to skip trying to register&lt;br/&gt;
those kind of endpoints for management.&lt;/p&gt;</comment>
                            <comment id="12954856" author="njiang" created="Wed, 10 Feb 2010 06:42:29 +0000"  >&lt;p&gt;Hi Claus&lt;/p&gt;

&lt;p&gt;I think we should provide the management for the temporary Queue, as these endpoints are exiting in the camel context.&lt;br/&gt;
Client may want to ask managed information about these endpoint.&lt;br/&gt;
If we shutdown the camel context , all the camel managed resources are gone, and it will not introduce any further burden. &lt;/p&gt;</comment>
                            <comment id="12954855" author="davsclaus" created="Wed, 10 Feb 2010 06:53:44 +0000"  >&lt;p&gt;Willem &lt;b&gt;yes&lt;/b&gt; it will&lt;/p&gt;

&lt;p&gt;JMX puts &lt;b&gt;considerable&lt;/b&gt; overhead on endpoint registration. And temporary endpoints should &lt;b&gt;newer&lt;/b&gt; be registered in JMX.&lt;br/&gt;
The temporary endpoint uses unique uri&apos;s and therefore you will keep adding managed endpoints to JMX which end the end will downgrade your system.&lt;br/&gt;
All together it impacts performance unnecessary.&lt;/p&gt;

&lt;p&gt;We have had such issues in the past where people over days will accumulate millions of endpoints in JMX and cause high memory usage.&lt;br/&gt;
In the end causing people to have to shutdown and restart their system.&lt;/p&gt;

&lt;p&gt;So please do a -1.&lt;/p&gt;</comment>
                            <comment id="12954863" author="njiang" created="Wed, 10 Feb 2010 07:28:19 +0000"  >&lt;p&gt;Hi Claus,&lt;/p&gt;

&lt;p&gt;I checked the code of  JmsTemporaryTopicEndpoint , JmsTemporaryQueueEndpoint and they are singleton endpoint,&lt;br/&gt;
and we hit the JMX exception as current Camel only register the singleton endpoint into JMX agent to avoid the situation that you described.&lt;/p&gt;

&lt;p&gt;It could be easy to let camel skip these endpoint by checking the ManagedResource annotation, but I still want to know if the singleton endpoint still have the potential JMX issue that you mentioned.&lt;/p&gt;</comment>
                            <comment id="12954861" author="davsclaus" created="Wed, 10 Feb 2010 12:44:41 +0000"  >&lt;p&gt;This issue is when the end user is sending using ProducerTemplate the reply manually.&lt;/p&gt;

&lt;p&gt;If using Camel request/reply out of the box, Camel will not enlist temporary queues as endpoints. This is good as the overhead is thus only when end user does it manually.&lt;/p&gt;</comment>
                            <comment id="12954852" author="davsclaus" created="Wed, 10 Feb 2010 14:18:29 +0000"  >&lt;p&gt;The only problem I see is if the end user uses a lot of different temporary JMS queues with different names as they will then be enlisted in JMX to no avail.&lt;/p&gt;</comment>
                            <comment id="12954797" author="njiang" created="Fri, 12 Feb 2010 07:08:14 +0000"  >&lt;p&gt;Hi Claus,&lt;/p&gt;

&lt;p&gt;I agree if the user use the ExchangeID as the temporary queue and use that to implement request/reply message exchange pattern, register these kind of temporary queues to JMX agent will be a big issue.&lt;/p&gt;

&lt;p&gt;So I reverted my last commit of this issue and find better new way to fix this WARNING log issue.&lt;br/&gt;
And now these JmsTemporaryTopicEndpoint , JmsTemporaryQueueEndpoint will not be registered to JMX agent.&lt;/p&gt;
</comment>
                            <comment id="12954879" author="davsclaus" created="Fri, 12 Feb 2010 07:23:19 +0000"  >&lt;p&gt;Willem&lt;/p&gt;

&lt;p&gt;You current solutions is great. Good work.&lt;/p&gt;</comment>
                            <comment id="13024399" author="davsclaus" created="Sun, 24 Apr 2011 10:01:11 +0000"  >&lt;p&gt;Closing all resolved tickets from 2010 or older&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Wed, 10 Feb 2010 06:21:10 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>76517</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            5 years, 32 weeks, 5 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i01op3:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>7770</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                    <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        </customfields>
    </item>
</channel>
</rss>