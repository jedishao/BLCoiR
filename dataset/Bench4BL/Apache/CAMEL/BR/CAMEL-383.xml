<!-- 
RSS generated by JIRA (6.3.4#6332-sha1:51bc225ef474afe3128b2f66878477f322397b16) at Sat Dec 03 03:58:46 UTC 2016

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary add field=key&field=summary to the URL of your request.
For example:
https://issues.apache.org/jira/si/jira.issueviews:issue-xml/CAMEL-383/CAMEL-383.xml?field=key&amp;field=summary
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>6.3.4</version>
        <build-number>6332</build-number>
        <build-date>15-08-2014</build-date>
    </build-info>

<item>
            <title>[CAMEL-383] Exchange.getOut() not returning (blocking till timeout) when ExchangePattern.InOut used as well as message headers and exchange properties not passed when a Camel Mina used.</title>
                <link>https://issues.apache.org/jira/browse/CAMEL-383</link>
                <project id="12311211" key="CAMEL">Camel</project>
                    <description>&lt;p&gt;Exchange.getOut() not returning (blocking till timeout) when ExchangePattern.InOut used. Additionally, message properties and exchange headers does not seem to be passed when using MINA TCP communication. In direct pojo or bean, everything seems working.&lt;br/&gt;
I have attached the classes needed to resolve the issue. No modifications are made to interfaces (method signatures). Classes affected are:&lt;br/&gt;
org/apache/camel/component/mina/MinaEndpoint.java&lt;br/&gt;
org/apache/camel/component/mina/MinaProducer.java&lt;br/&gt;
org/apache/camel/component/mina/MinaConsumer.java&lt;br/&gt;
new class introduced:&lt;br/&gt;
org/apache/camel/component/mina/MinaTransportObject.java&lt;/p&gt;

&lt;p&gt;Junit test attached:&lt;/p&gt;

&lt;p&gt;org\apache\camel\component\mina\MinaTcpExchangeTest.java&lt;/p&gt;</description>
                <environment>&lt;p&gt;Windows&lt;/p&gt;</environment>
        <key id="12485294">CAMEL-383</key>
            <summary>Exchange.getOut() not returning (blocking till timeout) when ExchangePattern.InOut used as well as message headers and exchange properties not passed when a Camel Mina used.</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/bug.png">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.png">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="njiang">Willem Jiang</assignee>
                                    <reporter username="georgiosgeorgiadis">Georgios Georgiadis</reporter>
                        <labels>
                    </labels>
                <created>Wed, 12 Mar 2008 16:18:36 +0000</created>
                <updated>Mon, 12 May 2008 12:45:33 +0000</updated>
                            <resolved>Mon, 24 Mar 2008 11:47:55 +0000</resolved>
                                    <version>1.2.0</version>
                                    <fixVersion>1.3.0</fixVersion>
                                    <component>camel-mina</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                <comments>
                            <comment id="12946508" author="davsclaus" created="Sat, 15 Mar 2008 11:07:00 +0000"  >&lt;p&gt;George, thanks for the code. I am currently looking into it now.&lt;/p&gt;</comment>
                            <comment id="12946512" author="davsclaus" created="Sat, 15 Mar 2008 17:11:29 +0000"  >&lt;p&gt;A patch with the following changes:&lt;/p&gt;
&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;copyright headers for missing files&lt;/li&gt;
	&lt;li&gt;removed an unused import&lt;/li&gt;
	&lt;li&gt;new feature to transfer exchange objects using TCP protocol (transferExchange=true) see MinaTransferExchangeOptionTest how to use it&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;The new feature only works for the TCP protocol and for the default codec (= object). So do not use textline=true as option.&lt;/p&gt;</comment>
                            <comment id="12946535" author="davsclaus" created="Sun, 16 Mar 2008 07:11:04 +0000"  >&lt;p&gt;I think this ticket should be changed from bug to new feature.&lt;/p&gt;

&lt;p&gt;Also anyone got a better name for the option (transferExchange)?&lt;br/&gt;
I considered the option bodyOnly also but then I needed to make sure the defaults would be bodyOnly=true even when the parameter is not specified. &lt;/p&gt;</comment>
                            <comment id="12946521" author="davsclaus" created="Sun, 16 Mar 2008 07:11:27 +0000"  >&lt;p&gt;TODO: Remember to update wiki component documentation with the new option if patch is accepted.&lt;/p&gt;</comment>
                            <comment id="12946446" author="njiang" created="Mon, 17 Mar 2008 05:23:16 +0000"  >&lt;p&gt;Hi Claus,&lt;/p&gt;

&lt;p&gt;I just committed your patch. Here is one issue for the MinaTransferExchangeOptionTest, since we do not mashal or unmashal the exchange&apos;s exchangeId, so I comment out the process assertion for  the exchangeId to pass the test .  &lt;/p&gt;

&lt;p&gt;BTW, the document for the transferExchange properties is highly demanded, and I like to use the transferExchange as the  parameter name since it is more clear for the user &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/smile.gif&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/p&gt;

&lt;p&gt;Regards,&lt;/p&gt;

&lt;p&gt;Willem.&lt;/p&gt;</comment>
                            <comment id="12946489" author="davsclaus" created="Wed, 19 Mar 2008 14:32:16 +0000"  >&lt;p&gt;Hi Willem&lt;/p&gt;

&lt;p&gt;I am on vacation at my parents at the time being and there I have not access to the net. So its a bit challenge to work on Camel using maven in offline mode.&lt;br/&gt;
I decided in last minute to remove the transfer of exchangeid, but I forgot to remove it in the unit tests that still could pass if the generated ids are the same.&lt;/p&gt;

&lt;p&gt;Today I have access to the net for a few hours so I am trying to catch up on the mail and the camel commits to merge with a few changes in the mina component I have improved during the last 3 days.&lt;/p&gt;

&lt;p&gt;I will update the wiki documents on sunday when I am back home.&lt;br/&gt;
I am also working on providing a camel-mina-example sample for the distribution.&lt;/p&gt;</comment>
                            <comment id="12946430" author="davsclaus" created="Mon, 24 Mar 2008 08:17:45 +0000"  >&lt;p&gt;Basic documentation added to the mina component on the wiki.&lt;/p&gt;</comment>
                            <comment id="12947075" author="davsclaus" created="Mon, 12 May 2008 12:45:33 +0000"  >&lt;p&gt;Closed all 1.3 tickets&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12462443" name="ASF.LICENSE.NOT.GRANTED--MinaTcpExchangeTest.java" size="2957" author="georgiosgeorgiadis" created="Wed, 12 Mar 2008 16:18:36 +0000"/>
                            <attachment id="12462337" name="ASF.LICENSE.NOT.GRANTED--mina.zip" size="4983" author="georgiosgeorgiadis" created="Wed, 12 Mar 2008 16:18:36 +0000"/>
                            <attachment id="12462391" name="camel_383_patch.txt" size="26429" author="davsclaus" created="Sat, 15 Mar 2008 17:11:29 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>3.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Sat, 15 Mar 2008 11:07:00 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>83134</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            8 years, 30 weeks, 4 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i01bw7:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>5696</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                    <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        </customfields>
    </item>
</channel>
</rss>