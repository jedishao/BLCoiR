<!-- 
RSS generated by JIRA (6.3.4#6332-sha1:51bc225ef474afe3128b2f66878477f322397b16) at Sat Dec 03 04:36:53 UTC 2016

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary add field=key&field=summary to the URL of your request.
For example:
https://issues.apache.org/jira/si/jira.issueviews:issue-xml/CAMEL-9553/CAMEL-9553.xml?field=key&amp;field=summary
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>6.3.4</version>
        <build-number>6332</build-number>
        <build-date>15-08-2014</build-date>
    </build-info>

<item>
            <title>[CAMEL-9553] Twitter consumer doesn&apos;t respect the delay parameter</title>
                <link>https://issues.apache.org/jira/browse/CAMEL-9553</link>
                <project id="12311211" key="CAMEL">Camel</project>
                    <description>&lt;p&gt;I&apos;ve configured a polling Twitter endpoint with nearly default Spring configuration as follows:&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
from(&lt;span class=&quot;code-quote&quot;&gt;&quot;twitter:&lt;span class=&quot;code-comment&quot;&gt;//search?type=polling&amp;amp;keywords=searchterms&amp;amp;delay=60&amp;amp;consumerKey=[s]&amp;amp;consumerSecret=[s]&amp;amp;accessToken=[s]&amp;amp;accessTokenSecret=[s]&quot;&lt;/span&gt;)&lt;/span&gt;
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;However, it doesn&apos;t seem to respect the delay parameter.&lt;/p&gt;

&lt;p&gt;On debugging, the delay parameter is set properly:&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
    &lt;span class=&quot;code-keyword&quot;&gt;public&lt;/span&gt; TwitterConsumerPolling(TwitterEndpoint endpoint, Processor processor,
                                  Twitter4JConsumer twitter4jConsumer) {
        &lt;span class=&quot;code-keyword&quot;&gt;super&lt;/span&gt;(endpoint, processor);

        &lt;span class=&quot;code-keyword&quot;&gt;this&lt;/span&gt;.twitter4jConsumer = twitter4jConsumer;

        &lt;span class=&quot;code-object&quot;&gt;int&lt;/span&gt; delay = endpoint.getProperties().getDelay();
        setInitialDelay(1);
        setDelay(delay);  &lt;span class=&quot;code-comment&quot;&gt;// delay is set properly to 60 here
&lt;/span&gt;        setTimeUnit(TimeUnit.SECONDS);
    }
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;but when the run() method of the ScheduledPollConsumer runs, the delay parameter is still the default of 500.&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
&lt;span class=&quot;code-keyword&quot;&gt;public&lt;/span&gt; void run() {
        &lt;span class=&quot;code-comment&quot;&gt;// avoid &lt;span class=&quot;code-keyword&quot;&gt;this&lt;/span&gt; thread to &lt;span class=&quot;code-keyword&quot;&gt;throw&lt;/span&gt; exceptions because the thread pool wont re-schedule a &lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; thread
&lt;/span&gt;        &lt;span class=&quot;code-keyword&quot;&gt;try&lt;/span&gt; {
            &lt;span class=&quot;code-comment&quot;&gt;// log starting
&lt;/span&gt;            &lt;span class=&quot;code-keyword&quot;&gt;if&lt;/span&gt; (LoggingLevel.ERROR == runLoggingLevel) {
                LOG.error(&lt;span class=&quot;code-quote&quot;&gt;&quot;Scheduled task started on:   {}&quot;&lt;/span&gt;, &lt;span class=&quot;code-keyword&quot;&gt;this&lt;/span&gt;.getEndpoint());
            } &lt;span class=&quot;code-keyword&quot;&gt;else&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;if&lt;/span&gt; (LoggingLevel.WARN == runLoggingLevel) {
                LOG.warn(&lt;span class=&quot;code-quote&quot;&gt;&quot;Scheduled task started on:   {}&quot;&lt;/span&gt;, &lt;span class=&quot;code-keyword&quot;&gt;this&lt;/span&gt;.getEndpoint());
            } &lt;span class=&quot;code-keyword&quot;&gt;else&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;if&lt;/span&gt; (LoggingLevel.INFO == runLoggingLevel) {
                LOG.info(&lt;span class=&quot;code-quote&quot;&gt;&quot;Scheduled task started on:   {}&quot;&lt;/span&gt;, &lt;span class=&quot;code-keyword&quot;&gt;this&lt;/span&gt;.getEndpoint());
            } &lt;span class=&quot;code-keyword&quot;&gt;else&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;if&lt;/span&gt; (LoggingLevel.DEBUG == runLoggingLevel) {
                LOG.debug(&lt;span class=&quot;code-quote&quot;&gt;&quot;Scheduled task started on:   {}&quot;&lt;/span&gt;, &lt;span class=&quot;code-keyword&quot;&gt;this&lt;/span&gt;.getEndpoint());
            } &lt;span class=&quot;code-keyword&quot;&gt;else&lt;/span&gt; {
                LOG.trace(&lt;span class=&quot;code-quote&quot;&gt;&quot;Scheduled task started on:   {}&quot;&lt;/span&gt;, &lt;span class=&quot;code-keyword&quot;&gt;this&lt;/span&gt;.getEndpoint());
            }

            &lt;span class=&quot;code-comment&quot;&gt;// execute scheduled task
&lt;/span&gt;            doRun();

            &lt;span class=&quot;code-comment&quot;&gt;// log completed
&lt;/span&gt;            &lt;span class=&quot;code-keyword&quot;&gt;if&lt;/span&gt; (LoggingLevel.ERROR == runLoggingLevel) {
                LOG.error(&lt;span class=&quot;code-quote&quot;&gt;&quot;Scheduled task completed on: {}&quot;&lt;/span&gt;, &lt;span class=&quot;code-keyword&quot;&gt;this&lt;/span&gt;.getEndpoint());
            } &lt;span class=&quot;code-keyword&quot;&gt;else&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;if&lt;/span&gt; (LoggingLevel.WARN == runLoggingLevel) {
                LOG.warn(&lt;span class=&quot;code-quote&quot;&gt;&quot;Scheduled task completed on: {}&quot;&lt;/span&gt;, &lt;span class=&quot;code-keyword&quot;&gt;this&lt;/span&gt;.getEndpoint());
            } &lt;span class=&quot;code-keyword&quot;&gt;else&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;if&lt;/span&gt; (LoggingLevel.INFO == runLoggingLevel) {
                LOG.info(&lt;span class=&quot;code-quote&quot;&gt;&quot;Scheduled task completed on: {}&quot;&lt;/span&gt;, &lt;span class=&quot;code-keyword&quot;&gt;this&lt;/span&gt;.getEndpoint());
            } &lt;span class=&quot;code-keyword&quot;&gt;else&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;if&lt;/span&gt; (LoggingLevel.DEBUG == runLoggingLevel) {
                LOG.debug(&lt;span class=&quot;code-quote&quot;&gt;&quot;Scheduled task completed on: {}&quot;&lt;/span&gt;, &lt;span class=&quot;code-keyword&quot;&gt;this&lt;/span&gt;.getEndpoint());
            } &lt;span class=&quot;code-keyword&quot;&gt;else&lt;/span&gt; {
                LOG.trace(&lt;span class=&quot;code-quote&quot;&gt;&quot;Scheduled task completed on: {}&quot;&lt;/span&gt;, &lt;span class=&quot;code-keyword&quot;&gt;this&lt;/span&gt;.getEndpoint());
            }

        } &lt;span class=&quot;code-keyword&quot;&gt;catch&lt;/span&gt; (Error e) {
            &lt;span class=&quot;code-comment&quot;&gt;// must &lt;span class=&quot;code-keyword&quot;&gt;catch&lt;/span&gt; Error, to ensure the task is re-scheduled
&lt;/span&gt;            LOG.error(&lt;span class=&quot;code-quote&quot;&gt;&quot;Error occurred during running scheduled task on: &quot;&lt;/span&gt; + &lt;span class=&quot;code-keyword&quot;&gt;this&lt;/span&gt;.getEndpoint() + &lt;span class=&quot;code-quote&quot;&gt;&quot;, due: &quot;&lt;/span&gt; + e.getMessage(), e);
        }
    }
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</description>
                <environment>&lt;p&gt;OpenJDK Runtime Environment (IcedTea 2.6.4) (Arch Linux build 7.u95_2.6.4-1-x86_64)&lt;/p&gt;</environment>
        <key id="12935542">CAMEL-9553</key>
            <summary>Twitter consumer doesn&apos;t respect the delay parameter</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/bug.png">Bug</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.png">Minor</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="davsclaus">Claus Ibsen</assignee>
                                    <reporter username="jusw85">Justin W</reporter>
                        <labels>
                    </labels>
                <created>Mon, 1 Feb 2016 08:09:51 +0000</created>
                <updated>Mon, 1 Feb 2016 08:40:26 +0000</updated>
                            <resolved>Mon, 1 Feb 2016 08:40:26 +0000</resolved>
                                    <version>2.16.2</version>
                                    <fixVersion>2.17.0</fixVersion>
                                    <component>camel-twitter</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                                <comments>
                            <comment id="15125936" author="davsclaus" created="Mon, 1 Feb 2016 08:34:54 +0000"  >&lt;p&gt;Use consumer.delay as the workaround to set the delay value.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Mon, 1 Feb 2016 08:34:54 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12310060" key="com.atlassian.jira.plugin.system.customfieldtypes:select">
                        <customfieldname>Estimated Complexity</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10060"><![CDATA[Unknown]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            43 weeks, 4 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i2s7yn:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                    <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        </customfields>
    </item>
</channel>
</rss>