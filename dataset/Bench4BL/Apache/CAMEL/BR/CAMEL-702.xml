<!-- 
RSS generated by JIRA (6.3.4#6332-sha1:51bc225ef474afe3128b2f66878477f322397b16) at Sat Dec 03 02:12:34 UTC 2016

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary add field=key&field=summary to the URL of your request.
For example:
https://issues.apache.org/jira/si/jira.issueviews:issue-xml/CAMEL-702/CAMEL-702.xml?field=key&amp;field=summary
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>6.3.4</version>
        <build-number>6332</build-number>
        <build-date>15-08-2014</build-date>
    </build-info>

<item>
            <title>[CAMEL-702] net.sf.saxon.trans.StaticError: XQuery syntax error in ##: generated when several threads are created for a route</title>
                <link>https://issues.apache.org/jira/browse/CAMEL-702</link>
                <project id="12311211" key="CAMEL">Camel</project>
                    <description>&lt;p&gt;Hi,&lt;/p&gt;

&lt;p&gt;When I configure the following routes to process 10 xml files in a directory , everything works correctly&lt;/p&gt;

&lt;p&gt;A) &lt;/p&gt;

&lt;p&gt;		from(&quot;file:///c:/temp/test/?delete=false&amp;amp;lock=true&amp;amp;consumer.delay=500&amp;amp;consumer.initialDelay=10&quot;).thread(10)&lt;br/&gt;
		.to(&quot;bean:authenticate&quot;)&lt;br/&gt;
				.choice().when(header(&quot;authenticated&quot;).isEqualTo(true))&lt;br/&gt;
					//.to(&quot;display&quot;)&lt;br/&gt;
				    .to(&quot;direct:extractDocument&quot;)&lt;br/&gt;
		.otherwise().to(&quot;activemq:queue:rejectedmessages.queue&quot;);&lt;/p&gt;

&lt;p&gt;B) &lt;/p&gt;

&lt;p&gt;			from(&quot;direct:extractDocument&quot;).thread(1)&lt;br/&gt;
			.setHeader(&quot;responder&quot;).xpath(&quot;//XyZ:Response/text()&quot;, String.class, ns)&lt;br/&gt;
			.setHeader(&quot;channel&quot;, &quot;File-Channel&quot;)&lt;/p&gt;

&lt;p&gt;			.to(&quot;bean:saveContent&quot;)&lt;br/&gt;
			.to(&quot;xquery:com/myapplication/transformation/in/extract.xquery&quot;)&lt;br/&gt;
			.to(&quot;activemq:queue:A.in.queue&quot;);&lt;br/&gt;
	}&lt;/p&gt;

&lt;p&gt;C) 		from(&quot;activemq:queue:A.in.queue&quot;).thread(10)&lt;br/&gt;
		.filter(body().isInstanceOf(String.class))&lt;br/&gt;
		.unmarshal(jaxb)&lt;br/&gt;
		.to(&quot;bean:convert&quot;)&lt;br/&gt;
		.to(&quot;bean:save&quot;)&lt;br/&gt;
		.to(&quot;activemq:queue:A.in.queue&quot;);&lt;/p&gt;

&lt;p&gt;Here is the log trace&lt;/p&gt;

&lt;p&gt;4336937 &lt;span class=&quot;error&quot;&gt;&amp;#91;Thread Processor&amp;#93;&lt;/span&gt; INFO  Authenticate  - Company authenticated&lt;br/&gt;
4336937 &lt;span class=&quot;error&quot;&gt;&amp;#91;Thread Processor&amp;#93;&lt;/span&gt; INFO  Authenticate  - Company authenticated&lt;br/&gt;
4336937 &lt;span class=&quot;error&quot;&gt;&amp;#91;Thread Processor&amp;#93;&lt;/span&gt; INFO  Authenticate  - Company authenticated&lt;br/&gt;
4336937 &lt;span class=&quot;error&quot;&gt;&amp;#91;Thread Processor&amp;#93;&lt;/span&gt; INFO  Authenticate  - Company authenticated&lt;br/&gt;
4336937 &lt;span class=&quot;error&quot;&gt;&amp;#91;Thread Processor&amp;#93;&lt;/span&gt; INFO  Authenticate  - Company authenticated&lt;br/&gt;
4336937 &lt;span class=&quot;error&quot;&gt;&amp;#91;Thread Processor&amp;#93;&lt;/span&gt; INFO  Authenticate  - Company authenticated&lt;br/&gt;
4336937 &lt;span class=&quot;error&quot;&gt;&amp;#91;Thread Processor&amp;#93;&lt;/span&gt; INFO  Authenticate  - Company authenticated&lt;br/&gt;
4336937 &lt;span class=&quot;error&quot;&gt;&amp;#91;Thread Processor&amp;#93;&lt;/span&gt; INFO  Authenticate  - Company authenticated&lt;br/&gt;
4336937 &lt;span class=&quot;error&quot;&gt;&amp;#91;Thread Processor&amp;#93;&lt;/span&gt; INFO  Authenticate  - Company authenticated&lt;br/&gt;
4336937 &lt;span class=&quot;error&quot;&gt;&amp;#91;Thread Processor&amp;#93;&lt;/span&gt; INFO  Authenticate  - Company authenticated&lt;br/&gt;
4337359 &lt;span class=&quot;error&quot;&gt;&amp;#91;Thread Processor&amp;#93;&lt;/span&gt; INFO  SaveContent  - Message saved&lt;br/&gt;
4338562 &lt;span class=&quot;error&quot;&gt;&amp;#91;Thread Processor&amp;#93;&lt;/span&gt; INFO  SaveContent  - Message saved&lt;br/&gt;
4338828 &lt;span class=&quot;error&quot;&gt;&amp;#91;Thread Processor&amp;#93;&lt;/span&gt; INFO  SaveContent  - Message saved&lt;br/&gt;
4339062 &lt;span class=&quot;error&quot;&gt;&amp;#91;Thread Processor&amp;#93;&lt;/span&gt; INFO  SaveContent  - Message saved&lt;br/&gt;
4339328 &lt;span class=&quot;error&quot;&gt;&amp;#91;Thread Processor&amp;#93;&lt;/span&gt; INFO  SaveContent  - Message saved&lt;br/&gt;
4339890 &lt;span class=&quot;error&quot;&gt;&amp;#91;Thread Processor&amp;#93;&lt;/span&gt; INFO  SaveContent  - Message saved&lt;br/&gt;
4340312 &lt;span class=&quot;error&quot;&gt;&amp;#91;Thread Processor&amp;#93;&lt;/span&gt; INFO  SaveContent  - Message saved&lt;br/&gt;
4340515 &lt;span class=&quot;error&quot;&gt;&amp;#91;Thread Processor&amp;#93;&lt;/span&gt; INFO  SaveContent  - Message saved&lt;br/&gt;
4340687 &lt;span class=&quot;error&quot;&gt;&amp;#91;Thread Processor&amp;#93;&lt;/span&gt; INFO  SaveContent  - Message saved&lt;br/&gt;
4340750 &lt;span class=&quot;error&quot;&gt;&amp;#91;Thread Processor&amp;#93;&lt;/span&gt; INFO  Convert  - Message send&lt;br/&gt;
4340906 &lt;span class=&quot;error&quot;&gt;&amp;#91;Thread Processor&amp;#93;&lt;/span&gt; INFO  SaveContent  - Message saved&lt;br/&gt;
4341218 &lt;span class=&quot;error&quot;&gt;&amp;#91;Thread Processor&amp;#93;&lt;/span&gt; INFO  Save  - Order saved&lt;br/&gt;
4341328 &lt;span class=&quot;error&quot;&gt;&amp;#91;Thread Processor&amp;#93;&lt;/span&gt; INFO  Convert  - Message send&lt;br/&gt;
4341890 &lt;span class=&quot;error&quot;&gt;&amp;#91;Thread Processor&amp;#93;&lt;/span&gt; INFO  Save  - Order saved&lt;br/&gt;
4341922 &lt;span class=&quot;error&quot;&gt;&amp;#91;Thread Processor&amp;#93;&lt;/span&gt; INFO  Convert  - Message send&lt;br/&gt;
4342672 &lt;span class=&quot;error&quot;&gt;&amp;#91;Thread Processor&amp;#93;&lt;/span&gt; INFO  Save  - Order saved&lt;br/&gt;
4342734 &lt;span class=&quot;error&quot;&gt;&amp;#91;Thread Processor&amp;#93;&lt;/span&gt; INFO  Convert  - Message send&lt;br/&gt;
4343672 &lt;span class=&quot;error&quot;&gt;&amp;#91;Thread Processor&amp;#93;&lt;/span&gt; INFO  Save  - Order saved&lt;br/&gt;
4343718 &lt;span class=&quot;error&quot;&gt;&amp;#91;Thread Processor&amp;#93;&lt;/span&gt; INFO  Convert  - Message send&lt;br/&gt;
4344703 &lt;span class=&quot;error&quot;&gt;&amp;#91;Thread Processor&amp;#93;&lt;/span&gt; INFO  Save  - Order saved&lt;br/&gt;
4344734 &lt;span class=&quot;error&quot;&gt;&amp;#91;Thread Processor&amp;#93;&lt;/span&gt; INFO  Convert  - Message send&lt;br/&gt;
4345937 &lt;span class=&quot;error&quot;&gt;&amp;#91;Thread Processor&amp;#93;&lt;/span&gt; INFO  Save  - Order saved&lt;br/&gt;
4345984 &lt;span class=&quot;error&quot;&gt;&amp;#91;Thread Processor&amp;#93;&lt;/span&gt; INFO  Convert  - Message send&lt;br/&gt;
4347359 &lt;span class=&quot;error&quot;&gt;&amp;#91;Thread Processor&amp;#93;&lt;/span&gt; INFO  Save  - Order saved&lt;br/&gt;
4347375 &lt;span class=&quot;error&quot;&gt;&amp;#91;Thread Processor&amp;#93;&lt;/span&gt; INFO  Convert  - Message send&lt;br/&gt;
4349078 &lt;span class=&quot;error&quot;&gt;&amp;#91;Thread Processor&amp;#93;&lt;/span&gt; INFO  Save  - Order saved&lt;br/&gt;
4349109 &lt;span class=&quot;error&quot;&gt;&amp;#91;Thread Processor&amp;#93;&lt;/span&gt; INFO  Convert  - Message send&lt;br/&gt;
4350859 &lt;span class=&quot;error&quot;&gt;&amp;#91;Thread Processor&amp;#93;&lt;/span&gt; INFO  Save  - Order saved&lt;br/&gt;
4350906 &lt;span class=&quot;error&quot;&gt;&amp;#91;Thread Processor&amp;#93;&lt;/span&gt; INFO  Convert  - Message send&lt;br/&gt;
4352593 &lt;span class=&quot;error&quot;&gt;&amp;#91;Thread Processor&amp;#93;&lt;/span&gt; INFO  Save  - Order saved&lt;/p&gt;

&lt;p&gt;but when I would like to increase the number of threads to execute more than one XQUERY at a time&lt;/p&gt;

&lt;p&gt;B)			from(&quot;direct:extractDocument&quot;).thread(10)&lt;br/&gt;
			.setHeader(&quot;responder&quot;).xpath(&quot;//XyZ:Response/text()&quot;, String.class, ns)&lt;br/&gt;
			.setHeader(&quot;channel&quot;, &quot;File-Channel&quot;)&lt;/p&gt;

&lt;p&gt;			.to(&quot;bean:saveContent&quot;)&lt;br/&gt;
			.to(&quot;xquery:com/myapplication/transformation/in/extract.xquery&quot;)&lt;br/&gt;
			.to(&quot;activemq:queue:A.in.queue&quot;);&lt;/p&gt;

&lt;p&gt; the following error is generated&lt;/p&gt;

&lt;p&gt;4315906 &lt;span class=&quot;error&quot;&gt;&amp;#91;Thread Processor&amp;#93;&lt;/span&gt; INFO  com.bravura.babel.server.common.Authenticate  - Company authenticated&lt;br/&gt;
4315906 &lt;span class=&quot;error&quot;&gt;&amp;#91;Thread Processor&amp;#93;&lt;/span&gt; INFO  com.bravura.babel.server.common.Authenticate  - Company authenticated&lt;br/&gt;
4315906 &lt;span class=&quot;error&quot;&gt;&amp;#91;Thread Processor&amp;#93;&lt;/span&gt; INFO  com.bravura.babel.server.common.Authenticate  - Company authenticated&lt;br/&gt;
4315906 &lt;span class=&quot;error&quot;&gt;&amp;#91;Thread Processor&amp;#93;&lt;/span&gt; INFO  com.bravura.babel.server.common.Authenticate  - Company authenticated&lt;br/&gt;
4315906 &lt;span class=&quot;error&quot;&gt;&amp;#91;Thread Processor&amp;#93;&lt;/span&gt; INFO  com.bravura.babel.server.common.Authenticate  - Company authenticated&lt;br/&gt;
4315906 &lt;span class=&quot;error&quot;&gt;&amp;#91;Thread Processor&amp;#93;&lt;/span&gt; INFO  com.bravura.babel.server.common.Authenticate  - Company authenticated&lt;br/&gt;
4315906 &lt;span class=&quot;error&quot;&gt;&amp;#91;Thread Processor&amp;#93;&lt;/span&gt; INFO  com.bravura.babel.server.common.Authenticate  - Company authenticated&lt;br/&gt;
4315906 &lt;span class=&quot;error&quot;&gt;&amp;#91;Thread Processor&amp;#93;&lt;/span&gt; INFO  com.bravura.babel.server.common.Authenticate  - Company authenticated&lt;br/&gt;
4315906 &lt;span class=&quot;error&quot;&gt;&amp;#91;Thread Processor&amp;#93;&lt;/span&gt; INFO  com.bravura.babel.server.common.Authenticate  - Company authenticated&lt;br/&gt;
4315906 &lt;span class=&quot;error&quot;&gt;&amp;#91;Thread Processor&amp;#93;&lt;/span&gt; INFO  com.bravura.babel.server.common.Authenticate  - Company authenticated&lt;br/&gt;
4316750 &lt;span class=&quot;error&quot;&gt;&amp;#91;Thread Processor&amp;#93;&lt;/span&gt; INFO  com.bravura.babel.server.common.SaveContent  - Message saved&lt;br/&gt;
4316781 &lt;span class=&quot;error&quot;&gt;&amp;#91;Thread Processor&amp;#93;&lt;/span&gt; INFO  com.bravura.babel.server.common.SaveContent  - Message saved&lt;br/&gt;
4316781 &lt;span class=&quot;error&quot;&gt;&amp;#91;Thread Processor&amp;#93;&lt;/span&gt; INFO  com.bravura.babel.server.common.SaveContent  - Message saved&lt;br/&gt;
4317094 &lt;span class=&quot;error&quot;&gt;&amp;#91;Thread Processor&amp;#93;&lt;/span&gt; INFO  com.bravura.babel.server.common.SaveContent  - Message saved&lt;br/&gt;
4317125 &lt;span class=&quot;error&quot;&gt;&amp;#91;Thread Processor&amp;#93;&lt;/span&gt; INFO  com.bravura.babel.server.common.SaveContent  - Message saved&lt;br/&gt;
4317172 &lt;span class=&quot;error&quot;&gt;&amp;#91;Thread Processor&amp;#93;&lt;/span&gt; INFO  com.bravura.babel.server.common.SaveContent  - Message saved&lt;br/&gt;
4317203 &lt;span class=&quot;error&quot;&gt;&amp;#91;Thread Processor&amp;#93;&lt;/span&gt; INFO  com.bravura.babel.server.common.SaveContent  - Message saved&lt;br/&gt;
4317250 &lt;span class=&quot;error&quot;&gt;&amp;#91;Thread Processor&amp;#93;&lt;/span&gt; INFO  com.bravura.babel.server.common.SaveContent  - Message saved&lt;br/&gt;
4317281 &lt;span class=&quot;error&quot;&gt;&amp;#91;Thread Processor&amp;#93;&lt;/span&gt; INFO  com.bravura.babel.server.common.SaveContent  - Message saved&lt;br/&gt;
4317328 &lt;span class=&quot;error&quot;&gt;&amp;#91;Thread Processor&amp;#93;&lt;/span&gt; INFO  com.bravura.babel.server.common.SaveContent  - Message saved&lt;/p&gt;

&lt;p&gt;43Error on line 1 column 0 &lt;br/&gt;
  XPST0003: XQuery syntax error in ##:&lt;br/&gt;
    Unexpected token &quot;&amp;lt;eof&amp;gt;&quot; in path expression&lt;br/&gt;
Error on line 1 column 0 &lt;br/&gt;
  XPST0003: XQuery syntax error in ##:&lt;br/&gt;
    Unexpected token &quot;&amp;lt;eof&amp;gt;&quot; in path expression&lt;br/&gt;
Error on line 1 column 0 &lt;br/&gt;
  XPST0003: XQuery syntax error in ##:&lt;br/&gt;
    Unexpected token &quot;&amp;lt;eof&amp;gt;&quot; in path expression&lt;br/&gt;
Error on line 1 column 0 &lt;br/&gt;
  XPST0003: XQuery syntax error in ##:&lt;br/&gt;
    Unexpected token &quot;&amp;lt;eof&amp;gt;&quot; in path expression&lt;br/&gt;
Error on line 1 column 0 &lt;br/&gt;
  XPST0003: XQuery syntax error in ##:&lt;br/&gt;
    Unexpected token &quot;&amp;lt;eof&amp;gt;&quot; in path expression&lt;br/&gt;
Error on line 1 column 0 &lt;br/&gt;
  XPST0003: XQuery syntax error in ##:&lt;br/&gt;
    Unexpected token &quot;&amp;lt;eof&amp;gt;&quot; in path expression&lt;br/&gt;
Error on line 1 column 0 &lt;br/&gt;
  XPST0003: XQuery syntax error in ##:&lt;br/&gt;
    Unexpected token &quot;&amp;lt;eof&amp;gt;&quot; in path expression&lt;br/&gt;
Error on line 1 column 0 &lt;br/&gt;
  XPST0003: XQuery syntax error in ##:&lt;br/&gt;
    Unexpected token &quot;&amp;lt;eof&amp;gt;&quot; in path expression&lt;br/&gt;
Error on line 1 column 0 &lt;br/&gt;
  XPST0003: XQuery syntax error in ##:&lt;br/&gt;
    Unexpected token &quot;&amp;lt;eof&amp;gt;&quot; in path expression&lt;br/&gt;
18219 &lt;span class=&quot;error&quot;&gt;&amp;#91;Thread Processor&amp;#93;&lt;/span&gt; ERROR org.apache.camel.processor.DeadLetterChannel  - Failed delivery for exchangeId: ID-dell-charles/4777-1215789902562/0-1. On delivery attempt: 0 caught: org.apache.camel.RuntimeExpressionException: net.sf.saxon.trans.StaticError: XQuery syntax error in ##:&lt;br/&gt;
    Unexpected token &quot;&amp;lt;eof&amp;gt;&quot; in path expression&lt;br/&gt;
43org.apache.camel.RuntimeExpressionException: net.sf.saxon.trans.StaticError: XQuery syntax error in ##:&lt;br/&gt;
    Unexpected token &quot;&amp;lt;eof&amp;gt;&quot; in path expression&lt;br/&gt;
	at org.apache.camel.component.xquery.XQueryBuilder.evaluate(XQueryBuilder.java:125)&lt;br/&gt;
	at org.apache.camel.component.xquery.XQueryBuilder.process(XQueryBuilder.java:89)&lt;br/&gt;
	at org.apache.camel.impl.ProcessorEndpoint.onExchange(ProcessorEndpoint.java:92)&lt;br/&gt;
	at org.apache.camel.impl.ProcessorEndpoint$1.process(ProcessorEndpoint.java:66)&lt;br/&gt;
	at org.apache.camel.impl.converter.AsyncProcessorTypeConverter$ProcessorToAsyncProcessorBridge.process(AsyncProcessorTypeConverter.java:43)&lt;br/&gt;
	at org.apache.camel.processor.SendProcessor.process(SendProcessor.java:75)&lt;br/&gt;
	at org.apache.camel.processor.Pipeline.process(Pipeline.java:101)&lt;br/&gt;
	at org.apache.camel.processor.Pipeline.process(Pipeline.java:85)&lt;br/&gt;
	at org.apache.camel.processor.Pipeline.process(Pipeline.java:101)&lt;br/&gt;
	at org.apache.camel.processor.Pipeline.access$100(Pipeline.java:40)&lt;br/&gt;
	at org.apache.camel.processor.Pipeline$1.done(Pipeline.java:124)&lt;br/&gt;
	at org.apache.camel.processor.ThreadProcessor$ProcessCall.run(ThreadProcessor.java:66)&lt;br/&gt;
	at java.util.concurrent.ThreadPoolExecutor$Worker.runTask(ThreadPoolExecutor.java:650)&lt;br/&gt;
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:675)&lt;br/&gt;
	at java.lang.Thread.run(Thread.java:595)&lt;br/&gt;
Caused by: net.sf.saxon.trans.StaticError: XQuery syntax error in ##:&lt;br/&gt;
    Unexpected token &quot;&amp;lt;eof&amp;gt;&quot; in path expression&lt;br/&gt;
	at net.sf.saxon.query.QueryParser.grumble(QueryParser.java:323)&lt;br/&gt;
	at net.sf.saxon.expr.ExpressionParser.grumble(ExpressionParser.java:136)&lt;br/&gt;
	at net.sf.saxon.expr.ExpressionParser.parseBasicStep(ExpressionParser.java:1403)&lt;br/&gt;
	at net.sf.saxon.expr.ExpressionParser.parseStepExpression(ExpressionParser.java:1220)&lt;br/&gt;
	at net.sf.saxon.expr.ExpressionParser.parseRelativePath(ExpressionParser.java:1160)&lt;br/&gt;
	at net.sf.saxon.expr.ExpressionParser.parsePathExpression(ExpressionParser.java:1146)&lt;br/&gt;
	at net.sf.saxon.expr.ExpressionParser.parseUnaryExpression(ExpressionParser.java:1025)&lt;br/&gt;
	at net.sf.saxon.expr.ExpressionParser.parseCastExpression(ExpressionParser.java:684)&lt;br/&gt;
	at net.sf.saxon.expr.ExpressionParser.parseCastableExpression(ExpressionParser.java:639)&lt;br/&gt;
	at net.sf.saxon.expr.ExpressionParser.parseTreatExpression(ExpressionParser.java:620)&lt;br/&gt;
	at net.sf.saxon.expr.ExpressionParser.parseInstanceOfExpression(ExpressionParser.java:602)&lt;br/&gt;
	at net.sf.saxon.expr.ExpressionParser.parseIntersectExpression(ExpressionParser.java:1058)&lt;br/&gt;
	at net.sf.saxon.expr.ExpressionParser.parseUnionExpression(ExpressionParser.java:1040)&lt;br/&gt;
	at net.sf.saxon.expr.ExpressionParser.parseMultiplicativeExpression(ExpressionParser.java:977)&lt;br/&gt;
	at net.sf.saxon.expr.ExpressionParser.parseAdditiveExpression(ExpressionParser.java:957)&lt;br/&gt;
	at net.sf.saxon.expr.ExpressionParser.parseRangeExpression(ExpressionParser.java:873)&lt;br/&gt;
	at net.sf.saxon.expr.ExpressionParser.parseComparisonExpression(ExpressionParser.java:823)&lt;br/&gt;
	at net.sf.saxon.expr.ExpressionParser.parseAndExpression(ExpressionParser.java:414)&lt;br/&gt;
	at net.sf.saxon.expr.ExpressionParser.parseOrExpression(ExpressionParser.java:396)&lt;br/&gt;
	at net.sf.saxon.expr.ExpressionParser.parseExprSingle(ExpressionParser.java:350)&lt;br/&gt;
	at net.sf.saxon.expr.ExpressionParser.parseExpression(ExpressionParser.java:314)&lt;br/&gt;
	at net.sf.saxon.query.QueryParser.parseQuery(QueryParser.java:256)&lt;br/&gt;
	at net.sf.saxon.query.QueryParser.makeXQueryExpression(QueryParser.java:97)&lt;br/&gt;
	at net.sf.saxon.query.StaticQueryContext.compileQuery(StaticQueryContext.java:450)&lt;br/&gt;
	at net.sf.saxon.query.StaticQueryContext.compileQuery(StaticQueryContext.java:513)&lt;br/&gt;
	at org.apache.camel.component.xquery.XQueryBuilder$3.createQueryExpression(XQueryBuilder.java:216)&lt;br/&gt;
	at org.apache.camel.component.xquery.XQueryBuilder.getExpression(XQueryBuilder.java:294)&lt;br/&gt;
	at org.apache.camel.component.xquery.XQueryBuilder.evaluateAsDOM(XQueryBuilder.java:153)&lt;br/&gt;
	at org.apache.camel.component.xquery.XQueryBuilder.evaluate(XQueryBuilder.java:115)&lt;br/&gt;
	... 14 more&lt;/p&gt;

</description>
                <environment>&lt;p&gt;Win2K / Camel Apache 1.4-SNAPSHOT (11/07/2208)&lt;/p&gt;</environment>
        <key id="12485185">CAMEL-702</key>
            <summary>net.sf.saxon.trans.StaticError: XQuery syntax error in ##: generated when several threads are created for a route</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/bug.png">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.png">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="davsclaus">Claus Ibsen</assignee>
                                    <reporter username="cmoulliard">Charles Moulliard</reporter>
                        <labels>
                    </labels>
                <created>Fri, 11 Jul 2008 15:38:49 +0000</created>
                <updated>Thu, 17 Jul 2008 12:01:14 +0000</updated>
                            <resolved>Mon, 14 Jul 2008 14:48:55 +0000</resolved>
                                    <version>1.4.0</version>
                                    <fixVersion>1.4.0</fixVersion>
                                    <component>camel-saxon</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                <comments>
                            <comment id="12947988" author="davsclaus" created="Sat, 12 Jul 2008 06:01:16 +0000"  >&lt;p&gt;Could be an concurrency issue with the xquery and saxon framework.&lt;/p&gt;</comment>
                            <comment id="12947968" author="cmoulliard" created="Mon, 14 Jul 2008 06:38:26 +0000"  >&lt;p&gt;Should we have to open a defect on Saxon Jira web site ?&lt;/p&gt;</comment>
                            <comment id="12947938" author="davsclaus" created="Mon, 14 Jul 2008 06:47:14 +0000"  >&lt;p&gt;I do think Gert did some changes in Camel related to some concurrency issues with a component similar to this one. We should get his attention first I think.&lt;/p&gt;</comment>
                            <comment id="12948016" author="davsclaus" created="Mon, 14 Jul 2008 07:12:07 +0000"  >&lt;p&gt;Charles is it possible for you to create a unit test that fails with this?&lt;/p&gt;

&lt;p&gt;Can you trigger the problem all the time?&lt;/p&gt;</comment>
                            <comment id="12948026" author="davsclaus" created="Mon, 14 Jul 2008 08:35:35 +0000"  >&lt;p&gt;Charles I am looking into this. I will try to commit a patch later. Could you then try out with the latest 1.4-SNAPSHOT. I will post again here when its ready.&lt;/p&gt;</comment>
                            <comment id="12947908" author="davsclaus" created="Mon, 14 Jul 2008 09:26:32 +0000"  >&lt;p&gt;Charles we have a proposed patch now. Gert is taking a look too.&lt;/p&gt;

&lt;p&gt;When the builds server has created a new snapshot build on the maven repo you can try it out. Wait a few hours.&lt;/p&gt;</comment>
                            <comment id="12948072" author="cmoulliard" created="Mon, 14 Jul 2008 09:39:36 +0000"  >&lt;p&gt;Many thanks. I suppose that the current snaphot (not yet created with the patch) is ?&lt;/p&gt;

&lt;p&gt;[   ] apache-camel-1.4-20080714.001554-34.zip                     14-Jul-2008 02:03  6.7M &lt;/p&gt;</comment>
                            <comment id="12948067" author="davsclaus" created="Mon, 14 Jul 2008 10:08:05 +0000"  >&lt;p&gt;2008-07-14 12:05:42,406 &lt;span class=&quot;error&quot;&gt;&amp;#91;hread Processor&amp;#93;&lt;/span&gt; ERROR DeadLetterChannel              - Failed delivery for exchangeId: ID-claus-acer/4188-1216029941640/0-0. On delivery attempt: 0 caught: org.apache.camel.RuntimeExpressionException: java.lang.IllegalArgumentException: Supplied node must be built using the same or a compatible Configuration&lt;br/&gt;
org.apache.camel.RuntimeExpressionException: java.lang.IllegalArgumentException: Supplied node must be built using the same or a compatible Configuration&lt;br/&gt;
	at org.apache.camel.component.xquery.XQueryBuilder.evaluate(XQueryBuilder.java:124)&lt;br/&gt;
	at org.apache.camel.model.language.ExpressionType.evaluate(ExpressionType.java:98)&lt;br/&gt;
	at org.apache.camel.processor.TransformProcessor.process(TransformProcessor.java:42)&lt;br/&gt;
	at org.apache.camel.impl.converter.AsyncProcessorTypeConverter$ProcessorToAsyncProcessorBridge.process(AsyncProcessorTypeConverter.java:43)&lt;br/&gt;
	at org.apache.camel.processor.Pipeline.process(Pipeline.java:101)&lt;br/&gt;
	at org.apache.camel.processor.Pipeline.process(Pipeline.java:85)&lt;br/&gt;
	at org.apache.camel.processor.Pipeline.process(Pipeline.java:101)&lt;br/&gt;
	at org.apache.camel.processor.Pipeline.access$100(Pipeline.java:40)&lt;br/&gt;
	at org.apache.camel.processor.Pipeline$1.done(Pipeline.java:124)&lt;br/&gt;
	at org.apache.camel.processor.ThreadProcessor$ProcessCall.run(ThreadProcessor.java:66)&lt;br/&gt;
	at java.util.concurrent.ThreadPoolExecutor$Worker.runTask(ThreadPoolExecutor.java:650)&lt;br/&gt;
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:675)&lt;br/&gt;
	at java.lang.Thread.run(Thread.java:595)&lt;br/&gt;
Caused by: java.lang.IllegalArgumentException: Supplied node must be built using the same or a compatible Configuration&lt;br/&gt;
	at net.sf.saxon.query.DynamicQueryContext.setContextItem(DynamicQueryContext.java:89)&lt;br/&gt;
	at org.apache.camel.component.xquery.XQueryBuilder.createDynamicContext(XQueryBuilder.java:390)&lt;br/&gt;
	at org.apache.camel.component.xquery.XQueryBuilder.evaluateAsDOM(XQueryBuilder.java:151)&lt;br/&gt;
	at org.apache.camel.component.xquery.XQueryBuilder.evaluate(XQueryBuilder.java:114)&lt;br/&gt;
	... 12 more&lt;/p&gt;</comment>
                            <comment id="12947952" author="davsclaus" created="Mon, 14 Jul 2008 10:10:43 +0000"  >&lt;p&gt;Could be when was the last build? There has been some commits before this today that could have caused this build. But try it out and see how it goes.&lt;/p&gt;

&lt;p&gt;Charles the build server has just finished the build. So check back in a little while to see if there is a new build.&lt;/p&gt;</comment>
                            <comment id="12948071" author="davsclaus" created="Mon, 14 Jul 2008 11:24:14 +0000"  >&lt;p&gt;Charles. Gert and I have found a solution (we think). I have just committed the final details.&lt;/p&gt;

&lt;p&gt;Could you test it. The builds should take approx 2 hours before its online on the maven repo. Or wait until tomorrow with the test, then you are sure to grab the latest build.&lt;/p&gt;</comment>
                            <comment id="12948105" author="cmoulliard" created="Tue, 15 Jul 2008 08:11:57 +0000"  >&lt;p&gt;Well. We progress but I have a new error. This is reproducible. The error does not occur for every message and unfortunately for us, Camel receives a null pointer exception.&lt;/p&gt;

&lt;p&gt;4320078 &lt;span class=&quot;error&quot;&gt;&amp;#91;Thread Processor&amp;#93;&lt;/span&gt; ERROR org.apache.camel.processor.DeadLetterChannel  - Failed delivery for exchangeId: ID-dell-charles/2644-1216109166046/0-1. On delivery attempt: 0 caught: org.apache.camel.RuntimeExpressionException: java.lang.NullPointerException&lt;br/&gt;
43org.apache.camel.RuntimeExpressionException: java.lang.NullPointerException&lt;br/&gt;
	at org.apache.camel.component.xquery.XQueryBuilder.evaluate(XQueryBuilder.java:132)&lt;br/&gt;
	at org.apache.camel.component.xquery.XQueryBuilder.process(XQueryBuilder.java:90)&lt;br/&gt;
	at org.apache.camel.impl.ProcessorEndpoint.onExchange(ProcessorEndpoint.java:92)&lt;br/&gt;
	at org.apache.camel.impl.ProcessorEndpoint$1.process(ProcessorEndpoint.java:66)&lt;br/&gt;
	at org.apache.camel.impl.converter.AsyncProcessorTypeConverter$ProcessorToAsyncProcessorBridge.process(AsyncProcessorTypeConverter.java:43)&lt;br/&gt;
	at org.apache.camel.processor.SendProcessor.process(SendProcessor.java:75)&lt;br/&gt;
	at org.apache.camel.processor.Pipeline.process(Pipeline.java:101)&lt;br/&gt;
	at org.apache.camel.processor.Pipeline.process(Pipeline.java:85)&lt;br/&gt;
	at org.apache.camel.processor.Pipeline.process(Pipeline.java:101)&lt;br/&gt;
	at org.apache.camel.processor.Pipeline.access$100(Pipeline.java:40)&lt;br/&gt;
	at org.apache.camel.processor.Pipeline$1.done(Pipeline.java:124)&lt;br/&gt;
	at org.apache.camel.processor.ThreadProcessor$ProcessCall.run(ThreadProcessor.java:66)&lt;br/&gt;
	at java.util.concurrent.ThreadPoolExecutor$Worker.runTask(ThreadPoolExecutor.java:650)&lt;br/&gt;
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:675)&lt;br/&gt;
	at java.lang.Thread.run(Thread.java:595)&lt;br/&gt;
Caused by: java.lang.NullPointerException&lt;br/&gt;
	at net.sf.saxon.value.Value.asItem(Value.java:71)&lt;br/&gt;
	at net.sf.saxon.expr.VariableReference.evaluateItem(VariableReference.java:291)&lt;br/&gt;
	at net.sf.saxon.functions.QNameFn.evaluateItem(QNameFn.java:66)&lt;br/&gt;
	at net.sf.saxon.instruct.ComputedElement.getNameCode(ComputedElement.java:283)&lt;br/&gt;
	at net.sf.saxon.instruct.ElementCreator.constructElement(ElementCreator.java:290)&lt;br/&gt;
	at net.sf.saxon.instruct.ElementCreator.evaluateItem(ElementCreator.java:270)&lt;br/&gt;
	at net.sf.saxon.instruct.Instruction.iterate(Instruction.java:320)&lt;br/&gt;
	at net.sf.saxon.expr.IfExpression.iterate(IfExpression.java:257)&lt;br/&gt;
	at net.sf.saxon.expr.ForExpression$MappingAction.map(ForExpression.java:591)&lt;br/&gt;
	at net.sf.saxon.expr.MappingIterator.next(MappingIterator.java:54)&lt;br/&gt;
	at net.sf.saxon.query.XQueryExpression$ErrorReportingIterator.next(XQueryExpression.java:553)&lt;br/&gt;
	at net.sf.saxon.pull.PullFromIterator.next(PullFromIterator.java:60)&lt;br/&gt;
	at net.sf.saxon.pull.PullFilter.next(PullFilter.java:83)&lt;br/&gt;
	at net.sf.saxon.pull.PullNamespaceReducer.next(PullNamespaceReducer.java:66)&lt;br/&gt;
	at net.sf.saxon.pull.PullFilter.next(PullFilter.java:83)&lt;br/&gt;
	at net.sf.saxon.pull.PullPushTee.next(PullPushTee.java:57)&lt;br/&gt;
	at net.sf.saxon.pull.PullConsumer.consume(PullConsumer.java:27)&lt;br/&gt;
	at net.sf.saxon.pull.PullPushCopier.copy(PullPushCopier.java:27)&lt;br/&gt;
	at net.sf.saxon.query.XQueryExpression.pull(XQueryExpression.java:402)&lt;br/&gt;
	at org.apache.camel.component.xquery.XQueryBuilder.evaluateAsDOM(XQueryBuilder.java:162)&lt;br/&gt;
	at org.apache.camel.component.xquery.XQueryBuilder.evaluate(XQueryBuilder.java:122)&lt;br/&gt;
	... 14 more&lt;/p&gt;</comment>
                            <comment id="12947941" author="davsclaus" created="Tue, 15 Jul 2008 09:37:13 +0000"  >&lt;p&gt;Charles does the message succed in the next redelivery?&lt;/p&gt;

&lt;p&gt;The stacktrace is on the first failure = On delivery attempt: 0&lt;/p&gt;

&lt;p&gt;Do you also have:&lt;br/&gt;
On delivery attempt: 1&lt;br/&gt;
On delivery attempt: 2&lt;br/&gt;
On delivery attempt: 3&lt;br/&gt;
etc.&lt;/p&gt;

&lt;p&gt;How high is your throughput? Have you tried to lower the threads from 10 to eg. 5?&lt;br/&gt;
And you can also try a throttler() in from of the xquery to let XXX number of exchanges pass per. second. - throttle(20) will only pass 20 messages per second.&lt;/p&gt;</comment>
                            <comment id="12948003" author="davsclaus" created="Tue, 15 Jul 2008 09:47:31 +0000"  >&lt;p&gt;Charles can you also try with a never version of Saxon.&lt;br/&gt;
&lt;a href=&quot;http://saxon.sourceforge.net/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://saxon.sourceforge.net/&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Has released v9.1.0.1 of Saxon. Unfortunately not in a maven repo (yet)&lt;/p&gt;</comment>
                            <comment id="12948042" author="cmoulliard" created="Tue, 15 Jul 2008 10:11:08 +0000"  >&lt;p&gt;The message is not redelivered.&lt;br/&gt;
Here is the full stack trace :&lt;/p&gt;

&lt;p&gt;4315594 &lt;span class=&quot;error&quot;&gt;&amp;#91;Thread Processor&amp;#93;&lt;/span&gt; ERROR org.apache.camel.processor.DeadLetterChannel  - Failed delivery for exchangeId: ID-dell-charles/3883-1216116412562/0-0. On delivery attempt: 0 caught: org.apache.camel.RuntimeExpressionException: java.lang.NullPointerException&lt;br/&gt;
43org.apache.camel.RuntimeExpressionException: java.lang.NullPointerException&lt;br/&gt;
	at org.apache.camel.component.xquery.XQueryBuilder.evaluate(XQueryBuilder.java:132)&lt;br/&gt;
	at org.apache.camel.component.xquery.XQueryBuilder.process(XQueryBuilder.java:90)&lt;br/&gt;
	at org.apache.camel.impl.ProcessorEndpoint.onExchange(ProcessorEndpoint.java:92)&lt;br/&gt;
	at org.apache.camel.impl.ProcessorEndpoint$1.process(ProcessorEndpoint.java:66)&lt;br/&gt;
	at org.apache.camel.impl.converter.AsyncProcessorTypeConverter$ProcessorToAsyncProcessorBridge.process(AsyncProcessorTypeConverter.java:43)&lt;br/&gt;
	at org.apache.camel.processor.SendProcessor.process(SendProcessor.java:75)&lt;br/&gt;
	at org.apache.camel.processor.Pipeline.process(Pipeline.java:101)&lt;br/&gt;
	at org.apache.camel.processor.Pipeline.process(Pipeline.java:85)&lt;br/&gt;
	at org.apache.camel.processor.Pipeline.process(Pipeline.java:101)&lt;br/&gt;
	at org.apache.camel.processor.Pipeline.access$100(Pipeline.java:40)&lt;br/&gt;
	at org.apache.camel.processor.Pipeline$1.done(Pipeline.java:124)&lt;br/&gt;
	at org.apache.camel.processor.ThreadProcessor$ProcessCall.run(ThreadProcessor.java:66)&lt;br/&gt;
	at java.util.concurrent.ThreadPoolExecutor$Worker.runTask(ThreadPoolExecutor.java:650)&lt;br/&gt;
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:675)&lt;br/&gt;
	at java.lang.Thread.run(Thread.java:595)&lt;br/&gt;
Caused by: java.lang.NullPointerException&lt;br/&gt;
	at net.sf.saxon.value.Value.asItem(Value.java:71)&lt;br/&gt;
	at net.sf.saxon.expr.VariableReference.evaluateItem(VariableReference.java:291)&lt;br/&gt;
	at net.sf.saxon.functions.QNameFn.evaluateItem(QNameFn.java:66)&lt;br/&gt;
	at net.sf.saxon.instruct.ComputedElement.getNameCode(ComputedElement.java:283)&lt;br/&gt;
	at net.sf.saxon.instruct.ElementCreator.constructElement(ElementCreator.java:290)&lt;br/&gt;
	at net.sf.saxon.instruct.ElementCreator.evaluateItem(ElementCreator.java:270)&lt;br/&gt;
	at net.sf.saxon.instruct.Instruction.iterate(Instruction.java:320)&lt;br/&gt;
	at net.sf.saxon.expr.IfExpression.iterate(IfExpression.java:257)&lt;br/&gt;
	at net.sf.saxon.expr.ForExpression$MappingAction.map(ForExpression.java:591)&lt;br/&gt;
	at net.sf.saxon.expr.MappingIterator.next(MappingIterator.java:54)&lt;br/&gt;
	at net.sf.saxon.query.XQueryExpression$ErrorReportingIterator.next(XQueryExpression.java:553)&lt;br/&gt;
	at net.sf.saxon.pull.PullFromIterator.next(PullFromIterator.java:60)&lt;br/&gt;
	at net.sf.saxon.pull.PullFilter.next(PullFilter.java:83)&lt;br/&gt;
	at net.sf.saxon.pull.PullNamespaceReducer.next(PullNamespaceReducer.java:66)&lt;br/&gt;
	at net.sf.saxon.pull.PullFilter.next(PullFilter.java:83)&lt;br/&gt;
	at net.sf.saxon.pull.PullPushTee.next(PullPushTee.java:57)&lt;br/&gt;
	at net.sf.saxon.pull.PullConsumer.consume(PullConsumer.java:27)&lt;br/&gt;
	at net.sf.saxon.pull.PullPushCopier.copy(PullPushCopier.java:27)&lt;br/&gt;
	at net.sf.saxon.query.XQueryExpression.pull(XQueryExpression.java:402)&lt;br/&gt;
	at org.apache.camel.component.xquery.XQueryBuilder.evaluateAsDOM(XQueryBuilder.java:162)&lt;br/&gt;
	at org.apache.camel.component.xquery.XQueryBuilder.evaluate(XQueryBuilder.java:122)&lt;br/&gt;
	... 14 more&lt;br/&gt;
15594 &lt;span class=&quot;error&quot;&gt;&amp;#91;Thread Processor&amp;#93;&lt;/span&gt; ERROR org.apache.camel.processor.DeadLetterChannel  - Failed delivery for exchangeId: ID-dell-charles/3883-1216116412562/0-1. On delivery attempt: 0 caught: org.apache.camel.RuntimeExpressionException: java.lang.NullPointerException&lt;br/&gt;
43org.apache.camel.RuntimeExpressionException: java.lang.NullPointerException&lt;br/&gt;
	at org.apache.camel.component.xquery.XQueryBuilder.evaluate(XQueryBuilder.java:132)&lt;br/&gt;
	at org.apache.camel.component.xquery.XQueryBuilder.process(XQueryBuilder.java:90)&lt;br/&gt;
	at org.apache.camel.impl.ProcessorEndpoint.onExchange(ProcessorEndpoint.java:92)&lt;br/&gt;
	at org.apache.camel.impl.ProcessorEndpoint$1.process(ProcessorEndpoint.java:66)&lt;br/&gt;
	at org.apache.camel.impl.converter.AsyncProcessorTypeConverter$ProcessorToAsyncProcessorBridge.process(AsyncProcessorTypeConverter.java:43)&lt;br/&gt;
	at org.apache.camel.processor.SendProcessor.process(SendProcessor.java:75)&lt;br/&gt;
	at org.apache.camel.processor.Pipeline.process(Pipeline.java:101)&lt;br/&gt;
	at org.apache.camel.processor.Pipeline.process(Pipeline.java:85)&lt;br/&gt;
	at org.apache.camel.processor.Pipeline.process(Pipeline.java:101)&lt;br/&gt;
	at org.apache.camel.processor.Pipeline.access$100(Pipeline.java:40)&lt;br/&gt;
	at org.apache.camel.processor.Pipeline$1.done(Pipeline.java:124)&lt;br/&gt;
	at org.apache.camel.processor.ThreadProcessor$ProcessCall.run(ThreadProcessor.java:66)&lt;br/&gt;
	at java.util.concurrent.ThreadPoolExecutor$Worker.runTask(ThreadPoolExecutor.java:650)&lt;br/&gt;
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:675)&lt;br/&gt;
	at java.lang.Thread.run(Thread.java:595)&lt;br/&gt;
Caused by: java.lang.NullPointerException&lt;br/&gt;
	at net.sf.saxon.value.Value.asItem(Value.java:71)&lt;br/&gt;
	at net.sf.saxon.expr.VariableReference.evaluateItem(VariableReference.java:291)&lt;br/&gt;
	at net.sf.saxon.functions.QNameFn.evaluateItem(QNameFn.java:66)&lt;br/&gt;
	at net.sf.saxon.instruct.ComputedElement.getNameCode(ComputedElement.java:283)&lt;br/&gt;
	at net.sf.saxon.instruct.ElementCreator.constructElement(ElementCreator.java:290)&lt;br/&gt;
	at net.sf.saxon.instruct.ElementCreator.evaluateItem(ElementCreator.java:270)&lt;br/&gt;
	at net.sf.saxon.instruct.Instruction.iterate(Instruction.java:320)&lt;br/&gt;
	at net.sf.saxon.expr.IfExpression.iterate(IfExpression.java:257)&lt;br/&gt;
	at net.sf.saxon.expr.ForExpression$MappingAction.map(ForExpression.java:591)&lt;br/&gt;
	at net.sf.saxon.expr.MappingIterator.next(MappingIterator.java:54)&lt;br/&gt;
	at net.sf.saxon.query.XQueryExpression$ErrorReportingIterator.next(XQueryExpression.java:553)&lt;br/&gt;
	at net.sf.saxon.pull.PullFromIterator.next(PullFromIterator.java:60)&lt;br/&gt;
	at net.sf.saxon.pull.PullFilter.next(PullFilter.java:83)&lt;br/&gt;
	at net.sf.saxon.pull.PullNamespaceReducer.next(PullNamespaceReducer.java:66)&lt;br/&gt;
	at net.sf.saxon.pull.PullFilter.next(PullFilter.java:83)&lt;br/&gt;
	at net.sf.saxon.pull.PullPushTee.next(PullPushTee.java:57)&lt;br/&gt;
	at net.sf.saxon.pull.PullConsumer.consume(PullConsumer.java:27)&lt;br/&gt;
	at net.sf.saxon.pull.PullPushCopier.copy(PullPushCopier.java:27)&lt;br/&gt;
	at net.sf.saxon.query.XQueryExpression.pull(XQueryExpression.java:402)&lt;br/&gt;
	at org.apache.camel.component.xquery.XQueryBuilder.evaluateAsDOM(XQueryBuilder.java:162)&lt;br/&gt;
	at org.apache.camel.component.xquery.XQueryBuilder.evaluate(XQueryBuilder.java:122)&lt;br/&gt;
	... 14 more&lt;/p&gt;

&lt;p&gt;I will test with new Saxon release and/or add the throttle.&lt;br/&gt;
When I change the number of threads, I can sometimes send messages without errors.&lt;/p&gt;</comment>
                            <comment id="12947994" author="cmoulliard" created="Tue, 15 Jul 2008 10:19:32 +0000"  >&lt;p&gt;The error has disappeared with the last version of Saxon 9-1-0-1j.&lt;/p&gt;

&lt;p&gt;remark : I haven&apos;t added the throttle option to make the test.&lt;/p&gt;

&lt;p&gt;Many thanks for your help.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Sat, 12 Jul 2008 06:01:16 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>83323</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            8 years, 21 weeks, 3 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i01dv3:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>6015</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                    <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        </customfields>
    </item>
</channel>
</rss>