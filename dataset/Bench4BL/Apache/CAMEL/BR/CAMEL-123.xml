<!-- 
RSS generated by JIRA (6.3.4#6332-sha1:51bc225ef474afe3128b2f66878477f322397b16) at Sun Dec 04 00:44:18 UTC 2016

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary add field=key&field=summary to the URL of your request.
For example:
https://issues.apache.org/jira/si/jira.issueviews:issue-xml/CAMEL-123/CAMEL-123.xml?field=key&amp;field=summary
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>6.3.4</version>
        <build-number>6332</build-number>
        <build-date>15-08-2014</build-date>
    </build-info>

<item>
            <title>[CAMEL-123] add an &apos;on commit / on rollback&apos; hook so that non-transactional components can do things like delete files when the processing has completed</title>
                <link>https://issues.apache.org/jira/browse/CAMEL-123</link>
                <project id="12311211" key="CAMEL">Camel</project>
                    <description>&lt;p&gt;e.g. file / FTP should only delete the file after successful processing has occurred etc&lt;/p&gt;</description>
                <environment></environment>
        <key id="12486829">CAMEL-123</key>
            <summary>add an &apos;on commit / on rollback&apos; hook so that non-transactional components can do things like delete files when the processing has completed</summary>
                <type id="4" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/improvement.png">Improvement</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.png">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="3">Duplicate</resolution>
                                        <assignee username="davsclaus">Claus Ibsen</assignee>
                                    <reporter username="jstrachan">james strachan</reporter>
                        <labels>
                    </labels>
                <created>Sat, 25 Aug 2007 06:58:53 +0000</created>
                <updated>Sat, 21 Nov 2009 11:57:54 +0000</updated>
                            <resolved>Fri, 15 May 2009 07:55:41 +0000</resolved>
                                                    <fixVersion>2.0-M2</fixVersion>
                                    <component>camel-core</component>
                        <due></due>
                            <votes>3</votes>
                                    <watches>0</watches>
                                                                <comments>
                            <comment id="12945934" author="jstrachan" created="Wed, 29 Aug 2007 07:56:59 +0000"  >&lt;p&gt;have added a UnitOfWork object on an Exchange which can act as the registration point for onComplete / onFailure callbacks - it just needs to be wired into the sync/async processing changes Hiram made yesterday&lt;/p&gt;</comment>
                            <comment id="12946603" author="davsclaus" created="Mon, 24 Mar 2008 15:36:59 +0000"  >&lt;p&gt;James any update/status on this? Is there some work pending?&lt;/p&gt;</comment>
                            <comment id="12950461" author="davsclaus" created="Tue, 20 Jan 2009 18:15:59 +0000"  >&lt;p&gt;The File components could benefit from this so they will hook into UOW and get a onComplete or onFailure callbacks.&lt;/p&gt;

&lt;p&gt;These components handle it themself today using try .. catch logic.&lt;/p&gt;

&lt;p&gt;I might as well take on this one and use the file component as use-case. For starters the API can be exposed internally/spi and later we can consider some nice DSL supports so you can attach custom code to be invoked.&lt;/p&gt;</comment>
                            <comment id="12950657" author="davsclaus" created="Mon, 9 Feb 2009 07:39:28 +0000"  >&lt;p&gt;UnitOfWork is only weaven into the route if you use the route builder.&lt;/p&gt;

&lt;p&gt;For manual code such as creating a consumer from an endpoint will not inject the UoW&lt;/p&gt;</comment>
                            <comment id="12950611" author="davsclaus" created="Mon, 9 Feb 2009 07:55:02 +0000"  >&lt;p&gt;We got a catch-22 situation&lt;/p&gt;

&lt;p&gt;UnitOfWorkProcessor set up the add/remove synchronzation callbacks but they are lazy created just before the Exchange is processed.&lt;br/&gt;
So in another component/consumer component/producer you can not add the synchronization before its processed.&lt;/p&gt;

&lt;p&gt;But you need to use the async processor and do it in the callback done method. &lt;/p&gt;

&lt;p&gt;Need to look into this some more. The idea is also to expose some nice methods in the DSL so end users can add their own custom processing, such as being able to send an email, log or whatever an exchange is done/failed.&lt;/p&gt;</comment>
                            <comment id="12950617" author="davsclaus" created="Mon, 9 Feb 2009 12:34:16 +0000"  >&lt;p&gt;A work in progress patch.&lt;/p&gt;

&lt;p&gt;We need to step back and rethink this one. James have some good ideas.&lt;/p&gt;</comment>
                            <comment id="12950671" author="davsclaus" created="Mon, 9 Feb 2009 12:36:58 +0000"  >&lt;p&gt;&lt;span class=&quot;error&quot;&gt;&amp;#91;13:22&amp;#93;&lt;/span&gt;  &amp;lt;jstrachan&amp;gt; cibsen: with all this consumer v route v UOW; we maybe need a review of all that code really - as when we allow for routes to be started/stopped as independent things it might change things a bit&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;13:23&amp;#93;&lt;/span&gt;  &amp;lt;cibsen&amp;gt; yeah&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;13:24&amp;#93;&lt;/span&gt;  &amp;lt;cibsen&amp;gt; there is a gremlin lying there waiting when starting/stopping routes is more dynamic&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;13:24&amp;#93;&lt;/span&gt;  &amp;lt;cibsen&amp;gt; I will park my work and attach a patch to the ticket&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;13:26&amp;#93;&lt;/span&gt;  &amp;lt;jstrachan&amp;gt; yeah&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;13:26&amp;#93;&lt;/span&gt;  &amp;lt;jstrachan&amp;gt; might have a big impact when we try add that&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;13:26&amp;#93;&lt;/span&gt;  &amp;lt;jstrachan&amp;gt; it&apos;d be great if we can keep all the big impacts inside the core common impl of camel rather than having component/endpoint developers having to worry about it&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;13:29&amp;#93;&lt;/span&gt;  &amp;lt;cibsen&amp;gt; +1&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;13:29&amp;#93;&lt;/span&gt;  &amp;lt;cibsen&amp;gt; yeah I wanted the UoW stuff for components as well so they can register custom code for clean up&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;13:29&amp;#93;&lt;/span&gt;  &amp;lt;jstrachan&amp;gt; yeah!&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;13:29&amp;#93;&lt;/span&gt;  &amp;lt;jstrachan&amp;gt; however that works - we need a nice simple API the component developers can use&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;13:30&amp;#93;&lt;/span&gt;  &amp;lt;jstrachan&amp;gt; then we can tinker under the covers to figure out how it works&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;13:30&amp;#93;&lt;/span&gt;  &amp;lt;jstrachan&amp;gt; (whether using real spring transactions, or UOW or whatever)&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;13:30&amp;#93;&lt;/span&gt;  &amp;lt;jstrachan&amp;gt; maybe we should just use spring transactions for example?&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;13:30&amp;#93;&lt;/span&gt;  &amp;lt;cibsen&amp;gt; I also thoght that we needed a nice DSL in the route: from&lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/error.gif&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;.onComplete(process).to(zzz)&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;13:30&amp;#93;&lt;/span&gt;  &amp;lt;jstrachan&amp;gt; and just kinda make transactions look like a transaction manager?&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;13:30&amp;#93;&lt;/span&gt;  &amp;lt;jstrachan&amp;gt; though then there&apos;s the transaction context propogating threads issue etc&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;13:30&amp;#93;&lt;/span&gt;  &amp;lt;jstrachan&amp;gt; yeah&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;13:31&amp;#93;&lt;/span&gt;  &amp;lt;jstrachan&amp;gt; we might also want to be able to start/stop routes by ID too&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;13:31&amp;#93;&lt;/span&gt;  &amp;lt;cibsen&amp;gt; yeah i think we should stick with Spring TX&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;13:31&amp;#93;&lt;/span&gt;  &amp;lt;jstrachan&amp;gt; yeah&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;13:31&amp;#93;&lt;/span&gt;  &amp;lt;cibsen&amp;gt; its to comple to roll out your own&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;13:31&amp;#93;&lt;/span&gt;  &amp;lt;jstrachan&amp;gt; lets do it &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/smile.gif&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;13:31&amp;#93;&lt;/span&gt;  &amp;lt;jstrachan&amp;gt; yeah&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;13:31&amp;#93;&lt;/span&gt;  &amp;lt;jstrachan&amp;gt; then we&apos;d just need a file transaction manager&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;13:31&amp;#93;&lt;/span&gt;  &amp;lt;jstrachan&amp;gt; or some kinda &apos;simple local transaction manager&apos; for non-tx resources&lt;/p&gt;</comment>
                            <comment id="12950616" author="davsclaus" created="Mon, 9 Feb 2009 16:06:40 +0000"  >&lt;p&gt;We need a bit more time on this one, and I want to narrow down on a milestone build of Camel 2.0&lt;/p&gt;</comment>
                            <comment id="12952136" author="davsclaus" created="Fri, 15 May 2009 07:55:41 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/CAMEL-1604&quot; title=&quot;UnitOfWork synchronization callbacks - add DSL for easy registering custom processor&quot; class=&quot;issue-link&quot; data-issue-key=&quot;CAMEL-1604&quot;&gt;&lt;del&gt;CAMEL-1604&lt;/del&gt;&lt;/a&gt; implements this feature&lt;/p&gt;</comment>
                            <comment id="12950082" author="davsclaus" created="Sat, 21 Nov 2009 11:57:54 +0000"  >&lt;p&gt;Closing all 2.0M2 tickets&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="12310000">
                    <name>Duplicate</name>
                                                                <inwardlinks description="is duplicated by">
                                        <issuelink>
            <issuekey id="12486319">CAMEL-1604</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                            <issuelinktype id="10001">
                    <name>dependent</name>
                                                                <inwardlinks description="is depended upon by">
                                        <issuelink>
            <issuekey id="12486844">CAMEL-1216</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="12462753" name="CAMEL-123_work_in_progress.patch" size="11825" author="davsclaus" created="Mon, 9 Feb 2009 12:34:16 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Mon, 24 Mar 2008 15:36:59 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>102836</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            7 years, 3 weeks ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i01aaf:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>5436</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        </customfields>
    </item>
</channel>
</rss>