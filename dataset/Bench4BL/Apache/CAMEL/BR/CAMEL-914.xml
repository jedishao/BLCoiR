<!-- 
RSS generated by JIRA (6.3.4#6332-sha1:51bc225ef474afe3128b2f66878477f322397b16) at Sat Dec 03 01:51:28 UTC 2016

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary add field=key&field=summary to the URL of your request.
For example:
https://issues.apache.org/jira/si/jira.issueviews:issue-xml/CAMEL-914/CAMEL-914.xml?field=key&amp;field=summary
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>6.3.4</version>
        <build-number>6332</build-number>
        <build-date>15-08-2014</build-date>
    </build-info>

<item>
            <title>[CAMEL-914] Camel Maven plugin should not look for routes in target/test-classes</title>
                <link>https://issues.apache.org/jira/browse/CAMEL-914</link>
                <project id="12311211" key="CAMEL">Camel</project>
                    <description>&lt;p&gt;Currently the Maven Plugin attempts to load Camel Routes from both target/classes and target/test-classes.  This causes an issue when you have the same package defined for testing as you have in your Camel Context.  An example problem is using a super class for a test which is only available a test dependency which results in a ClassNotFoundException.&lt;/p&gt;

&lt;p&gt;I would propose one of the following:&lt;/p&gt;

&lt;ol&gt;
	&lt;li&gt;Prevent the plugin from using target/test-classes altogther&lt;/li&gt;
	&lt;li&gt;Add a mojo parameter to allow for routes under test-classes to be scanned
	&lt;ul&gt;
		&lt;li&gt;This should default to False&lt;/li&gt;
		&lt;li&gt;If this parameter is set to True then the plugin should add dependencies marked as &quot;test&quot; to the classpath&lt;/li&gt;
	&lt;/ul&gt;
	&lt;/li&gt;
&lt;/ol&gt;
</description>
                <environment></environment>
        <key id="12485982">CAMEL-914</key>
            <summary>Camel Maven plugin should not look for routes in target/test-classes</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/bug.png">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.png">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="davsclaus">Claus Ibsen</assignee>
                                    <reporter username="pledge">Martin Gilday</reporter>
                        <labels>
                    </labels>
                <created>Wed, 17 Sep 2008 12:26:38 +0000</created>
                <updated>Mon, 16 Feb 2009 05:51:53 +0000</updated>
                            <resolved>Thu, 18 Sep 2008 18:33:56 +0000</resolved>
                                    <version>1.4.0</version>
                                    <fixVersion>1.5.0</fixVersion>
                                    <component>tooling</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                <comments>
                            <comment id="12948890" author="pledge" created="Wed, 17 Sep 2008 13:03:17 +0000"  >&lt;p&gt;See &lt;a href=&quot;http://www.nabble.com/Camel-Maven-Plugin-looking-in-test-classes-td19530527s22882.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://www.nabble.com/Camel-Maven-Plugin-looking-in-test-classes-td19530527s22882.html&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="12948776" author="pledge" created="Wed, 17 Sep 2008 13:18:04 +0000"  >&lt;p&gt;It also seems to be using classpath resources from src/test/resources such as log4j configs. &lt;/p&gt;</comment>
                            <comment id="12948867" author="davsclaus" created="Wed, 17 Sep 2008 17:42:26 +0000"  >&lt;p&gt;I will go for option #1.&lt;/p&gt;

&lt;p&gt;It looks like it adds the test classes.&lt;br/&gt;
But neither resources, so that should be added.&lt;/p&gt;

&lt;p&gt;I actually doubt that we should add anything from the test? Is an option needed then afterall?&lt;/p&gt;</comment>
                            <comment id="12948828" author="davsclaus" created="Wed, 17 Sep 2008 17:59:04 +0000"  >&lt;p&gt;Martin I have commited a fix for this. Now the test-classes is not added to the classpath.&lt;/p&gt;

&lt;p&gt;Can you test it? You need to use version 1.5-SNAPSHOT of the plugin. And to add the maven plugin snapshot repo to your maven repo.&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-xml&quot;&gt;
    &lt;span class=&quot;code-tag&quot;&gt;&amp;lt;pluginRepositories&amp;gt;&lt;/span&gt;
        &lt;span class=&quot;code-tag&quot;&gt;&amp;lt;pluginRepository&amp;gt;&lt;/span&gt;
            &lt;span class=&quot;code-tag&quot;&gt;&amp;lt;id&amp;gt;&lt;/span&gt;apache-plugin-snapshots&lt;span class=&quot;code-tag&quot;&gt;&amp;lt;/id&amp;gt;&lt;/span&gt;
            &lt;span class=&quot;code-tag&quot;&gt;&amp;lt;name&amp;gt;&lt;/span&gt;Apache Maven Plugins Snapshot Repository&lt;span class=&quot;code-tag&quot;&gt;&amp;lt;/name&amp;gt;&lt;/span&gt;
            &lt;span class=&quot;code-tag&quot;&gt;&amp;lt;url&amp;gt;&lt;/span&gt;http://people.apache.org/maven-snapshot-repository&lt;span class=&quot;code-tag&quot;&gt;&amp;lt;/url&amp;gt;&lt;/span&gt;
            &lt;span class=&quot;code-tag&quot;&gt;&amp;lt;snapshots&amp;gt;&lt;/span&gt;
                &lt;span class=&quot;code-tag&quot;&gt;&amp;lt;enabled&amp;gt;&lt;/span&gt;true&lt;span class=&quot;code-tag&quot;&gt;&amp;lt;/enabled&amp;gt;&lt;/span&gt;
            &lt;span class=&quot;code-tag&quot;&gt;&amp;lt;/snapshots&amp;gt;&lt;/span&gt;
            &lt;span class=&quot;code-tag&quot;&gt;&amp;lt;releases&amp;gt;&lt;/span&gt;
                &lt;span class=&quot;code-tag&quot;&gt;&amp;lt;enabled&amp;gt;&lt;/span&gt;false&lt;span class=&quot;code-tag&quot;&gt;&amp;lt;/enabled&amp;gt;&lt;/span&gt;
            &lt;span class=&quot;code-tag&quot;&gt;&amp;lt;/releases&amp;gt;&lt;/span&gt;
        &lt;span class=&quot;code-tag&quot;&gt;&amp;lt;/pluginRepository&amp;gt;&lt;/span&gt;
    &lt;span class=&quot;code-tag&quot;&gt;&amp;lt;/pluginRepositories&amp;gt;&lt;/span&gt;
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</comment>
                            <comment id="12948857" author="davsclaus" created="Thu, 18 Sep 2008 06:12:15 +0000"  >&lt;p&gt;A reminder to myself. Check if test scoped .jar is added as well, they should not.&lt;/p&gt;</comment>
                            <comment id="12948777" author="davsclaus" created="Thu, 18 Sep 2008 06:42:40 +0000"  >&lt;p&gt;Okay I have refined it to not include test scoped jars as well. &lt;/p&gt;

&lt;p&gt;Also I have added a INFO logging with the classpath resolved just as &lt;tt&gt;mvn jetty:run&lt;/tt&gt; also does. So now end-users can see the classpath when they using this tool.&lt;/p&gt;

&lt;p&gt;Martin, let me know how it goes for you.&lt;/p&gt;</comment>
                            <comment id="12948842" author="pledge" created="Thu, 18 Sep 2008 10:02:08 +0000"  >&lt;p&gt;I have tested the same project and can confirm that it only attempts to load routes from target/classes now, which is fantastic.&lt;/p&gt;

&lt;p&gt;However I do not see any INFO logging statements about the classpath.  In fact one issue is that without a log4j.properties/xml in src/main resources the only message that the plugin prints out is:&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;INFO&amp;#93;&lt;/span&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;camel:run&amp;#93;&lt;/span&gt;&lt;br/&gt;
At first I wasn&apos;t even sure if Camel had completed startup.  I think a INFO statement saying &quot;Camel route creation complete&quot; or similar would be useful if possible.&lt;/p&gt;

&lt;p&gt;When I add a log4j config with the root level set to DEBUG you can nicely see the details of the routes that are being created.  I will add this to the wiki page as it is very useful info to see when prototyping your app.&lt;/p&gt;</comment>
                            <comment id="12948858" author="davsclaus" created="Thu, 18 Sep 2008 10:06:51 +0000"  >&lt;p&gt;Thanks Martin&lt;/p&gt;

&lt;p&gt;The INFO logging of classpath is recent added, so you have to wait until the Apache INFRA has build a new snapshot of the plugin. Wait X hours and try again. It should then have the classpath logged just as jetty does it.&lt;/p&gt;

&lt;p&gt;eg a sample from running the spring example on my local laptop&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
[INFO] [camel:run]
[INFO] Classpath = [file:/D:/project/camel/examples/camel-example-spring/target/classes/, file:/C:/Documents and Settings/Claus Ibsen/.m2/repository/org/apache/camel/camel-spring/1.5-SNAPSHOT/camel-spring-1.5-SNAPSHOT.jar, file:/C:/Documents and Settings/Claus Ibsen/.m2/repository/org/apache/camel/c
amel-core/1.5-SNAPSHOT/camel-core-1.5-SNAPSHOT.jar, file:/C:/Documents and Settings/Claus Ibsen/.m2/repository/commons-logging/commons-logging-api/1.1/commons-logging-api-1.1.jar, file:/C:/Documents and Settings/Claus Ibsen/.m2/repository/javax/xml/bind/jaxb-api/2.1/jaxb-api-2.1.jar, file:/C:/Docume
nts and Settings/Claus Ibsen/.m2/repository/javax/xml/stream/stax-api/1.0-2/stax-api-1.0-2.jar, file:/C:/Documents and Settings/Claus Ibsen/.m2/repository/javax/activation/activation/1.1/activation-1.1.jar, file:/C:/Documents and Settings/Claus Ibsen/.m2/repository/com/sun/xml/bind/jaxb-impl/2.1.6/j
axb-impl-2.1.6.jar, file:/C:/Documents and Settings/Claus Ibsen/.m2/repository/org/springframework/spring-core/2.5.5/spring-core-2.5.5.jar, file:/C:/Documents and Settings/Claus Ibsen/.m2/repository/commons-logging/commons-logging/1.1.1/commons-logging-1.1.1.jar, file:/C:/Documents and Settings/Clau
s Ibsen/.m2/repository/org/springframework/spring-context/2.5.5/spring-context-2.5.5.jar, file:/C:/Documents and Settings/Claus Ibsen/.m2/repository/aopalliance/aopalliance/1.0/aopalliance-1.0.jar, file:/C:/Documents and Settings/Claus Ibsen/.m2/repository/org/springframework/spring-beans/2.5.5/spri
ng-beans-2.5.5.jar, file:/C:/Documents and Settings/Claus Ibsen/.m2/repository/org/springframework/spring-tx/2.5.5/spring-tx-2.5.5.jar, file:/C:/Documents and Settings/Claus Ibsen/.m2/repository/org/springframework/spring-aop/2.5.5/spring-aop-2.5.5.jar, file:/C:/Documents and Settings/Claus Ibsen/.m
2/repository/org/apache/camel/camel-jms/1.5-SNAPSHOT/camel-jms-1.5-SNAPSHOT.jar, file:/C:/Documents and Settings/Claus Ibsen/.m2/repository/org/springframework/spring-jms/2.5.5/spring-jms-2.5.5.jar, file:/C:/Documents and Settings/Claus Ibsen/.m2/repository/commons-pool/commons-pool/1.4/commons-pool
-1.4.jar, file:/C:/Documents and Settings/Claus Ibsen/.m2/repository/org/springframework/spring-context-support/2.5.5/spring-context-support-2.5.5.jar, file:/C:/Documents and Settings/Claus Ibsen/.m2/repository/org/apache/geronimo/specs/geronimo-jms_1.1_spec/1.1.1/geronimo-jms_1.1_spec-1.1.1.jar, fi
le:/C:/Documents and Settings/Claus Ibsen/.m2/repository/org/apache/geronimo/specs/geronimo-jta_1.1_spec/1.1.1/geronimo-jta_1.1_spec-1.1.1.jar, file:/C:/Documents and Settings/Claus Ibsen/.m2/repository/org/apache/activemq/activemq-core/5.1.0/activemq-core-5.1.0.jar, file:/C:/Documents and Settings/
Claus Ibsen/.m2/repository/org/apache/activemq/activeio-core/3.1.0/activeio-core-3.1.0.jar, file:/C:/Documents and Settings/Claus Ibsen/.m2/repository/backport-util-concurrent/backport-util-concurrent/2.1/backport-util-concurrent-2.1.jar, file:/C:/Documents and Settings/Claus Ibsen/.m2/repository/or
g/apache/geronimo/specs/geronimo-j2ee-management_1.0_spec/1.1/geronimo-j2ee-management_1.0_spec-1.1.jar, file:/C:/Documents and Settings/Claus Ibsen/.m2/repository/org/apache/activemq/activeio-core/3.1.0/activeio-core-3.1.0-tests.jar]
2008-09-18 12:06:21 org.apache.camel.spring.Main doStart
INFO: Apache Camel 1.5-SNAPSHOT starting
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</comment>
                            <comment id="12948837" author="pledge" created="Thu, 18 Sep 2008 10:10:58 +0000"  >&lt;p&gt;Thanks Claus,  I will be testing this app over the next few days so it should appear at some point.&lt;br/&gt;
I have updated the wiki about this change.&lt;/p&gt;</comment>
                            <comment id="12950863" author="davsclaus" created="Mon, 16 Feb 2009 05:51:53 +0000"  >&lt;p&gt;Closing all 1.5.0 issues&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Wed, 17 Sep 2008 17:42:26 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>83274</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            7 years, 42 weeks, 4 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i01f6f:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>6228</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                    <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        </customfields>
    </item>
</channel>
</rss>