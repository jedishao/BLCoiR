<!-- 
RSS generated by JIRA (6.3.4#6332-sha1:51bc225ef474afe3128b2f66878477f322397b16) at Sat Dec 03 03:33:59 UTC 2016

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary add field=key&field=summary to the URL of your request.
For example:
https://issues.apache.org/jira/si/jira.issueviews:issue-xml/CAMEL-7855/CAMEL-7855.xml?field=key&amp;field=summary
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>6.3.4</version>
        <build-number>6332</build-number>
        <build-date>15-08-2014</build-date>
    </build-info>

<item>
            <title>[CAMEL-7855] If you suspend a JMS route that is stopped, calling resume on it does not work and reports no error</title>
                <link>https://issues.apache.org/jira/browse/CAMEL-7855</link>
                <project id="12311211" key="CAMEL">Camel</project>
                    <description>&lt;p&gt;If a route that consumes from JMS is in state Stopped, and first Suspend and then Resume are called upon it, the route reports itself as being in state Started. However, it is not actually consuming anything from the endpoint.&lt;/p&gt;</description>
                <environment>&lt;p&gt;All&lt;/p&gt;</environment>
        <key id="12743636">CAMEL-7855</key>
            <summary>If you suspend a JMS route that is stopped, calling resume on it does not work and reports no error</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/bug.png">Bug</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.png">Minor</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="davsclaus">Claus Ibsen</assignee>
                                    <reporter username="mahoney">Robert Elliot</reporter>
                        <labels>
                    </labels>
                <created>Tue, 23 Sep 2014 22:04:11 +0000</created>
                <updated>Sat, 27 Sep 2014 13:29:57 +0000</updated>
                            <resolved>Sat, 27 Sep 2014 12:16:58 +0000</resolved>
                                    <version>2.14.0</version>
                                    <fixVersion>2.12.5</fixVersion>
                    <fixVersion>2.13.3</fixVersion>
                    <fixVersion>2.14.1</fixVersion>
                    <fixVersion>2.15.0</fixVersion>
                                    <component>camel-jms</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                                <comments>
                            <comment id="14145534" author="mahoney" created="Tue, 23 Sep 2014 22:08:00 +0000"  >&lt;p&gt;Failing JUnit Test case &amp;amp; associated pom - requires Awaitlity &amp;amp; Assertj.&lt;/p&gt;</comment>
                            <comment id="14145536" author="mahoney" created="Tue, 23 Sep 2014 22:13:26 +0000"  >&lt;p&gt;I can see two fairly simple solutions:&lt;/p&gt;

&lt;ul&gt;
	&lt;li&gt;Throw an exception if a user tries to suspend a Stopped route&lt;/li&gt;
	&lt;li&gt;Do nothing if a user tries to suspend a Stopped route - leave it in state Stopped&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;The second seems more consistent with current behaviour.&lt;/p&gt;</comment>
                            <comment id="14150563" author="davsclaus" created="Sat, 27 Sep 2014 11:54:22 +0000"  >&lt;p&gt;Thanks for reporting, the issue is that you should start it first, but I am fixing this so the component handles this as well.&lt;/p&gt;

&lt;p&gt;Its not really the suspension that is the problem, is the resume. And only in that combination you have&lt;/p&gt;

&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;route auto start = false&lt;/li&gt;
	&lt;li&gt;call suspend first&lt;/li&gt;
	&lt;li&gt;call resume&lt;/li&gt;
&lt;/ul&gt;

</comment>
                            <comment id="14150585" author="mahoney" created="Sat, 27 Sep 2014 13:29:57 +0000"  >&lt;p&gt;Understood and thanks - my view would be that if that if the path&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;route auto start = false&lt;/li&gt;
	&lt;li&gt;call suspend first&lt;/li&gt;
	&lt;li&gt;call resume&lt;br/&gt;
is illegal then an exception should be thrown to enforce the invariant.&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;I&apos;m a bit concerned that the fix is purely aimed at the JMS component. ServiceSupport still allows a SuspendableService to go from Stopped -&amp;gt; suspend() -&amp;gt; Suspended -&amp;gt; resume() -&amp;gt; Started without ever calling doStart(), which means the logic &quot;if never started, initialise&quot; has to be done in every subclass of ServiceSupport - so any knew component may have the same bug.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12670825" name="RouteLifecycleTest.java" size="4092" author="mahoney" created="Tue, 23 Sep 2014 22:08:00 +0000"/>
                            <attachment id="12670826" name="pom.xml" size="1687" author="mahoney" created="Tue, 23 Sep 2014 22:08:00 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>2.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Sat, 27 Sep 2014 11:54:22 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12310060" key="com.atlassian.jira.plugin.system.customfieldtypes:select">
                        <customfieldname>Estimated Complexity</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10060"><![CDATA[Unknown]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            2 years, 9 weeks, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i20evr:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                    <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        </customfields>
    </item>
</channel>
</rss>