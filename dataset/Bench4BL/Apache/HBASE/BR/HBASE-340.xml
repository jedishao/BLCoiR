<!-- 
RSS generated by JIRA (6.3.4#6332-sha1:51bc225ef474afe3128b2f66878477f322397b16) at Fri Dec 02 18:44:20 UTC 2016

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary add field=key&field=summary to the URL of your request.
For example:
https://issues.apache.org/jira/si/jira.issueviews:issue-xml/HBASE-340/HBASE-340.xml?field=key&amp;field=summary
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>6.3.4</version>
        <build-number>6332</build-number>
        <build-date>15-08-2014</build-date>
    </build-info>

<item>
            <title>[HBASE-340] HBase code update 0.0.0-4</title>
                <link>https://issues.apache.org/jira/browse/HBASE-340</link>
                <project id="12310753" key="HBASE">HBase</project>
                    <description>&lt;p&gt;HClient&lt;/p&gt;
&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;Added logic to detect when a region is no longer being served by the&lt;br/&gt;
  cached region server&lt;/li&gt;
	&lt;li&gt;Prevent null pointer exception in the get methods because the server&lt;br/&gt;
  can return null if the data is not found (contributed by Vuk Ercegovac)&lt;/li&gt;
	&lt;li&gt;Disallow creation of reserved table names&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;HLocking&lt;/p&gt;
&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;Make the lock counter an AtomicInteger&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;HLog&lt;/p&gt;
&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;Add some DEBUG logging&lt;/li&gt;
&lt;/ul&gt;



&lt;p&gt;HMaster&lt;/p&gt;
&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;Main processing loop did not sleep if there were no known region&lt;br/&gt;
  servers (contributed by Vuk Ercegovac)&lt;/li&gt;
	&lt;li&gt;Move processing of kill list after processing all the incoming&lt;br/&gt;
  region server messages &lt;/li&gt;
	&lt;li&gt;deleteTable prevents meta scanner from running so that there will be&lt;br/&gt;
  no race condition between them. Previously, if deleteTable was in&lt;br/&gt;
  the middle of processing and the meta scanner ran, it could detect a&lt;br/&gt;
  region as unassigned and try to reassign it.&lt;/li&gt;
	&lt;li&gt;deleteTable does not update the kill list until it has finished&lt;br/&gt;
  scanning a meta region. This will prevent lock contention on the&lt;br/&gt;
  region server.&lt;/li&gt;
	&lt;li&gt;deleteTable will now delete any regions that are not being served&lt;/li&gt;
	&lt;li&gt;deleteTable removes unassigned regions from the &quot;to be assigned list&quot;&lt;/li&gt;
	&lt;li&gt;fix createTable so it correctly refuses to create a second table&lt;br/&gt;
  with the same name as an existing table&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;HRegion&lt;/p&gt;
&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;deleteRegion is a new static method&lt;/li&gt;
	&lt;li&gt;added isClosed method&lt;/li&gt;
	&lt;li&gt;closeAndDelete calls new deleteRegion method&lt;/li&gt;
	&lt;li&gt;added locking&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;HRegionInterface&lt;/p&gt;
&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;getRegionInfo now throws NotServingRegionException&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;HRegionServer&lt;/p&gt;
&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;split or compact checker skips a region if it is closed&lt;/li&gt;
	&lt;li&gt;cache flusher skips a region if it is closed&lt;/li&gt;
	&lt;li&gt;lessen amount of time closeAndDeleteRegion holds the HRegionServer&lt;br/&gt;
  write lock&lt;/li&gt;
	&lt;li&gt;getRegionInfo now throws NotServingRegionException&lt;/li&gt;
	&lt;li&gt;moved checks for region being served to getRegion method (which&lt;br/&gt;
  throws NotServingRegionException)&lt;/li&gt;
	&lt;li&gt;fixed bug in close in which the scanner was not actually getting closed&lt;/li&gt;
	&lt;li&gt;implements RegionUnavailableListener in splitOrCompactChecker&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;Leases&lt;/p&gt;
&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;added some DEBUG logging&lt;/li&gt;
	&lt;li&gt;fixed bug in which the leaseCheckFrequency was not being set causing&lt;br/&gt;
  the lease checker to spin and never sleep. (contributed by Vuk Ercegovac)&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;NotServingRegionException&lt;/p&gt;
&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;new exception (extends IOException)&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;RegionUnavailableListener&lt;/p&gt;
&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;new interface that enables split region to call back the caller just&lt;br/&gt;
  before the old region is taken off-line&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;Refactor test cases:&lt;/p&gt;
&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;MiniHBaseCluster modified&lt;/li&gt;
	&lt;li&gt;Deleted Environment.java replaced with StaticTestEnvironment.java&lt;/li&gt;
	&lt;li&gt;New classes:&lt;br/&gt;
  HBaseTestCase&lt;br/&gt;
  HBaseClusterTestCase&lt;/li&gt;
	&lt;li&gt;New tests:&lt;br/&gt;
  TestHLog&lt;br/&gt;
  TestTable&lt;/li&gt;
	&lt;li&gt;Modified tests:&lt;br/&gt;
  TestGet&lt;br/&gt;
  TestHBaseCluster&lt;br/&gt;
  TestHRegion&lt;br/&gt;
  TestScanner&lt;/li&gt;
&lt;/ul&gt;
</description>
                <environment></environment>
        <key id="12369608">HBASE-340</key>
            <summary>HBase code update 0.0.0-4</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/bug.png">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.png">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="jimk">Jim Kellerman</reporter>
                        <labels>
                    </labels>
                <created>Thu, 17 May 2007 20:53:58 +0000</created>
                <updated>Mon, 4 Feb 2008 18:41:46 +0000</updated>
                            <resolved>Fri, 18 May 2007 13:57:19 +0000</resolved>
                                                                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                <comments>
                            <comment id="12496680" author="jimk" created="Thu, 17 May 2007 20:55:39 +0000"  >&lt;p&gt;Uploading a patch to test in Hudson prior to commiting it.&lt;/p&gt;</comment>
                            <comment id="12496681" author="jimk" created="Thu, 17 May 2007 20:56:11 +0000"  >&lt;p&gt;Test changes in Hudson build&lt;/p&gt;</comment>
                            <comment id="12496690" author="hadoopqa" created="Thu, 17 May 2007 21:23:06 +0000"  >&lt;p&gt;+1&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;http://issues.apache.org/jira/secure/attachment/12357579/patch.txt&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://issues.apache.org/jira/secure/attachment/12357579/patch.txt&lt;/a&gt; applied and successfully tested against trunk revision r539093.&lt;/p&gt;

&lt;p&gt;Test results:   &lt;a href=&quot;http://lucene.zones.apache.org:8080/hudson/job/Hadoop-Patch/153/testReport/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://lucene.zones.apache.org:8080/hudson/job/Hadoop-Patch/153/testReport/&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;http://lucene.zones.apache.org:8080/hudson/job/Hadoop-Patch/153/console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://lucene.zones.apache.org:8080/hudson/job/Hadoop-Patch/153/console&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="12496878" author="jimk" created="Fri, 18 May 2007 13:57:19 +0000"  >&lt;p&gt;Change committed.&lt;/p&gt;

&lt;p&gt;In addition to my changes, this commit included contributions from Vuk Ercegovac and Michael Stack. Thanks Vuk and Michael!&lt;/p&gt;</comment>
                            <comment id="12497102" author="hadoopqa" created="Sat, 19 May 2007 00:57:42 +0000"  >&lt;p&gt;Integrated in Hadoop-Nightly #93 (See &lt;a href=&quot;http://lucene.zones.apache.org:8080/hudson/job/Hadoop-Nightly/93/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://lucene.zones.apache.org:8080/hudson/job/Hadoop-Nightly/93/&lt;/a&gt;)&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12357579" name="patch.txt" size="140060" author="jimk" created="Thu, 17 May 2007 20:55:39 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Thu, 17 May 2007 21:23:06 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>25124</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            9 years, 29 weeks, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0h6pr:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>98350</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        </customfields>
    </item>
</channel>
</rss>