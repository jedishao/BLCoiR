<!-- 
RSS generated by JIRA (6.3.4#6332-sha1:51bc225ef474afe3128b2f66878477f322397b16) at Fri Dec 02 18:52:30 UTC 2016

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary add field=key&field=summary to the URL of your request.
For example:
https://issues.apache.org/jira/si/jira.issueviews:issue-xml/HBASE-317/HBASE-317.xml?field=key&amp;field=summary
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>6.3.4</version>
        <build-number>6332</build-number>
        <build-date>15-08-2014</build-date>
    </build-info>

<item>
            <title>[HBASE-317] Replacing thread notification-based queue with java.util.concurrent.BlockingQueue in HMaster</title>
                <link>https://issues.apache.org/jira/browse/HBASE-317</link>
                <project id="12310753" key="HBASE">HBase</project>
                    <description>&lt;p&gt;In HMaster, there is a msgQueue typed as an ArrayList&amp;lt;PendingOperations&amp;gt;. PendingOperations are added to the queue and notify() is called on msgQueue. I think using a BlockingQueue&amp;lt;PendingOperations&amp;gt; makes the intent of the code more clear and removes potentially problematic synchronization issues. BlockingQueues are thread-safe and allow multiple producers and consumers. I have written a patch for this and will attach it. &lt;/p&gt;</description>
                <environment></environment>
        <key id="12373865">HBASE-317</key>
            <summary>Replacing thread notification-based queue with java.util.concurrent.BlockingQueue in HMaster</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/bug.png">Bug</type>
                                            <priority id="5" iconUrl="https://issues.apache.org/jira/images/icons/priorities/trivial.png">Trivial</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="stevej">Steve Jenson</reporter>
                        <labels>
                    </labels>
                <created>Sun, 15 Jul 2007 23:41:03 +0000</created>
                <updated>Mon, 4 Feb 2008 18:41:38 +0000</updated>
                            <resolved>Wed, 18 Jul 2007 02:27:34 +0000</resolved>
                                                                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                <comments>
                            <comment id="12512840" author="stevej" created="Mon, 16 Jul 2007 00:58:33 +0000"  >&lt;p&gt;There was no obvious place to add a patch in the &apos;Add Patch&apos; workflow so I am uploading it here. Thanks.&lt;/p&gt;</comment>
                            <comment id="12513010" author="jimk" created="Mon, 16 Jul 2007 19:51:04 +0000"  >&lt;p&gt;This also applies to HRegionServer&lt;/p&gt;</comment>
                            <comment id="12513027" author="jimk" created="Mon, 16 Jul 2007 20:41:43 +0000"  >&lt;p&gt;Additional changes necessary&lt;/p&gt;</comment>
                            <comment id="12513031" author="jimk" created="Mon, 16 Jul 2007 20:50:56 +0000"  >&lt;p&gt;Make similar change in HRegionServer.&lt;/p&gt;

&lt;p&gt;Change timeout value.&lt;/p&gt;</comment>
                            <comment id="12513032" author="stevej" created="Mon, 16 Jul 2007 20:56:14 +0000"  >&lt;p&gt;I&apos;m happy to make the change in HRegionServer.&lt;/p&gt;

&lt;p&gt;Do you want me to change the timeout value to be configurable?&lt;/p&gt;</comment>
                            <comment id="12513035" author="jimk" created="Mon, 16 Jul 2007 21:11:32 +0000"  >&lt;p&gt;Works in my environment. Get Hudson to agree&lt;/p&gt;</comment>
                            <comment id="12513049" author="jimk" created="Mon, 16 Jul 2007 21:31:01 +0000"  >&lt;p&gt;Steve,&lt;/p&gt;

&lt;p&gt;Thanks for the offer. I already made the change and submitted the revised patch.&lt;/p&gt;</comment>
                            <comment id="12513095" author="hadoopqa" created="Mon, 16 Jul 2007 23:20:58 +0000"  >&lt;p&gt;-1, build or testing failed&lt;/p&gt;

&lt;p&gt;2 attempts failed to build and test the latest attachment &lt;a href=&quot;http://issues.apache.org/jira/secure/attachment/12361913/patch.txt&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://issues.apache.org/jira/secure/attachment/12361913/patch.txt&lt;/a&gt; against trunk revision r556746.&lt;/p&gt;

&lt;p&gt;Test results:   &lt;a href=&quot;http://lucene.zones.apache.org:8080/hudson/job/Hadoop-Patch/420/testReport/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://lucene.zones.apache.org:8080/hudson/job/Hadoop-Patch/420/testReport/&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;http://lucene.zones.apache.org:8080/hudson/job/Hadoop-Patch/420/console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://lucene.zones.apache.org:8080/hudson/job/Hadoop-Patch/420/console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Please note that this message is automatically generated and may represent a problem with the automation system and not the patch.&lt;/p&gt;</comment>
                            <comment id="12513116" author="stevej" created="Tue, 17 Jul 2007 00:28:01 +0000"  >&lt;p&gt;Thanks!&lt;/p&gt;

&lt;p&gt;Also, before I sent this patch in, I tested it  several times with:&lt;/p&gt;

&lt;p&gt;hbase org.apache.hadoop.hbase.PerformanceEvaluation sequentialWrite 1&lt;/p&gt;

&lt;p&gt;and measured no performance degredation from a baseline copy I had checked out.&lt;/p&gt;</comment>
                            <comment id="12513127" author="jimk" created="Tue, 17 Jul 2007 01:44:34 +0000"  >&lt;p&gt;Updated to correspond to changes in trunk&lt;/p&gt;</comment>
                            <comment id="12513148" author="hadoopqa" created="Tue, 17 Jul 2007 04:43:07 +0000"  >&lt;p&gt;-1, build or testing failed&lt;/p&gt;

&lt;p&gt;2 attempts failed to build and test the latest attachment &lt;a href=&quot;http://issues.apache.org/jira/secure/attachment/12361939/patch.txt&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://issues.apache.org/jira/secure/attachment/12361939/patch.txt&lt;/a&gt; against trunk revision r556754.&lt;/p&gt;

&lt;p&gt;Test results:   &lt;a href=&quot;http://lucene.zones.apache.org:8080/hudson/job/Hadoop-Patch/425/testReport/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://lucene.zones.apache.org:8080/hudson/job/Hadoop-Patch/425/testReport/&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;http://lucene.zones.apache.org:8080/hudson/job/Hadoop-Patch/425/console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://lucene.zones.apache.org:8080/hudson/job/Hadoop-Patch/425/console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Please note that this message is automatically generated and may represent a problem with the automation system and not the patch.&lt;/p&gt;</comment>
                            <comment id="12513418" author="jimk" created="Wed, 18 Jul 2007 02:27:34 +0000"  >&lt;p&gt;Committed patch&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12361863" name="HADOOP-1615.patch" size="5814" author="stevej" created="Mon, 16 Jul 2007 00:58:33 +0000"/>
                            <attachment id="12361939" name="patch.txt" size="8273" author="jimk" created="Tue, 17 Jul 2007 01:44:33 +0000"/>
                            <attachment id="12361913" name="patch.txt" size="8273" author="jimk" created="Mon, 16 Jul 2007 20:50:56 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>3.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Mon, 16 Jul 2007 19:51:04 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>25101</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            9 years, 21 weeks, 2 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0h6jz:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>98324</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        </customfields>
    </item>
</channel>
</rss>