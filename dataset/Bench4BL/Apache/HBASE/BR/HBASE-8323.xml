<!-- 
RSS generated by JIRA (6.3.4#6332-sha1:51bc225ef474afe3128b2f66878477f322397b16) at Sat Dec 03 16:03:04 UTC 2016

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary add field=key&field=summary to the URL of your request.
For example:
https://issues.apache.org/jira/si/jira.issueviews:issue-xml/HBASE-8323/HBASE-8323.xml?field=key&amp;field=summary
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>6.3.4</version>
        <build-number>6332</build-number>
        <build-date>15-08-2014</build-date>
    </build-info>

<item>
            <title>[HBASE-8323] Low hanging checksum improvements</title>
                <link>https://issues.apache.org/jira/browse/HBASE-8323</link>
                <project id="12310753" key="HBASE">HBase</project>
                    <description>&lt;p&gt;Over at Hadoop land, &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=tlipcon&quot; class=&quot;user-hover&quot; rel=&quot;tlipcon&quot;&gt;Todd Lipcon&lt;/a&gt; had done some improvements for checksums, a native implementation for CRC32C (&lt;a href=&quot;https://issues.apache.org/jira/browse/HADOOP-7445&quot; title=&quot;Implement bulk checksum verification using efficient native code&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HADOOP-7445&quot;&gt;&lt;del&gt;HADOOP-7445&lt;/del&gt;&lt;/a&gt;) and bulk verify of checksums (&lt;a href=&quot;https://issues.apache.org/jira/browse/HADOOP-7444&quot; title=&quot;Add Checksum API to verify and calculate checksums &amp;quot;in bulk&amp;quot;&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HADOOP-7444&quot;&gt;&lt;del&gt;HADOOP-7444&lt;/del&gt;&lt;/a&gt;). &lt;/p&gt;

&lt;p&gt;In HBase, we can do&lt;/p&gt;
&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;Also develop a bulk verify API. Regardless of hbase.hstore.bytes.per.checksum we always want to verify of the whole checksum for the hfile block.&lt;/li&gt;
	&lt;li&gt;Enable NativeCrc32 to be used as a checksum algo. It is not clear how much gain we can expect over pure java CRC32.&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;Though, longer term we should focus on convincing hdfs guys for inline checksums (&lt;a href=&quot;https://issues.apache.org/jira/browse/HDFS-2699&quot; title=&quot;Store data and checksums together in block file&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HDFS-2699&quot;&gt;HDFS-2699&lt;/a&gt;)&lt;/p&gt;</description>
                <environment></environment>
        <key id="12641961">HBASE-8323</key>
            <summary>Low hanging checksum improvements</summary>
                <type id="4" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/improvement.png">Improvement</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.png">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="3">Duplicate</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="enis">Enis Soztutar</reporter>
                        <labels>
                    </labels>
                <created>Thu, 11 Apr 2013 00:57:50 +0000</created>
                <updated>Fri, 15 May 2015 19:45:08 +0000</updated>
                            <resolved>Fri, 15 May 2015 19:45:08 +0000</resolved>
                                                                    <component>Performance</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>7</watches>
                                                                <comments>
                            <comment id="13667167" author="tlipcon" created="Sat, 25 May 2013 22:24:15 +0000"  >&lt;blockquote&gt;&lt;p&gt;Enable NativeCrc32 to be used as a checksum algo. It is not clear how much gain we can expect over pure java CRC32.&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;The gain&apos;s really big &amp;#8211; something around 10x CPU savings. Obviously that doesn&apos;t turn into a 10x improvement of HBase throughput, but I bet it would be substantial.&lt;/p&gt;</comment>
                            <comment id="13814737" author="nkeywal" created="Wed, 6 Nov 2013 09:27:40 +0000"  >&lt;p&gt;I saw it while looking at a server. The class NativeCrc32 is not public in hadoop common, (while PureJavaCrc32C is public, in the java &amp;amp; hadoop meanings of the terms). The easiest way for HBase would be to reuse directly NativeCrc32...  &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=todd%40lipcon.org&quot; class=&quot;user-hover&quot; rel=&quot;todd@lipcon.org&quot;&gt;Todd Lipcon&lt;/a&gt;, is there any problem if NativeCrc32 becomes public, or at least LimitedPrivate?&lt;/p&gt;</comment>
                            <comment id="13815068" author="tlipcon" created="Wed, 6 Nov 2013 17:51:39 +0000"  >&lt;p&gt;You probably want to use it via DataChecksum, which is already a public class. It has the right logic to fallback to the Java implementation if the native one isn&apos;t available.&lt;/p&gt;</comment>
                            <comment id="13818840" author="nkeywal" created="Mon, 11 Nov 2013 10:31:51 +0000"  >&lt;p&gt;I looked at it further. It&apos;s possible to use DataChecksum. The issue is in HBase code: the native implementation wants a DirectByteBuffer, but HBase uses &apos;standard&apos; byte buffers... We need to change this if the want to use the native implementation.&lt;/p&gt;</comment>
                            <comment id="13818931" author="jmspaggi" created="Mon, 11 Nov 2013 13:06:09 +0000"  >&lt;p&gt;Will a buffer conversion benefit from the CRC improvement? I mean, if we keept the &apos;standard&apos; byte buffers, but convert them to DirectByteBuffer when we call DataCheckSum, will the cost of this conversion be lower than the benefit of the DataCheckSum? Is so, that might be an easy change. Else, if we have to chance to DirectByteBuffer all over the place, might be a bit more difficult...&lt;/p&gt;</comment>
                            <comment id="13819265" author="enis" created="Mon, 11 Nov 2013 19:28:33 +0000"  >&lt;blockquote&gt;&lt;p&gt;The issue is in HBase code: the native implementation wants a DirectByteBuffer, but HBase uses &apos;standard&apos; byte buffers&lt;/p&gt;&lt;/blockquote&gt;
&lt;p&gt;Combining this with off-heap cache might make sense if we can read the block to an off-heap buffer, we can do the bulk verify at the same time. &lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="12310000">
                    <name>Duplicate</name>
                                            <outwardlinks description="duplicates">
                                        <issuelink>
            <issuekey id="12740264">HBASE-11927</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                            <outwardlinks description="relates to">
                                        <issuelink>
            <issuekey id="12649481">HADOOP-9601</issuekey>
        </issuelink>
                            </outwardlinks>
                                                                <inwardlinks description="is related to">
                                        <issuelink>
            <issuekey id="12641947">HBASE-8322</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Sat, 25 May 2013 22:24:15 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>322375</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            3 years, 3 weeks, 4 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1jmdj:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>322720</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        </customfields>
    </item>
</channel>
</rss>