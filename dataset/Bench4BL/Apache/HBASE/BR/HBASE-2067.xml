<!-- 
RSS generated by JIRA (6.3.4#6332-sha1:51bc225ef474afe3128b2f66878477f322397b16) at Sat Dec 03 15:48:45 UTC 2016

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary add field=key&field=summary to the URL of your request.
For example:
https://issues.apache.org/jira/si/jira.issueviews:issue-xml/HBASE-2067/HBASE-2067.xml?field=key&amp;field=summary
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>6.3.4</version>
        <build-number>6332</build-number>
        <build-date>15-08-2014</build-date>
    </build-info>

<item>
            <title>[HBASE-2067] Disabling a table can return too soon if one region is pending open</title>
                <link>https://issues.apache.org/jira/browse/HBASE-2067</link>
                <project id="12310753" key="HBASE">HBase</project>
                    <description>&lt;p&gt;Still using my test I was grepping for &quot;Duplicate assignment&quot; and found that:&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
2009-12-22 01:43:31,450 DEBUG [IPC Server handler 3 on 60000] master.ChangeTableState(70): Processing unserved regions
2009-12-22 01:43:31,450 INFO  [RegionServer:2.worker] regionserver.HRegion(343): region table8,,1261474997182/1735800584 available; sequence id is 0
2009-12-22 01:43:31,451 DEBUG [IPC Server handler 3 on 60000] master.ChangeTableState(102): Removed server and startcode from row and set online=&lt;span class=&quot;code-keyword&quot;&gt;false&lt;/span&gt;: table8,,1261474997182
2009-12-22 01:43:31,451 DEBUG [IPC Server handler 3 on 60000] master.ChangeTableState(120): Processing regions currently being served2009-12-22 01:43:31,451 DEBUG [main] client.HConnectionManager$TableServers(776): Cache hit &lt;span class=&quot;code-keyword&quot;&gt;for&lt;/span&gt; row &amp;lt;&amp;gt; in tableName .META.: location server 192.168.1.103:54769, location region
 name .META.,,1
2009-12-22 01:43:31,456 DEBUG [main] client.HConnectionManager$TableServers(554): Rowscanned=1, rowsOffline=1
2009-12-22 01:43:31,456 INFO  [main] client.HBaseAdmin(414): Disabled table8
2009-12-22 01:43:31,459 DEBUG [IPC Server handler 1 on 60000] regionserver.HRegion(2003): DELETING region hdfs:&lt;span class=&quot;code-comment&quot;&gt;//localhost:54729/user/jdcryans/table8/1735800584
&lt;/span&gt;2009-12-22 01:43:31,461 INFO  [IPC Server handler 1 on 60000] master.HMaster(807): deleted table: table8
2009-12-22 01:43:31,464 INFO  [main] client.HBaseAdmin(302): Deleted table8
...
2009-12-22 01:43:31,541 INFO  [IPC Server handler 2 on 60000] master.ServerManager(421): Processing MSG_REPORT_PROCESS_OPEN: table8,,1261474997182 from 192.168.1.103,54771,1261
474989274; 1 of 2
2009-12-22 01:43:31,541 INFO  [IPC Server handler 2 on 60000] master.ServerManager(421): Processing MSG_REPORT_OPEN: table8,,1261474997182 from 192.168.1.103,54771,1261474989274; 2 of 2
2009-12-22 01:43:31,541 DEBUG [IPC Server handler 2 on 60000] master.ServerManager(567): region server 192.168.1.103:54771 should not have opened region table8,,1261474997182
2009-12-22 01:43:31,542 INFO  [RegionServer:2] regionserver.HRegionServer(475): MSG_REGION_CLOSE_WITHOUT_REPORT: table8,,1261474997182: Duplicate assignment
2009-12-22 01:43:31,542 INFO  [RegionServer:2.worker] regionserver.HRegionServer$Worker(1332): Worker: MSG_REGION_CLOSE_WITHOUT_REPORT: table8,,1261474997182: Duplicate assignm
ent
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;So the region is marked as offline while it&apos;s pending open. The thread in HCM.TableServer sees that as if the region was closed but it&apos;s not and it&apos;s reporting just a little bit after.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12444001">HBASE-2067</key>
            <summary>Disabling a table can return too soon if one region is pending open</summary>
                <type id="7" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/subtask_alternate.png">Sub-task</type>
                            <parent id="12429981">HBASE-1636</parent>
                                    <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.png">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="3">Duplicate</resolution>
                                        <assignee username="jdcryans">Jean-Daniel Cryans</assignee>
                                    <reporter username="jdcryans">Jean-Daniel Cryans</reporter>
                        <labels>
                    </labels>
                <created>Tue, 22 Dec 2009 09:47:39 +0000</created>
                <updated>Fri, 12 Oct 2012 06:14:14 +0000</updated>
                            <resolved>Mon, 28 Dec 2009 18:19:13 +0000</resolved>
                                    <version>0.20.2</version>
                                    <fixVersion>0.20.3</fixVersion>
                    <fixVersion>0.90.0</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                <comments>
                            <comment id="12794844" author="jdcryans" created="Mon, 28 Dec 2009 18:19:13 +0000"  >&lt;p&gt;Fixed by &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-2065&quot; title=&quot;Cannot disable a table if any of its region is opening at the same time&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-2065&quot;&gt;&lt;del&gt;HBASE-2065&lt;/del&gt;&lt;/a&gt;&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>32394</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            6 years, 49 weeks, 4 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i08tcv:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>49356</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        </customfields>
    </item>
</channel>
</rss>