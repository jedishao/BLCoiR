<!-- 
RSS generated by JIRA (6.3.4#6332-sha1:51bc225ef474afe3128b2f66878477f322397b16) at Thu Dec 01 22:03:20 UTC 2016

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary add field=key&field=summary to the URL of your request.
For example:
https://issues.apache.org/jira/si/jira.issueviews:issue-xml/HBASE-14922/HBASE-14922.xml?field=key&amp;field=summary
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>6.3.4</version>
        <build-number>6332</build-number>
        <build-date>15-08-2014</build-date>
    </build-info>

<item>
            <title>[HBASE-14922] Delayed flush doesn&apos;t work causing flush storms.</title>
                <link>https://issues.apache.org/jira/browse/HBASE-14922</link>
                <project id="12310753" key="HBASE">HBase</project>
                    <description>&lt;p&gt;Starting all regionservers at the same time will mean that most PeriodicMemstoreFlusher&apos;s will be running at the same time. So all of these threads will queue flushes at about the same time.&lt;/p&gt;

&lt;p&gt;This was supposed to be mitigated by Delayed. However that isn&apos;t nearly enough. This results in the immediate filling up and then draining of the flush queues every hour.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12917962">HBASE-14922</key>
            <summary>Delayed flush doesn&apos;t work causing flush storms.</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/bug.png">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.png">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="eclark">Elliott Clark</assignee>
                                    <reporter username="eclark">Elliott Clark</reporter>
                        <labels>
                    </labels>
                <created>Thu, 3 Dec 2015 10:03:28 +0000</created>
                <updated>Mon, 7 Dec 2015 06:03:40 +0000</updated>
                            <resolved>Sat, 5 Dec 2015 01:00:24 +0000</resolved>
                                    <version>2.0.0</version>
                    <version>1.2.0</version>
                    <version>1.1.2</version>
                                    <fixVersion>2.0.0</fixVersion>
                    <fixVersion>1.2.0</fixVersion>
                    <fixVersion>1.3.0</fixVersion>
                                    <component>regionserver</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>7</watches>
                                                                <comments>
                            <comment id="15038500" author="eclark" created="Thu, 3 Dec 2015 20:01:27 +0000"  >&lt;p&gt;First shot at a making chores never get sync&apos;d up.&lt;/p&gt;</comment>
                            <comment id="15038522" author="eclark" created="Thu, 3 Dec 2015 20:12:23 +0000"  >&lt;p&gt;More documentation&lt;/p&gt;</comment>
                            <comment id="15038670" author="hadoopqa" created="Thu, 3 Dec 2015 21:54:07 +0000"  >&lt;p&gt;&lt;font color=&quot;red&quot;&gt;-1 overall&lt;/font&gt;.  Here are the results of testing the latest attachment &lt;br/&gt;
  &lt;a href=&quot;http://issues.apache.org/jira/secure/attachment/12775629/HBASE-14922-v1.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://issues.apache.org/jira/secure/attachment/12775629/HBASE-14922-v1.patch&lt;/a&gt;&lt;br/&gt;
  against master branch at commit a154ecda00d9d9a58e83d322dae7ffd3518b633c.&lt;br/&gt;
  ATTACHMENT ID: 12775629&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 @author&lt;/font&gt;.  The patch does not contain any @author tags.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 tests included&lt;/font&gt;.  The patch appears to include 4 new or modified tests.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 hadoop versions&lt;/font&gt;. The patch compiles with all supported hadoop versions (2.4.0 2.4.1 2.5.0 2.5.1 2.5.2 2.6.0 2.6.1 2.7.0 2.7.1)&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 javac&lt;/font&gt;.  The applied patch does not increase the total number of javac compiler warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 protoc&lt;/font&gt;.  The applied patch does not increase the total number of protoc compiler warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 javadoc&lt;/font&gt;.  The javadoc tool did not generate any warning messages.&lt;/p&gt;

&lt;p&gt;                &lt;font color=&quot;red&quot;&gt;-1 checkstyle&lt;/font&gt;.  The applied patch generated new checkstyle errors. Check build console for list of new errors.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 findbugs&lt;/font&gt;.  The patch does not introduce any  new Findbugs (version 2.0.3) warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 release audit&lt;/font&gt;.  The applied patch does not increase the total number of release audit warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 lineLengths&lt;/font&gt;.  The patch does not introduce lines longer than 100&lt;/p&gt;

&lt;p&gt;  &lt;font color=&quot;green&quot;&gt;+1 site&lt;/font&gt;.  The mvn post-site goal succeeds with this patch.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 core tests&lt;/font&gt;.  The patch passed unit tests in .&lt;br/&gt;
        &lt;font color=&quot;green&quot;&gt;+1 core zombie tests &amp;#8211; no zombies!&lt;/font&gt;.&lt;/p&gt;

&lt;p&gt;Test results: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/16760//testReport/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/16760//testReport/&lt;/a&gt;&lt;br/&gt;
Release Findbugs (version 2.0.3) 	warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/16760//artifact/patchprocess/newFindbugsWarnings.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/16760//artifact/patchprocess/newFindbugsWarnings.html&lt;/a&gt;&lt;br/&gt;
Checkstyle Errors: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/16760//artifact/patchprocess/checkstyle-aggregate.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/16760//artifact/patchprocess/checkstyle-aggregate.html&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;                Console output: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/16760//console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/16760//console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;</comment>
                            <comment id="15038705" author="stack" created="Thu, 3 Dec 2015 22:14:22 +0000"  >&lt;p&gt;Fix this on commit:&lt;/p&gt;

&lt;ul&gt;
	&lt;li&gt;@param jitter Should the&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;So, by default, all chores get jitter now? That is probably good thing but you checked all chores we currently run to make sure none time-sensitive (yeah, if its a &apos;chore&apos;, by definition, it should not be but hey...)&lt;/p&gt;

&lt;p&gt;Otherwise, +1.&lt;/p&gt;</comment>
                            <comment id="15038820" author="eclark" created="Thu, 3 Dec 2015 23:23:07 +0000"  >&lt;p&gt;Fix some checkstyle and update the javadoc.&lt;/p&gt;</comment>
                            <comment id="15039523" author="hadoopqa" created="Fri, 4 Dec 2015 01:07:10 +0000"  >&lt;p&gt;&lt;font color=&quot;red&quot;&gt;-1 overall&lt;/font&gt;.  Here are the results of testing the latest attachment &lt;br/&gt;
  &lt;a href=&quot;http://issues.apache.org/jira/secure/attachment/12775684/HBASE-14922-v2.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://issues.apache.org/jira/secure/attachment/12775684/HBASE-14922-v2.patch&lt;/a&gt;&lt;br/&gt;
  against master branch at commit 7117a2e35d42ef4e3f17b0a8f891fc5200cd0890.&lt;br/&gt;
  ATTACHMENT ID: 12775684&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 @author&lt;/font&gt;.  The patch does not contain any @author tags.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 tests included&lt;/font&gt;.  The patch appears to include 4 new or modified tests.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 hadoop versions&lt;/font&gt;. The patch compiles with all supported hadoop versions (2.4.0 2.4.1 2.5.0 2.5.1 2.5.2 2.6.0 2.6.1 2.7.0 2.7.1)&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 javac&lt;/font&gt;.  The applied patch does not increase the total number of javac compiler warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 protoc&lt;/font&gt;.  The applied patch does not increase the total number of protoc compiler warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 javadoc&lt;/font&gt;.  The javadoc tool did not generate any warning messages.&lt;/p&gt;

&lt;p&gt;                &lt;font color=&quot;red&quot;&gt;-1 checkstyle&lt;/font&gt;.  The applied patch generated new checkstyle errors. Check build console for list of new errors.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 findbugs&lt;/font&gt;.  The patch does not introduce any  new Findbugs (version 2.0.3) warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 release audit&lt;/font&gt;.  The applied patch does not increase the total number of release audit warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 lineLengths&lt;/font&gt;.  The patch does not introduce lines longer than 100&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 site&lt;/font&gt;.  The mvn post-site goal succeeds with this patch.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 core tests&lt;/font&gt;.  The patch passed unit tests in .&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 zombies&lt;/font&gt;. No zombie tests found running at the end of the build.&lt;/p&gt;

&lt;p&gt;Test results: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/16762//testReport/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/16762//testReport/&lt;/a&gt;&lt;br/&gt;
Release Findbugs (version 2.0.3) 	warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/16762//artifact/patchprocess/newFindbugsWarnings.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/16762//artifact/patchprocess/newFindbugsWarnings.html&lt;/a&gt;&lt;br/&gt;
Checkstyle Errors: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/16762//artifact/patchprocess/checkstyle-aggregate.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/16762//artifact/patchprocess/checkstyle-aggregate.html&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;                Console output: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/16762//console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/16762//console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;</comment>
                            <comment id="15042566" author="hudson" created="Sat, 5 Dec 2015 01:47:51 +0000"  >&lt;p&gt;FAILURE: Integrated in HBase-1.3 #417 (See &lt;a href=&quot;https://builds.apache.org/job/HBase-1.3/417/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/HBase-1.3/417/&lt;/a&gt;)&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-14922&quot; title=&quot;Delayed flush doesn&amp;#39;t work causing flush storms.&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-14922&quot;&gt;&lt;del&gt;HBASE-14922&lt;/del&gt;&lt;/a&gt; Delayed flush doesn&apos;t work causing flush storms. (eclark: rev 85167849ab934c577c8103dfc23ff555801b0c62)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;hbase-common/src/test/java/org/apache/hadoop/hbase/TestChoreService.java&lt;/li&gt;
	&lt;li&gt;hbase-common/src/main/java/org/apache/hadoop/hbase/ChoreService.java&lt;/li&gt;
	&lt;li&gt;hbase-common/src/main/java/org/apache/hadoop/hbase/JitterScheduledThreadPoolExecutorImpl.java&lt;/li&gt;
	&lt;li&gt;hbase-server/src/main/java/org/apache/hadoop/hbase/regionserver/HRegionServer.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="15042626" author="hudson" created="Sat, 5 Dec 2015 03:39:53 +0000"  >&lt;p&gt;FAILURE: Integrated in HBase-1.3-IT #356 (See &lt;a href=&quot;https://builds.apache.org/job/HBase-1.3-IT/356/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/HBase-1.3-IT/356/&lt;/a&gt;)&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-14922&quot; title=&quot;Delayed flush doesn&amp;#39;t work causing flush storms.&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-14922&quot;&gt;&lt;del&gt;HBASE-14922&lt;/del&gt;&lt;/a&gt; Delayed flush doesn&apos;t work causing flush storms. (eclark: rev 85167849ab934c577c8103dfc23ff555801b0c62)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;hbase-common/src/main/java/org/apache/hadoop/hbase/JitterScheduledThreadPoolExecutorImpl.java&lt;/li&gt;
	&lt;li&gt;hbase-server/src/main/java/org/apache/hadoop/hbase/regionserver/HRegionServer.java&lt;/li&gt;
	&lt;li&gt;hbase-common/src/test/java/org/apache/hadoop/hbase/TestChoreService.java&lt;/li&gt;
	&lt;li&gt;hbase-common/src/main/java/org/apache/hadoop/hbase/ChoreService.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="15042659" author="hudson" created="Sat, 5 Dec 2015 05:23:34 +0000"  >&lt;p&gt;FAILURE: Integrated in HBase-1.2-IT #327 (See &lt;a href=&quot;https://builds.apache.org/job/HBase-1.2-IT/327/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/HBase-1.2-IT/327/&lt;/a&gt;)&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-14922&quot; title=&quot;Delayed flush doesn&amp;#39;t work causing flush storms.&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-14922&quot;&gt;&lt;del&gt;HBASE-14922&lt;/del&gt;&lt;/a&gt; Delayed flush doesn&apos;t work causing flush storms. (eclark: rev c4b0e2e36215c9572179c0addfe841862fe3727c)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;hbase-server/src/main/java/org/apache/hadoop/hbase/regionserver/HRegionServer.java&lt;/li&gt;
	&lt;li&gt;hbase-common/src/test/java/org/apache/hadoop/hbase/TestChoreService.java&lt;/li&gt;
	&lt;li&gt;hbase-common/src/main/java/org/apache/hadoop/hbase/JitterScheduledThreadPoolExecutorImpl.java&lt;/li&gt;
	&lt;li&gt;hbase-common/src/main/java/org/apache/hadoop/hbase/ChoreService.java&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-14922&quot; title=&quot;Delayed flush doesn&amp;#39;t work causing flush storms.&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-14922&quot;&gt;&lt;del&gt;HBASE-14922&lt;/del&gt;&lt;/a&gt; Delayed flush doesn&apos;t work causing flush storms. &amp;#8211; ADD (eclark: rev 39d7ce66c5a58014563c26fab2f29c6c8953a898)&lt;/li&gt;
	&lt;li&gt;hbase-common/src/main/java/org/apache/hadoop/hbase/JitterScheduledThreadPoolExecutorImpl.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="15042688" author="hudson" created="Sat, 5 Dec 2015 06:16:51 +0000"  >&lt;p&gt;FAILURE: Integrated in HBase-1.3-IT #357 (See &lt;a href=&quot;https://builds.apache.org/job/HBase-1.3-IT/357/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/HBase-1.3-IT/357/&lt;/a&gt;)&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-14922&quot; title=&quot;Delayed flush doesn&amp;#39;t work causing flush storms.&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-14922&quot;&gt;&lt;del&gt;HBASE-14922&lt;/del&gt;&lt;/a&gt; Delayed flush doesn&apos;t work causing flush storms. &amp;#8211; ADD (eclark: rev 9cf2d641ff1b4477c89c7971e5332283a204573f)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;hbase-common/src/main/java/org/apache/hadoop/hbase/JitterScheduledThreadPoolExecutorImpl.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="15042699" author="hudson" created="Sat, 5 Dec 2015 06:24:53 +0000"  >&lt;p&gt;FAILURE: Integrated in HBase-Trunk_matrix #533 (See &lt;a href=&quot;https://builds.apache.org/job/HBase-Trunk_matrix/533/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/HBase-Trunk_matrix/533/&lt;/a&gt;)&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-14922&quot; title=&quot;Delayed flush doesn&amp;#39;t work causing flush storms.&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-14922&quot;&gt;&lt;del&gt;HBASE-14922&lt;/del&gt;&lt;/a&gt; Delayed flush doesn&apos;t work causing flush storms. (eclark: rev cd5ddc5fece7147d55d74117abb272cf8ea08c4d)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;hbase-server/src/main/java/org/apache/hadoop/hbase/regionserver/HRegionServer.java&lt;/li&gt;
	&lt;li&gt;hbase-common/src/test/java/org/apache/hadoop/hbase/TestChoreService.java&lt;/li&gt;
	&lt;li&gt;hbase-common/src/main/java/org/apache/hadoop/hbase/JitterScheduledThreadPoolExecutorImpl.java&lt;/li&gt;
	&lt;li&gt;hbase-common/src/main/java/org/apache/hadoop/hbase/ChoreService.java&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-14922&quot; title=&quot;Delayed flush doesn&amp;#39;t work causing flush storms.&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-14922&quot;&gt;&lt;del&gt;HBASE-14922&lt;/del&gt;&lt;/a&gt; Delayed flush doesn&apos;t work causing flush storms. &amp;#8211; ADD (eclark: rev 46198bb9a4f9c78bbf3ccb84f6ae835564ecdc7f)&lt;/li&gt;
	&lt;li&gt;hbase-common/src/main/java/org/apache/hadoop/hbase/JitterScheduledThreadPoolExecutorImpl.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="15042704" author="hudson" created="Sat, 5 Dec 2015 06:34:36 +0000"  >&lt;p&gt;FAILURE: Integrated in HBase-1.2 #424 (See &lt;a href=&quot;https://builds.apache.org/job/HBase-1.2/424/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/HBase-1.2/424/&lt;/a&gt;)&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-14922&quot; title=&quot;Delayed flush doesn&amp;#39;t work causing flush storms.&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-14922&quot;&gt;&lt;del&gt;HBASE-14922&lt;/del&gt;&lt;/a&gt; Delayed flush doesn&apos;t work causing flush storms. (eclark: rev c4b0e2e36215c9572179c0addfe841862fe3727c)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;hbase-common/src/test/java/org/apache/hadoop/hbase/TestChoreService.java&lt;/li&gt;
	&lt;li&gt;hbase-server/src/main/java/org/apache/hadoop/hbase/regionserver/HRegionServer.java&lt;/li&gt;
	&lt;li&gt;hbase-common/src/main/java/org/apache/hadoop/hbase/ChoreService.java&lt;/li&gt;
	&lt;li&gt;hbase-common/src/main/java/org/apache/hadoop/hbase/JitterScheduledThreadPoolExecutorImpl.java&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-14922&quot; title=&quot;Delayed flush doesn&amp;#39;t work causing flush storms.&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-14922&quot;&gt;&lt;del&gt;HBASE-14922&lt;/del&gt;&lt;/a&gt; Delayed flush doesn&apos;t work causing flush storms. &amp;#8211; ADD (eclark: rev 39d7ce66c5a58014563c26fab2f29c6c8953a898)&lt;/li&gt;
	&lt;li&gt;hbase-common/src/main/java/org/apache/hadoop/hbase/JitterScheduledThreadPoolExecutorImpl.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="15042711" author="hudson" created="Sat, 5 Dec 2015 06:49:17 +0000"  >&lt;p&gt;FAILURE: Integrated in HBase-1.3 #418 (See &lt;a href=&quot;https://builds.apache.org/job/HBase-1.3/418/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/HBase-1.3/418/&lt;/a&gt;)&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-14922&quot; title=&quot;Delayed flush doesn&amp;#39;t work causing flush storms.&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-14922&quot;&gt;&lt;del&gt;HBASE-14922&lt;/del&gt;&lt;/a&gt; Delayed flush doesn&apos;t work causing flush storms. &amp;#8211; ADD (eclark: rev 9cf2d641ff1b4477c89c7971e5332283a204573f)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;hbase-common/src/main/java/org/apache/hadoop/hbase/JitterScheduledThreadPoolExecutorImpl.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="15042720" author="lhofhansl" created="Sat, 5 Dec 2015 07:18:06 +0000"  >&lt;p&gt;Looks like this break the mini cluster. I see a ton of this in the logs:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
2015-12-04 22:55:48,215 ERROR [newbunny,41236,1449298547569_ChoreService_107] se
rver.NIOServerCnxnFactory$1(44): &lt;span class=&quot;code-object&quot;&gt;Thread&lt;/span&gt; &lt;span class=&quot;code-object&quot;&gt;Thread&lt;/span&gt;[newbunny,41236,1449298547569_ChoreService_107,5,main] died
java.lang.IllegalArgumentException: bound must be greater than origin
        at java.util.concurrent.ThreadLocalRandom.nextLong(ThreadLocalRandom.java:430)
        at org.apache.hadoop.hbase.JitterScheduledThreadPoolExecutorImpl$JitteredRunnableScheduledFuture.getDelay(JitterScheduledThreadPoolExecutorImpl.java:84)
        at java.util.concurrent.ScheduledThreadPoolExecutor$DelayedWorkQueue.take(ScheduledThreadPoolExecutor.java:1083)
        at java.util.concurrent.ScheduledThreadPoolExecutor$DelayedWorkQueue.take(ScheduledThreadPoolExecutor.java:809)
        at java.util.concurrent.ThreadPoolExecutor.getTask(ThreadPoolExecutor.java:1067)
        at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1127)
        at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)
        at java.lang.&lt;span class=&quot;code-object&quot;&gt;Thread&lt;/span&gt;.run(&lt;span class=&quot;code-object&quot;&gt;Thread&lt;/span&gt;.java:745)
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
</comment>
                            <comment id="15042721" author="lhofhansl" created="Sat, 5 Dec 2015 07:18:33 +0000"  >&lt;p&gt;This fixes it for me.&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=eclark&quot; class=&quot;user-hover&quot; rel=&quot;eclark&quot;&gt;Elliott Clark&lt;/a&gt; what do you think?&lt;/p&gt;</comment>
                            <comment id="15043484" author="stack" created="Sat, 5 Dec 2015 19:42:00 +0000"  >&lt;p&gt;I pushed the &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=lhofhansl&quot; class=&quot;user-hover&quot; rel=&quot;lhofhansl&quot;&gt;Lars Hofhansl&lt;/a&gt; fix because the cited exception is causing tests to fail ruining our clean build track record.&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://builds.apache.org/view/H-L/view/HBase/job/HBase-1.2/lastCompletedBuild/jdk=latest1.7,label=Hadoop/testReport/org.apache.hadoop.hbase.procedure/TestProcedureManager/org_apache_hadoop_hbase_procedure_TestProcedureManager/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/view/H-L/view/HBase/job/HBase-1.2/lastCompletedBuild/jdk=latest1.7,label=Hadoop/testReport/org.apache.hadoop.hbase.procedure/TestProcedureManager/org_apache_hadoop_hbase_procedure_TestProcedureManager/&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Fix looks good to me. If it not &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=eclark&quot; class=&quot;user-hover&quot; rel=&quot;eclark&quot;&gt;Elliott Clark&lt;/a&gt;, we can reevaluate later... committing to get blue builds back again.&lt;/p&gt;</comment>
                            <comment id="15043485" author="stack" created="Sat, 5 Dec 2015 19:42:16 +0000"  >&lt;p&gt;Oh, committed to 1.2+&lt;/p&gt;</comment>
                            <comment id="15043553" author="hudson" created="Sat, 5 Dec 2015 22:56:37 +0000"  >&lt;p&gt;SUCCESS: Integrated in HBase-1.3-IT #358 (See &lt;a href=&quot;https://builds.apache.org/job/HBase-1.3-IT/358/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/HBase-1.3-IT/358/&lt;/a&gt;)&lt;br/&gt;
Revert &quot;Revert &quot;&lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-14922&quot; title=&quot;Delayed flush doesn&amp;#39;t work causing flush storms.&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-14922&quot;&gt;&lt;del&gt;HBASE-14922&lt;/del&gt;&lt;/a&gt; Delayed flush doesn&apos;t work causing flush (stack: rev d955cb328046cb7efe78486fd0f4b03258ea2f6a)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;hbase-common/src/main/java/org/apache/hadoop/hbase/JitterScheduledThreadPoolExecutorImpl.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="15043572" author="hudson" created="Sat, 5 Dec 2015 23:42:45 +0000"  >&lt;p&gt;SUCCESS: Integrated in HBase-1.2-IT #328 (See &lt;a href=&quot;https://builds.apache.org/job/HBase-1.2-IT/328/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/HBase-1.2-IT/328/&lt;/a&gt;)&lt;br/&gt;
Revert &quot;Revert &quot;&lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-14922&quot; title=&quot;Delayed flush doesn&amp;#39;t work causing flush storms.&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-14922&quot;&gt;&lt;del&gt;HBASE-14922&lt;/del&gt;&lt;/a&gt; Delayed flush doesn&apos;t work causing flush (stack: rev 1bcb2c66aed24105c02300baf8bc431f81c9e76e)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;hbase-common/src/main/java/org/apache/hadoop/hbase/JitterScheduledThreadPoolExecutorImpl.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="15043662" author="hudson" created="Sun, 6 Dec 2015 02:40:42 +0000"  >&lt;p&gt;SUCCESS: Integrated in HBase-1.3 #421 (See &lt;a href=&quot;https://builds.apache.org/job/HBase-1.3/421/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/HBase-1.3/421/&lt;/a&gt;)&lt;br/&gt;
Revert &quot;Revert &quot;&lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-14922&quot; title=&quot;Delayed flush doesn&amp;#39;t work causing flush storms.&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-14922&quot;&gt;&lt;del&gt;HBASE-14922&lt;/del&gt;&lt;/a&gt; Delayed flush doesn&apos;t work causing flush (stack: rev d955cb328046cb7efe78486fd0f4b03258ea2f6a)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;hbase-common/src/main/java/org/apache/hadoop/hbase/JitterScheduledThreadPoolExecutorImpl.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="15043670" author="hudson" created="Sun, 6 Dec 2015 02:57:54 +0000"  >&lt;p&gt;FAILURE: Integrated in HBase-1.2 #427 (See &lt;a href=&quot;https://builds.apache.org/job/HBase-1.2/427/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/HBase-1.2/427/&lt;/a&gt;)&lt;br/&gt;
Revert &quot;Revert &quot;&lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-14922&quot; title=&quot;Delayed flush doesn&amp;#39;t work causing flush storms.&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-14922&quot;&gt;&lt;del&gt;HBASE-14922&lt;/del&gt;&lt;/a&gt; Delayed flush doesn&apos;t work causing flush (stack: rev 1bcb2c66aed24105c02300baf8bc431f81c9e76e)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;hbase-common/src/main/java/org/apache/hadoop/hbase/JitterScheduledThreadPoolExecutorImpl.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="15043689" author="hudson" created="Sun, 6 Dec 2015 04:44:44 +0000"  >&lt;p&gt;FAILURE: Integrated in HBase-Trunk_matrix #535 (See &lt;a href=&quot;https://builds.apache.org/job/HBase-Trunk_matrix/535/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/HBase-Trunk_matrix/535/&lt;/a&gt;)&lt;br/&gt;
Revert &quot;Revert &quot;&lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-14922&quot; title=&quot;Delayed flush doesn&amp;#39;t work causing flush storms.&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-14922&quot;&gt;&lt;del&gt;HBASE-14922&lt;/del&gt;&lt;/a&gt; Delayed flush doesn&apos;t work causing flush (stack: rev 8bf70144e40650ef972f005e2465bd0e2a087c40)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;hbase-common/src/main/java/org/apache/hadoop/hbase/JitterScheduledThreadPoolExecutorImpl.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="15044170" author="eclark" created="Sun, 6 Dec 2015 21:52:40 +0000"  >
&lt;p&gt;Thanks for the fix &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=lhofhansl&quot; class=&quot;user-hover&quot; rel=&quot;lhofhansl&quot;&gt;Lars Hofhansl&lt;/a&gt; and for the fast commit &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=stack&quot; class=&quot;user-hover&quot; rel=&quot;stack&quot;&gt;stack&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;How did all of the QA bots succeed when this seems to be so reproducible ?&lt;/p&gt;</comment>
                            <comment id="15044416" author="stack" created="Mon, 7 Dec 2015 06:03:40 +0000"  >&lt;blockquote&gt;&lt;p&gt;How did all of the QA bots succeed when this seems to be so reproducible ?&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;Thats part of the joy of running on apache build infra.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12775921" name="14922-fix.txt" size="1020" author="lhofhansl" created="Sat, 5 Dec 2015 07:18:33 +0000"/>
                            <attachment id="12775629" name="HBASE-14922-v1.patch" size="10904" author="eclark" created="Thu, 3 Dec 2015 20:12:23 +0000"/>
                            <attachment id="12775684" name="HBASE-14922-v2.patch" size="12061" author="eclark" created="Thu, 3 Dec 2015 23:23:07 +0000"/>
                            <attachment id="12775626" name="HBASE-14922.patch" size="9522" author="eclark" created="Thu, 3 Dec 2015 20:01:27 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>4.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Thu, 3 Dec 2015 21:54:07 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310191" key="com.atlassian.jira.plugin.system.customfieldtypes:multicheckboxes">
                        <customfieldname>Hadoop Flags</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10343"><![CDATA[Reviewed]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            51 weeks, 3 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i2p8kv:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        </customfields>
    </item>
</channel>
</rss>