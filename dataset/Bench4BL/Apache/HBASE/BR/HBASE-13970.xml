<!-- 
RSS generated by JIRA (6.3.4#6332-sha1:51bc225ef474afe3128b2f66878477f322397b16) at Thu Dec 01 21:14:36 UTC 2016

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary add field=key&field=summary to the URL of your request.
For example:
https://issues.apache.org/jira/si/jira.issueviews:issue-xml/HBASE-13970/HBASE-13970.xml?field=key&amp;field=summary
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>6.3.4</version>
        <build-number>6332</build-number>
        <build-date>15-08-2014</build-date>
    </build-info>

<item>
            <title>[HBASE-13970] NPE during compaction in trunk</title>
                <link>https://issues.apache.org/jira/browse/HBASE-13970</link>
                <project id="12310753" key="HBASE">HBase</project>
                    <description>&lt;p&gt;Updated the trunk.. Loaded the table with PE tool.  Trigger a flush to ensure all data is flushed out to disk. When the first compaction is triggered we get an NPE and this is very easy to reproduce&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
015-06-25 21:33:46,041 INFO  [main-EventThread] procedure.ZKProcedureMemberRpcs: Received procedure start children changed event: /hbase/flush-table-proc/acquired
2015-06-25 21:33:46,051 INFO  [rs(stobdtserver3,16040,1435248182301)-flush-proc-pool3-thread-1] regionserver.HRegion: Flushing 1/1 column families, memstore=76.91 MB
2015-06-25 21:33:46,159 ERROR [regionserver/stobdtserver3/10.224.54.70:16040-longCompactions-1435248183945] regionserver.CompactSplitThread: Compaction failed Request = regionName=TestTable,00000000000000000000283887,1435248198798.028fb0324cd6eb03d5022eb8c147b7c4., storeName=info, fileCount=3, fileSize=343.4 M (114.5 M, 114.5 M, 114.5 M), priority=3, time=7536968291719985
java.lang.NullPointerException
        at org.apache.hadoop.hbase.regionserver.compactions.PressureAwareCompactionThroughputController$ActiveCompaction.access$700(PressureAwareCompactionThroughputController.java:79)
        at org.apache.hadoop.hbase.regionserver.compactions.PressureAwareCompactionThroughputController.finish(PressureAwareCompactionThroughputController.java:238)
        at org.apache.hadoop.hbase.regionserver.compactions.Compactor.performCompaction(Compactor.java:306)
        at org.apache.hadoop.hbase.regionserver.compactions.DefaultCompactor.compact(DefaultCompactor.java:106)
        at org.apache.hadoop.hbase.regionserver.DefaultStoreEngine$DefaultCompactionContext.compact(DefaultStoreEngine.java:112)
        at org.apache.hadoop.hbase.regionserver.HStore.compact(HStore.java:1202)
        at org.apache.hadoop.hbase.regionserver.HRegion.compact(HRegion.java:1792)
        at org.apache.hadoop.hbase.regionserver.CompactSplitThread$CompactionRunner.run(CompactSplitThread.java:524)
        at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1145)
        at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:615)
        at java.lang.&lt;span class=&quot;code-object&quot;&gt;Thread&lt;/span&gt;.run(&lt;span class=&quot;code-object&quot;&gt;Thread&lt;/span&gt;.java:745)
2015-06-25 21:33:46,745 INFO  [rs(stobdtserver3,16040,1435248182301)-flush-proc-pool3-thread-1] regionserver.DefaultStoreFlusher: Flushed, sequenceid=1534, memsize=76.9 M, hasBloomFilter=&lt;span class=&quot;code-keyword&quot;&gt;true&lt;/span&gt;, into tmp file hdfs:&lt;span class=&quot;code-comment&quot;&gt;//stobdtserver3:9010/hbase/data/&lt;span class=&quot;code-keyword&quot;&gt;default&lt;/span&gt;/TestTable/028fb0324cd6eb03d5022eb8c147b7c4/.tmp/942ba0831a0047a08987439e34361a0c
&lt;/span&gt;2015-06-25 21:33:46,772 INFO  [rs(stobdtserver3,16040,1435248182301)-flush-proc-pool3-thread-1] regionserver.HStore: Added hdfs:&lt;span class=&quot;code-comment&quot;&gt;//stobdtserver3:9010/hbase/data/&lt;span class=&quot;code-keyword&quot;&gt;default&lt;/span&gt;/TestTable/028fb0324cd6eb03d5022eb8c147b7c4/info/942ba0831a0047a08987439e34361a0c, entries=68116, sequenceid=1534, filesize=68.7 M
&lt;/span&gt;2015-06-25 21:33:46,773 INFO  [rs(stobdtserver3,16040,1435248182301)-flush-proc-pool3-thread-1] regionserver.HRegion: Finished memstore flush of ~76.91 MB/80649344, currentsize=0 B/0 &lt;span class=&quot;code-keyword&quot;&gt;for&lt;/span&gt; region TestTable,00000000000000000000283887,1435248198798.028fb0324cd6eb03d5022eb8c147b7c4. in 723ms, sequenceid=1534, compaction requested=&lt;span class=&quot;code-keyword&quot;&gt;true&lt;/span&gt;
2015-06-25 21:33:46,780 INFO  [main-EventThread] procedure.ZKProcedureMemberRpcs: Received created event:/hbase/flush-table-proc/reached/TestTable
2015-06-25 21:33:46,790 INFO  [main-EventThread] procedure.ZKProcedureMemberRpcs: Received created event:/hbase/flush-table-proc/abort/TestTable
2015-06-25 21:33:46,791 INFO  [main-EventThread] procedure.ZKProcedureMemberRpcs: Received procedure abort children changed event: /hbase/flush-table-proc/abort
2015-06-25 21:33:46,803 INFO  [main-EventThread] procedure.ZKProcedureMemberRpcs: Received procedure start children changed event: /hbase/flush-table-proc/acquired
2015-06-25 21:33:46,818 INFO  [main-EventThread] procedure.ZKProcedureMemberRpcs: Received procedure abort children changed event: /hbase/flush-table-proc/abort
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;Will check this on what is the reason behind it. &lt;/p&gt;</description>
                <environment></environment>
        <key id="12840498">HBASE-13970</key>
            <summary>NPE during compaction in trunk</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/bug.png">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.png">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="Apache9">Duo Zhang</assignee>
                                    <reporter username="ram_krish">ramkrishna.s.vasudevan</reporter>
                        <labels>
                    </labels>
                <created>Thu, 25 Jun 2015 10:28:02 +0000</created>
                <updated>Fri, 18 Dec 2015 06:46:01 +0000</updated>
                            <resolved>Thu, 2 Jul 2015 13:45:56 +0000</resolved>
                                    <version>2.0.0</version>
                    <version>0.98.13</version>
                    <version>1.2.0</version>
                    <version>1.1.1</version>
                                    <fixVersion>2.0.0</fixVersion>
                    <fixVersion>0.98.14</fixVersion>
                    <fixVersion>1.2.0</fixVersion>
                    <fixVersion>1.1.2</fixVersion>
                                    <component>regionserver</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>5</watches>
                                                                <comments>
                            <comment id="14600976" author="ram_krish" created="Thu, 25 Jun 2015 10:35:10 +0000"  >&lt;p&gt;Note that when I tried to load some more data and when a compaction was triggered no NPE happened. &lt;/p&gt;</comment>
                            <comment id="14601010" author="ram_krish" created="Thu, 25 Jun 2015 11:09:23 +0000"  >&lt;p&gt;The reason here is that there are 2 compactions getting triggered from the CompactionSplitThread on a region that is newly split.  One may be due to the split that happened?&lt;br/&gt;
So when both the compaction goes parallely then the PressureAwareCompactionController is started by the Compactor thread&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
@Override
  &lt;span class=&quot;code-keyword&quot;&gt;public&lt;/span&gt; void start(&lt;span class=&quot;code-object&quot;&gt;String&lt;/span&gt; compactionName) {
    activeCompactions.put(compactionName, &lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; ActiveCompaction());
  }
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;Now by the time the second compaction is in progress the first compaction completes and does a finish&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
@Override
  &lt;span class=&quot;code-keyword&quot;&gt;public&lt;/span&gt; void finish(&lt;span class=&quot;code-object&quot;&gt;String&lt;/span&gt; compactionName) {
    ActiveCompaction compaction = activeCompactions.remove(compactionName);
    &lt;span class=&quot;code-object&quot;&gt;long&lt;/span&gt; elapsedTime = &lt;span class=&quot;code-object&quot;&gt;Math&lt;/span&gt;.max(1, EnvironmentEdgeManager.currentTime() - compaction.startTime);
.....
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;The compactionName is going to be common here because &lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
    &lt;span class=&quot;code-object&quot;&gt;String&lt;/span&gt; compactionName =
        store.getRegionInfo().getRegionNameAsString() + &lt;span class=&quot;code-quote&quot;&gt;&quot;#&quot;&lt;/span&gt; + store.getFamily().getNameAsString();
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;When the second compaction comes for completion the compaction has already been removed and hence we get an NPE.&lt;/p&gt;

&lt;p&gt;Logs&lt;br/&gt;
One compaction started with 4 files&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
2015-06-25 22:07:49,135 INFO  [regionserver/stobdtserver3/10.224.54.70:16040-shortCompactions-1435250269126] regionserver.HRegion: Starting compaction on info in region TestTable,00000000000000000000283887,1435250266343.5eb54f001fd85035ab448f44d049ab84.
2015-06-25 22:07:49,135 INFO  [regionserver/stobdtserver3/10.224.54.70:16040-shortCompactions-1435250269126] regionserver.HStore: Starting compaction of 4 file(s) in info of TestTable,00000000000000000000283887,1435250266343.5eb54f001fd85035ab448f44d049ab84. into tmpdir=hdfs:&lt;span class=&quot;code-comment&quot;&gt;//stobdtserver3:9010/hbase/data/&lt;span class=&quot;code-keyword&quot;&gt;default&lt;/span&gt;/TestTable/5eb54f001fd85035ab448f44d049ab84/.tmp, totalSize=285.6 M
&lt;/span&gt;2015-06-25 22:07:49,165 INFO  [regionserver/stobdtserver3/10.224.54.70:16040-shortCompactions-1435250269126] hfile.CacheConfig: blockCache=org.apache.hadoop.hbase.io.hfile.CombinedBlockCache@71f1ce16, cacheDataOnRead=&lt;span class=&quot;code-keyword&quot;&gt;true&lt;/span&gt;, cacheDataOnWrite=&lt;span class=&quot;code-keyword&quot;&gt;false&lt;/span&gt;, cacheIndexesOnWrite=&lt;span class=&quot;code-keyword&quot;&gt;false&lt;/span&gt;, cacheBloomsOnWrite=&lt;span class=&quot;code-keyword&quot;&gt;false&lt;/span&gt;, cacheEvictOnClose=&lt;span class=&quot;code-keyword&quot;&gt;false&lt;/span&gt;, cacheDataCompressed=&lt;span class=&quot;code-keyword&quot;&gt;false&lt;/span&gt;, prefetchOnOpen=&lt;span class=&quot;code-keyword&quot;&gt;false&lt;/span&gt;
2015-06-25 22:07:49,954 INFO  [regionserver/stobdtserver3/10.224.54.70:16040.logRoller] wal.FSHLog: Rolled WAL /hbase/WALs/stobdtserver3,16040,1435250244539/stobdtserver3%2C16040%2C1435250244539.&lt;span class=&quot;code-keyword&quot;&gt;default&lt;/span&gt;.1435250268365 with entries=90, filesize=124.14 MB; &lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; WAL /hbase/WALs/stobdtserver3,16040,1435250244539/stobdtserver3%2C16040%2C1435250244539.&lt;span class=&quot;code-keyword&quot;&gt;default&lt;/span&gt;.1435250269933
20
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;Another compaction has been started with 3 files&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
2015-06-25 22:07:53,405 INFO  [regionserver/stobdtserver3/10.224.54.70:16040-longCompactions-1435250245998] regionserver.HRegion: Starting compaction on info in region TestTable,00000000000000000000283887,1435250266343.5eb54f001fd85035ab448f44d049ab84.
2015-06-25 22:07:53,406 INFO  [regionserver/stobdtserver3/10.224.54.70:16040-longCompactions-1435250245998] regionserver.HStore: Starting compaction of 3 file(s) in info of TestTable,00000000000000000000283887,1435250266343.5eb54f001fd85035ab448f44d049ab84. into tmpdir=hdfs:&lt;span class=&quot;code-comment&quot;&gt;//stobdtserver3:9010/hbase/data/&lt;span class=&quot;code-keyword&quot;&gt;default&lt;/span&gt;/TestTable/5eb54f001fd85035ab448f44d049ab84/.tmp, totalSize=343.4 M
&lt;/span&gt;2015-06-25 22:07:53,411 INFO  [regionserver/stobdtserver3/10.224.54.70:16040-longCompactions-1435250245998] hfile.CacheConfig: blockCache=org.apache.hadoop.hbase.io.hfile.CombinedBlockCache@71f1ce16, cacheDataOnRead=&lt;span class=&quot;code-keyword&quot;&gt;true&lt;/span&gt;, cacheDataOnWrite=&lt;span class=&quot;code-keyword&quot;&gt;false&lt;/span&gt;, cacheIndexesOnWrite=&lt;span class=&quot;code-keyword&quot;&gt;false&lt;/span&gt;, cacheBloomsOnWrite=&lt;span class=&quot;code-keyword&quot;&gt;false&lt;/span&gt;, cacheEvictOnClose=&lt;span class=&quot;code-keyword&quot;&gt;false&lt;/span&gt;, cacheDataCompressed=&lt;span class=&quot;code-keyword&quot;&gt;false&lt;/span&gt;, prefetchOnOpen=&lt;span class=&quot;code-keyword&quot;&gt;false&lt;/span&gt;
2015-06-25 22:07:54,211 INFO  [MemStoreFlusher.1] regionserver.HRegion: Flushing 1/1 column families, memstore=128.23 MB
2015-06-25 22:07:54,639 INFO  [regionserver/stobdtserver3/10.224.54.70:16040.logRoller] wal.FSHLog: Rolled WAL /hbase/WALs/stobdtserver3,16040,1435250244539/stobdtserver3%2C16040%2C1435250244539.&lt;span class=&quot;code-keyword&quot;&gt;default&lt;/span&gt;.1435250273034 with entries=90, filesize=
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
2015-06-25 22:08:09,446 INFO  [regionserver/stobdtserver3/10.224.54.70:16040-shortCompactions-1435250269126] compactions.PressureAwareCompactionThroughputController: TestTable,00000000000000000000283887,1435250266343.5eb54f001fd85035ab448f44d049ab84.#info average throughput is 19.80 MB/sec, slept 30 time(s) and total slept time is 27694 ms. 0 active compactions remaining, total limit is 10.00 MB/sec
2015-06-25 22:08:09,520 INFO  [regionserver/stobdtserver3/10.224.54.70:16040-shortCompactions-1435250269126] regionserver.HStore: Completed compaction of 4 (all) file(s) in info of TestTable,00000000000000000000283887,1435250266343.5eb54f001fd85035ab448f44d049ab84. into c044bd80b8684d97bb8ed2552687d22a(size=228.4 M), total size &lt;span class=&quot;code-keyword&quot;&gt;for&lt;/span&gt; store is 686.2 M. This selection was in queue &lt;span class=&quot;code-keyword&quot;&gt;for&lt;/span&gt; 0sec, and took 20sec to execute.
2015-06-25 22:08:09,523 INFO  [regionserver/stobdtserver3/10.224.54.70:16040-shortCompactions-1435250269126] regionserver.CompactSplitThread: Completed compaction: Request = regionName=TestTable,00000000000000000000283887,1435250266343.5eb54f001fd85035ab448f44d049ab84., storeName=info, fileCount=4, fileSize=285.6 M, priority=6, time=7539031296069589; duration=20sec
2015-06-25 22:08:09,858 ERROR [regionserver/stobdtserver3/10.224.54.70:16040-longCompactions-1435250245998] regionserver.CompactSplitThread: Compaction failed Request = regionName=TestTable,00000000000000000000283887,1435250266343.5eb54f001fd85035ab448f44d049ab84., storeName=info, fileCount=3, fileSize=343.4 M (114.5 M, 114.5 M, 114.5 M), priority=3, time=7539035566509573
java.lang.NullPointerException
        at org.apache.hadoop.hbase.regionserver.compactions.PressureAwareCompactionThroughputController$ActiveCompaction.access$700(PressureAwareCompactionThroughputController.java:79)
        at org.apache.hadoop.hbase.regionserver.compactions.PressureAwareCompactionThroughputController.finish(PressureAwareCompactionThroughputController.java:238)
        at org.apache.hadoop.hbase.regionserver.compactions.Compactor.performCompaction(Compactor.java:306)
        at org.apache.hadoop.hbase.regionserver.compactions.DefaultCompactor.compact(DefaultCompactor.java:106)
        at org.apache.hadoop.hbase.regionserver.DefaultStoreEngine$DefaultCompactionContext.compact(DefaultStoreEngine.java:112)
        at org.apache.hadoop.hbase.regionserver.HStore.compact(HStore.java:1202)
        at org.apache.hadoop.hbase.regionserver.HRegion.compact(HRegion.java:1792)
        at org.apache.hadoop.hbase.regionserver.CompactSplitThread$CompactionRunner.run(CompactSplitThread.java:524)
        at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1145)
        at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:615)
        at java.lang.&lt;span class=&quot;code-object&quot;&gt;Thread&lt;/span&gt;.run(&lt;span class=&quot;code-object&quot;&gt;Thread&lt;/span&gt;.java:745)
2015-06-25 22:12:26,339 INFO  [LruBlockCacheStatsExecutor] hfile.LruBlockCache: totalSize=1.83 MB, freeSize=1.74 GB, max=1.74 GB, blockCount=0, accesses=0, hits=0, hitRatio=0, cachingAccesses=0, cachingHits=0, cachingHitsRatio=0,evictions=2
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;Both gets completed around the same time and hence you can see that the compaction with 4 files was successful but the one with 3 got failed with NPE. Though the compaction was actually done but it got stopped due to NPE. This is a race condition - anyway the failed compacted files may be get compacated in the next run of compaction when being selected.&lt;/p&gt;</comment>
                            <comment id="14601295" author="apache9" created="Thu, 25 Jun 2015 14:52:55 +0000"  >&lt;p&gt;Oh, this should be a bug on all branches which contains &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-8329&quot; title=&quot;Limit compaction speed&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-8329&quot;&gt;&lt;del&gt;HBASE-8329&lt;/del&gt;&lt;/a&gt;. I used to assume that compactions can not be executed parallel on the same store, so the compationName only contains regionName and storeName. I think we could add a counter in the name to avoid conflict.&lt;/p&gt;</comment>
                            <comment id="14601330" author="apache9" created="Thu, 25 Jun 2015 15:12:39 +0000"  >&lt;p&gt;A simple patch that add an increment AtomicInteger as the suffix of compaction name.&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=ram_krish&quot; class=&quot;user-hover&quot; rel=&quot;ram_krish&quot;&gt;ramkrishna.s.vasudevan&lt;/a&gt; Could you please test whether this patch works? Thanks.&lt;br/&gt;
And also, thanks for the great digging.&lt;/p&gt;</comment>
                            <comment id="14601376" author="anoop.hbase" created="Thu, 25 Jun 2015 15:34:53 +0000"  >&lt;p&gt;Ya this can work. &lt;/p&gt;</comment>
                            <comment id="14601451" author="ram_krish" created="Thu, 25 Jun 2015 16:11:56 +0000"  >&lt;p&gt;I will test this out. But this should work.  Can we create this per counter per store?&lt;/p&gt;</comment>
                            <comment id="14601491" author="anoop.hbase" created="Thu, 25 Jun 2015 16:36:57 +0000"  >&lt;p&gt;Per store counter means we will have to keep it in Map or so which is adding overhead. The integer even if it overflows over the run, is fine&lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/help_16.gif&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt; Will go to -ve integers.  We need only unique Strings.  So this should be ok IMO.&lt;/p&gt;</comment>
                            <comment id="14601533" author="ram_krish" created="Thu, 25 Jun 2015 16:57:59 +0000"  >&lt;p&gt;What I thought was just do store.incrementandGetCounter()? That will return that atomic counter. Did not think as a map.  Main concern was that overflow part only.  (negative is fine then ok).&lt;/p&gt;</comment>
                            <comment id="14601661" author="hadoopqa" created="Thu, 25 Jun 2015 18:15:04 +0000"  >&lt;p&gt;&lt;font color=&quot;red&quot;&gt;-1 overall&lt;/font&gt;.  Here are the results of testing the latest attachment &lt;br/&gt;
  &lt;a href=&quot;http://issues.apache.org/jira/secure/attachment/12741873/HBASE-13970.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://issues.apache.org/jira/secure/attachment/12741873/HBASE-13970.patch&lt;/a&gt;&lt;br/&gt;
  against master branch at commit edef3d64bce41fffbc5649ffa19b2cf80ce28d7a.&lt;br/&gt;
  ATTACHMENT ID: 12741873&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 @author&lt;/font&gt;.  The patch does not contain any @author tags.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;red&quot;&gt;-1 tests included&lt;/font&gt;.  The patch doesn&apos;t appear to include any new or modified tests.&lt;br/&gt;
                        Please justify why no new tests are needed for this patch.&lt;br/&gt;
                        Also please list what manual steps were performed to verify this patch.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 hadoop versions&lt;/font&gt;. The patch compiles with all supported hadoop versions (2.4.0 2.4.1 2.5.0 2.5.1 2.5.2 2.6.0 2.7.0)&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 javac&lt;/font&gt;.  The applied patch does not increase the total number of javac compiler warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 protoc&lt;/font&gt;.  The applied patch does not increase the total number of protoc compiler warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 javadoc&lt;/font&gt;.  The javadoc tool did not generate any warning messages.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 checkstyle&lt;/font&gt;.  The applied patch does not increase the total number of checkstyle errors&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 findbugs&lt;/font&gt;.  The patch does not introduce any  new Findbugs (version 2.0.3) warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 release audit&lt;/font&gt;.  The applied patch does not increase the total number of release audit warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 lineLengths&lt;/font&gt;.  The patch does not introduce lines longer than 100&lt;/p&gt;

&lt;p&gt;  &lt;font color=&quot;green&quot;&gt;+1 site&lt;/font&gt;.  The mvn post-site goal succeeds with this patch.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 core tests&lt;/font&gt;.  The patch passed unit tests in .&lt;/p&gt;

&lt;p&gt;Test results: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/14571//testReport/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/14571//testReport/&lt;/a&gt;&lt;br/&gt;
Release Findbugs (version 2.0.3) 	warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/14571//artifact/patchprocess/newFindbugsWarnings.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/14571//artifact/patchprocess/newFindbugsWarnings.html&lt;/a&gt;&lt;br/&gt;
Checkstyle Errors: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/14571//artifact/patchprocess/checkstyle-aggregate.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/14571//artifact/patchprocess/checkstyle-aggregate.html&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;  Console output: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/14571//console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/14571//console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;</comment>
                            <comment id="14602168" author="apache9" created="Fri, 26 Jun 2015 00:17:27 +0000"  >&lt;p&gt;Overflow is OK as what &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=anoopsamjohn&quot; class=&quot;user-hover&quot; rel=&quot;anoopsamjohn&quot;&gt;Anoop Sam John&lt;/a&gt; said, we only need unique Strings. But yes negative counter is bit ugly. I rotated the value to 0 if we reached Integer.MAX_VALUE in the new patch.&lt;br/&gt;
Thanks.&lt;/p&gt;</comment>
                            <comment id="14602332" author="hadoopqa" created="Fri, 26 Jun 2015 03:09:21 +0000"  >&lt;p&gt;&lt;font color=&quot;red&quot;&gt;-1 overall&lt;/font&gt;.  Here are the results of testing the latest attachment &lt;br/&gt;
  &lt;a href=&quot;http://issues.apache.org/jira/secure/attachment/12741997/HBASE-13970-v1.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://issues.apache.org/jira/secure/attachment/12741997/HBASE-13970-v1.patch&lt;/a&gt;&lt;br/&gt;
  against master branch at commit 70f0ca3c6d485d504d49652801fd841de2086157.&lt;br/&gt;
  ATTACHMENT ID: 12741997&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 @author&lt;/font&gt;.  The patch does not contain any @author tags.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;red&quot;&gt;-1 tests included&lt;/font&gt;.  The patch doesn&apos;t appear to include any new or modified tests.&lt;br/&gt;
                        Please justify why no new tests are needed for this patch.&lt;br/&gt;
                        Also please list what manual steps were performed to verify this patch.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 hadoop versions&lt;/font&gt;. The patch compiles with all supported hadoop versions (2.4.0 2.4.1 2.5.0 2.5.1 2.5.2 2.6.0 2.7.0)&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 javac&lt;/font&gt;.  The applied patch does not increase the total number of javac compiler warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 protoc&lt;/font&gt;.  The applied patch does not increase the total number of protoc compiler warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 javadoc&lt;/font&gt;.  The javadoc tool did not generate any warning messages.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 checkstyle&lt;/font&gt;.  The applied patch does not increase the total number of checkstyle errors&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 findbugs&lt;/font&gt;.  The patch does not introduce any  new Findbugs (version 2.0.3) warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 release audit&lt;/font&gt;.  The applied patch does not increase the total number of release audit warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 lineLengths&lt;/font&gt;.  The patch does not introduce lines longer than 100&lt;/p&gt;

&lt;p&gt;  &lt;font color=&quot;green&quot;&gt;+1 site&lt;/font&gt;.  The mvn post-site goal succeeds with this patch.&lt;/p&gt;

&lt;p&gt;     &lt;font color=&quot;red&quot;&gt;-1 core tests&lt;/font&gt;.  The patch failed these unit tests:&lt;br/&gt;
                       org.apache.hadoop.hbase.TestRegionRebalancing&lt;/p&gt;

&lt;p&gt;     &lt;font color=&quot;red&quot;&gt;-1 core zombie tests&lt;/font&gt;.  There are 1 zombie test(s): 	at org.apache.hadoop.hbase.regionserver.TestRegionMergeTransaction.testWholesomeMerge(TestRegionMergeTransaction.java:229)&lt;/p&gt;

&lt;p&gt;Test results: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/14581//testReport/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/14581//testReport/&lt;/a&gt;&lt;br/&gt;
Release Findbugs (version 2.0.3) 	warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/14581//artifact/patchprocess/newFindbugsWarnings.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/14581//artifact/patchprocess/newFindbugsWarnings.html&lt;/a&gt;&lt;br/&gt;
Checkstyle Errors: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/14581//artifact/patchprocess/checkstyle-aggregate.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/14581//artifact/patchprocess/checkstyle-aggregate.html&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;  Console output: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/14581//console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/14581//console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;</comment>
                            <comment id="14602376" author="anoop.hbase" created="Fri, 26 Jun 2015 04:23:37 +0000"  >&lt;p&gt;return store.getRegionInfo().getRegionNameAsString() + &quot;#&quot;&lt;br/&gt;
241	        + store.getFamily().getNameAsString() + &quot;#&quot; + counter;&lt;/p&gt;

&lt;p&gt;You have to use &apos;next&apos; instead of counter no?  &apos;counter&apos; can get same for 2 threads.&lt;/p&gt;</comment>
                            <comment id="14602704" author="apache9" created="Fri, 26 Jun 2015 11:10:10 +0000"  >&lt;p&gt;No, counter can not be same for 2 threads. For a given value of counter, only one CAS operation can succeed. The failed thread will try another round and the value of counter will be changed.&lt;/p&gt;

&lt;p&gt;This is the getAndIncrement methods in AtomicInteger. The only difference is how to calculate the next value.&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
    /**
     * Atomically increments by one the current value.
     *
     * @&lt;span class=&quot;code-keyword&quot;&gt;return&lt;/span&gt; the previous value
     */
    &lt;span class=&quot;code-keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;final&lt;/span&gt; &lt;span class=&quot;code-object&quot;&gt;int&lt;/span&gt; getAndIncrement() {
        &lt;span class=&quot;code-keyword&quot;&gt;for&lt;/span&gt; (;;) {
            &lt;span class=&quot;code-object&quot;&gt;int&lt;/span&gt; current = get();
            &lt;span class=&quot;code-object&quot;&gt;int&lt;/span&gt; next = current + 1;
            &lt;span class=&quot;code-keyword&quot;&gt;if&lt;/span&gt; (compareAndSet(current, next))
                &lt;span class=&quot;code-keyword&quot;&gt;return&lt;/span&gt; current;
        }
    }
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</comment>
                            <comment id="14602778" author="anoop.hbase" created="Fri, 26 Jun 2015 12:07:46 +0000"  >&lt;p&gt;Oh ya we have a loop and the get is inside the loop.. fine np..   +1..  We can commit after Ram test the scenario.&lt;/p&gt;</comment>
                            <comment id="14603032" author="ram_krish" created="Fri, 26 Jun 2015 15:19:58 +0000"  >&lt;p&gt;I can test this but will take some time. I think this should be fine. +1&lt;/p&gt;</comment>
                            <comment id="14609386" author="apache9" created="Wed, 1 Jul 2015 01:00:46 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=ram_krish&quot; class=&quot;user-hover&quot; rel=&quot;ram_krish&quot;&gt;ramkrishna.s.vasudevan&lt;/a&gt; Any progress? Thanks.&lt;/p&gt;</comment>
                            <comment id="14611801" author="anoop.hbase" created="Thu, 2 Jul 2015 11:18:26 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=Apache9&quot; class=&quot;user-hover&quot; rel=&quot;Apache9&quot;&gt;Duo Zhang&lt;/a&gt;  You have 2  +1s on this Jira..  It is ready for commit.  &lt;/p&gt;</comment>
                            <comment id="14611805" author="ram_krish" created="Thu, 2 Jul 2015 11:20:41 +0000"  >&lt;p&gt;I have lost my server for some time.  I think you can commit it. It may take some more time for me to test. So +1.&lt;/p&gt;</comment>
                            <comment id="14611971" author="apache9" created="Thu, 2 Jul 2015 13:45:56 +0000"  >&lt;p&gt;Pushed to all branches except branch-1.0(&lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-8329&quot; title=&quot;Limit compaction speed&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-8329&quot;&gt;&lt;del&gt;HBASE-8329&lt;/del&gt;&lt;/a&gt; has not applied to branch-1.0).&lt;/p&gt;

&lt;p&gt;Thanks &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=anoopsamjohn&quot; class=&quot;user-hover&quot; rel=&quot;anoopsamjohn&quot;&gt;Anoop Sam John&lt;/a&gt; and &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=ram_krish&quot; class=&quot;user-hover&quot; rel=&quot;ram_krish&quot;&gt;ramkrishna.s.vasudevan&lt;/a&gt;.&lt;/p&gt;</comment>
                            <comment id="14612845" author="ram_krish" created="Fri, 3 Jul 2015 05:19:29 +0000"  >&lt;p&gt;I verified in cluster. this issue is no longer there.  Thanks &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=Apache9&quot; class=&quot;user-hover&quot; rel=&quot;Apache9&quot;&gt;Duo Zhang&lt;/a&gt;.&lt;/p&gt;</comment>
                            <comment id="14613643" author="hudson" created="Sat, 4 Jul 2015 09:42:51 +0000"  >&lt;p&gt;FAILURE: Integrated in HBase-TRUNK #6626 (See &lt;a href=&quot;https://builds.apache.org/job/HBase-TRUNK/6626/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/HBase-TRUNK/6626/&lt;/a&gt;)&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-13970&quot; title=&quot;NPE during compaction in trunk&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-13970&quot;&gt;&lt;del&gt;HBASE-13970&lt;/del&gt;&lt;/a&gt; NPE during compaction in trunk (zhangduo: rev 28a035000f3cbf7c2b242d6dd9ba3bf84f4e2503)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;hbase-server/src/main/java/org/apache/hadoop/hbase/regionserver/compactions/Compactor.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="14613703" author="hudson" created="Sat, 4 Jul 2015 11:27:12 +0000"  >&lt;p&gt;SUCCESS: Integrated in HBase-1.1 #572 (See &lt;a href=&quot;https://builds.apache.org/job/HBase-1.1/572/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/HBase-1.1/572/&lt;/a&gt;)&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-13970&quot; title=&quot;NPE during compaction in trunk&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-13970&quot;&gt;&lt;del&gt;HBASE-13970&lt;/del&gt;&lt;/a&gt; NPE during compaction in trunk (zhangduo: rev 426a5239c89b939399665b3881c240811279e50c)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;hbase-server/src/main/java/org/apache/hadoop/hbase/regionserver/compactions/Compactor.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="14613765" author="hudson" created="Sat, 4 Jul 2015 11:43:12 +0000"  >&lt;p&gt;SUCCESS: Integrated in HBase-1.2-IT #36 (See &lt;a href=&quot;https://builds.apache.org/job/HBase-1.2-IT/36/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/HBase-1.2-IT/36/&lt;/a&gt;)&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-13970&quot; title=&quot;NPE during compaction in trunk&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-13970&quot;&gt;&lt;del&gt;HBASE-13970&lt;/del&gt;&lt;/a&gt; NPE during compaction in trunk (zhangduo: rev 42445754057e442ecd9c2b0117b2e3560742ef06)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;hbase-server/src/main/java/org/apache/hadoop/hbase/regionserver/compactions/Compactor.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="14613774" author="hudson" created="Sat, 4 Jul 2015 11:53:02 +0000"  >&lt;p&gt;SUCCESS: Integrated in HBase-1.3-IT #18 (See &lt;a href=&quot;https://builds.apache.org/job/HBase-1.3-IT/18/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/HBase-1.3-IT/18/&lt;/a&gt;)&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-13970&quot; title=&quot;NPE during compaction in trunk&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-13970&quot;&gt;&lt;del&gt;HBASE-13970&lt;/del&gt;&lt;/a&gt; NPE during compaction in trunk (zhangduo: rev 9aeda36613e97e74507b223c3b894a744048fff1)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;hbase-server/src/main/java/org/apache/hadoop/hbase/regionserver/compactions/Compactor.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="14613786" author="hudson" created="Sat, 4 Jul 2015 12:06:39 +0000"  >&lt;p&gt;FAILURE: Integrated in HBase-1.2 #49 (See &lt;a href=&quot;https://builds.apache.org/job/HBase-1.2/49/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/HBase-1.2/49/&lt;/a&gt;)&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-13970&quot; title=&quot;NPE during compaction in trunk&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-13970&quot;&gt;&lt;del&gt;HBASE-13970&lt;/del&gt;&lt;/a&gt; NPE during compaction in trunk (zhangduo: rev 42445754057e442ecd9c2b0117b2e3560742ef06)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;hbase-server/src/main/java/org/apache/hadoop/hbase/regionserver/compactions/Compactor.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="14613802" author="hudson" created="Sat, 4 Jul 2015 13:09:58 +0000"  >&lt;p&gt;FAILURE: Integrated in HBase-1.3 #33 (See &lt;a href=&quot;https://builds.apache.org/job/HBase-1.3/33/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/HBase-1.3/33/&lt;/a&gt;)&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-13970&quot; title=&quot;NPE during compaction in trunk&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-13970&quot;&gt;&lt;del&gt;HBASE-13970&lt;/del&gt;&lt;/a&gt; NPE during compaction in trunk (zhangduo: rev 9aeda36613e97e74507b223c3b894a744048fff1)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;hbase-server/src/main/java/org/apache/hadoop/hbase/regionserver/compactions/Compactor.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="14613843" author="hudson" created="Sat, 4 Jul 2015 13:29:56 +0000"  >&lt;p&gt;FAILURE: Integrated in HBase-0.98 #1046 (See &lt;a href=&quot;https://builds.apache.org/job/HBase-0.98/1046/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/HBase-0.98/1046/&lt;/a&gt;)&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-13970&quot; title=&quot;NPE during compaction in trunk&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-13970&quot;&gt;&lt;del&gt;HBASE-13970&lt;/del&gt;&lt;/a&gt; NPE during compaction in trunk (zhangduo: rev ebb476ba87ba3ce5894ed1ad9350c5c89b4e0f6c)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;hbase-server/src/main/java/org/apache/hadoop/hbase/regionserver/compactions/Compactor.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="14613921" author="hudson" created="Sat, 4 Jul 2015 15:48:46 +0000"  >&lt;p&gt;FAILURE: Integrated in HBase-0.98-on-Hadoop-1.1 #999 (See &lt;a href=&quot;https://builds.apache.org/job/HBase-0.98-on-Hadoop-1.1/999/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/HBase-0.98-on-Hadoop-1.1/999/&lt;/a&gt;)&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-13970&quot; title=&quot;NPE during compaction in trunk&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-13970&quot;&gt;&lt;del&gt;HBASE-13970&lt;/del&gt;&lt;/a&gt; NPE during compaction in trunk (zhangduo: rev ebb476ba87ba3ce5894ed1ad9350c5c89b4e0f6c)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;hbase-server/src/main/java/org/apache/hadoop/hbase/regionserver/compactions/Compactor.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                    </comments>
                    <attachments>
                            <attachment id="12741997" name="HBASE-13970-v1.patch" size="2243" author="Apache9" created="Fri, 26 Jun 2015 00:17:27 +0000"/>
                            <attachment id="12741873" name="HBASE-13970.patch" size="1903" author="Apache9" created="Thu, 25 Jun 2015 15:12:39 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>2.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Thu, 25 Jun 2015 14:52:55 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310191" key="com.atlassian.jira.plugin.system.customfieldtypes:multicheckboxes">
                        <customfieldname>Hadoop Flags</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10343"><![CDATA[Reviewed]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            1 year, 21 weeks, 5 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i2ghgv:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        </customfields>
    </item>
</channel>
</rss>