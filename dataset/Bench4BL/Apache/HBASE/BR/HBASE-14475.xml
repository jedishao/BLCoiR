<!-- 
RSS generated by JIRA (6.3.4#6332-sha1:51bc225ef474afe3128b2f66878477f322397b16) at Thu Dec 01 22:41:44 UTC 2016

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary add field=key&field=summary to the URL of your request.
For example:
https://issues.apache.org/jira/si/jira.issueviews:issue-xml/HBASE-14475/HBASE-14475.xml?field=key&amp;field=summary
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>6.3.4</version>
        <build-number>6332</build-number>
        <build-date>15-08-2014</build-date>
    </build-info>

<item>
            <title>[HBASE-14475] Region split requests are always audited with &quot;hbase&quot; user rather than request user</title>
                <link>https://issues.apache.org/jira/browse/HBASE-14475</link>
                <project id="12310753" key="HBASE">HBase</project>
                    <description>&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=madhan.neethiraj&quot; class=&quot;user-hover&quot; rel=&quot;madhan.neethiraj&quot;&gt;Madhan Neethiraj&lt;/a&gt; from Ranger reported that when a region split request is initiated from the user, we always audit (and do the permission check) against the hbase user, not the request user. &lt;/p&gt;

&lt;p&gt;The issue is that a split request that is coming from the user is only processed at a later time from the CompactSplitThread asynchronously to the splitRegion RPC.&lt;br/&gt;
RSRpcServices.splitRegion() only does a flush from the handler thread and then calls regionServer.compactSplitThread.requestSplit() which puts a SplitRequest to the split queue. The split request is handled by the split executor from CompactSplitThread.&lt;br/&gt;
Since the split is actually executed from the compact split thread, the preSplit() for the AccessController is called from the executor thread. In this thread, we no longer have the user who initially requested the split, so the user in the context (UGI) is &quot;hbase&quot;, causing the AC.preSplit() access control check to be always be performed against the hbase user, not the user who have submitted the request. The audit log also contains &quot;hbase&quot; user rather than the actual user.&lt;/p&gt;

&lt;p&gt;Luckily, the split forces a flush to the region in-line (from the handler thread), which requires a &lt;tt&gt;CREATE|ADMIN&lt;/tt&gt; permission. split requires &lt;tt&gt;ADMIN&lt;/tt&gt;, but due to this bug &lt;tt&gt;CREATE&lt;/tt&gt; is also sufficient (although we have not verified it manually). &lt;tt&gt;CREATE&lt;/tt&gt; permission can do flush and compactions, so this is not a security issue (I think). &lt;/p&gt;</description>
                <environment></environment>
        <key id="12895980">HBASE-14475</key>
            <summary>Region split requests are always audited with &quot;hbase&quot; user rather than request user</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/bug.png">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.png">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="yuzhihong@gmail.com">Ted Yu</assignee>
                                    <reporter username="enis">Enis Soztutar</reporter>
                        <labels>
                    </labels>
                <created>Thu, 24 Sep 2015 01:48:12 +0000</created>
                <updated>Wed, 27 Jan 2016 15:28:28 +0000</updated>
                            <resolved>Thu, 1 Oct 2015 22:13:30 +0000</resolved>
                                                    <fixVersion>2.0.0</fixVersion>
                    <fixVersion>1.2.0</fixVersion>
                    <fixVersion>1.3.0</fixVersion>
                    <fixVersion>0.98.15</fixVersion>
                    <fixVersion>1.0.3</fixVersion>
                    <fixVersion>1.1.3</fixVersion>
                                    <component>regionserver</component>
                    <component>security</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>12</watches>
                                                                <comments>
                            <comment id="14905742" author="yuzhihong@gmail.com" created="Thu, 24 Sep 2015 03:13:16 +0000"  >&lt;p&gt;Looks like we can pass User.getCurrent().getShortUserName() to compactSplitThread.requestSplit() so that the audit can have the right user name.&lt;/p&gt;</comment>
                            <comment id="14906558" author="yuzhihong@gmail.com" created="Thu, 24 Sep 2015 16:07:02 +0000"  >&lt;p&gt;For AccessController to get the user who submitted the request, one approach is to add setter to UserProvider for current user.&lt;br/&gt;
compactSplitThread records the current user, calls the setter using passed in User (from RSRpcServices) and restores the current user once the split is done.&lt;/p&gt;</comment>
                            <comment id="14906764" author="enis" created="Thu, 24 Sep 2015 18:14:00 +0000"  >&lt;blockquote&gt;&lt;p&gt;For AccessController to get the user who submitted the request, one approach is to add setter to UserProvider for current user. compactSplitThread records the current user, calls the setter using passed in User (from RSRpcServices) and restores the current user once the split is done.&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;There is a standard pattern for this already. It is done via &lt;tt&gt;doAs&lt;/tt&gt;. You can check out how procedures do this for example CreateTableProcedure. &lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
  &lt;span class=&quot;code-keyword&quot;&gt;private&lt;/span&gt; UserGroupInformation user;   &lt;span class=&quot;code-comment&quot;&gt;// the context user
&lt;/span&gt;  ..
  &lt;span class=&quot;code-keyword&quot;&gt;this&lt;/span&gt;.user = env.getRequestUser().getUGI();  &lt;span class=&quot;code-comment&quot;&gt;// the context user is captured at the time of request from the handler 
&lt;/span&gt;
    user.doAs(&lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; PrivilegedExceptionAction&amp;lt;&lt;span class=&quot;code-object&quot;&gt;Void&lt;/span&gt;&amp;gt;() {
        @Override
        &lt;span class=&quot;code-keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;code-object&quot;&gt;Void&lt;/span&gt; run() &lt;span class=&quot;code-keyword&quot;&gt;throws&lt;/span&gt; Exception {
          cpHost.preCreateTableHandler(hTableDescriptor, regions);
          &lt;span class=&quot;code-keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt;;
        }
      });
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</comment>
                            <comment id="14906821" author="yuzhihong@gmail.com" created="Thu, 24 Sep 2015 18:50:04 +0000"  >&lt;p&gt;Enis:&lt;br/&gt;
We&apos;re on same page.&lt;/p&gt;</comment>
                            <comment id="14907038" author="jinghe" created="Thu, 24 Sep 2015 21:10:52 +0000"  >&lt;p&gt;Does compaction request have the same problem?&lt;/p&gt;</comment>
                            <comment id="14907050" author="yuzhihong@gmail.com" created="Thu, 24 Sep 2015 21:19:16 +0000"  >&lt;p&gt;I have a tentative patch for split path.&lt;/p&gt;

&lt;p&gt;Next I would cover compaction as well.&lt;/p&gt;</comment>
                            <comment id="14907406" author="apurtell" created="Fri, 25 Sep 2015 02:10:44 +0000"  >&lt;p&gt;I think the approach is good &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=tedyu&quot; class=&quot;user-hover&quot; rel=&quot;tedyu&quot;&gt;Ted Yu&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="14907408" author="apurtell" created="Fri, 25 Sep 2015 02:12:16 +0000"  >&lt;p&gt;I think this is a bugfix and we should get it back as far as we can. I&apos;ve updated the fix versions accordingly. Happy to help with backporting grunt work if you only want to carry it back so far &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=tedyu&quot; class=&quot;user-hover&quot; rel=&quot;tedyu&quot;&gt;Ted Yu&lt;/a&gt; &lt;/p&gt;</comment>
                            <comment id="14907607" author="hadoopqa" created="Fri, 25 Sep 2015 05:30:09 +0000"  >&lt;p&gt;&lt;font color=&quot;red&quot;&gt;-1 overall&lt;/font&gt;.  Here are the results of testing the latest attachment &lt;br/&gt;
  &lt;a href=&quot;http://issues.apache.org/jira/secure/attachment/12762293/14475-v2.txt&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://issues.apache.org/jira/secure/attachment/12762293/14475-v2.txt&lt;/a&gt;&lt;br/&gt;
  against master branch at commit 8db7a6eb079018e3f94cc366ef85211d7a90f749.&lt;br/&gt;
  ATTACHMENT ID: 12762293&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 @author&lt;/font&gt;.  The patch does not contain any @author tags.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 tests included&lt;/font&gt;.  The patch appears to include 3 new or modified tests.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 hadoop versions&lt;/font&gt;. The patch compiles with all supported hadoop versions (2.4.0 2.4.1 2.5.0 2.5.1 2.5.2 2.6.0 2.7.0 2.7.1)&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 javac&lt;/font&gt;.  The applied patch does not increase the total number of javac compiler warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 protoc&lt;/font&gt;.  The applied patch does not increase the total number of protoc compiler warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 javadoc&lt;/font&gt;.  The javadoc tool did not generate any warning messages.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 checkstyle&lt;/font&gt;.  The applied patch does not increase the total number of checkstyle errors&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 findbugs&lt;/font&gt;.  The patch does not introduce any  new Findbugs (version 2.0.3) warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 release audit&lt;/font&gt;.  The applied patch does not increase the total number of release audit warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 lineLengths&lt;/font&gt;.  The patch does not introduce lines longer than 100&lt;/p&gt;

&lt;p&gt;  &lt;font color=&quot;green&quot;&gt;+1 site&lt;/font&gt;.  The mvn post-site goal succeeds with this patch.&lt;/p&gt;

&lt;p&gt;     &lt;font color=&quot;red&quot;&gt;-1 core tests&lt;/font&gt;.  The patch failed these unit tests:&lt;br/&gt;
                       org.apache.hadoop.hbase.master.procedure.TestWALProcedureStoreOnHDFS&lt;/p&gt;

&lt;p&gt;     &lt;font color=&quot;red&quot;&gt;-1 core zombie tests&lt;/font&gt;.  There are 1 zombie test(s): 	at org.apache.hadoop.hbase.regionserver.TestHRegion.testFlushCacheWhileScanning(TestHRegion.java:3756)&lt;/p&gt;

&lt;p&gt;Test results: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/15732//testReport/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/15732//testReport/&lt;/a&gt;&lt;br/&gt;
Release Findbugs (version 2.0.3) 	warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/15732//artifact/patchprocess/newFindbugsWarnings.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/15732//artifact/patchprocess/newFindbugsWarnings.html&lt;/a&gt;&lt;br/&gt;
Checkstyle Errors: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/15732//artifact/patchprocess/checkstyle-aggregate.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/15732//artifact/patchprocess/checkstyle-aggregate.html&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;  Console output: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/15732//console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/15732//console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;</comment>
                            <comment id="14908408" author="jinghe" created="Fri, 25 Sep 2015 17:55:45 +0000"  >&lt;p&gt;On the top RSRpcServices level, you probably want to use getRequestUser, not getCurrent().&lt;/p&gt;

&lt;p&gt;You probably can avoid having to pass around the &apos;User&apos; by doing the &apos;requestUser.doAs()&apos; at a higher level.&lt;br/&gt;
For example, wrap the doAs() around&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
&lt;span class=&quot;code-keyword&quot;&gt;this&lt;/span&gt;.splits.execute(&lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; SplitRequest(r, midKey, &lt;span class=&quot;code-keyword&quot;&gt;this&lt;/span&gt;.server));
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;should be as effective.  Not-tested, just a thought. I wonder if the doAs() security context can go down to the thread in this way or not. &lt;/p&gt;</comment>
                            <comment id="14908453" author="yuzhihong@gmail.com" created="Fri, 25 Sep 2015 18:24:03 +0000"  >&lt;p&gt;Patch v3 addresses Jerry&apos;s first comment.&lt;/p&gt;

&lt;p&gt;w.r.t. wrapping the doAs() around splits.execute(), I don&apos;t think that would work. The actual splitting is done asynchronously. The wrapping should happen at the time when executor gets around to executing the SplitRequest.&lt;/p&gt;

&lt;p&gt;Thanks&lt;/p&gt;</comment>
                            <comment id="14908499" author="enis" created="Fri, 25 Sep 2015 18:51:52 +0000"  >&lt;p&gt;+1 for v3. Though lacking sufficient testing in this area bothers me. Is there a way we can add a UT for this? If not UT, we should make sure that at least the patch is verified. &lt;/p&gt;</comment>
                            <comment id="14908500" author="enis" created="Fri, 25 Sep 2015 18:52:17 +0000"  >&lt;blockquote&gt;&lt;p&gt;I think this is a bugfix and we should get it back as far as we can&lt;/p&gt;&lt;/blockquote&gt;
&lt;p&gt;Agreed. &lt;/p&gt;</comment>
                            <comment id="14908552" author="hadoopqa" created="Fri, 25 Sep 2015 19:27:00 +0000"  >&lt;p&gt;&lt;font color=&quot;red&quot;&gt;-1 overall&lt;/font&gt;.  Here are the results of testing the latest attachment &lt;br/&gt;
  &lt;a href=&quot;http://issues.apache.org/jira/secure/attachment/12762408/14475-branch-1-v2.txt&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://issues.apache.org/jira/secure/attachment/12762408/14475-branch-1-v2.txt&lt;/a&gt;&lt;br/&gt;
  against branch-1 branch at commit 33bbe43cf156f373b2d95e66edd07e2ff9ae978b.&lt;br/&gt;
  ATTACHMENT ID: 12762408&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 @author&lt;/font&gt;.  The patch does not contain any @author tags.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 tests included&lt;/font&gt;.  The patch appears to include 3 new or modified tests.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 hadoop versions&lt;/font&gt;. The patch compiles with all supported hadoop versions (2.4.0 2.4.1 2.5.0 2.5.1 2.5.2 2.6.0 2.7.0 2.7.1)&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 javac&lt;/font&gt;.  The applied patch does not increase the total number of javac compiler warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 protoc&lt;/font&gt;.  The applied patch does not increase the total number of protoc compiler warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 javadoc&lt;/font&gt;.  The javadoc tool did not generate any warning messages.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 checkstyle&lt;/font&gt;.  The applied patch does not increase the total number of checkstyle errors&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 findbugs&lt;/font&gt;.  The patch does not introduce any  new Findbugs (version 2.0.3) warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 release audit&lt;/font&gt;.  The applied patch does not increase the total number of release audit warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 lineLengths&lt;/font&gt;.  The patch does not introduce lines longer than 100&lt;/p&gt;

&lt;p&gt;  &lt;font color=&quot;green&quot;&gt;+1 site&lt;/font&gt;.  The mvn post-site goal succeeds with this patch.&lt;/p&gt;

&lt;p&gt;     &lt;font color=&quot;red&quot;&gt;-1 core tests&lt;/font&gt;.  The patch failed these unit tests:&lt;br/&gt;
                       org.apache.hadoop.hbase.util.TestProcessBasedCluster&lt;/p&gt;

&lt;p&gt;Test results: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/15743//testReport/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/15743//testReport/&lt;/a&gt;&lt;br/&gt;
Release Findbugs (version 2.0.3) 	warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/15743//artifact/patchprocess/newFindbugsWarnings.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/15743//artifact/patchprocess/newFindbugsWarnings.html&lt;/a&gt;&lt;br/&gt;
Checkstyle Errors: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/15743//artifact/patchprocess/checkstyle-aggregate.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/15743//artifact/patchprocess/checkstyle-aggregate.html&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;  Console output: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/15743//console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/15743//console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;</comment>
                            <comment id="14908691" author="hadoopqa" created="Fri, 25 Sep 2015 21:21:01 +0000"  >&lt;p&gt;&lt;font color=&quot;red&quot;&gt;-1 overall&lt;/font&gt;.  Here are the results of testing the latest attachment &lt;br/&gt;
  &lt;a href=&quot;http://issues.apache.org/jira/secure/attachment/12762427/14475-v3.txt&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://issues.apache.org/jira/secure/attachment/12762427/14475-v3.txt&lt;/a&gt;&lt;br/&gt;
  against master branch at commit 32f49fa7fc2bcad0004e249887cc1973becc98db.&lt;br/&gt;
  ATTACHMENT ID: 12762427&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 @author&lt;/font&gt;.  The patch does not contain any @author tags.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 tests included&lt;/font&gt;.  The patch appears to include 3 new or modified tests.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 hadoop versions&lt;/font&gt;. The patch compiles with all supported hadoop versions (2.4.0 2.4.1 2.5.0 2.5.1 2.5.2 2.6.0 2.7.0 2.7.1)&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 javac&lt;/font&gt;.  The applied patch does not increase the total number of javac compiler warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 protoc&lt;/font&gt;.  The applied patch does not increase the total number of protoc compiler warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 javadoc&lt;/font&gt;.  The javadoc tool did not generate any warning messages.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 checkstyle&lt;/font&gt;.  The applied patch does not increase the total number of checkstyle errors&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 findbugs&lt;/font&gt;.  The patch does not introduce any  new Findbugs (version 2.0.3) warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 release audit&lt;/font&gt;.  The applied patch does not increase the total number of release audit warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 lineLengths&lt;/font&gt;.  The patch does not introduce lines longer than 100&lt;/p&gt;

&lt;p&gt;  &lt;font color=&quot;green&quot;&gt;+1 site&lt;/font&gt;.  The mvn post-site goal succeeds with this patch.&lt;/p&gt;

&lt;p&gt;     &lt;font color=&quot;red&quot;&gt;-1 core tests&lt;/font&gt;.  The patch failed these unit tests:&lt;br/&gt;
                       org.apache.hadoop.hbase.master.TestWarmupRegion&lt;br/&gt;
                  org.apache.hadoop.hbase.master.TestMasterFailoverBalancerPersistence&lt;br/&gt;
                  org.apache.hadoop.hbase.master.procedure.TestProcedureAdmin&lt;br/&gt;
                  org.apache.hadoop.hbase.master.TestMasterMetrics&lt;br/&gt;
                  org.apache.hadoop.hbase.master.TestMaster&lt;br/&gt;
                  org.apache.hadoop.hbase.master.procedure.TestDeleteNamespaceProcedure&lt;br/&gt;
                  org.apache.hadoop.hbase.master.procedure.TestCreateNamespaceProcedure&lt;br/&gt;
                  org.apache.hadoop.hbase.master.procedure.TestModifyColumnFamilyProcedure&lt;br/&gt;
                  org.apache.hadoop.hbase.master.TestAssignmentManagerOnCluster&lt;br/&gt;
                  org.apache.hadoop.hbase.master.snapshot.TestSnapshotFileCache&lt;br/&gt;
                  org.apache.hadoop.hbase.master.TestMasterMetricsWrapper&lt;br/&gt;
                  org.apache.hadoop.hbase.master.procedure.TestModifyTableProcedure&lt;br/&gt;
                  org.apache.hadoop.hbase.master.procedure.TestWALProcedureStoreOnHDFS&lt;br/&gt;
                  org.apache.hadoop.hbase.master.procedure.TestModifyNamespaceProcedure&lt;br/&gt;
                  org.apache.hadoop.hbase.master.TestMetaShutdownHandler&lt;br/&gt;
                  org.apache.hadoop.hbase.master.procedure.TestServerCrashProcedure&lt;br/&gt;
                  org.apache.hadoop.hbase.master.cleaner.TestLogsCleaner&lt;br/&gt;
                  org.apache.hadoop.hbase.master.TestGetInfoPort&lt;br/&gt;
                  org.apache.hadoop.hbase.master.TestMasterRestartAfterDisablingTable&lt;br/&gt;
                  org.apache.hadoop.hbase.master.TestGetLastFlushedSequenceId&lt;br/&gt;
                  org.apache.hadoop.hbase.master.TestMasterOperationsForRegionReplicas&lt;br/&gt;
                  org.apache.hadoop.hbase.master.cleaner.TestHFileCleaner&lt;br/&gt;
                  org.apache.hadoop.hbase.master.cleaner.TestSnapshotFromMaster&lt;/p&gt;

&lt;p&gt;     &lt;font color=&quot;red&quot;&gt;-1 core zombie tests&lt;/font&gt;.  There are 13 zombie test(s): 	at org.apache.hadoop.hbase.mapreduce.TestWALPlayer.testWALPlayer(TestWALPlayer.java:122)&lt;br/&gt;
	at org.apache.hadoop.hbase.TestMetaTableAccessor.testTableExists(TestMetaTableAccessor.java:227)&lt;br/&gt;
	at org.apache.hadoop.hbase.filter.TestFuzzyRowFilterEndToEnd.testEndToEnd(TestFuzzyRowFilterEndToEnd.java:143)&lt;br/&gt;
	at org.apache.hadoop.hbase.mapreduce.MultiTableInputFormatTestBase.testScan(MultiTableInputFormatTestBase.java:255)&lt;br/&gt;
	at org.apache.hadoop.hbase.mapreduce.MultiTableInputFormatTestBase.testScanEmptyToAPP(MultiTableInputFormatTestBase.java:202)&lt;br/&gt;
	at org.apache.hadoop.hbase.mapreduce.TestTableInputFormatScanBase.testScan(TestTableInputFormatScanBase.java:243)&lt;br/&gt;
	at org.apache.hadoop.hbase.mapreduce.TestTableInputFormatScan2.testScanOBBToOPP(TestTableInputFormatScan2.java:45)&lt;br/&gt;
	at org.apache.hadoop.hbase.mapreduce.TestImportExport.testImport94Table(TestImportExport.java:241)&lt;br/&gt;
	at org.apache.hadoop.hbase.mapreduce.TestTableMapReduceBase.testMultiRegionTable(TestTableMapReduceBase.java:98)&lt;/p&gt;

&lt;p&gt;Test results: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/15745//testReport/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/15745//testReport/&lt;/a&gt;&lt;br/&gt;
Release Findbugs (version 2.0.3) 	warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/15745//artifact/patchprocess/newFindbugsWarnings.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/15745//artifact/patchprocess/newFindbugsWarnings.html&lt;/a&gt;&lt;br/&gt;
Checkstyle Errors: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/15745//artifact/patchprocess/checkstyle-aggregate.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/15745//artifact/patchprocess/checkstyle-aggregate.html&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;  Console output: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/15745//console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/15745//console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;</comment>
                            <comment id="14908717" author="yuzhihong@gmail.com" created="Fri, 25 Sep 2015 21:44:53 +0000"  >&lt;p&gt;Looks like none of the failed tests above was related to split / compaction.&lt;/p&gt;

&lt;p&gt;I ran TestGetInfoPort and TestWarmupRegion locally which passed.&lt;/p&gt;

&lt;p&gt;I saw BindException in some of the failed tests on Jenkins.&lt;/p&gt;</comment>
                            <comment id="14908986" author="hadoopqa" created="Sat, 26 Sep 2015 01:43:42 +0000"  >&lt;p&gt;&lt;font color=&quot;green&quot;&gt;+1 overall&lt;/font&gt;.  Here are the results of testing the latest attachment &lt;br/&gt;
  &lt;a href=&quot;http://issues.apache.org/jira/secure/attachment/12762465/14475-v3.txt&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://issues.apache.org/jira/secure/attachment/12762465/14475-v3.txt&lt;/a&gt;&lt;br/&gt;
  against master branch at commit dc2aa7e513a5c9ca1cd748b5d28a5109b37dee45.&lt;br/&gt;
  ATTACHMENT ID: 12762465&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 @author&lt;/font&gt;.  The patch does not contain any @author tags.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 tests included&lt;/font&gt;.  The patch appears to include 3 new or modified tests.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 hadoop versions&lt;/font&gt;. The patch compiles with all supported hadoop versions (2.4.0 2.4.1 2.5.0 2.5.1 2.5.2 2.6.0 2.7.0 2.7.1)&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 javac&lt;/font&gt;.  The applied patch does not increase the total number of javac compiler warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 protoc&lt;/font&gt;.  The applied patch does not increase the total number of protoc compiler warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 javadoc&lt;/font&gt;.  The javadoc tool did not generate any warning messages.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 checkstyle&lt;/font&gt;.  The applied patch does not increase the total number of checkstyle errors&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 findbugs&lt;/font&gt;.  The patch does not introduce any  new Findbugs (version 2.0.3) warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 release audit&lt;/font&gt;.  The applied patch does not increase the total number of release audit warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 lineLengths&lt;/font&gt;.  The patch does not introduce lines longer than 100&lt;/p&gt;

&lt;p&gt;  &lt;font color=&quot;green&quot;&gt;+1 site&lt;/font&gt;.  The mvn post-site goal succeeds with this patch.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 core tests&lt;/font&gt;.  The patch passed unit tests in .&lt;/p&gt;

&lt;p&gt;Test results: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/15750//testReport/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/15750//testReport/&lt;/a&gt;&lt;br/&gt;
Release Findbugs (version 2.0.3) 	warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/15750//artifact/patchprocess/newFindbugsWarnings.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/15750//artifact/patchprocess/newFindbugsWarnings.html&lt;/a&gt;&lt;br/&gt;
Checkstyle Errors: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/15750//artifact/patchprocess/checkstyle-aggregate.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/15750//artifact/patchprocess/checkstyle-aggregate.html&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;  Console output: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/15750//console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/15750//console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;</comment>
                            <comment id="14909016" author="anoop.hbase" created="Sat, 26 Sep 2015 02:47:01 +0000"  >&lt;p&gt;Patch looks good.  Can we add tests near AccessController to verify positive and negative cases?&lt;/p&gt;</comment>
                            <comment id="14909142" author="ashish singhi" created="Sat, 26 Sep 2015 07:08:01 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=anoop.hbase&quot; class=&quot;user-hover&quot; rel=&quot;anoop.hbase&quot;&gt;Anoop Sam John&lt;/a&gt;, I see we already have tests for this, &lt;tt&gt;TestAccessController#testSplit&lt;/tt&gt;, &lt;tt&gt;TestAccessController#testSplitWithSplitRow&lt;/tt&gt; and &lt;tt&gt;TestAccessController#testCompact&lt;/tt&gt;. &lt;br/&gt;
Am I missing anything ?&lt;/p&gt;</comment>
                            <comment id="14909320" author="anoop.hbase" created="Sat, 26 Sep 2015 15:45:18 +0000"  >&lt;p&gt;Ok we have positive and negative tests for split already. I thought we dont have as we were living with this defect. Because of the flush before split, the split was failing for non auth users and tests were passing.  Ok fine if u have manually verified the audit log.&lt;/p&gt;</comment>
                            <comment id="14909966" author="yuzhihong@gmail.com" created="Mon, 28 Sep 2015 01:38:21 +0000"  >&lt;p&gt;Branch-1 patch applies cleanly on branch-1.2 and branch-1.1&lt;/p&gt;

&lt;p&gt;If test run is needed for the above two branches, please let me know.&lt;/p&gt;</comment>
                            <comment id="14910001" author="hadoopqa" created="Mon, 28 Sep 2015 03:46:51 +0000"  >&lt;p&gt;&lt;font color=&quot;red&quot;&gt;-1 overall&lt;/font&gt;.  Here are the results of testing the latest attachment &lt;br/&gt;
  &lt;a href=&quot;http://issues.apache.org/jira/secure/attachment/12762627/14475-branch-1-v3.txt&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://issues.apache.org/jira/secure/attachment/12762627/14475-branch-1-v3.txt&lt;/a&gt;&lt;br/&gt;
  against branch-1 branch at commit 526520de0a9d7a29fcf1b4c521f017ca75a46cbc.&lt;br/&gt;
  ATTACHMENT ID: 12762627&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 @author&lt;/font&gt;.  The patch does not contain any @author tags.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 tests included&lt;/font&gt;.  The patch appears to include 3 new or modified tests.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 hadoop versions&lt;/font&gt;. The patch compiles with all supported hadoop versions (2.4.0 2.4.1 2.5.0 2.5.1 2.5.2 2.6.0 2.7.0 2.7.1)&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 javac&lt;/font&gt;.  The applied patch does not increase the total number of javac compiler warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 protoc&lt;/font&gt;.  The applied patch does not increase the total number of protoc compiler warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 javadoc&lt;/font&gt;.  The javadoc tool did not generate any warning messages.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 checkstyle&lt;/font&gt;.  The applied patch does not increase the total number of checkstyle errors&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 findbugs&lt;/font&gt;.  The patch does not introduce any  new Findbugs (version 2.0.3) warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 release audit&lt;/font&gt;.  The applied patch does not increase the total number of release audit warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 lineLengths&lt;/font&gt;.  The patch does not introduce lines longer than 100&lt;/p&gt;

&lt;p&gt;  &lt;font color=&quot;green&quot;&gt;+1 site&lt;/font&gt;.  The mvn post-site goal succeeds with this patch.&lt;/p&gt;

&lt;p&gt;     &lt;font color=&quot;red&quot;&gt;-1 core tests&lt;/font&gt;.  The patch failed these unit tests:&lt;br/&gt;
                       org.apache.hadoop.hbase.master.TestDistributedLogSplitting&lt;/p&gt;

&lt;p&gt;Test results: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/15780//testReport/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/15780//testReport/&lt;/a&gt;&lt;br/&gt;
Release Findbugs (version 2.0.3) 	warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/15780//artifact/patchprocess/newFindbugsWarnings.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/15780//artifact/patchprocess/newFindbugsWarnings.html&lt;/a&gt;&lt;br/&gt;
Checkstyle Errors: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/15780//artifact/patchprocess/checkstyle-aggregate.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/15780//artifact/patchprocess/checkstyle-aggregate.html&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;  Console output: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/15780//console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/15780//console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;</comment>
                            <comment id="14910010" author="yuzhihong@gmail.com" created="Mon, 28 Sep 2015 03:58:58 +0000"  >&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
Failed tests: 
  TestDistributedLogSplitting.testDisallowWritesInRecovering:980 No RegionInRecoveryException. Following exceptions returned=[org.apache.hadoop.hbase.client.RetriesExhaustedException: Failed after attempts=3, exceptions:
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;The above test failure was not related to the patch.&lt;br/&gt;
TestDistributedLogSplitting doesn&apos;t involve different user identities.&lt;/p&gt;</comment>
                            <comment id="14934061" author="enis" created="Mon, 28 Sep 2015 21:22:18 +0000"  >&lt;blockquote&gt;&lt;p&gt;Ok we have positive and negative tests for split already. I thought we dont have as we were living with this defect. Because of the flush before split, the split was failing for non auth users and tests were passing. Ok fine if u have manually verified the audit log.&lt;/p&gt;&lt;/blockquote&gt;
&lt;p&gt;Then we should fix those tests. At least we should add a test case for &lt;tt&gt;CREATE&lt;/tt&gt; perms.  &lt;br/&gt;
What about testCompact()? How come it was not failing?  &lt;/p&gt;</comment>
                            <comment id="14934113" author="yuzhihong@gmail.com" created="Mon, 28 Sep 2015 21:43:42 +0000"  >&lt;p&gt;Discussed with Enis offline.&lt;/p&gt;

&lt;blockquote&gt;&lt;p&gt;we should add a test case for CREATE perms&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;We already do - see USER_CREATE on line 666:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
    verifyDenied(action, USER_CREATE, USER_RW, USER_RO, USER_NONE, USER_GROUP_READ,
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;w.r.t. compaction, we have:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
  &lt;span class=&quot;code-keyword&quot;&gt;public&lt;/span&gt; void testCompact() &lt;span class=&quot;code-keyword&quot;&gt;throws&lt;/span&gt; Exception {
    AccessTestAction action = &lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; AccessTestAction() {
      @Override
      &lt;span class=&quot;code-keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;code-object&quot;&gt;Object&lt;/span&gt; run() &lt;span class=&quot;code-keyword&quot;&gt;throws&lt;/span&gt; Exception {
        ACCESS_CONTROLLER.preCompact(ObserverContext.createAndPrepare(RCP_ENV, &lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt;), &lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt;, &lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt;,
          ScanType.COMPACT_RETAIN_DELETES);
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</comment>
                            <comment id="14935544" author="hadoopqa" created="Tue, 29 Sep 2015 18:04:45 +0000"  >&lt;p&gt;&lt;font color=&quot;red&quot;&gt;-1 overall&lt;/font&gt;.  Here are the results of testing the latest attachment &lt;br/&gt;
  &lt;a href=&quot;http://issues.apache.org/jira/secure/attachment/12764255/14475-0.98.txt&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://issues.apache.org/jira/secure/attachment/12764255/14475-0.98.txt&lt;/a&gt;&lt;br/&gt;
  against 0.98 branch at commit 37877e3f56b038c0821138862813e567390a9ff4.&lt;br/&gt;
  ATTACHMENT ID: 12764255&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 @author&lt;/font&gt;.  The patch does not contain any @author tags.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 tests included&lt;/font&gt;.  The patch appears to include 3 new or modified tests.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 hadoop versions&lt;/font&gt;. The patch compiles with all supported hadoop versions (2.4.0 2.4.1 2.5.0 2.5.1 2.5.2 2.6.0 2.6.1 2.7.0 2.7.1)&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 javac&lt;/font&gt;.  The applied patch does not increase the total number of javac compiler warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 protoc&lt;/font&gt;.  The applied patch does not increase the total number of protoc compiler warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;red&quot;&gt;-1 javadoc&lt;/font&gt;.  The javadoc tool appears to have generated 29 warning messages.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 checkstyle&lt;/font&gt;.  The applied patch does not increase the total number of checkstyle errors&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 findbugs&lt;/font&gt;.  The patch does not introduce any  new Findbugs (version 2.0.3) warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 release audit&lt;/font&gt;.  The applied patch does not increase the total number of release audit warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 lineLengths&lt;/font&gt;.  The patch does not introduce lines longer than 100&lt;/p&gt;

&lt;p&gt;  &lt;font color=&quot;green&quot;&gt;+1 site&lt;/font&gt;.  The mvn post-site goal succeeds with this patch.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 core tests&lt;/font&gt;.  The patch passed unit tests in .&lt;/p&gt;

&lt;p&gt;     &lt;font color=&quot;red&quot;&gt;-1 core zombie tests&lt;/font&gt;.  There are 1 zombie test(s): 	at org.apache.qpid.server.virtualhostnode.berkeleydb.BDBHAVirtualHostNodeOperationalLoggingTest.testRemoteNodeDetached(BDBHAVirtualHostNodeOperationalLoggingTest.java:291)&lt;br/&gt;
	at org.apache.qpid.test.utils.QpidTestCase.runTest(QpidTestCase.java:171)&lt;br/&gt;
	at org.apache.qpid.test.utils.QpidTestCase.run(QpidTestCase.java:156)&lt;/p&gt;

&lt;p&gt;Test results: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/15806//testReport/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/15806//testReport/&lt;/a&gt;&lt;br/&gt;
Release Findbugs (version 2.0.3) 	warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/15806//artifact/patchprocess/newFindbugsWarnings.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/15806//artifact/patchprocess/newFindbugsWarnings.html&lt;/a&gt;&lt;br/&gt;
Checkstyle Errors: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/15806//artifact/patchprocess/checkstyle-aggregate.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/15806//artifact/patchprocess/checkstyle-aggregate.html&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;  Javadoc warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/15806//artifact/patchprocess/patchJavadocWarnings.txt&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/15806//artifact/patchprocess/patchJavadocWarnings.txt&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/15806//console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/15806//console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;</comment>
                            <comment id="14935553" author="yuzhihong@gmail.com" created="Tue, 29 Sep 2015 18:09:22 +0000"  >&lt;p&gt;The tests for 0.98 passed.&lt;/p&gt;

&lt;p&gt;Don&apos;t know where the qpid tests came from.&lt;/p&gt;</comment>
                            <comment id="14940251" author="apurtell" created="Thu, 1 Oct 2015 19:07:51 +0000"  >&lt;p&gt;Committing shortly after making some local checks&lt;/p&gt;</comment>
                            <comment id="14940280" author="apurtell" created="Thu, 1 Oct 2015 19:33:09 +0000"  >&lt;p&gt;branch-1.0 needs its own patch. &lt;/p&gt;

&lt;p&gt;When porting back the branch-1 patch I needed to addRpcServer#getRequestUser to un-annotated server package interface RpcCallContext. Presumed private. We should add the missing annotation to all branches later. Implementation added to RpcServer.&lt;/p&gt;

&lt;p&gt;Proceeding.&lt;/p&gt;</comment>
                            <comment id="14940287" author="yuzhihong@gmail.com" created="Thu, 1 Oct 2015 19:36:48 +0000"  >&lt;p&gt;Andrew:&lt;br/&gt;
Thanks for backporting to branch-1.0&lt;/p&gt;</comment>
                            <comment id="14940507" author="hadoopqa" created="Thu, 1 Oct 2015 22:10:12 +0000"  >&lt;p&gt;&lt;font color=&quot;red&quot;&gt;-1 overall&lt;/font&gt;.  Here are the results of testing the latest attachment &lt;br/&gt;
  &lt;a href=&quot;http://issues.apache.org/jira/secure/attachment/12764668/HBASE-14475-branch-1.0.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://issues.apache.org/jira/secure/attachment/12764668/HBASE-14475-branch-1.0.patch&lt;/a&gt;&lt;br/&gt;
  against branch-1.0 branch at commit 4da3c935d4a84968df62bb7e49833ad48a20ed87.&lt;br/&gt;
  ATTACHMENT ID: 12764668&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 @author&lt;/font&gt;.  The patch does not contain any @author tags.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 tests included&lt;/font&gt;.  The patch appears to include 4 new or modified tests.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 hadoop versions&lt;/font&gt;. The patch compiles with all supported hadoop versions (2.4.0 2.4.1 2.5.0 2.5.1 2.5.2 2.6.0 2.6.1 2.7.0 2.7.1)&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 javac&lt;/font&gt;.  The applied patch does not increase the total number of javac compiler warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 protoc&lt;/font&gt;.  The applied patch does not increase the total number of protoc compiler warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 javadoc&lt;/font&gt;.  The javadoc tool did not generate any warning messages.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 checkstyle&lt;/font&gt;.  The applied patch does not increase the total number of checkstyle errors&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 findbugs&lt;/font&gt;.  The patch does not introduce any  new Findbugs (version 2.0.3) warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 release audit&lt;/font&gt;.  The applied patch does not increase the total number of release audit warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 lineLengths&lt;/font&gt;.  The patch does not introduce lines longer than 100&lt;/p&gt;

&lt;p&gt;  &lt;font color=&quot;green&quot;&gt;+1 site&lt;/font&gt;.  The mvn post-site goal succeeds with this patch.&lt;/p&gt;

&lt;p&gt;     &lt;font color=&quot;red&quot;&gt;-1 core tests&lt;/font&gt;.  The patch failed these unit tests:&lt;br/&gt;
                       org.apache.hadoop.hbase.master.TestDistributedLogSplitting&lt;/p&gt;

&lt;p&gt;Test results: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/15851//testReport/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/15851//testReport/&lt;/a&gt;&lt;br/&gt;
Release Findbugs (version 2.0.3) 	warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/15851//artifact/patchprocess/newFindbugsWarnings.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/15851//artifact/patchprocess/newFindbugsWarnings.html&lt;/a&gt;&lt;br/&gt;
Checkstyle Errors: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/15851//artifact/patchprocess/checkstyle-aggregate.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/15851//artifact/patchprocess/checkstyle-aggregate.html&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;  Console output: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/15851//console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/15851//console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;</comment>
                            <comment id="14940512" author="apurtell" created="Thu, 1 Oct 2015 22:13:30 +0000"  >&lt;p&gt;Pushed to 0.98 and up. All rpc and access controller tests pass on all branches. Checked the whole 0.98 suite, all good. &lt;/p&gt;</comment>
                            <comment id="14940547" author="yuzhihong@gmail.com" created="Thu, 1 Oct 2015 22:36:47 +0000"  >&lt;p&gt;Thanks, Andrew.&lt;/p&gt;

&lt;p&gt;Appreciate it.&lt;/p&gt;</comment>
                            <comment id="14940607" author="hudson" created="Thu, 1 Oct 2015 23:56:55 +0000"  >&lt;p&gt;FAILURE: Integrated in HBase-1.0 #1065 (See &lt;a href=&quot;https://builds.apache.org/job/HBase-1.0/1065/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/HBase-1.0/1065/&lt;/a&gt;)&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-14475&quot; title=&quot;Region split requests are always audited with &amp;quot;hbase&amp;quot; user rather than request user&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-14475&quot;&gt;&lt;del&gt;HBASE-14475&lt;/del&gt;&lt;/a&gt; Region split requests are always audited with hbase user (apurtell: rev fba3f60be88a97196c39cd4ffc0ad6edf5097940)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;hbase-server/src/main/java/org/apache/hadoop/hbase/regionserver/CompactionRequestor.java&lt;/li&gt;
	&lt;li&gt;hbase-server/src/main/java/org/apache/hadoop/hbase/ipc/RpcCallContext.java&lt;/li&gt;
	&lt;li&gt;hbase-server/src/main/java/org/apache/hadoop/hbase/regionserver/SplitRequest.java&lt;/li&gt;
	&lt;li&gt;hbase-server/src/test/java/org/apache/hadoop/hbase/regionserver/TestCompaction.java&lt;/li&gt;
	&lt;li&gt;hbase-server/src/main/java/org/apache/hadoop/hbase/regionserver/HRegionServer.java&lt;/li&gt;
	&lt;li&gt;hbase-server/src/main/java/org/apache/hadoop/hbase/ipc/RpcServer.java&lt;/li&gt;
	&lt;li&gt;hbase-server/src/main/java/org/apache/hadoop/hbase/regionserver/CompactSplitThread.java&lt;/li&gt;
	&lt;li&gt;hbase-server/src/main/java/org/apache/hadoop/hbase/regionserver/RSRpcServices.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="14940648" author="hudson" created="Fri, 2 Oct 2015 00:39:00 +0000"  >&lt;p&gt;SUCCESS: Integrated in HBase-1.1 #688 (See &lt;a href=&quot;https://builds.apache.org/job/HBase-1.1/688/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/HBase-1.1/688/&lt;/a&gt;)&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-14475&quot; title=&quot;Region split requests are always audited with &amp;quot;hbase&amp;quot; user rather than request user&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-14475&quot;&gt;&lt;del&gt;HBASE-14475&lt;/del&gt;&lt;/a&gt; Region split requests are always audited with hbase user (apurtell: rev 7654fcd6fa65ac184299875e20adb3c3d14a7d42)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;hbase-server/src/main/java/org/apache/hadoop/hbase/regionserver/SplitRequest.java&lt;/li&gt;
	&lt;li&gt;hbase-server/src/test/java/org/apache/hadoop/hbase/regionserver/TestCompaction.java&lt;/li&gt;
	&lt;li&gt;hbase-server/src/main/java/org/apache/hadoop/hbase/regionserver/CompactSplitThread.java&lt;/li&gt;
	&lt;li&gt;hbase-server/src/main/java/org/apache/hadoop/hbase/regionserver/HRegionServer.java&lt;/li&gt;
	&lt;li&gt;hbase-server/src/main/java/org/apache/hadoop/hbase/regionserver/CompactionRequestor.java&lt;/li&gt;
	&lt;li&gt;hbase-server/src/main/java/org/apache/hadoop/hbase/regionserver/RSRpcServices.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="14940658" author="hudson" created="Fri, 2 Oct 2015 00:56:11 +0000"  >&lt;p&gt;FAILURE: Integrated in HBase-1.2 #217 (See &lt;a href=&quot;https://builds.apache.org/job/HBase-1.2/217/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/HBase-1.2/217/&lt;/a&gt;)&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-14475&quot; title=&quot;Region split requests are always audited with &amp;quot;hbase&amp;quot; user rather than request user&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-14475&quot;&gt;&lt;del&gt;HBASE-14475&lt;/del&gt;&lt;/a&gt; Region split requests are always audited with hbase user (apurtell: rev 528a56b4012c896d4285796b397013a3aef09491)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;hbase-server/src/main/java/org/apache/hadoop/hbase/regionserver/SplitRequest.java&lt;/li&gt;
	&lt;li&gt;hbase-server/src/test/java/org/apache/hadoop/hbase/regionserver/TestCompaction.java&lt;/li&gt;
	&lt;li&gt;hbase-server/src/main/java/org/apache/hadoop/hbase/regionserver/HRegionServer.java&lt;/li&gt;
	&lt;li&gt;hbase-server/src/main/java/org/apache/hadoop/hbase/regionserver/CompactSplitThread.java&lt;/li&gt;
	&lt;li&gt;hbase-server/src/main/java/org/apache/hadoop/hbase/regionserver/RSRpcServices.java&lt;/li&gt;
	&lt;li&gt;hbase-server/src/main/java/org/apache/hadoop/hbase/regionserver/CompactionRequestor.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="14940659" author="hudson" created="Fri, 2 Oct 2015 00:56:20 +0000"  >&lt;p&gt;FAILURE: Integrated in HBase-1.2-IT #182 (See &lt;a href=&quot;https://builds.apache.org/job/HBase-1.2-IT/182/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/HBase-1.2-IT/182/&lt;/a&gt;)&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-14475&quot; title=&quot;Region split requests are always audited with &amp;quot;hbase&amp;quot; user rather than request user&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-14475&quot;&gt;&lt;del&gt;HBASE-14475&lt;/del&gt;&lt;/a&gt; Region split requests are always audited with hbase user (apurtell: rev 528a56b4012c896d4285796b397013a3aef09491)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;hbase-server/src/main/java/org/apache/hadoop/hbase/regionserver/CompactSplitThread.java&lt;/li&gt;
	&lt;li&gt;hbase-server/src/main/java/org/apache/hadoop/hbase/regionserver/RSRpcServices.java&lt;/li&gt;
	&lt;li&gt;hbase-server/src/main/java/org/apache/hadoop/hbase/regionserver/CompactionRequestor.java&lt;/li&gt;
	&lt;li&gt;hbase-server/src/main/java/org/apache/hadoop/hbase/regionserver/HRegionServer.java&lt;/li&gt;
	&lt;li&gt;hbase-server/src/test/java/org/apache/hadoop/hbase/regionserver/TestCompaction.java&lt;/li&gt;
	&lt;li&gt;hbase-server/src/main/java/org/apache/hadoop/hbase/regionserver/SplitRequest.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="14940666" author="hudson" created="Fri, 2 Oct 2015 01:11:40 +0000"  >&lt;p&gt;SUCCESS: Integrated in HBase-1.3-IT #199 (See &lt;a href=&quot;https://builds.apache.org/job/HBase-1.3-IT/199/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/HBase-1.3-IT/199/&lt;/a&gt;)&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-14475&quot; title=&quot;Region split requests are always audited with &amp;quot;hbase&amp;quot; user rather than request user&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-14475&quot;&gt;&lt;del&gt;HBASE-14475&lt;/del&gt;&lt;/a&gt; Region split requests are always audited with hbase user (apurtell: rev 7aaef0f9208654acbb352804ee823337417e6488)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;hbase-server/src/test/java/org/apache/hadoop/hbase/regionserver/TestCompaction.java&lt;/li&gt;
	&lt;li&gt;hbase-server/src/main/java/org/apache/hadoop/hbase/regionserver/HRegionServer.java&lt;/li&gt;
	&lt;li&gt;hbase-server/src/main/java/org/apache/hadoop/hbase/regionserver/CompactionRequestor.java&lt;/li&gt;
	&lt;li&gt;hbase-server/src/main/java/org/apache/hadoop/hbase/regionserver/CompactSplitThread.java&lt;/li&gt;
	&lt;li&gt;hbase-server/src/main/java/org/apache/hadoop/hbase/regionserver/RSRpcServices.java&lt;/li&gt;
	&lt;li&gt;hbase-server/src/main/java/org/apache/hadoop/hbase/regionserver/SplitRequest.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="14940697" author="hudson" created="Fri, 2 Oct 2015 01:51:17 +0000"  >&lt;p&gt;FAILURE: Integrated in HBase-1.3 #224 (See &lt;a href=&quot;https://builds.apache.org/job/HBase-1.3/224/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/HBase-1.3/224/&lt;/a&gt;)&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-14475&quot; title=&quot;Region split requests are always audited with &amp;quot;hbase&amp;quot; user rather than request user&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-14475&quot;&gt;&lt;del&gt;HBASE-14475&lt;/del&gt;&lt;/a&gt; Region split requests are always audited with hbase user (apurtell: rev 7aaef0f9208654acbb352804ee823337417e6488)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;hbase-server/src/main/java/org/apache/hadoop/hbase/regionserver/CompactionRequestor.java&lt;/li&gt;
	&lt;li&gt;hbase-server/src/main/java/org/apache/hadoop/hbase/regionserver/HRegionServer.java&lt;/li&gt;
	&lt;li&gt;hbase-server/src/main/java/org/apache/hadoop/hbase/regionserver/CompactSplitThread.java&lt;/li&gt;
	&lt;li&gt;hbase-server/src/test/java/org/apache/hadoop/hbase/regionserver/TestCompaction.java&lt;/li&gt;
	&lt;li&gt;hbase-server/src/main/java/org/apache/hadoop/hbase/regionserver/SplitRequest.java&lt;/li&gt;
	&lt;li&gt;hbase-server/src/main/java/org/apache/hadoop/hbase/regionserver/RSRpcServices.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="14940699" author="hudson" created="Fri, 2 Oct 2015 01:57:46 +0000"  >&lt;p&gt;FAILURE: Integrated in HBase-0.98 #1137 (See &lt;a href=&quot;https://builds.apache.org/job/HBase-0.98/1137/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/HBase-0.98/1137/&lt;/a&gt;)&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-14475&quot; title=&quot;Region split requests are always audited with &amp;quot;hbase&amp;quot; user rather than request user&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-14475&quot;&gt;&lt;del&gt;HBASE-14475&lt;/del&gt;&lt;/a&gt; Region split requests are always audited with hbase user (apurtell: rev 1ae5c0450bd84e3e593e3451e2642c5ba03369ee)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;hbase-server/src/test/java/org/apache/hadoop/hbase/regionserver/TestCompaction.java&lt;/li&gt;
	&lt;li&gt;hbase-server/src/main/java/org/apache/hadoop/hbase/regionserver/CompactionRequestor.java&lt;/li&gt;
	&lt;li&gt;hbase-server/src/main/java/org/apache/hadoop/hbase/regionserver/HRegionServer.java&lt;/li&gt;
	&lt;li&gt;hbase-server/src/main/java/org/apache/hadoop/hbase/regionserver/SplitRequest.java&lt;/li&gt;
	&lt;li&gt;hbase-server/src/main/java/org/apache/hadoop/hbase/regionserver/CompactSplitThread.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="14940703" author="hudson" created="Fri, 2 Oct 2015 02:03:03 +0000"  >&lt;p&gt;FAILURE: Integrated in HBase-TRUNK #6863 (See &lt;a href=&quot;https://builds.apache.org/job/HBase-TRUNK/6863/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/HBase-TRUNK/6863/&lt;/a&gt;)&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-14475&quot; title=&quot;Region split requests are always audited with &amp;quot;hbase&amp;quot; user rather than request user&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-14475&quot;&gt;&lt;del&gt;HBASE-14475&lt;/del&gt;&lt;/a&gt; Region split requests are always audited with hbase user (apurtell: rev ef7001c0e87ff646f416c21227c7d5a0934820f7)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;hbase-server/src/main/java/org/apache/hadoop/hbase/regionserver/SplitRequest.java&lt;/li&gt;
	&lt;li&gt;hbase-server/src/main/java/org/apache/hadoop/hbase/regionserver/RSRpcServices.java&lt;/li&gt;
	&lt;li&gt;hbase-server/src/main/java/org/apache/hadoop/hbase/regionserver/CompactSplitThread.java&lt;/li&gt;
	&lt;li&gt;hbase-server/src/test/java/org/apache/hadoop/hbase/regionserver/TestCompaction.java&lt;/li&gt;
	&lt;li&gt;hbase-server/src/main/java/org/apache/hadoop/hbase/regionserver/HRegionServer.java&lt;/li&gt;
	&lt;li&gt;hbase-server/src/main/java/org/apache/hadoop/hbase/regionserver/CompactionRequestor.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="14940706" author="hudson" created="Fri, 2 Oct 2015 02:08:25 +0000"  >&lt;p&gt;FAILURE: Integrated in HBase-0.98-on-Hadoop-1.1 #1090 (See &lt;a href=&quot;https://builds.apache.org/job/HBase-0.98-on-Hadoop-1.1/1090/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/HBase-0.98-on-Hadoop-1.1/1090/&lt;/a&gt;)&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-14475&quot; title=&quot;Region split requests are always audited with &amp;quot;hbase&amp;quot; user rather than request user&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-14475&quot;&gt;&lt;del&gt;HBASE-14475&lt;/del&gt;&lt;/a&gt; Region split requests are always audited with hbase user (apurtell: rev 1ae5c0450bd84e3e593e3451e2642c5ba03369ee)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;hbase-server/src/main/java/org/apache/hadoop/hbase/regionserver/SplitRequest.java&lt;/li&gt;
	&lt;li&gt;hbase-server/src/main/java/org/apache/hadoop/hbase/regionserver/CompactionRequestor.java&lt;/li&gt;
	&lt;li&gt;hbase-server/src/test/java/org/apache/hadoop/hbase/regionserver/TestCompaction.java&lt;/li&gt;
	&lt;li&gt;hbase-server/src/main/java/org/apache/hadoop/hbase/regionserver/HRegionServer.java&lt;/li&gt;
	&lt;li&gt;hbase-server/src/main/java/org/apache/hadoop/hbase/regionserver/CompactSplitThread.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="14941967" author="stack" created="Fri, 2 Oct 2015 23:47:07 +0000"  >&lt;p&gt;Seems to have broken TestMasterFailover.&lt;/p&gt;

&lt;p&gt;&lt;span class=&quot;error&quot;&gt;&amp;#91;ERROR&amp;#93;&lt;/span&gt; After correcting the problems, you can resume the build with the command&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;ERROR&amp;#93;&lt;/span&gt;   mvn &amp;lt;goals&amp;gt; -rf :hbase-server&lt;br/&gt;
7aaef0f9208654acbb352804ee823337417e6488 is the first bad commit&lt;br/&gt;
commit 7aaef0f9208654acbb352804ee823337417e6488&lt;br/&gt;
Author: Andrew Purtell &amp;lt;apurtell@apache.org&amp;gt;&lt;br/&gt;
Date:   Thu Oct 1 12:09:13 2015 -0700&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-14475&quot; title=&quot;Region split requests are always audited with &amp;quot;hbase&amp;quot; user rather than request user&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-14475&quot;&gt;&lt;del&gt;HBASE-14475&lt;/del&gt;&lt;/a&gt; Region split requests are always audited with hbase user rather than request user (Ted Yu)&lt;/p&gt;

&lt;p&gt;:040000 040000 3f4a4707f472f34d6cbfcb29c0a8c93d64328a17 a22025f35cc6419ac9b61659df38445ff561a561 M	hbase-server&lt;br/&gt;
bisect run success&lt;/p&gt;

&lt;p&gt;Here is my little script:&lt;/p&gt;

&lt;p&gt;#!/bin/sh&lt;br/&gt;
mvn clean &amp;amp;&amp;amp; mvn install -DskipTests &amp;amp;&amp;amp; mvn test -Dtest=TestMasterFailover&lt;/p&gt;

&lt;p&gt;Fixing over in &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-14545&quot; title=&quot;TestMasterFailover often times out&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-14545&quot;&gt;&lt;del&gt;HBASE-14545&lt;/del&gt;&lt;/a&gt;. Looking at patch, not sure how... but when I remove this, TestMasterFailover no longer times out.&lt;/p&gt;

</comment>
                            <comment id="14941972" author="stack" created="Fri, 2 Oct 2015 23:54:59 +0000"  >&lt;p&gt;Ignore above. Just tried again without this patch in place and it still fails. It must be intermittent.&lt;/p&gt;</comment>
                            <comment id="15119471" author="ndimiduk" created="Wed, 27 Jan 2016 15:28:28 +0000"  >&lt;p&gt;Bulk closing 1.1.3 issues.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12764255" name="14475-0.98.txt" size="17869" author="yuzhihong@gmail.com" created="Tue, 29 Sep 2015 14:52:52 +0000"/>
                            <attachment id="12762408" name="14475-branch-1-v2.txt" size="18396" author="yuzhihong@gmail.com" created="Fri, 25 Sep 2015 17:06:16 +0000"/>
                            <attachment id="12762627" name="14475-branch-1-v3.txt" size="18423" author="yuzhihong@gmail.com" created="Mon, 28 Sep 2015 01:12:25 +0000"/>
                            <attachment id="12762293" name="14475-v2.txt" size="18328" author="yuzhihong@gmail.com" created="Fri, 25 Sep 2015 01:27:36 +0000"/>
                            <attachment id="12762465" name="14475-v3.txt" size="18355" author="yuzhihong@gmail.com" created="Fri, 25 Sep 2015 21:51:09 +0000"/>
                            <attachment id="12762427" name="14475-v3.txt" size="18355" author="yuzhihong@gmail.com" created="Fri, 25 Sep 2015 18:22:19 +0000"/>
                            <attachment id="12764668" name="HBASE-14475-branch-1.0.patch" size="22979" author="apurtell" created="Thu, 1 Oct 2015 19:33:09 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>7.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Thu, 24 Sep 2015 03:13:16 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310191" key="com.atlassian.jira.plugin.system.customfieldtypes:multicheckboxes">
                        <customfieldname>Hadoop Flags</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10343"><![CDATA[Reviewed]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            44 weeks, 1 day ago
                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i2lhr3:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310192" key="com.atlassian.jira.plugin.system.customfieldtypes:textarea">
                        <customfieldname>Release Note</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Region observer notifications w.r.t. split request are now audited with request user through proper scope of doAs() calls.</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                    <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        </customfields>
    </item>
</channel>
</rss>