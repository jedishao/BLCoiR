<!-- 
RSS generated by JIRA (6.3.4#6332-sha1:51bc225ef474afe3128b2f66878477f322397b16) at Sat Dec 03 16:53:07 UTC 2016

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary add field=key&field=summary to the URL of your request.
For example:
https://issues.apache.org/jira/si/jira.issueviews:issue-xml/HBASE-8044/HBASE-8044.xml?field=key&amp;field=summary
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>6.3.4</version>
        <build-number>6332</build-number>
        <build-date>15-08-2014</build-date>
    </build-info>

<item>
            <title>[HBASE-8044] split/flush/compact/major_compact from hbase shell does not work for region key with \x format</title>
                <link>https://issues.apache.org/jira/browse/HBASE-8044</link>
                <project id="12310753" key="HBASE">HBase</project>
                    <description>&lt;p&gt;the conversion between bytes and string is incorrect&lt;/p&gt;</description>
                <environment></environment>
        <key id="12636097">HBASE-8044</key>
            <summary>split/flush/compact/major_compact from hbase shell does not work for region key with \x format</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/bug.png">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.png">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="3">Duplicate</resolution>
                                        <assignee username="tychang">Tianying Chang</assignee>
                                    <reporter username="tychang">Tianying Chang</reporter>
                        <labels>
                    </labels>
                <created>Fri, 8 Mar 2013 18:51:48 +0000</created>
                <updated>Sat, 27 Apr 2013 15:55:13 +0000</updated>
                            <resolved>Fri, 15 Mar 2013 16:47:25 +0000</resolved>
                                    <version>0.94.5</version>
                                    <fixVersion>0.98.0</fixVersion>
                    <fixVersion>0.94.7</fixVersion>
                    <fixVersion>0.95.0</fixVersion>
                                    <component>Admin</component>
                        <due>Fri, 15 Mar 2013 00:00:00 +0000</due>
                            <votes>0</votes>
                                    <watches>11</watches>
                                                                <comments>
                            <comment id="13597399" author="tychang" created="Fri, 8 Mar 2013 18:59:14 +0000"  >&lt;p&gt;I found this problem in 0.92 mid last year, and fixed it internally. Now is putting the change into 0.94&lt;/p&gt;</comment>
                            <comment id="13597806" author="hadoopqa" created="Sat, 9 Mar 2013 02:13:41 +0000"  >&lt;p&gt;&lt;font color=&quot;red&quot;&gt;-1 overall&lt;/font&gt;.  Here are the results of testing the latest attachment &lt;br/&gt;
  &lt;a href=&quot;http://issues.apache.org/jira/secure/attachment/12572872/8044.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://issues.apache.org/jira/secure/attachment/12572872/8044.patch&lt;/a&gt;&lt;br/&gt;
  against trunk revision .&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 @author&lt;/font&gt;.  The patch does not contain any @author tags.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;red&quot;&gt;-1 tests included&lt;/font&gt;.  The patch doesn&apos;t appear to include any new or modified tests.&lt;br/&gt;
                        Please justify why no new tests are needed for this patch.&lt;br/&gt;
                        Also please list what manual steps were performed to verify this patch.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;red&quot;&gt;-1 patch&lt;/font&gt;.  The patch command could not apply the patch.&lt;/p&gt;

&lt;p&gt;Console output: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/4739//console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/4739//console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;</comment>
                            <comment id="13597815" author="yuzhihong@gmail.com" created="Sat, 9 Mar 2013 02:29:41 +0000"  >&lt;p&gt;Can you attach patch for trunk ?&lt;/p&gt;

&lt;p&gt;Thanks&lt;/p&gt;</comment>
                            <comment id="13599124" author="jeffreyz" created="Mon, 11 Mar 2013 18:43:57 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=tychang&quot; class=&quot;user-hover&quot; rel=&quot;tychang&quot;&gt;Tianying Chang&lt;/a&gt; I&apos;m wondering in what scenarios you&apos;ve seen the issue? Thanks.&lt;/p&gt;</comment>
                            <comment id="13599135" author="tychang" created="Mon, 11 Mar 2013 18:55:25 +0000"  >&lt;p&gt;for a region name with \x, for example, cmtsdbv2,\x00\x00\x04P]\xEE\x90\x00\x00\x01\x00\x15X\x00\x00\x02\x00\x00\x02\x00\x00\x03\x00\x15\xE3\x00\x00\x04\x00\x15Z\x00\x00\x05\x00\x15&lt;span class=&quot;error&quot;&gt;&amp;#91;\x00\x00\x06\x00\x15\xE4\x00\x00\x07\x00\x15&amp;#93;&lt;/span&gt;\x00\x00\x08\x00\x15\x93\x00\x00\x09\x00\x15\xE5\x00\x00\x0A\x00\x02\xD0,1358267261306.bcec1e1fbeb66de6d02b5ee0b671b1b1.&lt;/p&gt;</comment>
                            <comment id="13599152" author="jeffreyz" created="Mon, 11 Mar 2013 19:17:05 +0000"  >&lt;p&gt;I c. Thanks. Will closeRegion and getCompactionState have the same issue?&lt;/p&gt;</comment>
                            <comment id="13599174" author="hadoopqa" created="Mon, 11 Mar 2013 19:36:01 +0000"  >&lt;p&gt;&lt;font color=&quot;red&quot;&gt;-1 overall&lt;/font&gt;.  Here are the results of testing the latest attachment &lt;br/&gt;
  &lt;a href=&quot;http://issues.apache.org/jira/secure/attachment/12573133/8044-trunk.txt&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://issues.apache.org/jira/secure/attachment/12573133/8044-trunk.txt&lt;/a&gt;&lt;br/&gt;
  against trunk revision .&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 @author&lt;/font&gt;.  The patch does not contain any @author tags.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;red&quot;&gt;-1 tests included&lt;/font&gt;.  The patch doesn&apos;t appear to include any new or modified tests.&lt;br/&gt;
                        Please justify why no new tests are needed for this patch.&lt;br/&gt;
                        Also please list what manual steps were performed to verify this patch.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 hadoop2.0&lt;/font&gt;.  The patch compiles against the hadoop 2.0 profile.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 javadoc&lt;/font&gt;.  The javadoc tool did not generate any warning messages.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 javac&lt;/font&gt;.  The applied patch does not increase the total number of javac compiler warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 findbugs&lt;/font&gt;.  The patch does not introduce any new Findbugs (version 1.3.9) warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 release audit&lt;/font&gt;.  The applied patch does not increase the total number of release audit warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 lineLengths&lt;/font&gt;.  The patch does not introduce lines longer than 100&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;red&quot;&gt;-1 site&lt;/font&gt;.  The patch appears to cause mvn site goal to fail.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 core tests&lt;/font&gt;.  The patch passed unit tests in .&lt;/p&gt;

&lt;p&gt;Test results: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/4757//testReport/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/4757//testReport/&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/4757//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-protocol.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/4757//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-protocol.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/4757//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-client.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/4757//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-client.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/4757//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-examples.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/4757//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-examples.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/4757//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-hadoop1-compat.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/4757//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-hadoop1-compat.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/4757//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-prefix-tree.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/4757//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-prefix-tree.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/4757//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-common.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/4757//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-common.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/4757//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-server.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/4757//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-server.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/4757//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-hadoop-compat.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/4757//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-hadoop-compat.html&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/4757//console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/4757//console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;</comment>
                            <comment id="13599239" author="yuzhihong@gmail.com" created="Mon, 11 Mar 2013 20:33:10 +0000"  >&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
$ find . -name &apos;*.rb&apos; -exec grep &apos;\.closeRegion&apos; {} \; -print
      	@admin.closeRegion(region_name, server)
       @admin.closeRegionWithEncodedRegionName(region_name, server)
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;getCompactionState is not called in Ruby scripts as far as I can tell.&lt;/p&gt;</comment>
                            <comment id="13599268" author="yuzhihong@gmail.com" created="Mon, 11 Mar 2013 20:47:24 +0000"  >&lt;p&gt;Patch v2 covers closeRegion()&lt;br/&gt;
closeRegionWithEncodedRegionName() passes hash of region name. So should be fine as of now.&lt;/p&gt;</comment>
                            <comment id="13599301" author="tychang" created="Mon, 11 Mar 2013 21:06:38 +0000"  >&lt;p&gt;yes, closeRegion is also called through hbase shell. So we can add similar fix for this function. I never invoked close_region through hbase shell in my environment though. &lt;br/&gt;
@Jeffery zhong, Do you know a valid user case where we use close_region for a given region in hbase shell? How can that closed region be re-opened again through hbase shell, by enable_table?  &lt;/p&gt;</comment>
                            <comment id="13599327" author="tychang" created="Mon, 11 Mar 2013 21:23:22 +0000"  >&lt;p&gt;OK, based on the comments,  using assign can reopen this closed region. &lt;/p&gt;</comment>
                            <comment id="13599364" author="hadoopqa" created="Mon, 11 Mar 2013 21:49:30 +0000"  >&lt;p&gt;&lt;font color=&quot;red&quot;&gt;-1 overall&lt;/font&gt;.  Here are the results of testing the latest attachment &lt;br/&gt;
  &lt;a href=&quot;http://issues.apache.org/jira/secure/attachment/12573170/8044-trunk-v2.txt&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://issues.apache.org/jira/secure/attachment/12573170/8044-trunk-v2.txt&lt;/a&gt;&lt;br/&gt;
  against trunk revision .&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 @author&lt;/font&gt;.  The patch does not contain any @author tags.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;red&quot;&gt;-1 tests included&lt;/font&gt;.  The patch doesn&apos;t appear to include any new or modified tests.&lt;br/&gt;
                        Please justify why no new tests are needed for this patch.&lt;br/&gt;
                        Also please list what manual steps were performed to verify this patch.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 hadoop2.0&lt;/font&gt;.  The patch compiles against the hadoop 2.0 profile.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 javadoc&lt;/font&gt;.  The javadoc tool did not generate any warning messages.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 javac&lt;/font&gt;.  The applied patch does not increase the total number of javac compiler warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 findbugs&lt;/font&gt;.  The patch does not introduce any new Findbugs (version 1.3.9) warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 release audit&lt;/font&gt;.  The applied patch does not increase the total number of release audit warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 lineLengths&lt;/font&gt;.  The patch does not introduce lines longer than 100&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;red&quot;&gt;-1 site&lt;/font&gt;.  The patch appears to cause mvn site goal to fail.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 core tests&lt;/font&gt;.  The patch passed unit tests in .&lt;/p&gt;

&lt;p&gt;Test results: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/4762//testReport/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/4762//testReport/&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/4762//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-prefix-tree.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/4762//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-prefix-tree.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/4762//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-client.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/4762//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-client.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/4762//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-common.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/4762//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-common.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/4762//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-protocol.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/4762//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-protocol.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/4762//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-server.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/4762//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-server.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/4762//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-hadoop1-compat.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/4762//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-hadoop1-compat.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/4762//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-examples.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/4762//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-examples.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/4762//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-hadoop-compat.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/4762//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-hadoop-compat.html&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/4762//console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/4762//console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;</comment>
                            <comment id="13599367" author="jeffreyz" created="Mon, 11 Mar 2013 21:52:55 +0000"  >&lt;p&gt;+1 from me on v2 version to check in.&lt;/p&gt;</comment>
                            <comment id="13599394" author="yuzhihong@gmail.com" created="Mon, 11 Mar 2013 22:12:53 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=lhofhansl&quot; class=&quot;user-hover&quot; rel=&quot;lhofhansl&quot;&gt;Lars Hofhansl&lt;/a&gt;:&lt;br/&gt;
Is it Okay for the fix to go into 0.94 ?&lt;/p&gt;

&lt;p&gt;Thanks&lt;/p&gt;</comment>
                            <comment id="13599437" author="yuzhihong@gmail.com" created="Mon, 11 Mar 2013 22:57:28 +0000"  >&lt;p&gt;Integrated to 0.95 and trunk.&lt;/p&gt;

&lt;p&gt;Thanks for the patch, Tianying.&lt;/p&gt;

&lt;p&gt;Thanks for the review, Jeff.&lt;/p&gt;</comment>
                            <comment id="13599450" author="lhofhansl" created="Mon, 11 Mar 2013 23:09:12 +0000"  >&lt;p&gt;So this makes sense with strings passed from the shell.&lt;br/&gt;
But here we&apos;re changing the HBaseAdmin interface. What if we pass regions name that happen to include \x? Now we always have to encode before we call these HBaseAdmin methods.&lt;/p&gt;</comment>
                            <comment id="13599509" author="hudson" created="Tue, 12 Mar 2013 00:01:31 +0000"  >&lt;p&gt;Integrated in HBase-TRUNK #3946 (See &lt;a href=&quot;https://builds.apache.org/job/HBase-TRUNK/3946/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/HBase-TRUNK/3946/&lt;/a&gt;)&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-8044&quot; title=&quot;split/flush/compact/major_compact from hbase shell does not work for region key with \x format&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-8044&quot;&gt;&lt;del&gt;HBASE-8044&lt;/del&gt;&lt;/a&gt; split/flush/compact/major_compact from hbase shell does not work for region key with \x format (Tianying) (Revision 1455355)&lt;/p&gt;

&lt;p&gt;     Result = FAILURE&lt;br/&gt;
tedyu : &lt;br/&gt;
Files : &lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hbase/trunk/hbase-client/src/main/java/org/apache/hadoop/hbase/client/HBaseAdmin.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13599528" author="tychang" created="Tue, 12 Mar 2013 00:26:57 +0000"  >&lt;p&gt;@Lars, The regionName I passed to the hbase shell command is usually by copying directly from the HBase WebUI, which is print out with toStringBinary. So, it seems only by calling toBytesBinary I can convert the string format back to the real byte, and find the right region.  &lt;/p&gt;

&lt;p&gt;Do you know how can I retrieve the regionName of the real byte format? If I can obtain the byte format of the region name, I can try to use &quot;regionName-byte&quot; on hbase shell, see if that works. &lt;/p&gt;

&lt;p&gt;Thanks&lt;/p&gt;</comment>
                            <comment id="13599557" author="jeffreyz" created="Tue, 12 Mar 2013 01:19:50 +0000"  >
&lt;p&gt;Because region name by nature can contain non-printable chars, we need a way to allow user to pass a string to support some encoding scheme as the toBytesBinary we&apos;re using. I think it&apos;s a good thing for the future. If a user wants literally a region name like &quot;\x01&quot;, a user still able to do it by escaping the char &quot;\&quot; with &quot;\x5C&quot;.&lt;/p&gt;

&lt;p&gt;The change will break the existing expectation which we need to document in release notes if we want the fix in the 0.94 branch. We may need to document this for 0.96 as well.&lt;/p&gt;
</comment>
                            <comment id="13599572" author="hudson" created="Tue, 12 Mar 2013 01:31:45 +0000"  >&lt;p&gt;Integrated in HBase-TRUNK-on-Hadoop-2.0.0 #441 (See &lt;a href=&quot;https://builds.apache.org/job/HBase-TRUNK-on-Hadoop-2.0.0/441/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/HBase-TRUNK-on-Hadoop-2.0.0/441/&lt;/a&gt;)&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-8044&quot; title=&quot;split/flush/compact/major_compact from hbase shell does not work for region key with \x format&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-8044&quot;&gt;&lt;del&gt;HBASE-8044&lt;/del&gt;&lt;/a&gt; split/flush/compact/major_compact from hbase shell does not work for region key with \x format (Tianying) (Revision 1455355)&lt;/p&gt;

&lt;p&gt;     Result = FAILURE&lt;br/&gt;
tedyu : &lt;br/&gt;
Files : &lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hbase/trunk/hbase-client/src/main/java/org/apache/hadoop/hbase/client/HBaseAdmin.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13599600" author="hudson" created="Tue, 12 Mar 2013 02:01:23 +0000"  >&lt;p&gt;Integrated in hbase-0.95-on-hadoop2 #21 (See &lt;a href=&quot;https://builds.apache.org/job/hbase-0.95-on-hadoop2/21/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/hbase-0.95-on-hadoop2/21/&lt;/a&gt;)&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-8044&quot; title=&quot;split/flush/compact/major_compact from hbase shell does not work for region key with \x format&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-8044&quot;&gt;&lt;del&gt;HBASE-8044&lt;/del&gt;&lt;/a&gt; split/flush/compact/major_compact from hbase shell does not work for region key with \x format (Tianying) (Revision 1455356)&lt;/p&gt;

&lt;p&gt;     Result = FAILURE&lt;br/&gt;
tedyu : &lt;br/&gt;
Files : &lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hbase/branches/0.95/hbase-client/src/main/java/org/apache/hadoop/hbase/client/HBaseAdmin.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13599741" author="tychang" created="Tue, 12 Mar 2013 06:03:21 +0000"  >&lt;p&gt;@jeffery zhong, What is the expectation? Do you mean HBase shell command should not support the HBase WebUI format for regionName with non-printable chars?&lt;/p&gt;

&lt;p&gt;HBASE use toStringBinary to convert the non-printable chars to the current format when the regionName is displayed on the WebUI, that is why you see the \x00\x05. If the regionName itself is \0x05, it will not be dispalyed as \0x05, due to the funtion of toStirngBinary. So as long as you use the regionName shown on the WebUI, this has to be converted back to bytes using toBytesBinary(). Without this change, we cannot invoke this list of hbase shell command for a regionName that contains non-printable chars. Our production cluster is using this feature in 92.  &lt;/p&gt;</comment>
                            <comment id="13600194" author="jeffreyz" created="Tue, 12 Mar 2013 17:05:18 +0000"  >&lt;blockquote&gt;
&lt;p&gt;What is the expectation?&lt;/p&gt;&lt;/blockquote&gt;
&lt;p&gt;I mean if a user use &quot;\x00&quot; literally as a region name before the bug fix already. After the fix, that will break.&lt;/p&gt;</comment>
                            <comment id="13600579" author="tychang" created="Tue, 12 Mar 2013 22:43:43 +0000"  >&lt;p&gt;@Jeffery Zhong. This case you listed won&apos;t be an issue if this bug &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-6991&quot; title=&quot;Escape &amp;quot;\&amp;quot; in Bytes.toStringBinary() and its counterpart Bytes.toBytesBinary()&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-6991&quot;&gt;&lt;del&gt;HBASE-6991&lt;/del&gt;&lt;/a&gt; has been fixed in 94. With this fix, string and byte[] will be 1-to-1 mapping. The &quot;literally&quot; \x00 will not be displayed as &quot;\x00&quot; on WebUI, therefore won&apos;t break any expectation. I have created a jira &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-8085&quot; title=&quot;Backport the fix for Bytes.toStringBinary() into 94 (HBASE-6991)&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-8085&quot;&gt;&lt;del&gt;HBASE-8085&lt;/del&gt;&lt;/a&gt; for the backport.  &lt;/p&gt;</comment>
                            <comment id="13602395" author="tychang" created="Thu, 14 Mar 2013 16:26:27 +0000"  >&lt;p&gt;hi, &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-8085&quot; title=&quot;Backport the fix for Bytes.toStringBinary() into 94 (HBASE-6991)&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-8085&quot;&gt;&lt;del&gt;HBASE-8085&lt;/del&gt;&lt;/a&gt; has been committed. Can we commit this one into 94 also? &lt;/p&gt;

&lt;p&gt;Thanks&lt;/p&gt;</comment>
                            <comment id="13602418" author="lhofhansl" created="Thu, 14 Mar 2013 16:47:20 +0000"  >&lt;p&gt;I am still not sure this is right. If there&apos;s a problem with string parsing/escaping/etc in the shell it should be fixed there, not in the Java API that can deal with bytes.&lt;/p&gt;

&lt;p&gt;In fact, I think we should revert this from 0.95 and 0.98.&lt;/p&gt;</comment>
                            <comment id="13602521" author="stack" created="Thu, 14 Mar 2013 18:11:13 +0000"  >&lt;p&gt;Doesn&apos;t the shell handle this escaping for you?  If you double-quote, jruby will escape properly?  Single quoting it will not do the escaping.&lt;/p&gt;

&lt;p&gt;I don&apos;t think right either.  Isn&apos;t this a shell issue, not a problem with how we add the bytes to hbase.  Agree with &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=lhofhansl&quot; class=&quot;user-hover&quot; rel=&quot;lhofhansl&quot;&gt;Lars Hofhansl&lt;/a&gt; that it should be backed out.&lt;/p&gt;</comment>
                            <comment id="13602551" author="yuzhihong@gmail.com" created="Thu, 14 Mar 2013 18:35:35 +0000"  >&lt;p&gt;I reverted the patch from 0.95 and trunk so that we have enough time to reach consensus about the solution.&lt;/p&gt;</comment>
                            <comment id="13602559" author="tychang" created="Thu, 14 Mar 2013 18:44:41 +0000"  >&lt;p&gt;Lars, Thank you for your comments. I understand your concern. Let&apos;s pick flush as an example here to make it easy to discuss. The HBaseAdmin expose two API, one is flush(String), the other is flush(byte[]). Most of HBase framework are calling flush(byte[]), it seems flush(String) is only used in two below scenarios:&lt;/p&gt;

&lt;p&gt;1. Intended for use by Shell or other ruby script.  For shell usage, the parameter of regionName is always copied from the WebUI from my experience, so it is always the output of toStringBinary(). Can you think of an example that we can retrieve the regionName that is the output of other format? The Shell help message mentioned that &quot;to use binary keys or values, and need to enter them in the shell, use double-quota&apos;s hexadecimal representation&quot;. I tried that by copying from WebUI for flush, it does not work. I guess I need to pass some byte format data, but I am not sure how can I retrieve the regionName of byte format. Even by scan META table will also return the output of toStringBinary() to print out to the screen. &lt;/p&gt;

&lt;p&gt;Another option is I can make the convert inside ruby shell script. But it will change the shell script invoke the flush(byte[]) since it already convert it to byte[]. Does that make flush(String) obsolete? &lt;/p&gt;

&lt;p&gt;2. Called by Unit test. For this, I think I can modify those unit test to input data like &quot;\xAD&quot;, see if it still pass. So far, no unit test is broken.  &lt;/p&gt;

&lt;p&gt;Lars, I would like your suggestion since it is a tricky one and I would like to make it work for all scenarios including the table of our  production cluster. &lt;/p&gt;

&lt;p&gt;Thanks&lt;/p&gt;</comment>
                            <comment id="13602581" author="lhofhansl" created="Thu, 14 Mar 2013 19:05:46 +0000"  >&lt;p&gt;Thanks Tianying.&lt;/p&gt;

&lt;p&gt;Generally I think if the shell makes a call to a Java method it is its task to pass a correctly formatted parameter.&lt;br/&gt;
If HBaseAdmin.flush(string) is only use by the shell we can rename it to HBaseAdmin.flushForShell (or something) to avoid confusion, I&apos;d be happy with that. All the tests should then call the flush(byte[]) method.&lt;/p&gt;

&lt;p&gt;Nobody disagrees that we have to make this work. &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/smile.gif&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/p&gt;</comment>
                            <comment id="13602587" author="tychang" created="Thu, 14 Mar 2013 19:07:45 +0000"  >&lt;p&gt;@stack. I know of the double-quote usage on shell, I tried that as I explained in the last comments. The puzzle I have is how to retrieve the byte format of the regionName of an existing table? &lt;/p&gt;

&lt;p&gt;Thanks&lt;/p&gt;</comment>
                            <comment id="13602603" author="tychang" created="Thu, 14 Mar 2013 19:20:48 +0000"  >&lt;p&gt;Lars, Thanks for your comments &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/smile.gif&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt; I am still fairly new to HBase compared with you guys, I really appreciate all you guys insight on this. I don&apos;t want to break one thing while fixing another because I am not aware of some important part... &lt;/p&gt;

&lt;p&gt;If we have a way to retrieve the byte format of the regionName of an exiting table, that will be the ideal way. Does anyone know a way? I am really curious to find out. &lt;/p&gt;</comment>
                            <comment id="13602608" author="stack" created="Thu, 14 Mar 2013 19:29:34 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=tychang&quot; class=&quot;user-hover&quot; rel=&quot;tychang&quot;&gt;Tianying Chang&lt;/a&gt; So, if you copy from UI to shell and double-quote what you get from the UI, does it not work?  It might be an irb issue &amp;#8211; i.e. the ruby shell &amp;#8211; but I&apos;d doubt it.  Also what version of hbase?  toStringBinary wasn&apos;t doing right thing with &apos;\&apos; (&lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-6991&quot; title=&quot;Escape &amp;quot;\&amp;quot; in Bytes.toStringBinary() and its counterpart Bytes.toBytesBinary()&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-6991&quot;&gt;&lt;del&gt;HBASE-6991&lt;/del&gt;&lt;/a&gt;).  Could that be messing up what the UI has?   Thanks for working on this.&lt;/p&gt;</comment>
                            <comment id="13602687" author="tychang" created="Thu, 14 Mar 2013 20:34:29 +0000"  >&lt;p&gt;We use 92 currently, will move to 94 soon. It does not work for the case when the regionName contains non-printable char and are converted to \x00\0xAD... on WebUI.  &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-6991&quot; title=&quot;Escape &amp;quot;\&amp;quot; in Bytes.toStringBinary() and its counterpart Bytes.toBytesBinary()&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-6991&quot;&gt;&lt;del&gt;HBASE-6991&lt;/del&gt;&lt;/a&gt; is not a problem here since its fix is to make sure the literal &quot;\x00&quot; is print out correctly by treating the &quot;\&quot; as a special non-printable char. (But this fix will break other case if we don&apos;t port &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-6991&quot; title=&quot;Escape &amp;quot;\&amp;quot; in Bytes.toStringBinary() and its counterpart Bytes.toBytesBinary()&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-6991&quot;&gt;&lt;del&gt;HBASE-6991&lt;/del&gt;&lt;/a&gt; to 94, that is why I ported in &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-8085&quot; title=&quot;Backport the fix for Bytes.toStringBinary() into 94 (HBASE-6991)&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-8085&quot;&gt;&lt;del&gt;HBASE-8085&lt;/del&gt;&lt;/a&gt;) For my case, the regionName is non-printable, so the output of toStringBinary() is correct.&lt;/p&gt;

&lt;p&gt;Stack, do you know how to retrieve the byte format of the regionName of an existing table? I would like to try the byte format input with double-quote if possible. &lt;/p&gt;</comment>
                            <comment id="13602697" author="stack" created="Thu, 14 Mar 2013 20:41:29 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=tychang&quot; class=&quot;user-hover&quot; rel=&quot;tychang&quot;&gt;Tianying Chang&lt;/a&gt; &lt;/p&gt;

&lt;blockquote&gt;&lt;p&gt;It does not work for the case when the regionName contains non-printable char and are converted to \x00\0xAD... on WebUI...&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;Strange.  Pretty sure it used to.&lt;/p&gt;

&lt;blockquote&gt;&lt;p&gt;Stack, do you know how to retrieve the byte format of the regionName of an existing table? I would like to try the byte format input with double-quote if possible.&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;What if you scan &quot;.META.&apos; in shell?&lt;/p&gt;

&lt;p&gt;Here you will get the regions with irb doing the escaping.&lt;/p&gt;

&lt;p&gt;Do &quot;scan &quot;.META.&quot;, &lt;/p&gt;
{LIMIT =&amp;gt; 10}
&lt;p&gt;&quot; if you have lots of rows.&lt;/p&gt;

&lt;p&gt;Take the output from irb and then do a query with it:&lt;/p&gt;

&lt;p&gt;hbase&amp;gt; get &quot;.META.&quot;, &quot;ROW&quot;&lt;/p&gt;

&lt;p&gt;... double quoting row.&lt;/p&gt;

&lt;p&gt;Does that work?&lt;/p&gt;

&lt;p&gt;If so, then something about how we are toStringBinary in the UI?  It does not match the shell.&lt;/p&gt;</comment>
                            <comment id="13602791" author="tychang" created="Thu, 14 Mar 2013 21:35:19 +0000"  >&lt;p&gt;&amp;gt;&amp;gt;It does not work for the case when the regionName contains non-printable char and are converted to \x00\0xAD... on WebUI...&lt;/p&gt;

&lt;p&gt;&amp;gt; Strange. Pretty sure it used to.&lt;br/&gt;
@Stack, in my case, it works if the data is not converted from the non-printable char. But it does not work for non-printable bytes regionName. Does the double-quote&apos;s implementation called the toBytesBinary() underlying? Otherwise, who called toBytesBinary() to convert the output of toStringBinary()? Someone/somewher, toBytesBinary() has to be called. Am I missing something here? &lt;/p&gt;

&lt;p&gt;BTW, I believe if we can provide the correct byte[] format to the shell command, the double-quote will work. The question is I don&apos;t know how to retrieve the byte[] easily. &lt;/p&gt;

&lt;p&gt;&amp;gt;What if you scan &quot;.META.&apos; in shell?&lt;br/&gt;
It has the same output as WebUI. I verified it on our production cluster that has the non-printable regionName. I also checked the code for scan/get in ruby code in hbase/table.rb, it also uses toStringBinary(). That confirmed that scan .META. has the same format data as the WebUI. &lt;span class=&quot;error&quot;&gt;&amp;#91;&amp;quot;key = org.apache.hadoop.hbase.util.Bytes::toStringBinary(row.getRow)&amp;quot;&amp;#93;&lt;/span&gt;&lt;/p&gt;

&lt;p&gt;Any other idea for getting the byte[] output? &lt;/p&gt;

&lt;p&gt;Thanks&lt;/p&gt;
</comment>
                            <comment id="13602798" author="stack" created="Thu, 14 Mar 2013 21:47:43 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=tychang&quot; class=&quot;user-hover&quot; rel=&quot;tychang&quot;&gt;Tianying Chang&lt;/a&gt; When you say...&lt;/p&gt;

&lt;blockquote&gt;&lt;p&gt;@Stack, in my case, it works if the data is not converted from the non-printable char.&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;Where are you referring to?   The UI or to Shell?&lt;/p&gt;

&lt;p&gt;The single vs double-quote is from ruby (our shell is the ruby shell which is called irb).  It does not call toStringBinary, etc.  If it sees octal or hex escaping, it does the right thing.&lt;/p&gt;


</comment>
                            <comment id="13602809" author="tychang" created="Thu, 14 Mar 2013 22:00:33 +0000"  >
&lt;p&gt;&amp;gt;The single vs double-quote is from ruby (our shell is the ruby shell which is called irb). It does not call toStringBinary, etc. If it sees octal or hex escaping, it does the  &amp;gt; right thing.&lt;/p&gt;

&lt;p&gt;Then that explains why it won&apos;t work. Because the regionName &quot;\x00\xDA&quot; are the special encoding done by HBase util., it needs the toBytesBinary() of itself to decode it back. The ruby default interpretation won&apos;t return the correct byte[]. As I mentioned earlier, if we can give the format the byte[], instead of the output of toStringBinary(), the double-quote will work. But the question is I don&apos;t know how to get that easily. &lt;/p&gt;</comment>
                            <comment id="13602830" author="jxiang" created="Thu, 14 Mar 2013 22:23:35 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-6643&quot; title=&quot;Accept encoded region name in compacting/spliting region from shell&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-6643&quot;&gt;&lt;del&gt;HBASE-6643&lt;/del&gt;&lt;/a&gt; enhanced these commands to accept encoded region names, which can avoid such confusion.&lt;/p&gt;</comment>
                            <comment id="13602853" author="yuzhihong@gmail.com" created="Thu, 14 Mar 2013 22:40:40 +0000"  >&lt;p&gt;Thanks for the reminder, Jimmy.&lt;br/&gt;
From your patch:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
-        Pair&amp;lt;HRegionInfo, ServerName&amp;gt; pair =
-          MetaReader.getRegion(ct, tableNameOrRegionName);
-        &lt;span class=&quot;code-keyword&quot;&gt;if&lt;/span&gt; (pair == &lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt; || pair.getSecond() == &lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt;) {
+      Pair&amp;lt;HRegionInfo, ServerName&amp;gt; regionServerPair
+        = getRegion(tableNameOrRegionName, ct);
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;I think closeRegion() was left out - it still uses MetaReader.getRegion().&lt;br/&gt;
Should we apply similar change to closeRegion() as well ?&lt;/p&gt;</comment>
                            <comment id="13602873" author="jxiang" created="Thu, 14 Mar 2013 23:12:35 +0000"  >&lt;p&gt;Yes, I think we should apply similar change to closeRegion too.&lt;/p&gt;</comment>
                            <comment id="13602896" author="tychang" created="Thu, 14 Mar 2013 23:47:52 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=jxiang&quot; class=&quot;user-hover&quot; rel=&quot;jxiang&quot;&gt;Jimmy Xiang&lt;/a&gt; Using encoded region name is an easier fix, I was not aware of this change on my 94 test cluster shell due to the old help message. We should change the help message there. &lt;/p&gt;

&lt;p&gt;How about we get rid of the old API of using the regionName, and fixed on using only encoded name. the shell command &quot;move&quot; is a good example that only supports encoded region name. &lt;/p&gt;</comment>
                            <comment id="13602953" author="hudson" created="Fri, 15 Mar 2013 00:46:21 +0000"  >&lt;p&gt;Integrated in hbase-0.95 #74 (See &lt;a href=&quot;https://builds.apache.org/job/hbase-0.95/74/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/hbase-0.95/74/&lt;/a&gt;)&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-8044&quot; title=&quot;split/flush/compact/major_compact from hbase shell does not work for region key with \x format&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-8044&quot;&gt;&lt;del&gt;HBASE-8044&lt;/del&gt;&lt;/a&gt; Revert due to objection from Lars and Stack (Revision 1456605)&lt;/p&gt;

&lt;p&gt;     Result = FAILURE&lt;br/&gt;
tedyu : &lt;br/&gt;
Files : &lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hbase/branches/0.95/hbase-client/src/main/java/org/apache/hadoop/hbase/client/HBaseAdmin.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13602979" author="hudson" created="Fri, 15 Mar 2013 01:03:40 +0000"  >&lt;p&gt;Integrated in HBase-TRUNK #3960 (See &lt;a href=&quot;https://builds.apache.org/job/HBase-TRUNK/3960/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/HBase-TRUNK/3960/&lt;/a&gt;)&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-8044&quot; title=&quot;split/flush/compact/major_compact from hbase shell does not work for region key with \x format&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-8044&quot;&gt;&lt;del&gt;HBASE-8044&lt;/del&gt;&lt;/a&gt; Revert due to objection from Lars and Stack (Revision 1456604)&lt;/p&gt;

&lt;p&gt;     Result = FAILURE&lt;br/&gt;
tedyu : &lt;br/&gt;
Files : &lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hbase/trunk/hbase-client/src/main/java/org/apache/hadoop/hbase/client/HBaseAdmin.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13603182" author="hudson" created="Fri, 15 Mar 2013 06:17:39 +0000"  >&lt;p&gt;Integrated in HBase-TRUNK-on-Hadoop-2.0.0 #448 (See &lt;a href=&quot;https://builds.apache.org/job/HBase-TRUNK-on-Hadoop-2.0.0/448/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/HBase-TRUNK-on-Hadoop-2.0.0/448/&lt;/a&gt;)&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-8044&quot; title=&quot;split/flush/compact/major_compact from hbase shell does not work for region key with \x format&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-8044&quot;&gt;&lt;del&gt;HBASE-8044&lt;/del&gt;&lt;/a&gt; Revert due to objection from Lars and Stack (Revision 1456604)&lt;/p&gt;

&lt;p&gt;     Result = FAILURE&lt;br/&gt;
tedyu : &lt;br/&gt;
Files : &lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hbase/trunk/hbase-client/src/main/java/org/apache/hadoop/hbase/client/HBaseAdmin.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13603200" author="hudson" created="Fri, 15 Mar 2013 07:06:46 +0000"  >&lt;p&gt;Integrated in hbase-0.95-on-hadoop2 #27 (See &lt;a href=&quot;https://builds.apache.org/job/hbase-0.95-on-hadoop2/27/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/hbase-0.95-on-hadoop2/27/&lt;/a&gt;)&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-8044&quot; title=&quot;split/flush/compact/major_compact from hbase shell does not work for region key with \x format&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-8044&quot;&gt;&lt;del&gt;HBASE-8044&lt;/del&gt;&lt;/a&gt; Revert due to objection from Lars and Stack (Revision 1456605)&lt;/p&gt;

&lt;p&gt;     Result = FAILURE&lt;br/&gt;
tedyu : &lt;br/&gt;
Files : &lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hbase/branches/0.95/hbase-client/src/main/java/org/apache/hadoop/hbase/client/HBaseAdmin.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13603501" author="tychang" created="Fri, 15 Mar 2013 16:47:25 +0000"  >&lt;p&gt;this bug has been fixed by &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-6643&quot; title=&quot;Accept encoded region name in compacting/spliting region from shell&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-6643&quot;&gt;&lt;del&gt;HBASE-6643&lt;/del&gt;&lt;/a&gt; in 0.94. It changed the shell input for split/flush/compact to take encoded region name, instead of the full region name. This avoided the confusion for the format conversion problem with full region name.  This fix is not needed anymore. &lt;/p&gt;</comment>
                            <comment id="13603538" author="jxiang" created="Fri, 15 Mar 2013 17:16:38 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=tychang&quot; class=&quot;user-hover&quot; rel=&quot;tychang&quot;&gt;Tianying Chang&lt;/a&gt;, I think it is better to support both if we can fix this issue. However, the priority is low.&lt;/p&gt;</comment>
                            <comment id="13603576" author="tychang" created="Fri, 15 Mar 2013 17:44:43 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=jxiang&quot; class=&quot;user-hover&quot; rel=&quot;jxiang&quot;&gt;Jimmy Xiang&lt;/a&gt;, do you mean we should still fix the bug for the usage when user input the full region name? I can do that. But I can only think of the benefit of not breaking the user&apos;s old expection by still supporting the existing behavior. Any other benefit for supporting the full region name as input? I feel the encoded name is a better API, shorter name, etc.  &lt;/p&gt;

&lt;p&gt;And I agree it is a low priority, since we will not be blocked by this bug in 94 anymore. Thanks&lt;/p&gt;</comment>
                            <comment id="13603599" author="jxiang" created="Fri, 15 Mar 2013 17:56:46 +0000"  >&lt;p&gt;Yes, user experience backward compatibility is the main concern. If I have a choice, I would prefer to make only the encoded region name public, and keep the actual region name internal.&lt;/p&gt;</comment>
                            <comment id="13603650" author="enis" created="Fri, 15 Mar 2013 18:30:45 +0000"  >&lt;blockquote&gt;&lt;p&gt;How about we get rid of the old API of using the regionName, and fixed on using only encoded name. the shell command &quot;move&quot; is a good example that only supports encoded region name.&lt;/p&gt;&lt;/blockquote&gt;
&lt;p&gt;+1 to this. Encoded region names should be the standard way of specifying a region, no matter from the master, region server, shell or from the client. &lt;/p&gt;</comment>
                            <comment id="13603733" author="stack" created="Fri, 15 Mar 2013 19:27:06 +0000"  >&lt;blockquote&gt;&lt;p&gt;+1 to this. Encoded region names should be the standard way of specifying a region, no matter from the master, region server, shell or from the client.&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;Where do we put this as a goal toward which we would like to move?  In a &quot;Tendencies&quot; or &quot;Long term goals&quot; section in the refguide dev section?&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10032">
                    <name>Blocker</name>
                                                                <inwardlinks description="is blocked by">
                                        <issuelink>
            <issuekey id="12636672">HBASE-8085</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                            <outwardlinks description="relates to">
                                        <issuelink>
            <issuekey id="12604636">HBASE-6643</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="12573170" name="8044-trunk-v2.txt" size="2294" author="yuzhihong@gmail.com" created="Mon, 11 Mar 2013 20:47:24 +0000"/>
                            <attachment id="12573133" name="8044-trunk.txt" size="2030" author="yuzhihong@gmail.com" created="Mon, 11 Mar 2013 18:01:44 +0000"/>
                            <attachment id="12573191" name="8044-v2.patch" size="2662" author="tychang" created="Mon, 11 Mar 2013 21:59:21 +0000"/>
                            <attachment id="12572872" name="8044.patch" size="2340" author="tychang" created="Sat, 9 Mar 2013 01:17:20 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>4.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Sat, 9 Mar 2013 02:13:41 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>316589</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            3 years, 38 weeks ago
                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1imnr:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>316931</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        </customfields>
    </item>
</channel>
</rss>