<!-- 
RSS generated by JIRA (6.3.4#6332-sha1:51bc225ef474afe3128b2f66878477f322397b16) at Fri Dec 02 20:43:39 UTC 2016

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary add field=key&field=summary to the URL of your request.
For example:
https://issues.apache.org/jira/si/jira.issueviews:issue-xml/HBASE-1627/HBASE-1627.xml?field=key&amp;field=summary
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>6.3.4</version>
        <build-number>6332</build-number>
        <build-date>15-08-2014</build-date>
    </build-info>

<item>
            <title>[HBASE-1627] TableInputFormatBase#nextKeyValue catches the wrong exception</title>
                <link>https://issues.apache.org/jira/browse/HBASE-1627</link>
                <project id="12310753" key="HBASE">HBase</project>
                    <description>&lt;p&gt;TableInputFormatBase#nextKeyValue only catches UnknownScannerException from Scanner.next. However, scanner may throw other exceptions:&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
/* from HTable.ClientScanner#next */
          &lt;span class=&quot;code-keyword&quot;&gt;try&lt;/span&gt; {
            values = getConnection().getRegionServerWithRetries(callable);
          } &lt;span class=&quot;code-keyword&quot;&gt;catch&lt;/span&gt; (IOException e) {
            &lt;span class=&quot;code-keyword&quot;&gt;if&lt;/span&gt; (e &lt;span class=&quot;code-keyword&quot;&gt;instanceof&lt;/span&gt; UnknownScannerException &amp;amp;&amp;amp;
                lastNext + scannerTimeout &amp;lt; &lt;span class=&quot;code-object&quot;&gt;System&lt;/span&gt;.currentTimeMillis()) {
              ScannerTimeoutException ex = &lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; ScannerTimeoutException();
              ex.initCause(e);
              &lt;span class=&quot;code-keyword&quot;&gt;throw&lt;/span&gt; ex;
            }
            &lt;span class=&quot;code-keyword&quot;&gt;throw&lt;/span&gt; e;
          }

&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Is there any reason why TIFB does not catch ScannerTimeoutException?&lt;/p&gt;</description>
                <environment></environment>
        <key id="12429801">HBASE-1627</key>
            <summary>TableInputFormatBase#nextKeyValue catches the wrong exception</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/bug.png">Bug</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.png">Minor</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="dogacan">Do&#287;acan G&#252;ney</assignee>
                                    <reporter username="dogacan">Do&#287;acan G&#252;ney</reporter>
                        <labels>
                    </labels>
                <created>Wed, 8 Jul 2009 11:43:32 +0000</created>
                <updated>Sun, 13 Sep 2009 22:24:49 +0000</updated>
                            <resolved>Fri, 10 Jul 2009 19:07:55 +0000</resolved>
                                    <version>0.20.0</version>
                                    <fixVersion>0.20.0</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                <comments>
                            <comment id="12728640" author="dogacan" created="Wed, 8 Jul 2009 11:44:39 +0000"  >&lt;p&gt;A simple patch to change catch clause to catch all IOException-s. Are there any downsides to this? If an IOException is thrown, reset your scanner, try again and if it fails again your job fails. Makes sense to me &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/biggrin.gif&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/p&gt;</comment>
                            <comment id="12728855" author="stack" created="Wed, 8 Jul 2009 19:09:04 +0000"  >&lt;p&gt;IOE seems overly broad (almost everything is IOE at its base).&lt;/p&gt;

&lt;p&gt;Above looks like a bug in TIFB.  It should have been changed to handle STE instead of USE.  If you are good with making this change, I&apos;ll commit your patch changing your overly general IOE to STE?&lt;/p&gt;</comment>
                            <comment id="12728920" author="dogacan" created="Wed, 8 Jul 2009 21:49:47 +0000"  >&lt;p&gt;Yeah sure I can change it to STE but why is IOE being broad a problem? I mean, we catch the IOE and recreate the scanner, try next()ing again and fail if there is an exception again. Is there any scenario where this is harmful?&lt;/p&gt;</comment>
                            <comment id="12729748" author="stack" created="Fri, 10 Jul 2009 18:08:22 +0000"  >&lt;p&gt;Because near everything is an IOE at its base in hbase, its hard to distingush the retryable from the IOE that is fatal.   My fear is that if we make the catch overly broad, it will retry for ever rather than fail.  If OK with you, I&apos;ll commit STE instead of IOE?  Thats a fix for a breakage.  We can keep an eye on this and if other IOE subclasses that can bear retry, lets add them?&lt;/p&gt;</comment>
                            <comment id="12729766" author="dogacan" created="Fri, 10 Jul 2009 18:46:02 +0000"  >&lt;p&gt;Sorry for being thick but I still don&apos;t understand. AFAICS we only retry once. So if the IOE that we capture is fatal then when we try again we will get the fatal exception again and the job will fail. So IIRC we ONLY try once. &lt;/p&gt;
</comment>
                            <comment id="12729774" author="stack" created="Fri, 10 Jul 2009 19:03:12 +0000"  >&lt;p&gt;Thanks for persisting.  Its I who is think.  Yes, will retry once only since we redo the next inside the catch block.  Let me commit.  Good stuff.&lt;/p&gt;</comment>
                            <comment id="12729778" author="stack" created="Fri, 10 Jul 2009 19:07:54 +0000"  >&lt;p&gt;Committed.  Thanks for the patch Do&#287;acan.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12412854" name="tableinput.patch" size="1008" author="dogacan" created="Wed, 8 Jul 2009 11:44:39 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Wed, 8 Jul 2009 19:09:04 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>25873</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310191" key="com.atlassian.jira.plugin.system.customfieldtypes:multicheckboxes">
                        <customfieldname>Hadoop Flags</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10343"><![CDATA[Reviewed]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            7 years, 22 weeks ago
                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0hed3:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>99589</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        </customfields>
    </item>
</channel>
</rss>