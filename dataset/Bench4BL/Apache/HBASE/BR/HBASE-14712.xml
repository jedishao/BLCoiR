<!-- 
RSS generated by JIRA (6.3.4#6332-sha1:51bc225ef474afe3128b2f66878477f322397b16) at Thu Dec 01 22:18:13 UTC 2016

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary add field=key&field=summary to the URL of your request.
For example:
https://issues.apache.org/jira/si/jira.issueviews:issue-xml/HBASE-14712/HBASE-14712.xml?field=key&amp;field=summary
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>6.3.4</version>
        <build-number>6332</build-number>
        <build-date>15-08-2014</build-date>
    </build-info>

<item>
            <title>[HBASE-14712] MasterProcWALs never clean up</title>
                <link>https://issues.apache.org/jira/browse/HBASE-14712</link>
                <project id="12310753" key="HBASE">HBase</project>
                    <description>&lt;p&gt;MasterProcWALs directory grows pretty much un-bounded. Because of that when master failover happens the NN is flooded with connections and everything grinds to a halt.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12908709">HBASE-14712</key>
            <summary>MasterProcWALs never clean up</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/bug.png">Bug</type>
                                            <priority id="1" iconUrl="https://issues.apache.org/jira/images/icons/priorities/blocker.png">Blocker</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="mbertozzi">Matteo Bertozzi</assignee>
                                    <reporter username="eclark">Elliott Clark</reporter>
                        <labels>
                    </labels>
                <created>Wed, 28 Oct 2015 21:20:04 +0000</created>
                <updated>Wed, 27 Jan 2016 15:28:57 +0000</updated>
                            <resolved>Thu, 19 Nov 2015 22:56:08 +0000</resolved>
                                                    <fixVersion>2.0.0</fixVersion>
                    <fixVersion>1.2.0</fixVersion>
                    <fixVersion>1.3.0</fixVersion>
                    <fixVersion>1.1.3</fixVersion>
                                    <component>proc-v2</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>11</watches>
                                                                <comments>
                            <comment id="14979293" author="mbertozzi" created="Wed, 28 Oct 2015 21:37:51 +0000"  >&lt;p&gt;any way to reproduce it? last time I checked the files where deleted as soon if there were no operations going on&lt;/p&gt;</comment>
                            <comment id="14979298" author="eclark" created="Wed, 28 Oct 2015 21:42:22 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=mbertozzi&quot; class=&quot;user-hover&quot; rel=&quot;mbertozzi&quot;&gt;Matteo Bertozzi&lt;/a&gt; You around to look at this ?&lt;/p&gt;

&lt;p&gt;CI cluster running 1.2.0-SNAPSHOT has 120k of master logs dating back about a week since the last time it was cleaned up.&lt;/p&gt;

&lt;p&gt;Each time a master tries to become active it has that many different logs to recover lease on, and read. This ends up ddosing the namenode. It runs out of tcp buffer space and everything falls over.&lt;/p&gt;</comment>
                            <comment id="14979300" author="eclark" created="Wed, 28 Oct 2015 21:43:11 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=mbertozzi&quot; class=&quot;user-hover&quot; rel=&quot;mbertozzi&quot;&gt;Matteo Bertozzi&lt;/a&gt; Every cluster we have with 1.2 running has logs dating back multiple days and nothing currently running on them.&lt;/p&gt;</comment>
                            <comment id="14979301" author="mbertozzi" created="Wed, 28 Oct 2015 21:44:01 +0000"  >&lt;p&gt;let me look at this maybe something changed recently, but in general you should have just 1 log, or couple of them if you are hammering the master with admin ops&lt;/p&gt;</comment>
                            <comment id="14979332" author="mbertozzi" created="Wed, 28 Oct 2015 22:06:18 +0000"  >&lt;p&gt;done a quick test on branch-1.2&lt;br/&gt;
start cluster, stop cluster, start cluster some admin, stop cluster, more admin... but I see the files going away.&lt;/p&gt;

&lt;p&gt;quick look at the code the only place where we accumulate logs is when the log is corrupted... (there is a TODO there). but you should see a &quot;got an exception while reading the procedure WAL&quot; do you see it?&lt;/p&gt;

&lt;p&gt;the other case is if you are hammering the admin operations and your default expire time for ack requests is 5min or 15min in case the client crashes... you may accumulate files for 5/15min but then they should go away. &lt;br/&gt;
so.. I go back thinking that you probably have a corruption? can you check &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=eclark&quot; class=&quot;user-hover&quot; rel=&quot;eclark&quot;&gt;Elliott Clark&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="14979364" author="eclark" created="Wed, 28 Oct 2015 22:19:18 +0000"  >&lt;p&gt;Very unlikely that several different clusters would all have the same corruption.&lt;/p&gt;

&lt;p&gt;All hdfs clusters are good. No corruptions.&lt;br/&gt;
All regions were assigned before restart the clusters.&lt;br/&gt;
hbck was clean and there are no procedures currently running on some of the clusters and they still have logs going back 2 weeks.&lt;/p&gt;</comment>
                            <comment id="14979387" author="enis" created="Wed, 28 Oct 2015 22:33:12 +0000"  >&lt;p&gt;Maybe do a jstack in master to see whether there is somehow a lingering procedure that is executing? &lt;/p&gt;</comment>
                            <comment id="14979407" author="eclark" created="Wed, 28 Oct 2015 22:45:18 +0000"  >&lt;p&gt;The CI cluster can&apos;t come back up since it ddos&apos; the namenode. However a prod cluster that has 200+ master logs&lt;/p&gt;

&lt;p&gt;Relevant jstacks:&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
&lt;span class=&quot;code-object&quot;&gt;Thread&lt;/span&gt; 154 (ProcedureExecutor-39):
  State: WAITING
  Blocked count: 0
  Waited count: 5033950324
  Waiting on java.util.concurrent.locks.ReentrantLock$NonfairSync@6e6a5656
  Stack:
    sun.misc.Unsafe.park(Native Method)
    java.util.concurrent.locks.LockSupport.park(LockSupport.java:175)
    java.util.concurrent.locks.AbstractQueuedSynchronizer.parkAndCheckInterrupt(AbstractQueuedSynchronizer.java:836)
    java.util.concurrent.locks.AbstractQueuedSynchronizer.acquireQueued(AbstractQueuedSynchronizer.java:870)
    java.util.concurrent.locks.AbstractQueuedSynchronizer.acquire(AbstractQueuedSynchronizer.java:1199)
    java.util.concurrent.locks.ReentrantLock$NonfairSync.lock(ReentrantLock.java:209)
    java.util.concurrent.locks.ReentrantLock.lock(ReentrantLock.java:285)
    org.apache.hadoop.hbase.master.procedure.MasterProcedureQueue.poll(MasterProcedureQueue.java:133)
    org.apache.hadoop.hbase.procedure2.ProcedureExecutor.execLoop(ProcedureExecutor.java:725)
    org.apache.hadoop.hbase.procedure2.ProcedureExecutor.access$400(ProcedureExecutor.java:72)
    org.apache.hadoop.hbase.procedure2.ProcedureExecutor$2.run(ProcedureExecutor.java:476)
&lt;span class=&quot;code-object&quot;&gt;Thread&lt;/span&gt; 153 (ProcedureExecutor-38):
  State: WAITING
  Blocked count: 1
  Waited count: 5024948293
  Waiting on java.util.concurrent.locks.ReentrantLock$NonfairSync@6e6a5656
  Stack:
    sun.misc.Unsafe.park(Native Method)
    java.util.concurrent.locks.LockSupport.park(LockSupport.java:175)
    java.util.concurrent.locks.AbstractQueuedSynchronizer.parkAndCheckInterrupt(AbstractQueuedSynchronizer.java:836)
    java.util.concurrent.locks.AbstractQueuedSynchronizer.acquireQueued(AbstractQueuedSynchronizer.java:870)
    java.util.concurrent.locks.AbstractQueuedSynchronizer.acquire(AbstractQueuedSynchronizer.java:1199)
    java.util.concurrent.locks.ReentrantLock$NonfairSync.lock(ReentrantLock.java:209)
    java.util.concurrent.locks.ReentrantLock.lock(ReentrantLock.java:285)
    org.apache.hadoop.hbase.master.procedure.MasterProcedureQueue.poll(MasterProcedureQueue.java:133)
    org.apache.hadoop.hbase.procedure2.ProcedureExecutor.execLoop(ProcedureExecutor.java:725)
    org.apache.hadoop.hbase.procedure2.ProcedureExecutor.access$400(ProcedureExecutor.java:72)
    org.apache.hadoop.hbase.procedure2.ProcedureExecutor$2.run(ProcedureExecutor.java:476)
&lt;span class=&quot;code-object&quot;&gt;Thread&lt;/span&gt; 152 (ProcedureExecutor-37):
  State: WAITING
  Blocked count: 10
  Waited count: 5080448452
  Waiting on java.util.concurrent.locks.ReentrantLock$NonfairSync@6e6a5656
  Stack:
    sun.misc.Unsafe.park(Native Method)
    java.util.concurrent.locks.LockSupport.park(LockSupport.java:175)
    java.util.concurrent.locks.AbstractQueuedSynchronizer.parkAndCheckInterrupt(AbstractQueuedSynchronizer.java:836)
    java.util.concurrent.locks.AbstractQueuedSynchronizer.acquireQueued(AbstractQueuedSynchronizer.java:870)
    java.util.concurrent.locks.AbstractQueuedSynchronizer.acquire(AbstractQueuedSynchronizer.java:1199)
    java.util.concurrent.locks.ReentrantLock$NonfairSync.lock(ReentrantLock.java:209)
    java.util.concurrent.locks.ReentrantLock.lock(ReentrantLock.java:285)
    org.apache.hadoop.hbase.master.procedure.MasterProcedureQueue.poll(MasterProcedureQueue.java:133)
    org.apache.hadoop.hbase.procedure2.ProcedureExecutor.execLoop(ProcedureExecutor.java:725)
    org.apache.hadoop.hbase.procedure2.ProcedureExecutor.access$400(ProcedureExecutor.java:72)
    org.apache.hadoop.hbase.procedure2.ProcedureExecutor$2.run(ProcedureExecutor.java:476)
&lt;span class=&quot;code-object&quot;&gt;Thread&lt;/span&gt; 151 (ProcedureExecutor-36):
  State: WAITING
  Blocked count: 4
  Waited count: 5067414781
  Waiting on java.util.concurrent.locks.ReentrantLock$NonfairSync@6e6a5656
  Stack:
    sun.misc.Unsafe.park(Native Method)
    java.util.concurrent.locks.LockSupport.park(LockSupport.java:175)
    java.util.concurrent.locks.AbstractQueuedSynchronizer.parkAndCheckInterrupt(AbstractQueuedSynchronizer.java:836)
    java.util.concurrent.locks.AbstractQueuedSynchronizer.acquireQueued(AbstractQueuedSynchronizer.java:870)
    java.util.concurrent.locks.AbstractQueuedSynchronizer.acquire(AbstractQueuedSynchronizer.java:1199)
    java.util.concurrent.locks.ReentrantLock$NonfairSync.lock(ReentrantLock.java:209)
    java.util.concurrent.locks.ReentrantLock.lock(ReentrantLock.java:285)
    org.apache.hadoop.hbase.master.procedure.MasterProcedureQueue.poll(MasterProcedureQueue.java:133)
    org.apache.hadoop.hbase.procedure2.ProcedureExecutor.execLoop(ProcedureExecutor.java:725)
    org.apache.hadoop.hbase.procedure2.ProcedureExecutor.access$400(ProcedureExecutor.java:72)
    org.apache.hadoop.hbase.procedure2.ProcedureExecutor$2.run(ProcedureExecutor.java:476)
&lt;span class=&quot;code-object&quot;&gt;Thread&lt;/span&gt; 150 (ProcedureExecutor-35):
  State: WAITING
  Blocked count: 406
  Waited count: 5010979283
  Waiting on java.util.concurrent.locks.ReentrantLock$NonfairSync@6e6a5656
  Stack:
    sun.misc.Unsafe.park(Native Method)
    java.util.concurrent.locks.LockSupport.park(LockSupport.java:175)
    java.util.concurrent.locks.AbstractQueuedSynchronizer.parkAndCheckInterrupt(AbstractQueuedSynchronizer.java:836)
    java.util.concurrent.locks.AbstractQueuedSynchronizer.acquireQueued(AbstractQueuedSynchronizer.java:870)
    java.util.concurrent.locks.AbstractQueuedSynchronizer.acquire(AbstractQueuedSynchronizer.java:1199)
    java.util.concurrent.locks.ReentrantLock$NonfairSync.lock(ReentrantLock.java:209)
    java.util.concurrent.locks.ReentrantLock.lock(ReentrantLock.java:285)
    org.apache.hadoop.hbase.master.procedure.MasterProcedureQueue.poll(MasterProcedureQueue.java:133)
    org.apache.hadoop.hbase.procedure2.ProcedureExecutor.execLoop(ProcedureExecutor.java:725)
    org.apache.hadoop.hbase.procedure2.ProcedureExecutor.access$400(ProcedureExecutor.java:72)
    org.apache.hadoop.hbase.procedure2.ProcedureExecutor$2.run(ProcedureExecutor.java:476)
&lt;span class=&quot;code-object&quot;&gt;Thread&lt;/span&gt; 148 (ProcedureExecutor-33):
  State: WAITING
  Blocked count: 0
  Waited count: 5125689465
  Waiting on java.util.concurrent.locks.ReentrantLock$NonfairSync@6e6a5656
  Stack:
    sun.misc.Unsafe.park(Native Method)
    java.util.concurrent.locks.LockSupport.park(LockSupport.java:175)
    java.util.concurrent.locks.AbstractQueuedSynchronizer.parkAndCheckInterrupt(AbstractQueuedSynchronizer.java:836)
    java.util.concurrent.locks.AbstractQueuedSynchronizer.acquireQueued(AbstractQueuedSynchronizer.java:870)
    java.util.concurrent.locks.AbstractQueuedSynchronizer.acquire(AbstractQueuedSynchronizer.java:1199)
    java.util.concurrent.locks.ReentrantLock$NonfairSync.lock(ReentrantLock.java:209)
    java.util.concurrent.locks.ReentrantLock.lock(ReentrantLock.java:285)
    org.apache.hadoop.hbase.master.procedure.MasterProcedureQueue.poll(MasterProcedureQueue.java:133)
    org.apache.hadoop.hbase.procedure2.ProcedureExecutor.execLoop(ProcedureExecutor.java:725)
    org.apache.hadoop.hbase.procedure2.ProcedureExecutor.access$400(ProcedureExecutor.java:72)
    org.apache.hadoop.hbase.procedure2.ProcedureExecutor$2.run(ProcedureExecutor.java:476)
&lt;span class=&quot;code-object&quot;&gt;Thread&lt;/span&gt; 147 (ProcedureExecutor-32):
  State: RUNNABLE
  Blocked count: 5
  Waited count: 5137909716
  Stack:
    sun.misc.Unsafe.unpark(Native Method)
    java.util.concurrent.locks.LockSupport.unpark(LockSupport.java:141)
    java.util.concurrent.locks.AbstractQueuedSynchronizer.unparkSuccessor(AbstractQueuedSynchronizer.java:662)
    java.util.concurrent.locks.AbstractQueuedSynchronizer.release(AbstractQueuedSynchronizer.java:1264)
    java.util.concurrent.locks.ReentrantLock.unlock(ReentrantLock.java:457)
    org.apache.hadoop.hbase.master.procedure.MasterProcedureQueue.poll(MasterProcedureQueue.java:151)
    org.apache.hadoop.hbase.procedure2.ProcedureExecutor.execLoop(ProcedureExecutor.java:725)
    org.apache.hadoop.hbase.procedure2.ProcedureExecutor.access$400(ProcedureExecutor.java:72)
    org.apache.hadoop.hbase.procedure2.ProcedureExecutor$2.run(ProcedureExecutor.java:476)
&lt;span class=&quot;code-object&quot;&gt;Thread&lt;/span&gt; 146 (ProcedureExecutor-31):
  State: WAITING
  Blocked count: 11
  Waited count: 4973370758
  Waiting on java.util.concurrent.locks.ReentrantLock$NonfairSync@6e6a5656
  Stack:
    sun.misc.Unsafe.park(Native Method)
    java.util.concurrent.locks.LockSupport.park(LockSupport.java:175)
    java.util.concurrent.locks.AbstractQueuedSynchronizer.parkAndCheckInterrupt(AbstractQueuedSynchronizer.java:836)
    java.util.concurrent.locks.AbstractQueuedSynchronizer.acquireQueued(AbstractQueuedSynchronizer.java:870)
    java.util.concurrent.locks.AbstractQueuedSynchronizer.acquire(AbstractQueuedSynchronizer.java:1199)
    java.util.concurrent.locks.ReentrantLock$NonfairSync.lock(ReentrantLock.java:209)
    java.util.concurrent.locks.ReentrantLock.lock(ReentrantLock.java:285)
    org.apache.hadoop.hbase.master.procedure.MasterProcedureQueue.poll(MasterProcedureQueue.java:133)
    org.apache.hadoop.hbase.procedure2.ProcedureExecutor.execLoop(ProcedureExecutor.java:725)
    org.apache.hadoop.hbase.procedure2.ProcedureExecutor.access$400(ProcedureExecutor.java:72)
    org.apache.hadoop.hbase.procedure2.ProcedureExecutor$2.run(ProcedureExecutor.java:476)
&lt;span class=&quot;code-object&quot;&gt;Thread&lt;/span&gt; 145 (ProcedureExecutor-30):
  State: WAITING
  Blocked count: 9
  Waited count: 4999165364
  Waiting on java.util.concurrent.locks.ReentrantLock$NonfairSync@6e6a5656
  Stack:
    sun.misc.Unsafe.park(Native Method)
    java.util.concurrent.locks.LockSupport.park(LockSupport.java:175)
    java.util.concurrent.locks.AbstractQueuedSynchronizer.parkAndCheckInterrupt(AbstractQueuedSynchronizer.java:836)
    java.util.concurrent.locks.AbstractQueuedSynchronizer.acquireQueued(AbstractQueuedSynchronizer.java:870)
    java.util.concurrent.locks.AbstractQueuedSynchronizer.acquire(AbstractQueuedSynchronizer.java:1199)
    java.util.concurrent.locks.ReentrantLock$NonfairSync.lock(ReentrantLock.java:209)
    java.util.concurrent.locks.ReentrantLock.lock(ReentrantLock.java:285)
    org.apache.hadoop.hbase.master.procedure.MasterProcedureQueue.poll(MasterProcedureQueue.java:133)
    org.apache.hadoop.hbase.procedure2.ProcedureExecutor.execLoop(ProcedureExecutor.java:725)
    org.apache.hadoop.hbase.procedure2.ProcedureExecutor.access$400(ProcedureExecutor.java:72)
    org.apache.hadoop.hbase.procedure2.ProcedureExecutor$2.run(ProcedureExecutor.java:476)
&lt;span class=&quot;code-object&quot;&gt;Thread&lt;/span&gt; 144 (ProcedureExecutor-29):
  State: WAITING
  Blocked count: 0
  Waited count: 4938033019
  Waiting on java.util.concurrent.locks.ReentrantLock$NonfairSync@6e6a5656
  Stack:
    sun.misc.Unsafe.park(Native Method)
    java.util.concurrent.locks.LockSupport.park(LockSupport.java:175)
    java.util.concurrent.locks.AbstractQueuedSynchronizer.parkAndCheckInterrupt(AbstractQueuedSynchronizer.java:836)
    java.util.concurrent.locks.AbstractQueuedSynchronizer.acquireQueued(AbstractQueuedSynchronizer.java:870)
    java.util.concurrent.locks.AbstractQueuedSynchronizer.acquire(AbstractQueuedSynchronizer.java:1199)
    java.util.concurrent.locks.ReentrantLock$NonfairSync.lock(ReentrantLock.java:209)
    java.util.concurrent.locks.ReentrantLock.lock(ReentrantLock.java:285)
    org.apache.hadoop.hbase.master.procedure.MasterProcedureQueue.poll(MasterProcedureQueue.java:133)
    org.apache.hadoop.hbase.procedure2.ProcedureExecutor.execLoop(ProcedureExecutor.java:725)
    org.apache.hadoop.hbase.procedure2.ProcedureExecutor.access$400(ProcedureExecutor.java:72)
    org.apache.hadoop.hbase.procedure2.ProcedureExecutor$2.run(ProcedureExecutor.java:476)
&lt;span class=&quot;code-object&quot;&gt;Thread&lt;/span&gt; 143 (ProcedureExecutor-28):
  State: WAITING
  Blocked count: 6
  Waited count: 5117253857
  Waiting on java.util.concurrent.locks.ReentrantLock$NonfairSync@6e6a5656
  Stack:
    sun.misc.Unsafe.park(Native Method)
    java.util.concurrent.locks.LockSupport.park(LockSupport.java:175)
    java.util.concurrent.locks.AbstractQueuedSynchronizer.parkAndCheckInterrupt(AbstractQueuedSynchronizer.java:836)
    java.util.concurrent.locks.AbstractQueuedSynchronizer.acquireQueued(AbstractQueuedSynchronizer.java:870)
    java.util.concurrent.locks.AbstractQueuedSynchronizer.acquire(AbstractQueuedSynchronizer.java:1199)
    java.util.concurrent.locks.ReentrantLock$NonfairSync.lock(ReentrantLock.java:209)
    java.util.concurrent.locks.ReentrantLock.lock(ReentrantLock.java:285)
    org.apache.hadoop.hbase.master.procedure.MasterProcedureQueue.poll(MasterProcedureQueue.java:133)
    org.apache.hadoop.hbase.procedure2.ProcedureExecutor.execLoop(ProcedureExecutor.java:725)
    org.apache.hadoop.hbase.procedure2.ProcedureExecutor.access$400(ProcedureExecutor.java:72)
    org.apache.hadoop.hbase.procedure2.ProcedureExecutor$2.run(ProcedureExecutor.java:476)
&lt;span class=&quot;code-object&quot;&gt;Thread&lt;/span&gt; 142 (ProcedureExecutor-27):
  State: WAITING
  Blocked count: 0
  Waited count: 4960149681
  Waiting on java.util.concurrent.locks.ReentrantLock$NonfairSync@6e6a5656
  Stack:
    sun.misc.Unsafe.park(Native Method)
    java.util.concurrent.locks.LockSupport.park(LockSupport.java:175)
    java.util.concurrent.locks.AbstractQueuedSynchronizer.parkAndCheckInterrupt(AbstractQueuedSynchronizer.java:836)
    java.util.concurrent.locks.AbstractQueuedSynchronizer.acquireQueued(AbstractQueuedSynchronizer.java:870)
    java.util.concurrent.locks.AbstractQueuedSynchronizer.acquire(AbstractQueuedSynchronizer.java:1199)
    java.util.concurrent.locks.ReentrantLock$NonfairSync.lock(ReentrantLock.java:209)
    java.util.concurrent.locks.ReentrantLock.lock(ReentrantLock.java:285)
    org.apache.hadoop.hbase.master.procedure.MasterProcedureQueue.poll(MasterProcedureQueue.java:133)
    org.apache.hadoop.hbase.procedure2.ProcedureExecutor.execLoop(ProcedureExecutor.java:725)
    org.apache.hadoop.hbase.procedure2.ProcedureExecutor.access$400(ProcedureExecutor.java:72)
    org.apache.hadoop.hbase.procedure2.ProcedureExecutor$2.run(ProcedureExecutor.java:476)
&lt;span class=&quot;code-object&quot;&gt;Thread&lt;/span&gt; 141 (ProcedureExecutor-26):
  State: WAITING
  Blocked count: 4
  Waited count: 5059471446
  Waiting on java.util.concurrent.locks.ReentrantLock$NonfairSync@6e6a5656
  Stack:
    sun.misc.Unsafe.park(Native Method)
    java.util.concurrent.locks.LockSupport.park(LockSupport.java:175)
    java.util.concurrent.locks.AbstractQueuedSynchronizer.parkAndCheckInterrupt(AbstractQueuedSynchronizer.java:836)
    java.util.concurrent.locks.AbstractQueuedSynchronizer.acquireQueued(AbstractQueuedSynchronizer.java:870)
    java.util.concurrent.locks.AbstractQueuedSynchronizer.acquire(AbstractQueuedSynchronizer.java:1199)
    java.util.concurrent.locks.ReentrantLock$NonfairSync.lock(ReentrantLock.java:209)
    java.util.concurrent.locks.ReentrantLock.lock(ReentrantLock.java:285)
    org.apache.hadoop.hbase.master.procedure.MasterProcedureQueue.poll(MasterProcedureQueue.java:133)
    org.apache.hadoop.hbase.procedure2.ProcedureExecutor.execLoop(ProcedureExecutor.java:725)
    org.apache.hadoop.hbase.procedure2.ProcedureExecutor.access$400(ProcedureExecutor.java:72)
    org.apache.hadoop.hbase.procedure2.ProcedureExecutor$2.run(ProcedureExecutor.java:476)
&lt;span class=&quot;code-object&quot;&gt;Thread&lt;/span&gt; 140 (ProcedureExecutor-25):
  State: WAITING
  Blocked count: 0
  Waited count: 4714376204
  Waiting on java.util.concurrent.locks.ReentrantLock$NonfairSync@6e6a5656
  Stack:
    sun.misc.Unsafe.park(Native Method)
    java.util.concurrent.locks.LockSupport.park(LockSupport.java:175)
    java.util.concurrent.locks.AbstractQueuedSynchronizer.parkAndCheckInterrupt(AbstractQueuedSynchronizer.java:836)
    java.util.concurrent.locks.AbstractQueuedSynchronizer.acquireQueued(AbstractQueuedSynchronizer.java:870)
    java.util.concurrent.locks.AbstractQueuedSynchronizer.acquire(AbstractQueuedSynchronizer.java:1199)
    java.util.concurrent.locks.ReentrantLock$NonfairSync.lock(ReentrantLock.java:209)
    java.util.concurrent.locks.ReentrantLock.lock(ReentrantLock.java:285)
    org.apache.hadoop.hbase.master.procedure.MasterProcedureQueue.poll(MasterProcedureQueue.java:133)
    org.apache.hadoop.hbase.procedure2.ProcedureExecutor.execLoop(ProcedureExecutor.java:725)
    org.apache.hadoop.hbase.procedure2.ProcedureExecutor.access$400(ProcedureExecutor.java:72)
    org.apache.hadoop.hbase.procedure2.ProcedureExecutor$2.run(ProcedureExecutor.java:476)
&lt;span class=&quot;code-object&quot;&gt;Thread&lt;/span&gt; 136 (ProcedureExecutor-21):
  State: WAITING
  Blocked count: 7
  Waited count: 5072882873
  Waiting on java.util.concurrent.locks.ReentrantLock$NonfairSync@6e6a5656
  Stack:
    sun.misc.Unsafe.park(Native Method)
    java.util.concurrent.locks.LockSupport.park(LockSupport.java:175)
    java.util.concurrent.locks.AbstractQueuedSynchronizer.parkAndCheckInterrupt(AbstractQueuedSynchronizer.java:836)
    java.util.concurrent.locks.AbstractQueuedSynchronizer.acquireQueued(AbstractQueuedSynchronizer.java:870)
    java.util.concurrent.locks.AbstractQueuedSynchronizer.acquire(AbstractQueuedSynchronizer.java:1199)
    java.util.concurrent.locks.ReentrantLock$NonfairSync.lock(ReentrantLock.java:209)
    java.util.concurrent.locks.ReentrantLock.lock(ReentrantLock.java:285)
    org.apache.hadoop.hbase.master.procedure.MasterProcedureQueue.poll(MasterProcedureQueue.java:133)
    org.apache.hadoop.hbase.procedure2.ProcedureExecutor.execLoop(ProcedureExecutor.java:725)
    org.apache.hadoop.hbase.procedure2.ProcedureExecutor.access$400(ProcedureExecutor.java:72)
    org.apache.hadoop.hbase.procedure2.ProcedureExecutor$2.run(ProcedureExecutor.java:476)
&lt;span class=&quot;code-object&quot;&gt;Thread&lt;/span&gt; 135 (ProcedureExecutor-20):
  State: WAITING
  Blocked count: 0
  Waited count: 5019209711
  Waiting on java.util.concurrent.locks.ReentrantLock$NonfairSync@6e6a5656
  Stack:
    sun.misc.Unsafe.park(Native Method)
    java.util.concurrent.locks.LockSupport.park(LockSupport.java:175)
    java.util.concurrent.locks.AbstractQueuedSynchronizer.parkAndCheckInterrupt(AbstractQueuedSynchronizer.java:836)
    java.util.concurrent.locks.AbstractQueuedSynchronizer.acquireQueued(AbstractQueuedSynchronizer.java:870)
    java.util.concurrent.locks.AbstractQueuedSynchronizer.acquire(AbstractQueuedSynchronizer.java:1199)
    java.util.concurrent.locks.ReentrantLock$NonfairSync.lock(ReentrantLock.java:209)
    java.util.concurrent.locks.ReentrantLock.lock(ReentrantLock.java:285)
    org.apache.hadoop.hbase.master.procedure.MasterProcedureQueue.poll(MasterProcedureQueue.java:133)
    org.apache.hadoop.hbase.procedure2.ProcedureExecutor.execLoop(ProcedureExecutor.java:725)
    org.apache.hadoop.hbase.procedure2.ProcedureExecutor.access$400(ProcedureExecutor.java:72)
    org.apache.hadoop.hbase.procedure2.ProcedureExecutor$2.run(ProcedureExecutor.java:476)
&lt;span class=&quot;code-object&quot;&gt;Thread&lt;/span&gt; 133 (ProcedureExecutor-18):
  State: WAITING
  Blocked count: 0
  Waited count: 4875642244
  Waiting on java.util.concurrent.locks.ReentrantLock$NonfairSync@6e6a5656
  Stack:
    sun.misc.Unsafe.park(Native Method)
    java.util.concurrent.locks.LockSupport.park(LockSupport.java:175)
    java.util.concurrent.locks.AbstractQueuedSynchronizer.parkAndCheckInterrupt(AbstractQueuedSynchronizer.java:836)
    java.util.concurrent.locks.AbstractQueuedSynchronizer.acquireQueued(AbstractQueuedSynchronizer.java:870)
    java.util.concurrent.locks.AbstractQueuedSynchronizer.acquire(AbstractQueuedSynchronizer.java:1199)
    java.util.concurrent.locks.ReentrantLock$NonfairSync.lock(ReentrantLock.java:209)
    java.util.concurrent.locks.ReentrantLock.lock(ReentrantLock.java:285)
    org.apache.hadoop.hbase.master.procedure.MasterProcedureQueue.poll(MasterProcedureQueue.java:133)
    org.apache.hadoop.hbase.procedure2.ProcedureExecutor.execLoop(ProcedureExecutor.java:725)
    org.apache.hadoop.hbase.procedure2.ProcedureExecutor.access$400(ProcedureExecutor.java:72)
    org.apache.hadoop.hbase.procedure2.ProcedureExecutor$2.run(ProcedureExecutor.java:476)
&lt;span class=&quot;code-object&quot;&gt;Thread&lt;/span&gt; 132 (ProcedureExecutor-17):
  State: WAITING
  Blocked count: 5
  Waited count: 5096210372
  Waiting on java.util.concurrent.locks.ReentrantLock$NonfairSync@6e6a5656
  Stack:
    sun.misc.Unsafe.park(Native Method)
    java.util.concurrent.locks.LockSupport.park(LockSupport.java:175)
    java.util.concurrent.locks.AbstractQueuedSynchronizer.parkAndCheckInterrupt(AbstractQueuedSynchronizer.java:836)
    java.util.concurrent.locks.AbstractQueuedSynchronizer.acquireQueued(AbstractQueuedSynchronizer.java:870)
    java.util.concurrent.locks.AbstractQueuedSynchronizer.acquire(AbstractQueuedSynchronizer.java:1199)
    java.util.concurrent.locks.ReentrantLock$NonfairSync.lock(ReentrantLock.java:209)
    java.util.concurrent.locks.ReentrantLock.lock(ReentrantLock.java:285)
    org.apache.hadoop.hbase.master.procedure.MasterProcedureQueue.poll(MasterProcedureQueue.java:133)
    org.apache.hadoop.hbase.procedure2.ProcedureExecutor.execLoop(ProcedureExecutor.java:725)
    org.apache.hadoop.hbase.procedure2.ProcedureExecutor.access$400(ProcedureExecutor.java:72)
    org.apache.hadoop.hbase.procedure2.ProcedureExecutor$2.run(ProcedureExecutor.java:476)
&lt;span class=&quot;code-object&quot;&gt;Thread&lt;/span&gt; 131 (ProcedureExecutor-16):
  State: WAITING
  Blocked count: 0
  Waited count: 5193696305
  Waiting on java.util.concurrent.locks.ReentrantLock$NonfairSync@6e6a5656
  Stack:
    sun.misc.Unsafe.park(Native Method)
    java.util.concurrent.locks.LockSupport.park(LockSupport.java:175)
    java.util.concurrent.locks.AbstractQueuedSynchronizer.parkAndCheckInterrupt(AbstractQueuedSynchronizer.java:836)
    java.util.concurrent.locks.AbstractQueuedSynchronizer.acquireQueued(AbstractQueuedSynchronizer.java:870)
    java.util.concurrent.locks.AbstractQueuedSynchronizer.acquire(AbstractQueuedSynchronizer.java:1199)
    java.util.concurrent.locks.ReentrantLock$NonfairSync.lock(ReentrantLock.java:209)
    java.util.concurrent.locks.ReentrantLock.lock(ReentrantLock.java:285)
    org.apache.hadoop.hbase.master.procedure.MasterProcedureQueue.poll(MasterProcedureQueue.java:133)
    org.apache.hadoop.hbase.procedure2.ProcedureExecutor.execLoop(ProcedureExecutor.java:725)
    org.apache.hadoop.hbase.procedure2.ProcedureExecutor.access$400(ProcedureExecutor.java:72)
    org.apache.hadoop.hbase.procedure2.ProcedureExecutor$2.run(ProcedureExecutor.java:476)
&lt;span class=&quot;code-object&quot;&gt;Thread&lt;/span&gt; 130 (ProcedureExecutor-15):
  State: WAITING
  Blocked count: 1
  Waited count: 5159967893
  Waiting on java.util.concurrent.locks.ReentrantLock$NonfairSync@6e6a5656
  Stack:
    sun.misc.Unsafe.park(Native Method)
    java.util.concurrent.locks.LockSupport.park(LockSupport.java:175)
    java.util.concurrent.locks.AbstractQueuedSynchronizer.parkAndCheckInterrupt(AbstractQueuedSynchronizer.java:836)
    java.util.concurrent.locks.AbstractQueuedSynchronizer.acquireQueued(AbstractQueuedSynchronizer.java:870)
    java.util.concurrent.locks.AbstractQueuedSynchronizer.acquire(AbstractQueuedSynchronizer.java:1199)
    java.util.concurrent.locks.ReentrantLock$NonfairSync.lock(ReentrantLock.java:209)
    java.util.concurrent.locks.ReentrantLock.lock(ReentrantLock.java:285)
    org.apache.hadoop.hbase.master.procedure.MasterProcedureQueue.poll(MasterProcedureQueue.java:133)
    org.apache.hadoop.hbase.procedure2.ProcedureExecutor.execLoop(ProcedureExecutor.java:725)
    org.apache.hadoop.hbase.procedure2.ProcedureExecutor.access$400(ProcedureExecutor.java:72)
    org.apache.hadoop.hbase.procedure2.ProcedureExecutor$2.run(ProcedureExecutor.java:476)
&lt;span class=&quot;code-object&quot;&gt;Thread&lt;/span&gt; 129 (ProcedureExecutor-14):
  State: WAITING
  Blocked count: 1
  Waited count: 4944911560
  Waiting on java.util.concurrent.locks.ReentrantLock$NonfairSync@6e6a5656
  Stack:
    sun.misc.Unsafe.park(Native Method)
    java.util.concurrent.locks.LockSupport.park(LockSupport.java:175)
    java.util.concurrent.locks.AbstractQueuedSynchronizer.parkAndCheckInterrupt(AbstractQueuedSynchronizer.java:836)
    java.util.concurrent.locks.AbstractQueuedSynchronizer.acquireQueued(AbstractQueuedSynchronizer.java:870)
    java.util.concurrent.locks.AbstractQueuedSynchronizer.acquire(AbstractQueuedSynchronizer.java:1199)
    java.util.concurrent.locks.ReentrantLock$NonfairSync.lock(ReentrantLock.java:209)
    java.util.concurrent.locks.ReentrantLock.lock(ReentrantLock.java:285)
    org.apache.hadoop.hbase.master.procedure.MasterProcedureQueue.poll(MasterProcedureQueue.java:133)
    org.apache.hadoop.hbase.procedure2.ProcedureExecutor.execLoop(ProcedureExecutor.java:725)
    org.apache.hadoop.hbase.procedure2.ProcedureExecutor.access$400(ProcedureExecutor.java:72)
    org.apache.hadoop.hbase.procedure2.ProcedureExecutor$2.run(ProcedureExecutor.java:476)
&lt;span class=&quot;code-object&quot;&gt;Thread&lt;/span&gt; 127 (ProcedureExecutor-12):
  State: WAITING
  Blocked count: 3
  Waited count: 4758449709
  Waiting on java.util.concurrent.locks.ReentrantLock$NonfairSync@6e6a5656
  Stack:
    sun.misc.Unsafe.park(Native Method)
    java.util.concurrent.locks.LockSupport.park(LockSupport.java:175)
    java.util.concurrent.locks.AbstractQueuedSynchronizer.parkAndCheckInterrupt(AbstractQueuedSynchronizer.java:836)
    java.util.concurrent.locks.AbstractQueuedSynchronizer.acquireQueued(AbstractQueuedSynchronizer.java:870)
    java.util.concurrent.locks.AbstractQueuedSynchronizer.acquire(AbstractQueuedSynchronizer.java:1199)
    java.util.concurrent.locks.ReentrantLock$NonfairSync.lock(ReentrantLock.java:209)
    java.util.concurrent.locks.ReentrantLock.lock(ReentrantLock.java:285)
    org.apache.hadoop.hbase.master.procedure.MasterProcedureQueue.poll(MasterProcedureQueue.java:133)
    org.apache.hadoop.hbase.procedure2.ProcedureExecutor.execLoop(ProcedureExecutor.java:725)
    org.apache.hadoop.hbase.procedure2.ProcedureExecutor.access$400(ProcedureExecutor.java:72)
    org.apache.hadoop.hbase.procedure2.ProcedureExecutor$2.run(ProcedureExecutor.java:476)
&lt;span class=&quot;code-object&quot;&gt;Thread&lt;/span&gt; 126 (ProcedureExecutor-11):
  State: WAITING
  Blocked count: 0
  Waited count: 4875194485
  Waiting on java.util.concurrent.locks.ReentrantLock$NonfairSync@6e6a5656
  Stack:
    sun.misc.Unsafe.park(Native Method)
    java.util.concurrent.locks.LockSupport.park(LockSupport.java:175)
    java.util.concurrent.locks.AbstractQueuedSynchronizer.parkAndCheckInterrupt(AbstractQueuedSynchronizer.java:836)
    java.util.concurrent.locks.AbstractQueuedSynchronizer.acquireQueued(AbstractQueuedSynchronizer.java:870)
    java.util.concurrent.locks.AbstractQueuedSynchronizer.acquire(AbstractQueuedSynchronizer.java:1199)
    java.util.concurrent.locks.ReentrantLock$NonfairSync.lock(ReentrantLock.java:209)
    java.util.concurrent.locks.ReentrantLock.lock(ReentrantLock.java:285)
    org.apache.hadoop.hbase.master.procedure.MasterProcedureQueue.poll(MasterProcedureQueue.java:133)
    org.apache.hadoop.hbase.procedure2.ProcedureExecutor.execLoop(ProcedureExecutor.java:725)
    org.apache.hadoop.hbase.procedure2.ProcedureExecutor.access$400(ProcedureExecutor.java:72)
    org.apache.hadoop.hbase.procedure2.ProcedureExecutor$2.run(ProcedureExecutor.java:476)
&lt;span class=&quot;code-object&quot;&gt;Thread&lt;/span&gt; 125 (ProcedureExecutor-10):
  State: WAITING
  Blocked count: 8
  Waited count: 5098641806
  Waiting on java.util.concurrent.locks.ReentrantLock$NonfairSync@6e6a5656
  Stack:
    sun.misc.Unsafe.park(Native Method)
    java.util.concurrent.locks.LockSupport.park(LockSupport.java:175)
    java.util.concurrent.locks.AbstractQueuedSynchronizer.parkAndCheckInterrupt(AbstractQueuedSynchronizer.java:836)
    java.util.concurrent.locks.AbstractQueuedSynchronizer.acquireQueued(AbstractQueuedSynchronizer.java:870)
    java.util.concurrent.locks.AbstractQueuedSynchronizer.acquire(AbstractQueuedSynchronizer.java:1199)
    java.util.concurrent.locks.ReentrantLock$NonfairSync.lock(ReentrantLock.java:209)
    java.util.concurrent.locks.ReentrantLock.lock(ReentrantLock.java:285)
    org.apache.hadoop.hbase.master.procedure.MasterProcedureQueue.poll(MasterProcedureQueue.java:133)
    org.apache.hadoop.hbase.procedure2.ProcedureExecutor.execLoop(ProcedureExecutor.java:725)
    org.apache.hadoop.hbase.procedure2.ProcedureExecutor.access$400(ProcedureExecutor.java:72)
    org.apache.hadoop.hbase.procedure2.ProcedureExecutor$2.run(ProcedureExecutor.java:476)
&lt;span class=&quot;code-object&quot;&gt;Thread&lt;/span&gt; 124 (ProcedureExecutor-9):
  State: WAITING
  Blocked count: 5
  Waited count: 4956138868
  Waiting on java.util.concurrent.locks.ReentrantLock$NonfairSync@6e6a5656
  Stack:
    sun.misc.Unsafe.park(Native Method)
    java.util.concurrent.locks.LockSupport.park(LockSupport.java:175)
    java.util.concurrent.locks.AbstractQueuedSynchronizer.parkAndCheckInterrupt(AbstractQueuedSynchronizer.java:836)
    java.util.concurrent.locks.AbstractQueuedSynchronizer.acquireQueued(AbstractQueuedSynchronizer.java:870)
    java.util.concurrent.locks.AbstractQueuedSynchronizer.acquire(AbstractQueuedSynchronizer.java:1199)
    java.util.concurrent.locks.ReentrantLock$NonfairSync.lock(ReentrantLock.java:209)
    java.util.concurrent.locks.ReentrantLock.lock(ReentrantLock.java:285)
    org.apache.hadoop.hbase.master.procedure.MasterProcedureQueue.poll(MasterProcedureQueue.java:133)
    org.apache.hadoop.hbase.procedure2.ProcedureExecutor.execLoop(ProcedureExecutor.java:725)
    org.apache.hadoop.hbase.procedure2.ProcedureExecutor.access$400(ProcedureExecutor.java:72)
    org.apache.hadoop.hbase.procedure2.ProcedureExecutor$2.run(ProcedureExecutor.java:476)
&lt;span class=&quot;code-object&quot;&gt;Thread&lt;/span&gt; 123 (ProcedureExecutor-8):
  State: WAITING
  Blocked count: 8
  Waited count: 4949138759
  Waiting on java.util.concurrent.locks.ReentrantLock$NonfairSync@6e6a5656
  Stack:
    sun.misc.Unsafe.park(Native Method)
    java.util.concurrent.locks.LockSupport.park(LockSupport.java:175)
    java.util.concurrent.locks.AbstractQueuedSynchronizer.parkAndCheckInterrupt(AbstractQueuedSynchronizer.java:836)
    java.util.concurrent.locks.AbstractQueuedSynchronizer.acquireQueued(AbstractQueuedSynchronizer.java:870)
    java.util.concurrent.locks.AbstractQueuedSynchronizer.acquire(AbstractQueuedSynchronizer.java:1199)
    java.util.concurrent.locks.ReentrantLock$NonfairSync.lock(ReentrantLock.java:209)
    java.util.concurrent.locks.ReentrantLock.lock(ReentrantLock.java:285)
    org.apache.hadoop.hbase.master.procedure.MasterProcedureQueue.poll(MasterProcedureQueue.java:133)
    org.apache.hadoop.hbase.procedure2.ProcedureExecutor.execLoop(ProcedureExecutor.java:725)
    org.apache.hadoop.hbase.procedure2.ProcedureExecutor.access$400(ProcedureExecutor.java:72)
    org.apache.hadoop.hbase.procedure2.ProcedureExecutor$2.run(ProcedureExecutor.java:476)
&lt;span class=&quot;code-object&quot;&gt;Thread&lt;/span&gt; 122 (ProcedureExecutor-7):
  State: WAITING
  Blocked count: 3
  Waited count: 5007168959
  Waiting on java.util.concurrent.locks.ReentrantLock$NonfairSync@6e6a5656
  Stack:
    sun.misc.Unsafe.park(Native Method)
    java.util.concurrent.locks.LockSupport.park(LockSupport.java:175)
    java.util.concurrent.locks.AbstractQueuedSynchronizer.parkAndCheckInterrupt(AbstractQueuedSynchronizer.java:836)
    java.util.concurrent.locks.AbstractQueuedSynchronizer.acquireQueued(AbstractQueuedSynchronizer.java:870)
    java.util.concurrent.locks.AbstractQueuedSynchronizer.acquire(AbstractQueuedSynchronizer.java:1199)
    java.util.concurrent.locks.ReentrantLock$NonfairSync.lock(ReentrantLock.java:209)
    java.util.concurrent.locks.ReentrantLock.lock(ReentrantLock.java:285)
    org.apache.hadoop.hbase.master.procedure.MasterProcedureQueue.poll(MasterProcedureQueue.java:133)
    org.apache.hadoop.hbase.procedure2.ProcedureExecutor.execLoop(ProcedureExecutor.java:725)
    org.apache.hadoop.hbase.procedure2.ProcedureExecutor.access$400(ProcedureExecutor.java:72)
    org.apache.hadoop.hbase.procedure2.ProcedureExecutor$2.run(ProcedureExecutor.java:476)
&lt;span class=&quot;code-object&quot;&gt;Thread&lt;/span&gt; 121 (ProcedureExecutor-6):
  State: WAITING
  Blocked count: 2
  Waited count: 5025941067
  Waiting on java.util.concurrent.locks.ReentrantLock$NonfairSync@6e6a5656
  Stack:
    sun.misc.Unsafe.park(Native Method)
    java.util.concurrent.locks.LockSupport.park(LockSupport.java:175)
    java.util.concurrent.locks.AbstractQueuedSynchronizer.parkAndCheckInterrupt(AbstractQueuedSynchronizer.java:836)
    java.util.concurrent.locks.AbstractQueuedSynchronizer.acquireQueued(AbstractQueuedSynchronizer.java:870)
    java.util.concurrent.locks.AbstractQueuedSynchronizer.acquire(AbstractQueuedSynchronizer.java:1199)
    java.util.concurrent.locks.ReentrantLock$NonfairSync.lock(ReentrantLock.java:209)
    java.util.concurrent.locks.ReentrantLock.lock(ReentrantLock.java:285)
    org.apache.hadoop.hbase.master.procedure.MasterProcedureQueue.poll(MasterProcedureQueue.java:133)
    org.apache.hadoop.hbase.procedure2.ProcedureExecutor.execLoop(ProcedureExecutor.java:725)
    org.apache.hadoop.hbase.procedure2.ProcedureExecutor.access$400(ProcedureExecutor.java:72)
    org.apache.hadoop.hbase.procedure2.ProcedureExecutor$2.run(ProcedureExecutor.java:476)
&lt;span class=&quot;code-object&quot;&gt;Thread&lt;/span&gt; 120 (ProcedureExecutor-5):
  State: WAITING
  Blocked count: 2
  Waited count: 5118307254
  Waiting on java.util.concurrent.locks.ReentrantLock$NonfairSync@6e6a5656
  Stack:
    sun.misc.Unsafe.park(Native Method)
    java.util.concurrent.locks.LockSupport.park(LockSupport.java:175)
    java.util.concurrent.locks.AbstractQueuedSynchronizer.parkAndCheckInterrupt(AbstractQueuedSynchronizer.java:836)
    java.util.concurrent.locks.AbstractQueuedSynchronizer.acquireQueued(AbstractQueuedSynchronizer.java:870)
    java.util.concurrent.locks.AbstractQueuedSynchronizer.acquire(AbstractQueuedSynchronizer.java:1199)
    java.util.concurrent.locks.ReentrantLock$NonfairSync.lock(ReentrantLock.java:209)
    java.util.concurrent.locks.ReentrantLock.lock(ReentrantLock.java:285)
    org.apache.hadoop.hbase.master.procedure.MasterProcedureQueue.poll(MasterProcedureQueue.java:133)
    org.apache.hadoop.hbase.procedure2.ProcedureExecutor.execLoop(ProcedureExecutor.java:725)
    org.apache.hadoop.hbase.procedure2.ProcedureExecutor.access$400(ProcedureExecutor.java:72)
    org.apache.hadoop.hbase.procedure2.ProcedureExecutor$2.run(ProcedureExecutor.java:476)
&lt;span class=&quot;code-object&quot;&gt;Thread&lt;/span&gt; 119 (ProcedureExecutor-4):
  State: WAITING
  Blocked count: 2
  Waited count: 4839725179
  Waiting on java.util.concurrent.locks.ReentrantLock$NonfairSync@6e6a5656
  Stack:
    sun.misc.Unsafe.park(Native Method)
    java.util.concurrent.locks.LockSupport.park(LockSupport.java:175)
    java.util.concurrent.locks.AbstractQueuedSynchronizer.parkAndCheckInterrupt(AbstractQueuedSynchronizer.java:836)
    java.util.concurrent.locks.AbstractQueuedSynchronizer.acquireQueued(AbstractQueuedSynchronizer.java:870)
    java.util.concurrent.locks.AbstractQueuedSynchronizer.acquire(AbstractQueuedSynchronizer.java:1199)
    java.util.concurrent.locks.ReentrantLock$NonfairSync.lock(ReentrantLock.java:209)
    java.util.concurrent.locks.ReentrantLock.lock(ReentrantLock.java:285)
    org.apache.hadoop.hbase.master.procedure.MasterProcedureQueue.poll(MasterProcedureQueue.java:133)
    org.apache.hadoop.hbase.procedure2.ProcedureExecutor.execLoop(ProcedureExecutor.java:725)
    org.apache.hadoop.hbase.procedure2.ProcedureExecutor.access$400(ProcedureExecutor.java:72)
    org.apache.hadoop.hbase.procedure2.ProcedureExecutor$2.run(ProcedureExecutor.java:476)
&lt;span class=&quot;code-object&quot;&gt;Thread&lt;/span&gt; 118 (ProcedureExecutor-3):
  State: WAITING
  Blocked count: 1
  Waited count: 5040896840
  Waiting on java.util.concurrent.locks.ReentrantLock$NonfairSync@6e6a5656
  Stack:
    sun.misc.Unsafe.park(Native Method)
    java.util.concurrent.locks.LockSupport.park(LockSupport.java:175)
    java.util.concurrent.locks.AbstractQueuedSynchronizer.parkAndCheckInterrupt(AbstractQueuedSynchronizer.java:836)
    java.util.concurrent.locks.AbstractQueuedSynchronizer.acquireQueued(AbstractQueuedSynchronizer.java:870)
    java.util.concurrent.locks.AbstractQueuedSynchronizer.acquire(AbstractQueuedSynchronizer.java:1199)
    java.util.concurrent.locks.ReentrantLock$NonfairSync.lock(ReentrantLock.java:209)
    java.util.concurrent.locks.ReentrantLock.lock(ReentrantLock.java:285)
    org.apache.hadoop.hbase.master.procedure.MasterProcedureQueue.poll(MasterProcedureQueue.java:133)
    org.apache.hadoop.hbase.procedure2.ProcedureExecutor.execLoop(ProcedureExecutor.java:725)
    org.apache.hadoop.hbase.procedure2.ProcedureExecutor.access$400(ProcedureExecutor.java:72)
    org.apache.hadoop.hbase.procedure2.ProcedureExecutor$2.run(ProcedureExecutor.java:476)
&lt;span class=&quot;code-object&quot;&gt;Thread&lt;/span&gt; 117 (ProcedureExecutor-2):
  State: WAITING
  Blocked count: 14
  Waited count: 5119062593
  Waiting on java.util.concurrent.locks.ReentrantLock$NonfairSync@6e6a5656
  Stack:
    sun.misc.Unsafe.park(Native Method)
    java.util.concurrent.locks.LockSupport.park(LockSupport.java:175)
    java.util.concurrent.locks.AbstractQueuedSynchronizer.parkAndCheckInterrupt(AbstractQueuedSynchronizer.java:836)
    java.util.concurrent.locks.AbstractQueuedSynchronizer.acquireQueued(AbstractQueuedSynchronizer.java:870)
    java.util.concurrent.locks.AbstractQueuedSynchronizer.acquire(AbstractQueuedSynchronizer.java:1199)
    java.util.concurrent.locks.ReentrantLock$NonfairSync.lock(ReentrantLock.java:209)
    java.util.concurrent.locks.ReentrantLock.lock(ReentrantLock.java:285)
    org.apache.hadoop.hbase.master.procedure.MasterProcedureQueue.poll(MasterProcedureQueue.java:133)
    org.apache.hadoop.hbase.procedure2.ProcedureExecutor.execLoop(ProcedureExecutor.java:725)
    org.apache.hadoop.hbase.procedure2.ProcedureExecutor.access$400(ProcedureExecutor.java:72)
    org.apache.hadoop.hbase.procedure2.ProcedureExecutor$2.run(ProcedureExecutor.java:476)
&lt;span class=&quot;code-object&quot;&gt;Thread&lt;/span&gt; 116 (ProcedureExecutor-1):
  State: WAITING
  Blocked count: 12
  Waited count: 5075402180
  Waiting on java.util.concurrent.locks.ReentrantLock$NonfairSync@6e6a5656
  Stack:
    sun.misc.Unsafe.park(Native Method)
    java.util.concurrent.locks.LockSupport.park(LockSupport.java:175)
    java.util.concurrent.locks.AbstractQueuedSynchronizer.parkAndCheckInterrupt(AbstractQueuedSynchronizer.java:836)
    java.util.concurrent.locks.AbstractQueuedSynchronizer.acquireQueued(AbstractQueuedSynchronizer.java:870)
    java.util.concurrent.locks.AbstractQueuedSynchronizer.acquire(AbstractQueuedSynchronizer.java:1199)
    java.util.concurrent.locks.ReentrantLock$NonfairSync.lock(ReentrantLock.java:209)
    java.util.concurrent.locks.ReentrantLock.lock(ReentrantLock.java:285)
    org.apache.hadoop.hbase.master.procedure.MasterProcedureQueue.poll(MasterProcedureQueue.java:133)
    org.apache.hadoop.hbase.procedure2.ProcedureExecutor.execLoop(ProcedureExecutor.java:725)
    org.apache.hadoop.hbase.procedure2.ProcedureExecutor.access$400(ProcedureExecutor.java:72)
    org.apache.hadoop.hbase.procedure2.ProcedureExecutor$2.run(ProcedureExecutor.java:476)
&lt;span class=&quot;code-object&quot;&gt;Thread&lt;/span&gt; 115 (ProcedureExecutor-0):
  State: WAITING
  Blocked count: 0
  Waited count: 4866205757
  Waiting on java.util.concurrent.locks.ReentrantLock$NonfairSync@6e6a5656
  Stack:
    sun.misc.Unsafe.park(Native Method)
    java.util.concurrent.locks.LockSupport.park(LockSupport.java:175)
    java.util.concurrent.locks.AbstractQueuedSynchronizer.parkAndCheckInterrupt(AbstractQueuedSynchronizer.java:836)
    java.util.concurrent.locks.AbstractQueuedSynchronizer.acquireQueued(AbstractQueuedSynchronizer.java:870)
    java.util.concurrent.locks.AbstractQueuedSynchronizer.acquire(AbstractQueuedSynchronizer.java:1199)
    java.util.concurrent.locks.ReentrantLock$NonfairSync.lock(ReentrantLock.java:209)
    java.util.concurrent.locks.ReentrantLock.lock(ReentrantLock.java:285)
    org.apache.hadoop.hbase.master.procedure.MasterProcedureQueue.poll(MasterProcedureQueue.java:133)
    org.apache.hadoop.hbase.procedure2.ProcedureExecutor.execLoop(ProcedureExecutor.java:725)
    org.apache.hadoop.hbase.procedure2.ProcedureExecutor.access$400(ProcedureExecutor.java:72)
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</comment>
                            <comment id="14979409" author="eclark" created="Wed, 28 Oct 2015 22:47:14 +0000"  >&lt;p&gt;Would the oldest log on CI help?&lt;/p&gt;</comment>
                            <comment id="14979423" author="mbertozzi" created="Wed, 28 Oct 2015 22:55:10 +0000"  >&lt;p&gt;state logs and master logs will help debugging.&lt;/p&gt;

&lt;p&gt;also the jstack you posted does not contains any load method...&lt;br/&gt;
so or you already done with that part or you skipped that. &lt;br/&gt;
the above is just executors waiting on new tasks. nothing is busy&lt;/p&gt;</comment>
                            <comment id="14979427" author="eclark" created="Wed, 28 Oct 2015 22:58:59 +0000"  >&lt;p&gt;The CI cluster can&apos;t even get loaded and you can&apos;t get on it.&lt;br/&gt;
That&apos;s a jstack from a different production cluster with 200+ logs. (So seeing the same issues.)&lt;/p&gt;</comment>
                            <comment id="14979469" author="mbertozzi" created="Wed, 28 Oct 2015 23:28:19 +0000"  >&lt;p&gt;those 4 logs looks clean and they can be removed. &lt;br/&gt;
by running the code I end up in the code path where is asking to delete the file...&lt;br/&gt;
it will be nice to see where you are stuck. from the stack trace you posted there is nothing useful&lt;br/&gt;
but if you are saying that you are stuck on load you should see ProcedureWAL or something that talks about load in that trace, you probably just skipped that part when posting&lt;/p&gt;</comment>
                            <comment id="14979491" author="eclark" created="Wed, 28 Oct 2015 23:41:13 +0000"  >&lt;p&gt;The jstacks are from another cluster that&apos;s able to load up the master. However it also is seeing the same issue. Most of my production clusters have days of master procedure logs.&lt;/p&gt;

&lt;p&gt;The ci cluster is so far gone that I can&apos;t ssh into it right now :-/&lt;/p&gt;</comment>
                            <comment id="14979493" author="eclark" created="Wed, 28 Oct 2015 23:43:33 +0000"  >&lt;p&gt;I&apos;m re-imaging the CI cluster and trying again. But it&apos;s happened on two different CI clusters so my guess is that it will reproduce pretty consistently on a ITBLL run.&lt;/p&gt;</comment>
                            <comment id="14979496" author="mbertozzi" created="Wed, 28 Oct 2015 23:45:58 +0000"  >&lt;p&gt;do you have the master logs of the cluster that is able to run?  &lt;br/&gt;
you can try to grep for ProcedureWAL to see if it says something useful. &lt;br/&gt;
I expect to see stuff like &quot;No active entry found in state log XYZ.  removing it&quot;&lt;br/&gt;
or maybe some exception, it is strange that all the wals are still there. &lt;br/&gt;
if you can send me the full set of state files I can try to see if there is something that keeps the logs hanging&lt;/p&gt;</comment>
                            <comment id="14983477" author="mbertozzi" created="Fri, 30 Oct 2015 22:17:43 +0000"  >&lt;p&gt;v0 fixes one issue, where on period roll if there is nothing going on the wals are not deleted. so you accumulate wals up to the next restart. this may be your problem.&lt;/p&gt;

&lt;p&gt;looking into the storeTracker if there are also bugs in there. in theory every wal entry update/delete call we check the store tracker. if there are no procedures running or all the procs are written in the newest wal (updates) we can drop the previous.&lt;/p&gt;</comment>
                            <comment id="14983586" author="eclark" created="Fri, 30 Oct 2015 23:22:56 +0000"  >&lt;p&gt;Here&apos;s the entirety of one clusters master proc logs. This one was running an ITBLL and nothing else.&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;http://people.apache.org/~eclark/MasterProcWALs-hbaseci002.tar.gz&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://people.apache.org/~eclark/MasterProcWALs-hbaseci002.tar.gz&lt;/a&gt;&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
Found 15 items
-rw-r--r--   3 hadoop root   12067862 2015-10-26 17:39 /HBASECI002-HBASE/MasterProcWALs/state-00000000000000000318.log
-rw-r--r--   3 hadoop root   33557821 2015-10-26 18:18 /HBASECI002-HBASE/MasterProcWALs/state-00000000000000000321.log
-rw-r--r--   3 hadoop root   33561858 2015-10-26 19:07 /HBASECI002-HBASE/MasterProcWALs/state-00000000000000000325.log
-rw-r--r--   3 hadoop root   33557309 2015-10-26 19:31 /HBASECI002-HBASE/MasterProcWALs/state-00000000000000000327.log
-rw-r--r--   3 hadoop root     989672 2015-10-26 19:32 /HBASECI002-HBASE/MasterProcWALs/state-00000000000000000328.log
-rw-r--r--   3 hadoop root   23137180 2015-10-26 20:32 /HBASECI002-HBASE/MasterProcWALs/state-00000000000000000329.log
-rw-r--r--   3 hadoop root    6212852 2015-10-28 14:19 /HBASECI002-HBASE/MasterProcWALs/state-00000000000000000373.log
-rw-r--r--   3 hadoop root    5116784 2015-10-29 19:32 /HBASECI002-HBASE/MasterProcWALs/state-00000000000000000403.log
-rw-r--r--   3 hadoop root   10176515 2015-10-30 10:46 /HBASECI002-HBASE/MasterProcWALs/state-00000000000000001048.log
-rw-r--r--   3 hadoop root   16108983 2015-10-30 11:46 /HBASECI002-HBASE/MasterProcWALs/state-00000000000000001049.log
-rw-r--r--   3 hadoop root   10648929 2015-10-30 12:46 /HBASECI002-HBASE/MasterProcWALs/state-00000000000000001050.log
-rw-r--r--   3 hadoop root    7730706 2015-10-30 13:46 /HBASECI002-HBASE/MasterProcWALs/state-00000000000000001051.log
-rw-r--r--   3 hadoop root    8072367 2015-10-30 14:46 /HBASECI002-HBASE/MasterProcWALs/state-00000000000000001052.log
-rw-r--r--   3 hadoop root    5147892 2015-10-30 15:46 /HBASECI002-HBASE/MasterProcWALs/state-00000000000000001053.log
-rw-r--r--   3 hadoop root      12515 2015-10-30 15:46 /HBASECI002-HBASE/MasterProcWALs/state-00000000000000001054.log
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</comment>
                            <comment id="14983588" author="eclark" created="Fri, 30 Oct 2015 23:25:36 +0000"  >&lt;p&gt;+1 on v0. Lets get that in and I can start another test running.&lt;/p&gt;</comment>
                            <comment id="14983595" author="enis" created="Fri, 30 Oct 2015 23:33:51 +0000"  >&lt;p&gt;Making 1.2.0 as the fixVersion. &lt;/p&gt;</comment>
                            <comment id="14988761" author="apurtell" created="Wed, 4 Nov 2015 02:23:34 +0000"  >&lt;p&gt;What do you want to do about 1.1? New RCs coming this week.&lt;br/&gt;
Edit: Misread fix versions, fixed now.&lt;/p&gt;</comment>
                            <comment id="14988872" author="busbey" created="Wed, 4 Nov 2015 04:53:20 +0000"  >&lt;p&gt;is this good to go? the postcommit builds are looking good for branch-1.2 and I&apos;d like to make RC0&lt;/p&gt;</comment>
                            <comment id="14989474" author="mbertozzi" created="Wed, 4 Nov 2015 12:30:30 +0000"  >&lt;p&gt;no&lt;/p&gt;</comment>
                            <comment id="14990988" author="mbertozzi" created="Thu, 5 Nov 2015 02:32:49 +0000"  >&lt;p&gt;v1 is a more extensive fix. has the v0 periodic cleanup + some fix to the tracker. This should do the trick under normal behavior.&lt;br/&gt;
there are other things as TODO since the first patch, that will always maintain a low and short number of wals, but i&apos;m going to do that later in another jiras.  &lt;/p&gt;</comment>
                            <comment id="14991066" author="hadoopqa" created="Thu, 5 Nov 2015 03:41:57 +0000"  >&lt;p&gt;&lt;font color=&quot;red&quot;&gt;-1 overall&lt;/font&gt;.  Here are the results of testing the latest attachment &lt;br/&gt;
  &lt;a href=&quot;http://issues.apache.org/jira/secure/attachment/12770734/HBASE-14712-v1.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://issues.apache.org/jira/secure/attachment/12770734/HBASE-14712-v1.patch&lt;/a&gt;&lt;br/&gt;
  against master branch at commit 21b607e322df0404c9941bc3dd12faef6b7957fe.&lt;br/&gt;
  ATTACHMENT ID: 12770734&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 @author&lt;/font&gt;.  The patch does not contain any @author tags.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 tests included&lt;/font&gt;.  The patch appears to include 6 new or modified tests.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 hadoop versions&lt;/font&gt;. The patch compiles with all supported hadoop versions (2.4.0 2.4.1 2.5.0 2.5.1 2.5.2 2.6.0 2.6.1 2.7.0 2.7.1)&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 javac&lt;/font&gt;.  The applied patch does not increase the total number of javac compiler warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 protoc&lt;/font&gt;.  The applied patch does not increase the total number of protoc compiler warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 javadoc&lt;/font&gt;.  The javadoc tool did not generate any warning messages.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 checkstyle&lt;/font&gt;.  The applied patch does not increase the total number of checkstyle errors&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 findbugs&lt;/font&gt;.  The patch does not introduce any  new Findbugs (version 2.0.3) warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 release audit&lt;/font&gt;.  The applied patch does not increase the total number of release audit warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 lineLengths&lt;/font&gt;.  The patch does not introduce lines longer than 100&lt;/p&gt;

&lt;p&gt;  &lt;font color=&quot;green&quot;&gt;+1 site&lt;/font&gt;.  The mvn post-site goal succeeds with this patch.&lt;/p&gt;

&lt;p&gt;     &lt;font color=&quot;red&quot;&gt;-1 core tests&lt;/font&gt;.  The patch failed these unit tests:&lt;br/&gt;
                       org.apache.hadoop.hbase.procedure2.store.TestProcedureStoreTracker&lt;br/&gt;
                  org.apache.hadoop.hbase.procedure2.TestProcedureRecovery&lt;/p&gt;

&lt;p&gt;Test results: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/16398//testReport/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/16398//testReport/&lt;/a&gt;&lt;br/&gt;
Release Findbugs (version 2.0.3) 	warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/16398//artifact/patchprocess/newFindbugsWarnings.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/16398//artifact/patchprocess/newFindbugsWarnings.html&lt;/a&gt;&lt;br/&gt;
Checkstyle Errors: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/16398//artifact/patchprocess/checkstyle-aggregate.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/16398//artifact/patchprocess/checkstyle-aggregate.html&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;  Console output: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/16398//console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/16398//console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;</comment>
                            <comment id="14991328" author="hadoopqa" created="Thu, 5 Nov 2015 08:34:04 +0000"  >&lt;p&gt;&lt;font color=&quot;green&quot;&gt;+1 overall&lt;/font&gt;.  Here are the results of testing the latest attachment &lt;br/&gt;
  &lt;a href=&quot;http://issues.apache.org/jira/secure/attachment/12770746/HBASE-14712-v1.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://issues.apache.org/jira/secure/attachment/12770746/HBASE-14712-v1.patch&lt;/a&gt;&lt;br/&gt;
  against master branch at commit 21b607e322df0404c9941bc3dd12faef6b7957fe.&lt;br/&gt;
  ATTACHMENT ID: 12770746&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 @author&lt;/font&gt;.  The patch does not contain any @author tags.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 tests included&lt;/font&gt;.  The patch appears to include 6 new or modified tests.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 hadoop versions&lt;/font&gt;. The patch compiles with all supported hadoop versions (2.4.0 2.4.1 2.5.0 2.5.1 2.5.2 2.6.0 2.6.1 2.7.0 2.7.1)&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 javac&lt;/font&gt;.  The applied patch does not increase the total number of javac compiler warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 protoc&lt;/font&gt;.  The applied patch does not increase the total number of protoc compiler warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 javadoc&lt;/font&gt;.  The javadoc tool did not generate any warning messages.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 checkstyle&lt;/font&gt;.  The applied patch does not increase the total number of checkstyle errors&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 findbugs&lt;/font&gt;.  The patch does not introduce any  new Findbugs (version 2.0.3) warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 release audit&lt;/font&gt;.  The applied patch does not increase the total number of release audit warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 lineLengths&lt;/font&gt;.  The patch does not introduce lines longer than 100&lt;/p&gt;

&lt;p&gt;  &lt;font color=&quot;green&quot;&gt;+1 site&lt;/font&gt;.  The mvn post-site goal succeeds with this patch.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 core tests&lt;/font&gt;.  The patch passed unit tests in .&lt;/p&gt;

&lt;p&gt;Test results: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/16401//testReport/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/16401//testReport/&lt;/a&gt;&lt;br/&gt;
Release Findbugs (version 2.0.3) 	warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/16401//artifact/patchprocess/newFindbugsWarnings.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/16401//artifact/patchprocess/newFindbugsWarnings.html&lt;/a&gt;&lt;br/&gt;
Checkstyle Errors: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/16401//artifact/patchprocess/checkstyle-aggregate.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/16401//artifact/patchprocess/checkstyle-aggregate.html&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;  Console output: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/16401//console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/16401//console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;</comment>
                            <comment id="14994549" author="eclark" created="Fri, 6 Nov 2015 22:06:49 +0000"  >&lt;p&gt;Are the changes to Wal procedure bit set compatible ?&lt;/p&gt;</comment>
                            <comment id="14994552" author="mbertozzi" created="Fri, 6 Nov 2015 22:09:30 +0000"  >&lt;p&gt;yes, that is just in-memory stuff. nothing changed on the file&lt;/p&gt;</comment>
                            <comment id="14994567" author="eclark" created="Fri, 6 Nov 2015 22:20:17 +0000"  >&lt;p&gt;Sounds good. +1 from me.&lt;/p&gt;</comment>
                            <comment id="14997237" author="hudson" created="Mon, 9 Nov 2015 19:47:20 +0000"  >&lt;p&gt;SUCCESS: Integrated in HBase-1.2-IT #272 (See &lt;a href=&quot;https://builds.apache.org/job/HBase-1.2-IT/272/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/HBase-1.2-IT/272/&lt;/a&gt;)&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-14712&quot; title=&quot;MasterProcWALs never clean up&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-14712&quot;&gt;&lt;del&gt;HBASE-14712&lt;/del&gt;&lt;/a&gt; Increase MasterProcWALs clean up granularity (matteo.bertozzi: rev 1befa4683dea7a21f8879c4c240fea076f501329)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;hbase-procedure/src/main/java/org/apache/hadoop/hbase/procedure2/store/wal/ProcedureWALFile.java&lt;/li&gt;
	&lt;li&gt;hbase-procedure/src/test/java/org/apache/hadoop/hbase/procedure2/store/wal/TestWALProcedureStore.java&lt;/li&gt;
	&lt;li&gt;hbase-procedure/src/main/java/org/apache/hadoop/hbase/procedure2/store/wal/WALProcedureStore.java&lt;/li&gt;
	&lt;li&gt;hbase-procedure/src/main/java/org/apache/hadoop/hbase/procedure2/store/wal/ProcedureWALFormatReader.java&lt;/li&gt;
	&lt;li&gt;hbase-procedure/src/test/java/org/apache/hadoop/hbase/procedure2/store/TestProcedureStoreTracker.java&lt;/li&gt;
	&lt;li&gt;hbase-procedure/src/main/java/org/apache/hadoop/hbase/procedure2/store/ProcedureStoreTracker.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="14997406" author="hudson" created="Mon, 9 Nov 2015 21:35:50 +0000"  >&lt;p&gt;FAILURE: Integrated in HBase-1.2 #356 (See &lt;a href=&quot;https://builds.apache.org/job/HBase-1.2/356/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/HBase-1.2/356/&lt;/a&gt;)&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-14712&quot; title=&quot;MasterProcWALs never clean up&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-14712&quot;&gt;&lt;del&gt;HBASE-14712&lt;/del&gt;&lt;/a&gt; Increase MasterProcWALs clean up granularity (matteo.bertozzi: rev 1befa4683dea7a21f8879c4c240fea076f501329)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;hbase-procedure/src/test/java/org/apache/hadoop/hbase/procedure2/store/wal/TestWALProcedureStore.java&lt;/li&gt;
	&lt;li&gt;hbase-procedure/src/test/java/org/apache/hadoop/hbase/procedure2/store/TestProcedureStoreTracker.java&lt;/li&gt;
	&lt;li&gt;hbase-procedure/src/main/java/org/apache/hadoop/hbase/procedure2/store/ProcedureStoreTracker.java&lt;/li&gt;
	&lt;li&gt;hbase-procedure/src/main/java/org/apache/hadoop/hbase/procedure2/store/wal/ProcedureWALFile.java&lt;/li&gt;
	&lt;li&gt;hbase-procedure/src/main/java/org/apache/hadoop/hbase/procedure2/store/wal/WALProcedureStore.java&lt;/li&gt;
	&lt;li&gt;hbase-procedure/src/main/java/org/apache/hadoop/hbase/procedure2/store/wal/ProcedureWALFormatReader.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="14997507" author="hudson" created="Mon, 9 Nov 2015 22:23:35 +0000"  >&lt;p&gt;SUCCESS: Integrated in HBase-1.3 #357 (See &lt;a href=&quot;https://builds.apache.org/job/HBase-1.3/357/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/HBase-1.3/357/&lt;/a&gt;)&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-14712&quot; title=&quot;MasterProcWALs never clean up&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-14712&quot;&gt;&lt;del&gt;HBASE-14712&lt;/del&gt;&lt;/a&gt; Increase MasterProcWALs clean up granularity (matteo.bertozzi: rev fd754631aa5eab560ea1808729e2af011a314a69)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;hbase-procedure/src/main/java/org/apache/hadoop/hbase/procedure2/store/wal/WALProcedureStore.java&lt;/li&gt;
	&lt;li&gt;hbase-procedure/src/main/java/org/apache/hadoop/hbase/procedure2/store/wal/ProcedureWALFile.java&lt;/li&gt;
	&lt;li&gt;hbase-procedure/src/test/java/org/apache/hadoop/hbase/procedure2/store/wal/TestWALProcedureStore.java&lt;/li&gt;
	&lt;li&gt;hbase-procedure/src/main/java/org/apache/hadoop/hbase/procedure2/store/ProcedureStoreTracker.java&lt;/li&gt;
	&lt;li&gt;hbase-procedure/src/main/java/org/apache/hadoop/hbase/procedure2/store/wal/ProcedureWALFormatReader.java&lt;/li&gt;
	&lt;li&gt;hbase-procedure/src/test/java/org/apache/hadoop/hbase/procedure2/store/TestProcedureStoreTracker.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="14997629" author="hudson" created="Mon, 9 Nov 2015 23:18:33 +0000"  >&lt;p&gt;FAILURE: Integrated in HBase-1.3-IT #302 (See &lt;a href=&quot;https://builds.apache.org/job/HBase-1.3-IT/302/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/HBase-1.3-IT/302/&lt;/a&gt;)&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-14712&quot; title=&quot;MasterProcWALs never clean up&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-14712&quot;&gt;&lt;del&gt;HBASE-14712&lt;/del&gt;&lt;/a&gt; Increase MasterProcWALs clean up granularity (matteo.bertozzi: rev fd754631aa5eab560ea1808729e2af011a314a69)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;hbase-procedure/src/test/java/org/apache/hadoop/hbase/procedure2/store/wal/TestWALProcedureStore.java&lt;/li&gt;
	&lt;li&gt;hbase-procedure/src/test/java/org/apache/hadoop/hbase/procedure2/store/TestProcedureStoreTracker.java&lt;/li&gt;
	&lt;li&gt;hbase-procedure/src/main/java/org/apache/hadoop/hbase/procedure2/store/wal/ProcedureWALFile.java&lt;/li&gt;
	&lt;li&gt;hbase-procedure/src/main/java/org/apache/hadoop/hbase/procedure2/store/ProcedureStoreTracker.java&lt;/li&gt;
	&lt;li&gt;hbase-procedure/src/main/java/org/apache/hadoop/hbase/procedure2/store/wal/WALProcedureStore.java&lt;/li&gt;
	&lt;li&gt;hbase-procedure/src/main/java/org/apache/hadoop/hbase/procedure2/store/wal/ProcedureWALFormatReader.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="14997634" author="hudson" created="Mon, 9 Nov 2015 23:23:15 +0000"  >&lt;p&gt;FAILURE: Integrated in HBase-Trunk_matrix #451 (See &lt;a href=&quot;https://builds.apache.org/job/HBase-Trunk_matrix/451/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/HBase-Trunk_matrix/451/&lt;/a&gt;)&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-14712&quot; title=&quot;MasterProcWALs never clean up&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-14712&quot;&gt;&lt;del&gt;HBASE-14712&lt;/del&gt;&lt;/a&gt; Increase MasterProcWALs clean up granularity (matteo.bertozzi: rev 7b80c803b70008a1e5cf593fc302535b451400fe)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;hbase-procedure/src/main/java/org/apache/hadoop/hbase/procedure2/store/wal/ProcedureWALFile.java&lt;/li&gt;
	&lt;li&gt;hbase-procedure/src/test/java/org/apache/hadoop/hbase/procedure2/store/TestProcedureStoreTracker.java&lt;/li&gt;
	&lt;li&gt;hbase-procedure/src/main/java/org/apache/hadoop/hbase/procedure2/store/wal/ProcedureWALFormatReader.java&lt;/li&gt;
	&lt;li&gt;hbase-procedure/src/test/java/org/apache/hadoop/hbase/procedure2/store/wal/TestWALProcedureStore.java&lt;/li&gt;
	&lt;li&gt;hbase-procedure/src/main/java/org/apache/hadoop/hbase/procedure2/store/wal/WALProcedureStore.java&lt;/li&gt;
	&lt;li&gt;hbase-procedure/src/main/java/org/apache/hadoop/hbase/procedure2/store/ProcedureStoreTracker.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="14997684" author="hudson" created="Mon, 9 Nov 2015 23:54:01 +0000"  >&lt;p&gt;FAILURE: Integrated in HBase-1.1-JDK7 #1591 (See &lt;a href=&quot;https://builds.apache.org/job/HBase-1.1-JDK7/1591/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/HBase-1.1-JDK7/1591/&lt;/a&gt;)&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-14712&quot; title=&quot;MasterProcWALs never clean up&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-14712&quot;&gt;&lt;del&gt;HBASE-14712&lt;/del&gt;&lt;/a&gt; Increase MasterProcWALs clean up granularity (matteo.bertozzi: rev fa5f17bb67409f05f67b55be3fb6db537cf58b64)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;hbase-procedure/src/main/java/org/apache/hadoop/hbase/procedure2/store/ProcedureStoreTracker.java&lt;/li&gt;
	&lt;li&gt;hbase-procedure/src/main/java/org/apache/hadoop/hbase/procedure2/store/wal/WALProcedureStore.java&lt;/li&gt;
	&lt;li&gt;hbase-procedure/src/test/java/org/apache/hadoop/hbase/procedure2/store/TestProcedureStoreTracker.java&lt;/li&gt;
	&lt;li&gt;hbase-procedure/src/main/java/org/apache/hadoop/hbase/procedure2/store/wal/ProcedureWALFormatReader.java&lt;/li&gt;
	&lt;li&gt;hbase-procedure/src/test/java/org/apache/hadoop/hbase/procedure2/store/wal/TestWALProcedureStore.java&lt;/li&gt;
	&lt;li&gt;hbase-procedure/src/main/java/org/apache/hadoop/hbase/procedure2/store/wal/ProcedureWALFile.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="14997694" author="hudson" created="Tue, 10 Nov 2015 00:01:54 +0000"  >&lt;p&gt;FAILURE: Integrated in HBase-1.1-JDK8 #1678 (See &lt;a href=&quot;https://builds.apache.org/job/HBase-1.1-JDK8/1678/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/HBase-1.1-JDK8/1678/&lt;/a&gt;)&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-14712&quot; title=&quot;MasterProcWALs never clean up&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-14712&quot;&gt;&lt;del&gt;HBASE-14712&lt;/del&gt;&lt;/a&gt; Increase MasterProcWALs clean up granularity (matteo.bertozzi: rev fa5f17bb67409f05f67b55be3fb6db537cf58b64)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;hbase-procedure/src/test/java/org/apache/hadoop/hbase/procedure2/store/TestProcedureStoreTracker.java&lt;/li&gt;
	&lt;li&gt;hbase-procedure/src/test/java/org/apache/hadoop/hbase/procedure2/store/wal/TestWALProcedureStore.java&lt;/li&gt;
	&lt;li&gt;hbase-procedure/src/main/java/org/apache/hadoop/hbase/procedure2/store/wal/WALProcedureStore.java&lt;/li&gt;
	&lt;li&gt;hbase-procedure/src/main/java/org/apache/hadoop/hbase/procedure2/store/wal/ProcedureWALFormatReader.java&lt;/li&gt;
	&lt;li&gt;hbase-procedure/src/main/java/org/apache/hadoop/hbase/procedure2/store/ProcedureStoreTracker.java&lt;/li&gt;
	&lt;li&gt;hbase-procedure/src/main/java/org/apache/hadoop/hbase/procedure2/store/wal/ProcedureWALFile.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="15010263" author="busbey" created="Wed, 18 Nov 2015 05:18:11 +0000"  >&lt;p&gt;looks like patch is in. fine to close?&lt;/p&gt;</comment>
                            <comment id="15119578" author="ndimiduk" created="Wed, 27 Jan 2016 15:28:57 +0000"  >&lt;p&gt;Bulk closing 1.1.3 issues.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12769883" name="HBASE-14712-v0.patch" size="2291" author="mbertozzi" created="Fri, 30 Oct 2015 22:17:43 +0000"/>
                            <attachment id="12770746" name="HBASE-14712-v1.patch" size="20829" author="mbertozzi" created="Thu, 5 Nov 2015 05:35:59 +0000"/>
                            <attachment id="12769438" name="state.tar.gz" size="732896" author="eclark" created="Wed, 28 Oct 2015 23:06:34 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>3.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Wed, 28 Oct 2015 21:37:51 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            44 weeks, 1 day ago
                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i2nnof:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        </customfields>
    </item>
</channel>
</rss>