<!-- 
RSS generated by JIRA (6.3.4#6332-sha1:51bc225ef474afe3128b2f66878477f322397b16) at Thu Dec 01 20:56:03 UTC 2016

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary add field=key&field=summary to the URL of your request.
For example:
https://issues.apache.org/jira/si/jira.issueviews:issue-xml/HBASE-14407/HBASE-14407.xml?field=key&amp;field=summary
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>6.3.4</version>
        <build-number>6332</build-number>
        <build-date>15-08-2014</build-date>
    </build-info>

<item>
            <title>[HBASE-14407] NotServingRegion: hbase region closed forever</title>
                <link>https://issues.apache.org/jira/browse/HBASE-14407</link>
                <project id="12310753" key="HBASE">HBase</project>
                    <description>&lt;p&gt;    I found a situation may cause region closed forever, and this situation happend usually on my cluster, version is 0.98.10, but 1.1.2 also have the problem:&lt;br/&gt;
    1, master send region open to regionserver&lt;br/&gt;
    2, rs open a handler do openregion&lt;br/&gt;
    3, rs return resopnse to master&lt;br/&gt;
    3, master not received the response, or timeout, send open region again&lt;br/&gt;
    4, rs already opened the region&lt;br/&gt;
    5, master processAlreadyOpenedRegion, update regionstate open in master memory&lt;br/&gt;
    6, master received zk message region opened(for some reason late, eg: net work), and triger update regionstate open, but find that region already opened, ERROR!&lt;br/&gt;
    7, master send close region, and region be closed forever.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12863291">HBASE-14407</key>
            <summary>NotServingRegion: hbase region closed forever</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/bug.png">Bug</type>
                                            <priority id="2" iconUrl="https://issues.apache.org/jira/images/icons/priorities/critical.png">Critical</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="zhoushuaifeng2">Shuaifeng Zhou</assignee>
                                    <reporter username="zhoushuaifeng2">Shuaifeng Zhou</reporter>
                        <labels>
                    </labels>
                <created>Fri, 11 Sep 2015 05:47:12 +0000</created>
                <updated>Wed, 27 Jan 2016 15:28:57 +0000</updated>
                            <resolved>Sat, 26 Sep 2015 01:20:22 +0000</resolved>
                                    <version>0.98.10</version>
                    <version>1.2.0</version>
                    <version>1.1.2</version>
                    <version>1.3.0</version>
                                    <fixVersion>1.2.0</fixVersion>
                    <fixVersion>1.3.0</fixVersion>
                    <fixVersion>0.98.15</fixVersion>
                    <fixVersion>1.0.3</fixVersion>
                    <fixVersion>1.1.3</fixVersion>
                                    <component>Region Assignment</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>9</watches>
                                                                <comments>
                            <comment id="14740269" author="zhoushuaifeng2" created="Fri, 11 Sep 2015 06:13:26 +0000"  >&lt;p&gt;attached is logs on master and regionserver&lt;/p&gt;</comment>
                            <comment id="14744008" author="stack" created="Mon, 14 Sep 2015 18:42:53 +0000"  >&lt;p&gt;Thanks for fiilng  this one &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=zhoushuaifeng2&quot; class=&quot;user-hover&quot; rel=&quot;zhoushuaifeng2&quot;&gt;Shuaifeng Zhou&lt;/a&gt; By any chance, do you have extract from master logs where this happened? Would help doing up fix.&lt;/p&gt;

&lt;p&gt;Marked this critical.&lt;/p&gt;</comment>
                            <comment id="14744866" author="zhoushuaifeng2" created="Tue, 15 Sep 2015 05:40:39 +0000"  >&lt;p&gt;In master log, the error is happened like this(0.98.10):&lt;/p&gt;

&lt;p&gt;1, master open region timeout:&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;2015-09-06 01:35:59,521 DEBUG [hm,60000,1438368907764-GeneralBulkAssigner-19] master.AssignmentManager(1768): Bulk assigner openRegion() to hs4,60020,1441213185092 has timed out, but the regions might already be opened on it.
java.net.SocketTimeoutException: Call to hs4/15.173.0.115:60020 failed because java.net.SocketTimeoutException: 60000 millis timeout while waiting for channel to be ready for read. ch : java.nio.channels.SocketChannel[connected local=/15.173.0.110:33771 remote=hs4/15.173.0.115:60020]
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;2, master retried open region, found that region already opened, delete node&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;2015-09-06 01:36:07,063 DEBUG [hm,60000,1438368907764-GeneralBulkAssigner-19] master.AssignmentManager(2293): ALREADY_OPENED NB_APP_BEHAVIOR_LABEL_000000,F\x180100\x18,1441015264846.2070d83bfd7c3fa6950c859ce842039e. to hs4,60020,1441213185092
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;3, delete zk node in processAlreadyOpenedRegion, but region state not match (because this is a retry, region opened previously )&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;2015-09-06 01:36:07,073 WARN  [hm,60000,1438368907764-GeneralBulkAssigner-19] zookeeper.ZKAssign(458): master:60000-0x24ee432542d01eb, quorum=hs5:2181,hs4:2181,hm:2181, baseZNode=/hbase Attempting to delete unassigned node 2070d83bfd7c3fa6950c859ce842039e in M_ZK_REGION_OFFLINE state but node is in RS_ZK_REGION_OPENED state
2015-09-06 01:36:07,073 INFO  [hm,60000,1438368907764-GeneralBulkAssigner-19] master.AssignmentManager(3614): Failed to delete the offline node for 2070d83bfd7c3fa6950c859ce842039e. The node type may not match
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;at the same time, will modiry regionStates in master memory:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-style: solid;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeHeader panelHeader&quot; style=&quot;border-bottom-width: 1px;border-bottom-style: solid;&quot;&gt;&lt;b&gt;AssignmentManager.java&lt;/b&gt;&lt;/div&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
  &lt;span class=&quot;code-keyword&quot;&gt;private&lt;/span&gt; void processAlreadyOpenedRegion(HRegionInfo region, ServerName sn) {
    &lt;span class=&quot;code-comment&quot;&gt;// Remove region from in-memory transition and unassigned node from ZK
&lt;/span&gt;    &lt;span class=&quot;code-comment&quot;&gt;// While trying to enable the table the regions of the table were
&lt;/span&gt;    &lt;span class=&quot;code-comment&quot;&gt;// already enabled.
&lt;/span&gt;    LOG.debug(&lt;span class=&quot;code-quote&quot;&gt;&quot;ALREADY_OPENED &quot;&lt;/span&gt; + region.getRegionNameAsString()
      + &lt;span class=&quot;code-quote&quot;&gt;&quot; to &quot;&lt;/span&gt; + sn);
    &lt;span class=&quot;code-object&quot;&gt;String&lt;/span&gt; encodedName = region.getEncodedName();
    deleteNodeInStates(encodedName, &lt;span class=&quot;code-quote&quot;&gt;&quot;offline&quot;&lt;/span&gt;, sn, EventType.M_ZK_REGION_OFFLINE);
    regionStates.regionOnline(region, sn);
  }
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;4, handling previous success open region zk event (delayed)&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;2015-09-06 01:36:07,073 INFO  [hm,60000,1438368907764-GeneralBulkAssigner-19] master.RegionStates(826): Transition {2070d83bfd7c3fa6950c859ce842039e state=PENDING_OPEN, ts=1441474499424, server=hs4,60020,1441213185092} to {2070d83bfd7c3fa6950c859ce842039e state=OPEN, ts=1441474567073, server=hs4,60020,1441213185092}
2015-09-06 01:36:07,073 INFO  [hm,60000,1438368907764-GeneralBulkAssigner-19] master.RegionStates(371): Onlined 2070d83bfd7c3fa6950c859ce842039e on hs4,60020,1441213185092
2015-09-06 01:36:33,960 DEBUG [AM.ZK.Worker-pool2-t5251] master.AssignmentManager(926): Handling RS_ZK_REGION_OPENED, server=hs4,60020,1441213185092, region=2070d83bfd7c3fa6950c859ce842039e, which is more than 15 seconds late, current_state={2070d83bfd7c3fa6950c859ce842039e state=OPEN, ts=1441474567073, server=hs4,60020,1441213185092}
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;5, modify regionStates again, but found that region already opened, Error, close region&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;2015-09-06 01:36:33,961 WARN  [AM.ZK.Worker-pool2-t5251] master.AssignmentManager(1061): Received OPENED for 2070d83bfd7c3fa6950c859ce842039e from hs4,60020,1441213185092 but the region isn&apos;t PENDING_OPEN/OPENING here: {2070d83bfd7c3fa6950c859ce842039e state=OPEN, ts=1441474567073, server=hs4,60020,1441213185092}
2015-09-06 01:36:33,965 DEBUG [AM.ZK.Worker-pool2-t5251] master.AssignmentManager(1849): Sent CLOSE to hs4,60020,1441213185092 for region NB_APP_BEHAVIOR_LABEL_000000,F\x180100\x18,1441015264846.2070d83bfd7c3fa6950c859ce842039e.
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</comment>
                            <comment id="14745277" author="zhoushuaifeng2" created="Tue, 15 Sep 2015 11:29:29 +0000"  >&lt;p&gt;A possible solution is when processAlreadyOpenedRegion, check zk state before modify master memory.&lt;br/&gt;
Patch on branch 0.98, 1.1 and 1.2 is attached. And I tested 0.98.10 modified as this with more than 10,000 regions, that&apos;s ok(before, the problem happens every time restarting hbase).&lt;br/&gt;
In master branch, assign not using zk, so there is no problem.&lt;br/&gt;
Please review it, welcome more smart solution.&lt;/p&gt;</comment>
                            <comment id="14745283" author="zhoushuaifeng2" created="Tue, 15 Sep 2015 11:38:25 +0000"  >&lt;p&gt;Thanks, stack&lt;br/&gt;
I have extract the master log analysis, and attached possible patch.&lt;/p&gt;</comment>
                            <comment id="14875636" author="wang_yongqiang" created="Fri, 18 Sep 2015 13:44:54 +0000"  >&lt;p&gt;this patch can indeed solve the problem mentioned in jira&lt;/p&gt;</comment>
                            <comment id="14875843" author="yuzhihong@gmail.com" created="Fri, 18 Sep 2015 16:06:56 +0000"  >&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
2310	            LOG.debug(&lt;span class=&quot;code-quote&quot;&gt;&quot;ALREADY_OPENED &quot;&lt;/span&gt; + region.getRegionNameAsString()
2311	              + &lt;span class=&quot;code-quote&quot;&gt;&quot; and node in &quot;&lt;/span&gt;+et+&lt;span class=&quot;code-quote&quot;&gt;&quot; state&quot;&lt;/span&gt;);
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;Consider putting part of the comment at the beginning of the if block into the log message so that user can understand this case better.&lt;/p&gt;</comment>
                            <comment id="14875847" author="hadoopqa" created="Fri, 18 Sep 2015 16:08:36 +0000"  >&lt;p&gt;&lt;font color=&quot;red&quot;&gt;-1 overall&lt;/font&gt;.  Here are the results of testing the latest attachment &lt;br/&gt;
  &lt;a href=&quot;http://issues.apache.org/jira/secure/attachment/12755971/hbase-14407-1.2.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://issues.apache.org/jira/secure/attachment/12755971/hbase-14407-1.2.patch&lt;/a&gt;&lt;br/&gt;
  against master branch at commit d81fba59cfab5ed368fe888ff811a7f5064b18cc.&lt;br/&gt;
  ATTACHMENT ID: 12755971&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 @author&lt;/font&gt;.  The patch does not contain any @author tags.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;red&quot;&gt;-1 tests included&lt;/font&gt;.  The patch doesn&apos;t appear to include any new or modified tests.&lt;br/&gt;
                        Please justify why no new tests are needed for this patch.&lt;br/&gt;
                        Also please list what manual steps were performed to verify this patch.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;red&quot;&gt;-1 patch&lt;/font&gt;.  The patch command could not apply the patch.&lt;/p&gt;

&lt;p&gt;Console output: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/15632//console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/15632//console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;</comment>
                            <comment id="14875853" author="yuzhihong@gmail.com" created="Fri, 18 Sep 2015 16:11:21 +0000"  >&lt;p&gt;For hbase-14407-1.2.patch, it should be named hbase-14407-branch-1.2.patch&lt;/p&gt;</comment>
                            <comment id="14876472" author="hadoopqa" created="Fri, 18 Sep 2015 21:29:14 +0000"  >&lt;p&gt;&lt;font color=&quot;red&quot;&gt;-1 overall&lt;/font&gt;.  Here are the results of testing the latest attachment &lt;br/&gt;
  &lt;a href=&quot;http://issues.apache.org/jira/secure/attachment/12761165/14407-branch-1.2.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://issues.apache.org/jira/secure/attachment/12761165/14407-branch-1.2.patch&lt;/a&gt;&lt;br/&gt;
  against branch-1.2 branch at commit d81fba59cfab5ed368fe888ff811a7f5064b18cc.&lt;br/&gt;
  ATTACHMENT ID: 12761165&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 @author&lt;/font&gt;.  The patch does not contain any @author tags.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;red&quot;&gt;-1 tests included&lt;/font&gt;.  The patch doesn&apos;t appear to include any new or modified tests.&lt;br/&gt;
                        Please justify why no new tests are needed for this patch.&lt;br/&gt;
                        Also please list what manual steps were performed to verify this patch.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 hadoop versions&lt;/font&gt;. The patch compiles with all supported hadoop versions (2.4.0 2.4.1 2.5.0 2.5.1 2.5.2 2.6.0 2.7.0 2.7.1)&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 javac&lt;/font&gt;.  The applied patch does not increase the total number of javac compiler warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 protoc&lt;/font&gt;.  The applied patch does not increase the total number of protoc compiler warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 javadoc&lt;/font&gt;.  The javadoc tool did not generate any warning messages.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 checkstyle&lt;/font&gt;.  The applied patch does not increase the total number of checkstyle errors&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 findbugs&lt;/font&gt;.  The patch does not introduce any  new Findbugs (version 2.0.3) warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 release audit&lt;/font&gt;.  The applied patch does not increase the total number of release audit warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 lineLengths&lt;/font&gt;.  The patch does not introduce lines longer than 100&lt;/p&gt;

&lt;p&gt;  &lt;font color=&quot;green&quot;&gt;+1 site&lt;/font&gt;.  The mvn post-site goal succeeds with this patch.&lt;/p&gt;

&lt;p&gt;     &lt;font color=&quot;red&quot;&gt;-1 core tests&lt;/font&gt;.  The patch failed these unit tests:&lt;/p&gt;


&lt;p&gt;     &lt;font color=&quot;red&quot;&gt;-1 core zombie tests&lt;/font&gt;.  There are 6 zombie test(s): 	at org.apache.hadoop.hbase.security.access.TestAccessController2.testACLTableAccess(TestAccessController2.java:255)&lt;br/&gt;
	at org.apache.hadoop.hbase.security.access.TestScanEarlyTermination.testEarlyScanTermination(TestScanEarlyTermination.java:243)&lt;/p&gt;

&lt;p&gt;Test results: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/15635//testReport/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/15635//testReport/&lt;/a&gt;&lt;br/&gt;
Release Findbugs (version 2.0.3) 	warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/15635//artifact/patchprocess/newFindbugsWarnings.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/15635//artifact/patchprocess/newFindbugsWarnings.html&lt;/a&gt;&lt;br/&gt;
Checkstyle Errors: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/15635//artifact/patchprocess/checkstyle-aggregate.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/15635//artifact/patchprocess/checkstyle-aggregate.html&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;  Console output: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/15635//console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/15635//console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;</comment>
                            <comment id="14876626" author="yuzhihong@gmail.com" created="Fri, 18 Sep 2015 22:49:06 +0000"  >&lt;p&gt;lgtm&lt;/p&gt;</comment>
                            <comment id="14877385" author="zhoushuaifeng2" created="Sun, 20 Sep 2015 02:43:52 +0000"  >&lt;p&gt;lgtm&lt;/p&gt;

&lt;p&gt;should patch goes to 0.98 and branch-1.1 ?&lt;/p&gt;</comment>
                            <comment id="14900046" author="hadoopqa" created="Sun, 20 Sep 2015 19:52:48 +0000"  >&lt;p&gt;&lt;font color=&quot;red&quot;&gt;-1 overall&lt;/font&gt;.  Here are the results of testing the latest attachment &lt;br/&gt;
  &lt;a href=&quot;http://issues.apache.org/jira/secure/attachment/12761343/14407-0.98.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://issues.apache.org/jira/secure/attachment/12761343/14407-0.98.patch&lt;/a&gt;&lt;br/&gt;
  against 0.98 branch at commit a7afc132e2db7ebbb571b43ae17161bff40b59c5.&lt;br/&gt;
  ATTACHMENT ID: 12761343&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 @author&lt;/font&gt;.  The patch does not contain any @author tags.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;red&quot;&gt;-1 tests included&lt;/font&gt;.  The patch doesn&apos;t appear to include any new or modified tests.&lt;br/&gt;
                        Please justify why no new tests are needed for this patch.&lt;br/&gt;
                        Also please list what manual steps were performed to verify this patch.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 hadoop versions&lt;/font&gt;. The patch compiles with all supported hadoop versions (2.4.0 2.4.1 2.5.0 2.5.1 2.5.2 2.6.0 2.7.0 2.7.1)&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 javac&lt;/font&gt;.  The applied patch does not increase the total number of javac compiler warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 protoc&lt;/font&gt;.  The applied patch does not increase the total number of protoc compiler warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;red&quot;&gt;-1 javadoc&lt;/font&gt;.  The javadoc tool appears to have generated 22 warning messages.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 checkstyle&lt;/font&gt;.  The applied patch does not increase the total number of checkstyle errors&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 findbugs&lt;/font&gt;.  The patch does not introduce any  new Findbugs (version 2.0.3) warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 release audit&lt;/font&gt;.  The applied patch does not increase the total number of release audit warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 lineLengths&lt;/font&gt;.  The patch does not introduce lines longer than 100&lt;/p&gt;

&lt;p&gt;  &lt;font color=&quot;green&quot;&gt;+1 site&lt;/font&gt;.  The mvn post-site goal succeeds with this patch.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 core tests&lt;/font&gt;.  The patch passed unit tests in .&lt;/p&gt;

&lt;p&gt;Test results: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/15644//testReport/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/15644//testReport/&lt;/a&gt;&lt;br/&gt;
Release Findbugs (version 2.0.3) 	warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/15644//artifact/patchprocess/newFindbugsWarnings.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/15644//artifact/patchprocess/newFindbugsWarnings.html&lt;/a&gt;&lt;br/&gt;
Checkstyle Errors: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/15644//artifact/patchprocess/checkstyle-aggregate.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/15644//artifact/patchprocess/checkstyle-aggregate.html&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;  Javadoc warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/15644//artifact/patchprocess/patchJavadocWarnings.txt&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/15644//artifact/patchprocess/patchJavadocWarnings.txt&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/15644//console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/15644//console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;</comment>
                            <comment id="14901759" author="zhoushuaifeng2" created="Tue, 22 Sep 2015 01:46:49 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=apurtell&quot; class=&quot;user-hover&quot; rel=&quot;apurtell&quot;&gt;Andrew Purtell&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="14906049" author="zhoushuaifeng2" created="Thu, 24 Sep 2015 08:52:41 +0000"  >&lt;p&gt;Reattached patch on branch-1.1&lt;br/&gt;
Is it ok?&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=apurtell&quot; class=&quot;user-hover&quot; rel=&quot;apurtell&quot;&gt;Andrew Purtell&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="14906064" author="zhoushuaifeng2" created="Thu, 24 Sep 2015 09:03:17 +0000"  >&lt;p&gt;lgtm&lt;/p&gt;</comment>
                            <comment id="14906217" author="hadoopqa" created="Thu, 24 Sep 2015 11:27:16 +0000"  >&lt;p&gt;&lt;font color=&quot;red&quot;&gt;-1 overall&lt;/font&gt;.  Here are the results of testing the latest attachment &lt;br/&gt;
  &lt;a href=&quot;http://issues.apache.org/jira/secure/attachment/12762080/14407-branch-1.1.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://issues.apache.org/jira/secure/attachment/12762080/14407-branch-1.1.patch&lt;/a&gt;&lt;br/&gt;
  against branch-1.1 branch at commit 5b7894f92ba3e9ff700da1e9194ebb4774d8b71e.&lt;br/&gt;
  ATTACHMENT ID: 12762080&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 @author&lt;/font&gt;.  The patch does not contain any @author tags.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;red&quot;&gt;-1 tests included&lt;/font&gt;.  The patch doesn&apos;t appear to include any new or modified tests.&lt;br/&gt;
                        Please justify why no new tests are needed for this patch.&lt;br/&gt;
                        Also please list what manual steps were performed to verify this patch.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 hadoop versions&lt;/font&gt;. The patch compiles with all supported hadoop versions (2.4.0 2.4.1 2.5.0 2.5.1 2.5.2 2.6.0 2.7.0 2.7.1)&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 javac&lt;/font&gt;.  The applied patch does not increase the total number of javac compiler warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 protoc&lt;/font&gt;.  The applied patch does not increase the total number of protoc compiler warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 javadoc&lt;/font&gt;.  The javadoc tool did not generate any warning messages.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 checkstyle&lt;/font&gt;.  The applied patch does not increase the total number of checkstyle errors&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 findbugs&lt;/font&gt;.  The patch does not introduce any  new Findbugs (version 2.0.3) warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 release audit&lt;/font&gt;.  The applied patch does not increase the total number of release audit warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 lineLengths&lt;/font&gt;.  The patch does not introduce lines longer than 100&lt;/p&gt;

&lt;p&gt;  &lt;font color=&quot;green&quot;&gt;+1 site&lt;/font&gt;.  The mvn post-site goal succeeds with this patch.&lt;/p&gt;

&lt;p&gt;     &lt;font color=&quot;red&quot;&gt;-1 core tests&lt;/font&gt;.  The patch failed these unit tests:&lt;/p&gt;


&lt;p&gt;     &lt;font color=&quot;red&quot;&gt;-1 core zombie tests&lt;/font&gt;.  There are 1 zombie test(s): 	at org.apache.hadoop.hbase.client.TestFastFail.testFastFail(TestFastFail.java:244)&lt;/p&gt;

&lt;p&gt;Test results: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/15712//testReport/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/15712//testReport/&lt;/a&gt;&lt;br/&gt;
Release Findbugs (version 2.0.3) 	warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/15712//artifact/patchprocess/newFindbugsWarnings.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/15712//artifact/patchprocess/newFindbugsWarnings.html&lt;/a&gt;&lt;br/&gt;
Checkstyle Errors: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/15712//artifact/patchprocess/checkstyle-aggregate.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/15712//artifact/patchprocess/checkstyle-aggregate.html&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;  Console output: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/15712//console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/15712//console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;</comment>
                            <comment id="14907328" author="zhoushuaifeng2" created="Fri, 25 Sep 2015 01:09:43 +0000"  >&lt;p&gt;lgtm&lt;/p&gt;</comment>
                            <comment id="14908962" author="apurtell" created="Sat, 26 Sep 2015 01:20:22 +0000"  >&lt;p&gt;Looks like reviews on this are finished. I applied it to branch-1 and down to 0.98. Clean result. All AM tests pass. Pushed. &lt;/p&gt;

&lt;p&gt;Thanks for the patch &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=zhoushuaifeng2&quot; class=&quot;user-hover&quot; rel=&quot;zhoushuaifeng2&quot;&gt;Shuaifeng Zhou&lt;/a&gt; &lt;/p&gt;</comment>
                            <comment id="14909025" author="hudson" created="Sat, 26 Sep 2015 02:54:49 +0000"  >&lt;p&gt;FAILURE: Integrated in HBase-1.0 #1059 (See &lt;a href=&quot;https://builds.apache.org/job/HBase-1.0/1059/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/HBase-1.0/1059/&lt;/a&gt;)&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-14407&quot; title=&quot;NotServingRegion: hbase region closed forever&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-14407&quot;&gt;&lt;del&gt;HBASE-14407&lt;/del&gt;&lt;/a&gt; NotServingRegion: hbase region closed forever (Shuaifeng Zhou) (apurtell: rev 013987396d83724450ce492f1ca9252ec271ad70)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;hbase-server/src/main/java/org/apache/hadoop/hbase/master/AssignmentManager.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="14909061" author="hudson" created="Sat, 26 Sep 2015 03:47:59 +0000"  >&lt;p&gt;FAILURE: Integrated in HBase-1.1 #682 (See &lt;a href=&quot;https://builds.apache.org/job/HBase-1.1/682/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/HBase-1.1/682/&lt;/a&gt;)&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-14407&quot; title=&quot;NotServingRegion: hbase region closed forever&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-14407&quot;&gt;&lt;del&gt;HBASE-14407&lt;/del&gt;&lt;/a&gt; NotServingRegion: hbase region closed forever (Shuaifeng Zhou) (apurtell: rev b33b7f44f8f03579958f8c78accd8474a65eb860)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;hbase-server/src/main/java/org/apache/hadoop/hbase/master/AssignmentManager.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="14909069" author="hudson" created="Sat, 26 Sep 2015 04:17:25 +0000"  >&lt;p&gt;FAILURE: Integrated in HBase-1.2 #204 (See &lt;a href=&quot;https://builds.apache.org/job/HBase-1.2/204/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/HBase-1.2/204/&lt;/a&gt;)&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-14407&quot; title=&quot;NotServingRegion: hbase region closed forever&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-14407&quot;&gt;&lt;del&gt;HBASE-14407&lt;/del&gt;&lt;/a&gt; NotServingRegion: hbase region closed forever (Shuaifeng Zhou) (apurtell: rev 8b9e705290af2456e3815d9409d3ebf3dba9c48e)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;hbase-server/src/main/java/org/apache/hadoop/hbase/master/AssignmentManager.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="14909075" author="hudson" created="Sat, 26 Sep 2015 04:39:10 +0000"  >&lt;p&gt;FAILURE: Integrated in HBase-0.98 #1131 (See &lt;a href=&quot;https://builds.apache.org/job/HBase-0.98/1131/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/HBase-0.98/1131/&lt;/a&gt;)&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-14407&quot; title=&quot;NotServingRegion: hbase region closed forever&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-14407&quot;&gt;&lt;del&gt;HBASE-14407&lt;/del&gt;&lt;/a&gt; NotServingRegion: hbase region closed forever (Shuaifeng Zhou) (apurtell: rev eb4b143b95400b359006a2d4e7c092f0617bb45a)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;hbase-server/src/main/java/org/apache/hadoop/hbase/master/AssignmentManager.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="14909081" author="hudson" created="Sat, 26 Sep 2015 04:45:50 +0000"  >&lt;p&gt;SUCCESS: Integrated in HBase-1.2-IT #171 (See &lt;a href=&quot;https://builds.apache.org/job/HBase-1.2-IT/171/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/HBase-1.2-IT/171/&lt;/a&gt;)&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-14407&quot; title=&quot;NotServingRegion: hbase region closed forever&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-14407&quot;&gt;&lt;del&gt;HBASE-14407&lt;/del&gt;&lt;/a&gt; NotServingRegion: hbase region closed forever (Shuaifeng Zhou) (apurtell: rev 8b9e705290af2456e3815d9409d3ebf3dba9c48e)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;hbase-server/src/main/java/org/apache/hadoop/hbase/master/AssignmentManager.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="14909095" author="hudson" created="Sat, 26 Sep 2015 05:17:24 +0000"  >&lt;p&gt;FAILURE: Integrated in HBase-1.3 #209 (See &lt;a href=&quot;https://builds.apache.org/job/HBase-1.3/209/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/HBase-1.3/209/&lt;/a&gt;)&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-14407&quot; title=&quot;NotServingRegion: hbase region closed forever&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-14407&quot;&gt;&lt;del&gt;HBASE-14407&lt;/del&gt;&lt;/a&gt; NotServingRegion: hbase region closed forever (Shuaifeng Zhou) (apurtell: rev 0dd57174fa218598e7877ea172aa46f82e5d7ded)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;hbase-server/src/main/java/org/apache/hadoop/hbase/master/AssignmentManager.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="14909150" author="hudson" created="Sat, 26 Sep 2015 07:39:00 +0000"  >&lt;p&gt;FAILURE: Integrated in HBase-0.98-on-Hadoop-1.1 #1084 (See &lt;a href=&quot;https://builds.apache.org/job/HBase-0.98-on-Hadoop-1.1/1084/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/HBase-0.98-on-Hadoop-1.1/1084/&lt;/a&gt;)&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-14407&quot; title=&quot;NotServingRegion: hbase region closed forever&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-14407&quot;&gt;&lt;del&gt;HBASE-14407&lt;/del&gt;&lt;/a&gt; NotServingRegion: hbase region closed forever (Shuaifeng Zhou) (apurtell: rev eb4b143b95400b359006a2d4e7c092f0617bb45a)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;hbase-server/src/main/java/org/apache/hadoop/hbase/master/AssignmentManager.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="14909172" author="hudson" created="Sat, 26 Sep 2015 08:54:25 +0000"  >&lt;p&gt;SUCCESS: Integrated in HBase-1.3-IT #186 (See &lt;a href=&quot;https://builds.apache.org/job/HBase-1.3-IT/186/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/HBase-1.3-IT/186/&lt;/a&gt;)&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-14407&quot; title=&quot;NotServingRegion: hbase region closed forever&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-14407&quot;&gt;&lt;del&gt;HBASE-14407&lt;/del&gt;&lt;/a&gt; NotServingRegion: hbase region closed forever (Shuaifeng Zhou) (apurtell: rev 0dd57174fa218598e7877ea172aa46f82e5d7ded)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;hbase-server/src/main/java/org/apache/hadoop/hbase/master/AssignmentManager.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="15119580" author="ndimiduk" created="Wed, 27 Jan 2016 15:28:57 +0000"  >&lt;p&gt;Bulk closing 1.1.3 issues.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12761343" name="14407-0.98.patch" size="1862" author="yuzhihong@gmail.com" created="Sun, 20 Sep 2015 16:39:22 +0000"/>
                            <attachment id="12762080" name="14407-branch-1.1.patch" size="1862" author="zhoushuaifeng2" created="Thu, 24 Sep 2015 08:52:41 +0000"/>
                            <attachment id="12761165" name="14407-branch-1.2.patch" size="1862" author="yuzhihong@gmail.com" created="Fri, 18 Sep 2015 18:30:07 +0000"/>
                            <attachment id="12755969" name="hbase-14407-0.98.patch" size="1862" author="zhoushuaifeng2" created="Tue, 15 Sep 2015 11:29:29 +0000"/>
                            <attachment id="12755970" name="hbase-14407-1.1.patch" size="1862" author="zhoushuaifeng2" created="Tue, 15 Sep 2015 11:29:29 +0000"/>
                            <attachment id="12755971" name="hbase-14407-1.2.patch" size="1862" author="zhoushuaifeng2" created="Tue, 15 Sep 2015 11:29:29 +0000"/>
                            <attachment id="12755334" name="hs4.log" size="7092" author="zhoushuaifeng2" created="Fri, 11 Sep 2015 06:13:26 +0000"/>
                            <attachment id="12755333" name="master.log" size="10905" author="zhoushuaifeng2" created="Fri, 11 Sep 2015 06:13:26 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>8.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Mon, 14 Sep 2015 18:42:53 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310191" key="com.atlassian.jira.plugin.system.customfieldtypes:multicheckboxes">
                        <customfieldname>Hadoop Flags</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10343"><![CDATA[Reviewed]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            44 weeks, 1 day ago
                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i2k1c7:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        </customfields>
    </item>
</channel>
</rss>