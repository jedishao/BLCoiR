<!-- 
RSS generated by JIRA (6.3.4#6332-sha1:51bc225ef474afe3128b2f66878477f322397b16) at Fri Dec 02 20:35:02 UTC 2016

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary add field=key&field=summary to the URL of your request.
For example:
https://issues.apache.org/jira/si/jira.issueviews:issue-xml/HBASE-95/HBASE-95.xml?field=key&amp;field=summary
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>6.3.4</version>
        <build-number>6332</build-number>
        <build-date>15-08-2014</build-date>
    </build-info>

<item>
            <title>[HBASE-95] Same 2 lines repeated 11 million times in HMaster log upon HMaster shutdown</title>
                <link>https://issues.apache.org/jira/browse/HBASE-95</link>
                <project id="12310753" key="HBASE">HBase</project>
                    <description>&lt;p&gt;Background: We ran out of disk space on HMaster before this issue occurred.  The sequence of events were:&lt;br/&gt;
1.  Ran out of disk space&lt;br/&gt;
2.  Freed up 10 GB of disk space&lt;br/&gt;
3.  Shut down HBase&lt;/p&gt;

&lt;p&gt;We had the following 2 lines repeated over 11 million times in the span of 10 minutes:&lt;br/&gt;
2007-12-24 08:50:41,851 INFO org.apache.hadoop.hbase.HMaster: process shutdown of server 10.100.11.64:60020: logSplit: true, rootChecked: false, rootRescanned: false, numberOfMetaRegions: 1, onlineMetaRegions.size(): 0&lt;br/&gt;
2007-12-24 08:50:43,980 DEBUG org.apache.hadoop.hbase.HMaster: Main processing loop: ProcessServerShutdown of 10.100.11.64:60020&lt;/p&gt;
</description>
                <environment>&lt;p&gt;CentOS 5&lt;/p&gt;</environment>
        <key id="12385605">HBASE-95</key>
            <summary>Same 2 lines repeated 11 million times in HMaster log upon HMaster shutdown</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/bug.png">Bug</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.png">Minor</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="chriskline">Chris Kline</reporter>
                        <labels>
                    </labels>
                <created>Fri, 4 Jan 2008 19:10:07 +0000</created>
                <updated>Fri, 22 Aug 2008 21:34:49 +0000</updated>
                            <resolved>Fri, 18 Jan 2008 18:23:25 +0000</resolved>
                                                                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                <comments>
                            <comment id="12556765" author="stack" created="Mon, 7 Jan 2008 23:18:03 +0000"  >&lt;p&gt;Address for 0.16 release&lt;/p&gt;</comment>
                            <comment id="12559535" author="stack" created="Wed, 16 Jan 2008 15:31:20 +0000"  >&lt;p&gt;Had same issue on the pset cluster last night:&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
2008-01-16 08:28:03,204 INFO org.apache.hadoop.hbase.HMaster: process
shutdown of server XX.XX.XX.116:60020: logSplit: &lt;span class=&quot;code-keyword&quot;&gt;true&lt;/span&gt;, rootChecked: &lt;span class=&quot;code-keyword&quot;&gt;false&lt;/span&gt;,
rootRescanned: &lt;span class=&quot;code-keyword&quot;&gt;true&lt;/span&gt;, numberOfMetaRegions: 1, onlineMetaRegions.size(): 0
2008-01-16 08:28:03,204 INFO org.apache.hadoop.hbase.HMaster: process
shutdown of server 208.76.45..116:60020: logSplit: &lt;span class=&quot;code-keyword&quot;&gt;true&lt;/span&gt;, rootChecked: &lt;span class=&quot;code-keyword&quot;&gt;false&lt;/span&gt;,
rootRescanned: &lt;span class=&quot;code-keyword&quot;&gt;true&lt;/span&gt;, numberOfMetaRegions: 1, onlineMetaRegions.size(): 0
...
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;At the same time, all the regionservers are in a loop writing this into their logs:&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
2008-01-16 08:27:45,871 INFO org.apache.hadoop.ipc.RPC: Problem connecting
to server: XX.XX.XX.233:60000
2008-01-16 08:27:48,300 INFO org.apache.hadoop.hbase.HRegionServer: Starting
shutdown thread.
2008-01-16 08:27:48,300 INFO org.apache.hadoop.hbase.HRegionServer: Shutdown
thread complete
2008-01-16 08:27:49,825 DEBUG org.apache.hadoop.hbase.HRegionServer: Telling
master we are up
2008-01-16 08:28:49,868 INFO org.apache.hadoop.ipc.RPC: Problem connecting
to server: XX.XX.XX.233:60000
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</comment>
                            <comment id="12560121" author="stack" created="Thu, 17 Jan 2008 22:29:19 +0000"  >&lt;p&gt;Did you mean to include this in the patch?&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
-    Maximum desired file size &lt;span class=&quot;code-keyword&quot;&gt;for&lt;/span&gt; an HRegion.  If filesize exceeds
-    value + (value / 2), the HRegion is split in two.  Default: 256M.
+    Maximum desired file size &lt;span class=&quot;code-keyword&quot;&gt;for&lt;/span&gt; any one column in an HRegion.  If the size of
+    storage &lt;span class=&quot;code-keyword&quot;&gt;for&lt;/span&gt; a single column exceeds value + (value / 2), the HRegion is
+    split in two.  Default: 256M.
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;The edit doesn&apos;t seem to improve things.  In above &apos;column&apos; seems prone to misreading... you seem to intend column family.   You then talk of splitting &apos;HRegion&apos; rather than the too-big file.&lt;/p&gt;

&lt;p&gt;Otherwise patch looks good.  How you think it fixes the issue?&lt;/p&gt;
</comment>
                            <comment id="12560143" author="jimk" created="Thu, 17 Jan 2008 23:04:31 +0000"  >&lt;p&gt;&amp;gt; Otherwise patch looks good. How you think it fixes the issue?&lt;/p&gt;

&lt;p&gt;The crux of the patch is the following change:&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
-      &lt;span class=&quot;code-keyword&quot;&gt;for&lt;/span&gt; (RegionServerOperation op = &lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt;; !closed.get(); ) {
+      &lt;span class=&quot;code-keyword&quot;&gt;while&lt;/span&gt; (!closed.get()) {
+        RegionServerOperation op = &lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt;;
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;the old code only declared and nulled out &apos;op&apos; for the first iteration. If op was set non-null and went back to top of loop, it would fall through and just re-execute op again, rather than polling the queues and waiting.&lt;/p&gt;</comment>
                            <comment id="12560148" author="stack" created="Thu, 17 Jan 2008 23:07:55 +0000"  >&lt;p&gt;How about:&lt;/p&gt;

&lt;p&gt;Maximum HStoreFile size.  If any one of a column families&apos; HStoreFiles has grown to exceed value + (value / 2), the hosting HRegion is split in two.  Default: 256M.&lt;/p&gt;
</comment>
                            <comment id="12560231" author="hadoopqa" created="Fri, 18 Jan 2008 05:43:55 +0000"  >&lt;p&gt;+1 overall.  Here are the results of testing the latest attachment &lt;br/&gt;
&lt;a href=&quot;http://issues.apache.org/jira/secure/attachment/12373431/patch.txt&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://issues.apache.org/jira/secure/attachment/12373431/patch.txt&lt;/a&gt;&lt;br/&gt;
against trunk revision r613030.&lt;/p&gt;

&lt;p&gt;    @author +1.  The patch does not contain any @author tags.&lt;/p&gt;

&lt;p&gt;    javadoc +1.  The javadoc tool did not generate any warning messages.&lt;/p&gt;

&lt;p&gt;    javac +1.  The applied patch does not generate any new compiler warnings.&lt;/p&gt;

&lt;p&gt;    findbugs +1.  The patch does not introduce any new Findbugs warnings.&lt;/p&gt;

&lt;p&gt;    core tests +1.  The patch passed core unit tests.&lt;/p&gt;

&lt;p&gt;    contrib tests +1.  The patch passed contrib unit tests.&lt;/p&gt;

&lt;p&gt;Test results: &lt;a href=&quot;http://lucene.zones.apache.org:8080/hudson/job/Hadoop-Patch/1633/testReport/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://lucene.zones.apache.org:8080/hudson/job/Hadoop-Patch/1633/testReport/&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;http://lucene.zones.apache.org:8080/hudson/job/Hadoop-Patch/1633/artifact/trunk/build/test/findbugs/newPatchFindbugsWarnings.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://lucene.zones.apache.org:8080/hudson/job/Hadoop-Patch/1633/artifact/trunk/build/test/findbugs/newPatchFindbugsWarnings.html&lt;/a&gt;&lt;br/&gt;
Checkstyle results: &lt;a href=&quot;http://lucene.zones.apache.org:8080/hudson/job/Hadoop-Patch/1633/artifact/trunk/build/test/checkstyle-errors.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://lucene.zones.apache.org:8080/hudson/job/Hadoop-Patch/1633/artifact/trunk/build/test/checkstyle-errors.html&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;http://lucene.zones.apache.org:8080/hudson/job/Hadoop-Patch/1633/console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://lucene.zones.apache.org:8080/hudson/job/Hadoop-Patch/1633/console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;</comment>
                            <comment id="12560488" author="jimk" created="Fri, 18 Jan 2008 18:23:25 +0000"  >&lt;p&gt;Tests passed. Committed&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12373431" name="patch.txt" size="4694" author="jimk" created="Thu, 17 Jan 2008 21:36:12 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Mon, 7 Jan 2008 23:18:03 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>24879</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            8 years, 47 weeks ago
                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0h493:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>97951</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        </customfields>
    </item>
</channel>
</rss>