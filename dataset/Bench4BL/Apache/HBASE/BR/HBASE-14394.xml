<!-- 
RSS generated by JIRA (6.3.4#6332-sha1:51bc225ef474afe3128b2f66878477f322397b16) at Thu Dec 01 21:09:44 UTC 2016

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary add field=key&field=summary to the URL of your request.
For example:
https://issues.apache.org/jira/si/jira.issueviews:issue-xml/HBASE-14394/HBASE-14394.xml?field=key&amp;field=summary
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>6.3.4</version>
        <build-number>6332</build-number>
        <build-date>15-08-2014</build-date>
    </build-info>

<item>
            <title>[HBASE-14394] Properly close the connection after reading records from table.</title>
                <link>https://issues.apache.org/jira/browse/HBASE-14394</link>
                <project id="12310753" key="HBASE">HBase</project>
                    <description>&lt;p&gt;This was brought to notice by one of our observant customers.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12862966">HBASE-14394</key>
            <summary>Properly close the connection after reading records from table.</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/bug.png">Bug</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.png">Minor</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="srikanth235">Srikanth Srungarapu</assignee>
                                    <reporter username="srikanth235">Srikanth Srungarapu</reporter>
                        <labels>
                    </labels>
                <created>Thu, 10 Sep 2015 06:26:21 +0000</created>
                <updated>Wed, 27 Jan 2016 15:28:26 +0000</updated>
                            <resolved>Wed, 30 Sep 2015 03:34:40 +0000</resolved>
                                                    <fixVersion>2.0.0</fixVersion>
                    <fixVersion>1.2.0</fixVersion>
                    <fixVersion>1.3.0</fixVersion>
                    <fixVersion>1.0.3</fixVersion>
                    <fixVersion>1.1.3</fixVersion>
                                    <component>mapreduce</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>7</watches>
                                                                <comments>
                            <comment id="14738478" author="hadoopqa" created="Thu, 10 Sep 2015 09:25:57 +0000"  >&lt;p&gt;&lt;font color=&quot;red&quot;&gt;-1 overall&lt;/font&gt;.  Here are the results of testing the latest attachment &lt;br/&gt;
  &lt;a href=&quot;http://issues.apache.org/jira/secure/attachment/12755073/HBASE-14394.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://issues.apache.org/jira/secure/attachment/12755073/HBASE-14394.patch&lt;/a&gt;&lt;br/&gt;
  against master branch at commit 7d018ec7892e1567d7457b1aa1188c5ae3d5f263.&lt;br/&gt;
  ATTACHMENT ID: 12755073&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 @author&lt;/font&gt;.  The patch does not contain any @author tags.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;red&quot;&gt;-1 tests included&lt;/font&gt;.  The patch doesn&apos;t appear to include any new or modified tests.&lt;br/&gt;
                        Please justify why no new tests are needed for this patch.&lt;br/&gt;
                        Also please list what manual steps were performed to verify this patch.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 hadoop versions&lt;/font&gt;. The patch compiles with all supported hadoop versions (2.4.0 2.4.1 2.5.0 2.5.1 2.5.2 2.6.0 2.7.0 2.7.1)&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 javac&lt;/font&gt;.  The applied patch does not increase the total number of javac compiler warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 protoc&lt;/font&gt;.  The applied patch does not increase the total number of protoc compiler warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 javadoc&lt;/font&gt;.  The javadoc tool did not generate any warning messages.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 checkstyle&lt;/font&gt;.  The applied patch does not increase the total number of checkstyle errors&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 findbugs&lt;/font&gt;.  The patch does not introduce any  new Findbugs (version 2.0.3) warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 release audit&lt;/font&gt;.  The applied patch does not increase the total number of release audit warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 lineLengths&lt;/font&gt;.  The patch does not introduce lines longer than 100&lt;/p&gt;

&lt;p&gt;  &lt;font color=&quot;green&quot;&gt;+1 site&lt;/font&gt;.  The mvn post-site goal succeeds with this patch.&lt;/p&gt;

&lt;p&gt;     &lt;font color=&quot;red&quot;&gt;-1 core tests&lt;/font&gt;.  The patch failed these unit tests:&lt;br/&gt;
                       org.apache.hadoop.hbase.mapreduce.TestMultiTableInputFormat&lt;/p&gt;

&lt;p&gt;     &lt;font color=&quot;red&quot;&gt;-1 core zombie tests&lt;/font&gt;.  There are 9 zombie test(s): 	at org.apache.hadoop.hbase.security.access.TestAccessController2.testACLTableAccess(TestAccessController2.java:245)&lt;br/&gt;
	at org.apache.hadoop.hbase.master.procedure.TestMasterFailoverWithProcedures.testEnableTableWithFailoverAtStep(TestMasterFailoverWithProcedures.java:422)&lt;br/&gt;
	at org.apache.hadoop.hbase.master.procedure.TestMasterFailoverWithProcedures.testEnableTableWithFailover(TestMasterFailoverWithProcedures.java:409)&lt;br/&gt;
	at org.apache.hadoop.hbase.master.TestSplitLogManager.testMultipleResubmits(TestSplitLogManager.java:362)&lt;br/&gt;
	at org.apache.hadoop.hbase.master.TestGetLastFlushedSequenceId.test(TestGetLastFlushedSequenceId.java:89)&lt;br/&gt;
	at org.apache.hadoop.hbase.master.procedure.TestWALProcedureStoreOnHDFS.testWalRollOnLowReplication(TestWALProcedureStoreOnHDFS.java:189)&lt;/p&gt;

&lt;p&gt;Test results: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/15520//testReport/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/15520//testReport/&lt;/a&gt;&lt;br/&gt;
Release Findbugs (version 2.0.3) 	warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/15520//artifact/patchprocess/newFindbugsWarnings.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/15520//artifact/patchprocess/newFindbugsWarnings.html&lt;/a&gt;&lt;br/&gt;
Checkstyle Errors: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/15520//artifact/patchprocess/checkstyle-aggregate.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/15520//artifact/patchprocess/checkstyle-aggregate.html&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;  Console output: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/15520//console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/15520//console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;</comment>
                            <comment id="14739707" author="srikanth235" created="Thu, 10 Sep 2015 22:09:13 +0000"  >&lt;p&gt;Fixing the failed unit test &lt;tt&gt;TestMultiTableInputFormat&lt;/tt&gt;.&lt;/p&gt;</comment>
                            <comment id="14740043" author="hadoopqa" created="Fri, 11 Sep 2015 02:36:52 +0000"  >&lt;p&gt;&lt;font color=&quot;red&quot;&gt;-1 overall&lt;/font&gt;.  Here are the results of testing the latest attachment &lt;br/&gt;
  &lt;a href=&quot;http://issues.apache.org/jira/secure/attachment/12755246/HBASE-14394_v2.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://issues.apache.org/jira/secure/attachment/12755246/HBASE-14394_v2.patch&lt;/a&gt;&lt;br/&gt;
  against master branch at commit bf26088d7be4386864148516b151dfb0a858c416.&lt;br/&gt;
  ATTACHMENT ID: 12755246&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 @author&lt;/font&gt;.  The patch does not contain any @author tags.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;red&quot;&gt;-1 tests included&lt;/font&gt;.  The patch doesn&apos;t appear to include any new or modified tests.&lt;br/&gt;
                        Please justify why no new tests are needed for this patch.&lt;br/&gt;
                        Also please list what manual steps were performed to verify this patch.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 hadoop versions&lt;/font&gt;. The patch compiles with all supported hadoop versions (2.4.0 2.4.1 2.5.0 2.5.1 2.5.2 2.6.0 2.7.0 2.7.1)&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 javac&lt;/font&gt;.  The applied patch does not increase the total number of javac compiler warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 protoc&lt;/font&gt;.  The applied patch does not increase the total number of protoc compiler warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 javadoc&lt;/font&gt;.  The javadoc tool did not generate any warning messages.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 checkstyle&lt;/font&gt;.  The applied patch does not increase the total number of checkstyle errors&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 findbugs&lt;/font&gt;.  The patch does not introduce any  new Findbugs (version 2.0.3) warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 release audit&lt;/font&gt;.  The applied patch does not increase the total number of release audit warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 lineLengths&lt;/font&gt;.  The patch does not introduce lines longer than 100&lt;/p&gt;

&lt;p&gt;  &lt;font color=&quot;green&quot;&gt;+1 site&lt;/font&gt;.  The mvn post-site goal succeeds with this patch.&lt;/p&gt;

&lt;p&gt;     &lt;font color=&quot;red&quot;&gt;-1 core tests&lt;/font&gt;.  The patch failed these unit tests:&lt;/p&gt;


&lt;p&gt;Test results: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/15542//testReport/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/15542//testReport/&lt;/a&gt;&lt;br/&gt;
Release Findbugs (version 2.0.3) 	warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/15542//artifact/patchprocess/newFindbugsWarnings.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/15542//artifact/patchprocess/newFindbugsWarnings.html&lt;/a&gt;&lt;br/&gt;
Checkstyle Errors: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/15542//artifact/patchprocess/checkstyle-aggregate.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/15542//artifact/patchprocess/checkstyle-aggregate.html&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;  Console output: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/15542//console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/15542//console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;</comment>
                            <comment id="14740239" author="ashish singhi" created="Fri, 11 Sep 2015 05:55:11 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=srikanth235&quot; class=&quot;user-hover&quot; rel=&quot;srikanth235&quot;&gt;Srikanth Srungarapu&lt;/a&gt;, I don&apos;t see any change in the behavior this patch brings.&lt;br/&gt;
We are still closing the resources in the catch block. &lt;br/&gt;
Also the htable instance in TRRI is already closed as part of TRRI#close() call, so the newly added one is not required,&lt;/p&gt;</comment>
                            <comment id="14740245" author="srikanth235" created="Fri, 11 Sep 2015 05:57:36 +0000"  >&lt;p&gt;Currently, we are closing the resources only in case of exception i.e. in catch block. &lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
&lt;span class=&quot;code-keyword&quot;&gt;catch&lt;/span&gt; (IOException ioe) {
       &lt;span class=&quot;code-comment&quot;&gt;// If there is an exception make sure that all
&lt;/span&gt;       &lt;span class=&quot;code-comment&quot;&gt;// resources are closed and released.
&lt;/span&gt;-      connection.close();
-      table.close();
       trr.close();
       &lt;span class=&quot;code-keyword&quot;&gt;throw&lt;/span&gt; ioe;
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;This patch ensures resources get closed in &lt;em&gt;all&lt;/em&gt; cases.&lt;/p&gt;</comment>
                            <comment id="14740272" author="ashish singhi" created="Fri, 11 Sep 2015 06:16:56 +0000"  >&lt;p&gt;OK. I got your point.&lt;br/&gt;
What about the above comment, &quot;Also the htable instance in TRRI is already closed as part of TRRI#close() call, so the newly added one is not required&quot; ?&lt;/p&gt;</comment>
                            <comment id="14740287" author="srikanth235" created="Fri, 11 Sep 2015 06:33:00 +0000"  >&lt;p&gt;Yeah, the table close method call is redundant. Uploaded new patch.&lt;/p&gt;</comment>
                            <comment id="14740290" author="ashish singhi" created="Fri, 11 Sep 2015 06:40:17 +0000"  >&lt;p&gt;+1 (non-binding)&lt;/p&gt;</comment>
                            <comment id="14740502" author="hadoopqa" created="Fri, 11 Sep 2015 09:54:41 +0000"  >&lt;p&gt;&lt;font color=&quot;red&quot;&gt;-1 overall&lt;/font&gt;.  Here are the results of testing the latest attachment &lt;br/&gt;
  &lt;a href=&quot;http://issues.apache.org/jira/secure/attachment/12755337/HBASE-14394_v3.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://issues.apache.org/jira/secure/attachment/12755337/HBASE-14394_v3.patch&lt;/a&gt;&lt;br/&gt;
  against master branch at commit fda317cebb5d306cabf1899e05cedb0225b2b62b.&lt;br/&gt;
  ATTACHMENT ID: 12755337&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 @author&lt;/font&gt;.  The patch does not contain any @author tags.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;red&quot;&gt;-1 tests included&lt;/font&gt;.  The patch doesn&apos;t appear to include any new or modified tests.&lt;br/&gt;
                        Please justify why no new tests are needed for this patch.&lt;br/&gt;
                        Also please list what manual steps were performed to verify this patch.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 hadoop versions&lt;/font&gt;. The patch compiles with all supported hadoop versions (2.4.0 2.4.1 2.5.0 2.5.1 2.5.2 2.6.0 2.7.0 2.7.1)&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 javac&lt;/font&gt;.  The applied patch does not increase the total number of javac compiler warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 protoc&lt;/font&gt;.  The applied patch does not increase the total number of protoc compiler warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 javadoc&lt;/font&gt;.  The javadoc tool did not generate any warning messages.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 checkstyle&lt;/font&gt;.  The applied patch does not increase the total number of checkstyle errors&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 findbugs&lt;/font&gt;.  The patch does not introduce any  new Findbugs (version 2.0.3) warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 release audit&lt;/font&gt;.  The applied patch does not increase the total number of release audit warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 lineLengths&lt;/font&gt;.  The patch does not introduce lines longer than 100&lt;/p&gt;

&lt;p&gt;  &lt;font color=&quot;green&quot;&gt;+1 site&lt;/font&gt;.  The mvn post-site goal succeeds with this patch.&lt;/p&gt;

&lt;p&gt;     &lt;font color=&quot;red&quot;&gt;-1 core tests&lt;/font&gt;.  The patch failed these unit tests:&lt;br/&gt;
                       org.apache.hadoop.hbase.mapreduce.TestTableInputFormatScan1&lt;br/&gt;
                  org.apache.hadoop.hbase.mapreduce.TestSyncTable&lt;br/&gt;
                  org.apache.hadoop.hbase.mob.mapreduce.TestMobSweeper&lt;br/&gt;
                  org.apache.hadoop.hbase.mapreduce.TestHashTable&lt;br/&gt;
                  org.apache.hadoop.hbase.mapreduce.TestCellCounter&lt;br/&gt;
                  org.apache.hadoop.hbase.replication.TestReplicationSmallTests&lt;br/&gt;
                  org.apache.hadoop.hbase.mapreduce.TestTableInputFormat&lt;br/&gt;
                  org.apache.hadoop.hbase.TestStochasticBalancerJmxMetrics&lt;/p&gt;

&lt;p&gt;     &lt;font color=&quot;red&quot;&gt;-1 core zombie tests&lt;/font&gt;.  There are 5 zombie test(s): 	at org.apache.hadoop.hbase.mapreduce.TestTableInputFormatScanBase.testScan(TestTableInputFormatScanBase.java:243)&lt;br/&gt;
	at org.apache.hadoop.hbase.mapreduce.TestTableInputFormatScan2.testScanOBBToQPP(TestTableInputFormatScan2.java:58)&lt;br/&gt;
	at org.apache.hadoop.hbase.mapreduce.TestImportExport.testMetaExport(TestImportExport.java:216)&lt;br/&gt;
	at org.apache.hadoop.hbase.mapreduce.TestTableInputFormat.testInputFormat(TestTableInputFormat.java:373)&lt;br/&gt;
	at org.apache.hadoop.hbase.mapreduce.TestTableInputFormat.testDeprecatedExtensionOfTableInputFormatBase(TestTableInputFormat.java:361)&lt;br/&gt;
	at org.apache.hadoop.hbase.mapreduce.TestCellCounter.testCellCounteEndTimeRange(TestCellCounter.java:179)&lt;br/&gt;
	at org.apache.hadoop.hbase.mapreduce.TestTableInputFormatScanBase.testScan(TestTableInputFormatScanBase.java:243)&lt;br/&gt;
	at org.apache.hadoop.hbase.mapreduce.TestTableInputFormatScan1.testScanEmptyToBBB(TestTableInputFormatScan1.java:84)&lt;/p&gt;

&lt;p&gt;Test results: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/15556//testReport/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/15556//testReport/&lt;/a&gt;&lt;br/&gt;
Release Findbugs (version 2.0.3) 	warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/15556//artifact/patchprocess/newFindbugsWarnings.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/15556//artifact/patchprocess/newFindbugsWarnings.html&lt;/a&gt;&lt;br/&gt;
Checkstyle Errors: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/15556//artifact/patchprocess/checkstyle-aggregate.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/15556//artifact/patchprocess/checkstyle-aggregate.html&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;  Console output: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/15556//console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/15556//console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;</comment>
                            <comment id="14741454" author="srikanth235" created="Fri, 11 Sep 2015 19:50:53 +0000"  >&lt;p&gt;Adding null check before closing the connection.&lt;/p&gt;</comment>
                            <comment id="14741763" author="hadoopqa" created="Sat, 12 Sep 2015 00:03:38 +0000"  >&lt;p&gt;&lt;font color=&quot;red&quot;&gt;-1 overall&lt;/font&gt;.  Here are the results of testing the latest attachment &lt;br/&gt;
  &lt;a href=&quot;http://issues.apache.org/jira/secure/attachment/12755482/HBASE-14394_v4.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://issues.apache.org/jira/secure/attachment/12755482/HBASE-14394_v4.patch&lt;/a&gt;&lt;br/&gt;
  against master branch at commit dff5243c89544de8ed3127a7df5ec79cdab3373b.&lt;br/&gt;
  ATTACHMENT ID: 12755482&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 @author&lt;/font&gt;.  The patch does not contain any @author tags.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;red&quot;&gt;-1 tests included&lt;/font&gt;.  The patch doesn&apos;t appear to include any new or modified tests.&lt;br/&gt;
                        Please justify why no new tests are needed for this patch.&lt;br/&gt;
                        Also please list what manual steps were performed to verify this patch.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 hadoop versions&lt;/font&gt;. The patch compiles with all supported hadoop versions (2.4.0 2.4.1 2.5.0 2.5.1 2.5.2 2.6.0 2.7.0 2.7.1)&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 javac&lt;/font&gt;.  The applied patch does not increase the total number of javac compiler warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 protoc&lt;/font&gt;.  The applied patch does not increase the total number of protoc compiler warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 javadoc&lt;/font&gt;.  The javadoc tool did not generate any warning messages.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 checkstyle&lt;/font&gt;.  The applied patch does not increase the total number of checkstyle errors&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 findbugs&lt;/font&gt;.  The patch does not introduce any  new Findbugs (version 2.0.3) warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 release audit&lt;/font&gt;.  The applied patch does not increase the total number of release audit warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 lineLengths&lt;/font&gt;.  The patch does not introduce lines longer than 100&lt;/p&gt;

&lt;p&gt;  &lt;font color=&quot;green&quot;&gt;+1 site&lt;/font&gt;.  The mvn post-site goal succeeds with this patch.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 core tests&lt;/font&gt;.  The patch passed unit tests in .&lt;/p&gt;

&lt;p&gt;     &lt;font color=&quot;red&quot;&gt;-1 core zombie tests&lt;/font&gt;.  There are 1 zombie test(s): 	at org.apache.hadoop.mapred.TestLazyOutput.testLazyOutput(TestLazyOutput.java:195)&lt;/p&gt;

&lt;p&gt;Test results: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/15569//testReport/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/15569//testReport/&lt;/a&gt;&lt;br/&gt;
Release Findbugs (version 2.0.3) 	warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/15569//artifact/patchprocess/newFindbugsWarnings.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/15569//artifact/patchprocess/newFindbugsWarnings.html&lt;/a&gt;&lt;br/&gt;
Checkstyle Errors: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/15569//artifact/patchprocess/checkstyle-aggregate.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/15569//artifact/patchprocess/checkstyle-aggregate.html&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;  Console output: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/15569//console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/15569//console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;</comment>
                            <comment id="14742326" author="jinghe" created="Sun, 13 Sep 2015 04:04:45 +0000"  >&lt;p&gt;+1 on v4.&lt;/p&gt;</comment>
                            <comment id="14745858" author="srikanth235" created="Tue, 15 Sep 2015 18:14:59 +0000"  >&lt;p&gt;Thanks folks for the reviews.&lt;/p&gt;

&lt;p&gt;Pushed the fix to all 1.0+ branches.&lt;/p&gt;</comment>
                            <comment id="14746070" author="hudson" created="Tue, 15 Sep 2015 20:12:11 +0000"  >&lt;p&gt;FAILURE: Integrated in HBase-1.1 #663 (See &lt;a href=&quot;https://builds.apache.org/job/HBase-1.1/663/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/HBase-1.1/663/&lt;/a&gt;)&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-14394&quot; title=&quot;Properly close the connection after reading records from table.&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-14394&quot;&gt;&lt;del&gt;HBASE-14394&lt;/del&gt;&lt;/a&gt; Properly close the connection after reading records from table. (ssrungarapu: rev 73db03ff856e17941bf646423fb038b244993541)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;hbase-server/src/main/java/org/apache/hadoop/hbase/mapreduce/TableRecordReader.java&lt;/li&gt;
	&lt;li&gt;hbase-server/src/main/java/org/apache/hadoop/hbase/mapreduce/MultiTableInputFormatBase.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="14746084" author="hudson" created="Tue, 15 Sep 2015 20:19:16 +0000"  >&lt;p&gt;FAILURE: Integrated in HBase-1.0 #1051 (See &lt;a href=&quot;https://builds.apache.org/job/HBase-1.0/1051/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/HBase-1.0/1051/&lt;/a&gt;)&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-14394&quot; title=&quot;Properly close the connection after reading records from table.&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-14394&quot;&gt;&lt;del&gt;HBASE-14394&lt;/del&gt;&lt;/a&gt; Properly close the connection after reading records from table. (ssrungarapu: rev 4af173f3f16d7c85ab565b10a5b0cfc0f1fb4977)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;hbase-server/src/main/java/org/apache/hadoop/hbase/mapreduce/TableRecordReader.java&lt;/li&gt;
	&lt;li&gt;hbase-server/src/main/java/org/apache/hadoop/hbase/mapreduce/MultiTableInputFormatBase.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="14746174" author="hudson" created="Tue, 15 Sep 2015 20:58:27 +0000"  >&lt;p&gt;SUCCESS: Integrated in HBase-1.2-IT #147 (See &lt;a href=&quot;https://builds.apache.org/job/HBase-1.2-IT/147/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/HBase-1.2-IT/147/&lt;/a&gt;)&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-14394&quot; title=&quot;Properly close the connection after reading records from table.&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-14394&quot;&gt;&lt;del&gt;HBASE-14394&lt;/del&gt;&lt;/a&gt; Properly close the connection after reading records from table. (ssrungarapu: rev 0d3f0f64a49cbd33f26d7dfd97ec30aa7d78a752)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;hbase-server/src/main/java/org/apache/hadoop/hbase/mapreduce/TableRecordReader.java&lt;/li&gt;
	&lt;li&gt;hbase-server/src/main/java/org/apache/hadoop/hbase/mapreduce/MultiTableInputFormatBase.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="14746231" author="hudson" created="Tue, 15 Sep 2015 21:18:03 +0000"  >&lt;p&gt;SUCCESS: Integrated in HBase-1.3-IT #156 (See &lt;a href=&quot;https://builds.apache.org/job/HBase-1.3-IT/156/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/HBase-1.3-IT/156/&lt;/a&gt;)&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-14394&quot; title=&quot;Properly close the connection after reading records from table.&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-14394&quot;&gt;&lt;del&gt;HBASE-14394&lt;/del&gt;&lt;/a&gt; Properly close the connection after reading records from table. (ssrungarapu: rev 1e90df8aa87969d503cabf435025c4aff3cca100)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;hbase-server/src/main/java/org/apache/hadoop/hbase/mapreduce/TableRecordReader.java&lt;/li&gt;
	&lt;li&gt;hbase-server/src/main/java/org/apache/hadoop/hbase/mapreduce/MultiTableInputFormatBase.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="14746284" author="hudson" created="Tue, 15 Sep 2015 21:38:42 +0000"  >&lt;p&gt;FAILURE: Integrated in HBase-1.3 #175 (See &lt;a href=&quot;https://builds.apache.org/job/HBase-1.3/175/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/HBase-1.3/175/&lt;/a&gt;)&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-14394&quot; title=&quot;Properly close the connection after reading records from table.&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-14394&quot;&gt;&lt;del&gt;HBASE-14394&lt;/del&gt;&lt;/a&gt; Properly close the connection after reading records from table. (ssrungarapu: rev 1e90df8aa87969d503cabf435025c4aff3cca100)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;hbase-server/src/main/java/org/apache/hadoop/hbase/mapreduce/TableRecordReader.java&lt;/li&gt;
	&lt;li&gt;hbase-server/src/main/java/org/apache/hadoop/hbase/mapreduce/MultiTableInputFormatBase.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="14746407" author="hudson" created="Tue, 15 Sep 2015 22:42:56 +0000"  >&lt;p&gt;FAILURE: Integrated in HBase-1.2 #174 (See &lt;a href=&quot;https://builds.apache.org/job/HBase-1.2/174/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/HBase-1.2/174/&lt;/a&gt;)&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-14394&quot; title=&quot;Properly close the connection after reading records from table.&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-14394&quot;&gt;&lt;del&gt;HBASE-14394&lt;/del&gt;&lt;/a&gt; Properly close the connection after reading records from table. (ssrungarapu: rev 0d3f0f64a49cbd33f26d7dfd97ec30aa7d78a752)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;hbase-server/src/main/java/org/apache/hadoop/hbase/mapreduce/TableRecordReader.java&lt;/li&gt;
	&lt;li&gt;hbase-server/src/main/java/org/apache/hadoop/hbase/mapreduce/MultiTableInputFormatBase.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="14746499" author="hudson" created="Tue, 15 Sep 2015 23:35:57 +0000"  >&lt;p&gt;FAILURE: Integrated in HBase-TRUNK #6809 (See &lt;a href=&quot;https://builds.apache.org/job/HBase-TRUNK/6809/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/HBase-TRUNK/6809/&lt;/a&gt;)&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-14394&quot; title=&quot;Properly close the connection after reading records from table.&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-14394&quot;&gt;&lt;del&gt;HBASE-14394&lt;/del&gt;&lt;/a&gt; Properly close the connection after reading records from table. (ssrungarapu: rev 938d2a0c9cfa4c033ccc72de490672f151bb0351)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;hbase-server/src/main/java/org/apache/hadoop/hbase/mapreduce/MultiTableInputFormatBase.java&lt;/li&gt;
	&lt;li&gt;hbase-server/src/main/java/org/apache/hadoop/hbase/mapreduce/TableRecordReader.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="14905429" author="ndimiduk" created="Wed, 23 Sep 2015 22:34:31 +0000"  >&lt;p&gt;Hi &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=srikanth235&quot; class=&quot;user-hover&quot; rel=&quot;srikanth235&quot;&gt;Srikanth Srungarapu&lt;/a&gt;. While prepping for 1.1.3 release, I noticed this patch added TableRecordReader#setConnection as a public method with no Javadoc string. This is a @InterfaceAudience.Public, @InterfaceStability.Stable class, which means it&apos;s now and forever part of our public, stable API. Thus I have to ask: can it&apos;s visibility be reduced and can you please provide a basic docstring explaining when and where it needs to be used? Maybe &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=jerryhe&quot; class=&quot;user-hover&quot; rel=&quot;jerryhe&quot;&gt;Jerry He&lt;/a&gt; can provide some context here as well. Thanks.&lt;/p&gt;</comment>
                            <comment id="14905694" author="jinghe" created="Thu, 24 Sep 2015 02:28:38 +0000"  >&lt;p&gt;See your comment in the email thread &apos;Thinking of HBase 1.1.3&apos; as well, &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=ndimiduk&quot; class=&quot;user-hover&quot; rel=&quot;ndimiduk&quot;&gt;Nick Dimiduk&lt;/a&gt; &lt;br/&gt;
There must a way to accomplish the same (closing the connection) without adding the method and introducing this compatibility issue. Do you want to fix the issue by redoing in a different way?&lt;/p&gt;</comment>
                            <comment id="14905996" author="srikanth235" created="Thu, 24 Sep 2015 08:24:01 +0000"  >&lt;p&gt;Yeah, I can definitely provide doc comments. Reducing the visibility of the method may not be feasible option, as we have to call &lt;tt&gt;trr.setConnection()&lt;/tt&gt; method from &lt;tt&gt;MultiTableInputFormatBase&lt;/tt&gt;, and hence it can&apos;t be marked as either protected or private. Please do let me know if you guys have any better alternatives in mind.&lt;/p&gt;</comment>
                            <comment id="14906570" author="jinghe" created="Thu, 24 Sep 2015 16:15:05 +0000"  >&lt;p&gt;Looking at TableInputFormatBase. It used an inner class in createRecordReader() that seems to be only for closing the resources.&lt;br/&gt;
You guys can decide if it is good or worth doing it here or not.&lt;/p&gt;</comment>
                            <comment id="14906584" author="ndimiduk" created="Thu, 24 Sep 2015 16:22:24 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=srikanth235&quot; class=&quot;user-hover&quot; rel=&quot;srikanth235&quot;&gt;Srikanth Srungarapu&lt;/a&gt; Is &lt;tt&gt;setConnection&lt;/tt&gt; only called from &lt;tt&gt;MultiTableInputFormatBase&lt;/tt&gt;? If so, it can be added at protected visibility. Either way, adding a docstring should help future maintainers to understand what&apos;s going on.&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=jerryhe&quot; class=&quot;user-hover&quot; rel=&quot;jerryhe&quot;&gt;Jerry He&lt;/a&gt; I don&apos;t mind adding the method, so long as it&apos;s added with good reason, is considered thoughtfully as part of the API of a public interface, and is documented appropriately.&lt;/p&gt;

&lt;p&gt;However, on the &lt;tt&gt;close()&lt;/tt&gt; descriptor, we need to maintain 100% source compatibility for patch releases, so 1.0, and 1.1 branch (and 0.98 actually), patches must not change the throws signature of this method. Mind adding an addendum for those release versions that addresses the visibility, docstring, and interface issues?&lt;/p&gt;

&lt;p&gt;For your reference, I generate the compatibility report linked in the dev thread using the tool &lt;tt&gt;dev-support/check_compatibility.sh&lt;/tt&gt; on master. Thanks folks.&lt;/p&gt;</comment>
                            <comment id="14906635" author="ndimiduk" created="Thu, 24 Sep 2015 16:53:35 +0000"  >&lt;p&gt;Reopening for addendum for 1.0.x and 1.1.x.&lt;/p&gt;</comment>
                            <comment id="14906642" author="ndimiduk" created="Thu, 24 Sep 2015 16:58:06 +0000"  >&lt;p&gt;Reading again the &lt;a href=&quot;http://hbase.apache.org/book.html#hbase.versioning&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;compatibility matrix&lt;/a&gt;, the only time we can make source-level incompatibility changes is on a major release. That means the &lt;tt&gt;close()&lt;/tt&gt; signature must be retained through all 1.x branches.&lt;/p&gt;

&lt;p&gt;FYI &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=busbey&quot; class=&quot;user-hover&quot; rel=&quot;busbey&quot;&gt;Sean Busbey&lt;/a&gt; &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=enis&quot; class=&quot;user-hover&quot; rel=&quot;enis&quot;&gt;Enis Soztutar&lt;/a&gt;.&lt;/p&gt;</comment>
                            <comment id="14906716" author="busbey" created="Thu, 24 Sep 2015 17:40:49 +0000"  >&lt;p&gt;chiming in late, but we could annotate the &lt;tt&gt;setConnection&lt;/tt&gt; method with &lt;tt&gt;InterfaceAudience.Private&lt;/tt&gt; and remove it from the API.&lt;/p&gt;</comment>
                            <comment id="14906717" author="busbey" created="Thu, 24 Sep 2015 17:41:08 +0000"  >&lt;p&gt;also thanks for catching this compat issue early &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=ndimiduk&quot; class=&quot;user-hover&quot; rel=&quot;ndimiduk&quot;&gt;Nick Dimiduk&lt;/a&gt;!&lt;/p&gt;</comment>
                            <comment id="14906806" author="ndimiduk" created="Thu, 24 Sep 2015 18:44:45 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=busbey&quot; class=&quot;user-hover&quot; rel=&quot;busbey&quot;&gt;Sean Busbey&lt;/a&gt; Early for you was right on schedule for me &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/wink.gif&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/p&gt;</comment>
                            <comment id="14907353" author="srikanth235" created="Fri, 25 Sep 2015 01:30:37 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=jerryhe&quot; class=&quot;user-hover&quot; rel=&quot;jerryhe&quot;&gt;Jerry He&lt;/a&gt; Do you mind picking this up? I might not be able to attend to this anytime soon.&lt;/p&gt;</comment>
                            <comment id="14908320" author="jinghe" created="Fri, 25 Sep 2015 16:57:46 +0000"  >&lt;p&gt;Sure. Will get a patch shortly.&lt;/p&gt;</comment>
                            <comment id="14909044" author="srikanth235" created="Sat, 26 Sep 2015 03:38:48 +0000"  >&lt;p&gt;Thanks, Jerry!&lt;/p&gt;</comment>
                            <comment id="14909397" author="jinghe" created="Sat, 26 Sep 2015 18:19:08 +0000"  >&lt;p&gt;Attached an addendum that does it in a different way, similar to TableInputFormatBase, so that we don&apos;t have to worry about compatibility or doc it.&lt;br/&gt;
If you guys like it, I will apply across the branches.&lt;br/&gt;
TestMultiTableInputFormat passed well.&lt;/p&gt;</comment>
                            <comment id="14909950" author="hadoopqa" created="Mon, 28 Sep 2015 00:57:31 +0000"  >&lt;p&gt;&lt;font color=&quot;red&quot;&gt;-1 overall&lt;/font&gt;.  Here are the results of testing the latest attachment &lt;br/&gt;
  &lt;a href=&quot;http://issues.apache.org/jira/secure/attachment/12762537/HBASE-14394-addendum.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://issues.apache.org/jira/secure/attachment/12762537/HBASE-14394-addendum.patch&lt;/a&gt;&lt;br/&gt;
  against master branch at commit 526520de0a9d7a29fcf1b4c521f017ca75a46cbc.&lt;br/&gt;
  ATTACHMENT ID: 12762537&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 @author&lt;/font&gt;.  The patch does not contain any @author tags.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;red&quot;&gt;-1 tests included&lt;/font&gt;.  The patch doesn&apos;t appear to include any new or modified tests.&lt;br/&gt;
                        Please justify why no new tests are needed for this patch.&lt;br/&gt;
                        Also please list what manual steps were performed to verify this patch.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 hadoop versions&lt;/font&gt;. The patch compiles with all supported hadoop versions (2.4.0 2.4.1 2.5.0 2.5.1 2.5.2 2.6.0 2.7.0 2.7.1)&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 javac&lt;/font&gt;.  The applied patch does not increase the total number of javac compiler warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 protoc&lt;/font&gt;.  The applied patch does not increase the total number of protoc compiler warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 javadoc&lt;/font&gt;.  The javadoc tool did not generate any warning messages.&lt;/p&gt;

&lt;p&gt;                &lt;font color=&quot;red&quot;&gt;-1 checkstyle&lt;/font&gt;.  The applied patch generated 1789 checkstyle errors (more than the master&apos;s current 1787 errors).&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 findbugs&lt;/font&gt;.  The patch does not introduce any  new Findbugs (version 2.0.3) warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 release audit&lt;/font&gt;.  The applied patch does not increase the total number of release audit warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 lineLengths&lt;/font&gt;.  The patch does not introduce lines longer than 100&lt;/p&gt;

&lt;p&gt;  &lt;font color=&quot;green&quot;&gt;+1 site&lt;/font&gt;.  The mvn post-site goal succeeds with this patch.&lt;/p&gt;

&lt;p&gt;     &lt;font color=&quot;red&quot;&gt;-1 core tests&lt;/font&gt;.  The patch failed these unit tests:&lt;br/&gt;
                       org.apache.hadoop.hbase.client.TestShell&lt;br/&gt;
                  org.apache.hadoop.hbase.client.TestReplicationShell&lt;/p&gt;

&lt;p&gt;Test results: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/15778//testReport/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/15778//testReport/&lt;/a&gt;&lt;br/&gt;
Release Findbugs (version 2.0.3) 	warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/15778//artifact/patchprocess/newFindbugsWarnings.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/15778//artifact/patchprocess/newFindbugsWarnings.html&lt;/a&gt;&lt;br/&gt;
Checkstyle Errors: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/15778//artifact/patchprocess/checkstyle-aggregate.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/15778//artifact/patchprocess/checkstyle-aggregate.html&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;                Console output: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/15778//console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/15778//console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;</comment>
                            <comment id="14934116" author="jinghe" created="Mon, 28 Sep 2015 21:45:22 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=ndimiduk&quot; class=&quot;user-hover&quot; rel=&quot;ndimiduk&quot;&gt;Nick Dimiduk&lt;/a&gt;, &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=srikanth235&quot; class=&quot;user-hover&quot; rel=&quot;srikanth235&quot;&gt;Srikanth Srungarapu&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Are you ok with the addendum?&lt;br/&gt;
I will fix the checkstyle warnings.&lt;/p&gt;</comment>
                            <comment id="14934808" author="ndimiduk" created="Tue, 29 Sep 2015 07:53:24 +0000"  >&lt;p&gt;Thanks &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=jerryhe&quot; class=&quot;user-hover&quot; rel=&quot;jerryhe&quot;&gt;Jerry He&lt;/a&gt;, this addendum cleans up the &lt;a href=&quot;http://people.apache.org/~ndimiduk/1.1.0_14394-addendum-branch-1.1_compat_report.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;compatibility report&lt;/a&gt;.&lt;/p&gt;

&lt;p&gt;+1&lt;/p&gt;</comment>
                            <comment id="14936324" author="jinghe" created="Wed, 30 Sep 2015 03:34:04 +0000"  >&lt;p&gt;Thanks, &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=ndimiduk&quot; class=&quot;user-hover&quot; rel=&quot;ndimiduk&quot;&gt;Nick Dimiduk&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Attached addendum-v2, which fixed the checkstyle warnings by removing unused import and fixing one long line.&lt;br/&gt;
Committed addendum-v2 from branch-1.0 to master.&lt;/p&gt;</comment>
                            <comment id="14936339" author="hudson" created="Wed, 30 Sep 2015 03:58:11 +0000"  >&lt;p&gt;FAILURE: Integrated in HBase-1.0 #1063 (See &lt;a href=&quot;https://builds.apache.org/job/HBase-1.0/1063/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/HBase-1.0/1063/&lt;/a&gt;)&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-14394&quot; title=&quot;Properly close the connection after reading records from table.&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-14394&quot;&gt;&lt;del&gt;HBASE-14394&lt;/del&gt;&lt;/a&gt; Properly close the connection after reading records from table: addendum (jerryjch: rev 85eec3e20303b73cce899b068a8cf6248e76da3f)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;hbase-server/src/main/java/org/apache/hadoop/hbase/mapreduce/MultiTableInputFormatBase.java&lt;/li&gt;
	&lt;li&gt;hbase-server/src/main/java/org/apache/hadoop/hbase/mapreduce/TableRecordReader.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="14936384" author="hudson" created="Wed, 30 Sep 2015 05:20:07 +0000"  >&lt;p&gt;FAILURE: Integrated in HBase-1.3 #216 (See &lt;a href=&quot;https://builds.apache.org/job/HBase-1.3/216/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/HBase-1.3/216/&lt;/a&gt;)&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-14394&quot; title=&quot;Properly close the connection after reading records from table.&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-14394&quot;&gt;&lt;del&gt;HBASE-14394&lt;/del&gt;&lt;/a&gt; Properly close the connection after reading records from table: addendum (jerryjch: rev c75382860f793f31599cffc6ad697f8ab58c4eb0)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;hbase-server/src/main/java/org/apache/hadoop/hbase/mapreduce/TableRecordReader.java&lt;/li&gt;
	&lt;li&gt;hbase-server/src/main/java/org/apache/hadoop/hbase/mapreduce/MultiTableInputFormatBase.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="14936391" author="hudson" created="Wed, 30 Sep 2015 05:32:02 +0000"  >&lt;p&gt;SUCCESS: Integrated in HBase-1.2-IT #176 (See &lt;a href=&quot;https://builds.apache.org/job/HBase-1.2-IT/176/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/HBase-1.2-IT/176/&lt;/a&gt;)&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-14394&quot; title=&quot;Properly close the connection after reading records from table.&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-14394&quot;&gt;&lt;del&gt;HBASE-14394&lt;/del&gt;&lt;/a&gt; Properly close the connection after reading records from table: addendum (jerryjch: rev a8b79e2768230b6a2bb5f26ea5daa091685d35f2)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;hbase-server/src/main/java/org/apache/hadoop/hbase/mapreduce/TableRecordReader.java&lt;/li&gt;
	&lt;li&gt;hbase-server/src/main/java/org/apache/hadoop/hbase/mapreduce/MultiTableInputFormatBase.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="14936405" author="hudson" created="Wed, 30 Sep 2015 05:53:29 +0000"  >&lt;p&gt;SUCCESS: Integrated in HBase-1.1 #686 (See &lt;a href=&quot;https://builds.apache.org/job/HBase-1.1/686/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/HBase-1.1/686/&lt;/a&gt;)&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-14394&quot; title=&quot;Properly close the connection after reading records from table.&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-14394&quot;&gt;&lt;del&gt;HBASE-14394&lt;/del&gt;&lt;/a&gt; Properly close the connection after reading records from table: addendum (jerryjch: rev ea00aed0506f7f16de5c6fa5d0da9a1827e9de18)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;hbase-server/src/main/java/org/apache/hadoop/hbase/mapreduce/MultiTableInputFormatBase.java&lt;/li&gt;
	&lt;li&gt;hbase-server/src/main/java/org/apache/hadoop/hbase/mapreduce/TableRecordReader.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="14936420" author="hudson" created="Wed, 30 Sep 2015 06:14:41 +0000"  >&lt;p&gt;FAILURE: Integrated in HBase-1.2 #210 (See &lt;a href=&quot;https://builds.apache.org/job/HBase-1.2/210/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/HBase-1.2/210/&lt;/a&gt;)&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-14394&quot; title=&quot;Properly close the connection after reading records from table.&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-14394&quot;&gt;&lt;del&gt;HBASE-14394&lt;/del&gt;&lt;/a&gt; Properly close the connection after reading records from table: addendum (jerryjch: rev a8b79e2768230b6a2bb5f26ea5daa091685d35f2)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;hbase-server/src/main/java/org/apache/hadoop/hbase/mapreduce/MultiTableInputFormatBase.java&lt;/li&gt;
	&lt;li&gt;hbase-server/src/main/java/org/apache/hadoop/hbase/mapreduce/TableRecordReader.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="14936484" author="hudson" created="Wed, 30 Sep 2015 07:26:16 +0000"  >&lt;p&gt;FAILURE: Integrated in HBase-TRUNK #6856 (See &lt;a href=&quot;https://builds.apache.org/job/HBase-TRUNK/6856/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/HBase-TRUNK/6856/&lt;/a&gt;)&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-14394&quot; title=&quot;Properly close the connection after reading records from table.&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-14394&quot;&gt;&lt;del&gt;HBASE-14394&lt;/del&gt;&lt;/a&gt; Properly close the connection after reading records from table: addendum (jerryjch: rev e6905a14446e9d795a797e091d5b35a75fe370d6)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;hbase-server/src/main/java/org/apache/hadoop/hbase/mapreduce/MultiTableInputFormatBase.java&lt;/li&gt;
	&lt;li&gt;hbase-server/src/main/java/org/apache/hadoop/hbase/mapreduce/TableRecordReader.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="14937957" author="hudson" created="Wed, 30 Sep 2015 17:35:37 +0000"  >&lt;p&gt;SUCCESS: Integrated in HBase-1.3-IT #194 (See &lt;a href=&quot;https://builds.apache.org/job/HBase-1.3-IT/194/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/HBase-1.3-IT/194/&lt;/a&gt;)&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-14394&quot; title=&quot;Properly close the connection after reading records from table.&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-14394&quot;&gt;&lt;del&gt;HBASE-14394&lt;/del&gt;&lt;/a&gt; Properly close the connection after reading records from (jerryjch: rev c75382860f793f31599cffc6ad697f8ab58c4eb0)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;hbase-server/src/main/java/org/apache/hadoop/hbase/mapreduce/MultiTableInputFormatBase.java&lt;/li&gt;
	&lt;li&gt;hbase-server/src/main/java/org/apache/hadoop/hbase/mapreduce/TableRecordReader.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="15119463" author="ndimiduk" created="Wed, 27 Jan 2016 15:28:26 +0000"  >&lt;p&gt;Bulk closing 1.1.3 issues.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12764372" name="HBASE-14394-addendum-v2.patch" size="4926" author="jinghe" created="Wed, 30 Sep 2015 03:31:26 +0000"/>
                            <attachment id="12762537" name="HBASE-14394-addendum.patch" size="4129" author="jinghe" created="Sat, 26 Sep 2015 18:19:08 +0000"/>
                            <attachment id="12755073" name="HBASE-14394.patch" size="786" author="srikanth235" created="Thu, 10 Sep 2015 06:28:01 +0000"/>
                            <attachment id="12755246" name="HBASE-14394_v2.patch" size="3442" author="srikanth235" created="Thu, 10 Sep 2015 22:09:13 +0000"/>
                            <attachment id="12755337" name="HBASE-14394_v3.patch" size="2485" author="srikanth235" created="Fri, 11 Sep 2015 06:32:22 +0000"/>
                            <attachment id="12755482" name="HBASE-14394_v4.patch" size="2529" author="srikanth235" created="Fri, 11 Sep 2015 19:50:53 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>6.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Thu, 10 Sep 2015 09:25:57 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310191" key="com.atlassian.jira.plugin.system.customfieldtypes:multicheckboxes">
                        <customfieldname>Hadoop Flags</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10343"><![CDATA[Reviewed]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            44 weeks, 1 day ago
                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i2jzd3:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        </customfields>
    </item>
</channel>
</rss>