<!-- 
RSS generated by JIRA (6.3.4#6332-sha1:51bc225ef474afe3128b2f66878477f322397b16) at Sat Dec 03 16:32:45 UTC 2016

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary add field=key&field=summary to the URL of your request.
For example:
https://issues.apache.org/jira/si/jira.issueviews:issue-xml/HBASE-6262/HBASE-6262.xml?field=key&amp;field=summary
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>6.3.4</version>
        <build-number>6332</build-number>
        <build-date>15-08-2014</build-date>
    </build-info>

<item>
            <title>[HBASE-6262] Row Count hangs due to printing raw without filtering for control codes/non-displayable characters</title>
                <link>https://issues.apache.org/jira/browse/HBASE-6262</link>
                <project id="12310753" key="HBASE">HBase</project>
                    <description>&lt;p&gt;The problem is the key is printed raw without filtering for control codes/non-displayable characters. Consequently, row 264000&apos;s row key includes the data &amp;lt;ESC&amp;gt;P (hex: 1B 50) which initiates a VT100/ANSI DCS sequence, which normally must be terminated by a DCS string terminator code, &amp;lt;ESC&amp;gt;\ (hex: 1B 5C) (cf.&lt;/p&gt;

&lt;p&gt;At row 264000, &amp;lt;ESC&amp;gt;P appears, but is not followed by the &amp;lt;ESC&amp;gt;\ termination code &amp;#8211; so instead of data being output to the display, it is getting buffered by the terminal to complete the DCS command. Result: the data is not displayed (xterminal) or the terminal locks up (gnome-terminal).&lt;/p&gt;

&lt;p&gt;Note that this is a potential for abusing this &quot;feature&quot; to hide/alter information displayed on the screen, since an arbitrary terminal control codes could potentially be constructed and injected into a rowkey.&lt;/p&gt;

&lt;p&gt;If you open a VT100-emulating terminal window can cat the attached file, as-is, it would hang after displaying the starting portion of the line for row 264000.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12595635">HBASE-6262</key>
            <summary>Row Count hangs due to printing raw without filtering for control codes/non-displayable characters</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/bug.png">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.png">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="3">Duplicate</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="kevin.odell">Kevin Odell</reporter>
                        <labels>
                    </labels>
                <created>Fri, 22 Jun 2012 21:14:20 +0000</created>
                <updated>Wed, 7 Jan 2015 21:26:05 +0000</updated>
                            <resolved>Wed, 7 Jan 2015 21:26:05 +0000</resolved>
                                                                    <component>shell</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>5</watches>
                                                                <comments>
                            <comment id="13399609" author="kevin.odell" created="Fri, 22 Jun 2012 21:14:56 +0000"  >&lt;p&gt;Shell log attached&lt;/p&gt;</comment>
                            <comment id="13399632" author="esteban" created="Fri, 22 Jun 2012 21:43:26 +0000"  >&lt;p&gt;I think the fix is basically this in hbase/table.rb&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
def _count_internal(interval = 1000, caching_rows = 10)
...
  yield(count, org.apache.hadoop.hbase.util.Bytes::toStringBinary(row.getRow)
...
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</comment>
                            <comment id="13400172" author="jmhsieh" created="Sun, 24 Jun 2012 15:56:50 +0000"  >&lt;p&gt;Kevin, can you try esteban&apos;s the suggested fix?&lt;/p&gt;

&lt;p&gt;Esteban, is that the only instance?  Can you check for others that should be escaped with toStringBinary and then create a patch file?&lt;/p&gt;</comment>
                            <comment id="14268268" author="clehene" created="Wed, 7 Jan 2015 21:26:05 +0000"  >&lt;p&gt;duplicated (and fixed by) &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-7476&quot; title=&quot;HBase shell count command doesn&amp;#39;t escape binary output&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-7476&quot;&gt;&lt;del&gt;HBASE-7476&lt;/del&gt;&lt;/a&gt;&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="12310000">
                    <name>Duplicate</name>
                                                                <inwardlinks description="is duplicated by">
                                        <issuelink>
            <issuekey id="12625722">HBASE-7476</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="12533109" name="hbase-shell.log" size="29766" author="kevin.odell" created="Fri, 22 Jun 2012 21:14:56 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Fri, 22 Jun 2012 21:43:26 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>241766</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            1 year, 47 weeks, 2 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i02chr:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>11625</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        </customfields>
    </item>
</channel>
</rss>