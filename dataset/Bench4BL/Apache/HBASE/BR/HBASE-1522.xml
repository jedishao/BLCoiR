<!-- 
RSS generated by JIRA (6.3.4#6332-sha1:51bc225ef474afe3128b2f66878477f322397b16) at Fri Dec 02 20:39:17 UTC 2016

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary add field=key&field=summary to the URL of your request.
For example:
https://issues.apache.org/jira/si/jira.issueviews:issue-xml/HBASE-1522/HBASE-1522.xml?field=key&amp;field=summary
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>6.3.4</version>
        <build-number>6332</build-number>
        <build-date>15-08-2014</build-date>
    </build-info>

<item>
            <title>[HBASE-1522] We delete splits before their time occasionally</title>
                <link>https://issues.apache.org/jira/browse/HBASE-1522</link>
                <project id="12310753" key="HBASE">HBase</project>
                    <description>&lt;p&gt;the master logfile says:&lt;/p&gt;

&lt;p&gt;2009-06-13 01:47:50,993 DEBUG org.apache.hadoop.hbase.master.BaseScanner: Looking for reference files in: hdfs://borg13:9000/hbase-1304/table/582659871/default2009-06-13 01:47:50,994 DEBUG org.apache.hadoop.hbase.master.BaseScanner: isReference: hdfs://borg13:9000/hbase-1304/table/582659871/default/7693630986938671024&lt;br/&gt;
2009-06-13 01:47:50,995 DEBUG org.apache.hadoop.hbase.master.BaseScanner: table,,1244880487129/582659871 no longer has references to table,,1244877673805&lt;br/&gt;
2009-06-13 01:47:51,007 DEBUG org.apache.hadoop.hbase.master.BaseScanner: Looking for reference files in: hdfs://borg13:9000/hbase-1304/table/582659871/default2009-06-13 01:47:51,007 DEBUG org.apache.hadoop.hbase.master.BaseScanner: isReference: hdfs://borg13:9000/hbase-1304/table/582659871/default/7693630986938671024&lt;br/&gt;
2009-06-13 01:47:51,008 DEBUG org.apache.hadoop.hbase.master.BaseScanner: table,,1244880487129/582659871 no longer has references to table,,12448776738&lt;br/&gt;
052009-06-13 01:47:51,009 INFO org.apache.hadoop.hbase.master.BaseScanner: Deleting region table,,1244877673805 (encoded=1481906432) because daughter splits no longe&lt;br/&gt;
r hold references2009-06-13 01:47:51,009 DEBUG org.apache.hadoop.hbase.regionserver.HRegion: DELETING region hdfs://borg13:9000/hbase-1304/table/1481906432&lt;/p&gt;


&lt;p&gt;As you can see, apparently splitA and splitB point to the same region!&lt;/p&gt;</description>
                <environment></environment>
        <key id="12427852">HBASE-1522</key>
            <summary>We delete splits before their time occasionally</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/bug.png">Bug</type>
                                            <priority id="1" iconUrl="https://issues.apache.org/jira/images/icons/priorities/blocker.png">Blocker</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="ryanobjc">ryan rawson</assignee>
                                    <reporter username="ryanobjc">ryan rawson</reporter>
                        <labels>
                    </labels>
                <created>Mon, 15 Jun 2009 05:40:06 +0000</created>
                <updated>Sun, 13 Sep 2009 22:24:43 +0000</updated>
                            <resolved>Mon, 15 Jun 2009 05:45:43 +0000</resolved>
                                    <version>0.20.0</version>
                                    <fixVersion>0.20.0</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                <comments>
                            <comment id="12719402" author="ryanobjc" created="Mon, 15 Jun 2009 05:41:18 +0000"  >&lt;p&gt;here is a fix:&lt;/p&gt;

&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;diff --git a/src/java/org/apache/hadoop/hbase/regionserver/CompactSplitThread.java b/src/java/org/apache/hadoop/hbase/regionserver/CompactSplitThread.java
index 5da31c7..8f0f0e8 100644
--- a/src/java/org/apache/hadoop/hbase/regionserver/CompactSplitThread.java
+++ b/src/java/org/apache/hadoop/hbase/regionserver/CompactSplitThread.java
@@ -208,7 +208,7 @@ class CompactSplitThread extends Thread implements HConstants {
     put.add(CATALOG_FAMILY, SPLITA_QUALIFIER,
         Writables.getBytes(newRegions[0].getRegionInfo()));
     put.add(CATALOG_FAMILY, SPLITB_QUALIFIER,
-        Writables.getBytes(newRegions[0].getRegionInfo()));
+        Writables.getBytes(newRegions[1].getRegionInfo()));
     t.put(put);
     
     // Add new regions to META
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</comment>
                            <comment id="12719405" author="ryanobjc" created="Mon, 15 Jun 2009 05:45:43 +0000"  >&lt;p&gt;committed&lt;/p&gt;</comment>
                            <comment id="12719631" author="stack" created="Mon, 15 Jun 2009 16:34:01 +0000"  >&lt;p&gt;Just to note that hbase-1495 had a patch to fix this and hbase-1523.  Sorry you had to find them yourself (My fault for letting 1495 hang out there so long).  Was going to commit along with proper fix for 1495, once I&apos;d figure premature parent removal.  Will now see if recent commits have fixed the last problem reported in 1495.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Mon, 15 Jun 2009 16:34:01 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>25801</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            7 years, 25 weeks, 4 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0hdqv:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>99489</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        </customfields>
    </item>
</channel>
</rss>