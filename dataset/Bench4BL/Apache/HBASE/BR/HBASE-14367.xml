<!-- 
RSS generated by JIRA (6.3.4#6332-sha1:51bc225ef474afe3128b2f66878477f322397b16) at Thu Dec 01 20:56:49 UTC 2016

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary add field=key&field=summary to the URL of your request.
For example:
https://issues.apache.org/jira/si/jira.issueviews:issue-xml/HBASE-14367/HBASE-14367.xml?field=key&amp;field=summary
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>6.3.4</version>
        <build-number>6332</build-number>
        <build-date>15-08-2014</build-date>
    </build-info>

<item>
            <title>[HBASE-14367] Add normalization support to shell</title>
                <link>https://issues.apache.org/jira/browse/HBASE-14367</link>
                <project id="12310753" key="HBASE">HBase</project>
                    <description>&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-13103&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/browse/HBASE-13103&lt;/a&gt; adds support for setting a normalization flag per &lt;tt&gt;HTableDescriptor&lt;/tt&gt;, along with the server side chore to do the work.&lt;/p&gt;

&lt;p&gt;What is lacking is to easily set this from the shell, right now you need to use the Java API to modify the descriptor. This issue is to add the flag as a known attribute key and/or other means to toggle this per table.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12861837">HBASE-14367</key>
            <summary>Add normalization support to shell</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/bug.png">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.png">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="mantonov">Mikhail Antonov</assignee>
                                    <reporter username="larsgeorge">Lars George</reporter>
                        <labels>
                    </labels>
                <created>Fri, 4 Sep 2015 13:15:22 +0000</created>
                <updated>Sun, 17 Jan 2016 03:00:25 +0000</updated>
                            <resolved>Sun, 4 Oct 2015 08:34:24 +0000</resolved>
                                    <version>1.1.2</version>
                                    <fixVersion>2.0.0</fixVersion>
                    <fixVersion>1.2.0</fixVersion>
                    <fixVersion>1.3.0</fixVersion>
                                    <component>Balancer</component>
                    <component>shell</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>10</watches>
                                                                <comments>
                            <comment id="14804747" author="jmspaggi" created="Fri, 18 Sep 2015 00:34:50 +0000"  >&lt;p&gt;any progress on that? &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/wink.gif&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/p&gt;</comment>
                            <comment id="14804752" author="mantonov" created="Fri, 18 Sep 2015 00:37:22 +0000"  >&lt;p&gt;Oh, yep, sorry for delay, been busy &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/smile.gif&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt; should post first patch today or tomorrow.&lt;/p&gt;</comment>
                            <comment id="14901208" author="mantonov" created="Mon, 21 Sep 2015 19:07:01 +0000"  >&lt;p&gt;Here&apos;s patch, tested on my small test rig (3 virtual boxes). Since I tried to provide the same kind of tooling as balancer does, this entailed ruby scripts changes, protos/rpc changes, new stuff in master rpc services etc, as well as new ZK tracker &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/sad.gif&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt; so sorry for the size of the patch. And for this piece with setting the normalization_enabled on/off flag for the table from shell - I tested that on my cluster, it works now, though I still see the warning about unknown argument, but same warning is given if I try to disable compaction for the table, for example, so that unrelated. Let me know what do you think?&lt;/p&gt;

&lt;p&gt;I&apos;m thinking if I need to rework part of it to allow running normalization on a specific table on the shell.&lt;/p&gt;

&lt;p&gt;Also seems to be  unnecessary and could be improved is that changing normalization on/off for the table involves rewriting table descriptor, which in the current implementation entails region re-assignment for the whole table (??), just as with other &apos;alter table&apos; subcommands.&lt;/p&gt;</comment>
                            <comment id="14901209" author="mantonov" created="Mon, 21 Sep 2015 19:08:56 +0000"  >&lt;p&gt;(Oh, and this patch is for branch-1.2)&lt;/p&gt;</comment>
                            <comment id="14901246" author="hadoopqa" created="Mon, 21 Sep 2015 19:28:06 +0000"  >&lt;p&gt;&lt;font color=&quot;red&quot;&gt;-1 overall&lt;/font&gt;.  Here are the results of testing the latest attachment &lt;br/&gt;
  &lt;a href=&quot;http://issues.apache.org/jira/secure/attachment/12761477/HBASE-14367.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://issues.apache.org/jira/secure/attachment/12761477/HBASE-14367.patch&lt;/a&gt;&lt;br/&gt;
  against master branch at commit 54e8c4bf23294b53bc50e15aa92148f7994e8962.&lt;br/&gt;
  ATTACHMENT ID: 12761477&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 @author&lt;/font&gt;.  The patch does not contain any @author tags.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;red&quot;&gt;-1 tests included&lt;/font&gt;.  The patch doesn&apos;t appear to include any new or modified tests.&lt;br/&gt;
                        Please justify why no new tests are needed for this patch.&lt;br/&gt;
                        Also please list what manual steps were performed to verify this patch.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;red&quot;&gt;-1 patch&lt;/font&gt;.  The patch command could not apply the patch.&lt;/p&gt;

&lt;p&gt;Console output: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/15652//console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/15652//console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;</comment>
                            <comment id="14901262" author="mantonov" created="Mon, 21 Sep 2015 19:36:04 +0000"  >&lt;p&gt;oops, here&apos;s correctly-named patch for branch-1.2&lt;/p&gt;</comment>
                            <comment id="14901563" author="hadoopqa" created="Mon, 21 Sep 2015 22:44:34 +0000"  >&lt;p&gt;&lt;font color=&quot;red&quot;&gt;-1 overall&lt;/font&gt;.  Here are the results of testing the latest attachment &lt;br/&gt;
  &lt;a href=&quot;http://issues.apache.org/jira/secure/attachment/12761478/HBASE-14367-branch-1.2.v1.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://issues.apache.org/jira/secure/attachment/12761478/HBASE-14367-branch-1.2.v1.patch&lt;/a&gt;&lt;br/&gt;
  against branch-1.2 branch at commit 54e8c4bf23294b53bc50e15aa92148f7994e8962.&lt;br/&gt;
  ATTACHMENT ID: 12761478&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 @author&lt;/font&gt;.  The patch does not contain any @author tags.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;red&quot;&gt;-1 tests included&lt;/font&gt;.  The patch doesn&apos;t appear to include any new or modified tests.&lt;br/&gt;
                        Please justify why no new tests are needed for this patch.&lt;br/&gt;
                        Also please list what manual steps were performed to verify this patch.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 hadoop versions&lt;/font&gt;. The patch compiles with all supported hadoop versions (2.4.0 2.4.1 2.5.0 2.5.1 2.5.2 2.6.0 2.7.0 2.7.1)&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 javac&lt;/font&gt;.  The applied patch does not increase the total number of javac compiler warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 protoc&lt;/font&gt;.  The applied patch does not increase the total number of protoc compiler warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 javadoc&lt;/font&gt;.  The javadoc tool did not generate any warning messages.&lt;/p&gt;

&lt;p&gt;                &lt;font color=&quot;red&quot;&gt;-1 checkstyle&lt;/font&gt;.  The applied patch generated 3810 checkstyle errors (more than the master&apos;s current 3808 errors).&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 findbugs&lt;/font&gt;.  The patch does not introduce any  new Findbugs (version 2.0.3) warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 release audit&lt;/font&gt;.  The applied patch does not increase the total number of release audit warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;red&quot;&gt;-1 lineLengths&lt;/font&gt;.  The patch introduces the following lines longer than 100:&lt;br/&gt;
    +       * &amp;lt;code&amp;gt;rpc SetNormalizerRunning(.SetNormalizerRunningRequest) returns (.SetNormalizerRunningResponse);&amp;lt;/code&amp;gt;&lt;br/&gt;
+       * &amp;lt;code&amp;gt;rpc IsNormalizerEnabled(.IsNormalizerEnabledRequest) returns (.IsNormalizerEnabledResponse);&amp;lt;/code&amp;gt;&lt;br/&gt;
+     * &amp;lt;code&amp;gt;rpc SetNormalizerRunning(.SetNormalizerRunningRequest) returns (.SetNormalizerRunningResponse);&amp;lt;/code&amp;gt;&lt;br/&gt;
+     * &amp;lt;code&amp;gt;rpc IsNormalizerEnabled(.IsNormalizerEnabledRequest) returns (.IsNormalizerEnabledResponse);&amp;lt;/code&amp;gt;&lt;br/&gt;
+        htd.setNormalizationEnabled(JBoolean.valueOf(arg&lt;span class=&quot;error&quot;&gt;&amp;#91;NORMALIZATION_ENABLED&amp;#93;&lt;/span&gt;)) if arg&lt;span class=&quot;error&quot;&gt;&amp;#91;NORMALIZATION_ENABLED&amp;#93;&lt;/span&gt;&lt;/p&gt;

&lt;p&gt;  &lt;font color=&quot;green&quot;&gt;+1 site&lt;/font&gt;.  The mvn post-site goal succeeds with this patch.&lt;/p&gt;

&lt;p&gt;     &lt;font color=&quot;red&quot;&gt;-1 core tests&lt;/font&gt;.  The patch failed these unit tests:&lt;br/&gt;
                       org.apache.hadoop.hbase.master.TestDistributedLogSplitting&lt;/p&gt;

&lt;p&gt;Test results: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/15654//testReport/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/15654//testReport/&lt;/a&gt;&lt;br/&gt;
Release Findbugs (version 2.0.3) 	warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/15654//artifact/patchprocess/newFindbugsWarnings.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/15654//artifact/patchprocess/newFindbugsWarnings.html&lt;/a&gt;&lt;br/&gt;
Checkstyle Errors: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/15654//artifact/patchprocess/checkstyle-aggregate.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/15654//artifact/patchprocess/checkstyle-aggregate.html&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;                Console output: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/15654//console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/15654//console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;</comment>
                            <comment id="14903444" author="mantonov" created="Tue, 22 Sep 2015 21:12:01 +0000"  >&lt;p&gt;I can post on review board, if it&apos;s easier this way?&lt;/p&gt;</comment>
                            <comment id="14905106" author="mantonov" created="Wed, 23 Sep 2015 19:36:30 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=larsgeorge&quot; class=&quot;user-hover&quot; rel=&quot;larsgeorge&quot;&gt;Lars George&lt;/a&gt;  &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=jmspaggi&quot; class=&quot;user-hover&quot; rel=&quot;jmspaggi&quot;&gt;Jean-Marc Spaggiari&lt;/a&gt; any thoughts?&lt;/p&gt;</comment>
                            <comment id="14906303" author="jmspaggi" created="Thu, 24 Sep 2015 12:51:04 +0000"  >&lt;p&gt;Let me apply it locally and test it. I let you know.&lt;/p&gt;</comment>
                            <comment id="14906619" author="jmspaggi" created="Thu, 24 Sep 2015 16:44:05 +0000"  >&lt;p&gt;Tested it and it works for me. lgtm. Thanks &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=mantonov&quot; class=&quot;user-hover&quot; rel=&quot;mantonov&quot;&gt;Mikhail Antonov&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="14906852" author="mantonov" created="Thu, 24 Sep 2015 19:12:57 +0000"  >&lt;p&gt;Thanks &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=jmspaggi&quot; class=&quot;user-hover&quot; rel=&quot;jmspaggi&quot;&gt;Jean-Marc Spaggiari&lt;/a&gt;! I&apos;ll review failed tests and long lines in next patch.&lt;/p&gt;

&lt;p&gt; &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=ndimiduk&quot; class=&quot;user-hover&quot; rel=&quot;ndimiduk&quot;&gt;Nick Dimiduk&lt;/a&gt; - would you also take a look at?&lt;/p&gt;</comment>
                            <comment id="14936066" author="mantonov" created="Tue, 29 Sep 2015 23:01:30 +0000"  >&lt;p&gt;Rebased to latest 1.2, TestDistributedLogSplitting passing for me locally. Looked at checkstyles, they look exactly like the ones we have in current codebase and ignore, so I think it&apos;s fine.&lt;/p&gt;

&lt;p&gt;Tested patch of 3 node cluster against latest branch-1.2, tested commands from shell.&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=busbey&quot; class=&quot;user-hover&quot; rel=&quot;busbey&quot;&gt;Sean Busbey&lt;/a&gt; how does it look to you for 1.2? &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=jmspaggi&quot; class=&quot;user-hover&quot; rel=&quot;jmspaggi&quot;&gt;Jean-Marc Spaggiari&lt;/a&gt; - are you +1 on this patch?&lt;/p&gt;</comment>
                            <comment id="14936067" author="mantonov" created="Tue, 29 Sep 2015 23:01:57 +0000"  >&lt;p&gt;If it looks good I&apos;ll make patch for master as well.&lt;/p&gt;</comment>
                            <comment id="14936271" author="hadoopqa" created="Wed, 30 Sep 2015 02:28:16 +0000"  >&lt;p&gt;&lt;font color=&quot;red&quot;&gt;-1 overall&lt;/font&gt;.  Here are the results of testing the latest attachment &lt;br/&gt;
  &lt;a href=&quot;http://issues.apache.org/jira/secure/attachment/12764338/HBASE-14367-branch-1.2.v2.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://issues.apache.org/jira/secure/attachment/12764338/HBASE-14367-branch-1.2.v2.patch&lt;/a&gt;&lt;br/&gt;
  against branch-1.2 branch at commit c04d18970e066c1c5879a7ac1d261ef69cae5c3e.&lt;br/&gt;
  ATTACHMENT ID: 12764338&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 @author&lt;/font&gt;.  The patch does not contain any @author tags.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;red&quot;&gt;-1 tests included&lt;/font&gt;.  The patch doesn&apos;t appear to include any new or modified tests.&lt;br/&gt;
                        Please justify why no new tests are needed for this patch.&lt;br/&gt;
                        Also please list what manual steps were performed to verify this patch.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 hadoop versions&lt;/font&gt;. The patch compiles with all supported hadoop versions (2.4.0 2.4.1 2.5.0 2.5.1 2.5.2 2.6.0 2.6.1 2.7.0 2.7.1)&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 javac&lt;/font&gt;.  The applied patch does not increase the total number of javac compiler warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 protoc&lt;/font&gt;.  The applied patch does not increase the total number of protoc compiler warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 javadoc&lt;/font&gt;.  The javadoc tool did not generate any warning messages.&lt;/p&gt;

&lt;p&gt;                &lt;font color=&quot;red&quot;&gt;-1 checkstyle&lt;/font&gt;.  The applied patch generated 3793 checkstyle errors (more than the master&apos;s current 3791 errors).&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 findbugs&lt;/font&gt;.  The patch does not introduce any  new Findbugs (version 2.0.3) warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 release audit&lt;/font&gt;.  The applied patch does not increase the total number of release audit warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;red&quot;&gt;-1 lineLengths&lt;/font&gt;.  The patch introduces the following lines longer than 100:&lt;br/&gt;
    +       * &amp;lt;code&amp;gt;rpc SetNormalizerRunning(.SetNormalizerRunningRequest) returns (.SetNormalizerRunningResponse);&amp;lt;/code&amp;gt;&lt;br/&gt;
+       * &amp;lt;code&amp;gt;rpc IsNormalizerEnabled(.IsNormalizerEnabledRequest) returns (.IsNormalizerEnabledResponse);&amp;lt;/code&amp;gt;&lt;br/&gt;
+     * &amp;lt;code&amp;gt;rpc SetNormalizerRunning(.SetNormalizerRunningRequest) returns (.SetNormalizerRunningResponse);&amp;lt;/code&amp;gt;&lt;br/&gt;
+     * &amp;lt;code&amp;gt;rpc IsNormalizerEnabled(.IsNormalizerEnabledRequest) returns (.IsNormalizerEnabledResponse);&amp;lt;/code&amp;gt;&lt;br/&gt;
+        htd.setNormalizationEnabled(JBoolean.valueOf(arg&lt;span class=&quot;error&quot;&gt;&amp;#91;NORMALIZATION_ENABLED&amp;#93;&lt;/span&gt;)) if arg&lt;span class=&quot;error&quot;&gt;&amp;#91;NORMALIZATION_ENABLED&amp;#93;&lt;/span&gt;&lt;/p&gt;

&lt;p&gt;  &lt;font color=&quot;green&quot;&gt;+1 site&lt;/font&gt;.  The mvn post-site goal succeeds with this patch.&lt;/p&gt;

&lt;p&gt;     &lt;font color=&quot;red&quot;&gt;-1 core tests&lt;/font&gt;.  The patch failed these unit tests:&lt;br/&gt;
                       org.apache.hadoop.hbase.master.handler.TestEnableTableHandler&lt;/p&gt;

&lt;p&gt;     &lt;font color=&quot;red&quot;&gt;-1 core zombie tests&lt;/font&gt;.  There are 2 zombie test(s): &lt;/p&gt;

&lt;p&gt;Test results: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/15813//testReport/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/15813//testReport/&lt;/a&gt;&lt;br/&gt;
Release Findbugs (version 2.0.3) 	warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/15813//artifact/patchprocess/newFindbugsWarnings.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/15813//artifact/patchprocess/newFindbugsWarnings.html&lt;/a&gt;&lt;br/&gt;
Checkstyle Errors: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/15813//artifact/patchprocess/checkstyle-aggregate.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/15813//artifact/patchprocess/checkstyle-aggregate.html&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;                Console output: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/15813//console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/15813//console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;</comment>
                            <comment id="14936845" author="busbey" created="Wed, 30 Sep 2015 13:46:12 +0000"  >&lt;p&gt;branch-1.2 is still open. please be sure to fix the lineLength and checkstyle errors. could you add a test as well?&lt;/p&gt;</comment>
                            <comment id="14938958" author="mantonov" created="Wed, 30 Sep 2015 22:11:59 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=busbey&quot; class=&quot;user-hover&quot; rel=&quot;busbey&quot;&gt;Sean Busbey&lt;/a&gt; thanks for taking a look! Re checkstyle errors.. Some of these checkstyle errors are from following the codestyle used at the particular piece of code (see, for example, ZooKeeperWatcher: L 115). &lt;/p&gt;

&lt;blockquote&gt;&lt;p&gt;Error	design	Variable &apos;regionNormalizerZNode&apos; must be private and have accessor methods.	115&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;Are the guidelines suggest to follow the proper checkstyle as per checkslyle config in this situation, or to conform with the codestyle around? Just want to confirm.&lt;/p&gt;</comment>
                            <comment id="14939064" author="mantonov" created="Wed, 30 Sep 2015 23:38:19 +0000"  >&lt;p&gt;Regarding long lines - most of them are javadocs in proto-generated java class MasterProtos.java, and one is line in ruby code (in shell), where lines longer than 100 chars seems to be used quite commonly&lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/help_16.gif&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/p&gt;</comment>
                            <comment id="14939187" author="busbey" created="Thu, 1 Oct 2015 02:21:02 +0000"  >&lt;p&gt;There are many sins in the existing code base; we try not to make things worse. &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/smile.gif&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/p&gt;

&lt;p&gt;If it were me, I&apos;d fix the ruby code and make sure my additions conform to checkstyle. If things are in the proto generated classes there&apos;s nothing you can do, but you should not in a comment here that that&apos;s why they&apos;re staying long.&lt;/p&gt;</comment>
                            <comment id="14940909" author="mantonov" created="Fri, 2 Oct 2015 08:42:16 +0000"  >&lt;p&gt;fixed long lines except protobuf-generated ones, fixed checkstyles, added test in TestAdmin2 for region normalizer (shell commands would be tested in TestShell, as they are picked up by Ruby test runner automatically).&lt;/p&gt;</comment>
                            <comment id="14941020" author="hadoopqa" created="Fri, 2 Oct 2015 11:09:40 +0000"  >&lt;p&gt;&lt;font color=&quot;red&quot;&gt;-1 overall&lt;/font&gt;.  Here are the results of testing the latest attachment &lt;br/&gt;
  &lt;a href=&quot;http://issues.apache.org/jira/secure/attachment/12764743/HBASE-14367-branch-1.2.v3.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://issues.apache.org/jira/secure/attachment/12764743/HBASE-14367-branch-1.2.v3.patch&lt;/a&gt;&lt;br/&gt;
  against branch-1.2 branch at commit 030ae5f0415b97e5da688c1432ed53fd56990194.&lt;br/&gt;
  ATTACHMENT ID: 12764743&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 @author&lt;/font&gt;.  The patch does not contain any @author tags.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 tests included&lt;/font&gt;.  The patch appears to include 8 new or modified tests.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 hadoop versions&lt;/font&gt;. The patch compiles with all supported hadoop versions (2.4.0 2.4.1 2.5.0 2.5.1 2.5.2 2.6.0 2.6.1 2.7.0 2.7.1)&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 javac&lt;/font&gt;.  The applied patch does not increase the total number of javac compiler warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 protoc&lt;/font&gt;.  The applied patch does not increase the total number of protoc compiler warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 javadoc&lt;/font&gt;.  The javadoc tool did not generate any warning messages.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 checkstyle&lt;/font&gt;.  The applied patch does not increase the total number of checkstyle errors&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 findbugs&lt;/font&gt;.  The patch does not introduce any  new Findbugs (version 2.0.3) warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 release audit&lt;/font&gt;.  The applied patch does not increase the total number of release audit warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;red&quot;&gt;-1 lineLengths&lt;/font&gt;.  The patch introduces the following lines longer than 100:&lt;br/&gt;
    +       * &amp;lt;code&amp;gt;rpc SetNormalizerRunning(.SetNormalizerRunningRequest) returns (.SetNormalizerRunningResponse);&amp;lt;/code&amp;gt;&lt;br/&gt;
+       * &amp;lt;code&amp;gt;rpc IsNormalizerEnabled(.IsNormalizerEnabledRequest) returns (.IsNormalizerEnabledResponse);&amp;lt;/code&amp;gt;&lt;br/&gt;
+     * &amp;lt;code&amp;gt;rpc SetNormalizerRunning(.SetNormalizerRunningRequest) returns (.SetNormalizerRunningResponse);&amp;lt;/code&amp;gt;&lt;br/&gt;
+     * &amp;lt;code&amp;gt;rpc IsNormalizerEnabled(.IsNormalizerEnabledRequest) returns (.IsNormalizerEnabledResponse);&amp;lt;/code&amp;gt;&lt;/p&gt;

&lt;p&gt;  &lt;font color=&quot;green&quot;&gt;+1 site&lt;/font&gt;.  The mvn post-site goal succeeds with this patch.&lt;/p&gt;

&lt;p&gt;     &lt;font color=&quot;red&quot;&gt;-1 core tests&lt;/font&gt;.  The patch failed these unit tests:&lt;/p&gt;


&lt;p&gt;Test results: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/15858//testReport/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/15858//testReport/&lt;/a&gt;&lt;br/&gt;
Release Findbugs (version 2.0.3) 	warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/15858//artifact/patchprocess/newFindbugsWarnings.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/15858//artifact/patchprocess/newFindbugsWarnings.html&lt;/a&gt;&lt;br/&gt;
Checkstyle Errors: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/15858//artifact/patchprocess/checkstyle-aggregate.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/15858//artifact/patchprocess/checkstyle-aggregate.html&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;  Console output: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/15858//console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/15858//console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;</comment>
                            <comment id="14941253" author="busbey" created="Fri, 2 Oct 2015 15:22:17 +0000"  >&lt;p&gt;the core tests vote looks like it&apos;s caused by a timeout on hbase-server, and hbase-shell got skipped:&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
[INFO] ------------------------------------------------------------------------
[INFO] Reactor Summary:
[INFO] 
[INFO] Apache HBase ...................................... SUCCESS [2.823s]
[INFO] Apache HBase - Checkstyle ......................... SUCCESS [0.444s]
[INFO] Apache HBase - Resource Bundle .................... SUCCESS [0.151s]
[INFO] Apache HBase - Annotations ........................ SUCCESS [0.834s]
[INFO] Apache HBase - Protocol ........................... SUCCESS [10.775s]
[INFO] Apache HBase - Common ............................. SUCCESS [1:22.568s]
[INFO] Apache HBase - Procedure .......................... SUCCESS [1:52.079s]
[INFO] Apache HBase - Client ............................. SUCCESS [1:20.418s]
[INFO] Apache HBase - Hadoop Compatibility ............... SUCCESS [7.197s]
[INFO] Apache HBase - Hadoop Two Compatibility ........... SUCCESS [6.854s]
[INFO] Apache HBase - Prefix Tree ........................ SUCCESS [9.750s]
[INFO] Apache HBase - Server ............................. FAILURE [1:36:05.365s]
[INFO] Apache HBase - Testing Util ....................... SKIPPED
[INFO] Apache HBase - Thrift ............................. SKIPPED
[INFO] Apache HBase - Rest ............................... SKIPPED
[INFO] Apache HBase - Shell .............................. SKIPPED
[INFO] Apache HBase - Integration Tests .................. SKIPPED
[INFO] Apache HBase - Examples ........................... SKIPPED
[INFO] Apache HBase - External Block Cache ............... SKIPPED
[INFO] Apache HBase - Assembly ........................... SKIPPED
[INFO] Apache HBase - Shaded ............................. SKIPPED
[INFO] Apache HBase - Shaded - Client .................... SKIPPED
[INFO] Apache HBase - Shaded - Server .................... SKIPPED
[INFO] ------------------------------------------------------------------------
[INFO] BUILD FAILURE
[INFO] ------------------------------------------------------------------------
[INFO] Total time: 1:41:21.117s
[INFO] Finished at: Fri Oct 02 11:09:37 UTC 2015
[INFO] Final Memory: 52M/645M
[INFO] ------------------------------------------------------------------------
[ERROR] Failed to execute goal org.apache.maven.plugins:maven-surefire-plugin:2.18.1:test (secondPartTestsExecution) on project hbase-server: There was a timeout or other error in the fork -&amp;gt; [Help 1]
[ERROR] 
[ERROR] To see the full stack trace of the errors, re-run Maven with the -e &lt;span class=&quot;code-keyword&quot;&gt;switch&lt;/span&gt;.
[ERROR] Re-run Maven using the -X &lt;span class=&quot;code-keyword&quot;&gt;switch&lt;/span&gt; to enable full debug logging.
[ERROR] 
[ERROR] For more information about the errors and possible solutions, please read the following articles:
[ERROR] [Help 1] http:&lt;span class=&quot;code-comment&quot;&gt;//cwiki.apache.org/confluence/display/MAVEN/MojoFailureException
&lt;/span&gt;[ERROR] 
[ERROR] After correcting the problems, you can resume the build with the command
[ERROR]   mvn &amp;lt;goals&amp;gt; -rf :hbase-server
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;can you make a go at figuring out which one so you can run it locally?&lt;/p&gt;</comment>
                            <comment id="14941788" author="mantonov" created="Fri, 2 Oct 2015 21:23:17 +0000"  >&lt;p&gt;&apos;mvn test -P runLargeTests&apos; pass on hbase-shell with this patch (there&apos;re no small or medium tests in this module). TestMasterFailover is flaky on my machine too. I&apos;ll try to test it more w/ and w/o this patch, as I doesn&apos;t look related.&lt;/p&gt;</comment>
                            <comment id="14941806" author="busbey" created="Fri, 2 Oct 2015 21:34:04 +0000"  >&lt;p&gt;okay, +1 presuming the above confirms that it isn&apos;t related.&lt;/p&gt;</comment>
                            <comment id="14941886" author="mantonov" created="Fri, 2 Oct 2015 22:26:32 +0000"  >&lt;p&gt;Thanks Sean, I can reproduce TestMasterFailover w/o this patch as well (at least on branch-1.2), I&apos;ll file a jira for that.&lt;/p&gt;

&lt;p&gt;Any more reviews? cc &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=ndimiduk&quot; class=&quot;user-hover&quot; rel=&quot;ndimiduk&quot;&gt;Nick Dimiduk&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="14941959" author="mantonov" created="Fri, 2 Oct 2015 23:28:27 +0000"  >&lt;p&gt;(for reference - flaky TestMasterFailover nailed down in &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-14545&quot; title=&quot;TestMasterFailover often times out&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-14545&quot;&gt;&lt;del&gt;HBASE-14545&lt;/del&gt;&lt;/a&gt;)&lt;/p&gt;</comment>
                            <comment id="14941991" author="mantonov" created="Sat, 3 Oct 2015 00:22:22 +0000"  >&lt;p&gt;Tested on 3 node cluster, newly added commands work fine.&lt;/p&gt;</comment>
                            <comment id="14942186" author="ndimiduk" created="Sat, 3 Oct 2015 08:38:37 +0000"  >&lt;p&gt;Skimmed patch, looks like standard plumbing stuff. We&apos;re good with enabled by default for both master and branch-1?&lt;/p&gt;

&lt;p&gt;+1&lt;/p&gt;</comment>
                            <comment id="14942420" author="mantonov" created="Sat, 3 Oct 2015 19:29:48 +0000"  >&lt;p&gt;I think it should be fine, as long as it&apos;s clearly stated in release notes (otherwise adoption rate would be lower &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/smile.gif&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;). If people bump into issues, it&apos;s one console command to turn the feature off completely. What do you think?&lt;/p&gt;

&lt;p&gt;If we change our mind, it&apos;d be oneliner patch to change the default.&lt;/p&gt;</comment>
                            <comment id="14942507" author="stack" created="Sun, 4 Oct 2015 00:09:30 +0000"  >&lt;p&gt;&lt;ins&gt;1 for on by default in 1.2&lt;/ins&gt; (if &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=busbey&quot; class=&quot;user-hover&quot; rel=&quot;busbey&quot;&gt;Sean Busbey&lt;/a&gt; agrees).  Off by default in all earlier versions.&lt;/p&gt;</comment>
                            <comment id="14942509" author="mantonov" created="Sun, 4 Oct 2015 00:18:04 +0000"  >&lt;p&gt;The underlying feature hasn&apos;t been committed to branches earlier than 1.2 anyway, so it&apos;s 1.2+.&lt;/p&gt;</comment>
                            <comment id="14942517" author="busbey" created="Sun, 4 Oct 2015 00:42:40 +0000"  >&lt;p&gt;Fine by me.&lt;/p&gt;

&lt;p&gt;&amp;#8211; &lt;br/&gt;
Sean&lt;/p&gt;
</comment>
                            <comment id="14942540" author="mantonov" created="Sun, 4 Oct 2015 03:07:07 +0000"  >&lt;p&gt;Patch for master.&lt;/p&gt;</comment>
                            <comment id="14942567" author="hadoopqa" created="Sun, 4 Oct 2015 06:24:27 +0000"  >&lt;p&gt;&lt;font color=&quot;red&quot;&gt;-1 overall&lt;/font&gt;.  Here are the results of testing the latest attachment &lt;br/&gt;
  &lt;a href=&quot;http://issues.apache.org/jira/secure/attachment/12764923/HBASE-14367-v1.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://issues.apache.org/jira/secure/attachment/12764923/HBASE-14367-v1.patch&lt;/a&gt;&lt;br/&gt;
  against master branch at commit c5a9895ada8a7505fe3dfec7298edf85e9812ec5.&lt;br/&gt;
  ATTACHMENT ID: 12764923&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 @author&lt;/font&gt;.  The patch does not contain any @author tags.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 tests included&lt;/font&gt;.  The patch appears to include 8 new or modified tests.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 hadoop versions&lt;/font&gt;. The patch compiles with all supported hadoop versions (2.4.0 2.4.1 2.5.0 2.5.1 2.5.2 2.6.0 2.6.1 2.7.0 2.7.1)&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 javac&lt;/font&gt;.  The applied patch does not increase the total number of javac compiler warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 protoc&lt;/font&gt;.  The applied patch does not increase the total number of protoc compiler warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 javadoc&lt;/font&gt;.  The javadoc tool did not generate any warning messages.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 checkstyle&lt;/font&gt;.  The applied patch does not increase the total number of checkstyle errors&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 findbugs&lt;/font&gt;.  The patch does not introduce any  new Findbugs (version 2.0.3) warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 release audit&lt;/font&gt;.  The applied patch does not increase the total number of release audit warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;red&quot;&gt;-1 lineLengths&lt;/font&gt;.  The patch introduces the following lines longer than 100:&lt;br/&gt;
    +       * &amp;lt;code&amp;gt;rpc Normalize(.hbase.pb.NormalizeRequest) returns (.hbase.pb.NormalizeResponse);&amp;lt;/code&amp;gt;&lt;br/&gt;
+       * &amp;lt;code&amp;gt;rpc SetNormalizerRunning(.hbase.pb.SetNormalizerRunningRequest) returns (.hbase.pb.SetNormalizerRunningResponse);&amp;lt;/code&amp;gt;&lt;br/&gt;
+       * &amp;lt;code&amp;gt;rpc IsNormalizerEnabled(.hbase.pb.IsNormalizerEnabledRequest) returns (.hbase.pb.IsNormalizerEnabledResponse);&amp;lt;/code&amp;gt;&lt;br/&gt;
+     * &amp;lt;code&amp;gt;rpc SetNormalizerRunning(.hbase.pb.SetNormalizerRunningRequest) returns (.hbase.pb.SetNormalizerRunningResponse);&amp;lt;/code&amp;gt;&lt;br/&gt;
+     * &amp;lt;code&amp;gt;rpc IsNormalizerEnabled(.hbase.pb.IsNormalizerEnabledRequest) returns (.hbase.pb.IsNormalizerEnabledResponse);&amp;lt;/code&amp;gt;&lt;/p&gt;

&lt;p&gt;  &lt;font color=&quot;green&quot;&gt;+1 site&lt;/font&gt;.  The mvn post-site goal succeeds with this patch.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 core tests&lt;/font&gt;.  The patch passed unit tests in .&lt;/p&gt;

&lt;p&gt;Test results: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/15869//testReport/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/15869//testReport/&lt;/a&gt;&lt;br/&gt;
Release Findbugs (version 2.0.3) 	warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/15869//artifact/patchprocess/newFindbugsWarnings.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/15869//artifact/patchprocess/newFindbugsWarnings.html&lt;/a&gt;&lt;br/&gt;
Checkstyle Errors: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/15869//artifact/patchprocess/checkstyle-aggregate.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/15869//artifact/patchprocess/checkstyle-aggregate.html&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;  Console output: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/15869//console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/15869//console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;</comment>
                            <comment id="14942593" author="mantonov" created="Sun, 4 Oct 2015 08:26:50 +0000"  >&lt;p&gt;Committed to master, branch-1, branch-1.2.&lt;/p&gt;

&lt;p&gt;Thanks for reviews!&lt;/p&gt;</comment>
                            <comment id="14942595" author="mantonov" created="Sun, 4 Oct 2015 08:35:03 +0000"  >&lt;p&gt;(long lines are from proto-generated code)&lt;/p&gt;</comment>
                            <comment id="14942596" author="hadoopqa" created="Sun, 4 Oct 2015 08:38:04 +0000"  >&lt;p&gt;&lt;font color=&quot;red&quot;&gt;-1 overall&lt;/font&gt;.  Here are the results of testing the latest attachment &lt;br/&gt;
  &lt;a href=&quot;http://issues.apache.org/jira/secure/attachment/12764929/HBASE-14367-branch-1.v1.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://issues.apache.org/jira/secure/attachment/12764929/HBASE-14367-branch-1.v1.patch&lt;/a&gt;&lt;br/&gt;
  against branch-1 branch at commit 19045a5ea759392b5a6b8bd8001a3dd9dd5245fe.&lt;br/&gt;
  ATTACHMENT ID: 12764929&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 @author&lt;/font&gt;.  The patch does not contain any @author tags.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 tests included&lt;/font&gt;.  The patch appears to include 8 new or modified tests.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;red&quot;&gt;-1 patch&lt;/font&gt;.  The patch command could not apply the patch.&lt;/p&gt;

&lt;p&gt;Console output: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/15870//console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/15870//console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;</comment>
                            <comment id="14942598" author="hudson" created="Sun, 4 Oct 2015 08:39:37 +0000"  >&lt;p&gt;SUCCESS: Integrated in HBase-1.2-IT #188 (See &lt;a href=&quot;https://builds.apache.org/job/HBase-1.2-IT/188/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/HBase-1.2-IT/188/&lt;/a&gt;)&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-14367&quot; title=&quot;Add normalization support to shell&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-14367&quot;&gt;&lt;del&gt;HBASE-14367&lt;/del&gt;&lt;/a&gt; Add normalization support to shell (antonov: rev 0ba68fce16472442a188707d2d04d1378ba8b97b)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;hbase-shell/src/main/ruby/shell/commands/normalize.rb&lt;/li&gt;
	&lt;li&gt;hbase-client/src/main/java/org/apache/hadoop/hbase/protobuf/RequestConverter.java&lt;/li&gt;
	&lt;li&gt;hbase-client/src/main/java/org/apache/hadoop/hbase/client/Admin.java&lt;/li&gt;
	&lt;li&gt;hbase-shell/src/main/ruby/shell.rb&lt;/li&gt;
	&lt;li&gt;hbase-server/src/main/java/org/apache/hadoop/hbase/master/MasterRpcServices.java&lt;/li&gt;
	&lt;li&gt;hbase-protocol/src/main/protobuf/RegionNormalizer.proto&lt;/li&gt;
	&lt;li&gt;hbase-server/src/main/java/org/apache/hadoop/hbase/master/HMaster.java&lt;/li&gt;
	&lt;li&gt;hbase-shell/src/main/ruby/shell/commands/normalizer_enabled.rb&lt;/li&gt;
	&lt;li&gt;hbase-client/src/main/java/org/apache/hadoop/hbase/zookeeper/ZooKeeperWatcher.java&lt;/li&gt;
	&lt;li&gt;hbase-server/src/test/java/org/apache/hadoop/hbase/client/TestAdmin2.java&lt;/li&gt;
	&lt;li&gt;hbase-shell/src/main/ruby/shell/commands/normalizer_switch.rb&lt;/li&gt;
	&lt;li&gt;hbase-client/src/main/java/org/apache/hadoop/hbase/client/HBaseAdmin.java&lt;/li&gt;
	&lt;li&gt;hbase-client/src/test/java/org/apache/hadoop/hbase/zookeeper/TestZooKeeperWatcher.java&lt;/li&gt;
	&lt;li&gt;hbase-protocol/pom.xml&lt;/li&gt;
	&lt;li&gt;hbase-shell/src/main/ruby/hbase/admin.rb&lt;/li&gt;
	&lt;li&gt;hbase-protocol/src/main/java/org/apache/hadoop/hbase/protobuf/generated/MasterProtos.java&lt;/li&gt;
	&lt;li&gt;hbase-protocol/src/main/protobuf/Master.proto&lt;/li&gt;
	&lt;li&gt;hbase-protocol/src/main/java/org/apache/hadoop/hbase/protobuf/generated/RegionNormalizerProtos.java&lt;/li&gt;
	&lt;li&gt;hbase-server/src/main/java/org/apache/hadoop/hbase/zookeeper/RegionNormalizerTracker.java&lt;/li&gt;
	&lt;li&gt;hbase-client/src/main/java/org/apache/hadoop/hbase/HTableDescriptor.java&lt;/li&gt;
	&lt;li&gt;hbase-client/src/main/java/org/apache/hadoop/hbase/client/ConnectionManager.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="14942600" author="hudson" created="Sun, 4 Oct 2015 08:52:34 +0000"  >&lt;p&gt;SUCCESS: Integrated in HBase-1.3-IT #207 (See &lt;a href=&quot;https://builds.apache.org/job/HBase-1.3-IT/207/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/HBase-1.3-IT/207/&lt;/a&gt;)&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-14367&quot; title=&quot;Add normalization support to shell&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-14367&quot;&gt;&lt;del&gt;HBASE-14367&lt;/del&gt;&lt;/a&gt; Add normalization support to shell (antonov: rev b9bfd6f7e33b6d94c427322af3be062460cbdd0a)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;hbase-server/src/test/java/org/apache/hadoop/hbase/client/TestAdmin2.java&lt;/li&gt;
	&lt;li&gt;hbase-server/src/main/java/org/apache/hadoop/hbase/master/MasterRpcServices.java&lt;/li&gt;
	&lt;li&gt;hbase-client/src/main/java/org/apache/hadoop/hbase/client/ConnectionManager.java&lt;/li&gt;
	&lt;li&gt;hbase-client/src/main/java/org/apache/hadoop/hbase/HTableDescriptor.java&lt;/li&gt;
	&lt;li&gt;hbase-client/src/main/java/org/apache/hadoop/hbase/zookeeper/ZooKeeperWatcher.java&lt;/li&gt;
	&lt;li&gt;hbase-protocol/src/main/protobuf/Master.proto&lt;/li&gt;
	&lt;li&gt;hbase-server/src/main/java/org/apache/hadoop/hbase/master/HMaster.java&lt;/li&gt;
	&lt;li&gt;hbase-protocol/src/main/protobuf/RegionNormalizer.proto&lt;/li&gt;
	&lt;li&gt;hbase-shell/src/main/ruby/shell/commands/normalizer_switch.rb&lt;/li&gt;
	&lt;li&gt;hbase-shell/src/main/ruby/hbase/admin.rb&lt;/li&gt;
	&lt;li&gt;hbase-client/src/main/java/org/apache/hadoop/hbase/protobuf/RequestConverter.java&lt;/li&gt;
	&lt;li&gt;hbase-shell/src/main/ruby/shell/commands/normalizer_enabled.rb&lt;/li&gt;
	&lt;li&gt;hbase-client/src/main/java/org/apache/hadoop/hbase/client/Admin.java&lt;/li&gt;
	&lt;li&gt;hbase-protocol/pom.xml&lt;/li&gt;
	&lt;li&gt;hbase-protocol/src/main/java/org/apache/hadoop/hbase/protobuf/generated/RegionNormalizerProtos.java&lt;/li&gt;
	&lt;li&gt;hbase-shell/src/main/ruby/shell/commands/normalize.rb&lt;/li&gt;
	&lt;li&gt;hbase-client/src/test/java/org/apache/hadoop/hbase/zookeeper/TestZooKeeperWatcher.java&lt;/li&gt;
	&lt;li&gt;hbase-protocol/src/main/java/org/apache/hadoop/hbase/protobuf/generated/MasterProtos.java&lt;/li&gt;
	&lt;li&gt;hbase-shell/src/main/ruby/shell.rb&lt;/li&gt;
	&lt;li&gt;hbase-server/src/main/java/org/apache/hadoop/hbase/zookeeper/RegionNormalizerTracker.java&lt;/li&gt;
	&lt;li&gt;hbase-client/src/main/java/org/apache/hadoop/hbase/client/HBaseAdmin.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="14942630" author="hudson" created="Sun, 4 Oct 2015 10:37:14 +0000"  >&lt;p&gt;FAILURE: Integrated in HBase-1.2 #225 (See &lt;a href=&quot;https://builds.apache.org/job/HBase-1.2/225/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/HBase-1.2/225/&lt;/a&gt;)&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-14367&quot; title=&quot;Add normalization support to shell&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-14367&quot;&gt;&lt;del&gt;HBASE-14367&lt;/del&gt;&lt;/a&gt; Add normalization support to shell (antonov: rev 0ba68fce16472442a188707d2d04d1378ba8b97b)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;hbase-client/src/main/java/org/apache/hadoop/hbase/client/HBaseAdmin.java&lt;/li&gt;
	&lt;li&gt;hbase-server/src/main/java/org/apache/hadoop/hbase/master/MasterRpcServices.java&lt;/li&gt;
	&lt;li&gt;hbase-server/src/main/java/org/apache/hadoop/hbase/zookeeper/RegionNormalizerTracker.java&lt;/li&gt;
	&lt;li&gt;hbase-shell/src/main/ruby/shell/commands/normalizer_switch.rb&lt;/li&gt;
	&lt;li&gt;hbase-client/src/test/java/org/apache/hadoop/hbase/zookeeper/TestZooKeeperWatcher.java&lt;/li&gt;
	&lt;li&gt;hbase-client/src/main/java/org/apache/hadoop/hbase/zookeeper/ZooKeeperWatcher.java&lt;/li&gt;
	&lt;li&gt;hbase-client/src/main/java/org/apache/hadoop/hbase/HTableDescriptor.java&lt;/li&gt;
	&lt;li&gt;hbase-protocol/src/main/protobuf/Master.proto&lt;/li&gt;
	&lt;li&gt;hbase-client/src/main/java/org/apache/hadoop/hbase/client/ConnectionManager.java&lt;/li&gt;
	&lt;li&gt;hbase-protocol/pom.xml&lt;/li&gt;
	&lt;li&gt;hbase-shell/src/main/ruby/shell.rb&lt;/li&gt;
	&lt;li&gt;hbase-client/src/main/java/org/apache/hadoop/hbase/protobuf/RequestConverter.java&lt;/li&gt;
	&lt;li&gt;hbase-server/src/test/java/org/apache/hadoop/hbase/client/TestAdmin2.java&lt;/li&gt;
	&lt;li&gt;hbase-server/src/main/java/org/apache/hadoop/hbase/master/HMaster.java&lt;/li&gt;
	&lt;li&gt;hbase-protocol/src/main/java/org/apache/hadoop/hbase/protobuf/generated/RegionNormalizerProtos.java&lt;/li&gt;
	&lt;li&gt;hbase-shell/src/main/ruby/hbase/admin.rb&lt;/li&gt;
	&lt;li&gt;hbase-shell/src/main/ruby/shell/commands/normalize.rb&lt;/li&gt;
	&lt;li&gt;hbase-protocol/src/main/java/org/apache/hadoop/hbase/protobuf/generated/MasterProtos.java&lt;/li&gt;
	&lt;li&gt;hbase-client/src/main/java/org/apache/hadoop/hbase/client/Admin.java&lt;/li&gt;
	&lt;li&gt;hbase-shell/src/main/ruby/shell/commands/normalizer_enabled.rb&lt;/li&gt;
	&lt;li&gt;hbase-protocol/src/main/protobuf/RegionNormalizer.proto&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="14942640" author="hudson" created="Sun, 4 Oct 2015 11:09:13 +0000"  >&lt;p&gt;FAILURE: Integrated in HBase-TRUNK #6871 (See &lt;a href=&quot;https://builds.apache.org/job/HBase-TRUNK/6871/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/HBase-TRUNK/6871/&lt;/a&gt;)&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-14367&quot; title=&quot;Add normalization support to shell&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-14367&quot;&gt;&lt;del&gt;HBASE-14367&lt;/del&gt;&lt;/a&gt; Add normalization support to shell (antonov: rev 19045a5ea759392b5a6b8bd8001a3dd9dd5245fe)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;hbase-client/src/main/java/org/apache/hadoop/hbase/HTableDescriptor.java&lt;/li&gt;
	&lt;li&gt;hbase-shell/src/main/ruby/shell.rb&lt;/li&gt;
	&lt;li&gt;hbase-protocol/src/main/protobuf/RegionNormalizer.proto&lt;/li&gt;
	&lt;li&gt;hbase-protocol/src/main/java/org/apache/hadoop/hbase/protobuf/generated/MasterProtos.java&lt;/li&gt;
	&lt;li&gt;hbase-protocol/src/main/protobuf/Master.proto&lt;/li&gt;
	&lt;li&gt;hbase-server/src/main/java/org/apache/hadoop/hbase/master/HMaster.java&lt;/li&gt;
	&lt;li&gt;hbase-server/src/main/java/org/apache/hadoop/hbase/master/MasterRpcServices.java&lt;/li&gt;
	&lt;li&gt;hbase-protocol/pom.xml&lt;/li&gt;
	&lt;li&gt;hbase-client/src/test/java/org/apache/hadoop/hbase/zookeeper/TestZooKeeperWatcher.java&lt;/li&gt;
	&lt;li&gt;hbase-client/src/main/java/org/apache/hadoop/hbase/client/HBaseAdmin.java&lt;/li&gt;
	&lt;li&gt;hbase-client/src/main/java/org/apache/hadoop/hbase/protobuf/RequestConverter.java&lt;/li&gt;
	&lt;li&gt;hbase-client/src/main/java/org/apache/hadoop/hbase/client/Admin.java&lt;/li&gt;
	&lt;li&gt;hbase-server/src/test/java/org/apache/hadoop/hbase/client/TestAdmin2.java&lt;/li&gt;
	&lt;li&gt;hbase-shell/src/main/ruby/hbase/admin.rb&lt;/li&gt;
	&lt;li&gt;hbase-shell/src/main/ruby/shell/commands/normalizer_enabled.rb&lt;/li&gt;
	&lt;li&gt;hbase-client/src/main/java/org/apache/hadoop/hbase/zookeeper/ZooKeeperWatcher.java&lt;/li&gt;
	&lt;li&gt;hbase-protocol/src/main/java/org/apache/hadoop/hbase/protobuf/generated/RegionNormalizerProtos.java&lt;/li&gt;
	&lt;li&gt;hbase-shell/src/main/ruby/shell/commands/normalize.rb&lt;/li&gt;
	&lt;li&gt;hbase-server/src/main/java/org/apache/hadoop/hbase/zookeeper/RegionNormalizerTracker.java&lt;/li&gt;
	&lt;li&gt;hbase-shell/src/main/ruby/shell/commands/normalizer_switch.rb&lt;/li&gt;
	&lt;li&gt;hbase-client/src/main/java/org/apache/hadoop/hbase/client/ConnectionImplementation.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="14942647" author="hudson" created="Sun, 4 Oct 2015 11:33:18 +0000"  >&lt;p&gt;FAILURE: Integrated in HBase-1.3 #232 (See &lt;a href=&quot;https://builds.apache.org/job/HBase-1.3/232/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/HBase-1.3/232/&lt;/a&gt;)&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-14367&quot; title=&quot;Add normalization support to shell&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-14367&quot;&gt;&lt;del&gt;HBASE-14367&lt;/del&gt;&lt;/a&gt; Add normalization support to shell (antonov: rev b9bfd6f7e33b6d94c427322af3be062460cbdd0a)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;hbase-server/src/main/java/org/apache/hadoop/hbase/zookeeper/RegionNormalizerTracker.java&lt;/li&gt;
	&lt;li&gt;hbase-shell/src/main/ruby/shell/commands/normalizer_enabled.rb&lt;/li&gt;
	&lt;li&gt;hbase-client/src/main/java/org/apache/hadoop/hbase/HTableDescriptor.java&lt;/li&gt;
	&lt;li&gt;hbase-protocol/pom.xml&lt;/li&gt;
	&lt;li&gt;hbase-client/src/main/java/org/apache/hadoop/hbase/protobuf/RequestConverter.java&lt;/li&gt;
	&lt;li&gt;hbase-protocol/src/main/protobuf/RegionNormalizer.proto&lt;/li&gt;
	&lt;li&gt;hbase-protocol/src/main/protobuf/Master.proto&lt;/li&gt;
	&lt;li&gt;hbase-protocol/src/main/java/org/apache/hadoop/hbase/protobuf/generated/MasterProtos.java&lt;/li&gt;
	&lt;li&gt;hbase-client/src/main/java/org/apache/hadoop/hbase/client/Admin.java&lt;/li&gt;
	&lt;li&gt;hbase-shell/src/main/ruby/shell/commands/normalize.rb&lt;/li&gt;
	&lt;li&gt;hbase-server/src/main/java/org/apache/hadoop/hbase/master/MasterRpcServices.java&lt;/li&gt;
	&lt;li&gt;hbase-shell/src/main/ruby/hbase/admin.rb&lt;/li&gt;
	&lt;li&gt;hbase-client/src/main/java/org/apache/hadoop/hbase/zookeeper/ZooKeeperWatcher.java&lt;/li&gt;
	&lt;li&gt;hbase-client/src/main/java/org/apache/hadoop/hbase/client/ConnectionManager.java&lt;/li&gt;
	&lt;li&gt;hbase-client/src/main/java/org/apache/hadoop/hbase/client/HBaseAdmin.java&lt;/li&gt;
	&lt;li&gt;hbase-shell/src/main/ruby/shell.rb&lt;/li&gt;
	&lt;li&gt;hbase-server/src/test/java/org/apache/hadoop/hbase/client/TestAdmin2.java&lt;/li&gt;
	&lt;li&gt;hbase-protocol/src/main/java/org/apache/hadoop/hbase/protobuf/generated/RegionNormalizerProtos.java&lt;/li&gt;
	&lt;li&gt;hbase-shell/src/main/ruby/shell/commands/normalizer_switch.rb&lt;/li&gt;
	&lt;li&gt;hbase-client/src/test/java/org/apache/hadoop/hbase/zookeeper/TestZooKeeperWatcher.java&lt;/li&gt;
	&lt;li&gt;hbase-server/src/main/java/org/apache/hadoop/hbase/master/HMaster.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="14942824" author="stack" created="Sun, 4 Oct 2015 22:01:28 +0000"  >&lt;p&gt;Nice one &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=mantonov&quot; class=&quot;user-hover&quot; rel=&quot;mantonov&quot;&gt;Mikhail Antonov&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="14980472" author="dsen" created="Thu, 29 Oct 2015 14:05:19 +0000"  >&lt;p&gt;Not sure if it&apos;s a bug, but when I execute &quot;alter &apos;METRIC_RECORD&apos;, &lt;/p&gt;
{NORMALIZATION_ENABLED =&amp;gt; &apos;true&apos;}&quot; I see a warning &quot;Unknown argument ignored: NORMALIZATION_ENABLED&quot; which looks confusing.&lt;br/&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;&lt;br/&gt;
hbase(main):002:0&amp;gt; alter &apos;METRIC_RECORD&apos;, {NORMALIZATION_ENABLED =&amp;gt; &apos;true&apos;}
&lt;p&gt;Unknown argument ignored: NORMALIZATION_ENABLED&lt;br/&gt;
Updating all regions with the new schema...&lt;br/&gt;
1/1 regions updated.&lt;br/&gt;
Done.&lt;br/&gt;
0 row(s) in 1.9210 seconds&lt;/p&gt;

&lt;p&gt;hbase(main):003:0&amp;gt; describe &apos;METRIC_RECORD&apos;&lt;br/&gt;
Table METRIC_RECORD is ENABLED                                                                                                                        &lt;br/&gt;
METRIC_RECORD, {TABLE_ATTRIBUTES =&amp;gt; {NORMALIZATION_ENABLED =&amp;gt; &apos;true&apos;...&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Same for alter_async&lt;/p&gt;

&lt;p&gt;In any case, alter command enables the  table normalization successfully.&lt;/p&gt;</comment>
                            <comment id="14981979" author="mantonov" created="Fri, 30 Oct 2015 06:23:03 +0000"  >&lt;p&gt;I think this is bug, but not specific to normalization commands. I remember seeing the same error message while updating flag COMPACTION_ENABLED (does it show the same warning for you?) I don&apos;t have the code handy but I believe for alter command to not complain about unknown argument we need to add options like these to separate list. Could you please file a separate jira for that?&lt;/p&gt;</comment>
                            <comment id="15003237" author="romil.choksi" created="Thu, 12 Nov 2015 23:54:12 +0000"  >&lt;p&gt;I am trying to create a new table and set the NORMALIZATION_ENABLED as true, but seems like the argument NORMALIZATION_ENABLED is being ignored. And the attribute NORMALIZATION_ENABLED is not displayed on doing a desc command on that table&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
hbase(main):020:0&amp;gt; create &apos;test-table-4&apos;, &apos;cf&apos;, {NORMALIZATION_ENABLED =&amp;gt; &apos;&lt;span class=&quot;code-keyword&quot;&gt;true&lt;/span&gt;&apos;}
An argument ignored (unknown or overridden): NORMALIZATION_ENABLED
0 row(s) in 4.2670 seconds

=&amp;gt; Hbase::Table - test-table-4
hbase(main):021:0&amp;gt; desc &apos;test-table-4&apos;
Table test-table-4 is ENABLED                                                                                                                                                                               
test-table-4                                                                                                                                                                                                
COLUMN FAMILIES DESCRIPTION                                                                                                                                                                                 
{NAME =&amp;gt; &apos;cf&apos;, BLOOMFILTER =&amp;gt; &apos;ROW&apos;, VERSIONS =&amp;gt; &apos;1&apos;, IN_MEMORY =&amp;gt; &apos;&lt;span class=&quot;code-keyword&quot;&gt;false&lt;/span&gt;&apos;, KEEP_DELETED_CELLS =&amp;gt; &apos;FALSE&apos;, DATA_BLOCK_ENCODING =&amp;gt; &apos;NONE&apos;, TTL =&amp;gt; &apos;FOREVER&apos;, COMPRESSION =&amp;gt; &apos;NONE&apos;, MIN_VERSIONS =&amp;gt; &apos;0&apos;, BLOC
KCACHE =&amp;gt; &apos;&lt;span class=&quot;code-keyword&quot;&gt;true&lt;/span&gt;&apos;, BLOCKSIZE =&amp;gt; &apos;65536&apos;, REPLICATION_SCOPE =&amp;gt; &apos;0&apos;}                                                                                                                                           
1 row(s) in 0.0430 seconds
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;However, on doing an alter command on that table we can set the NORMALIZATION_ENABLED attribute for that table&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
hbase(main):022:0&amp;gt; alter &apos;test-table-4&apos;, {NORMALIZATION_ENABLED =&amp;gt; &apos;&lt;span class=&quot;code-keyword&quot;&gt;true&lt;/span&gt;&apos;}
Unknown argument ignored: NORMALIZATION_ENABLED
Updating all regions with the &lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; schema...
1/1 regions updated.
Done.
0 row(s) in 2.3640 seconds

hbase(main):023:0&amp;gt; desc &apos;test-table-4&apos;
Table test-table-4 is ENABLED                                                                                                                                                                               
test-table-4, {TABLE_ATTRIBUTES =&amp;gt; {NORMALIZATION_ENABLED =&amp;gt; &apos;&lt;span class=&quot;code-keyword&quot;&gt;true&lt;/span&gt;&apos;}                                                                                                                                        
COLUMN FAMILIES DESCRIPTION                                                                                                                                                                                 
{NAME =&amp;gt; &apos;cf&apos;, BLOOMFILTER =&amp;gt; &apos;ROW&apos;, VERSIONS =&amp;gt; &apos;1&apos;, IN_MEMORY =&amp;gt; &apos;&lt;span class=&quot;code-keyword&quot;&gt;false&lt;/span&gt;&apos;, KEEP_DELETED_CELLS =&amp;gt; &apos;FALSE&apos;, DATA_BLOCK_ENCODING =&amp;gt; &apos;NONE&apos;, TTL =&amp;gt; &apos;FOREVER&apos;, COMPRESSION =&amp;gt; &apos;NONE&apos;, MIN_VERSIONS =&amp;gt; &apos;0&apos;, BLOC
KCACHE =&amp;gt; &apos;&lt;span class=&quot;code-keyword&quot;&gt;true&lt;/span&gt;&apos;, BLOCKSIZE =&amp;gt; &apos;65536&apos;, REPLICATION_SCOPE =&amp;gt; &apos;0&apos;}                                                                                                                                           
1 row(s) in 0.0190 seconds
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;I think it would be better to have a single step process to enable normalization while creating the table itself, rather than a two step process to alter the table later on to enable normalization&lt;/p&gt;</comment>
                            <comment id="15003332" author="jmspaggi" created="Fri, 13 Nov 2015 01:09:26 +0000"  >&lt;p&gt;This is a defect. Please open a different JIRA. Should be pretty easy to fix.&lt;/p&gt;</comment>
                            <comment id="15096165" author="larsgeorge" created="Wed, 13 Jan 2016 13:17:02 +0000"  >&lt;p&gt;Was the defect filed? What is the JIRA? Could it be linked here? I dislike dangling comments for some reason. &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/sad.gif&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/p&gt;</comment>
                            <comment id="15097039" author="romil.choksi" created="Wed, 13 Jan 2016 21:36:29 +0000"  >&lt;p&gt;Opened this JIRA &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-14804&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/browse/HBASE-14804&lt;/a&gt; for create table comment, and it has been resolved&lt;/p&gt;</comment>
                            <comment id="15103528" author="stack" created="Sun, 17 Jan 2016 00:49:49 +0000"  >&lt;p&gt;The attribute on the table&apos;s name change from NORMALIZATION_ENABLED to NORMALIZATION_MODE over in &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-15073&quot; title=&quot;Finer grained control over normalization actions for RegionNormalizer&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-15073&quot;&gt;HBASE-15073&lt;/a&gt;... I updated the release note here to try and save on confusion if folks saw NORMALIZATION_ENABLED&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                            <outwardlinks description="relates to">
                                        <issuelink>
            <issuekey id="12931723">HBASE-15124</issuekey>
        </issuelink>
                            </outwardlinks>
                                                                <inwardlinks description="is related to">
                                        <issuelink>
            <issuekey id="12777641">HBASE-13103</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="12761478" name="HBASE-14367-branch-1.2.v1.patch" size="295673" author="mantonov" created="Mon, 21 Sep 2015 19:36:04 +0000"/>
                            <attachment id="12764338" name="HBASE-14367-branch-1.2.v2.patch" size="295673" author="mantonov" created="Tue, 29 Sep 2015 23:01:30 +0000"/>
                            <attachment id="12764743" name="HBASE-14367-branch-1.2.v3.patch" size="299419" author="mantonov" created="Fri, 2 Oct 2015 08:42:16 +0000"/>
                            <attachment id="12764929" name="HBASE-14367-branch-1.v1.patch" size="309788" author="mantonov" created="Sun, 4 Oct 2015 08:26:48 +0000"/>
                            <attachment id="12764923" name="HBASE-14367-v1.patch" size="312647" author="mantonov" created="Sun, 4 Oct 2015 03:07:07 +0000"/>
                            <attachment id="12761477" name="HBASE-14367.patch" size="295673" author="mantonov" created="Mon, 21 Sep 2015 19:07:01 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>6.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Fri, 18 Sep 2015 00:34:50 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            45 weeks, 4 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i2jsif:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310192" key="com.atlassian.jira.plugin.system.customfieldtypes:textarea">
                        <customfieldname>Release Note</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>This patch adds shell support for region normalizer (see &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-13103&quot; title=&quot;[ergonomics] add region size balancing as a feature of master&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-13103&quot;&gt;&lt;strike&gt;HBASE-13103&lt;/strike&gt;&lt;/a&gt;).&lt;br/&gt;
&lt;br/&gt;
3 commands have been added to hbase shell &amp;#39;tools&amp;#39; command group (modeled on how the balancer works):&lt;br/&gt;
&lt;br/&gt;
&amp;nbsp;- &amp;#39;normalizer_enabled&amp;#39; checks whether region normalizer is turned on&lt;br/&gt;
&amp;nbsp;- &amp;#39;normalizer_switch&amp;#39; allows user to turn normalizer on and off&lt;br/&gt;
&amp;nbsp;- &amp;#39;normalize&amp;#39; runs region normalizer if it&amp;#39;s turned on.&lt;br/&gt;
&lt;br/&gt;
Also &amp;#39;alter&amp;#39; command has been extended to allow user to enable/disable region normalization per table (disabled by default). Use it as &lt;br/&gt;
&lt;br/&gt;
alter &amp;#39;testtable&amp;#39;, {NORMALIZATION_MODE =&amp;gt; &amp;#39;true&amp;#39;}&lt;br/&gt;
&lt;br/&gt;
Here is the help for the normalize command:&lt;br/&gt;
&lt;br/&gt;
{code}&lt;br/&gt;
hbase(main):008:0&amp;gt; help &amp;#39;normalize&amp;#39;&lt;br/&gt;
Trigger region normalizer for all tables which have NORMALIZATION_MODE flag set. Returns true&lt;br/&gt;
&amp;nbsp;if normalizer ran successfully, false otherwise. Note that this command has no effect&lt;br/&gt;
&amp;nbsp;if region normalizer is disabled (make sure it&amp;#39;s turned on using &amp;#39;normalizer_switch&amp;#39; command).&lt;br/&gt;
&lt;br/&gt;
&amp;nbsp;Examples:&lt;br/&gt;
&lt;br/&gt;
&amp;nbsp;&amp;nbsp;&amp;nbsp;hbase&amp;gt; normalize&lt;br/&gt;
{code}</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                    <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        </customfields>
    </item>
</channel>
</rss>