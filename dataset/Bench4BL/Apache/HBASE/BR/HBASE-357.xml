<!-- 
RSS generated by JIRA (6.3.4#6332-sha1:51bc225ef474afe3128b2f66878477f322397b16) at Fri Dec 02 20:03:39 UTC 2016

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary add field=key&field=summary to the URL of your request.
For example:
https://issues.apache.org/jira/si/jira.issueviews:issue-xml/HBASE-357/HBASE-357.xml?field=key&amp;field=summary
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>6.3.4</version>
        <build-number>6332</build-number>
        <build-date>15-08-2014</build-date>
    </build-info>

<item>
            <title>[HBASE-357] [hbase] Updated Implementation of RowFilterSet, RowFilterInterface</title>
                <link>https://issues.apache.org/jira/browse/HBASE-357</link>
                <project id="12310753" key="HBASE">HBase</project>
                    <description>&lt;p&gt;Unit tests on RowFilterSet revealed a problem with it&apos;s handling of nested state-maintaining filters.  RowFilterSet returned as soon as possible for its implementations of filter and filterNotNull.  This came at the cost of it not always calling every one of it&apos;s filters.  Skipping these filters was problematic, particularly when a filter changes it&apos;s state when called to filter.  As a result, later calls to filterAllRemaining() were non-deterministic (with an unordered set) or dependent on set ordering at best.  &lt;/p&gt;

&lt;p&gt;With much input from Michael Stack and James Kennedy, the problem has been resolved as follows: the RowFilterInterface has been updated to contain a boolean processAlways() method that states whether or not this filter MUST be called in any call to the filter hierarchy.  Filters that require their state to be updated immediately upon every filter call (via a call to their filter methods), such as WhileMatchRowFilter (see &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-290&quot; title=&quot;[hbase] Add new WhileMatchRowFilter and StopRowFilter filters&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-290&quot;&gt;&lt;del&gt;HADOOP-1579&lt;/del&gt;&lt;/a&gt;), will return true for processAlways().  RowFilterSet will ensure that these filters always have their filtering methods called, whether or not they affect the final decision.&lt;/p&gt;

&lt;p&gt;The patch proposed by this issue will make the necessary changes to RowFilterSet and RowFilterInterface, in addition to adding the tests for RowFilterSet.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12373679">HBASE-357</key>
            <summary>[hbase] Updated Implementation of RowFilterSet, RowFilterInterface</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/bug.png">Bug</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.png">Minor</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="irubin">Izaak Rubin</reporter>
                        <labels>
                    </labels>
                <created>Thu, 12 Jul 2007 21:16:02 +0000</created>
                <updated>Mon, 4 Feb 2008 18:41:53 +0000</updated>
                            <resolved>Sat, 21 Jul 2007 05:07:19 +0000</resolved>
                                                                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                <comments>
                            <comment id="12512299" author="irubin" created="Thu, 12 Jul 2007 22:58:18 +0000"  >&lt;p&gt;A patch containing updates to RowFilterSet, RowFilterInterface, and the tests for RowFilterSet (as specified).  Included in the patch are various minor modifications to other filters such as PageRowFilter, RegExpRowFilter, and their respective tests.  There is also a minor modification to the scanner portion of HRegion, in which RowFilterInterface.acceptedRow(Text) is called &amp;#8211; this has been replaced by rowProcessed(boolean, Text).&lt;/p&gt;

&lt;p&gt;All tests have compiled successfully on my computer.&lt;/p&gt;</comment>
                            <comment id="12512587" author="irubin" created="Fri, 13 Jul 2007 19:25:16 +0000"  >&lt;p&gt;A revision to the previous patch, this time with file paths relative to hadoop-trunk (as opposed to my home directory, a mistake in the last patch).  I tried applying the patches on my own computer (after blowing away my changes), and confirmed the patch works correctly.&lt;/p&gt;

&lt;p&gt;All tests compiled successfully on my computer.&lt;/p&gt;</comment>
                            <comment id="12513153" author="stack" created="Tue, 17 Jul 2007 05:18:11 +0000"  >&lt;p&gt;Looks great Izaak.  A unit test that verified a scanner using a filter would build confidence in filters. FYI, convention adds curly-brackets to if-blocks, even if one-line only.&lt;/p&gt;</comment>
                            <comment id="12514005" author="irubin" created="Thu, 19 Jul 2007 21:29:35 +0000"  >&lt;p&gt;This patch is a near-clone of &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-357&quot; title=&quot;[hbase] Updated Implementation of RowFilterSet, RowFilterInterface&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-357&quot;&gt;&lt;del&gt;HADOOP-1606&lt;/del&gt;&lt;/a&gt;-v2.patch, primarily differing by one line that makes RowFilterSet.Operator public and static.  The public qualifier will allow classes outside the package to pass a RowFilterSet.Operator as an argument to the RowFilterSet constructor.  &lt;/p&gt;

&lt;p&gt;Another change in this patch is a fix to if-statement formatting: if-statements predicating one line are now surrounded by braces, as per HBase standards.  &lt;/p&gt;

&lt;p&gt;Note that this patch must be committed before &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-290&quot; title=&quot;[hbase] Add new WhileMatchRowFilter and StopRowFilter filters&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-290&quot;&gt;&lt;del&gt;HADOOP-1579&lt;/del&gt;&lt;/a&gt;-v5.patch and &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-388&quot; title=&quot;[hbase] Fix to HScanner to Support Filters, Add Filter Tests to TestScanner2&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-388&quot;&gt;&lt;del&gt;HADOOP-1637&lt;/del&gt;&lt;/a&gt;.patch.  Both of these depend on changes in this patch.  &lt;/p&gt;

&lt;p&gt;All HBase tests have passed successfully.  At present the test: &lt;/p&gt;

&lt;p&gt;org.apache.hadoop.streaming.TestSymLink&lt;/p&gt;

&lt;p&gt;is not functioning.  Nonetheless all preceding HADOOP tests are passing, and this particular test in no way reflects on the functionality and compatibility of HBase within HADOOP.&lt;/p&gt;</comment>
                            <comment id="12514238" author="stack" created="Fri, 20 Jul 2007 16:44:16 +0000"  >&lt;p&gt;Izaak, your match is missing a change to HRegion.  HRegion still has old acceptedRow method:&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
     [echo] contrib: hbase
    [javac] Compiling 98 source files to /Users/stack/Documents/checkouts/hadoop-commit/build/contrib/hbase/classes
    [javac] /Users/stack/Documents/checkouts/hadoop-commit/src/contrib/hbase/src/java/org/apache/hadoop/hbase/HRegion.java:1489: cannot find symbol
    [javac] symbol  : method acceptedRow(org.apache.hadoop.io.Text)
    [javac] location: &lt;span class=&quot;code-keyword&quot;&gt;interface&lt;/span&gt; org.apache.hadoop.hbase.filter.RowFilterInterface
    [javac]             dataFilter.acceptedRow(chosenRow);
    [javac]                       ^
    [javac] Note: /Users/stack/Documents/checkouts/hadoop-commit/src/contrib/hbase/src/java/org/apache/hadoop/hbase/shell/generated/Parser.java uses unchecked or unsafe operations.
    [javac] Note: Recompile with -Xlint:unchecked &lt;span class=&quot;code-keyword&quot;&gt;for&lt;/span&gt; details.
    [javac] 1 error
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Otherwise, looks good.&lt;/p&gt;</comment>
                            <comment id="12514262" author="irubin" created="Fri, 20 Jul 2007 17:51:39 +0000"  >&lt;p&gt;This patch fixes the error noted by Michael Stack, adding the change to HRegion.  Note that this will also force a new patch for &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-388&quot; title=&quot;[hbase] Fix to HScanner to Support Filters, Add Filter Tests to TestScanner2&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-388&quot;&gt;&lt;del&gt;HADOOP-1637&lt;/del&gt;&lt;/a&gt; (&lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-388&quot; title=&quot;[hbase] Fix to HScanner to Support Filters, Add Filter Tests to TestScanner2&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-388&quot;&gt;&lt;del&gt;HADOOP-1637&lt;/del&gt;&lt;/a&gt;-v2.patch).  The following patches MUST be applied in this order:&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-357&quot; title=&quot;[hbase] Updated Implementation of RowFilterSet, RowFilterInterface&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-357&quot;&gt;&lt;del&gt;HADOOP-1606&lt;/del&gt;&lt;/a&gt;&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-290&quot; title=&quot;[hbase] Add new WhileMatchRowFilter and StopRowFilter filters&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-290&quot;&gt;&lt;del&gt;HADOOP-1579&lt;/del&gt;&lt;/a&gt;&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-388&quot; title=&quot;[hbase] Fix to HScanner to Support Filters, Add Filter Tests to TestScanner2&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-388&quot;&gt;&lt;del&gt;HADOOP-1637&lt;/del&gt;&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;All HBase tests have passed successfully.  At present the test: &lt;/p&gt;

&lt;p&gt;org.apache.hadoop.dfs.TestDecommission&lt;/p&gt;

&lt;p&gt;is not functioning.  Nonetheless all preceding HADOOP tests are passing, and this particular test in no way reflects on the functionality and compatibility of HBase within HADOOP.&lt;/p&gt;</comment>
                            <comment id="12514278" author="irubin" created="Fri, 20 Jul 2007 18:46:22 +0000"  >&lt;p&gt;Identical to the preceding patch, except the addition of TestRowFilterSet has been moved to &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-290&quot; title=&quot;[hbase] Add new WhileMatchRowFilter and StopRowFilter filters&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-290&quot;&gt;&lt;del&gt;HADOOP-1579&lt;/del&gt;&lt;/a&gt;.  TestRowFilterSet has tests for filters not implemented until 1579.&lt;/p&gt;

&lt;p&gt;All HBase tests passed successfully.&lt;/p&gt;</comment>
                            <comment id="12514290" author="stack" created="Fri, 20 Jul 2007 19:21:30 +0000"  >&lt;p&gt;+1&lt;/p&gt;

&lt;p&gt;Builds and passes all tests locally.  Trying hudson.&lt;/p&gt;</comment>
                            <comment id="12514293" author="stack" created="Fri, 20 Jul 2007 19:27:08 +0000"  >&lt;p&gt;Patch actually has a javadoc warning in it.&lt;/p&gt;</comment>
                            <comment id="12514294" author="stack" created="Fri, 20 Jul 2007 19:27:38 +0000"  >&lt;p&gt;Fix for javadoc warning&lt;/p&gt;</comment>
                            <comment id="12514295" author="stack" created="Fri, 20 Jul 2007 19:28:59 +0000"  >&lt;p&gt;Submitting version 6.&lt;/p&gt;</comment>
                            <comment id="12514383" author="hadoopqa" created="Sat, 21 Jul 2007 03:54:30 +0000"  >&lt;p&gt;+1&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;http://issues.apache.org/jira/secure/attachment/12362250/HADOOP-1606-v6.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://issues.apache.org/jira/secure/attachment/12362250/HADOOP-1606-v6.patch&lt;/a&gt; applied and successfully tested against trunk revision r558150.&lt;/p&gt;

&lt;p&gt;Test results:   &lt;a href=&quot;http://lucene.zones.apache.org:8080/hudson/job/Hadoop-Patch/444/testReport/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://lucene.zones.apache.org:8080/hudson/job/Hadoop-Patch/444/testReport/&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;http://lucene.zones.apache.org:8080/hudson/job/Hadoop-Patch/444/console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://lucene.zones.apache.org:8080/hudson/job/Hadoop-Patch/444/console&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="12514386" author="stack" created="Sat, 21 Jul 2007 05:07:19 +0000"  >&lt;p&gt;Committed.  Thanks Izaak (and James)&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12361809" name="HADOOP-1606-v2.patch" size="28615" author="irubin" created="Fri, 13 Jul 2007 19:25:16 +0000"/>
                            <attachment id="12362163" name="HADOOP-1606-v3.patch" size="34540" author="irubin" created="Thu, 19 Jul 2007 21:29:35 +0000"/>
                            <attachment id="12362241" name="HADOOP-1606-v4.patch" size="35240" author="irubin" created="Fri, 20 Jul 2007 17:51:38 +0000"/>
                            <attachment id="12362245" name="HADOOP-1606-v5.patch" size="28836" author="irubin" created="Fri, 20 Jul 2007 18:46:22 +0000"/>
                            <attachment id="12362250" name="HADOOP-1606-v6.patch" size="28833" author="stack" created="Fri, 20 Jul 2007 19:27:38 +0000"/>
                            <attachment id="12361723" name="HADOOP-1606.patch" size="36823" author="irubin" created="Thu, 12 Jul 2007 22:58:18 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>6.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Tue, 17 Jul 2007 05:18:11 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>25141</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            9 years, 20 weeks, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0h6tj:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>98367</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        </customfields>
    </item>
</channel>
</rss>