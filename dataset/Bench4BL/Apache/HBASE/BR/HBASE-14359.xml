<!-- 
RSS generated by JIRA (6.3.4#6332-sha1:51bc225ef474afe3128b2f66878477f322397b16) at Thu Dec 01 20:54:31 UTC 2016

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary add field=key&field=summary to the URL of your request.
For example:
https://issues.apache.org/jira/si/jira.issueviews:issue-xml/HBASE-14359/HBASE-14359.xml?field=key&amp;field=summary
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>6.3.4</version>
        <build-number>6332</build-number>
        <build-date>15-08-2014</build-date>
    </build-info>

<item>
            <title>[HBASE-14359] HTable#close will hang forever if unchecked error/exception thrown in AsyncProcess#sendMultiAction</title>
                <link>https://issues.apache.org/jira/browse/HBASE-14359</link>
                <project id="12310753" key="HBASE">HBase</project>
                    <description>&lt;p&gt;Currently in AsyncProcess#sendMultiAction, we only catch the RejectedExecutionException and let other error/exception go, which will cause decTaskCounter not invoked. Meanwhile, the recommendation for using HTable is to close the table in the finally clause, and HTable#close will call flushCommits and wait until all task done.&lt;/p&gt;

&lt;p&gt;The problem is when unchecked error/exception like OutOfMemoryError thrown, taskSent will never be equal to taskDone, so AsyncProcess#waitUntilDone will never return. Especially, if autoflush is set thus no data to flush during table close, there would be no rpc call so rpcTimeOut will not break the call, and thread will wait there forever.&lt;/p&gt;

&lt;p&gt;In our product env, the unchecked error we observed is &quot;java.lang.OutOfMemoryError: unable to create new native thread&quot;, and we observed the client thread hang for hours&lt;/p&gt;</description>
                <environment></environment>
        <key id="12861537">HBASE-14359</key>
            <summary>HTable#close will hang forever if unchecked error/exception thrown in AsyncProcess#sendMultiAction</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/bug.png">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.png">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="victorunique">Victor Xu</assignee>
                                    <reporter username="carp84">Yu Li</reporter>
                        <labels>
                    </labels>
                <created>Thu, 3 Sep 2015 11:17:39 +0000</created>
                <updated>Wed, 27 Jan 2016 15:28:27 +0000</updated>
                            <resolved>Fri, 4 Sep 2015 01:45:43 +0000</resolved>
                                    <version>0.98.14</version>
                    <version>1.1.2</version>
                                    <fixVersion>2.0.0</fixVersion>
                    <fixVersion>1.2.0</fixVersion>
                    <fixVersion>1.3.0</fixVersion>
                    <fixVersion>0.98.15</fixVersion>
                    <fixVersion>1.0.3</fixVersion>
                    <fixVersion>1.1.3</fixVersion>
                                    <component>Client</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>9</watches>
                                                                <comments>
                            <comment id="14728910" author="victorunique" created="Thu, 3 Sep 2015 11:57:52 +0000"  >&lt;p&gt;Submit patches for master, branch-1.X and 0.98.&lt;/p&gt;</comment>
                            <comment id="14728915" author="victorunique" created="Thu, 3 Sep 2015 12:03:39 +0000"  >&lt;p&gt;Add jstack output for this issue:&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;&quot;Thread-14&quot; daemon prio=10 tid=0x00007fc9f7c0d800 nid=0x125b in Object.wait() [0x0000000043acc000]
   java.lang.Thread.State: TIMED_WAITING (on object monitor)
        at java.lang.Object.wait(Native Method)
        at org.apache.hadoop.hbase.client.AsyncProcess.waitForNextTaskDone(AsyncProcess.java:988)
        - locked &amp;lt;0x0000000788126080&amp;gt; (a java.util.concurrent.atomic.AtomicLong)
        at org.apache.hadoop.hbase.client.AsyncProcess.waitForMaximumCurrentTasks(AsyncProcess.java:1014)
        at org.apache.hadoop.hbase.client.AsyncProcess.waitUntilDone(AsyncProcess.java:1027)
        at org.apache.hadoop.hbase.client.HTable.backgroundFlushCommits(HTable.java:1092)
        - locked &amp;lt;0x0000000788126168&amp;gt; (a java.lang.Object)
        at org.apache.hadoop.hbase.client.HTable.flushCommits(HTable.java:1424)
        at org.apache.hadoop.hbase.client.HTable.close(HTable.java:1461)
        at com.alibaba.search.offline.sync.common.hbase.HBaseTable.returnHTable(HBaseTable.java:136)
        at com.alibaba.search.offline.sync.common.hbase.HBaseTable.batchPut(HBaseTable.java:185)
        at com.alibaba.search.offline.sync.common.hbase.HBaseTable.batchPut(HBaseTable.java:159)
        at com.alibaba.search.offline.sync.sync.storage.HBaseStorageHandler.multiPut(HBaseStorageHandler.java:80)
        at com.alibaba.search.offline.sync.sync.LoaderProcessor.doEveryTable(LoaderProcessor.java:130)
        at com.alibaba.search.offline.sync.sync.LoaderProcessor.execute(LoaderProcessor.java:50)
        at com.alibaba.search.offline.sync.sync.ProcessorRunner.perform(ProcessorRunner.java:58)
        at com.alibaba.search.offline.sync.sync.DaemonWorker.daemonWork(DaemonWorker.java:51)
        - locked &amp;lt;0x00000007809c4e48&amp;gt; (a com.alibaba.search.offline.sync.sync.ProcessorRunner)
        at com.alibaba.search.offline.sync.sync.DaemonWorker.run(DaemonWorker.java:31)
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;All user processes hang in the while loop of AsyncProcess#waitForNextTaskDone.&lt;/p&gt;</comment>
                            <comment id="14728947" author="yuzhihong@gmail.com" created="Thu, 3 Sep 2015 12:30:14 +0000"  >&lt;p&gt;Looks good. &lt;br/&gt;
Does this solve the problem in your cluster ?&lt;/p&gt;

&lt;p&gt;QA can only apply one patch to one branch. There is no need to label patch with two branch names. &lt;br/&gt;
Also, it should be branch-1, not branch1. &lt;/p&gt;</comment>
                            <comment id="14728957" author="victorunique" created="Thu, 3 Sep 2015 12:32:29 +0000"  >&lt;p&gt;Resubmit patches for master and branch-1.&lt;/p&gt;</comment>
                            <comment id="14728960" author="victorunique" created="Thu, 3 Sep 2015 12:34:47 +0000"  >&lt;p&gt;Yes, it does. It&apos;s not easy to reproduce this issue in UT, so I tested this patch on production cluster.&lt;/p&gt;</comment>
                            <comment id="14729236" author="hadoopqa" created="Thu, 3 Sep 2015 15:20:43 +0000"  >&lt;p&gt;&lt;font color=&quot;red&quot;&gt;-1 overall&lt;/font&gt;.  Here are the results of testing the latest attachment &lt;br/&gt;
  &lt;a href=&quot;http://issues.apache.org/jira/secure/attachment/12753980/HBASE-14359-branch-1-v1.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://issues.apache.org/jira/secure/attachment/12753980/HBASE-14359-branch-1-v1.patch&lt;/a&gt;&lt;br/&gt;
  against branch-1 branch at commit 3341f13e71a25bf3f8eb5a6a57ce330b3d8a3495.&lt;br/&gt;
  ATTACHMENT ID: 12753980&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 @author&lt;/font&gt;.  The patch does not contain any @author tags.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;red&quot;&gt;-1 tests included&lt;/font&gt;.  The patch doesn&apos;t appear to include any new or modified tests.&lt;br/&gt;
                        Please justify why no new tests are needed for this patch.&lt;br/&gt;
                        Also please list what manual steps were performed to verify this patch.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 hadoop versions&lt;/font&gt;. The patch compiles with all supported hadoop versions (2.4.0 2.4.1 2.5.0 2.5.1 2.5.2 2.6.0 2.7.0 2.7.1)&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 javac&lt;/font&gt;.  The applied patch does not increase the total number of javac compiler warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 protoc&lt;/font&gt;.  The applied patch does not increase the total number of protoc compiler warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 javadoc&lt;/font&gt;.  The javadoc tool did not generate any warning messages.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 checkstyle&lt;/font&gt;.  The applied patch does not increase the total number of checkstyle errors&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 findbugs&lt;/font&gt;.  The patch does not introduce any  new Findbugs (version 2.0.3) warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 release audit&lt;/font&gt;.  The applied patch does not increase the total number of release audit warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 lineLengths&lt;/font&gt;.  The patch does not introduce lines longer than 100&lt;/p&gt;

&lt;p&gt;  &lt;font color=&quot;green&quot;&gt;+1 site&lt;/font&gt;.  The mvn post-site goal succeeds with this patch.&lt;/p&gt;

&lt;p&gt;     &lt;font color=&quot;red&quot;&gt;-1 core tests&lt;/font&gt;.  The patch failed these unit tests:&lt;/p&gt;


&lt;p&gt;     &lt;font color=&quot;red&quot;&gt;-1 core zombie tests&lt;/font&gt;.  There are 5 zombie test(s): 	at org.apache.hadoop.hbase.security.access.TestAccessControlFilter.testQualifierAccess(TestAccessControlFilter.java:96)&lt;/p&gt;

&lt;p&gt;Test results: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/15405//testReport/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/15405//testReport/&lt;/a&gt;&lt;br/&gt;
Release Findbugs (version 2.0.3) 	warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/15405//artifact/patchprocess/newFindbugsWarnings.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/15405//artifact/patchprocess/newFindbugsWarnings.html&lt;/a&gt;&lt;br/&gt;
Checkstyle Errors: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/15405//artifact/patchprocess/checkstyle-aggregate.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/15405//artifact/patchprocess/checkstyle-aggregate.html&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;  Console output: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/15405//console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/15405//console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;</comment>
                            <comment id="14729264" author="hadoopqa" created="Thu, 3 Sep 2015 15:31:17 +0000"  >&lt;p&gt;&lt;font color=&quot;red&quot;&gt;-1 overall&lt;/font&gt;.  Here are the results of testing the latest attachment &lt;br/&gt;
  &lt;a href=&quot;http://issues.apache.org/jira/secure/attachment/12753973/HBASE-14359-master-branch1-v1.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://issues.apache.org/jira/secure/attachment/12753973/HBASE-14359-master-branch1-v1.patch&lt;/a&gt;&lt;br/&gt;
  against master branch at commit 3341f13e71a25bf3f8eb5a6a57ce330b3d8a3495.&lt;br/&gt;
  ATTACHMENT ID: 12753973&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 @author&lt;/font&gt;.  The patch does not contain any @author tags.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;red&quot;&gt;-1 tests included&lt;/font&gt;.  The patch doesn&apos;t appear to include any new or modified tests.&lt;br/&gt;
                        Please justify why no new tests are needed for this patch.&lt;br/&gt;
                        Also please list what manual steps were performed to verify this patch.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 hadoop versions&lt;/font&gt;. The patch compiles with all supported hadoop versions (2.4.0 2.4.1 2.5.0 2.5.1 2.5.2 2.6.0 2.7.0 2.7.1)&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 javac&lt;/font&gt;.  The applied patch does not increase the total number of javac compiler warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 protoc&lt;/font&gt;.  The applied patch does not increase the total number of protoc compiler warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 javadoc&lt;/font&gt;.  The javadoc tool did not generate any warning messages.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 checkstyle&lt;/font&gt;.  The applied patch does not increase the total number of checkstyle errors&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 findbugs&lt;/font&gt;.  The patch does not introduce any  new Findbugs (version 2.0.3) warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 release audit&lt;/font&gt;.  The applied patch does not increase the total number of release audit warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 lineLengths&lt;/font&gt;.  The patch does not introduce lines longer than 100&lt;/p&gt;

&lt;p&gt;  &lt;font color=&quot;green&quot;&gt;+1 site&lt;/font&gt;.  The mvn post-site goal succeeds with this patch.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 core tests&lt;/font&gt;.  The patch passed unit tests in .&lt;/p&gt;

&lt;p&gt;     &lt;font color=&quot;red&quot;&gt;-1 core zombie tests&lt;/font&gt;.  There are 1 zombie test(s): &lt;/p&gt;

&lt;p&gt;Test results: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/15404//testReport/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/15404//testReport/&lt;/a&gt;&lt;br/&gt;
Release Findbugs (version 2.0.3) 	warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/15404//artifact/patchprocess/newFindbugsWarnings.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/15404//artifact/patchprocess/newFindbugsWarnings.html&lt;/a&gt;&lt;br/&gt;
Checkstyle Errors: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/15404//artifact/patchprocess/checkstyle-aggregate.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/15404//artifact/patchprocess/checkstyle-aggregate.html&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;  Console output: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/15404//console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/15404//console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;</comment>
                            <comment id="14729391" author="apurtell" created="Thu, 3 Sep 2015 16:57:03 +0000"  >&lt;p&gt;lgtm&lt;/p&gt;

&lt;p&gt;Committing shortly after running some local tests unless objection&lt;/p&gt;</comment>
                            <comment id="14729582" author="ndimiduk" created="Thu, 3 Sep 2015 18:57:23 +0000"  >&lt;p&gt;Nice bit of sleuthing here &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=victorunique&quot; class=&quot;user-hover&quot; rel=&quot;victorunique&quot;&gt;Victor Xu&lt;/a&gt;. Could be a reason our tests hang over on builds.apache.org when resources get tight.&lt;/p&gt;</comment>
                            <comment id="14729590" author="stack" created="Thu, 3 Sep 2015 19:00:24 +0000"  >&lt;blockquote&gt;&lt;p&gt;Could be a reason our tests hang over on builds.apache.org when resources get tight.&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;For sure we were seeing cases of OOME can&apos;t create native threads lately. Some of this has been ameliorated by our spinning up less threads when testing but still work to do.&lt;/p&gt;</comment>
                            <comment id="14729636" author="carp84" created="Thu, 3 Sep 2015 19:31:02 +0000"  >&lt;p&gt;This online issue has been bothering us for a week and now it&apos;s a release of suffer. Hope it could cure the zombie tests here also. &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/smile.gif&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/p&gt;</comment>
                            <comment id="14730157" author="apurtell" created="Fri, 4 Sep 2015 01:45:43 +0000"  >&lt;p&gt;Pushed to 0.98 and up. &lt;/p&gt;</comment>
                            <comment id="14730256" author="hudson" created="Fri, 4 Sep 2015 03:19:41 +0000"  >&lt;p&gt;FAILURE: Integrated in HBase-1.0 #1039 (See &lt;a href=&quot;https://builds.apache.org/job/HBase-1.0/1039/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/HBase-1.0/1039/&lt;/a&gt;)&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-14359&quot; title=&quot;HTable#close will hang forever if unchecked error/exception thrown in AsyncProcess#sendMultiAction&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-14359&quot;&gt;&lt;del&gt;HBASE-14359&lt;/del&gt;&lt;/a&gt; HTable#close will hang forever if unchecked error/exception thrown in AsyncProcess#sendMultiAction (Victor Xu) (apurtell: rev 0564bfc81a7b035eb49a3d016d094ce9ab2ebb90)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;hbase-client/src/main/java/org/apache/hadoop/hbase/client/AsyncProcess.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="14730292" author="hudson" created="Fri, 4 Sep 2015 04:19:03 +0000"  >&lt;p&gt;FAILURE: Integrated in HBase-TRUNK #6777 (See &lt;a href=&quot;https://builds.apache.org/job/HBase-TRUNK/6777/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/HBase-TRUNK/6777/&lt;/a&gt;)&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-14359&quot; title=&quot;HTable#close will hang forever if unchecked error/exception thrown in AsyncProcess#sendMultiAction&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-14359&quot;&gt;&lt;del&gt;HBASE-14359&lt;/del&gt;&lt;/a&gt; HTable#close will hang forever if unchecked error/exception thrown in AsyncProcess#sendMultiAction (Victor Xu) (apurtell: rev 2481b7f76fa7e4f2b120f8dc96004790b357e569)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;hbase-client/src/main/java/org/apache/hadoop/hbase/client/AsyncProcess.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="14730293" author="hudson" created="Fri, 4 Sep 2015 04:19:18 +0000"  >&lt;p&gt;FAILURE: Integrated in HBase-1.2 #150 (See &lt;a href=&quot;https://builds.apache.org/job/HBase-1.2/150/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/HBase-1.2/150/&lt;/a&gt;)&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-14359&quot; title=&quot;HTable#close will hang forever if unchecked error/exception thrown in AsyncProcess#sendMultiAction&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-14359&quot;&gt;&lt;del&gt;HBASE-14359&lt;/del&gt;&lt;/a&gt; HTable#close will hang forever if unchecked error/exception thrown in AsyncProcess#sendMultiAction (Victor Xu) (apurtell: rev 1e411c8ead80067bc4c57c4d357b05e161d29eed)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;hbase-client/src/main/java/org/apache/hadoop/hbase/client/AsyncProcess.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="14730310" author="hudson" created="Fri, 4 Sep 2015 04:49:10 +0000"  >&lt;p&gt;SUCCESS: Integrated in HBase-1.1 #649 (See &lt;a href=&quot;https://builds.apache.org/job/HBase-1.1/649/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/HBase-1.1/649/&lt;/a&gt;)&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-14359&quot; title=&quot;HTable#close will hang forever if unchecked error/exception thrown in AsyncProcess#sendMultiAction&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-14359&quot;&gt;&lt;del&gt;HBASE-14359&lt;/del&gt;&lt;/a&gt; HTable#close will hang forever if unchecked error/exception thrown in AsyncProcess#sendMultiAction (Victor Xu) (apurtell: rev beaecd11398f465c05d742b49e496133179dbb09)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;hbase-client/src/main/java/org/apache/hadoop/hbase/client/AsyncProcess.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="14730320" author="hudson" created="Fri, 4 Sep 2015 04:59:03 +0000"  >&lt;p&gt;SUCCESS: Integrated in HBase-1.2-IT #126 (See &lt;a href=&quot;https://builds.apache.org/job/HBase-1.2-IT/126/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/HBase-1.2-IT/126/&lt;/a&gt;)&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-14359&quot; title=&quot;HTable#close will hang forever if unchecked error/exception thrown in AsyncProcess#sendMultiAction&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-14359&quot;&gt;&lt;del&gt;HBASE-14359&lt;/del&gt;&lt;/a&gt; HTable#close will hang forever if unchecked error/exception thrown in AsyncProcess#sendMultiAction (Victor Xu) (apurtell: rev 1e411c8ead80067bc4c57c4d357b05e161d29eed)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;hbase-client/src/main/java/org/apache/hadoop/hbase/client/AsyncProcess.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="14730327" author="hudson" created="Fri, 4 Sep 2015 05:04:32 +0000"  >&lt;p&gt;FAILURE: Integrated in HBase-1.3 #148 (See &lt;a href=&quot;https://builds.apache.org/job/HBase-1.3/148/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/HBase-1.3/148/&lt;/a&gt;)&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-14359&quot; title=&quot;HTable#close will hang forever if unchecked error/exception thrown in AsyncProcess#sendMultiAction&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-14359&quot;&gt;&lt;del&gt;HBASE-14359&lt;/del&gt;&lt;/a&gt; HTable#close will hang forever if unchecked error/exception thrown in AsyncProcess#sendMultiAction (Victor Xu) (apurtell: rev 513b37603dec42e54a7ea4add0254c71ba6c87b6)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;hbase-client/src/main/java/org/apache/hadoop/hbase/client/AsyncProcess.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="14730400" author="hudson" created="Fri, 4 Sep 2015 06:47:46 +0000"  >&lt;p&gt;FAILURE: Integrated in HBase-0.98 #1110 (See &lt;a href=&quot;https://builds.apache.org/job/HBase-0.98/1110/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/HBase-0.98/1110/&lt;/a&gt;)&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-14359&quot; title=&quot;HTable#close will hang forever if unchecked error/exception thrown in AsyncProcess#sendMultiAction&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-14359&quot;&gt;&lt;del&gt;HBASE-14359&lt;/del&gt;&lt;/a&gt; HTable#close will hang forever if unchecked error/exception thrown in AsyncProcess#sendMultiAction (Victor Xu) (apurtell: rev 3e68b1e9957df83173730b00bdf8dd5159e1a1a9)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;hbase-client/src/main/java/org/apache/hadoop/hbase/client/AsyncProcess.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="14730482" author="hudson" created="Fri, 4 Sep 2015 08:01:52 +0000"  >&lt;p&gt;FAILURE: Integrated in HBase-0.98-on-Hadoop-1.1 #1063 (See &lt;a href=&quot;https://builds.apache.org/job/HBase-0.98-on-Hadoop-1.1/1063/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/HBase-0.98-on-Hadoop-1.1/1063/&lt;/a&gt;)&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-14359&quot; title=&quot;HTable#close will hang forever if unchecked error/exception thrown in AsyncProcess#sendMultiAction&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-14359&quot;&gt;&lt;del&gt;HBASE-14359&lt;/del&gt;&lt;/a&gt; HTable#close will hang forever if unchecked error/exception thrown in AsyncProcess#sendMultiAction (Victor Xu) (apurtell: rev 3e68b1e9957df83173730b00bdf8dd5159e1a1a9)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;hbase-client/src/main/java/org/apache/hadoop/hbase/client/AsyncProcess.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="14730543" author="hudson" created="Fri, 4 Sep 2015 08:59:04 +0000"  >&lt;p&gt;SUCCESS: Integrated in HBase-1.3-IT #132 (See &lt;a href=&quot;https://builds.apache.org/job/HBase-1.3-IT/132/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/HBase-1.3-IT/132/&lt;/a&gt;)&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-14359&quot; title=&quot;HTable#close will hang forever if unchecked error/exception thrown in AsyncProcess#sendMultiAction&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-14359&quot;&gt;&lt;del&gt;HBASE-14359&lt;/del&gt;&lt;/a&gt; HTable#close will hang forever if unchecked error/exception thrown in AsyncProcess#sendMultiAction (Victor Xu) (apurtell: rev 513b37603dec42e54a7ea4add0254c71ba6c87b6)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;hbase-client/src/main/java/org/apache/hadoop/hbase/client/AsyncProcess.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="14934566" author="carp84" created="Tue, 29 Sep 2015 03:27:43 +0000"  >&lt;p&gt;Attaching addendum patch for adding UT for this case. The patch for trunk also applies for branch-1, while branch-0.98 needs a different one.&lt;/p&gt;</comment>
                            <comment id="14934567" author="carp84" created="Tue, 29 Sep 2015 03:30:12 +0000"  >&lt;p&gt;Tests Done:&lt;br/&gt;
Reverted patch of this JIRA on trunk/branch-1/branch-0.98 and confirmed all failed the newly added test case, while all could pass with current code base.&lt;/p&gt;</comment>
                            <comment id="15119466" author="ndimiduk" created="Wed, 27 Jan 2016 15:28:27 +0000"  >&lt;p&gt;Bulk closing 1.1.3 issues.&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="12310060">
                    <name>Container</name>
                                            <outwardlinks description="contains">
                                        <issuelink>
            <issuekey id="12910234">HBASE-14758</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="12753972" name="HBASE-14359-0.98-v1.patch" size="1813" author="victorunique" created="Thu, 3 Sep 2015 11:57:52 +0000"/>
                            <attachment id="12753980" name="HBASE-14359-branch-1-v1.patch" size="1904" author="victorunique" created="Thu, 3 Sep 2015 12:32:29 +0000"/>
                            <attachment id="12753973" name="HBASE-14359-master-branch1-v1.patch" size="1904" author="victorunique" created="Thu, 3 Sep 2015 11:57:52 +0000"/>
                            <attachment id="12753979" name="HBASE-14359-master-v1.patch" size="1904" author="victorunique" created="Thu, 3 Sep 2015 12:32:29 +0000"/>
                            <attachment id="12764166" name="HBASE-14359.addendum.branch-0.98.patch" size="2345" author="carp84" created="Tue, 29 Sep 2015 03:27:43 +0000"/>
                            <attachment id="12764165" name="HBASE-14359.addendum.patch" size="2264" author="carp84" created="Tue, 29 Sep 2015 03:27:43 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>6.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Thu, 3 Sep 2015 11:57:52 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310191" key="com.atlassian.jira.plugin.system.customfieldtypes:multicheckboxes">
                        <customfieldname>Hadoop Flags</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10343"><![CDATA[Reviewed]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            44 weeks, 1 day ago
                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i2jqp3:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        </customfields>
    </item>
</channel>
</rss>