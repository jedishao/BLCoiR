<!-- 
RSS generated by JIRA (6.3.4#6332-sha1:51bc225ef474afe3128b2f66878477f322397b16) at Fri Dec 02 20:25:43 UTC 2016

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary add field=key&field=summary to the URL of your request.
For example:
https://issues.apache.org/jira/si/jira.issueviews:issue-xml/HBASE-889/HBASE-889.xml?field=key&amp;field=summary
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>6.3.4</version>
        <build-number>6332</build-number>
        <build-date>15-08-2014</build-date>
    </build-info>

<item>
            <title>[HBASE-889] The current Thrift API does not allow a new scanner to be created without supplying a column list unlike the other APIs.</title>
                <link>https://issues.apache.org/jira/browse/HBASE-889</link>
                <project id="12310753" key="HBASE">HBase</project>
                    <description>&lt;p&gt;The current Thrift API does not allow a new scanner to be created without supplying a column list, unlike the REST api. I posted this on the HBase-Users mailing list. Others concurred that it appears to have been an oversight in the Thrift API. &lt;/p&gt;

&lt;p&gt;Its quite significant as there is no easy work around, unless you already know which the column families names then list them all when you open the scanner.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12404680">HBASE-889</key>
            <summary>The current Thrift API does not allow a new scanner to be created without supplying a column list unlike the other APIs.</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/bug.png">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.png">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="tim_s">Tim Sell</assignee>
                                    <reporter username="charliem">Charlie Mason</reporter>
                        <labels>
                    </labels>
                <created>Thu, 18 Sep 2008 20:52:03 +0000</created>
                <updated>Sun, 13 Sep 2009 22:24:15 +0000</updated>
                            <resolved>Tue, 5 May 2009 03:58:51 +0000</resolved>
                                    <version>0.2.0</version>
                    <version>0.2.1</version>
                                    <fixVersion>0.20.0</fixVersion>
                                    <component>Thrift</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                                <comments>
                            <comment id="12632666" author="tim_s" created="Fri, 19 Sep 2008 12:56:49 +0000"  >&lt;p&gt;Oops. I&apos;m happy to look at this. I&apos;ll post a patch for 0.2.* and trunk in a jiffy.&lt;br/&gt;
There&apos;s probably at least few more little things like this in the thrift api.&lt;/p&gt;</comment>
                            <comment id="12632691" author="tim_s" created="Fri, 19 Sep 2008 14:14:30 +0000"  >&lt;p&gt;actually I was reading the REST code (branch 0.2), opening a scanner, it checks if the columns are specified, and if not &lt;/p&gt;

&lt;p&gt;      // TODO: Need to put into the scanner all of the table&apos;s column&lt;br/&gt;
      // families.  TODO: Verify this returns all rows.  For now just fail.&lt;br/&gt;
      doMethodNotAllowed(response, &quot;Unspecified columns parameter currently not supported!&quot;);&lt;/p&gt;

&lt;p&gt;Are you sure the REST api allows it? Unless I&apos;m looking at the wrong code.&lt;/p&gt;

&lt;p&gt;The obvious way to do this is if it&apos;s null we get the columns list from the table.&lt;/p&gt;</comment>
                            <comment id="12632693" author="tim_s" created="Fri, 19 Sep 2008 14:16:09 +0000"  >&lt;p&gt;A patch will not be up in a jiffy after all. I do this over the weekend maybe.&lt;/p&gt;</comment>
                            <comment id="12666006" author="stack" created="Wed, 21 Jan 2009 23:35:22 +0000"  >&lt;p&gt;Fixed by &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-1142&quot; title=&quot;Cleanup thrift server; remove Text and profuse DEBUG messaging&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-1142&quot;&gt;&lt;del&gt;HBASE-1142&lt;/del&gt;&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="12666982" author="tim_s" created="Sat, 24 Jan 2009 20:40:16 +0000"  >&lt;p&gt;I was wrong, this wasn&apos;t fixed by &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-1142&quot; title=&quot;Cleanup thrift server; remove Text and profuse DEBUG messaging&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-1142&quot;&gt;&lt;del&gt;HBASE-1142&lt;/del&gt;&lt;/a&gt; after all. I didn&apos;t test it properly. Sorry.&lt;br/&gt;
You could pass it an empty list, but the scanner would just select zero columns.&lt;/p&gt;

&lt;p&gt;Attached is a patch that addresses this, it includes a getAllColumns function which looks them up from the table descriptor.&lt;/p&gt;

&lt;p&gt;I&apos;m not convinced this is how it should be done though, because the shell has similar code. Presumably so does the REST api. Maybe the HTable.getScanner functions should do this themselves if passed null or an empty list for columns?&lt;/p&gt;</comment>
                            <comment id="12666984" author="stack" created="Sat, 24 Jan 2009 20:49:39 +0000"  >&lt;p&gt;Agreed Tim.  Null columns list should return all.  Shall we apply your patch meantime and then open new issue to do as you suggest?&lt;/p&gt;</comment>
                            <comment id="12666987" author="tim_s" created="Sat, 24 Jan 2009 20:56:42 +0000"  >&lt;p&gt;That sounds good, we should remove the hack-arounds in that issue.&lt;/p&gt;</comment>
                            <comment id="12705849" author="tim_s" created="Tue, 5 May 2009 00:42:50 +0000"  >&lt;p&gt;Here&apos;s a slightly cleaner version of the patch against the latest trunk.&lt;br/&gt;
btw this does not require changes to the generated code at all.&lt;/p&gt;</comment>
                            <comment id="12705886" author="stack" created="Tue, 5 May 2009 03:58:51 +0000"  >&lt;p&gt;Committed.  Thanks for the patch Tim (Did you see hbase-1360 and related where upping trunk to use thrift trunk?)&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10032">
                    <name>Blocker</name>
                                            <outwardlinks description="blocks">
                                        <issuelink>
            <issuekey id="12413199">HBASE-1153</issuekey>
        </issuelink>
                            </outwardlinks>
                                                                <inwardlinks description="is blocked by">
                                        <issuelink>
            <issuekey id="12412870">HBASE-1142</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="12398665" name="HBASE-889v1.patch" size="4580" author="tim_s" created="Sat, 24 Jan 2009 20:40:40 +0000"/>
                            <attachment id="12407202" name="HBASE-889v2.patch" size="3744" author="tim_s" created="Tue, 5 May 2009 00:43:25 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>2.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Fri, 19 Sep 2008 12:56:49 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>25459</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            7 years, 31 weeks, 3 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0ha2n:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>98894</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        </customfields>
    </item>
</channel>
</rss>