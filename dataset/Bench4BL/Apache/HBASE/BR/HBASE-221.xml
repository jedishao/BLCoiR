<!-- 
RSS generated by JIRA (6.3.4#6332-sha1:51bc225ef474afe3128b2f66878477f322397b16) at Fri Dec 02 18:58:06 UTC 2016

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary add field=key&field=summary to the URL of your request.
For example:
https://issues.apache.org/jira/si/jira.issueviews:issue-xml/HBASE-221/HBASE-221.xml?field=key&amp;field=summary
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>6.3.4</version>
        <build-number>6332</build-number>
        <build-date>15-08-2014</build-date>
    </build-info>

<item>
            <title>[HBASE-221] [hbase] Failure in nightly #346</title>
                <link>https://issues.apache.org/jira/browse/HBASE-221</link>
                <project id="12310753" key="HBASE">HBase</project>
                    <description>&lt;p&gt;hbase tests failed in the nightlies and in a few previous patch builds.  Suspect is use of TextSequence in place of creating new Text instances every time (though, it passed its patch build and a nightly succeeded with TextSequence in place).  I reviewed the patch.  Looks like all TextSequence uses should be safe.   Looking at console for last night failures, at least one seems to be complaint about hdfs accesses.   Will wait till hudson starts working again building patches regularly before trying experiments &amp;#8211; e.g. backing out TextSequence patch to see if it makes a difference.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12385208">HBASE-221</key>
            <summary>[hbase] Failure in nightly #346</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/bug.png">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.png">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="stack">stack</reporter>
                        <labels>
                    </labels>
                <created>Wed, 26 Dec 2007 17:33:05 +0000</created>
                <updated>Fri, 22 Aug 2008 21:34:55 +0000</updated>
                            <resolved>Wed, 9 Jan 2008 00:10:12 +0000</resolved>
                                                                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                <comments>
                            <comment id="12555040" author="stack" created="Sun, 30 Dec 2007 22:34:18 +0000"  >&lt;p&gt;See if &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-326&quot; title=&quot;[hbase] Save on number of Text object creations&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-326&quot;&gt;&lt;del&gt;HADOOP-2479&lt;/del&gt;&lt;/a&gt;, saving on creation of Text objects, is responsible for hbase builds on hudson recent turn to the erratic. &lt;/p&gt;</comment>
                            <comment id="12555045" author="stack" created="Sun, 30 Dec 2007 22:51:17 +0000"  >&lt;p&gt;Version that actually builds.&lt;/p&gt;</comment>
                            <comment id="12555069" author="stack" created="Mon, 31 Dec 2007 06:24:27 +0000"  >&lt;p&gt;Try hudson&lt;/p&gt;</comment>
                            <comment id="12555788" author="stack" created="Fri, 4 Jan 2008 04:31:01 +0000"  >&lt;p&gt;Trying new patch... to see if hudson will build it (Its ignoring submissions from this issue).&lt;/p&gt;</comment>
                            <comment id="12555789" author="stack" created="Fri, 4 Jan 2008 04:31:42 +0000"  >&lt;p&gt;Retrying patch submission.&lt;/p&gt;</comment>
                            <comment id="12555915" author="hadoopqa" created="Fri, 4 Jan 2008 12:52:10 +0000"  >&lt;p&gt;-1 overall.  Here are the results of testing the latest attachment &lt;br/&gt;
&lt;a href=&quot;http://issues.apache.org/jira/secure/attachment/12372480/totext-3.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://issues.apache.org/jira/secure/attachment/12372480/totext-3.patch&lt;/a&gt;&lt;br/&gt;
against trunk revision .&lt;/p&gt;

&lt;p&gt;    @author +1.  The patch does not contain any @author tags.&lt;/p&gt;

&lt;p&gt;    javadoc +1.  The javadoc tool did not generate any warning messages.&lt;/p&gt;

&lt;p&gt;    javac +1.  The applied patch does not generate any new compiler warnings.&lt;/p&gt;

&lt;p&gt;    findbugs +1.  The patch does not introduce any new Findbugs warnings.&lt;/p&gt;

&lt;p&gt;    core tests +1.  The patch passed core unit tests.&lt;/p&gt;

&lt;p&gt;    contrib tests -1.  The patch failed contrib unit tests.&lt;/p&gt;

&lt;p&gt;Test results: &lt;a href=&quot;http://lucene.zones.apache.org:8080/hudson/job/Hadoop-Patch/1465/testReport/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://lucene.zones.apache.org:8080/hudson/job/Hadoop-Patch/1465/testReport/&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;http://lucene.zones.apache.org:8080/hudson/job/Hadoop-Patch/1465/artifact/trunk/build/test/findbugs/newPatchFindbugsWarnings.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://lucene.zones.apache.org:8080/hudson/job/Hadoop-Patch/1465/artifact/trunk/build/test/findbugs/newPatchFindbugsWarnings.html&lt;/a&gt;&lt;br/&gt;
Checkstyle results: &lt;a href=&quot;http://lucene.zones.apache.org:8080/hudson/job/Hadoop-Patch/1465/artifact/trunk/build/test/checkstyle-errors.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://lucene.zones.apache.org:8080/hudson/job/Hadoop-Patch/1465/artifact/trunk/build/test/checkstyle-errors.html&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;http://lucene.zones.apache.org:8080/hudson/job/Hadoop-Patch/1465/console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://lucene.zones.apache.org:8080/hudson/job/Hadoop-Patch/1465/console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;</comment>
                            <comment id="12556040" author="stack" created="Fri, 4 Jan 2008 19:51:15 +0000"  >&lt;p&gt;If this patch failed, then unlikely its TextSequence.&lt;/p&gt;

&lt;p&gt;Looking closer at failures... the TestScanner2 is failing because regionserver can&apos;t talk to master:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
    [junit] Starting DataNode 0 with dfs.data.dir: /export/home/hudson/hudson/jobs/Hadoop-Patch/workspace/trunk/build/contrib/hbase/test/data/dfs/data/data1,/export/home/hudson/hudson/jobs/Hadoop-Patch/workspace/trunk/build/contrib/hbase/test/data/dfs/data/data2
    [junit] Starting DataNode 1 with dfs.data.dir: /export/home/hudson/hudson/jobs/Hadoop-Patch/workspace/trunk/build/contrib/hbase/test/data/dfs/data/data3,/export/home/hudson/hudson/jobs/Hadoop-Patch/workspace/trunk/build/contrib/hbase/test/data/dfs/data/data4
    [junit] 2008-01-04 09:46:20,363 INFO  [main] hbase.HMaster(880): Root region dir: /hbase/hregion_70236052
    [junit] 2008-01-04 09:46:20,366 INFO  [main] hbase.HMaster(889): bootstrap: creating ROOT and first META regions
    [junit] 2008-01-04 09:46:20,741 INFO  [main] hbase.HLog(313): &lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; log writer created at /hbase/hregion_70236052/log/hlog.dat.000
    [junit] 2008-01-04 09:46:21,150 DEBUG [main] hbase.HStore(601): starting -ROOT-,,0/info (70236052/info) (no reconstruction log)
    [junit] 2008-01-04 09:46:21,153 DEBUG [main] hbase.HStore(629): maximum sequence id &lt;span class=&quot;code-keyword&quot;&gt;for&lt;/span&gt; hstore -ROOT-,,0/info (70236052/info) is -1
    [junit] 2008-01-04 09:46:21,154 DEBUG [main] hbase.HRegion(300): Next sequence id &lt;span class=&quot;code-keyword&quot;&gt;for&lt;/span&gt; region -ROOT-,,0 is 0
    [junit] 2008-01-04 09:46:21,155 INFO  [main] hbase.HRegion(328): region -ROOT-,,0 available
    [junit] 2008-01-04 09:46:21,983 INFO  [main] hbase.HLog(313): &lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; log writer created at /hbase/hregion_1028785192/log/hlog.dat.000
    [junit] 2008-01-04 09:46:22,637 DEBUG [main] hbase.HStore(601): starting .META.,,1/info (1028785192/info) (no reconstruction log)
    [junit] 2008-01-04 09:46:22,639 DEBUG [main] hbase.HStore(629): maximum sequence id &lt;span class=&quot;code-keyword&quot;&gt;for&lt;/span&gt; hstore .META.,,1/info (1028785192/info) is -1
    [junit] 2008-01-04 09:46:22,640 DEBUG [main] hbase.HRegion(300): Next sequence id &lt;span class=&quot;code-keyword&quot;&gt;for&lt;/span&gt; region .META.,,1 is 0
    [junit] 2008-01-04 09:46:22,642 INFO  [main] hbase.HRegion(328): region .META.,,1 available
    [junit] 2008-01-04 09:46:22,643 DEBUG [main] hbase.HRegion(837): Started memcache flush &lt;span class=&quot;code-keyword&quot;&gt;for&lt;/span&gt; region -ROOT-,,0. Size 92.0
    [junit] 2008-01-04 09:46:24,634 DEBUG [main] hbase.HStore(972): Added 70236052/info/5055688092398333315 with 1 entries, sequence id 1, and size 216.0 &lt;span class=&quot;code-keyword&quot;&gt;for&lt;/span&gt; -ROOT-,,0/info
    [junit] 2008-01-04 09:46:24,635 DEBUG [main] hbase.HRegion(943): Finished memcache flush &lt;span class=&quot;code-keyword&quot;&gt;for&lt;/span&gt; region -ROOT-,,0 in 1992ms, sequenceid=1
    [junit] 2008-01-04 09:46:24,635 DEBUG [main] hbase.HStore(880): closed -ROOT-,,0/info (70236052/info)
    [junit] 2008-01-04 09:46:24,636 INFO  [main] hbase.HRegion(430): closed -ROOT-,,0
    [junit] 2008-01-04 09:46:24,636 DEBUG [main] hbase.HLog(399): closing log writer in /hbase/hregion_70236052/log
    [junit] 2008-01-04 09:46:25,092 DEBUG [main] hbase.HStore(880): closed .META.,,1/info (1028785192/info)
    [junit] 2008-01-04 09:46:25,093 INFO  [main] hbase.HRegion(430): closed .META.,,1
    [junit] 2008-01-04 09:46:25,093 DEBUG [main] hbase.HLog(399): closing log writer in /hbase/hregion_1028785192/log
    [junit] 2008-01-04 09:46:25,505 INFO  [main] hbase.HMaster(947): HMaster initialized on 127.0.0.1:60000
    [junit] 2008-01-04 09:46:25,507 DEBUG [RegionServer:0] hbase.HRegionServer(1060): Telling master we are up
    [junit] 2008-01-04 09:47:25,513 INFO  [main] hbase.HConnectionManager$TableServers(194): Attempt 0 of 5 failed with &amp;lt;java.net.SocketTimeoutException: timed out waiting &lt;span class=&quot;code-keyword&quot;&gt;for&lt;/span&gt; rpc response&amp;gt;. Retrying after sleep of 5000
    [junit] 2008-01-04 09:48:30,528 INFO  [main] hbase.HConnectionManager$TableServers(194): Attempt 1 of 5 failed with &amp;lt;java.net.SocketTimeoutException: timed out waiting &lt;span class=&quot;code-keyword&quot;&gt;for&lt;/span&gt; rpc response&amp;gt;. Retrying after sleep of 5000
    [junit] 2008-01-04 09:49:35,542 INFO  [main] hbase.HConnectionManager$TableServers(194): Attempt 2 of 5 failed with &amp;lt;java.net.SocketTimeoutException: timed out waiting &lt;span class=&quot;code-keyword&quot;&gt;for&lt;/span&gt; rpc response&amp;gt;. Retrying after sleep of 5000
    [junit] 2008-01-04 09:59:50,443 INFO  [SIGTERM handler] hbase.HRegionServer$ShutdownThread(151): Starting shutdown thread.
    [junit] Tests run: 1, Failures: 0, Errors: 1, Time elapsed: 0 sec
    [junit] Test org.apache.hadoop.hbase.TestScanner2 FAILED (timeout)
...
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;Comparing to successful runs, only difference I see is absence of this line:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
util.NativeCodeLoader(51): Unable to load &lt;span class=&quot;code-keyword&quot;&gt;native&lt;/span&gt;-hadoop library &lt;span class=&quot;code-keyword&quot;&gt;for&lt;/span&gt; your platform... using builtin-java classes where applicable
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;The test create table failure is because hdfs through an interrupted exception when we were shutting it down &amp;#8211; we should catch these.&lt;/p&gt;</comment>
                            <comment id="12556047" author="stack" created="Fri, 4 Jan 2008 19:54:41 +0000"  >&lt;p&gt;Fix it so hdfs exceptions don&apos;t fail tests, move the verify of mapreduce job before shutdown of cluster to see if makes a difference up on hudson and add some debug output so can get more info on why TestScanner2 hangs on cluster startup.&lt;/p&gt;</comment>
                            <comment id="12557086" author="stack" created="Wed, 9 Jan 2008 00:06:21 +0000"  >&lt;p&gt;Add more logging.&lt;/p&gt;</comment>
                            <comment id="12557088" author="stack" created="Wed, 9 Jan 2008 00:10:12 +0000"  >&lt;p&gt;Committed v5 without waiting on test &amp;#8211; scheduled a few days ago &amp;#8211; to run on hudson (According to Nigel there are 12 patches in the queue currently so could be a day or more before it runs).  This commit can&apos;t make things worse (every build seems to have at least one test failure in hbase).&lt;/p&gt;

&lt;p&gt;Closing this issue.  Have been looking at the test failures and the reasons seem myriad.  Will open individual issues to address each failure type.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12372524" name="2490-v4.patch" size="5340" author="stack" created="Fri, 4 Jan 2008 19:54:40 +0000"/>
                            <attachment id="12372750" name="2490-v5.patch" size="9285" author="stack" created="Wed, 9 Jan 2008 00:06:21 +0000"/>
                            <attachment id="12372350" name="totext-2.patch" size="8685" author="stack" created="Sun, 30 Dec 2007 22:51:17 +0000"/>
                            <attachment id="12372480" name="totext-3.patch" size="7127" author="stack" created="Fri, 4 Jan 2008 04:31:01 +0000"/>
                            <attachment id="12372348" name="totext.patch" size="7135" author="stack" created="Sun, 30 Dec 2007 22:34:18 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>5.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Fri, 4 Jan 2008 12:52:10 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>25005</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            8 years, 48 weeks, 2 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0h5kn:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>98165</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        </customfields>
    </item>
</channel>
</rss>