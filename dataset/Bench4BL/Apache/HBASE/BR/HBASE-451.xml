<!-- 
RSS generated by JIRA (6.3.4#6332-sha1:51bc225ef474afe3128b2f66878477f322397b16) at Sat Dec 03 18:10:29 UTC 2016

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary add field=key&field=summary to the URL of your request.
For example:
https://issues.apache.org/jira/si/jira.issueviews:issue-xml/HBASE-451/HBASE-451.xml?field=key&amp;field=summary
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>6.3.4</version>
        <build-number>6332</build-number>
        <build-date>15-08-2014</build-date>
    </build-info>

<item>
            <title>[HBASE-451] Remove HTableDescriptor from HRegionInfo</title>
                <link>https://issues.apache.org/jira/browse/HBASE-451</link>
                <project id="12310753" key="HBASE">HBase</project>
                    <description>&lt;p&gt;There is an HRegionInfo for every region in HBase. Currently HRegionInfo also contains the HTableDescriptor (the schema). That means we store the schema n times where n is the number of regions in the table.&lt;/p&gt;

&lt;p&gt;Additionally, for every region of the same table that the region server has open, there is a copy of the schema. Thus it is stored in memory once for each open region.&lt;/p&gt;

&lt;p&gt;If HRegionInfo merely contained the table name the HTableDescriptor could be stored in a separate file and easily found.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12388733">HBASE-451</key>
            <summary>Remove HTableDescriptor from HRegionInfo</summary>
                <type id="4" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/improvement.png">Improvement</type>
                                            <priority id="2" iconUrl="https://issues.apache.org/jira/images/icons/priorities/critical.png">Critical</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="iamknome">Subbu M Iyer</assignee>
                                    <reporter username="jimk">Jim Kellerman</reporter>
                        <labels>
                    </labels>
                <created>Fri, 15 Feb 2008 01:16:21 +0000</created>
                <updated>Fri, 20 Nov 2015 13:01:57 +0000</updated>
                            <resolved>Thu, 14 Jul 2011 22:55:26 +0000</resolved>
                                    <version>0.2.0</version>
                                    <fixVersion>0.92.0</fixVersion>
                                    <component>master</component>
                    <component>regionserver</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>6</watches>
                                                                <comments>
                            <comment id="12569169" author="stack" created="Fri, 15 Feb 2008 03:47:00 +0000"  >&lt;p&gt;How about a new catalog table named &lt;del&gt;TABLE&lt;/del&gt;&lt;/p&gt;</comment>
                            <comment id="12569182" author="bryanduxbury" created="Fri, 15 Feb 2008 05:12:10 +0000"  >&lt;p&gt;I like that idea because then we don&apos;t have to work very hard to store that information. It also means we can check if a table exists by doing a single get, instead of a META scan. We can also quickly tell if META is corrupt because we have a reliable place to find table names. &lt;/p&gt;

&lt;p&gt;All in all, +1 to that idea.&lt;/p&gt;</comment>
                            <comment id="12570891" author="jimk" created="Wed, 20 Feb 2008 23:55:07 +0000"  >&lt;p&gt;I&apos;d prefer that the HTableDescriptor be a file under /hbase-root/table-name. Why? So that the HBase-fsck can get all the info it needs from the file system if root or meta or the &lt;del&gt;TABLE&lt;/del&gt; table were corrupted.&lt;/p&gt;</comment>
                            <comment id="12571823" author="jimk" created="Sun, 24 Feb 2008 01:35:58 +0000"  >&lt;p&gt;If we are going to have to modify HTableDescriptor to support user specified Comparators, seems like this would also be a good time to more HTableDescriptor out of HRegionInfo&lt;/p&gt;</comment>
                            <comment id="12591845" author="stack" created="Wed, 23 Apr 2008 22:41:31 +0000"  >&lt;p&gt;Above issue talks about putting schema behind zookeeper interface&lt;/p&gt;</comment>
                            <comment id="12593211" author="bryanduxbury" created="Wed, 30 Apr 2008 03:11:23 +0000"  >&lt;p&gt;If table descriptors lived in a .TABLE. table, would it be at the same level as user tables? &lt;/p&gt;

&lt;p&gt;Are there downsides to having a catalog table instead of storing in files? I&apos;m not sure that the HBase-check thing is that big of an issue. The catalog table will almost always be pretty small, have a static name, and probably live in a pretty well known place. Even if META was corrupt, that wouldn&apos;t stop us from being able to recover the catalog table. (At least, not any more than it would stop us from recovering the rest of the user-level tables.)&lt;/p&gt;</comment>
                            <comment id="12605609" author="jdcryans" created="Tue, 17 Jun 2008 14:12:20 +0000"  >&lt;p&gt;This issue can be fixed using the HBase implementation of Zookeeper (see &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-546&quot; title=&quot;Use Zookeeper in HBase&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-546&quot;&gt;&lt;del&gt;HBASE-546&lt;/del&gt;&lt;/a&gt;). What will be behind the interface can either be a new table TABLE or a file like Jim wrote. I prefer the file solution since it will work in the same way with ZK.&lt;/p&gt;</comment>
                            <comment id="12606123" author="stack" created="Wed, 18 Jun 2008 22:47:40 +0000"  >&lt;p&gt;Thinking more on this &amp;#8211; prompted by the J-D comment above &amp;#8211; I agree that a hbase.rootdir/TABLEDIR/schema file &amp;#8211; is the way to go rather than a new catalog table.  The file will be read rarely &amp;#8211; during the onlining/deploy of a region.  The table schema file could be stored in ZK but having our schema in multiple places &amp;#8211; in HDFS and in ZK &amp;#8211; makes me queasy.   The JK point above that if it were in the TABLEDIR directory, an offline hbasck repair tool would also have access, is a strong argument for keeping it in hdfs.&lt;/p&gt;</comment>
                            <comment id="12607702" author="jdcryans" created="Tue, 24 Jun 2008 18:01:30 +0000"  >&lt;p&gt;IMO, writing the schema in HDFS or in Zookeeper&apos;s namespace should be the same operation so it should not be a major problem, can be the same code but with a different output. Regarding hbase-fsck, it could read from ZK or from HDFS depending on the configuration. Last point, ZK is supposed to be &quot;read optimized&quot; so reading from it when we are using it should be faster than HDFS.&lt;/p&gt;

&lt;p&gt;That said, we could just start by putting the schema in HDFS and see if it causes trouble and then we could consider putting it in ZK.&lt;/p&gt;</comment>
                            <comment id="12607706" author="stack" created="Tue, 24 Jun 2008 18:06:20 +0000"  >&lt;p&gt;Agreed&lt;/p&gt;</comment>
                            <comment id="12701640" author="stack" created="Wed, 22 Apr 2009 18:58:35 +0000"  >&lt;p&gt;I don&apos;t see any action on this issue.  Should we move to 0.21?&lt;/p&gt;</comment>
                            <comment id="12702598" author="stack" created="Fri, 24 Apr 2009 22:48:28 +0000"  >&lt;p&gt;I don&apos;t think this will happen in the 0.20.0 timeframe.  Moving it out.&lt;/p&gt;</comment>
                            <comment id="12746351" author="stack" created="Fri, 21 Aug 2009 23:12:22 +0000"  >&lt;p&gt;Fix in 0.21.... moving schema to zk.&lt;/p&gt;</comment>
                            <comment id="12867004" author="stack" created="Thu, 13 May 2010 04:41:38 +0000"  >&lt;p&gt;Moved from 0.21 to 0.22 just after merge of old 0.20 branch into TRUNK.&lt;/p&gt;</comment>
                            <comment id="12905158" author="stack" created="Wed, 1 Sep 2010 18:57:26 +0000"  >&lt;p&gt;Design for this is up in &lt;a href=&quot;http://wiki.apache.org/hadoop/Hbase/MasterRewrite&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://wiki.apache.org/hadoop/Hbase/MasterRewrite&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="13009466" author="stack" created="Mon, 21 Mar 2011 23:16:42 +0000"  >&lt;p&gt;Making it critical &amp;#8211; this is about making it so can we can do schema edits online.&lt;/p&gt;</comment>
                            <comment id="13016077" author="iamknome" created="Tue, 5 Apr 2011 18:54:41 +0000"  >&lt;p&gt;So i think the consensus is to &lt;/p&gt;

&lt;p&gt;1) start with writing the descriptor to HDFS rather than ZK? &lt;br/&gt;
2) Also, I believe that the data format should be in JSON in the file or ZK which ever it may be?&lt;/p&gt;

&lt;p&gt;Any preference on the JSON library (Jetty util/Jersey/Jettison/jackson) to use?&lt;/p&gt;</comment>
                            <comment id="13016223" author="stack" created="Wed, 6 Apr 2011 02:50:24 +0000"  >&lt;p&gt;Warning.  This is a big one Subbu.&lt;/p&gt;

&lt;p&gt;So, I used to think that storing the schema in zk was the way to go but Ryan argues, correctly I believe, that zk should only carry transient data if only so we can copy hdfs content and then we can bring up the data elsewhere under another cluster  (Otherwise, we&apos;ll have to copy hdfs and zk state to replicate cluster data elsewhere &amp;#8211; a pain).  So, we could write schema into a table or into hdfs.  We could write the table schema into a new catalog table named schemas or, I believe it was Andrew Purtell who suggested, we put the schema into a new column family in .META. table into the first region only.  If we wrote it into hdfs, we could write it into a .tabledescriptor file as we write the .regioninfo file now under each region.  On startup, I&apos;d think that we&apos;d read hdfs or a schema table and then per table add a znode up in zk.  On each new table edit, we&apos;d update the znode.  All regionservers would be watching the zk table proxy and would know to reread the schema on watcher trigger.&lt;/p&gt;

&lt;p&gt;On JSON serializing, yeah, that&apos;d be sweet but might be a bit much to bite off as part of this issue.  Maybe just go w/ Writables until its all running?  Open new issue to add serialization of types to JSON (Todd mentions that if we avro&apos;d this stuff, we could make use of an avro-to-json gateway that apparently avro has).&lt;/p&gt;</comment>
                            <comment id="13042847" author="iamknome" created="Thu, 2 Jun 2011 16:26:44 +0000"  >&lt;p&gt;Here is a brief summary of changes for this JIRA:&lt;/p&gt;

&lt;p&gt;1. HTD will be stored in HDFS in .tableinfo file under the table folder.&lt;br/&gt;
2. HTD removed from HRI&lt;br/&gt;
3. Bootstrap creates ROOT and META with out HTD in HRI. (for all fresh setup/startup. This process will&lt;br/&gt;
   also set a flag in &lt;del&gt;ROOT&lt;/del&gt; called metamigrated and set it to true to indicate that the system supports &lt;br/&gt;
   new HRI&apos;s with out HTD.)&lt;br/&gt;
4. HRegion.createHRegion stores HTD in HDFS. (Master also stores HTD in HDFS during table creation, &lt;br/&gt;
   but it seems redundant and will be removed).&lt;br/&gt;
5. New HRegion instances will load the HTD of the table from HDFS.   &lt;br/&gt;
6. AssignmentManager maintains an in-memory map of &amp;lt;tableName, HTD&amp;gt; that gets modified during table &lt;br/&gt;
   manipulations (such as modifyTable, AddFamily, DeleteFamily etc) as well as during user region &lt;br/&gt;
   assignments.&lt;br/&gt;
7. All schema operations such as modifyTable, AddFamily, DeleteFamily et al will result in appropriate&lt;br/&gt;
   changes to HTD on HDFS (.tableinfo changes).&lt;br/&gt;
8. For existing installations:&lt;br/&gt;
		If the system is not updated (metamigrated is False or NULL in &lt;del&gt;ROOT&lt;/del&gt;) to support HRI with out HTD, then&lt;br/&gt;
		HMaster at startup (before assigning ROOT and META) does 1-3 else jumps to 4.&lt;br/&gt;
		1. Creates new .tableInfo files for all tables in the system (based on &lt;del&gt;ROOT&lt;/del&gt; and .META. scan)&lt;br/&gt;
		2. Updates existing META.HRI (with HTD) with the new version of HRI (with out HTD).&lt;br/&gt;
		3. Sets a flag in &lt;del&gt;ROOT&lt;/del&gt; (metamigrated) to record this process and to avoid duplicate processing.&lt;br/&gt;
		4. Continue with regular startup.&lt;br/&gt;
9. Appropriate changes to source and test files to work with new HRI structure with out HTD.		&lt;/p&gt;
</comment>
                            <comment id="13042874" author="yuzhihong@gmail.com" created="Thu, 2 Jun 2011 16:54:41 +0000"  >&lt;p&gt;This is the patch which applies to trunk.&lt;/p&gt;

&lt;p&gt;Subbu:&lt;br/&gt;
&lt;a href=&quot;https://reviews.apache.org/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.apache.org/&lt;/a&gt; should be used for this big change.&lt;/p&gt;</comment>
                            <comment id="13042955" author="iamknome" created="Thu, 2 Jun 2011 18:13:47 +0000"  >&lt;p&gt;Hi Ted,&lt;/p&gt;

&lt;p&gt;Could you please help me with posting a new review request?&lt;/p&gt;

&lt;p&gt;I am getting the following error when I try to upload my patch.&lt;br/&gt;
&quot;Unable to parse diff revision header &apos;(revision&lt;br/&gt;
a13cc6087b9b0d6924c32d100b612eedf01fd3c4)&apos;&quot;&lt;/p&gt;

&lt;p&gt;I am using Git for my version control. Do I need to do it through the RBTools?&lt;/p&gt;

&lt;p&gt;Please let me know.&lt;/p&gt;

&lt;p&gt;thanks&lt;br/&gt;
Subbu&lt;/p&gt;
</comment>
                            <comment id="13042961" author="yuzhihong@gmail.com" created="Thu, 2 Jun 2011 18:25:44 +0000"  >&lt;p&gt;I tried creating review myself with 451_support_for_removing_HTD_from_HRI_trunk.txt &lt;br/&gt;
I got:&lt;br/&gt;
The file &apos;/src/test/java/org/apache/hadoop/hbase/client/TestMetaMigration.java&apos; could not be found in the repository&lt;/p&gt;</comment>
                            <comment id="13042978" author="iamknome" created="Thu, 2 Jun 2011 18:48:47 +0000"  >&lt;p&gt;Yes, because its a new addition. This patch has added two new files.&lt;/p&gt;

&lt;p&gt;1. &apos;/src/test/java/org/apache/hadoop/hbase/client/TestMetaMigration.java&lt;br/&gt;
2. /src/java/org/apache/hadoop/hbase/HRegionInfoForMigration.java&lt;/p&gt;

&lt;p&gt;Please let me know how to address this.&lt;/p&gt;

&lt;p&gt;thanks&lt;br/&gt;
Subbu&lt;/p&gt;
</comment>
                            <comment id="13043039" author="jiraposter@reviews.apache.org" created="Thu, 2 Jun 2011 20:53:47 +0000"  >
&lt;p&gt;-----------------------------------------------------------&lt;br/&gt;
This is an automatically generated e-mail. To reply, visit:&lt;br/&gt;
&lt;a href=&quot;https://reviews.apache.org/r/849/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.apache.org/r/849/&lt;/a&gt;&lt;br/&gt;
-----------------------------------------------------------&lt;/p&gt;

&lt;p&gt;Review request for hbase.&lt;/p&gt;


&lt;p&gt;Summary&lt;br/&gt;
-------&lt;/p&gt;

&lt;p&gt;Posting for Subbu  See issue for his description of change.&lt;/p&gt;


&lt;p&gt;This addresses bug &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-451&quot; title=&quot;Remove HTableDescriptor from HRegionInfo&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-451&quot;&gt;&lt;del&gt;HBASE-451&lt;/del&gt;&lt;/a&gt;.&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-451&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/browse/HBASE-451&lt;/a&gt;&lt;/p&gt;


&lt;p&gt;Diffs&lt;/p&gt;
&lt;hr /&gt;

&lt;p&gt;  src/main/java/org/apache/hadoop/hbase/HConstants.java bd4c64c &lt;br/&gt;
  src/main/java/org/apache/hadoop/hbase/HRegionInfo.java 9502b1d &lt;br/&gt;
  src/main/java/org/apache/hadoop/hbase/HRegionInfoForMigration.java PRE-CREATION &lt;br/&gt;
  src/main/java/org/apache/hadoop/hbase/KeyValue.java 7033800 &lt;br/&gt;
  src/main/java/org/apache/hadoop/hbase/catalog/MetaEditor.java a25b0f0 &lt;br/&gt;
  src/main/java/org/apache/hadoop/hbase/catalog/MetaReader.java eb57197 &lt;br/&gt;
  src/main/java/org/apache/hadoop/hbase/client/HBaseAdmin.java 7594822 &lt;br/&gt;
  src/main/java/org/apache/hadoop/hbase/client/HConnection.java f722155 &lt;br/&gt;
  src/main/java/org/apache/hadoop/hbase/client/HConnectionManager.java 94ee1a0 &lt;br/&gt;
  src/main/java/org/apache/hadoop/hbase/client/HTable.java c82e1dd &lt;br/&gt;
  src/main/java/org/apache/hadoop/hbase/client/MetaScanner.java 2734f30 &lt;br/&gt;
  src/main/java/org/apache/hadoop/hbase/client/UnmodifyableHRegionInfo.java 23e7a6b &lt;br/&gt;
  src/main/java/org/apache/hadoop/hbase/io/HbaseObjectWritable.java d531b8d &lt;br/&gt;
  src/main/java/org/apache/hadoop/hbase/ipc/HMasterInterface.java 4704c39 &lt;br/&gt;
  src/main/java/org/apache/hadoop/hbase/master/AssignmentManager.java 38914a8 &lt;br/&gt;
  src/main/java/org/apache/hadoop/hbase/master/CatalogJanitor.java 5b4a4b7 &lt;br/&gt;
  src/main/java/org/apache/hadoop/hbase/master/HMaster.java b8489ac &lt;br/&gt;
  src/main/java/org/apache/hadoop/hbase/master/MasterFileSystem.java b22a3e4 &lt;br/&gt;
  src/main/java/org/apache/hadoop/hbase/master/handler/ClosedRegionHandler.java c98ed17 &lt;br/&gt;
  src/main/java/org/apache/hadoop/hbase/master/handler/DeleteTableHandler.java 5a8bb20 &lt;br/&gt;
  src/main/java/org/apache/hadoop/hbase/master/handler/ModifyTableHandler.java 6380520 &lt;br/&gt;
  src/main/java/org/apache/hadoop/hbase/master/handler/OpenedRegionHandler.java 3d16e47 &lt;br/&gt;
  src/main/java/org/apache/hadoop/hbase/master/handler/ServerShutdownHandler.java dace150 &lt;br/&gt;
  src/main/java/org/apache/hadoop/hbase/master/handler/TableAddFamilyHandler.java fcea483 &lt;br/&gt;
  src/main/java/org/apache/hadoop/hbase/master/handler/TableDeleteFamilyHandler.java a963c6c &lt;br/&gt;
  src/main/java/org/apache/hadoop/hbase/master/handler/TableModifyFamilyHandler.java 4029893 &lt;br/&gt;
  src/main/java/org/apache/hadoop/hbase/regionserver/HRegion.java e5bd154 &lt;br/&gt;
  src/main/java/org/apache/hadoop/hbase/regionserver/LogRoller.java 9ccf248 &lt;br/&gt;
  src/main/java/org/apache/hadoop/hbase/regionserver/SplitTransaction.java 072fd8d &lt;br/&gt;
  src/main/java/org/apache/hadoop/hbase/regionserver/Store.java 21468ad &lt;br/&gt;
  src/main/java/org/apache/hadoop/hbase/regionserver/handler/OpenRegionHandler.java ba2daa9 &lt;br/&gt;
  src/main/java/org/apache/hadoop/hbase/regionserver/wal/HLog.java 0716788 &lt;br/&gt;
  src/main/java/org/apache/hadoop/hbase/regionserver/wal/WALObserver.java 3def4b6 &lt;br/&gt;
  src/main/java/org/apache/hadoop/hbase/replication/regionserver/Replication.java 1a87947 &lt;br/&gt;
  src/main/java/org/apache/hadoop/hbase/util/FSUtils.java 3409108 &lt;br/&gt;
  src/main/java/org/apache/hadoop/hbase/util/HBaseFsck.java 39591a0 &lt;br/&gt;
  src/main/java/org/apache/hadoop/hbase/util/HMerge.java c07f8dc &lt;br/&gt;
  src/main/java/org/apache/hadoop/hbase/util/MetaUtils.java 540d7df &lt;br/&gt;
  src/main/java/org/apache/hadoop/hbase/util/RegionSplitter.java 6d0c803 &lt;br/&gt;
  src/main/java/org/apache/hadoop/hbase/util/Writables.java 3e60f97 &lt;br/&gt;
  src/test/java/org/apache/hadoop/hbase/HBaseTestCase.java 4c58791 &lt;br/&gt;
  src/test/java/org/apache/hadoop/hbase/HBaseTestingUtility.java babd788 &lt;br/&gt;
  src/test/java/org/apache/hadoop/hbase/TestCompare.java bbac815 &lt;br/&gt;
  src/test/java/org/apache/hadoop/hbase/TestScanMultipleVersions.java 1f51703 &lt;br/&gt;
  src/test/java/org/apache/hadoop/hbase/TestSerialization.java 05f0efc &lt;br/&gt;
  src/test/java/org/apache/hadoop/hbase/TimestampTestBase.java 1105509 &lt;br/&gt;
  src/test/java/org/apache/hadoop/hbase/client/TestFromClientSide.java c3b23fe &lt;br/&gt;
  src/test/java/org/apache/hadoop/hbase/client/TestMetaMigration.java PRE-CREATION &lt;br/&gt;
  src/test/java/org/apache/hadoop/hbase/client/TestTimestamp.java db42192 &lt;br/&gt;
  src/test/java/org/apache/hadoop/hbase/coprocessor/TestCoprocessorInterface.java f0418d1 &lt;br/&gt;
  src/test/java/org/apache/hadoop/hbase/coprocessor/TestRegionObserverInterface.java 46ba184 &lt;br/&gt;
  src/test/java/org/apache/hadoop/hbase/coprocessor/TestRegionObserverStacking.java 18380c6 &lt;br/&gt;
  src/test/java/org/apache/hadoop/hbase/coprocessor/TestWALObserver.java 19397fb &lt;br/&gt;
  src/test/java/org/apache/hadoop/hbase/filter/TestColumnPrefixFilter.java e1eb02a &lt;br/&gt;
  src/test/java/org/apache/hadoop/hbase/filter/TestDependentColumnFilter.java 04705c3 &lt;br/&gt;
  src/test/java/org/apache/hadoop/hbase/filter/TestFilter.java bfa3c72 &lt;br/&gt;
  src/test/java/org/apache/hadoop/hbase/master/TestCatalogJanitor.java ada2af6 &lt;br/&gt;
  src/test/java/org/apache/hadoop/hbase/master/TestDistributedLogSplitting.java ba87bc0 &lt;br/&gt;
  src/test/java/org/apache/hadoop/hbase/master/TestLoadBalancer.java d909997 &lt;br/&gt;
  src/test/java/org/apache/hadoop/hbase/master/TestMasterFailover.java 2022767 &lt;br/&gt;
  src/test/java/org/apache/hadoop/hbase/master/TestMasterStatusServlet.java 1fef788 &lt;br/&gt;
  src/test/java/org/apache/hadoop/hbase/regionserver/TestColumnSeeking.java e2f4507 &lt;br/&gt;
  src/test/java/org/apache/hadoop/hbase/regionserver/TestCompactSelection.java 48fa162 &lt;br/&gt;
  src/test/java/org/apache/hadoop/hbase/regionserver/TestGetClosestAtOrBefore.java 3b7c7e8 &lt;br/&gt;
  src/test/java/org/apache/hadoop/hbase/regionserver/TestHRegion.java e106b45 &lt;br/&gt;
  src/test/java/org/apache/hadoop/hbase/regionserver/TestHRegionInfo.java 516139b &lt;br/&gt;
  src/test/java/org/apache/hadoop/hbase/regionserver/TestRSStatusServlet.java 40d352e &lt;br/&gt;
  src/test/java/org/apache/hadoop/hbase/regionserver/TestResettingCounters.java f092371 &lt;br/&gt;
  src/test/java/org/apache/hadoop/hbase/regionserver/TestScanner.java ef8a4b2 &lt;br/&gt;
  src/test/java/org/apache/hadoop/hbase/regionserver/TestSplitTransaction.java b85b912 &lt;br/&gt;
  src/test/java/org/apache/hadoop/hbase/regionserver/TestStore.java dbe5fb1 &lt;br/&gt;
  src/test/java/org/apache/hadoop/hbase/regionserver/TestWideScanner.java 2cc197f &lt;br/&gt;
  src/test/java/org/apache/hadoop/hbase/regionserver/handler/TestOpenRegionHandler.java bcf9024 &lt;br/&gt;
  src/test/java/org/apache/hadoop/hbase/regionserver/wal/TestHLog.java e2c158a &lt;br/&gt;
  src/test/java/org/apache/hadoop/hbase/regionserver/wal/TestWALObserver.java 5b95154 &lt;br/&gt;
  src/test/java/org/apache/hadoop/hbase/regionserver/wal/TestWALReplay.java 4de5b95 &lt;br/&gt;
  src/test/java/org/apache/hadoop/hbase/replication/regionserver/TestReplicationSourceManager.java 3f9302a &lt;br/&gt;
  src/test/java/org/apache/hadoop/hbase/rest/model/TestTableRegionModel.java c02dfda &lt;br/&gt;
  src/test/java/org/apache/hadoop/hbase/util/TestHBaseFsck.java a6bdbe0 &lt;br/&gt;
  src/test/java/org/apache/hadoop/hbase/util/TestMergeTable.java 3039df2 &lt;br/&gt;
  src/test/java/org/apache/hadoop/hbase/util/TestMergeTool.java 18cd055 &lt;/p&gt;

&lt;p&gt;Diff: &lt;a href=&quot;https://reviews.apache.org/r/849/diff&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.apache.org/r/849/diff&lt;/a&gt;&lt;/p&gt;


&lt;p&gt;Testing&lt;br/&gt;
-------&lt;/p&gt;


&lt;p&gt;Thanks,&lt;/p&gt;

&lt;p&gt;Michael&lt;/p&gt;
</comment>
                            <comment id="13043040" author="stack" created="Thu, 2 Jun 2011 20:54:09 +0000"  >&lt;p&gt;I mucked around and got it posted by applying to my own git repo then made new &apos;plain&apos; git patch.  That uploaded to hbase.git on reviews.apache.org.  My guess is that its dumb and explains output of git diff at top-level of hbase checkout.&lt;/p&gt;</comment>
                            <comment id="13043109" author="iamknome" created="Thu, 2 Jun 2011 22:35:47 +0000"  >&lt;p&gt;Thanks Stack for your help. I wouldn&apos;t have gotten through this blocker myself.&lt;/p&gt;

&lt;p&gt;thanks again.&lt;/p&gt;
</comment>
                            <comment id="13043122" author="jiraposter@reviews.apache.org" created="Thu, 2 Jun 2011 23:07:47 +0000"  >
&lt;p&gt;-----------------------------------------------------------&lt;br/&gt;
This is an automatically generated e-mail. To reply, visit:&lt;br/&gt;
&lt;a href=&quot;https://reviews.apache.org/r/849/#review749&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.apache.org/r/849/#review749&lt;/a&gt;&lt;br/&gt;
-----------------------------------------------------------&lt;/p&gt;


&lt;p&gt;This looks excellent.  Lets get it committed before it rots.   Do we still need .regioninfo after this goes in?&lt;/p&gt;


&lt;p&gt;src/main/java/org/apache/hadoop/hbase/HConstants.java&lt;br/&gt;
&amp;lt;&lt;a href=&quot;https://reviews.apache.org/r/849/#comment1541&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.apache.org/r/849/#comment1541&lt;/a&gt;&amp;gt;&lt;/p&gt;

&lt;p&gt;    Copy/paste error.&lt;/p&gt;



&lt;p&gt;src/main/java/org/apache/hadoop/hbase/HRegionInfo.java&lt;br/&gt;
&amp;lt;&lt;a href=&quot;https://reviews.apache.org/r/849/#comment1542&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.apache.org/r/849/#comment1542&lt;/a&gt;&amp;gt;&lt;/p&gt;

&lt;p&gt;    WhooHoo... this is starting out good!&lt;/p&gt;

&lt;p&gt;    I think you should take the opportunity of changing HRI to be a VersionedWritable.&lt;/p&gt;



&lt;p&gt;src/main/java/org/apache/hadoop/hbase/HRegionInfo.java&lt;br/&gt;
&amp;lt;&lt;a href=&quot;https://reviews.apache.org/r/849/#comment1543&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.apache.org/r/849/#comment1543&lt;/a&gt;&amp;gt;&lt;/p&gt;

&lt;p&gt;    Excellent! (HRI not having ref to HTD)&lt;/p&gt;



&lt;p&gt;src/main/java/org/apache/hadoop/hbase/HRegionInfo.java&lt;br/&gt;
&amp;lt;&lt;a href=&quot;https://reviews.apache.org/r/849/#comment1544&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.apache.org/r/849/#comment1544&lt;/a&gt;&amp;gt;&lt;/p&gt;

&lt;p&gt;    This works?  Thats interesting.&lt;/p&gt;



&lt;p&gt;src/main/java/org/apache/hadoop/hbase/HRegionInfo.java&lt;br/&gt;
&amp;lt;&lt;a href=&quot;https://reviews.apache.org/r/849/#comment1545&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.apache.org/r/849/#comment1545&lt;/a&gt;&amp;gt;&lt;/p&gt;

&lt;p&gt;    When would this be used?&lt;/p&gt;



&lt;p&gt;src/main/java/org/apache/hadoop/hbase/HRegionInfo.java&lt;br/&gt;
&amp;lt;&lt;a href=&quot;https://reviews.apache.org/r/849/#comment1546&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.apache.org/r/849/#comment1546&lt;/a&gt;&amp;gt;&lt;/p&gt;

&lt;p&gt;    This should not be allowed?  Are you not going to mess up stuff if table gets changed on an HRI?&lt;/p&gt;



&lt;p&gt;src/main/java/org/apache/hadoop/hbase/HRegionInfo.java&lt;br/&gt;
&amp;lt;&lt;a href=&quot;https://reviews.apache.org/r/849/#comment1547&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.apache.org/r/849/#comment1547&lt;/a&gt;&amp;gt;&lt;/p&gt;

&lt;p&gt;    Should these be deprecated rather than removed?  Even if we returned a null only?&lt;/p&gt;



&lt;p&gt;src/main/java/org/apache/hadoop/hbase/HRegionInfo.java&lt;br/&gt;
&amp;lt;&lt;a href=&quot;https://reviews.apache.org/r/849/#comment1548&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.apache.org/r/849/#comment1548&lt;/a&gt;&amp;gt;&lt;/p&gt;

&lt;p&gt;    This is perverse, begin able to change the HTD under an HRI.  Can&apos;t believe this actually was allowed exist.&lt;/p&gt;



&lt;p&gt;src/main/java/org/apache/hadoop/hbase/HRegionInfo.java&lt;br/&gt;
&amp;lt;&lt;a href=&quot;https://reviews.apache.org/r/849/#comment1549&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.apache.org/r/849/#comment1549&lt;/a&gt;&amp;gt;&lt;/p&gt;

&lt;p&gt;    You could just do an equals since its boolean... Bytes.equals...&lt;/p&gt;



&lt;p&gt;src/main/java/org/apache/hadoop/hbase/HRegionInfo.java&lt;br/&gt;
&amp;lt;&lt;a href=&quot;https://reviews.apache.org/r/849/#comment1550&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.apache.org/r/849/#comment1550&lt;/a&gt;&amp;gt;&lt;/p&gt;

&lt;p&gt;    ditto&lt;/p&gt;



&lt;p&gt;src/main/java/org/apache/hadoop/hbase/HRegionInfo.java&lt;br/&gt;
&amp;lt;&lt;a href=&quot;https://reviews.apache.org/r/849/#comment1551&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.apache.org/r/849/#comment1551&lt;/a&gt;&amp;gt;&lt;/p&gt;

&lt;p&gt;    This is incorrect.  Should be isMetaTable() or isRootRegion... a &apos;meta&apos; region is a .META. or &lt;del&gt;ROOT&lt;/del&gt; member.&lt;/p&gt;



&lt;p&gt;src/main/java/org/apache/hadoop/hbase/HRegionInfoForMigration.java&lt;br/&gt;
&amp;lt;&lt;a href=&quot;https://reviews.apache.org/r/849/#comment1552&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.apache.org/r/849/#comment1552&lt;/a&gt;&amp;gt;&lt;/p&gt;

&lt;p&gt;    Put this into a migration subpackage?&lt;/p&gt;



&lt;p&gt;src/main/java/org/apache/hadoop/hbase/HRegionInfoForMigration.java&lt;br/&gt;
&amp;lt;&lt;a href=&quot;https://reviews.apache.org/r/849/#comment1554&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.apache.org/r/849/#comment1554&lt;/a&gt;&amp;gt;&lt;/p&gt;

&lt;p&gt;    Oh, so what is this?  Its old-school HRI?  If so, call it HRI090?  Or if you have it in a subpackage  migration, it can have same name and just be fully specified whereever it is used.. the migration subpackage will make it explicity taht this is not same as new HRI.&lt;/p&gt;



&lt;p&gt;src/main/java/org/apache/hadoop/hbase/HRegionInfoForMigration.java&lt;br/&gt;
&amp;lt;&lt;a href=&quot;https://reviews.apache.org/r/849/#comment1553&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.apache.org/r/849/#comment1553&lt;/a&gt;&amp;gt;&lt;/p&gt;

&lt;p&gt;    This is from elsewhere?  Does it belong here?&lt;/p&gt;



&lt;p&gt;src/main/java/org/apache/hadoop/hbase/KeyValue.java&lt;br/&gt;
&amp;lt;&lt;a href=&quot;https://reviews.apache.org/r/849/#comment1555&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.apache.org/r/849/#comment1555&lt;/a&gt;&amp;gt;&lt;/p&gt;

&lt;p&gt;    I don&apos;t think we should do this by default.  What if KV has a value of MBs?&lt;/p&gt;



&lt;p&gt;src/main/java/org/apache/hadoop/hbase/catalog/MetaEditor.java&lt;br/&gt;
&amp;lt;&lt;a href=&quot;https://reviews.apache.org/r/849/#comment1557&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.apache.org/r/849/#comment1557&lt;/a&gt;&amp;gt;&lt;/p&gt;

&lt;p&gt;    What if we crash half-way through migration?  We should be able to deal w/ a .META. that is half the old style HRI and half the new style?&lt;/p&gt;



&lt;p&gt;src/main/java/org/apache/hadoop/hbase/catalog/MetaEditor.java&lt;br/&gt;
&amp;lt;&lt;a href=&quot;https://reviews.apache.org/r/849/#comment1556&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.apache.org/r/849/#comment1556&lt;/a&gt;&amp;gt;&lt;/p&gt;

&lt;p&gt;    You want to leave these in place?&lt;/p&gt;



&lt;p&gt;src/main/java/org/apache/hadoop/hbase/client/HConnectionManager.java&lt;br/&gt;
&amp;lt;&lt;a href=&quot;https://reviews.apache.org/r/849/#comment1558&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.apache.org/r/849/#comment1558&lt;/a&gt;&amp;gt;&lt;/p&gt;

&lt;p&gt;    What a crazy way of getting HTDs.&lt;/p&gt;



&lt;p&gt;src/main/java/org/apache/hadoop/hbase/ipc/HMasterInterface.java&lt;br/&gt;
&amp;lt;&lt;a href=&quot;https://reviews.apache.org/r/849/#comment1559&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.apache.org/r/849/#comment1559&lt;/a&gt;&amp;gt;&lt;/p&gt;

&lt;p&gt;    Do we need these last two? Can&apos;t we use this first method to get the latter?&lt;/p&gt;



&lt;p&gt;src/main/java/org/apache/hadoop/hbase/master/AssignmentManager.java&lt;br/&gt;
&amp;lt;&lt;a href=&quot;https://reviews.apache.org/r/849/#comment1560&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.apache.org/r/849/#comment1560&lt;/a&gt;&amp;gt;&lt;/p&gt;

&lt;p&gt;    Is this going to the FS to read tables?  And we&apos;re holding sync while we are doing it?  Is that necessary?&lt;/p&gt;



&lt;p&gt;src/main/java/org/apache/hadoop/hbase/master/AssignmentManager.java&lt;br/&gt;
&amp;lt;&lt;a href=&quot;https://reviews.apache.org/r/849/#comment1561&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.apache.org/r/849/#comment1561&lt;/a&gt;&amp;gt;&lt;/p&gt;

&lt;p&gt;    This method belongs in master since its going to run the migration?&lt;/p&gt;



&lt;p&gt;src/main/java/org/apache/hadoop/hbase/master/MasterFileSystem.java&lt;br/&gt;
&amp;lt;&lt;a href=&quot;https://reviews.apache.org/r/849/#comment1562&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.apache.org/r/849/#comment1562&lt;/a&gt;&amp;gt;&lt;/p&gt;

&lt;p&gt;    Close the file?&lt;/p&gt;



&lt;p&gt;src/main/java/org/apache/hadoop/hbase/master/MasterFileSystem.java&lt;br/&gt;
&amp;lt;&lt;a href=&quot;https://reviews.apache.org/r/849/#comment1563&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.apache.org/r/849/#comment1563&lt;/a&gt;&amp;gt;&lt;/p&gt;

&lt;p&gt;    Good.  The human readable version is included.&lt;/p&gt;



&lt;p&gt;src/main/java/org/apache/hadoop/hbase/master/MasterFileSystem.java&lt;br/&gt;
&amp;lt;&lt;a href=&quot;https://reviews.apache.org/r/849/#comment1564&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.apache.org/r/849/#comment1564&lt;/a&gt;&amp;gt;&lt;/p&gt;

&lt;p&gt;    I wonder if you have to create the file elsewhere and then do a rename to put it in place?  Else if crash, could be half-written?  Do we do this w/ .regioninfo?&lt;/p&gt;


&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;Michael&lt;/li&gt;
&lt;/ul&gt;



&lt;p&gt;On 2011-06-02 20:52:15, Michael Stack wrote:&lt;/p&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;-----------------------------------------------------------&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;This is an automatically generated e-mail. To reply, visit:&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;a href=&quot;https://reviews.apache.org/r/849/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.apache.org/r/849/&lt;/a&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;-----------------------------------------------------------&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;(Updated 2011-06-02 20:52:15)&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;Review request for hbase.&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;Summary&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;-------&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;Posting for Subbu  See issue for his description of change.&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;This addresses bug &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-451&quot; title=&quot;Remove HTableDescriptor from HRegionInfo&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-451&quot;&gt;&lt;del&gt;HBASE-451&lt;/del&gt;&lt;/a&gt;.&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-451&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/browse/HBASE-451&lt;/a&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;Diffs&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;-----&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;src/main/java/org/apache/hadoop/hbase/HConstants.java bd4c64c &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;src/main/java/org/apache/hadoop/hbase/HRegionInfo.java 9502b1d &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;src/main/java/org/apache/hadoop/hbase/HRegionInfoForMigration.java PRE-CREATION &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;src/main/java/org/apache/hadoop/hbase/KeyValue.java 7033800 &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;src/main/java/org/apache/hadoop/hbase/catalog/MetaEditor.java a25b0f0 &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;src/main/java/org/apache/hadoop/hbase/catalog/MetaReader.java eb57197 &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;src/main/java/org/apache/hadoop/hbase/client/HBaseAdmin.java 7594822 &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;src/main/java/org/apache/hadoop/hbase/client/HConnection.java f722155 &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;src/main/java/org/apache/hadoop/hbase/client/HConnectionManager.java 94ee1a0 &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;src/main/java/org/apache/hadoop/hbase/client/HTable.java c82e1dd &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;src/main/java/org/apache/hadoop/hbase/client/MetaScanner.java 2734f30 &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;src/main/java/org/apache/hadoop/hbase/client/UnmodifyableHRegionInfo.java 23e7a6b &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;src/main/java/org/apache/hadoop/hbase/io/HbaseObjectWritable.java d531b8d &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;src/main/java/org/apache/hadoop/hbase/ipc/HMasterInterface.java 4704c39 &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;src/main/java/org/apache/hadoop/hbase/master/AssignmentManager.java 38914a8 &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;src/main/java/org/apache/hadoop/hbase/master/CatalogJanitor.java 5b4a4b7 &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;src/main/java/org/apache/hadoop/hbase/master/HMaster.java b8489ac &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;src/main/java/org/apache/hadoop/hbase/master/MasterFileSystem.java b22a3e4 &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;src/main/java/org/apache/hadoop/hbase/master/handler/ClosedRegionHandler.java c98ed17 &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;src/main/java/org/apache/hadoop/hbase/master/handler/DeleteTableHandler.java 5a8bb20 &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;src/main/java/org/apache/hadoop/hbase/master/handler/ModifyTableHandler.java 6380520 &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;src/main/java/org/apache/hadoop/hbase/master/handler/OpenedRegionHandler.java 3d16e47 &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;src/main/java/org/apache/hadoop/hbase/master/handler/ServerShutdownHandler.java dace150 &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;src/main/java/org/apache/hadoop/hbase/master/handler/TableAddFamilyHandler.java fcea483 &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;src/main/java/org/apache/hadoop/hbase/master/handler/TableDeleteFamilyHandler.java a963c6c &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;src/main/java/org/apache/hadoop/hbase/master/handler/TableModifyFamilyHandler.java 4029893 &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;src/main/java/org/apache/hadoop/hbase/regionserver/HRegion.java e5bd154 &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;src/main/java/org/apache/hadoop/hbase/regionserver/LogRoller.java 9ccf248 &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;src/main/java/org/apache/hadoop/hbase/regionserver/SplitTransaction.java 072fd8d &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;src/main/java/org/apache/hadoop/hbase/regionserver/Store.java 21468ad &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;src/main/java/org/apache/hadoop/hbase/regionserver/handler/OpenRegionHandler.java ba2daa9 &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;src/main/java/org/apache/hadoop/hbase/regionserver/wal/HLog.java 0716788 &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;src/main/java/org/apache/hadoop/hbase/regionserver/wal/WALObserver.java 3def4b6 &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;src/main/java/org/apache/hadoop/hbase/replication/regionserver/Replication.java 1a87947 &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;src/main/java/org/apache/hadoop/hbase/util/FSUtils.java 3409108 &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;src/main/java/org/apache/hadoop/hbase/util/HBaseFsck.java 39591a0 &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;src/main/java/org/apache/hadoop/hbase/util/HMerge.java c07f8dc &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;src/main/java/org/apache/hadoop/hbase/util/MetaUtils.java 540d7df &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;src/main/java/org/apache/hadoop/hbase/util/RegionSplitter.java 6d0c803 &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;src/main/java/org/apache/hadoop/hbase/util/Writables.java 3e60f97 &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;src/test/java/org/apache/hadoop/hbase/HBaseTestCase.java 4c58791 &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;src/test/java/org/apache/hadoop/hbase/HBaseTestingUtility.java babd788 &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;src/test/java/org/apache/hadoop/hbase/TestCompare.java bbac815 &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;src/test/java/org/apache/hadoop/hbase/TestScanMultipleVersions.java 1f51703 &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;src/test/java/org/apache/hadoop/hbase/TestSerialization.java 05f0efc &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;src/test/java/org/apache/hadoop/hbase/TimestampTestBase.java 1105509 &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;src/test/java/org/apache/hadoop/hbase/client/TestFromClientSide.java c3b23fe &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;src/test/java/org/apache/hadoop/hbase/client/TestMetaMigration.java PRE-CREATION &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;src/test/java/org/apache/hadoop/hbase/client/TestTimestamp.java db42192 &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;src/test/java/org/apache/hadoop/hbase/coprocessor/TestCoprocessorInterface.java f0418d1 &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;src/test/java/org/apache/hadoop/hbase/coprocessor/TestRegionObserverInterface.java 46ba184 &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;src/test/java/org/apache/hadoop/hbase/coprocessor/TestRegionObserverStacking.java 18380c6 &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;src/test/java/org/apache/hadoop/hbase/coprocessor/TestWALObserver.java 19397fb &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;src/test/java/org/apache/hadoop/hbase/filter/TestColumnPrefixFilter.java e1eb02a &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;src/test/java/org/apache/hadoop/hbase/filter/TestDependentColumnFilter.java 04705c3 &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;src/test/java/org/apache/hadoop/hbase/filter/TestFilter.java bfa3c72 &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;src/test/java/org/apache/hadoop/hbase/master/TestCatalogJanitor.java ada2af6 &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;src/test/java/org/apache/hadoop/hbase/master/TestDistributedLogSplitting.java ba87bc0 &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;src/test/java/org/apache/hadoop/hbase/master/TestLoadBalancer.java d909997 &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;src/test/java/org/apache/hadoop/hbase/master/TestMasterFailover.java 2022767 &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;src/test/java/org/apache/hadoop/hbase/master/TestMasterStatusServlet.java 1fef788 &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;src/test/java/org/apache/hadoop/hbase/regionserver/TestColumnSeeking.java e2f4507 &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;src/test/java/org/apache/hadoop/hbase/regionserver/TestCompactSelection.java 48fa162 &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;src/test/java/org/apache/hadoop/hbase/regionserver/TestGetClosestAtOrBefore.java 3b7c7e8 &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;src/test/java/org/apache/hadoop/hbase/regionserver/TestHRegion.java e106b45 &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;src/test/java/org/apache/hadoop/hbase/regionserver/TestHRegionInfo.java 516139b &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;src/test/java/org/apache/hadoop/hbase/regionserver/TestRSStatusServlet.java 40d352e &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;src/test/java/org/apache/hadoop/hbase/regionserver/TestResettingCounters.java f092371 &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;src/test/java/org/apache/hadoop/hbase/regionserver/TestScanner.java ef8a4b2 &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;src/test/java/org/apache/hadoop/hbase/regionserver/TestSplitTransaction.java b85b912 &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;src/test/java/org/apache/hadoop/hbase/regionserver/TestStore.java dbe5fb1 &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;src/test/java/org/apache/hadoop/hbase/regionserver/TestWideScanner.java 2cc197f &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;src/test/java/org/apache/hadoop/hbase/regionserver/handler/TestOpenRegionHandler.java bcf9024 &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;src/test/java/org/apache/hadoop/hbase/regionserver/wal/TestHLog.java e2c158a &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;src/test/java/org/apache/hadoop/hbase/regionserver/wal/TestWALObserver.java 5b95154 &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;src/test/java/org/apache/hadoop/hbase/regionserver/wal/TestWALReplay.java 4de5b95 &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;src/test/java/org/apache/hadoop/hbase/replication/regionserver/TestReplicationSourceManager.java 3f9302a &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;src/test/java/org/apache/hadoop/hbase/rest/model/TestTableRegionModel.java c02dfda &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;src/test/java/org/apache/hadoop/hbase/util/TestHBaseFsck.java a6bdbe0 &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;src/test/java/org/apache/hadoop/hbase/util/TestMergeTable.java 3039df2 &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;src/test/java/org/apache/hadoop/hbase/util/TestMergeTool.java 18cd055 &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;Diff: &lt;a href=&quot;https://reviews.apache.org/r/849/diff&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.apache.org/r/849/diff&lt;/a&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;Testing&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;-------&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;Thanks,&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;Michael&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
</comment>
                            <comment id="13043217" author="yuzhihong@gmail.com" created="Fri, 3 Jun 2011 05:34:46 +0000"  >&lt;p&gt;I ran test suite for the patch.&lt;br/&gt;
There were a lot of failures.&lt;br/&gt;
Here is one sample:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
rg.apache.hadoop.hbase.master.TestZKBasedOpenCloseRegion  Time elapsed: 0 sec  &amp;lt;&amp;lt;&amp;lt; ERROR!
org.apache.hadoop.hbase.TableNotFoundException: TestZKBasedOpenCloseRegion
        at org.apache.hadoop.hbase.client.HConnectionManager$HConnectionImplementation.getHTableDescriptor(HConnectionManager.java:1752)
        at org.apache.hadoop.hbase.client.HTable.getTableDescriptor(HTable.java:348)
        at org.apache.hadoop.hbase.HBaseTestingUtility.createMultiRegions(HBaseTestingUtility.java:818)
        at org.apache.hadoop.hbase.HBaseTestingUtility.createMultiRegions(HBaseTestingUtility.java:786)
        at org.apache.hadoop.hbase.HBaseTestingUtility.createMultiRegions(HBaseTestingUtility.java:760)
        at org.apache.hadoop.hbase.master.TestZKBasedOpenCloseRegion.beforeAllTests(TestZKBasedOpenCloseRegion.java:72)
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</comment>
                            <comment id="13043345" author="iamknome" created="Fri, 3 Jun 2011 13:22:47 +0000"  >&lt;p&gt;Hi Ted,&lt;/p&gt;

&lt;p&gt;Let me take a look at it. For reference I have attached my test results as well. All tests were passing in my local.&lt;/p&gt;

&lt;p&gt;==================&lt;br/&gt;
/System/Library/Java/JavaVirtualMachines/1.6.0.jdk/Contents/Home/bin/java -Dclassworlds.conf=/work/maven/apache-maven-3.0.2/bin/m2.conf -Dmaven.home=/work/maven/apache-maven-3.0.2 -Dfile.encoding=MacRoman -classpath /work/maven/apache-maven-3.0.2/boot/plexus-classworlds-2.4.jar org.codehaus.classworlds.Launcher --no-plugin-registry --fail-fast --no-plugin-updates --strict-checksums --update-snapshots -f /work/HBase451/hbase/pom.xml test&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;WARNING&amp;#93;&lt;/span&gt; Command line option -npu is deprecated and will be removed in future Maven versions.&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;WARNING&amp;#93;&lt;/span&gt; Command line option -npr is deprecated and will be removed in future Maven versions.&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;INFO&amp;#93;&lt;/span&gt; Scanning for projects...&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;WARNING&amp;#93;&lt;/span&gt; &lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;WARNING&amp;#93;&lt;/span&gt; Some problems were encountered while building the effective model for org.apache.hbase:hbase:jar:0.91.0-SNAPSHOT&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;WARNING&amp;#93;&lt;/span&gt; &apos;build.plugins.plugin.version&apos; for org.apache.maven.plugins:maven-eclipse-plugin is missing. @ line 531, column 15&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;WARNING&amp;#93;&lt;/span&gt; &lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;WARNING&amp;#93;&lt;/span&gt; It is highly recommended to fix these problems because they threaten the stability of your build.&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;WARNING&amp;#93;&lt;/span&gt; &lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;WARNING&amp;#93;&lt;/span&gt; For this reason, future Maven versions might no longer support building such malformed projects.&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;WARNING&amp;#93;&lt;/span&gt; &lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;INFO&amp;#93;&lt;/span&gt;                                                                         &lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;INFO&amp;#93;&lt;/span&gt; ------------------------------------------------------------------------&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;INFO&amp;#93;&lt;/span&gt; Building HBase 0.91.0-SNAPSHOT&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;INFO&amp;#93;&lt;/span&gt; ------------------------------------------------------------------------&lt;br/&gt;
Downloading: &lt;a href=&quot;http://repo1.maven.org/maven2/org/apache/maven/plugins/maven-eclipse-plugin/maven-metadata.xml&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://repo1.maven.org/maven2/org/apache/maven/plugins/maven-eclipse-plugin/maven-metadata.xml&lt;/a&gt;&lt;br/&gt;
680 B   &lt;/p&gt;

&lt;p&gt;Downloaded: &lt;a href=&quot;http://repo1.maven.org/maven2/org/apache/maven/plugins/maven-eclipse-plugin/maven-metadata.xml&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://repo1.maven.org/maven2/org/apache/maven/plugins/maven-eclipse-plugin/maven-metadata.xml&lt;/a&gt; (680 B at 1.4 KB/sec)&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;INFO&amp;#93;&lt;/span&gt; &lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;INFO&amp;#93;&lt;/span&gt; &amp;#8212; maven-antrun-plugin:1.3:run (generate) @ hbase &amp;#8212;&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;INFO&amp;#93;&lt;/span&gt; Executing tasks&lt;br/&gt;
SLF4J: Failed to load class &quot;org.slf4j.impl.StaticLoggerBinder&quot;.&lt;br/&gt;
SLF4J: See &lt;a href=&quot;http://www.slf4j.org/codes.html#StaticLoggerBinder&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://www.slf4j.org/codes.html#StaticLoggerBinder&lt;/a&gt; for further details.&lt;br/&gt;
2011-05-31 18:57:10.472:INFO::Logging to STDERR via org.mortbay.log.StdErrLog&lt;br/&gt;
     &lt;span class=&quot;error&quot;&gt;&amp;#91;exec&amp;#93;&lt;/span&gt; /work/HBase451/hbase/src/saveVersion.sh: line 32: git: command not found&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;INFO&amp;#93;&lt;/span&gt; Executed tasks&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;INFO&amp;#93;&lt;/span&gt; &lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;INFO&amp;#93;&lt;/span&gt; &amp;#8212; build-helper-maven-plugin:1.5:add-source (add-jspc-source) @ hbase &amp;#8212;&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;INFO&amp;#93;&lt;/span&gt; Source directory: /work/HBase451/hbase/target/jspc added.&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;INFO&amp;#93;&lt;/span&gt; &lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;INFO&amp;#93;&lt;/span&gt; &amp;#8212; build-helper-maven-plugin:1.5:add-source (add-package-info) @ hbase &amp;#8212;&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;INFO&amp;#93;&lt;/span&gt; Source directory: /work/HBase451/hbase/target/generated-sources added.&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;INFO&amp;#93;&lt;/span&gt; &lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;INFO&amp;#93;&lt;/span&gt; &amp;#8212; jamon-maven-plugin:2.3.4:translate (default) @ hbase &amp;#8212;&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;INFO&amp;#93;&lt;/span&gt; &lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;INFO&amp;#93;&lt;/span&gt; &amp;#8212; maven-remote-resources-plugin:1.1:process (default) @ hbase &amp;#8212;&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;INFO&amp;#93;&lt;/span&gt; Setting property: classpath.resource.loader.class =&amp;gt; &apos;org.codehaus.plexus.velocity.ContextClassLoaderResourceLoader&apos;.&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;INFO&amp;#93;&lt;/span&gt; Setting property: velocimacro.messages.on =&amp;gt; &apos;false&apos;.&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;INFO&amp;#93;&lt;/span&gt; Setting property: resource.loader =&amp;gt; &apos;classpath&apos;.&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;INFO&amp;#93;&lt;/span&gt; Setting property: resource.manager.logwhenfound =&amp;gt; &apos;false&apos;.&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;INFO&amp;#93;&lt;/span&gt; &lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;INFO&amp;#93;&lt;/span&gt; &amp;#8212; maven-resources-plugin:2.4:resources (default-resources) @ hbase &amp;#8212;&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;INFO&amp;#93;&lt;/span&gt; Using &apos;UTF-8&apos; encoding to copy filtered resources.&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;INFO&amp;#93;&lt;/span&gt; Copying 1 resource&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;INFO&amp;#93;&lt;/span&gt; Copying 6 resources&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;INFO&amp;#93;&lt;/span&gt; Copying 3 resources&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;INFO&amp;#93;&lt;/span&gt; &lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;INFO&amp;#93;&lt;/span&gt; &amp;#8212; maven-antrun-plugin:1.3:run (default) @ hbase &amp;#8212;&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;INFO&amp;#93;&lt;/span&gt; Executing tasks&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;INFO&amp;#93;&lt;/span&gt; Executed tasks&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;INFO&amp;#93;&lt;/span&gt; &lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;INFO&amp;#93;&lt;/span&gt; &amp;#8212; maven-compiler-plugin:2.0.2:compile (default-compile) @ hbase &amp;#8212;&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;INFO&amp;#93;&lt;/span&gt; Compiling 8 source files to /work/HBase451/hbase/target/classes&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;INFO&amp;#93;&lt;/span&gt; &lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;INFO&amp;#93;&lt;/span&gt; &amp;#8212; maven-resources-plugin:2.4:testResources (default-testResources) @ hbase &amp;#8212;&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;INFO&amp;#93;&lt;/span&gt; Using &apos;UTF-8&apos; encoding to copy filtered resources.&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;INFO&amp;#93;&lt;/span&gt; Copying 4 resources&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;INFO&amp;#93;&lt;/span&gt; Copying 3 resources&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;INFO&amp;#93;&lt;/span&gt; &lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;INFO&amp;#93;&lt;/span&gt; &amp;#8212; maven-compiler-plugin:2.0.2:testCompile (default-testCompile) @ hbase &amp;#8212;&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;INFO&amp;#93;&lt;/span&gt; Nothing to compile - all classes are up to date&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;INFO&amp;#93;&lt;/span&gt; &lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;INFO&amp;#93;&lt;/span&gt; &amp;#8212; maven-surefire-plugin:2.4.3:test (default-test) @ hbase &amp;#8212;&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;INFO&amp;#93;&lt;/span&gt; Surefire report directory: /work/HBase451/hbase/target/surefire-reports&lt;br/&gt;
2011-05-31 18:57:18,255 INFO  &lt;span class=&quot;error&quot;&gt;&amp;#91;main&amp;#93;&lt;/span&gt; hbase.HRegionInfo(260): ******* New HRegionInfo testscanner region id = 1306893438255&lt;/p&gt;

&lt;p&gt;-------------------------------------------------------&lt;br/&gt;
 T E S T S&lt;br/&gt;
-------------------------------------------------------&lt;br/&gt;
Running org.apache.hadoop.hbase.master.TestHMasterRPCException&lt;br/&gt;
Tests run: 1, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.726 sec&lt;br/&gt;
Running org.apache.hadoop.hbase.regionserver.TestColumnSeeking&lt;br/&gt;
Tests run: 2, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 31.908 sec&lt;br/&gt;
Running org.apache.hadoop.hbase.client.TestMultipleTimestamps&lt;br/&gt;
Tests run: 8, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 56.488 sec&lt;br/&gt;
Running org.apache.hadoop.hbase.regionserver.TestMemStoreLAB&lt;br/&gt;
Tests run: 3, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 2.068 sec&lt;br/&gt;
Running org.apache.hadoop.hbase.coprocessor.TestRegionObserverInterface&lt;br/&gt;
Tests run: 4, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 28.715 sec&lt;br/&gt;
Running org.apache.hadoop.hbase.coprocessor.TestCoprocessorInterface&lt;br/&gt;
Tests run: 1, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 7.508 sec&lt;br/&gt;
Running org.apache.hadoop.hbase.TestZooKeeper&lt;br/&gt;
Tests run: 7, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 84.267 sec&lt;br/&gt;
Running org.apache.hadoop.hbase.regionserver.wal.TestLogRolling&lt;br/&gt;
Tests run: 2, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 115.148 sec&lt;br/&gt;
Running org.apache.hadoop.hbase.io.hfile.TestCachedBlockQueue&lt;br/&gt;
Tests run: 2, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.159 sec&lt;br/&gt;
Running org.apache.hadoop.hbase.filter.TestPrefixFilter&lt;br/&gt;
Tests run: 3, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.069 sec&lt;br/&gt;
Running org.apache.hadoop.hbase.io.TestHeapSize&lt;br/&gt;
Tests run: 2, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.084 sec&lt;br/&gt;
Running org.apache.hadoop.hbase.io.TestImmutableBytesWritable&lt;br/&gt;
Tests run: 3, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.067 sec&lt;br/&gt;
Running org.apache.hadoop.hbase.rest.model.TestRowModel&lt;br/&gt;
Tests run: 2, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.203 sec&lt;br/&gt;
Running org.apache.hadoop.hbase.io.hfile.TestHFileSeek&lt;br/&gt;
Tests run: 1, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 7.886 sec&lt;br/&gt;
Running org.apache.hadoop.hbase.regionserver.TestStore&lt;br/&gt;
Tests run: 11, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 3.659 sec&lt;br/&gt;
Running org.apache.hadoop.hbase.zookeeper.TestHQuorumPeer&lt;br/&gt;
Tests run: 3, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 2.995 sec&lt;br/&gt;
Running org.apache.hadoop.hbase.regionserver.TestSplitTransactionOnCluster&lt;br/&gt;
Tests run: 5, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 45.397 sec&lt;br/&gt;
Running org.apache.hadoop.hbase.rest.TestScannersWithFilters&lt;br/&gt;
Tests run: 10, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 21.018 sec&lt;br/&gt;
Running org.apache.hadoop.hbase.io.hfile.TestHFilePerformance&lt;br/&gt;
Tests run: 1, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 47.311 sec&lt;br/&gt;
Running org.apache.hadoop.hbase.io.TestHbaseObjectWritable&lt;br/&gt;
Tests run: 3, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.139 sec&lt;br/&gt;
Running org.apache.hadoop.hbase.regionserver.handler.TestOpenRegionHandler&lt;br/&gt;
Tests run: 1, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.781 sec&lt;br/&gt;
Running org.apache.hadoop.hbase.regionserver.TestResettingCounters&lt;br/&gt;
Tests run: 1, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.627 sec&lt;br/&gt;
Running org.apache.hadoop.hbase.regionserver.wal.TestHLogSplit&lt;br/&gt;
Tests run: 27, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 202.441 sec&lt;br/&gt;
Running org.apache.hadoop.hbase.thrift.TestThriftServer&lt;br/&gt;
Tests run: 1, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 35.041 sec&lt;br/&gt;
Running org.apache.hadoop.hbase.TestHServerInfo&lt;br/&gt;
Tests run: 6, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.1 sec&lt;br/&gt;
Running org.apache.hadoop.hbase.master.TestDistributedLogSplitting&lt;br/&gt;
Tests run: 4, Failures: 0, Errors: 3, Skipped: 0, Time elapsed: 130.844 sec &amp;lt;&amp;lt;&amp;lt; FAILURE!&lt;br/&gt;
Running org.apache.hadoop.hbase.filter.TestColumnPrefixFilter&lt;br/&gt;
Tests run: 2, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 2.959 sec&lt;br/&gt;
Running org.apache.hadoop.hbase.regionserver.TestRpcMetrics&lt;br/&gt;
Tests run: 1, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 1.438 sec&lt;br/&gt;
Running org.apache.hadoop.hbase.master.TestZKBasedOpenCloseRegion&lt;br/&gt;
Tests run: 3, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 22.073 sec&lt;br/&gt;
Running org.apache.hadoop.hbase.regionserver.TestServerCustomProtocol&lt;br/&gt;
Tests run: 6, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 23.396 sec&lt;br/&gt;
Running org.apache.hadoop.hbase.util.TestEnvironmentEdgeManager&lt;br/&gt;
Tests run: 2, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.22 sec&lt;br/&gt;
Running org.apache.hadoop.hbase.TestCompare&lt;br/&gt;
Tests run: 1, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.077 sec&lt;br/&gt;
Running org.apache.hadoop.hbase.regionserver.TestExplicitColumnTracker&lt;br/&gt;
Tests run: 4, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.54 sec&lt;br/&gt;
Running org.apache.hadoop.hbase.util.TestDefaultEnvironmentEdge&lt;br/&gt;
Tests run: 1, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.055 sec&lt;br/&gt;
Running org.apache.hadoop.hbase.io.TestHalfStoreFileReader&lt;br/&gt;
Tests run: 1, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.407 sec&lt;br/&gt;
Running org.apache.hadoop.hbase.rest.TestTransform&lt;br/&gt;
Tests run: 1, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 18.794 sec&lt;br/&gt;
Running org.apache.hadoop.hbase.util.TestFSUtils&lt;br/&gt;
Tests run: 1, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 2.239 sec&lt;br/&gt;
Running org.apache.hadoop.hbase.filter.TestBitComparator&lt;br/&gt;
Tests run: 3, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.078 sec&lt;br/&gt;
Running org.apache.hadoop.hbase.security.TestUser&lt;br/&gt;
Tests run: 2, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.138 sec&lt;br/&gt;
Running org.apache.hadoop.hbase.regionserver.TestScanWildcardColumnTracker&lt;br/&gt;
Tests run: 2, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.225 sec&lt;br/&gt;
Running org.apache.hadoop.hbase.master.TestMasterTransitions&lt;br/&gt;
Tests run: 3, Failures: 0, Errors: 0, Skipped: 3, Time elapsed: 21.518 sec&lt;br/&gt;
Running org.apache.hadoop.hbase.regionserver.TestKeyValueSkipListSet&lt;br/&gt;
Tests run: 4, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.079 sec&lt;br/&gt;
Running org.apache.hadoop.hbase.io.hfile.TestSeekTo&lt;br/&gt;
Tests run: 3, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.389 sec&lt;br/&gt;
Running org.apache.hadoop.hbase.filter.TestPageFilter&lt;br/&gt;
Tests run: 2, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.028 sec&lt;br/&gt;
Running org.apache.hadoop.hbase.filter.TestColumnPaginationFilter&lt;br/&gt;
Tests run: 1, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.027 sec&lt;br/&gt;
Running org.apache.hadoop.hbase.rest.TestStatusResource&lt;br/&gt;
Tests run: 2, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 16.806 sec&lt;br/&gt;
Running org.apache.hadoop.hbase.coprocessor.TestCoprocessorEndpoint&lt;br/&gt;
Tests run: 2, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 23.339 sec&lt;br/&gt;
Running org.apache.hadoop.hbase.executor.TestExecutorService&lt;br/&gt;
Tests run: 1, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 2.226 sec&lt;br/&gt;
Running org.apache.hadoop.hbase.client.TestFromClientSide&lt;br/&gt;
Tests run: 44, Failures: 0, Errors: 0, Skipped: 3, Time elapsed: 125.272 sec&lt;br/&gt;
Running org.apache.hadoop.hbase.replication.TestReplication&lt;br/&gt;
Tests run: 7, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 114.036 sec&lt;br/&gt;
Running org.apache.hadoop.hbase.regionserver.TestCompaction&lt;br/&gt;
Tests run: 9, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 139.772 sec&lt;br/&gt;
Running org.apache.hadoop.hbase.TestHServerAddress&lt;br/&gt;
Tests run: 6, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.089 sec&lt;br/&gt;
Running org.apache.hadoop.hbase.filter.TestSingleColumnValueFilter&lt;br/&gt;
Tests run: 2, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.082 sec&lt;br/&gt;
Running org.apache.hadoop.hbase.mapreduce.TestTimeRangeMapRed&lt;br/&gt;
Tests run: 1, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 21.995 sec&lt;br/&gt;
Running org.apache.hadoop.hbase.zookeeper.TestZooKeeperMainServerArg&lt;br/&gt;
Tests run: 1, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.056 sec&lt;br/&gt;
Running org.apache.hadoop.hbase.mapreduce.TestSimpleTotalOrderPartitioner&lt;br/&gt;
Tests run: 1, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.22 sec&lt;br/&gt;
Running org.apache.hadoop.hbase.master.TestClockSkewDetection&lt;br/&gt;
Tests run: 1, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.131 sec&lt;br/&gt;
Running org.apache.hadoop.hbase.mapreduce.TestHFileOutputFormat&lt;br/&gt;
Tests run: 7, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 138.375 sec&lt;br/&gt;
Running org.apache.hadoop.hbase.regionserver.TestFSErrorsExposed&lt;br/&gt;
Tests run: 3, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 36.452 sec&lt;br/&gt;
Running org.apache.hadoop.hbase.client.replication.TestReplicationAdmin&lt;br/&gt;
Tests run: 1, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.534 sec&lt;br/&gt;
Running org.apache.hadoop.hbase.regionserver.TestScanDeleteTracker&lt;br/&gt;
Tests run: 6, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.207 sec&lt;br/&gt;
Running org.apache.hadoop.hbase.client.TestMetaScanner&lt;br/&gt;
Tests run: 1, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 17.628 sec&lt;br/&gt;
Running org.apache.hadoop.hbase.metrics.TestMetricsMBeanBase&lt;br/&gt;
Tests run: 2, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.086 sec&lt;br/&gt;
Running org.apache.hadoop.hbase.TestRegionRebalancing&lt;br/&gt;
Tests run: 1, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 331.575 sec&lt;br/&gt;
Running org.apache.hadoop.hbase.rest.TestMultiRowResource&lt;br/&gt;
Tests run: 3, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 20.495 sec&lt;br/&gt;
Running org.apache.hadoop.hbase.regionserver.TestSplitLogWorker&lt;br/&gt;
Tests run: 5, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 2.282 sec&lt;br/&gt;
Running org.apache.hadoop.hbase.rest.TestTableResource&lt;br/&gt;
Tests run: 8, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 69.208 sec&lt;br/&gt;
Running org.apache.hadoop.hbase.filter.TestSingleColumnValueExcludeFilter&lt;br/&gt;
Tests run: 1, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.03 sec&lt;br/&gt;
Running org.apache.hadoop.hbase.filter.TestInclusiveStopFilter&lt;br/&gt;
Tests run: 2, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.106 sec&lt;br/&gt;
Running org.apache.hadoop.hbase.TestHBaseTestingUtility&lt;br/&gt;
Tests run: 6, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 62.578 sec&lt;br/&gt;
Running org.apache.hadoop.hbase.mapreduce.TestLoadIncrementalHFiles&lt;br/&gt;
Tests run: 4, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 38.332 sec&lt;br/&gt;
Running org.apache.hadoop.hbase.rest.TestSchemaResource&lt;br/&gt;
Tests run: 2, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 25.673 sec&lt;br/&gt;
Running org.apache.hadoop.hbase.regionserver.wal.TestWALReplay&lt;br/&gt;
Tests run: 4, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 33.975 sec&lt;br/&gt;
Running org.apache.hadoop.hbase.regionserver.TestKeyValueScanFixture&lt;br/&gt;
Tests run: 1, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.109 sec&lt;br/&gt;
Running org.apache.hadoop.hbase.rest.model.TestTableListModel&lt;br/&gt;
Tests run: 3, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.26 sec&lt;br/&gt;
Running org.apache.hadoop.hbase.rest.model.TestColumnSchemaModel&lt;br/&gt;
Tests run: 2, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.076 sec&lt;br/&gt;
Running org.apache.hadoop.hbase.regionserver.TestStoreFile&lt;br/&gt;
Tests run: 8, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 20.452 sec&lt;br/&gt;
Running org.apache.hadoop.hbase.zookeeper.TestZooKeeperNodeTracker&lt;br/&gt;
Tests run: 2, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.507 sec&lt;br/&gt;
Running org.apache.hadoop.hbase.rest.model.TestScannerModel&lt;br/&gt;
Tests run: 3, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.251 sec&lt;br/&gt;
Running org.apache.hadoop.hbase.regionserver.wal.TestHLogMethods&lt;br/&gt;
Tests run: 3, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.831 sec&lt;br/&gt;
Running org.apache.hadoop.hbase.master.TestSplitLogManager&lt;br/&gt;
Tests run: 9, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 12.479 sec&lt;br/&gt;
Running org.apache.hadoop.hbase.rest.TestVersionResource&lt;br/&gt;
Tests run: 7, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 24.053 sec&lt;br/&gt;
Running org.apache.hadoop.hbase.filter.TestFilter&lt;br/&gt;
Tests run: 18, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 13.011 sec&lt;br/&gt;
Running org.apache.hadoop.hbase.TestServerName&lt;br/&gt;
Tests run: 2, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.055 sec&lt;br/&gt;
Running org.apache.hadoop.hbase.regionserver.TestWideScanner&lt;br/&gt;
Tests run: 1, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 40.406 sec&lt;br/&gt;
Running org.apache.hadoop.hbase.regionserver.TestSplitTransaction&lt;br/&gt;
Tests run: 5, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 12.274 sec&lt;br/&gt;
Running org.apache.hadoop.hbase.replication.regionserver.TestReplicationSink&lt;br/&gt;
Tests run: 5, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 25.718 sec&lt;br/&gt;
Running org.apache.hadoop.hbase.util.TestMergeTable&lt;br/&gt;
Tests run: 1, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 57.097 sec&lt;br/&gt;
Running org.apache.hadoop.hbase.regionserver.TestGetClosestAtOrBefore&lt;br/&gt;
Tests run: 3, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 7.171 sec&lt;br/&gt;
Running org.apache.hadoop.hbase.regionserver.TestReadWriteConsistencyControl&lt;br/&gt;
Tests run: 1, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 10.116 sec&lt;br/&gt;
Running org.apache.hadoop.hbase.coprocessor.TestMasterObserver&lt;br/&gt;
Tests run: 3, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 25.696 sec&lt;br/&gt;
Running org.apache.hadoop.hbase.rest.model.TestVersionModel&lt;br/&gt;
Tests run: 3, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.217 sec&lt;br/&gt;
Running org.apache.hadoop.hbase.rest.model.TestCellSetModel&lt;br/&gt;
Tests run: 3, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.264 sec&lt;br/&gt;
Running org.apache.hadoop.hbase.rest.model.TestStorageClusterStatusModel&lt;br/&gt;
Tests run: 3, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.215 sec&lt;br/&gt;
Running org.apache.hadoop.hbase.rest.client.TestRemoteTable&lt;br/&gt;
Tests run: 3, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 28.118 sec&lt;br/&gt;
Running org.apache.hadoop.hbase.monitoring.TestTaskMonitor&lt;br/&gt;
Tests run: 3, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.407 sec&lt;br/&gt;
Running org.apache.hadoop.hbase.avro.TestAvroServer&lt;br/&gt;
Tests run: 3, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 33.918 sec&lt;br/&gt;
Running org.apache.hadoop.hbase.TestFullLogReconstruction&lt;br/&gt;
Tests run: 1, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 63.043 sec&lt;br/&gt;
Running org.apache.hadoop.hbase.TestSerialization&lt;br/&gt;
Tests run: 18, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.131 sec&lt;br/&gt;
Running org.apache.hadoop.hbase.regionserver.TestKeyValueHeap&lt;br/&gt;
Tests run: 3, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.249 sec&lt;br/&gt;
Running org.apache.hadoop.hbase.regionserver.TestStoreScanner&lt;br/&gt;
Tests run: 14, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.096 sec&lt;br/&gt;
Running org.apache.hadoop.hbase.io.hfile.TestReseekTo&lt;br/&gt;
Tests run: 1, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.458 sec&lt;br/&gt;
Running org.apache.hadoop.hbase.util.TestKeying&lt;br/&gt;
Tests run: 1, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.061 sec&lt;br/&gt;
Running org.apache.hadoop.hbase.util.TestIncrementingEnvironmentEdge&lt;br/&gt;
Tests run: 1, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.04 sec&lt;br/&gt;
Running org.apache.hadoop.hbase.regionserver.TestScanner&lt;br/&gt;
Tests run: 6, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 61.096 sec&lt;br/&gt;
Running org.apache.hadoop.hbase.regionserver.TestHRegionInfo&lt;br/&gt;
Tests run: 2, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.087 sec&lt;br/&gt;
Running org.apache.hadoop.hbase.util.TestHBaseFsck&lt;br/&gt;
Tests run: 2, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 34.581 sec&lt;br/&gt;
Running org.apache.hadoop.hbase.client.TestShell&lt;br/&gt;
Tests run: 1, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 47.664 sec&lt;br/&gt;
Running org.apache.hadoop.hbase.master.TestRestartCluster&lt;br/&gt;
Tests run: 2, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 48.963 sec&lt;br/&gt;
Running org.apache.hadoop.hbase.rest.model.TestTableInfoModel&lt;br/&gt;
Tests run: 3, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.197 sec&lt;br/&gt;
Running org.apache.hadoop.hbase.TestInfoServers&lt;br/&gt;
Tests run: 2, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 32.196 sec&lt;br/&gt;
Running org.apache.hadoop.hbase.master.TestLogsCleaner&lt;br/&gt;
Tests run: 1, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 1.877 sec&lt;br/&gt;
Running org.apache.hadoop.hbase.regionserver.TestMasterAddressManager&lt;br/&gt;
Tests run: 1, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.443 sec&lt;br/&gt;
Running org.apache.hadoop.hbase.master.TestMasterStatusServlet&lt;br/&gt;
Tests run: 4, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.899 sec&lt;br/&gt;
Running org.apache.hadoop.hbase.catalog.TestCatalogTrackerOnCluster&lt;br/&gt;
Tests run: 1, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 211.701 sec&lt;br/&gt;
Running org.apache.hadoop.hbase.regionserver.TestQueryMatcher&lt;br/&gt;
Tests run: 4, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.262 sec&lt;br/&gt;
Running org.apache.hadoop.hbase.zookeeper.TestZKTable&lt;br/&gt;
Tests run: 1, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.435 sec&lt;br/&gt;
Running org.apache.hadoop.hbase.client.TestAdmin&lt;br/&gt;
Tests run: 18, Failures: 1, Errors: 0, Skipped: 0, Time elapsed: 372.551 sec &amp;lt;&amp;lt;&amp;lt; FAILURE!&lt;br/&gt;
Running org.apache.hadoop.hbase.util.TestSortedCopyOnWriteSet&lt;br/&gt;
Tests run: 2, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.093 sec&lt;br/&gt;
Running org.apache.hadoop.hbase.util.TestMergeTool&lt;br/&gt;
Tests run: 1, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 23.054 sec&lt;br/&gt;
Running org.apache.hadoop.hbase.TestAcidGuarantees&lt;br/&gt;
Tests run: 3, Failures: 0, Errors: 0, Skipped: 3, Time elapsed: 0.044 sec&lt;br/&gt;
Running org.apache.hadoop.hbase.TestHRegionLocation&lt;br/&gt;
Tests run: 3, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.123 sec&lt;br/&gt;
Running org.apache.hadoop.hbase.util.TestBase64&lt;br/&gt;
Tests run: 1, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.036 sec&lt;br/&gt;
Running org.apache.hadoop.hbase.coprocessor.TestRegionObserverStacking&lt;br/&gt;
Tests run: 1, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.605 sec&lt;br/&gt;
Running org.apache.hadoop.hbase.regionserver.TestMemStore&lt;br/&gt;
Tests run: 21, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 60.688 sec&lt;br/&gt;
Running org.apache.hadoop.hbase.rest.TestScannerResource&lt;br/&gt;
Tests run: 5, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 89.001 sec&lt;br/&gt;
Running org.apache.hadoop.hbase.io.hfile.TestLruBlockCache&lt;br/&gt;
Tests run: 7, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 1.154 sec&lt;br/&gt;
Running org.apache.hadoop.hbase.master.TestDeadServer&lt;br/&gt;
Tests run: 1, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.062 sec&lt;br/&gt;
Running org.apache.hadoop.hbase.rest.TestGzipFilter&lt;br/&gt;
Tests run: 2, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 18.005 sec&lt;br/&gt;
Running org.apache.hadoop.hbase.TestKeyValue&lt;br/&gt;
Tests run: 9, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.068 sec&lt;br/&gt;
Running org.apache.hadoop.hbase.mapreduce.TestTableMapReduce&lt;br/&gt;
Tests run: 2, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 100.569 sec&lt;br/&gt;
Running org.apache.hadoop.hbase.filter.TestColumnRangeFilter&lt;br/&gt;
Tests run: 1, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 30.707 sec&lt;br/&gt;
Running org.apache.hadoop.hbase.client.TestMultiParallel&lt;br/&gt;
Tests run: 10, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 38.108 sec&lt;br/&gt;
Running org.apache.hadoop.hbase.master.TestMaster&lt;br/&gt;
Tests run: 1, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 78.511 sec&lt;br/&gt;
Running org.apache.hadoop.hbase.client.TestResult&lt;br/&gt;
Tests run: 2, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.078 sec&lt;br/&gt;
Running org.apache.hadoop.hbase.master.TestRollingRestart&lt;br/&gt;
Tests run: 1, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 60.231 sec&lt;br/&gt;
Running org.apache.hadoop.hbase.client.TestHTablePool&lt;br/&gt;
Tests run: 10, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 158.175 sec&lt;br/&gt;
Running org.apache.hadoop.hbase.regionserver.TestRSStatusServlet&lt;br/&gt;
Tests run: 2, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.454 sec&lt;br/&gt;
Running org.apache.hadoop.hbase.util.TestByteBloomFilter&lt;br/&gt;
Tests run: 3, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 1.532 sec&lt;br/&gt;
Running org.apache.hadoop.hbase.rest.model.TestTableSchemaModel&lt;br/&gt;
Tests run: 3, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.21 sec&lt;br/&gt;
Running org.apache.hadoop.hbase.regionserver.TestCompactSelection&lt;br/&gt;
Tests run: 1, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.553 sec&lt;br/&gt;
Running org.apache.hadoop.hbase.filter.TestFilterList&lt;br/&gt;
Tests run: 4, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.134 sec&lt;br/&gt;
Running org.apache.hadoop.hbase.mapreduce.TestTableInputFormatScan&lt;br/&gt;
Tests run: 11, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 586.446 sec&lt;br/&gt;
Running org.apache.hadoop.hbase.regionserver.TestHRegion&lt;br/&gt;
Tests run: 54, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 57.679 sec&lt;br/&gt;
Running org.apache.hadoop.hbase.rest.model.TestTableRegionModel&lt;br/&gt;
Tests run: 4, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.096 sec&lt;br/&gt;
Running org.apache.hadoop.hbase.master.TestMasterFailover&lt;br/&gt;
Tests run: 3, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 85.064 sec&lt;br/&gt;
Running org.apache.hadoop.hbase.client.TestTimestampsFilter&lt;br/&gt;
Tests run: 3, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 31.717 sec&lt;br/&gt;
Running org.apache.hadoop.hbase.util.TestRootPath&lt;br/&gt;
Tests run: 1, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.035 sec&lt;br/&gt;
Running org.apache.hadoop.hbase.master.TestLoadBalancer&lt;br/&gt;
Tests run: 5, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 6.182 sec&lt;br/&gt;
Running org.apache.hadoop.hbase.regionserver.wal.TestWALObserver&lt;br/&gt;
Tests run: 1, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.712 sec&lt;br/&gt;
Running org.apache.hadoop.hbase.client.TestScannerTimeout&lt;br/&gt;
Tests run: 4, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 46.297 sec&lt;br/&gt;
Running org.apache.hadoop.hbase.mapred.TestTableMapReduce&lt;br/&gt;
Tests run: 1, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 52.89 sec&lt;br/&gt;
Running org.apache.hadoop.hbase.coprocessor.TestAggregateProtocol&lt;br/&gt;
Tests run: 44, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 20.331 sec&lt;br/&gt;
Running org.apache.hadoop.hbase.util.TestBytes&lt;br/&gt;
Tests run: 10, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.086 sec&lt;br/&gt;
Running org.apache.hadoop.hbase.replication.regionserver.TestReplicationSourceManager&lt;br/&gt;
Tests run: 1, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 1.093 sec&lt;br/&gt;
Running org.apache.hadoop.hbase.filter.TestRandomRowFilter&lt;br/&gt;
Tests run: 2, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.446 sec&lt;br/&gt;
Running org.apache.hadoop.hbase.master.TestActiveMasterManager&lt;br/&gt;
Tests run: 2, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.6 sec&lt;br/&gt;
Running org.apache.hadoop.hbase.util.TestCompressionTest&lt;br/&gt;
Tests run: 1, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.248 sec&lt;br/&gt;
Running org.apache.hadoop.hbase.client.TestMetaMigration&lt;br/&gt;
Tests run: 3, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 16.579 sec&lt;br/&gt;
Running org.apache.hadoop.hbase.filter.TestDependentColumnFilter&lt;br/&gt;
Tests run: 2, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.782 sec&lt;br/&gt;
Running org.apache.hadoop.hbase.client.TestGetRowVersions&lt;br/&gt;
Tests run: 1, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 32.784 sec&lt;br/&gt;
Running org.apache.hadoop.hbase.rest.model.TestCellModel&lt;br/&gt;
Tests run: 3, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.245 sec&lt;br/&gt;
Running org.apache.hadoop.hbase.replication.TestReplicationSource&lt;br/&gt;
Tests run: 1, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 2.156 sec&lt;br/&gt;
Running org.apache.hadoop.hbase.coprocessor.TestWALObserver&lt;br/&gt;
Tests run: 3, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 20.317 sec&lt;br/&gt;
Running org.apache.hadoop.hbase.catalog.TestCatalogTracker&lt;br/&gt;
Tests run: 8, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 3.259 sec&lt;br/&gt;
Running org.apache.hadoop.hbase.master.TestCatalogJanitor&lt;br/&gt;
Tests run: 2, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 1.113 sec&lt;br/&gt;
Running org.apache.hadoop.hbase.rest.TestRowResource&lt;br/&gt;
Tests run: 10, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 19.772 sec&lt;br/&gt;
Running org.apache.hadoop.hbase.io.hfile.TestHFile&lt;br/&gt;
Tests run: 7, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.646 sec&lt;br/&gt;
Running org.apache.hadoop.hbase.catalog.TestMetaReaderEditor&lt;br/&gt;
Tests run: 4, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 22.576 sec&lt;br/&gt;
Running org.apache.hadoop.hbase.mapreduce.TestImportTsv&lt;br/&gt;
Tests run: 8, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 39.975 sec&lt;br/&gt;
Running org.apache.hadoop.hbase.rest.client.TestRemoteAdmin&lt;br/&gt;
Tests run: 2, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 19.872 sec&lt;br/&gt;
Running org.apache.hadoop.hbase.regionserver.wal.TestHLog&lt;br/&gt;
Tests run: 9, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 79.434 sec&lt;br/&gt;
Running org.apache.hadoop.hbase.client.TestTimestamp&lt;br/&gt;
Tests run: 1, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 19.394 sec&lt;br/&gt;
Running org.apache.hadoop.hbase.util.TestPoolMap&lt;br/&gt;
Tests run: 9, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.111 sec&lt;br/&gt;
Running org.apache.hadoop.hbase.TestScanMultipleVersions&lt;br/&gt;
Tests run: 1, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 18.018 sec&lt;br/&gt;
Running org.apache.hadoop.hbase.TestGlobalMemStoreSize&lt;br/&gt;
Tests run: 1, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 16.676 sec&lt;br/&gt;
Running org.apache.hadoop.hbase.rest.model.TestStorageClusterVersionModel&lt;br/&gt;
Tests run: 2, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.081 sec&lt;br/&gt;
Running org.apache.hadoop.hbase.client.TestHCM&lt;br/&gt;
Tests run: 3, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 19.962 sec&lt;/p&gt;

&lt;p&gt;Results :&lt;/p&gt;

&lt;p&gt;Failed tests: &lt;/p&gt;

&lt;p&gt;Tests in error: &lt;/p&gt;

&lt;p&gt;Tests run: 795, Failures: 1, Errors: 3, Skipped: 9&lt;/p&gt;

&lt;p&gt;&lt;span class=&quot;error&quot;&gt;&amp;#91;INFO&amp;#93;&lt;/span&gt; ------------------------------------------------------------------------&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;INFO&amp;#93;&lt;/span&gt; BUILD FAILURE&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;INFO&amp;#93;&lt;/span&gt; ------------------------------------------------------------------------&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;INFO&amp;#93;&lt;/span&gt; Total time: 1:52:50.048s&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;INFO&amp;#93;&lt;/span&gt; Finished at: Tue May 31 20:49:55 PDT 2011&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;INFO&amp;#93;&lt;/span&gt; Final Memory: 17M/81M&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;INFO&amp;#93;&lt;/span&gt; ------------------------------------------------------------------------&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;ERROR&amp;#93;&lt;/span&gt; Failed to execute goal org.apache.maven.plugins:maven-surefire-plugin:2.4.3:test (default-test) on project hbase: There are test failures.&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;ERROR&amp;#93;&lt;/span&gt; &lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;ERROR&amp;#93;&lt;/span&gt; Please refer to /work/HBase451/hbase/target/surefire-reports for the individual test results.&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;ERROR&amp;#93;&lt;/span&gt; -&amp;gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;Help 1&amp;#93;&lt;/span&gt;&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;ERROR&amp;#93;&lt;/span&gt; &lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;ERROR&amp;#93;&lt;/span&gt; To see the full stack trace of the errors, re-run Maven with the -e switch.&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;ERROR&amp;#93;&lt;/span&gt; Re-run Maven using the -X switch to enable full debug logging.&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;ERROR&amp;#93;&lt;/span&gt; &lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;ERROR&amp;#93;&lt;/span&gt; For more information about the errors and possible solutions, please read the following articles:&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;ERROR&amp;#93;&lt;/span&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;Help 1&amp;#93;&lt;/span&gt; &lt;a href=&quot;http://cwiki.apache.org/confluence/display/MAVEN/MojoFailureException&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://cwiki.apache.org/confluence/display/MAVEN/MojoFailureException&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Process finished with exit code 1&lt;br/&gt;
=======================================&lt;/p&gt;




&lt;p&gt;subbumac:hbase subbu$ mvn -Dtest=TestDistributedLogSplitting test&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;INFO&amp;#93;&lt;/span&gt; Scanning for projects...&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;WARNING&amp;#93;&lt;/span&gt; &lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;WARNING&amp;#93;&lt;/span&gt; Some problems were encountered while building the effective model for org.apache.hbase:hbase:jar:0.91.0-SNAPSHOT&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;WARNING&amp;#93;&lt;/span&gt; &apos;build.plugins.plugin.version&apos; for org.apache.maven.plugins:maven-eclipse-plugin is missing. @ line 531, column 15&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;WARNING&amp;#93;&lt;/span&gt; &lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;WARNING&amp;#93;&lt;/span&gt; It is highly recommended to fix these problems because they threaten the stability of your build.&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;WARNING&amp;#93;&lt;/span&gt; &lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;WARNING&amp;#93;&lt;/span&gt; For this reason, future Maven versions might no longer support building such malformed projects.&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;WARNING&amp;#93;&lt;/span&gt; &lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;INFO&amp;#93;&lt;/span&gt;                                                                         &lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;INFO&amp;#93;&lt;/span&gt; ------------------------------------------------------------------------&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;INFO&amp;#93;&lt;/span&gt; Building HBase 0.91.0-SNAPSHOT&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;INFO&amp;#93;&lt;/span&gt; ------------------------------------------------------------------------&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;INFO&amp;#93;&lt;/span&gt; &lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;INFO&amp;#93;&lt;/span&gt; &amp;#8212; maven-antrun-plugin:1.3:run (generate) @ hbase &amp;#8212;&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;INFO&amp;#93;&lt;/span&gt; Executing tasks&lt;br/&gt;
SLF4J: Failed to load class &quot;org.slf4j.impl.StaticLoggerBinder&quot;.&lt;br/&gt;
SLF4J: See &lt;a href=&quot;http://www.slf4j.org/codes.html#StaticLoggerBinder&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://www.slf4j.org/codes.html#StaticLoggerBinder&lt;/a&gt; for further details.&lt;br/&gt;
2011-05-31 19:47:06.018:INFO::Logging to STDERR via org.mortbay.log.StdErrLog&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;INFO&amp;#93;&lt;/span&gt; Executed tasks&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;INFO&amp;#93;&lt;/span&gt; &lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;INFO&amp;#93;&lt;/span&gt; &amp;#8212; build-helper-maven-plugin:1.5:add-source (add-jspc-source) @ hbase &amp;#8212;&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;INFO&amp;#93;&lt;/span&gt; Source directory: /work/HBase451/hbase/target/jspc added.&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;INFO&amp;#93;&lt;/span&gt; &lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;INFO&amp;#93;&lt;/span&gt; &amp;#8212; build-helper-maven-plugin:1.5:add-source (add-package-info) @ hbase &amp;#8212;&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;INFO&amp;#93;&lt;/span&gt; Source directory: /work/HBase451/hbase/target/generated-sources added.&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;INFO&amp;#93;&lt;/span&gt; &lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;INFO&amp;#93;&lt;/span&gt; &amp;#8212; jamon-maven-plugin:2.3.4:translate (default) @ hbase &amp;#8212;&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;INFO&amp;#93;&lt;/span&gt; &lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;INFO&amp;#93;&lt;/span&gt; &amp;#8212; maven-remote-resources-plugin:1.1:process (default) @ hbase &amp;#8212;&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;INFO&amp;#93;&lt;/span&gt; Setting property: classpath.resource.loader.class =&amp;gt; &apos;org.codehaus.plexus.velocity.ContextClassLoaderResourceLoader&apos;.&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;INFO&amp;#93;&lt;/span&gt; Setting property: velocimacro.messages.on =&amp;gt; &apos;false&apos;.&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;INFO&amp;#93;&lt;/span&gt; Setting property: resource.loader =&amp;gt; &apos;classpath&apos;.&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;INFO&amp;#93;&lt;/span&gt; Setting property: resource.manager.logwhenfound =&amp;gt; &apos;false&apos;.&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;INFO&amp;#93;&lt;/span&gt; &lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;INFO&amp;#93;&lt;/span&gt; &amp;#8212; maven-resources-plugin:2.4:resources (default-resources) @ hbase &amp;#8212;&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;INFO&amp;#93;&lt;/span&gt; Using &apos;UTF-8&apos; encoding to copy filtered resources.&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;INFO&amp;#93;&lt;/span&gt; Copying 1 resource&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;INFO&amp;#93;&lt;/span&gt; Copying 6 resources&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;INFO&amp;#93;&lt;/span&gt; Copying 3 resources&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;INFO&amp;#93;&lt;/span&gt; &lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;INFO&amp;#93;&lt;/span&gt; &amp;#8212; maven-antrun-plugin:1.3:run (default) @ hbase &amp;#8212;&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;INFO&amp;#93;&lt;/span&gt; Executing tasks&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;INFO&amp;#93;&lt;/span&gt; Executed tasks&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;INFO&amp;#93;&lt;/span&gt; &lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;INFO&amp;#93;&lt;/span&gt; &amp;#8212; maven-compiler-plugin:2.0.2:compile (default-compile) @ hbase &amp;#8212;&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;INFO&amp;#93;&lt;/span&gt; Compiling 8 source files to /work/HBase451/hbase/target/classes&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;INFO&amp;#93;&lt;/span&gt; &lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;INFO&amp;#93;&lt;/span&gt; &amp;#8212; maven-resources-plugin:2.4:testResources (default-testResources) @ hbase &amp;#8212;&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;INFO&amp;#93;&lt;/span&gt; Using &apos;UTF-8&apos; encoding to copy filtered resources.&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;INFO&amp;#93;&lt;/span&gt; Copying 4 resources&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;INFO&amp;#93;&lt;/span&gt; Copying 3 resources&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;INFO&amp;#93;&lt;/span&gt; &lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;INFO&amp;#93;&lt;/span&gt; &amp;#8212; maven-compiler-plugin:2.0.2:testCompile (default-testCompile) @ hbase &amp;#8212;&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;INFO&amp;#93;&lt;/span&gt; Compiling 1 source file to /work/HBase451/hbase/target/test-classes&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;INFO&amp;#93;&lt;/span&gt; &lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;INFO&amp;#93;&lt;/span&gt; &amp;#8212; maven-surefire-plugin:2.4.3:test (default-test) @ hbase &amp;#8212;&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;INFO&amp;#93;&lt;/span&gt; Surefire report directory: /work/HBase451/hbase/target/surefire-reports&lt;/p&gt;

&lt;p&gt;-------------------------------------------------------&lt;br/&gt;
 T E S T S&lt;br/&gt;
-------------------------------------------------------&lt;br/&gt;
Running org.apache.hadoop.hbase.master.TestDistributedLogSplitting&lt;br/&gt;
Tests run: 4, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 136.136 sec&lt;/p&gt;

&lt;p&gt;Results :&lt;/p&gt;

&lt;p&gt;Tests run: 4, Failures: 0, Errors: 0, Skipped: 0&lt;/p&gt;

&lt;p&gt;&lt;span class=&quot;error&quot;&gt;&amp;#91;INFO&amp;#93;&lt;/span&gt; ------------------------------------------------------------------------&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;INFO&amp;#93;&lt;/span&gt; BUILD SUCCESS&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;INFO&amp;#93;&lt;/span&gt; ------------------------------------------------------------------------&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;INFO&amp;#93;&lt;/span&gt; Total time: 2:36.596s&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;INFO&amp;#93;&lt;/span&gt; Finished at: Tue May 31 19:49:35 PDT 2011&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;INFO&amp;#93;&lt;/span&gt; Final Memory: 19M/81M&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;INFO&amp;#93;&lt;/span&gt; ------------------------------------------------------------------------&lt;/p&gt;

&lt;p&gt;=================================================================================================&lt;/p&gt;




</comment>
                            <comment id="13043346" author="iamknome" created="Fri, 3 Jun 2011 13:24:48 +0000"  >&lt;p&gt;Hi Ted,&lt;/p&gt;

&lt;p&gt;Can you send me your complete failure list?&lt;/p&gt;



</comment>
                            <comment id="13043354" author="yuzhihong@gmail.com" created="Fri, 3 Jun 2011 13:37:14 +0000"  >&lt;p&gt;Here is the list:&lt;br/&gt;
&lt;a href=&quot;http://pastebin.com/M5RS9Rib&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://pastebin.com/M5RS9Rib&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="13044116" author="jiraposter@reviews.apache.org" created="Fri, 3 Jun 2011 23:07:47 +0000"  >

&lt;blockquote&gt;&lt;p&gt;On 2011-06-02 23:07:01, Michael Stack wrote:&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&amp;gt; src/main/java/org/apache/hadoop/hbase/HConstants.java, line 174&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&amp;gt; &amp;lt;&lt;a href=&quot;https://reviews.apache.org/r/849/diff/1/?file=20288#file20288line174&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.apache.org/r/849/diff/1/?file=20288#file20288line174&lt;/a&gt;&amp;gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&amp;gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&amp;gt;     Copy/paste error.&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;Fixed.&lt;/p&gt;


&lt;blockquote&gt;&lt;p&gt;On 2011-06-02 23:07:01, Michael Stack wrote:&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&amp;gt; src/main/java/org/apache/hadoop/hbase/HRegionInfo.java, line 211&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&amp;gt; &amp;lt;&lt;a href=&quot;https://reviews.apache.org/r/849/diff/1/?file=20289#file20289line211&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.apache.org/r/849/diff/1/?file=20289#file20289line211&lt;/a&gt;&amp;gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&amp;gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&amp;gt;     When would this be used?&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;Currently used from test classes. can remove it after validation.&lt;/p&gt;


&lt;blockquote&gt;&lt;p&gt;On 2011-06-02 23:07:01, Michael Stack wrote:&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&amp;gt; src/main/java/org/apache/hadoop/hbase/HRegionInfo.java, line 512&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&amp;gt; &amp;lt;&lt;a href=&quot;https://reviews.apache.org/r/849/diff/1/?file=20289#file20289line512&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.apache.org/r/849/diff/1/?file=20289#file20289line512&lt;/a&gt;&amp;gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&amp;gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&amp;gt;     This should not be allowed?  Are you not going to mess up stuff if table gets changed on an HRI?&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;Yup. totally. removed it.&lt;/p&gt;


&lt;blockquote&gt;&lt;p&gt;On 2011-06-02 23:07:01, Michael Stack wrote:&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&amp;gt; src/main/java/org/apache/hadoop/hbase/HRegionInfo.java, line 547&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&amp;gt; &amp;lt;&lt;a href=&quot;https://reviews.apache.org/r/849/diff/1/?file=20289#file20289line547&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.apache.org/r/849/diff/1/?file=20289#file20289line547&lt;/a&gt;&amp;gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&amp;gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&amp;gt;     Should these be deprecated rather than removed?  Even if we returned a null only?&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;Hmm. Any advantage of keeping it deprecated and returning NULL versus totally slaughtering? I can bring it back on.&lt;/p&gt;


&lt;blockquote&gt;&lt;p&gt;On 2011-06-02 23:07:01, Michael Stack wrote:&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&amp;gt; src/main/java/org/apache/hadoop/hbase/HRegionInfo.java, line 560&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&amp;gt; &amp;lt;&lt;a href=&quot;https://reviews.apache.org/r/849/diff/1/?file=20289#file20289line560&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.apache.org/r/849/diff/1/?file=20289#file20289line560&lt;/a&gt;&amp;gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&amp;gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&amp;gt;     You could just do an equals since its boolean... Bytes.equals...&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;Good. Done.&lt;/p&gt;


&lt;blockquote&gt;&lt;p&gt;On 2011-06-02 23:07:01, Michael Stack wrote:&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&amp;gt; src/main/java/org/apache/hadoop/hbase/HRegionInfo.java, line 568&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&amp;gt; &amp;lt;&lt;a href=&quot;https://reviews.apache.org/r/849/diff/1/?file=20289#file20289line568&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.apache.org/r/849/diff/1/?file=20289#file20289line568&lt;/a&gt;&amp;gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&amp;gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&amp;gt;     ditto&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;Good. Done.&lt;/p&gt;


&lt;blockquote&gt;&lt;p&gt;On 2011-06-02 23:07:01, Michael Stack wrote:&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&amp;gt; src/main/java/org/apache/hadoop/hbase/HRegionInfo.java, line 574&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&amp;gt; &amp;lt;&lt;a href=&quot;https://reviews.apache.org/r/849/diff/1/?file=20289#file20289line574&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.apache.org/r/849/diff/1/?file=20289#file20289line574&lt;/a&gt;&amp;gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&amp;gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&amp;gt;     This is incorrect.  Should be isMetaTable() or isRootRegion... a &apos;meta&apos; region is a .META. or &lt;del&gt;ROOT&lt;/del&gt; member.&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;Not sure I get it. We do need support for isMetaRegion API call to determine if the Region represented by this HRI is a meta one. How shall we do it? &lt;/p&gt;


&lt;blockquote&gt;&lt;p&gt;On 2011-06-02 23:07:01, Michael Stack wrote:&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&amp;gt; src/main/java/org/apache/hadoop/hbase/HRegionInfoForMigration.java, line 20&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&amp;gt; &amp;lt;&lt;a href=&quot;https://reviews.apache.org/r/849/diff/1/?file=20290#file20290line20&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.apache.org/r/849/diff/1/?file=20290#file20290line20&lt;/a&gt;&amp;gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&amp;gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&amp;gt;     Put this into a migration subpackage?&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;Could not agree more on this. I shall create a migration package *.hbase.migration and move this there.&lt;/p&gt;


&lt;blockquote&gt;&lt;p&gt;On 2011-06-02 23:07:01, Michael Stack wrote:&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&amp;gt; src/main/java/org/apache/hadoop/hbase/HRegionInfoForMigration.java, line 42&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&amp;gt; &amp;lt;&lt;a href=&quot;https://reviews.apache.org/r/849/diff/1/?file=20290#file20290line42&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.apache.org/r/849/diff/1/?file=20290#file20290line42&lt;/a&gt;&amp;gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&amp;gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&amp;gt;     Oh, so what is this?  Its old-school HRI?  If so, call it HRI090?  Or if you have it in a subpackage  migration, it can have same name and just be fully specified whereever it is used.. the migration subpackage will make it explicity taht this is not same as new HRI.&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;hmm.. makes sense. so you want to remove it from the class name.&lt;/p&gt;


&lt;blockquote&gt;&lt;p&gt;On 2011-06-02 23:07:01, Michael Stack wrote:&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&amp;gt; src/main/java/org/apache/hadoop/hbase/HRegionInfoForMigration.java, line 48&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&amp;gt; &amp;lt;&lt;a href=&quot;https://reviews.apache.org/r/849/diff/1/?file=20290#file20290line48&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.apache.org/r/849/diff/1/?file=20290#file20290line48&lt;/a&gt;&amp;gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&amp;gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&amp;gt;     This is from elsewhere?  Does it belong here?&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;Its from old school HRI &quot;as is&quot;. &lt;/p&gt;


&lt;blockquote&gt;&lt;p&gt;On 2011-06-02 23:07:01, Michael Stack wrote:&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&amp;gt; src/main/java/org/apache/hadoop/hbase/KeyValue.java, line 600&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&amp;gt; &amp;lt;&lt;a href=&quot;https://reviews.apache.org/r/849/diff/1/?file=20291#file20291line600&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.apache.org/r/849/diff/1/?file=20291#file20291line600&lt;/a&gt;&amp;gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&amp;gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&amp;gt;     I don&apos;t think we should do this by default.  What if KV has a value of MBs?&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;yup. good call. removed it.&lt;/p&gt;


&lt;blockquote&gt;&lt;p&gt;On 2011-06-02 23:07:01, Michael Stack wrote:&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&amp;gt; src/main/java/org/apache/hadoop/hbase/catalog/MetaEditor.java, line 250&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&amp;gt; &amp;lt;&lt;a href=&quot;https://reviews.apache.org/r/849/diff/1/?file=20292#file20292line250&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.apache.org/r/849/diff/1/?file=20292#file20292line250&lt;/a&gt;&amp;gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&amp;gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&amp;gt;     What if we crash half-way through migration?  We should be able to deal w/ a .META. that is half the old style HRI and half the new style?&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;Yup agreed. Need to think about how to handle this. any ideas? We might probably need to read the META rows using old school HRI till a failure (IOException trying to serialize a new HRI into old HRI) and assume that the rest are all processed? &lt;/p&gt;


&lt;blockquote&gt;&lt;p&gt;On 2011-06-02 23:07:01, Michael Stack wrote:&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&amp;gt; src/main/java/org/apache/hadoop/hbase/catalog/MetaEditor.java, line 276&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&amp;gt; &amp;lt;&lt;a href=&quot;https://reviews.apache.org/r/849/diff/1/?file=20292#file20292line276&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.apache.org/r/849/diff/1/?file=20292#file20292line276&lt;/a&gt;&amp;gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&amp;gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&amp;gt;     You want to leave these in place?&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;Nope. slipped through the cracks&lt;/p&gt;


&lt;blockquote&gt;&lt;p&gt;On 2011-06-02 23:07:01, Michael Stack wrote:&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&amp;gt; src/main/java/org/apache/hadoop/hbase/client/HConnectionManager.java, line 638&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&amp;gt; &amp;lt;&lt;a href=&quot;https://reviews.apache.org/r/849/diff/1/?file=20296#file20296line638&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.apache.org/r/849/diff/1/?file=20296#file20296line638&lt;/a&gt;&amp;gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&amp;gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&amp;gt;     What a crazy way of getting HTDs.&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;You want to rename? suggestions?&lt;/p&gt;


&lt;blockquote&gt;&lt;p&gt;On 2011-06-02 23:07:01, Michael Stack wrote:&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&amp;gt; src/main/java/org/apache/hadoop/hbase/ipc/HMasterInterface.java, line 216&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&amp;gt; &amp;lt;&lt;a href=&quot;https://reviews.apache.org/r/849/diff/1/?file=20301#file20301line216&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.apache.org/r/849/diff/1/?file=20301#file20301line216&lt;/a&gt;&amp;gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&amp;gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&amp;gt;     Do we need these last two? Can&apos;t we use this first method to get the latter?&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;We definitely can. Thought we can avoid iterating over the loop esp if we have large number of tables in the cluster. &lt;/p&gt;


&lt;blockquote&gt;&lt;p&gt;On 2011-06-02 23:07:01, Michael Stack wrote:&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&amp;gt; src/main/java/org/apache/hadoop/hbase/master/AssignmentManager.java, line 2179&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&amp;gt; &amp;lt;&lt;a href=&quot;https://reviews.apache.org/r/849/diff/1/?file=20302#file20302line2179&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.apache.org/r/849/diff/1/?file=20302#file20302line2179&lt;/a&gt;&amp;gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&amp;gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&amp;gt;     This method belongs in master since its going to run the migration?&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;Yup moved it to Master.&lt;/p&gt;


&lt;blockquote&gt;&lt;p&gt;On 2011-06-02 23:07:01, Michael Stack wrote:&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&amp;gt; src/main/java/org/apache/hadoop/hbase/master/MasterFileSystem.java, line 421&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&amp;gt; &amp;lt;&lt;a href=&quot;https://reviews.apache.org/r/849/diff/1/?file=20305#file20305line421&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.apache.org/r/849/diff/1/?file=20305#file20305line421&lt;/a&gt;&amp;gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&amp;gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&amp;gt;     Close the file?&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;Yup. Done&lt;/p&gt;


&lt;blockquote&gt;&lt;p&gt;On 2011-06-02 23:07:01, Michael Stack wrote:&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&amp;gt; src/main/java/org/apache/hadoop/hbase/master/MasterFileSystem.java, line 473&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&amp;gt; &amp;lt;&lt;a href=&quot;https://reviews.apache.org/r/849/diff/1/?file=20305#file20305line473&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.apache.org/r/849/diff/1/?file=20305#file20305line473&lt;/a&gt;&amp;gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&amp;gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&amp;gt;     I wonder if you have to create the file elsewhere and then do a rename to put it in place?  Else if crash, could be half-written?  Do we do this w/ .regioninfo?&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;Let me check this. I have seen this creating in tmp and renaming it later pattern. &lt;/p&gt;


&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;Subbu&lt;/li&gt;
&lt;/ul&gt;



&lt;p&gt;-----------------------------------------------------------&lt;br/&gt;
This is an automatically generated e-mail. To reply, visit:&lt;br/&gt;
&lt;a href=&quot;https://reviews.apache.org/r/849/#review749&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.apache.org/r/849/#review749&lt;/a&gt;&lt;br/&gt;
-----------------------------------------------------------&lt;/p&gt;


&lt;p&gt;On 2011-06-02 20:52:15, Michael Stack wrote:&lt;/p&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;-----------------------------------------------------------&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;This is an automatically generated e-mail. To reply, visit:&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;a href=&quot;https://reviews.apache.org/r/849/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.apache.org/r/849/&lt;/a&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;-----------------------------------------------------------&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;(Updated 2011-06-02 20:52:15)&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;Review request for hbase.&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;Summary&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;-------&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;Posting for Subbu  See issue for his description of change.&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;This addresses bug &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-451&quot; title=&quot;Remove HTableDescriptor from HRegionInfo&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-451&quot;&gt;&lt;del&gt;HBASE-451&lt;/del&gt;&lt;/a&gt;.&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-451&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/browse/HBASE-451&lt;/a&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;Diffs&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;-----&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;src/main/java/org/apache/hadoop/hbase/HConstants.java bd4c64c &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;src/main/java/org/apache/hadoop/hbase/HRegionInfo.java 9502b1d &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;src/main/java/org/apache/hadoop/hbase/HRegionInfoForMigration.java PRE-CREATION &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;src/main/java/org/apache/hadoop/hbase/KeyValue.java 7033800 &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;src/main/java/org/apache/hadoop/hbase/catalog/MetaEditor.java a25b0f0 &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;src/main/java/org/apache/hadoop/hbase/catalog/MetaReader.java eb57197 &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;src/main/java/org/apache/hadoop/hbase/client/HBaseAdmin.java 7594822 &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;src/main/java/org/apache/hadoop/hbase/client/HConnection.java f722155 &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;src/main/java/org/apache/hadoop/hbase/client/HConnectionManager.java 94ee1a0 &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;src/main/java/org/apache/hadoop/hbase/client/HTable.java c82e1dd &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;src/main/java/org/apache/hadoop/hbase/client/MetaScanner.java 2734f30 &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;src/main/java/org/apache/hadoop/hbase/client/UnmodifyableHRegionInfo.java 23e7a6b &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;src/main/java/org/apache/hadoop/hbase/io/HbaseObjectWritable.java d531b8d &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;src/main/java/org/apache/hadoop/hbase/ipc/HMasterInterface.java 4704c39 &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;src/main/java/org/apache/hadoop/hbase/master/AssignmentManager.java 38914a8 &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;src/main/java/org/apache/hadoop/hbase/master/CatalogJanitor.java 5b4a4b7 &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;src/main/java/org/apache/hadoop/hbase/master/HMaster.java b8489ac &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;src/main/java/org/apache/hadoop/hbase/master/MasterFileSystem.java b22a3e4 &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;src/main/java/org/apache/hadoop/hbase/master/handler/ClosedRegionHandler.java c98ed17 &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;src/main/java/org/apache/hadoop/hbase/master/handler/DeleteTableHandler.java 5a8bb20 &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;src/main/java/org/apache/hadoop/hbase/master/handler/ModifyTableHandler.java 6380520 &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;src/main/java/org/apache/hadoop/hbase/master/handler/OpenedRegionHandler.java 3d16e47 &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;src/main/java/org/apache/hadoop/hbase/master/handler/ServerShutdownHandler.java dace150 &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;src/main/java/org/apache/hadoop/hbase/master/handler/TableAddFamilyHandler.java fcea483 &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;src/main/java/org/apache/hadoop/hbase/master/handler/TableDeleteFamilyHandler.java a963c6c &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;src/main/java/org/apache/hadoop/hbase/master/handler/TableModifyFamilyHandler.java 4029893 &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;src/main/java/org/apache/hadoop/hbase/regionserver/HRegion.java e5bd154 &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;src/main/java/org/apache/hadoop/hbase/regionserver/LogRoller.java 9ccf248 &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;src/main/java/org/apache/hadoop/hbase/regionserver/SplitTransaction.java 072fd8d &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;src/main/java/org/apache/hadoop/hbase/regionserver/Store.java 21468ad &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;src/main/java/org/apache/hadoop/hbase/regionserver/handler/OpenRegionHandler.java ba2daa9 &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;src/main/java/org/apache/hadoop/hbase/regionserver/wal/HLog.java 0716788 &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;src/main/java/org/apache/hadoop/hbase/regionserver/wal/WALObserver.java 3def4b6 &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;src/main/java/org/apache/hadoop/hbase/replication/regionserver/Replication.java 1a87947 &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;src/main/java/org/apache/hadoop/hbase/util/FSUtils.java 3409108 &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;src/main/java/org/apache/hadoop/hbase/util/HBaseFsck.java 39591a0 &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;src/main/java/org/apache/hadoop/hbase/util/HMerge.java c07f8dc &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;src/main/java/org/apache/hadoop/hbase/util/MetaUtils.java 540d7df &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;src/main/java/org/apache/hadoop/hbase/util/RegionSplitter.java 6d0c803 &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;src/main/java/org/apache/hadoop/hbase/util/Writables.java 3e60f97 &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;src/test/java/org/apache/hadoop/hbase/HBaseTestCase.java 4c58791 &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;src/test/java/org/apache/hadoop/hbase/HBaseTestingUtility.java babd788 &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;src/test/java/org/apache/hadoop/hbase/TestCompare.java bbac815 &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;src/test/java/org/apache/hadoop/hbase/TestScanMultipleVersions.java 1f51703 &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;src/test/java/org/apache/hadoop/hbase/TestSerialization.java 05f0efc &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;src/test/java/org/apache/hadoop/hbase/TimestampTestBase.java 1105509 &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;src/test/java/org/apache/hadoop/hbase/client/TestFromClientSide.java c3b23fe &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;src/test/java/org/apache/hadoop/hbase/client/TestMetaMigration.java PRE-CREATION &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;src/test/java/org/apache/hadoop/hbase/client/TestTimestamp.java db42192 &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;src/test/java/org/apache/hadoop/hbase/coprocessor/TestCoprocessorInterface.java f0418d1 &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;src/test/java/org/apache/hadoop/hbase/coprocessor/TestRegionObserverInterface.java 46ba184 &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;src/test/java/org/apache/hadoop/hbase/coprocessor/TestRegionObserverStacking.java 18380c6 &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;src/test/java/org/apache/hadoop/hbase/coprocessor/TestWALObserver.java 19397fb &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;src/test/java/org/apache/hadoop/hbase/filter/TestColumnPrefixFilter.java e1eb02a &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;src/test/java/org/apache/hadoop/hbase/filter/TestDependentColumnFilter.java 04705c3 &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;src/test/java/org/apache/hadoop/hbase/filter/TestFilter.java bfa3c72 &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;src/test/java/org/apache/hadoop/hbase/master/TestCatalogJanitor.java ada2af6 &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;src/test/java/org/apache/hadoop/hbase/master/TestDistributedLogSplitting.java ba87bc0 &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;src/test/java/org/apache/hadoop/hbase/master/TestLoadBalancer.java d909997 &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;src/test/java/org/apache/hadoop/hbase/master/TestMasterFailover.java 2022767 &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;src/test/java/org/apache/hadoop/hbase/master/TestMasterStatusServlet.java 1fef788 &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;src/test/java/org/apache/hadoop/hbase/regionserver/TestColumnSeeking.java e2f4507 &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;src/test/java/org/apache/hadoop/hbase/regionserver/TestCompactSelection.java 48fa162 &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;src/test/java/org/apache/hadoop/hbase/regionserver/TestGetClosestAtOrBefore.java 3b7c7e8 &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;src/test/java/org/apache/hadoop/hbase/regionserver/TestHRegion.java e106b45 &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;src/test/java/org/apache/hadoop/hbase/regionserver/TestHRegionInfo.java 516139b &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;src/test/java/org/apache/hadoop/hbase/regionserver/TestRSStatusServlet.java 40d352e &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;src/test/java/org/apache/hadoop/hbase/regionserver/TestResettingCounters.java f092371 &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;src/test/java/org/apache/hadoop/hbase/regionserver/TestScanner.java ef8a4b2 &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;src/test/java/org/apache/hadoop/hbase/regionserver/TestSplitTransaction.java b85b912 &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;src/test/java/org/apache/hadoop/hbase/regionserver/TestStore.java dbe5fb1 &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;src/test/java/org/apache/hadoop/hbase/regionserver/TestWideScanner.java 2cc197f &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;src/test/java/org/apache/hadoop/hbase/regionserver/handler/TestOpenRegionHandler.java bcf9024 &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;src/test/java/org/apache/hadoop/hbase/regionserver/wal/TestHLog.java e2c158a &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;src/test/java/org/apache/hadoop/hbase/regionserver/wal/TestWALObserver.java 5b95154 &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;src/test/java/org/apache/hadoop/hbase/regionserver/wal/TestWALReplay.java 4de5b95 &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;src/test/java/org/apache/hadoop/hbase/replication/regionserver/TestReplicationSourceManager.java 3f9302a &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;src/test/java/org/apache/hadoop/hbase/rest/model/TestTableRegionModel.java c02dfda &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;src/test/java/org/apache/hadoop/hbase/util/TestHBaseFsck.java a6bdbe0 &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;src/test/java/org/apache/hadoop/hbase/util/TestMergeTable.java 3039df2 &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;src/test/java/org/apache/hadoop/hbase/util/TestMergeTool.java 18cd055 &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;Diff: &lt;a href=&quot;https://reviews.apache.org/r/849/diff&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.apache.org/r/849/diff&lt;/a&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;Testing&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;-------&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;Thanks,&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;Michael&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
</comment>
                            <comment id="13044191" author="jiraposter@reviews.apache.org" created="Sat, 4 Jun 2011 04:07:47 +0000"  >

&lt;blockquote&gt;&lt;p&gt;On 2011-06-02 23:07:01, Michael Stack wrote:&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&amp;gt; src/main/java/org/apache/hadoop/hbase/HRegionInfo.java, line 211&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&amp;gt; &amp;lt;&lt;a href=&quot;https://reviews.apache.org/r/849/diff/1/?file=20289#file20289line211&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.apache.org/r/849/diff/1/?file=20289#file20289line211&lt;/a&gt;&amp;gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&amp;gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&amp;gt;     When would this be used?&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;Subbu Iyer wrote:&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;Currently used from test classes. can remove it after validation.&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;Its ok.  Just flag it as used from tests w/ a comment.&lt;/p&gt;


&lt;blockquote&gt;&lt;p&gt;On 2011-06-02 23:07:01, Michael Stack wrote:&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&amp;gt; src/main/java/org/apache/hadoop/hbase/HRegionInfo.java, line 547&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&amp;gt; &amp;lt;&lt;a href=&quot;https://reviews.apache.org/r/849/diff/1/?file=20289#file20289line547&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.apache.org/r/849/diff/1/?file=20289#file20289line547&lt;/a&gt;&amp;gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&amp;gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&amp;gt;     Should these be deprecated rather than removed?  Even if we returned a null only?&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;Subbu Iyer wrote:&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;Hmm. Any advantage of keeping it deprecated and returning NULL versus totally slaughtering? I can bring it back on.&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;We like to deprecate for one major release before removing.  Can you deprecate and then actually read the FS to get the actual HTD and return it?  You can deprecate it and say its EXPENSIVE to call.&lt;/p&gt;


&lt;blockquote&gt;&lt;p&gt;On 2011-06-02 23:07:01, Michael Stack wrote:&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&amp;gt; src/main/java/org/apache/hadoop/hbase/HRegionInfo.java, line 574&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&amp;gt; &amp;lt;&lt;a href=&quot;https://reviews.apache.org/r/849/diff/1/?file=20289#file20289line574&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.apache.org/r/849/diff/1/?file=20289#file20289line574&lt;/a&gt;&amp;gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&amp;gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&amp;gt;     This is incorrect.  Should be isMetaTable() or isRootRegion... a &apos;meta&apos; region is a .META. or &lt;del&gt;ROOT&lt;/del&gt; member.&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;Subbu Iyer wrote:&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;Not sure I get it. We do need support for isMetaRegion API call to determine if the Region represented by this HRI is a meta one. How shall we do it?&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;Well, IIUC, isMetaTable currently returns TRUE if either &lt;del&gt;ROOT&lt;/del&gt; or .META.  I was just flagging that you could introduce strange bugs if you change how this method works.  if you need a method for is.META. then add new one I&apos;d suggest (though it&apos;ll clash with this one).&lt;/p&gt;

&lt;p&gt;Or, hang on, perhaps I am misleading you.  I am confusing isMetaTable with isMetaRegion?  The latter is the one that returns true if &lt;del&gt;ROOT&lt;/del&gt; or .META.  isMetaTable should be true only if its .META. table.&lt;/p&gt;

&lt;p&gt;Sorry about that.&lt;/p&gt;


&lt;blockquote&gt;&lt;p&gt;On 2011-06-02 23:07:01, Michael Stack wrote:&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&amp;gt; src/main/java/org/apache/hadoop/hbase/HRegionInfoForMigration.java, line 20&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&amp;gt; &amp;lt;&lt;a href=&quot;https://reviews.apache.org/r/849/diff/1/?file=20290#file20290line20&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.apache.org/r/849/diff/1/?file=20290#file20290line20&lt;/a&gt;&amp;gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&amp;gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&amp;gt;     Put this into a migration subpackage?&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;Subbu Iyer wrote:&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;Could not agree more on this. I shall create a migration package *.hbase.migration and move this there.&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;Good.&lt;/p&gt;


&lt;blockquote&gt;&lt;p&gt;On 2011-06-02 23:07:01, Michael Stack wrote:&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&amp;gt; src/main/java/org/apache/hadoop/hbase/HRegionInfoForMigration.java, line 42&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&amp;gt; &amp;lt;&lt;a href=&quot;https://reviews.apache.org/r/849/diff/1/?file=20290#file20290line42&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.apache.org/r/849/diff/1/?file=20290#file20290line42&lt;/a&gt;&amp;gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&amp;gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&amp;gt;     Oh, so what is this?  Its old-school HRI?  If so, call it HRI090?  Or if you have it in a subpackage  migration, it can have same name and just be fully specified whereever it is used.. the migration subpackage will make it explicity taht this is not same as new HRI.&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;Subbu Iyer wrote:&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;hmm.. makes sense. so you want to remove it from the class name.&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;Up to you.  I&apos;d remove &apos;ForMigration&apos; from class name or replace it with 090x so its HRegionInfo090x so it indicates its old style HRI.  Up to you.&lt;/p&gt;


&lt;blockquote&gt;&lt;p&gt;On 2011-06-02 23:07:01, Michael Stack wrote:&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&amp;gt; src/main/java/org/apache/hadoop/hbase/HRegionInfoForMigration.java, line 48&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&amp;gt; &amp;lt;&lt;a href=&quot;https://reviews.apache.org/r/849/diff/1/?file=20290#file20290line48&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.apache.org/r/849/diff/1/?file=20290#file20290line48&lt;/a&gt;&amp;gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&amp;gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&amp;gt;     This is from elsewhere?  Does it belong here?&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;Subbu Iyer wrote:&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;Its from old school HRI &quot;as is&quot;.&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;Ok&lt;/p&gt;


&lt;blockquote&gt;&lt;p&gt;On 2011-06-02 23:07:01, Michael Stack wrote:&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&amp;gt; src/main/java/org/apache/hadoop/hbase/catalog/MetaEditor.java, line 250&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&amp;gt; &amp;lt;&lt;a href=&quot;https://reviews.apache.org/r/849/diff/1/?file=20292#file20292line250&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.apache.org/r/849/diff/1/?file=20292#file20292line250&lt;/a&gt;&amp;gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&amp;gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&amp;gt;     What if we crash half-way through migration?  We should be able to deal w/ a .META. that is half the old style HRI and half the new style?&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;Subbu Iyer wrote:&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;Yup agreed. Need to think about how to handle this. any ideas? We might probably need to read the META rows using old school HRI till a failure (IOException trying to serialize a new HRI into old HRI) and assume that the rest are all processed?&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;I think our suggestion of failed deserialization of old type HRI triggers attempt at deserializing it as new-type a good one.&lt;/p&gt;

&lt;p&gt;Only other thought I had was of serializing new type with some MAGIC bytes first, magic that you discarded when undoing it.... but I think doing this will probably make things way more complicated.&lt;/p&gt;


&lt;blockquote&gt;&lt;p&gt;On 2011-06-02 23:07:01, Michael Stack wrote:&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&amp;gt; src/main/java/org/apache/hadoop/hbase/client/HConnectionManager.java, line 638&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&amp;gt; &amp;lt;&lt;a href=&quot;https://reviews.apache.org/r/849/diff/1/?file=20296#file20296line638&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.apache.org/r/849/diff/1/?file=20296#file20296line638&lt;/a&gt;&amp;gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&amp;gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&amp;gt;     What a crazy way of getting HTDs.&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;Subbu Iyer wrote:&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;You want to rename? suggestions?&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;No.  You removed it which is good.  I was just commenting on how crazy our old implementation was.&lt;/p&gt;


&lt;blockquote&gt;&lt;p&gt;On 2011-06-02 23:07:01, Michael Stack wrote:&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&amp;gt; src/main/java/org/apache/hadoop/hbase/ipc/HMasterInterface.java, line 216&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&amp;gt; &amp;lt;&lt;a href=&quot;https://reviews.apache.org/r/849/diff/1/?file=20301#file20301line216&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.apache.org/r/849/diff/1/?file=20301#file20301line216&lt;/a&gt;&amp;gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&amp;gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&amp;gt;     Do we need these last two? Can&apos;t we use this first method to get the latter?&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;Subbu Iyer wrote:&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;We definitely can. Thought we can avoid iterating over the loop esp if we have large number of tables in the cluster.&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;Up to you.  Just seems a little gratuitous adding these three methods.   If you can cut out one at least....?&lt;/p&gt;


&lt;blockquote&gt;&lt;p&gt;On 2011-06-02 23:07:01, Michael Stack wrote:&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&amp;gt; src/main/java/org/apache/hadoop/hbase/master/MasterFileSystem.java, line 473&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&amp;gt; &amp;lt;&lt;a href=&quot;https://reviews.apache.org/r/849/diff/1/?file=20305#file20305line473&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.apache.org/r/849/diff/1/?file=20305#file20305line473&lt;/a&gt;&amp;gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&amp;gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&amp;gt;     I wonder if you have to create the file elsewhere and then do a rename to put it in place?  Else if crash, could be half-written?  Do we do this w/ .regioninfo?&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;Subbu Iyer wrote:&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;Let me check this. I have seen this creating in tmp and renaming it later pattern.&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;Yes.  Odd things can happen when regionserver crashes mid-writing.  Zero files that make no sense. Table schema would be pretty bad to lose.&lt;/p&gt;


&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;Michael&lt;/li&gt;
&lt;/ul&gt;



&lt;p&gt;-----------------------------------------------------------&lt;br/&gt;
This is an automatically generated e-mail. To reply, visit:&lt;br/&gt;
&lt;a href=&quot;https://reviews.apache.org/r/849/#review749&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.apache.org/r/849/#review749&lt;/a&gt;&lt;br/&gt;
-----------------------------------------------------------&lt;/p&gt;


&lt;p&gt;On 2011-06-02 20:52:15, Michael Stack wrote:&lt;/p&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;-----------------------------------------------------------&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;This is an automatically generated e-mail. To reply, visit:&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;a href=&quot;https://reviews.apache.org/r/849/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.apache.org/r/849/&lt;/a&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;-----------------------------------------------------------&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;(Updated 2011-06-02 20:52:15)&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;Review request for hbase.&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;Summary&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;-------&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;Posting for Subbu  See issue for his description of change.&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;This addresses bug &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-451&quot; title=&quot;Remove HTableDescriptor from HRegionInfo&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-451&quot;&gt;&lt;del&gt;HBASE-451&lt;/del&gt;&lt;/a&gt;.&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-451&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/browse/HBASE-451&lt;/a&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;Diffs&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;-----&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;src/main/java/org/apache/hadoop/hbase/HConstants.java bd4c64c &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;src/main/java/org/apache/hadoop/hbase/HRegionInfo.java 9502b1d &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;src/main/java/org/apache/hadoop/hbase/HRegionInfoForMigration.java PRE-CREATION &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;src/main/java/org/apache/hadoop/hbase/KeyValue.java 7033800 &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;src/main/java/org/apache/hadoop/hbase/catalog/MetaEditor.java a25b0f0 &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;src/main/java/org/apache/hadoop/hbase/catalog/MetaReader.java eb57197 &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;src/main/java/org/apache/hadoop/hbase/client/HBaseAdmin.java 7594822 &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;src/main/java/org/apache/hadoop/hbase/client/HConnection.java f722155 &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;src/main/java/org/apache/hadoop/hbase/client/HConnectionManager.java 94ee1a0 &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;src/main/java/org/apache/hadoop/hbase/client/HTable.java c82e1dd &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;src/main/java/org/apache/hadoop/hbase/client/MetaScanner.java 2734f30 &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;src/main/java/org/apache/hadoop/hbase/client/UnmodifyableHRegionInfo.java 23e7a6b &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;src/main/java/org/apache/hadoop/hbase/io/HbaseObjectWritable.java d531b8d &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;src/main/java/org/apache/hadoop/hbase/ipc/HMasterInterface.java 4704c39 &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;src/main/java/org/apache/hadoop/hbase/master/AssignmentManager.java 38914a8 &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;src/main/java/org/apache/hadoop/hbase/master/CatalogJanitor.java 5b4a4b7 &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;src/main/java/org/apache/hadoop/hbase/master/HMaster.java b8489ac &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;src/main/java/org/apache/hadoop/hbase/master/MasterFileSystem.java b22a3e4 &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;src/main/java/org/apache/hadoop/hbase/master/handler/ClosedRegionHandler.java c98ed17 &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;src/main/java/org/apache/hadoop/hbase/master/handler/DeleteTableHandler.java 5a8bb20 &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;src/main/java/org/apache/hadoop/hbase/master/handler/ModifyTableHandler.java 6380520 &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;src/main/java/org/apache/hadoop/hbase/master/handler/OpenedRegionHandler.java 3d16e47 &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;src/main/java/org/apache/hadoop/hbase/master/handler/ServerShutdownHandler.java dace150 &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;src/main/java/org/apache/hadoop/hbase/master/handler/TableAddFamilyHandler.java fcea483 &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;src/main/java/org/apache/hadoop/hbase/master/handler/TableDeleteFamilyHandler.java a963c6c &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;src/main/java/org/apache/hadoop/hbase/master/handler/TableModifyFamilyHandler.java 4029893 &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;src/main/java/org/apache/hadoop/hbase/regionserver/HRegion.java e5bd154 &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;src/main/java/org/apache/hadoop/hbase/regionserver/LogRoller.java 9ccf248 &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;src/main/java/org/apache/hadoop/hbase/regionserver/SplitTransaction.java 072fd8d &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;src/main/java/org/apache/hadoop/hbase/regionserver/Store.java 21468ad &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;src/main/java/org/apache/hadoop/hbase/regionserver/handler/OpenRegionHandler.java ba2daa9 &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;src/main/java/org/apache/hadoop/hbase/regionserver/wal/HLog.java 0716788 &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;src/main/java/org/apache/hadoop/hbase/regionserver/wal/WALObserver.java 3def4b6 &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;src/main/java/org/apache/hadoop/hbase/replication/regionserver/Replication.java 1a87947 &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;src/main/java/org/apache/hadoop/hbase/util/FSUtils.java 3409108 &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;src/main/java/org/apache/hadoop/hbase/util/HBaseFsck.java 39591a0 &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;src/main/java/org/apache/hadoop/hbase/util/HMerge.java c07f8dc &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;src/main/java/org/apache/hadoop/hbase/util/MetaUtils.java 540d7df &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;src/main/java/org/apache/hadoop/hbase/util/RegionSplitter.java 6d0c803 &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;src/main/java/org/apache/hadoop/hbase/util/Writables.java 3e60f97 &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;src/test/java/org/apache/hadoop/hbase/HBaseTestCase.java 4c58791 &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;src/test/java/org/apache/hadoop/hbase/HBaseTestingUtility.java babd788 &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;src/test/java/org/apache/hadoop/hbase/TestCompare.java bbac815 &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;src/test/java/org/apache/hadoop/hbase/TestScanMultipleVersions.java 1f51703 &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;src/test/java/org/apache/hadoop/hbase/TestSerialization.java 05f0efc &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;src/test/java/org/apache/hadoop/hbase/TimestampTestBase.java 1105509 &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;src/test/java/org/apache/hadoop/hbase/client/TestFromClientSide.java c3b23fe &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;src/test/java/org/apache/hadoop/hbase/client/TestMetaMigration.java PRE-CREATION &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;src/test/java/org/apache/hadoop/hbase/client/TestTimestamp.java db42192 &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;src/test/java/org/apache/hadoop/hbase/coprocessor/TestCoprocessorInterface.java f0418d1 &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;src/test/java/org/apache/hadoop/hbase/coprocessor/TestRegionObserverInterface.java 46ba184 &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;src/test/java/org/apache/hadoop/hbase/coprocessor/TestRegionObserverStacking.java 18380c6 &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;src/test/java/org/apache/hadoop/hbase/coprocessor/TestWALObserver.java 19397fb &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;src/test/java/org/apache/hadoop/hbase/filter/TestColumnPrefixFilter.java e1eb02a &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;src/test/java/org/apache/hadoop/hbase/filter/TestDependentColumnFilter.java 04705c3 &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;src/test/java/org/apache/hadoop/hbase/filter/TestFilter.java bfa3c72 &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;src/test/java/org/apache/hadoop/hbase/master/TestCatalogJanitor.java ada2af6 &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;src/test/java/org/apache/hadoop/hbase/master/TestDistributedLogSplitting.java ba87bc0 &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;src/test/java/org/apache/hadoop/hbase/master/TestLoadBalancer.java d909997 &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;src/test/java/org/apache/hadoop/hbase/master/TestMasterFailover.java 2022767 &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;src/test/java/org/apache/hadoop/hbase/master/TestMasterStatusServlet.java 1fef788 &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;src/test/java/org/apache/hadoop/hbase/regionserver/TestColumnSeeking.java e2f4507 &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;src/test/java/org/apache/hadoop/hbase/regionserver/TestCompactSelection.java 48fa162 &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;src/test/java/org/apache/hadoop/hbase/regionserver/TestGetClosestAtOrBefore.java 3b7c7e8 &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;src/test/java/org/apache/hadoop/hbase/regionserver/TestHRegion.java e106b45 &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;src/test/java/org/apache/hadoop/hbase/regionserver/TestHRegionInfo.java 516139b &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;src/test/java/org/apache/hadoop/hbase/regionserver/TestRSStatusServlet.java 40d352e &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;src/test/java/org/apache/hadoop/hbase/regionserver/TestResettingCounters.java f092371 &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;src/test/java/org/apache/hadoop/hbase/regionserver/TestScanner.java ef8a4b2 &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;src/test/java/org/apache/hadoop/hbase/regionserver/TestSplitTransaction.java b85b912 &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;src/test/java/org/apache/hadoop/hbase/regionserver/TestStore.java dbe5fb1 &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;src/test/java/org/apache/hadoop/hbase/regionserver/TestWideScanner.java 2cc197f &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;src/test/java/org/apache/hadoop/hbase/regionserver/handler/TestOpenRegionHandler.java bcf9024 &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;src/test/java/org/apache/hadoop/hbase/regionserver/wal/TestHLog.java e2c158a &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;src/test/java/org/apache/hadoop/hbase/regionserver/wal/TestWALObserver.java 5b95154 &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;src/test/java/org/apache/hadoop/hbase/regionserver/wal/TestWALReplay.java 4de5b95 &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;src/test/java/org/apache/hadoop/hbase/replication/regionserver/TestReplicationSourceManager.java 3f9302a &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;src/test/java/org/apache/hadoop/hbase/rest/model/TestTableRegionModel.java c02dfda &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;src/test/java/org/apache/hadoop/hbase/util/TestHBaseFsck.java a6bdbe0 &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;src/test/java/org/apache/hadoop/hbase/util/TestMergeTable.java 3039df2 &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;src/test/java/org/apache/hadoop/hbase/util/TestMergeTool.java 18cd055 &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;Diff: &lt;a href=&quot;https://reviews.apache.org/r/849/diff&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.apache.org/r/849/diff&lt;/a&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;Testing&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;-------&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;Thanks,&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;Michael&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
</comment>
                            <comment id="13045604" author="iamknome" created="Tue, 7 Jun 2011 19:56:22 +0000"  >&lt;p&gt;Added second version of patch.&lt;/p&gt;

&lt;p&gt;Major changes include:&lt;br/&gt;
1. Moved old school HRI to migration package and renamed it to HRegionInfo090x.&lt;br/&gt;
2. Creating new .tableInfo in HDFS now follows the two step approach like .regionInfo. First create the file under .tmp and then rename it on successful create.&lt;br/&gt;
3. Addressed most of the review call outs.&lt;/p&gt;</comment>
                            <comment id="13045615" author="iamknome" created="Tue, 7 Jun 2011 20:26:39 +0000"  >&lt;p&gt;I have one open issue on this.&lt;/p&gt;

&lt;p&gt;I need to address the cases when master crashes half way through the HRI migration process. I would like to address it as part of another JIRA as 1. I don&apos;t want to keep such a big change in my local with out commit for a long time 2) Also, it is easier for me to work on this issue off trunk rather than my local. (since I can be sure that everything else works and remains intact) 3) This will also help me keep my changes to a minimum and avoid a tedious patch work.&lt;/p&gt;

&lt;p&gt;Any thoughts/comments?&lt;/p&gt;</comment>
                            <comment id="13045709" author="stack" created="Tue, 7 Jun 2011 23:50:22 +0000"  >&lt;p&gt;@Subbu Please make a new blocker issue to deal w/ failed migration of .META.   Lets get whats here in independent of that fixup.&lt;/p&gt;</comment>
                            <comment id="13045710" author="stack" created="Tue, 7 Jun 2011 23:56:16 +0000"  >&lt;p&gt;@Subbu I went to apply the patch to run tests but I&apos;m getting way too many rejects.  Have you git pulled recently?  Mind taking a look? (Otherwise patch looks good).&lt;/p&gt;</comment>
                            <comment id="13045777" author="iamknome" created="Wed, 8 Jun 2011 04:53:05 +0000"  >&lt;p&gt;Stack: Sure. My git pull is one week old and looks like I will have to manually merge it (as I have more than 80+ files for this change) to latest and get a patch out of it. I am working on it.&lt;/p&gt;
</comment>
                            <comment id="13046681" author="iamknome" created="Thu, 9 Jun 2011 17:14:23 +0000"  >&lt;p&gt;I have created a new trunk snapshot last evening and applied my patch as well as resolved the conflicts.&lt;/p&gt;

&lt;p&gt;All tests have passed except the two below.&lt;br/&gt;
1. TestReplication.queueFailover - I see a very informative note on this failure in the test as shown below, so I would&lt;br/&gt;
   think that this is not due to &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-451&quot; title=&quot;Remove HTableDescriptor from HRegionInfo&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-451&quot;&gt;&lt;del&gt;HBASE-451&lt;/del&gt;&lt;/a&gt; changes.&lt;br/&gt;
	&amp;#8211; WARNING this test sometimes fails because of &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-3515&quot; title=&quot;[replication] ReplicationSource can miss a log after RS comes out of GC&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-3515&quot;&gt;&lt;del&gt;HBASE-3515&lt;/del&gt;&lt;/a&gt;&lt;br/&gt;
2. TestMasterFailover - Need to research more.&lt;/p&gt;

&lt;p&gt;Both these tests passed in my older snapshot build (which is one week+ old) and I will review it closer again.&lt;br/&gt;
Also, a closer look at the failure log shows that these failures may not be due to &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-451&quot; title=&quot;Remove HTableDescriptor from HRegionInfo&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-451&quot;&gt;&lt;del&gt;HBASE-451&lt;/del&gt;&lt;/a&gt; changes.&lt;/p&gt;

&lt;p&gt;Here are my priorities now:&lt;br/&gt;
1. Address failures from your test run.&lt;br/&gt;
2. Work on the issue of master crash during meta migration at startup.&lt;/p&gt;</comment>
                            <comment id="13046920" author="stack" created="Thu, 9 Jun 2011 23:44:00 +0000"  >&lt;p&gt;I&apos;m trying your patch over here Subbu.  We can compare notes.&lt;/p&gt;</comment>
                            <comment id="13047493" author="stack" created="Fri, 10 Jun 2011 21:58:56 +0000"  >&lt;p&gt;These failed for me Subbu:&lt;/p&gt;

&lt;p&gt;Running org.apache.hadoop.hbase.client.TestScannerTimeout&lt;br/&gt;
Tests run: 4, Failures: 0, Errors: 1, Skipped: 0, Time elapsed: 161.889 sec &amp;lt;&amp;lt;&amp;lt; FAILURE!&lt;/p&gt;

&lt;p&gt;Running org.apache.hadoop.hbase.util.TestMergeTool&lt;br/&gt;
Tests run: 1, Failures: 1, Errors: 0, Skipped: 0, Time elapsed: 5.363 sec &amp;lt;&amp;lt;&amp;lt; FAILURE!&lt;/p&gt;

&lt;p&gt;I retried these tests and indeed they are failing.&lt;/p&gt;</comment>
                            <comment id="13047764" author="iamknome" created="Fri, 10 Jun 2011 23:24:40 +0000"  >&lt;p&gt;Stack:&lt;/p&gt;

&lt;p&gt;Can you attach the output/log for both the tests? I will try to troubleshoot the root cause.&lt;/p&gt;

&lt;p&gt;thanks&lt;/p&gt;</comment>
                            <comment id="13047816" author="iamknome" created="Sat, 11 Jun 2011 01:34:40 +0000"  >&lt;p&gt;Stack:&lt;/p&gt;

&lt;p&gt;I ran both these tests on my local version and both are passing. &lt;/p&gt;

&lt;p&gt;Please attach your output/error log so I can see what&apos;s happening. Also would help if u can attach your version of both the test files so I can compare if there is missing there. &lt;/p&gt;

&lt;p&gt;thanks&lt;/p&gt;



&lt;p&gt;-------------------------------------------------------&lt;br/&gt;
 T E S T S&lt;br/&gt;
-------------------------------------------------------&lt;br/&gt;
Running org.apache.hadoop.hbase.client.TestScannerTimeout&lt;br/&gt;
Tests run: 4, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 58.164 sec&lt;/p&gt;

&lt;p&gt;Results :&lt;/p&gt;

&lt;p&gt;Tests run: 4, Failures: 0, Errors: 0, Skipped: 0&lt;/p&gt;

&lt;p&gt;&lt;span class=&quot;error&quot;&gt;&amp;#91;INFO&amp;#93;&lt;/span&gt; ------------------------------------------------------------------------&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;INFO&amp;#93;&lt;/span&gt; BUILD SUCCESS&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;INFO&amp;#93;&lt;/span&gt; ------------------------------------------------------------------------&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;INFO&amp;#93;&lt;/span&gt; Total time: 1:06.905s&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;INFO&amp;#93;&lt;/span&gt; Finished at: Fri Jun 10 18:30:43 PDT 2011&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;INFO&amp;#93;&lt;/span&gt; Final Memory: 18M/81M&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;INFO&amp;#93;&lt;/span&gt; ------------------------------------------------------------------------&lt;/p&gt;




&lt;p&gt;-------------------------------------------------------&lt;br/&gt;
 T E S T S&lt;br/&gt;
-------------------------------------------------------&lt;br/&gt;
Running org.apache.hadoop.hbase.util.TestMergeTool&lt;br/&gt;
Tests run: 1, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 120.018 sec&lt;/p&gt;

&lt;p&gt;Results :&lt;/p&gt;

&lt;p&gt;Tests run: 1, Failures: 0, Errors: 0, Skipped: 0&lt;/p&gt;

&lt;p&gt;&lt;span class=&quot;error&quot;&gt;&amp;#91;INFO&amp;#93;&lt;/span&gt; ------------------------------------------------------------------------&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;INFO&amp;#93;&lt;/span&gt; BUILD SUCCESS&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;INFO&amp;#93;&lt;/span&gt; ------------------------------------------------------------------------&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;INFO&amp;#93;&lt;/span&gt; Total time: 2:21.650s&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;INFO&amp;#93;&lt;/span&gt; Finished at: Fri Jun 10 16:47:04 PDT 2011&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;INFO&amp;#93;&lt;/span&gt; Final Memory: 18M/81M&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;INFO&amp;#93;&lt;/span&gt; ------------------------------------------------------------------------&lt;/p&gt;</comment>
                            <comment id="13047840" author="stack" created="Sat, 11 Jun 2011 04:57:27 +0000"  >&lt;p&gt;They pass for you?  If so, lets commit and figure it out later?  You want me to commit the fourth draft?&lt;/p&gt;</comment>
                            <comment id="13047879" author="iamknome" created="Sat, 11 Jun 2011 11:00:10 +0000"  >&lt;p&gt;Yes i would vote for a commit, so that, 1. It is easier to reproduce and fix for me 2) We can avoid another manual merge process as we won&apos;t be too much off from trunk.&lt;/p&gt;

&lt;p&gt;Let me know after a commit and I will work on these two tests if they are reproducible.&lt;/p&gt;

&lt;p&gt;thanks Stack.&lt;/p&gt;</comment>
                            <comment id="13048986" author="stack" created="Tue, 14 Jun 2011 05:43:04 +0000"  >&lt;p&gt;@Subbu I just committed &apos;&lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-451&quot; title=&quot;Remove HTableDescriptor from HRegionInfo&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-451&quot;&gt;&lt;del&gt;HBASE-451&lt;/del&gt;&lt;/a&gt;_-_Fourth_draft_support_for_removing_HTD_from_HRI.patch&apos; (Thats, right?)  Let me write the list to warn devs that TRUNK will be a little wonky for a while while we stabilize it.  Good stuff.&lt;/p&gt;</comment>
                            <comment id="13049255" author="iamknome" created="Tue, 14 Jun 2011 16:24:12 +0000"  >&lt;p&gt;Thanks Stack. I will work on fixing failing tests if any.&lt;/p&gt;

&lt;p&gt;I also have a fix for the master crash half way through the META migration that will be addressed as part of another JIRA we created.&lt;/p&gt;</comment>
                            <comment id="13049422" author="stack" created="Tue, 14 Jun 2011 21:09:00 +0000"  >&lt;p&gt;Subbu.  TestAdmin is only test failing because of this commit.  Reason its failing is because of our test of many concurrent table creates.  I think the writing of the tableinfo file makes this all a little more complicated.  I did a bit of cleanup in the attached patch. One byproduct is that now HRegion knows nothing of HTableDesc (we no longer try and create the tableinfo everytime we create a region &amp;#8211; that seems a little wonky reaching up to the directory above....)   What you think?&lt;/p&gt;</comment>
                            <comment id="13049424" author="stack" created="Tue, 14 Jun 2011 21:09:30 +0000"  >&lt;p&gt;Oh, patch fixes TestAdmin.  Currently I&apos;m testing to see if I broke others unit tests.&lt;/p&gt;</comment>
                            <comment id="13049486" author="stack" created="Tue, 14 Jun 2011 22:37:53 +0000"  >&lt;p&gt;Hmm.  Ignore the patch Subbu.  I see that you read the tableinfo from the fs on each region open rather than have it passed in on the constructor.  Why do the former than the latter?  I&apos;d think the latter better?  The region host will have the current HTableDesc?  If its passed in on the constructor, down the road the host can change it and the region will pick up the changes?  Did you go the route of reading from the fs because you would not change the APIs for region creation?  Thats a fair enough reason only I&apos;d say these are all server-side APIs so no need for the deprecate cycle, etc.&lt;/p&gt;</comment>
                            <comment id="13049487" author="iamknome" created="Tue, 14 Jun 2011 22:39:38 +0000"  >&lt;p&gt;Stack: Is it really working with out HTD in createHRegion? &lt;/p&gt;

&lt;p&gt;We are creating the .tableInfo as part of createHRegion call and we won&apos;t be able to create a .tableInfo if HTD is not passed. Also with out .tableInfo &amp;amp; HTD during createHRegion most of the tests will fail.&lt;/p&gt;

&lt;p&gt;I understand it&apos;s kinda wonky to create a .tableInfo for every region creation, and my original idea was just to do it once at the time of create table. But there are lot of tests that just create a region (bypassing the create table and thus no HTD or tableinfo) and to support those cases I had to add this wonky support.&lt;/p&gt;

&lt;p&gt;Let me know how it looks with ur latest patch. &lt;/p&gt;</comment>
                            <comment id="13049536" author="stack" created="Wed, 15 Jun 2011 00:13:58 +0000"  >&lt;blockquote&gt;&lt;p&gt;Stack: Is it really working with out HTD in createHRegion?&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;No (smile).&lt;/p&gt;

&lt;p&gt;But I&apos;m thinking that rather than have every region do a read of this file, instead we should pass in an HTD.  This means changing the API for HRegion because it used to be part of passed in HRI.  I can do this, np.  Just say.&lt;/p&gt;

&lt;p&gt;Another i&apos;m having is concurrent create of a table.  The TestAdmin is failing doing this because the concurrent ops on the fs are running into interesting scenarios.  I can work on this too, np.&lt;/p&gt;</comment>
                            <comment id="13049849" author="iamknome" created="Wed, 15 Jun 2011 16:35:37 +0000"  >&lt;p&gt;Hi Stack:&lt;/p&gt;

&lt;p&gt;I did see this problem with concurrent create and fixed it before, but looks like it slipped through the cracks. Here is a simple fix that addresses this and I have attached the patch. I validated that the TestAdmin passes on my latest trunk snapshot.&lt;/p&gt;

&lt;p&gt;Please let me know if any other tests are failing like TestMergeTool and TestSCannerTimeOut. I am kind of confused on why it failed it consistently before for you and it passed suddenly. May be some other networking blip/timeout or some thing?&lt;/p&gt;

&lt;p&gt;Regarding passing HTD as a variable in constructor: I did have one version of patch which had both the constructors and for some mysterious reasons (which I could never figure out), whenever I created a HREgion with HTD in the constructor, the PUTS will hang while trying to compute the MemStore size. (@ MemStore.internalAdd - this.size.addAndGet(s)&lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/wink.gif&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;. I have spent like days on this before giving it up and sticking to only doing so at create time.&lt;/p&gt;

&lt;p&gt;By all means please feel free to make changes as you see fit and I am all open for it. I definitely want to take another pass at this once trunk is stabilized. &lt;/p&gt;

&lt;p&gt;thanks for your help/support on this.&lt;/p&gt;</comment>
                            <comment id="13049857" author="iamknome" created="Wed, 15 Jun 2011 16:42:09 +0000"  >&lt;p&gt;Please use TestAdmin1.patch as I accidentally included my pom changes. &lt;/p&gt;

&lt;p&gt;For some reason the latest trunk is failing for me when I do a compile. I am still using old POM to make thins work. Any ideas why?&lt;/p&gt;</comment>
                            <comment id="13049880" author="stack" created="Wed, 15 Jun 2011 16:58:28 +0000"  >&lt;p&gt;@Subbu You are current?&lt;/p&gt;</comment>
                            <comment id="13049903" author="stack" created="Wed, 15 Jun 2011 17:19:16 +0000"  >&lt;p&gt;The patch fixes TestAdmin so I committed it.  Let me look at changing how HTD gets into HR (thanks for headsup about the Puts fail).&lt;/p&gt;</comment>
                            <comment id="13049965" author="iamknome" created="Wed, 15 Jun 2011 19:08:02 +0000"  >&lt;p&gt;Stack: can you please confirm that all tests are now passing?&lt;/p&gt;

&lt;p&gt;Also regarding my build, this is what I get when I compile goal from Idea.&lt;/p&gt;

&lt;p&gt;I simply rolled back my pom to a previous version (Revision 1099198) to make things work. Any ideas how I can fix this?&lt;/p&gt;


&lt;p&gt;=========================================================================================&lt;/p&gt;

&lt;p&gt;/System/Library/Java/JavaVirtualMachines/1.6.0.jdk/Contents/Home/bin/java -Dclassworlds.conf=/work/maven/apache-maven-3.0.2/bin/m2.conf -Dmaven.home=/work/maven/apache-maven-3.0.2 -Dfile.encoding=MacRoman -classpath /work/maven/apache-maven-3.0.2/boot/plexus-classworlds-2.4.jar org.codehaus.classworlds.Launcher --no-plugin-registry --fail-fast --no-plugin-updates --strict-checksums --update-snapshots -f /work/HBaseTrunk0615/hbase/pom.xml compile&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;WARNING&amp;#93;&lt;/span&gt; Command line option -npu is deprecated and will be removed in future Maven versions.&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;WARNING&amp;#93;&lt;/span&gt; Command line option -npr is deprecated and will be removed in future Maven versions.&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;INFO&amp;#93;&lt;/span&gt; Scanning for projects...&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;WARNING&amp;#93;&lt;/span&gt; &lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;WARNING&amp;#93;&lt;/span&gt; Some problems were encountered while building the effective model for org.apache.hbase:hbase:jar:0.91.0-SNAPSHOT&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;WARNING&amp;#93;&lt;/span&gt; &apos;build.plugins.plugin.version&apos; for org.apache.maven.plugins:maven-eclipse-plugin is missing. @ line 574, column 15&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;WARNING&amp;#93;&lt;/span&gt; &lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;WARNING&amp;#93;&lt;/span&gt; It is highly recommended to fix these problems because they threaten the stability of your build.&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;WARNING&amp;#93;&lt;/span&gt; &lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;WARNING&amp;#93;&lt;/span&gt; For this reason, future Maven versions might no longer support building such malformed projects.&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;WARNING&amp;#93;&lt;/span&gt; &lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;INFO&amp;#93;&lt;/span&gt;                                                                         &lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;INFO&amp;#93;&lt;/span&gt; ------------------------------------------------------------------------&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;INFO&amp;#93;&lt;/span&gt; Building HBase 0.91.0-SNAPSHOT&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;INFO&amp;#93;&lt;/span&gt; ------------------------------------------------------------------------&lt;br/&gt;
Downloading: &lt;a href=&quot;http://repo1.maven.org/maven2/org/apache/maven/plugins/maven-eclipse-plugin/maven-metadata.xml&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://repo1.maven.org/maven2/org/apache/maven/plugins/maven-eclipse-plugin/maven-metadata.xml&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;span class=&quot;error&quot;&gt;&amp;#91;WARNING&amp;#93;&lt;/span&gt; Could not transfer metadata org.apache.maven.plugins:maven-eclipse-plugin/maven-metadata.xml from/to central (&lt;a href=&quot;http://repo1.maven.org/maven2):&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://repo1.maven.org/maven2):&lt;/a&gt; Error transferring file: repo1.maven.org&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;INFO&amp;#93;&lt;/span&gt; &lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;INFO&amp;#93;&lt;/span&gt; &amp;#8212; maven-antrun-plugin:1.6:run (generate) @ hbase &amp;#8212;&lt;br/&gt;
Downloading: &lt;a href=&quot;http://repo1.maven.org/maven2/org/apache/maven/maven-plugin-api/2.0.11/maven-plugin-api-2.0.11.pom&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://repo1.maven.org/maven2/org/apache/maven/maven-plugin-api/2.0.11/maven-plugin-api-2.0.11.pom&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Downloading: &lt;a href=&quot;http://repo1.maven.org/maven2/org/apache/maven/maven-project/2.0.11/maven-project-2.0.11.pom&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://repo1.maven.org/maven2/org/apache/maven/maven-project/2.0.11/maven-project-2.0.11.pom&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Downloading: &lt;a href=&quot;http://repo1.maven.org/maven2/org/apache/maven/maven-artifact/2.0.11/maven-artifact-2.0.11.pom&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://repo1.maven.org/maven2/org/apache/maven/maven-artifact/2.0.11/maven-artifact-2.0.11.pom&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Downloading: &lt;a href=&quot;http://repo1.maven.org/maven2/org/codehaus/plexus/plexus-utils/2.0.5/plexus-utils-2.0.5.pom&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://repo1.maven.org/maven2/org/codehaus/plexus/plexus-utils/2.0.5/plexus-utils-2.0.5.pom&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Downloading: &lt;a href=&quot;http://repo1.maven.org/maven2/org/apache/ant/ant-nodeps/1.8.1/ant-nodeps-1.8.1.pom&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://repo1.maven.org/maven2/org/apache/ant/ant-nodeps/1.8.1/ant-nodeps-1.8.1.pom&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;span class=&quot;error&quot;&gt;&amp;#91;INFO&amp;#93;&lt;/span&gt; ------------------------------------------------------------------------&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;INFO&amp;#93;&lt;/span&gt; BUILD FAILURE&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;INFO&amp;#93;&lt;/span&gt; ------------------------------------------------------------------------&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;INFO&amp;#93;&lt;/span&gt; Total time: 2.576s&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;INFO&amp;#93;&lt;/span&gt; Finished at: Wed Jun 15 12:03:30 PDT 2011&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;INFO&amp;#93;&lt;/span&gt; Final Memory: 5M/81M&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;INFO&amp;#93;&lt;/span&gt; ------------------------------------------------------------------------&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;ERROR&amp;#93;&lt;/span&gt; Failed to execute goal org.apache.maven.plugins:maven-antrun-plugin:1.6:run (generate) on project hbase: Execution generate of goal org.apache.maven.plugins:maven-antrun-plugin:1.6:run failed: Plugin org.apache.maven.plugins:maven-antrun-plugin:1.6 or one of its dependencies could not be resolved: Failed to collect dependencies for org.apache.maven.plugins:maven-antrun-plugin:jar:1.6 (): Failed to read artifact descriptor for org.apache.maven:maven-plugin-api:jar:2.0.11: Could not transfer artifact org.apache.maven:maven-plugin-api:pom:2.0.11 from/to central (&lt;a href=&quot;http://repo1.maven.org/maven2):&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://repo1.maven.org/maven2):&lt;/a&gt; Error transferring file: repo1.maven.org: Unknown host repo1.maven.org -&amp;gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;Help 1&amp;#93;&lt;/span&gt;&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;ERROR&amp;#93;&lt;/span&gt; &lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;ERROR&amp;#93;&lt;/span&gt; To see the full stack trace of the errors, re-run Maven with the -e switch.&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;ERROR&amp;#93;&lt;/span&gt; Re-run Maven using the -X switch to enable full debug logging.&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;ERROR&amp;#93;&lt;/span&gt; &lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;ERROR&amp;#93;&lt;/span&gt; For more information about the errors and possible solutions, please read the following articles:&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;ERROR&amp;#93;&lt;/span&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;Help 1&amp;#93;&lt;/span&gt; &lt;a href=&quot;http://cwiki.apache.org/confluence/display/MAVEN/PluginResolutionException&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://cwiki.apache.org/confluence/display/MAVEN/PluginResolutionException&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Process finished with exit code 1&lt;/p&gt;</comment>
                            <comment id="13050706" author="stack" created="Thu, 16 Jun 2011 20:23:02 +0000"  >&lt;p&gt;Just did a test and now all pass (one at least was broke but not your fault).  Not sure whats going on w/ your build.  What version of mvn?&lt;/p&gt;</comment>
                            <comment id="13050903" author="stack" created="Fri, 17 Jun 2011 05:45:59 +0000"  >&lt;p&gt;First cut at passing HTD rather than have HRegion read it from fs every time on construction.&lt;/p&gt;

&lt;p&gt;Compiles.  Haven&apos;t tried all tests yet.  Posting in case you want to have a look Subbu, see if direction looks right.&lt;/p&gt;</comment>
                            <comment id="13050978" author="hudson" created="Fri, 17 Jun 2011 11:00:05 +0000"  >&lt;p&gt;Integrated in HBase-TRUNK #1976 (See &lt;a href=&quot;https://builds.apache.org/job/HBase-TRUNK/1976/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/HBase-TRUNK/1976/&lt;/a&gt;)&lt;/p&gt;
</comment>
                            <comment id="13051197" author="iamknome" created="Fri, 17 Jun 2011 17:03:05 +0000"  >&lt;p&gt;Stack: &lt;/p&gt;

&lt;p&gt;Checked your patch and this is exactly what I was trying to fight with. Hopefully it works this time. A simple test would be to run the TestColumnPrefixFilter and see if it succeeds. It used to hang around the PUT and it is a positive sign if this one succeeds.&lt;/p&gt;

&lt;p&gt;Let me know your findings. My MVN version is 3.0.2 and as I mentioned my problem occurs only with newer version of pom.    &lt;/p&gt;</comment>
                            <comment id="13051397" author="stack" created="Fri, 17 Jun 2011 23:23:13 +0000"  >&lt;p&gt;All but three pass (TestColumnPrefixFilter passes).  Let me clean up this patch and fix outstanding tests.&lt;/p&gt;</comment>
                            <comment id="13052582" author="yuzhihong@gmail.com" created="Tue, 21 Jun 2011 14:10:37 +0000"  >&lt;p&gt;I ran tests based on pass_htd_on_region_construction.txt and only got one failure:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
testSizes(org.apache.hadoop.hbase.io.TestHeapSize)  Time elapsed: 0.023 sec  &amp;lt;&amp;lt;&amp;lt; FAILURE!
junit.framework.AssertionFailedError: expected:&amp;lt;296&amp;gt; but was:&amp;lt;304&amp;gt;
        at junit.framework.Assert.fail(Assert.java:47)
        at junit.framework.Assert.failNotEquals(Assert.java:283)
        at junit.framework.Assert.assertEquals(Assert.java:64)
        at junit.framework.Assert.assertEquals(Assert.java:130)
        at junit.framework.Assert.assertEquals(Assert.java:136)
        at org.apache.hadoop.hbase.io.TestHeapSize.testSizes(TestHeapSize.java:309)
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</comment>
                            <comment id="13052678" author="stack" created="Tue, 21 Jun 2011 17:22:47 +0000"  >&lt;p&gt;Thanks Ted. I&apos;ll fix that one.  I&apos;ve a new patch coming though... one sec. (Its taken me a while).&lt;/p&gt;</comment>
                            <comment id="13052683" author="stack" created="Tue, 21 Jun 2011 17:27:38 +0000"  >&lt;p&gt;New patch.  Gathers up the getting and setting of TableDescriptors under new TableDescriptors interface; we supply an implemenation that goes against FS (this does reading/writing of the .tableinfo files).&lt;/p&gt;

&lt;p&gt;Any chance of a quick review Subbu?&lt;/p&gt;

&lt;p&gt;Tests passing but they are not finished.&lt;/p&gt;</comment>
                            <comment id="13052697" author="jdcryans" created="Tue, 21 Jun 2011 17:39:41 +0000"  >&lt;p&gt;+1, kinda hard to review because of all the side effects of passing the HTD but Stack walked me through.&lt;/p&gt;</comment>
                            <comment id="13052745" author="stack" created="Tue, 21 Jun 2011 18:33:19 +0000"  >&lt;p&gt;OK.  I committed patch after a few little fixes for a few failing tests found.&lt;/p&gt;</comment>
                            <comment id="13052747" author="stack" created="Tue, 21 Jun 2011 18:34:02 +0000"  >&lt;p&gt;Let me resolve this issue.  We&apos;ve had enough fun and games in here, please its over 3 years old.&lt;/p&gt;</comment>
                            <comment id="13052749" author="stack" created="Tue, 21 Jun 2011 18:35:14 +0000"  >&lt;p&gt;Resolving.  Thanks for nice work Subbu.&lt;/p&gt;</comment>
                            <comment id="13054635" author="apurtell" created="Fri, 24 Jun 2011 19:16:02 +0000"  >&lt;p&gt;TestFSTableDescriptors.testHTableDescriptors has been broken since revision 1138120 (&quot;&lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-451&quot; title=&quot;Remove HTableDescriptor from HRegionInfo&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-451&quot;&gt;&lt;del&gt;HBASE-451&lt;/del&gt;&lt;/a&gt; Remove HTableDescriptor from HRegionInfo &amp;#8211; part 2, some cleanup&quot;)&lt;/p&gt;</comment>
                            <comment id="13054642" author="ghelmling" created="Fri, 24 Jun 2011 19:40:15 +0000"  >&lt;p&gt;TestTableMapReduce seems to be hanging consistently on a master abort.  From the logs, it looks like it&apos;s related to these changes, particularly:&lt;/p&gt;

&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;2011-06-24 12:30:29,159 INFO  [PRI IPC Server handler 9 on 42359] regionserver.HRegionServer(2300): Received request to open 25 region(s)
2011-06-24 12:30:29,159 INFO  [PRI IPC Server handler 9 on 42359] regionserver.HRegionServer(2283): Received request to open region: mrtest,,1308943786187.294c624b4dca488152adc33fb47ffba6.
2011-06-24 12:30:29,166 DEBUG [PRI IPC Server handler 9 on 42359] util.FSUtils(943): Exception during readTableDecriptor. Current table name = mrtest
java.io.IOException: Cannot open filename /user/ghelmling/mrtest/.tableinfo
        at org.apache.hadoop.hdfs.DFSClient$DFSInputStream.openInfo(DFSClient.java:1527)
        at org.apache.hadoop.hdfs.DFSClient$DFSInputStream.&amp;lt;init&amp;gt;(DFSClient.java:1518)
        at org.apache.hadoop.hdfs.DFSClient.open(DFSClient.java:384)
        at org.apache.hadoop.hdfs.DistributedFileSystem.open(DistributedFileSystem.java:178)
        at org.apache.hadoop.fs.FileSystem.open(FileSystem.java:356)
        at org.apache.hadoop.hbase.util.FSUtils.getTableDescriptor(FSUtils.java:953)
        at org.apache.hadoop.hbase.util.FSUtils.getTableDescriptor(FSUtils.java:938)
        at org.apache.hadoop.hbase.util.FSTableDescriptors.get(FSTableDescriptors.java:130)
        at org.apache.hadoop.hbase.util.FSTableDescriptors.get(FSTableDescriptors.java:99)
        at org.apache.hadoop.hbase.regionserver.HRegionServer.openRegion(HRegionServer.java:2286)
        at org.apache.hadoop.hbase.regionserver.HRegionServer.openRegions(HRegionServer.java:2301)
        at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
        at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)
        at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)
        at java.lang.reflect.Method.invoke(Method.java:597)
        at org.apache.hadoop.hbase.ipc.WritableRpcEngine$Server.call(WritableRpcEngine.java:312)
        at org.apache.hadoop.hbase.ipc.HBaseServer$Handler.run(HBaseServer.java:1065)
2011-06-24 12:30:29,169 FATAL [ghelmling-laptop.local,52891,1308943821042-StartupBulkAssigner-0] master.HMaster(1198): Uncaught exception in ghelmling-laptop.local,52891,1308943821042-StartupBulkAssigner-0
java.lang.RuntimeException: org.apache.hadoop.ipc.RemoteException: org.apache.hadoop.hbase.TableExistsException: No descriptor for mrtest
        at org.apache.hadoop.hbase.util.FSTableDescriptors.get(FSTableDescriptors.java:134)
        at org.apache.hadoop.hbase.util.FSTableDescriptors.get(FSTableDescriptors.java:99)
        at org.apache.hadoop.hbase.regionserver.HRegionServer.openRegion(HRegionServer.java:2286)
        at org.apache.hadoop.hbase.regionserver.HRegionServer.openRegions(HRegionServer.java:2301)
        at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
        at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)
        at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)
        at java.lang.reflect.Method.invoke(Method.java:597)
        at org.apache.hadoop.hbase.ipc.WritableRpcEngine$Server.call(WritableRpcEngine.java:312)
        at org.apache.hadoop.hbase.ipc.HBaseServer$Handler.run(HBaseServer.java:1065)

        at org.apache.hadoop.hbase.master.AssignmentManager.assign(AssignmentManager.java:1088)
        at org.apache.hadoop.hbase.master.AssignmentManager$SingleServerBulkAssigner.run(AssignmentManager.java:1654)
        at java.util.concurrent.ThreadPoolExecutor$Worker.runTask(ThreadPoolExecutor.java:886)
        at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:908)
        at java.lang.Thread.run(Thread.java:662)
Caused by: org.apache.hadoop.ipc.RemoteException: org.apache.hadoop.hbase.TableExistsException: No descriptor for mrtest
        at org.apache.hadoop.hbase.util.FSTableDescriptors.get(FSTableDescriptors.java:134)
        at org.apache.hadoop.hbase.util.FSTableDescriptors.get(FSTableDescriptors.java:99)
        at org.apache.hadoop.hbase.regionserver.HRegionServer.openRegion(HRegionServer.java:2286)
        at org.apache.hadoop.hbase.regionserver.HRegionServer.openRegions(HRegionServer.java:2301)
        at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
        at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)
        at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)
        at java.lang.reflect.Method.invoke(Method.java:597)
        at org.apache.hadoop.hbase.ipc.WritableRpcEngine$Server.call(WritableRpcEngine.java:312)
        at org.apache.hadoop.hbase.ipc.HBaseServer$Handler.run(HBaseServer.java:1065)

        at org.apache.hadoop.hbase.ipc.HBaseClient.call(HBaseClient.java:837)
        at org.apache.hadoop.hbase.ipc.WritableRpcEngine$Invoker.invoke(WritableRpcEngine.java:141)
        at $Proxy10.openRegions(Unknown Source)
        at org.apache.hadoop.hbase.master.ServerManager.sendRegionOpen(ServerManager.java:422)
        at org.apache.hadoop.hbase.master.AssignmentManager.assign(AssignmentManager.java:1075)
        ... 4 more
2011-06-24 12:30:29,170 INFO  [ghelmling-laptop.local,52891,1308943821042-StartupBulkAssigner-0] master.HMaster(1323): Aborting
2011-06-24 12:30:29,263 INFO  [ghelmling-laptop.local,52891,1308943821042.splitLogManagerTimeoutMonitor] hbase.Chore(79): ghelmling-laptop.local,52891,1308943821042.splitLogManagerTimeoutMonitor exiting
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Eventually this causes a region server to spin when the cluster attempts to shutdown:&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;2011-06-24 12:31:09,767 DEBUG [RegionServer:0;ghelmling-laptop.local,42359,1308943821244] regionserver.HRegionServer(1485): No master found; retry
2011-06-24 12:31:10,768 DEBUG [RegionServer:0;ghelmling-laptop.local,42359,1308943821244] regionserver.HRegionServer(1485): No master found; retry
2011-06-24 12:31:11,769 DEBUG [RegionServer:0;ghelmling-laptop.local,42359,1308943821244] regionserver.HRegionServer(1485): No master found; retry
2011-06-24 12:31:12,769 DEBUG [RegionServer:0;ghelmling-laptop.local,42359,1308943821244] regionserver.HRegionServer(1485): No master found; retry
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</comment>
                            <comment id="13054649" author="stack" created="Fri, 24 Jun 2011 19:55:28 +0000"  >&lt;p&gt;Sorry about that.  I will fix monday&lt;/p&gt;</comment>
                            <comment id="13054690" author="yuzhihong@gmail.com" created="Fri, 24 Jun 2011 21:35:24 +0000"  >&lt;p&gt;Looks like TestTableMapReduce doesn&apos;t create the table. From MultiRegionTable which TestTableMapReduce inherits:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
    HRegion region = createNewHRegion(desc, startKey, endKey);
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;I added test of whether table descriptor exists on HDFS in HRegion.createHRegion(). If it doesn&apos;t exist, I call FSUtils.createTableDescriptor().&lt;/p&gt;

&lt;p&gt;Now TestTableMapReduce and TestFSTableDescriptors both pass.&lt;br/&gt;
TestDistributedLogSplitting and TestSplitTransactionOnCluster pass on my laptop as well.&lt;/p&gt;</comment>
                            <comment id="13054691" author="yuzhihong@gmail.com" created="Fri, 24 Jun 2011 21:38:41 +0000"  >&lt;p&gt;Here is my addendum.&lt;br/&gt;
There could be a cleaner way of detecting that table descriptor doesn&apos;t exist on HDFS. For the moment, I rely on TableExistsException.&lt;/p&gt;</comment>
                            <comment id="13054701" author="yuzhihong@gmail.com" created="Fri, 24 Jun 2011 21:51:35 +0000"  >&lt;p&gt;I am running test suite on Linux and TestSplitTransactionOnCluster passed.&lt;/p&gt;</comment>
                            <comment id="13054712" author="yuzhihong@gmail.com" created="Fri, 24 Jun 2011 22:15:44 +0000"  >&lt;p&gt;TestDistributedLogSplitting hung on Linux.&lt;/p&gt;

&lt;p&gt;The second time I ran it on my laptop, I got:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
Failed tests: 
  testThreeRSAbort(org.apache.hadoop.hbase.master.TestDistributedLogSplitting)
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;The first exception in output file was:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
2011-06-24 15:01:37,115 WARN  [PostOpenDeployTasks:1028785192] handler.OpenRegionHandler$PostOpenDeployTasksThread(221): Exception running postOpenDeployTasks; region=1028785192
java.io.IOException: No server &lt;span class=&quot;code-keyword&quot;&gt;for&lt;/span&gt; -ROOT-
        at org.apache.hadoop.hbase.catalog.MetaEditor.updateMetaLocation(MetaEditor.java:149)
        at org.apache.hadoop.hbase.regionserver.HRegionServer.postOpenDeployTasks(HRegionServer.java:1405)
        at org.apache.hadoop.hbase.regionserver.handler.OpenRegionHandler$PostOpenDeployTasksThread.run(OpenRegionHandler.java:218)
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;Although there is no such exception in output on Linux.&lt;/p&gt;</comment>
                            <comment id="13054714" author="ghelmling" created="Fri, 24 Jun 2011 22:24:05 +0000"  >&lt;p&gt;@Ted, good digging.&lt;/p&gt;

&lt;p&gt;I&apos;m not very familiar with these changes, but it looks to me like the changes so far have tried to pull HTableDescription handling out of HRegion.  So adding it back in to HRegion.createHRegion() may be a step back.&lt;/p&gt;

&lt;p&gt;I think I&apos;d opt for trying to fix the tests to call FSUtils.createTableDescriptor() instead.  Either in TestTableMapReduce.&amp;lt;init&amp;gt; or MultiRegionTable.preHBaseClusterSetup(), prior to creating the table regions.  I think either of those would work.  I wonder how many other HBaseTestCase subclasses may have problems as well.&lt;/p&gt;</comment>
                            <comment id="13054722" author="yuzhihong@gmail.com" created="Fri, 24 Jun 2011 22:39:55 +0000"  >&lt;p&gt;Thanks Gary for the reminder.&lt;br/&gt;
I will upload addendum version 2 which creates table descriptor in MultiRegionTable.preHBaseClusterSetup().&lt;/p&gt;

&lt;p&gt;TestTableMapReduce passes:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
Running org.apache.hadoop.hbase.mapred.TestTableMapReduce
Tests run: 1, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 51.72 sec
Running org.apache.hadoop.hbase.mapreduce.TestTableMapReduce
Tests run: 2, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 83.983 sec
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</comment>
                            <comment id="13054729" author="ghelmling" created="Fri, 24 Jun 2011 22:52:03 +0000"  >&lt;p&gt;@Ted,&lt;/p&gt;

&lt;p&gt;+1 from me on addendum v2, since the tests now pass.&lt;/p&gt;</comment>
                            <comment id="13054756" author="yuzhihong@gmail.com" created="Fri, 24 Jun 2011 23:39:43 +0000"  >&lt;p&gt;On Linux, TestFSTableDescriptors fails at the following assertion:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
    assertEquals(count * 2, htds.cachehits);
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;The error was:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
java.lang.AssertionError: expected:&amp;lt;20&amp;gt; but was:&amp;lt;30&amp;gt;
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Stack should know how to fix the above.&lt;/p&gt;</comment>
                            <comment id="13054772" author="yuzhihong@gmail.com" created="Sat, 25 Jun 2011 00:07:25 +0000"  >&lt;p&gt;I committed addendum v2 into TRUNK.&lt;/p&gt;</comment>
                            <comment id="13056857" author="hudson" created="Tue, 28 Jun 2011 22:42:50 +0000"  >&lt;p&gt;Integrated in HBase-TRUNK #1995 (See &lt;a href=&quot;https://builds.apache.org/job/HBase-TRUNK/1995/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/HBase-TRUNK/1995/&lt;/a&gt;)&lt;/p&gt;
</comment>
                            <comment id="13064854" author="hudson" created="Wed, 13 Jul 2011 21:13:00 +0000"  >&lt;p&gt;Integrated in HBase-TRUNK #2026 (See &lt;a href=&quot;https://builds.apache.org/job/HBase-TRUNK/2026/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/HBase-TRUNK/2026/&lt;/a&gt;)&lt;br/&gt;
    Fix broken TestScanMultipleVersions test &amp;#8211; needed .tableinfo defined before test started... part of the repercussions from hbase-451&lt;/p&gt;</comment>
                            <comment id="13064987" author="hudson" created="Thu, 14 Jul 2011 00:41:05 +0000"  >&lt;p&gt;Integrated in HBase-TRUNK #2027 (See &lt;a href=&quot;https://builds.apache.org/job/HBase-TRUNK/2027/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/HBase-TRUNK/2027/&lt;/a&gt;)&lt;br/&gt;
    Fix broken TestMasterFailover test &amp;#8211; needed .tableinfo defined before test started... part of the repercussions from hbase-451; I don&apos;t this fixes all TestMasterFailover failures but at least a few obvious failures&lt;/p&gt;</comment>
                            <comment id="13065594" author="stack" created="Thu, 14 Jul 2011 22:55:26 +0000"  >&lt;p&gt;Reresolving this one.  TestFSTableDescriptors passes now.  Will address the remaining 451 issue, the fact that we return null when you do a get on descriptor over in the blocker Andrew opened for addressing this.&lt;/p&gt;</comment>
                            <comment id="13065862" author="hudson" created="Fri, 15 Jul 2011 11:28:09 +0000"  >&lt;p&gt;Integrated in HBase-TRUNK #2034 (See &lt;a href=&quot;https://builds.apache.org/job/HBase-TRUNK/2034/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/HBase-TRUNK/2034/&lt;/a&gt;)&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-451&quot; title=&quot;Remove HTableDescriptor from HRegionInfo&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-451&quot;&gt;&lt;del&gt;HBASE-451&lt;/del&gt;&lt;/a&gt; getTableInfoPath() should be called in FSUtils.getTableInfoModtime()&lt;/p&gt;

&lt;p&gt;tedyu : &lt;br/&gt;
Files : &lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hbase/trunk/src/test/java/org/apache/hadoop/hbase/util/TestFSTableDescriptors.java&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/src/main/java/org/apache/hadoop/hbase/util/FSUtils.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13066353" author="hudson" created="Sat, 16 Jul 2011 03:07:11 +0000"  >&lt;p&gt;Integrated in HBase-TRUNK #2035 (See &lt;a href=&quot;https://builds.apache.org/job/HBase-TRUNK/2035/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/HBase-TRUNK/2035/&lt;/a&gt;)&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-451&quot; title=&quot;Remove HTableDescriptor from HRegionInfo&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-451&quot;&gt;&lt;del&gt;HBASE-451&lt;/del&gt;&lt;/a&gt; relax cachehits check in TestFSTableDescriptors&lt;/p&gt;

&lt;p&gt;tedyu : &lt;br/&gt;
Files : &lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hbase/trunk/src/test/java/org/apache/hadoop/hbase/util/TestFSTableDescriptors.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13067161" author="hudson" created="Mon, 18 Jul 2011 17:25:23 +0000"  >&lt;p&gt;Integrated in HBase-TRUNK #2038 (See &lt;a href=&quot;https://builds.apache.org/job/HBase-TRUNK/2038/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/HBase-TRUNK/2038/&lt;/a&gt;)&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-451&quot; title=&quot;Remove HTableDescriptor from HRegionInfo&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-451&quot;&gt;&lt;del&gt;HBASE-451&lt;/del&gt;&lt;/a&gt; FSUtils.getTableInfoModtime() should check fs.listStatus() against null return&lt;/p&gt;

&lt;p&gt;tedyu : &lt;br/&gt;
Files : &lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hbase/trunk/src/main/java/org/apache/hadoop/hbase/util/FSUtils.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13073279" author="hudson" created="Sun, 31 Jul 2011 02:07:10 +0000"  >&lt;p&gt;Integrated in HBase-TRUNK #2065 (See &lt;a href=&quot;https://builds.apache.org/job/HBase-TRUNK/2065/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/HBase-TRUNK/2065/&lt;/a&gt;)&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-4032&quot; title=&quot;HBASE-451 improperly breaks public API HRegionInfo#getTableDesc&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-4032&quot;&gt;&lt;del&gt;HBASE-4032&lt;/del&gt;&lt;/a&gt; &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-451&quot; title=&quot;Remove HTableDescriptor from HRegionInfo&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-451&quot;&gt;&lt;del&gt;HBASE-451&lt;/del&gt;&lt;/a&gt; improperly breaks public API HRegionInfo#getTableDesc&lt;/p&gt;

&lt;p&gt;tedyu : &lt;br/&gt;
Files : &lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hbase/trunk/src/main/java/org/apache/hadoop/hbase/HRegionInfo.java&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/CHANGES.txt&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/src/test/java/org/apache/hadoop/hbase/regionserver/TestHRegionInfo.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13186387" author="tsuna" created="Sun, 15 Jan 2012 01:20:19 +0000"  >&lt;p&gt;This change completely breaks RPC level compatibility because of this line added to &lt;tt&gt;HbaseObjectWritable&lt;/tt&gt;:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
addToMap(HTableDescriptor[].class, code++);
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</comment>
                            <comment id="15017938" author="lars_francke" created="Fri, 20 Nov 2015 13:01:57 +0000"  >&lt;p&gt;This issue was closed as part of a bulk closing operation on 2015-11-20. All issues that have been resolved and where all fixVersions have been released have been closed (following discussions on the mailing list).&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10032">
                    <name>Blocker</name>
                                            <outwardlinks description="blocks">
                                        <issuelink>
            <issuekey id="12406319">HBASE-922</issuekey>
        </issuelink>
            <issuelink>
            <issuekey id="12509741">HBASE-3970</issuekey>
        </issuelink>
            <issuelink>
            <issuekey id="12389972">HBASE-484</issuekey>
        </issuelink>
                            </outwardlinks>
                                                                <inwardlinks description="is blocked by">
                                        <issuelink>
            <issuekey id="12392373">HBASE-546</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                            <issuelinktype id="12310000">
                    <name>Duplicate</name>
                                                                <inwardlinks description="is duplicated by">
                                        <issuelink>
            <issuekey id="12393242">HBASE-565</issuekey>
        </issuelink>
            <issuelink>
            <issuekey id="12512516">HBASE-4055</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                            <issuelinktype id="12310010">
                    <name>Incorporates</name>
                                                                <inwardlinks description="is part of">
                                        <issuelink>
            <issuekey id="12434794">HBASE-1816</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                                                <inwardlinks description="is related to">
                                        <issuelink>
            <issuekey id="12511517">HBASE-4032</issuekey>
        </issuelink>
            <issuelink>
            <issuekey id="12538465">HBASE-5204</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="12483785" name="451-addendum-v2.txt" size="1159" author="yuzhihong@gmail.com" created="Fri, 24 Jun 2011 22:41:43 +0000"/>
                            <attachment id="12481255" name="451_support_for_removing_HTD_from_HRI_trunk.txt" size="225925" author="yuzhihong@gmail.com" created="Thu, 2 Jun 2011 16:54:41 +0000"/>
                            <attachment id="12482686" name="HBASE-451-Fixed_broken_TestAdmin.patch" size="7788" author="iamknome" created="Wed, 15 Jun 2011 16:37:48 +0000"/>
                            <attachment id="12482687" name="HBASE-451-Fixed_broken_TestAdmin1.patch" size="1686" author="iamknome" created="Wed, 15 Jun 2011 16:40:54 +0000"/>
                            <attachment id="12481247" name="HBASE-451_-_First_draft_support_for_removing_HTD_from_HRI1.patch" size="230764" author="iamknome" created="Thu, 2 Jun 2011 16:27:21 +0000"/>
                            <attachment id="12481955" name="HBASE-451_-_Fourth_draft_support_for_removing_HTD_from_HRI.patch" size="242936" author="iamknome" created="Thu, 9 Jun 2011 17:14:47 +0000"/>
                            <attachment id="12481737" name="HBASE-451_-_Second_draft_-_Remove_HTD_from_HRI.patch" size="243480" author="iamknome" created="Tue, 7 Jun 2011 19:56:41 +0000"/>
                            <attachment id="12483308" name="descriptors.txt" size="100264" author="stack" created="Tue, 21 Jun 2011 17:27:38 +0000"/>
                            <attachment id="12482593" name="fixtestadmin.txt" size="32913" author="stack" created="Tue, 14 Jun 2011 21:09:00 +0000"/>
                            <attachment id="12482896" name="pass_htd_on_region_construction.txt" size="46076" author="stack" created="Fri, 17 Jun 2011 05:45:59 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>10.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Fri, 15 Feb 2008 03:47:00 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>31708</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310191" key="com.atlassian.jira.plugin.system.customfieldtypes:multicheckboxes">
                        <customfieldname>Hadoop Flags</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10342"><![CDATA[Incompatible change]]></customfieldvalue>
    <customfieldvalue key="10343"><![CDATA[Reviewed]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            1 year, 2 weeks, 1 day ago
                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0h7dz:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>98459</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310192" key="com.atlassian.jira.plugin.system.customfieldtypes:textarea">
                        <customfieldname>Release Note</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Removes HTableDescriptor from HRegionInfo.  Runs a migration of catalog tables on startup.</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                    <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        </customfields>
    </item>
</channel>
</rss>