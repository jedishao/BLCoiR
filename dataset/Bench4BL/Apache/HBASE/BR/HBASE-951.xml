<!-- 
RSS generated by JIRA (6.3.4#6332-sha1:51bc225ef474afe3128b2f66878477f322397b16) at Fri Dec 02 19:09:30 UTC 2016

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary add field=key&field=summary to the URL of your request.
For example:
https://issues.apache.org/jira/si/jira.issueviews:issue-xml/HBASE-951/HBASE-951.xml?field=key&amp;field=summary
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>6.3.4</version>
        <build-number>6332</build-number>
        <build-date>15-08-2014</build-date>
    </build-info>

<item>
            <title>[HBASE-951] Either shut down master or let it finish cleanup</title>
                <link>https://issues.apache.org/jira/browse/HBASE-951</link>
                <project id="12310753" key="HBASE">HBase</project>
                    <description>&lt;p&gt;When HMaster is called from the command line, don&apos;t try to issue a shutdown request if it is already in the process of shutting down.&lt;/p&gt;

&lt;p&gt;The problem is that HBaseAdmin is trying to connect to the master, and the master has already shut down its server&lt;br/&gt;
threads, so it cannot respond to the HBaseAdmin.shutdown() request. &lt;br/&gt;
It is harmless with respect to data retention/loss, but obviously annoying from the user&apos;s point of view.&lt;br/&gt;
HBaseAdmin trys to contact the master for HMaster -stop, but if the &lt;br/&gt;
master is already shutting down, HBaseAdmin does not know that and keeps retrying as follows:&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;org.apache.hadoop.hbase.MasterNotRunningException: content-repo.cluster.powerset.com:60000
        at org.apache.hadoop.hbase.client.HConnectionManager$TableServers.getMaster(HConnectionManager.java:221)
        at org.apache.hadoop.hbase.client.HBaseAdmin.&amp;lt;init&amp;gt;(HBaseAdmin.java:67)
        at org.apache.hadoop.hbase.master.HMaster.doMain(HMaster.java:799)
        at org.apache.hadoop.hbase.master.HMaster.main(HMaster.java:818)
2008-10-21 18:23:35,827 INFO org.apache.hadoop.hbase.master.HMaster: Waiting &lt;span class=&quot;code-keyword&quot;&gt;for&lt;/span&gt; dfs to exit safe mode...
2008-10-21 18:23:45,847 INFO org.apache.hadoop.hbase.master.HMaster: Waiting &lt;span class=&quot;code-keyword&quot;&gt;for&lt;/span&gt; dfs to exit safe mode...
2008-10-21 18:23:55,858 INFO org.apache.hadoop.hbase.master.HMaster: Waiting &lt;span class=&quot;code-keyword&quot;&gt;for&lt;/span&gt; dfs to exit safe mode...
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</description>
                <environment></environment>
        <key id="12407051">HBASE-951</key>
            <summary>Either shut down master or let it finish cleanup</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/bug.png">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.png">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="jimk">Jim Kellerman</assignee>
                                    <reporter username="jimk">Jim Kellerman</reporter>
                        <labels>
                    </labels>
                <created>Thu, 23 Oct 2008 01:27:24 +0000</created>
                <updated>Sun, 13 Sep 2009 22:26:29 +0000</updated>
                            <resolved>Fri, 7 Nov 2008 17:26:36 +0000</resolved>
                                                    <fixVersion>0.19.0</fixVersion>
                                    <component>master</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                <comments>
                            <comment id="12642378" author="stack" created="Fri, 24 Oct 2008 04:58:48 +0000"  >&lt;p&gt;Client should give up if it gets a MasterNotRunningException when trying to run the shutdown?  Should MNRE subclass DoNotRetryIOException?&lt;/p&gt;</comment>
                            <comment id="12645089" author="stack" created="Tue, 4 Nov 2008 22:01:33 +0000"  >&lt;p&gt;I took a look at this.  Need to know more.  Need more log and what was happening over on server.  The getMaster call is everywhere.  Can&apos;t change it just for HBaseAdmin.shutdown.&lt;/p&gt;</comment>
                            <comment id="12645828" author="jimk" created="Fri, 7 Nov 2008 17:26:36 +0000"  >&lt;p&gt;Committed.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Fri, 24 Oct 2008 04:58:48 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>25494</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            8 years, 5 weeks ago
                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0hag7:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>98955</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        </customfields>
    </item>
</channel>
</rss>