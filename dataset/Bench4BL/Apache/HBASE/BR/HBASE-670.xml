<!-- 
RSS generated by JIRA (6.3.4#6332-sha1:51bc225ef474afe3128b2f66878477f322397b16) at Fri Dec 02 20:08:43 UTC 2016

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary add field=key&field=summary to the URL of your request.
For example:
https://issues.apache.org/jira/si/jira.issueviews:issue-xml/HBASE-670/HBASE-670.xml?field=key&amp;field=summary
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>6.3.4</version>
        <build-number>6332</build-number>
        <build-date>15-08-2014</build-date>
    </build-info>

<item>
            <title>[HBASE-670] Historian deadlocks if regionserver is at global memory boundary and is hosting .META.</title>
                <link>https://issues.apache.org/jira/browse/HBASE-670</link>
                <project id="12310753" key="HBASE">HBase</project>
                    <description>&lt;p&gt;The global memory unit test was deadlocking because historian was trying to update .META. with flush info &amp;#8211; only the single regionserver was the one hosting the .META. and the regionserver global lock was in place while memory is full&lt;/p&gt;</description>
                <environment></environment>
        <key id="12397713">HBASE-670</key>
            <summary>Historian deadlocks if regionserver is at global memory boundary and is hosting .META.</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/bug.png">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.png">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="stack">stack</assignee>
                                    <reporter username="stack">stack</reporter>
                        <labels>
                    </labels>
                <created>Fri, 6 Jun 2008 19:33:56 +0000</created>
                <updated>Fri, 22 Aug 2008 21:13:17 +0000</updated>
                            <resolved>Fri, 6 Jun 2008 19:53:28 +0000</resolved>
                                                    <fixVersion>0.2.0</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                <comments>
                            <comment id="12603151" author="stack" created="Fri, 6 Jun 2008 19:37:47 +0000"  >&lt;p&gt;Disable flush and compaction logging by historian.  Also added logging of onlining and offlining of the historian.&lt;/p&gt;</comment>
                            <comment id="12603161" author="stack" created="Fri, 6 Jun 2008 19:53:28 +0000"  >&lt;p&gt;Committed.&lt;/p&gt;</comment>
                            <comment id="12603163" author="stack" created="Fri, 6 Jun 2008 19:56:14 +0000"  >&lt;p&gt;On IRC, was asking if could add history for .META. itself, probably the table we&apos;re most interested in.  My experience over last few days changing historian so it is only enabled after .META. has been deployed and issues like this one have me thinking it&apos;d be hard to do.&lt;/p&gt;</comment>
                            <comment id="12603286" author="stack" created="Sat, 7 Jun 2008 04:39:07 +0000"  >&lt;p&gt;Here&apos;s another cut at this issue.  Thinking on it, if regionserver is at its upper memory bound and is forcing flushes to run, we should not let compactions run while updates for the whole server are blocked.&lt;/p&gt;

&lt;p&gt;This patch makes it so we do not run compactions after &apos;emergency&apos; flushes.  Upside is that we avoid the occasional case where updates must wait on compaction to complete.  Downside, is because we miss a compaction opportunity, we add to the possibility of compactions being overwhelmed.&lt;/p&gt;

&lt;p&gt;Patch also narrows the global regionserver lock.&lt;/p&gt;

&lt;p&gt;And restores logging of compactions in the historian now no longer danger of it deadlocking.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12383615" name="670-v2.patch" size="8326" author="stack" created="Sat, 7 Jun 2008 04:39:07 +0000"/>
                            <attachment id="12383586" name="670.patch" size="2088" author="stack" created="Fri, 6 Jun 2008 19:37:47 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>2.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>25326</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            8 years, 26 weeks, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0h8q7:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>98676</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        </customfields>
    </item>
</channel>
</rss>