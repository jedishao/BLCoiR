<!-- 
RSS generated by JIRA (6.3.4#6332-sha1:51bc225ef474afe3128b2f66878477f322397b16) at Sat Dec 03 15:57:57 UTC 2016

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary add field=key&field=summary to the URL of your request.
For example:
https://issues.apache.org/jira/si/jira.issueviews:issue-xml/HBASE-5319/HBASE-5319.xml?field=key&amp;field=summary
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>6.3.4</version>
        <build-number>6332</build-number>
        <build-date>15-08-2014</build-date>
    </build-info>

<item>
            <title>[HBASE-5319] TRUNK broke since hbase-4218 went in?  TestHFileBlock OOMEs</title>
                <link>https://issues.apache.org/jira/browse/HBASE-5319</link>
                <project id="12310753" key="HBASE">HBase</project>
                    <description>&lt;p&gt;Check it out...&lt;a href=&quot;https://builds.apache.org/job/HBase-TRUNK/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/HBase-TRUNK/&lt;/a&gt;  Mikhail, you might know whats up.  Else, will have a looksee...&lt;/p&gt;</description>
                <environment></environment>
        <key id="12540865">HBASE-5319</key>
            <summary>TRUNK broke since hbase-4218 went in?  TestHFileBlock OOMEs</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/bug.png">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.png">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="3">Duplicate</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="stack">stack</reporter>
                        <labels>
                    </labels>
                <created>Thu, 2 Feb 2012 01:04:22 +0000</created>
                <updated>Sat, 11 Feb 2012 05:51:11 +0000</updated>
                            <resolved>Sat, 11 Feb 2012 05:51:11 +0000</resolved>
                                                                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                <comments>
                            <comment id="13199531" author="zhihyu@ebaysf.com" created="Fri, 3 Feb 2012 05:34:55 +0000"  >&lt;p&gt;Maybe the test failure implies some bug.&lt;/p&gt;

&lt;p&gt;We should include the value of cacheOnWrite in the following log:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
          LOG.info(&lt;span class=&quot;code-quote&quot;&gt;&quot;Compression algorithm: &quot;&lt;/span&gt; + algo + &lt;span class=&quot;code-quote&quot;&gt;&quot;, pread=&quot;&lt;/span&gt; + pread);
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;From &lt;a href=&quot;https://builds.apache.org/view/G-L/view/HBase/job/HBase-TRUNK/lastCompletedBuild/testReport/org.apache.hadoop.hbase.io.hfile/TestHFileBlock/testPreviousOffset_1_/:&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/view/G-L/view/HBase/job/HBase-TRUNK/lastCompletedBuild/testReport/org.apache.hadoop.hbase.io.hfile/TestHFileBlock/testPreviousOffset_1_/:&lt;/a&gt;&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
2012-02-02 21:52:54,017 INFO  [pool-1-thread-1] hfile.TestHFileBlock(472): Compression algorithm: GZ, pread=&lt;span class=&quot;code-keyword&quot;&gt;true&lt;/span&gt;
2012-02-02 21:52:55,290 INFO  [pool-1-thread-1] hbase.ResourceChecker(145): after io.hfile.TestHFileBlock#testPreviousOffset[1]: 57 threads (was 57), 77 file descriptors (was 75). 0 connections,  -file handle leak?- 
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;Looks like the OOME happened for &apos;Compression algorithm: GZ, pread=true, cacheOnWrite=true&apos;&lt;/p&gt;

&lt;p&gt;For the above case, we have 2 options:&lt;br/&gt;
1. ask for access to /home/jenkins/jenkins-slave/workspace/HBase-TRUNK/trunk/target/test-data/898f8b80-7820-4c5a-bc9b-f0fe0891bec2/prev_offset on build machine&lt;br/&gt;
2. before OOME, try to dump the contents of prev_offset&lt;/p&gt;

&lt;p&gt;We should have more clue once we get the file that causes OOME when deflating.&lt;/p&gt;</comment>
                            <comment id="13202936" author="zhihyu@ebaysf.com" created="Tue, 7 Feb 2012 23:19:09 +0000"  >&lt;p&gt;Or we can disable the two failing TestHFileBlock tests &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/smile.gif&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/p&gt;</comment>
                            <comment id="13203901" author="lhofhansl" created="Wed, 8 Feb 2012 19:52:00 +0000"  >&lt;p&gt;@Mikhail: Are you planning to look at this? Ted pointed out that this might be a 0.94 blocker and I concur.&lt;/p&gt;</comment>
                            <comment id="13206032" author="zhihyu@ebaysf.com" created="Sat, 11 Feb 2012 05:51:11 +0000"  >&lt;p&gt;This issue should be fixed by &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-5387&quot; title=&quot;Reuse compression streams in HFileBlock.Writer&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-5387&quot;&gt;&lt;del&gt;HBASE-5387&lt;/del&gt;&lt;/a&gt;&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Fri, 3 Feb 2012 05:34:55 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>226219</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            4 years, 43 weeks ago
                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i069hb:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>34467</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        </customfields>
    </item>
</channel>
</rss>