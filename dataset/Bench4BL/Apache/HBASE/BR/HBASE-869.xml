<!-- 
RSS generated by JIRA (6.3.4#6332-sha1:51bc225ef474afe3128b2f66878477f322397b16) at Fri Dec 02 18:52:58 UTC 2016

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary add field=key&field=summary to the URL of your request.
For example:
https://issues.apache.org/jira/si/jira.issueviews:issue-xml/HBASE-869/HBASE-869.xml?field=key&amp;field=summary
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>6.3.4</version>
        <build-number>6332</build-number>
        <build-date>15-08-2014</build-date>
    </build-info>

<item>
            <title>[HBASE-869] On split, if failure updating of .META., table subsequently broke</title>
                <link>https://issues.apache.org/jira/browse/HBASE-869</link>
                <project id="12310753" key="HBASE">HBase</project>
                    <description>&lt;p&gt;On pset cluster &amp;#8211; running 0.2.0 &amp;#8211; I saw the following:&lt;/p&gt;

&lt;p&gt;+ Deadlock on server carrying .META. made the .META. table inaccessible (deadlock has been fixed)&lt;br/&gt;
+ Out on a regionserver, we split; two new daughters are created and parent region is closed.&lt;br/&gt;
+ Regionserver fails to update the .META. with change in parent state and addition of two new daughter regions&lt;/p&gt;

&lt;p&gt;Restarting the server carrying .META. got us over the deadlock but subsequently, the parent region is no longer online nor its replacements.&lt;/p&gt;

&lt;p&gt;Attempting restart of regionserver to see if parent will come back on line (since it was not &apos;offlined&apos; in .META. should come back on line again and resplit).  Ugly will be the fact that the filesystem has some trash in it &amp;#8211; the new daughter regions.&lt;/p&gt;

&lt;p&gt;To consider: Do not close the parent until the .META. has been successfully updated.  Also, if .META. update fails, remove daughter regions.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12403700">HBASE-869</key>
            <summary>On split, if failure updating of .META., table subsequently broke</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/bug.png">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.png">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="3">Duplicate</resolution>
                                        <assignee username="stack">stack</assignee>
                                    <reporter username="stack">stack</reporter>
                        <labels>
                    </labels>
                <created>Thu, 4 Sep 2008 18:16:58 +0000</created>
                <updated>Fri, 20 Nov 2015 13:01:51 +0000</updated>
                            <resolved>Wed, 25 Aug 2010 05:20:57 +0000</resolved>
                                                    <fixVersion>0.90.0</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                <comments>
                            <comment id="12704827" author="apurtell" created="Thu, 30 Apr 2009 22:42:59 +0000"  >&lt;p&gt;Assigned to stack at his request.&lt;/p&gt;</comment>
                            <comment id="12711673" author="stack" created="Thu, 21 May 2009 16:26:00 +0000"  >&lt;p&gt;This is a 0.2.0 issue and the provocation has been fixed.  This could still happen but rare event I&apos;d say.  Will leave it open but move it out of 0.20.0.&lt;/p&gt;</comment>
                            <comment id="12746335" author="stack" created="Fri, 21 Aug 2009 22:59:40 +0000"  >&lt;p&gt;Should be fixed as part of the master 0.21 rewrite&lt;/p&gt;</comment>
                            <comment id="12902203" author="jdcryans" created="Wed, 25 Aug 2010 00:30:37 +0000"  >&lt;p&gt;Stack, isn&apos;t this fixed with your new split code?&lt;/p&gt;</comment>
                            <comment id="12902305" author="stack" created="Wed, 25 Aug 2010 05:20:57 +0000"  >&lt;p&gt;Its fixed by &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-2461&quot; title=&quot;Split doesn&amp;#39;t handle IOExceptions when creating new region reference files&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-2461&quot;&gt;&lt;del&gt;HBASE-2461&lt;/del&gt;&lt;/a&gt;, which will roll back reopening parent if fault.  If the parent edit goes in, then the fixup in basescanner would have taken it from there.  So fixed in current TRUNK.  Resolving (We&apos;ll need to come up w/ a replacement for basescanner fixup when new master goes in and no basescanner).  Marking duplicate.&lt;/p&gt;</comment>
                            <comment id="15017911" author="lars_francke" created="Fri, 20 Nov 2015 13:01:51 +0000"  >&lt;p&gt;This issue was closed as part of a bulk closing operation on 2015-11-20. All issues that have been resolved and where all fixVersions have been released have been closed (following discussions on the mailing list).&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="12310010">
                    <name>Incorporates</name>
                                                                <inwardlinks description="is part of">
                                        <issuelink>
            <issuekey id="12434794">HBASE-1816</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Thu, 30 Apr 2009 22:42:59 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>25449</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            1 year, 2 weeks ago
                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0h9y7:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>98874</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        </customfields>
    </item>
</channel>
</rss>