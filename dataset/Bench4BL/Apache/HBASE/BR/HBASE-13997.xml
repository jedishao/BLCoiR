<!-- 
RSS generated by JIRA (6.3.4#6332-sha1:51bc225ef474afe3128b2f66878477f322397b16) at Thu Dec 01 21:42:35 UTC 2016

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary add field=key&field=summary to the URL of your request.
For example:
https://issues.apache.org/jira/si/jira.issueviews:issue-xml/HBASE-13997/HBASE-13997.xml?field=key&amp;field=summary
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>6.3.4</version>
        <build-number>6332</build-number>
        <build-date>15-08-2014</build-date>
    </build-info>

<item>
            <title>[HBASE-13997] ScannerCallableWithReplicas cause Infinitely blocking</title>
                <link>https://issues.apache.org/jira/browse/HBASE-13997</link>
                <project id="12310753" key="HBASE">HBase</project>
                    <description>&lt;p&gt;Bug in ScannerCallableWithReplicas.addCallsForOtherReplicas method  &lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-style: solid;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeHeader panelHeader&quot; style=&quot;border-bottom-width: 1px;border-bottom-style: solid;&quot;&gt;&lt;b&gt;code in ScannerCallableWithReplicas.addCallsForOtherReplicas&lt;/b&gt;&lt;/div&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
&lt;span class=&quot;code-keyword&quot;&gt;private&lt;/span&gt; &lt;span class=&quot;code-object&quot;&gt;int&lt;/span&gt; addCallsForOtherReplicas(
      BoundedCompletionService&amp;lt;Pair&amp;lt;Result[], ScannerCallable&amp;gt;&amp;gt; cs, RegionLocations rl, &lt;span class=&quot;code-object&quot;&gt;int&lt;/span&gt; min,
      &lt;span class=&quot;code-object&quot;&gt;int&lt;/span&gt; max) {
    &lt;span class=&quot;code-keyword&quot;&gt;if&lt;/span&gt; (scan.getConsistency() == Consistency.STRONG) {
      &lt;span class=&quot;code-keyword&quot;&gt;return&lt;/span&gt; 0; &lt;span class=&quot;code-comment&quot;&gt;// not scheduling on other replicas &lt;span class=&quot;code-keyword&quot;&gt;for&lt;/span&gt; strong consistency
&lt;/span&gt;    }
    &lt;span class=&quot;code-keyword&quot;&gt;for&lt;/span&gt; (&lt;span class=&quot;code-object&quot;&gt;int&lt;/span&gt; id = min; id &amp;lt;= max; id++) {
      &lt;span class=&quot;code-keyword&quot;&gt;if&lt;/span&gt; (currentScannerCallable.getHRegionInfo().getReplicaId() == id) {
        &lt;span class=&quot;code-keyword&quot;&gt;continue&lt;/span&gt;; &lt;span class=&quot;code-comment&quot;&gt;//&lt;span class=&quot;code-keyword&quot;&gt;this&lt;/span&gt; was already scheduled earlier
&lt;/span&gt;      }
      ScannerCallable s = currentScannerCallable.getScannerCallableForReplica(id);
      &lt;span class=&quot;code-keyword&quot;&gt;if&lt;/span&gt; (&lt;span class=&quot;code-keyword&quot;&gt;this&lt;/span&gt;.lastResult != &lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt;) {
        s.getScan().setStartRow(&lt;span class=&quot;code-keyword&quot;&gt;this&lt;/span&gt;.lastResult.getRow());
      }
      outstandingCallables.add(s);
      RetryingRPC retryingOnReplica = &lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; RetryingRPC(s);
      cs.submit(retryingOnReplica);
    }
    &lt;span class=&quot;code-keyword&quot;&gt;return&lt;/span&gt; max - min + 1;	&lt;span class=&quot;code-comment&quot;&gt;//bug? should be &lt;span class=&quot;code-quote&quot;&gt;&quot;max - min&quot;&lt;/span&gt;,because &lt;span class=&quot;code-quote&quot;&gt;&quot;&lt;span class=&quot;code-keyword&quot;&gt;continue&lt;/span&gt;&quot;&lt;/span&gt;
&lt;/span&gt;                                        &lt;span class=&quot;code-comment&quot;&gt;//always happen once
&lt;/span&gt;  }
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;It can cause completed &amp;lt; submitted always so that the following code will be infinitely blocked.&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-style: solid;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeHeader panelHeader&quot; style=&quot;border-bottom-width: 1px;border-bottom-style: solid;&quot;&gt;&lt;b&gt;code in ScannerCallableWithReplicas.call&lt;/b&gt;&lt;/div&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
&lt;span class=&quot;code-comment&quot;&gt;// submitted larger than the actual one
&lt;/span&gt; submitted += addCallsForOtherReplicas(cs, rl, 0, rl.size() - 1);
    &lt;span class=&quot;code-keyword&quot;&gt;try&lt;/span&gt; {
      &lt;span class=&quot;code-comment&quot;&gt;//here will be affected
&lt;/span&gt;      &lt;span class=&quot;code-keyword&quot;&gt;while&lt;/span&gt; (completed &amp;lt; submitted) {
        &lt;span class=&quot;code-keyword&quot;&gt;try&lt;/span&gt; {
          Future&amp;lt;Pair&amp;lt;Result[], ScannerCallable&amp;gt;&amp;gt; f = cs.take();
          Pair&amp;lt;Result[], ScannerCallable&amp;gt; r = f.get();
          &lt;span class=&quot;code-keyword&quot;&gt;if&lt;/span&gt; (r != &lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt; &amp;amp;&amp;amp; r.getSecond() != &lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt;) {
            updateCurrentlyServingReplica(r.getSecond(), r.getFirst(), done, pool);
          }
          &lt;span class=&quot;code-keyword&quot;&gt;return&lt;/span&gt; r == &lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt; ? &lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt; : r.getFirst(); &lt;span class=&quot;code-comment&quot;&gt;// great we got an answer
&lt;/span&gt;        } &lt;span class=&quot;code-keyword&quot;&gt;catch&lt;/span&gt; (ExecutionException e) {
          &lt;span class=&quot;code-comment&quot;&gt;// &lt;span class=&quot;code-keyword&quot;&gt;if&lt;/span&gt; not cancel or interrupt, wait until all RPC&apos;s are done
&lt;/span&gt;          &lt;span class=&quot;code-comment&quot;&gt;// one of the tasks failed. Save the exception &lt;span class=&quot;code-keyword&quot;&gt;for&lt;/span&gt; later.
&lt;/span&gt;          &lt;span class=&quot;code-keyword&quot;&gt;if&lt;/span&gt; (exceptions == &lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt;) exceptions = &lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; ArrayList&amp;lt;ExecutionException&amp;gt;(rl.size());
          exceptions.add(e);
          completed++;
        }
      }
    } &lt;span class=&quot;code-keyword&quot;&gt;catch&lt;/span&gt; (CancellationException e) {
      &lt;span class=&quot;code-keyword&quot;&gt;throw&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; InterruptedIOException(e.getMessage());
    } &lt;span class=&quot;code-keyword&quot;&gt;catch&lt;/span&gt; (InterruptedException e) {
      &lt;span class=&quot;code-keyword&quot;&gt;throw&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; InterruptedIOException(e.getMessage());
    } &lt;span class=&quot;code-keyword&quot;&gt;finally&lt;/span&gt; {
      &lt;span class=&quot;code-comment&quot;&gt;// We get there because we were interrupted or because one or more of the
&lt;/span&gt;      &lt;span class=&quot;code-comment&quot;&gt;// calls succeeded or failed. In all &lt;span class=&quot;code-keyword&quot;&gt;case&lt;/span&gt;, we stop all our tasks.
&lt;/span&gt;      cs.cancelAll(&lt;span class=&quot;code-keyword&quot;&gt;true&lt;/span&gt;);
    }
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;If all replica-RS occur ExecutionException ,it will be infinitely blocked in  cs.take()&lt;/p&gt;</description>
                <environment></environment>
        <key id="12841648">HBASE-13997</key>
            <summary>ScannerCallableWithReplicas cause Infinitely blocking</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/bug.png">Bug</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.png">Minor</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="gzh1992n">Zephyr Guo</assignee>
                                    <reporter username="gzh1992n">Zephyr Guo</reporter>
                        <labels>
                    </labels>
                <created>Tue, 30 Jun 2015 10:29:18 +0000</created>
                <updated>Mon, 13 Jul 2015 23:41:42 +0000</updated>
                            <resolved>Sat, 11 Jul 2015 03:52:34 +0000</resolved>
                                    <version>1.0.1.1</version>
                                    <fixVersion>2.0.0</fixVersion>
                    <fixVersion>1.2.0</fixVersion>
                    <fixVersion>1.1.2</fixVersion>
                    <fixVersion>1.3.0</fixVersion>
                                    <component>Client</component>
                        <due>Tue, 30 Jun 2015 00:00:00 +0000</due>
                            <votes>0</votes>
                                    <watches>9</watches>
                                                                <comments>
                            <comment id="14608862" author="enis" created="Tue, 30 Jun 2015 18:53:02 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=gzh1992n&quot; class=&quot;user-hover&quot; rel=&quot;gzh1992n&quot;&gt;Zephyr Guo&lt;/a&gt; let me understand the issue. Are you saying that, the following is the bug? &lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
    &lt;span class=&quot;code-keyword&quot;&gt;return&lt;/span&gt; max - min + 1;	&lt;span class=&quot;code-comment&quot;&gt;//bug? max - min&lt;/span&gt;
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Here, max = replica_count - 1, and we are iterating with max inclusive:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
    &lt;span class=&quot;code-keyword&quot;&gt;for&lt;/span&gt; (&lt;span class=&quot;code-object&quot;&gt;int&lt;/span&gt; id = min; id &amp;lt;= max; id++) {
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</comment>
                            <comment id="14609439" author="gzh1992n" created="Wed, 1 Jul 2015 01:53:41 +0000"  >&lt;p&gt;Maybe not enough I&apos;ve described in detail. I update the description.&lt;/p&gt;</comment>
                            <comment id="14609553" author="enis" created="Wed, 1 Jul 2015 04:49:26 +0000"  >&lt;blockquote&gt;&lt;p&gt;Maybe not enough I&apos;ve described in detail. I update the description.&lt;/p&gt;&lt;/blockquote&gt;
&lt;p&gt;Thanks. I think you are right. In case of an Exception coming from all replicas of a scan, the scan might hang because submitted computation maybe off by one. Curious why we did not see in testing. &lt;br/&gt;
Do you want to submit a patch? &lt;/p&gt;</comment>
                            <comment id="14609570" author="gzh1992n" created="Wed, 1 Jul 2015 05:21:19 +0000"  >&lt;p&gt;Yes,I&apos;m learning workflow.&lt;/p&gt;</comment>
                            <comment id="14609571" author="gzh1992n" created="Wed, 1 Jul 2015 05:21:22 +0000"  >&lt;p&gt;Yes,I&apos;m learning workflow.&lt;/p&gt;</comment>
                            <comment id="14609606" author="gzh1992n" created="Wed, 1 Jul 2015 06:11:19 +0000"  >&lt;p&gt;just change &quot;max - min + 1&quot; to &quot;max - min&quot;&lt;/p&gt;</comment>
                            <comment id="14609620" author="enis" created="Wed, 1 Jul 2015 06:25:35 +0000"  >&lt;blockquote&gt;&lt;p&gt;just change &quot;max - min + 1&quot; to &quot;max - min&quot;&lt;/p&gt;&lt;/blockquote&gt;
&lt;p&gt;Did you attach the patch? Also can you write a unit test for this? You can take a look at &lt;tt&gt;TestReplicasClient&lt;/tt&gt;. &lt;/p&gt;</comment>
                            <comment id="14611409" author="hadoopqa" created="Thu, 2 Jul 2015 03:30:57 +0000"  >&lt;p&gt;&lt;font color=&quot;red&quot;&gt;-1 overall&lt;/font&gt;.  Here are the results of testing the latest attachment &lt;br/&gt;
  &lt;a href=&quot;http://issues.apache.org/jira/secure/attachment/12743196/HBASE-13997.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://issues.apache.org/jira/secure/attachment/12743196/HBASE-13997.patch&lt;/a&gt;&lt;br/&gt;
  against master branch at commit 01482921271146ddd1e76aec957b2d9e3f64487d.&lt;br/&gt;
  ATTACHMENT ID: 12743196&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 @author&lt;/font&gt;.  The patch does not contain any @author tags.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;red&quot;&gt;-1 tests included&lt;/font&gt;.  The patch doesn&apos;t appear to include any new or modified tests.&lt;br/&gt;
                        Please justify why no new tests are needed for this patch.&lt;br/&gt;
                        Also please list what manual steps were performed to verify this patch.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 hadoop versions&lt;/font&gt;. The patch compiles with all supported hadoop versions (2.4.0 2.4.1 2.5.0 2.5.1 2.5.2 2.6.0 2.7.0)&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 javac&lt;/font&gt;.  The applied patch does not increase the total number of javac compiler warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 protoc&lt;/font&gt;.  The applied patch does not increase the total number of protoc compiler warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 javadoc&lt;/font&gt;.  The javadoc tool did not generate any warning messages.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 checkstyle&lt;/font&gt;.  The applied patch does not increase the total number of checkstyle errors&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 findbugs&lt;/font&gt;.  The patch does not introduce any  new Findbugs (version 2.0.3) warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 release audit&lt;/font&gt;.  The applied patch does not increase the total number of release audit warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 lineLengths&lt;/font&gt;.  The patch does not introduce lines longer than 100&lt;/p&gt;

&lt;p&gt;  &lt;font color=&quot;green&quot;&gt;+1 site&lt;/font&gt;.  The mvn post-site goal succeeds with this patch.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 core tests&lt;/font&gt;.  The patch passed unit tests in .&lt;/p&gt;

&lt;p&gt;Test results: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/14646//testReport/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/14646//testReport/&lt;/a&gt;&lt;br/&gt;
Release Findbugs (version 2.0.3) 	warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/14646//artifact/patchprocess/newFindbugsWarnings.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/14646//artifact/patchprocess/newFindbugsWarnings.html&lt;/a&gt;&lt;br/&gt;
Checkstyle Errors: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/14646//artifact/patchprocess/checkstyle-aggregate.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/14646//artifact/patchprocess/checkstyle-aggregate.html&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;  Console output: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/14646//console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/14646//console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;</comment>
                            <comment id="14611460" author="gzh1992n" created="Thu, 2 Jul 2015 04:38:10 +0000"  >&lt;p&gt;sry,I have attached the patch.&lt;/p&gt;</comment>
                            <comment id="14616166" author="gzh1992n" created="Tue, 7 Jul 2015 04:38:29 +0000"  >&lt;p&gt;Could you commit it?&lt;/p&gt;

&lt;p&gt;I don&apos;t write a unit test,because TestReplicasClient.java already have(use testScanWithReplicas() can test the patch).&lt;/p&gt;</comment>
                            <comment id="14619657" author="enis" created="Thu, 9 Jul 2015 00:36:36 +0000"  >&lt;p&gt;Thanks &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=gzh1992n&quot; class=&quot;user-hover&quot; rel=&quot;gzh1992n&quot;&gt;Zephyr Guo&lt;/a&gt; for the patch. I was writing a unit test for this, but it turns out that that part was working and will not cause a client hang. The off-by-one error is definitely there, but it was not causing a problem because of a related but different issue. &lt;/p&gt;

&lt;p&gt;Some time ago (&lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-11564&quot; title=&quot;Improve cancellation management in the rpc layer&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-11564&quot;&gt;&lt;del&gt;HBASE-11564&lt;/del&gt;&lt;/a&gt;), the semantics for &lt;tt&gt;ResultBoundedCompletionService&lt;/tt&gt; got changed from being a blocking queue kind of data structure where you submit multiiple tasks and call take() multiple times, into one where you submit multiple tasks, and you only take once. The completed list does not get cleaned when &lt;tt&gt;take()&lt;/tt&gt; returns. &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-11564&quot; title=&quot;Improve cancellation management in the rpc layer&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-11564&quot;&gt;&lt;del&gt;HBASE-11564&lt;/del&gt;&lt;/a&gt; did the changes in Get code-path, but not in the scan code path it seems. &lt;/p&gt;

&lt;p&gt;For example, we are submitting 3 calls to the &lt;tt&gt;ResultBoundedCompletionService&lt;/tt&gt;, but we had this off-by-one and &lt;tt&gt;submitted&lt;/tt&gt; is 4. But, since as soon as the first result comes in, if it is an exception, we would call &lt;tt&gt;cs.take()&lt;/tt&gt; 4 times, and each time it will return the same exception. This does not in fact cause a hang, but still a clean up in the code is needed. &lt;/p&gt;

&lt;p&gt;Attached v2 patch brings the scanner code path to be similar to the get code path (&lt;tt&gt;RpcRetryingCallerWithReadReplicas&lt;/tt&gt;). &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=devaraj&quot; class=&quot;user-hover&quot; rel=&quot;devaraj&quot;&gt;Devaraj Das&lt;/a&gt; do you mind taking a look? &lt;/p&gt;
</comment>
                            <comment id="14619803" author="hadoopqa" created="Thu, 9 Jul 2015 03:05:13 +0000"  >&lt;p&gt;&lt;font color=&quot;red&quot;&gt;-1 overall&lt;/font&gt;.  Here are the results of testing the latest attachment &lt;br/&gt;
  &lt;a href=&quot;http://issues.apache.org/jira/secure/attachment/12744374/hbase-13997_v2.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://issues.apache.org/jira/secure/attachment/12744374/hbase-13997_v2.patch&lt;/a&gt;&lt;br/&gt;
  against master branch at commit f5ad736282c8c9c27b14131919d60b72834ec9e4.&lt;br/&gt;
  ATTACHMENT ID: 12744374&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 @author&lt;/font&gt;.  The patch does not contain any @author tags.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 tests included&lt;/font&gt;.  The patch appears to include 3 new or modified tests.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 hadoop versions&lt;/font&gt;. The patch compiles with all supported hadoop versions (2.4.0 2.4.1 2.5.0 2.5.1 2.5.2 2.6.0 2.7.0)&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 javac&lt;/font&gt;.  The applied patch does not increase the total number of javac compiler warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 protoc&lt;/font&gt;.  The applied patch does not increase the total number of protoc compiler warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 javadoc&lt;/font&gt;.  The javadoc tool did not generate any warning messages.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 checkstyle&lt;/font&gt;.  The applied patch does not increase the total number of checkstyle errors&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 findbugs&lt;/font&gt;.  The patch does not introduce any  new Findbugs (version 2.0.3) warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 release audit&lt;/font&gt;.  The applied patch does not increase the total number of release audit warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 lineLengths&lt;/font&gt;.  The patch does not introduce lines longer than 100&lt;/p&gt;

&lt;p&gt;  &lt;font color=&quot;green&quot;&gt;+1 site&lt;/font&gt;.  The mvn post-site goal succeeds with this patch.&lt;/p&gt;

&lt;p&gt;     &lt;font color=&quot;red&quot;&gt;-1 core tests&lt;/font&gt;.  The patch failed these unit tests:&lt;br/&gt;
                       org.apache.hadoop.hbase.client.TestFastFail&lt;/p&gt;

&lt;p&gt;Test results: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/14711//testReport/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/14711//testReport/&lt;/a&gt;&lt;br/&gt;
Release Findbugs (version 2.0.3) 	warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/14711//artifact/patchprocess/newFindbugsWarnings.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/14711//artifact/patchprocess/newFindbugsWarnings.html&lt;/a&gt;&lt;br/&gt;
Checkstyle Errors: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/14711//artifact/patchprocess/checkstyle-aggregate.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/14711//artifact/patchprocess/checkstyle-aggregate.html&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;  Console output: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/14711//console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/14711//console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;</comment>
                            <comment id="14620424" author="gzh1992n" created="Thu, 9 Jul 2015 12:29:40 +0000"  >&lt;p&gt;Thank you for your work.&lt;/p&gt;</comment>
                            <comment id="14621331" author="enis" created="Thu, 9 Jul 2015 21:43:04 +0000"  >&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
-1 core tests. The patch failed these unit tests:
org.apache.hadoop.hbase.client.TestFastFail
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;This test is just flaky. &lt;/p&gt;</comment>
                            <comment id="14621541" author="devaraj" created="Fri, 10 Jul 2015 00:57:14 +0000"  >&lt;p&gt;Looks fine to me.&lt;/p&gt;</comment>
                            <comment id="14623153" author="hudson" created="Sat, 11 Jul 2015 00:53:10 +0000"  >&lt;p&gt;FAILURE: Integrated in HBase-TRUNK #6646 (See &lt;a href=&quot;https://builds.apache.org/job/HBase-TRUNK/6646/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/HBase-TRUNK/6646/&lt;/a&gt;)&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-13997&quot; title=&quot;ScannerCallableWithReplicas cause Infinitely blocking&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-13997&quot;&gt;&lt;del&gt;HBASE-13997&lt;/del&gt;&lt;/a&gt; ScannerCallableWithReplicas cause Infinitely blocking (Zephyr Guo and Enis) (enis: rev 5e708746b8d301c2fb22a85b8756129147012374)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;hbase-client/src/main/java/org/apache/hadoop/hbase/client/ScannerCallableWithReplicas.java&lt;/li&gt;
	&lt;li&gt;hbase-client/src/test/java/org/apache/hadoop/hbase/client/TestClientScanner.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="14625361" author="hudson" created="Mon, 13 Jul 2015 21:18:21 +0000"  >&lt;p&gt;SUCCESS: Integrated in HBase-1.2-IT #50 (See &lt;a href=&quot;https://builds.apache.org/job/HBase-1.2-IT/50/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/HBase-1.2-IT/50/&lt;/a&gt;)&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-13997&quot; title=&quot;ScannerCallableWithReplicas cause Infinitely blocking&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-13997&quot;&gt;&lt;del&gt;HBASE-13997&lt;/del&gt;&lt;/a&gt; ScannerCallableWithReplicas cause Infinitely blocking (Zephyr Guo and Enis) (enis: rev 4b6f0149c15f1646bcfafc270d8c928a159651a6)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;hbase-client/src/test/java/org/apache/hadoop/hbase/client/TestClientScanner.java&lt;/li&gt;
	&lt;li&gt;hbase-client/src/main/java/org/apache/hadoop/hbase/client/ScannerCallableWithReplicas.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="14625398" author="hudson" created="Mon, 13 Jul 2015 21:34:43 +0000"  >&lt;p&gt;SUCCESS: Integrated in HBase-1.3-IT #37 (See &lt;a href=&quot;https://builds.apache.org/job/HBase-1.3-IT/37/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/HBase-1.3-IT/37/&lt;/a&gt;)&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-13997&quot; title=&quot;ScannerCallableWithReplicas cause Infinitely blocking&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-13997&quot;&gt;&lt;del&gt;HBASE-13997&lt;/del&gt;&lt;/a&gt; ScannerCallableWithReplicas cause Infinitely blocking (Zephyr Guo and Enis) (enis: rev 426bd097775dc9ed18b4f208429eeece0b472e95)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;hbase-client/src/main/java/org/apache/hadoop/hbase/client/ScannerCallableWithReplicas.java&lt;/li&gt;
	&lt;li&gt;hbase-client/src/test/java/org/apache/hadoop/hbase/client/TestClientScanner.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="14625478" author="hudson" created="Mon, 13 Jul 2015 22:18:09 +0000"  >&lt;p&gt;FAILURE: Integrated in HBase-1.1 #582 (See &lt;a href=&quot;https://builds.apache.org/job/HBase-1.1/582/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/HBase-1.1/582/&lt;/a&gt;)&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-13997&quot; title=&quot;ScannerCallableWithReplicas cause Infinitely blocking&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-13997&quot;&gt;&lt;del&gt;HBASE-13997&lt;/del&gt;&lt;/a&gt; ScannerCallableWithReplicas cause Infinitely blocking (Zephyr Guo and Enis) (enis: rev 32537869f12dc3f1fe70ea087ebf97aac149e787)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;hbase-client/src/main/java/org/apache/hadoop/hbase/client/ScannerCallableWithReplicas.java&lt;/li&gt;
	&lt;li&gt;hbase-client/src/test/java/org/apache/hadoop/hbase/client/TestClientScanner.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="14625482" author="hudson" created="Mon, 13 Jul 2015 22:21:30 +0000"  >&lt;p&gt;SUCCESS: Integrated in HBase-1.2 #65 (See &lt;a href=&quot;https://builds.apache.org/job/HBase-1.2/65/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/HBase-1.2/65/&lt;/a&gt;)&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-13997&quot; title=&quot;ScannerCallableWithReplicas cause Infinitely blocking&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-13997&quot;&gt;&lt;del&gt;HBASE-13997&lt;/del&gt;&lt;/a&gt; ScannerCallableWithReplicas cause Infinitely blocking (Zephyr Guo and Enis) (enis: rev 4b6f0149c15f1646bcfafc270d8c928a159651a6)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;hbase-client/src/test/java/org/apache/hadoop/hbase/client/TestClientScanner.java&lt;/li&gt;
	&lt;li&gt;hbase-client/src/main/java/org/apache/hadoop/hbase/client/ScannerCallableWithReplicas.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="14625504" author="hudson" created="Mon, 13 Jul 2015 22:34:09 +0000"  >&lt;p&gt;SUCCESS: Integrated in HBase-1.3 #52 (See &lt;a href=&quot;https://builds.apache.org/job/HBase-1.3/52/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/HBase-1.3/52/&lt;/a&gt;)&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-13997&quot; title=&quot;ScannerCallableWithReplicas cause Infinitely blocking&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-13997&quot;&gt;&lt;del&gt;HBASE-13997&lt;/del&gt;&lt;/a&gt; ScannerCallableWithReplicas cause Infinitely blocking (Zephyr Guo and Enis) (enis: rev 426bd097775dc9ed18b4f208429eeece0b472e95)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;hbase-client/src/test/java/org/apache/hadoop/hbase/client/TestClientScanner.java&lt;/li&gt;
	&lt;li&gt;hbase-client/src/main/java/org/apache/hadoop/hbase/client/ScannerCallableWithReplicas.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                    </comments>
                    <attachments>
                            <attachment id="12743196" name="HBASE-13997.patch" size="1021" author="gzh1992n" created="Thu, 2 Jul 2015 00:42:14 +0000"/>
                            <attachment id="12744374" name="hbase-13997_v2.patch" size="10344" author="enis" created="Thu, 9 Jul 2015 00:36:36 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>2.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Tue, 30 Jun 2015 18:53:02 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            1 year, 20 weeks, 2 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i2gog7:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        </customfields>
    </item>
</channel>
</rss>