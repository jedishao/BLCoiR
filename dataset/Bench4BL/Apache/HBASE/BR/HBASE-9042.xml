<!-- 
RSS generated by JIRA (6.3.4#6332-sha1:51bc225ef474afe3128b2f66878477f322397b16) at Sat Dec 03 15:53:39 UTC 2016

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary add field=key&field=summary to the URL of your request.
For example:
https://issues.apache.org/jira/si/jira.issueviews:issue-xml/HBASE-9042/HBASE-9042.xml?field=key&amp;field=summary
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>6.3.4</version>
        <build-number>6332</build-number>
        <build-date>15-08-2014</build-date>
    </build-info>

<item>
            <title>[HBASE-9042] Can&apos;t get TestHCM#testClusterStatus to work</title>
                <link>https://issues.apache.org/jira/browse/HBASE-9042</link>
                <project id="12310753" key="HBASE">HBase</project>
                    <description>&lt;p&gt;I can&apos;t get HBase trunk to build. In particular TestHCM.testClusterStatus always fails for me. I tried on my own Jenkins as well as my IDE (IntelliJ) with the same result (two different machines, CentOS &amp;amp; Mac OS).&lt;/p&gt;

&lt;p&gt;mvn -U -PrunAllTests -Dmaven.test.redirectTestOutputToFile=true&lt;br/&gt;
-Dit.test=noItTest clean install&lt;/p&gt;

&lt;p&gt;I&apos;ve attached the full log. It fails on the last wait by exceeding the timeout. This is reported:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
 - &lt;span class=&quot;code-object&quot;&gt;Thread&lt;/span&gt; LEAK? -, OpenFileDescriptor=417 (was 440), MaxFileDescriptor=4096 (was 4096), SystemLoadAverage=227 (was 265), ProcessCount=243 (was 240) - ProcessCount LEAK? -, AvailableMemoryMB=2196 (was 1991) - AvailableMemoryMB LEAK? -, ConnectionCount=7 (was 6) - ConnectionCount LEAK? -
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;And the Thread dump (see attached file) has a bunch of things reported as potentially hanging threads.&lt;/p&gt;

&lt;p&gt;From my MacBook&apos;s command line I got the test to pass using the same&lt;br/&gt;
command but not in Jenkins or from IntelliJ.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12659867">HBASE-9042</key>
            <summary>Can&apos;t get TestHCM#testClusterStatus to work</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/bug.png">Bug</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.png">Minor</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="3">Duplicate</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="lars_francke">Lars Francke</reporter>
                        <labels>
                    </labels>
                <created>Thu, 25 Jul 2013 18:25:51 +0000</created>
                <updated>Tue, 22 Jul 2014 12:47:56 +0000</updated>
                            <resolved>Tue, 22 Jul 2014 12:47:56 +0000</resolved>
                                                                    <component>test</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>4</watches>
                                                                                                            <comments>
                            <comment id="13721420" author="stack" created="Sat, 27 Jul 2013 00:15:02 +0000"  >&lt;p&gt;Weird.  It hangs for 40 seconds in here:&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
2013-07-21 22:12:31,038 INFO  [AM.ZK.Worker-pool-4-thread-16] master.AssignmentManager$4(1223): The master has opened testClusterStatus,,1374437547649.f02a31af489a311d2a63454a13db9b09. that was online on lars-francke.com,38941,1374437536925
2013-07-21 22:13:10,133 INFO  [pool-1-thread-1] hbase.ResourceChecker(171): after: client.TestHCM#testClusterStatus &lt;span class=&quot;code-object&quot;&gt;Thread&lt;/span&gt;=288 (was 275)
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;I don&apos;t have time to dig.  I want to disable this test for now so the likes of yourself can make progress.  OK w/ you &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=lars_francke&quot; class=&quot;user-hover&quot; rel=&quot;lars_francke&quot;&gt;Lars Francke&lt;/a&gt;?&lt;/p&gt;</comment>
                            <comment id="13722266" author="lars_francke" created="Mon, 29 Jul 2013 08:34:25 +0000"  >&lt;p&gt;Thanks stack, sounds good to me! I don&apos;t have a better solution either. I tried looking into it but couldn&apos;t find the cause either.&lt;/p&gt;</comment>
                            <comment id="13722532" author="stack" created="Mon, 29 Jul 2013 15:21:28 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=lars_francke&quot; class=&quot;user-hover&quot; rel=&quot;lars_francke&quot;&gt;Lars Francke&lt;/a&gt; I disabled it via sub-issue for now.&lt;/p&gt;</comment>
                            <comment id="13755627" author="hudson" created="Sat, 31 Aug 2013 23:23:15 +0000"  >&lt;p&gt;FAILURE: Integrated in hbase-0.96 #3 (See &lt;a href=&quot;https://builds.apache.org/job/hbase-0.96/3/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/hbase-0.96/3/&lt;/a&gt;)&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-9042&quot; title=&quot;Can&amp;#39;t get TestHCM#testClusterStatus to work&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-9042&quot;&gt;&lt;del&gt;HBASE-9042&lt;/del&gt;&lt;/a&gt; initCause() uses wrong exception in ProtobufLogReader#readNext(HLog); REVERT AGAIN &amp;#8211; WAIT BEFORE ADDING MORE PATCHES TO 0.96 BRANCH (stack: rev 1519221)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hbase/branches/0.96/hbase-server/src/main/java/org/apache/hadoop/hbase/regionserver/wal/ProtobufLogReader.java&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-9042&quot; title=&quot;Can&amp;#39;t get TestHCM#testClusterStatus to work&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-9042&quot;&gt;&lt;del&gt;HBASE-9042&lt;/del&gt;&lt;/a&gt; initCause() uses wrong exception in ProtobufLogReader#readNext(HLog); REAPPLY (stack: rev 1519220)&lt;/li&gt;
	&lt;li&gt;/hbase/branches/0.96/hbase-server/src/main/java/org/apache/hadoop/hbase/regionserver/wal/ProtobufLogReader.java&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-9042&quot; title=&quot;Can&amp;#39;t get TestHCM#testClusterStatus to work&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-9042&quot;&gt;&lt;del&gt;HBASE-9042&lt;/del&gt;&lt;/a&gt; initCause() uses wrong exception in ProtobufLogReader#readNext(HLog); REVERT (stack: rev 1519216)&lt;/li&gt;
	&lt;li&gt;/hbase/branches/0.96/hbase-server/src/main/java/org/apache/hadoop/hbase/regionserver/wal/ProtobufLogReader.java&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-9042&quot; title=&quot;Can&amp;#39;t get TestHCM#testClusterStatus to work&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-9042&quot;&gt;&lt;del&gt;HBASE-9042&lt;/del&gt;&lt;/a&gt; initCause() uses wrong exception in ProtobufLogReader#readNext(HLog) (stack: rev 1519215)&lt;/li&gt;
	&lt;li&gt;/hbase/branches/0.96/hbase-server/src/main/java/org/apache/hadoop/hbase/regionserver/wal/ProtobufLogReader.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13755632" author="hudson" created="Sun, 1 Sep 2013 01:18:01 +0000"  >&lt;p&gt;FAILURE: Integrated in hbase-0.96-hadoop2 #2 (See &lt;a href=&quot;https://builds.apache.org/job/hbase-0.96-hadoop2/2/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/hbase-0.96-hadoop2/2/&lt;/a&gt;)&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-9042&quot; title=&quot;Can&amp;#39;t get TestHCM#testClusterStatus to work&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-9042&quot;&gt;&lt;del&gt;HBASE-9042&lt;/del&gt;&lt;/a&gt; initCause() uses wrong exception in ProtobufLogReader#readNext(HLog); REVERT AGAIN &amp;#8211; WAIT BEFORE ADDING MORE PATCHES TO 0.96 BRANCH (stack: rev 1519221)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hbase/branches/0.96/hbase-server/src/main/java/org/apache/hadoop/hbase/regionserver/wal/ProtobufLogReader.java&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-9042&quot; title=&quot;Can&amp;#39;t get TestHCM#testClusterStatus to work&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-9042&quot;&gt;&lt;del&gt;HBASE-9042&lt;/del&gt;&lt;/a&gt; initCause() uses wrong exception in ProtobufLogReader#readNext(HLog); REAPPLY (stack: rev 1519220)&lt;/li&gt;
	&lt;li&gt;/hbase/branches/0.96/hbase-server/src/main/java/org/apache/hadoop/hbase/regionserver/wal/ProtobufLogReader.java&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-9042&quot; title=&quot;Can&amp;#39;t get TestHCM#testClusterStatus to work&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-9042&quot;&gt;&lt;del&gt;HBASE-9042&lt;/del&gt;&lt;/a&gt; initCause() uses wrong exception in ProtobufLogReader#readNext(HLog); REVERT (stack: rev 1519216)&lt;/li&gt;
	&lt;li&gt;/hbase/branches/0.96/hbase-server/src/main/java/org/apache/hadoop/hbase/regionserver/wal/ProtobufLogReader.java&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-9042&quot; title=&quot;Can&amp;#39;t get TestHCM#testClusterStatus to work&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-9042&quot;&gt;&lt;del&gt;HBASE-9042&lt;/del&gt;&lt;/a&gt; initCause() uses wrong exception in ProtobufLogReader#readNext(HLog) (stack: rev 1519215)&lt;/li&gt;
	&lt;li&gt;/hbase/branches/0.96/hbase-server/src/main/java/org/apache/hadoop/hbase/regionserver/wal/ProtobufLogReader.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13996562" author="nkeywal" created="Tue, 13 May 2014 16:25:49 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=lars_francke&quot; class=&quot;user-hover&quot; rel=&quot;lars_francke&quot;&gt;Lars Francke&lt;/a&gt; Lars, could you please give a try to the patch in &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-10573&quot; title=&quot;Use Netty 4&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-10573&quot;&gt;&lt;del&gt;HBASE-10573&lt;/del&gt;&lt;/a&gt;? Thanks!&lt;/p&gt;</comment>
                            <comment id="14069220" author="lars_francke" created="Mon, 21 Jul 2014 20:28:06 +0000"  >&lt;p&gt;Sorry, took a while but I got around to testing it and you&apos;re correct. It seems to work now. Thanks!&lt;/p&gt;</comment>
                            <comment id="14070213" author="nkeywal" created="Tue, 22 Jul 2014 12:46:13 +0000"  >&lt;p&gt;Thanks for the feedback, Lars.&lt;/p&gt;</comment>
                            <comment id="14070214" author="nkeywal" created="Tue, 22 Jul 2014 12:47:56 +0000"  >&lt;p&gt;Fixed by another jira.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12594226" name="HBASE-9042.1.txt" size="93416" author="lars_francke" created="Thu, 25 Jul 2013 18:26:33 +0000"/>
                    </attachments>
                <subtasks>
                            <subtask id="12660400">HBASE-9071</subtask>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Sat, 27 Jul 2013 00:15:02 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>340059</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            2 years, 19 weeks, 4 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1mngv:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>340377</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        </customfields>
    </item>
</channel>
</rss>