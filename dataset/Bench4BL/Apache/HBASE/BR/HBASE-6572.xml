<!-- 
RSS generated by JIRA (6.3.4#6332-sha1:51bc225ef474afe3128b2f66878477f322397b16) at Sat Dec 03 19:31:42 UTC 2016

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary add field=key&field=summary to the URL of your request.
For example:
https://issues.apache.org/jira/si/jira.issueviews:issue-xml/HBASE-6572/HBASE-6572.xml?field=key&amp;field=summary
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>6.3.4</version>
        <build-number>6332</build-number>
        <build-date>15-08-2014</build-date>
    </build-info>

<item>
            <title>[HBASE-6572] Tiered HFile storage</title>
                <link>https://issues.apache.org/jira/browse/HBASE-6572</link>
                <project id="12310753" key="HBASE">HBase</project>
                    <description>&lt;p&gt;Consider how we might enable tiered HFile storage. If HDFS has the capability, we could create certain files on solid state devices where they might be frequently accessed, especially for random reads; and others (and by default) on spinning media as before. We could support the move of frequently read HFiles from spinning media to solid state. We already have CF statistics for this, would only need to add requisite admin interface; could even consider an autotiering option. &lt;/p&gt;

&lt;p&gt;Dhruba Borthakur did some early work in this area and wrote up his findings: &lt;a href=&quot;http://hadoopblog.blogspot.com/2012/05/hadoop-and-solid-state-drives.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://hadoopblog.blogspot.com/2012/05/hadoop-and-solid-state-drives.html&lt;/a&gt; . It is important to note the findings but I suggest most of the recommendations are out of scope of this JIRA. This JIRA seeks to find an initial use case that produces a reasonable benefit, and serves as a testbed for further improvements. If I may paraphrase Dhruba&apos;s findings (any misstatements and errors are mine): First, the DFSClient code paths introduce significant latency, so the HDFS client (and presumably the DataNode, as the next bottleneck) will need significant work to knock that down. Need to investigate optimized (perhaps read-only) DFS clients, server side read and caching strategies. Second, RegionServers are heavily threaded and this imposes a lot of monitor contention and context switching cost. Need to investigate reducing the number of threads in a RegionServer, nonblocking IO and RPC.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12603333">HBASE-6572</key>
            <summary>Tiered HFile storage</summary>
                <type id="13" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/genericissue.png">Brainstorming</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.png">Major</priority>
                        <status id="1" iconUrl="https://issues.apache.org/jira/images/icons/statuses/open.png" description="The issue is open and ready for the assignee to start work on it.">Open</status>
                    <statusCategory id="2" key="new" colorName="blue-gray"/>
                                    <resolution id="-1">Unresolved</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="apurtell">Andrew Purtell</reporter>
                        <labels>
                    </labels>
                <created>Mon, 13 Aug 2012 21:31:19 +0000</created>
                <updated>Wed, 28 Jan 2015 05:59:02 +0000</updated>
                                                                                <due></due>
                            <votes>1</votes>
                                    <watches>44</watches>
                                                                                                            <comments>
                            <comment id="13433581" author="apurtell" created="Mon, 13 Aug 2012 21:38:37 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/HDFS-3672&quot; title=&quot;Expose disk-location information for blocks to enable better scheduling&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HDFS-3672&quot;&gt;&lt;del&gt;HDFS-3672&lt;/del&gt;&lt;/a&gt; could be viewed as the beginnings of an API for device aware block placement (the query side). &lt;/p&gt;

&lt;p&gt;If:&lt;/p&gt;

&lt;ul&gt;
	&lt;li&gt;HDFS had an API for querying the nature of its underlying storage volumes&lt;/li&gt;
&lt;/ul&gt;


&lt;ul&gt;
	&lt;li&gt;That API can distinguish solid state from spinning media&lt;/li&gt;
&lt;/ul&gt;


&lt;ul&gt;
	&lt;li&gt;HDFS also adds an API for specifying block placement according to the storage volume type, perhaps as a new argument to &lt;tt&gt;FileSystem#create&lt;/tt&gt;.&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;then the above would allow us to rewrite, probably through compaction, HFiles from one media type to another.&lt;/p&gt;

&lt;p&gt;If additionally parts of the namespace can be tagged with storage device affinity, perhaps by setting an attribute on a directory, then file blocks could be migrated in the background via &lt;tt&gt;FileSystem#rename()&lt;/tt&gt; as a natural part of replication: If a DataNode reports block X on media type Y but the path prefers type Z, then the NameNode should figure out how to move the block if possible. &lt;/p&gt;</comment>
                            <comment id="13435305" author="sureshms" created="Wed, 15 Aug 2012 17:10:49 +0000"  >&lt;blockquote&gt;&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/HDFS-3672&quot; title=&quot;Expose disk-location information for blocks to enable better scheduling&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HDFS-3672&quot;&gt;&lt;del&gt;HDFS-3672&lt;/del&gt;&lt;/a&gt; could be viewed as the beginnings of an API for device aware block placement (the query side).&lt;/p&gt;&lt;/blockquote&gt;
&lt;p&gt;I am not sure how &lt;a href=&quot;https://issues.apache.org/jira/browse/HDFS-3672&quot; title=&quot;Expose disk-location information for blocks to enable better scheduling&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HDFS-3672&quot;&gt;&lt;del&gt;HDFS-3672&lt;/del&gt;&lt;/a&gt; helps in this regard. However I think &lt;a href=&quot;https://issues.apache.org/jira/browse/HDFS-2832&quot; title=&quot;Enable support for heterogeneous storages in HDFS - DN as a collection of storages&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HDFS-2832&quot;&gt;&lt;del&gt;HDFS-2832&lt;/del&gt;&lt;/a&gt; does. That was the main intent of that jira.&lt;/p&gt;</comment>
                            <comment id="13459824" author="apurtell" created="Thu, 20 Sep 2012 18:16:58 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=sureshms&quot; class=&quot;user-hover&quot; rel=&quot;sureshms&quot;&gt;Suresh Srinivas&lt;/a&gt; Agreed, &lt;a href=&quot;https://issues.apache.org/jira/browse/HDFS-2832&quot; title=&quot;Enable support for heterogeneous storages in HDFS - DN as a collection of storages&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HDFS-2832&quot;&gt;&lt;del&gt;HDFS-2832&lt;/del&gt;&lt;/a&gt; is it.&lt;/p&gt;</comment>
                            <comment id="14097880" author="apurtell" created="Thu, 14 Aug 2014 23:03:32 +0000"  >&lt;p&gt;It looks like under the umbrella of the archival storage JIRAs HDFS might be getting close to supporting policy based device aware block placement over heterogenous block storage. The umbrella is &lt;a href=&quot;https://issues.apache.org/jira/browse/HDFS-6584&quot; title=&quot;Support Archival Storage&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HDFS-6584&quot;&gt;&lt;del&gt;HDFS-6584&lt;/del&gt;&lt;/a&gt;, with a related prerequisite as &lt;a href=&quot;https://issues.apache.org/jira/browse/HDFS-5682&quot; title=&quot;Heterogeneous Storage phase 2 - APIs to expose Storage Types&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HDFS-5682&quot;&gt;&lt;del&gt;HDFS-5682&lt;/del&gt;&lt;/a&gt;. &lt;a href=&quot;https://issues.apache.org/jira/browse/HDFS-6670&quot; title=&quot;Archival Storage: Add block storage policy&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HDFS-6670&quot;&gt;&lt;del&gt;HDFS-6670&lt;/del&gt;&lt;/a&gt; adds block storage policies. &lt;a href=&quot;https://issues.apache.org/jira/browse/HDFS-6835&quot; title=&quot;Archival Storage: Add a new API to set storage policy&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HDFS-6835&quot;&gt;&lt;del&gt;HDFS-6835&lt;/del&gt;&lt;/a&gt; adds an API for setting block storage policies for files. &lt;a href=&quot;https://issues.apache.org/jira/browse/HDFS-6847&quot; title=&quot;Archival Storage: Support storage policy on directories&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HDFS-6847&quot;&gt;&lt;del&gt;HDFS-6847&lt;/del&gt;&lt;/a&gt; will add support for setting block storage policies for directories. I think pretty much when these pieces are in place we can change storage policies on CF directories to move HFile data around heterogenous storage tiers.&lt;/p&gt;</comment>
                            <comment id="14293910" author="yuzhihong@gmail.com" created="Tue, 27 Jan 2015 18:22:15 +0000"  >&lt;p&gt;Thinking about how store flushing can make use of hdfs storage policy, one option is to allow setting storage policy for the directory path of the specified column family.&lt;br/&gt;
Planning to create a sub-task for the above.&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="12310000">
                    <name>Duplicate</name>
                                            <outwardlinks description="duplicates">
                                        <issuelink>
            <issuekey id="12770591">HBASE-12935</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                            <outwardlinks description="relates to">
                                        <issuelink>
            <issuekey id="12641453">HDFS-4672</issuekey>
        </issuelink>
            <issuelink>
            <issuekey id="12599036">HDFS-3672</issuekey>
        </issuelink>
                            </outwardlinks>
                                                                <inwardlinks description="is related to">
                                        <issuelink>
            <issuekey id="12735157">HDFS-6875</issuekey>
        </issuelink>
            <issuelink>
            <issuekey id="12530597">HBASE-4755</issuekey>
        </issuelink>
            <issuelink>
            <issuekey id="12641453">HDFS-4672</issuekey>
        </issuelink>
            <issuelink>
            <issuekey id="12624815">HBASE-7404</issuekey>
        </issuelink>
            <issuelink>
            <issuekey id="12539644">HDFS-2832</issuekey>
        </issuelink>
            <issuelink>
            <issuekey id="12685453">HDFS-5682</issuekey>
        </issuelink>
            <issuelink>
            <issuekey id="12722899">HDFS-6584</issuekey>
        </issuelink>
            <issuelink>
            <issuekey id="12607851">HBASE-6799</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                            <issuelinktype id="10001">
                    <name>dependent</name>
                                            <outwardlinks description="depends upon">
                                        <issuelink>
            <issuekey id="12599036">HDFS-3672</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                    </issuelinks>
                <attachments>
                    </attachments>
                <subtasks>
                            <subtask id="12767199">HBASE-12848</subtask>
                            <subtask id="12770447">HBASE-12934</subtask>
                            <subtask id="12822212">HBASE-13498</subtask>
                            <subtask id="12844411">HBASE-14061</subtask>
                            <subtask id="12934132">HBASE-15172</subtask>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Wed, 15 Aug 2012 17:10:49 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>241711</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            1 year, 44 weeks, 4 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i02bb3:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>11433</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                    </customfields>
    </item>
</channel>
</rss>