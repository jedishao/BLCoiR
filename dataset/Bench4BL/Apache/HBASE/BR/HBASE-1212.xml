<!-- 
RSS generated by JIRA (6.3.4#6332-sha1:51bc225ef474afe3128b2f66878477f322397b16) at Fri Dec 02 20:11:55 UTC 2016

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary add field=key&field=summary to the URL of your request.
For example:
https://issues.apache.org/jira/si/jira.issueviews:issue-xml/HBASE-1212/HBASE-1212.xml?field=key&amp;field=summary
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>6.3.4</version>
        <build-number>6332</build-number>
        <build-date>15-08-2014</build-date>
    </build-info>

<item>
            <title>[HBASE-1212] merge tool expects regions all have different sequence ids</title>
                <link>https://issues.apache.org/jira/browse/HBASE-1212</link>
                <project id="12310753" key="HBASE">HBase</project>
                    <description>&lt;p&gt;Currently merging two regions, the merge tool will compare their sequence ids.  If same, it will decrement one.  It needs to do this because on region open, files are keyed by their sequenceid; if two the same, one will erase the other.&lt;/p&gt;

&lt;p&gt;Well, with the move to the aggregating hfile format, the sequenceid is written when the file is created and its no longer written into an aside file but as metadata on to the end of the file.  Changing the sequenceid is no longer an option.&lt;/p&gt;

&lt;p&gt;This issue is about figuring a solution for the rare case where two store files have same sequence id AND we want to merge the two regions.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12415413">HBASE-1212</key>
            <summary>merge tool expects regions all have different sequence ids</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/bug.png">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.png">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="jmspaggi">Jean-Marc Spaggiari</assignee>
                                    <reporter username="stack">stack</reporter>
                        <labels>
                    </labels>
                <created>Mon, 23 Feb 2009 22:30:11 +0000</created>
                <updated>Wed, 2 Oct 2013 01:39:06 +0000</updated>
                            <resolved>Tue, 23 Apr 2013 06:33:31 +0000</resolved>
                                                    <fixVersion>0.95.1</fixVersion>
                                        <due></due>
                            <votes>3</votes>
                                    <watches>12</watches>
                                                                <comments>
                            <comment id="12688552" author="nitay" created="Tue, 24 Mar 2009 03:43:39 +0000"  >&lt;p&gt;As I noted on &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-1274&quot; title=&quot;TestMergeTable is broken in Hudson&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-1274&quot;&gt;&lt;del&gt;HBASE-1274&lt;/del&gt;&lt;/a&gt;, we can try using the file names to do the sequencing:&lt;/p&gt;

&lt;blockquote&gt;&lt;p&gt;What about using something that sorts lexicographically and sorting the dir.listFiles we use when grabbing the store files? Then when we move around two files with the same sequence ids to do a merge we can rename the actual files.&lt;/p&gt;&lt;/blockquote&gt;</comment>
                            <comment id="12689054" author="stack" created="Wed, 25 Mar 2009 09:55:58 +0000"  >&lt;p&gt;Moving to 0.20.0&lt;/p&gt;</comment>
                            <comment id="12701645" author="stack" created="Wed, 22 Apr 2009 19:00:32 +0000"  >&lt;p&gt;I like the jgray idea that we use modtime instead of an edit number.&lt;/p&gt;</comment>
                            <comment id="12708114" author="stack" created="Mon, 11 May 2009 17:16:04 +0000"  >&lt;p&gt;Thinking on it, this event should be extremely rare.  Sequence ids are monotonically increasing in a running regionserver.  Across a cluster, two files of the same family would have to end with same sequenceid.  Then whats the likelihood that of all regions on cluster these are the two to merge (Merge is a little-used tool to date).&lt;/p&gt;

&lt;p&gt;To fix, would need to look at the content of the two files and make a judgement as to which should come before the other &amp;#8211; which has the most recent edits.  Maybe we could do something basic like let the file with the largest size prevail over the smaller.  Once we&apos;d figure which file to bring to the fore, we need to rewrite the hfile so we can change the sequence id.  Since we&apos;re rewriting one of the files at least, might as well compact them.&lt;/p&gt;

&lt;p&gt;We could move to modification times.  That should simplify this sequenceid story.  It wouldn&apos;t remove this issue.  We&apos;d still have to figure which store file to favor if two happened to have same mod time.&lt;/p&gt;

&lt;p&gt;In bigtable, chubby owns the storefiles/sstables.  Maybe thats where we should go so we don&apos;t have sequenceids anymore?&lt;/p&gt;

&lt;p&gt;Moving out of 0.20.0 because this issue rare and amount of work to address is large.&lt;/p&gt;
</comment>
                            <comment id="13001467" author="mr_luk" created="Wed, 2 Mar 2011 16:13:12 +0000"  >&lt;p&gt;Hi there,&lt;br/&gt;
When using util.merge on a table (created under hbase 0.20.6, but now running under 0.90.1) I get the following exception very often (which I think is the result of this jira):&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt; 
FATAL util.Merge: Merge failed
java.io.IOException: Files have same sequenceid: 1283640296746
	at org.apache.hadoop.hbase.regionserver.HRegion.merge(HRegion.java:2785)
	at org.apache.hadoop.hbase.util.Merge.merge(Merge.java:287)
	at org.apache.hadoop.hbase.util.Merge.mergeTwoRegions(Merge.java:238)
	at org.apache.hadoop.hbase.util.Merge.run(Merge.java:110)
	at org.apache.hadoop.util.ToolRunner.run(ToolRunner.java:65)
	at org.apache.hadoop.hbase.util.Merge.main(Merge.java:379)
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Unfortunately at this point some families of the region were already moved to the new merged region which leaves the table in an inconsistent state.&lt;br/&gt;
Is there any way to detect this failure case before running the merge tool (except for opening the store files in advance and calling getMaxSequenceId)?&lt;/p&gt;

&lt;p&gt;Same issue is also mentioned in the &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-1621?focusedCommentId=12993477#comment-12993477&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;comments&lt;/a&gt; of &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-1621&quot; title=&quot;merge tool should work on online cluster&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-1621&quot;&gt;&lt;del&gt;HBASE-1621&lt;/del&gt;&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="13002363" author="stack" created="Fri, 4 Mar 2011 00:37:46 +0000"  >&lt;p&gt;This is worse now that bulk upload is popular; all get low seqid so likelihood of clashing more likely.&lt;/p&gt;

&lt;p&gt;Made it so I had to do manual merge doing fixup of user cluster.&lt;/p&gt;</comment>
                            <comment id="13002375" author="ryanobjc" created="Fri, 4 Mar 2011 00:50:42 +0000"  >&lt;p&gt;now that we dont key files by their sequence id in Store.java, this is simpler: just allow duplicate sequence ids.&lt;/p&gt;</comment>
                            <comment id="13290022" author="mr_luk" created="Wed, 6 Jun 2012 08:42:36 +0000"  >&lt;p&gt;Can someone comment, if this is still an issue?&lt;/p&gt;</comment>
                            <comment id="13510670" author="jmspaggi" created="Wed, 5 Dec 2012 18:44:44 +0000"  >&lt;p&gt;FYI, I&apos;m facing this issue today while trying to merge all the regions of a table. I have created a 54 regions table, and while trying to merge all of them back into a single one I got this error. I&apos;m able to reproduce it.&lt;/p&gt;</comment>
                            <comment id="13510790" author="jmspaggi" created="Wed, 5 Dec 2012 21:27:58 +0000"  >&lt;p&gt;Attached logs from a merge failure.&lt;/p&gt;</comment>
                            <comment id="13511343" author="jmspaggi" created="Thu, 6 Dec 2012 13:29:42 +0000"  >&lt;p&gt;Based on Ryan&apos;s comment on March 3rd 2011 I did some more testing.&lt;/p&gt;

&lt;p&gt;Here is how I proceed:&lt;br/&gt;
Creation of a test table.&lt;br/&gt;
Truncate the test table if already there and not empty.&lt;br/&gt;
Insert 100000 records&lt;br/&gt;
hbck =&amp;gt; ok.&lt;br/&gt;
Split into 256 regions using HTML interface&lt;br/&gt;
Balancer + major_compact&lt;br/&gt;
Try to merge all the regions 2 by 2 until only 1 region remaining or until error.&lt;br/&gt;
If no error, restart from split.  (Usually need to do it twice)&lt;/p&gt;

&lt;p&gt;Now, at this stage, I have 2 regions with the same sequence ID that I&apos;m not able to merge with the current un-patched HRegion code.&lt;/p&gt;

&lt;p&gt;Displayed:starting merge of regions: testtable,?\xEC\x80C^\xB2Q\xE8,1354799289826.eb1b2213a6b09a9d989c39abe3d6d18b. and testtable,?\xEC\xF9\x88\xBE{Sb,1354799292172.2d81e98f11bdda12dbf06c11eefefb39. into new region &lt;/p&gt;
{NAME =&amp;gt; &apos;testtable,?\xEC\x80C^\xB2Q\xE8,1354799434888.e4e403c2bf3b3b2561f26bfb70ef48d1.&apos;, STARTKEY =&amp;gt; &apos;?\xEC\x80C^\xB2Q\xE8&apos;, ENDKEY =&amp;gt; &apos;?\xEDw\xF5\x16\xC4\x81\xB7&apos;, ENCODED =&amp;gt; e4e403c2bf3b3b2561f26bfb70ef48d1,}
&lt;p&gt; with start key &amp;lt;?\xEC\x80C^\xB2Q\xE8&amp;gt; and end key &amp;lt;?\xEDw\xF5\x16\xC4\x81\xB7&amp;gt;&lt;/p&gt;


&lt;p&gt;Start-hbase, hbck =&amp;gt; One issue on the newly created region (&lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-7287&quot; title=&quot;HBase inconsistencies when merge failing on &amp;quot;Files have same sequenceid&amp;quot;&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-7287&quot;&gt;&lt;del&gt;HBASE-7287&lt;/del&gt;&lt;/a&gt; e4e403c2bf3b3b2561f26bfb70ef48d)&lt;br/&gt;
rowcount =&amp;gt; 12/12/06 08:15:14 INFO mapred.JobClient:     ROWS=100000&lt;/p&gt;

&lt;p&gt;Apply &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-1212&quot; title=&quot;merge tool expects regions all have different sequence ids&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-1212&quot;&gt;&lt;del&gt;HBASE-1212&lt;/del&gt;&lt;/a&gt; patch, stop HBase and restart the merge.&lt;br/&gt;
Merge went well up to the end (all regions merged 2 by 2 until only 1 region remaining)&lt;br/&gt;
Start-hbase, hbck =&amp;gt; One issue on the newly created region (&lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-7287&quot; title=&quot;HBase inconsistencies when merge failing on &amp;quot;Files have same sequenceid&amp;quot;&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-7287&quot;&gt;&lt;del&gt;HBASE-7287&lt;/del&gt;&lt;/a&gt; e4e403c2bf3b3b2561f26bfb70ef48d) Same as before, so no additionnal issue because of &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-1212&quot; title=&quot;merge tool expects regions all have different sequence ids&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-1212&quot;&gt;&lt;del&gt;HBASE-1212&lt;/del&gt;&lt;/a&gt;.&lt;br/&gt;
rowcount =&amp;gt; 12/12/06 08:21:54 INFO mapred.JobClient:     ROWS=100000&lt;/p&gt;


&lt;p&gt;The issue created by the merge when not patched (&lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-7287&quot; title=&quot;HBase inconsistencies when merge failing on &amp;quot;Files have same sequenceid&amp;quot;&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-7287&quot;&gt;&lt;del&gt;HBASE-7287&lt;/del&gt;&lt;/a&gt; or &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-1212&quot; title=&quot;merge tool expects regions all have different sequence ids&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-1212&quot;&gt;&lt;del&gt;HBASE-1212&lt;/del&gt;&lt;/a&gt;) is just an empty directory created which can be manually removed.&lt;/p&gt;

&lt;p&gt;If we apply &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-1212&quot; title=&quot;merge tool expects regions all have different sequence ids&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-1212&quot;&gt;&lt;del&gt;HBASE-1212&lt;/del&gt;&lt;/a&gt;, then there is no more needs to apply &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-7287&quot; title=&quot;HBase inconsistencies when merge failing on &amp;quot;Files have same sequenceid&amp;quot;&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-7287&quot;&gt;&lt;del&gt;HBASE-7287&lt;/del&gt;&lt;/a&gt;. If we want to make more tests for &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-1212&quot; title=&quot;merge tool expects regions all have different sequence ids&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-1212&quot;&gt;&lt;del&gt;HBASE-1212&lt;/del&gt;&lt;/a&gt; then it might be good to apply &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-7287&quot; title=&quot;HBase inconsistencies when merge failing on &amp;quot;Files have same sequenceid&amp;quot;&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-7287&quot;&gt;&lt;del&gt;HBASE-7287&lt;/del&gt;&lt;/a&gt; to avoid system inconsistencies.&lt;/p&gt;

&lt;p&gt;Based on my tests I can confirm that we can remove the sequenceID check and the merge will still be working fine even if 2 files got the same sequenceID.&lt;/p&gt;</comment>
                            <comment id="13511345" author="jmspaggi" created="Thu, 6 Dec 2012 13:30:17 +0000"  >&lt;p&gt;Patch to remove the sequenceID check.&lt;/p&gt;</comment>
                            <comment id="13511457" author="yuzhihong@gmail.com" created="Thu, 6 Dec 2012 15:26:34 +0000"  >&lt;p&gt;Can you attach patch for trunk ?&lt;/p&gt;

&lt;p&gt;Thanks&lt;/p&gt;</comment>
                            <comment id="13511488" author="jmspaggi" created="Thu, 6 Dec 2012 16:07:58 +0000"  >&lt;p&gt;Hi Ted,&lt;/p&gt;

&lt;p&gt;I have already attached the patch. I did it on my eclipse which is configured with the trunk. So it should be correct? Or have I done anything wrong?&lt;/p&gt;

&lt;p&gt;Thanks.&lt;/p&gt;</comment>
                            <comment id="13511529" author="yuzhihong@gmail.com" created="Thu, 6 Dec 2012 17:17:24 +0000"  >&lt;p&gt;From your patch:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
Index: src/main/java/org/apache/hadoop/hbase/regionserver/HRegion.java
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;In trunk, the path would be hbase-server/src/main/java/org/apache/hadoop/hbase/regionserver/HRegion.java&lt;/p&gt;

&lt;p&gt;Can you use &apos;svn diff&apos; command to produce next patch under the root of your workspace ?&lt;/p&gt;</comment>
                            <comment id="13511595" author="jmspaggi" created="Thu, 6 Dec 2012 18:29:27 +0000"  >&lt;p&gt;Oh, sorry about that! Did not figured I missed that.&lt;/p&gt;

&lt;p&gt;Debian come with VSN &amp;lt; 1.7 so this command line was not working for me. I installed 1.7, run it and got the patch for all the modifications I made. So attached is the extract for &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-1212&quot; title=&quot;merge tool expects regions all have different sequence ids&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-1212&quot;&gt;&lt;del&gt;HBASE-1212&lt;/del&gt;&lt;/a&gt;.  Can I mark &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-7287&quot; title=&quot;HBase inconsistencies when merge failing on &amp;quot;Files have same sequenceid&amp;quot;&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-7287&quot;&gt;&lt;del&gt;HBASE-7287&lt;/del&gt;&lt;/a&gt; as resolved by this one?&lt;/p&gt;</comment>
                            <comment id="13512008" author="lhofhansl" created="Thu, 6 Dec 2012 19:00:20 +0000"  >&lt;p&gt;Change looks good to me. Taking a cursory look at the code we&apos;re indeed not using the sequenceId solely to distinguish HFiles.&lt;br/&gt;
Can somebody reconfirm that.&lt;/p&gt;</comment>
                            <comment id="13530802" author="hadoopqa" created="Thu, 13 Dec 2012 08:57:09 +0000"  >&lt;p&gt;&lt;font color=&quot;red&quot;&gt;-1 overall&lt;/font&gt;.  Here are the results of testing the latest attachment &lt;br/&gt;
  &lt;a href=&quot;http://issues.apache.org/jira/secure/attachment/12556386/HBASE-1212-v2.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://issues.apache.org/jira/secure/attachment/12556386/HBASE-1212-v2.patch&lt;/a&gt;&lt;br/&gt;
  against trunk revision .&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 @author&lt;/font&gt;.  The patch does not contain any @author tags.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;red&quot;&gt;-1 tests included&lt;/font&gt;.  The patch doesn&apos;t appear to include any new or modified tests.&lt;br/&gt;
                        Please justify why no new tests are needed for this patch.&lt;br/&gt;
                        Also please list what manual steps were performed to verify this patch.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 hadoop2.0&lt;/font&gt;.  The patch compiles against the hadoop 2.0 profile.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;red&quot;&gt;-1 javadoc&lt;/font&gt;.  The javadoc tool appears to have generated 104 warning messages.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 javac&lt;/font&gt;.  The applied patch does not increase the total number of javac compiler warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;red&quot;&gt;-1 findbugs&lt;/font&gt;.  The patch appears to introduce 23 new Findbugs (version 1.3.9) warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 release audit&lt;/font&gt;.  The applied patch does not increase the total number of release audit warnings.&lt;/p&gt;

&lt;p&gt;     &lt;font color=&quot;red&quot;&gt;-1 core tests&lt;/font&gt;.  The patch failed these unit tests:&lt;/p&gt;


&lt;p&gt;Test results: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/3526//testReport/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/3526//testReport/&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/3526//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-hadoop2-compat.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/3526//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-hadoop2-compat.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/3526//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-examples.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/3526//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-examples.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/3526//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-protocol.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/3526//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-protocol.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/3526//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-server.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/3526//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-server.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/3526//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-hadoop1-compat.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/3526//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-hadoop1-compat.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/3526//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-common.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/3526//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-common.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/3526//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-hadoop-compat.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/3526//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-hadoop-compat.html&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/3526//console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/3526//console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;</comment>
                            <comment id="13563298" author="jmspaggi" created="Sat, 26 Jan 2013 02:41:19 +0000"  >&lt;p&gt;Re-submitting the refreshed patch.&lt;/p&gt;</comment>
                            <comment id="13563332" author="hadoopqa" created="Sat, 26 Jan 2013 03:46:51 +0000"  >&lt;p&gt;&lt;font color=&quot;red&quot;&gt;-1 overall&lt;/font&gt;.  Here are the results of testing the latest attachment &lt;br/&gt;
  &lt;a href=&quot;http://issues.apache.org/jira/secure/attachment/12566598/HBASE-1212-v3-trunk.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://issues.apache.org/jira/secure/attachment/12566598/HBASE-1212-v3-trunk.patch&lt;/a&gt;&lt;br/&gt;
  against trunk revision .&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 @author&lt;/font&gt;.  The patch does not contain any @author tags.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;red&quot;&gt;-1 tests included&lt;/font&gt;.  The patch doesn&apos;t appear to include any new or modified tests.&lt;br/&gt;
                        Please justify why no new tests are needed for this patch.&lt;br/&gt;
                        Also please list what manual steps were performed to verify this patch.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 hadoop2.0&lt;/font&gt;.  The patch compiles against the hadoop 2.0 profile.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 javadoc&lt;/font&gt;.  The javadoc tool did not generate any warning messages.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 javac&lt;/font&gt;.  The applied patch does not increase the total number of javac compiler warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 findbugs&lt;/font&gt;.  The patch does not introduce any new Findbugs (version 1.3.9) warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 release audit&lt;/font&gt;.  The applied patch does not increase the total number of release audit warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 lineLengths&lt;/font&gt;.  The patch does not introduce lines longer than 100&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 core tests&lt;/font&gt;.  The patch passed unit tests in .&lt;/p&gt;

&lt;p&gt;Test results: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/4191//testReport/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/4191//testReport/&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/4191//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-protocol.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/4191//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-protocol.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/4191//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-examples.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/4191//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-examples.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/4191//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-hadoop1-compat.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/4191//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-hadoop1-compat.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/4191//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-common.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/4191//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-common.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/4191//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-server.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/4191//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-server.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/4191//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-hadoop-compat.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/4191//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-hadoop-compat.html&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/4191//console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/4191//console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;</comment>
                            <comment id="13564071" author="zjushch" created="Mon, 28 Jan 2013 06:02:35 +0000"  >&lt;p&gt;We will use sequenceId to sort HFiles, like in compaction.&lt;br/&gt;
When merging, there is no overlap between these two files from different regions, I think it&apos;s ok even if two files have the same sequence ID since we don&apos;t use it to distingush the files in Store any more &lt;/p&gt;

&lt;p&gt;Patch looks good for me&lt;/p&gt;</comment>
                            <comment id="13564364" author="yuzhihong@gmail.com" created="Mon, 28 Jan 2013 16:03:08 +0000"  >&lt;p&gt;+1 from me.&lt;/p&gt;</comment>
                            <comment id="13564368" author="jmspaggi" created="Mon, 28 Jan 2013 16:08:59 +0000"  >&lt;p&gt;Should I upload one for 0.94?&lt;/p&gt;</comment>
                            <comment id="13564408" author="yuzhihong@gmail.com" created="Mon, 28 Jan 2013 16:55:32 +0000"  >&lt;p&gt;Integrated to trunk.&lt;/p&gt;

&lt;p&gt;Thanks for the patch, Jean-Marc.&lt;/p&gt;

&lt;p&gt;Thanks for the review, Chunhui.&lt;/p&gt;</comment>
                            <comment id="13564461" author="hudson" created="Mon, 28 Jan 2013 18:08:57 +0000"  >&lt;p&gt;Integrated in HBase-TRUNK #3814 (See &lt;a href=&quot;https://builds.apache.org/job/HBase-TRUNK/3814/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/HBase-TRUNK/3814/&lt;/a&gt;)&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-1212&quot; title=&quot;merge tool expects regions all have different sequence ids&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-1212&quot;&gt;&lt;del&gt;HBASE-1212&lt;/del&gt;&lt;/a&gt; merge tool expects regions all have different sequence ids (Jean-Marc) (Revision 1439495)&lt;/p&gt;

&lt;p&gt;     Result = FAILURE&lt;br/&gt;
tedyu : &lt;br/&gt;
Files : &lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hbase/trunk/hbase-server/src/main/java/org/apache/hadoop/hbase/regionserver/HRegion.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13564893" author="hudson" created="Tue, 29 Jan 2013 00:25:16 +0000"  >&lt;p&gt;Integrated in HBase-TRUNK-on-Hadoop-2.0.0 #381 (See &lt;a href=&quot;https://builds.apache.org/job/HBase-TRUNK-on-Hadoop-2.0.0/381/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/HBase-TRUNK-on-Hadoop-2.0.0/381/&lt;/a&gt;)&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-1212&quot; title=&quot;merge tool expects regions all have different sequence ids&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-1212&quot;&gt;&lt;del&gt;HBASE-1212&lt;/del&gt;&lt;/a&gt; merge tool expects regions all have different sequence ids (Jean-Marc) (Revision 1439495)&lt;/p&gt;

&lt;p&gt;     Result = FAILURE&lt;br/&gt;
tedyu : &lt;br/&gt;
Files : &lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hbase/trunk/hbase-server/src/main/java/org/apache/hadoop/hbase/regionserver/HRegion.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13638839" author="stack" created="Tue, 23 Apr 2013 06:33:31 +0000"  >&lt;p&gt;Was integrated a while back.  Resolving.&lt;/p&gt;</comment>
                            <comment id="13783542" author="hudson" created="Wed, 2 Oct 2013 00:51:49 +0000"  >&lt;p&gt;FAILURE: Integrated in HBase-0.94-security #306 (See &lt;a href=&quot;https://builds.apache.org/job/HBase-0.94-security/306/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/HBase-0.94-security/306/&lt;/a&gt;)&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-9504&quot; title=&quot;Backport HBASE-1212 to 0.94&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-9504&quot;&gt;&lt;del&gt;HBASE-9504&lt;/del&gt;&lt;/a&gt; Backport &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-1212&quot; title=&quot;merge tool expects regions all have different sequence ids&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-1212&quot;&gt;&lt;del&gt;HBASE-1212&lt;/del&gt;&lt;/a&gt; to 0.94 - merge tool expects regions all have different sequence ids (Jean-Marc Spaggiari) (larsh: rev 1528280)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hbase/branches/0.94/src/main/java/org/apache/hadoop/hbase/regionserver/HRegion.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13783570" author="hudson" created="Wed, 2 Oct 2013 01:39:06 +0000"  >&lt;p&gt;SUCCESS: Integrated in HBase-0.94 #1165 (See &lt;a href=&quot;https://builds.apache.org/job/HBase-0.94/1165/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/HBase-0.94/1165/&lt;/a&gt;)&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-9504&quot; title=&quot;Backport HBASE-1212 to 0.94&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-9504&quot;&gt;&lt;del&gt;HBASE-9504&lt;/del&gt;&lt;/a&gt; Backport &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-1212&quot; title=&quot;merge tool expects regions all have different sequence ids&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-1212&quot;&gt;&lt;del&gt;HBASE-1212&lt;/del&gt;&lt;/a&gt; to 0.94 - merge tool expects regions all have different sequence ids (Jean-Marc Spaggiari) (larsh: rev 1528280)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hbase/branches/0.94/src/main/java/org/apache/hadoop/hbase/regionserver/HRegion.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10032">
                    <name>Blocker</name>
                                                                <inwardlinks description="is blocked by">
                                        <issuelink>
            <issuekey id="12416456">HBASE-1249</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                                                <inwardlinks description="is related to">
                                        <issuelink>
            <issuekey id="12429691">HBASE-1621</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="12556386" name="HBASE-1212-v2.patch" size="1222" author="jmspaggi" created="Thu, 6 Dec 2012 18:29:27 +0000"/>
                            <attachment id="12566598" name="HBASE-1212-v3-trunk.patch" size="1183" author="jmspaggi" created="Sat, 26 Jan 2013 02:40:44 +0000"/>
                            <attachment id="12556275" name="HBASE-1212.patch" size="1145" author="jmspaggi" created="Thu, 6 Dec 2012 13:30:17 +0000"/>
                            <attachment id="12556151" name="failure.log" size="14796" author="jmspaggi" created="Wed, 5 Dec 2012 21:27:58 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>4.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Tue, 24 Mar 2009 03:43:39 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>25629</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310191" key="com.atlassian.jira.plugin.system.customfieldtypes:multicheckboxes">
                        <customfieldname>Hadoop Flags</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10343"><![CDATA[Reviewed]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            3 years, 9 weeks, 2 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i02czb:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>11704</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        </customfields>
    </item>
</channel>
</rss>