<!-- 
RSS generated by JIRA (6.3.4#6332-sha1:51bc225ef474afe3128b2f66878477f322397b16) at Thu Dec 01 20:54:45 UTC 2016

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary add field=key&field=summary to the URL of your request.
For example:
https://issues.apache.org/jira/si/jira.issueviews:issue-xml/HBASE-13592/HBASE-13592.xml?field=key&amp;field=summary
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>6.3.4</version>
        <build-number>6332</build-number>
        <build-date>15-08-2014</build-date>
    </build-info>

<item>
            <title>[HBASE-13592] RegionServer sometimes gets stuck during shutdown in case of cache flush failures</title>
                <link>https://issues.apache.org/jira/browse/HBASE-13592</link>
                <project id="12310753" key="HBASE">HBase</project>
                    <description>&lt;p&gt;Observed that RegionServer sometimes gets stuck during shutdown in case of cache flush failures. On adding few debug logs and looking through the stack trace RegionServer process looks stuck in closeWAL -&amp;gt; hlog.close -&amp;gt; closeBarrier.stopAndDrainOps(); during the shutdown sequence in the run method&lt;/p&gt;

&lt;p&gt;From the RegionServer logs we see there are multiple attempts to flush cache for a particular region which increments the beginOp count in DrainBarrier but all the flush attempts fails somewhere in wal sync and the DrainBarrier endOp count decrement never happens. Later on when shutdown is initiated RegionServer process is permanently stuck here&lt;/p&gt;

&lt;p&gt;In this case hbase stop also does not work and RegionServer process has to be explicitly killed using kill -9&lt;/p&gt;
</description>
                <environment></environment>
        <key id="12825831">HBASE-13592</key>
            <summary>RegionServer sometimes gets stuck during shutdown in case of cache flush failures</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/bug.png">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.png">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="vik.karma">Vikas Vishwakarma</assignee>
                                    <reporter username="vik.karma">Vikas Vishwakarma</reporter>
                        <labels>
                    </labels>
                <created>Wed, 29 Apr 2015 07:28:41 +0000</created>
                <updated>Fri, 20 Nov 2015 11:55:58 +0000</updated>
                            <resolved>Wed, 29 Apr 2015 20:04:45 +0000</resolved>
                                    <version>0.98.10</version>
                                    <fixVersion>0.98.13</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>12</watches>
                                                                <comments>
                            <comment id="14518913" author="vik.karma" created="Wed, 29 Apr 2015 07:42:16 +0000"  >&lt;p&gt;Adding details related to the stack and log trace&lt;/p&gt;

&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;=====================
STACK TRACE:
=====================
&quot;regionserver60020&quot; prio=10 tid=0x00007f70d153a000 nid=0xa105 in Object.wait() [0x00007f68cba79000]
   java.lang.Thread.State: WAITING (on object monitor)
        at java.lang.Object.wait(Native Method)
        at java.lang.Object.wait(Object.java:503)
        at org.apache.hadoop.hbase.util.DrainBarrier.stopAndDrainOps(DrainBarrier.java:115) &amp;lt;---------
        - locked &amp;lt;0x00007f69137f0270&amp;gt; (a org.apache.hadoop.hbase.util.DrainBarrier)
        at org.apache.hadoop.hbase.util.DrainBarrier.stopAndDrainOps(DrainBarrier.java:85)
        at org.apache.hadoop.hbase.regionserver.wal.FSHLog.close(FSHLog.java:926)
        at org.apache.hadoop.hbase.regionserver.HRegionServer.closeWAL(HRegionServer.java:1250)
        at org.apache.hadoop.hbase.regionserver.HRegionServer.run(HRegionServer.java:1041)
        at java.lang.Thread.run(Thread.java:745)

===================
LOG Trace
====================
2015-04-28 09:00:48,939 DEBUG [7,queue=2,port=60020] regionserver.HRegion - Flush requested on AA_1,\x08\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00,1430210541446.0f6b76ceb0efaf2d52c211021f4ebde3.
2015-04-28 09:00:48,939 INFO  [MemStoreFlusher.0] regionserver.HRegion - Started memstore flush for AA_1,\x08\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00,1430210541446.0f6b76ceb0efaf2d52c211021f4ebde3., current region memstore size 999.2 M
2015-04-28 09:00:48,939 DEBUG [MemStoreFlusher.0] wal.FSHLog - vikas: beginOp startCacheFlush for 0f6b76ceb0efaf2d52c211021f4ebde3
2015-04-28 09:00:48,939 WARN  [MemStoreFlusher.0] regionserver.MemStore - Snapshot called again without clearing previous. Doing nothing. Another ongoing flush or did we fail last attempt?
2015-04-28 09:00:48,964 ERROR [MemStoreFlusher.0] regionserver.MemStoreFlusher - Cache flush failed for region AA_1,\x08\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00,1430210541446.0f6b76ceb0efaf2d52c211021f4ebde3.
java.net.SocketTimeoutException: 70000 millis timeout while waiting for channel to be ready for read. ch : java.nio.channels.SocketChannel[connected local=/10.230.229.13:45046 remote=/10.230.229.28:50010]
        at org.apache.hadoop.net.SocketIOWithTimeout.doIO(SocketIOWithTimeout.java:164)
        at org.apache.hadoop.net.SocketInputStream.read(SocketInputStream.java:161)
        at org.apache.hadoop.net.SocketInputStream.read(SocketInputStream.java:131)
        at org.apache.hadoop.net.SocketInputStream.read(SocketInputStream.java:118)
        at java.io.FilterInputStream.read(FilterInputStream.java:83)
        at java.io.FilterInputStream.read(FilterInputStream.java:83)
        at org.apache.hadoop.hdfs.protocolPB.PBHelper.vintPrefixed(PBHelper.java:1985)
        at org.apache.hadoop.hdfs.DFSOutputStream$DataStreamer.transfer(DFSOutputStream.java:1063)
        at org.apache.hadoop.hdfs.DFSOutputStream$DataStreamer.addDatanode2ExistingPipeline(DFSOutputStream.java:1031)
        at org.apache.hadoop.hdfs.DFSOutputStream$DataStreamer.setupPipelineForAppendOrRecovery(DFSOutputStream.java:1174)
        at org.apache.hadoop.hdfs.DFSOutputStream$DataStreamer.processDatanodeError(DFSOutputStream.java:924)
        at org.apache.hadoop.hdfs.DFSOutputStream$DataStreamer.run(DFSOutputStream.java:486)
....
multiple attempts and failures
.....
Finally the region is closed by CloseHandler 
.....
2015-04-28 09:02:39,035 DEBUG [-dnds1-2-crd:60020-0] handler.CloseRegionHandler - Processing close of AA_1,\x08\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00,1430210541446.0f6b76ceb0efaf2d52c211021f4ebde3.
2015-04-28 09:02:39,035 DEBUG [-dnds1-2-crd:60020-0] regionserver.HRegion - Closing AA_1,\x08\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00,1430210541446.0f6b76ceb0efaf2d52c211021f4ebde3.: disabling compactions &amp;amp; flushes
2015-04-28 09:02:39,035 DEBUG [-dnds1-2-crd:60020-0] regionserver.HRegion - Updates disabled for region AA_1,\x08\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00,1430210541446.0f6b76ceb0efaf2d52c211021f4ebde3.
2015-04-28 09:02:39,039 INFO  [-dnds1-2-crd:60020-0] regionserver.HRegion - Closed AA_1,\x08\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00,1430210541446.0f6b76ceb0efaf2d52c211021f4ebde3.
2015-04-28 09:02:39,039 DEBUG [-dnds1-2-crd:60020-0] handler.CloseRegionHandler - Closed AA_1,\x08\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00,1430210541446.0f6b76ceb0efaf2d52c211021f4ebde3.
.....
The Shutdown sequence however hangs after the following lines in the log. So here in close asyncNotifier is closed followed by asyncSyncers followed by asyncWriter after which closeBarrier.stopAndDrainOps() is called where it gets stuck
.....
2015-04-28 10:56:12,489 INFO  [regionserver60020] regionserver.HRegionServer - stopping server blitzhbase01-dnds1-2-crd.eng.sfdc.net,60020,1430210003779; all regions closed.
2015-04-28 10:56:12,489 DEBUG [20-WAL.AsyncNotifier] wal.FSHLog - regionserver60020-WAL.AsyncNotifier interrupted while waiting for  notification from AsyncSyncer thread
2015-04-28 10:56:12,489 INFO  [20-WAL.AsyncNotifier] wal.FSHLog - regionserver60020-WAL.AsyncNotifier exiting
2015-04-28 10:56:12,490 DEBUG [020-WAL.AsyncSyncer0] wal.FSHLog - regionserver60020-WAL.AsyncSyncer0 interrupted while waiting for notification from AsyncWriter thread
2015-04-28 10:56:12,490 INFO  [020-WAL.AsyncSyncer0] wal.FSHLog - regionserver60020-WAL.AsyncSyncer0 exiting
2015-04-28 10:56:12,490 DEBUG [020-WAL.AsyncSyncer1] wal.FSHLog - regionserver60020-WAL.AsyncSyncer1 interrupted while waiting for notification from AsyncWriter thread
2015-04-28 10:56:12,490 INFO  [020-WAL.AsyncSyncer1] wal.FSHLog - regionserver60020-WAL.AsyncSyncer1 exiting
2015-04-28 10:56:12,490 DEBUG [020-WAL.AsyncSyncer2] wal.FSHLog - regionserver60020-WAL.AsyncSyncer2 interrupted while waiting for notification from AsyncWriter thread
2015-04-28 10:56:12,490 INFO  [020-WAL.AsyncSyncer2] wal.FSHLog - regionserver60020-WAL.AsyncSyncer2 exiting
2015-04-28 10:56:12,490 DEBUG [020-WAL.AsyncSyncer3] wal.FSHLog - regionserver60020-WAL.AsyncSyncer3 interrupted while waiting for notification from AsyncWriter thread
2015-04-28 10:56:12,490 INFO  [020-WAL.AsyncSyncer3] wal.FSHLog - regionserver60020-WAL.AsyncSyncer3 exiting
2015-04-28 10:56:12,490 DEBUG [020-WAL.AsyncSyncer4] wal.FSHLog - regionserver60020-WAL.AsyncSyncer4 interrupted while waiting for notification from AsyncWriter thread
2015-04-28 10:56:12,490 INFO  [020-WAL.AsyncSyncer4] wal.FSHLog - regionserver60020-WAL.AsyncSyncer4 exiting
2015-04-28 10:56:12,491 DEBUG [0020-WAL.AsyncWriter] wal.FSHLog - regionserver60020-WAL.AsyncWriter interrupted while waiting for newer writes added to local buffer
2015-04-28 10:56:12,491 INFO  [0020-WAL.AsyncWriter] wal.FSHLog - regionserver60020-WAL.AsyncWriter exiting
2015-04-28 10:56:12,491 INFO  [regionserver60020] wal.FSHLog - closeBarrier.stopAndDrainOps  &amp;lt;----- (this log added for testing)
2015-04-28 10:56:13,925 DEBUG [ver60020-EventThread] regionserver.SplitLogWorker - tasks arrived or departed
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</comment>
                            <comment id="14519016" author="vik.karma" created="Wed, 29 Apr 2015 09:21:01 +0000"  >&lt;p&gt;tried a patch with changes suggested by &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=lhofhansl&quot; class=&quot;user-hover&quot; rel=&quot;lhofhansl&quot;&gt;Lars Hofhansl&lt;/a&gt; wherein we move wal.sync also with the try catch block of cache flush, and in this case all the affected RegionServers successfully shutdown without any RegionServer going into hung state. The RegionServers that don&apos;t shutdown are fully operational and working fine.&lt;/p&gt;

&lt;p&gt;Current implementation in HRegion.java&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;protected FlushResult internalFlushcache(
...
try {
..
this.updatesLock.writeLock().lock();
..
if (!wal.startCacheFlush(this.getRegionInfo().getEncodedNameAsBytes())) {    &amp;lt;----------- this will do DrainBarrier beginOp
..
} finally {
  this.updatesLock.writeLock().unlock();
}
...
if (wal != null &amp;amp;&amp;amp; !shouldSyncLog()) {
  wal.sync();  &amp;lt;----- this is currently outside the try catch block for flush cache below and is added inside the try catch block in the submitted patch
}
mvcc.waitForRead(w);
...
try {
...
flush cache code
...

} catch (Throwable t) {
    if (wal != null) {
      wal.abortCacheFlush(this.getRegionInfo().getEncodedNameAsBytes());  &amp;lt;---  this will do DrainBarrier.endOp()
    }
}
......
// If we get to here, the HStores have been written.
if (wal != null) {
 wal.completeCacheFlush(this.getRegionInfo().getEncodedNameAsBytes());  &amp;lt;---  this will do DrainBarrier.endOp()
}

&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;The patch submitted contains the following changes&lt;/p&gt;

&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;protected FlushResult internalFlushcache(
...
try {
..
this.updatesLock.writeLock().lock();
..
if (!wal.startCacheFlush(this.getRegionInfo().getEncodedNameAsBytes())) {    &amp;lt;----------- this will do DrainBarrier beginOp
..
} finally {
  this.updatesLock.writeLock().unlock();
}
...
try {
if (wal != null &amp;amp;&amp;amp; !shouldSyncLog()) {
  wal.sync();  &amp;lt;----- included in the flush cache try catch block, any exceptions here will also call abortCacheFlush in the catch block which will decrement the op count in DrainBarrier
}
mvcc.waitForRead(w);
...
flush cache code
...

} catch (Throwable t) {
    if (wal != null) {
      wal.abortCacheFlush(this.getRegionInfo().getEncodedNameAsBytes());  &amp;lt;---  this will do DrainBarrier.endOp()
    }
}
......
// If we get to here, the HStores have been written.
if (wal != null) {
 wal.completeCacheFlush(this.getRegionInfo().getEncodedNameAsBytes());  &amp;lt;---  this will do DrainBarrier.endOp()
}

&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</comment>
                            <comment id="14519019" author="vik.karma" created="Wed, 29 Apr 2015 09:24:56 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=lhofhansl&quot; class=&quot;user-hover&quot; rel=&quot;lhofhansl&quot;&gt;Lars Hofhansl&lt;/a&gt; please review the changes&lt;/p&gt;</comment>
                            <comment id="14519408" author="hadoopqa" created="Wed, 29 Apr 2015 14:15:50 +0000"  >&lt;p&gt;&lt;font color=&quot;red&quot;&gt;-1 overall&lt;/font&gt;.  Here are the results of testing the latest attachment &lt;br/&gt;
  &lt;a href=&quot;http://issues.apache.org/jira/secure/attachment/12729115/HBASE-13592-0.98.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://issues.apache.org/jira/secure/attachment/12729115/HBASE-13592-0.98.patch&lt;/a&gt;&lt;br/&gt;
  against 0.98 branch at commit 85ac00ba9f90e570d59ec83c31e0b526be0155dd.&lt;br/&gt;
  ATTACHMENT ID: 12729115&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 @author&lt;/font&gt;.  The patch does not contain any @author tags.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;red&quot;&gt;-1 tests included&lt;/font&gt;.  The patch doesn&apos;t appear to include any new or modified tests.&lt;br/&gt;
                        Please justify why no new tests are needed for this patch.&lt;br/&gt;
                        Also please list what manual steps were performed to verify this patch.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 hadoop versions&lt;/font&gt;. The patch compiles with all supported hadoop versions (2.4.1 2.5.2 2.6.0)&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 javac&lt;/font&gt;.  The applied patch does not increase the total number of javac compiler warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 protoc&lt;/font&gt;.  The applied patch does not increase the total number of protoc compiler warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;red&quot;&gt;-1 javadoc&lt;/font&gt;.  The javadoc tool appears to have generated 26 warning messages.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 checkstyle&lt;/font&gt;.  The applied patch does not increase the total number of checkstyle errors&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 findbugs&lt;/font&gt;.  The patch does not introduce any  new Findbugs (version 2.0.3) warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 release audit&lt;/font&gt;.  The applied patch does not increase the total number of release audit warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 lineLengths&lt;/font&gt;.  The patch does not introduce lines longer than 100&lt;/p&gt;

&lt;p&gt;  &lt;font color=&quot;green&quot;&gt;+1 site&lt;/font&gt;.  The mvn site goal succeeds with this patch.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 core tests&lt;/font&gt;.  The patch passed unit tests in .&lt;/p&gt;

&lt;p&gt;     &lt;font color=&quot;red&quot;&gt;-1 core zombie tests&lt;/font&gt;.  There are 2 zombie test(s): 	at org.apache.phoenix.flume.RegexEventSerializerIT.testBatchEvents(RegexEventSerializerIT.java:194)&lt;/p&gt;

&lt;p&gt;Test results: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/13877//testReport/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/13877//testReport/&lt;/a&gt;&lt;br/&gt;
Release Findbugs (version 2.0.3) 	warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/13877//artifact/patchprocess/newFindbugsWarnings.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/13877//artifact/patchprocess/newFindbugsWarnings.html&lt;/a&gt;&lt;br/&gt;
Checkstyle Errors: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/13877//artifact/patchprocess/checkstyle-aggregate.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/13877//artifact/patchprocess/checkstyle-aggregate.html&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;  Javadoc warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/13877//artifact/patchprocess/patchJavadocWarnings.txt&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/13877//artifact/patchprocess/patchJavadocWarnings.txt&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/13877//console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/13877//console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;</comment>
                            <comment id="14519442" author="yuzhihong@gmail.com" created="Wed, 29 Apr 2015 14:35:51 +0000"  >&lt;p&gt;lgtm&lt;/p&gt;</comment>
                            <comment id="14520081" author="lhofhansl" created="Wed, 29 Apr 2015 19:53:03 +0000"  >&lt;p&gt;I know I suggested the fix. Now looking at the code I see that we only sync the WAL when the CF is setup with SKIP_WAL or ASYNC_WALL, so we shouldn&apos;t have done the sync&apos;ing (see HRegion.internalFlushCache). Maybe it&apos;s rather the wait for the previous MVCC transactions that times out?&lt;/p&gt;

&lt;p&gt;In either case. Moving the try up this way will cover any failures and release the flush barrier, so we should do this. Also &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=vik.karma&quot; class=&quot;user-hover&quot; rel=&quot;vik.karma&quot;&gt;Vikas Vishwakarma&lt;/a&gt; verified experimentally that this solves the issues we&apos;ve been seeing with stuck region servers.&lt;/p&gt;

&lt;p&gt;Will commit in a bit. Thanks for doing all the detective work, Vikas!&lt;/p&gt;</comment>
                            <comment id="14520092" author="lhofhansl" created="Wed, 29 Apr 2015 19:58:12 +0000"  >&lt;p&gt;Looks like this is not an issue in 1.0 and later. The code has changed a lot in 1.0 and then again for trunk, but it looks like this is covered there. Only committing to 0.98.&lt;/p&gt;</comment>
                            <comment id="14520233" author="apurtell" created="Wed, 29 Apr 2015 21:02:16 +0000"  >&lt;p&gt;Nice work &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=vik.karma&quot; class=&quot;user-hover&quot; rel=&quot;vik.karma&quot;&gt;Vikas Vishwakarma&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="14520238" author="hudson" created="Wed, 29 Apr 2015 21:03:31 +0000"  >&lt;p&gt;FAILURE: Integrated in HBase-0.98 #968 (See &lt;a href=&quot;https://builds.apache.org/job/HBase-0.98/968/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/HBase-0.98/968/&lt;/a&gt;)&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-13592&quot; title=&quot;RegionServer sometimes gets stuck during shutdown in case of cache flush failures&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-13592&quot;&gt;&lt;del&gt;HBASE-13592&lt;/del&gt;&lt;/a&gt; RegionServer sometimes gets stuck during shutdown in case of cache flush failures. (Vikas Vishwakarma) (larsh: rev f6b418544e1174e960a188d6ac3eb0c0c2678af3)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;hbase-server/src/main/java/org/apache/hadoop/hbase/regionserver/HRegion.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="14520337" author="hudson" created="Wed, 29 Apr 2015 21:48:59 +0000"  >&lt;p&gt;FAILURE: Integrated in HBase-0.98-on-Hadoop-1.1 #921 (See &lt;a href=&quot;https://builds.apache.org/job/HBase-0.98-on-Hadoop-1.1/921/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/HBase-0.98-on-Hadoop-1.1/921/&lt;/a&gt;)&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-13592&quot; title=&quot;RegionServer sometimes gets stuck during shutdown in case of cache flush failures&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-13592&quot;&gt;&lt;del&gt;HBASE-13592&lt;/del&gt;&lt;/a&gt; RegionServer sometimes gets stuck during shutdown in case of cache flush failures. (Vikas Vishwakarma) (larsh: rev f6b418544e1174e960a188d6ac3eb0c0c2678af3)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;hbase-server/src/main/java/org/apache/hadoop/hbase/regionserver/HRegion.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="14520487" author="lhofhansl" created="Wed, 29 Apr 2015 23:12:32 +0000"  >&lt;p&gt;TestFlushRegionEntry looks suspicious, but only failed in the one build and passes consistently locally.&lt;/p&gt;</comment>
                            <comment id="14520948" author="apurtell" created="Thu, 30 Apr 2015 06:21:31 +0000"  >&lt;p&gt;Let&apos;s keep an eye on it as more build results come in. &lt;/p&gt;</comment>
                            <comment id="15016623" author="lars_francke" created="Fri, 20 Nov 2015 11:55:58 +0000"  >&lt;p&gt;This issue was closed as part of a bulk closing operation on 2015-11-20. All issues that have been resolved and where all fixVersions have been released have been closed (following discussions on the mailing list).&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12729115" name="HBASE-13592-0.98.patch" size="3104" author="vik.karma" created="Wed, 29 Apr 2015 09:22:38 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Wed, 29 Apr 2015 14:15:50 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310191" key="com.atlassian.jira.plugin.system.customfieldtypes:multicheckboxes">
                        <customfieldname>Hadoop Flags</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10343"><![CDATA[Reviewed]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            1 year, 1 week, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i2e26n:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        </customfields>
    </item>
</channel>
</rss>