<!-- 
RSS generated by JIRA (6.3.4#6332-sha1:51bc225ef474afe3128b2f66878477f322397b16) at Thu Dec 01 22:55:17 UTC 2016

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary add field=key&field=summary to the URL of your request.
For example:
https://issues.apache.org/jira/si/jira.issueviews:issue-xml/HBASE-14822/HBASE-14822.xml?field=key&amp;field=summary
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>6.3.4</version>
        <build-number>6332</build-number>
        <build-date>15-08-2014</build-date>
    </build-info>

<item>
            <title>[HBASE-14822] Renewing leases of scanners doesn&apos;t work</title>
                <link>https://issues.apache.org/jira/browse/HBASE-14822</link>
                <project id="12310753" key="HBASE">HBase</project>
                    <description></description>
                <environment></environment>
        <key id="12913517">HBASE-14822</key>
            <summary>Renewing leases of scanners doesn&apos;t work</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/bug.png">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.png">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="lhofhansl">Lars Hofhansl</assignee>
                                    <reporter username="samarthjain">Samarth Jain</reporter>
                        <labels>
                    </labels>
                <created>Tue, 17 Nov 2015 01:05:46 +0000</created>
                <updated>Mon, 8 Feb 2016 04:57:22 +0000</updated>
                            <resolved>Sat, 19 Dec 2015 18:50:52 +0000</resolved>
                                    <version>0.98.14</version>
                                    <fixVersion>2.0.0</fixVersion>
                    <fixVersion>1.2.0</fixVersion>
                    <fixVersion>1.3.0</fixVersion>
                    <fixVersion>1.0.3</fixVersion>
                    <fixVersion>1.1.3</fixVersion>
                    <fixVersion>0.98.17</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>16</watches>
                                                                <comments>
                            <comment id="15009839" author="lhofhansl" created="Tue, 17 Nov 2015 23:36:01 +0000"  >&lt;p&gt;Shame on me for not adding a test to &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-13333&quot; title=&quot;Renew Scanner Lease without advancing the RegionScanner&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-13333&quot;&gt;&lt;del&gt;HBASE-13333&lt;/del&gt;&lt;/a&gt;.&lt;br/&gt;
Looking.&lt;/p&gt;</comment>
                            <comment id="15009950" author="lhofhansl" created="Wed, 18 Nov 2015 00:50:03 +0000"  >&lt;p&gt;Here&apos;s a patch for 0.98 with test that actually tests that the lease does not time out. Use -1 to indicate a close request, 0 can be used to simply renew the scanner.&lt;/p&gt;

&lt;p&gt;The only concern I&apos;d have with the test is that it uses wall time, so on &lt;b&gt;really&lt;/b&gt; slow VMs it could fail because of this (the least could expire before we get to renew it.)&lt;/p&gt;</comment>
                            <comment id="15010011" author="apurtell" created="Wed, 18 Nov 2015 01:49:12 +0000"  >&lt;blockquote&gt;&lt;p&gt;The only concern I&apos;d have with the test is that it uses wall time, so on really slow VMs it could fail because of this (the least could expire before we get to renew it.)&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;Would it work to use EnvironmentEdgeManager#injectEdge to inject ManualEnvironmentEdge for explicitly fiddling with the (virtual) time? &lt;/p&gt;</comment>
                            <comment id="15010162" author="hadoopqa" created="Wed, 18 Nov 2015 03:49:14 +0000"  >&lt;p&gt;&lt;font color=&quot;red&quot;&gt;-1 overall&lt;/font&gt;.  Here are the results of testing the latest attachment &lt;br/&gt;
  &lt;a href=&quot;http://issues.apache.org/jira/secure/attachment/12772882/14822-0.98.txt&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://issues.apache.org/jira/secure/attachment/12772882/14822-0.98.txt&lt;/a&gt;&lt;br/&gt;
  against 0.98 branch at commit d6fdf92f9e5f4eaaf9300dce7f1f23adf228949c.&lt;br/&gt;
  ATTACHMENT ID: 12772882&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 @author&lt;/font&gt;.  The patch does not contain any @author tags.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 tests included&lt;/font&gt;.  The patch appears to include 5 new or modified tests.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 hadoop versions&lt;/font&gt;. The patch compiles with all supported hadoop versions (2.4.0 2.4.1 2.5.0 2.5.1 2.5.2 2.6.0 2.6.1 2.7.0 2.7.1)&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 javac&lt;/font&gt;.  The applied patch does not increase the total number of javac compiler warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 protoc&lt;/font&gt;.  The applied patch does not increase the total number of protoc compiler warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;red&quot;&gt;-1 javadoc&lt;/font&gt;.  The javadoc tool appears to have generated 28 warning messages.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 checkstyle&lt;/font&gt;.  The applied patch does not increase the total number of checkstyle errors&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 findbugs&lt;/font&gt;.  The patch does not introduce any  new Findbugs (version 2.0.3) warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;red&quot;&gt;-1 release audit&lt;/font&gt;.  The applied patch generated 1 release audit warnings (more than the master&apos;s current 0 warnings).&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 lineLengths&lt;/font&gt;.  The patch does not introduce lines longer than 100&lt;/p&gt;

&lt;p&gt;  &lt;font color=&quot;green&quot;&gt;+1 site&lt;/font&gt;.  The mvn post-site goal succeeds with this patch.&lt;/p&gt;

&lt;p&gt;     &lt;font color=&quot;red&quot;&gt;-1 core tests&lt;/font&gt;.  The patch failed these unit tests:&lt;br/&gt;
                       org.apache.hadoop.hbase.regionserver.TestRegionServerMetrics&lt;/p&gt;

&lt;p&gt;Test results: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/16560//testReport/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/16560//testReport/&lt;/a&gt;&lt;br/&gt;
Release audit warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/16560//artifact/patchprocess/patchReleaseAuditWarnings.txt&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/16560//artifact/patchprocess/patchReleaseAuditWarnings.txt&lt;/a&gt;&lt;br/&gt;
Release Findbugs (version 2.0.3) 	warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/16560//artifact/patchprocess/newFindbugsWarnings.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/16560//artifact/patchprocess/newFindbugsWarnings.html&lt;/a&gt;&lt;br/&gt;
Checkstyle Errors: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/16560//artifact/patchprocess/checkstyle-aggregate.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/16560//artifact/patchprocess/checkstyle-aggregate.html&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;  Javadoc warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/16560//artifact/patchprocess/patchJavadocWarnings.txt&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/16560//artifact/patchprocess/patchJavadocWarnings.txt&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/16560//console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/16560//console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;</comment>
                            <comment id="15010320" author="lhofhansl" created="Wed, 18 Nov 2015 06:16:27 +0000"  >&lt;blockquote&gt;&lt;p&gt;Would it work to use EnvironmentEdgeManager#injectEdge to inject ManualEnvironmentEdge for explicitly fiddling with the (virtual) time? &lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;Only if all relevant parts actually use the env edge &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/smile.gif&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;  Lemme check. Also forgot a license header on the new test class.&lt;/p&gt;</comment>
                            <comment id="15010347" author="lhofhansl" created="Wed, 18 Nov 2015 06:32:01 +0000"  >&lt;p&gt;Looked. The lease times out in wall time unfortunately. Now I could try to mock the lease timeout in the region server, but that seems to be overkill. I&apos;ll instead increase the timeout logic for the test such that a VM needs to be gone for a minute to cause a failure.&lt;/p&gt;</comment>
                            <comment id="15010362" author="lhofhansl" created="Wed, 18 Nov 2015 06:49:42 +0000"  >&lt;ul&gt;
	&lt;li&gt;fixed license header&lt;/li&gt;
	&lt;li&gt;using 1/2 the default leas timeout now. When the VM is so slow that we get into this ballpark very many other tests will fail anyway due to vanishing scanners. So that should be OK.&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;This should be good to commit.&lt;/p&gt;</comment>
                            <comment id="15010411" author="apurtell" created="Wed, 18 Nov 2015 07:43:39 +0000"  >&lt;p&gt;+1&lt;/p&gt;</comment>
                            <comment id="15010426" author="samarthjain" created="Wed, 18 Nov 2015 07:53:34 +0000"  >&lt;p&gt;After applying the patch that &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=lhofhansl&quot; class=&quot;user-hover&quot; rel=&quot;lhofhansl&quot;&gt;Lars Hofhansl&lt;/a&gt; uploaded on 0.98.14 and not 0.98.17, I am seeing a lot of &lt;br/&gt;
org.apache.hadoop.hbase.regionserver.HRegionServer(3220): Client tried to access missing scanner messages on the console when Phoenix is trying to create the SYSTEM.CATALOG table. &lt;/p&gt;

&lt;p&gt;The table creation eventually fails with the error: &lt;br/&gt;
org.apache.phoenix.exception.PhoenixIOException: org.apache.phoenix.exception.PhoenixIOException: 60001ms passed since the last invocation, timeout is currently set to 60000&lt;/p&gt;

&lt;p&gt;Things go back to normal after I revert the patch. I will recheck with 0.98.17 too just to be sure.&lt;/p&gt;</comment>
                            <comment id="15010544" author="samarthjain" created="Wed, 18 Nov 2015 09:15:59 +0000"  >&lt;p&gt;Getting the same issue with the patch applied on latest of 0.98 branch. Relevant part of stacktrace:&lt;/p&gt;

&lt;p&gt;Caused by: org.apache.hadoop.hbase.client.ScannerTimeoutException: 60073ms passed since the last invocation, timeout is currently set to 60000&lt;br/&gt;
	at org.apache.hadoop.hbase.client.ClientScanner.loadCache(ClientScanner.java:403)&lt;br/&gt;
	at org.apache.hadoop.hbase.client.ClientScanner.next(ClientScanner.java:338)&lt;br/&gt;
	at org.apache.phoenix.iterate.ScanningResultIterator.next(ScanningResultIterator.java:55)&lt;br/&gt;
	... 12 more&lt;br/&gt;
Caused by: org.apache.hadoop.hbase.UnknownScannerException: org.apache.hadoop.hbase.UnknownScannerException: Name: 37176, already closed?&lt;br/&gt;
	at org.apache.hadoop.hbase.regionserver.HRegionServer.scan(HRegionServer.java:3222)&lt;br/&gt;
	at org.apache.hadoop.hbase.protobuf.generated.ClientProtos$ClientService$2.callBlockingMethod(ClientProtos.java:31068)&lt;br/&gt;
	at org.apache.hadoop.hbase.ipc.RpcServer.call(RpcServer.java:2150)&lt;br/&gt;
	at org.apache.hadoop.hbase.ipc.CallRunner.run(CallRunner.java:104)&lt;br/&gt;
	at org.apache.hadoop.hbase.ipc.RpcExecutor.consumerLoop(RpcExecutor.java:133)&lt;br/&gt;
	at org.apache.hadoop.hbase.ipc.RpcExecutor$1.run(RpcExecutor.java:108)&lt;br/&gt;
	at java.lang.Thread.run(Thread.java:745)&lt;/p&gt;

&lt;p&gt;	at sun.reflect.GeneratedConstructorAccessor59.newInstance(Unknown Source)&lt;br/&gt;
	at sun.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45)&lt;br/&gt;
	at java.lang.reflect.Constructor.newInstance(Constructor.java:526)&lt;br/&gt;
	at org.apache.hadoop.ipc.RemoteException.instantiateException(RemoteException.java:106)&lt;br/&gt;
	at org.apache.hadoop.ipc.RemoteException.unwrapRemoteException(RemoteException.java:95)&lt;br/&gt;
	at org.apache.hadoop.hbase.protobuf.ProtobufUtil.getRemoteException(ProtobufUtil.java:298)&lt;br/&gt;
	at org.apache.hadoop.hbase.client.ScannerCallable.call(ScannerCallable.java:214)&lt;br/&gt;
	at org.apache.hadoop.hbase.client.ScannerCallable.call(ScannerCallable.java:58)&lt;br/&gt;
	at org.apache.hadoop.hbase.client.RpcRetryingCaller.callWithRetries(RpcRetryingCaller.java:115)&lt;br/&gt;
	at org.apache.hadoop.hbase.client.RpcRetryingCaller.callWithRetries(RpcRetryingCaller.java:91)&lt;br/&gt;
	at org.apache.hadoop.hbase.client.ClientScanner.loadCache(ClientScanner.java:385)&lt;br/&gt;
	... 14 more&lt;br/&gt;
Caused by: org.apache.hadoop.hbase.ipc.RemoteWithExtrasException(org.apache.hadoop.hbase.UnknownScannerException): org.apache.hadoop.hbase.UnknownScannerException: Name: 37176, already closed?&lt;br/&gt;
	at org.apache.hadoop.hbase.regionserver.HRegionServer.scan(HRegionServer.java:3222)&lt;br/&gt;
	at org.apache.hadoop.hbase.protobuf.generated.ClientProtos$ClientService$2.callBlockingMethod(ClientProtos.java:31068)&lt;br/&gt;
	at org.apache.hadoop.hbase.ipc.RpcServer.call(RpcServer.java:2150)&lt;br/&gt;
	at org.apache.hadoop.hbase.ipc.CallRunner.run(CallRunner.java:104)&lt;br/&gt;
	at org.apache.hadoop.hbase.ipc.RpcExecutor.consumerLoop(RpcExecutor.java:133)&lt;br/&gt;
	at org.apache.hadoop.hbase.ipc.RpcExecutor$1.run(RpcExecutor.java:108)&lt;br/&gt;
	at java.lang.Thread.run(Thread.java:745)&lt;/p&gt;

&lt;p&gt;	at org.apache.hadoop.hbase.ipc.RpcClient.call(RpcClient.java:1489)&lt;br/&gt;
	at org.apache.hadoop.hbase.ipc.RpcClient.callBlockingMethod(RpcClient.java:1691)&lt;br/&gt;
	at org.apache.hadoop.hbase.ipc.RpcClient$BlockingRpcChannelImplementation.callBlockingMethod(RpcClient.java:1750)&lt;br/&gt;
	at org.apache.hadoop.hbase.protobuf.generated.ClientProtos$ClientService$BlockingStub.scan(ClientProtos.java:31514)&lt;br/&gt;
	at org.apache.hadoop.hbase.client.ScannerCallable.call(ScannerCallable.java:173)&lt;br/&gt;
	... 18 more&lt;/p&gt;
</comment>
                            <comment id="15010633" author="hadoopqa" created="Wed, 18 Nov 2015 09:45:07 +0000"  >&lt;p&gt;&lt;font color=&quot;red&quot;&gt;-1 overall&lt;/font&gt;.  Here are the results of testing the latest attachment &lt;br/&gt;
  &lt;a href=&quot;http://issues.apache.org/jira/secure/attachment/12772929/14822-0.98-v2.txt&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://issues.apache.org/jira/secure/attachment/12772929/14822-0.98-v2.txt&lt;/a&gt;&lt;br/&gt;
  against 0.98 branch at commit 5ebd7660a94bfb18e6e05b6e46195c76c099eda2.&lt;br/&gt;
  ATTACHMENT ID: 12772929&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 @author&lt;/font&gt;.  The patch does not contain any @author tags.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 tests included&lt;/font&gt;.  The patch appears to include 5 new or modified tests.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 hadoop versions&lt;/font&gt;. The patch compiles with all supported hadoop versions (2.4.0 2.4.1 2.5.0 2.5.1 2.5.2 2.6.0 2.6.1 2.7.0 2.7.1)&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 javac&lt;/font&gt;.  The applied patch does not increase the total number of javac compiler warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 protoc&lt;/font&gt;.  The applied patch does not increase the total number of protoc compiler warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;red&quot;&gt;-1 javadoc&lt;/font&gt;.  The javadoc tool appears to have generated 28 warning messages.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 checkstyle&lt;/font&gt;.  The applied patch does not increase the total number of checkstyle errors&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 findbugs&lt;/font&gt;.  The patch does not introduce any  new Findbugs (version 2.0.3) warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 release audit&lt;/font&gt;.  The applied patch does not increase the total number of release audit warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 lineLengths&lt;/font&gt;.  The patch does not introduce lines longer than 100&lt;/p&gt;

&lt;p&gt;  &lt;font color=&quot;green&quot;&gt;+1 site&lt;/font&gt;.  The mvn post-site goal succeeds with this patch.&lt;/p&gt;

&lt;p&gt;     &lt;font color=&quot;red&quot;&gt;-1 core tests&lt;/font&gt;.  The patch failed these unit tests:&lt;br/&gt;
                       org.apache.hadoop.hbase.regionserver.TestRegionServerMetrics&lt;/p&gt;

&lt;p&gt;Test results: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/16565//testReport/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/16565//testReport/&lt;/a&gt;&lt;br/&gt;
Release Findbugs (version 2.0.3) 	warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/16565//artifact/patchprocess/newFindbugsWarnings.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/16565//artifact/patchprocess/newFindbugsWarnings.html&lt;/a&gt;&lt;br/&gt;
Checkstyle Errors: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/16565//artifact/patchprocess/checkstyle-aggregate.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/16565//artifact/patchprocess/checkstyle-aggregate.html&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;  Javadoc warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/16565//artifact/patchprocess/patchJavadocWarnings.txt&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/16565//artifact/patchprocess/patchJavadocWarnings.txt&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/16565//console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/16565//console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;</comment>
                            <comment id="15010740" author="samarthjain" created="Wed, 18 Nov 2015 10:48:09 +0000"  >&lt;p&gt;Looks like with with the changes made in v2 patch, scanners were getting removed because they were not returning any rows (which they are not supposed to). Attached patch fixes that.&lt;/p&gt;</comment>
                            <comment id="15010997" author="hadoopqa" created="Wed, 18 Nov 2015 13:46:32 +0000"  >&lt;p&gt;&lt;font color=&quot;red&quot;&gt;-1 overall&lt;/font&gt;.  Here are the results of testing the latest attachment &lt;br/&gt;
  &lt;a href=&quot;http://issues.apache.org/jira/secure/attachment/12772969/14822-0.98-v3.txt&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://issues.apache.org/jira/secure/attachment/12772969/14822-0.98-v3.txt&lt;/a&gt;&lt;br/&gt;
  against 0.98 branch at commit 5ebd7660a94bfb18e6e05b6e46195c76c099eda2.&lt;br/&gt;
  ATTACHMENT ID: 12772969&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 @author&lt;/font&gt;.  The patch does not contain any @author tags.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 tests included&lt;/font&gt;.  The patch appears to include 5 new or modified tests.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 hadoop versions&lt;/font&gt;. The patch compiles with all supported hadoop versions (2.4.0 2.4.1 2.5.0 2.5.1 2.5.2 2.6.0 2.6.1 2.7.0 2.7.1)&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 javac&lt;/font&gt;.  The applied patch does not increase the total number of javac compiler warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 protoc&lt;/font&gt;.  The applied patch does not increase the total number of protoc compiler warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;red&quot;&gt;-1 javadoc&lt;/font&gt;.  The javadoc tool appears to have generated 28 warning messages.&lt;/p&gt;

&lt;p&gt;                &lt;font color=&quot;red&quot;&gt;-1 checkstyle&lt;/font&gt;.  The applied patch generated 3899 checkstyle errors (more than the master&apos;s current 3898 errors).&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 findbugs&lt;/font&gt;.  The patch does not introduce any  new Findbugs (version 2.0.3) warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 release audit&lt;/font&gt;.  The applied patch does not increase the total number of release audit warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;red&quot;&gt;-1 lineLengths&lt;/font&gt;.  The patch introduces the following lines longer than 100:&lt;br/&gt;
    +                    // Stop collecting results if maxScannerResultSize is set and we have exceeded it&lt;br/&gt;
+    TEST_UTIL.getConfiguration().setInt(HConstants.HBASE_CLIENT_SCANNER_TIMEOUT_PERIOD, leaseTimeout);&lt;/p&gt;

&lt;p&gt;  &lt;font color=&quot;green&quot;&gt;+1 site&lt;/font&gt;.  The mvn post-site goal succeeds with this patch.&lt;/p&gt;

&lt;p&gt;     &lt;font color=&quot;red&quot;&gt;-1 core tests&lt;/font&gt;.  The patch failed these unit tests:&lt;br/&gt;
                       org.apache.hadoop.hbase.mapreduce.TestImportExport&lt;/p&gt;

&lt;p&gt;Test results: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/16570//testReport/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/16570//testReport/&lt;/a&gt;&lt;br/&gt;
Release Findbugs (version 2.0.3) 	warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/16570//artifact/patchprocess/newFindbugsWarnings.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/16570//artifact/patchprocess/newFindbugsWarnings.html&lt;/a&gt;&lt;br/&gt;
Checkstyle Errors: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/16570//artifact/patchprocess/checkstyle-aggregate.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/16570//artifact/patchprocess/checkstyle-aggregate.html&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;                Javadoc warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/16570//artifact/patchprocess/patchJavadocWarnings.txt&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/16570//artifact/patchprocess/patchJavadocWarnings.txt&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/16570//console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/16570//console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;</comment>
                            <comment id="15011679" author="samarthjain" created="Wed, 18 Nov 2015 18:57:14 +0000"  >&lt;p&gt;Patch with checkstyle errors fixed. The diff looks more complex than it really is because of indentation changes. I have added the below check on top of Lar&apos;s patch in HRegionServer.java :&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
+          &lt;span class=&quot;code-keyword&quot;&gt;if&lt;/span&gt; (rows &amp;gt; 0) {
             &lt;span class=&quot;code-comment&quot;&gt;// Limit the initial allocation of the result array to the minimum
&lt;/span&gt;             &lt;span class=&quot;code-comment&quot;&gt;// of &apos;rows&apos; or 100&lt;/span&gt;
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

</comment>
                            <comment id="15011955" author="lhofhansl" created="Wed, 18 Nov 2015 21:00:08 +0000"  >&lt;p&gt;Thanks &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=samarthjain&quot; class=&quot;user-hover&quot; rel=&quot;samarthjain&quot;&gt;Samarth Jain&lt;/a&gt;. Good point. Although I think we only have avoid the &lt;tt&gt;if (!moreResults || closeScanner)&lt;/tt&gt; part.&lt;br/&gt;
This is a bit fragile now. I&apos;m tempted to remove that feature for now until this is working and not fragile.&lt;/p&gt;</comment>
                            <comment id="15012050" author="lhofhansl" created="Wed, 18 Nov 2015 21:41:27 +0000"  >&lt;p&gt;So originally I put this in because I thought this can work without any server changes. Turns out I was wrong, my bad. Not sure I like this anymore.&lt;/p&gt;</comment>
                            <comment id="15012069" author="lhofhansl" created="Wed, 18 Nov 2015 21:48:04 +0000"  >&lt;p&gt;Looking again, the &lt;tt&gt;!moreResults&lt;/tt&gt; is only set to false when we have a filter on the request and that filter indicates the scan is done.&lt;br/&gt;
So - as also indicated by the test I added - the code looks correct.&lt;/p&gt;</comment>
                            <comment id="15012082" author="samarthjain" created="Wed, 18 Nov 2015 21:52:52 +0000"  >&lt;p&gt;Just to be clear, I ran into UnknownScannerException &lt;b&gt;without&lt;/b&gt; the client calling renewLease on the scanners. So it was the original phoenix code with the patched HBase 0.98.&lt;/p&gt;</comment>
                            <comment id="15012153" author="hadoopqa" created="Wed, 18 Nov 2015 22:09:23 +0000"  >&lt;p&gt;&lt;font color=&quot;red&quot;&gt;-1 overall&lt;/font&gt;.  Here are the results of testing the latest attachment &lt;br/&gt;
  &lt;a href=&quot;http://issues.apache.org/jira/secure/attachment/12773046/14822-0.98-v4.txt&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://issues.apache.org/jira/secure/attachment/12773046/14822-0.98-v4.txt&lt;/a&gt;&lt;br/&gt;
  against 0.98 branch at commit b2187c31ab8294215aab46db5dcd3b0dce4fad65.&lt;br/&gt;
  ATTACHMENT ID: 12773046&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 @author&lt;/font&gt;.  The patch does not contain any @author tags.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 tests included&lt;/font&gt;.  The patch appears to include 5 new or modified tests.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 hadoop versions&lt;/font&gt;. The patch compiles with all supported hadoop versions (2.4.0 2.4.1 2.5.0 2.5.1 2.5.2 2.6.0 2.6.1 2.7.0 2.7.1)&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 javac&lt;/font&gt;.  The applied patch does not increase the total number of javac compiler warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 protoc&lt;/font&gt;.  The applied patch does not increase the total number of protoc compiler warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;red&quot;&gt;-1 javadoc&lt;/font&gt;.  The javadoc tool appears to have generated 28 warning messages.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 checkstyle&lt;/font&gt;.  The applied patch does not increase the total number of checkstyle errors&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 findbugs&lt;/font&gt;.  The patch does not introduce any  new Findbugs (version 2.0.3) warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 release audit&lt;/font&gt;.  The applied patch does not increase the total number of release audit warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 lineLengths&lt;/font&gt;.  The patch does not introduce lines longer than 100&lt;/p&gt;

&lt;p&gt;  &lt;font color=&quot;green&quot;&gt;+1 site&lt;/font&gt;.  The mvn post-site goal succeeds with this patch.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 core tests&lt;/font&gt;.  The patch passed unit tests in .&lt;/p&gt;

&lt;p&gt;Test results: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/16573//testReport/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/16573//testReport/&lt;/a&gt;&lt;br/&gt;
Release Findbugs (version 2.0.3) 	warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/16573//artifact/patchprocess/newFindbugsWarnings.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/16573//artifact/patchprocess/newFindbugsWarnings.html&lt;/a&gt;&lt;br/&gt;
Checkstyle Errors: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/16573//artifact/patchprocess/checkstyle-aggregate.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/16573//artifact/patchprocess/checkstyle-aggregate.html&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;  Javadoc warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/16573//artifact/patchprocess/patchJavadocWarnings.txt&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/16573//artifact/patchprocess/patchJavadocWarnings.txt&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/16573//console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/16573//console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;</comment>
                            <comment id="15014102" author="lhofhansl" created="Thu, 19 Nov 2015 18:32:18 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=samarthjain&quot; class=&quot;user-hover&quot; rel=&quot;samarthjain&quot;&gt;Samarth Jain&lt;/a&gt; and took a look. It turns out that Phoenix does some funky requests where we have a scan with a filter that indicates &quot;done&quot; &lt;em&gt;and&lt;/em&gt; that has caching set to 0 - so this is essentially a useless request.&lt;br/&gt;
Be that as it may, though, for this use case this patch changes the behavior. As it so happens there is a good fix for this. Will upload a patch soon.&lt;/p&gt;</comment>
                            <comment id="15014105" author="lhofhansl" created="Thu, 19 Nov 2015 18:33:05 +0000"  >&lt;p&gt;I removed your patches &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=samarthjain&quot; class=&quot;user-hover&quot; rel=&quot;samarthjain&quot;&gt;Samarth Jain&lt;/a&gt; to avoid confusion.&lt;/p&gt;</comment>
                            <comment id="15014187" author="lhofhansl" created="Thu, 19 Nov 2015 19:17:04 +0000"  >&lt;p&gt;This patch should keep the behaviour the way it is.&lt;br/&gt;
Can you try with this one &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=samarthjain&quot; class=&quot;user-hover&quot; rel=&quot;samarthjain&quot;&gt;Samarth Jain&lt;/a&gt;?&lt;/p&gt;</comment>
                            <comment id="15014275" author="samarthjain" created="Thu, 19 Nov 2015 20:14:49 +0000"  >&lt;p&gt;The latest patch looks good &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=lhofhansl&quot; class=&quot;user-hover&quot; rel=&quot;lhofhansl&quot;&gt;Lars Hofhansl&lt;/a&gt;. I no longer see UnknownScannerException in the logs.&lt;/p&gt;</comment>
                            <comment id="15015234" author="jamestaylor" created="Fri, 20 Nov 2015 05:07:26 +0000"  >&lt;p&gt;Yes, thanks, &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=lhofhansl&quot; class=&quot;user-hover&quot; rel=&quot;lhofhansl&quot;&gt;Lars Hofhansl&lt;/a&gt;. This is very good - solves the timeout issues and prevents us from having to spool to the client - we can just keep the scanner open on the client side.&lt;/p&gt;</comment>
                            <comment id="15015331" author="lhofhansl" created="Fri, 20 Nov 2015 07:03:06 +0000"  >&lt;p&gt;Waiting for a test run.&lt;/p&gt;</comment>
                            <comment id="15015333" author="lhofhansl" created="Fri, 20 Nov 2015 07:04:40 +0000"  >&lt;p&gt;Naming patch so that HadoopQA recognizes it as 0.98 (I think it needs the -0.98 last)&lt;/p&gt;</comment>
                            <comment id="15021079" author="lhofhansl" created="Sun, 22 Nov 2015 17:01:42 +0000"  >&lt;p&gt;Any objections to -v3? Or is it time to add a new RPC for renewing leases?&lt;/p&gt;</comment>
                            <comment id="15033154" author="lhofhansl" created="Tue, 1 Dec 2015 05:50:22 +0000"  >&lt;p&gt;Master patch.&lt;/p&gt;</comment>
                            <comment id="15033466" author="hadoopqa" created="Tue, 1 Dec 2015 10:18:28 +0000"  >&lt;p&gt;&lt;font color=&quot;red&quot;&gt;-1 overall&lt;/font&gt;.  Here are the results of testing the latest attachment &lt;br/&gt;
  &lt;a href=&quot;http://issues.apache.org/jira/secure/attachment/12774964/14822.txt&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://issues.apache.org/jira/secure/attachment/12774964/14822.txt&lt;/a&gt;&lt;br/&gt;
  against master branch at commit 7979ac46cce36f21033f8ed03c8d0dd5fddde005.&lt;br/&gt;
  ATTACHMENT ID: 12774964&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 @author&lt;/font&gt;.  The patch does not contain any @author tags.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 tests included&lt;/font&gt;.  The patch appears to include 5 new or modified tests.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 hadoop versions&lt;/font&gt;. The patch compiles with all supported hadoop versions (2.4.0 2.4.1 2.5.0 2.5.1 2.5.2 2.6.0 2.6.1 2.7.0 2.7.1)&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 javac&lt;/font&gt;.  The applied patch does not increase the total number of javac compiler warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 protoc&lt;/font&gt;.  The applied patch does not increase the total number of protoc compiler warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;red&quot;&gt;-1 javadoc&lt;/font&gt;.  The javadoc tool appears to have generated 2 warning messages.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 checkstyle&lt;/font&gt;. The applied patch does not generate new checkstyle errors.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 findbugs&lt;/font&gt;.  The patch does not introduce any  new Findbugs (version 2.0.3) warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 release audit&lt;/font&gt;.  The applied patch does not increase the total number of release audit warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 lineLengths&lt;/font&gt;.  The patch does not introduce lines longer than 100&lt;/p&gt;

&lt;p&gt;  &lt;font color=&quot;green&quot;&gt;+1 site&lt;/font&gt;.  The mvn post-site goal succeeds with this patch.&lt;/p&gt;

&lt;p&gt;     &lt;font color=&quot;red&quot;&gt;-1 core tests&lt;/font&gt;.  The patch failed these unit tests:&lt;br/&gt;
                       org.apache.hadoop.hbase.client.TestBlockEvictionFromClient&lt;br/&gt;
                  org.apache.hadoop.hbase.regionserver.TestRegionServerMetrics&lt;br/&gt;
                  org.apache.hadoop.hbase.client.TestReplicasClient&lt;/p&gt;

&lt;p&gt;Test results: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/16713//testReport/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/16713//testReport/&lt;/a&gt;&lt;br/&gt;
Release Findbugs (version 2.0.3) 	warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/16713//artifact/patchprocess/newFindbugsWarnings.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/16713//artifact/patchprocess/newFindbugsWarnings.html&lt;/a&gt;&lt;br/&gt;
Checkstyle Errors: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/16713//artifact/patchprocess/checkstyle-aggregate.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/16713//artifact/patchprocess/checkstyle-aggregate.html&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;  Javadoc warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/16713//artifact/patchprocess/patchJavadocWarnings.txt&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/16713//artifact/patchprocess/patchJavadocWarnings.txt&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/16713//console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/16713//console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;</comment>
                            <comment id="15034180" author="apurtell" created="Tue, 1 Dec 2015 17:48:12 +0000"  >&lt;p&gt;+1&lt;/p&gt;</comment>
                            <comment id="15035329" author="lhofhansl" created="Wed, 2 Dec 2015 05:58:33 +0000"  >&lt;p&gt;Lemme look at the test failures and javadoc errors.&lt;/p&gt;</comment>
                            <comment id="15035373" author="lhofhansl" created="Wed, 2 Dec 2015 06:44:17 +0000"  >&lt;p&gt;Hmm... There&apos;s something with region replicas and the specific meaning of requesting 0 rows. Haven&apos;t figured out what, but the failures are caused by this change.&lt;/p&gt;</comment>
                            <comment id="15037322" author="lhofhansl" created="Thu, 3 Dec 2015 06:10:38 +0000"  >&lt;p&gt;Seems like I should regroup and just add another flag to the scan PB request. If set (default is false) we&apos;ll renew the lease and exit, rather than relying on special values for the requested number of rows.&lt;/p&gt;

&lt;p&gt;(Can&apos;t believe this ballooned from a tiny quick fix &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/smile.gif&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt; )&lt;/p&gt;</comment>
                            <comment id="15038340" author="apurtell" created="Thu, 3 Dec 2015 19:03:11 +0000"  >&lt;blockquote&gt;&lt;p&gt;There&apos;s something with region replicas and the specific meaning of requesting 0 rows.&lt;/p&gt;&lt;/blockquote&gt;
&lt;p&gt;Ah, I should have tested more than the 0.98 patch.&lt;/p&gt;

&lt;blockquote&gt;&lt;p&gt;Seems like I should regroup and just add another flag to the scan PB request.&lt;/p&gt;&lt;/blockquote&gt;
&lt;p&gt;Seems so&lt;/p&gt;</comment>
                            <comment id="15039779" author="lhofhansl" created="Fri, 4 Dec 2015 05:39:55 +0000"  >&lt;p&gt;0.98 version that simply adds a new PB flag.&lt;br/&gt;
Master version soon.&lt;/p&gt;</comment>
                            <comment id="15041167" author="hadoopqa" created="Fri, 4 Dec 2015 07:00:48 +0000"  >&lt;p&gt;&lt;font color=&quot;red&quot;&gt;-1 overall&lt;/font&gt;.  &lt;/p&gt;

&lt;p&gt;Test results: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/16763//testReport/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/16763//testReport/&lt;/a&gt;&lt;br/&gt;
Release Findbugs (version 2.0.3) 	warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/16763//artifact/patchprocess/newFindbugsWarnings.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/16763//artifact/patchprocess/newFindbugsWarnings.html&lt;/a&gt;&lt;br/&gt;
Checkstyle Errors: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/16763//artifact/patchprocess/checkstyle-aggregate.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/16763//artifact/patchprocess/checkstyle-aggregate.html&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;  Javadoc warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/16763//artifact/patchprocess/patchJavadocWarnings.txt&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/16763//artifact/patchprocess/patchJavadocWarnings.txt&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/16763//console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/16763//console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;</comment>
                            <comment id="15041711" author="apurtell" created="Fri, 4 Dec 2015 16:33:05 +0000"  >&lt;p&gt;lgtm, and has the benefit of not needing to be concerned about the behavior of older server side code. New flag will simply be ignored.&lt;/p&gt;</comment>
                            <comment id="15042680" author="lhofhansl" created="Sat, 5 Dec 2015 05:57:42 +0000"  >&lt;p&gt;Lemme make the master patch and see whether there&apos;s still some weird behaviour.&lt;/p&gt;</comment>
                            <comment id="15042724" author="lhofhansl" created="Sat, 5 Dec 2015 07:32:55 +0000"  >&lt;p&gt;Version for master.&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;uses same protobuf&lt;/li&gt;
	&lt;li&gt;passes TestReplicasClient, which failed before&lt;/li&gt;
	&lt;li&gt;for the option on ScanRequest I need to also change the 0.98 to use the same ordinal for the &quot;renew&quot; option&lt;/li&gt;
	&lt;li&gt;I think I do not need the changes in SmallScannerCallable, since there is no lease to renew.&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;Note that the master is current messed up due to &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-14922&quot; title=&quot;Delayed flush doesn&amp;#39;t work causing flush storms.&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-14922&quot;&gt;&lt;del&gt;HBASE-14922&lt;/del&gt;&lt;/a&gt;, so I can&apos;t get a testrun until that is fixed.&lt;/p&gt;</comment>
                            <comment id="15042795" author="hadoopqa" created="Sat, 5 Dec 2015 10:32:05 +0000"  >&lt;p&gt;&lt;font color=&quot;red&quot;&gt;-1 overall&lt;/font&gt;.  Here are the results of testing the latest attachment &lt;br/&gt;
  &lt;a href=&quot;http://issues.apache.org/jira/secure/attachment/12775922/14822-v4.txt&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://issues.apache.org/jira/secure/attachment/12775922/14822-v4.txt&lt;/a&gt;&lt;br/&gt;
  against master branch at commit 80afb839ec57bccc54c4777be0b9cfb8fb71df63.&lt;br/&gt;
  ATTACHMENT ID: 12775922&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 @author&lt;/font&gt;.  The patch does not contain any @author tags.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 tests included&lt;/font&gt;.  The patch appears to include 5 new or modified tests.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 hadoop versions&lt;/font&gt;. The patch compiles with all supported hadoop versions (2.4.0 2.4.1 2.5.0 2.5.1 2.5.2 2.6.0 2.6.1 2.7.0 2.7.1)&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 javac&lt;/font&gt;.  The applied patch does not increase the total number of javac compiler warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 protoc&lt;/font&gt;.  The applied patch does not increase the total number of protoc compiler warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 javadoc&lt;/font&gt;.  The javadoc tool did not generate any warning messages.&lt;/p&gt;

&lt;p&gt;                &lt;font color=&quot;red&quot;&gt;-1 checkstyle&lt;/font&gt;.  The applied patch generated new checkstyle errors. Check build console for list of new errors.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 findbugs&lt;/font&gt;.  The patch does not introduce any  new Findbugs (version 2.0.3) warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 release audit&lt;/font&gt;.  The applied patch does not increase the total number of release audit warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;red&quot;&gt;-1 lineLengths&lt;/font&gt;.  The patch introduces the following lines longer than 100:&lt;br/&gt;
    +              new java.lang.String[] &lt;/p&gt;
{ &quot;Region&quot;, &quot;Scan&quot;, &quot;ScannerId&quot;, &quot;NumberOfRows&quot;, &quot;CloseScanner&quot;, &quot;NextCallSeq&quot;, &quot;ClientHandlesPartials&quot;, &quot;ClientHandlesHeartbeats&quot;, &quot;TrackScanMetrics&quot;, &quot;Renew&quot;, }
&lt;p&gt;);&lt;br/&gt;
+    TEST_UTIL.getConfiguration().setInt(HConstants.HBASE_CLIENT_SCANNER_TIMEOUT_PERIOD, leaseTimeout);&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 site&lt;/font&gt;.  The mvn post-site goal succeeds with this patch.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 core tests&lt;/font&gt;.  The patch passed unit tests in .&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 zombies&lt;/font&gt;. No zombie tests found running at the end of the build.&lt;/p&gt;

&lt;p&gt;Test results: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/16776//testReport/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/16776//testReport/&lt;/a&gt;&lt;br/&gt;
Release Findbugs (version 2.0.3) 	warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/16776//artifact/patchprocess/newFindbugsWarnings.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/16776//artifact/patchprocess/newFindbugsWarnings.html&lt;/a&gt;&lt;br/&gt;
Checkstyle Errors: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/16776//artifact/patchprocess/checkstyle-aggregate.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/16776//artifact/patchprocess/checkstyle-aggregate.html&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;                Console output: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/16776//console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/16776//console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;</comment>
                            <comment id="15043643" author="lhofhansl" created="Sun, 6 Dec 2015 01:48:10 +0000"  >&lt;ul&gt;
	&lt;li&gt;fixes the long line&lt;/li&gt;
	&lt;li&gt;removed code for ClientSmallScanner (since nothing needs to be renewed)&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="15043715" author="hadoopqa" created="Sun, 6 Dec 2015 05:53:52 +0000"  >&lt;p&gt;&lt;font color=&quot;green&quot;&gt;+1 overall&lt;/font&gt;.  Here are the results of testing the latest attachment &lt;br/&gt;
  &lt;a href=&quot;http://issues.apache.org/jira/secure/attachment/12775962/14822-v5.txt&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://issues.apache.org/jira/secure/attachment/12775962/14822-v5.txt&lt;/a&gt;&lt;br/&gt;
  against master branch at commit 8bf70144e40650ef972f005e2465bd0e2a087c40.&lt;br/&gt;
  ATTACHMENT ID: 12775962&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 @author&lt;/font&gt;.  The patch does not contain any @author tags.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 tests included&lt;/font&gt;.  The patch appears to include 5 new or modified tests.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 hadoop versions&lt;/font&gt;. The patch compiles with all supported hadoop versions (2.4.0 2.4.1 2.5.0 2.5.1 2.5.2 2.6.0 2.6.1 2.7.0 2.7.1)&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 javac&lt;/font&gt;.  The applied patch does not increase the total number of javac compiler warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 protoc&lt;/font&gt;.  The applied patch does not increase the total number of protoc compiler warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 javadoc&lt;/font&gt;.  The javadoc tool did not generate any warning messages.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 checkstyle&lt;/font&gt;. The applied patch does not generate new checkstyle errors.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 findbugs&lt;/font&gt;.  The patch does not introduce any  new Findbugs (version 2.0.3) warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 release audit&lt;/font&gt;.  The applied patch does not increase the total number of release audit warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 lineLengths&lt;/font&gt;.  The patch does not introduce lines longer than 100&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 site&lt;/font&gt;.  The mvn post-site goal succeeds with this patch.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 core tests&lt;/font&gt;.  The patch passed unit tests in .&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 zombies&lt;/font&gt;. No zombie tests found running at the end of the build.&lt;/p&gt;

&lt;p&gt;Test results: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/16778//testReport/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/16778//testReport/&lt;/a&gt;&lt;br/&gt;
Release Findbugs (version 2.0.3) 	warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/16778//artifact/patchprocess/newFindbugsWarnings.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/16778//artifact/patchprocess/newFindbugsWarnings.html&lt;/a&gt;&lt;br/&gt;
Checkstyle Errors: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/16778//artifact/patchprocess/checkstyle-aggregate.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/16778//artifact/patchprocess/checkstyle-aggregate.html&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;  Console output: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/16778//console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/16778//console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;</comment>
                            <comment id="15044204" author="ndimiduk" created="Mon, 7 Dec 2015 00:09:52 +0000"  >&lt;blockquote&gt;&lt;p&gt;Hmm... There&apos;s something with region replicas and the specific meaning of requesting 0 rows. Haven&apos;t figured out what, but the failures are caused by this change.&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=enis&quot; class=&quot;user-hover&quot; rel=&quot;enis&quot;&gt;Enis Soztutar&lt;/a&gt; or &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=devaraj&quot; class=&quot;user-hover&quot; rel=&quot;devaraj&quot;&gt;Devaraj Das&lt;/a&gt; anything to add here? Since we&apos;re blocked on compat issues, it would be good to also get this in for 1.1.3.&lt;/p&gt;</comment>
                            <comment id="15044206" author="jamestaylor" created="Mon, 7 Dec 2015 00:12:10 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=ndimiduk&quot; class=&quot;user-hover&quot; rel=&quot;ndimiduk&quot;&gt;Nick Dimiduk&lt;/a&gt; - &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=lhofhansl&quot; class=&quot;user-hover&quot; rel=&quot;lhofhansl&quot;&gt;Lars Hofhansl&lt;/a&gt; worked around this by taking a different approach and adding a new PB flag, so I believe all is well now.&lt;/p&gt;</comment>
                            <comment id="15044225" author="apurtell" created="Mon, 7 Dec 2015 01:04:54 +0000"  >&lt;p&gt;&amp;gt; adding a new PB flag, so I believe all is well now&lt;/p&gt;

&lt;p&gt;On the contrary Nick just reopened issues for compatability and it&apos;s true this flag (and behavior change) would be something available in a later patch releases not in previous &lt;/p&gt;</comment>
                            <comment id="15054028" author="lhofhansl" created="Sat, 12 Dec 2015 04:29:37 +0000"  >&lt;p&gt;We should be good with this:&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;The API already exists and it is not working &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/sad.gif&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/li&gt;
	&lt;li&gt;This is a truly optional flag (and I&apos;ll use the same index in all branches)&lt;/li&gt;
	&lt;li&gt;old servers will not understand that flag and use the default (same behavior)&lt;/li&gt;
	&lt;li&gt;old client will not send the flag, server will use the default (same behavior)&lt;/li&gt;
	&lt;li&gt;new client and with new server, will support the API that we had already said would work&lt;/li&gt;
	&lt;li&gt;(I don&apos;t think anybody would call renewLease and then consider it a bug if the lease is actually renewed)&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;I&apos;ll make sure 0.98 patch to use the same index as master, and then I&apos;ll propose this to get committed.&lt;/p&gt;</comment>
                            <comment id="15054081" author="lhofhansl" created="Sat, 12 Dec 2015 06:26:36 +0000"  >&lt;p&gt;Hopefully final version for 0.98.&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;Removes changes for ClientSmallScanner (those do not need to be renewed as there is no lease to expire on the server)&lt;/li&gt;
	&lt;li&gt;Used same ordinal number for PB message as master&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;I&apos;m proposing this for committing. Any objections?&lt;/p&gt;</comment>
                            <comment id="15054177" author="hadoopqa" created="Sat, 12 Dec 2015 09:26:58 +0000"  >&lt;p&gt;&lt;font color=&quot;red&quot;&gt;-1 overall&lt;/font&gt;.  &lt;/p&gt;

&lt;p&gt;Test results: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/16843//testReport/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/16843//testReport/&lt;/a&gt;&lt;br/&gt;
Release Findbugs (version 2.0.3) 	warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/16843//artifact/patchprocess/newFindbugsWarnings.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/16843//artifact/patchprocess/newFindbugsWarnings.html&lt;/a&gt;&lt;br/&gt;
Checkstyle Errors: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/16843//artifact/patchprocess/checkstyle-aggregate.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/16843//artifact/patchprocess/checkstyle-aggregate.html&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;  Javadoc warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/16843//artifact/patchprocess/patchJavadocWarnings.txt&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/16843//artifact/patchprocess/patchJavadocWarnings.txt&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/16843//console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/16843//console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;</comment>
                            <comment id="15060344" author="busbey" created="Wed, 16 Dec 2015 17:21:30 +0000"  >&lt;p&gt;bump? is this ready to go in? I restarted a jenkins build.&lt;/p&gt;</comment>
                            <comment id="15060747" author="hadoopqa" created="Wed, 16 Dec 2015 20:13:17 +0000"  >&lt;p&gt;&lt;font color=&quot;red&quot;&gt;-1 overall&lt;/font&gt;.  &lt;/p&gt;

&lt;p&gt;Test results: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/16881//testReport/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/16881//testReport/&lt;/a&gt;&lt;br/&gt;
Release Findbugs (version 2.0.3) 	warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/16881//artifact/patchprocess/newFindbugsWarnings.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/16881//artifact/patchprocess/newFindbugsWarnings.html&lt;/a&gt;&lt;br/&gt;
Checkstyle Errors: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/16881//artifact/patchprocess/checkstyle-aggregate.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/16881//artifact/patchprocess/checkstyle-aggregate.html&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;  Javadoc warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/16881//artifact/patchprocess/patchJavadocWarnings.txt&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/16881//artifact/patchprocess/patchJavadocWarnings.txt&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/16881//console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/16881//console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;</comment>
                            <comment id="15062530" author="apurtell" created="Thu, 17 Dec 2015 18:46:01 +0000"  >&lt;p&gt;Latest patch does the job, passes tests. +1&lt;/p&gt;</comment>
                            <comment id="15064541" author="apurtell" created="Fri, 18 Dec 2015 19:19:18 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=lhofhansl&quot; class=&quot;user-hover&quot; rel=&quot;lhofhansl&quot;&gt;Lars Hofhansl&lt;/a&gt;, you going to commit this? I can do it, NP&lt;/p&gt;</comment>
                            <comment id="15065451" author="lhofhansl" created="Sat, 19 Dec 2015 17:47:44 +0000"  >&lt;p&gt;Yeah... Lemme push to all branches.&lt;/p&gt;</comment>
                            <comment id="15065461" author="lhofhansl" created="Sat, 19 Dec 2015 18:00:38 +0000"  >&lt;p&gt;pushed to master... Working on other branches now.&lt;/p&gt;</comment>
                            <comment id="15065464" author="lhofhansl" created="Sat, 19 Dec 2015 18:14:23 +0000"  >&lt;p&gt;Patch for 1.3 for reference&lt;/p&gt;</comment>
                            <comment id="15065467" author="lhofhansl" created="Sat, 19 Dec 2015 18:19:53 +0000"  >&lt;p&gt;1.3 and 1.2 done&lt;/p&gt;</comment>
                            <comment id="15065477" author="hadoopqa" created="Sat, 19 Dec 2015 18:50:01 +0000"  >&lt;p&gt;&lt;font color=&quot;red&quot;&gt;-1 overall&lt;/font&gt;.  Here are the results of testing the latest attachment &lt;br/&gt;
  &lt;a href=&quot;http://issues.apache.org/jira/secure/attachment/12778712/14822-v5-1.3.txt&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://issues.apache.org/jira/secure/attachment/12778712/14822-v5-1.3.txt&lt;/a&gt;&lt;br/&gt;
  against master branch at commit 86a417eeade1fc1b0a7799a48694e6f1d9b4cb1c.&lt;br/&gt;
  ATTACHMENT ID: 12778712&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 @author&lt;/font&gt;.  The patch does not contain any @author tags.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 tests included&lt;/font&gt;.  The patch appears to include 5 new or modified tests.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;red&quot;&gt;-1 patch&lt;/font&gt;.  The patch command could not apply the patch.&lt;/p&gt;

&lt;p&gt;Console output: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/16940//console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/16940//console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;</comment>
                            <comment id="15065481" author="hudson" created="Sat, 19 Dec 2015 18:56:20 +0000"  >&lt;p&gt;SUCCESS: Integrated in HBase-1.3-IT #391 (See &lt;a href=&quot;https://builds.apache.org/job/HBase-1.3-IT/391/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/HBase-1.3-IT/391/&lt;/a&gt;)&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-14822&quot; title=&quot;Renewing leases of scanners doesn&amp;#39;t work&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-14822&quot;&gt;&lt;del&gt;HBASE-14822&lt;/del&gt;&lt;/a&gt; Renewing leases of scanners doesn&apos;t work. (larsh: rev c27d2c9c3e2fe59906ac6ba7ac2a5d08e5928d43)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;hbase-client/src/main/java/org/apache/hadoop/hbase/client/ScannerCallableWithReplicas.java&lt;/li&gt;
	&lt;li&gt;hbase-protocol/src/main/java/org/apache/hadoop/hbase/protobuf/generated/ClientProtos.java&lt;/li&gt;
	&lt;li&gt;hbase-client/src/main/java/org/apache/hadoop/hbase/client/ClientScanner.java&lt;/li&gt;
	&lt;li&gt;hbase-client/src/main/java/org/apache/hadoop/hbase/protobuf/RequestConverter.java&lt;/li&gt;
	&lt;li&gt;hbase-server/src/test/java/org/apache/hadoop/hbase/client/TestLeaseRenewal.java&lt;/li&gt;
	&lt;li&gt;hbase-server/src/test/java/org/apache/hadoop/hbase/client/TestFromClientSide3.java&lt;/li&gt;
	&lt;li&gt;hbase-server/src/main/java/org/apache/hadoop/hbase/regionserver/RSRpcServices.java&lt;/li&gt;
	&lt;li&gt;hbase-client/src/main/java/org/apache/hadoop/hbase/client/ScannerCallable.java&lt;/li&gt;
	&lt;li&gt;hbase-protocol/src/main/protobuf/Client.proto&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="15065497" author="hudson" created="Sat, 19 Dec 2015 19:45:32 +0000"  >&lt;p&gt;SUCCESS: Integrated in HBase-1.2-IT #354 (See &lt;a href=&quot;https://builds.apache.org/job/HBase-1.2-IT/354/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/HBase-1.2-IT/354/&lt;/a&gt;)&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-14822&quot; title=&quot;Renewing leases of scanners doesn&amp;#39;t work&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-14822&quot;&gt;&lt;del&gt;HBASE-14822&lt;/del&gt;&lt;/a&gt; Renewing leases of scanners doesn&apos;t work. (larsh: rev 435cc3f6b909b637a9245c2aac96113290f8bc3c)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;hbase-server/src/test/java/org/apache/hadoop/hbase/client/TestLeaseRenewal.java&lt;/li&gt;
	&lt;li&gt;hbase-server/src/main/java/org/apache/hadoop/hbase/regionserver/RSRpcServices.java&lt;/li&gt;
	&lt;li&gt;hbase-client/src/main/java/org/apache/hadoop/hbase/client/ClientScanner.java&lt;/li&gt;
	&lt;li&gt;hbase-protocol/src/main/java/org/apache/hadoop/hbase/protobuf/generated/ClientProtos.java&lt;/li&gt;
	&lt;li&gt;hbase-client/src/main/java/org/apache/hadoop/hbase/client/ScannerCallable.java&lt;/li&gt;
	&lt;li&gt;hbase-client/src/main/java/org/apache/hadoop/hbase/protobuf/RequestConverter.java&lt;/li&gt;
	&lt;li&gt;hbase-protocol/src/main/protobuf/Client.proto&lt;/li&gt;
	&lt;li&gt;hbase-server/src/test/java/org/apache/hadoop/hbase/client/TestFromClientSide3.java&lt;/li&gt;
	&lt;li&gt;hbase-client/src/main/java/org/apache/hadoop/hbase/client/ScannerCallableWithReplicas.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="15065549" author="hudson" created="Sat, 19 Dec 2015 22:30:57 +0000"  >&lt;p&gt;FAILURE: Integrated in HBase-1.3 #454 (See &lt;a href=&quot;https://builds.apache.org/job/HBase-1.3/454/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/HBase-1.3/454/&lt;/a&gt;)&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-14822&quot; title=&quot;Renewing leases of scanners doesn&amp;#39;t work&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-14822&quot;&gt;&lt;del&gt;HBASE-14822&lt;/del&gt;&lt;/a&gt; Renewing leases of scanners doesn&apos;t work. (larsh: rev c27d2c9c3e2fe59906ac6ba7ac2a5d08e5928d43)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;hbase-client/src/main/java/org/apache/hadoop/hbase/client/ScannerCallableWithReplicas.java&lt;/li&gt;
	&lt;li&gt;hbase-server/src/test/java/org/apache/hadoop/hbase/client/TestFromClientSide3.java&lt;/li&gt;
	&lt;li&gt;hbase-server/src/test/java/org/apache/hadoop/hbase/client/TestLeaseRenewal.java&lt;/li&gt;
	&lt;li&gt;hbase-server/src/main/java/org/apache/hadoop/hbase/regionserver/RSRpcServices.java&lt;/li&gt;
	&lt;li&gt;hbase-client/src/main/java/org/apache/hadoop/hbase/client/ClientScanner.java&lt;/li&gt;
	&lt;li&gt;hbase-client/src/main/java/org/apache/hadoop/hbase/protobuf/RequestConverter.java&lt;/li&gt;
	&lt;li&gt;hbase-client/src/main/java/org/apache/hadoop/hbase/client/ScannerCallable.java&lt;/li&gt;
	&lt;li&gt;hbase-protocol/src/main/protobuf/Client.proto&lt;/li&gt;
	&lt;li&gt;hbase-protocol/src/main/java/org/apache/hadoop/hbase/protobuf/generated/ClientProtos.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="15065565" author="hudson" created="Sat, 19 Dec 2015 23:06:34 +0000"  >&lt;p&gt;FAILURE: Integrated in HBase-1.2 #460 (See &lt;a href=&quot;https://builds.apache.org/job/HBase-1.2/460/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/HBase-1.2/460/&lt;/a&gt;)&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-14822&quot; title=&quot;Renewing leases of scanners doesn&amp;#39;t work&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-14822&quot;&gt;&lt;del&gt;HBASE-14822&lt;/del&gt;&lt;/a&gt; Renewing leases of scanners doesn&apos;t work. (larsh: rev 435cc3f6b909b637a9245c2aac96113290f8bc3c)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;hbase-protocol/src/main/java/org/apache/hadoop/hbase/protobuf/generated/ClientProtos.java&lt;/li&gt;
	&lt;li&gt;hbase-client/src/main/java/org/apache/hadoop/hbase/client/ScannerCallable.java&lt;/li&gt;
	&lt;li&gt;hbase-client/src/main/java/org/apache/hadoop/hbase/client/ScannerCallableWithReplicas.java&lt;/li&gt;
	&lt;li&gt;hbase-client/src/main/java/org/apache/hadoop/hbase/client/ClientScanner.java&lt;/li&gt;
	&lt;li&gt;hbase-protocol/src/main/protobuf/Client.proto&lt;/li&gt;
	&lt;li&gt;hbase-server/src/test/java/org/apache/hadoop/hbase/client/TestLeaseRenewal.java&lt;/li&gt;
	&lt;li&gt;hbase-server/src/test/java/org/apache/hadoop/hbase/client/TestFromClientSide3.java&lt;/li&gt;
	&lt;li&gt;hbase-server/src/main/java/org/apache/hadoop/hbase/regionserver/RSRpcServices.java&lt;/li&gt;
	&lt;li&gt;hbase-client/src/main/java/org/apache/hadoop/hbase/protobuf/RequestConverter.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="15065578" author="hudson" created="Sat, 19 Dec 2015 23:37:06 +0000"  >&lt;p&gt;FAILURE: Integrated in HBase-Trunk_matrix #571 (See &lt;a href=&quot;https://builds.apache.org/job/HBase-Trunk_matrix/571/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/HBase-Trunk_matrix/571/&lt;/a&gt;)&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-14822&quot; title=&quot;Renewing leases of scanners doesn&amp;#39;t work&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-14822&quot;&gt;&lt;del&gt;HBASE-14822&lt;/del&gt;&lt;/a&gt; Renewing leases of scanners doesn&apos;t work. (larsh: rev 86a417eeade1fc1b0a7799a48694e6f1d9b4cb1c)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;hbase-server/src/test/java/org/apache/hadoop/hbase/client/TestLeaseRenewal.java&lt;/li&gt;
	&lt;li&gt;hbase-server/src/main/java/org/apache/hadoop/hbase/regionserver/RSRpcServices.java&lt;/li&gt;
	&lt;li&gt;hbase-client/src/main/java/org/apache/hadoop/hbase/client/ClientScanner.java&lt;/li&gt;
	&lt;li&gt;hbase-protocol/src/main/protobuf/Client.proto&lt;/li&gt;
	&lt;li&gt;hbase-protocol/src/main/java/org/apache/hadoop/hbase/protobuf/generated/ClientProtos.java&lt;/li&gt;
	&lt;li&gt;hbase-client/src/main/java/org/apache/hadoop/hbase/protobuf/RequestConverter.java&lt;/li&gt;
	&lt;li&gt;hbase-client/src/main/java/org/apache/hadoop/hbase/client/ScannerCallableWithReplicas.java&lt;/li&gt;
	&lt;li&gt;hbase-server/src/test/java/org/apache/hadoop/hbase/client/TestFromClientSide3.java&lt;/li&gt;
	&lt;li&gt;hbase-client/src/main/java/org/apache/hadoop/hbase/client/ScannerCallable.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="15065595" author="hudson" created="Sun, 20 Dec 2015 01:47:49 +0000"  >&lt;p&gt;FAILURE: Integrated in HBase-1.1-JDK7 #1624 (See &lt;a href=&quot;https://builds.apache.org/job/HBase-1.1-JDK7/1624/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/HBase-1.1-JDK7/1624/&lt;/a&gt;)&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-14822&quot; title=&quot;Renewing leases of scanners doesn&amp;#39;t work&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-14822&quot;&gt;&lt;del&gt;HBASE-14822&lt;/del&gt;&lt;/a&gt; Renewing leases of scanners doesn&apos;t work. (larsh: rev f64cf4d8c6e09ddceda7fe737daeb648ca3fa8b4)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;hbase-client/src/main/java/org/apache/hadoop/hbase/protobuf/RequestConverter.java&lt;/li&gt;
	&lt;li&gt;hbase-protocol/src/main/protobuf/Client.proto&lt;/li&gt;
	&lt;li&gt;hbase-client/src/main/java/org/apache/hadoop/hbase/client/ScannerCallable.java&lt;/li&gt;
	&lt;li&gt;hbase-client/src/main/java/org/apache/hadoop/hbase/client/ClientScanner.java&lt;/li&gt;
	&lt;li&gt;hbase-protocol/src/main/java/org/apache/hadoop/hbase/protobuf/generated/ClientProtos.java&lt;/li&gt;
	&lt;li&gt;hbase-server/src/main/java/org/apache/hadoop/hbase/regionserver/RSRpcServices.java&lt;/li&gt;
	&lt;li&gt;hbase-server/src/test/java/org/apache/hadoop/hbase/client/TestLeaseRenewal.java&lt;/li&gt;
	&lt;li&gt;hbase-server/src/test/java/org/apache/hadoop/hbase/client/TestFromClientSide3.java&lt;/li&gt;
	&lt;li&gt;hbase-client/src/main/java/org/apache/hadoop/hbase/client/ScannerCallableWithReplicas.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="15065604" author="hudson" created="Sun, 20 Dec 2015 02:06:53 +0000"  >&lt;p&gt;FAILURE: Integrated in HBase-1.1-JDK8 #1711 (See &lt;a href=&quot;https://builds.apache.org/job/HBase-1.1-JDK8/1711/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/HBase-1.1-JDK8/1711/&lt;/a&gt;)&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-14822&quot; title=&quot;Renewing leases of scanners doesn&amp;#39;t work&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-14822&quot;&gt;&lt;del&gt;HBASE-14822&lt;/del&gt;&lt;/a&gt; Renewing leases of scanners doesn&apos;t work. (larsh: rev f64cf4d8c6e09ddceda7fe737daeb648ca3fa8b4)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;hbase-protocol/src/main/protobuf/Client.proto&lt;/li&gt;
	&lt;li&gt;hbase-protocol/src/main/java/org/apache/hadoop/hbase/protobuf/generated/ClientProtos.java&lt;/li&gt;
	&lt;li&gt;hbase-server/src/test/java/org/apache/hadoop/hbase/client/TestFromClientSide3.java&lt;/li&gt;
	&lt;li&gt;hbase-client/src/main/java/org/apache/hadoop/hbase/protobuf/RequestConverter.java&lt;/li&gt;
	&lt;li&gt;hbase-server/src/test/java/org/apache/hadoop/hbase/client/TestLeaseRenewal.java&lt;/li&gt;
	&lt;li&gt;hbase-server/src/main/java/org/apache/hadoop/hbase/regionserver/RSRpcServices.java&lt;/li&gt;
	&lt;li&gt;hbase-client/src/main/java/org/apache/hadoop/hbase/client/ScannerCallableWithReplicas.java&lt;/li&gt;
	&lt;li&gt;hbase-client/src/main/java/org/apache/hadoop/hbase/client/ScannerCallable.java&lt;/li&gt;
	&lt;li&gt;hbase-client/src/main/java/org/apache/hadoop/hbase/client/ClientScanner.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="15065833" author="hudson" created="Sun, 20 Dec 2015 17:09:44 +0000"  >&lt;p&gt;FAILURE: Integrated in HBase-1.0 #1125 (See &lt;a href=&quot;https://builds.apache.org/job/HBase-1.0/1125/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/HBase-1.0/1125/&lt;/a&gt;)&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-14822&quot; title=&quot;Renewing leases of scanners doesn&amp;#39;t work&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-14822&quot;&gt;&lt;del&gt;HBASE-14822&lt;/del&gt;&lt;/a&gt; Renewing leases of scanners doesn&apos;t work. (larsh: rev 55eb15111eb77b22ca5ab4f4223878be923fd1d1)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;hbase-client/src/main/java/org/apache/hadoop/hbase/client/ScannerCallable.java&lt;/li&gt;
	&lt;li&gt;hbase-protocol/src/main/java/org/apache/hadoop/hbase/protobuf/generated/ClientProtos.java&lt;/li&gt;
	&lt;li&gt;hbase-client/src/main/java/org/apache/hadoop/hbase/protobuf/RequestConverter.java&lt;/li&gt;
	&lt;li&gt;hbase-client/src/main/java/org/apache/hadoop/hbase/client/ClientScanner.java&lt;/li&gt;
	&lt;li&gt;hbase-server/src/test/java/org/apache/hadoop/hbase/client/TestFromClientSide3.java&lt;/li&gt;
	&lt;li&gt;hbase-protocol/src/main/protobuf/Client.proto&lt;/li&gt;
	&lt;li&gt;hbase-client/src/main/java/org/apache/hadoop/hbase/client/ScannerCallableWithReplicas.java&lt;/li&gt;
	&lt;li&gt;hbase-server/src/main/java/org/apache/hadoop/hbase/regionserver/RSRpcServices.java&lt;/li&gt;
	&lt;li&gt;hbase-server/src/test/java/org/apache/hadoop/hbase/client/TestLeaseRenewal.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="15065837" author="hudson" created="Sun, 20 Dec 2015 17:26:18 +0000"  >&lt;p&gt;FAILURE: Integrated in HBase-0.98-on-Hadoop-1.1 #1149 (See &lt;a href=&quot;https://builds.apache.org/job/HBase-0.98-on-Hadoop-1.1/1149/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/HBase-0.98-on-Hadoop-1.1/1149/&lt;/a&gt;)&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-14822&quot; title=&quot;Renewing leases of scanners doesn&amp;#39;t work&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-14822&quot;&gt;&lt;del&gt;HBASE-14822&lt;/del&gt;&lt;/a&gt; Renewing leases of scanners doesn&apos;t work. (larsh: rev 2f43fad5942d33bca6aad13bb521cf837eb615f8)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;hbase-server/src/test/java/org/apache/hadoop/hbase/client/TestLeaseRenewal.java&lt;/li&gt;
	&lt;li&gt;hbase-protocol/src/main/java/org/apache/hadoop/hbase/protobuf/generated/ClientProtos.java&lt;/li&gt;
	&lt;li&gt;hbase-client/src/main/java/org/apache/hadoop/hbase/client/ClientScanner.java&lt;/li&gt;
	&lt;li&gt;hbase-server/src/test/java/org/apache/hadoop/hbase/client/TestFromClientSide3.java&lt;/li&gt;
	&lt;li&gt;hbase-server/src/main/java/org/apache/hadoop/hbase/regionserver/HRegionServer.java&lt;/li&gt;
	&lt;li&gt;hbase-protocol/src/main/protobuf/Client.proto&lt;/li&gt;
	&lt;li&gt;hbase-client/src/main/java/org/apache/hadoop/hbase/protobuf/RequestConverter.java&lt;/li&gt;
	&lt;li&gt;hbase-client/src/main/java/org/apache/hadoop/hbase/client/ScannerCallable.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="15065843" author="hudson" created="Sun, 20 Dec 2015 17:34:54 +0000"  >&lt;p&gt;FAILURE: Integrated in HBase-0.98-matrix #276 (See &lt;a href=&quot;https://builds.apache.org/job/HBase-0.98-matrix/276/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/HBase-0.98-matrix/276/&lt;/a&gt;)&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-14822&quot; title=&quot;Renewing leases of scanners doesn&amp;#39;t work&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-14822&quot;&gt;&lt;del&gt;HBASE-14822&lt;/del&gt;&lt;/a&gt; Renewing leases of scanners doesn&apos;t work. (larsh: rev 2f43fad5942d33bca6aad13bb521cf837eb615f8)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;hbase-protocol/src/main/protobuf/Client.proto&lt;/li&gt;
	&lt;li&gt;hbase-client/src/main/java/org/apache/hadoop/hbase/client/ScannerCallable.java&lt;/li&gt;
	&lt;li&gt;hbase-server/src/test/java/org/apache/hadoop/hbase/client/TestLeaseRenewal.java&lt;/li&gt;
	&lt;li&gt;hbase-protocol/src/main/java/org/apache/hadoop/hbase/protobuf/generated/ClientProtos.java&lt;/li&gt;
	&lt;li&gt;hbase-server/src/test/java/org/apache/hadoop/hbase/client/TestFromClientSide3.java&lt;/li&gt;
	&lt;li&gt;hbase-client/src/main/java/org/apache/hadoop/hbase/client/ClientScanner.java&lt;/li&gt;
	&lt;li&gt;hbase-server/src/main/java/org/apache/hadoop/hbase/regionserver/HRegionServer.java&lt;/li&gt;
	&lt;li&gt;hbase-client/src/main/java/org/apache/hadoop/hbase/protobuf/RequestConverter.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="15070484" author="samarthjain" created="Thu, 24 Dec 2015 01:58:09 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=lhofhansl&quot; class=&quot;user-hover&quot; rel=&quot;lhofhansl&quot;&gt;Lars Hofhansl&lt;/a&gt; - I tried out the latest on 0.98, and looks like there are some more issues lurking with lease renewal. I noticed that on the region server side I was still getting the following message even though I made sure Phoenix was calling renewLease() for the scanners.&lt;/p&gt;

&lt;p&gt;INFO  &lt;span class=&quot;error&quot;&gt;&amp;#91;RS:0;localhost:55383.leaseChecker&amp;#93;&lt;/span&gt; org.apache.hadoop.hbase.regionserver.HRegionServer$ScannerListener(2633): Scanner 59 lease expired on region &lt;/p&gt;

&lt;p&gt;After a bit of digging around, it turns out that the lease renewal is actually causing the regular scan() to fail and vice-versa. This is because renewLease ends up also increasing the nextCallSeq member variable in the ScannerCallable object. There are checks in place in the HRegionServer class that causes an OutOfOrderScannerNextException to be thrown because the nextSeq didn&apos;t match. &lt;/p&gt;

&lt;p&gt;See this stacktrace:&lt;/p&gt;

&lt;p&gt;org.apache.hadoop.hbase.exceptions.OutOfOrderScannerNextException: Expected nextCallSeq: 2 But the nextCallSeq got from client: 10; request=scanner_id: 56 number_of_rows: 2 close_scanner: false next_call_seq: 10 renew: false&lt;br/&gt;
	at org.apache.hadoop.hbase.regionserver.HRegionServer.scan(HRegionServer.java:3277)&lt;br/&gt;
	at org.apache.hadoop.hbase.protobuf.generated.ClientProtos$ClientService$2.callBlockingMethod(ClientProtos.java:31190)&lt;br/&gt;
	at org.apache.hadoop.hbase.ipc.RpcServer.call(RpcServer.java:2149)&lt;br/&gt;
	at org.apache.hadoop.hbase.ipc.CallRunner.run(CallRunner.java:104)&lt;br/&gt;
	at org.apache.hadoop.hbase.ipc.RpcExecutor.consumerLoop(RpcExecutor.java:133)&lt;br/&gt;
	at org.apache.hadoop.hbase.ipc.RpcExecutor$1.run(RpcExecutor.java:108)&lt;br/&gt;
	at java.lang.Thread.run(Thread.java:745)&lt;/p&gt;

&lt;p&gt;	at sun.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)&lt;br/&gt;
	at sun.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:57)&lt;br/&gt;
	at sun.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45)&lt;br/&gt;
	at java.lang.reflect.Constructor.newInstance(Constructor.java:526)&lt;br/&gt;
	at org.apache.hadoop.ipc.RemoteException.instantiateException(RemoteException.java:106)&lt;br/&gt;
	at org.apache.hadoop.ipc.RemoteException.unwrapRemoteException(RemoteException.java:95)&lt;br/&gt;
	at org.apache.hadoop.hbase.protobuf.ProtobufUtil.getRemoteException(ProtobufUtil.java:298)&lt;br/&gt;
	at org.apache.hadoop.hbase.client.ScannerCallable.call(ScannerCallable.java:216)&lt;br/&gt;
	at org.apache.hadoop.hbase.client.ScannerCallable.call(ScannerCallable.java:58)&lt;br/&gt;
	at org.apache.hadoop.hbase.client.RpcRetryingCaller.callWithRetries(RpcRetryingCaller.java:115)&lt;br/&gt;
	at org.apache.hadoop.hbase.client.RpcRetryingCaller.callWithRetries(RpcRetryingCaller.java:91)&lt;br/&gt;
	at org.apache.hadoop.hbase.client.ClientScanner.loadCache(ClientScanner.java:387)&lt;br/&gt;
	at org.apache.hadoop.hbase.client.ClientScanner.next(ClientScanner.java:340)&lt;br/&gt;
	at org.apache.phoenix.iterate.ScanningResultIterator.next(ScanningResultIterator.java:57)&lt;br/&gt;
	at org.apache.phoenix.iterate.TableResultIterator.next(TableResultIterator.java:112)&lt;br/&gt;
	at &lt;/p&gt;

&lt;p&gt;In this case the number of times renewLease() was called was 8 which also happens to be the difference between the expected nextCallSeq (2) and the actual nextCallSeq(10). This error isn&apos;t surfaced to the clients though because the HBase client ends up creating a new scanner altogether behind the scenes. &lt;/p&gt;

&lt;p&gt;One possible simple fix (in the attached patch) would be to not increment the nextCallSeq when renewing lease. FWIW, after this change, I no longer see the OutOfOrderScannerNextException and INFO message about scanner lease expiration is also gone.&lt;/p&gt;</comment>
                            <comment id="15071126" author="lhofhansl" created="Thu, 24 Dec 2015 16:51:34 +0000"  >&lt;p&gt;Hmm... I thought you had tested this patch? Seems I cannot win on this one &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/sad.gif&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;br/&gt;
You are using the same ClientScanner object for renewal and scanning I assume?&lt;/p&gt;

&lt;p&gt;From different threads? There might be a concurrency issue. Does this always happen, or just sometimes?&lt;/p&gt;</comment>
                            <comment id="15071131" author="lhofhansl" created="Thu, 24 Dec 2015 17:01:14 +0000"  >&lt;p&gt;Hmm... I see that indeed each call increases the callSeq on the client, but not the server.&lt;br/&gt;
How on earth is the test passing? It mixes renew call with actual scanner calls to test exactly that behavior.&lt;/p&gt;</comment>
                            <comment id="15071147" author="samarthjain" created="Thu, 24 Dec 2015 17:30:57 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=lhofhansl&quot; class=&quot;user-hover&quot; rel=&quot;lhofhansl&quot;&gt;Lars Hofhansl&lt;/a&gt; - to be clear, I did test the patch. Phoenix queries which would have failed with lease timeout exceptions are now passing. So functionally your patch works. However, the patch ended up causing an inadvertent performance regression. Calling renew lease ends up increasing the nextCallSeq too. The subsequent OutOfOrderScannerNextException thrown is handled silently (once) by the ClientScanner#loadCache code which ends up setting the callable object to null.&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
&lt;span class=&quot;code-keyword&quot;&gt;if&lt;/span&gt; (e &lt;span class=&quot;code-keyword&quot;&gt;instanceof&lt;/span&gt; OutOfOrderScannerNextException) {
          &lt;span class=&quot;code-keyword&quot;&gt;if&lt;/span&gt; (retryAfterOutOfOrderException) {
            retryAfterOutOfOrderException = &lt;span class=&quot;code-keyword&quot;&gt;false&lt;/span&gt;;
          } &lt;span class=&quot;code-keyword&quot;&gt;else&lt;/span&gt; {
            &lt;span class=&quot;code-comment&quot;&gt;// TODO: Why wrap &lt;span class=&quot;code-keyword&quot;&gt;this&lt;/span&gt; in a DNRIOE when it already is a DNRIOE?
&lt;/span&gt;            &lt;span class=&quot;code-keyword&quot;&gt;throw&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; DoNotRetryIOException(&lt;span class=&quot;code-quote&quot;&gt;&quot;Failed after retry of &quot;&lt;/span&gt; +
              &lt;span class=&quot;code-quote&quot;&gt;&quot;OutOfOrderScannerNextException: was there a rpc timeout?&quot;&lt;/span&gt;, e);
          }
        }
        &lt;span class=&quot;code-comment&quot;&gt;// Clear region.
&lt;/span&gt;        &lt;span class=&quot;code-keyword&quot;&gt;this&lt;/span&gt;.currentRegion = &lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt;;
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;I am calling renewLease and scanner.next() using the same ClientScanner in different threads. However, I have proper synchronization in place that makes sure I am not calling both at the same time. It doesn&apos;t seem like a concurrency issue as I can reproduce this behavior consistently.&lt;/p&gt;</comment>
                            <comment id="15071162" author="lhofhansl" created="Thu, 24 Dec 2015 17:58:52 +0000"  >&lt;p&gt;The test passes, because the scan is retried. Meh.&lt;br/&gt;
I have an addendum that increases the sequence number also for renewLease.&lt;/p&gt;</comment>
                            <comment id="15071164" author="lhofhansl" created="Thu, 24 Dec 2015 18:01:39 +0000"  >&lt;p&gt;Thanks &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=samarthjain&quot; class=&quot;user-hover&quot; rel=&quot;samarthjain&quot;&gt;Samarth Jain&lt;/a&gt;, that&apos;s what I just found. Looking into how to isolate this in a test.&lt;/p&gt;</comment>
                            <comment id="15071179" author="lhofhansl" created="Thu, 24 Dec 2015 18:33:59 +0000"  >&lt;p&gt;Addendum that fixes this for 0.98.&lt;br/&gt;
Uses RS metrics in the test to determine whether OOO exceptions occurred.&lt;br/&gt;
Verified that without the addendum the OOO exceptions occurred, and they don&apos;t after.&lt;/p&gt;

&lt;p&gt;Planning to commit this to all branches. &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=busbey&quot; class=&quot;user-hover&quot; rel=&quot;busbey&quot;&gt;Sean Busbey&lt;/a&gt;, where are you with 1.2?&lt;/p&gt;</comment>
                            <comment id="15071209" author="lhofhansl" created="Thu, 24 Dec 2015 19:55:50 +0000"  >&lt;p&gt;Same for master.&lt;/p&gt;</comment>
                            <comment id="15071251" author="lhofhansl" created="Thu, 24 Dec 2015 21:16:40 +0000"  >&lt;p&gt;Turns out HBase 1.0.x does not have the exception metrics, so I&apos;ll commit the addendum without the test change there.&lt;/p&gt;</comment>
                            <comment id="15071261" author="lhofhansl" created="Thu, 24 Dec 2015 21:39:19 +0000"  >&lt;p&gt;Pushed addendum to all branches, I hope this is the last of this &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/smile.gif&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;br/&gt;
(Sorry for the churn on this one)&lt;/p&gt;</comment>
                            <comment id="15071280" author="hudson" created="Thu, 24 Dec 2015 22:53:15 +0000"  >&lt;p&gt;SUCCESS: Integrated in HBase-1.3-IT #405 (See &lt;a href=&quot;https://builds.apache.org/job/HBase-1.3-IT/405/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/HBase-1.3-IT/405/&lt;/a&gt;)&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-14822&quot; title=&quot;Renewing leases of scanners doesn&amp;#39;t work&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-14822&quot;&gt;&lt;del&gt;HBASE-14822&lt;/del&gt;&lt;/a&gt;; addendum - handle callSeq. (larsh: rev 31f8d71ffe2feec14fbf74c277439740216f52b4)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;hbase-server/src/test/java/org/apache/hadoop/hbase/client/TestLeaseRenewal.java&lt;/li&gt;
	&lt;li&gt;hbase-server/src/main/java/org/apache/hadoop/hbase/regionserver/RSRpcServices.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="15071291" author="hudson" created="Thu, 24 Dec 2015 23:31:49 +0000"  >&lt;p&gt;FAILURE: Integrated in HBase-Trunk_matrix #586 (See &lt;a href=&quot;https://builds.apache.org/job/HBase-Trunk_matrix/586/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/HBase-Trunk_matrix/586/&lt;/a&gt;)&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-14822&quot; title=&quot;Renewing leases of scanners doesn&amp;#39;t work&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-14822&quot;&gt;&lt;del&gt;HBASE-14822&lt;/del&gt;&lt;/a&gt;; addendum - handle callSeq. (larsh: rev dfada43e90a0767518501f6878bf9896bed912ce)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;hbase-server/src/test/java/org/apache/hadoop/hbase/client/TestLeaseRenewal.java&lt;/li&gt;
	&lt;li&gt;hbase-server/src/main/java/org/apache/hadoop/hbase/regionserver/RSRpcServices.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="15071293" author="hudson" created="Thu, 24 Dec 2015 23:38:30 +0000"  >&lt;p&gt;SUCCESS: Integrated in HBase-1.2-IT #366 (See &lt;a href=&quot;https://builds.apache.org/job/HBase-1.2-IT/366/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/HBase-1.2-IT/366/&lt;/a&gt;)&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-14822&quot; title=&quot;Renewing leases of scanners doesn&amp;#39;t work&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-14822&quot;&gt;&lt;del&gt;HBASE-14822&lt;/del&gt;&lt;/a&gt;; addendum - handle callSeq. (larsh: rev ae8b3e06121873f958f13d7b95b2212087d6b55c)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;hbase-server/src/main/java/org/apache/hadoop/hbase/regionserver/RSRpcServices.java&lt;/li&gt;
	&lt;li&gt;hbase-server/src/test/java/org/apache/hadoop/hbase/client/TestLeaseRenewal.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="15071295" author="hudson" created="Thu, 24 Dec 2015 23:45:27 +0000"  >&lt;p&gt;SUCCESS: Integrated in HBase-1.1-JDK8 #1716 (See &lt;a href=&quot;https://builds.apache.org/job/HBase-1.1-JDK8/1716/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/HBase-1.1-JDK8/1716/&lt;/a&gt;)&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-14822&quot; title=&quot;Renewing leases of scanners doesn&amp;#39;t work&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-14822&quot;&gt;&lt;del&gt;HBASE-14822&lt;/del&gt;&lt;/a&gt;; addendum - handle callSeq. (larsh: rev 8ef49b3147fc002a6aebc0d6d904f00743d02531)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;hbase-server/src/main/java/org/apache/hadoop/hbase/regionserver/RSRpcServices.java&lt;/li&gt;
	&lt;li&gt;hbase-server/src/test/java/org/apache/hadoop/hbase/client/TestLeaseRenewal.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="15071301" author="hudson" created="Fri, 25 Dec 2015 00:14:36 +0000"  >&lt;p&gt;SUCCESS: Integrated in HBase-1.1-JDK7 #1629 (See &lt;a href=&quot;https://builds.apache.org/job/HBase-1.1-JDK7/1629/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/HBase-1.1-JDK7/1629/&lt;/a&gt;)&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-14822&quot; title=&quot;Renewing leases of scanners doesn&amp;#39;t work&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-14822&quot;&gt;&lt;del&gt;HBASE-14822&lt;/del&gt;&lt;/a&gt;; addendum - handle callSeq. (larsh: rev 8ef49b3147fc002a6aebc0d6d904f00743d02531)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;hbase-server/src/main/java/org/apache/hadoop/hbase/regionserver/RSRpcServices.java&lt;/li&gt;
	&lt;li&gt;hbase-server/src/test/java/org/apache/hadoop/hbase/client/TestLeaseRenewal.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="15071323" author="hudson" created="Fri, 25 Dec 2015 02:17:00 +0000"  >&lt;p&gt;FAILURE: Integrated in HBase-1.2 #474 (See &lt;a href=&quot;https://builds.apache.org/job/HBase-1.2/474/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/HBase-1.2/474/&lt;/a&gt;)&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-14822&quot; title=&quot;Renewing leases of scanners doesn&amp;#39;t work&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-14822&quot;&gt;&lt;del&gt;HBASE-14822&lt;/del&gt;&lt;/a&gt;; addendum - handle callSeq. (larsh: rev ae8b3e06121873f958f13d7b95b2212087d6b55c)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;hbase-server/src/main/java/org/apache/hadoop/hbase/regionserver/RSRpcServices.java&lt;/li&gt;
	&lt;li&gt;hbase-server/src/test/java/org/apache/hadoop/hbase/client/TestLeaseRenewal.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="15071327" author="hudson" created="Fri, 25 Dec 2015 02:26:37 +0000"  >&lt;p&gt;SUCCESS: Integrated in HBase-1.3 #469 (See &lt;a href=&quot;https://builds.apache.org/job/HBase-1.3/469/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/HBase-1.3/469/&lt;/a&gt;)&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-14822&quot; title=&quot;Renewing leases of scanners doesn&amp;#39;t work&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-14822&quot;&gt;&lt;del&gt;HBASE-14822&lt;/del&gt;&lt;/a&gt;; addendum - handle callSeq. (larsh: rev 31f8d71ffe2feec14fbf74c277439740216f52b4)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;hbase-server/src/main/java/org/apache/hadoop/hbase/regionserver/RSRpcServices.java&lt;/li&gt;
	&lt;li&gt;hbase-server/src/test/java/org/apache/hadoop/hbase/client/TestLeaseRenewal.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="15071675" author="hudson" created="Fri, 25 Dec 2015 17:14:41 +0000"  >&lt;p&gt;FAILURE: Integrated in HBase-0.98-matrix #278 (See &lt;a href=&quot;https://builds.apache.org/job/HBase-0.98-matrix/278/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/HBase-0.98-matrix/278/&lt;/a&gt;)&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-14822&quot; title=&quot;Renewing leases of scanners doesn&amp;#39;t work&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-14822&quot;&gt;&lt;del&gt;HBASE-14822&lt;/del&gt;&lt;/a&gt;; addendum - handle callSeq. (larsh: rev 70ed92e7899e3e6c6e98b70f20d5d6e58b32dd3d)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;hbase-server/src/test/java/org/apache/hadoop/hbase/client/TestLeaseRenewal.java&lt;/li&gt;
	&lt;li&gt;hbase-server/src/main/java/org/apache/hadoop/hbase/regionserver/HRegionServer.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="15071677" author="hudson" created="Fri, 25 Dec 2015 17:19:50 +0000"  >&lt;p&gt;FAILURE: Integrated in HBase-0.98-on-Hadoop-1.1 #1151 (See &lt;a href=&quot;https://builds.apache.org/job/HBase-0.98-on-Hadoop-1.1/1151/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/HBase-0.98-on-Hadoop-1.1/1151/&lt;/a&gt;)&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-14822&quot; title=&quot;Renewing leases of scanners doesn&amp;#39;t work&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-14822&quot;&gt;&lt;del&gt;HBASE-14822&lt;/del&gt;&lt;/a&gt;; addendum - handle callSeq. (larsh: rev 70ed92e7899e3e6c6e98b70f20d5d6e58b32dd3d)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;hbase-server/src/main/java/org/apache/hadoop/hbase/regionserver/HRegionServer.java&lt;/li&gt;
	&lt;li&gt;hbase-server/src/test/java/org/apache/hadoop/hbase/client/TestLeaseRenewal.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="15071690" author="hudson" created="Fri, 25 Dec 2015 18:21:57 +0000"  >&lt;p&gt;FAILURE: Integrated in HBase-1.0 #1128 (See &lt;a href=&quot;https://builds.apache.org/job/HBase-1.0/1128/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/HBase-1.0/1128/&lt;/a&gt;)&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-14822&quot; title=&quot;Renewing leases of scanners doesn&amp;#39;t work&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-14822&quot;&gt;&lt;del&gt;HBASE-14822&lt;/del&gt;&lt;/a&gt;; addendum - handle callSeq. (larsh: rev 9c44260e510c1380767c1517c0c891089673c4e1)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;hbase-server/src/main/java/org/apache/hadoop/hbase/regionserver/RSRpcServices.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="15119523" author="ndimiduk" created="Wed, 27 Jan 2016 15:28:42 +0000"  >&lt;p&gt;Bulk closing 1.1.3 issues.&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                                                <inwardlinks description="is related to">
                                        <issuelink>
            <issuekey id="12785375">HBASE-13333</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="12779469" name="14822-0.98-addendum.txt" size="2809" author="lhofhansl" created="Thu, 24 Dec 2015 18:33:59 +0000"/>
                            <attachment id="12772929" name="14822-0.98-v2.txt" size="7384" author="lhofhansl" created="Wed, 18 Nov 2015 06:49:42 +0000"/>
                            <attachment id="12773308" name="14822-0.98-v3.txt" size="7925" author="lhofhansl" created="Thu, 19 Nov 2015 19:17:04 +0000"/>
                            <attachment id="12772882" name="14822-0.98.txt" size="6795" author="lhofhansl" created="Wed, 18 Nov 2015 00:50:03 +0000"/>
                            <attachment id="12779473" name="14822-master-addendum.txt" size="2817" author="lhofhansl" created="Thu, 24 Dec 2015 19:55:50 +0000"/>
                            <attachment id="12773460" name="14822-v3-0.98.txt" size="7925" author="lhofhansl" created="Fri, 20 Nov 2015 07:04:40 +0000"/>
                            <attachment id="12775731" name="14822-v4-0.98.txt" size="28410" author="lhofhansl" created="Fri, 4 Dec 2015 05:39:55 +0000"/>
                            <attachment id="12775922" name="14822-v4.txt" size="31320" author="lhofhansl" created="Sat, 5 Dec 2015 07:32:55 +0000"/>
                            <attachment id="12777250" name="14822-v5-0.98.txt" size="27260" author="lhofhansl" created="Sat, 12 Dec 2015 06:26:36 +0000"/>
                            <attachment id="12778712" name="14822-v5-1.3.txt" size="29578" author="lhofhansl" created="Sat, 19 Dec 2015 18:14:23 +0000"/>
                            <attachment id="12775962" name="14822-v5.txt" size="29319" author="lhofhansl" created="Sun, 6 Dec 2015 01:48:10 +0000"/>
                            <attachment id="12774964" name="14822.txt" size="7875" author="lhofhansl" created="Tue, 1 Dec 2015 05:50:22 +0000"/>
                            <attachment id="12779360" name="HBASE-14822_98_nextseq.diff" size="2061" author="samarthjain" created="Thu, 24 Dec 2015 01:58:09 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>13.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Tue, 17 Nov 2015 23:36:01 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310191" key="com.atlassian.jira.plugin.system.customfieldtypes:multicheckboxes">
                        <customfieldname>Hadoop Flags</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10343"><![CDATA[Reviewed]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            44 weeks, 1 day ago
                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i2oh73:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310192" key="com.atlassian.jira.plugin.system.customfieldtypes:textarea">
                        <customfieldname>Release Note</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>And 1.1, 1.0, and 0.98.</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                    <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        </customfields>
    </item>
</channel>
</rss>