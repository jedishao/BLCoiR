<!-- 
RSS generated by JIRA (6.3.4#6332-sha1:51bc225ef474afe3128b2f66878477f322397b16) at Sat Dec 03 18:12:36 UTC 2016

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary add field=key&field=summary to the URL of your request.
For example:
https://issues.apache.org/jira/si/jira.issueviews:issue-xml/HBASE-7581/HBASE-7581.xml?field=key&amp;field=summary
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>6.3.4</version>
        <build-number>6332</build-number>
        <build-date>15-08-2014</build-date>
    </build-info>

<item>
            <title>[HBASE-7581] TestAccessController depends on the execution order</title>
                <link>https://issues.apache.org/jira/browse/HBASE-7581</link>
                <project id="12310753" key="HBASE">HBase</project>
                    <description></description>
                <environment></environment>
        <key id="12627830">HBASE-7581</key>
            <summary>TestAccessController depends on the execution order</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/bug.png">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.png">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="nkeywal">Nicolas Liochon</assignee>
                                    <reporter username="nkeywal">Nicolas Liochon</reporter>
                        <labels>
                    </labels>
                <created>Wed, 16 Jan 2013 14:00:51 +0000</created>
                <updated>Tue, 12 Mar 2013 19:11:08 +0000</updated>
                            <resolved>Wed, 16 Jan 2013 18:37:08 +0000</resolved>
                                    <version>0.95.2</version>
                                    <fixVersion>0.94.5</fixVersion>
                    <fixVersion>0.95.0</fixVersion>
                                    <component>build</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>10</watches>
                                                                <comments>
                            <comment id="13555095" author="nkeywal" created="Wed, 16 Jan 2013 14:58:15 +0000"  >&lt;p&gt;The stack is surprising...&lt;/p&gt;

&lt;p&gt;org.apache.hadoop.hbase.client.ServerCallable.withRetries(ServerCallable.java:186)&lt;br/&gt;
	at org.apache.hadoop.hbase.client.HTable.checkAndDelete(HTable.java:843)&lt;br/&gt;
	at org.apache.hadoop.hbase.security.access.TestAccessController$27.run(TestAccessController.java:668)&lt;br/&gt;
	at java.security.AccessController.doPrivileged(Native Method)&lt;br/&gt;
	at javax.security.auth.Subject.doAs(Subject.java:396)&lt;br/&gt;
	at org.apache.hadoop.security.UserGroupInformation.doAs(UserGroupInformation.java:1136)&lt;br/&gt;
	at sun.reflect.GeneratedMethodAccessor30.invoke(Unknown Source)&lt;br/&gt;
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)&lt;br/&gt;
	at java.lang.reflect.Method.invoke(Method.java:597)&lt;br/&gt;
	at org.apache.hadoop.hbase.util.Methods.call(Methods.java:41)&lt;br/&gt;
	at org.apache.hadoop.hbase.security.User.call(User.java:404)&lt;br/&gt;
	at org.apache.hadoop.hbase.security.User.access$300(User.java:52)&lt;br/&gt;
	at org.apache.hadoop.hbase.security.User$SecureHadoopUser.runAs(User.java:258)&lt;br/&gt;
	at org.apache.hadoop.hbase.security.access.TestAccessController.verifyAllowed(TestAccessController.java:192)&lt;br/&gt;
	at org.apache.hadoop.hbase.security.access.TestAccessController.verifyAllowed(TestAccessController.java:201)&lt;br/&gt;
	at org.apache.hadoop.hbase.security.access.TestAccessController.verifyReadWrite(TestAccessController.java:579)&lt;br/&gt;
	at org.apache.hadoop.hbase.security.access.TestAccessController.testReadWrite(TestAccessController.java:673)&lt;br/&gt;
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)&lt;br/&gt;
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)&lt;br/&gt;
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)&lt;br/&gt;
	at java.lang.reflect.Method.invoke(Method.java:597)&lt;br/&gt;
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:47)&lt;br/&gt;
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)&lt;br/&gt;
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:44)&lt;br/&gt;
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)&lt;br/&gt;
	at org.junit.runners.ParentRunner.runLeaf(ParentRunner.java:271)&lt;br/&gt;
	at org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:70)&lt;br/&gt;
	at org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:50)&lt;br/&gt;
	at org.junit.runners.ParentRunner$3.run(ParentRunner.java:238)&lt;br/&gt;
	at org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:63)&lt;br/&gt;
	at org.junit.runners.ParentRunner.runChildren(ParentRunner.java:236)&lt;br/&gt;
	at org.junit.runners.ParentRunner.access$000(ParentRunner.java:53)&lt;br/&gt;
	at org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:229)&lt;br/&gt;
	at org.junit.internal.runners.statements.RunBefores.evaluate(RunBefores.java:26)&lt;br/&gt;
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)&lt;br/&gt;
	at org.junit.runners.ParentRunner.run(ParentRunner.java:309)&lt;br/&gt;
	at org.apache.maven.surefire.junit4.JUnit4Provider.execute(JUnit4Provider.java:234)&lt;br/&gt;
	at org.apache.maven.surefire.junit4.JUnit4Provider.executeTestSet(JUnit4Provider.java:133)&lt;br/&gt;
	at org.apache.maven.surefire.junit4.JUnit4Provider.invoke(JUnit4Provider.java:114)&lt;br/&gt;
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)&lt;br/&gt;
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)&lt;br/&gt;
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)&lt;br/&gt;
	at java.lang.reflect.Method.invoke(Method.java:597)&lt;br/&gt;
	at org.apache.maven.surefire.util.ReflectionUtils.invokeMethodWithArray(ReflectionUtils.java:188)&lt;br/&gt;
	at org.apache.maven.surefire.booter.ProviderFactory$ProviderProxy.invoke(ProviderFactory.java:166)&lt;br/&gt;
	at org.apache.maven.surefire.booter.ProviderFactory.invokeProvider(ProviderFactory.java:86)&lt;br/&gt;
	at org.apache.maven.surefire.booter.ForkedBooter.runSuitesInProcess(ForkedBooter.java:101)&lt;br/&gt;
	at org.apache.maven.surefire.booter.ForkedBooter.main(ForkedBooter.java:74)&lt;br/&gt;
Caused by: java.io.IOException: java.io.IOException: java.lang.NullPointerException&lt;br/&gt;
	at sun.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)&lt;br/&gt;
	at sun.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:39)&lt;br/&gt;
	at sun.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:27)&lt;br/&gt;
	at java.lang.reflect.Constructor.newInstance(Constructor.java:513)&lt;br/&gt;
	at org.apache.hadoop.ipc.RemoteException.instantiateException(RemoteException.java:95)&lt;br/&gt;
	at org.apache.hadoop.ipc.RemoteException.unwrapRemoteException(RemoteException.java:79)&lt;br/&gt;
	at org.apache.hadoop.hbase.ipc.ProtobufRpcClientEngine$Invoker.invoke(ProtobufRpcClientEngine.java:153)&lt;br/&gt;
	at $Proxy19.mutate(Unknown Source)&lt;br/&gt;
	at org.apache.hadoop.hbase.client.HTable$10.call(HTable.java:849)&lt;br/&gt;
	at org.apache.hadoop.hbase.client.HTable$10.call(HTable.java:843)&lt;br/&gt;
	at org.apache.hadoop.hbase.client.ServerCallable.withRetries(ServerCallable.java:166)&lt;br/&gt;
	... 47 more&lt;br/&gt;
Caused by: org.apache.hadoop.ipc.RemoteException: java.io.IOException: java.lang.NullPointerException&lt;br/&gt;
	at org.apache.hadoop.hbase.regionserver.StoreFile$Reader.getMaxTimestamp(StoreFile.java:1758)&lt;br/&gt;
	at org.apache.hadoop.hbase.regionserver.StoreFileScanner.requestSeek(StoreFileScanner.java:302)&lt;br/&gt;
	at org.apache.hadoop.hbase.regionserver.StoreScanner.&amp;lt;init&amp;gt;(StoreScanner.java:127)&lt;br/&gt;
	at org.apache.hadoop.hbase.regionserver.HStore.getScanner(HStore.java:1659)&lt;br/&gt;
	at org.apache.hadoop.hbase.regionserver.HRegion$RegionScannerImpl.&amp;lt;init&amp;gt;(HRegion.java:3492)&lt;br/&gt;
	at org.apache.hadoop.hbase.regionserver.HRegion.instantiateRegionScanner(HRegion.java:1784)&lt;br/&gt;
	at org.apache.hadoop.hbase.regionserver.HRegion.getScanner(HRegion.java:1776)&lt;br/&gt;
	at org.apache.hadoop.hbase.regionserver.HRegion.getScanner(HRegion.java:1753)&lt;br/&gt;
	at org.apache.hadoop.hbase.regionserver.HRegion.get(HRegion.java:4477)&lt;br/&gt;
	at org.apache.hadoop.hbase.regionserver.HRegion.checkAndMutate(HRegion.java:2436)&lt;br/&gt;
	at org.apache.hadoop.hbase.regionserver.HRegionServer.mutate(HRegionServer.java:2872)&lt;br/&gt;
	at sun.reflect.GeneratedMethodAccessor53.invoke(Unknown Source)&lt;br/&gt;
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)&lt;br/&gt;
	at java.lang.reflect.Method.invoke(Method.java:597)&lt;br/&gt;
	at org.apache.hadoop.hbase.ipc.ProtobufRpcServerEngine$Server.call(ProtobufRpcServerEngine.java:197)&lt;br/&gt;
	at org.apache.hadoop.hbase.ipc.HBaseServer$Handler.run(HBaseServer.java:1786)&lt;/p&gt;

&lt;p&gt;	at org.apache.hadoop.hbase.ipc.HBaseClient.call(HBaseClient.java:1330)&lt;br/&gt;
	at org.apache.hadoop.hbase.ipc.ProtobufRpcClientEngine$Invoker.invoke(ProtobufRpcClientEngine.java:144)&lt;/p&gt;</comment>
                            <comment id="13555100" author="yuzhihong@gmail.com" created="Wed, 16 Jan 2013 15:06:32 +0000"  >&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
    &lt;span class=&quot;code-keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;code-object&quot;&gt;long&lt;/span&gt; getMaxTimestamp() {
      &lt;span class=&quot;code-keyword&quot;&gt;return&lt;/span&gt; timeRangeTracker.maximumTimestamp;
    }
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;NPE was caused by timeRangeTracker being null.&lt;/p&gt;</comment>
                            <comment id="13555103" author="nkeywal" created="Wed, 16 Jan 2013 15:15:11 +0000"  >&lt;p&gt;Yes. I wonder if the error is not a real bug. I haven&apos;t found a test on checkAndDelete, so... It would be something that occurs only with a StoreFile...&lt;/p&gt;</comment>
                            <comment id="13555207" author="stack" created="Wed, 16 Jan 2013 17:01:26 +0000"  >&lt;p&gt;+1&lt;/p&gt;</comment>
                            <comment id="13555220" author="ndimiduk" created="Wed, 16 Jan 2013 17:09:55 +0000"  >&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
-      &lt;span class=&quot;code-keyword&quot;&gt;final&lt;/span&gt; List&amp;lt;ThrowableWithExtraContext&amp;gt; exceptions) {
-    &lt;span class=&quot;code-keyword&quot;&gt;super&lt;/span&gt;(getMessage(numTries, exceptions));
+                                   &lt;span class=&quot;code-keyword&quot;&gt;final&lt;/span&gt; List&amp;lt;ThrowableWithExtraContext&amp;gt; exceptions) {
+    &lt;span class=&quot;code-keyword&quot;&gt;super&lt;/span&gt;(getMessage(numTries, exceptions),
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;nit: ws&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
     &lt;span class=&quot;code-keyword&quot;&gt;for&lt;/span&gt; (Throwable t : exceptions) {
-      buffer.append(t.toString());
+      buffer.append(toString(t));
       buffer.append(&lt;span class=&quot;code-quote&quot;&gt;&quot;\n&quot;&lt;/span&gt;);
     }
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;not: what&apos;s the reason for this change? Will &lt;tt&gt;toString&lt;/tt&gt; avoid an NPE to which &lt;tt&gt;t.toString()&lt;/tt&gt; is susceptible?&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
-------------------------------------------------------
 T E S T S
-------------------------------------------------------
Running org.apache.hadoop.hbase.security.access.TestAccessController
2013-01-16 09:07:57.810 java[47087:1203] Unable to load realm info from SCDynamicStore
Tests run: 34, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 34.99 sec

Results :

Tests run: 34, Failures: 0, Errors: 0, Skipped: 0
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Looks good to me. nits aside, +1&lt;/p&gt;</comment>
                            <comment id="13555229" author="nkeywal" created="Wed, 16 Jan 2013 17:16:51 +0000"  >&lt;blockquote&gt;&lt;p&gt;what&apos;s the reason for this change? Will toString avoid an NPE to which t.toString() is susceptible?&lt;/p&gt;&lt;/blockquote&gt;
&lt;p&gt;Actually it&apos;s stupid, I&apos;ve just checked it does exactly what the default toString does. I was not getting the right info, but it was only because of the cause issue that I fixed at the same time. I&apos;m going to fix this on commit.&lt;/p&gt;

&lt;p&gt;Thanks for the review!&lt;/p&gt;</comment>
                            <comment id="13555239" author="apurtell" created="Wed, 16 Jan 2013 17:32:39 +0000"  >&lt;p&gt;I ran into this yesterday and was trying to figure it out too, the bulk load test was the issue. I&apos;ve been testing a local fix that looks like this part, +1:&lt;/p&gt;

&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;diff --git a/hbase-server/src/test/java/org/apache/hadoop/hbase/security/access/TestAccessController.java b/hbase-server/src/test/java/org/apache/hadoop/hbase/security/access/TestAccessController.java
index 9b38eb7..3e14276 100644
--- a/hbase-server/src/test/java/org/apache/hadoop/hbase/security/access/TestAccessController.java
+++ b/hbase-server/src/test/java/org/apache/hadoop/hbase/security/access/TestAccessController.java
@@ -675,10 +675,9 @@ public class TestAccessController {
     // action for checkAndPut()
     PrivilegedExceptionAction checkAndPut = new PrivilegedExceptionAction() {
       public Object run() throws Exception {
+        HTable t = new HTable(conf, TEST_TABLE);
         Put p = new Put(Bytes.toBytes(&quot;random_row&quot;));
         p.add(TEST_FAMILY, Bytes.toBytes(&quot;Qualifier&quot;), Bytes.toBytes(1));
-
-        HTable t = new HTable(conf, TEST_TABLE);
         t.checkAndPut(Bytes.toBytes(&quot;random_row&quot;), TEST_FAMILY, Bytes.toBytes(&quot;q&quot;),
           Bytes.toBytes(&quot;test_value&quot;), p);
         return null;
@@ -711,6 +710,10 @@ public class TestAccessController {
       }
     };
     verifyWrite(bulkLoadAction);
+
+    // Reinit after the bulk upload
+    TEST_UTIL.getHBaseAdmin().disableTable(TEST_TABLE);
+    TEST_UTIL.getHBaseAdmin().enableTable(TEST_TABLE);
   }
 
   public class BulkLoadHelper {
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</comment>
                            <comment id="13555245" author="hadoopqa" created="Wed, 16 Jan 2013 17:37:24 +0000"  >&lt;p&gt;&lt;font color=&quot;red&quot;&gt;-1 overall&lt;/font&gt;.  Here are the results of testing the latest attachment &lt;br/&gt;
  &lt;a href=&quot;http://issues.apache.org/jira/secure/attachment/12565139/7581.v1.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://issues.apache.org/jira/secure/attachment/12565139/7581.v1.patch&lt;/a&gt;&lt;br/&gt;
  against trunk revision .&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 @author&lt;/font&gt;.  The patch does not contain any @author tags.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 tests included&lt;/font&gt;.  The patch appears to include 3 new or modified tests.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 hadoop2.0&lt;/font&gt;.  The patch compiles against the hadoop 2.0 profile.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 javadoc&lt;/font&gt;.  The javadoc tool did not generate any warning messages.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 javac&lt;/font&gt;.  The applied patch does not increase the total number of javac compiler warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;red&quot;&gt;-1 findbugs&lt;/font&gt;.  The patch appears to introduce 2 new Findbugs (version 1.3.9) warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 release audit&lt;/font&gt;.  The applied patch does not increase the total number of release audit warnings.&lt;/p&gt;

&lt;p&gt;    &lt;font color=&quot;green&quot;&gt;+1 lineLengths&lt;/font&gt;.  The patch does not introduce lines longer than 100&lt;/p&gt;

&lt;p&gt;     &lt;font color=&quot;red&quot;&gt;-1 core tests&lt;/font&gt;.  The patch failed these unit tests:&lt;br/&gt;
                       org.apache.hadoop.hbase.client.TestMultiParallel&lt;br/&gt;
                  org.apache.hadoop.hbase.TestLocalHBaseCluster&lt;/p&gt;

&lt;p&gt;     &lt;font color=&quot;red&quot;&gt;-1 core zombie tests&lt;/font&gt;.  There are 1 zombie test(s): 	at org.apache.hadoop.hbase.util.TestHBaseFsck.testDupeRegion(TestHBaseFsck.java:580)&lt;/p&gt;

&lt;p&gt;Test results: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/4046//testReport/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/4046//testReport/&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/4046//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-protocol.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/4046//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-protocol.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/4046//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-hadoop2-compat.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/4046//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-hadoop2-compat.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/4046//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-examples.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/4046//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-examples.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/4046//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-hadoop1-compat.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/4046//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-hadoop1-compat.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/4046//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-common.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/4046//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-common.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/4046//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-server.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/4046//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-server.html&lt;/a&gt;&lt;br/&gt;
Findbugs warnings: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/4046//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-hadoop-compat.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/4046//artifact/trunk/patchprocess/newPatchFindbugsWarningshbase-hadoop-compat.html&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HBASE-Build/4046//console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HBASE-Build/4046//console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;</comment>
                            <comment id="13555247" author="apurtell" created="Wed, 16 Jan 2013 17:42:18 +0000"  >&lt;p&gt;See &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-7582&quot; title=&quot;Unit test execution mode that randomizes test order&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-7582&quot;&gt;HBASE-7582&lt;/a&gt; for additional followup.&lt;/p&gt;</comment>
                            <comment id="13555315" author="apurtell" created="Wed, 16 Jan 2013 18:33:36 +0000"  >&lt;p&gt;This needs to be applied to 0.94. Reopening to do so.&lt;/p&gt;</comment>
                            <comment id="13555317" author="apurtell" created="Wed, 16 Jan 2013 18:37:08 +0000"  >&lt;p&gt;Committed to 0.94. TestAccessController change passes locally.&lt;/p&gt;</comment>
                            <comment id="13555344" author="hudson" created="Wed, 16 Jan 2013 19:05:47 +0000"  >&lt;p&gt;Integrated in HBase-TRUNK #3758 (See &lt;a href=&quot;https://builds.apache.org/job/HBase-TRUNK/3758/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/HBase-TRUNK/3758/&lt;/a&gt;)&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-7581&quot; title=&quot;TestAccessController depends on the execution order&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-7581&quot;&gt;&lt;del&gt;HBASE-7581&lt;/del&gt;&lt;/a&gt; TestAccessController depends on the execution order (Revision 1434057)&lt;/p&gt;

&lt;p&gt;     Result = FAILURE&lt;br/&gt;
nkeywal : &lt;br/&gt;
Files : &lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hbase/trunk/hbase-server/src/main/java/org/apache/hadoop/hbase/client/RetriesExhaustedException.java&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/hbase-server/src/test/java/org/apache/hadoop/hbase/security/access/TestAccessController.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13555409" author="lhofhansl" created="Wed, 16 Jan 2013 20:13:17 +0000"  >&lt;p&gt;Thanks Andy.&lt;/p&gt;</comment>
                            <comment id="13555645" author="hudson" created="Thu, 17 Jan 2013 00:11:33 +0000"  >&lt;p&gt;Integrated in HBase-0.94 #741 (See &lt;a href=&quot;https://builds.apache.org/job/HBase-0.94/741/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/HBase-0.94/741/&lt;/a&gt;)&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-7581&quot; title=&quot;TestAccessController depends on the execution order&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-7581&quot;&gt;&lt;del&gt;HBASE-7581&lt;/del&gt;&lt;/a&gt;. TestAccessController depends on the execution order (nkeywal) (Revision 1434098)&lt;/p&gt;

&lt;p&gt;     Result = SUCCESS&lt;br/&gt;
apurtell : &lt;br/&gt;
Files : &lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hbase/branches/0.94/security/src/test/java/org/apache/hadoop/hbase/security/access/TestAccessController.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13555789" author="hudson" created="Thu, 17 Jan 2013 03:16:14 +0000"  >&lt;p&gt;Integrated in HBase-TRUNK-on-Hadoop-2.0.0 #351 (See &lt;a href=&quot;https://builds.apache.org/job/HBase-TRUNK-on-Hadoop-2.0.0/351/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/HBase-TRUNK-on-Hadoop-2.0.0/351/&lt;/a&gt;)&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-7581&quot; title=&quot;TestAccessController depends on the execution order&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-7581&quot;&gt;&lt;del&gt;HBASE-7581&lt;/del&gt;&lt;/a&gt; TestAccessController depends on the execution order (Revision 1434057)&lt;/p&gt;

&lt;p&gt;     Result = FAILURE&lt;br/&gt;
nkeywal : &lt;br/&gt;
Files : &lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hbase/trunk/hbase-server/src/main/java/org/apache/hadoop/hbase/client/RetriesExhaustedException.java&lt;/li&gt;
	&lt;li&gt;/hbase/trunk/hbase-server/src/test/java/org/apache/hadoop/hbase/security/access/TestAccessController.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13561712" author="hudson" created="Thu, 24 Jan 2013 16:04:47 +0000"  >&lt;p&gt;Integrated in HBase-0.94-security #96 (See &lt;a href=&quot;https://builds.apache.org/job/HBase-0.94-security/96/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/HBase-0.94-security/96/&lt;/a&gt;)&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-7581&quot; title=&quot;TestAccessController depends on the execution order&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-7581&quot;&gt;&lt;del&gt;HBASE-7581&lt;/del&gt;&lt;/a&gt;. TestAccessController depends on the execution order (nkeywal) (Revision 1434098)&lt;/p&gt;

&lt;p&gt;     Result = FAILURE&lt;br/&gt;
apurtell : &lt;br/&gt;
Files : &lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hbase/branches/0.94/security/src/test/java/org/apache/hadoop/hbase/security/access/TestAccessController.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13570943" author="hudson" created="Tue, 5 Feb 2013 03:58:17 +0000"  >&lt;p&gt;Integrated in HBase-0.94-security-on-Hadoop-23 #11 (See &lt;a href=&quot;https://builds.apache.org/job/HBase-0.94-security-on-Hadoop-23/11/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/HBase-0.94-security-on-Hadoop-23/11/&lt;/a&gt;)&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/HBASE-7581&quot; title=&quot;TestAccessController depends on the execution order&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HBASE-7581&quot;&gt;&lt;del&gt;HBASE-7581&lt;/del&gt;&lt;/a&gt;. TestAccessController depends on the execution order (nkeywal) (Revision 1434098)&lt;/p&gt;

&lt;p&gt;     Result = FAILURE&lt;br/&gt;
apurtell : &lt;br/&gt;
Files : &lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hbase/branches/0.94/security/src/test/java/org/apache/hadoop/hbase/security/access/TestAccessController.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13597841" author="lhofhansl" created="Sat, 9 Mar 2013 04:36:02 +0000"  >&lt;p&gt;Do we know how/why this happened? We just ran into this in a real cluster (we did bulk load some data)&lt;br/&gt;
Surely the answer is not to disable and re-enable the table...?&lt;/p&gt;</comment>
                            <comment id="13597890" author="apurtell" created="Sat, 9 Mar 2013 09:27:48 +0000"  >&lt;p&gt;Ping &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=toffer&quot; class=&quot;user-hover&quot; rel=&quot;toffer&quot;&gt;Francis Liu&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="13598117" author="lhofhansl" created="Sun, 10 Mar 2013 00:30:22 +0000"  >&lt;p&gt;Specifically, I think we pasted over an actual bug here.&lt;/p&gt;</comment>
                            <comment id="13599532" author="toffer" created="Tue, 12 Mar 2013 00:34:28 +0000"  >&lt;p&gt;Just saw the ping. Will take look in a bit.&lt;/p&gt;</comment>
                            <comment id="13600237" author="toffer" created="Tue, 12 Mar 2013 17:45:16 +0000"  >&lt;p&gt;This sounds like the RS had trouble reading HFile metadata. Not sure how secure bulk load could corrupt metadata as all it does is move the files one extra time (and that does not move/rewrite blocks). It could be in the bulk load code itself. Will have to take a closer look.&lt;/p&gt;</comment>
                            <comment id="13600356" author="lhofhansl" created="Tue, 12 Mar 2013 19:11:08 +0000"  >&lt;p&gt;Yeah, I do not think this is related to secure bulk load specifically (we&apos;ve been seeing this in non-secure bulk load as well).&lt;br/&gt;
Somehow we managed to generate an invalid HFile or got HBase in a state where it did not read the metadata, and somehow that is fixed by disabling and re-enabling the table.&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="12310000">
                    <name>Duplicate</name>
                                                                <inwardlinks description="is duplicated by">
                                        <issuelink>
            <issuekey id="12627824">HBASE-7580</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                            <issuelinktype id="12310040">
                    <name>Required</name>
                                                                <inwardlinks description="is required by">
                                        <issuelink>
            <issuekey id="12627622">HBASE-7574</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="12565139" name="7581.v1.patch" size="2844" author="nkeywal" created="Wed, 16 Jan 2013 16:29:34 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Wed, 16 Jan 2013 15:06:32 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>304618</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            3 years, 38 weeks, 3 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i17nq7:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>252813</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        </customfields>
    </item>
</channel>
</rss>