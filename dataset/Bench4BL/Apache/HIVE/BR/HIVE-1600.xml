<!-- 
RSS generated by JIRA (6.3.4#6332-sha1:51bc225ef474afe3128b2f66878477f322397b16) at Sat Dec 03 00:15:58 UTC 2016

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary add field=key&field=summary to the URL of your request.
For example:
https://issues.apache.org/jira/si/jira.issueviews:issue-xml/HIVE-1600/HIVE-1600.xml?field=key&amp;field=summary
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>6.3.4</version>
        <build-number>6332</build-number>
        <build-date>15-08-2014</build-date>
    </build-info>

<item>
            <title>[HIVE-1600] need to sort hook input/output lists for test result determinism</title>
                <link>https://issues.apache.org/jira/browse/HIVE-1600</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;Begin forwarded message:&lt;/p&gt;

&lt;p&gt;From: Ning Zhang &amp;lt;nzhang@facebook.com&amp;gt;&lt;br/&gt;
Date: August 26, 2010 2:47:26 PM PDT&lt;br/&gt;
To: John Sichi &amp;lt;jsichi@facebook.com&amp;gt;&lt;br/&gt;
Cc: &quot;hive-dev@hadoop.apache.org&quot; &amp;lt;hive-dev@hadoop.apache.org&amp;gt;&lt;br/&gt;
Subject: Re: failure in load_dyn_part1.q&lt;/p&gt;

&lt;p&gt;Yes I saw this error before but if it does not repro. So it&apos;s probably an ordering issue in POSTHOOK. &lt;/p&gt;

&lt;p&gt;On Aug 26, 2010, at 2:39 PM, John Sichi wrote:&lt;/p&gt;

&lt;p&gt;I&apos;m seeing this failure due to a result diff when running tests on latest trunk:&lt;/p&gt;

&lt;p&gt;POSTHOOK: Input: default@srcpart@ds=2008-04-08/hr=12&lt;br/&gt;
POSTHOOK: Input: default@srcpart@ds=2008-04-09/hr=11&lt;br/&gt;
POSTHOOK: Input: default@srcpart@ds=2008-04-09/hr=12&lt;br/&gt;
-POSTHOOK: Output: default@nzhang_part2@ds=2008-12-31/hr=11&lt;br/&gt;
-POSTHOOK: Output: default@nzhang_part2@ds=2008-12-31/hr=12&lt;br/&gt;
POSTHOOK: Output: default@nzhang_part1@ds=2008-04-08/hr=11&lt;br/&gt;
POSTHOOK: Output: default@nzhang_part1@ds=2008-04-08/hr=12&lt;br/&gt;
+POSTHOOK: Output: default@nzhang_part2@ds=2008-12-31/hr=11&lt;br/&gt;
+POSTHOOK: Output: default@nzhang_part2@ds=2008-12-31/hr=12&lt;/p&gt;

&lt;p&gt;Did something change recently?  Or are we missing a Java-level sort on the input/output list for determinism?&lt;/p&gt;

&lt;p&gt;JVS&lt;/p&gt;
</description>
                <environment></environment>
        <key id="12472649">HIVE-1600</key>
            <summary>need to sort hook input/output lists for test result determinism</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/bug.png">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.png">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="jvs">John Sichi</assignee>
                                    <reporter username="jvs">John Sichi</reporter>
                        <labels>
                    </labels>
                <created>Thu, 26 Aug 2010 21:53:35 +0000</created>
                <updated>Fri, 16 Dec 2011 23:59:32 +0000</updated>
                            <resolved>Sun, 29 Aug 2010 06:54:46 +0000</resolved>
                                    <version>0.6.0</version>
                                    <fixVersion>0.7.0</fixVersion>
                                    <component>Testing Infrastructure</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                <comments>
                            <comment id="12903129" author="jvs" created="Thu, 26 Aug 2010 22:57:07 +0000"  >&lt;p&gt;There are going to be a bunch of one-time .q.out updates associated with this in order to bring everything into line.&lt;/p&gt;</comment>
                            <comment id="12903179" author="jvs" created="Fri, 27 Aug 2010 01:42:55 +0000"  >&lt;p&gt;Patch file of code only; still working on regenerating test logs.&lt;/p&gt;</comment>
                            <comment id="12903182" author="namit" created="Fri, 27 Aug 2010 02:03:20 +0000"  >&lt;p&gt;Do you want to make inputs and outputs in BaseSemanticAnalyzer to SortedSet/TreeSet instead ?&lt;br/&gt;
This way we can be deterministic across all hooks.&lt;/p&gt;</comment>
                            <comment id="12903183" author="jvs" created="Fri, 27 Aug 2010 02:03:27 +0000"  >&lt;p&gt;Blocked on &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-1601&quot; title=&quot;Hadoop 0.17 ant test broken by HIVE-1523&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-1601&quot;&gt;&lt;del&gt;HIVE-1601&lt;/del&gt;&lt;/a&gt; for regenerating 0.17 test output.&lt;/p&gt;</comment>
                            <comment id="12903554" author="jvs" created="Fri, 27 Aug 2010 19:27:22 +0000"  >&lt;p&gt;Will do.  I&apos;ll keep the sorting during rendering (even though it will be redundant) as well since there&apos;s no formal contract regarding sorting in the hook interface.&lt;/p&gt;</comment>
                            <comment id="12903580" author="jvs" created="Fri, 27 Aug 2010 20:04:52 +0000"  >&lt;p&gt;Actually it&apos;s a pain to change that since a lot of places are already passing around HashSet.  So I&apos;m going to leave that for a followup since the point of this patch is to fix the sporadic failures which are hindering testing of other patches.&lt;/p&gt;</comment>
                            <comment id="12903605" author="namit" created="Fri, 27 Aug 2010 20:36:55 +0000"  >&lt;p&gt;ok&lt;/p&gt;</comment>
                            <comment id="12903723" author="jvs" created="Sat, 28 Aug 2010 00:02:07 +0000"  >&lt;p&gt;Still running through tests on this one.&lt;/p&gt;</comment>
                            <comment id="12903756" author="jvs" created="Sat, 28 Aug 2010 01:32:27 +0000"  >&lt;p&gt;Tests passed.&lt;/p&gt;</comment>
                            <comment id="12903841" author="namit" created="Sat, 28 Aug 2010 16:07:52 +0000"  >&lt;p&gt;+1&lt;/p&gt;</comment>
                            <comment id="12903941" author="namit" created="Sun, 29 Aug 2010 06:54:46 +0000"  >&lt;p&gt;Committed. Thanks John&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10032">
                    <name>Blocker</name>
                                                                <inwardlinks description="is blocked by">
                                        <issuelink>
            <issuekey id="12472665">HIVE-1601</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="12453198" name="HIVE-1600.1.patch" size="2189" author="jvs" created="Fri, 27 Aug 2010 01:42:55 +0000"/>
                            <attachment id="12453321" name="HIVE-1600.2.patch" size="1080825" author="jvs" created="Sat, 28 Aug 2010 00:02:06 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>2.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Fri, 27 Aug 2010 02:03:20 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>72821</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310191" key="com.atlassian.jira.plugin.system.customfieldtypes:multicheckboxes">
                        <customfieldname>Hadoop Flags</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10343"><![CDATA[Reviewed]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            6 years, 14 weeks, 5 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0lfwv:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>123228</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        </customfields>
    </item>
</channel>
</rss>