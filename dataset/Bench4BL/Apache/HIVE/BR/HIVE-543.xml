<!-- 
RSS generated by JIRA (6.3.4#6332-sha1:51bc225ef474afe3128b2f66878477f322397b16) at Sun Dec 04 00:22:01 UTC 2016

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary add field=key&field=summary to the URL of your request.
For example:
https://issues.apache.org/jira/si/jira.issueviews:issue-xml/HIVE-543/HIVE-543.xml?field=key&amp;field=summary
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>6.3.4</version>
        <build-number>6332</build-number>
        <build-date>15-08-2014</build-date>
    </build-info>

<item>
            <title>[HIVE-543] provide option to run hive in local mode</title>
                <link>https://issues.apache.org/jira/browse/HIVE-543</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;this is a little bit more than just mapred.job.tracker=local&lt;/p&gt;

&lt;p&gt;when run in this mode - multiple jobs are an issue since writing to same tmp directories is an issue. the following options:&lt;/p&gt;

&lt;p&gt;hadoop.tmp.dir&lt;br/&gt;
mapred.local.dir&lt;/p&gt;

&lt;p&gt;need to be randomized (perhaps based on queryid). &lt;/p&gt;</description>
                <environment></environment>
        <key id="12427161">HIVE-543</key>
            <summary>provide option to run hive in local mode</summary>
                <type id="4" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/improvement.png">Improvement</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.png">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="jsensarma">Joydeep Sen Sarma</assignee>
                                    <reporter username="jsensarma">Joydeep Sen Sarma</reporter>
                        <labels>
                    </labels>
                <created>Thu, 4 Jun 2009 22:59:42 +0000</created>
                <updated>Sat, 17 Dec 2011 00:03:38 +0000</updated>
                            <resolved>Thu, 17 Jun 2010 18:39:32 +0000</resolved>
                                    <version>0.5.0</version>
                                    <fixVersion>0.6.0</fixVersion>
                                    <component>Query Processor</component>
                        <due></due>
                            <votes>2</votes>
                                    <watches>2</watches>
                                                                <comments>
                            <comment id="12716449" author="jsensarma" created="Thu, 4 Jun 2009 23:00:18 +0000"  >&lt;p&gt;currently the local mode prints a lot of goop that needs to be fixed.&lt;/p&gt;</comment>
                            <comment id="12877695" author="jsensarma" created="Fri, 11 Jun 2010 02:52:25 +0000"  >&lt;p&gt;a few fixes for better local mode execution:&lt;/p&gt;
&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;provide alternate log4j file configuration for capturing local mode execution log (and default to hive log4j if none provided). this cleans up the goop on the cli but allows captuing execution time logs in a separate location if desired&lt;/li&gt;
	&lt;li&gt;bypass distributed cache for local mode submissions. saves on hdfs time&lt;/li&gt;
	&lt;li&gt;some cleanup on the set/get MapRedWork code path. it seems to have been messed up after the parallel execution changes&lt;/li&gt;
	&lt;li&gt;getMRScratchDir - now returns a local scratch dir when executing in local mode. so we don&apos;t hit hdfs unnecessarily in local mode.&lt;/li&gt;
	&lt;li&gt;fix to fileutils.makequalified because of the above. there was a subtle bug in this that was causing file paths to get messed up when using local paths for interemediate data&lt;/li&gt;
	&lt;li&gt;bypassed query plan serialization/deserialization except for test mode. from past experience - xml serialization/deserialization is pretty expensive and makes no sense to subject every query to it.&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="12877696" author="jsensarma" created="Fri, 11 Jun 2010 02:57:09 +0000"  >&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;mapred.job.tracker=local continues to be the way to setup hive local mode.&lt;/li&gt;
	&lt;li&gt;admins can provide appropriate mapred.local.dir and mapred.system.dir settings for hive clients (for local mode execution). they can do this either via hive configuration files or via hadoop client-side-only configuration files. for regular cluster jobs - these are controlled by hadoop server side configuration files.&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;some of the cleanups regarding randomizing local/system directories etc. for concurrent queries were already in place (via hive-77).&lt;/p&gt;</comment>
                            <comment id="12877741" author="jsensarma" created="Fri, 11 Jun 2010 07:12:54 +0000"  >&lt;p&gt;log jobconf parameters from child jvm in local mode. emulates the fact that we can look at job.xml from TT/JT.&lt;/p&gt;</comment>
                            <comment id="12879002" author="namit" created="Tue, 15 Jun 2010 15:30:18 +0000"  >&lt;p&gt;Some minor comments:&lt;/p&gt;

&lt;p&gt;1. Do you want to add a parameter for specifying the local directory ?&lt;br/&gt;
2. Not sure about the removal of synchronization around gWorkMap - let us go over it offline.&lt;br/&gt;
3. Need to see in more detail - why did the output change for only 2 join tests&lt;/p&gt;</comment>
                            <comment id="12879039" author="jsensarma" created="Tue, 15 Jun 2010 17:37:24 +0000"  >&lt;p&gt;#2 - this piece of code got quite messed up because of the changes because of parallel execution (hive-549). the initial synchronized block protected access to a single global variable. this was replaced by a synchronized map (gWorkMap) - but the surrounding synchronized block was never taken out (it&apos;s now unnecessary because of the synchronized map). also the (gWork==null) check inside the synchronized section was redundant (it made sense when there was a singleton pattern - but with the synchronized map doesn&apos;t make sense).&lt;/p&gt;

&lt;p&gt;#1- don&apos;t understand this. there&apos;s already a hadoop parameter (mapred.local.dir) for specifying local scratch directory. i didn&apos;t add any new parameters as far as hive scratch directories are concerned .. is the concern about automatically selecting local intermediate directory for local mode execution? - that should be ok.&lt;/p&gt;

&lt;p&gt;#3 - mystery to me as well. the ordering of the output lines has changed (not the content). the diff script is not able to ignore these changes.&lt;/p&gt;</comment>
                            <comment id="12879882" author="namit" created="Thu, 17 Jun 2010 18:39:32 +0000"  >&lt;p&gt;Committed. Thanks Joy&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10032">
                    <name>Blocker</name>
                                                                <inwardlinks description="is blocked by">
                                        <issuelink>
            <issuekey id="12409528">HIVE-88</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                            <issuelinktype id="12310000">
                    <name>Duplicate</name>
                                            <outwardlinks description="duplicates">
                                        <issuelink>
            <issuekey id="12409528">HIVE-88</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="12446846" name="hive-534.patch.2" size="71537" author="jsensarma" created="Fri, 11 Jun 2010 07:12:54 +0000"/>
                            <attachment id="12446834" name="hive-543.patch.1" size="69069" author="jsensarma" created="Fri, 11 Jun 2010 02:52:25 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>2.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Tue, 15 Jun 2010 15:30:18 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>73455</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310191" key="com.atlassian.jira.plugin.system.customfieldtypes:multicheckboxes">
                        <customfieldname>Hadoop Flags</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10343"><![CDATA[Reviewed]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            6 years, 25 weeks, 2 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0laen:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>122336</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        </customfields>
    </item>
</channel>
</rss>