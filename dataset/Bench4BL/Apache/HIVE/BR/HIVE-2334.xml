<!-- 
RSS generated by JIRA (6.3.4#6332-sha1:51bc225ef474afe3128b2f66878477f322397b16) at Sat Dec 03 00:59:26 UTC 2016

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary add field=key&field=summary to the URL of your request.
For example:
https://issues.apache.org/jira/si/jira.issueviews:issue-xml/HIVE-2334/HIVE-2334.xml?field=key&amp;field=summary
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>6.3.4</version>
        <build-number>6332</build-number>
        <build-date>15-08-2014</build-date>
    </build-info>

<item>
            <title>[HIVE-2334] DESCRIBE TABLE causes NPE when hive.cli.print.header=true</title>
                <link>https://issues.apache.org/jira/browse/HIVE-2334</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description></description>
                <environment></environment>
        <key id="12517708">HIVE-2334</key>
            <summary>DESCRIBE TABLE causes NPE when hive.cli.print.header=true</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/bug.png">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.png">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="jghoman">Jakob Homan</assignee>
                                    <reporter username="cwsteinbach">Carl Steinbach</reporter>
                        <labels>
                    </labels>
                <created>Tue, 2 Aug 2011 21:57:29 +0000</created>
                <updated>Fri, 16 Dec 2011 23:57:13 +0000</updated>
                            <resolved>Fri, 19 Aug 2011 18:55:57 +0000</resolved>
                                    <version>0.7.1</version>
                                    <fixVersion>0.8.0</fixVersion>
                                    <component>CLI</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                <comments>
                            <comment id="13078460" author="cwsteinbach" created="Tue, 2 Aug 2011 21:58:44 +0000"  >&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;hive&amp;gt; use default;
OK
hive&amp;gt; set hive.cli.print.header=true;
OK
hive&amp;gt; use default;
11/08/02 14:52:29 INFO ql.Driver: OK
Exception in thread &quot;main&quot; java.lang.NullPointerException
	at org.apache.hadoop.hive.cli.CliDriver.processCmd(CliDriver.java:176)
	at org.apache.hadoop.hive.cli.CliDriver.processLine(CliDriver.java:241)
	at org.apache.hadoop.hive.cli.CliDriver.main(CliDriver.java:456)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)
	at java.lang.reflect.Method.invoke(Method.java:597)
	at org.apache.hadoop.util.RunJar.main(RunJar.java:156)
%
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</comment>
                            <comment id="13079721" author="jghoman" created="Fri, 5 Aug 2011 01:16:26 +0000"  >&lt;p&gt;Patch to fix issue.  The problem was that some commands, such as &lt;tt&gt;use default&lt;/tt&gt; do not have an associated schema with them from the query processor, but this is expected in the header printing code.  It&apos;s questionable if the QP should return a schema object with two null fields, but that should be addressed in another issue.&lt;/p&gt;

&lt;p&gt;After patch:&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;hive&amp;gt; use default;
OK
Time taken: 4.013 seconds
hive&amp;gt; set hive.cli.print.header=true;
hive&amp;gt; use default;
OK
Time taken: 0.0090 seconds
hive&amp;gt;&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;The actual fix is simple, but a bit of refactoring was necessary to test it.  I normally wouldn&apos;t want to include such refactoring in a bug fix, but this class is ripe for it and the refactorings are a good first step.  The check this via an actual unit test, mockito is introduced, as was also the case in &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2171&quot; title=&quot;Allow custom serdes to set field comments&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2171&quot;&gt;&lt;del&gt;HIVE-2171&lt;/del&gt;&lt;/a&gt;; whichever goes in last will need to be updated to remove the new library.&lt;/p&gt;

&lt;p&gt;The patch is on trunk.  I can generate one for 7.1 if requested.&lt;/p&gt;</comment>
                            <comment id="13079728" author="jiraposter@reviews.apache.org" created="Fri, 5 Aug 2011 01:22:26 +0000"  >
&lt;p&gt;-----------------------------------------------------------&lt;br/&gt;
This is an automatically generated e-mail. To reply, visit:&lt;br/&gt;
&lt;a href=&quot;https://reviews.apache.org/r/1300/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.apache.org/r/1300/&lt;/a&gt;&lt;br/&gt;
-----------------------------------------------------------&lt;/p&gt;

&lt;p&gt;Review request for hive.&lt;/p&gt;


&lt;p&gt;Summary&lt;br/&gt;
-------&lt;/p&gt;

&lt;p&gt;Commands that don&apos;t return a schema cause NPE when print headers is on.&lt;/p&gt;


&lt;p&gt;This addresses bug &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2334&quot; title=&quot;DESCRIBE TABLE causes NPE when hive.cli.print.header=true&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2334&quot;&gt;&lt;del&gt;HIVE-2334&lt;/del&gt;&lt;/a&gt;.&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2334&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/browse/HIVE-2334&lt;/a&gt;&lt;/p&gt;


&lt;p&gt;Diffs&lt;/p&gt;
&lt;hr /&gt;

&lt;p&gt;  cli/src/java/org/apache/hadoop/hive/cli/CliDriver.java 9fa7bc6 &lt;br/&gt;
  cli/src/test/org/apache/hadoop/hive/cli/TestCliDriverMethods.java PRE-CREATION &lt;br/&gt;
  ivy/libraries.properties af856bd &lt;/p&gt;

&lt;p&gt;Diff: &lt;a href=&quot;https://reviews.apache.org/r/1300/diff&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.apache.org/r/1300/diff&lt;/a&gt;&lt;/p&gt;


&lt;p&gt;Testing&lt;br/&gt;
-------&lt;/p&gt;

&lt;p&gt;New unit tests (both positive and negative) and verification on manual cluster.&lt;/p&gt;


&lt;p&gt;Thanks,&lt;/p&gt;

&lt;p&gt;Jakob&lt;/p&gt;
</comment>
                            <comment id="13080175" author="jghoman" created="Fri, 5 Aug 2011 19:46:18 +0000"  >&lt;p&gt;Ran full test suite.  All pass (two failures in full suite, but can&apos;t reproduce after repeated runs - one in TestHBaseCliDriver and one for skewjoin.q).  Patch is ready for review.&lt;/p&gt;</comment>
                            <comment id="13080205" author="jiraposter@reviews.apache.org" created="Fri, 5 Aug 2011 20:38:29 +0000"  >
&lt;p&gt;-----------------------------------------------------------&lt;br/&gt;
This is an automatically generated e-mail. To reply, visit:&lt;br/&gt;
&lt;a href=&quot;https://reviews.apache.org/r/1300/#review1308&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.apache.org/r/1300/#review1308&lt;/a&gt;&lt;br/&gt;
-----------------------------------------------------------&lt;/p&gt;



&lt;p&gt;cli/src/java/org/apache/hadoop/hive/cli/CliDriver.java&lt;br/&gt;
&amp;lt;&lt;a href=&quot;https://reviews.apache.org/r/1300/#comment2967&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.apache.org/r/1300/#comment2967&lt;/a&gt;&amp;gt;&lt;/p&gt;

&lt;p&gt;    Might want to consider using StringTokenizer or StreamTokenizer here.&lt;/p&gt;



&lt;p&gt;cli/src/test/org/apache/hadoop/hive/cli/TestCliDriverMethods.java&lt;br/&gt;
&amp;lt;&lt;a href=&quot;https://reviews.apache.org/r/1300/#comment2963&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.apache.org/r/1300/#comment2963&lt;/a&gt;&amp;gt;&lt;/p&gt;

&lt;p&gt;    cli/build.xml overrides the ant test target with a no-op, so this test is actually not getting run.&lt;/p&gt;



&lt;p&gt;cli/src/test/org/apache/hadoop/hive/cli/TestCliDriverMethods.java&lt;br/&gt;
&amp;lt;&lt;a href=&quot;https://reviews.apache.org/r/1300/#comment2964&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.apache.org/r/1300/#comment2964&lt;/a&gt;&amp;gt;&lt;/p&gt;

&lt;p&gt;    Wildcard imports violate the checkstyle guidelines.&lt;/p&gt;



&lt;p&gt;cli/src/test/org/apache/hadoop/hive/cli/TestCliDriverMethods.java&lt;br/&gt;
&amp;lt;&lt;a href=&quot;https://reviews.apache.org/r/1300/#comment2965&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.apache.org/r/1300/#comment2965&lt;/a&gt;&amp;gt;&lt;/p&gt;

&lt;p&gt;    There&apos;s already some very limited test coverage for the hive.cli.print.header feature in print_header.q. Why not extend this testcase instead of adding a new unit test?&lt;/p&gt;



&lt;p&gt;ivy/libraries.properties&lt;br/&gt;
&amp;lt;&lt;a href=&quot;https://reviews.apache.org/r/1300/#comment2966&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.apache.org/r/1300/#comment2966&lt;/a&gt;&amp;gt;&lt;/p&gt;

&lt;p&gt;    We need to manage this dependency with Ivy. The Hive build currently runs against hadoop-0.20.1, which does not include mockito-all-1.8.2.jar&lt;/p&gt;


&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;Carl&lt;/li&gt;
&lt;/ul&gt;



&lt;p&gt;On 2011-08-05 01:22:01, Jakob Homan wrote:&lt;/p&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;-----------------------------------------------------------&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;This is an automatically generated e-mail. To reply, visit:&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;a href=&quot;https://reviews.apache.org/r/1300/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.apache.org/r/1300/&lt;/a&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;-----------------------------------------------------------&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;(Updated 2011-08-05 01:22:01)&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;Review request for hive.&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;Summary&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;-------&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;Commands that don&apos;t return a schema cause NPE when print headers is on.&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;This addresses bug &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2334&quot; title=&quot;DESCRIBE TABLE causes NPE when hive.cli.print.header=true&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2334&quot;&gt;&lt;del&gt;HIVE-2334&lt;/del&gt;&lt;/a&gt;.&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2334&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/browse/HIVE-2334&lt;/a&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;Diffs&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;-----&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;cli/src/java/org/apache/hadoop/hive/cli/CliDriver.java 9fa7bc6 &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;cli/src/test/org/apache/hadoop/hive/cli/TestCliDriverMethods.java PRE-CREATION &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;ivy/libraries.properties af856bd &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;Diff: &lt;a href=&quot;https://reviews.apache.org/r/1300/diff&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.apache.org/r/1300/diff&lt;/a&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;Testing&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;-------&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;New unit tests (both positive and negative) and verification on manual cluster.&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;Thanks,&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;Jakob&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
</comment>
                            <comment id="13080217" author="jiraposter@reviews.apache.org" created="Fri, 5 Aug 2011 20:50:27 +0000"  >

&lt;blockquote&gt;&lt;p&gt;On 2011-08-05 20:38:11, Carl Steinbach wrote:&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&amp;gt; cli/src/java/org/apache/hadoop/hive/cli/CliDriver.java, line 235&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&amp;gt; &amp;lt;&lt;a href=&quot;https://reviews.apache.org/r/1300/diff/1/?file=30859#file30859line235&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.apache.org/r/1300/diff/1/?file=30859#file30859line235&lt;/a&gt;&amp;gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&amp;gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&amp;gt;     Might want to consider using StringTokenizer or StreamTokenizer here.&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;This is how it was in the original code.  All of this can actually be done quite a bit better.  I&apos;m happy to switch to tokenizer; the patch is a bit schizophrenic about refactoring/improving.  I didn&apos;t change this since it&apos;s not directly related to what I was trying to test.&lt;/p&gt;


&lt;blockquote&gt;&lt;p&gt;On 2011-08-05 20:38:11, Carl Steinbach wrote:&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&amp;gt; cli/src/test/org/apache/hadoop/hive/cli/TestCliDriverMethods.java, line 37&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&amp;gt; &amp;lt;&lt;a href=&quot;https://reviews.apache.org/r/1300/diff/1/?file=30860#file30860line37&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.apache.org/r/1300/diff/1/?file=30860#file30860line37&lt;/a&gt;&amp;gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&amp;gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&amp;gt;     There&apos;s already some very limited test coverage for the hive.cli.print.header feature in print_header.q. Why not extend this testcase instead of adding a new unit test?&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;Because this is an actual unit test against a specific regression, which has value separate from the print_header.q integration test.  I can add additional content to print_header.q, since this test is easier to identify what&apos;s gone wrong and runs in about 0.2 seconds, this one seems more useful.  &lt;/p&gt;


&lt;blockquote&gt;&lt;p&gt;On 2011-08-05 20:38:11, Carl Steinbach wrote:&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&amp;gt; ivy/libraries.properties, line 47&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&amp;gt; &amp;lt;&lt;a href=&quot;https://reviews.apache.org/r/1300/diff/1/?file=30861#file30861line47&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.apache.org/r/1300/diff/1/?file=30861#file30861line47&lt;/a&gt;&amp;gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&amp;gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&amp;gt;     We need to manage this dependency with Ivy. The Hive build currently runs against hadoop-0.20.1, which does not include mockito-all-1.8.2.jar&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;I&apos;m sorry; I don&apos;t understand.  This is being brought in by Ivy?  As part of &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2171&quot; title=&quot;Allow custom serdes to set field comments&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2171&quot;&gt;&lt;del&gt;HIVE-2171&lt;/del&gt;&lt;/a&gt;, I had mentioned we need to make sure testing related jars don&apos;t get included during binary/package, but that should be done in a different JIRA.&lt;/p&gt;


&lt;blockquote&gt;&lt;p&gt;On 2011-08-05 20:38:11, Carl Steinbach wrote:&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&amp;gt; cli/src/test/org/apache/hadoop/hive/cli/TestCliDriverMethods.java, line 1&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&amp;gt; &amp;lt;&lt;a href=&quot;https://reviews.apache.org/r/1300/diff/1/?file=30860#file30860line1&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.apache.org/r/1300/diff/1/?file=30860#file30860line1&lt;/a&gt;&amp;gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&amp;gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&amp;gt;     cli/build.xml overrides the ant test target with a no-op, so this test is actually not getting run.&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;I&apos;ll update cli/build.xml to not be a no-op, unless there&apos;s some reason to?&lt;/p&gt;


&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;Jakob&lt;/li&gt;
&lt;/ul&gt;



&lt;p&gt;-----------------------------------------------------------&lt;br/&gt;
This is an automatically generated e-mail. To reply, visit:&lt;br/&gt;
&lt;a href=&quot;https://reviews.apache.org/r/1300/#review1308&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.apache.org/r/1300/#review1308&lt;/a&gt;&lt;br/&gt;
-----------------------------------------------------------&lt;/p&gt;


&lt;p&gt;On 2011-08-05 01:22:01, Jakob Homan wrote:&lt;/p&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;-----------------------------------------------------------&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;This is an automatically generated e-mail. To reply, visit:&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;a href=&quot;https://reviews.apache.org/r/1300/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.apache.org/r/1300/&lt;/a&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;-----------------------------------------------------------&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;(Updated 2011-08-05 01:22:01)&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;Review request for hive.&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;Summary&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;-------&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;Commands that don&apos;t return a schema cause NPE when print headers is on.&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;This addresses bug &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2334&quot; title=&quot;DESCRIBE TABLE causes NPE when hive.cli.print.header=true&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2334&quot;&gt;&lt;del&gt;HIVE-2334&lt;/del&gt;&lt;/a&gt;.&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2334&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/browse/HIVE-2334&lt;/a&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;Diffs&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;-----&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;cli/src/java/org/apache/hadoop/hive/cli/CliDriver.java 9fa7bc6 &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;cli/src/test/org/apache/hadoop/hive/cli/TestCliDriverMethods.java PRE-CREATION &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;ivy/libraries.properties af856bd &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;Diff: &lt;a href=&quot;https://reviews.apache.org/r/1300/diff&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.apache.org/r/1300/diff&lt;/a&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;Testing&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;-------&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;New unit tests (both positive and negative) and verification on manual cluster.&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;Thanks,&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;Jakob&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
</comment>
                            <comment id="13080228" author="jiraposter@reviews.apache.org" created="Fri, 5 Aug 2011 21:08:27 +0000"  >

&lt;blockquote&gt;&lt;p&gt;On 2011-08-05 20:38:11, Carl Steinbach wrote:&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&amp;gt; cli/src/test/org/apache/hadoop/hive/cli/TestCliDriverMethods.java, line 1&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&amp;gt; &amp;lt;&lt;a href=&quot;https://reviews.apache.org/r/1300/diff/1/?file=30860#file30860line1&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.apache.org/r/1300/diff/1/?file=30860#file30860line1&lt;/a&gt;&amp;gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&amp;gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&amp;gt;     cli/build.xml overrides the ant test target with a no-op, so this test is actually not getting run.&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;Jakob Homan wrote:&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;I&apos;ll update cli/build.xml to not be a no-op, unless there&apos;s some reason to?&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;Yup, it needs to be update, or your test will never get run. Inheriting the test target definition from build-common.xml is probably the best option if it works.&lt;/p&gt;


&lt;blockquote&gt;&lt;p&gt;On 2011-08-05 20:38:11, Carl Steinbach wrote:&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&amp;gt; ivy/libraries.properties, line 47&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&amp;gt; &amp;lt;&lt;a href=&quot;https://reviews.apache.org/r/1300/diff/1/?file=30861#file30861line47&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.apache.org/r/1300/diff/1/?file=30861#file30861line47&lt;/a&gt;&amp;gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&amp;gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&amp;gt;     We need to manage this dependency with Ivy. The Hive build currently runs against hadoop-0.20.1, which does not include mockito-all-1.8.2.jar&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;Jakob Homan wrote:&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;I&apos;m sorry; I don&apos;t understand.  This is being brought in by Ivy?  As part of &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2171&quot; title=&quot;Allow custom serdes to set field comments&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2171&quot;&gt;&lt;del&gt;HIVE-2171&lt;/del&gt;&lt;/a&gt;, I had mentioned we need to make sure testing related jars don&apos;t get included during binary/package, but that should be done in a different JIRA.&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;Right now the dependency on mockito is unsatisfied. I tried updating cli/build.xml to fix the test target problem and ended up getting a bunch of compilation errors since the mockito jar is not on the classpath.&lt;/p&gt;

&lt;blockquote&gt;&lt;p&gt;As part of &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2171&quot; title=&quot;Allow custom serdes to set field comments&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2171&quot;&gt;&lt;del&gt;HIVE-2171&lt;/del&gt;&lt;/a&gt;, I had mentioned we need to make sure testing related jars don&apos;t get included during binary/package, but that should be done in a different JIRA.&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;Ivy supports this behavior through the use of configurations. We need to add a &apos;test&apos; configuration to the root ivy.xml file:&lt;/p&gt;

&lt;p&gt;&amp;lt;conf name=&quot;test&quot; extends=&quot;compile&quot; visibility=&quot;private&quot;/&amp;gt;&lt;/p&gt;

&lt;p&gt;And then add mockito to the list of dependencies:&lt;/p&gt;

&lt;p&gt;&amp;lt;dependency org=&quot;org.mockito&quot; name=&quot;mockito-all&quot; rev=&quot;$&lt;/p&gt;
{mockito-all.version}
&lt;p&gt;&quot; conf=&quot;test-&amp;gt;default&quot;/&amp;gt;&lt;/p&gt;


&lt;blockquote&gt;&lt;p&gt;On 2011-08-05 20:38:11, Carl Steinbach wrote:&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&amp;gt; cli/src/test/org/apache/hadoop/hive/cli/TestCliDriverMethods.java, line 37&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&amp;gt; &amp;lt;&lt;a href=&quot;https://reviews.apache.org/r/1300/diff/1/?file=30860#file30860line37&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.apache.org/r/1300/diff/1/?file=30860#file30860line37&lt;/a&gt;&amp;gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&amp;gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&amp;gt;     There&apos;s already some very limited test coverage for the hive.cli.print.header feature in print_header.q. Why not extend this testcase instead of adding a new unit test?&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;Jakob Homan wrote:&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;Because this is an actual unit test against a specific regression, which has value separate from the print_header.q integration test.  I can add additional content to print_header.q, since this test is easier to identify what&apos;s gone wrong and runs in about 0.2 seconds, this one seems more useful.&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;Ok. Please update print_header.q with some additional tests.&lt;/p&gt;


&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;Carl&lt;/li&gt;
&lt;/ul&gt;



&lt;p&gt;-----------------------------------------------------------&lt;br/&gt;
This is an automatically generated e-mail. To reply, visit:&lt;br/&gt;
&lt;a href=&quot;https://reviews.apache.org/r/1300/#review1308&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.apache.org/r/1300/#review1308&lt;/a&gt;&lt;br/&gt;
-----------------------------------------------------------&lt;/p&gt;


&lt;p&gt;On 2011-08-05 01:22:01, Jakob Homan wrote:&lt;/p&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;-----------------------------------------------------------&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;This is an automatically generated e-mail. To reply, visit:&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;a href=&quot;https://reviews.apache.org/r/1300/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.apache.org/r/1300/&lt;/a&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;-----------------------------------------------------------&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;(Updated 2011-08-05 01:22:01)&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;Review request for hive.&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;Summary&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;-------&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;Commands that don&apos;t return a schema cause NPE when print headers is on.&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;This addresses bug &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2334&quot; title=&quot;DESCRIBE TABLE causes NPE when hive.cli.print.header=true&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2334&quot;&gt;&lt;del&gt;HIVE-2334&lt;/del&gt;&lt;/a&gt;.&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2334&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/browse/HIVE-2334&lt;/a&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;Diffs&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;-----&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;cli/src/java/org/apache/hadoop/hive/cli/CliDriver.java 9fa7bc6 &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;cli/src/test/org/apache/hadoop/hive/cli/TestCliDriverMethods.java PRE-CREATION &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;ivy/libraries.properties af856bd &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;Diff: &lt;a href=&quot;https://reviews.apache.org/r/1300/diff&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.apache.org/r/1300/diff&lt;/a&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;Testing&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;-------&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;New unit tests (both positive and negative) and verification on manual cluster.&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;Thanks,&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;Jakob&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
</comment>
                            <comment id="13081264" author="jghoman" created="Mon, 8 Aug 2011 22:39:07 +0000"  >&lt;p&gt;Updated patch to address Carl&apos;s comments.&lt;/p&gt;</comment>
                            <comment id="13081266" author="jiraposter@reviews.apache.org" created="Mon, 8 Aug 2011 22:42:27 +0000"  >
&lt;p&gt;-----------------------------------------------------------&lt;br/&gt;
This is an automatically generated e-mail. To reply, visit:&lt;br/&gt;
&lt;a href=&quot;https://reviews.apache.org/r/1300/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.apache.org/r/1300/&lt;/a&gt;&lt;br/&gt;
-----------------------------------------------------------&lt;/p&gt;

&lt;p&gt;(Updated 2011-08-08 22:42:22.232604)&lt;/p&gt;


&lt;p&gt;Review request for hive.&lt;/p&gt;


&lt;p&gt;Changes&lt;br/&gt;
-------&lt;/p&gt;

&lt;ul&gt;
	&lt;li&gt;Removed star imports in unit test.&lt;/li&gt;
	&lt;li&gt;Added test case to integration test.  Call to use default NPEs before patch, succeeds afterwards&lt;/li&gt;
	&lt;li&gt;Removed no-op from cli/build.xml to ensure test runs&lt;/li&gt;
	&lt;li&gt;Added mockito into cli&apos;s ivy.xml.  The top-level ivy.xml doesn&apos;t need changed since the ivy settings aren&apos;t inherited.&lt;/li&gt;
	&lt;li&gt;Didn&apos;t change the split call to tokenize, since it was as is in the original patch.  No need to introduce unnecessary changes.&lt;/li&gt;
&lt;/ul&gt;



&lt;p&gt;Summary&lt;br/&gt;
-------&lt;/p&gt;

&lt;p&gt;Commands that don&apos;t return a schema cause NPE when print headers is on.&lt;/p&gt;


&lt;p&gt;This addresses bug &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2334&quot; title=&quot;DESCRIBE TABLE causes NPE when hive.cli.print.header=true&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2334&quot;&gt;&lt;del&gt;HIVE-2334&lt;/del&gt;&lt;/a&gt;.&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2334&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/browse/HIVE-2334&lt;/a&gt;&lt;/p&gt;


&lt;p&gt;Diffs (updated)&lt;/p&gt;
&lt;hr /&gt;

&lt;p&gt;  cli/build.xml c174b22 &lt;br/&gt;
  cli/ivy.xml f272b91 &lt;br/&gt;
  cli/src/java/org/apache/hadoop/hive/cli/CliDriver.java 9fa7bc6 &lt;br/&gt;
  cli/src/test/org/apache/hadoop/hive/cli/TestCliDriverMethods.java PRE-CREATION &lt;br/&gt;
  ivy/libraries.properties af856bd &lt;br/&gt;
  ql/src/test/queries/clientpositive/print_header.q 96380ab &lt;br/&gt;
  ql/src/test/results/clientpositive/print_header.q.out e3946d7 &lt;/p&gt;

&lt;p&gt;Diff: &lt;a href=&quot;https://reviews.apache.org/r/1300/diff&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.apache.org/r/1300/diff&lt;/a&gt;&lt;/p&gt;


&lt;p&gt;Testing&lt;br/&gt;
-------&lt;/p&gt;

&lt;p&gt;New unit tests (both positive and negative) and verification on manual cluster.&lt;/p&gt;


&lt;p&gt;Thanks,&lt;/p&gt;

&lt;p&gt;Jakob&lt;/p&gt;
</comment>
                            <comment id="13085293" author="jghoman" created="Mon, 15 Aug 2011 20:04:25 +0000"  >&lt;p&gt;canceling patch due to trunk drift.&lt;/p&gt;</comment>
                            <comment id="13085296" author="jghoman" created="Mon, 15 Aug 2011 20:10:25 +0000"  >&lt;p&gt;New patch that merges cleanly after &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2171&quot; title=&quot;Allow custom serdes to set field comments&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2171&quot;&gt;&lt;del&gt;HIVE-2171&lt;/del&gt;&lt;/a&gt;.  Only change is to remove the inclusion of mockito into ivy, which was also done in the now-committed 2171.  Otherwise patch is the same.&lt;/p&gt;</comment>
                            <comment id="13085297" author="jghoman" created="Mon, 15 Aug 2011 20:10:39 +0000"  >&lt;p&gt;re-submitting for review.&lt;/p&gt;</comment>
                            <comment id="13085299" author="jiraposter@reviews.apache.org" created="Mon, 15 Aug 2011 20:13:27 +0000"  >
&lt;p&gt;-----------------------------------------------------------&lt;br/&gt;
This is an automatically generated e-mail. To reply, visit:&lt;br/&gt;
&lt;a href=&quot;https://reviews.apache.org/r/1300/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.apache.org/r/1300/&lt;/a&gt;&lt;br/&gt;
-----------------------------------------------------------&lt;/p&gt;

&lt;p&gt;(Updated 2011-08-15 20:12:23.939812)&lt;/p&gt;


&lt;p&gt;Review request for hive and Carl Steinbach.&lt;/p&gt;


&lt;p&gt;Changes&lt;br/&gt;
-------&lt;/p&gt;

&lt;p&gt;Updated diff now that &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2171&quot; title=&quot;Allow custom serdes to set field comments&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2171&quot;&gt;&lt;del&gt;HIVE-2171&lt;/del&gt;&lt;/a&gt; has been committed.  Removes inclusion of mockito, which was handled in the other JIRA.  Otherwise, no changes.&lt;/p&gt;


&lt;p&gt;Summary&lt;br/&gt;
-------&lt;/p&gt;

&lt;p&gt;Commands that don&apos;t return a schema cause NPE when print headers is on.&lt;/p&gt;


&lt;p&gt;This addresses bug &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2334&quot; title=&quot;DESCRIBE TABLE causes NPE when hive.cli.print.header=true&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2334&quot;&gt;&lt;del&gt;HIVE-2334&lt;/del&gt;&lt;/a&gt;.&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2334&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/browse/HIVE-2334&lt;/a&gt;&lt;/p&gt;


&lt;p&gt;Diffs (updated)&lt;/p&gt;
&lt;hr /&gt;

&lt;p&gt;  cli/build.xml c174b22 &lt;br/&gt;
  cli/ivy.xml f272b91 &lt;br/&gt;
  cli/src/java/org/apache/hadoop/hive/cli/CliDriver.java a2976b5 &lt;br/&gt;
  cli/src/test/org/apache/hadoop/hive/cli/TestCliDriverMethods.java PRE-CREATION &lt;br/&gt;
  ql/src/test/queries/clientpositive/print_header.q 96380ab &lt;br/&gt;
  ql/src/test/results/clientpositive/print_header.q.out e3946d7 &lt;/p&gt;

&lt;p&gt;Diff: &lt;a href=&quot;https://reviews.apache.org/r/1300/diff&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.apache.org/r/1300/diff&lt;/a&gt;&lt;/p&gt;


&lt;p&gt;Testing&lt;br/&gt;
-------&lt;/p&gt;

&lt;p&gt;New unit tests (both positive and negative) and verification on manual cluster.&lt;/p&gt;


&lt;p&gt;Thanks,&lt;/p&gt;

&lt;p&gt;Jakob&lt;/p&gt;
</comment>
                            <comment id="13087467" author="cwsteinbach" created="Fri, 19 Aug 2011 02:52:39 +0000"  >&lt;p&gt;+1. Will commit if tests pass.&lt;/p&gt;</comment>
                            <comment id="13087891" author="cwsteinbach" created="Fri, 19 Aug 2011 18:55:57 +0000"  >&lt;p&gt;Committed to trunk. Thanks Jakob!&lt;/p&gt;</comment>
                            <comment id="13088070" author="hudson" created="Fri, 19 Aug 2011 23:34:51 +0000"  >&lt;p&gt;Integrated in Hive-trunk-h0.21 #907 (See &lt;a href=&quot;https://builds.apache.org/job/Hive-trunk-h0.21/907/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/Hive-trunk-h0.21/907/&lt;/a&gt;)&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2334&quot; title=&quot;DESCRIBE TABLE causes NPE when hive.cli.print.header=true&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2334&quot;&gt;&lt;del&gt;HIVE-2334&lt;/del&gt;&lt;/a&gt;. DESCRIBE TABLE causes NPE when hive.cli.print.header=true (Jakob Homan via cws)&lt;/p&gt;

&lt;p&gt;cws : &lt;a href=&quot;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1159742&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1159742&lt;/a&gt;&lt;br/&gt;
Files : &lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hive/trunk/cli/src/test/org/apache&lt;/li&gt;
	&lt;li&gt;/hive/trunk/cli/src/test/org/apache/hadoop/hive/cli/TestCliDriverMethods.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/cli/src/test/org/apache/hadoop&lt;/li&gt;
	&lt;li&gt;/hive/trunk/cli/src/test&lt;/li&gt;
	&lt;li&gt;/hive/trunk/cli/src/java/org/apache/hadoop/hive/cli/CliDriver.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/queries/clientpositive/print_header.q&lt;/li&gt;
	&lt;li&gt;/hive/trunk/cli/ivy.xml&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/print_header.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/cli/src/test/org&lt;/li&gt;
	&lt;li&gt;/hive/trunk/cli/src/test/org/apache/hadoop/hive&lt;/li&gt;
	&lt;li&gt;/hive/trunk/cli/build.xml&lt;/li&gt;
	&lt;li&gt;/hive/trunk/cli/src/test/org/apache/hadoop/hive/cli&lt;/li&gt;
&lt;/ul&gt;
</comment>
                    </comments>
                    <attachments>
                            <attachment id="12489765" name="HIVE-2334-2.patch" size="16492" author="jghoman" created="Mon, 8 Aug 2011 22:39:07 +0000"/>
                            <attachment id="12490467" name="HIVE-2334-3.patch" size="16130" author="jghoman" created="Mon, 15 Aug 2011 20:10:25 +0000"/>
                            <attachment id="12489430" name="h2334.patch" size="12853" author="jghoman" created="Fri, 5 Aug 2011 01:16:26 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>3.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Fri, 5 Aug 2011 01:16:26 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>43500</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310191" key="com.atlassian.jira.plugin.system.customfieldtypes:multicheckboxes">
                        <customfieldname>Hadoop Flags</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10343"><![CDATA[Reviewed]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            5 years, 16 weeks ago
                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0ljjj:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>123816</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        </customfields>
    </item>
</channel>
</rss>