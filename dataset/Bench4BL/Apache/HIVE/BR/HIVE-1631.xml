<!-- 
RSS generated by JIRA (6.3.4#6332-sha1:51bc225ef474afe3128b2f66878477f322397b16) at Fri Dec 02 23:51:26 UTC 2016

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary add field=key&field=summary to the URL of your request.
For example:
https://issues.apache.org/jira/si/jira.issueviews:issue-xml/HIVE-1631/HIVE-1631.xml?field=key&amp;field=summary
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>6.3.4</version>
        <build-number>6332</build-number>
        <build-date>15-08-2014</build-date>
    </build-info>

<item>
            <title>[HIVE-1631] JDBC driver returns wrong precision, scale, or column size for some data types</title>
                <link>https://issues.apache.org/jira/browse/HIVE-1631</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;For some data types, these methods return values that do not conform to the JDBC spec:&lt;/p&gt;

&lt;p&gt;org.apache.hadoop.hive.jdbc.HiveResultSetMetaData.getPrecision(int)&lt;br/&gt;
org.apache.hadoop.hive.jdbc.HiveResultSetMetaData.getScale(int)&lt;br/&gt;
org.apache.hadoop.hive.jdbc.HiveResultSetMetaData.getColumnDisplaySize(int)&lt;br/&gt;
org.apache.hadoop.hive.jdbc.JdbcColumn.getColumnSize()&lt;/p&gt;</description>
                <environment></environment>
        <key id="12473884">HIVE-1631</key>
            <summary>JDBC driver returns wrong precision, scale, or column size for some data types</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/bug.png">Bug</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.png">Minor</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="phunt">Patrick Hunt</assignee>
                                    <reporter username="slider">Steven K. Wong</reporter>
                        <labels>
                    </labels>
                <created>Sat, 11 Sep 2010 00:44:19 +0000</created>
                <updated>Fri, 16 Dec 2011 23:55:38 +0000</updated>
                            <resolved>Mon, 8 Aug 2011 17:42:45 +0000</resolved>
                                    <version>0.7.0</version>
                                    <fixVersion>0.8.0</fixVersion>
                                    <component>JDBC</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                                <comments>
                            <comment id="13073054" author="phunt" created="Fri, 29 Jul 2011 22:40:26 +0000"  >&lt;p&gt;This patch addresses the specified methods based on my reading of the spec. It&apos;s not at all clear to me that I&apos;ve interpreted the spec correctly, so please do chime in if you think something is wrong - for example: in my update Hive string columns have a size of Integer.MAX_VALUE given Hive has no bounds on length.&lt;/p&gt;

&lt;p&gt;This patch also fixes a problem with the metadata returned by &lt;/p&gt;

&lt;p&gt;DatabaseMetaData.getColumns(...).getMetaData()&lt;/p&gt;

&lt;p&gt;I updated the tests and also viewed the result of these changes via Squirrel&lt;/p&gt;
</comment>
                            <comment id="13073060" author="jiraposter@reviews.apache.org" created="Fri, 29 Jul 2011 22:44:10 +0000"  >
&lt;p&gt;-----------------------------------------------------------&lt;br/&gt;
This is an automatically generated e-mail. To reply, visit:&lt;br/&gt;
&lt;a href=&quot;https://reviews.apache.org/r/1226/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.apache.org/r/1226/&lt;/a&gt;&lt;br/&gt;
-----------------------------------------------------------&lt;/p&gt;

&lt;p&gt;Review request for hive and Carl Steinbach.&lt;/p&gt;


&lt;p&gt;Summary&lt;br/&gt;
-------&lt;/p&gt;

&lt;p&gt;This patch addresses the specified methods based on my reading of the spec.&lt;/p&gt;

&lt;p&gt;It&apos;s not at all clear to me that I&apos;ve interpreted the spec correctly, so please do chime in if you think something is wrong - for example: in my update Hive string columns have a size of Integer.MAX_VALUE given Hive has no bounds on length. Also take a look at precision and size for float/double.&lt;/p&gt;

&lt;p&gt;This patch also fixes a problem with the metadata returned by DatabaseMetaData.getColumns(...).getMetaData()&lt;/p&gt;


&lt;p&gt;This addresses bug &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-1631&quot; title=&quot;JDBC driver returns wrong precision, scale, or column size for some data types&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-1631&quot;&gt;&lt;del&gt;HIVE-1631&lt;/del&gt;&lt;/a&gt;.&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-1631&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/browse/HIVE-1631&lt;/a&gt;&lt;/p&gt;


&lt;p&gt;Diffs&lt;/p&gt;
&lt;hr /&gt;

&lt;p&gt;  jdbc/src/java/org/apache/hadoop/hive/jdbc/HiveDatabaseMetaData.java 0e106be &lt;br/&gt;
  jdbc/src/java/org/apache/hadoop/hive/jdbc/HiveResultSetMetaData.java cf651b6 &lt;br/&gt;
  jdbc/src/java/org/apache/hadoop/hive/jdbc/JdbcColumn.java 9182744 &lt;br/&gt;
  jdbc/src/java/org/apache/hadoop/hive/jdbc/Utils.java PRE-CREATION &lt;br/&gt;
  jdbc/src/test/org/apache/hadoop/hive/jdbc/TestJdbcDriver.java 91af351 &lt;/p&gt;

&lt;p&gt;Diff: &lt;a href=&quot;https://reviews.apache.org/r/1226/diff&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.apache.org/r/1226/diff&lt;/a&gt;&lt;/p&gt;


&lt;p&gt;Testing&lt;br/&gt;
-------&lt;/p&gt;

&lt;p&gt;I updated the tests and also viewed the result of these changes via Squirrel&lt;/p&gt;


&lt;p&gt;Thanks,&lt;/p&gt;

&lt;p&gt;Patrick&lt;/p&gt;
</comment>
                            <comment id="13078424" author="cwsteinbach" created="Tue, 2 Aug 2011 20:50:39 +0000"  >&lt;p&gt;+1. Will commit if tests pass.&lt;/p&gt;</comment>
                            <comment id="13079297" author="cwsteinbach" created="Thu, 4 Aug 2011 09:35:23 +0000"  >&lt;p&gt;Committed to trunk. Thanks Patrick!&lt;/p&gt;</comment>
                            <comment id="13079385" author="hudson" created="Thu, 4 Aug 2011 14:10:22 +0000"  >&lt;p&gt;Integrated in Hive-trunk-h0.21 #873 (See &lt;a href=&quot;https://builds.apache.org/job/Hive-trunk-h0.21/873/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/Hive-trunk-h0.21/873/&lt;/a&gt;)&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-1631&quot; title=&quot;JDBC driver returns wrong precision, scale, or column size for some data types&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-1631&quot;&gt;&lt;del&gt;HIVE-1631&lt;/del&gt;&lt;/a&gt;. JDBC driver returns wrong precision, scale, or column size for some data types (Patrick Hunt via cws)&lt;/p&gt;

&lt;p&gt;cws : &lt;a href=&quot;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1153809&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1153809&lt;/a&gt;&lt;br/&gt;
Files : &lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hive/trunk/jdbc/src/java/org/apache/hadoop/hive/jdbc/Utils.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/jdbc/src/java/org/apache/hadoop/hive/jdbc/HiveDatabaseMetaData.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/jdbc/src/test/org/apache/hadoop/hive/jdbc/TestJdbcDriver.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/jdbc/src/java/org/apache/hadoop/hive/jdbc/JdbcColumn.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/jdbc/src/java/org/apache/hadoop/hive/jdbc/HiveResultSetMetaData.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13080816" author="mgk.424@gmail.com" created="Mon, 8 Aug 2011 08:36:21 +0000"  >&lt;p&gt;Just verified this fix and does not work correctly. Here are my findings on a FLOAT column&lt;/p&gt;

&lt;p&gt;Without Patch on a FLOAT Column&lt;br/&gt;
--------------------------------&lt;br/&gt;
DatabaseMetaData.getColumns () COLUMN_SIZE returns 12&lt;br/&gt;
DatabaseMetaData.getColumns () DECIMAL_DIGITS - returns 0&lt;/p&gt;

&lt;p&gt;ResultSetMetaData.getPrecision() returns 0&lt;br/&gt;
ResultSetMetaData.getScale() returns 0&lt;/p&gt;

&lt;p&gt;With Patch on a FLOAT Column&lt;br/&gt;
----------------------------&lt;br/&gt;
DatabaseMetaData.getColumns () COLUMN_SIZE returns 24&lt;br/&gt;
DatabaseMetaData.getColumns () DECIMAL_DIGITS - returns 0&lt;/p&gt;

&lt;p&gt;ResultSetMetaData.getPrecision() returns 0&lt;br/&gt;
ResultSetMetaData.getScale() returns 0&lt;/p&gt;

&lt;p&gt;Both DatabaseMetadata and ResultSet metadata must return the same information for Precision and Scale for FLOAT,DOUBLE types.&lt;/p&gt;

</comment>
                            <comment id="13080819" author="mgk.424@gmail.com" created="Mon, 8 Aug 2011 08:42:28 +0000"  >&lt;p&gt;Fixing some typos  from previous comment&lt;/p&gt;

&lt;p&gt;Just tested this fix and does NOT work correctly. Here are my findings on a FLOAT column&lt;/p&gt;

&lt;p&gt;Without Patch on a FLOAT Column&lt;br/&gt;
--------------------------------&lt;br/&gt;
DatabaseMetaData.getColumns () COLUMN_SIZE returns 12&lt;br/&gt;
DatabaseMetaData.getColumns () DECIMAL_DIGITS - returns 0&lt;/p&gt;

&lt;p&gt;ResultSetMetaData.getPrecision() returns 0&lt;br/&gt;
ResultSetMetaData.getScale() returns 0&lt;/p&gt;

&lt;p&gt;With Patch on a FLOAT Column&lt;br/&gt;
----------------------------&lt;br/&gt;
DatabaseMetaData.getColumns () COLUMN_SIZE returns 24&lt;br/&gt;
DatabaseMetaData.getColumns () DECIMAL_DIGITS - returns 0&lt;/p&gt;

&lt;p&gt;ResultSetMetaData.getPrecision() returns 7&lt;br/&gt;
ResultSetMetaData.getScale() returns 7&lt;/p&gt;

&lt;p&gt;Also both DatabaseMetadata and ResultSetMetaData must return the same information for Precision and Scale for FLOAT,DOUBLE types.&lt;/p&gt;</comment>
                            <comment id="13081060" author="phunt" created="Mon, 8 Aug 2011 17:02:44 +0000"  >&lt;p&gt;I&apos;ll create an additional patch (incl more testing) for this. Thanks Mythili.&lt;/p&gt;</comment>
                            <comment id="13081081" author="cwsteinbach" created="Mon, 8 Aug 2011 17:42:38 +0000"  >&lt;p&gt;Please open a separate ticket for this issue.&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10032">
                    <name>Blocker</name>
                                                                <inwardlinks description="is blocked by">
                                        <issuelink>
            <issuekey id="12518249">HIVE-2358</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="12488258" name="HIVE-1631.patch" size="15515" author="phunt" created="Fri, 29 Jul 2011 22:40:26 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Fri, 29 Jul 2011 22:40:26 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>37475</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310191" key="com.atlassian.jira.plugin.system.customfieldtypes:multicheckboxes">
                        <customfieldname>Hadoop Flags</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10343"><![CDATA[Reviewed]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            5 years, 17 weeks, 4 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i05ilb:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>30109</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        </customfields>
    </item>
</channel>
</rss>