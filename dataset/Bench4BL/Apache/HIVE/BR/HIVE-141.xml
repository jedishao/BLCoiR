<!-- 
RSS generated by JIRA (6.3.4#6332-sha1:51bc225ef474afe3128b2f66878477f322397b16) at Fri Dec 02 23:57:29 UTC 2016

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary add field=key&field=summary to the URL of your request.
For example:
https://issues.apache.org/jira/si/jira.issueviews:issue-xml/HIVE-141/HIVE-141.xml?field=key&amp;field=summary
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>6.3.4</version>
        <build-number>6332</build-number>
        <build-date>15-08-2014</build-date>
    </build-info>

<item>
            <title>[HIVE-141] drop table partition behaving oddly - does not create subdirectories</title>
                <link>https://issues.apache.org/jira/browse/HIVE-141</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;for example, I have a table, which has two partitions:&lt;br/&gt;
tmp_table_name/dt=2008-11-01&lt;br/&gt;
tmp_table_name/dt=2008-11-02&lt;/p&gt;

&lt;p&gt;When we use hive metastore to drop the first partition (as root), I expect the data file will be moved to user/root/.Trash/081103xxxx/tmp_table_name/dt=2008-11-01 by default. However, directory tmp_table_name was not created, the data was moved to user/root/.Trash/081103xxxx/dt=2008-11-01, which makes data recovery a very difficult task.&lt;/p&gt;
</description>
                <environment></environment>
        <key id="12410251">HIVE-141</key>
            <summary>drop table partition behaving oddly - does not create subdirectories</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/bug.png">Bug</type>
                                            <priority id="2" iconUrl="https://issues.apache.org/jira/images/icons/priorities/critical.png">Critical</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="prasadc">Prasad Chakka</assignee>
                                    <reporter username="hliu">Hao Liu</reporter>
                        <labels>
                    </labels>
                <created>Tue, 9 Dec 2008 07:16:53 +0000</created>
                <updated>Sat, 17 Dec 2011 00:08:58 +0000</updated>
                            <resolved>Mon, 9 Feb 2009 05:04:16 +0000</resolved>
                                                    <fixVersion>0.3.0</fixVersion>
                                    <component>Metastore</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                    <timeoriginalestimate seconds="14400">4h</timeoriginalestimate>
                            <timeestimate seconds="14400">4h</timeestimate>
                                        <comments>
                            <comment id="12659000" author="prasadc" created="Wed, 24 Dec 2008 00:01:55 +0000"  >&lt;p&gt;this seems to be result of a bug/feature in Hadoop Trash.moveToTrash() function&lt;/p&gt;

&lt;p&gt;The comment for the class Trash (see below) says that the deleted directory should retail the full path in .Trash/Current directory but the actual code is only the name of the directory is used. I will try to check the actual policy of the deletes and see whether we need to implement our own moveToTrash function.&lt;/p&gt;

&lt;p&gt;/** Provides a &amp;lt;i&amp;gt;trash&amp;lt;/i&amp;gt; feature. Files are moved to a user&apos;s trash&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;directory, a subdirectory of their home directory named &quot;.Trash&quot;. Files are&lt;/li&gt;
	&lt;li&gt;initially moved to a &amp;lt;i&amp;gt;current&amp;lt;/i&amp;gt; sub-directory of the trash directory.&lt;/li&gt;
	&lt;li&gt;Within that sub-directory their original path is preserved. Periodically&lt;/li&gt;
	&lt;li&gt;one may checkpoint the current trash and remove older checkpoints. (This&lt;/li&gt;
	&lt;li&gt;design permits trash management without enumeration of the full trash&lt;/li&gt;
	&lt;li&gt;content, without date support in the filesystem, and without clock&lt;/li&gt;
	&lt;li&gt;synchronization.)&lt;br/&gt;
 */ &lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="12661570" author="athusoo" created="Wed, 7 Jan 2009 13:45:39 +0000"  >&lt;p&gt;need resolution on this before the first release.&lt;/p&gt;</comment>
                            <comment id="12671732" author="prasadc" created="Mon, 9 Feb 2009 05:04:16 +0000"  >&lt;p&gt;fixed by patching hadoop&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10032">
                    <name>Blocker</name>
                                                                <inwardlinks description="is blocked by">
                                        <issuelink>
            <issuekey id="12411535">HADOOP-4970</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Wed, 24 Dec 2008 00:01:55 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>66880</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            7 years, 43 weeks, 4 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0l84f:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>121966</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        </customfields>
    </item>
</channel>
</rss>