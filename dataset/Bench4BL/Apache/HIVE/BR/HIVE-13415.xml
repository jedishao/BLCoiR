<!-- 
RSS generated by JIRA (6.3.4#6332-sha1:51bc225ef474afe3128b2f66878477f322397b16) at Fri Dec 02 11:46:31 UTC 2016

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary add field=key&field=summary to the URL of your request.
For example:
https://issues.apache.org/jira/si/jira.issueviews:issue-xml/HIVE-13415/HIVE-13415.xml?field=key&amp;field=summary
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>6.3.4</version>
        <build-number>6332</build-number>
        <build-date>15-08-2014</build-date>
    </build-info>

<item>
            <title>[HIVE-13415] Decouple Sessions from thrift binary transport</title>
                <link>https://issues.apache.org/jira/browse/HIVE-13415</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;Current behaviour is:&lt;/p&gt;

&lt;ul&gt;
	&lt;li&gt;Open a thrift binary transport&lt;/li&gt;
	&lt;li&gt;create a session&lt;/li&gt;
	&lt;li&gt;close the transport&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;Then the session gets closed. Consequently, all the operations running in the session also get killed.&lt;/p&gt;

&lt;p&gt;Whereas, if you open an HTTP transport, and close, the enclosing sessions are not closed. &lt;/p&gt;

&lt;p&gt;This seems like a bad design, having transport and sessions tightly coupled. I&apos;d like to fix this. &lt;/p&gt;

&lt;p&gt;The issue that introduced it is &lt;a href=&quot;https://github.com/apache/hive/commit/48bea00c48853459af64b4ca9bfdc3e821c4ed82&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;HIVE-9601&lt;/a&gt; Relevant discussions at &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-11485?focusedCommentId=15223546&amp;amp;page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-15223546&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;here&lt;/a&gt;, &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-11485?focusedCommentId=15223827&amp;amp;page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-15223827&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;here&lt;/a&gt; and mentioned links on those comments. &lt;/p&gt;

&lt;p&gt;Another thing that seems like a slightly bad design is this line of code in ThriftBinaryCLIService:&lt;/p&gt;

&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;server.setServerEventHandler(serverEventHandler);
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Whereas serverEventHandler is defined by the base class, with no users except one sub-class(ThriftBinaryCLIService), violating the separation of concerns. &lt;/p&gt;</description>
                <environment></environment>
        <key id="12955709">HIVE-13415</key>
            <summary>Decouple Sessions from thrift binary transport</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/bug.png">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.png">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="prongs">Rajat Khandelwal</assignee>
                                    <reporter username="prongs">Rajat Khandelwal</reporter>
                        <labels>
                            <label>TODOC2.1</label>
                    </labels>
                <created>Mon, 4 Apr 2016 09:15:38 +0000</created>
                <updated>Sat, 1 Oct 2016 01:17:02 +0000</updated>
                            <resolved>Fri, 15 Apr 2016 11:50:35 +0000</resolved>
                                    <version>1.2.0</version>
                                    <fixVersion>2.1.0</fixVersion>
                                    <component>HiveServer2</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>10</watches>
                                                                <comments>
                            <comment id="15226054" author="prongs" created="Tue, 5 Apr 2016 10:37:36 +0000"  >&lt;p&gt;Created &lt;a href=&quot;https://reviews.apache.org/r/45738/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.apache.org/r/45738/&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="15226057" author="prongs" created="Tue, 5 Apr 2016 10:38:41 +0000"  >&lt;p&gt;Taking patch from reviewboard and attaching&lt;/p&gt;</comment>
                            <comment id="15226065" author="prongs" created="Tue, 5 Apr 2016 10:50:36 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=cwsteinbach&quot; class=&quot;user-hover&quot; rel=&quot;cwsteinbach&quot;&gt;Carl Steinbach&lt;/a&gt; Can you please review. Thanks.&lt;/p&gt;</comment>
                            <comment id="15226238" author="xuefuz" created="Tue, 5 Apr 2016 13:25:56 +0000"  >&lt;p&gt;The patch seems merely reverting &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-9601&quot; title=&quot;New Beeline queries will hang If Beeline terminates in-properly [Spark Branch]&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-9601&quot;&gt;&lt;del&gt;HIVE-9601&lt;/del&gt;&lt;/a&gt;. I&apos;m wondering what&apos;s the plan to address the problem that &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-9601&quot; title=&quot;New Beeline queries will hang If Beeline terminates in-properly [Spark Branch]&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-9601&quot;&gt;&lt;del&gt;HIVE-9601&lt;/del&gt;&lt;/a&gt; is solving. Thanks.&lt;/p&gt;</comment>
                            <comment id="15226875" author="szehon" created="Tue, 5 Apr 2016 18:36:11 +0000"  >&lt;p&gt;There&apos;s some great discussion about &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-9601&quot; title=&quot;New Beeline queries will hang If Beeline terminates in-properly [Spark Branch]&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-9601&quot;&gt;&lt;del&gt;HIVE-9601&lt;/del&gt;&lt;/a&gt; there.&lt;/p&gt;

&lt;p&gt;I think the discussion makes sense, I agree with Carl and in hindsight that &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-9601&quot; title=&quot;New Beeline queries will hang If Beeline terminates in-properly [Spark Branch]&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-9601&quot;&gt;&lt;del&gt;HIVE-9601&lt;/del&gt;&lt;/a&gt; made some physical assumption about the session that may not apply for all sessions.  I wonder can this piece of code can be made configurable to solve this use-case?  The point of &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-9601&quot; title=&quot;New Beeline queries will hang If Beeline terminates in-properly [Spark Branch]&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-9601&quot;&gt;&lt;del&gt;HIVE-9601&lt;/del&gt;&lt;/a&gt; is that a large number of HS2 clients (for example, Beeline) do want to close the session after disconnect, as they are never going to come back for it.  If this is reverted without making it configurable, there will be quite some resource leaks of session-level resources, which is also quite terrible.&lt;/p&gt;</comment>
                            <comment id="15226913" author="prongs" created="Tue, 5 Apr 2016 18:50:29 +0000"  >&lt;p&gt;Understood. So shall I make this configurable at HiveServer2 level and keep the default as it is right now?&lt;/p&gt;
</comment>
                            <comment id="15226928" author="szehon" created="Tue, 5 Apr 2016 18:59:12 +0000"  >&lt;p&gt;That would be a good compromise for me.  You could also have session-level config that could override it.&lt;/p&gt;

&lt;p&gt;Just wondering about this use-case, so when your client disconnects after submitting async job, another client instance will come back to check the job results?&lt;/p&gt;</comment>
                            <comment id="15227123" author="cwsteinbach" created="Tue, 5 Apr 2016 21:01:26 +0000"  >&lt;p&gt;Making this behavior configurable on a per-session basis sounds like the right approach to me.&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=prongs&quot; class=&quot;user-hover&quot; rel=&quot;prongs&quot;&gt;Rajat Khandelwal&lt;/a&gt;, thanks for working on this. I really appreciate it.&lt;/p&gt;</comment>
                            <comment id="15227162" author="xuefuz" created="Tue, 5 Apr 2016 21:27:55 +0000"  >&lt;p&gt;Maybe we should consider closing any synchronous operation if client connection is declared lost and close the whole session if there are no live asynch ops. This seems universally true as there is no way for the client to retried the orphaned operation, and keeping them around seems just wasteful in resources. For asynchronous ops, they can live until expiration since client has a handle to further deal with them. &lt;/p&gt;

&lt;p&gt;For other DBs such as oracle or mysql, client loses the session when it disconnects from the server. It&apos;s more complicated for Hive as Hive allows async ops, which is why I proposed above.&lt;/p&gt;
</comment>
                            <comment id="15227187" author="szehon" created="Tue, 5 Apr 2016 21:44:09 +0000"  >&lt;p&gt;I&apos;m not sure if I understand this right, but this would still lead to some wasted resource for BeeLine usage like &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-9601&quot; title=&quot;New Beeline queries will hang If Beeline terminates in-properly [Spark Branch]&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-9601&quot;&gt;&lt;del&gt;HIVE-9601&lt;/del&gt;&lt;/a&gt; (until expiration), as BeeLine does not come back once connection is lost.&lt;/p&gt;

&lt;p&gt;HiveStatement.execute() uses async submission today, and hence BeeLiine by extension will keep the session open until expiration, even if it dies?&lt;/p&gt;</comment>
                            <comment id="15227644" author="hiveqa" created="Wed, 6 Apr 2016 03:19:13 +0000"  >

&lt;p&gt;Here are the results of testing the latest attachment:&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/secure/attachment/12797040/HIVE-13415.01.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/secure/attachment/12797040/HIVE-13415.01.patch&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;font color=&quot;green&quot;&gt;SUCCESS:&lt;/font&gt; +1 due to 1 test(s) being added or modified.&lt;/p&gt;

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;ERROR:&lt;/font&gt; -1 due to 39 failed/errored test(s), 9898 tests executed&lt;br/&gt;
&lt;b&gt;Failed tests:&lt;/b&gt;&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;TestMiniTezCliDriver-auto_sortmerge_join_8.q-schema_evol_orc_nonvec_mapwork_table.q-insert_update_delete.q-and-8-more - did not produce a TEST-*.xml file
TestMiniTezCliDriver-schema_evol_orc_acidvec_mapwork_part.q-vector_partitioned_date_time.q-vector_non_string_partition.q-and-12-more - did not produce a TEST-*.xml file
TestMiniTezCliDriver-vector_acid3.q-vector_decimal_trailing.q-lvj_mapjoin.q-and-12-more - did not produce a TEST-*.xml file
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_ivyDownload
org.apache.hadoop.hive.cli.TestMiniSparkOnYarnCliDriver.testCliDriver_index_bitmap3
org.apache.hadoop.hive.metastore.TestAuthzApiEmbedAuthorizerInRemote.org.apache.hadoop.hive.metastore.TestAuthzApiEmbedAuthorizerInRemote
org.apache.hadoop.hive.metastore.TestFilterHooks.org.apache.hadoop.hive.metastore.TestFilterHooks
org.apache.hadoop.hive.metastore.TestHiveMetaStorePartitionSpecs.testAddPartitions
org.apache.hadoop.hive.metastore.TestHiveMetaStorePartitionSpecs.testFetchingPartitionsWithDifferentSchemas
org.apache.hadoop.hive.metastore.TestHiveMetaStorePartitionSpecs.testGetPartitionSpecs_WithAndWithoutPartitionGrouping
org.apache.hadoop.hive.metastore.TestMetaStoreEndFunctionListener.testEndFunctionListener
org.apache.hadoop.hive.metastore.TestMetaStoreEventListenerOnlyOnCommit.testEventStatus
org.apache.hadoop.hive.metastore.TestMetaStoreInitListener.testMetaStoreInitListener
org.apache.hadoop.hive.metastore.TestPartitionNameWhitelistValidation.testAddPartitionWithValidPartVal
org.apache.hadoop.hive.metastore.TestPartitionNameWhitelistValidation.testAppendPartitionWithCommas
org.apache.hadoop.hive.metastore.TestPartitionNameWhitelistValidation.testAppendPartitionWithUnicode
org.apache.hadoop.hive.metastore.TestPartitionNameWhitelistValidation.testAppendPartitionWithValidCharacters
org.apache.hadoop.hive.ql.lockmgr.TestDbTxnManager.testLockTimeout
org.apache.hadoop.hive.ql.security.TestClientSideAuthorizationProvider.testSimplePrivileges
org.apache.hadoop.hive.ql.security.TestExtendedAcls.org.apache.hadoop.hive.ql.security.TestExtendedAcls
org.apache.hadoop.hive.ql.security.TestFolderPermissions.org.apache.hadoop.hive.ql.security.TestFolderPermissions
org.apache.hadoop.hive.ql.security.TestMetastoreAuthorizationProvider.testSimplePrivileges
org.apache.hadoop.hive.ql.security.TestMultiAuthorizationPreEventListener.org.apache.hadoop.hive.ql.security.TestMultiAuthorizationPreEventListener
org.apache.hadoop.hive.ql.security.TestStorageBasedMetastoreAuthorizationDrops.testDropPartition
org.apache.hadoop.hive.ql.security.TestStorageBasedMetastoreAuthorizationProvider.testSimplePrivileges
org.apache.hadoop.hive.ql.security.TestStorageBasedMetastoreAuthorizationProviderWithACL.testSimplePrivileges
org.apache.hadoop.hive.ql.security.TestStorageBasedMetastoreAuthorizationReads.testReadDbFailure
org.apache.hadoop.hive.ql.security.TestStorageBasedMetastoreAuthorizationReads.testReadDbSuccess
org.apache.hadoop.hive.ql.security.TestStorageBasedMetastoreAuthorizationReads.testReadTableFailure
org.apache.hadoop.hive.ql.security.TestStorageBasedMetastoreAuthorizationReads.testReadTableSuccess
org.apache.hadoop.hive.ql.security.TestStorageBasedMetastoreAuthorizationReads.testReadTableSuccessWithReadOnly
org.apache.hadoop.hive.thrift.TestHadoopAuthBridge23.testDelegationTokenSharedStore
org.apache.hadoop.hive.thrift.TestHadoopAuthBridge23.testMetastoreProxyUser
org.apache.hadoop.hive.thrift.TestHadoopAuthBridge23.testSaslWithHiveMetaStore
org.apache.hive.hcatalog.listener.TestDbNotificationListener.dropDatabase
org.apache.hive.hcatalog.mapreduce.TestHCatMultiOutputFormat.org.apache.hive.hcatalog.mapreduce.TestHCatMultiOutputFormat
org.apache.hive.jdbc.TestSSL.testSSLFetchHttp
org.apache.hive.service.TestHS2ImpersonationWithRemoteMS.org.apache.hive.service.TestHS2ImpersonationWithRemoteMS
org.apache.hive.spark.client.TestSparkClient.testSyncRpc
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Test results: &lt;a href=&quot;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-TRUNK-Build/7482/testReport&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-TRUNK-Build/7482/testReport&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-TRUNK-Build/7482/console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-TRUNK-Build/7482/console&lt;/a&gt;&lt;br/&gt;
Test logs: &lt;a href=&quot;http://ec2-174-129-184-35.compute-1.amazonaws.com/logs/PreCommit-HIVE-TRUNK-Build-7482/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://ec2-174-129-184-35.compute-1.amazonaws.com/logs/PreCommit-HIVE-TRUNK-Build-7482/&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Messages:&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;Executing org.apache.hive.ptest.execution.TestCheckPhase
Executing org.apache.hive.ptest.execution.PrepPhase
Executing org.apache.hive.ptest.execution.ExecutionPhase
Executing org.apache.hive.ptest.execution.ReportingPhase
Tests exited with: TestsFailedException: 39 tests failed
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;

&lt;p&gt;ATTACHMENT ID: 12797040 - PreCommit-HIVE-TRUNK-Build&lt;/p&gt;</comment>
                            <comment id="15227847" author="prongs" created="Wed, 6 Apr 2016 06:49:01 +0000"  >&lt;p&gt;It&apos;s important for hive to allow async ops, since it fires a sequence of M/R jobs which might take hours. For DBs it&apos;s acceptable, since, in the average case, the queries are so small that they return in seconds, maybe minutes in some cases, but not usually hours. &lt;/p&gt;

&lt;p&gt;Secondly, I&apos;ll put a purist point of view. I think Beeline is just one client of hive server out of many clients. Any change in Hive Server that&apos;s being done just for Beeline should be thought again, since sooner or later that&apos;s bound to introduce tight coupling between hive server and beeline. It might break a client that the community doesn&apos;t even know about, and I think that&apos;s not a good server design. Until Beeline isn&apos;t the only way to talk to hive, it shouldn&apos;t inspire changes in server. &lt;/p&gt;</comment>
                            <comment id="15227853" author="prongs" created="Wed, 6 Apr 2016 06:56:27 +0000"  >&lt;p&gt;So my use case is an application which has a lifecycle and as a part of the lifecycle, some queries are fired on hive server. The application has a restart capability. So the queries fired on hive server are persisted(as operation handles) as the application stops and are read back when the application starts up again. Now, I need those operations to not fail while my restart is complete. I have the handles and expect handles to still be valid when I connect to hive server again. For this, we need:&lt;/p&gt;

&lt;ul&gt;
	&lt;li&gt;the connection session coupling to go away&lt;/li&gt;
	&lt;li&gt;The asynchronous queries to not fail, as discussed somewhat on &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-11485&quot; title=&quot;Session close should not close async SQL operations&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-11485&quot;&gt;&lt;del&gt;HIVE-11485&lt;/del&gt;&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;As mentioned in another comment, for hive server where an operation can take a long time to finish, recoverability is an important feature for clients to use. &lt;/p&gt;</comment>
                            <comment id="15227890" author="prongs" created="Wed, 6 Apr 2016 07:37:15 +0000"  >&lt;p&gt;Have made closing of session configurable. Please take a look. &lt;/p&gt;</comment>
                            <comment id="15230621" author="szehon" created="Thu, 7 Apr 2016 17:26:36 +0000"  >&lt;p&gt;This just seems to remove it without making it configurable?&lt;/p&gt;</comment>
                            <comment id="15234531" author="amareshwari" created="Mon, 11 Apr 2016 06:02:36 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=szehon&quot; class=&quot;user-hover&quot; rel=&quot;szehon&quot;&gt;Szehon Ho&lt;/a&gt;, Not sure which one you looked at, but latest version on review board seems fine.&lt;/p&gt;</comment>
                            <comment id="15234542" author="prongs" created="Mon, 11 Apr 2016 06:16:08 +0000"  >&lt;p&gt;Sorry, I&apos;d updated on reviewboard, but not here. Will attach patch too. &lt;/p&gt;</comment>
                            <comment id="15234558" author="prongs" created="Mon, 11 Apr 2016 06:34:59 +0000"  >&lt;p&gt;Taking patch from reviewboard and attaching&lt;/p&gt;</comment>
                            <comment id="15238768" author="prongs" created="Wed, 13 Apr 2016 07:40:48 +0000"  >&lt;p&gt;Cancelling patch to upload a new patch&lt;/p&gt;</comment>
                            <comment id="15238776" author="prongs" created="Wed, 13 Apr 2016 07:42:25 +0000"  >&lt;p&gt;Taking patch from reviewboard and attaching&lt;/p&gt;</comment>
                            <comment id="15238920" author="prongs" created="Wed, 13 Apr 2016 09:14:30 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=cwsteinbach&quot; class=&quot;user-hover&quot; rel=&quot;cwsteinbach&quot;&gt;Carl Steinbach&lt;/a&gt; &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=szehon&quot; class=&quot;user-hover&quot; rel=&quot;szehon&quot;&gt;Szehon Ho&lt;/a&gt; Can you guys take a look? patch is also available on reviewboard. &lt;/p&gt;</comment>
                            <comment id="15240422" author="szehon" created="Thu, 14 Apr 2016 01:44:32 +0000"  >&lt;p&gt;+1 works for me, looks like it is configurable at session-level.&lt;/p&gt;</comment>
                            <comment id="15240469" author="amareshwari" created="Thu, 14 Apr 2016 02:25:52 +0000"  >&lt;p&gt;+1 for &lt;a href=&quot;https://issues.apache.org/jira/secure/attachment/12798463/HIVE-13415.05.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/secure/attachment/12798463/HIVE-13415.05.patch&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="15242792" author="hiveqa" created="Fri, 15 Apr 2016 10:48:29 +0000"  >

&lt;p&gt;Here are the results of testing the latest attachment:&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/secure/attachment/12798463/HIVE-13415.05.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/secure/attachment/12798463/HIVE-13415.05.patch&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;font color=&quot;green&quot;&gt;SUCCESS:&lt;/font&gt; +1 due to 1 test(s) being added or modified.&lt;/p&gt;

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;ERROR:&lt;/font&gt; -1 due to 24 failed/errored test(s), 9967 tests executed&lt;br/&gt;
&lt;b&gt;Failed tests:&lt;/b&gt;&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;TestJdbcWithMiniHS2 - did not produce a TEST-*.xml file
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_index_compact_2
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_llap_partitioned
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_non_ascii_literal2
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_vector_grouping_sets
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_vector_interval_mapjoin
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_vector_join_filters
org.apache.hadoop.hive.cli.TestMiniSparkOnYarnCliDriver.testCliDriver_index_bitmap3
org.apache.hadoop.hive.cli.TestMiniTezCliDriver.org.apache.hadoop.hive.cli.TestMiniTezCliDriver
org.apache.hadoop.hive.cli.TestMiniTezCliDriver.testCliDriver_dynamic_partition_pruning_2
org.apache.hadoop.hive.cli.TestMiniTezCliDriver.testCliDriver_schema_evol_orc_acidvec_mapwork_part
org.apache.hadoop.hive.cli.TestMiniTezCliDriver.testCliDriver_vector_char_simple
org.apache.hadoop.hive.metastore.TestHiveMetaStorePartitionSpecs.testAddPartitions
org.apache.hadoop.hive.metastore.TestHiveMetaStorePartitionSpecs.testFetchingPartitionsWithDifferentSchemas
org.apache.hadoop.hive.metastore.TestHiveMetaStorePartitionSpecs.testGetPartitionSpecs_WithAndWithoutPartitionGrouping
org.apache.hadoop.hive.ql.lockmgr.TestDbTxnManager.concurrencyFalse
org.apache.hadoop.hive.ql.lockmgr.TestDbTxnManager.testDDLExclusive
org.apache.hadoop.hive.ql.lockmgr.TestDbTxnManager.testDelete
org.apache.hadoop.hive.ql.lockmgr.TestDbTxnManager.testLockTimeout
org.apache.hadoop.hive.ql.lockmgr.TestDbTxnManager.testRollback
org.apache.hadoop.hive.ql.lockmgr.TestDbTxnManager.testSingleReadPartition
org.apache.hadoop.hive.ql.lockmgr.TestDbTxnManager.testSingleWriteTable
org.apache.hadoop.hive.ql.lockmgr.TestDbTxnManager.testUpdate
org.apache.hadoop.hive.ql.lockmgr.TestDbTxnManager.testWriteDynamicPartition
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Test results: &lt;a href=&quot;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-TRUNK-Build/7596/testReport&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-TRUNK-Build/7596/testReport&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-TRUNK-Build/7596/console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-TRUNK-Build/7596/console&lt;/a&gt;&lt;br/&gt;
Test logs: &lt;a href=&quot;http://ec2-174-129-184-35.compute-1.amazonaws.com/logs/PreCommit-HIVE-TRUNK-Build-7596/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://ec2-174-129-184-35.compute-1.amazonaws.com/logs/PreCommit-HIVE-TRUNK-Build-7596/&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Messages:&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;Executing org.apache.hive.ptest.execution.TestCheckPhase
Executing org.apache.hive.ptest.execution.PrepPhase
Executing org.apache.hive.ptest.execution.ExecutionPhase
Executing org.apache.hive.ptest.execution.ReportingPhase
Tests exited with: TestsFailedException: 24 tests failed
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;

&lt;p&gt;ATTACHMENT ID: 12798463 - PreCommit-HIVE-TRUNK-Build&lt;/p&gt;</comment>
                            <comment id="15242845" author="prongs" created="Fri, 15 Apr 2016 11:41:02 +0000"  >&lt;p&gt;After running the tests locally, org.apache.hadoop.hive.ql.lockmgr.TestDbTxnManager passes completely, so does org.apache.hadoop.hive.metastore.TestHiveMetaStorePartitionSpecs. Running the MiniTezCliDriver tests with overwrite output=true doesn&apos;t change any files. &lt;/p&gt;</comment>
                            <comment id="15242856" author="amareshwari" created="Fri, 15 Apr 2016 11:50:35 +0000"  >&lt;p&gt;Committed. Thanks &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=prongs&quot; class=&quot;user-hover&quot; rel=&quot;prongs&quot;&gt;Rajat Khandelwal&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="15244090" author="lefty@hortonworks.com" created="Sat, 16 Apr 2016 08:28:34 +0000"  >&lt;p&gt;Doc note:  Added a TODOC2.1 label so that &lt;b&gt;hive.server2.close.session.on.disconnect&lt;/b&gt; will be documented in the HiveServer2 section of Configuration Properties for the 2.1.0 release.  (If more explanation is needed, it should go in Setting Up HiveServer2.)&lt;/p&gt;

&lt;ul&gt;
	&lt;li&gt;&lt;a href=&quot;https://cwiki.apache.org/confluence/display/Hive/Configuration+Properties#ConfigurationProperties-HiveServer2&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;Configuration Properties &amp;#8211; HiveServer2 &lt;/a&gt;&lt;/li&gt;
	&lt;li&gt;&lt;a href=&quot;https://cwiki.apache.org/confluence/display/Hive/Setting+Up+HiveServer2&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;Setting Up HiveServer2 &lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="15537601" author="gurmukhd" created="Sat, 1 Oct 2016 01:17:02 +0000"  >&lt;p&gt;I see this behavior in hive 2.1.0.&lt;/p&gt;

&lt;p&gt;Could not find the property recommended &quot;hive.server2.close.session.on.disconnect&quot; in the release notes or docs.&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10032">
                    <name>Blocker</name>
                                            <outwardlinks description="blocks">
                                        <issuelink>
            <issuekey id="12822938">LENS-518</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                            <outwardlinks description="relates to">
                                        <issuelink>
            <issuekey id="12773100">HIVE-9601</issuekey>
        </issuelink>
                            </outwardlinks>
                                                                <inwardlinks description="is related to">
                                        <issuelink>
            <issuekey id="12989134">HIVE-14227</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                            <issuelinktype id="10001">
                    <name>dependent</name>
                                                                <inwardlinks description="is depended upon by">
                                        <issuelink>
            <issuekey id="12972295">LENS-1150</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="12797040" name="HIVE-13415.01.patch" size="14201" author="prongs" created="Tue, 5 Apr 2016 10:38:36 +0000"/>
                            <attachment id="12797976" name="HIVE-13415.04.patch" size="1321337" author="prongs" created="Mon, 11 Apr 2016 06:34:57 +0000"/>
                            <attachment id="12798463" name="HIVE-13415.05.patch" size="17601" author="prongs" created="Wed, 13 Apr 2016 07:42:21 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>3.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Tue, 5 Apr 2016 13:25:56 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310191" key="com.atlassian.jira.plugin.system.customfieldtypes:multicheckboxes">
                        <customfieldname>Hadoop Flags</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10343"><![CDATA[Reviewed]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            8 weeks, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i2vl4n:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        </customfields>
    </item>
</channel>
</rss>