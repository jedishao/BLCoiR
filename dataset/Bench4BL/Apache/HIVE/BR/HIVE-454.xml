<!-- 
RSS generated by JIRA (6.3.4#6332-sha1:51bc225ef474afe3128b2f66878477f322397b16) at Fri Dec 02 23:41:35 UTC 2016

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary add field=key&field=summary to the URL of your request.
For example:
https://issues.apache.org/jira/si/jira.issueviews:issue-xml/HIVE-454/HIVE-454.xml?field=key&amp;field=summary
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>6.3.4</version>
        <build-number>6332</build-number>
        <build-date>15-08-2014</build-date>
    </build-info>

<item>
            <title>[HIVE-454] Support escaping of ; in strings in cli</title>
                <link>https://issues.apache.org/jira/browse/HIVE-454</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;If ; appears in string literals in a query the hive cli is not able to escape them properly.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12424047">HIVE-454</key>
            <summary>Support escaping of ; in strings in cli</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/bug.png">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.png">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="appodictic">Edward Capriolo</assignee>
                                    <reporter username="athusoo">Ashish Thusoo</reporter>
                        <labels>
                    </labels>
                <created>Tue, 28 Apr 2009 15:49:34 +0000</created>
                <updated>Sat, 17 Dec 2011 00:07:53 +0000</updated>
                            <resolved>Fri, 7 Aug 2009 23:04:35 +0000</resolved>
                                    <version>0.3.0</version>
                                    <fixVersion>0.4.0</fixVersion>
                                    <component>Clients</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                <comments>
                            <comment id="12731643" author="appodictic" created="Wed, 15 Jul 2009 19:32:59 +0000"  >&lt;p&gt;Ashish,&lt;br/&gt;
I actually am working on a UDF where this became an issue. My .q file looks like this.&lt;/p&gt;

&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;SELECT dboutput(
&apos;jdbc:derby:../build/test_dboutput_db;create=true&apos;,&apos;&apos;,&apos;&apos;
,&apos;CREATE TABLE app_info ( kkey VARCHAR(255) NOT NULL, vvalue VARCHAR(255) NOT NULL )&apos;) , dboutput(&apos;jdbc:derby:../build/test_dboutput_db&apos;,&apos;&apos;,&apos;&apos;,
&apos;INSERT INTO app_info (kkey,vvalue) VALUES (?,?)&apos;,&apos;1&apos;,&apos;a&apos;)
limit 1;
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;the &apos;;create=true&apos; section is failing. My nickname is &apos;Corner Case&apos; &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/smile.gif&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/p&gt;</comment>
                            <comment id="12731777" author="appodictic" created="Thu, 16 Jul 2009 03:08:24 +0000"  >&lt;p&gt;Updated CLIDriver and added test case&lt;/p&gt;</comment>
                            <comment id="12731778" author="appodictic" created="Thu, 16 Jul 2009 03:10:28 +0000"  >&lt;p&gt;This patch allows an escaped ; in a string. Removes the escape before passing the query to the driver.&lt;/p&gt;</comment>
                            <comment id="12733858" author="rsm" created="Tue, 21 Jul 2009 22:23:46 +0000"  >&lt;p&gt;It seems cleaner to modify hive.g instead of adding more parsing/manipulation of query strings in CliDriver.&lt;/p&gt;</comment>
                            <comment id="12733976" author="appodictic" created="Wed, 22 Jul 2009 04:06:35 +0000"  >&lt;p&gt;That is a good point. However it seems that the CLIDriver will be have to change regardless. Since the CLIDriver is specifically splitting on &apos;;&apos; a statement like &quot;set a=5; set b=8&quot; gets passed as two separate qp.run()&apos;s.&lt;/p&gt;</comment>
                            <comment id="12740073" author="appodictic" created="Thu, 6 Aug 2009 13:55:14 +0000"  >&lt;p&gt;Digging into this some more it seems that the query processor and cli driver would have to work together in a different way.&lt;/p&gt;

&lt;p&gt;As of now the CLIDriver is physically splitting on &apos;;&apos;  it can not tell the difference between &apos;;&apos; and &apos;/;&apos;. My patch adds some logic to detect &apos;/;&apos; and unescape it before passing to qp.run(String).&lt;/p&gt;

&lt;p&gt;Right now we can argue that the CliDriver has an implicit &apos;autocommit=true&apos;. We can make this an explicit variable. with autocommit=&apos;false&apos;  the query processor would hold a StringBuffer or a queue of query strings. &apos;commit &apos; ; would cause QP to run each query in its queue.&lt;/p&gt;

&lt;p&gt;This is a non-trivial change. If we add this feature we can set autocommit=true so the default behavior does not change. For no though my patch has a fairly way to deal with this problem.&lt;/p&gt;</comment>
                            <comment id="12740246" author="athusoo" created="Thu, 6 Aug 2009 20:55:58 +0000"  >&lt;p&gt;Ownership = Patch submitter...&lt;/p&gt;</comment>
                            <comment id="12740266" author="namit" created="Thu, 6 Aug 2009 21:48:23 +0000"  >&lt;p&gt;The changes look OK to me - &lt;/p&gt;

&lt;p&gt;Raghu, for this to work with Hive.g - the entire string would have to be passed to qp. So, essentially qp will take in a bunch of queries and then parse them instead of getting one query at a time.&lt;br/&gt;
This requires substantial change and should not block &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-645&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/browse/HIVE-645&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="12740598" author="namit" created="Fri, 7 Aug 2009 15:47:53 +0000"  >&lt;p&gt;@Raghu, are you OK with this change - it is OK from my end&lt;/p&gt;</comment>
                            <comment id="12740777" author="namit" created="Fri, 7 Aug 2009 23:04:35 +0000"  >&lt;p&gt;Committed. Thanks Edward&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10032">
                    <name>Blocker</name>
                                            <outwardlinks description="blocks">
                                        <issuelink>
            <issuekey id="12430682">HIVE-645</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="12413623" name="hive-454.patch" size="2586" author="appodictic" created="Thu, 16 Jul 2009 03:08:24 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Wed, 15 Jul 2009 19:32:59 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>73520</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310191" key="com.atlassian.jira.plugin.system.customfieldtypes:multicheckboxes">
                        <customfieldname>Hadoop Flags</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10343"><![CDATA[Reviewed]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            7 years, 18 weeks ago
                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0l9vb:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>122249</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        </customfields>
    </item>
</channel>
</rss>