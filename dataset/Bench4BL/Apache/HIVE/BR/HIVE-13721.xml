<!-- 
RSS generated by JIRA (6.3.4#6332-sha1:51bc225ef474afe3128b2f66878477f322397b16) at Fri Dec 02 04:53:41 UTC 2016

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary add field=key&field=summary to the URL of your request.
For example:
https://issues.apache.org/jira/si/jira.issueviews:issue-xml/HIVE-13721/HIVE-13721.xml?field=key&amp;field=summary
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>6.3.4</version>
        <build-number>6332</build-number>
        <build-date>15-08-2014</build-date>
    </build-info>

<item>
            <title>[HIVE-13721] HPL/SQL COPY FROM FTP Statement: lack of DIR option leads to NPE</title>
                <link>https://issues.apache.org/jira/browse/HIVE-13721</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;The docs (&lt;a href=&quot;http://www.hplsql.org/copy-from-ftp&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://www.hplsql.org/copy-from-ftp&lt;/a&gt;) suggest DIR is optional. When I left it out in:&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
copy from ftp hdp250.example.com user &apos;vagrant&apos; pwd &apos;vagrant&apos;  files &apos;sampledata.csv&apos; to /tmp overwrite
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;I got:&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
Ln:2 Connected to ftp: hdp250.example.com (29 ms)
Ln:2 Retrieving directory listing
  Listing the current working FTP directory
Ln:2 Files to copy: 45 bytes, 1 file, 0 subdirectories scanned (27 ms)
Exception in thread &lt;span class=&quot;code-quote&quot;&gt;&quot;main&quot;&lt;/span&gt; java.lang.NullPointerException
	at org.apache.hive.hplsql.Ftp.getTargetFileName(Ftp.java:342)
	at org.apache.hive.hplsql.Ftp.run(Ftp.java:149)
	at org.apache.hive.hplsql.Ftp.copyFiles(Ftp.java:121)
	at org.apache.hive.hplsql.Ftp.run(Ftp.java:91)
	at org.apache.hive.hplsql.Exec.visitCopy_from_ftp_stmt(Exec.java:1292)
	at org.apache.hive.hplsql.Exec.visitCopy_from_ftp_stmt(Exec.java:52)
	at org.apache.hive.hplsql.HplsqlParser$Copy_from_ftp_stmtContext.accept(HplsqlParser.java:11956)
	at org.antlr.v4.runtime.tree.AbstractParseTreeVisitor.visitChildren(AbstractParseTreeVisitor.java:70)
	at org.apache.hive.hplsql.Exec.visitStmt(Exec.java:994)
	at org.apache.hive.hplsql.Exec.visitStmt(Exec.java:52)
	at org.apache.hive.hplsql.HplsqlParser$StmtContext.accept(HplsqlParser.java:1012)
	at org.antlr.v4.runtime.tree.AbstractParseTreeVisitor.visitChildren(AbstractParseTreeVisitor.java:70)
	at org.apache.hive.hplsql.HplsqlBaseVisitor.visitBlock(HplsqlBaseVisitor.java:28)
	at org.apache.hive.hplsql.HplsqlParser$BlockContext.accept(HplsqlParser.java:446)
	at org.antlr.v4.runtime.tree.AbstractParseTreeVisitor.visitChildren(AbstractParseTreeVisitor.java:70)
	at org.apache.hive.hplsql.Exec.visitProgram(Exec.java:901)
	at org.apache.hive.hplsql.Exec.visitProgram(Exec.java:52)
	at org.apache.hive.hplsql.HplsqlParser$ProgramContext.accept(HplsqlParser.java:389)
	at org.antlr.v4.runtime.tree.AbstractParseTreeVisitor.visit(AbstractParseTreeVisitor.java:42)
	at org.apache.hive.hplsql.Exec.run(Exec.java:760)
	at org.apache.hive.hplsql.Exec.run(Exec.java:736)
	at org.apache.hive.hplsql.Hplsql.main(Hplsql.java:23)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.apache.hadoop.util.RunJar.run(RunJar.java:221)
	at org.apache.hadoop.util.RunJar.main(RunJar.java:136)
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Traceback leads to:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
  /**
   * Get the target file relative path and name
   */
  &lt;span class=&quot;code-object&quot;&gt;String&lt;/span&gt; getTargetFileName(&lt;span class=&quot;code-object&quot;&gt;String&lt;/span&gt; file) {
    &lt;span class=&quot;code-object&quot;&gt;int&lt;/span&gt; len = dir.length();
    &lt;span class=&quot;code-keyword&quot;&gt;return&lt;/span&gt; targetDir + file.substring(len);
  }
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;in Ftp.java&lt;/p&gt;

&lt;p&gt;When I added DIR &apos;/&apos; this worked.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12966318">HIVE-13721</key>
            <summary>HPL/SQL COPY FROM FTP Statement: lack of DIR option leads to NPE</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/bug.png">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.png">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="dmtolpeko">Dmitry Tolpeko</assignee>
                                    <reporter username="cartershanklin">Carter Shanklin</reporter>
                        <labels>
                    </labels>
                <created>Mon, 9 May 2016 19:52:32 +0000</created>
                <updated>Wed, 8 Jun 2016 13:59:38 +0000</updated>
                            <resolved>Wed, 8 Jun 2016 13:59:38 +0000</resolved>
                                                    <fixVersion>2.2.0</fixVersion>
                                    <component>hpl/sql</component>
                        <due></due>
                            <votes>1</votes>
                                    <watches>2</watches>
                                                                <comments>
                            <comment id="15286787" author="dmtolpeko" created="Tue, 17 May 2016 15:03:31 +0000"  >&lt;p&gt;Fixing this.&lt;/p&gt;</comment>
                            <comment id="15301886" author="dmtolpeko" created="Thu, 26 May 2016 09:49:50 +0000"  >&lt;p&gt;Small fix, I included it to patch for &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-13540&quot; title=&quot;Casts to numeric types don&amp;#39;t seem to work in hplsql&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-13540&quot;&gt;&lt;del&gt;HIVE-13540&lt;/del&gt;&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="15314685" author="dmtolpeko" created="Fri, 3 Jun 2016 19:52:04 +0000"  >&lt;p&gt;Patch for &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-13540&quot; title=&quot;Casts to numeric types don&amp;#39;t seem to work in hplsql&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-13540&quot;&gt;&lt;del&gt;HIVE-13540&lt;/del&gt;&lt;/a&gt; is committed and includes fix for this Jira. &lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Tue, 17 May 2016 15:03:31 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            25 weeks, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i2xdwn:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        </customfields>
    </item>
</channel>
</rss>