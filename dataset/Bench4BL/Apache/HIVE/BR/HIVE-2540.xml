<!-- 
RSS generated by JIRA (6.3.4#6332-sha1:51bc225ef474afe3128b2f66878477f322397b16) at Fri Dec 02 23:27:56 UTC 2016

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary add field=key&field=summary to the URL of your request.
For example:
https://issues.apache.org/jira/si/jira.issueviews:issue-xml/HIVE-2540/HIVE-2540.xml?field=key&amp;field=summary
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>6.3.4</version>
        <build-number>6332</build-number>
        <build-date>15-08-2014</build-date>
    </build-info>

<item>
            <title>[HIVE-2540] LATERAL VIEW with EXPLODE produces ConcurrentModificationException</title>
                <link>https://issues.apache.org/jira/browse/HIVE-2540</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;The following produces &lt;tt&gt;ConcurrentModificationException&lt;/tt&gt; on the &lt;tt&gt;for&lt;/tt&gt; loop inside EXPLODE:&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
create table foo as select array(1, 2) a from src limit 1;
select a, x.b from foo lateral view explode(a) x as b;
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</description>
                <environment></environment>
        <key id="12529703">HIVE-2540</key>
            <summary>LATERAL VIEW with EXPLODE produces ConcurrentModificationException</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/bug.png">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.png">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="navis">Navis</assignee>
                                    <reporter username="electrum">David Phillips</reporter>
                        <labels>
                    </labels>
                <created>Tue, 1 Nov 2011 17:32:28 +0000</created>
                <updated>Wed, 25 Mar 2015 18:42:26 +0000</updated>
                            <resolved>Sun, 27 May 2012 12:08:25 +0000</resolved>
                                    <version>0.7.1</version>
                    <version>0.9.0</version>
                                    <fixVersion>0.10.0</fixVersion>
                                    <component>Query Processor</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>7</watches>
                                                                <comments>
                            <comment id="13141372" author="electrum" created="Tue, 1 Nov 2011 17:34:17 +0000"  >&lt;p&gt;The bug is related to outputting the input array.  For example, both of these work correctly:&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
select x.b from foo lateral view explode(a) x as b;
select size(a), x.b from foo lateral view explode(a) x as b;
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</comment>
                            <comment id="13141373" author="electrum" created="Tue, 1 Nov 2011 17:34:28 +0000"  >&lt;p&gt;This is the exception:&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
2011-11-01 10:20:06,139 FATAL ExecMapper (ExecMapper.java:map(160)) - org.apache.hadoop.hive.ql.metadata.HiveException: Hive &lt;span class=&quot;code-object&quot;&gt;Runtime&lt;/span&gt; Error &lt;span class=&quot;code-keyword&quot;&gt;while&lt;/span&gt; processing row {&lt;span class=&quot;code-quote&quot;&gt;&quot;a&quot;&lt;/span&gt;:[1,2]}
        at org.apache.hadoop.hive.ql.exec.MapOperator.process(MapOperator.java:546)
        at org.apache.hadoop.hive.ql.exec.ExecMapper.map(ExecMapper.java:143)
        at org.apache.hadoop.mapred.MapRunner.run(MapRunner.java:50)
        at org.apache.hadoop.mapred.MapTask.runOldMapper(MapTask.java:358)
        at org.apache.hadoop.mapred.MapTask.run(MapTask.java:307)
        at org.apache.hadoop.mapred.LocalJobRunner$Job.run(LocalJobRunner.java:177)
Caused by: java.util.ConcurrentModificationException
        at java.util.AbstractList$Itr.checkForComodification(AbstractList.java:372)
        at java.util.AbstractList$Itr.next(AbstractList.java:343)
        at org.apache.hadoop.hive.ql.udf.&lt;span class=&quot;code-keyword&quot;&gt;generic&lt;/span&gt;.GenericUDTFExplode.process(GenericUDTFExplode.java:73)
        at org.apache.hadoop.hive.ql.exec.UDTFOperator.processOp(UDTFOperator.java:98)
        at org.apache.hadoop.hive.ql.exec.Operator.process(Operator.java:471)
        at org.apache.hadoop.hive.ql.exec.Operator.forward(Operator.java:744)
        at org.apache.hadoop.hive.ql.exec.SelectOperator.processOp(SelectOperator.java:84)
        at org.apache.hadoop.hive.ql.exec.Operator.process(Operator.java:471)
        at org.apache.hadoop.hive.ql.exec.Operator.forward(Operator.java:744)
        at org.apache.hadoop.hive.ql.exec.LateralViewForwardOperator.processOp(LateralViewForwardOperator.java:37)
        at org.apache.hadoop.hive.ql.exec.Operator.process(Operator.java:471)
        at org.apache.hadoop.hive.ql.exec.Operator.forward(Operator.java:744)
        at org.apache.hadoop.hive.ql.exec.TableScanOperator.processOp(TableScanOperator.java:78)
        at org.apache.hadoop.hive.ql.exec.Operator.process(Operator.java:471)
        at org.apache.hadoop.hive.ql.exec.Operator.forward(Operator.java:744)
        at org.apache.hadoop.hive.ql.exec.MapOperator.process(MapOperator.java:527)
        ... 5 more
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</comment>
                            <comment id="13145585" author="bejoyks" created="Mon, 7 Nov 2011 16:15:46 +0000"  >&lt;p&gt;The exception is happening when I&apos;m trying to use explode map as well&lt;/p&gt;

&lt;p&gt;DDL&lt;br/&gt;
CREATE EXTERNAL TABLE ver_data&lt;br/&gt;
(&lt;br/&gt;
  key STRING,&lt;br/&gt;
  id STRING,&lt;br/&gt;
  date_time STRING,&lt;br/&gt;
  model STRING,&lt;br/&gt;
  version STRING,&lt;br/&gt;
  sid STRING,&lt;br/&gt;
  message STRING,&lt;br/&gt;
  tags MAP&amp;lt;STRING,STRING&amp;gt;&lt;br/&gt;
);&lt;/p&gt;


&lt;p&gt;HQL Query &lt;br/&gt;
SELECT ver_data.&lt;b&gt;,t1.&lt;/b&gt; FROM ver_data LATERAL VIEW explode(tags) t1 AS param_name,param_value;&lt;/p&gt;

&lt;p&gt;This Query throws a concurrent modification exception on a LinkedHashMap while doing the join. If I modify the query and avoids the map column(&apos;tags&apos;) in the retrieval/join,then the query executes successfully.&lt;/p&gt;

&lt;p&gt;The below modified query executes successfully&lt;br/&gt;
SELECT ver_data.key, ver_data.id, ver_data.date_time, ver_data.model, ver_data.version, ver_data.sid, ver_data.message,&lt;br/&gt;
t1.* FROM ver_data LATERAL VIEW explode(tags) t1 AS param_name,param_value;&lt;/p&gt;

&lt;p&gt;Stack Trace When using Joins on maps with Lateral View&lt;br/&gt;
	2011-11-07 07:18:22,679 FATAL ExecMapper: org.apache.hadoop.hive.ql.metadata.HiveException: Hive Runtime Error while processing row &lt;/p&gt;
{&quot;key&quot;:&quot;0000&quot;,&quot;id&quot;:&quot;10001&quot;,...}
&lt;p&gt;	at org.apache.hadoop.hive.ql.exec.MapOperator.process(MapOperator.java:546)&lt;br/&gt;
	at org.apache.hadoop.hive.ql.exec.ExecMapper.map(ExecMapper.java:143)&lt;br/&gt;
	at org.apache.hadoop.mapred.MapRunner.run(MapRunner.java:50)&lt;br/&gt;
	at org.apache.hadoop.mapred.MapTask.runOldMapper(MapTask.java:391)&lt;br/&gt;
	at org.apache.hadoop.mapred.MapTask.run(MapTask.java:325)&lt;br/&gt;
	at org.apache.hadoop.mapred.Child$4.run(Child.java:270)&lt;br/&gt;
	at java.security.AccessController.doPrivileged(Native Method)&lt;br/&gt;
	at javax.security.auth.Subject.doAs(Subject.java:396)&lt;br/&gt;
	at org.apache.hadoop.security.UserGroupInformation.doAs(UserGroupInformation.java:1127)&lt;br/&gt;
	at org.apache.hadoop.mapred.Child.main(Child.java:264)&lt;br/&gt;
Caused by: java.util.ConcurrentModificationException&lt;br/&gt;
	at java.util.LinkedHashMap$LinkedHashIterator.nextEntry(LinkedHashMap.java:373)&lt;br/&gt;
	at java.util.LinkedHashMap$EntryIterator.next(LinkedHashMap.java:392)&lt;br/&gt;
	at java.util.LinkedHashMap$EntryIterator.next(LinkedHashMap.java:391)&lt;/p&gt;
</comment>
                            <comment id="13145602" author="bejoyks" created="Mon, 7 Nov 2011 16:35:21 +0000"  >&lt;p&gt;The map issue on explode was seen on a latest build from hive trunk.&lt;br/&gt;
Maps were supported with LATERAL VIEW explode() with JIRA &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-1735&quot; title=&quot;Extend Explode UDTF to handle Maps&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-1735&quot;&gt;&lt;del&gt;HIVE-1735&lt;/del&gt;&lt;/a&gt; on 0.8 branch.&lt;/p&gt;</comment>
                            <comment id="13253561" author="kamilmroczek" created="Fri, 13 Apr 2012 17:30:18 +0000"  >&lt;p&gt;I am getting the same error.  It seems to work when the array has one element, but as soon as more than one is added this error appears.&lt;/p&gt;</comment>
                            <comment id="13254548" author="phabricator@reviews.facebook.net" created="Mon, 16 Apr 2012 07:16:17 +0000"  >&lt;p&gt;navis requested code review of &quot;&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2540&quot; title=&quot;LATERAL VIEW with EXPLODE produces ConcurrentModificationException&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2540&quot;&gt;&lt;del&gt;HIVE-2540&lt;/del&gt;&lt;/a&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;jira&amp;#93;&lt;/span&gt; LATERAL VIEW with EXPLODE produces ConcurrentModificationException&quot;.&lt;br/&gt;
Reviewers: JIRA&lt;/p&gt;

&lt;p&gt;  DPAL-1095 LATERAL VIEW with EXPLODE produces ConcurrentModificationException&lt;/p&gt;

&lt;p&gt;  The following produces ConcurrentModificationException on the for loop inside EXPLODE:&lt;/p&gt;

&lt;p&gt;  create table foo as select array(1, 2) a from src limit 1;&lt;br/&gt;
  select a, x.b from foo lateral view explode(a) x as b;&lt;/p&gt;

&lt;p&gt;TEST PLAN&lt;br/&gt;
  EMPTY&lt;/p&gt;

&lt;p&gt;REVISION DETAIL&lt;br/&gt;
  &lt;a href=&quot;https://reviews.facebook.net/D2805&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/D2805&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;AFFECTED FILES&lt;br/&gt;
  hbase-handler/src/java/org/apache/hadoop/hive/hbase/LazyHBaseCellMap.java&lt;br/&gt;
  ql/src/test/queries/clientpositive/udf_explode.q&lt;br/&gt;
  ql/src/test/queries/clientpositive/udtf_explode.q&lt;br/&gt;
  ql/src/test/results/clientpositive/udf_explode.q.out&lt;br/&gt;
  ql/src/test/results/clientpositive/udtf_explode.q.out&lt;br/&gt;
  serde/src/java/org/apache/hadoop/hive/serde2/lazy/LazyArray.java&lt;br/&gt;
  serde/src/java/org/apache/hadoop/hive/serde2/lazy/LazyMap.java&lt;/p&gt;

&lt;p&gt;MANAGE HERALD DIFFERENTIAL RULES&lt;br/&gt;
  &lt;a href=&quot;https://reviews.facebook.net/herald/view/differential/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/herald/view/differential/&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;WHY DID I GET THIS EMAIL?&lt;br/&gt;
  &lt;a href=&quot;https://reviews.facebook.net/herald/transcript/6393/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/herald/transcript/6393/&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Tip: use the X-Herald-Rules header to filter Herald messages in your client.&lt;/p&gt;</comment>
                            <comment id="13260420" author="phabricator@reviews.facebook.net" created="Tue, 24 Apr 2012 10:35:32 +0000"  >&lt;p&gt;navis updated the revision &quot;&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2540&quot; title=&quot;LATERAL VIEW with EXPLODE produces ConcurrentModificationException&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2540&quot;&gt;&lt;del&gt;HIVE-2540&lt;/del&gt;&lt;/a&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;jira&amp;#93;&lt;/span&gt; LATERAL VIEW with EXPLODE produces ConcurrentModificationException&quot;.&lt;br/&gt;
Reviewers: JIRA&lt;/p&gt;

&lt;p&gt;  Fixed test fails&lt;/p&gt;

&lt;p&gt;REVISION DETAIL&lt;br/&gt;
  &lt;a href=&quot;https://reviews.facebook.net/D2805&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/D2805&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;AFFECTED FILES&lt;br/&gt;
  hbase-handler/src/java/org/apache/hadoop/hive/hbase/LazyHBaseCellMap.java&lt;br/&gt;
  ql/src/test/queries/clientpositive/udf_explode.q&lt;br/&gt;
  ql/src/test/queries/clientpositive/udtf_explode.q&lt;br/&gt;
  ql/src/test/results/clientpositive/udf_explode.q.out&lt;br/&gt;
  ql/src/test/results/clientpositive/udtf_explode.q.out&lt;br/&gt;
  serde/src/java/org/apache/hadoop/hive/serde2/lazy/LazyArray.java&lt;br/&gt;
  serde/src/java/org/apache/hadoop/hive/serde2/lazy/LazyMap.java&lt;/p&gt;</comment>
                            <comment id="13262304" author="navis" created="Thu, 26 Apr 2012 01:19:13 +0000"  >&lt;p&gt;passed all tests&lt;/p&gt;</comment>
                            <comment id="13262305" author="phabricator@reviews.facebook.net" created="Thu, 26 Apr 2012 01:19:14 +0000"  >&lt;p&gt;navis updated the revision &quot;&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2540&quot; title=&quot;LATERAL VIEW with EXPLODE produces ConcurrentModificationException&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2540&quot;&gt;&lt;del&gt;HIVE-2540&lt;/del&gt;&lt;/a&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;jira&amp;#93;&lt;/span&gt; LATERAL VIEW with EXPLODE produces ConcurrentModificationException&quot;.&lt;br/&gt;
Reviewers: JIRA&lt;/p&gt;

&lt;p&gt;  1. Removed dummy column in LazyHBaseCellMap (mistake)&lt;/p&gt;

&lt;p&gt;REVISION DETAIL&lt;br/&gt;
  &lt;a href=&quot;https://reviews.facebook.net/D2805&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/D2805&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;AFFECTED FILES&lt;br/&gt;
  ql/src/test/queries/clientpositive/udf_explode.q&lt;br/&gt;
  ql/src/test/queries/clientpositive/udtf_explode.q&lt;br/&gt;
  ql/src/test/results/clientpositive/udf_explode.q.out&lt;br/&gt;
  ql/src/test/results/clientpositive/udtf_explode.q.out&lt;br/&gt;
  serde/src/java/org/apache/hadoop/hive/serde2/lazy/LazyArray.java&lt;br/&gt;
  serde/src/java/org/apache/hadoop/hive/serde2/lazy/LazyMap.java&lt;/p&gt;</comment>
                            <comment id="13281423" author="namit" created="Wed, 23 May 2012 06:30:57 +0000"  >&lt;p&gt;The test that you added is failing.&lt;/p&gt;</comment>
                            <comment id="13281543" author="navis" created="Wed, 23 May 2012 11:59:33 +0000"  >&lt;p&gt;It passes in my environment. I&apos;ll test again after rebasing on trunk.&lt;/p&gt;</comment>
                            <comment id="13284095" author="navis" created="Sun, 27 May 2012 00:32:47 +0000"  >&lt;p&gt;@Namit Jain&lt;br/&gt;
I cannot find any failure with this patch. Could this be caused by the difference of environment?&lt;/p&gt;</comment>
                            <comment id="13284106" author="namit" created="Sun, 27 May 2012 05:29:08 +0000"  >&lt;p&gt;I will try again.&lt;/p&gt;</comment>
                            <comment id="13284147" author="namit" created="Sun, 27 May 2012 12:08:25 +0000"  >&lt;p&gt;Committed. Thanks Navis&lt;/p&gt;</comment>
                            <comment id="13284255" author="hudson" created="Mon, 28 May 2012 00:18:06 +0000"  >&lt;p&gt;Integrated in Hive-trunk-h0.21 #1453 (See &lt;a href=&quot;https://builds.apache.org/job/Hive-trunk-h0.21/1453/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/Hive-trunk-h0.21/1453/&lt;/a&gt;)&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2540&quot; title=&quot;LATERAL VIEW with EXPLODE produces ConcurrentModificationException&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2540&quot;&gt;&lt;del&gt;HIVE-2540&lt;/del&gt;&lt;/a&gt; LATERAL VIEW with EXPLODE produces ConcurrentModificationException&lt;br/&gt;
(Navis via namit) (Revision 1343036)&lt;/p&gt;

&lt;p&gt;     Result = SUCCESS&lt;br/&gt;
namit : &lt;a href=&quot;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1343036&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1343036&lt;/a&gt;&lt;br/&gt;
Files : &lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/queries/clientpositive/udf_explode.q&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/queries/clientpositive/udtf_explode.q&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/udf_explode.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/udtf_explode.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/serde/src/java/org/apache/hadoop/hive/serde2/lazy/LazyArray.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/serde/src/java/org/apache/hadoop/hive/serde2/lazy/LazyMap.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13477971" author="hibou" created="Wed, 17 Oct 2012 15:49:28 +0000"  >&lt;p&gt;What is the actual fix version ?&lt;/p&gt;</comment>
                            <comment id="13478509" author="navis" created="Wed, 17 Oct 2012 23:57:20 +0000"  >&lt;p&gt;It&apos;s not on hive-0.9.x. Would be included hive-0.10.0 maybe? &lt;/p&gt;</comment>
                            <comment id="13547856" author="hudson" created="Wed, 9 Jan 2013 10:23:20 +0000"  >&lt;p&gt;Integrated in Hive-trunk-hadoop2 #54 (See &lt;a href=&quot;https://builds.apache.org/job/Hive-trunk-hadoop2/54/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/Hive-trunk-hadoop2/54/&lt;/a&gt;)&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2540&quot; title=&quot;LATERAL VIEW with EXPLODE produces ConcurrentModificationException&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2540&quot;&gt;&lt;del&gt;HIVE-2540&lt;/del&gt;&lt;/a&gt; LATERAL VIEW with EXPLODE produces ConcurrentModificationException&lt;br/&gt;
(Navis via namit) (Revision 1343036)&lt;/p&gt;

&lt;p&gt;     Result = ABORTED&lt;br/&gt;
namit : &lt;a href=&quot;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1343036&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1343036&lt;/a&gt;&lt;br/&gt;
Files : &lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/queries/clientpositive/udf_explode.q&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/queries/clientpositive/udtf_explode.q&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/udf_explode.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/results/clientpositive/udtf_explode.q.out&lt;/li&gt;
	&lt;li&gt;/hive/trunk/serde/src/java/org/apache/hadoop/hive/serde2/lazy/LazyArray.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/serde/src/java/org/apache/hadoop/hive/serde2/lazy/LazyMap.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13550173" author="ashutoshc" created="Thu, 10 Jan 2013 19:53:40 +0000"  >&lt;p&gt;This issue is fixed and released as part of 0.10.0 release. If you find an issue which seems to be related to this one, please create a new jira and link this one with new jira.&lt;/p&gt;</comment>
                            <comment id="13976820" author="lars_francke" created="Tue, 22 Apr 2014 14:26:27 +0000"  >&lt;p&gt;We&apos;re still seeing this issue with Hive 0.12 (slightly patched as it&apos;s the one from CDH5):&lt;/p&gt;

&lt;blockquote&gt;
&lt;p&gt;2014-04-22 16:18:50,304 WARN &lt;span class=&quot;error&quot;&gt;&amp;#91;main&amp;#93;&lt;/span&gt; org.apache.hadoop.mapred.YarnChild: Exception running child : java.lang.RuntimeException: org.apache.hadoop.hive.ql.metadata.HiveException: Hive Runtime Error while processing row &lt;/p&gt;
&lt;div class=&quot;error&quot;&gt;&lt;span class=&quot;error&quot;&gt;Unknown macro: {&amp;quot;product_id&amp;quot;}&lt;/span&gt; &lt;/div&gt;
&lt;p&gt;	at org.apache.hadoop.hive.ql.exec.mr.ExecMapper.map(ExecMapper.java:175)&lt;br/&gt;
	at org.apache.hadoop.mapred.MapRunner.run(MapRunner.java:54)&lt;br/&gt;
	at org.apache.hadoop.mapred.MapTask.runOldMapper(MapTask.java:430)&lt;br/&gt;
	at org.apache.hadoop.mapred.MapTask.run(MapTask.java:342)&lt;br/&gt;
	at org.apache.hadoop.mapred.YarnChild$2.run(YarnChild.java:168)&lt;br/&gt;
	at java.security.AccessController.doPrivileged(Native Method)&lt;br/&gt;
	at javax.security.auth.Subject.doAs(Subject.java:415)&lt;br/&gt;
	at org.apache.hadoop.security.UserGroupInformation.doAs(UserGroupInformation.java:1548)&lt;br/&gt;
	at org.apache.hadoop.mapred.YarnChild.main(YarnChild.java:163)&lt;br/&gt;
Caused by: org.apache.hadoop.hive.ql.metadata.HiveException: Hive Runtime Error while processing row &lt;/p&gt;
&lt;div class=&quot;error&quot;&gt;&lt;span class=&quot;error&quot;&gt;Unknown macro: {&amp;quot;product_id&amp;quot;}&lt;/span&gt; &lt;/div&gt;
&lt;p&gt;	at org.apache.hadoop.hive.ql.exec.MapOperator.process(MapOperator.java:529)&lt;br/&gt;
	at org.apache.hadoop.hive.ql.exec.mr.ExecMapper.map(ExecMapper.java:157)&lt;br/&gt;
	... 8 more&lt;br/&gt;
Caused by: java.util.ConcurrentModificationException&lt;br/&gt;
	at java.util.ArrayList$Itr.checkForComodification(ArrayList.java:859)&lt;br/&gt;
	at java.util.ArrayList$Itr.next(ArrayList.java:831)&lt;br/&gt;
	at org.apache.hadoop.hive.ql.udf.generic.GenericUDTFExplode.process(GenericUDTFExplode.java:92)&lt;br/&gt;
	at org.apache.hadoop.hive.ql.exec.UDTFOperator.processOp(UDTFOperator.java:113)&lt;br/&gt;
	at org.apache.hadoop.hive.ql.exec.Operator.process(Operator.java:504)&lt;br/&gt;
	at org.apache.hadoop.hive.ql.exec.Operator.forward(Operator.java:844)&lt;br/&gt;
	at org.apache.hadoop.hive.ql.exec.SelectOperator.processOp(SelectOperator.java:87)&lt;br/&gt;
	at org.apache.hadoop.hive.ql.exec.Operator.process(Operator.java:504)&lt;br/&gt;
	at org.apache.hadoop.hive.ql.exec.Operator.forward(Operator.java:844)&lt;br/&gt;
	at org.apache.hadoop.hive.ql.exec.LateralViewForwardOperator.processOp(LateralViewForwardOperator.java:37)&lt;br/&gt;
	at org.apache.hadoop.hive.ql.exec.Operator.process(Operator.java:504)&lt;br/&gt;
	at org.apache.hadoop.hive.ql.exec.Operator.forward(Operator.java:844)&lt;br/&gt;
	at org.apache.hadoop.hive.ql.exec.TableScanOperator.processOp(TableScanOperator.java:91)&lt;br/&gt;
	at org.apache.hadoop.hive.ql.exec.Operator.process(Operator.java:504)&lt;br/&gt;
	at org.apache.hadoop.hive.ql.exec.Operator.forward(Operator.java:844)&lt;br/&gt;
	at org.apache.hadoop.hive.ql.exec.MapOperator.process(MapOperator.java:519)&lt;br/&gt;
	... 9 more&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;I haven&apos;t had time to check whether this patch is actually included but I&apos;d expect it to be. Shall I open a new issue?&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="12310060">
                    <name>Container</name>
                                                                <inwardlinks description="Is contained by">
                                        <issuelink>
            <issuekey id="12785642">HIVE-10089</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                            <issuelinktype id="12310000">
                    <name>Duplicate</name>
                                                                <inwardlinks description="is duplicated by">
                                        <issuelink>
            <issuekey id="12550318">HIVE-2939</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="12522742" name="ASF.LICENSE.NOT.GRANTED--HIVE-2540.D2805.1.patch" size="15901" author="phabricator@reviews.facebook.net" created="Mon, 16 Apr 2012 07:16:18 +0000"/>
                            <attachment id="12523953" name="ASF.LICENSE.NOT.GRANTED--HIVE-2540.D2805.2.patch" size="14971" author="phabricator@reviews.facebook.net" created="Tue, 24 Apr 2012 10:35:34 +0000"/>
                            <attachment id="12524374" name="ASF.LICENSE.NOT.GRANTED--HIVE-2540.D2805.3.patch" size="14428" author="phabricator@reviews.facebook.net" created="Thu, 26 Apr 2012 01:19:14 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>3.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Mon, 7 Nov 2011 16:15:46 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>215562</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310191" key="com.atlassian.jira.plugin.system.customfieldtypes:multicheckboxes">
                        <customfieldname>Hadoop Flags</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10343"><![CDATA[Reviewed]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            2 years, 32 weeks, 3 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i02uhj:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>14540</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        </customfields>
    </item>
</channel>
</rss>