<!-- 
RSS generated by JIRA (6.3.4#6332-sha1:51bc225ef474afe3128b2f66878477f322397b16) at Sat Dec 03 23:15:04 UTC 2016

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary add field=key&field=summary to the URL of your request.
For example:
https://issues.apache.org/jira/si/jira.issueviews:issue-xml/HIVE-3127/HIVE-3127.xml?field=key&amp;field=summary
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>6.3.4</version>
        <build-number>6332</build-number>
        <build-date>15-08-2014</build-date>
    </build-info>

<item>
            <title>[HIVE-3127] Pass hconf values as XML instead of command line arguments to child JVM</title>
                <link>https://issues.apache.org/jira/browse/HIVE-3127</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;The maximum length of the DOS command string is 8191 characters (in Windows latest versions &lt;a href=&quot;http://support.microsoft.com/kb/830473&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://support.microsoft.com/kb/830473&lt;/a&gt;). This limit will be exceeded easily when it appends individual &#8211;hconf values to the command string. To work around this problem, Write all changed hconf values to a temp file and pass the temp file path to the child jvm to read and initialize the -hconf parameters from file.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12560539">HIVE-3127</key>
            <summary>Pass hconf values as XML instead of command line arguments to child JVM</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/bug.png">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.png">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="kannakar@microsoft.com">Kanna Karanam</assignee>
                                    <reporter username="kannakar@microsoft.com">Kanna Karanam</reporter>
                        <labels>
                            <label>Windows</label>
                    </labels>
                <created>Wed, 13 Jun 2012 17:52:20 +0000</created>
                <updated>Mon, 11 Aug 2014 07:44:41 +0000</updated>
                            <resolved>Thu, 28 Jun 2012 00:44:59 +0000</resolved>
                                    <version>0.9.0</version>
                    <version>0.9.1</version>
                    <version>0.10.0</version>
                                    <fixVersion>0.10.0</fixVersion>
                                    <component>Configuration</component>
                    <component>Windows</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>6</watches>
                                                                <comments>
                            <comment id="13393439" author="kannakar@microsoft.com" created="Sun, 17 Jun 2012 04:38:27 +0000"  >&lt;p&gt;Attached the patch&lt;/p&gt;</comment>
                            <comment id="13393576" author="appodictic" created="Sun, 17 Jun 2012 17:44:10 +0000"  >&lt;p&gt;Another interesting piece. If we can write the entire configuration to a file it might make more sense to deprecate the passing individual elements entirely.&lt;/p&gt;</comment>
                            <comment id="13393667" author="kannakar@microsoft.com" created="Mon, 18 Jun 2012 05:01:03 +0000"  >&lt;p&gt;Thanks Edward, I thought of removing the arguments option completely, but I felt that it can introduce a small perf hit on Linux unnecessarily as we are creating/deleting a temp files for every task execution. If we feel that this perf hit is negligible then I will remove the arguments option.&lt;br/&gt;
Thanks&lt;/p&gt;</comment>
                            <comment id="13396419" author="appodictic" created="Tue, 19 Jun 2012 00:45:16 +0000"  >&lt;p&gt;I vote we remove the arguments options entirely. Unix/Linux has the same max command line argument issue although people hit it less frequently because it is larger. We do not need two code paths and the performance of writing a file is nothing compared to overall mr time.&lt;/p&gt;</comment>
                            <comment id="13397126" author="kannakar@microsoft.com" created="Tue, 19 Jun 2012 22:38:40 +0000"  >&lt;p&gt;Hive-3127.2.patch.txt &#8211; Removed the arguments option completely so have the same logic for Windows &amp;amp; Linux.&lt;/p&gt;

&lt;p&gt;Unit Tests &#8211; Existing units will cover this scenarios completely.&lt;/p&gt;</comment>
                            <comment id="13398301" author="cwsteinbach" created="Thu, 21 Jun 2012 08:58:09 +0000"  >&lt;p&gt;@Kanna: please post a review request on reviews.apache.org. Thanks.&lt;/p&gt;</comment>
                            <comment id="13398576" author="kannakar@microsoft.com" created="Thu, 21 Jun 2012 16:49:53 +0000"  >&lt;p&gt;Thanks Carl. Submittied the code review.&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://reviews.apache.org/r/5491/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.apache.org/r/5491/&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="13399743" author="appodictic" created="Sat, 23 Jun 2012 00:03:23 +0000"  >&lt;p&gt;Kanna,&lt;/p&gt;

&lt;p&gt;Your missing something. The BlockMergeTask ask uses -jobconf  . You will need to patch that as well.&lt;/p&gt;

&lt;p&gt;&lt;span class=&quot;error&quot;&gt;&amp;#91;edward@tablitha trunk&amp;#93;&lt;/span&gt;$ grep -R &apos;&amp;#45;jobconf&apos; ./*&lt;/p&gt;

&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;./ql/src/java/org/apache/hadoop/hive/ql/io/rcfile/merge/BlockMergeTask.java:        } else if (args[i].equals(&quot;-jobconf&quot;)) {
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</comment>
                            <comment id="13399754" author="kannakar@microsoft.com" created="Sat, 23 Jun 2012 00:29:09 +0000"  >&lt;p&gt;Thanks Edward, I will look into it. I wonder how I got 100% test pass. It looks like there are no unit tests to test this scenario  or they are passing with default conf values. &lt;br/&gt;
Can you please suggest a query to create a unit test for this?&lt;br/&gt;
Thanks&lt;/p&gt;</comment>
                            <comment id="13399767" author="appodictic" created="Sat, 23 Jun 2012 00:57:30 +0000"  >&lt;p&gt;Welcome to hive &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/smile.gif&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt; I am willing to bet we only hit the block merge if the input is larger then hdfs blocks size, or the defaults is high and it normally does not happen during the course of the unit tests.&lt;/p&gt;</comment>
                            <comment id="13400109" author="kannakar@microsoft.com" created="Sun, 24 Jun 2012 07:45:53 +0000"  >&lt;p&gt;Updated the patch with modifications to BlockMergeTask.&lt;/p&gt;</comment>
                            <comment id="13400112" author="kannakar@microsoft.com" created="Sun, 24 Jun 2012 07:50:27 +0000"  >&lt;p&gt;@Edward - Thanks for helping me understand the hive better. I couldn&#8217;t figure out the caller of for BlockMergeTask::main anywhere in the code. Thanks.&lt;/p&gt;</comment>
                            <comment id="13400949" author="appodictic" created="Mon, 25 Jun 2012 22:02:27 +0000"  >&lt;p&gt;So I have found a reference to BlockMergeTask in ./ql/src/java/org/apache/hadoop/hive/ql/exec/TaskFactory.java . &lt;/p&gt;

&lt;p&gt;Also the last release note was. ./build/dist/RELEASE_NOTES.txt:    * &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2413&quot; title=&quot;BlockMergeTask ignores client-specified jars&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2413&quot;&gt;&lt;del&gt;HIVE-2413&lt;/del&gt;&lt;/a&gt; - BlockMergeTask ignores client-specified jars&lt;/p&gt;

&lt;p&gt;vi ./ql/src/java/org/apache/hadoop/hive/ql/io/rcfile/merge/BlockMergeTask.java&lt;/p&gt;

&lt;p&gt;You could be correct in that the main is unreachable now. Maybe someone added it as a hack for direct testing, it would be good to cut-it from the code if it is not reachable. Maybe one of the other devs will chime in.&lt;/p&gt;

&lt;p&gt;If not one else has any insight I will review and +1 tomorrow.&lt;/p&gt;</comment>
                            <comment id="13401995" author="kannakar@microsoft.com" created="Wed, 27 Jun 2012 06:39:46 +0000"  >&lt;p&gt;Thanks Edward.&lt;/p&gt;</comment>
                            <comment id="13402725" author="appodictic" created="Thu, 28 Jun 2012 00:44:59 +0000"  >&lt;p&gt;Committed. Thank you. &lt;/p&gt;</comment>
                            <comment id="13402884" author="hudson" created="Thu, 28 Jun 2012 06:20:20 +0000"  >&lt;p&gt;Integrated in Hive-trunk-h0.21 #1517 (See &lt;a href=&quot;https://builds.apache.org/job/Hive-trunk-h0.21/1517/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/Hive-trunk-h0.21/1517/&lt;/a&gt;)&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-3127&quot; title=&quot;Pass hconf values as XML instead of command line arguments to child JVM&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-3127&quot;&gt;&lt;del&gt;HIVE-3127&lt;/del&gt;&lt;/a&gt; Pass hconf values as XML instead of command line arguments to child JVM. Kanna Karanam (via egc) (Revision 1354781)&lt;/p&gt;

&lt;p&gt;     Result = FAILURE&lt;br/&gt;
ecapriolo : &lt;a href=&quot;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1354781&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1354781&lt;/a&gt;&lt;br/&gt;
Files : &lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/exec/ExecDriver.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/exec/MapRedTask.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/exec/MapredLocalTask.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/io/rcfile/merge/BlockMergeTask.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13547885" author="hudson" created="Wed, 9 Jan 2013 10:23:27 +0000"  >&lt;p&gt;Integrated in Hive-trunk-hadoop2 #54 (See &lt;a href=&quot;https://builds.apache.org/job/Hive-trunk-hadoop2/54/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/Hive-trunk-hadoop2/54/&lt;/a&gt;)&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-3127&quot; title=&quot;Pass hconf values as XML instead of command line arguments to child JVM&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-3127&quot;&gt;&lt;del&gt;HIVE-3127&lt;/del&gt;&lt;/a&gt; Pass hconf values as XML instead of command line arguments to child JVM. Kanna Karanam (via egc) (Revision 1354781)&lt;/p&gt;

&lt;p&gt;     Result = ABORTED&lt;br/&gt;
ecapriolo : &lt;a href=&quot;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1354781&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1354781&lt;/a&gt;&lt;br/&gt;
Files : &lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/exec/ExecDriver.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/exec/MapRedTask.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/exec/MapredLocalTask.java&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/io/rcfile/merge/BlockMergeTask.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13550113" author="ashutoshc" created="Thu, 10 Jan 2013 19:53:26 +0000"  >&lt;p&gt;This issue is fixed and released as part of 0.10.0 release. If you find an issue which seems to be related to this one, please create a new jira and link this one with new jira.&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="12310010">
                    <name>Incorporates</name>
                                                                <inwardlinks description="is part of">
                                        <issuelink>
            <issuekey id="12553674">HIVE-2998</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="12532321" name="HIVE-3127.1.patch.txt" size="11563" author="kannakar@microsoft.com" created="Sun, 17 Jun 2012 04:38:26 +0000"/>
                            <attachment id="12532613" name="HIVE-3127.2.patch.txt" size="8176" author="kannakar@microsoft.com" created="Tue, 19 Jun 2012 22:38:40 +0000"/>
                            <attachment id="12533211" name="HIVE-3127.3.patch.txt" size="10914" author="kannakar@microsoft.com" created="Sun, 24 Jun 2012 07:45:53 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>3.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Sun, 17 Jun 2012 17:44:10 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>242381</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310191" key="com.atlassian.jira.plugin.system.customfieldtypes:multicheckboxes">
                        <customfieldname>Hadoop Flags</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10343"><![CDATA[Reviewed]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            3 years, 47 weeks, 2 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i02u8v:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>14501</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        </customfields>
    </item>
</channel>
</rss>