<!-- 
RSS generated by JIRA (6.3.4#6332-sha1:51bc225ef474afe3128b2f66878477f322397b16) at Sat Dec 03 23:57:54 UTC 2016

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary add field=key&field=summary to the URL of your request.
For example:
https://issues.apache.org/jira/si/jira.issueviews:issue-xml/HIVE-7689/HIVE-7689.xml?field=key&amp;field=summary
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>6.3.4</version>
        <build-number>6332</build-number>
        <build-date>15-08-2014</build-date>
    </build-info>

<item>
            <title>[HIVE-7689] Fix wrong lower case table names in Postgres Metastore back end</title>
                <link>https://issues.apache.org/jira/browse/HIVE-7689</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;Current 0.14 patch create table with lower case names.&lt;br/&gt;
This patch fix wrong lower case tables names in Postgres Metastore back end.&lt;/p&gt;

&lt;p&gt;Mixing lower case and upper case throws bugs in &lt;tt&gt;JDBCStatsPublisher&lt;/tt&gt;&lt;/p&gt;</description>
                <environment></environment>
        <key id="12733470">HIVE-7689</key>
            <summary>Fix wrong lower case table names in Postgres Metastore back end</summary>
                <type id="4" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/improvement.png">Improvement</type>
                                            <priority id="1" iconUrl="https://issues.apache.org/jira/images/icons/priorities/blocker.png">Blocker</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="2">Won&apos;t Fix</resolution>
                                        <assignee username="damien.carol">Damien Carol</assignee>
                                    <reporter username="damien.carol">Damien Carol</reporter>
                        <labels>
                            <label>metastore</label>
                            <label>postgres</label>
                    </labels>
                <created>Tue, 12 Aug 2014 12:43:54 +0000</created>
                <updated>Wed, 11 Mar 2015 15:00:28 +0000</updated>
                            <resolved>Thu, 2 Oct 2014 07:05:34 +0000</resolved>
                                    <version>0.14.0</version>
                                    <fixVersion>0.14.0</fixVersion>
                                    <component>Metastore</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>9</watches>
                                                                <comments>
                            <comment id="14094421" author="hiveqa" created="Tue, 12 Aug 2014 18:10:59 +0000"  >

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;Overall&lt;/font&gt;: -1 at least one tests failed&lt;/p&gt;

&lt;p&gt;Here are the results of testing the latest attachment:&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/secure/attachment/12661211/HIVE-7889.1.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/secure/attachment/12661211/HIVE-7889.1.patch&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;ERROR:&lt;/font&gt; -1 due to 2 failed/errored test(s), 5889 tests executed&lt;br/&gt;
&lt;b&gt;Failed tests:&lt;/b&gt;&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;org.apache.hadoop.hive.cli.TestMiniTezCliDriver.testCliDriver_dynpart_sort_opt_vectorization
org.apache.hive.jdbc.miniHS2.TestHiveServer2.testConnection
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Test results: &lt;a href=&quot;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-TRUNK-Build/276/testReport&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-TRUNK-Build/276/testReport&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-TRUNK-Build/276/console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-TRUNK-Build/276/console&lt;/a&gt;&lt;br/&gt;
Test logs: &lt;a href=&quot;http://ec2-174-129-184-35.compute-1.amazonaws.com/logs/PreCommit-HIVE-TRUNK-Build-276/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://ec2-174-129-184-35.compute-1.amazonaws.com/logs/PreCommit-HIVE-TRUNK-Build-276/&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Messages:&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;Executing org.apache.hive.ptest.execution.PrepPhase
Executing org.apache.hive.ptest.execution.ExecutionPhase
Executing org.apache.hive.ptest.execution.ReportingPhase
Tests exited with: TestsFailedException: 2 tests failed
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;

&lt;p&gt;ATTACHMENT ID: 12661211&lt;/p&gt;</comment>
                            <comment id="14103521" author="damien.carol" created="Wed, 20 Aug 2014 06:59:36 +0000"  >&lt;p&gt;Rebased and add more features.&lt;/p&gt;</comment>
                            <comment id="14103688" author="hiveqa" created="Wed, 20 Aug 2014 09:41:36 +0000"  >

&lt;p&gt;&lt;font color=&quot;green&quot;&gt;Overall&lt;/font&gt;: +1 all checks pass&lt;/p&gt;

&lt;p&gt;Here are the results of testing the latest attachment:&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/secure/attachment/12663067/HIVE-7889.2.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/secure/attachment/12663067/HIVE-7889.2.patch&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;font color=&quot;green&quot;&gt;SUCCESS:&lt;/font&gt; +1 6008 tests passed&lt;/p&gt;

&lt;p&gt;Test results: &lt;a href=&quot;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-TRUNK-Build/418/testReport&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-TRUNK-Build/418/testReport&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-TRUNK-Build/418/console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-TRUNK-Build/418/console&lt;/a&gt;&lt;br/&gt;
Test logs: &lt;a href=&quot;http://ec2-174-129-184-35.compute-1.amazonaws.com/logs/PreCommit-HIVE-TRUNK-Build-418/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://ec2-174-129-184-35.compute-1.amazonaws.com/logs/PreCommit-HIVE-TRUNK-Build-418/&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Messages:&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;Executing org.apache.hive.ptest.execution.PrepPhase
Executing org.apache.hive.ptest.execution.ExecutionPhase
Executing org.apache.hive.ptest.execution.ReportingPhase
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;

&lt;p&gt;ATTACHMENT ID: 12663067&lt;/p&gt;</comment>
                            <comment id="14104338" author="alangates" created="Wed, 20 Aug 2014 18:54:10 +0000"  >&lt;p&gt;It looks like these changes are all to change the SQL to be uppercase and quote all identifiers.  What issues are you seeing to drives the need for this?   Have you tested it against any other RDBMSs?&lt;/p&gt;</comment>
                            <comment id="14104372" author="sershe" created="Wed, 20 Aug 2014 19:13:14 +0000"  >&lt;p&gt;The problem is that Postgres coerces unquoted identifiers everywhere to lower (iirc) case and has no way to disable this, to put it very mildly, questionable behavior; afair the request to add a flag similar to mysql one for ANSI was also not viewed positively when I tried.&lt;br/&gt;
So either everything has to be lower case, or everything has to be quoted (and upper case, for simplicity I guess).&lt;/p&gt;</comment>
                            <comment id="14104375" author="sershe" created="Wed, 20 Aug 2014 19:13:55 +0000"  >&lt;p&gt;&quot;-quoted identifiers are ansi standard... MySQL would require a flag (see MetaStoreDirectSql.java)&lt;/p&gt;</comment>
                            <comment id="14104879" author="damien.carol" created="Thu, 21 Aug 2014 00:46:57 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=alangates&quot; class=&quot;user-hover&quot; rel=&quot;alangates&quot;&gt;Alan Gates&lt;/a&gt; &lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;It looks like these changes are all to change the SQL to be uppercase and quote all identifiers. What issues are you seeing to drives the need for this?&lt;/p&gt;&lt;/blockquote&gt;
&lt;p&gt;Yes, these changes are all to change the identifiers (tables names and columns names) to be uppercase and quote all identifiers using &lt;tt&gt;getIdentifierQuoteString()&lt;/tt&gt; from JDBC API.&lt;br/&gt;
These modifications are needed to make it works with Postgres 8.4 as &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=sershe&quot; class=&quot;user-hover&quot; rel=&quot;sershe&quot;&gt;Sergey Shelukhin&lt;/a&gt; has explained very well. (See also the comment in code in file  &lt;a href=&quot;https://github.com/apache/hive/blob/e91227e9f454462dad4343dec5f0724553dcdf04/metastore/src/java/org/apache/hadoop/hive/metastore/MetaStoreDirectSql.java#L88&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;MetaStoreDirectSql.java#L88&lt;/a&gt; that describes the problem)&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;Have you tested it against any other RDBMSs?&lt;/p&gt;&lt;/blockquote&gt;
&lt;p&gt;Only with Derby and Postgres 8.4&lt;/p&gt;</comment>
                            <comment id="14105511" author="alangates" created="Thu, 21 Aug 2014 16:07:31 +0000"  >&lt;p&gt;I will review this but I&apos;ll need to test it against other backends (MySQL, Oracle).  It will be a week or so until I get to it.&lt;/p&gt;</comment>
                            <comment id="14107001" author="damien.carol" created="Fri, 22 Aug 2014 15:50:13 +0000"  >&lt;p&gt;Rebased the patch and rewrited some stuffs.&lt;/p&gt;</comment>
                            <comment id="14107527" author="hiveqa" created="Fri, 22 Aug 2014 21:31:44 +0000"  >

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;Overall&lt;/font&gt;: -1 at least one tests failed&lt;/p&gt;

&lt;p&gt;Here are the results of testing the latest attachment:&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/secure/attachment/12663675/HIVE-7889.3.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/secure/attachment/12663675/HIVE-7889.3.patch&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;ERROR:&lt;/font&gt; -1 due to 1 failed/errored test(s), 6116 tests executed&lt;br/&gt;
&lt;b&gt;Failed tests:&lt;/b&gt;&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;org.apache.hadoop.hive.cli.TestMiniTezCliDriver.testCliDriver_dynpart_sort_opt_vectorization
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Test results: &lt;a href=&quot;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-TRUNK-Build/466/testReport&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-TRUNK-Build/466/testReport&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-TRUNK-Build/466/console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-TRUNK-Build/466/console&lt;/a&gt;&lt;br/&gt;
Test logs: &lt;a href=&quot;http://ec2-174-129-184-35.compute-1.amazonaws.com/logs/PreCommit-HIVE-TRUNK-Build-466/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://ec2-174-129-184-35.compute-1.amazonaws.com/logs/PreCommit-HIVE-TRUNK-Build-466/&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Messages:&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;Executing org.apache.hive.ptest.execution.PrepPhase
Executing org.apache.hive.ptest.execution.ExecutionPhase
Executing org.apache.hive.ptest.execution.ReportingPhase
Tests exited with: TestsFailedException: 1 tests failed
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;

&lt;p&gt;ATTACHMENT ID: 12663675&lt;/p&gt;</comment>
                            <comment id="14119532" author="damien.carol" created="Wed, 3 Sep 2014 08:24:45 +0000"  >&lt;p&gt;Rebased&lt;/p&gt;</comment>
                            <comment id="14120012" author="hiveqa" created="Wed, 3 Sep 2014 16:05:51 +0000"  >

&lt;p&gt;&lt;font color=&quot;green&quot;&gt;Overall&lt;/font&gt;: +1 all checks pass&lt;/p&gt;

&lt;p&gt;Here are the results of testing the latest attachment:&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/secure/attachment/12666180/HIVE-7889.4.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/secure/attachment/12666180/HIVE-7889.4.patch&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;font color=&quot;green&quot;&gt;SUCCESS:&lt;/font&gt; +1 6142 tests passed&lt;/p&gt;

&lt;p&gt;Test results: &lt;a href=&quot;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-TRUNK-Build/620/testReport&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-TRUNK-Build/620/testReport&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-TRUNK-Build/620/console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-TRUNK-Build/620/console&lt;/a&gt;&lt;br/&gt;
Test logs: &lt;a href=&quot;http://ec2-174-129-184-35.compute-1.amazonaws.com/logs/PreCommit-HIVE-TRUNK-Build-620/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://ec2-174-129-184-35.compute-1.amazonaws.com/logs/PreCommit-HIVE-TRUNK-Build-620/&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Messages:&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;Executing org.apache.hive.ptest.execution.PrepPhase
Executing org.apache.hive.ptest.execution.ExecutionPhase
Executing org.apache.hive.ptest.execution.ReportingPhase
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;

&lt;p&gt;ATTACHMENT ID: 12666180&lt;/p&gt;</comment>
                            <comment id="14125382" author="damien.carol" created="Mon, 8 Sep 2014 10:26:11 +0000"  >&lt;p&gt;Rebased on last trunk&lt;/p&gt;</comment>
                            <comment id="14125829" author="hiveqa" created="Mon, 8 Sep 2014 18:02:34 +0000"  >

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;Overall&lt;/font&gt;: -1 at least one tests failed&lt;/p&gt;

&lt;p&gt;Here are the results of testing the latest attachment:&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/secure/attachment/12667153/HIVE-7689.5.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/secure/attachment/12667153/HIVE-7689.5.patch&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;ERROR:&lt;/font&gt; -1 due to 6 failed/errored test(s), 6185 tests executed&lt;br/&gt;
&lt;b&gt;Failed tests:&lt;/b&gt;&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;org.apache.hadoop.hive.ql.txn.compactor.TestWorker.majorTableLegacy
org.apache.hadoop.hive.ql.txn.compactor.TestWorker.majorTableNoBase
org.apache.hadoop.hive.ql.txn.compactor.TestWorker.majorTableWithBase
org.apache.hadoop.hive.ql.txn.compactor.TestWorker.minorTableLegacy
org.apache.hadoop.hive.ql.txn.compactor.TestWorker.minorTableNoBase
org.apache.hadoop.hive.ql.txn.compactor.TestWorker.minorTableWithBase
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Test results: &lt;a href=&quot;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-TRUNK-Build/694/testReport&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-TRUNK-Build/694/testReport&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-TRUNK-Build/694/console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-TRUNK-Build/694/console&lt;/a&gt;&lt;br/&gt;
Test logs: &lt;a href=&quot;http://ec2-174-129-184-35.compute-1.amazonaws.com/logs/PreCommit-HIVE-TRUNK-Build-694/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://ec2-174-129-184-35.compute-1.amazonaws.com/logs/PreCommit-HIVE-TRUNK-Build-694/&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Messages:&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;Executing org.apache.hive.ptest.execution.PrepPhase
Executing org.apache.hive.ptest.execution.ExecutionPhase
Executing org.apache.hive.ptest.execution.ReportingPhase
Tests exited with: TestsFailedException: 6 tests failed
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;

&lt;p&gt;ATTACHMENT ID: 12667153&lt;/p&gt;</comment>
                            <comment id="14126182" author="alangates" created="Mon, 8 Sep 2014 21:57:07 +0000"  >&lt;p&gt;I haven&apos;t looked into it, but I&apos;m guessing the failed TestWorker tests are real failures, as the compactor uses the transaction tables.&lt;/p&gt;</comment>
                            <comment id="14126766" author="damien.carol" created="Tue, 9 Sep 2014 08:50:50 +0000"  >&lt;p&gt;My bad.&lt;br/&gt;
It&apos;s a new method &lt;tt&gt;findColumnsWithStats&lt;/tt&gt; added in &lt;tt&gt;CompactionTxnHandler&lt;/tt&gt;.&lt;br/&gt;
I written :&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
&lt;span class=&quot;code-keyword&quot;&gt;if&lt;/span&gt; (ci.partName == &lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt;)
        s += &lt;span class=&quot;code-quote&quot;&gt;&quot; AND &quot;&lt;/span&gt; + TxnDbUtil.getEscape(&lt;span class=&quot;code-quote&quot;&gt;&quot;PARTITION_NAME&quot;&lt;/span&gt;, identifierQuoteString) + &lt;span class=&quot;code-quote&quot;&gt;&quot;=&apos;&quot;&lt;/span&gt; + ci.partName + &lt;span class=&quot;code-quote&quot;&gt;&quot;&apos;&quot;&lt;/span&gt;;
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;Instead of &lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
&lt;span class=&quot;code-keyword&quot;&gt;if&lt;/span&gt; (ci.partName != &lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt;)
        s += &lt;span class=&quot;code-quote&quot;&gt;&quot; AND &quot;&lt;/span&gt; + TxnDbUtil.getEscape(&lt;span class=&quot;code-quote&quot;&gt;&quot;PARTITION_NAME&quot;&lt;/span&gt;, identifierQuoteString) + &lt;span class=&quot;code-quote&quot;&gt;&quot;=&apos;&quot;&lt;/span&gt; + ci.partName + &lt;span class=&quot;code-quote&quot;&gt;&quot;&apos;&quot;&lt;/span&gt;;
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;These produce :&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;2014-09-09 10:34:12,818 ERROR [nc-h04-22]: compactor.Worker (Worker.java:run(165)) - Caught an exception in the main loop of compactor worker nc-h04-22, exiting MetaException(message:Unable to connect to transaction database org.postgresql.util.PSQLException: ERROR: column &quot;PARTITION_NAME&quot; does not exist
  Position: 104
        at org.postgresql.core.v3.QueryExecutorImpl.receiveErrorResponse(QueryExecutorImpl.java:2096)
        at org.postgresql.core.v3.QueryExecutorImpl.processResults(QueryExecutorImpl.java:1829)
        at org.postgresql.core.v3.QueryExecutorImpl.execute(QueryExecutorImpl.java:257)
        at org.postgresql.jdbc2.AbstractJdbc2Statement.execute(AbstractJdbc2Statement.java:510)
        at org.postgresql.jdbc2.AbstractJdbc2Statement.executeWithFlags(AbstractJdbc2Statement.java:372)
        at org.postgresql.jdbc2.AbstractJdbc2Statement.executeQuery(AbstractJdbc2Statement.java:252)
        at com.jolbox.bonecp.StatementHandle.executeQuery(StatementHandle.java:464)
        at org.apache.hadoop.hive.metastore.txn.CompactionTxnHandler.findColumnsWithStats(CompactionTxnHandler.java:628)
        at org.apache.hadoop.hive.ql.txn.compactor.Worker.run(Worker.java:140)
)
        at org.apache.hadoop.hive.metastore.txn.CompactionTxnHandler.findColumnsWithStats(CompactionTxnHandler.java:645)
        at org.apache.hadoop.hive.ql.txn.compactor.Worker.run(Worker.java:140)
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;This error breack all compactions. Version 4 of the patch was ok but version 5 introduce a new bug.&lt;br/&gt;
Fixed with new patch now.&lt;/p&gt;</comment>
                            <comment id="14126772" author="damien.carol" created="Tue, 9 Sep 2014 08:53:17 +0000"  >&lt;p&gt;Verified with our streaming benchmark on real hardware and with :&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;mvn -B -o test -Phadoop-2 -Dtest=TestWorker
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</comment>
                            <comment id="14127079" author="hiveqa" created="Tue, 9 Sep 2014 15:13:04 +0000"  >

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;Overall&lt;/font&gt;: -1 at least one tests failed&lt;/p&gt;

&lt;p&gt;Here are the results of testing the latest attachment:&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/secure/attachment/12667375/HIVE-7689.6.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/secure/attachment/12667375/HIVE-7689.6.patch&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;ERROR:&lt;/font&gt; -1 due to 13 failed/errored test(s), 6185 tests executed&lt;br/&gt;
&lt;b&gt;Failed tests:&lt;/b&gt;&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;org.apache.hadoop.hive.ql.lockmgr.TestDbTxnManager.testDDLExclusive
org.apache.hadoop.hive.ql.lockmgr.TestDbTxnManager.testDDLShared
org.apache.hadoop.hive.ql.lockmgr.TestDbTxnManager.testDelete
org.apache.hadoop.hive.ql.lockmgr.TestDbTxnManager.testJoin
org.apache.hadoop.hive.ql.lockmgr.TestDbTxnManager.testReadWrite
org.apache.hadoop.hive.ql.lockmgr.TestDbTxnManager.testRollback
org.apache.hadoop.hive.ql.lockmgr.TestDbTxnManager.testSingleReadMultiPartition
org.apache.hadoop.hive.ql.lockmgr.TestDbTxnManager.testSingleReadPartition
org.apache.hadoop.hive.ql.lockmgr.TestDbTxnManager.testSingleReadTable
org.apache.hadoop.hive.ql.lockmgr.TestDbTxnManager.testSingleWritePartition
org.apache.hadoop.hive.ql.lockmgr.TestDbTxnManager.testSingleWriteTable
org.apache.hadoop.hive.ql.lockmgr.TestDbTxnManager.testUpdate
org.apache.hive.jdbc.miniHS2.TestHiveServer2.testConnection
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Test results: &lt;a href=&quot;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-TRUNK-Build/708/testReport&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-TRUNK-Build/708/testReport&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-TRUNK-Build/708/console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-TRUNK-Build/708/console&lt;/a&gt;&lt;br/&gt;
Test logs: &lt;a href=&quot;http://ec2-174-129-184-35.compute-1.amazonaws.com/logs/PreCommit-HIVE-TRUNK-Build-708/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://ec2-174-129-184-35.compute-1.amazonaws.com/logs/PreCommit-HIVE-TRUNK-Build-708/&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Messages:&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;Executing org.apache.hive.ptest.execution.PrepPhase
Executing org.apache.hive.ptest.execution.ExecutionPhase
Executing org.apache.hive.ptest.execution.ReportingPhase
Tests exited with: TestsFailedException: 13 tests failed
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;

&lt;p&gt;ATTACHMENT ID: 12667375&lt;/p&gt;</comment>
                            <comment id="14127260" author="damien.carol" created="Tue, 9 Sep 2014 17:24:09 +0000"  >&lt;p&gt;Fix error in unit tests&lt;/p&gt;</comment>
                            <comment id="14127442" author="hiveqa" created="Tue, 9 Sep 2014 19:31:53 +0000"  >

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;Overall&lt;/font&gt;: -1 at least one tests failed&lt;/p&gt;

&lt;p&gt;Here are the results of testing the latest attachment:&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/secure/attachment/12667443/HIVE-7689.7.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/secure/attachment/12667443/HIVE-7689.7.patch&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;ERROR:&lt;/font&gt; -1 due to 2 failed/errored test(s), 6192 tests executed&lt;br/&gt;
&lt;b&gt;Failed tests:&lt;/b&gt;&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;org.apache.hadoop.hive.cli.TestMinimrCliDriver.testCliDriver_schemeAuthority
org.apache.hadoop.hive.ql.txn.compactor.TestCompactor.testStatsAfterCompactionPartTbl
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Test results: &lt;a href=&quot;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-TRUNK-Build/711/testReport&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-TRUNK-Build/711/testReport&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-TRUNK-Build/711/console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-TRUNK-Build/711/console&lt;/a&gt;&lt;br/&gt;
Test logs: &lt;a href=&quot;http://ec2-174-129-184-35.compute-1.amazonaws.com/logs/PreCommit-HIVE-TRUNK-Build-711/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://ec2-174-129-184-35.compute-1.amazonaws.com/logs/PreCommit-HIVE-TRUNK-Build-711/&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Messages:&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;Executing org.apache.hive.ptest.execution.PrepPhase
Executing org.apache.hive.ptest.execution.ExecutionPhase
Executing org.apache.hive.ptest.execution.ReportingPhase
Tests exited with: TestsFailedException: 2 tests failed
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;

&lt;p&gt;ATTACHMENT ID: 12667443&lt;/p&gt;</comment>
                            <comment id="14128192" author="damien.carol" created="Wed, 10 Sep 2014 07:48:03 +0000"  >&lt;p&gt;Tests errors are not related to this patch.&lt;/p&gt;</comment>
                            <comment id="14128404" author="alangates" created="Wed, 10 Sep 2014 12:21:49 +0000"  >&lt;p&gt;Are you 100% certain?  The TestCompactor uses the transaction tables in the metastore.&lt;/p&gt;</comment>
                            <comment id="14128427" author="damien.carol" created="Wed, 10 Sep 2014 12:53:44 +0000"  >&lt;p&gt;Using this command with last trunk and this patch applied :&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
mvn -B -o test -Phadoop-2 -Dtest=TestCompactor
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</comment>
                            <comment id="14128459" author="damien.carol" created="Wed, 10 Sep 2014 13:24:59 +0000"  >&lt;p&gt;Add modifications in &lt;tt&gt;prepDB&lt;/tt&gt; et &lt;tt&gt;cleanDb&lt;/tt&gt; methods of &lt;tt&gt;TxnDbUtil&lt;/tt&gt;.&lt;/p&gt;</comment>
                            <comment id="14128565" author="hiveqa" created="Wed, 10 Sep 2014 14:56:44 +0000"  >

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;Overall&lt;/font&gt;: -1 at least one tests failed&lt;/p&gt;

&lt;p&gt;Here are the results of testing the latest attachment:&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/secure/attachment/12667660/HIVE-7689.8.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/secure/attachment/12667660/HIVE-7689.8.patch&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;ERROR:&lt;/font&gt; -1 due to 1 failed/errored test(s), 6193 tests executed&lt;br/&gt;
&lt;b&gt;Failed tests:&lt;/b&gt;&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;org.apache.hive.jdbc.miniHS2.TestHiveServer2.testConnection
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Test results: &lt;a href=&quot;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-TRUNK-Build/725/testReport&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-TRUNK-Build/725/testReport&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-TRUNK-Build/725/console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-TRUNK-Build/725/console&lt;/a&gt;&lt;br/&gt;
Test logs: &lt;a href=&quot;http://ec2-174-129-184-35.compute-1.amazonaws.com/logs/PreCommit-HIVE-TRUNK-Build-725/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://ec2-174-129-184-35.compute-1.amazonaws.com/logs/PreCommit-HIVE-TRUNK-Build-725/&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Messages:&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;Executing org.apache.hive.ptest.execution.PrepPhase
Executing org.apache.hive.ptest.execution.ExecutionPhase
Executing org.apache.hive.ptest.execution.ReportingPhase
Tests exited with: TestsFailedException: 1 tests failed
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;

&lt;p&gt;ATTACHMENT ID: 12667660&lt;/p&gt;</comment>
                            <comment id="14130182" author="damien.carol" created="Thu, 11 Sep 2014 16:00:09 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=alangates&quot; class=&quot;user-hover&quot; rel=&quot;alangates&quot;&gt;Alan Gates&lt;/a&gt; It&apos;s ok now. I verified failed tests and there are not related. I also updated review board.&lt;/p&gt;</comment>
                            <comment id="14140707" author="alangates" created="Fri, 19 Sep 2014 15:09:55 +0000"  >&lt;p&gt;All these calls to getEscape make the code hard to read.  If postgres requires lower case table and column names I&apos;d prefer to change the postgres version of hive-txn-schema.sql to create the tables and columns with lower case names.  Wouldn&apos;t that be easier?&lt;/p&gt;</comment>
                            <comment id="14144600" author="damien.carol" created="Tue, 23 Sep 2014 09:28:17 +0000"  >&lt;blockquote&gt;
&lt;p&gt;If postgres requires lower case table and column names I&apos;d prefer to change the postgres version of hive-txn-schema.sql to create the tables and columns with lower case names.&lt;/p&gt;&lt;/blockquote&gt;
&lt;p&gt;We can&apos;t. All tables in current metastore scripts are uppercase in postgres. Breaking this convention will be painful.&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;All these calls to getEscape make the code hard to read.&lt;/p&gt;&lt;/blockquote&gt;
&lt;p&gt;There are 3 solutions to this pb.&lt;br/&gt;
1. Rewrite this patch to use Datanucleus where it&apos;s possible (not in stats part). =&amp;gt; HARD and very intrusive&lt;br/&gt;
2. Use thrid party library to generate SQL (think about JOOQ &lt;a href=&quot;http://www.jooq.org/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://www.jooq.org/&lt;/a&gt; ASF license) =&amp;gt; easy and well designed BUT add another lib dependency&lt;br/&gt;
3. Keep minimum modifications, use a simple solution to add Identifier Escape =&amp;gt; it&apos;s the way the patch follows, adding a function to get Identifier Escape char from connector&lt;/p&gt;

&lt;p&gt;Tell me: if you want, I rewrite the patch but, as is, postgres cannot be used.&lt;/p&gt;</comment>
                            <comment id="14144602" author="damien.carol" created="Tue, 23 Sep 2014 09:29:52 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=alangates&quot; class=&quot;user-hover&quot; rel=&quot;alangates&quot;&gt;Alan Gates&lt;/a&gt; poke !&lt;/p&gt;</comment>
                            <comment id="14144812" author="alangates" created="Tue, 23 Sep 2014 14:03:08 +0000"  >&lt;blockquote&gt;&lt;p&gt;We can&apos;t. All tables in current metastore scripts are uppercase in postgres. Breaking this convention will be painful.&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;I&apos;m not proposing that we change the case in DataNucleus generated scripts.  That would be painful.  But I don&apos;t see any need to do that to resolve this issue.  Are you concerned that having upper case names for DataNucleus generated tables but lower case names for transaction tables is confusing?  I don&apos;t see that as an issue since these tables are not a public interface.  Is there something else painful I&apos;m missing here?&lt;/p&gt;

&lt;blockquote&gt;&lt;p&gt;Use thrid party library to generate SQL (think about JOOQ &lt;a href=&quot;http://www.jooq.org/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://www.jooq.org/&lt;/a&gt; ASF license) =&amp;gt; easy and well designed BUT add another lib dependency&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;Long term this may be the right answer.  I have not looked into the options.  JOOQ looks like the open source edition only supports open source databases, and since Hive already supports Oracle and MSSQL Server this would not be an option.  &lt;/p&gt;
</comment>
                            <comment id="14146027" author="lukas.eder" created="Wed, 24 Sep 2014 07:54:31 +0000"  >&lt;p&gt;This is Lukas from Data Geekery (the company behind jOOQ) chiming in.&lt;/p&gt;

&lt;blockquote&gt;&lt;p&gt;Long term this may be the right answer. I have not looked into the options. JOOQ looks like the open source edition only supports open source databases, and since Hive already supports Oracle and MSSQL Server this would not be an option.&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;This is correct. We&apos;re aware of the challenges our license model induces to other Open Source projects, specifically those of the ASF. We&apos;ve been talking also to other projects about this:&lt;/p&gt;

&lt;p&gt;&lt;b&gt;Apache GORA&lt;/b&gt;:&lt;/p&gt;

&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/GORA-86&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/browse/GORA-86&lt;/a&gt;&lt;/li&gt;
	&lt;li&gt;&lt;a href=&quot;https://mail-archives.apache.org/mod_mbox/gora-user/201311.mbox/%3CCALuGr6aiAC9ttESkMjHiyLf7HTdyeUTs_Z_J0HSe8Z0tH2fcfg@mail.gmail.com%3E&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://mail-archives.apache.org/mod_mbox/gora-user/201311.mbox/%3CCALuGr6aiAC9ttESkMjHiyLf7HTdyeUTs_Z_J0HSe8Z0tH2fcfg@mail.gmail.com%3E&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;&lt;b&gt;Apache CloudStack&lt;/b&gt;:&lt;/p&gt;

&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;Unfortunately, there hadn&apos;t been too many public discussions about this&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;From the GORA mailing list thread, I suspect that only #2 would apply to Hive:&lt;/p&gt;

&lt;p&gt;&amp;gt;&amp;gt; 2. In addition to the above, Data Geekery and Apache Gora could make a&lt;br/&gt;
&amp;gt;&amp;gt; separate agreement, which grants Apache Gora a perpetual license to use the&lt;br/&gt;
&amp;gt;&amp;gt; jOOQ Enterprise Edition for integration testing Apache Gora against SQL&lt;br/&gt;
&amp;gt;&amp;gt; Server and other commercial databases, but not to distribute, sublicense or&lt;br/&gt;
&amp;gt;&amp;gt; make available the jOOQ Enterprise Edition to end users. End users may&lt;br/&gt;
&amp;gt;&amp;gt; again use Apache Gora with the jOOQ Open Source Edition along with Open&lt;br/&gt;
&amp;gt;&amp;gt; Source databases, or they may purchase a commercial license from Data&lt;br/&gt;
&amp;gt;&amp;gt; Geekery. In this case, Data Geekery would require a prominent backlink&lt;br/&gt;
&amp;gt;&amp;gt; indicating that Apache Gora is based on jOOQ. This is how IntelliJ or&lt;br/&gt;
&amp;gt;&amp;gt; YourKit Profiler handle free commercial licenses for non-commercial OSS&lt;br/&gt;
&amp;gt;&amp;gt; projects as well.&lt;/p&gt;

&lt;p&gt;This option was well received by the GORA team, although the GORA project itself isn&apos;t advancing very fast, so we have not settled this yet.&lt;/p&gt;

&lt;p&gt;If you think that this could be a viable option also for Apache Hive, let me know (or write to sales@datageekery.com). We&apos;re very open to finding creative solutions with other OSS vendors.&lt;/p&gt;

&lt;p&gt;And obviously - to get back on topic - the free, ASL 2.0-licensed jOOQ support for PostgreSQL makes PostgreSQL even more awesome! &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/smile.gif&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/p&gt;</comment>
                            <comment id="14146240" author="damien.carol" created="Wed, 24 Sep 2014 11:54:24 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=alangates&quot; class=&quot;user-hover&quot; rel=&quot;alangates&quot;&gt;Alan Gates&lt;/a&gt; I understand more clearly now why you have some concerns regarding that JIRA.&lt;/p&gt;
&lt;blockquote&gt;&lt;p&gt;Are you concerned that having upper case names for DataNucleus generated tables but lower case names for transaction tables is confusing? I don&apos;t see that as an issue since these tables are not a public interface.&lt;/p&gt;&lt;/blockquote&gt;
&lt;p&gt;First time I launched the script for posgres, I saw the new tables was lower case but all other tables was in upper case. I believed it was a bug. If this not an issue, I think we can close this JIRA.&lt;/p&gt;

&lt;p&gt;It&apos;s just confusing. Every tables in Metastore rely on same upper case policy and naming conventions.&lt;/p&gt;

&lt;p&gt;The only problem is when we will extend Jdbc stats provider or provide access to this lower cased tables though DataNucleus.&lt;br/&gt;
Plus if we want to support a new Database for back-end that don&apos;t rely on &quot;default lower case&quot; behavior.&lt;/p&gt;</comment>
                            <comment id="14152135" author="vikram.dixit" created="Mon, 29 Sep 2014 19:34:40 +0000"  >&lt;p&gt;Hi Damien,&lt;/p&gt;

&lt;p&gt;Do you think this will be ready for 0.14? If so please mark this jira with a higher priority (Critical/Blocker) and set fix version to 0.14.0. Can you rebase the patch against latest trunk?&lt;/p&gt;

&lt;p&gt;Thanks&lt;br/&gt;
Vikram.&lt;/p&gt;</comment>
                            <comment id="14152141" author="brocknoland" created="Mon, 29 Sep 2014 19:38:30 +0000"  >&lt;p&gt;AFAIK Postgres has always worked, thus this is a blocker.&lt;/p&gt;</comment>
                            <comment id="14153037" author="damien.carol" created="Tue, 30 Sep 2014 10:16:26 +0000"  >&lt;p&gt;Rebased on last trunk.&lt;/p&gt;</comment>
                            <comment id="14153326" author="brocknoland" created="Tue, 30 Sep 2014 16:11:15 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=damien.carol&quot; class=&quot;user-hover&quot; rel=&quot;damien.carol&quot;&gt;Damien Carol&lt;/a&gt; do you mean without the double quotes, the tables are created as lowercase and thus do not work?&lt;/p&gt;</comment>
                            <comment id="14153885" author="hiveqa" created="Tue, 30 Sep 2014 22:25:55 +0000"  >

&lt;p&gt;&lt;font color=&quot;green&quot;&gt;Overall&lt;/font&gt;: +1 all checks pass&lt;/p&gt;

&lt;p&gt;Here are the results of testing the latest attachment:&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/secure/attachment/12672011/HIVE-7689.9.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/secure/attachment/12672011/HIVE-7689.9.patch&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;font color=&quot;green&quot;&gt;SUCCESS:&lt;/font&gt; +1 6373 tests passed&lt;/p&gt;

&lt;p&gt;Test results: &lt;a href=&quot;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-TRUNK-Build/1058/testReport&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-TRUNK-Build/1058/testReport&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-TRUNK-Build/1058/console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-TRUNK-Build/1058/console&lt;/a&gt;&lt;br/&gt;
Test logs: &lt;a href=&quot;http://ec2-174-129-184-35.compute-1.amazonaws.com/logs/PreCommit-HIVE-TRUNK-Build-1058/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://ec2-174-129-184-35.compute-1.amazonaws.com/logs/PreCommit-HIVE-TRUNK-Build-1058/&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Messages:&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;Executing org.apache.hive.ptest.execution.PrepPhase
Executing org.apache.hive.ptest.execution.ExecutionPhase
Executing org.apache.hive.ptest.execution.ReportingPhase
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;

&lt;p&gt;ATTACHMENT ID: 12672011&lt;/p&gt;</comment>
                            <comment id="14154596" author="damien.carol" created="Wed, 1 Oct 2014 09:21:02 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=brocknoland&quot; class=&quot;user-hover&quot; rel=&quot;brocknoland&quot;&gt;Brock Noland&lt;/a&gt; I don&apos;t know if the trunk can work with lowercase table name without this patch.&lt;br/&gt;
The fact is that, the current code create tables in lower case but every table in Metastore rely on same uppercase policy and naming conventions. (on postgres).&lt;br/&gt;
When we started to work with transactions/compactions on our production cluster, we thought it was a bug and we created few patches to use uppercase names tables. Now this patch work well in our cluster and we want to push it upstream.&lt;/p&gt;

&lt;p&gt;I&apos;m well aware that it&apos;s a pis-aller because the implementation in the patch is a &quot;simple&quot; patch that adds quotes identifiers. A more well designed patch could be to re-factor it to use DataNucleus/ObjectStore or third party library.&lt;br/&gt;
We just made the patch this way to be less intrusive.&lt;/p&gt;

&lt;p&gt;Anyway this JIRA need feedback from &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=alangates&quot; class=&quot;user-hover&quot; rel=&quot;alangates&quot;&gt;Alan Gates&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="14155667" author="alangates" created="Wed, 1 Oct 2014 22:26:12 +0000"  >&lt;p&gt;Damien, I&apos;m confused.  Based on your statement above:&lt;/p&gt;
&lt;blockquote&gt;&lt;p&gt;First time I launched the script for posgres, I saw the new tables was lower case but all other tables was in upper case. I believed it was a bug. If this not an issue, I think we can close this JIRA.&lt;/p&gt;&lt;/blockquote&gt;
&lt;p&gt;I thought we were going to close this bug as &quot;Will Not Fix&quot;, which is what I&apos;d like to do.  But now you&apos;re rebasing the patch, so I take it you don&apos;t want to do that.  &lt;/p&gt;

&lt;p&gt;Again, I vote for changing the transaction tables to lower case in the scripts that create the database rather than adding quoting to every query in the TxnHandler and subclasses.&lt;/p&gt;

&lt;blockquote&gt;&lt;p&gt;A more well designed patch could be to re-factor it to use DataNucleus/ObjectStore...&lt;/p&gt;&lt;/blockquote&gt;
&lt;p&gt;I&apos;m definitely -1 on using DataNucleus here.  An Object store is not the right model for thinking about transactions.&lt;/p&gt;</comment>
                            <comment id="14156148" author="damien.carol" created="Thu, 2 Oct 2014 07:05:03 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=alangates&quot; class=&quot;user-hover&quot; rel=&quot;alangates&quot;&gt;Alan Gates&lt;/a&gt; ok. I agree. I close this bug as &quot;Will Not Fix&quot; as I don&apos;t want to block the 0.14, thanks for your feedbacks.&lt;/p&gt;</comment>
                            <comment id="14156199" author="damien.carol" created="Thu, 2 Oct 2014 08:03:44 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=alangates&quot; class=&quot;user-hover&quot; rel=&quot;alangates&quot;&gt;Alan Gates&lt;/a&gt; [&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=brocknoland&quot; class=&quot;user-hover&quot; rel=&quot;brocknoland&quot;&gt;Brock Noland&lt;/a&gt; Now I can confirm that without the patch, Metastore backend for stats on postgres don&apos;t work.&lt;/p&gt;

&lt;p&gt;when using jdbc connector for stats, &lt;tt&gt;JDBCStatsPublisher&lt;/tt&gt; throws errors. Here the error in the logs :&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;14/10/02 09:49:11 ERROR jdbc.JDBCStatsPublisher: Error during JDBC initialization.
org.postgresql.util.PSQLException: ERROR: relation &quot;partition_stats_v2&quot; already exists
        at org.postgresql.core.v3.QueryExecutorImpl.receiveErrorResponse(QueryExecutorImpl.java:2096)
        at org.postgresql.core.v3.QueryExecutorImpl.processResults(QueryExecutorImpl.java:1829)
        at org.postgresql.core.v3.QueryExecutorImpl.execute(QueryExecutorImpl.java:257)
        at org.postgresql.jdbc2.AbstractJdbc2Statement.execute(AbstractJdbc2Statement.java:510)
        at org.postgresql.jdbc2.AbstractJdbc2Statement.executeWithFlags(AbstractJdbc2Statement.java:372)
        at org.postgresql.jdbc2.AbstractJdbc2Statement.executeUpdate(AbstractJdbc2Statement.java:300)
        at org.apache.hadoop.hive.ql.stats.jdbc.JDBCStatsPublisher.init(JDBCStatsPublisher.java:286)
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;It is a side effect of mixing lower case and upper case.&lt;/p&gt;

&lt;p&gt;To understand this bug :&lt;/p&gt;

&lt;p&gt;1. JDBC stats publisher use this code to check if table exists.&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
 &lt;span class=&quot;code-comment&quot;&gt;// Check &lt;span class=&quot;code-keyword&quot;&gt;if&lt;/span&gt; the table exists
&lt;/span&gt;        DatabaseMetaData dbm = conn.getMetaData();
        rs = dbm.getTables(&lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt;, &lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt;, JDBCStatsUtils.getStatTableName(), &lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt;);
        &lt;span class=&quot;code-object&quot;&gt;boolean&lt;/span&gt; tblExists = rs.next();
        &lt;span class=&quot;code-keyword&quot;&gt;if&lt;/span&gt; (!tblExists) { &lt;span class=&quot;code-comment&quot;&gt;// Table does not exist, create it
&lt;/span&gt;          &lt;span class=&quot;code-object&quot;&gt;String&lt;/span&gt; createTable = JDBCStatsUtils.getCreate(&quot;&quot;);
          stmt.executeUpdate(createTable);          
        }
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;2. But &lt;tt&gt;JDBCStatsUtils.getStatTableName()&lt;/tt&gt; value is &lt;tt&gt;PARTITION_STATS_V2&lt;/tt&gt; in &lt;b&gt;uppercase&lt;/b&gt;.&lt;br/&gt;
3. The Metastore try to create an already existing table.&lt;/p&gt;

&lt;p&gt;I will create another JIRA that fix &lt;b&gt;only&lt;/b&gt; this part.&lt;/p&gt;</comment>
                            <comment id="14156209" author="damien.carol" created="Thu, 2 Oct 2014 08:12:00 +0000"  >&lt;p&gt;Created &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-8329&quot; title=&quot;Enable postgres for storing stats&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-8329&quot;&gt;&lt;del&gt;HIVE-8329&lt;/del&gt;&lt;/a&gt; to fix this specific case (stats with JDBC on Postgres).&lt;/p&gt;</comment>
                            <comment id="14170715" author="damien.carol" created="Tue, 14 Oct 2014 09:31:37 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=brocknoland&quot; class=&quot;user-hover&quot; rel=&quot;brocknoland&quot;&gt;Brock Noland&lt;/a&gt; &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=alangates&quot; class=&quot;user-hover&quot; rel=&quot;alangates&quot;&gt;Alan Gates&lt;/a&gt; I discovered a new problem with lower/upper case mixing.&lt;/p&gt;

&lt;p&gt;&lt;tt&gt;org.apache.hadoop.hive.metastore.txn.CompactionTxnHandler&lt;/tt&gt; try to access to relation &lt;tt&gt;TAB_COL_STATS&lt;/tt&gt;.&lt;/p&gt;

&lt;p&gt;Without identifier quote, the method &lt;tt&gt;findColumnsWithStats&lt;/tt&gt; throws errors :&lt;/p&gt;

&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;2014-10-14 10:50:02,313 DEBUG [nc-h04-22]: txn.CompactionTxnHandler (CompactionTxnHandler.java:findColumnsWithStats(554)) - Going to execute &amp;lt;SELECT COLUMN_NAME FROM TAB_COL_STATS WHERE DB_NAME=&apos;casino&apos; AND TABLE_NAME=&apos;foo7&apos;&amp;gt;
2014-10-14 10:50:02,314 ERROR [nc-h04-22]: txn.CompactionTxnHandler (CompactionTxnHandler.java:findColumnsWithStats(566)) - Failed to find columns to analyze stats on for foo7
org.postgresql.util.PSQLException: ERROR: relation &quot;tab_col_stats&quot; does not exist
  Position: 25
        at org.postgresql.core.v3.QueryExecutorImpl.receiveErrorResponse(QueryExecutorImpl.java:2096)
        at org.postgresql.core.v3.QueryExecutorImpl.processResults(QueryExecutorImpl.java:1829)
        at org.postgresql.core.v3.QueryExecutorImpl.execute(QueryExecutorImpl.java:257)
        at org.postgresql.jdbc2.AbstractJdbc2Statement.execute(AbstractJdbc2Statement.java:510)
        at org.postgresql.jdbc2.AbstractJdbc2Statement.executeWithFlags(AbstractJdbc2Statement.java:372)
        at org.postgresql.jdbc2.AbstractJdbc2Statement.executeQuery(AbstractJdbc2Statement.java:252)
        at com.jolbox.bonecp.StatementHandle.executeQuery(StatementHandle.java:464)
        at org.apache.hadoop.hive.metastore.txn.CompactionTxnHandler.findColumnsWithStats(CompactionTxnHandler.java:555)
        at org.apache.hadoop.hive.ql.txn.compactor.Worker.run(Worker.java:140)
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</comment>
                            <comment id="14171100" author="alangates" created="Tue, 14 Oct 2014 15:54:57 +0000"  >&lt;p&gt;Ok, we should quote calls to just that stats table then.  That way we don&apos;t pollute all the TxnHandler code, but we can fix this problem.  We can either re-open this bug or open a new one.&lt;/p&gt;

&lt;p&gt;Do you want to post a patch for this or do you want me to?  If you post it I can review it.  If not, I can post a patch in a day or two and you can test that it works in your system.&lt;/p&gt;</comment>
                            <comment id="14178936" author="alangates" created="Tue, 21 Oct 2014 19:53:02 +0000"  >&lt;p&gt;Opened &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-8543&quot; title=&quot;Compactions fail on metastore using postgres&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-8543&quot;&gt;&lt;del&gt;HIVE-8543&lt;/del&gt;&lt;/a&gt; to deal with the issue in the compactor.&lt;/p&gt;</comment>
                            <comment id="14179045" author="damien.carol" created="Tue, 21 Oct 2014 20:36:40 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=alangates&quot; class=&quot;user-hover&quot; rel=&quot;alangates&quot;&gt;Alan Gates&lt;/a&gt; Great! I will push my patch tomorrow. &lt;/p&gt;</comment>
                            <comment id="14210340" author="thejas" created="Thu, 13 Nov 2014 19:40:19 +0000"  >&lt;p&gt;This has been fixed in 0.14 release. Please open new jira if you see any issues.&lt;/p&gt;</comment>
                            <comment id="14356825" author="lifanhong" created="Wed, 11 Mar 2015 12:44:47 +0000"  >&lt;p&gt;run in postgresql : &lt;br/&gt;
CREATE TABLE &quot;PARTITION_STATS_V2&quot;&lt;br/&gt;
(&lt;br/&gt;
  &quot;ts&quot; timestamp without time zone DEFAULT now(),&lt;br/&gt;
  &quot;id&quot; character varying(4000) NOT NULL,&lt;br/&gt;
  &quot;row_count&quot; bigint,&lt;br/&gt;
  &quot;raw_data_size&quot; bigint,&lt;br/&gt;
  CONSTRAINT &quot;PARTITION_STATS_V2_PKEY&quot; PRIMARY KEY (&quot;id&quot;)&lt;br/&gt;
) ;&lt;br/&gt;
ALTER TABLE &quot;PARTITION_STATS_V2&quot;&lt;br/&gt;
  OWNER TO hive;&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="12310000">
                    <name>Duplicate</name>
                                                                <inwardlinks description="is duplicated by">
                                        <issuelink>
            <issuekey id="12781175">HIVE-9925</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                                                <inwardlinks description="is related to">
                                        <issuelink>
            <issuekey id="12745435">HIVE-8329</issuekey>
        </issuelink>
            <issuelink>
            <issuekey id="12749594">HIVE-8543</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="12667153" name="HIVE-7689.5.patch" size="67902" author="damien.carol" created="Mon, 8 Sep 2014 10:26:11 +0000"/>
                            <attachment id="12667375" name="HIVE-7689.6.patch" size="71593" author="damien.carol" created="Tue, 9 Sep 2014 08:54:29 +0000"/>
                            <attachment id="12667443" name="HIVE-7689.7.patch" size="71573" author="damien.carol" created="Tue, 9 Sep 2014 17:24:09 +0000"/>
                            <attachment id="12667660" name="HIVE-7689.8.patch" size="76262" author="damien.carol" created="Wed, 10 Sep 2014 13:24:59 +0000"/>
                            <attachment id="12672011" name="HIVE-7689.9.patch" size="75534" author="damien.carol" created="Tue, 30 Sep 2014 10:16:26 +0000"/>
                            <attachment id="12661211" name="HIVE-7889.1.patch" size="54254" author="damien.carol" created="Tue, 12 Aug 2014 13:01:57 +0000"/>
                            <attachment id="12663067" name="HIVE-7889.2.patch" size="65548" author="damien.carol" created="Wed, 20 Aug 2014 06:59:36 +0000"/>
                            <attachment id="12663675" name="HIVE-7889.3.patch" size="66554" author="damien.carol" created="Fri, 22 Aug 2014 15:50:13 +0000"/>
                            <attachment id="12666180" name="HIVE-7889.4.patch" size="66529" author="damien.carol" created="Wed, 3 Sep 2014 08:24:45 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Tue, 12 Aug 2014 18:10:59 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>411498</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            1 year, 38 weeks, 3 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1yslz:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>411489</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        </customfields>
    </item>
</channel>
</rss>