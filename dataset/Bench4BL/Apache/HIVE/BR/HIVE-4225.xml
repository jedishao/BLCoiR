<!-- 
RSS generated by JIRA (6.3.4#6332-sha1:51bc225ef474afe3128b2f66878477f322397b16) at Sat Dec 03 23:37:14 UTC 2016

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary add field=key&field=summary to the URL of your request.
For example:
https://issues.apache.org/jira/si/jira.issueviews:issue-xml/HIVE-4225/HIVE-4225.xml?field=key&amp;field=summary
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>6.3.4</version>
        <build-number>6332</build-number>
        <build-date>15-08-2014</build-date>
    </build-info>

<item>
            <title>[HIVE-4225] HiveServer2 does not support SASL QOP</title>
                <link>https://issues.apache.org/jira/browse/HIVE-4225</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;HiveServer2 implements Kerberos authentication through SASL framework, but does not support setting QOP.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12638784">HIVE-4225</key>
            <summary>HiveServer2 does not support SASL QOP</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/bug.png">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.png">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="3">Duplicate</resolution>
                                        <assignee username="cdrome">Chris Drome</assignee>
                                    <reporter username="cdrome">Chris Drome</reporter>
                        <labels>
                    </labels>
                <created>Mon, 25 Mar 2013 06:44:19 +0000</created>
                <updated>Mon, 19 Aug 2013 17:14:05 +0000</updated>
                            <resolved>Mon, 19 Aug 2013 17:14:05 +0000</resolved>
                                    <version>0.11.0</version>
                                                    <component>HiveServer2</component>
                    <component>Shims</component>
                        <due></due>
                            <votes>1</votes>
                                    <watches>12</watches>
                                                                <comments>
                            <comment id="13613150" author="cdrome" created="Mon, 25 Mar 2013 21:20:24 +0000"  >&lt;p&gt;Added trunk patch which honors the QOP setting of hadoop.rpc.protection variable when a Configuration is used to initialize the client/server connection.&lt;/p&gt;</comment>
                            <comment id="13613595" author="cdrome" created="Tue, 26 Mar 2013 07:56:45 +0000"  >&lt;p&gt;I will rebase this patch if the changes in &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-4232&quot; title=&quot;JDBC2 HiveConnection has odd defaults&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-4232&quot;&gt;HIVE-4232&lt;/a&gt; are acceptable.&lt;/p&gt;</comment>
                            <comment id="13634351" author="fwiffo" created="Wed, 17 Apr 2013 19:45:35 +0000"  >&lt;p&gt;This also affects the thrift metastore server.&lt;/p&gt;</comment>
                            <comment id="13635236" author="fwiffo" created="Thu, 18 Apr 2013 15:23:57 +0000"  >&lt;p&gt;Does it make sense to push this as is and then have a follow-up issue tied to &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-4232&quot; title=&quot;JDBC2 HiveConnection has odd defaults&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-4232&quot;&gt;HIVE-4232&lt;/a&gt;?&lt;/p&gt;</comment>
                            <comment id="13667781" author="fwiffo" created="Mon, 27 May 2013 14:59:00 +0000"  >&lt;p&gt;I modified the previous patch to also enable SASL QOP support to the HiveMetastore server.&lt;/p&gt;

&lt;p&gt;I also tested the patch on a cluster and verified that it works as expected.&lt;/p&gt;</comment>
                            <comment id="13667793" author="fwiffo" created="Mon, 27 May 2013 15:22:52 +0000"  >&lt;p&gt;I requested review of the latest patch:&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://reviews.facebook.net/D10959&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/D10959&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="13667796" author="phabricator@reviews.facebook.net" created="Mon, 27 May 2013 15:24:23 +0000"  >&lt;p&gt;fwiffo requested code review of &quot;&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-4225&quot; title=&quot;HiveServer2 does not support SASL QOP&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-4225&quot;&gt;&lt;del&gt;HIVE-4225&lt;/del&gt;&lt;/a&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;jira&amp;#93;&lt;/span&gt; HiveServer2 does not support SASL QOP&quot;.&lt;/p&gt;

&lt;p&gt;Reviewers: JIRA&lt;/p&gt;

&lt;p&gt;A trunk patch which honors the QOP setting of hadoop.rpc.protection variable when a Configuration is used to initialize the client/server connection for both HiveServer2 and HiveMetastore&lt;/p&gt;

&lt;p&gt;HiveServer2 implements Kerberos authentication through SASL framework, but does not support setting QOP.&lt;/p&gt;

&lt;p&gt;TEST PLAN&lt;br/&gt;
  I installed a patched version of Hive on a Kerberos enabled CDH 4.2.1 cluster with hadoop.rpc.protection set to both privacy and integrity. I observed the expected behavior from both HiveServer2 and HiveMetastore when using Hue&apos;s Python Thrift client (patched with HUE-1288).&lt;/p&gt;

&lt;p&gt;REVISION DETAIL&lt;br/&gt;
  &lt;a href=&quot;https://reviews.facebook.net/D10959&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/D10959&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;AFFECTED FILES&lt;br/&gt;
  metastore/src/java/org/apache/hadoop/hive/metastore/HiveMetaStore.java&lt;br/&gt;
  metastore/src/java/org/apache/hadoop/hive/metastore/HiveMetaStoreClient.java&lt;br/&gt;
  service/src/java/org/apache/hive/service/auth/HiveAuthFactory.java&lt;br/&gt;
  shims/src/common-secure/java/org/apache/hadoop/hive/thrift/HadoopThriftAuthBridge20S.java&lt;br/&gt;
  shims/src/common/java/org/apache/hadoop/hive/thrift/HadoopThriftAuthBridge.java&lt;/p&gt;

&lt;p&gt;MANAGE HERALD RULES&lt;br/&gt;
  &lt;a href=&quot;https://reviews.facebook.net/herald/view/differential/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/herald/view/differential/&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;WHY DID I GET THIS EMAIL?&lt;br/&gt;
  &lt;a href=&quot;https://reviews.facebook.net/herald/transcript/26193/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/herald/transcript/26193/&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;To: JIRA, fwiffo&lt;/p&gt;</comment>
                            <comment id="13714780" author="hiveqa" created="Sun, 21 Jul 2013 19:18:17 +0000"  >

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;Overall&lt;/font&gt;: -1 at least one tests failed&lt;/p&gt;

&lt;p&gt;Here are the results of testing the latest attachment:&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/secure/attachment/12584948/HIVE-4225.D10959.1.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/secure/attachment/12584948/HIVE-4225.D10959.1.patch&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;ERROR:&lt;/font&gt; -1 due to 1 failed/errored test(s), 2646 tests executed&lt;br/&gt;
&lt;b&gt;Failed tests:&lt;/b&gt;&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;org.apache.hadoop.hive.thrift.TestHadoop20SAuthBridge.testSaslWithHiveMetaStore
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Test results: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HIVE-Build/118/testReport&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HIVE-Build/118/testReport&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HIVE-Build/118/console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HIVE-Build/118/console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Messages:&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;Executing org.apache.hive.ptest.execution.CleanupPhase
Executing org.apache.hive.ptest.execution.PrepPhase
Executing org.apache.hive.ptest.execution.ExecutionPhase
Executing org.apache.hive.ptest.execution.ReportingPhase
Tests failed with: TestsFailedException: 1 tests failed
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;</comment>
                            <comment id="13714824" author="hiveqa" created="Sun, 21 Jul 2013 22:39:48 +0000"  >

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;Overall&lt;/font&gt;: -1 at least one tests failed&lt;/p&gt;

&lt;p&gt;Here are the results of testing the latest attachment:&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/secure/attachment/12584948/HIVE-4225.D10959.1.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/secure/attachment/12584948/HIVE-4225.D10959.1.patch&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;ERROR:&lt;/font&gt; -1 due to 1 failed/errored test(s), 2646 tests executed&lt;br/&gt;
&lt;b&gt;Failed tests:&lt;/b&gt;&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;org.apache.hadoop.hive.thrift.TestHadoop20SAuthBridge.testSaslWithHiveMetaStore
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Test results: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HIVE-Build/120/testReport&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HIVE-Build/120/testReport&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HIVE-Build/120/console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HIVE-Build/120/console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Messages:&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;Executing org.apache.hive.ptest.execution.CleanupPhase
Executing org.apache.hive.ptest.execution.PrepPhase
Executing org.apache.hive.ptest.execution.ExecutionPhase
Executing org.apache.hive.ptest.execution.ReportingPhase
Tests failed with: TestsFailedException: 1 tests failed
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;</comment>
                            <comment id="13714849" author="hiveqa" created="Mon, 22 Jul 2013 00:25:12 +0000"  >

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;Overall&lt;/font&gt;: -1 at least one tests failed&lt;/p&gt;

&lt;p&gt;Here are the results of testing the latest attachment:&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/secure/attachment/12584948/HIVE-4225.D10959.1.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/secure/attachment/12584948/HIVE-4225.D10959.1.patch&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;ERROR:&lt;/font&gt; -1 due to 1 failed/errored test(s), 2646 tests executed&lt;br/&gt;
&lt;b&gt;Failed tests:&lt;/b&gt;&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;org.apache.hadoop.hive.thrift.TestHadoop20SAuthBridge.testSaslWithHiveMetaStore
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Test results: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HIVE-Build/121/testReport&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HIVE-Build/121/testReport&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HIVE-Build/121/console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/PreCommit-HIVE-Build/121/console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Messages:&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;Executing org.apache.hive.ptest.execution.CleanupPhase
Executing org.apache.hive.ptest.execution.PrepPhase
Executing org.apache.hive.ptest.execution.ExecutionPhase
Executing org.apache.hive.ptest.execution.ReportingPhase
Tests failed with: TestsFailedException: 1 tests failed
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;</comment>
                            <comment id="13715430" author="brocknoland" created="Mon, 22 Jul 2013 17:40:15 +0000"  >&lt;p&gt;That test might be flaky as reported over in &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-4883&quot; title=&quot;TestHadoop20SAuthBridge tests fail sometimes because of race condition&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-4883&quot;&gt;&lt;del&gt;HIVE-4883&lt;/del&gt;&lt;/a&gt;. I am going to commit that and then we&apos;ll what fails here.&lt;/p&gt;</comment>
                            <comment id="13715587" author="cdrome" created="Mon, 22 Jul 2013 20:12:52 +0000"  >&lt;p&gt;Please prefer the patch (coming soon) associated with &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-4911&quot; title=&quot;Enable QOP configuration for Hive Server 2 thrift transport&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-4911&quot;&gt;&lt;del&gt;HIVE-4911&lt;/del&gt;&lt;/a&gt; instead of this one. The underlying code uses the same QOP setting for external connections to HS2 clients as well as internal connections to Hadoop. &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-4911&quot; title=&quot;Enable QOP configuration for Hive Server 2 thrift transport&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-4911&quot;&gt;&lt;del&gt;HIVE-4911&lt;/del&gt;&lt;/a&gt; fixes this restriction and allows independent configuration of QOP for external and internal connections.&lt;/p&gt;</comment>
                            <comment id="13716482" author="fwiffo" created="Tue, 23 Jul 2013 15:23:05 +0000"  >&lt;p&gt;I haven&apos;t had a chance to review &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-4911&quot; title=&quot;Enable QOP configuration for Hive Server 2 thrift transport&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-4911&quot;&gt;&lt;del&gt;HIVE-4911&lt;/del&gt;&lt;/a&gt; but so long as it works for both HS2 and the Metastore Server, I&apos;m good with having an independent configuration.&lt;/p&gt;</comment>
                            <comment id="13743911" author="ashutoshc" created="Mon, 19 Aug 2013 15:37:41 +0000"  >&lt;p&gt;Shall we close this as duplicate of &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-4911&quot; title=&quot;Enable QOP configuration for Hive Server 2 thrift transport&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-4911&quot;&gt;&lt;del&gt;HIVE-4911&lt;/del&gt;&lt;/a&gt; ?&lt;/p&gt;</comment>
                            <comment id="13743921" author="brocknoland" created="Mon, 19 Aug 2013 15:47:01 +0000"  >&lt;p&gt;Makes sense to me.&lt;/p&gt;</comment>
                            <comment id="13744010" author="thejas" created="Mon, 19 Aug 2013 17:14:05 +0000"  >&lt;p&gt;Marked as duplicate of &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-4911&quot; title=&quot;Enable QOP configuration for Hive Server 2 thrift transport&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-4911&quot;&gt;&lt;del&gt;HIVE-4911&lt;/del&gt;&lt;/a&gt; .&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="12310000">
                    <name>Duplicate</name>
                                            <outwardlinks description="duplicates">
                                        <issuelink>
            <issuekey id="12659185">HIVE-4911</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                            <outwardlinks description="relates to">
                                        <issuelink>
            <issuekey id="12639051">HIVE-4232</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                            <issuelinktype id="12310051">
                    <name>Supercedes</name>
                                                                <inwardlinks description="is superceded by">
                                        <issuelink>
            <issuekey id="12659185">HIVE-4911</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="12584943" name="HIVE-4225-1.patch" size="8215" author="fwiffo" created="Mon, 27 May 2013 14:59:00 +0000"/>
                            <attachment id="12584948" name="HIVE-4225.D10959.1.patch" size="7600" author="phabricator@reviews.facebook.net" created="Mon, 27 May 2013 15:24:23 +0000"/>
                            <attachment id="12575392" name="HIVE-4225.patch" size="6016" author="cdrome" created="Mon, 25 Mar 2013 21:20:24 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>3.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Wed, 17 Apr 2013 19:45:35 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>319259</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            3 years, 15 weeks, 5 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1j34n:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>319600</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12310230" key="com.atlassian.jira.plugin.system.customfieldtypes:textfield">
                        <customfieldname>Tags</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>sasl qop</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        </customfields>
    </item>
</channel>
</rss>