<!-- 
RSS generated by JIRA (6.3.4#6332-sha1:51bc225ef474afe3128b2f66878477f322397b16) at Fri Dec 02 05:10:50 UTC 2016

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary add field=key&field=summary to the URL of your request.
For example:
https://issues.apache.org/jira/si/jira.issueviews:issue-xml/HIVE-12790/HIVE-12790.xml?field=key&amp;field=summary
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>6.3.4</version>
        <build-number>6332</build-number>
        <build-date>15-08-2014</build-date>
    </build-info>

<item>
            <title>[HIVE-12790] Metastore connection leaks in HiveServer2</title>
                <link>https://issues.apache.org/jira/browse/HIVE-12790</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;HiveServer2 keeps opening new connections to HMS each time it launches a task. These connections do not appear to be closed when the task completes thus causing a HMS connection leak. &quot;lsof&quot; for the HS2 process shows connections to port 9083.&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
2015-12-03 04:20:56,352 INFO  [HiveServer2-Background-Pool: &lt;span class=&quot;code-object&quot;&gt;Thread&lt;/span&gt;-424756()]: ql.Driver (SessionState.java:printInfo(558)) - Launching Job 11 out of 41
2015-12-03 04:20:56,354 INFO  [&lt;span class=&quot;code-object&quot;&gt;Thread&lt;/span&gt;-405728()]: hive.metastore (HiveMetaStoreClient.java:open(311)) - Trying to connect to metastore with URI thrift:&lt;span class=&quot;code-comment&quot;&gt;//&amp;lt;anonymizedURL&amp;gt;:9083
&lt;/span&gt;2015-12-03 04:20:56,360 INFO  [&lt;span class=&quot;code-object&quot;&gt;Thread&lt;/span&gt;-405728()]: hive.metastore (HiveMetaStoreClient.java:open(351)) - Opened a connection to metastore, current connections: 14824
2015-12-03 04:20:56,360 INFO  [&lt;span class=&quot;code-object&quot;&gt;Thread&lt;/span&gt;-405728()]: hive.metastore (HiveMetaStoreClient.java:open(400)) - Connected to metastore.
....
2015-12-03 04:21:06,355 INFO  [HiveServer2-Background-Pool: &lt;span class=&quot;code-object&quot;&gt;Thread&lt;/span&gt;-424756()]: ql.Driver (SessionState.java:printInfo(558)) - Launching Job 12 out of 41
2015-12-03 04:21:06,357 INFO  [&lt;span class=&quot;code-object&quot;&gt;Thread&lt;/span&gt;-405756()]: hive.metastore (HiveMetaStoreClient.java:open(311)) - Trying to connect to metastore with URI thrift:&lt;span class=&quot;code-comment&quot;&gt;//&amp;lt;anonymizedURL&amp;gt;:9083
&lt;/span&gt;2015-12-03 04:21:06,362 INFO  [&lt;span class=&quot;code-object&quot;&gt;Thread&lt;/span&gt;-405756()]: hive.metastore (HiveMetaStoreClient.java:open(351)) - Opened a connection to metastore, current connections: 14825
2015-12-03 04:21:06,362 INFO  [&lt;span class=&quot;code-object&quot;&gt;Thread&lt;/span&gt;-405756()]: hive.metastore (HiveMetaStoreClient.java:open(400)) - Connected to metastore.
...
2015-12-03 04:21:08,357 INFO  [HiveServer2-Background-Pool: &lt;span class=&quot;code-object&quot;&gt;Thread&lt;/span&gt;-424756()]: ql.Driver (SessionState.java:printInfo(558)) - Launching Job 13 out of 41
2015-12-03 04:21:08,360 INFO  [&lt;span class=&quot;code-object&quot;&gt;Thread&lt;/span&gt;-405782()]: hive.metastore (HiveMetaStoreClient.java:open(311)) - Trying to connect to metastore with URI thrift:&lt;span class=&quot;code-comment&quot;&gt;//&amp;lt;anonymizedURL&amp;gt;:9083
&lt;/span&gt;2015-12-03 04:21:08,364 INFO  [&lt;span class=&quot;code-object&quot;&gt;Thread&lt;/span&gt;-405782()]: hive.metastore (HiveMetaStoreClient.java:open(351)) - Opened a connection to metastore, current connections: 14826
2015-12-03 04:21:08,365 INFO  [&lt;span class=&quot;code-object&quot;&gt;Thread&lt;/span&gt;-405782()]: hive.metastore (HiveMetaStoreClient.java:open(400)) - Connected to metastore.
... 
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;The TaskRunner thread starts a new SessionState each time, which creates a new connection to the HMS (via Hive.get(conf).getMSC()) that is never closed.&lt;/p&gt;

&lt;p&gt;Even SessionState.close(), currently not being called by the TaskRunner thread, does not close this connection.&lt;/p&gt;

&lt;p&gt;Attaching a anonymized log snippet where the number of HMS connections reaches north of 25000+ connections.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12928076">HIVE-12790</key>
            <summary>Metastore connection leaks in HiveServer2</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/bug.png">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.png">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="ngangam">Naveen Gangam</assignee>
                                    <reporter username="ngangam">Naveen Gangam</reporter>
                        <labels>
                    </labels>
                <created>Wed, 6 Jan 2016 17:46:27 +0000</created>
                <updated>Thu, 2 Jun 2016 10:17:37 +0000</updated>
                            <resolved>Fri, 5 Feb 2016 14:10:14 +0000</resolved>
                                    <version>1.1.0</version>
                                    <fixVersion>2.0.0</fixVersion>
                                    <component>HiveServer2</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>13</watches>
                                                                <comments>
                            <comment id="15085925" author="ngangam" created="Wed, 6 Jan 2016 17:48:31 +0000"  >&lt;p&gt;Log snippet containing only the messages around the creation of connections to HMS and showing current HMS connection counts.&lt;/p&gt;</comment>
                            <comment id="15086001" author="thejas" created="Wed, 6 Jan 2016 18:26:11 +0000"  >&lt;p&gt;TaskRunner should not be creating a new SessionState object. The SessionState object is expected to be used for the entire hive session. The right fix would be to not create additional SessionState in TaskRunner (assuming thats happening).&lt;/p&gt;
</comment>
                            <comment id="15086014" author="thejas" created="Wed, 6 Jan 2016 18:33:10 +0000"  >&lt;p&gt;Also, there is no association of Hive object to SessionState right now. Doing a close within SessionState.close does not seem right.&lt;br/&gt;
Are you sure that the TaskRunner actually creates a new SessionState ?&lt;br/&gt;
Is this something that happens only when hive.exec.parallel=true ?&lt;/p&gt;</comment>
                            <comment id="15086232" author="ngangam" created="Wed, 6 Jan 2016 20:33:17 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=thejas&quot; class=&quot;user-hover&quot; rel=&quot;thejas&quot;&gt;Thejas M Nair&lt;/a&gt; These logs are based on Hive 0.13 and I just realized the Hive object and SessionState are no longer associated in the latest release. Regardless, given that a new connection to the HMS is established every time right after the log message &quot;Launching Job&quot; is printed, it points to the the following code in Driver.launchTask()&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
      console.printInfo(&lt;span class=&quot;code-quote&quot;&gt;&quot;Launching Job &quot;&lt;/span&gt; + cxt.getCurJobNo() + &lt;span class=&quot;code-quote&quot;&gt;&quot; out of &quot;&lt;/span&gt; + jobs);
    }
    tsk.initialize(conf, plan, cxt);
    TaskResult tskRes = &lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; TaskResult();
    TaskRunner tskRun = &lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; TaskRunner(tsk, tskRes);
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;The last line above launches a new thread and the first message from that new thread is&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
2015-12-03 04:21:08,360 INFO  [&lt;span class=&quot;code-object&quot;&gt;Thread&lt;/span&gt;-405782()]: hive.metastore (HiveMetaStoreClient.java:open(311)) - Trying to connect to metastore with URI thrift:&lt;span class=&quot;code-comment&quot;&gt;//&amp;lt;anonymizedURL&amp;gt;:9083&lt;/span&gt;
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;So it appeared that the following codepath was creating new HMS connections  &lt;br/&gt;
TaskRunner.run()-&lt;del&gt;&amp;gt;SessionState.start()&lt;/del&gt;-&amp;gt;Hive.get().getMSC()&lt;/p&gt;

&lt;p&gt;Hive.get() should return a shared instance but for some reason, is it possible that it is closing the current and returning a new instance?&lt;/p&gt;</comment>
                            <comment id="15086265" author="thejas" created="Wed, 6 Jan 2016 20:57:12 +0000"  >&lt;blockquote&gt;&lt;p&gt;The last line above launches a new thread and the first message from that new thread is&lt;/p&gt;&lt;/blockquote&gt;
&lt;p&gt;That is not what i expect. I expect new thread to be launched later at - tskRun.start(); (that gets called when hive.exec.parallel=true).&lt;/p&gt;

&lt;blockquote&gt;&lt;p&gt;Hive.get() should return a shared instance&lt;/p&gt;&lt;/blockquote&gt;
&lt;p&gt;That returns a thread local instance if it already exists. In this case this is a new thread, so new instances gets created.&lt;br/&gt;
You can close that one if a separate thread was used for task execution&lt;/p&gt;</comment>
                            <comment id="15086269" author="ngangam" created="Wed, 6 Jan 2016 20:58:31 +0000"  >
&lt;p&gt;Just to add a bit more context, the logs are from an environment where HS2 is running Talend generated hive queries via JDBC. I dont know much about Talend other than treating it as a JDBC app connecting to HS2. I would imagine it is capable of launching parallel jobs (I have seen tasks from different queries get launched one after the other in a different log file). &lt;br/&gt;
So Beeline is not in the picture.&lt;/p&gt;</comment>
                            <comment id="15086324" author="ngangam" created="Wed, 6 Jan 2016 21:27:09 +0000"  >
&lt;p&gt;Yes, you are right. I meant whenever start() is called on that thread because no other log messages appears to be logged between these 2 events.&lt;/p&gt;

&lt;p&gt;The proposed fix calls SessionState.close() from its run() method, so it should only close it when executing in a new thread. &lt;/p&gt;

&lt;p&gt;Since Hive and SessionState are no longer associated, I can move the Hive.closeCurrent() cleanup to the TaskRunner itself, right before the SS.close(). But shouldnt the thread local variables be cleaned up when a session is closed? (we still do Hive.get() in SessionState).&lt;/p&gt;

&lt;p&gt;Thoughts? Thank you in advance.&lt;/p&gt;</comment>
                            <comment id="15088083" author="thejas" created="Thu, 7 Jan 2016 20:51:56 +0000"  >&lt;blockquote&gt;&lt;p&gt;The proposed fix calls SessionState.close() from its run() method, so it should only close it when executing in a new thread.&lt;/p&gt;&lt;/blockquote&gt;
&lt;p&gt;SeesionState is needed beyond the lifetime of the current query execution, as it represents a session.&lt;/p&gt;

&lt;blockquote&gt;&lt;p&gt;But shouldn&apos;t the thread local variables be cleaned up when a session is closed?&lt;/p&gt;&lt;/blockquote&gt;
&lt;p&gt;We don&apos;t maintain a session to threads/threadlocal mapping. It should ideally be closed when the thread is being released.&lt;br/&gt;
Also, Hive.get() is called from many places outside of SessionState as well.&lt;/p&gt;

&lt;p&gt;You can call Hive.closeCurrent() in the place where you added the call to ss.close to fix this.&lt;/p&gt;</comment>
                            <comment id="15088169" author="ngangam" created="Thu, 7 Jan 2016 21:40:06 +0000"  >
&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=thejas&quot; class=&quot;user-hover&quot; rel=&quot;thejas&quot;&gt;Thejas M Nair&lt;/a&gt; &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=aihuaxu&quot; class=&quot;user-hover&quot; rel=&quot;aihuaxu&quot;&gt;Aihua Xu&lt;/a&gt; and I just discussed exactly what you just mentioned. I think we agree that SessionState.close() should not be called as it is shared across threads within a session. I will take another look to confirm that Hive instance is not being shared across threads as well before I upload another patch.&lt;/p&gt;

&lt;p&gt;Appreciate your input on this. Thanks much.&lt;/p&gt;</comment>
                            <comment id="15088185" author="ngangam" created="Thu, 7 Jan 2016 21:50:27 +0000"  >
&lt;p&gt;Review was posted to RB yesterday at &lt;a href=&quot;https://reviews.apache.org/r/41990/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.apache.org/r/41990/&lt;/a&gt; &lt;br/&gt;
It currently has the patch from yesterday. I will refresh it when I have a new version.&lt;/p&gt;</comment>
                            <comment id="15122256" author="ngangam" created="Thu, 28 Jan 2016 20:15:41 +0000"  >&lt;p&gt;I have verified that this appears to be a problem in the newest code too when &quot;hive.exec.parallel&quot; is set to true. &lt;br/&gt;
I am attaching a new patch based on the conversation from a few days ago. It appears to fix the issue.&lt;/p&gt;</comment>
                            <comment id="15123659" author="aihuaxu" created="Fri, 29 Jan 2016 16:12:41 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=ngangam&quot; class=&quot;user-hover&quot; rel=&quot;ngangam&quot;&gt;Naveen Gangam&lt;/a&gt; I had a minor issue regarding the comment in text. Otherwise, looks good to me.  +1&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=thejas&quot; class=&quot;user-hover&quot; rel=&quot;thejas&quot;&gt;Thejas M Nair&lt;/a&gt; Can you also take a look? Thanks.&lt;/p&gt;</comment>
                            <comment id="15125197" author="hiveqa" created="Sun, 31 Jan 2016 01:58:06 +0000"  >

&lt;p&gt;Here are the results of testing the latest attachment:&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/secure/attachment/12785008/HIVE-12790.2.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/secure/attachment/12785008/HIVE-12790.2.patch&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;ERROR:&lt;/font&gt; -1 due to no test(s) being added or modified.&lt;/p&gt;

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;ERROR:&lt;/font&gt; -1 due to 6 failed/errored test(s), 10047 tests executed&lt;br/&gt;
&lt;b&gt;Failed tests:&lt;/b&gt;&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;org.apache.hadoop.hive.cli.TestMiniTezCliDriver.org.apache.hadoop.hive.cli.TestMiniTezCliDriver
org.apache.hadoop.hive.cli.TestMiniTezCliDriver.testCliDriver_insert_into1
org.apache.hadoop.hive.cli.TestMiniTezCliDriver.testCliDriver_vector_aggregate_without_gby
org.apache.hadoop.hive.cli.TestNegativeCliDriver.testNegativeCliDriver_authorization_uri_import
org.apache.hive.jdbc.TestSSL.testSSLVersion
org.apache.hive.service.cli.TestEmbeddedThriftBinaryCLIService.testExecuteStatementAsync
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Test results: &lt;a href=&quot;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-TRUNK-Build/6805/testReport&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-TRUNK-Build/6805/testReport&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-TRUNK-Build/6805/console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-TRUNK-Build/6805/console&lt;/a&gt;&lt;br/&gt;
Test logs: &lt;a href=&quot;http://ec2-174-129-184-35.compute-1.amazonaws.com/logs/PreCommit-HIVE-TRUNK-Build-6805/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://ec2-174-129-184-35.compute-1.amazonaws.com/logs/PreCommit-HIVE-TRUNK-Build-6805/&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Messages:&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;Executing org.apache.hive.ptest.execution.TestCheckPhase
Executing org.apache.hive.ptest.execution.PrepPhase
Executing org.apache.hive.ptest.execution.ExecutionPhase
Executing org.apache.hive.ptest.execution.ReportingPhase
Tests exited with: TestsFailedException: 6 tests failed
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;

&lt;p&gt;ATTACHMENT ID: 12785008 - PreCommit-HIVE-TRUNK-Build&lt;/p&gt;</comment>
                            <comment id="15128417" author="ngangam" created="Tue, 2 Feb 2016 15:41:04 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=thejas&quot; class=&quot;user-hover&quot; rel=&quot;thejas&quot;&gt;Thejas M Nair&lt;/a&gt; Could you please review the fix when you have a moment? Thank you in advance.&lt;/p&gt;</comment>
                            <comment id="15128959" author="thejas" created="Tue, 2 Feb 2016 20:28:29 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=ngangam&quot; class=&quot;user-hover&quot; rel=&quot;ngangam&quot;&gt;Naveen Gangam&lt;/a&gt; Thanks for checking with me. Added some comments in review board.&lt;br/&gt;
I don&apos;t think the SessionState.close calling Hive.close is necessary to deal with the issue of connection leak when hive.exec.parallel=true. However, it can help with case when the thread pool in HS2 expands and contracts, at least in case of binary transport mode, where a thread is associated with a session/connection.&lt;/p&gt;</comment>
                            <comment id="15129244" author="ngangam" created="Tue, 2 Feb 2016 22:51:25 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=thejas&quot; class=&quot;user-hover&quot; rel=&quot;thejas&quot;&gt;Thejas M Nair&lt;/a&gt; Agreed, the fix in SS.close() was not specifically for this issue. It was meant as a general cleanup fix. &lt;/p&gt;</comment>
                            <comment id="15130564" author="ngangam" created="Wed, 3 Feb 2016 15:33:49 +0000"  >&lt;p&gt;1) Fixed the comment in the code.&lt;br/&gt;
2) Any exception throw on Hive.closeCurrent() will now be logged.&lt;/p&gt;</comment>
                            <comment id="15131442" author="thejas" created="Thu, 4 Feb 2016 00:29:08 +0000"  >&lt;p&gt;+1&lt;/p&gt;</comment>
                            <comment id="15133279" author="hiveqa" created="Thu, 4 Feb 2016 23:08:18 +0000"  >

&lt;p&gt;Here are the results of testing the latest attachment:&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/secure/attachment/12786030/HIVE-12790.3.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/secure/attachment/12786030/HIVE-12790.3.patch&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;ERROR:&lt;/font&gt; -1 due to no test(s) being added or modified.&lt;/p&gt;

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;ERROR:&lt;/font&gt; -1 due to 2 failed/errored test(s), 10051 tests executed&lt;br/&gt;
&lt;b&gt;Failed tests:&lt;/b&gt;&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;org.apache.hadoop.hive.cli.TestNegativeCliDriver.testNegativeCliDriver_authorization_uri_import
org.apache.hive.jdbc.TestSSL.testSSLVersion
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Test results: &lt;a href=&quot;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-TRUNK-Build/6865/testReport&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-TRUNK-Build/6865/testReport&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-TRUNK-Build/6865/console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-TRUNK-Build/6865/console&lt;/a&gt;&lt;br/&gt;
Test logs: &lt;a href=&quot;http://ec2-174-129-184-35.compute-1.amazonaws.com/logs/PreCommit-HIVE-TRUNK-Build-6865/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://ec2-174-129-184-35.compute-1.amazonaws.com/logs/PreCommit-HIVE-TRUNK-Build-6865/&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Messages:&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;Executing org.apache.hive.ptest.execution.TestCheckPhase
Executing org.apache.hive.ptest.execution.PrepPhase
Executing org.apache.hive.ptest.execution.ExecutionPhase
Executing org.apache.hive.ptest.execution.ReportingPhase
Tests exited with: TestsFailedException: 2 tests failed
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;

&lt;p&gt;ATTACHMENT ID: 12786030 - PreCommit-HIVE-TRUNK-Build&lt;/p&gt;</comment>
                            <comment id="15134217" author="ngangam" created="Fri, 5 Feb 2016 14:03:54 +0000"  >&lt;p&gt;The test failures are not related to the patch. The failing qtest works fine locally.&lt;/p&gt;</comment>
                            <comment id="15134224" author="aihuaxu" created="Fri, 5 Feb 2016 14:10:14 +0000"  >&lt;p&gt;Pushed to master. Thanks Naveen for the work and Thejas for reviewing.&lt;/p&gt;</comment>
                            <comment id="15134238" author="ngangam" created="Fri, 5 Feb 2016 14:22:29 +0000"  >&lt;p&gt;Thanks for reviewing and pushing this thru &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=aihuaxu&quot; class=&quot;user-hover&quot; rel=&quot;aihuaxu&quot;&gt;Aihua Xu&lt;/a&gt; and &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=thejas&quot; class=&quot;user-hover&quot; rel=&quot;thejas&quot;&gt;Thejas M Nair&lt;/a&gt;.&lt;/p&gt;</comment>
                            <comment id="15134240" author="aihuaxu" created="Fri, 5 Feb 2016 14:25:21 +0000"  >&lt;p&gt;Pushed to branch-1 and branch-2.0 as well.&lt;/p&gt;</comment>
                            <comment id="15137498" author="sershe" created="Mon, 8 Feb 2016 19:17:53 +0000"  >&lt;p&gt;Assuming the current RC passes, this will not make it into 2.0 as it was committed after the RC was cut.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12785008" name="HIVE-12790.2.patch" size="1910" author="ngangam" created="Thu, 28 Jan 2016 20:15:41 +0000"/>
                            <attachment id="12786030" name="HIVE-12790.3.patch" size="2268" author="ngangam" created="Wed, 3 Feb 2016 15:33:49 +0000"/>
                            <attachment id="12780802" name="HIVE-12790.patch" size="1814" author="ngangam" created="Wed, 6 Jan 2016 18:06:48 +0000"/>
                            <attachment id="12780794" name="snippedLog.txt" size="6301498" author="ngangam" created="Wed, 6 Jan 2016 17:48:31 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>4.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Wed, 6 Jan 2016 18:26:11 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            42 weeks, 3 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i2qxyf:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        </customfields>
    </item>
</channel>
</rss>