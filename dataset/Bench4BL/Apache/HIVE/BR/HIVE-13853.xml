<!-- 
RSS generated by JIRA (6.3.4#6332-sha1:51bc225ef474afe3128b2f66878477f322397b16) at Fri Dec 02 06:18:30 UTC 2016

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary add field=key&field=summary to the URL of your request.
For example:
https://issues.apache.org/jira/si/jira.issueviews:issue-xml/HIVE-13853/HIVE-13853.xml?field=key&amp;field=summary
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>6.3.4</version>
        <build-number>6332</build-number>
        <build-date>15-08-2014</build-date>
    </build-info>

<item>
            <title>[HIVE-13853] Add X-XSRF-Header filter to HS2 HTTP mode and WebHCat</title>
                <link>https://issues.apache.org/jira/browse/HIVE-13853</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;There is a possibility that there may be a CSRF-based attack on various hadoop components, and thus, there is an effort to add a block for all incoming http requests if they do not contain a X-XSRF-Header header. (See &lt;a href=&quot;https://issues.apache.org/jira/browse/HADOOP-12691&quot; title=&quot;Add CSRF Filter for REST APIs to Hadoop Common&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HADOOP-12691&quot;&gt;&lt;del&gt;HADOOP-12691&lt;/del&gt;&lt;/a&gt; for motivation)&lt;/p&gt;

&lt;p&gt;This has potential to affect HS2 when running on thrift-over-http mode(if cookie-based-auth is used), and webhcat.&lt;/p&gt;

&lt;p&gt;We introduce new flags to determine whether or not we&apos;re using the filter, and if we are, we will automatically reject any http requests which do not contain this header.&lt;/p&gt;

&lt;p&gt;To allow this to work, we also need to make changes to our JDBC driver to automatically inject this header into any requests it makes. Also, any client-side programs/api not using the JDBC driver directly will need to make changes to add a X-XSRF-Header header to the request to make calls to HS2/WebHCat if this filter is enabled.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12972824">HIVE-13853</key>
            <summary>Add X-XSRF-Header filter to HS2 HTTP mode and WebHCat</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/bug.png">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.png">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="sushanth">Sushanth Sowmyan</assignee>
                                    <reporter username="sushanth">Sushanth Sowmyan</reporter>
                        <labels>
                    </labels>
                <created>Wed, 25 May 2016 19:13:17 +0000</created>
                <updated>Sat, 22 Oct 2016 00:53:13 +0000</updated>
                            <resolved>Sun, 5 Jun 2016 17:56:57 +0000</resolved>
                                                    <fixVersion>2.1.0</fixVersion>
                                    <component>HiveServer2</component>
                    <component>WebHCat</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>7</watches>
                                                                <comments>
                            <comment id="15300681" author="sushanth" created="Wed, 25 May 2016 19:17:28 +0000"  >&lt;p&gt;Patch attached. &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=vgumashta&quot; class=&quot;user-hover&quot; rel=&quot;vgumashta&quot;&gt;Vaibhav Gumashta&lt;/a&gt;, could you please take a look?&lt;/p&gt;</comment>
                            <comment id="15306000" author="hiveqa" created="Sun, 29 May 2016 17:19:45 +0000"  >

&lt;p&gt;Here are the results of testing the latest attachment:&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/secure/attachment/12806192/HIVE-13853.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/secure/attachment/12806192/HIVE-13853.patch&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;font color=&quot;green&quot;&gt;SUCCESS:&lt;/font&gt; +1 due to 1 test(s) being added or modified.&lt;/p&gt;

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;ERROR:&lt;/font&gt; -1 due to 54 failed/errored test(s), 10006 tests executed&lt;br/&gt;
&lt;b&gt;Failed tests:&lt;/b&gt;&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;TestHWISessionManager - did not produce a TEST-*.xml file
TestJdbcWithMiniHA - did not produce a TEST-*.xml file
TestJdbcWithMiniMr - did not produce a TEST-*.xml file
TestMiniTezCliDriver-auto_sortmerge_join_7.q-orc_merge9.q-tez_union_dynamic_partition.q-and-12-more - did not produce a TEST-*.xml file
TestMiniTezCliDriver-dynpart_sort_optimization2.q-tez_dynpart_hashjoin_3.q-orc_vectorization_ppd.q-and-12-more - did not produce a TEST-*.xml file
TestMiniTezCliDriver-join1.q-mapjoin_decimal.q-vectorized_distinct_gby.q-and-12-more - did not produce a TEST-*.xml file
TestMiniTezCliDriver-load_dyn_part2.q-selectDistinctStar.q-vector_decimal_5.q-and-12-more - did not produce a TEST-*.xml file
TestMiniTezCliDriver-schema_evol_text_nonvec_mapwork_table.q-vector_decimal_trailing.q-subquery_in.q-and-12-more - did not produce a TEST-*.xml file
TestMiniTezCliDriver-update_orig_table.q-explainuser_4.q-update_after_multiple_inserts.q-and-12-more - did not produce a TEST-*.xml file
TestMiniTezCliDriver-vectorization_13.q-auto_sortmerge_join_13.q-tez_bmj_schema_evolution.q-and-12-more - did not produce a TEST-*.xml file
TestMinimrCliDriver-reduce_deduplicate.q-disable_merge_for_bucketing.q-infer_bucket_sort_dyn_part.q-and-1-more - did not produce a TEST-*.xml file
TestOperationLoggingAPIWithTez - did not produce a TEST-*.xml file
TestSparkCliDriver-groupby2.q-custom_input_output_format.q-join41.q-and-12-more - did not produce a TEST-*.xml file
TestSparkCliDriver-groupby2_noskew_multi_distinct.q-vectorization_10.q-list_bucket_dml_2.q-and-12-more - did not produce a TEST-*.xml file
TestSparkCliDriver-groupby_grouping_id2.q-vectorization_13.q-auto_sortmerge_join_13.q-and-12-more - did not produce a TEST-*.xml file
TestSparkCliDriver-load_dyn_part5.q-load_dyn_part2.q-skewjoinopt16.q-and-12-more - did not produce a TEST-*.xml file
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_ivyDownload
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_list_bucket_dml_13
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_stats_list_bucket
org.apache.hadoop.hive.cli.TestMiniSparkOnYarnCliDriver.testCliDriver_constprog_partitioner
org.apache.hadoop.hive.cli.TestMiniSparkOnYarnCliDriver.testCliDriver_index_bitmap3
org.apache.hadoop.hive.cli.TestMinimrCliDriver.testCliDriver_schemeAuthority
org.apache.hadoop.hive.cli.TestSparkCliDriver.testCliDriver_ctas
org.apache.hadoop.hive.cli.TestSparkCliDriver.testCliDriver_groupby4
org.apache.hadoop.hive.cli.TestSparkCliDriver.testCliDriver_insert_into1
org.apache.hadoop.hive.cli.TestSparkCliDriver.testCliDriver_join_cond_pushdown_1
org.apache.hadoop.hive.cli.TestSparkCliDriver.testCliDriver_mapjoin_filter_on_outerjoin
org.apache.hadoop.hive.cli.TestSparkCliDriver.testCliDriver_mapjoin_test_outer
org.apache.hadoop.hive.cli.TestSparkCliDriver.testCliDriver_ppd_outer_join1
org.apache.hadoop.hive.cli.TestSparkCliDriver.testCliDriver_ptf_general_queries
org.apache.hadoop.hive.cli.TestSparkCliDriver.testCliDriver_tez_joins_explain
org.apache.hadoop.hive.cli.TestSparkCliDriver.testCliDriver_udf_max
org.apache.hadoop.hive.cli.TestSparkCliDriver.testCliDriver_union_remove_1
org.apache.hadoop.hive.cli.TestSparkCliDriver.testCliDriver_union_remove_10
org.apache.hadoop.hive.cli.TestSparkCliDriver.testCliDriver_vectorization_15
org.apache.hadoop.hive.cli.TestSparkCliDriver.testCliDriver_vectorized_string_funcs
org.apache.hadoop.hive.llap.tez.TestConverters.testFragmentSpecToTaskSpec
org.apache.hadoop.hive.metastore.TestFilterHooks.org.apache.hadoop.hive.metastore.TestFilterHooks
org.apache.hadoop.hive.metastore.TestHiveMetaStoreGetMetaConf.org.apache.hadoop.hive.metastore.TestHiveMetaStoreGetMetaConf
org.apache.hadoop.hive.metastore.TestHiveMetaStoreStatsMerge.testStatsMerge
org.apache.hadoop.hive.metastore.TestMarkPartitionRemote.testMarkingPartitionSet
org.apache.hadoop.hive.metastore.TestMetaStoreEventListenerOnlyOnCommit.testEventStatus
org.apache.hadoop.hive.metastore.TestMetaStoreInitListener.testMetaStoreInitListener
org.apache.hadoop.hive.metastore.TestPartitionNameWhitelistValidation.testAppendPartitionWithCommas
org.apache.hadoop.hive.metastore.TestPartitionNameWhitelistValidation.testAppendPartitionWithValidCharacters
org.apache.hadoop.hive.metastore.TestRetryingHMSHandler.testRetryingHMSHandler
org.apache.hadoop.hive.ql.lockmgr.TestDbTxnManager2.testLocksInSubquery
org.apache.hadoop.hive.ql.security.TestMetastoreAuthorizationProvider.testSimplePrivileges
org.apache.hadoop.hive.ql.security.TestStorageBasedMetastoreAuthorizationDrops.testDropPartition
org.apache.hadoop.hive.ql.security.TestStorageBasedMetastoreAuthorizationProviderWithACL.testSimplePrivileges
org.apache.hadoop.hive.ql.security.TestStorageBasedMetastoreAuthorizationReads.testReadDbSuccess
org.apache.hadoop.hive.ql.security.TestStorageBasedMetastoreAuthorizationReads.testReadTableFailure
org.apache.hadoop.hive.thrift.TestHadoopAuthBridge23.testSaslWithHiveMetaStore
org.apache.hive.hcatalog.listener.TestDbNotificationListener.cleanupNotifs
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Test results: &lt;a href=&quot;http://ec2-54-177-240-2.us-west-1.compute.amazonaws.com/job/PreCommit-HIVE-MASTER-Build/446/testReport&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://ec2-54-177-240-2.us-west-1.compute.amazonaws.com/job/PreCommit-HIVE-MASTER-Build/446/testReport&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;http://ec2-54-177-240-2.us-west-1.compute.amazonaws.com/job/PreCommit-HIVE-MASTER-Build/446/console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://ec2-54-177-240-2.us-west-1.compute.amazonaws.com/job/PreCommit-HIVE-MASTER-Build/446/console&lt;/a&gt;&lt;br/&gt;
Test logs: &lt;a href=&quot;http://ec2-50-18-27-0.us-west-1.compute.amazonaws.com/logs/PreCommit-HIVE-MASTER-Build-446/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://ec2-50-18-27-0.us-west-1.compute.amazonaws.com/logs/PreCommit-HIVE-MASTER-Build-446/&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Messages:&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;Executing org.apache.hive.ptest.execution.TestCheckPhase
Executing org.apache.hive.ptest.execution.PrepPhase
Executing org.apache.hive.ptest.execution.ExecutionPhase
Executing org.apache.hive.ptest.execution.ReportingPhase
Tests exited with: TestsFailedException: 54 tests failed
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;

&lt;p&gt;ATTACHMENT ID: 12806192 - PreCommit-HIVE-MASTER-Build&lt;/p&gt;</comment>
                            <comment id="15309426" author="sushanth" created="Wed, 1 Jun 2016 06:55:51 +0000"  >&lt;p&gt;None of the test failures reported are related to this patch.&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=vgumashta&quot; class=&quot;user-hover&quot; rel=&quot;vgumashta&quot;&gt;Vaibhav Gumashta&lt;/a&gt;, could you please review?&lt;/p&gt;
</comment>
                            <comment id="15311065" author="hagleitn" created="Wed, 1 Jun 2016 20:38:34 +0000"  >&lt;p&gt;If you return  a filter instead of a filterholder in the shim you don&apos;t have to bleed the eclipse dependency outside of webhcat I think. Otherwise +1.&lt;/p&gt;</comment>
                            <comment id="15312998" author="sushanth" created="Thu, 2 Jun 2016 20:30:39 +0000"  >&lt;p&gt;Updated patch.&lt;/p&gt;</comment>
                            <comment id="15313029" author="sushanth" created="Thu, 2 Jun 2016 20:47:41 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=hagleitn&quot; class=&quot;user-hover&quot; rel=&quot;hagleitn&quot;&gt;Gunther Hagleitner&lt;/a&gt;/&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=vgumashta&quot; class=&quot;user-hover&quot; rel=&quot;vgumashta&quot;&gt;Vaibhav Gumashta&lt;/a&gt;, could you please look at the updated patch?&lt;/p&gt;</comment>
                            <comment id="15313031" author="vgumashta" created="Thu, 2 Jun 2016 20:48:21 +0000"  >&lt;p&gt;+1.&lt;br/&gt;
Should we create a jira to investigate the filtering not working via ServletContextHandler?&lt;/p&gt;</comment>
                            <comment id="15313056" author="sushanth" created="Thu, 2 Jun 2016 21:05:03 +0000"  >&lt;p&gt;Thanks, Vaibhav!&lt;/p&gt;

&lt;p&gt;Yes, I think that would be useful, and will make the use between webhcat and hs2 uniform. I will create that when committing this.&lt;/p&gt;</comment>
                            <comment id="15315590" author="hiveqa" created="Sat, 4 Jun 2016 17:49:06 +0000"  >

&lt;p&gt;Here are the results of testing the latest attachment:&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/secure/attachment/12807817/HIVE-13853.2.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/secure/attachment/12807817/HIVE-13853.2.patch&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;font color=&quot;green&quot;&gt;SUCCESS:&lt;/font&gt; +1 due to 1 test(s) being added or modified.&lt;/p&gt;

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;ERROR:&lt;/font&gt; -1 due to 6 failed/errored test(s), 10221 tests executed&lt;br/&gt;
&lt;b&gt;Failed tests:&lt;/b&gt;&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_list_bucket_dml_12
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_list_bucket_dml_13
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_stats_list_bucket
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_subquery_multiinsert
org.apache.hadoop.hive.cli.TestMiniSparkOnYarnCliDriver.testCliDriver_constprog_partitioner
org.apache.hadoop.hive.cli.TestMiniSparkOnYarnCliDriver.testCliDriver_index_bitmap3
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Test results: &lt;a href=&quot;http://ec2-54-177-240-2.us-west-1.compute.amazonaws.com/job/PreCommit-HIVE-MASTER-Build/524/testReport&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://ec2-54-177-240-2.us-west-1.compute.amazonaws.com/job/PreCommit-HIVE-MASTER-Build/524/testReport&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;http://ec2-54-177-240-2.us-west-1.compute.amazonaws.com/job/PreCommit-HIVE-MASTER-Build/524/console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://ec2-54-177-240-2.us-west-1.compute.amazonaws.com/job/PreCommit-HIVE-MASTER-Build/524/console&lt;/a&gt;&lt;br/&gt;
Test logs: &lt;a href=&quot;http://ec2-50-18-27-0.us-west-1.compute.amazonaws.com/logs/PreCommit-HIVE-MASTER-Build-524/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://ec2-50-18-27-0.us-west-1.compute.amazonaws.com/logs/PreCommit-HIVE-MASTER-Build-524/&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Messages:&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;Executing org.apache.hive.ptest.execution.TestCheckPhase
Executing org.apache.hive.ptest.execution.PrepPhase
Executing org.apache.hive.ptest.execution.ExecutionPhase
Executing org.apache.hive.ptest.execution.ReportingPhase
Tests exited with: TestsFailedException: 6 tests failed
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;

&lt;p&gt;ATTACHMENT ID: 12807817 - PreCommit-HIVE-MASTER-Build&lt;/p&gt;</comment>
                            <comment id="15315961" author="sushanth" created="Sun, 5 Jun 2016 17:53:09 +0000"  >&lt;p&gt;Tests failures mentioned above are not related to the issue. Committing to master. &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=jcamachorodriguez&quot; class=&quot;user-hover&quot; rel=&quot;jcamachorodriguez&quot;&gt;Jesus Camacho Rodriguez&lt;/a&gt;, is this okay to commit to branch-2.1 as well?&lt;/p&gt;</comment>
                            <comment id="15315963" author="sushanth" created="Sun, 5 Jun 2016 17:56:57 +0000"  >&lt;p&gt;Committed to master.&lt;/p&gt;</comment>
                            <comment id="15315979" author="sushanth" created="Sun, 5 Jun 2016 18:37:04 +0000"  >&lt;p&gt;Opened &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-13949&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/browse/HIVE-13949&lt;/a&gt; for follow-up investigation on why the filter-mode did not work from HS2.&lt;/p&gt;</comment>
                            <comment id="15316430" author="jcamachorodriguez" created="Mon, 6 Jun 2016 12:42:36 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=sushanth&quot; class=&quot;user-hover&quot; rel=&quot;sushanth&quot;&gt;Sushanth Sowmyan&lt;/a&gt;, it is OK to land in branch-2.1. Please, set fix version to 2.1.1; if we spin a new RC for 2.1.0, I&apos;ll change it accordingly. Thanks&lt;/p&gt;</comment>
                            <comment id="15319066" author="sushanth" created="Tue, 7 Jun 2016 18:25:34 +0000"  >&lt;p&gt;Thanks, did so.&lt;/p&gt;</comment>
                            <comment id="15320109" author="lefty@hortonworks.com" created="Wed, 8 Jun 2016 06:37:25 +0000"  >&lt;p&gt;Changed TODOC2.2 to TODOC2.1.&lt;/p&gt;</comment>
                            <comment id="15507317" author="sseth" created="Tue, 20 Sep 2016 18:11:51 +0000"  >&lt;p&gt;The test added in this patch - TestXSRFFilter - runs for close to 20 minutes, about 2 minutes of that is actual run time, the rest is setup time. Is there anyway to make this faster?&lt;/p&gt;</comment>
                            <comment id="15507612" author="sushanth" created="Tue, 20 Sep 2016 19:53:23 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=sseth&quot; class=&quot;user-hover&quot; rel=&quot;sseth&quot;&gt;Siddharth Seth&lt;/a&gt;, I&apos;ve been looking at some other tests, and I come to a similar question - given that the runtime is not the actual problem of this test, the problem is the miniHS2 start, which we do need to test that HS2 is able to filter this properly.&lt;/p&gt;

&lt;p&gt;Things we could do to improve:&lt;/p&gt;

&lt;p&gt;a) batch the miniHS2 tests together - however, this can be problematic as each test might do a different confOverlay in the beginning&lt;br/&gt;
b) look into why miniHS2 takes so long to start sometimes.&lt;/p&gt;</comment>
                            <comment id="15507830" author="sseth" created="Tue, 20 Sep 2016 21:21:32 +0000"  >&lt;p&gt;Can this be written as a unit test instead of a test which requires HS2 to be brought up? Test the functionality of the filter independent of where it is running.&lt;/p&gt;</comment>
                            <comment id="15508057" author="sushanth" created="Tue, 20 Sep 2016 22:54:35 +0000"  >&lt;p&gt;That is how I had started testing, but HS2 has some quirks on filter load time due to which it has to be loaded explicitly at HS2 start time. Thus, this covers changes to HS2 start as well, and not simply the filter.&lt;/p&gt;</comment>
                            <comment id="15596828" author="sladymon" created="Sat, 22 Oct 2016 00:51:03 +0000"  >&lt;p&gt;Doc note:  &lt;br/&gt;
This adds the HiveConf parameter &lt;b&gt;hive.server2.xsrf.filter.enabled&lt;/b&gt;:&lt;/p&gt;

&lt;ul&gt;
	&lt;li&gt;&lt;a href=&quot;https://cwiki.apache.org/confluence/display/Hive/Configuration+Properties#ConfigurationProperties-hive.server2.xsrf.filter.enabled&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;Configuration Properties &amp;#8211; hive.server2.xsrf.filter.enabled &lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;This also adds &quot;hive.server2.xsrf.filter.enabled&quot; to the default value of &lt;b&gt;hive.conf.restricted.list&lt;/b&gt; which was created by &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2935&quot; title=&quot;Implement HiveServer2&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2935&quot;&gt;&lt;del&gt;HIVE-2935&lt;/del&gt;&lt;/a&gt; in release 0.11.0 and changed by &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-5953&quot; title=&quot;SQL std auth - authorize grant/revoke on table&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-5953&quot;&gt;&lt;del&gt;HIVE-5953&lt;/del&gt;&lt;/a&gt; in 0.13.0 and &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-6437&quot; title=&quot;DefaultHiveAuthorizationProvider should not initialize a new HiveConf&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-6437&quot;&gt;&lt;del&gt;HIVE-6437&lt;/del&gt;&lt;/a&gt; in 0.14.0:&lt;/p&gt;

&lt;ul&gt;
	&lt;li&gt;&lt;a href=&quot;https://cwiki.apache.org/confluence/display/Hive/Configuration+Properties#ConfigurationProperties-hive.conf.restricted.list&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;Configuration Properties &amp;#8211; hive.conf.restricted.list &lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;The default value is changed again by &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-14099&quot; title=&quot;Hive security authorization can be disabled by users&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-14099&quot;&gt;&lt;del&gt;HIVE-14099&lt;/del&gt;&lt;/a&gt; (2.2.0).&lt;/p&gt;</comment>
                            <comment id="15596832" author="sladymon" created="Sat, 22 Oct 2016 00:53:13 +0000"  >&lt;p&gt;Doc done. Removing TODOC label.&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                                                <inwardlinks description="is related to">
                                        <issuelink>
            <issuekey id="12975827">HIVE-13949</issuekey>
        </issuelink>
            <issuelink>
            <issuekey id="12983438">HIVE-14099</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="12807817" name="HIVE-13853.2.patch" size="23127" author="sushanth" created="Thu, 2 Jun 2016 20:30:39 +0000"/>
                            <attachment id="12806192" name="HIVE-13853.patch" size="23808" author="sushanth" created="Wed, 25 May 2016 19:17:28 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>2.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Sun, 29 May 2016 17:19:45 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            5 weeks, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i2yhz3:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310192" key="com.atlassian.jira.plugin.system.customfieldtypes:textarea">
                        <customfieldname>Release Note</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Adds two new configuration parameters, one to hive-site.xml for HiveServer2, and one to WebHCat to webhcat-site.xml.&lt;br/&gt;
&lt;br/&gt;
a) First, the HiveServer2 one: hive.server2.xsrf.filter.enabled - if set, will require that all requests to HS2 over http mode have an extra http header &amp;quot;X-XSRF-Header&amp;quot;, without which HS2 will deny requests.&lt;br/&gt;
&lt;br/&gt;
b) Similarly, for webhcat: templeton.xsrf.filter.enabled - does the same for WebHCat.&lt;br/&gt;
&lt;br/&gt;
Both these flags are false by default right now (which is why this patch is backward compatible, but we would want to flip that at some time in the future)</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12310320" key="com.atlassian.jira.plugin.system.customfieldtypes:multiversion">
                        <customfieldname>Target Version/s</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue>12335837</customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        </customfields>
    </item>
</channel>
</rss>