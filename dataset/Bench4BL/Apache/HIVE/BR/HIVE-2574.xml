<!-- 
RSS generated by JIRA (6.3.4#6332-sha1:51bc225ef474afe3128b2f66878477f322397b16) at Sat Dec 03 00:20:21 UTC 2016

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary add field=key&field=summary to the URL of your request.
For example:
https://issues.apache.org/jira/si/jira.issueviews:issue-xml/HIVE-2574/HIVE-2574.xml?field=key&amp;field=summary
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>6.3.4</version>
        <build-number>6332</build-number>
        <build-date>15-08-2014</build-date>
    </build-info>

<item>
            <title>[HIVE-2574] ivy offline mode broken by changingPattern and checkmodified attributes</title>
                <link>https://issues.apache.org/jira/browse/HIVE-2574</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;As described here:&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;http://www.mail-archive.com/ivy-user@ant.apache.org/msg03534.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://www.mail-archive.com/ivy-user@ant.apache.org/msg03534.html&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;This wasn&apos;t the case formerly (maybe the upgrade to ivy 1.2?)&lt;/p&gt;</description>
                <environment></environment>
        <key id="12531183">HIVE-2574</key>
            <summary>ivy offline mode broken by changingPattern and checkmodified attributes</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/bug.png">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.png">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="jvs">John Sichi</assignee>
                                    <reporter username="jvs">John Sichi</reporter>
                        <labels>
                    </labels>
                <created>Fri, 11 Nov 2011 21:55:11 +0000</created>
                <updated>Fri, 16 Dec 2011 23:56:19 +0000</updated>
                            <resolved>Fri, 18 Nov 2011 03:39:04 +0000</resolved>
                                                    <fixVersion>0.8.0</fixVersion>
                                    <component>Build Infrastructure</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                <comments>
                            <comment id="13148855" author="phabricator@reviews.facebook.net" created="Fri, 11 Nov 2011 23:50:51 +0000"  >&lt;p&gt;jsichi requested code review of &quot;&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2574&quot; title=&quot;ivy offline mode broken by changingPattern and checkmodified attributes&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2574&quot;&gt;&lt;del&gt;HIVE-2574&lt;/del&gt;&lt;/a&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;jira&amp;#93;&lt;/span&gt; ivy offline mode broken by changingPattern and checkmodified attributes&quot;.&lt;br/&gt;
Reviewers: JIRA&lt;/p&gt;

&lt;p&gt;  Factored out existing ivy offline properties to common buildfile, and&lt;br/&gt;
  added new ones to control the relevant settings.&lt;/p&gt;

&lt;p&gt;  As described here:&lt;/p&gt;

&lt;p&gt;  &lt;a href=&quot;http://www.mail-archive.com/ivy-user@ant.apache.org/msg03534.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://www.mail-archive.com/ivy-user@ant.apache.org/msg03534.html&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;  This wasn&apos;t the case formerly (maybe the upgrade to ivy 1.2?)&lt;/p&gt;

&lt;p&gt;TEST PLAN&lt;br/&gt;
  EMPTY&lt;/p&gt;

&lt;p&gt;REVISION DETAIL&lt;br/&gt;
  &lt;a href=&quot;https://reviews.facebook.net/D435&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/D435&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;AFFECTED FILES&lt;br/&gt;
  build.xml&lt;br/&gt;
  ivy/ivysettings.xml&lt;br/&gt;
  build-common.xml&lt;br/&gt;
  build-offline.xml&lt;/p&gt;

&lt;p&gt;MANAGE HERALD DIFFERENTIAL RULES&lt;br/&gt;
  &lt;a href=&quot;https://reviews.facebook.net/herald/view/differential/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/herald/view/differential/&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;WHY DID I GET THIS EMAIL?&lt;br/&gt;
  &lt;a href=&quot;https://reviews.facebook.net/herald/transcript/867/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/herald/transcript/867/&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Tip: use the X-Herald-Rules header to filter Herald messages in your client.&lt;/p&gt;</comment>
                            <comment id="13148863" author="phabricator@reviews.facebook.net" created="Fri, 11 Nov 2011 23:54:51 +0000"  >&lt;p&gt;jsichi has commented on the revision &quot;&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2574&quot; title=&quot;ivy offline mode broken by changingPattern and checkmodified attributes&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2574&quot;&gt;&lt;del&gt;HIVE-2574&lt;/del&gt;&lt;/a&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;jira&amp;#93;&lt;/span&gt; ivy offline mode broken by changingPattern and checkmodified attributes&quot;.&lt;/p&gt;

&lt;p&gt;  Marek, this may be good enough for fixing the parallel testing ivy problem (without sed hacking) if you run the slaves with -Doffline=true&lt;/p&gt;


&lt;p&gt;REVISION DETAIL&lt;br/&gt;
  &lt;a href=&quot;https://reviews.facebook.net/D435&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/D435&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="13148910" author="phabricator@reviews.facebook.net" created="Sat, 12 Nov 2011 00:48:51 +0000"  >&lt;p&gt;mareksapotafb has commented on the revision &quot;&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2574&quot; title=&quot;ivy offline mode broken by changingPattern and checkmodified attributes&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2574&quot;&gt;&lt;del&gt;HIVE-2574&lt;/del&gt;&lt;/a&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;jira&amp;#93;&lt;/span&gt; ivy offline mode broken by changingPattern and checkmodified attributes&quot;.&lt;/p&gt;

&lt;p&gt;  Not sure if this is the reason, but it took 34min to update and build Hive and when it got to tests I got this:&lt;/p&gt;

&lt;p&gt;    ivy-resolve:&lt;br/&gt;
         &lt;span class=&quot;error&quot;&gt;&amp;#91;echo&amp;#93;&lt;/span&gt; Project: anttasks&lt;br/&gt;
    &lt;span class=&quot;error&quot;&gt;&amp;#91;ivy:resolve&amp;#93;&lt;/span&gt; :: Ivy 2.2.0 - 20100923230623 :: &lt;a href=&quot;http://ant.apache.org/ivy/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://ant.apache.org/ivy/&lt;/a&gt; ::&lt;br/&gt;
    &lt;span class=&quot;error&quot;&gt;&amp;#91;ivy:resolve&amp;#93;&lt;/span&gt; :: loading settings :: file = /data/users/hivetests-mareksapota/trunk-dev3263.snc6.facebook.com-5/ivy/ivysettings.xml&lt;br/&gt;
    &lt;span class=&quot;error&quot;&gt;&amp;#91;ivy:resolve&amp;#93;&lt;/span&gt;&lt;br/&gt;
    &lt;span class=&quot;error&quot;&gt;&amp;#91;ivy:resolve&amp;#93;&lt;/span&gt; :: problems summary ::&lt;br/&gt;
    &lt;span class=&quot;error&quot;&gt;&amp;#91;ivy:resolve&amp;#93;&lt;/span&gt; :::: ERRORS&lt;br/&gt;
    &lt;span class=&quot;error&quot;&gt;&amp;#91;ivy:resolve&amp;#93;&lt;/span&gt;&lt;br/&gt;
    &lt;span class=&quot;error&quot;&gt;&amp;#91;ivy:resolve&amp;#93;&lt;/span&gt; :: USE VERBOSE OR DEBUG MESSAGE LEVEL FOR MORE DETAILS&lt;br/&gt;
    &lt;span class=&quot;error&quot;&gt;&amp;#91;ivy:resolve&amp;#93;&lt;/span&gt;   unknown resolver null&lt;br/&gt;
    &lt;span class=&quot;error&quot;&gt;&amp;#91;ivy:report&amp;#93;&lt;/span&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;Fatal Error&amp;#93;&lt;/span&gt; ivy-report.xsl:1:1: Premature end of file.&lt;br/&gt;
    &lt;span class=&quot;error&quot;&gt;&amp;#91;ivy:report&amp;#93;&lt;/span&gt; ERROR:  &apos;Premature end of file.&apos;&lt;br/&gt;
    &lt;span class=&quot;error&quot;&gt;&amp;#91;ivy:report&amp;#93;&lt;/span&gt; FATAL ERROR:  &apos;Could not compile stylesheet&apos;&lt;/p&gt;

&lt;p&gt;REVISION DETAIL&lt;br/&gt;
  &lt;a href=&quot;https://reviews.facebook.net/D435&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/D435&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="13150113" author="phabricator@reviews.facebook.net" created="Tue, 15 Nov 2011 00:34:51 +0000"  >&lt;p&gt;jsichi updated the revision &quot;&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2574&quot; title=&quot;ivy offline mode broken by changingPattern and checkmodified attributes&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2574&quot;&gt;&lt;del&gt;HIVE-2574&lt;/del&gt;&lt;/a&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;jira&amp;#93;&lt;/span&gt; ivy offline mode broken by changingPattern and checkmodified attributes&quot;.&lt;br/&gt;
Reviewers: JIRA, mareksapotafb&lt;/p&gt;

&lt;p&gt;  Tentative change to see if we can avoid ivy concurrency problems.&lt;/p&gt;

&lt;p&gt;REVISION DETAIL&lt;br/&gt;
  &lt;a href=&quot;https://reviews.facebook.net/D435&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/D435&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;AFFECTED FILES&lt;br/&gt;
  build.xml&lt;br/&gt;
  ivy/ivysettings.xml&lt;br/&gt;
  build-common.xml&lt;br/&gt;
  build-offline.xml&lt;/p&gt;</comment>
                            <comment id="13150156" author="phabricator@reviews.facebook.net" created="Tue, 15 Nov 2011 01:40:51 +0000"  >&lt;p&gt;jsichi updated the revision &quot;&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2574&quot; title=&quot;ivy offline mode broken by changingPattern and checkmodified attributes&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2574&quot;&gt;&lt;del&gt;HIVE-2574&lt;/del&gt;&lt;/a&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;jira&amp;#93;&lt;/span&gt; ivy offline mode broken by changingPattern and checkmodified attributes&quot;.&lt;br/&gt;
Reviewers: JIRA, mareksapotafb&lt;/p&gt;

&lt;p&gt;  Turns out we only need to set resolutionCacheDir.&lt;/p&gt;

&lt;p&gt;REVISION DETAIL&lt;br/&gt;
  &lt;a href=&quot;https://reviews.facebook.net/D435&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/D435&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;AFFECTED FILES&lt;br/&gt;
  build.xml&lt;br/&gt;
  ivy/ivysettings.xml&lt;br/&gt;
  build-common.xml&lt;br/&gt;
  build-offline.xml&lt;/p&gt;</comment>
                            <comment id="13151791" author="phabricator@reviews.facebook.net" created="Thu, 17 Nov 2011 04:36:51 +0000"  >&lt;p&gt;mareksapotafb has accepted the revision &quot;&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2574&quot; title=&quot;ivy offline mode broken by changingPattern and checkmodified attributes&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2574&quot;&gt;&lt;del&gt;HIVE-2574&lt;/del&gt;&lt;/a&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;jira&amp;#93;&lt;/span&gt; ivy offline mode broken by changingPattern and checkmodified attributes&quot;.&lt;/p&gt;

&lt;p&gt;  Not sure why, but it started working.  Didn&apos;t work with both this patch and the one downgrading Ivy but now it&apos;s fine.  Hope it doesn&apos;t break again=)&lt;/p&gt;

&lt;p&gt;REVISION DETAIL&lt;br/&gt;
  &lt;a href=&quot;https://reviews.facebook.net/D435&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/D435&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="13152333" author="jvs" created="Thu, 17 Nov 2011 21:20:19 +0000"  >&lt;p&gt;Patch is ready for review.  Besides fixing offline mode, it also sets a private resolution cache directory to avoid concurrency problems when running Hive tests in parallel on the same machine.&lt;/p&gt;</comment>
                            <comment id="13152363" author="cwsteinbach" created="Thu, 17 Nov 2011 21:44:20 +0000"  >&lt;p&gt;+1. Will commit if tests pass.&lt;/p&gt;</comment>
                            <comment id="13152499" author="jvs" created="Fri, 18 Nov 2011 00:26:52 +0000"  >&lt;p&gt;Reattaching latest patch granting ASF rights.&lt;/p&gt;</comment>
                            <comment id="13152618" author="cwsteinbach" created="Fri, 18 Nov 2011 03:39:04 +0000"  >&lt;p&gt;Committed to trunk. Thanks John!&lt;/p&gt;</comment>
                            <comment id="13152710" author="hudson" created="Fri, 18 Nov 2011 07:48:06 +0000"  >&lt;p&gt;Integrated in Hive-trunk-h0.21 #1095 (See &lt;a href=&quot;https://builds.apache.org/job/Hive-trunk-h0.21/1095/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://builds.apache.org/job/Hive-trunk-h0.21/1095/&lt;/a&gt;)&lt;br/&gt;
    &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2574&quot; title=&quot;ivy offline mode broken by changingPattern and checkmodified attributes&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2574&quot;&gt;&lt;del&gt;HIVE-2574&lt;/del&gt;&lt;/a&gt;. Ivy offline mode broken by changingPattern and checkmodified attributes (John Sichi via cws)&lt;/p&gt;

&lt;p&gt;cws : &lt;a href=&quot;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1203477&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1203477&lt;/a&gt;&lt;br/&gt;
Files : &lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hive/trunk/build-common.xml&lt;/li&gt;
	&lt;li&gt;/hive/trunk/build-offline.xml&lt;/li&gt;
	&lt;li&gt;/hive/trunk/build.xml&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ivy/ivysettings.xml&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13153041" author="phabricator@reviews.facebook.net" created="Fri, 18 Nov 2011 18:46:51 +0000"  >&lt;p&gt;mareksapotafb has committed the revision &quot;&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-2574&quot; title=&quot;ivy offline mode broken by changingPattern and checkmodified attributes&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-2574&quot;&gt;&lt;del&gt;HIVE-2574&lt;/del&gt;&lt;/a&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;jira&amp;#93;&lt;/span&gt; ivy offline mode broken by changingPattern and checkmodified attributes&quot;.&lt;/p&gt;

&lt;p&gt;REVISION DETAIL&lt;br/&gt;
  &lt;a href=&quot;https://reviews.facebook.net/D435&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://reviews.facebook.net/D435&lt;/a&gt;&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12503447" name="ASF.LICENSE.NOT.GRANTED--HIVE-2574.D435.1.patch" size="5081" author="phabricator@reviews.facebook.net" created="Fri, 11 Nov 2011 23:50:52 +0000"/>
                            <attachment id="12503696" name="ASF.LICENSE.NOT.GRANTED--HIVE-2574.D435.2.patch" size="5876" author="phabricator@reviews.facebook.net" created="Tue, 15 Nov 2011 00:34:52 +0000"/>
                            <attachment id="12503706" name="ASF.LICENSE.NOT.GRANTED--HIVE-2574.D435.3.patch" size="5690" author="phabricator@reviews.facebook.net" created="Tue, 15 Nov 2011 01:40:51 +0000"/>
                            <attachment id="12504148" name="HIVE-2574.D435.3.patch" size="5690" author="jvs" created="Fri, 18 Nov 2011 00:26:52 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>4.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Fri, 11 Nov 2011 23:50:51 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>216920</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310191" key="com.atlassian.jira.plugin.system.customfieldtypes:multicheckboxes">
                        <customfieldname>Hadoop Flags</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10343"><![CDATA[Reviewed]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            5 years, 3 weeks ago
                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0lklz:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>123989</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        </customfields>
    </item>
</channel>
</rss>