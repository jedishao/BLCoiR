<!-- 
RSS generated by JIRA (6.3.4#6332-sha1:51bc225ef474afe3128b2f66878477f322397b16) at Sat Dec 03 23:56:49 UTC 2016

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary add field=key&field=summary to the URL of your request.
For example:
https://issues.apache.org/jira/si/jira.issueviews:issue-xml/HIVE-12935/HIVE-12935.xml?field=key&amp;field=summary
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>6.3.4</version>
        <build-number>6332</build-number>
        <build-date>15-08-2014</build-date>
    </build-info>

<item>
            <title>[HIVE-12935] LLAP: Replace Yarn registry with Zookeeper registry</title>
                <link>https://issues.apache.org/jira/browse/HIVE-12935</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;Existing YARN registry service for cluster membership has to depend on refresh intervals to get the list of instances/daemons that are running in the cluster. Better approach would be replace it with zookeeper based registry service so that custom listeners can be added to update healthiness of daemons in the cluster.  &lt;/p&gt;</description>
                <environment></environment>
        <key id="12934258">HIVE-12935</key>
            <summary>LLAP: Replace Yarn registry with Zookeeper registry</summary>
                <type id="4" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/improvement.png">Improvement</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.png">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="prasanth_j">Prasanth Jayachandran</assignee>
                                    <reporter username="prasanth_j">Prasanth Jayachandran</reporter>
                        <labels>
                            <label>TODOC2.1</label>
                    </labels>
                <created>Tue, 26 Jan 2016 22:14:09 +0000</created>
                <updated>Tue, 21 Jun 2016 15:53:03 +0000</updated>
                            <resolved>Fri, 26 Feb 2016 21:20:03 +0000</resolved>
                                    <version>2.0.0</version>
                                    <fixVersion>2.1.0</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>6</watches>
                                                                <comments>
                            <comment id="15118195" author="prasanth_j" created="Tue, 26 Jan 2016 22:34:31 +0000"  >&lt;p&gt;This is the first take on the patch. Haven&apos;t tested secure zk client-server connection yet. There could be some more cleanup on LlapTaskSchedulerService. In case if something can be cleaned up will do so in follow up patches. &lt;/p&gt;</comment>
                            <comment id="15118200" author="prasanth_j" created="Tue, 26 Jan 2016 22:36:33 +0000"  >&lt;p&gt;Have to test with secure cluster to make ZK registry works. Will update the patch after testing in secure cluster asap. &lt;/p&gt;</comment>
                            <comment id="15118211" author="prasanth_j" created="Tue, 26 Jan 2016 22:40:08 +0000"  >&lt;p&gt;Attaching RB link. &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=sseth&quot; class=&quot;user-hover&quot; rel=&quot;sseth&quot;&gt;Siddharth Seth&lt;/a&gt;/&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=gopalv&quot; class=&quot;user-hover&quot; rel=&quot;gopalv&quot;&gt;Gopal V&lt;/a&gt;/&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=sershe&quot; class=&quot;user-hover&quot; rel=&quot;sershe&quot;&gt;Sergey Shelukhin&lt;/a&gt; Can someone please review this patch?&lt;/p&gt;</comment>
                            <comment id="15119954" author="prasanth_j" created="Wed, 27 Jan 2016 18:45:32 +0000"  >&lt;p&gt;I am able to successfully test this patch on secure cluster&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
16/01/27 18:33:55 INFO impl.LlapZookeeperRegistryImpl: UGI security is enabled. Setting up ZK auth.
16/01/27 18:33:55 INFO imps.CuratorFrameworkImpl: Starting
16/01/27 18:33:55 INFO client.ZooKeeperSaslClient: Client will use GSSAPI as SASL mechanism.
16/01/27 18:33:55 INFO zookeeper.ClientCnxn: Opening socket connection to server x.x.x.x:2181. Will attempt to SASL-authenticate using Login Context section &apos;LlapZooKeeperClient&apos;
16/01/27 18:33:55 INFO zookeeper.ClientCnxn: Socket connection established to x.x.x.x:2181, initiating session
16/01/27 18:33:55 INFO zookeeper.ClientCnxn: Session establishment complete on server x.x.x.x:2181, sessionid = 0x3527692050a0042, negotiated timeout = 10000
16/01/27 18:33:55 INFO state.ConnectionStateManager: State change: CONNECTED
16/01/27 18:33:56 INFO impl.LlapZookeeperRegistryImpl: Created a znode on ZooKeeper &lt;span class=&quot;code-keyword&quot;&gt;for&lt;/span&gt; LLAP instance: {
  &lt;span class=&quot;code-quote&quot;&gt;&quot;api&quot;&lt;/span&gt; : &lt;span class=&quot;code-quote&quot;&gt;&quot;llap&quot;&lt;/span&gt;,
  &lt;span class=&quot;code-quote&quot;&gt;&quot;addressType&quot;&lt;/span&gt; : &lt;span class=&quot;code-quote&quot;&gt;&quot;host/port&quot;&lt;/span&gt;,
  &lt;span class=&quot;code-quote&quot;&gt;&quot;protocolType&quot;&lt;/span&gt; : &lt;span class=&quot;code-quote&quot;&gt;&quot;hadoop/IPC&quot;&lt;/span&gt;,
  &lt;span class=&quot;code-quote&quot;&gt;&quot;addresses&quot;&lt;/span&gt; : [ {
    &lt;span class=&quot;code-quote&quot;&gt;&quot;host&quot;&lt;/span&gt; : &lt;span class=&quot;code-quote&quot;&gt;&quot;x.x.x.x&quot;&lt;/span&gt;,
    &lt;span class=&quot;code-quote&quot;&gt;&quot;port&quot;&lt;/span&gt; : &lt;span class=&quot;code-quote&quot;&gt;&quot;15001&quot;&lt;/span&gt;
  } ]
} znodePath: /llap/llap0/workers/worker-0000000021
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</comment>
                            <comment id="15119958" author="prasanth_j" created="Wed, 27 Jan 2016 18:48:18 +0000"  >&lt;p&gt;Also tested the patch by flexing up and down slider instances to see how it affects the llap task scheduler. &lt;/p&gt;</comment>
                            <comment id="15120258" author="sershe" created="Wed, 27 Jan 2016 22:07:24 +0000"  >&lt;p&gt;Seems too risky to commit to 2.0 at the last moment. 2.1?&lt;/p&gt;</comment>
                            <comment id="15120285" author="prasanth_j" created="Wed, 27 Jan 2016 22:21:01 +0000"  >&lt;p&gt;This patch avoids an exception when stopping the daemon&apos;s by cleaning closing the ZK objects.&lt;/p&gt;</comment>
                            <comment id="15121916" author="hiveqa" created="Thu, 28 Jan 2016 17:14:32 +0000"  >

&lt;p&gt;Here are the results of testing the latest attachment:&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/secure/attachment/12784745/HIVE-12935.2.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/secure/attachment/12784745/HIVE-12935.2.patch&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;ERROR:&lt;/font&gt; -1 due to no test(s) being added or modified.&lt;/p&gt;

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;ERROR:&lt;/font&gt; -1 due to 2 failed/errored test(s), 10036 tests executed&lt;br/&gt;
&lt;b&gt;Failed tests:&lt;/b&gt;&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;org.apache.hadoop.hive.cli.TestNegativeCliDriver.testNegativeCliDriver_authorization_uri_import
org.apache.hive.jdbc.TestSSL.testSSLVersion
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Test results: &lt;a href=&quot;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-TRUNK-Build/6779/testReport&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-TRUNK-Build/6779/testReport&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-TRUNK-Build/6779/console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-TRUNK-Build/6779/console&lt;/a&gt;&lt;br/&gt;
Test logs: &lt;a href=&quot;http://ec2-174-129-184-35.compute-1.amazonaws.com/logs/PreCommit-HIVE-TRUNK-Build-6779/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://ec2-174-129-184-35.compute-1.amazonaws.com/logs/PreCommit-HIVE-TRUNK-Build-6779/&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Messages:&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;Executing org.apache.hive.ptest.execution.TestCheckPhase
Executing org.apache.hive.ptest.execution.PrepPhase
Executing org.apache.hive.ptest.execution.ExecutionPhase
Executing org.apache.hive.ptest.execution.ReportingPhase
Tests exited with: TestsFailedException: 2 tests failed
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;

&lt;p&gt;ATTACHMENT ID: 12784745 - PreCommit-HIVE-TRUNK-Build&lt;/p&gt;</comment>
                            <comment id="15123232" author="gopalv" created="Fri, 29 Jan 2016 09:14:09 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=prasanth_j&quot; class=&quot;user-hover&quot; rel=&quot;prasanth_j&quot;&gt;Prasanth Jayachandran&lt;/a&gt;: LGTM - everything works after I fixed the missing the zookeeper.quorum in my llap-daemon-site.xml.&lt;/p&gt;

&lt;p&gt;daemonConf is missing this since it will be in hive-site.xml.&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
- conf.addResource(YarnConfiguration.YARN_SITE_CONFIGURATION_FILE);
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;was how the old impl was picking up the other configs. We might need to read this off the hive-site.xml or resolve this when producing the llap-daemon-site.xml in the service driver.&lt;/p&gt;</comment>
                            <comment id="15143562" author="prasanth_j" created="Thu, 11 Feb 2016 21:48:28 +0000"  >&lt;p&gt;Patch rebased. Also restored UUID for worker identity.&lt;/p&gt;</comment>
                            <comment id="15143729" author="gopalv" created="Thu, 11 Feb 2016 23:57:32 +0000"  >&lt;p&gt;Tested this on the cluster for a bit of scale testing and it flexes up/down fine.&lt;/p&gt;

&lt;p&gt;I&apos;m chaining this after &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-12967&quot; title=&quot;Change LlapServiceDriver to read a properties file instead of llap-daemon-site&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-12967&quot;&gt;&lt;del&gt;HIVE-12967&lt;/del&gt;&lt;/a&gt;, so the LlapConfiguration class disappears (but easy to fix).&lt;/p&gt;

&lt;p&gt;+1 after the UUID change, but I&apos;ll rebase after the config changes go in.&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=sseth&quot; class=&quot;user-hover&quot; rel=&quot;sseth&quot;&gt;Siddharth Seth&lt;/a&gt; left comments on RB on chaining the listeners for the registry, the thread-safety for callbacks &amp;amp; possibly about race conditions when an instance dies, while a task is still scheduled on it.&lt;/p&gt;

&lt;p&gt;The API chaining &amp;amp; splitting up the conf out HS2 (hive.llap.zookeeper.*) can be new JIRAs, but the race-conditions/thread-safety need a closer look before this goes in tomorrow.&lt;/p&gt;</comment>
                            <comment id="15145905" author="hiveqa" created="Sat, 13 Feb 2016 09:35:17 +0000"  >

&lt;p&gt;Here are the results of testing the latest attachment:&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/secure/attachment/12787536/HIVE-12935.3.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/secure/attachment/12787536/HIVE-12935.3.patch&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;ERROR:&lt;/font&gt; -1 due to no test(s) being added or modified.&lt;/p&gt;

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;ERROR:&lt;/font&gt; -1 due to 15 failed/errored test(s), 9803 tests executed&lt;br/&gt;
&lt;b&gt;Failed tests:&lt;/b&gt;&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_cte_5
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_cte_mat_1
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_cte_mat_2
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_cte_mat_3
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_cte_mat_4
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_cte_mat_5
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_partition_coltype_literals
org.apache.hadoop.hive.cli.TestMiniLlapCliDriver.testCliDriver_cte_5
org.apache.hadoop.hive.cli.TestMiniLlapCliDriver.testCliDriver_cte_mat_1
org.apache.hadoop.hive.cli.TestMiniLlapCliDriver.testCliDriver_cte_mat_2
org.apache.hadoop.hive.cli.TestMiniLlapCliDriver.testCliDriver_cte_mat_3
org.apache.hadoop.hive.cli.TestMiniLlapCliDriver.testCliDriver_cte_mat_4
org.apache.hadoop.hive.cli.TestMiniLlapCliDriver.testCliDriver_cte_mat_5
org.apache.hadoop.hive.cli.TestNegativeCliDriver.testNegativeCliDriver_authorization_uri_import
org.apache.hive.jdbc.TestSSL.testSSLVersion
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Test results: &lt;a href=&quot;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-TRUNK-Build/6966/testReport&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-TRUNK-Build/6966/testReport&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-TRUNK-Build/6966/console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-TRUNK-Build/6966/console&lt;/a&gt;&lt;br/&gt;
Test logs: &lt;a href=&quot;http://ec2-174-129-184-35.compute-1.amazonaws.com/logs/PreCommit-HIVE-TRUNK-Build-6966/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://ec2-174-129-184-35.compute-1.amazonaws.com/logs/PreCommit-HIVE-TRUNK-Build-6966/&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Messages:&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;Executing org.apache.hive.ptest.execution.TestCheckPhase
Executing org.apache.hive.ptest.execution.PrepPhase
Executing org.apache.hive.ptest.execution.ExecutionPhase
Executing org.apache.hive.ptest.execution.ReportingPhase
Tests exited with: TestsFailedException: 15 tests failed
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;

&lt;p&gt;ATTACHMENT ID: 12787536 - PreCommit-HIVE-TRUNK-Build&lt;/p&gt;</comment>
                            <comment id="15155139" author="prasanth_j" created="Fri, 19 Feb 2016 23:33:03 +0000"  >&lt;p&gt;Addressed &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=sseth&quot; class=&quot;user-hover&quot; rel=&quot;sseth&quot;&gt;Siddharth Seth&lt;/a&gt;&apos;s review comments.&lt;/p&gt;</comment>
                            <comment id="15155904" author="hiveqa" created="Sun, 21 Feb 2016 05:39:00 +0000"  >

&lt;p&gt;Here are the results of testing the latest attachment:&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/secure/attachment/12788783/HIVE-12935.4.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/secure/attachment/12788783/HIVE-12935.4.patch&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;ERROR:&lt;/font&gt; -1 due to no test(s) being added or modified.&lt;/p&gt;

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;ERROR:&lt;/font&gt; -1 due to 6 failed/errored test(s), 9785 tests executed&lt;br/&gt;
&lt;b&gt;Failed tests:&lt;/b&gt;&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;TestMiniTezCliDriver-vectorization_16.q-groupby2.q-vector_partitioned_date_time.q-and-12-more - did not produce a TEST-*.xml file
TestSparkCliDriver-timestamp_lazy.q-bucketsortoptimize_insert_4.q-date_udf.q-and-12-more - did not produce a TEST-*.xml file
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_partition_coltype_literals
org.apache.hadoop.hive.cli.TestNegativeCliDriver.testNegativeCliDriver_authorization_uri_import
org.apache.hadoop.hive.ql.security.TestStorageBasedMetastoreAuthorizationDrops.testDropDatabase
org.apache.hive.jdbc.TestSSL.testSSLVersion
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Test results: &lt;a href=&quot;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-TRUNK-Build/7046/testReport&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-TRUNK-Build/7046/testReport&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-TRUNK-Build/7046/console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-TRUNK-Build/7046/console&lt;/a&gt;&lt;br/&gt;
Test logs: &lt;a href=&quot;http://ec2-174-129-184-35.compute-1.amazonaws.com/logs/PreCommit-HIVE-TRUNK-Build-7046/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://ec2-174-129-184-35.compute-1.amazonaws.com/logs/PreCommit-HIVE-TRUNK-Build-7046/&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Messages:&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;Executing org.apache.hive.ptest.execution.TestCheckPhase
Executing org.apache.hive.ptest.execution.PrepPhase
Executing org.apache.hive.ptest.execution.ExecutionPhase
Executing org.apache.hive.ptest.execution.ReportingPhase
Tests exited with: TestsFailedException: 6 tests failed
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;

&lt;p&gt;ATTACHMENT ID: 12788783 - PreCommit-HIVE-TRUNK-Build&lt;/p&gt;</comment>
                            <comment id="15166916" author="prasanth_j" created="Thu, 25 Feb 2016 08:30:40 +0000"  >&lt;p&gt;Named notification handler threadpool, also has fix for ACL leak in zk connection.&lt;/p&gt;</comment>
                            <comment id="15168519" author="prasanth_j" created="Fri, 26 Feb 2016 06:15:15 +0000"  >&lt;p&gt;Addressed &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=sseth&quot; class=&quot;user-hover&quot; rel=&quot;sseth&quot;&gt;Siddharth Seth&lt;/a&gt;&apos;s review comments.&lt;/p&gt;</comment>
                            <comment id="15168540" author="prasanth_j" created="Fri, 26 Feb 2016 06:35:51 +0000"  >&lt;p&gt;added proper synchronization per Sid&apos;s comments.&lt;/p&gt;</comment>
                            <comment id="15168545" author="gopalv" created="Fri, 26 Feb 2016 06:39:17 +0000"  >&lt;p&gt;Not sure I can do a nightly run tonight - can you kick-off a run with Chaosmonkey interval of 120s with at least 4 nodes &amp;amp;  run the q55-random.sql at 1Tb scale to validate this?&lt;/p&gt;</comment>
                            <comment id="15168554" author="sseth" created="Fri, 26 Feb 2016 06:49:00 +0000"  >&lt;p&gt;+1.&lt;/p&gt;</comment>
                            <comment id="15168575" author="prasanth_j" created="Fri, 26 Feb 2016 07:08:45 +0000"  >&lt;p&gt;Sure. I will do the nightly run tonight. &lt;/p&gt;</comment>
                            <comment id="15169375" author="hiveqa" created="Fri, 26 Feb 2016 17:31:25 +0000"  >

&lt;p&gt;Here are the results of testing the latest attachment:&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/secure/attachment/12790078/HIVE-12935.7.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/secure/attachment/12790078/HIVE-12935.7.patch&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;ERROR:&lt;/font&gt; -1 due to no test(s) being added or modified.&lt;/p&gt;

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;ERROR:&lt;/font&gt; -1 due to 5 failed/errored test(s), 9829 tests executed&lt;br/&gt;
&lt;b&gt;Failed tests:&lt;/b&gt;&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;org.apache.hadoop.hive.cli.TestMiniTezCliDriver.org.apache.hadoop.hive.cli.TestMiniTezCliDriver
org.apache.hadoop.hive.cli.TestMiniTezCliDriver.testCliDriver_cbo_semijoin
org.apache.hadoop.hive.cli.TestMiniTezCliDriver.testCliDriver_update_where_partitioned
org.apache.hadoop.hive.cli.TestNegativeCliDriver.testNegativeCliDriver_authorization_uri_import
org.apache.hive.jdbc.TestSSL.testSSLVersion
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Test results: &lt;a href=&quot;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-TRUNK-Build/7100/testReport&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-TRUNK-Build/7100/testReport&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-TRUNK-Build/7100/console&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-TRUNK-Build/7100/console&lt;/a&gt;&lt;br/&gt;
Test logs: &lt;a href=&quot;http://ec2-174-129-184-35.compute-1.amazonaws.com/logs/PreCommit-HIVE-TRUNK-Build-7100/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://ec2-174-129-184-35.compute-1.amazonaws.com/logs/PreCommit-HIVE-TRUNK-Build-7100/&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Messages:&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;Executing org.apache.hive.ptest.execution.TestCheckPhase
Executing org.apache.hive.ptest.execution.PrepPhase
Executing org.apache.hive.ptest.execution.ExecutionPhase
Executing org.apache.hive.ptest.execution.ReportingPhase
Tests exited with: TestsFailedException: 5 tests failed
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;

&lt;p&gt;ATTACHMENT ID: 12790078 - PreCommit-HIVE-TRUNK-Build&lt;/p&gt;</comment>
                            <comment id="15169817" author="prasanth_j" created="Fri, 26 Feb 2016 21:08:41 +0000"  >&lt;p&gt;Tested this patch on 1TB scale q55-random.sql queries with chaosmonkey interval of 120s on 6 instances. However I did not see any logs related to chaosmonkey terminating an instance. The entire queryset succeeded though without any issues. I also ran the same test with slider flexing up/down the number of containers and was able to see the notifications. All queries succeeded while flexing up and down (with few attempt failures/kills which are expected on flexing down).&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
2016-02-26 16:03:23,685 [INFO] [StateChangeNotificationHandler] |impl.LlapZookeeperRegistryImpl$InstanceStateChangeListener|: Removed zknode /prasanth/llap0/workers/worker-0000000106 from llap namespace. Notifying state change listener.
2016-02-26 16:03:23,685 [INFO] [StateChangeNotificationHandler] |tezplugins.LlapTaskSchedulerService$NodeStateChangeListener|: Removed node with identity: 8b46e9f6-eefd-40d7-b17c-5b3016039934
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</comment>
                            <comment id="15169838" author="prasanth_j" created="Fri, 26 Feb 2016 21:20:03 +0000"  >&lt;p&gt;Committed patch to master. Thanks &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=gopalv&quot; class=&quot;user-hover&quot; rel=&quot;gopalv&quot;&gt;Gopal V&lt;/a&gt; and &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=sseth&quot; class=&quot;user-hover&quot; rel=&quot;sseth&quot;&gt;Siddharth Seth&lt;/a&gt; for the reviews!&lt;/p&gt;</comment>
                            <comment id="15170499" author="lefty@hortonworks.com" created="Sat, 27 Feb 2016 09:27:07 +0000"  >&lt;p&gt;Doc note:  This revises the description of &lt;b&gt;hive.zookeeper.quorum&lt;/b&gt; in HiveConf.java, so the wiki needs to be updated for release 2.1.0.  (Also see 0.14.0 description revisions by &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-7935&quot; title=&quot;Support dynamic service discovery for HiveServer2&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-7935&quot;&gt;&lt;del&gt;HIVE-7935&lt;/del&gt;&lt;/a&gt; and &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-8557&quot; title=&quot;automatically setup ZooKeeperTokenStore to use kerberos authentication when kerberos is enabled&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-8557&quot;&gt;&lt;del&gt;HIVE-8557&lt;/del&gt;&lt;/a&gt;.)  Added a TODOC2.1 label.&lt;/p&gt;

&lt;ul&gt;
	&lt;li&gt;&lt;a href=&quot;https://cwiki.apache.org/confluence/display/Hive/Configuration+Properties#ConfigurationProperties-hive.zookeeper.quorum&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;Configuration Properties &amp;#8211; hive.zookeeper.quorum &lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;Does this also need general documentation?&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="12310000">
                    <name>Duplicate</name>
                                                                <inwardlinks description="is duplicated by">
                                        <issuelink>
            <issuekey id="12783451">HIVE-10026</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                            <issuelinktype id="12310051">
                    <name>Supercedes</name>
                                            <outwardlinks description="supercedes">
                                        <issuelink>
            <issuekey id="12782775">HIVE-10004</issuekey>
        </issuelink>
            <issuelink>
            <issuekey id="12828145">HIVE-10648</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                            <issuelinktype id="10001">
                    <name>dependent</name>
                                                                <inwardlinks description="is depended upon by">
                                        <issuelink>
            <issuekey id="12944789">HIVE-13168</issuekey>
        </issuelink>
            <issuelink>
            <issuekey id="12944787">HIVE-13167</issuekey>
        </issuelink>
            <issuelink>
            <issuekey id="12934914">HIVE-12959</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="12784520" name="12935.1.patch" size="64216" author="prasanth_j" created="Tue, 26 Jan 2016 22:34:31 +0000"/>
                            <attachment id="12784745" name="HIVE-12935.2.patch" size="63330" author="prasanth_j" created="Wed, 27 Jan 2016 22:21:01 +0000"/>
                            <attachment id="12787536" name="HIVE-12935.3.patch" size="63616" author="prasanth_j" created="Thu, 11 Feb 2016 21:48:28 +0000"/>
                            <attachment id="12788783" name="HIVE-12935.4.patch" size="62989" author="prasanth_j" created="Fri, 19 Feb 2016 23:33:03 +0000"/>
                            <attachment id="12789895" name="HIVE-12935.5.patch" size="63205" author="prasanth_j" created="Thu, 25 Feb 2016 08:30:40 +0000"/>
                            <attachment id="12790074" name="HIVE-12935.6.patch" size="63444" author="prasanth_j" created="Fri, 26 Feb 2016 06:15:15 +0000"/>
                            <attachment id="12790078" name="HIVE-12935.7.patch" size="63441" author="prasanth_j" created="Fri, 26 Feb 2016 06:35:51 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>7.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Wed, 27 Jan 2016 22:07:24 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            40 weeks ago
                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i2s01j:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                    <customfield id="customfield_12310320" key="com.atlassian.jira.plugin.system.customfieldtypes:multiversion">
                        <customfieldname>Target Version/s</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue>12334255</customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        </customfields>
    </item>
</channel>
</rss>