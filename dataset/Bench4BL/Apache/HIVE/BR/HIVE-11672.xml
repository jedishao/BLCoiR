<!-- 
RSS generated by JIRA (6.3.4#6332-sha1:51bc225ef474afe3128b2f66878477f322397b16) at Sat Dec 03 22:59:54 UTC 2016

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary add field=key&field=summary to the URL of your request.
For example:
https://issues.apache.org/jira/si/jira.issueviews:issue-xml/HIVE-11672/HIVE-11672.xml?field=key&amp;field=summary
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>6.3.4</version>
        <build-number>6332</build-number>
        <build-date>15-08-2014</build-date>
    </build-info>

<item>
            <title>[HIVE-11672] Hive Streaming API handles bucketing incorrectly</title>
                <link>https://issues.apache.org/jira/browse/HIVE-11672</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;Hive Streaming API allows the clients to get a random bucket and then insert data into it. However, this leads to incorrect bucketing as Hive expects data to be distributed into buckets based on a hash function applied to bucket key. The data is inserted randomly by the clients right now. They have no way of&lt;/p&gt;
&lt;ol&gt;
	&lt;li&gt;Knowing what bucket a row (tuple) belongs to&lt;/li&gt;
	&lt;li&gt;Asking for a specific bucket&lt;/li&gt;
&lt;/ol&gt;


&lt;p&gt;There are optimization such as Sort Merge Join and Bucket Map Join that rely on the data being correctly distributed across buckets and these will cause incorrect read results if the data is not distributed correctly.&lt;/p&gt;

&lt;p&gt;There are two obvious design choices&lt;/p&gt;
&lt;ol&gt;
	&lt;li&gt;Hive Streaming API should fix this internally by distributing the data correctly&lt;/li&gt;
	&lt;li&gt;Hive Streaming API should expose data distribution scheme to the clients and allow them to distribute the data correctly&lt;/li&gt;
&lt;/ol&gt;


&lt;p&gt;The first option will mean every client thread will write to many buckets, causing many small files in each bucket and too many connections open. this does not seem feasible. The second option pushes more functionality into the client of the Hive Streaming API, but can maintain high throughput and write good sized ORC files. This option seems preferable.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12859757">HIVE-11672</key>
            <summary>Hive Streaming API handles bucketing incorrectly</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/bug.png">Bug</type>
                                            <priority id="2" iconUrl="https://issues.apache.org/jira/images/icons/priorities/critical.png">Critical</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="3">Duplicate</resolution>
                                        <assignee username="roshan_naik">Roshan Naik</assignee>
                                    <reporter username="rbains">Raj Bains</reporter>
                        <labels>
                    </labels>
                <created>Thu, 27 Aug 2015 23:46:51 +0000</created>
                <updated>Tue, 3 Nov 2015 08:27:55 +0000</updated>
                            <resolved>Mon, 2 Nov 2015 20:02:20 +0000</resolved>
                                    <version>1.2.1</version>
                                                    <component>HCatalog</component>
                    <component>Hive</component>
                    <component>Transactions</component>
                        <due>Fri, 11 Sep 2015 00:00:00 +0000</due>
                            <votes>0</votes>
                                    <watches>7</watches>
                                                                <comments>
                            <comment id="14935893" author="ekoifman" created="Tue, 29 Sep 2015 21:25:27 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=roshan_naik&quot; class=&quot;user-hover&quot; rel=&quot;roshan_naik&quot;&gt;Roshan Naik&lt;/a&gt; is this is a dup of &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-11983&quot; title=&quot;Hive streaming API uses incorrect logic to assign buckets to incoming records&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-11983&quot;&gt;&lt;del&gt;HIVE-11983&lt;/del&gt;&lt;/a&gt;?&lt;/p&gt;</comment>
                            <comment id="14985919" author="roshan_naik" created="Mon, 2 Nov 2015 20:03:42 +0000"  >&lt;p&gt;yes.&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10032">
                    <name>Blocker</name>
                                            <outwardlinks description="blocks">
                                        <issuelink>
            <issuekey id="12859777">STORM-1014</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                            <outwardlinks description="relates to">
                                        <issuelink>
            <issuekey id="12860372">HIVE-11683</issuekey>
        </issuelink>
            <issuelink>
            <issuekey id="12901161">HIVE-11983</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                    </issuelinks>
                <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Tue, 29 Sep 2015 21:25:27 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            1 year, 4 weeks, 5 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i2jh3b:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        </customfields>
    </item>
</channel>
</rss>