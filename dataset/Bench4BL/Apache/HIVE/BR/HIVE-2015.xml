<!-- 
RSS generated by JIRA (6.3.4#6332-sha1:51bc225ef474afe3128b2f66878477f322397b16) at Sat Dec 03 01:17:28 UTC 2016

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary add field=key&field=summary to the URL of your request.
For example:
https://issues.apache.org/jira/si/jira.issueviews:issue-xml/HIVE-2015/HIVE-2015.xml?field=key&amp;field=summary
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>6.3.4</version>
        <build-number>6332</build-number>
        <build-date>15-08-2014</build-date>
    </build-info>

<item>
            <title>[HIVE-2015] Eliminate bogus Datanucleus.Plugin Bundle ERROR log messages</title>
                <link>https://issues.apache.org/jira/browse/HIVE-2015</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;Every time I start up the Hive CLI with logging enabled I&apos;m treated to the following ERROR log messages courtesy of DataNucleus:&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
DEBUG metastore.ObjectStore: datanucleus.plugin.pluginRegistryBundleCheck = LOG 
ERROR DataNucleus.Plugin: Bundle &lt;span class=&quot;code-quote&quot;&gt;&quot;org.eclipse.jdt.core&quot;&lt;/span&gt; requires &lt;span class=&quot;code-quote&quot;&gt;&quot;org.eclipse.core.resources&quot;&lt;/span&gt; but it cannot be resolved. 
ERROR DataNucleus.Plugin: Bundle &lt;span class=&quot;code-quote&quot;&gt;&quot;org.eclipse.jdt.core&quot;&lt;/span&gt; requires &lt;span class=&quot;code-quote&quot;&gt;&quot;org.eclipse.core.runtime&quot;&lt;/span&gt; but it cannot be resolved. 
ERROR DataNucleus.Plugin: Bundle &lt;span class=&quot;code-quote&quot;&gt;&quot;org.eclipse.jdt.core&quot;&lt;/span&gt; requires &lt;span class=&quot;code-quote&quot;&gt;&quot;org.eclipse.text&quot;&lt;/span&gt; but it cannot be resolved.
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Here&apos;s where this comes from:&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;The bin/hive scripts cause Hive to inherit Hadoop&apos;s classpath.&lt;/li&gt;
	&lt;li&gt;Hadoop&apos;s classpath includes $HADOOP_HOME/lib/core-3.1.1.jar, an Eclipse library.&lt;/li&gt;
	&lt;li&gt;core-3.1.1.jar includes a plugin.xml file defining an OSGI plugin&lt;/li&gt;
	&lt;li&gt;At startup, Datanucleus scans the classpath looking for OSGI plugins, and will attempt to initialize any that it finds, including the Eclipse OSGI plugins located in core-3.1.1.jar&lt;/li&gt;
	&lt;li&gt;Initialization of the OSGI plugin in core-3.1.1.jar fails because of unresolved dependencies.&lt;/li&gt;
	&lt;li&gt;We see an ERROR message telling us that Datanucleus failed to initialize a plugin that we don&apos;t care about in the first place.&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;I can think of two options for solving this problem:&lt;/p&gt;
&lt;ol&gt;
	&lt;li&gt;Rewrite the scripts in $HIVE_HOME/bin so that they don&apos;t inherit ALL of Hadoop&apos;s CLASSPATH.&lt;/li&gt;
	&lt;li&gt;Replace DataNucleus&apos;s NOnManagedPluginRegistry with our own implementation that does nothing.&lt;/li&gt;
&lt;/ol&gt;

</description>
                <environment></environment>
        <key id="12500017">HIVE-2015</key>
            <summary>Eliminate bogus Datanucleus.Plugin Bundle ERROR log messages</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/bug.png">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.png">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="zhenxiao">Zhenxiao Luo</assignee>
                                    <reporter username="cwsteinbach">Carl Steinbach</reporter>
                        <labels>
                    </labels>
                <created>Tue, 1 Mar 2011 07:59:44 +0000</created>
                <updated>Tue, 15 Oct 2013 23:30:30 +0000</updated>
                            <resolved>Fri, 26 Jul 2013 15:44:24 +0000</resolved>
                                                    <fixVersion>0.12.0</fixVersion>
                                    <component>Diagnosability</component>
                    <component>Metastore</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>4</watches>
                                                                <comments>
                            <comment id="13011155" author="andy" created="Fri, 25 Mar 2011 11:01:48 +0000"  >&lt;p&gt;or just use recent DataNucleus (3.0Mx) which, by default, omits checks on OSGi dependencies.&lt;/p&gt;

&lt;p&gt;PS. if having such issues with third party software i&apos;d expect people to go to that third-party software and register an issue there to be able to turn something off etc, rather than rely on that projects developers to just happen across issues like this in a web trawl.&lt;/p&gt;</comment>
                            <comment id="13054291" author="cwsteinbach" created="Fri, 24 Jun 2011 07:46:05 +0000"  >&lt;p&gt;@Andy: Has the DataNucleus 3.0 release gone final yet? If not, do you have any idea when this will happen? Is there any chance that this fix will be backported to the 2.x series?&lt;/p&gt;</comment>
                            <comment id="13281867" author="cwsteinbach" created="Wed, 23 May 2012 20:17:53 +0000"  >&lt;p&gt;Looks like we could also set datanucleus.plugin.pluginRegistryBundleCheck=NONE in HiveConf and hive-default.xml.template:&lt;/p&gt;

&lt;p&gt;From &lt;a href=&quot;http://www.datanucleus.org/products/datanucleus/persistence_properties.html:&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://www.datanucleus.org/products/datanucleus/persistence_properties.html:&lt;/a&gt;&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;datanucleus.plugin.pluginRegistryBundleCheck
Description	 Defines what happens when plugin bundles are found and are duplicated
Range of Values	 EXCEPTION | LOG | NONE
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</comment>
                            <comment id="13281869" author="cwsteinbach" created="Wed, 23 May 2012 20:19:16 +0000"  >&lt;p&gt;@Zhenxiao: Please see if setting datanucleus.plugin.pluginRegistryBundleCheck=NONE fixes this problem. If it does, please prepare a patch. Thanks!&lt;/p&gt;</comment>
                            <comment id="13281922" author="zhenxiao" created="Wed, 23 May 2012 21:12:12 +0000"  >&lt;p&gt;@Carl: I set datanucleus.plugin.pluginRegistryBundleCheck=NONE in both HiveConf.java and hive-default.xml. The error message is still there for the first cmd in Cli. I am checking other possible solutions to fix it.&lt;/p&gt;</comment>
                            <comment id="13281936" author="zhenxiao" created="Wed, 23 May 2012 21:35:45 +0000"  >&lt;p&gt;Setting datanucleus.plugin.pluginRegistryBundleCheck has no effect of this bug.&lt;/p&gt;

&lt;p&gt;According to: &lt;br/&gt;
&lt;a href=&quot;http://www.datanucleus.org/products/datanucleus/persistence_properties.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://www.datanucleus.org/products/datanucleus/persistence_properties.html&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;datanucleus.plugin.pluginRegistryBundleCheck&lt;br/&gt;
Description	 Defines what happens when plugin bundles are found and are duplicated&lt;br/&gt;
Range of Values	 EXCEPTION | LOG | NONE&lt;/p&gt;

&lt;p&gt;Seems this is set to whether LOG, EXCEPTION, or NONE if the plugin bundles are found and are duplicated. If it is not found/unresolved, ERROR still shows up in the first CLI command.&lt;/p&gt;

&lt;p&gt;Also tested setting it to be EXCEPTION. No exception at all, the same error message.&lt;/p&gt;</comment>
                            <comment id="13720899" author="ashutoshc" created="Fri, 26 Jul 2013 15:44:24 +0000"  >&lt;p&gt;This should have been fixed via &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-3632&quot; title=&quot;Upgrade datanucleus to support JDK7&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-3632&quot;&gt;&lt;del&gt;HIVE-3632&lt;/del&gt;&lt;/a&gt; Feel free to reopen if you can still reproduce.&lt;/p&gt;</comment>
                            <comment id="13796028" author="ashutoshc" created="Tue, 15 Oct 2013 23:30:30 +0000"  >&lt;p&gt;This issue has been fixed and released as part of 0.12 release. If you find further issues, please create a new jira and link it to this one.&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10032">
                    <name>Blocker</name>
                                                                <inwardlinks description="is blocked by">
                                        <issuelink>
            <issuekey id="12502784">HIVE-2084</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Fri, 25 Mar 2011 11:01:48 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>3357</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            3 years, 7 weeks, 3 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0li07:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>123567</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        </customfields>
    </item>
</channel>
</rss>