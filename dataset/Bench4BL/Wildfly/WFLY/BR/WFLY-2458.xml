<!-- 
RSS generated by JIRA (7.2.3#72005-sha1:73be91d2b96fc29303a7eb6820acf420e5d0ed65) at Tue Dec 06 11:45:12 EST 2016

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary add field=key&field=summary to the URL of your request.
For example:
https://issues.jboss.org/si/jira.issueviews:issue-xml/WFLY-2458/WFLY-2458.xml?field=key&amp;field=summary
-->
<rss version="0.92" >
<channel>
    <title>JBoss Issue Tracker</title>
    <link>https://issues.jboss.org</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-us</language>    <build-info>
        <version>7.2.3</version>
        <build-number>72005</build-number>
        <build-date>06-10-2016</build-date>
    </build-info>

<item>
            <title>[WFLY-2458] Re-deployment of a clustered application fail due to race-condition with infinispan</title>
                <link>https://issues.jboss.org/browse/WFLY-2458</link>
                <project id="12313721" key="WFLY">WildFly</project>
                    <description>&lt;p&gt;If a clustered application should be redeployed it looks like that infinispan is not able to stop complete until the deployer finish undeployment and start to deploy the new application. See the Exception below.&lt;br/&gt;
The behaviour is the same for managed or unmanged deployments.&lt;br/&gt;
If it is unmanaged the .failed marker file exists.&lt;br/&gt;
After the failure the application is shown in the mgmt console without deployed Beans.&lt;br/&gt;
A second deploy attempt will be successfull&lt;/p&gt;




&lt;p&gt;11:22:36,397 INFO  &lt;span class=&quot;error&quot;&gt;&amp;#91;org.infinispan.remoting.transport.jgroups.JGroupsTransport&amp;#93;&lt;/span&gt; (Incoming-1,shared=udp) ISPN000094: Received new cluster view: &lt;span class=&quot;error&quot;&gt;&amp;#91;home/ejb|1&amp;#93;&lt;/span&gt; (2) &lt;span class=&quot;error&quot;&gt;&amp;#91;home/ejb, node2/ejb&amp;#93;&lt;/span&gt;&lt;br/&gt;
11:22:52,746 INFO  &lt;span class=&quot;error&quot;&gt;&amp;#91;org.jboss.weld.deployer&amp;#93;&lt;/span&gt; (MSC service thread 1-11) JBAS016009: Stopping weld service for deployment appone.ear&lt;br/&gt;
11:22:52,751 INFO  &lt;span class=&quot;error&quot;&gt;&amp;#91;org.infinispan.eviction.PassivationManagerImpl&amp;#93;&lt;/span&gt; (ServerService Thread Pool &amp;#8211; 58) ISPN000029: Passivating all entries to disk&lt;br/&gt;
11:22:52,752 INFO  &lt;span class=&quot;error&quot;&gt;&amp;#91;org.infinispan.eviction.PassivationManagerImpl&amp;#93;&lt;/span&gt; (ServerService Thread Pool &amp;#8211; 58) ISPN000030: Passivated 0 entries in 0 milliseconds&lt;br/&gt;
11:22:52,759 INFO  &lt;span class=&quot;error&quot;&gt;&amp;#91;org.jboss.as.clustering.infinispan&amp;#93;&lt;/span&gt; (ServerService Thread Pool &amp;#8211; 58) JBAS010282: Stopped repl cache from ejb container&lt;br/&gt;
11:22:52,765 INFO  &lt;span class=&quot;error&quot;&gt;&amp;#91;org.jboss.as.clustering.infinispan&amp;#93;&lt;/span&gt; (ServerService Thread Pool &amp;#8211; 60) JBAS010282: Stopped remote-connector-client-mappings cache from ejb container&lt;br/&gt;
11:22:52,768 INFO  &lt;span class=&quot;error&quot;&gt;&amp;#91;org.infinispan.remoting.transport.jgroups.JGroupsTransport&amp;#93;&lt;/span&gt; (MSC service thread 1-6) ISPN000080: Disconnecting and closing JGroups Channel&lt;br/&gt;
11:22:52,771 INFO  &lt;span class=&quot;error&quot;&gt;&amp;#91;org.jboss.as.server.deployment&amp;#93;&lt;/span&gt; (MSC service thread 1-3) JBAS015877: Stopped deployment null (runtime-name: ejb.jar) in 36ms&lt;br/&gt;
11:22:52,772 INFO  &lt;span class=&quot;error&quot;&gt;&amp;#91;org.jboss.as.server.deployment&amp;#93;&lt;/span&gt; (MSC service thread 1-11) JBAS015877: Stopped deployment appone.ear (runtime-name: appone.ear) in 39ms&lt;br/&gt;
11:22:52,773 INFO  &lt;span class=&quot;error&quot;&gt;&amp;#91;org.jboss.as.server.deployment&amp;#93;&lt;/span&gt; (MSC service thread 1-5) JBAS015876: Starting deployment of &quot;appone.ear&quot; (runtime-name: &quot;appone.ear&quot;)&lt;br/&gt;
11:22:52,778 INFO  &lt;span class=&quot;error&quot;&gt;&amp;#91;org.jboss.as.server.deployment&amp;#93;&lt;/span&gt; (MSC service thread 1-4) JBAS015876: Starting deployment of &quot;null&quot; (runtime-name: &quot;ejb.jar&quot;)&lt;br/&gt;
11:22:52,792 INFO  &lt;span class=&quot;error&quot;&gt;&amp;#91;org.jboss.weld.deployer&amp;#93;&lt;/span&gt; (MSC service thread 1-12) JBAS016002: Processing weld deployment appone.ear&lt;br/&gt;
11:22:52,803 INFO  &lt;span class=&quot;error&quot;&gt;&amp;#91;org.jboss.weld.deployer&amp;#93;&lt;/span&gt; (MSC service thread 1-5) JBAS016002: Processing weld deployment ejb.jar&lt;br/&gt;
11:22:52,805 INFO  &lt;span class=&quot;error&quot;&gt;&amp;#91;org.jboss.as.ejb3.deployment.processors.EjbJndiBindingsDeploymentUnitProcessor&amp;#93;&lt;/span&gt; (MSC service thread 1-5) JNDI bindings for session bean named AppOneBean in deployment unit subdeployment &quot;ejb.jar&quot; of deployment &quot;appone.ear&quot; are as follows:&lt;/p&gt;

&lt;p&gt;	java:global/appone/ejb/AppOneBean!org.jboss.as.quickstarts.ejb.multi.server.app.AppOne&lt;br/&gt;
	java:app/ejb/AppOneBean!org.jboss.as.quickstarts.ejb.multi.server.app.AppOne&lt;br/&gt;
	java:module/AppOneBean!org.jboss.as.quickstarts.ejb.multi.server.app.AppOne&lt;br/&gt;
	java:jboss/exported/appone/ejb/AppOneBean!org.jboss.as.quickstarts.ejb.multi.server.app.AppOne&lt;br/&gt;
	java:global/appone/ejb/AppOneBean&lt;br/&gt;
	java:app/ejb/AppOneBean&lt;br/&gt;
	java:module/AppOneBean&lt;/p&gt;

&lt;p&gt;11:22:52,807 INFO  &lt;span class=&quot;error&quot;&gt;&amp;#91;org.jboss.weld.deployer&amp;#93;&lt;/span&gt; (MSC service thread 1-11) JBAS016005: Starting Services for CDI deployment: appone.ear&lt;br/&gt;
11:22:52,811 INFO  &lt;span class=&quot;error&quot;&gt;&amp;#91;org.jboss.weld.deployer&amp;#93;&lt;/span&gt; (MSC service thread 1-3) JBAS016008: Starting weld service for deployment appone.ear&lt;br/&gt;
11:22:53,087 INFO  &lt;span class=&quot;error&quot;&gt;&amp;#91;org.infinispan.remoting.transport.jgroups.JGroupsTransport&amp;#93;&lt;/span&gt; (MSC service thread 1-6) ISPN000082: Stopping the RpcDispatcher&lt;br/&gt;
11:22:53,118 INFO  &lt;span class=&quot;error&quot;&gt;&amp;#91;org.infinispan.remoting.transport.jgroups.JGroupsTransport&amp;#93;&lt;/span&gt; (ServerService Thread Pool &amp;#8211; 60) ISPN000078: Starting JGroups Channel&lt;br/&gt;
11:22:53,119 ERROR &lt;span class=&quot;error&quot;&gt;&amp;#91;org.jboss.msc.service.fail&amp;#93;&lt;/span&gt; (ServerService Thread Pool &amp;#8211; 60) MSC000001: Failed to start service jboss.infinispan.ejb.global-component-registry: org.jboss.msc.service.StartException in service jboss.infinispan.ejb.global-component-registry: org.infinispan.manager.EmbeddedCacheManagerStartupException: org.infinispan.commons.CacheException: Unable to invoke method public void org.infinispan.remoting.transport.jgroups.JGroupsTransport.start() on object of type JGroupsTransport&lt;br/&gt;
	at org.jboss.as.clustering.msc.AsynchronousService$1.run(AsynchronousService.java:91) &lt;span class=&quot;error&quot;&gt;&amp;#91;wildfly-clustering-common-8.0.0.Beta2-SNAPSHOT.jar:8.0.0.Beta2-SNAPSHOT&amp;#93;&lt;/span&gt;&lt;br/&gt;
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1145) &lt;span class=&quot;error&quot;&gt;&amp;#91;rt.jar:1.7.0_25&amp;#93;&lt;/span&gt;&lt;br/&gt;
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:615) &lt;span class=&quot;error&quot;&gt;&amp;#91;rt.jar:1.7.0_25&amp;#93;&lt;/span&gt;&lt;br/&gt;
	at java.lang.Thread.run(Thread.java:724) &lt;span class=&quot;error&quot;&gt;&amp;#91;rt.jar:1.7.0_25&amp;#93;&lt;/span&gt;&lt;br/&gt;
	at org.jboss.threads.JBossThread.run(JBossThread.java:122) &lt;span class=&quot;error&quot;&gt;&amp;#91;jboss-threads-2.1.1.Final.jar:2.1.1.Final&amp;#93;&lt;/span&gt;&lt;br/&gt;
Caused by: org.infinispan.manager.EmbeddedCacheManagerStartupException: org.infinispan.commons.CacheException: Unable to invoke method public void org.infinispan.remoting.transport.jgroups.JGroupsTransport.start() on object of type JGroupsTransport&lt;br/&gt;
	at org.infinispan.factories.GlobalComponentRegistry.start(GlobalComponentRegistry.java:241)&lt;br/&gt;
	at org.jboss.as.clustering.infinispan.subsystem.GlobalComponentRegistryService.start(GlobalComponentRegistryService.java:33)&lt;br/&gt;
	at org.jboss.as.clustering.msc.AsynchronousService$1.run(AsynchronousService.java:86) &lt;span class=&quot;error&quot;&gt;&amp;#91;wildfly-clustering-common-8.0.0.Beta2-SNAPSHOT.jar:8.0.0.Beta2-SNAPSHOT&amp;#93;&lt;/span&gt;&lt;br/&gt;
	... 4 more&lt;br/&gt;
Caused by: org.infinispan.commons.CacheException: Unable to invoke method public void org.infinispan.remoting.transport.jgroups.JGroupsTransport.start() on object of type JGroupsTransport&lt;br/&gt;
	at org.infinispan.commons.util.ReflectionUtil.invokeAccessibly(ReflectionUtil.java:185)&lt;br/&gt;
	at org.infinispan.factories.AbstractComponentRegistry$PrioritizedMethod.invoke(AbstractComponentRegistry.java:869)&lt;br/&gt;
	at org.infinispan.factories.AbstractComponentRegistry.invokeStartMethods(AbstractComponentRegistry.java:638)&lt;br/&gt;
	at org.infinispan.factories.AbstractComponentRegistry.internalStart(AbstractComponentRegistry.java:627)&lt;br/&gt;
	at org.infinispan.factories.AbstractComponentRegistry.start(AbstractComponentRegistry.java:530)&lt;br/&gt;
	at org.infinispan.factories.GlobalComponentRegistry.start(GlobalComponentRegistry.java:219)&lt;br/&gt;
	... 6 more&lt;br/&gt;
Caused by: org.infinispan.commons.CacheException: Unable to start JGroups Channel&lt;br/&gt;
	at org.infinispan.remoting.transport.jgroups.JGroupsTransport.startJGroupsChannelIfNeeded(JGroupsTransport.java:196)&lt;br/&gt;
	at org.infinispan.remoting.transport.jgroups.JGroupsTransport.start(JGroupsTransport.java:185)&lt;br/&gt;
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) &lt;span class=&quot;error&quot;&gt;&amp;#91;rt.jar:1.7.0_25&amp;#93;&lt;/span&gt;&lt;br/&gt;
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:57) &lt;span class=&quot;error&quot;&gt;&amp;#91;rt.jar:1.7.0_25&amp;#93;&lt;/span&gt;&lt;br/&gt;
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) &lt;span class=&quot;error&quot;&gt;&amp;#91;rt.jar:1.7.0_25&amp;#93;&lt;/span&gt;&lt;br/&gt;
	at java.lang.reflect.Method.invoke(Method.java:606) &lt;span class=&quot;error&quot;&gt;&amp;#91;rt.jar:1.7.0_25&amp;#93;&lt;/span&gt;&lt;br/&gt;
	at org.infinispan.commons.util.ReflectionUtil.invokeAccessibly(ReflectionUtil.java:183)&lt;br/&gt;
	... 11 more&lt;br/&gt;
Caused by: java.lang.IllegalStateException: channel is closed&lt;br/&gt;
	at org.jgroups.JChannel.checkClosed(JChannel.java:902)&lt;br/&gt;
	at org.jgroups.JChannel._preConnect(JChannel.java:522)&lt;br/&gt;
	at org.jgroups.JChannel.connect(JChannel.java:284)&lt;br/&gt;
	at org.jgroups.JChannel.connect(JChannel.java:275)&lt;br/&gt;
	at org.infinispan.remoting.transport.jgroups.JGroupsTransport.startJGroupsChannelIfNeeded(JGroupsTransport.java:194)&lt;br/&gt;
	... 17 more&lt;/p&gt;

&lt;p&gt;11:22:53,128 INFO  &lt;span class=&quot;error&quot;&gt;&amp;#91;org.jboss.weld.deployer&amp;#93;&lt;/span&gt; (MSC service thread 1-7) JBAS016009: Stopping weld service for deployment appone.ear&lt;br/&gt;
11:22:53,137 INFO  &lt;span class=&quot;error&quot;&gt;&amp;#91;org.jboss.as.server.deployment&amp;#93;&lt;/span&gt; (MSC service thread 1-8) JBAS015877: Stopped deployment null (runtime-name: ejb.jar) in 11ms&lt;br/&gt;
11:22:53,138 INFO  &lt;span class=&quot;error&quot;&gt;&amp;#91;org.jboss.as.server.deployment&amp;#93;&lt;/span&gt; (MSC service thread 1-3) JBAS015877: Stopped deployment appone.ear (runtime-name: appone.ear) in 12ms&lt;br/&gt;
11:22:53,143 INFO  &lt;span class=&quot;error&quot;&gt;&amp;#91;org.jboss.as.controller&amp;#93;&lt;/span&gt; (DeploymentScanner-threads - 1) JBAS014774: Service status report&lt;br/&gt;
JBAS014775:    New missing/unsatisfied dependencies:&lt;br/&gt;
      service jboss.deployment.subunit.&quot;appone.ear&quot;.&quot;ejb.jar&quot;.component.AppOneBean.CREATE (missing) dependents: &lt;span class=&quot;error&quot;&gt;&amp;#91;service jboss.deployment.subunit.&amp;quot;appone.ear&amp;quot;.&amp;quot;ejb.jar&amp;quot;.moduleDeploymentRuntimeInformation, service jboss.deployment.subunit.&amp;quot;appone.ear&amp;quot;.&amp;quot;ejb.jar&amp;quot;.component.AppOneBean.START, service jboss.deployment.subunit.&amp;quot;appone.ear&amp;quot;.&amp;quot;ejb.jar&amp;quot;.component.AppOneBean.VIEW.&amp;quot;org.jboss.as.quickstarts.ejb.multi.server.app.AppOne&amp;quot;.REMOTE&amp;#93;&lt;/span&gt; &lt;br/&gt;
      service jboss.deployment.subunit.&quot;appone.ear&quot;.&quot;ejb.jar&quot;.component.AppOneBean.JndiBindingsService (missing) dependents: &lt;span class=&quot;error&quot;&gt;&amp;#91;service jboss.deployment.subunit.&amp;quot;appone.ear&amp;quot;.&amp;quot;ejb.jar&amp;quot;.jndiDependencyService&amp;#93;&lt;/span&gt; &lt;br/&gt;
      service jboss.deployment.subunit.&quot;appone.ear&quot;.&quot;ejb.jar&quot;.component.AppOneBean.START (missing) dependents: &lt;span class=&quot;error&quot;&gt;&amp;#91;service jboss.deployment.subunit.&amp;quot;appone.ear&amp;quot;.&amp;quot;ejb.jar&amp;quot;.deploymentCompleteService, service jboss.deployment.subunit.&amp;quot;appone.ear&amp;quot;.&amp;quot;ejb.jar&amp;quot;.moduleDeploymentRuntimeInformationStart&amp;#93;&lt;/span&gt; &lt;br/&gt;
      service jboss.deployment.subunit.&quot;appone.ear&quot;.&quot;ejb.jar&quot;.component.AppOneBean.VIEW.&quot;org.jboss.as.quickstarts.ejb.multi.server.app.AppOne&quot;.REMOTE (missing) dependents: &lt;span class=&quot;error&quot;&gt;&amp;#91;service jboss.deployment.subunit.&amp;quot;appone.ear&amp;quot;.&amp;quot;ejb.jar&amp;quot;.moduleDeploymentRuntimeInformation, service jboss.naming.context.java.module.appone.ejb.&amp;quot;AppOneBean!org.jboss.as.quickstarts.ejb.multi.server.app.AppOne&amp;quot;, service jboss.naming.context.java.global.appone.ejb.AppOneBean, service jboss.deployment.subunit.&amp;quot;appone.ear&amp;quot;.&amp;quot;ejb.jar&amp;quot;.component.AppOneBean.START, JBAS014799: ... and 5 more &amp;#93;&lt;/span&gt; &lt;br/&gt;
      service jboss.deployment.subunit.&quot;appone.ear&quot;.&quot;ejb.jar&quot;.component.AppOneBean.WeldInstantiator (missing) dependents: &lt;span class=&quot;error&quot;&gt;&amp;#91;service jboss.deployment.subunit.&amp;quot;appone.ear&amp;quot;.&amp;quot;ejb.jar&amp;quot;.component.AppOneBean.START&amp;#93;&lt;/span&gt; &lt;br/&gt;
      service jboss.deployment.subunit.&quot;appone.ear&quot;.&quot;ejb.jar&quot;.component.AppOneBean.ejb.non-functional-timerservice (missing) dependents: &lt;span class=&quot;error&quot;&gt;&amp;#91;service jboss.deployment.subunit.&amp;quot;appone.ear&amp;quot;.&amp;quot;ejb.jar&amp;quot;.component.AppOneBean.START&amp;#93;&lt;/span&gt; &lt;br/&gt;
      service jboss.deployment.subunit.&quot;appone.ear&quot;.&quot;ejb.jar&quot;.deploymentCompleteService (missing) dependents: &lt;span class=&quot;error&quot;&gt;&amp;#91;service jboss.deployment.unit.&amp;quot;appone.ear&amp;quot;.deploymentCompleteService&amp;#93;&lt;/span&gt; &lt;br/&gt;
      service jboss.deployment.subunit.&quot;appone.ear&quot;.&quot;ejb.jar&quot;.jndiDependencyService (missing) dependents: &lt;span class=&quot;error&quot;&gt;&amp;#91;service jboss.deployment.subunit.&amp;quot;appone.ear&amp;quot;.&amp;quot;ejb.jar&amp;quot;.component.AppOneBean.START&amp;#93;&lt;/span&gt; &lt;br/&gt;
      service jboss.deployment.subunit.&quot;appone.ear&quot;.&quot;ejb.jar&quot;.moduleDeploymentRuntimeInformation (missing) dependents: &lt;span class=&quot;error&quot;&gt;&amp;#91;service jboss.deployment.subunit.&amp;quot;appone.ear&amp;quot;.&amp;quot;ejb.jar&amp;quot;.component.AppOneBean.START, service jboss.deployment.subunit.&amp;quot;appone.ear&amp;quot;.&amp;quot;ejb.jar&amp;quot;.moduleDeploymentRuntimeInformationStart&amp;#93;&lt;/span&gt; &lt;br/&gt;
      service jboss.naming.context.java.app.appone.ejb.AppOneBean (missing) dependents: &lt;span class=&quot;error&quot;&gt;&amp;#91;service jboss.deployment.subunit.&amp;quot;appone.ear&amp;quot;.&amp;quot;ejb.jar&amp;quot;.component.AppOneBean.JndiBindingsService&amp;#93;&lt;/span&gt; &lt;br/&gt;
      service jboss.naming.context.java.app.appone.ejb.&quot;AppOneBean!org.jboss.as.quickstarts.ejb.multi.server.app.AppOne&quot; (missing) dependents: &lt;span class=&quot;error&quot;&gt;&amp;#91;service jboss.deployment.subunit.&amp;quot;appone.ear&amp;quot;.&amp;quot;ejb.jar&amp;quot;.component.AppOneBean.JndiBindingsService&amp;#93;&lt;/span&gt; &lt;br/&gt;
      service jboss.naming.context.java.comp.appone.ejb.AppOneBean (missing) dependents: &lt;span class=&quot;error&quot;&gt;&amp;#91;service jboss.deployment.subunit.&amp;quot;appone.ear&amp;quot;.&amp;quot;ejb.jar&amp;quot;.component.AppOneBean.START&amp;#93;&lt;/span&gt; &lt;br/&gt;
      service jboss.naming.context.java.comp.appone.ejb.AppOneBean.BeanManager (missing) dependents: &lt;span class=&quot;error&quot;&gt;&amp;#91;service jboss.deployment.subunit.&amp;quot;appone.ear&amp;quot;.&amp;quot;ejb.jar&amp;quot;.jndiDependencyService&amp;#93;&lt;/span&gt; &lt;br/&gt;
      service jboss.naming.context.java.comp.appone.ejb.AppOneBean.DefaultContextService (missing) dependents: &lt;span class=&quot;error&quot;&gt;&amp;#91;service jboss.deployment.subunit.&amp;quot;appone.ear&amp;quot;.&amp;quot;ejb.jar&amp;quot;.component.AppOneBean.JndiBindingsService&amp;#93;&lt;/span&gt; &lt;br/&gt;
      service jboss.naming.context.java.comp.appone.ejb.AppOneBean.DefaultDataSource (missing) dependents: &lt;span class=&quot;error&quot;&gt;&amp;#91;service jboss.deployment.subunit.&amp;quot;appone.ear&amp;quot;.&amp;quot;ejb.jar&amp;quot;.component.AppOneBean.JndiBindingsService&amp;#93;&lt;/span&gt; &lt;br/&gt;
      service jboss.naming.context.java.comp.appone.ejb.AppOneBean.DefaultManagedExecutorService (missing) dependents: &lt;span class=&quot;error&quot;&gt;&amp;#91;service jboss.deployment.subunit.&amp;quot;appone.ear&amp;quot;.&amp;quot;ejb.jar&amp;quot;.component.AppOneBean.JndiBindingsService&amp;#93;&lt;/span&gt; &lt;br/&gt;
      service jboss.naming.context.java.comp.appone.ejb.AppOneBean.DefaultManagedScheduledExecutorService (missing) dependents: &lt;span class=&quot;error&quot;&gt;&amp;#91;service jboss.deployment.subunit.&amp;quot;appone.ear&amp;quot;.&amp;quot;ejb.jar&amp;quot;.component.AppOneBean.JndiBindingsService&amp;#93;&lt;/span&gt; &lt;br/&gt;
      service jboss.naming.context.java.comp.appone.ejb.AppOneBean.DefaultManagedThreadFactory (missing) dependents: &lt;span class=&quot;error&quot;&gt;&amp;#91;service jboss.deployment.subunit.&amp;quot;appone.ear&amp;quot;.&amp;quot;ejb.jar&amp;quot;.component.AppOneBean.JndiBindingsService&amp;#93;&lt;/span&gt; &lt;br/&gt;
      service jboss.naming.context.java.comp.appone.ejb.AppOneBean.EJBContext (missing) dependents: &lt;span class=&quot;error&quot;&gt;&amp;#91;service jboss.deployment.subunit.&amp;quot;appone.ear&amp;quot;.&amp;quot;ejb.jar&amp;quot;.component.AppOneBean.JndiBindingsService&amp;#93;&lt;/span&gt; &lt;br/&gt;
      service jboss.naming.context.java.comp.appone.ejb.AppOneBean.TimerService (missing) dependents: &lt;span class=&quot;error&quot;&gt;&amp;#91;service jboss.deployment.subunit.&amp;quot;appone.ear&amp;quot;.&amp;quot;ejb.jar&amp;quot;.component.AppOneBean.JndiBindingsService&amp;#93;&lt;/span&gt; &lt;br/&gt;
      service jboss.naming.context.java.comp.appone.ejb.AppOneBean.TransactionSynchronizationRegistry (missing) dependents: &lt;span class=&quot;error&quot;&gt;&amp;#91;service jboss.deployment.subunit.&amp;quot;appone.ear&amp;quot;.&amp;quot;ejb.jar&amp;quot;.jndiDependencyService&amp;#93;&lt;/span&gt; &lt;br/&gt;
      service jboss.naming.context.java.comp.appone.ejb.AppOneBean.UserTransaction (missing) dependents: &lt;span class=&quot;error&quot;&gt;&amp;#91;service jboss.deployment.subunit.&amp;quot;appone.ear&amp;quot;.&amp;quot;ejb.jar&amp;quot;.jndiDependencyService&amp;#93;&lt;/span&gt; &lt;br/&gt;
      service jboss.naming.context.java.comp.appone.ejb.AppOneBean.env (missing) dependents: &lt;span class=&quot;error&quot;&gt;&amp;#91;service jboss.deployment.subunit.&amp;quot;appone.ear&amp;quot;.&amp;quot;ejb.jar&amp;quot;.component.AppOneBean.JndiBindingsService&amp;#93;&lt;/span&gt; &lt;br/&gt;
      service jboss.naming.context.java.comp.appone.ejb.AppOneBean.env.&quot;org.jboss.as.quickstarts.ejb.multi.server.app.AppOneBean&quot;.context (missing) dependents: &lt;span class=&quot;error&quot;&gt;&amp;#91;service jboss.deployment.subunit.&amp;quot;appone.ear&amp;quot;.&amp;quot;ejb.jar&amp;quot;.component.AppOneBean.JndiBindingsService, service jboss.deployment.subunit.&amp;quot;appone.ear&amp;quot;.&amp;quot;ejb.jar&amp;quot;.component.AppOneBean.START&amp;#93;&lt;/span&gt; &lt;br/&gt;
      service jboss.naming.context.java.global.appone.ejb.AppOneBean (missing) dependents: &lt;span class=&quot;error&quot;&gt;&amp;#91;service jboss.deployment.subunit.&amp;quot;appone.ear&amp;quot;.&amp;quot;ejb.jar&amp;quot;.component.AppOneBean.JndiBindingsService&amp;#93;&lt;/span&gt; &lt;br/&gt;
      service jboss.naming.context.java.global.appone.ejb.&quot;AppOneBean!org.jboss.as.quickstarts.ejb.multi.server.app.AppOne&quot; (missing) dependents: &lt;span class=&quot;error&quot;&gt;&amp;#91;service jboss.deployment.subunit.&amp;quot;appone.ear&amp;quot;.&amp;quot;ejb.jar&amp;quot;.component.AppOneBean.JndiBindingsService&amp;#93;&lt;/span&gt; &lt;br/&gt;
      service jboss.naming.context.java.module.appone.ejb.AppOneBean (missing) dependents: &lt;span class=&quot;error&quot;&gt;&amp;#91;service jboss.deployment.subunit.&amp;quot;appone.ear&amp;quot;.&amp;quot;ejb.jar&amp;quot;.component.AppOneBean.JndiBindingsService&amp;#93;&lt;/span&gt; &lt;br/&gt;
      service jboss.naming.context.java.module.appone.ejb.&quot;AppOneBean!org.jboss.as.quickstarts.ejb.multi.server.app.AppOne&quot; (missing) dependents: &lt;span class=&quot;error&quot;&gt;&amp;#91;service jboss.deployment.subunit.&amp;quot;appone.ear&amp;quot;.&amp;quot;ejb.jar&amp;quot;.component.AppOneBean.JndiBindingsService&amp;#93;&lt;/span&gt; &lt;br/&gt;
      service jboss.naming.context.java.module.appone.ejb.BeanManager (missing) dependents: &lt;span class=&quot;error&quot;&gt;&amp;#91;service jboss.deployment.subunit.&amp;quot;appone.ear&amp;quot;.&amp;quot;ejb.jar&amp;quot;.jndiDependencyService&amp;#93;&lt;/span&gt; &lt;br/&gt;
      service jboss.naming.context.java.module.appone.ejb.env (missing) dependents: &lt;span class=&quot;error&quot;&gt;&amp;#91;service jboss.deployment.subunit.&amp;quot;appone.ear&amp;quot;.&amp;quot;ejb.jar&amp;quot;.jndiDependencyService&amp;#93;&lt;/span&gt; &lt;br/&gt;
JBAS014777:   Services which failed to start:      service jboss.infinispan.ejb.global-component-registry&lt;/p&gt;</description>
                <environment>&lt;p&gt;Clustered Standalone server with one clustered EAR&lt;/p&gt;</environment>
        <key id="12524434">WFLY-2458</key>
            <summary>Re-deployment of a clustered application fail due to race-condition with infinispan</summary>
                <type id="1" iconUrl="https://issues.jboss.org/secure/viewavatar?size=xsmall&amp;avatarId=13263&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.jboss.org/images/icons/priorities/major.svg">Major</priority>
                        <status id="5" iconUrl="https://issues.jboss.org/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Done</resolution>
                                        <assignee username="pferraro">Paul Ferraro</assignee>
                                    <reporter username="wdfink">Wolf-Dieter Fink</reporter>
                        <labels>
                            <label>deployer</label>
                    </labels>
                <created>Thu, 7 Nov 2013 05:50:39 -0500</created>
                <updated>Thu, 4 Sep 2014 09:31:57 -0400</updated>
                            <resolved>Tue, 12 Nov 2013 17:11:36 -0500</resolved>
                                    <version>8.0.0.Beta1</version>
                                    <fixVersion>8.0.0.CR1</fixVersion>
                                    <component>Clustering</component>
                    <component>Server</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>6</watches>
                                                                <comments>
                            <comment id="12921199" author="wdfink" created="Thu, 7 Nov 2013 05:51:36 -0500"  >&lt;p&gt;Simple Clustered application to reproduce&lt;/p&gt;</comment>
                            <comment id="12921206" author="jira-bugzilla-migration" created="Thu, 7 Nov 2013 06:03:17 -0500"  >&lt;p&gt;wfink@redhat.com made a comment on &lt;a href=&quot;https://bugzilla.redhat.com/show_bug.cgi?id=1027738&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;bug 1027738&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;If a clustered application should be redeployed it looks like that infinispan is not able to stop complete until the deployer finish undeployment and start to deploy the new application. See the Exception below.&lt;br/&gt;
The behaviour is the same for managed or unmanged deployments.&lt;br/&gt;
If it is unmanaged the .failed marker file exists.&lt;/p&gt;



&lt;p&gt;11:58:17,988 INFO  &lt;span class=&quot;error&quot;&gt;&amp;#91;org.infinispan.eviction.PassivationManagerImpl&amp;#93;&lt;/span&gt; (MSC service thread 1-9) ISPN000029: Passivating all entries to disk&lt;br/&gt;
11:58:17,989 INFO  &lt;span class=&quot;error&quot;&gt;&amp;#91;org.infinispan.eviction.PassivationManagerImpl&amp;#93;&lt;/span&gt; (MSC service thread 1-9) ISPN000030: Passivated 0 entries in 0 milliseconds&lt;br/&gt;
11:58:17,992 INFO  &lt;span class=&quot;error&quot;&gt;&amp;#91;org.jboss.as.server.deployment&amp;#93;&lt;/span&gt; (MSC service thread 1-1) JBAS015877: Stopped deployment null (runtime-name: ejb.jar) in 16ms&lt;br/&gt;
11:58:17,992 INFO  &lt;span class=&quot;error&quot;&gt;&amp;#91;org.jboss.as.clustering.infinispan&amp;#93;&lt;/span&gt; (MSC service thread 1-14) JBAS010282: Stopped remote-connector-client-mappings cache from ejb container&lt;br/&gt;
11:58:17,993 INFO  &lt;span class=&quot;error&quot;&gt;&amp;#91;org.jboss.as.clustering.infinispan&amp;#93;&lt;/span&gt; (MSC service thread 1-9) JBAS010282: Stopped repl cache from ejb container&lt;br/&gt;
11:58:17,993 INFO  &lt;span class=&quot;error&quot;&gt;&amp;#91;org.jboss.as.server.deployment&amp;#93;&lt;/span&gt; (MSC service thread 1-14) JBAS015877: Stopped deployment appone.ear (runtime-name: appone.ear) in 18ms&lt;br/&gt;
11:58:17,994 INFO  &lt;span class=&quot;error&quot;&gt;&amp;#91;org.infinispan.remoting.transport.jgroups.JGroupsTransport&amp;#93;&lt;/span&gt; (MSC service thread 1-1) ISPN000080: Disconnecting and closing JGroups Channel&lt;br/&gt;
11:58:17,995 INFO  &lt;span class=&quot;error&quot;&gt;&amp;#91;org.jboss.as.server.deployment&amp;#93;&lt;/span&gt; (MSC service thread 1-7) JBAS015876: Starting deployment of &quot;appone.ear&quot; (runtime-name: &quot;appone.ear&quot;)&lt;br/&gt;
11:58:17,999 INFO  &lt;span class=&quot;error&quot;&gt;&amp;#91;org.jboss.as.server.deployment&amp;#93;&lt;/span&gt; (MSC service thread 1-13) JBAS015876: Starting deployment of &quot;null&quot; (runtime-name: &quot;ejb.jar&quot;)&lt;br/&gt;
11:58:18,017 INFO  &lt;span class=&quot;error&quot;&gt;&amp;#91;org.jboss.as.ejb3.deployment.processors.EjbJndiBindingsDeploymentUnitProcessor&amp;#93;&lt;/span&gt; (MSC service thread 1-8) JNDI bindings for session bean named AppOneBean in deployment unit subdeployment &quot;ejb.jar&quot; of deployment &quot;appone.ear&quot; are as follows:&lt;/p&gt;

&lt;p&gt;	java:global/appone/ejb/AppOneBean!org.jboss.as.quickstarts.ejb.multi.server.app.AppOne&lt;br/&gt;
	java:app/ejb/AppOneBean!org.jboss.as.quickstarts.ejb.multi.server.app.AppOne&lt;br/&gt;
	java:module/AppOneBean!org.jboss.as.quickstarts.ejb.multi.server.app.AppOne&lt;br/&gt;
	java:jboss/exported/appone/ejb/AppOneBean!org.jboss.as.quickstarts.ejb.multi.server.app.AppOne&lt;br/&gt;
	java:global/appone/ejb/AppOneBean&lt;br/&gt;
	java:app/ejb/AppOneBean&lt;br/&gt;
	java:module/AppOneBean&lt;/p&gt;

&lt;p&gt;11:58:18,350 INFO  &lt;span class=&quot;error&quot;&gt;&amp;#91;org.infinispan.remoting.transport.jgroups.JGroupsTransport&amp;#93;&lt;/span&gt; (MSC service thread 1-1) ISPN000082: Stopping the RpcDispatcher&lt;br/&gt;
11:58:18,377 INFO  &lt;span class=&quot;error&quot;&gt;&amp;#91;org.infinispan.remoting.transport.jgroups.JGroupsTransport&amp;#93;&lt;/span&gt; (ServerService Thread Pool &amp;#8211; 22) ISPN000078: Starting JGroups Channel&lt;br/&gt;
11:58:18,380 ERROR &lt;span class=&quot;error&quot;&gt;&amp;#91;org.jboss.msc.service.fail&amp;#93;&lt;/span&gt; (ServerService Thread Pool &amp;#8211; 22) MSC000001: Failed to start service jboss.infinispan.ejb.remote-connector-client-mappings: org.jboss.msc.service.StartException in service jboss.infinispan.ejb.remote-connector-client-mappings: org.infinispan.manager.EmbeddedCacheManagerStartupException: org.infinispan.CacheException: Unable to invoke method public void org.infinispan.remoting.transport.jgroups.JGroupsTransport.start() on object of type JGroupsTransport&lt;br/&gt;
	at org.jboss.as.clustering.msc.AsynchronousService$1.run(AsynchronousService.java:87)&lt;br/&gt;
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1145) &lt;span class=&quot;error&quot;&gt;&amp;#91;rt.jar:1.7.0_25&amp;#93;&lt;/span&gt;&lt;br/&gt;
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:615) &lt;span class=&quot;error&quot;&gt;&amp;#91;rt.jar:1.7.0_25&amp;#93;&lt;/span&gt;&lt;br/&gt;
	at java.lang.Thread.run(Thread.java:724) &lt;span class=&quot;error&quot;&gt;&amp;#91;rt.jar:1.7.0_25&amp;#93;&lt;/span&gt;&lt;br/&gt;
	at org.jboss.threads.JBossThread.run(JBossThread.java:122) &lt;span class=&quot;error&quot;&gt;&amp;#91;jboss-threads-2.1.0.Final-redhat-1.jar:2.1.0.Final-redhat-1&amp;#93;&lt;/span&gt;&lt;br/&gt;
Caused by: org.infinispan.manager.EmbeddedCacheManagerStartupException: org.infinispan.CacheException: Unable to invoke method public void org.infinispan.remoting.transport.jgroups.JGroupsTransport.start() on object of type JGroupsTransport&lt;br/&gt;
	at org.infinispan.factories.GlobalComponentRegistry.start(GlobalComponentRegistry.java:247)&lt;br/&gt;
	at org.infinispan.manager.DefaultCacheManager.wireAndStartCache(DefaultCacheManager.java:678)&lt;br/&gt;
	at org.infinispan.manager.DefaultCacheManager.createCache(DefaultCacheManager.java:649)&lt;br/&gt;
	at org.infinispan.manager.DefaultCacheManager.getCache(DefaultCacheManager.java:545)&lt;br/&gt;
	at org.infinispan.manager.DefaultCacheManager.getCache(DefaultCacheManager.java:559)&lt;br/&gt;
	at org.jboss.as.clustering.infinispan.DefaultEmbeddedCacheManager.getCache(DefaultEmbeddedCacheManager.java:109)&lt;br/&gt;
	at org.jboss.as.clustering.infinispan.DefaultEmbeddedCacheManager.getCache(DefaultEmbeddedCacheManager.java:100)&lt;br/&gt;
	at org.jboss.as.clustering.infinispan.subsystem.CacheService.start(CacheService.java:78)&lt;br/&gt;
	at org.jboss.as.clustering.msc.AsynchronousService$1.run(AsynchronousService.java:82)&lt;br/&gt;
	... 4 more&lt;br/&gt;
Caused by: org.infinispan.CacheException: Unable to invoke method public void org.infinispan.remoting.transport.jgroups.JGroupsTransport.start() on object of type JGroupsTransport&lt;br/&gt;
	at org.infinispan.util.ReflectionUtil.invokeAccessibly(ReflectionUtil.java:205)&lt;br/&gt;
	at org.infinispan.factories.AbstractComponentRegistry$PrioritizedMethod.invoke(AbstractComponentRegistry.java:886)&lt;br/&gt;
	at org.infinispan.factories.AbstractComponentRegistry.invokeStartMethods(AbstractComponentRegistry.java:657)&lt;br/&gt;
	at org.infinispan.factories.AbstractComponentRegistry.internalStart(AbstractComponentRegistry.java:646)&lt;br/&gt;
	at org.infinispan.factories.AbstractComponentRegistry.start(AbstractComponentRegistry.java:549)&lt;br/&gt;
	at org.infinispan.factories.GlobalComponentRegistry.start(GlobalComponentRegistry.java:225)&lt;br/&gt;
	... 12 more&lt;br/&gt;
Caused by: org.infinispan.CacheException: Unable to start JGroups Channel&lt;br/&gt;
	at org.infinispan.remoting.transport.jgroups.JGroupsTransport.startJGroupsChannelIfNeeded(JGroupsTransport.java:209)&lt;br/&gt;
	at org.infinispan.remoting.transport.jgroups.JGroupsTransport.start(JGroupsTransport.java:198)&lt;br/&gt;
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) &lt;span class=&quot;error&quot;&gt;&amp;#91;rt.jar:1.7.0_25&amp;#93;&lt;/span&gt;&lt;br/&gt;
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:57) &lt;span class=&quot;error&quot;&gt;&amp;#91;rt.jar:1.7.0_25&amp;#93;&lt;/span&gt;&lt;br/&gt;
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) &lt;span class=&quot;error&quot;&gt;&amp;#91;rt.jar:1.7.0_25&amp;#93;&lt;/span&gt;&lt;br/&gt;
	at java.lang.reflect.Method.invoke(Method.java:606) &lt;span class=&quot;error&quot;&gt;&amp;#91;rt.jar:1.7.0_25&amp;#93;&lt;/span&gt;&lt;br/&gt;
	at org.infinispan.util.ReflectionUtil.invokeAccessibly(ReflectionUtil.java:203)&lt;br/&gt;
	... 17 more&lt;br/&gt;
Caused by: java.lang.IllegalStateException: channel is closed&lt;br/&gt;
	at org.jgroups.JChannel.checkClosed(JChannel.java:865)&lt;br/&gt;
	at org.jgroups.JChannel._preConnect(JChannel.java:520)&lt;br/&gt;
	at org.jgroups.JChannel.connect(JChannel.java:277)&lt;br/&gt;
	at org.jgroups.JChannel.connect(JChannel.java:268)&lt;br/&gt;
	at org.infinispan.remoting.transport.jgroups.JGroupsTransport.startJGroupsChannelIfNeeded(JGroupsTransport.java:207)&lt;br/&gt;
	... 23 more&lt;/p&gt;

&lt;p&gt;11:58:18,385 INFO  &lt;span class=&quot;error&quot;&gt;&amp;#91;org.infinispan.factories.TransactionManagerFactory&amp;#93;&lt;/span&gt; (ServerService Thread Pool &amp;#8211; 4) ISPN000161: Using a batchMode transaction manager&lt;br/&gt;
11:58:18,388 INFO  &lt;span class=&quot;error&quot;&gt;&amp;#91;org.infinispan.remoting.transport.jgroups.JGroupsTransport&amp;#93;&lt;/span&gt; (ServerService Thread Pool &amp;#8211; 4) ISPN000078: Starting JGroups Channel&lt;br/&gt;
11:58:18,389 ERROR &lt;span class=&quot;error&quot;&gt;&amp;#91;org.jboss.msc.service.fail&amp;#93;&lt;/span&gt; (ServerService Thread Pool &amp;#8211; 4) MSC000001: Failed to start service jboss.infinispan.ejb.repl: org.jboss.msc.service.StartException in service jboss.infinispan.ejb.repl: org.infinispan.CacheException: Unable to invoke method public void org.infinispan.remoting.transport.jgroups.JGroupsTransport.start() on object of type JGroupsTransport&lt;br/&gt;
	at org.jboss.as.clustering.msc.AsynchronousService$1.run(AsynchronousService.java:87)&lt;br/&gt;
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1145) &lt;span class=&quot;error&quot;&gt;&amp;#91;rt.jar:1.7.0_25&amp;#93;&lt;/span&gt;&lt;br/&gt;
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:615) &lt;span class=&quot;error&quot;&gt;&amp;#91;rt.jar:1.7.0_25&amp;#93;&lt;/span&gt;&lt;br/&gt;
	at java.lang.Thread.run(Thread.java:724) &lt;span class=&quot;error&quot;&gt;&amp;#91;rt.jar:1.7.0_25&amp;#93;&lt;/span&gt;&lt;br/&gt;
	at org.jboss.threads.JBossThread.run(JBossThread.java:122) &lt;span class=&quot;error&quot;&gt;&amp;#91;jboss-threads-2.1.0.Final-redhat-1.jar:2.1.0.Final-redhat-1&amp;#93;&lt;/span&gt;&lt;br/&gt;
Caused by: org.infinispan.CacheException: Unable to invoke method public void org.infinispan.remoting.transport.jgroups.JGroupsTransport.start() on object of type JGroupsTransport&lt;br/&gt;
	at org.infinispan.util.ReflectionUtil.invokeAccessibly(ReflectionUtil.java:205)&lt;br/&gt;
	at org.infinispan.factories.AbstractComponentRegistry$PrioritizedMethod.invoke(AbstractComponentRegistry.java:886)&lt;br/&gt;
	at org.infinispan.factories.AbstractComponentRegistry.invokeStartMethods(AbstractComponentRegistry.java:657)&lt;br/&gt;
	at org.infinispan.factories.AbstractComponentRegistry.registerComponentInternal(AbstractComponentRegistry.java:226)&lt;br/&gt;
	at org.infinispan.factories.AbstractComponentRegistry.registerComponent(AbstractComponentRegistry.java:175)&lt;br/&gt;
	at org.infinispan.factories.AbstractComponentRegistry.getOrCreateComponent(AbstractComponentRegistry.java:296)&lt;br/&gt;
	at org.infinispan.factories.ComponentRegistry.getOrCreateComponent(ComponentRegistry.java:158)&lt;br/&gt;
	at org.infinispan.factories.AbstractComponentRegistry.invokeInjectionMethod(AbstractComponentRegistry.java:246)&lt;br/&gt;
	at org.infinispan.factories.AbstractComponentRegistry.access$000(AbstractComponentRegistry.java:86)&lt;br/&gt;
	at org.infinispan.factories.AbstractComponentRegistry$Component.injectDependencies(AbstractComponentRegistry.java:814)&lt;br/&gt;
	at org.infinispan.factories.AbstractComponentRegistry.registerComponentInternal(AbstractComponentRegistry.java:220)&lt;br/&gt;
	at org.infinispan.factories.ComponentRegistry.registerComponentInternal(ComponentRegistry.java:188)&lt;br/&gt;
	at org.infinispan.factories.AbstractComponentRegistry.registerComponent(AbstractComponentRegistry.java:175)&lt;br/&gt;
	at org.infinispan.factories.AbstractComponentRegistry.getOrCreateComponent(AbstractComponentRegistry.java:296)&lt;br/&gt;
	at org.infinispan.factories.ComponentRegistry.getOrCreateComponent(ComponentRegistry.java:161)&lt;br/&gt;
	at org.infinispan.factories.AbstractComponentRegistry.invokeInjectionMethod(AbstractComponentRegistry.java:246)&lt;br/&gt;
	at org.infinispan.factories.AbstractComponentRegistry.access$000(AbstractComponentRegistry.java:86)&lt;br/&gt;
	at org.infinispan.factories.AbstractComponentRegistry$Component.injectDependencies(AbstractComponentRegistry.java:814)&lt;br/&gt;
	at org.infinispan.factories.AbstractComponentRegistry.registerComponentInternal(AbstractComponentRegistry.java:220)&lt;br/&gt;
	at org.infinispan.factories.ComponentRegistry.registerComponentInternal(ComponentRegistry.java:188)&lt;br/&gt;
	at org.infinispan.factories.AbstractComponentRegistry.registerComponent(AbstractComponentRegistry.java:175)&lt;br/&gt;
	at org.infinispan.factories.AbstractComponentRegistry.getOrCreateComponent(AbstractComponentRegistry.java:296)&lt;br/&gt;
	at org.infinispan.factories.ComponentRegistry.getOrCreateComponent(ComponentRegistry.java:161)&lt;br/&gt;
	at org.infinispan.factories.AbstractComponentRegistry.invokeInjectionMethod(AbstractComponentRegistry.java:246)&lt;br/&gt;
	at org.infinispan.factories.AbstractComponentRegistry.access$000(AbstractComponentRegistry.java:86)&lt;br/&gt;
	at org.infinispan.factories.AbstractComponentRegistry$Component.injectDependencies(AbstractComponentRegistry.java:814)&lt;br/&gt;
	at org.infinispan.factories.AbstractComponentRegistry.registerComponentInternal(AbstractComponentRegistry.java:220)&lt;br/&gt;
	at org.infinispan.factories.ComponentRegistry.registerComponentInternal(ComponentRegistry.java:188)&lt;br/&gt;
	at org.infinispan.factories.AbstractComponentRegistry.registerComponent(AbstractComponentRegistry.java:175)&lt;br/&gt;
	at org.infinispan.factories.AbstractComponentRegistry.getOrCreateComponent(AbstractComponentRegistry.java:296)&lt;br/&gt;
	at org.infinispan.factories.ComponentRegistry.getOrCreateComponent(ComponentRegistry.java:161)&lt;br/&gt;
	at org.infinispan.factories.AbstractComponentRegistry.invokeInjectionMethod(AbstractComponentRegistry.java:246)&lt;br/&gt;
	at org.infinispan.factories.AbstractComponentRegistry.access$000(AbstractComponentRegistry.java:86)&lt;br/&gt;
	at org.infinispan.factories.AbstractComponentRegistry$Component.injectDependencies(AbstractComponentRegistry.java:814)&lt;br/&gt;
	at org.infinispan.factories.AbstractComponentRegistry.registerComponentInternal(AbstractComponentRegistry.java:220)&lt;br/&gt;
	at org.infinispan.factories.ComponentRegistry.registerComponentInternal(ComponentRegistry.java:188)&lt;br/&gt;
	at org.infinispan.factories.AbstractComponentRegistry.registerComponent(AbstractComponentRegistry.java:175)&lt;br/&gt;
	at org.infinispan.factories.AbstractComponentRegistry.getOrCreateComponent(AbstractComponentRegistry.java:296)&lt;br/&gt;
	at org.infinispan.factories.ComponentRegistry.getOrCreateComponent(ComponentRegistry.java:161)&lt;br/&gt;
	at org.infinispan.factories.AbstractComponentRegistry.invokeInjectionMethod(AbstractComponentRegistry.java:246)&lt;br/&gt;
	at org.infinispan.factories.AbstractComponentRegistry.access$000(AbstractComponentRegistry.java:86)&lt;br/&gt;
	at org.infinispan.factories.AbstractComponentRegistry$Component.injectDependencies(AbstractComponentRegistry.java:814)&lt;br/&gt;
	at org.infinispan.factories.AbstractComponentRegistry.registerComponentInternal(AbstractComponentRegistry.java:220)&lt;br/&gt;
	at org.infinispan.factories.ComponentRegistry.registerComponentInternal(ComponentRegistry.java:188)&lt;br/&gt;
	at org.infinispan.factories.AbstractComponentRegistry.registerComponent(AbstractComponentRegistry.java:175)&lt;br/&gt;
	at org.infinispan.factories.AbstractComponentRegistry.getOrCreateComponent(AbstractComponentRegistry.java:296)&lt;br/&gt;
	at org.infinispan.factories.ComponentRegistry.getOrCreateComponent(ComponentRegistry.java:161)&lt;br/&gt;
	at org.infinispan.factories.AbstractComponentRegistry.invokeInjectionMethod(AbstractComponentRegistry.java:246)&lt;br/&gt;
	at org.infinispan.factories.AbstractComponentRegistry.access$000(AbstractComponentRegistry.java:86)&lt;br/&gt;
	at org.infinispan.factories.AbstractComponentRegistry$Component.injectDependencies(AbstractComponentRegistry.java:814)&lt;br/&gt;
	at org.infinispan.factories.AbstractComponentRegistry.registerComponentInternal(AbstractComponentRegistry.java:220)&lt;br/&gt;
	at org.infinispan.factories.ComponentRegistry.registerComponentInternal(ComponentRegistry.java:188)&lt;br/&gt;
	at org.infinispan.factories.AbstractComponentRegistry.registerComponent(AbstractComponentRegistry.java:175)&lt;br/&gt;
	at org.infinispan.factories.AbstractComponentRegistry.getOrCreateComponent(AbstractComponentRegistry.java:296)&lt;br/&gt;
	at org.infinispan.factories.ComponentRegistry.getOrCreateComponent(ComponentRegistry.java:161)&lt;br/&gt;
	at org.infinispan.factories.AbstractComponentRegistry.invokeInjectionMethod(AbstractComponentRegistry.java:246)&lt;br/&gt;
	at org.infinispan.factories.AbstractComponentRegistry.access$000(AbstractComponentRegistry.java:86)&lt;br/&gt;
	at org.infinispan.factories.AbstractComponentRegistry$Component.injectDependencies(AbstractComponentRegistry.java:814)&lt;br/&gt;
	at org.infinispan.factories.AbstractComponentRegistry.registerComponentInternal(AbstractComponentRegistry.java:220)&lt;br/&gt;
	at org.infinispan.factories.ComponentRegistry.registerComponentInternal(ComponentRegistry.java:188)&lt;br/&gt;
	at org.infinispan.factories.AbstractComponentRegistry.registerComponent(AbstractComponentRegistry.java:175)&lt;br/&gt;
	at org.infinispan.factories.AbstractComponentRegistry.getOrCreateComponent(AbstractComponentRegistry.java:296)&lt;br/&gt;
	at org.infinispan.factories.ComponentRegistry.getOrCreateComponent(ComponentRegistry.java:161)&lt;br/&gt;
	at org.infinispan.factories.AbstractComponentRegistry.invokeInjectionMethod(AbstractComponentRegistry.java:246)&lt;br/&gt;
	at org.infinispan.factories.AbstractComponentRegistry.access$000(AbstractComponentRegistry.java:86)&lt;br/&gt;
	at org.infinispan.factories.AbstractComponentRegistry$Component.injectDependencies(AbstractComponentRegistry.java:814)&lt;br/&gt;
	at org.infinispan.factories.AbstractComponentRegistry.registerComponentInternal(AbstractComponentRegistry.java:220)&lt;br/&gt;
	at org.infinispan.factories.ComponentRegistry.registerComponentInternal(ComponentRegistry.java:188)&lt;br/&gt;
	at org.infinispan.factories.AbstractComponentRegistry.registerComponent(AbstractComponentRegistry.java:175)&lt;br/&gt;
	at org.infinispan.factories.AbstractComponentRegistry.getOrCreateComponent(AbstractComponentRegistry.java:296)&lt;br/&gt;
	at org.infinispan.factories.ComponentRegistry.getOrCreateComponent(ComponentRegistry.java:161)&lt;br/&gt;
	at org.infinispan.factories.AbstractComponentRegistry.invokeInjectionMethod(AbstractComponentRegistry.java:246)&lt;br/&gt;
	at org.infinispan.factories.AbstractComponentRegistry.access$000(AbstractComponentRegistry.java:86)&lt;br/&gt;
	at org.infinispan.factories.AbstractComponentRegistry$Component.injectDependencies(AbstractComponentRegistry.java:814)&lt;br/&gt;
	at org.infinispan.factories.AbstractComponentRegistry.registerComponentInternal(AbstractComponentRegistry.java:220)&lt;br/&gt;
	at org.infinispan.factories.ComponentRegistry.registerComponentInternal(ComponentRegistry.java:188)&lt;br/&gt;
	at org.infinispan.factories.AbstractComponentRegistry.registerComponent(AbstractComponentRegistry.java:175)&lt;br/&gt;
	at org.infinispan.factories.InternalCacheFactory.bootstrap(InternalCacheFactory.java:101)&lt;br/&gt;
	at org.infinispan.factories.InternalCacheFactory.createAndWire(InternalCacheFactory.java:80)&lt;br/&gt;
	at org.infinispan.factories.InternalCacheFactory.createCache(InternalCacheFactory.java:64)&lt;br/&gt;
	at org.infinispan.manager.DefaultCacheManager.wireAndStartCache(DefaultCacheManager.java:682)&lt;br/&gt;
	at org.infinispan.manager.DefaultCacheManager.createCache(DefaultCacheManager.java:649)&lt;br/&gt;
	at org.infinispan.manager.DefaultCacheManager.getCache(DefaultCacheManager.java:545)&lt;br/&gt;
	at org.infinispan.manager.DefaultCacheManager.getCache(DefaultCacheManager.java:559)&lt;br/&gt;
	at org.jboss.as.clustering.infinispan.DefaultEmbeddedCacheManager.getCache(DefaultEmbeddedCacheManager.java:109)&lt;br/&gt;
	at org.jboss.as.clustering.infinispan.DefaultEmbeddedCacheManager.getCache(DefaultEmbeddedCacheManager.java:100)&lt;br/&gt;
	at org.jboss.as.clustering.infinispan.subsystem.CacheService.start(CacheService.java:78)&lt;br/&gt;
	at org.jboss.as.clustering.msc.AsynchronousService$1.run(AsynchronousService.java:82)&lt;br/&gt;
	... 4 more&lt;br/&gt;
Caused by: org.infinispan.CacheException: Unable to start JGroups Channel&lt;br/&gt;
	at org.infinispan.remoting.transport.jgroups.JGroupsTransport.startJGroupsChannelIfNeeded(JGroupsTransport.java:209)&lt;br/&gt;
	at org.infinispan.remoting.transport.jgroups.JGroupsTransport.start(JGroupsTransport.java:198)&lt;br/&gt;
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) &lt;span class=&quot;error&quot;&gt;&amp;#91;rt.jar:1.7.0_25&amp;#93;&lt;/span&gt;&lt;br/&gt;
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:57) &lt;span class=&quot;error&quot;&gt;&amp;#91;rt.jar:1.7.0_25&amp;#93;&lt;/span&gt;&lt;br/&gt;
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) &lt;span class=&quot;error&quot;&gt;&amp;#91;rt.jar:1.7.0_25&amp;#93;&lt;/span&gt;&lt;br/&gt;
	at java.lang.reflect.Method.invoke(Method.java:606) &lt;span class=&quot;error&quot;&gt;&amp;#91;rt.jar:1.7.0_25&amp;#93;&lt;/span&gt;&lt;br/&gt;
	at org.infinispan.util.ReflectionUtil.invokeAccessibly(ReflectionUtil.java:203)&lt;br/&gt;
	... 91 more&lt;br/&gt;
Caused by: java.lang.IllegalStateException: channel is closed&lt;br/&gt;
	at org.jgroups.JChannel.checkClosed(JChannel.java:865)&lt;br/&gt;
	at org.jgroups.JChannel._preConnect(JChannel.java:520)&lt;br/&gt;
	at org.jgroups.JChannel.connect(JChannel.java:277)&lt;br/&gt;
	at org.jgroups.JChannel.connect(JChannel.java:268)&lt;br/&gt;
	at org.infinispan.remoting.transport.jgroups.JGroupsTransport.startJGroupsChannelIfNeeded(JGroupsTransport.java:207)&lt;br/&gt;
	... 97 more&lt;/p&gt;

&lt;p&gt;11:58:18,630 INFO  &lt;span class=&quot;error&quot;&gt;&amp;#91;org.jboss.as.server.deployment&amp;#93;&lt;/span&gt; (MSC service thread 1-4) JBAS015877: Stopped deployment null (runtime-name: ejb.jar) in 30ms&lt;br/&gt;
11:58:18,632 INFO  &lt;span class=&quot;error&quot;&gt;&amp;#91;org.jboss.as.server.deployment&amp;#93;&lt;/span&gt; (MSC service thread 1-9) JBAS015877: Stopped deployment appone.ear (runtime-name: appone.ear) in 33ms&lt;br/&gt;
11:58:18,634 INFO  &lt;span class=&quot;error&quot;&gt;&amp;#91;org.jboss.as.server.deployment&amp;#93;&lt;/span&gt; (MSC service thread 1-13) JBAS015876: Starting deployment of &quot;appone.ear&quot; (runtime-name: &quot;appone.ear&quot;)&lt;br/&gt;
11:58:18,634 ERROR &lt;span class=&quot;error&quot;&gt;&amp;#91;org.jboss.as.server&amp;#93;&lt;/span&gt; (DeploymentScanner-threads - 1) JBAS015863: Replacement of deployment &quot;appone.ear&quot; by deployment &quot;appone.ear&quot; was rolled back with the following failure message: &quot;JBAS014750: Operation handler failed to complete&quot;&lt;br/&gt;
11:58:18,643 INFO  &lt;span class=&quot;error&quot;&gt;&amp;#91;org.jboss.as.server.deployment&amp;#93;&lt;/span&gt; (MSC service thread 1-14) JBAS015876: Starting deployment of &quot;null&quot; (runtime-name: &quot;ejb.jar&quot;)&lt;br/&gt;
11:58:18,674 INFO  &lt;span class=&quot;error&quot;&gt;&amp;#91;org.jboss.as.ejb3.deployment.processors.EjbJndiBindingsDeploymentUnitProcessor&amp;#93;&lt;/span&gt; (MSC service thread 1-16) JNDI bindings for session bean named AppOneBean in deployment unit subdeployment &quot;ejb.jar&quot; of deployment &quot;appone.ear&quot; are as follows:&lt;/p&gt;

&lt;p&gt;	java:global/appone/ejb/AppOneBean!org.jboss.as.quickstarts.ejb.multi.server.app.AppOne&lt;br/&gt;
	java:app/ejb/AppOneBean!org.jboss.as.quickstarts.ejb.multi.server.app.AppOne&lt;br/&gt;
	java:module/AppOneBean!org.jboss.as.quickstarts.ejb.multi.server.app.AppOne&lt;br/&gt;
	java:jboss/exported/appone/ejb/AppOneBean!org.jboss.as.quickstarts.ejb.multi.server.app.AppOne&lt;br/&gt;
	java:global/appone/ejb/AppOneBean&lt;br/&gt;
	java:app/ejb/AppOneBean&lt;br/&gt;
	java:module/AppOneBean&lt;/p&gt;

&lt;p&gt;11:58:18,790 INFO  &lt;span class=&quot;error&quot;&gt;&amp;#91;org.infinispan.remoting.transport.jgroups.JGroupsTransport&amp;#93;&lt;/span&gt; (ServerService Thread Pool &amp;#8211; 4) ISPN000078: Starting JGroups Channel&lt;br/&gt;
11:58:18,792 WARN  &lt;span class=&quot;error&quot;&gt;&amp;#91;org.jgroups.protocols.UDP&amp;#93;&lt;/span&gt; (ServerService Thread Pool &amp;#8211; 4) &lt;span class=&quot;error&quot;&gt;&amp;#91;JGRP00014&amp;#93;&lt;/span&gt; the send buffer of socket DatagramSocket was set to 640KB, but the OS only allocated 212.99KB. This might lead to performance problems. Please set your max send buffer in the OS correctly (e.g. net.core.wmem_max on Linux)&lt;br/&gt;
11:58:18,792 WARN  &lt;span class=&quot;error&quot;&gt;&amp;#91;org.jgroups.protocols.UDP&amp;#93;&lt;/span&gt; (ServerService Thread Pool &amp;#8211; 4) &lt;span class=&quot;error&quot;&gt;&amp;#91;JGRP00014&amp;#93;&lt;/span&gt; the receive buffer of socket DatagramSocket was set to 20MB, but the OS only allocated 212.99KB. This might lead to performance problems. Please set your max receive buffer in the OS correctly (e.g. net.core.rmem_max on Linux)&lt;br/&gt;
11:58:18,792 WARN  &lt;span class=&quot;error&quot;&gt;&amp;#91;org.jgroups.protocols.UDP&amp;#93;&lt;/span&gt; (ServerService Thread Pool &amp;#8211; 4) &lt;span class=&quot;error&quot;&gt;&amp;#91;JGRP00014&amp;#93;&lt;/span&gt; the send buffer of socket MulticastSocket was set to 640KB, but the OS only allocated 212.99KB. This might lead to performance problems. Please set your max send buffer in the OS correctly (e.g. net.core.wmem_max on Linux)&lt;br/&gt;
11:58:18,792 WARN  &lt;span class=&quot;error&quot;&gt;&amp;#91;org.jgroups.protocols.UDP&amp;#93;&lt;/span&gt; (ServerService Thread Pool &amp;#8211; 4) &lt;span class=&quot;error&quot;&gt;&amp;#91;JGRP00014&amp;#93;&lt;/span&gt; the receive buffer of socket MulticastSocket was set to 25MB, but the OS only allocated 212.99KB. This might lead to performance problems. Please set your max receive buffer in the OS correctly (e.g. net.core.rmem_max on Linux)&lt;br/&gt;
11:58:18,792 INFO  &lt;span class=&quot;error&quot;&gt;&amp;#91;stdout&amp;#93;&lt;/span&gt; (ServerService Thread Pool &amp;#8211; 4) &lt;br/&gt;
11:58:18,793 INFO  &lt;span class=&quot;error&quot;&gt;&amp;#91;stdout&amp;#93;&lt;/span&gt; (ServerService Thread Pool &amp;#8211; 4) -------------------------------------------------------------------&lt;br/&gt;
11:58:18,793 INFO  &lt;span class=&quot;error&quot;&gt;&amp;#91;stdout&amp;#93;&lt;/span&gt; (ServerService Thread Pool &amp;#8211; 4) GMS: address=home/ejb, cluster=ejb, physical address=127.0.0.1:55200&lt;br/&gt;
11:58:18,793 INFO  &lt;span class=&quot;error&quot;&gt;&amp;#91;stdout&amp;#93;&lt;/span&gt; (ServerService Thread Pool &amp;#8211; 4) -------------------------------------------------------------------&lt;br/&gt;
11:58:18,799 INFO  &lt;span class=&quot;error&quot;&gt;&amp;#91;org.infinispan.remoting.transport.jgroups.JGroupsTransport&amp;#93;&lt;/span&gt; (ServerService Thread Pool &amp;#8211; 4) ISPN000094: Received new cluster view: &lt;span class=&quot;error&quot;&gt;&amp;#91;node2/ejb|7&amp;#93;&lt;/span&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;node2/ejb, home/ejb&amp;#93;&lt;/span&gt;&lt;br/&gt;
11:58:18,821 INFO  &lt;span class=&quot;error&quot;&gt;&amp;#91;org.infinispan.remoting.transport.jgroups.JGroupsTransport&amp;#93;&lt;/span&gt; (ServerService Thread Pool &amp;#8211; 4) ISPN000079: Cache local address is home/ejb, physical addresses are &lt;span class=&quot;error&quot;&gt;&amp;#91;127.0.0.1:55200&amp;#93;&lt;/span&gt;&lt;br/&gt;
11:58:18,823 INFO  &lt;span class=&quot;error&quot;&gt;&amp;#91;org.infinispan.factories.TransactionManagerFactory&amp;#93;&lt;/span&gt; (ServerService Thread Pool &amp;#8211; 4) ISPN000161: Using a batchMode transaction manager&lt;br/&gt;
11:58:18,828 INFO  &lt;span class=&quot;error&quot;&gt;&amp;#91;org.infinispan.factories.TransactionManagerFactory&amp;#93;&lt;/span&gt; (ServerService Thread Pool &amp;#8211; 22) ISPN000161: Using a batchMode transaction manager&lt;br/&gt;
11:58:18,831 INFO  &lt;span class=&quot;error&quot;&gt;&amp;#91;org.infinispan.jmx.CacheJmxRegistration&amp;#93;&lt;/span&gt; (ServerService Thread Pool &amp;#8211; 4) ISPN000031: MBeans were successfully registered to the platform MBean server.&lt;br/&gt;
11:58:18,837 INFO  &lt;span class=&quot;error&quot;&gt;&amp;#91;org.infinispan.jmx.CacheJmxRegistration&amp;#93;&lt;/span&gt; (ServerService Thread Pool &amp;#8211; 22) ISPN000031: MBeans were successfully registered to the platform MBean server.&lt;br/&gt;
11:58:18,841 INFO  &lt;span class=&quot;error&quot;&gt;&amp;#91;org.jboss.as.clustering.infinispan&amp;#93;&lt;/span&gt; (ServerService Thread Pool &amp;#8211; 4) JBAS010281: Started remote-connector-client-mappings cache from ejb container&lt;br/&gt;
11:58:18,845 INFO  &lt;span class=&quot;error&quot;&gt;&amp;#91;org.jboss.as.clustering.infinispan&amp;#93;&lt;/span&gt; (ServerService Thread Pool &amp;#8211; 22) JBAS010281: Started repl cache from ejb container&lt;br/&gt;
11:58:18,846 INFO  &lt;span class=&quot;error&quot;&gt;&amp;#91;org.jboss.as.clustering&amp;#93;&lt;/span&gt; (MSC service thread 1-10) JBAS010226: New cluster view for partition ejb: 7 (org.jboss.as.clustering.impl.CoreGroupCommunicationService$GroupView@215dd258 delta: 0, merge: false)&lt;/p&gt;</comment>
                            <comment id="12921836" author="jira-bugzilla-migration" created="Fri, 8 Nov 2013 10:17:44 -0500"  >&lt;p&gt;Paul Ferraro &amp;lt;paul.ferraro@redhat.com&amp;gt; changed the Status of &lt;a href=&quot;https://bugzilla.redhat.com/show_bug.cgi?id=1027738&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;bug 1027738&lt;/a&gt; from NEW to POST&lt;/p&gt;</comment>
                            <comment id="12921837" author="jira-bugzilla-migration" created="Fri, 8 Nov 2013 10:17:45 -0500"  >&lt;p&gt;Paul Ferraro &amp;lt;paul.ferraro@redhat.com&amp;gt; made a comment on &lt;a href=&quot;https://bugzilla.redhat.com/show_bug.cgi?id=1027738&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;bug 1027738&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://github.com/jbossas/jboss-eap/pull/684&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://github.com/jbossas/jboss-eap/pull/684&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="12921996" author="jira-bugzilla-migration" created="Fri, 8 Nov 2013 17:21:26 -0500"  >&lt;p&gt;Brian Stansberry &amp;lt;brian.stansberry@redhat.com&amp;gt; changed the Status of &lt;a href=&quot;https://bugzilla.redhat.com/show_bug.cgi?id=1027738&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;bug 1027738&lt;/a&gt; from POST to MODIFIED&lt;/p&gt;</comment>
                            <comment id="12922154" author="jira-bugzilla-migration" created="Sun, 10 Nov 2013 22:18:37 -0500"  >&lt;p&gt;Paul Gier &amp;lt;pgier@redhat.com&amp;gt; changed the Status of &lt;a href=&quot;https://bugzilla.redhat.com/show_bug.cgi?id=1027738&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;bug 1027738&lt;/a&gt; from MODIFIED to ON_QA&lt;/p&gt;</comment>
                            <comment id="12922449" author="jira-bugzilla-migration" created="Mon, 11 Nov 2013 11:55:11 -0500"  >&lt;p&gt;Ladislav Thon &amp;lt;lthon@redhat.com&amp;gt; made a comment on &lt;a href=&quot;https://bugzilla.redhat.com/show_bug.cgi?id=1027738&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;bug 1027738&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;When using 6.2.0.CR1 preview bits, the issue is still present.&lt;/p&gt;

&lt;p&gt;I&apos;m using the reproducer from &lt;a href=&quot;https://issues.jboss.org/browse/WFLY-2458&quot; title=&quot;Re-deployment of a clustered application fail due to race-condition with infinispan&quot; class=&quot;issue-link&quot; data-issue-key=&quot;WFLY-2458&quot;&gt;&lt;del&gt;WFLY-2458&lt;/del&gt;&lt;/a&gt;. That is:&lt;/p&gt;

&lt;p&gt;1. unzip jboss-eap-6.2.0.CR1.zip twice to create 2 separate EAP dirs, say node1 and node2&lt;br/&gt;
2. cp appone.ear node1/standalone/deployments/&lt;br/&gt;
3. cp appone.ear node2/standalone/deployments/&lt;br/&gt;
4. node1/bin/standalone.sh -c standalone-ha.xml -Djboss.node.name=node1&lt;br/&gt;
5. node2/bin/standalone.sh -c standalone-ha.xml -Djboss.node.name=node2 -Djboss.socket.binding.port-offset=100&lt;br/&gt;
6. touch node1/standalone/deployments/appone.ear&lt;br/&gt;
7. watch the console log of node1&lt;/p&gt;

&lt;p&gt;I still see the error:&lt;/p&gt;

&lt;p&gt;17:47:43,543 ERROR &lt;span class=&quot;error&quot;&gt;&amp;#91;org.jboss.msc.service.fail&amp;#93;&lt;/span&gt; (ServerService Thread Pool &amp;#8211; 58) MSC000001: Failed to start service jboss.infinispan.ejb.global-component-registry: org.jboss.msc.service.StartException in service jboss.infinispan.ejb.global-component-registry: org.infinispan.manager.EmbeddedCacheManagerStartupException: org.infinispan.CacheException: Unable to invoke method public void org.infinispan.remoting.transport.jgroups.JGroupsTransport.start() on object of type JGroupsTransport&lt;br/&gt;
	at org.jboss.as.clustering.msc.AsynchronousService$1.run(AsynchronousService.java:91) &lt;span class=&quot;error&quot;&gt;&amp;#91;jboss-as-clustering-common-7.3.0.Final-redhat-12.jar:7.3.0.Final-redhat-12&amp;#93;&lt;/span&gt;&lt;br/&gt;
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1145) &lt;span class=&quot;error&quot;&gt;&amp;#91;rt.jar:1.7.0_45&amp;#93;&lt;/span&gt;&lt;br/&gt;
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:615) &lt;span class=&quot;error&quot;&gt;&amp;#91;rt.jar:1.7.0_45&amp;#93;&lt;/span&gt;&lt;br/&gt;
	at java.lang.Thread.run(Thread.java:744) &lt;span class=&quot;error&quot;&gt;&amp;#91;rt.jar:1.7.0_45&amp;#93;&lt;/span&gt;&lt;br/&gt;
	at org.jboss.threads.JBossThread.run(JBossThread.java:122) &lt;span class=&quot;error&quot;&gt;&amp;#91;jboss-threads-2.1.1.Final-redhat-1.jar:2.1.1.Final-redhat-1&amp;#93;&lt;/span&gt;&lt;br/&gt;
Caused by: org.infinispan.manager.EmbeddedCacheManagerStartupException: org.infinispan.CacheException: Unable to invoke method public void org.infinispan.remoting.transport.jgroups.JGroupsTransport.start() on object of type JGroupsTransport&lt;br/&gt;
	at org.infinispan.factories.GlobalComponentRegistry.start(GlobalComponentRegistry.java:247)&lt;br/&gt;
	at org.jboss.as.clustering.infinispan.subsystem.GlobalComponentRegistryService.start(GlobalComponentRegistryService.java:57)&lt;br/&gt;
	at org.jboss.as.clustering.msc.AsynchronousService$1.run(AsynchronousService.java:86) &lt;span class=&quot;error&quot;&gt;&amp;#91;jboss-as-clustering-common-7.3.0.Final-redhat-12.jar:7.3.0.Final-redhat-12&amp;#93;&lt;/span&gt;&lt;br/&gt;
	... 4 more&lt;br/&gt;
Caused by: org.infinispan.CacheException: Unable to invoke method public void org.infinispan.remoting.transport.jgroups.JGroupsTransport.start() on object of type JGroupsTransport&lt;br/&gt;
	at org.infinispan.util.ReflectionUtil.invokeAccessibly(ReflectionUtil.java:205)&lt;br/&gt;
	at org.infinispan.factories.AbstractComponentRegistry$PrioritizedMethod.invoke(AbstractComponentRegistry.java:886)&lt;br/&gt;
	at org.infinispan.factories.AbstractComponentRegistry.invokeStartMethods(AbstractComponentRegistry.java:657)&lt;br/&gt;
	at org.infinispan.factories.AbstractComponentRegistry.internalStart(AbstractComponentRegistry.java:646)&lt;br/&gt;
	at org.infinispan.factories.AbstractComponentRegistry.start(AbstractComponentRegistry.java:549)&lt;br/&gt;
	at org.infinispan.factories.GlobalComponentRegistry.start(GlobalComponentRegistry.java:225)&lt;br/&gt;
	... 6 more&lt;br/&gt;
Caused by: org.infinispan.CacheException: Unable to start JGroups Channel&lt;br/&gt;
	at org.infinispan.remoting.transport.jgroups.JGroupsTransport.startJGroupsChannelIfNeeded(JGroupsTransport.java:209)&lt;br/&gt;
	at org.infinispan.remoting.transport.jgroups.JGroupsTransport.start(JGroupsTransport.java:198)&lt;br/&gt;
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) &lt;span class=&quot;error&quot;&gt;&amp;#91;rt.jar:1.7.0_45&amp;#93;&lt;/span&gt;&lt;br/&gt;
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:57) &lt;span class=&quot;error&quot;&gt;&amp;#91;rt.jar:1.7.0_45&amp;#93;&lt;/span&gt;&lt;br/&gt;
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) &lt;span class=&quot;error&quot;&gt;&amp;#91;rt.jar:1.7.0_45&amp;#93;&lt;/span&gt;&lt;br/&gt;
	at java.lang.reflect.Method.invoke(Method.java:606) &lt;span class=&quot;error&quot;&gt;&amp;#91;rt.jar:1.7.0_45&amp;#93;&lt;/span&gt;&lt;br/&gt;
	at org.infinispan.util.ReflectionUtil.invokeAccessibly(ReflectionUtil.java:203)&lt;br/&gt;
	... 11 more&lt;br/&gt;
Caused by: java.lang.IllegalStateException: channel is closed&lt;br/&gt;
	at org.jgroups.JChannel.checkClosed(JChannel.java:865)&lt;br/&gt;
	at org.jgroups.JChannel._preConnect(JChannel.java:520)&lt;br/&gt;
	at org.jgroups.JChannel.connect(JChannel.java:277)&lt;br/&gt;
	at org.jgroups.JChannel.connect(JChannel.java:268)&lt;br/&gt;
	at org.infinispan.remoting.transport.jgroups.JGroupsTransport.startJGroupsChannelIfNeeded(JGroupsTransport.java:207)&lt;br/&gt;
	... 17 more&lt;/p&gt;

&lt;p&gt;When I built WildFly master, which already has the fix, it failed too, so this is not EAP-specific. Moving back to assigned.&lt;/p&gt;</comment>
                            <comment id="12922450" author="jira-bugzilla-migration" created="Mon, 11 Nov 2013 11:55:15 -0500"  >&lt;p&gt;Ladislav Thon &amp;lt;lthon@redhat.com&amp;gt; changed the Status of &lt;a href=&quot;https://bugzilla.redhat.com/show_bug.cgi?id=1027738&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;bug 1027738&lt;/a&gt; from ON_QA to ASSIGNED&lt;/p&gt;</comment>
                            <comment id="12922472" author="jira-bugzilla-migration" created="Mon, 11 Nov 2013 13:06:08 -0500"  >&lt;p&gt;Paul Ferraro &amp;lt;paul.ferraro@redhat.com&amp;gt; made a comment on &lt;a href=&quot;https://bugzilla.redhat.com/show_bug.cgi?id=1027738&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;bug 1027738&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;OK - so the previous fix ensured that the channel exists before Infinispan&apos;s global component registry starts - however, this appears to be insufficient.&lt;br/&gt;
If undeploy doesn&apos;t trigger a full restart of the JGroups channel service, Infinispan&apos;s restarted cache manager attempts to reuse the channel that was previously closed, hence the exception.&lt;br/&gt;
The underlying problem is that Infinispan now controls the lifecycle of the channel, while the channel is provided by EAP.  However, Infinispan should only be connecting and disconnecting the channel.  The channel should not close until EAP says so.&lt;br/&gt;
I&apos;ve opened an upstream issue for this:&lt;br/&gt;
&lt;a href=&quot;https://issues.jboss.org/browse/ISPN-3697&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.jboss.org/browse/ISPN-3697&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Until then, we can trick Infinispan into not closing the channel - and instead make that the responsibility of the channel service.&lt;/p&gt;

&lt;p&gt;I&apos;ll have a PR ready momentarily.&lt;/p&gt;

&lt;p&gt;I should note that this issue has a workaround.&lt;br/&gt;
Instead of redeploying, the user can undeploy and deploy again.  The introduction of a brief period of time allows the channel service to stop - thus causing the redeploy to use a fresh channel, instead of reusing the old, closed one.&lt;/p&gt;</comment>
                            <comment id="12922478" author="jira-bugzilla-migration" created="Mon, 11 Nov 2013 13:30:11 -0500"  >&lt;p&gt;Paul Ferraro &amp;lt;paul.ferraro@redhat.com&amp;gt; made a comment on &lt;a href=&quot;https://bugzilla.redhat.com/show_bug.cgi?id=1027738&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;bug 1027738&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://github.com/jbossas/jboss-eap/pull/693&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://github.com/jbossas/jboss-eap/pull/693&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="12922479" author="jira-bugzilla-migration" created="Mon, 11 Nov 2013 13:30:14 -0500"  >&lt;p&gt;Paul Ferraro &amp;lt;paul.ferraro@redhat.com&amp;gt; changed the Status of &lt;a href=&quot;https://bugzilla.redhat.com/show_bug.cgi?id=1027738&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;bug 1027738&lt;/a&gt; from ASSIGNED to POST&lt;/p&gt;</comment>
                            <comment id="12922583" author="jira-bugzilla-migration" created="Tue, 12 Nov 2013 00:33:41 -0500"  >&lt;p&gt;Brian Stansberry &amp;lt;brian.stansberry@redhat.com&amp;gt; changed the Status of &lt;a href=&quot;https://bugzilla.redhat.com/show_bug.cgi?id=1027738&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;bug 1027738&lt;/a&gt; from POST to MODIFIED&lt;/p&gt;</comment>
                            <comment id="12922606" author="jira-bugzilla-migration" created="Tue, 12 Nov 2013 02:14:01 -0500"  >&lt;p&gt;wfink@redhat.com made a comment on &lt;a href=&quot;https://bugzilla.redhat.com/show_bug.cgi?id=1027738&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;bug 1027738&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;(In reply to Paul Ferraro from comment #6)&lt;br/&gt;
&amp;gt; I should note that this issue has a workaround.&lt;br/&gt;
&amp;gt; Instead of redeploying, the user can undeploy and deploy again.&lt;/p&gt;

&lt;p&gt;Often this will not accepted by the customer as the wanted behaviour is that the action is automatically rolled-back if the new deployment failed. Also the time where the applicaiton is not reachable is longer.&lt;/p&gt;</comment>
                            <comment id="12922615" author="jira-bugzilla-migration" created="Tue, 12 Nov 2013 02:40:16 -0500"  >&lt;p&gt;Ladislav Thon &amp;lt;lthon@redhat.com&amp;gt; made a comment on &lt;a href=&quot;https://bugzilla.redhat.com/show_bug.cgi?id=1027738&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;bug 1027738&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;I just built the GitHub EAP 6.x branch, which contains Paul&apos;s fix from the pull request, and it&apos;s no good. When replaying the reproducer I described in comment 5, I no longer get the &quot;java.lang.IllegalStateException: channel is closed&quot; exception. Instead, I see a series of lovely NPEs, looking like this:&lt;/p&gt;

&lt;p&gt;08:28:58,082 WARN  &lt;span class=&quot;error&quot;&gt;&amp;#91;org.infinispan.remoting.transport.jgroups.CommandAwareRpcDispatcher&amp;#93;&lt;/span&gt; (OOB-19,shared=udp) Problems unmarshalling remote command from byte buffer: java.lang.NullPointerException&lt;br/&gt;
	at org.infinispan.marshall.jboss.JBossMarshaller$ExternalizerTableProxy.readObject(JBossMarshaller.java:164)&lt;br/&gt;
	at org.jboss.marshalling.river.RiverUnmarshaller.doReadObject(RiverUnmarshaller.java:355)&lt;br/&gt;
	at org.jboss.marshalling.river.RiverUnmarshaller.doReadObject(RiverUnmarshaller.java:213)&lt;br/&gt;
	at org.jboss.marshalling.AbstractObjectInput.readObject(AbstractObjectInput.java:45)&lt;br/&gt;
	at org.infinispan.marshall.jboss.AbstractJBossMarshaller.objectFromObjectStream(AbstractJBossMarshaller.java:163)&lt;br/&gt;
	...&lt;/p&gt;

&lt;p&gt;08:28:58,083 ERROR &lt;span class=&quot;error&quot;&gt;&amp;#91;org.jgroups.blocks.RequestCorrelator&amp;#93;&lt;/span&gt; (OOB-20,shared=udp) failed unmarshalling buffer into return value: java.lang.NullPointerException&lt;br/&gt;
	at org.infinispan.marshall.jboss.JBossMarshaller$ExternalizerTableProxy.readObject(JBossMarshaller.java:164)&lt;br/&gt;
	at org.jboss.marshalling.river.RiverUnmarshaller.doReadObject(RiverUnmarshaller.java:355)&lt;br/&gt;
	at org.jboss.marshalling.river.RiverUnmarshaller.doReadObject(RiverUnmarshaller.java:213)&lt;br/&gt;
	at org.jboss.marshalling.AbstractObjectInput.readObject(AbstractObjectInput.java:45)&lt;br/&gt;
	at org.infinispan.marshall.jboss.AbstractJBossMarshaller.objectFromObjectStream(AbstractJBossMarshaller.java:163)&lt;br/&gt;
	...&lt;/p&gt;

&lt;p&gt;And there&apos;s even this:&lt;/p&gt;

&lt;p&gt;08:28:57,806 ERROR &lt;span class=&quot;error&quot;&gt;&amp;#91;org.jboss.msc.service.fail&amp;#93;&lt;/span&gt; (ServerService Thread Pool &amp;#8211; 57) MSC000001: Failed to start service jboss.infinispan.ejb.repl: org.jboss.msc.service.StartException in service jboss.infinispan.ejb.repl: org.infinispan.CacheException: Unable to invoke method public void org.infinispan.statetransfer.StateTransferManagerImpl.start() throws java.lang.Exception on object of type StateTransferManagerImpl&lt;br/&gt;
	at org.jboss.as.clustering.msc.AsynchronousService$1.run(AsynchronousService.java:91) &lt;span class=&quot;error&quot;&gt;&amp;#91;jboss-as-clustering-common-7.3.0.Final-redhat-SNAPSHOT.jar:7.3.0.Final-redhat-SNAPSHOT&amp;#93;&lt;/span&gt;&lt;br/&gt;
	at java.util.concurrent.ThreadPoolExecutor$Worker.runTask(ThreadPoolExecutor.java:895) &lt;span class=&quot;error&quot;&gt;&amp;#91;rt.jar:1.6.0_45&amp;#93;&lt;/span&gt;&lt;br/&gt;
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:918) &lt;span class=&quot;error&quot;&gt;&amp;#91;rt.jar:1.6.0_45&amp;#93;&lt;/span&gt;&lt;br/&gt;
	at java.lang.Thread.run(Thread.java:662) &lt;span class=&quot;error&quot;&gt;&amp;#91;rt.jar:1.6.0_45&amp;#93;&lt;/span&gt;&lt;br/&gt;
	at org.jboss.threads.JBossThread.run(JBossThread.java:122) &lt;span class=&quot;error&quot;&gt;&amp;#91;jboss-threads-2.1.1.Final-redhat-1.jar:2.1.1.Final-redhat-1&amp;#93;&lt;/span&gt;&lt;br/&gt;
Caused by: org.infinispan.CacheException: Unable to invoke method public void org.infinispan.statetransfer.StateTransferManagerImpl.start() throws java.lang.Exception on object of type StateTransferManagerImpl&lt;br/&gt;
	at org.infinispan.util.ReflectionUtil.invokeAccessibly(ReflectionUtil.java:205)&lt;br/&gt;
	at org.infinispan.factories.AbstractComponentRegistry$PrioritizedMethod.invoke(AbstractComponentRegistry.java:886)&lt;br/&gt;
	at org.infinispan.factories.AbstractComponentRegistry.invokeStartMethods(AbstractComponentRegistry.java:657)&lt;br/&gt;
	at org.infinispan.factories.AbstractComponentRegistry.internalStart(AbstractComponentRegistry.java:646)&lt;br/&gt;
	at org.infinispan.factories.AbstractComponentRegistry.start(AbstractComponentRegistry.java:549)&lt;br/&gt;
	...&lt;br/&gt;
Caused by: org.infinispan.CacheException: java.lang.NullPointerException&lt;br/&gt;
	at org.infinispan.util.Util.rewrapAsCacheException(Util.java:542)&lt;br/&gt;
	at org.infinispan.remoting.transport.jgroups.CommandAwareRpcDispatcher.invokeRemoteCommand(CommandAwareRpcDispatcher.java:186)&lt;br/&gt;
	at org.infinispan.remoting.transport.jgroups.JGroupsTransport.invokeRemotely(JGroupsTransport.java:515)&lt;br/&gt;
	at org.infinispan.topology.LocalTopologyManagerImpl.executeOnCoordinator(LocalTopologyManagerImpl.java:293)&lt;br/&gt;
	at org.infinispan.topology.LocalTopologyManagerImpl.join(LocalTopologyManagerImpl.java:107)&lt;br/&gt;
	...&lt;br/&gt;
Caused by: java.lang.NullPointerException&lt;br/&gt;
	at org.infinispan.marshall.jboss.JBossMarshaller$ExternalizerTableProxy.readObject(JBossMarshaller.java:164)&lt;br/&gt;
	at org.jboss.marshalling.river.RiverUnmarshaller.doReadObject(RiverUnmarshaller.java:355)&lt;br/&gt;
	at org.jboss.marshalling.river.RiverUnmarshaller.doReadObject(RiverUnmarshaller.java:213)&lt;br/&gt;
	at org.jboss.marshalling.AbstractObjectInput.readObject(AbstractObjectInput.java:45)&lt;br/&gt;
	at org.infinispan.marshall.jboss.AbstractJBossMarshaller.objectFromObjectStream(AbstractJBossMarshaller.java:163)&lt;br/&gt;
	...&lt;/p&gt;

&lt;p&gt;But it&apos;s all essentially the same.&lt;/p&gt;

&lt;p&gt;Note that there is a LOT of these messages, they are being reported for 1 minute, after that, the log shows:&lt;/p&gt;

&lt;p&gt;08:28:58,090 INFO  &lt;span class=&quot;error&quot;&gt;&amp;#91;org.infinispan.remoting.transport.jgroups.JGroupsTransport&amp;#93;&lt;/span&gt; (MSC service thread 1-5) ISPN000080: Disconnecting and closing JGroups Channel&lt;br/&gt;
08:28:58,455 INFO  &lt;span class=&quot;error&quot;&gt;&amp;#91;org.infinispan.remoting.transport.jgroups.JGroupsTransport&amp;#93;&lt;/span&gt; (MSC service thread 1-5) ISPN000082: Stopping the RpcDispatcher&lt;/p&gt;

&lt;p&gt;Please, take this as a preliminary feedback. Once we get an official build, we&apos;ll provide official QA statement.&lt;/p&gt;</comment>
                            <comment id="12922746" author="jira-bugzilla-migration" created="Tue, 12 Nov 2013 08:30:30 -0500"  >&lt;p&gt;Paul Ferraro &amp;lt;paul.ferraro@redhat.com&amp;gt; made a comment on &lt;a href=&quot;https://bugzilla.redhat.com/show_bug.cgi?id=1027738&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;bug 1027738&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;This is a similar issue, but a separate cause - and needs to be addressed by upstream.  See: &lt;a href=&quot;https://issues.jboss.org/browse/ISPN-3698&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.jboss.org/browse/ISPN-3698&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="12922870" author="jira-bugzilla-migration" created="Tue, 12 Nov 2013 11:25:14 -0500"  >&lt;p&gt;Paul Ferraro &amp;lt;paul.ferraro@redhat.com&amp;gt; made a comment on &lt;a href=&quot;https://bugzilla.redhat.com/show_bug.cgi?id=1027738&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;bug 1027738&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;This issue only appears to happen when the redeploy is triggered on multiple servers simultaneously.  Unfortunately, triggering redeploy via the CLI does exactly this.  As workaround a rollout plan can be used to perform redeploy.  In the HA case, this is probably preferable anyway, to avoid loss of service.&lt;/p&gt;</comment>
                            <comment id="12922924" author="jira-bugzilla-migration" created="Tue, 12 Nov 2013 14:28:45 -0500"  >&lt;p&gt;Paul Ferraro &amp;lt;paul.ferraro@redhat.com&amp;gt; changed the Status of &lt;a href=&quot;https://bugzilla.redhat.com/show_bug.cgi?id=1027738&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;bug 1027738&lt;/a&gt; from MODIFIED to POST&lt;/p&gt;</comment>
                            <comment id="12922927" author="jira-bugzilla-migration" created="Tue, 12 Nov 2013 14:28:50 -0500"  >&lt;p&gt;Paul Ferraro &amp;lt;paul.ferraro@redhat.com&amp;gt; made a comment on &lt;a href=&quot;https://bugzilla.redhat.com/show_bug.cgi?id=1027738&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;bug 1027738&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;This PR adds a workaround for &lt;a href=&quot;https://issues.jboss.org/browse/ISPN-3698&quot; title=&quot;Failure during concurrent restart of cache/manager&quot; class=&quot;issue-link&quot; data-issue-key=&quot;ISPN-3698&quot;&gt;&lt;del&gt;ISPN-3698&lt;/del&gt;&lt;/a&gt;, and should completely fix this issue:&lt;br/&gt;
&lt;a href=&quot;https://github.com/jbossas/jboss-eap/pull/697&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://github.com/jbossas/jboss-eap/pull/697&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="12922990" author="jira-bugzilla-migration" created="Tue, 12 Nov 2013 21:50:47 -0500"  >&lt;p&gt;Brian Stansberry &amp;lt;brian.stansberry@redhat.com&amp;gt; changed the Status of &lt;a href=&quot;https://bugzilla.redhat.com/show_bug.cgi?id=1027738&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;bug 1027738&lt;/a&gt; from POST to MODIFIED&lt;/p&gt;</comment>
                            <comment id="12923013" author="jira-bugzilla-migration" created="Wed, 13 Nov 2013 02:49:21 -0500"  >&lt;p&gt;Ladislav Thon &amp;lt;lthon@redhat.com&amp;gt; made a comment on &lt;a href=&quot;https://bugzilla.redhat.com/show_bug.cgi?id=1027738&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;bug 1027738&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;I built the current EAP &quot;upstream&quot; branch which has the fix, and I can confirm that the issue is indeed fixed. Please take this as a preliminary feedback; once we get official build, we will provide official QA statement.&lt;/p&gt;</comment>
                            <comment id="12924271" author="jira-bugzilla-migration" created="Sun, 17 Nov 2013 20:50:47 -0500"  >&lt;p&gt;Paul Gier &amp;lt;pgier@redhat.com&amp;gt; changed the Status of &lt;a href=&quot;https://bugzilla.redhat.com/show_bug.cgi?id=1027738&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;bug 1027738&lt;/a&gt; from MODIFIED to ON_QA&lt;/p&gt;</comment>
                            <comment id="12924405" author="jira-bugzilla-migration" created="Mon, 18 Nov 2013 05:32:58 -0500"  >&lt;p&gt;Ladislav Thon &amp;lt;lthon@redhat.com&amp;gt; changed the Status of &lt;a href=&quot;https://bugzilla.redhat.com/show_bug.cgi?id=1027738&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;bug 1027738&lt;/a&gt; from ON_QA to VERIFIED&lt;/p&gt;</comment>
                            <comment id="12924406" author="jira-bugzilla-migration" created="Mon, 18 Nov 2013 05:32:59 -0500"  >&lt;p&gt;Ladislav Thon &amp;lt;lthon@redhat.com&amp;gt; made a comment on &lt;a href=&quot;https://bugzilla.redhat.com/show_bug.cgi?id=1027738&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;bug 1027738&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Verified with EAP 6.2.0.CR2 preview.&lt;/p&gt;</comment>
                            <comment id="12931371" author="jira-bugzilla-migration" created="Sun, 15 Dec 2013 11:13:03 -0500"  >&lt;p&gt;mark yarborough &amp;lt;myarboro@redhat.com&amp;gt; changed the Status of &lt;a href=&quot;https://bugzilla.redhat.com/show_bug.cgi?id=1027738&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;bug 1027738&lt;/a&gt; from VERIFIED to CLOSED&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12378761" name="appone.ear" size="3609" author="wdfink" created="Thu, 7 Nov 2013 05:51:36 -0500"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310440" key="org.jboss.labs.jira.plugin.jboss-custom-field-types-plugin:multiurl">
                        <customfieldname>Bugzilla References</customfieldname>
                        <customfieldvalues>
                            https://bugzilla.redhat.com/show_bug.cgi?id=1027738
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12310220" key="org.jboss.labs.jira.plugin.jboss-custom-field-types-plugin:multiurl">
                        <customfieldname>Git Pull Request</customfieldname>
                        <customfieldvalues>
                            https://github.com/wildfly/wildfly/pull/5441, https://github.com/wildfly/wildfly/pull/5449
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12310641" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Number of attachments</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310640" key="com.atlassian.jira.toolkit:comments">
                        <customfieldname>Number of comments</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>24.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12311940" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1|hzkokn:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310840" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>180949</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                            <customfield id="customfield_12310183" key="com.atlassian.jira.plugin.system.customfieldtypes:textarea">
                        <customfieldname>Steps to Reproduce</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;use two instances of WildFly (8.0.0.Beta1 or Beta2.SNAPHOT)&lt;/li&gt;
	&lt;li&gt;copy the appone.ear to both standalone/deployments&lt;/li&gt;
	&lt;li&gt;start first: bin/standalone.sh -c standalone-ha.xml&lt;/li&gt;
	&lt;li&gt;second : bin/standalone.sh -c standalone-ha.xml -Djboss.node.name=node2 -Djboss.socket.binding.port-offset=100&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;touch the appone.ear for server1&lt;/p&gt;</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                            </customfields>
    </item>
</channel>
</rss>