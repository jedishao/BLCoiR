<!-- 
RSS generated by JIRA (7.2.3#72005-sha1:73be91d2b96fc29303a7eb6820acf420e5d0ed65) at Tue Dec 06 13:13:56 EST 2016

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary add field=key&field=summary to the URL of your request.
For example:
https://issues.jboss.org/si/jira.issueviews:issue-xml/WFLY-2174/WFLY-2174.xml?field=key&amp;field=summary
-->
<rss version="0.92" >
<channel>
    <title>JBoss Issue Tracker</title>
    <link>https://issues.jboss.org</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-us</language>    <build-info>
        <version>7.2.3</version>
        <build-number>72005</build-number>
        <build-date>06-10-2016</build-date>
    </build-info>

<item>
            <title>[WFLY-2174] Intermittent failures in DomainControllerMigrationTestCase</title>
                <link>https://issues.jboss.org/browse/WFLY-2174</link>
                <project id="12313721" key="WFLY">WildFly</project>
                    <description>&lt;p&gt;For example:&lt;/p&gt;

&lt;p&gt;java.lang.RuntimeException: &quot;JBAS010839: Operation failed or was rolled back on all servers.&quot;&lt;br/&gt;
    at org.jboss.as.test.integration.domain.management.util.DomainLifecycleUtil.executeForResult(DomainLifecycleUtil.java:582)&lt;br/&gt;
    at org.jboss.as.test.integration.domain.DomainControllerMigrationTestCase.testDCFailover(DomainControllerMigrationTestCase.java:206)&lt;/p&gt;

&lt;p&gt;With this in the logs:&lt;/p&gt;

&lt;p&gt;&lt;span class=&quot;error&quot;&gt;&amp;#91;Host Controller&amp;#93;&lt;/span&gt; 14:51:08,996 INFO  &lt;span class=&quot;error&quot;&gt;&amp;#91;org.jboss.as&amp;#93;&lt;/span&gt; (Controller Boot Thread) JBAS015874: JBoss EAP 6.2.0.Alpha1 (AS 7.3.0.Final-redhat-SNAPSHOT) (Host Controller) started in 829ms - Started 12 of 12 services (0 services are passive or on-demand)&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;Server:failover-two&amp;#93;&lt;/span&gt; 14:51:10,113 INFO  &lt;span class=&quot;error&quot;&gt;&amp;#91;org.jboss.as.server.deployment&amp;#93;&lt;/span&gt; (MSC service thread 1-2) JBAS015876: Starting deployment of &quot;SimpleServlet.war&quot; (runtime-name: &quot;SimpleServlet.war&quot;)&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;Host Controller&amp;#93;&lt;/span&gt; 14:51:10,377 INFO  &lt;span class=&quot;error&quot;&gt;&amp;#91;org.jboss.as.domain.controller.mgmt&amp;#93;&lt;/span&gt; (Remoting &quot;failover-h3:MANAGEMENT&quot; task-2) JBAS010920: Server &lt;span class=&quot;error&quot;&gt;&amp;#91;Server:failover-three&amp;#93;&lt;/span&gt; registered using connection &lt;span class=&quot;error&quot;&gt;&amp;#91;Channel ID 7e979de4 (inbound) of Remoting connection 00429bb7 to /127.0.0.1:53634&amp;#93;&lt;/span&gt;&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;Host Controller&amp;#93;&lt;/span&gt; 14:51:11,185 ERROR &lt;span class=&quot;error&quot;&gt;&amp;#91;org.jboss.as.controller.management-operation&amp;#93;&lt;/span&gt; (domain-connection-threads - 2) JBAS014612: Operation (&quot;composite&quot;) failed - address: ([&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;Host Controller&amp;#93;&lt;/span&gt;     (&quot;host&quot; =&amp;gt; &quot;failover-h3&quot;),&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;Host Controller&amp;#93;&lt;/span&gt;     (&quot;server&quot; =&amp;gt; &quot;failover-three&quot;)&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;Host Controller&amp;#93;&lt;/span&gt; ]): java.lang.RuntimeException: java.io.IOException: JBAS012175: Channel closed&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;Host Controller&amp;#93;&lt;/span&gt;     at org.jboss.as.controller.remote.RemoteProxyController.execute(RemoteProxyController.java:203) &lt;span class=&quot;error&quot;&gt;&amp;#91;jboss-as-controller-7.3.0.Final-redhat-SNAPSHOT.jar:7.3.0.Final-redhat-SNAPSHOT&amp;#93;&lt;/span&gt;&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;Host Controller&amp;#93;&lt;/span&gt;     at org.jboss.as.controller.TransformingProxyController$TransformingProxyControllerImpl.execute(TransformingProxyController.java:149) &lt;span class=&quot;error&quot;&gt;&amp;#91;jboss-as-controller-7.3.0.Final-redhat-SNAPSHOT.jar:7.3.0.Final-redhat-SNAPSHOT&amp;#93;&lt;/span&gt;&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;Host Controller&amp;#93;&lt;/span&gt;     at org.jboss.as.controller.ProxyStepHandler.execute(ProxyStepHandler.java:130) &lt;span class=&quot;error&quot;&gt;&amp;#91;jboss-as-controller-7.3.0.Final-redhat-SNAPSHOT.jar:7.3.0.Final-redhat-SNAPSHOT&amp;#93;&lt;/span&gt;&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;Host Controller&amp;#93;&lt;/span&gt;     at org.jboss.as.controller.AbstractOperationContext.executeStep(AbstractOperationContext.java:624) &lt;span class=&quot;error&quot;&gt;&amp;#91;jboss-as-controller-7.3.0.Final-redhat-SNAPSHOT.jar:7.3.0.Final-redhat-SNAPSHOT&amp;#93;&lt;/span&gt;&lt;br/&gt;
.....&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;Host Controller&amp;#93;&lt;/span&gt; Caused by: java.io.IOException: JBAS012175: Channel closed&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;Host Controller&amp;#93;&lt;/span&gt;     at org.jboss.as.host.controller.ManagedServerProxy$DisconnectedProtocolClient.execute(ManagedServerProxy.java:114)&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;Host Controller&amp;#93;&lt;/span&gt;     at org.jboss.as.host.controller.ManagedServerProxy.execute(ManagedServerProxy.java:92)&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;Host Controller&amp;#93;&lt;/span&gt;     at org.jboss.as.host.controller.ManagedServerProxy.execute(ManagedServerProxy.java:80)&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;Host Controller&amp;#93;&lt;/span&gt;     at org.jboss.as.controller.remote.RemoteProxyController.execute(RemoteProxyController.java:159) &lt;span class=&quot;error&quot;&gt;&amp;#91;jboss-as-controller-7.3.0.Final-redhat-SNAPSHOT.jar:7.3.0.Final-redhat-SNAPSHOT&amp;#93;&lt;/span&gt;&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;Host Controller&amp;#93;&lt;/span&gt;     ... 23 more&lt;/p&gt;


&lt;p&gt;I believe what is going on here is the test is hitting expected behavior. It restarts an HC without restarting the servers. When the HC is reloaded, it is aware that it has disconnected servers. While it awaits reconnect, any attempt to send an op through to the disconnected server will get the exception above.&lt;/p&gt;

&lt;p&gt;If my analysis is correct, then the test just needs adjusting to check server status before continuing on. If it&apos;s incorrect and this shouldn&apos;t fail, then we have a bug. A 3rd option is it&apos;s correct, but the behavior is bad.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12501761">WFLY-2174</key>
            <summary>Intermittent failures in DomainControllerMigrationTestCase</summary>
                <type id="1" iconUrl="https://issues.jboss.org/secure/viewavatar?size=xsmall&amp;avatarId=13263&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.jboss.org/images/icons/priorities/major.svg">Major</priority>
                        <status id="5" iconUrl="https://issues.jboss.org/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Done</resolution>
                                        <assignee username="emuckenhuber">Emanuel Muckenhuber</assignee>
                                    <reporter username="brian.stansberry">Brian Stansberry</reporter>
                        <labels>
                    </labels>
                <created>Fri, 27 Sep 2013 16:45:24 -0400</created>
                <updated>Thu, 4 Sep 2014 09:38:04 -0400</updated>
                            <resolved>Mon, 11 Nov 2013 11:34:59 -0500</resolved>
                                    <version>8.0.0.Alpha4</version>
                                    <fixVersion>8.0.0.CR1</fixVersion>
                                    <component>Domain Management</component>
                    <component>Test Suite</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                                <comments>
                            <comment id="12922441" author="emuckenhuber" created="Mon, 11 Nov 2013 11:34:59 -0500"  >&lt;p&gt;This should be resolved.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310641" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Number of attachments</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310640" key="com.atlassian.jira.toolkit:comments">
                        <customfieldname>Number of comments</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12311940" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1|hzizmv:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310840" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>171092</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                    </customfields>
    </item>
</channel>
</rss>