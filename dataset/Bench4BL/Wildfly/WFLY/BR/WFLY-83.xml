<!-- 
RSS generated by JIRA (7.2.3#72005-sha1:73be91d2b96fc29303a7eb6820acf420e5d0ed65) at Tue Dec 06 12:08:50 EST 2016

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary add field=key&field=summary to the URL of your request.
For example:
https://issues.jboss.org/si/jira.issueviews:issue-xml/WFLY-83/WFLY-83.xml?field=key&amp;field=summary
-->
<rss version="0.92" >
<channel>
    <title>JBoss Issue Tracker</title>
    <link>https://issues.jboss.org</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-us</language>    <build-info>
        <version>7.2.3</version>
        <build-number>72005</build-number>
        <build-date>06-10-2016</build-date>
    </build-info>

<item>
            <title>[WFLY-83] Management operations for accessing transaction logs should be exposed in the web console</title>
                <link>https://issues.jboss.org/browse/WFLY-83</link>
                <project id="12313721" key="WFLY">WildFly</project>
                    <description>&lt;p&gt;Task &lt;a href=&quot;https://issues.jboss.org/browse/AS7-925&quot; title=&quot;Expose the transaction logs via the domain management API&quot; class=&quot;issue-link&quot; data-issue-key=&quot;AS7-925&quot;&gt;&lt;del&gt;AS7-925&lt;/del&gt;&lt;/a&gt; provides CLI management operations for accessing transaction logs.&lt;/p&gt;

&lt;p&gt;We need the same information to be made available in the web console.&lt;/p&gt;

&lt;p&gt;The operations are part of the log store sub model:&lt;/p&gt;

&lt;p&gt;org.jboss.as.txn.subsystem.LogStoreAddHandler&lt;/p&gt;

&lt;p&gt;We also need to expose the attribute for switching our log store implementation:&lt;/p&gt;

&lt;p&gt;TransactionSubsystemRootResourceDefinition.USEHORNETQSTORE&lt;/p&gt;</description>
                <environment></environment>
        <key id="12462792">WFLY-83</key>
            <summary>Management operations for accessing transaction logs should be exposed in the web console</summary>
                <type id="1" iconUrl="https://issues.jboss.org/secure/viewavatar?size=xsmall&amp;avatarId=13263&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.jboss.org/images/icons/priorities/major.svg">Major</priority>
                        <status id="5" iconUrl="https://issues.jboss.org/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Done</resolution>
                                        <assignee username="heiko.braun">Heiko Braun</assignee>
                                    <reporter username="mmusgrov">Michael Musgrove</reporter>
                        <labels>
                            <label>console_1.5.2</label>
                            <label>merged</label>
                    </labels>
                <created>Thu, 29 Mar 2012 10:43:59 -0400</created>
                <updated>Mon, 20 Jan 2014 16:10:30 -0500</updated>
                            <resolved>Thu, 28 Feb 2013 02:26:41 -0500</resolved>
                                                    <fixVersion>8.0.0.Alpha1</fixVersion>
                                    <component>Web Console</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>9</watches>
                                                                <comments>
                            <comment id="12680346" author="mmusgrov" created="Thu, 29 Mar 2012 10:58:28 -0400"  >&lt;p&gt;The linked issue implements the required management operations&lt;/p&gt;</comment>
                            <comment id="12709986" author="heiko.braun" created="Mon, 6 Aug 2012 08:09:00 -0400"  >&lt;p&gt;I would need some use cases how to display the tx logs. Just looking at the management operations doesn&apos;t explain to me when the logs are available, what operations would be typically applied to them, etc. Please provide set a main use cases with a brief description.&lt;/p&gt;</comment>
                            <comment id="12712486" author="mmusgrov" created="Mon, 20 Aug 2012 10:32:54 -0400"  >&lt;p&gt;The linked JIRA shows which features of the subsystem have been tested. These features together with the ability to drill down into transactions and participants needs to be available via the web console.&lt;/p&gt;</comment>
                            <comment id="12713094" author="mmusgrov" created="Wed, 22 Aug 2012 11:29:15 -0400"  >&lt;p&gt;There are 2 use cases:&lt;/p&gt;

&lt;p&gt;1. Enable/disable statistics and provide an indication of the current status of this property (note that statistics are displayed in the web console but we cannot enable/disable them from it)&lt;br/&gt;
2. Browsing and Manipulating transaction logs:&lt;br/&gt;
The model node for transaction logs is log-store which provides an operation called &quot;probe&quot; which reads the transaction logs and creates a node for each one.&lt;br/&gt;
*This operation needs to be exposed in the web console&lt;br/&gt;
A transaction node:&lt;/p&gt;
&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;provides an operation called &quot;delete&quot; for removing the transaction log;&lt;/li&gt;
	&lt;li&gt;provides attributes which describe the log entry;&lt;/li&gt;
	&lt;li&gt;contains a child resource called &quot;participants&quot;&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;*Each of these last three items needs to be exposed in the web console&lt;/p&gt;

&lt;p&gt;*Transaction nodes and their participants need to be exposed in the web console&lt;/p&gt;

&lt;p&gt;&lt;span class=&quot;error&quot;&gt;&amp;#91;Note it is normal for transaction logs to come and go whenever the transaction manager is running - the only way to get a current snapshot of which logs are present is by re-issuing the &amp;quot;probe&amp;quot; operation&amp;#93;&lt;/span&gt;.&lt;/p&gt;

&lt;p&gt;The &quot;participants&quot; child resource contains nodes representing each prepared transaction participant. Participant nodes:&lt;/p&gt;

&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;contain attributes describing the resource such as its jndi name, its EIS product name and version, its status etc (use :read-resource in the CLI to see these values);&lt;/li&gt;
	&lt;li&gt;contain two operations, &quot;recover&quot; and &quot;refresh&quot;. If the status is &quot;HEURISTIC&quot; then the refresh operation will change the state back to &quot;PREPARE&quot; and trigger a recovery attempt. In the case of a heuristic participant the recover operation will (try) to cause the commit operation to be replayed (and if successful the participant will be removed from the log).&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;*Each of these last two items needs to be exposed in the web console&lt;/p&gt;

&lt;p&gt;Note also that fixing the linked jira (&lt;a href=&quot;https://issues.jboss.org/browse/JBPAPP6-1490&quot; title=&quot;Domain management API does not expose JTS orphans from the transaction object store&quot; class=&quot;issue-link&quot; data-issue-key=&quot;JBPAPP6-1490&quot;&gt;&lt;del&gt;JBPAPP-8816&lt;/del&gt;&lt;/a&gt;) will expose all log records and these should be exposed too (under the control of a check box/button for &quot;advance&quot; mode).&lt;/p&gt;</comment>
                            <comment id="12722481" author="maeste" created="Fri, 28 Sep 2012 04:04:01 -0400"  >&lt;p&gt;Last comment of Micchael should be sufficient description, but just ping me if you need something else&lt;/p&gt;</comment>
                            <comment id="12757107" author="heiko.braun" created="Wed, 27 Feb 2013 04:24:57 -0500"  >&lt;p&gt;Example log store output&lt;/p&gt;</comment>
                            <comment id="12757111" author="heiko.braun" created="Wed, 27 Feb 2013 04:42:57 -0500"  >&lt;p&gt;I think the related issue is now: &lt;a href=&quot;https://bugzilla.redhat.com/show_bug.cgi?id=900289&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://bugzilla.redhat.com/show_bug.cgi?id=900289&lt;/a&gt; (oopsed to (&lt;a href=&quot;https://issues.jboss.org/browse/JBPAPP6-1490&quot; title=&quot;Domain management API does not expose JTS orphans from the transaction object store&quot; class=&quot;issue-link&quot; data-issue-key=&quot;JBPAPP6-1490&quot;&gt;&lt;del&gt;JBPAPP-8816&lt;/del&gt;&lt;/a&gt;)&lt;/p&gt;</comment>
                            <comment id="12757125" author="heiko.braun" created="Wed, 27 Feb 2013 05:57:30 -0500"  >&lt;p&gt;The view onto the top level records&lt;/p&gt;</comment>
                            <comment id="12757132" author="heiko.braun" created="Wed, 27 Feb 2013 06:18:28 -0500"  >&lt;p&gt;tx participants view&lt;/p&gt;</comment>
                            <comment id="12757292" author="heiko.braun" created="Wed, 27 Feb 2013 12:51:39 -0500"  >&lt;p&gt;Updated participants view (EIS information)&lt;/p&gt;</comment>
                            <comment id="12757293" author="brian.stansberry" created="Wed, 27 Feb 2013 12:58:47 -0500"  >&lt;p&gt;Removing the &quot;No Release&quot; Fix Version. That&apos;s meant for tasks that don&apos;t directly relate to a formal release process; e.g. &quot;Update the foo wiki page to describe the new bar functionality.&quot;&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10012">
                    <name>Dependency</name>
                                            <outwardlinks description="is blocked by">
                                        <issuelink>
            <issuekey id="12438584">AS7-925</issuekey>
        </issuelink>
            <issuelink>
            <issuekey id="12464849">JBPAPP6-1490</issuekey>
        </issuelink>
                            </outwardlinks>
                                                                <inwardlinks description="blocks">
                                        <issuelink>
            <issuekey id="12464849">JBPAPP6-1490</issuekey>
        </issuelink>
            <issuelink>
            <issuekey id="12324115">JBTM-49</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                            <issuelinktype id="12310001">
                    <name>Related</name>
                                                                <inwardlinks description="is related to">
                                                        </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="12360951" name="tx-log-view.png" size="210839" author="heiko.braun" created="Wed, 27 Feb 2013 05:57:30 -0500"/>
                            <attachment id="12360947" name="tx-log.txt" size="1085" author="heiko.braun" created="Wed, 27 Feb 2013 04:24:57 -0500"/>
                            <attachment id="12360965" name="tx-participants.png" size="197262" author="heiko.braun" created="Wed, 27 Feb 2013 12:51:39 -0500"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310641" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Number of attachments</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>3.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310640" key="com.atlassian.jira.toolkit:comments">
                        <customfieldname>Number of comments</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>11.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12311940" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1|hyzw27:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310840" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>59773</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                    </customfields>
    </item>
</channel>
</rss>