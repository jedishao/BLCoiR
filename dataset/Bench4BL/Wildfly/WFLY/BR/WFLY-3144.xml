<!-- 
RSS generated by JIRA (7.2.3#72005-sha1:73be91d2b96fc29303a7eb6820acf420e5d0ed65) at Tue Dec 06 15:52:48 EST 2016

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary add field=key&field=summary to the URL of your request.
For example:
https://issues.jboss.org/si/jira.issueviews:issue-xml/WFLY-3144/WFLY-3144.xml?field=key&amp;field=summary
-->
<rss version="0.92" >
<channel>
    <title>JBoss Issue Tracker</title>
    <link>https://issues.jboss.org</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-us</language>    <build-info>
        <version>7.2.3</version>
        <build-number>72005</build-number>
        <build-date>06-10-2016</build-date>
    </build-info>

<item>
            <title>[WFLY-3144] Session replication doesn&apos;t work as expected</title>
                <link>https://issues.jboss.org/browse/WFLY-3144</link>
                <project id="12313721" key="WFLY">WildFly</project>
                    <description>&lt;p&gt;I am experimenting with quite simple Stateful SessionScoped bean  ( see org.jboss.weld.tests.clustering.translator.TranslatorControllerBean from attached reproducer) and actually there&apos;s not any specific exception, but the behavior is at least weird. I haven&apos;t tried with plain EJB so far. Reproducible by following steps:&lt;/p&gt;

&lt;p&gt;1. Run first node with &quot;/bin/standalone.sh -c standalone-ha.xml&quot;&lt;br/&gt;
2. Run second node with &quot;./bin/standalone.sh -c standalone-ha.xml -Djboss.socket.binding.port-offset=100 -Djboss.node.name=second&quot;&lt;br/&gt;
3. Build and deploy attached reproducer&lt;br/&gt;
4. Open 127.0.0.1:8080/translator in your browser and translate something.&lt;br/&gt;
5. Open 127.0.0.1:8180/translator and note that number of translated sentences is not replicated correctly. &lt;/p&gt;

&lt;p&gt;This works correctly in EAP. I am running with default standalone-ha configuration on oracle&apos;s 1.7.0_45 jdk.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12535573">WFLY-3144</key>
            <summary>Session replication doesn&apos;t work as expected</summary>
                <type id="1" iconUrl="https://issues.jboss.org/secure/viewavatar?size=xsmall&amp;avatarId=13263&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.jboss.org/images/icons/priorities/major.svg">Major</priority>
                        <status id="5" iconUrl="https://issues.jboss.org/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Done</resolution>
                                        <assignee username="rhusar">Radoslav Husar</assignee>
                                    <reporter username="tremes">Tomas Remes</reporter>
                        <labels>
                    </labels>
                <created>Thu, 20 Mar 2014 10:09:54 -0400</created>
                <updated>Thu, 4 Sep 2014 09:31:48 -0400</updated>
                            <resolved>Fri, 6 Jun 2014 05:04:08 -0400</resolved>
                                    <version>8.0.0.Final</version>
                                    <fixVersion>8.2.0.Final</fixVersion>
                    <fixVersion>9.0.0.Alpha1</fixVersion>
                                    <component>CDI / Weld</component>
                    <component>Clustering</component>
                    <component>EJB</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>7</watches>
                                                                <comments>
                            <comment id="12954640" author="mkouba" created="Thu, 20 Mar 2014 10:40:28 -0400"  >&lt;p&gt;For the record: I was able to reproduce the problem with cURL and forged JSESSIONID.&lt;/p&gt;</comment>
                            <comment id="12954831" author="tremes" created="Fri, 21 Mar 2014 02:51:20 -0400"  >&lt;p&gt;Reproducible also by TranslatorClusterTest from &lt;a href=&quot;https://github.com/maschmid/weld-clustering-tests&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://github.com/maschmid/weld-clustering-tests&lt;/a&gt;. Replace PATH* variables with your values and you can use following command:&lt;/p&gt;

&lt;p/&gt;
&lt;div id=&quot;syntaxplugin&quot; class=&quot;syntaxplugin&quot; style=&quot;border: 1px dashed #bbb; border-radius: 5px !important; overflow: auto; max-height: 30em;&quot;&gt;
&lt;table cellspacing=&quot;0&quot; cellpadding=&quot;0&quot; border=&quot;0&quot; width=&quot;100%&quot; style=&quot;font-size: 1em; line-height: 1.4em !important; font-weight: normal; font-style: normal; color: black;&quot;&gt;
		&lt;tbody &gt;
				&lt;tr id=&quot;syntaxplugin_code_and_gutter&quot;&gt;
						&lt;td  style=&quot; line-height: 1.4em !important; padding: 0em; vertical-align: top;&quot;&gt;
					&lt;pre style=&quot;font-size: 1em; margin: 0 10px;  margin-top: 10px;   width: auto; padding: 0;&quot;&gt;&amp;nbsp;&lt;/pre&gt;
			&lt;/td&gt;
		&lt;/tr&gt;
				&lt;tr id=&quot;syntaxplugin_code_and_gutter&quot;&gt;
						&lt;td  style=&quot; line-height: 1.4em !important; padding: 0em; vertical-align: top;&quot;&gt;
					&lt;pre style=&quot;font-size: 1em; margin: 0 10px;   width: auto; padding: 0;&quot;&gt;&lt;span style=&quot;color: black; font-family: &apos;Consolas&apos;, &apos;Bitstream Vera Sans Mono&apos;, &apos;Courier New&apos;, Courier, monospace !important;&quot;&gt;mvn clean verify -Darquillian=wildfly-cluster-8  -Dnode1.jbossHome=${PATH1}  -Dnode2.jbossHome=${PATH2}  -Dnode1.contextPath=&quot;http://127.0.0.1:8080/weld-clustering-tests&quot;  -Dnode2.contextPath=&quot;http://127.0.0.1:8180/weld-clustering-tests&quot;  -Dnode1.managementAddress=127.0.0.1  -Dnode1.managementPort=9990  -Dnode2.managementAddress=127.0.0.1  -Dnode2.managementPort=10090  -Dnode2.portOffset=100 -Dtest=TranslatorClusterTest&lt;/span&gt;&lt;/pre&gt;
			&lt;/td&gt;
		&lt;/tr&gt;
				&lt;tr id=&quot;syntaxplugin_code_and_gutter&quot;&gt;
						&lt;td  style=&quot; line-height: 1.4em !important; padding: 0em; vertical-align: top;&quot;&gt;
					&lt;pre style=&quot;font-size: 1em; margin: 0 10px;   margin-bottom: 10px;  width: auto; padding: 0;&quot;&gt;&amp;nbsp;&lt;/pre&gt;
			&lt;/td&gt;
		&lt;/tr&gt;
			&lt;/tbody&gt;
&lt;/table&gt;
&lt;/div&gt;
&lt;p/&gt;</comment>
                            <comment id="12957031" author="rhusar" created="Thu, 27 Mar 2014 10:11:20 -0400"  >&lt;p&gt;Still looking into this. Looks like Weld is creating a new session whereas it shouldn&apos;t after failover.&lt;/p&gt;</comment>
                            <comment id="12957223" author="rhusar" created="Thu, 27 Mar 2014 21:05:26 -0400"  >&lt;p&gt;This is a Weld issue. See &lt;a href=&quot;https://issues.jboss.org/browse/WELD-1635&quot; title=&quot;EnterpriseBeanProxyMethodHandler creates a new SFSB session on failover&quot; class=&quot;issue-link&quot; data-issue-key=&quot;WELD-1635&quot;&gt;&lt;del&gt;WELD-1635&lt;/del&gt;&lt;/a&gt; for fix.&lt;/p&gt;

&lt;p&gt;The fix in WildFly will require a Weld upgrade.&lt;/p&gt;</comment>
                            <comment id="12957357" author="rhusar" created="Fri, 28 Mar 2014 10:12:58 -0400"  >&lt;p&gt;To test, pull in the changes from &lt;a href=&quot;https://github.com/wildfly/wildfly/pull/6097&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://github.com/wildfly/wildfly/pull/6097&lt;/a&gt; and patched/master build of Weld.&lt;/p&gt;</comment>
                            <comment id="12959046" author="rhusar" created="Thu, 3 Apr 2014 13:31:27 -0400"  >&lt;p&gt;Unfortunately, this will make it in with the Weld 2.2 upgrade in WildFly 9.&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10012">
                    <name>Dependency</name>
                                            <outwardlinks description="is blocked by">
                                        <issuelink>
            <issuekey id="12536368">WELD-1635</issuekey>
        </issuelink>
            <issuelink>
            <issuekey id="12536376">WFLY-3186</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="12381251" name="translator.zip" size="10692" author="tremes" created="Thu, 20 Mar 2014 10:10:26 -0400"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310641" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Number of attachments</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310640" key="com.atlassian.jira.toolkit:comments">
                        <customfieldname>Number of comments</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>6.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12311940" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1|hzmwlz:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310840" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>193868</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                    </customfields>
    </item>
</channel>
</rss>