<!-- 
RSS generated by JIRA (7.2.3#72005-sha1:73be91d2b96fc29303a7eb6820acf420e5d0ed65) at Tue Dec 06 14:51:52 EST 2016

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary add field=key&field=summary to the URL of your request.
For example:
https://issues.jboss.org/si/jira.issueviews:issue-xml/WFLY-5564/WFLY-5564.xml?field=key&amp;field=summary
-->
<rss version="0.92" >
<channel>
    <title>JBoss Issue Tracker</title>
    <link>https://issues.jboss.org</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-us</language>    <build-info>
        <version>7.2.3</version>
        <build-number>72005</build-number>
        <build-date>06-10-2016</build-date>
    </build-info>

<item>
            <title>[WFLY-5564] Unable to set use-journal-store if use-jdbc-store was set to true before</title>
                <link>https://issues.jboss.org/browse/WFLY-5564</link>
                <project id="12313721" key="WFLY">WildFly</project>
                    <description>&lt;p&gt;It is impossible to set use-journal-store or use-jdbc-store after other was set. The other has to have its default value, although setting it back to its default value won&apos;t help.&lt;/p&gt;</description>
                <environment>&lt;p&gt;EAP 7.0.0.DR11&lt;/p&gt;</environment>
        <key id="12588363">WFLY-5564</key>
            <summary>Unable to set use-journal-store if use-jdbc-store was set to true before</summary>
                <type id="1" iconUrl="https://issues.jboss.org/secure/viewavatar?size=xsmall&amp;avatarId=13263&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.jboss.org/images/icons/priorities/major.svg">Major</priority>
                        <status id="5" iconUrl="https://issues.jboss.org/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Done</resolution>
                                        <assignee username="thofman">Tomas Hofman</assignee>
                                    <reporter username="jkasik">Jan Ka&#353;&#237;k</reporter>
                        <labels>
                    </labels>
                <created>Fri, 9 Oct 2015 06:28:40 -0400</created>
                <updated>Wed, 18 Nov 2015 09:28:32 -0500</updated>
                            <resolved>Wed, 18 Nov 2015 05:27:31 -0500</resolved>
                                    <version>10.0.0.CR3</version>
                                    <fixVersion>10.0.0.CR5</fixVersion>
                                    <component>Transactions</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>4</watches>
                                                                <comments>
                            <comment id="13120867" author="thofman" created="Thu, 22 Oct 2015 05:24:49 -0400"  >&lt;p&gt;In addition to the problem described in &quot;Steps to Reproduce&quot;, there is another problem, allowing user to set USE_JDBC_STORE without setting JDBC_STORE_DATASOURCE which results in failures during restart.&lt;/p&gt;

&lt;p&gt;I&apos;m solving both problems in this issue, because they are related. Test cases for both problems will be provided.&lt;/p&gt;

&lt;p&gt;See linked JBEAP issue for more details.&lt;/p&gt;</comment>
                            <comment id="13120873" author="thofman" created="Thu, 22 Oct 2015 05:28:28 -0400"  >&lt;p&gt;This was moved from HAL to WFLY as it&apos;s not related to HAL and can as well be reproduced with CLI.&lt;/p&gt;</comment>
                            <comment id="13122037" author="brian.stansberry" created="Mon, 26 Oct 2015 12:20:11 -0400"  >&lt;p&gt;Tomas and I had a chat about this issue a week or so ago and I promised to comment here with a few notes just to record publicly what we discussed. Took me a while, but here goes...&lt;/p&gt;

&lt;p&gt;First, the &quot;requires&quot; and &quot;alternatives&quot; metadata on attributes is handled by the kernel on the basis of whether an attribute is &lt;b&gt;defined&lt;/b&gt;, not on the basis of any particular value, e.g. &apos;true&apos; for a boolean attribute. That means using setAlternatives and setRequires on these &apos;store&apos; attributes is not good, as it precludes setting values to &apos;false&apos; without having the automatic verification added in WF 10 (core 2.0) reject requests.&lt;/p&gt;

&lt;p&gt;Instead it&apos;s better to have the relevant handlers add a step that does custom validation of constraints, e.g. that jdbc-store-datasource must be set if use-jdbc-store is true.&lt;/p&gt;

&lt;p&gt;OTOH, in the reverse case there&apos;s no logical requirement that use-jdbc-store is true if jdbc-store-datasource is defined. If it&apos;s not true that just means the datasource name is cruft. Being lenient about accepting cruft like that has the advantage though of letting users first set the jdbc-store-datasource and then set  use-jdbc-store=true without having to use a batch. So, we&apos;ll be lenient.&lt;/p&gt;

&lt;p&gt;I&apos;ll think about enhancing the kernel to handle more sophisticated behavior for alternatives/requires, but that can&apos;t and shouldn&apos;t block this work.&lt;/p&gt;</comment>
                            <comment id="13130145" author="thofman" created="Wed, 18 Nov 2015 05:28:10 -0500"  >&lt;p&gt;Merged in 10.0.0.CR5-SNAPSHOT&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="12310120">
                    <name>Cloners</name>
                                                                <inwardlinks description="cloned to">
                                        <issuelink>
            <issuekey id="12588367">JBEAP-1354</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="org.jboss.labs.jira.plugin.jboss-custom-field-types-plugin:multiurl">
                        <customfieldname>Git Pull Request</customfieldname>
                        <customfieldvalues>
                            https://github.com/wildfly/wildfly/pull/8327
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12310641" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Number of attachments</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310640" key="com.atlassian.jira.toolkit:comments">
                        <customfieldname>Number of comments</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>4.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12311940" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1|hzz673:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310840" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                            <customfield id="customfield_12310183" key="com.atlassian.jira.plugin.system.customfieldtypes:textarea">
                        <customfieldname>Steps to Reproduce</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>&lt;ol&gt;
	&lt;li&gt;navigate to transactions subsystem&lt;/li&gt;
	&lt;li&gt;set Use journal store to true on Attributes sub tab and save&lt;/li&gt;
	&lt;li&gt;restart servers for effective setting as it is written in help&lt;/li&gt;
	&lt;li&gt;refresh browser and navigate to transactions subsystem&lt;/li&gt;
	&lt;li&gt;set Use journal store to false on Attributes sub tab and save&lt;/li&gt;
	&lt;li&gt;restart servers for effective setting as it is written in help&lt;/li&gt;
	&lt;li&gt;refresh browser and navigate to transactions subsystem&lt;/li&gt;
	&lt;li&gt;set Use jdbc store to true on JDBC sub tab&lt;/li&gt;
	&lt;li&gt;hit Save -&amp;gt; error appears&lt;/li&gt;
&lt;/ol&gt;
</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                            </customfields>
    </item>
</channel>
</rss>