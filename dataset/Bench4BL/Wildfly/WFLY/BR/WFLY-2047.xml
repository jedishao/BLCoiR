<!-- 
RSS generated by JIRA (7.2.3#72005-sha1:73be91d2b96fc29303a7eb6820acf420e5d0ed65) at Tue Dec 06 15:04:40 EST 2016

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary add field=key&field=summary to the URL of your request.
For example:
https://issues.jboss.org/si/jira.issueviews:issue-xml/WFLY-2047/WFLY-2047.xml?field=key&amp;field=summary
-->
<rss version="0.92" >
<channel>
    <title>JBoss Issue Tracker</title>
    <link>https://issues.jboss.org</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-us</language>    <build-info>
        <version>7.2.3</version>
        <build-number>72005</build-number>
        <build-date>06-10-2016</build-date>
    </build-info>

<item>
            <title>[WFLY-2047] testConnection should account for deployment classloader</title>
                <link>https://issues.jboss.org/browse/WFLY-2047</link>
                <project id="12313721" key="WFLY">WildFly</project>
                    <description>&lt;p&gt;If a DataSource is created as following:&lt;br/&gt;
++++++++++++++++&lt;br/&gt;
	&amp;lt;datasource jndi-name=&quot;java:jboss/datasources/test_pool&quot; pool-name=&quot;test_pool&quot; enabled=&quot;true&quot; use-java-context=&quot;true&quot;&amp;gt;&lt;br/&gt;
               &amp;lt;connection-url&amp;gt;jdbc:oracle:thin:@ldap://example.com:3060/test,cn=OracleA,dc=worldA&amp;lt;/connection-url&amp;gt;&lt;br/&gt;
               &amp;lt;driver&amp;gt;oracle&amp;lt;/driver&amp;gt;&lt;br/&gt;
               &amp;lt;pool&amp;gt;&lt;br/&gt;
                     &amp;lt;min-pool-size&amp;gt;1&amp;lt;/min-pool-size&amp;gt;&lt;br/&gt;
                     &amp;lt;max-pool-size&amp;gt;15&amp;lt;/max-pool-size&amp;gt;&lt;br/&gt;
               &amp;lt;/pool&amp;gt;&lt;br/&gt;
               &amp;lt;security&amp;gt;&lt;br/&gt;
                   &amp;lt;user-name&amp;gt;Test&amp;lt;/user-name&amp;gt;&lt;br/&gt;
                   &amp;lt;password&amp;gt;testPassword&amp;lt;/password&amp;gt;&lt;br/&gt;
              &amp;lt;/security&amp;gt;&lt;br/&gt;
       &amp;lt;/datasource&amp;gt;&lt;/p&gt;

&lt;p&gt;       &amp;lt;drivers&amp;gt;&lt;br/&gt;
             &amp;lt;driver name=&quot;oracle&quot; module=&quot;com.oracle.jdbc6&quot;&amp;gt;&lt;br/&gt;
               &amp;lt;driver-class&amp;gt;oracle.jdbc.driver.OracleDriver&amp;lt;/driver-class&amp;gt;&lt;br/&gt;
             &amp;lt;/driver&amp;gt;&lt;br/&gt;
             &amp;lt;driver name=&quot;h2&quot; module=&quot;com.h2database.h2&quot;&amp;gt;&lt;br/&gt;
               &amp;lt;xa-datasource-class&amp;gt;org.h2.jdbcx.JdbcDataSource&amp;lt;/xa-datasource-class&amp;gt;&lt;br/&gt;
             &amp;lt;/driver&amp;gt;&lt;br/&gt;
       &amp;lt;/drivers&amp;gt;&lt;br/&gt;
++++++++++++++++&lt;/p&gt;

&lt;p&gt;Then while testing the DataSource the Wildfly throws the following Exception:&lt;/p&gt;

&lt;p&gt;+++++++++++++++++++++&lt;br/&gt;
16:47:10,498 WARN  &lt;span class=&quot;error&quot;&gt;&amp;#91;org.jboss.jca.core.connectionmanager.pool.strategy.OnePool&amp;#93;&lt;/span&gt; (management-handler-thread - 3) IJ000604: Throwable while attempting to get a new connection: null: javax.resource.ResourceException: Could not create connection&lt;br/&gt;
	at org.jboss.jca.adapters.jdbc.local.LocalManagedConnectionFactory.getLocalManagedConnection(LocalManagedConnectionFactory.java:282) &lt;span class=&quot;error&quot;&gt;&amp;#91;ironjacamar-jdbc-1.0.17.Final.jar:1.0.17.Final&amp;#93;&lt;/span&gt;&lt;br/&gt;
	at org.jboss.jca.adapters.jdbc.local.LocalManagedConnectionFactory.createManagedConnection(LocalManagedConnectionFactory.java:240) &lt;span class=&quot;error&quot;&gt;&amp;#91;ironjacamar-jdbc-1.0.17.Final.jar:1.0.17.Final&amp;#93;&lt;/span&gt;&lt;br/&gt;
	at org.jboss.jca.core.connectionmanager.pool.mcp.SemaphoreArrayListManagedConnectionPool.createConnectionEventListener(SemaphoreArrayListManagedConnectionPool.java:781) &lt;span class=&quot;error&quot;&gt;&amp;#91;ironjacamar-core-impl-1.0.17.Final.jar:1.0.17.Final&amp;#93;&lt;/span&gt;&lt;br/&gt;
	at org.jboss.jca.core.connectionmanager.pool.mcp.SemaphoreArrayListManagedConnectionPool.getConnection(SemaphoreArrayListManagedConnectionPool.java:344) &lt;span class=&quot;error&quot;&gt;&amp;#91;ironjacamar-core-impl-1.0.17.Final.jar:1.0.17.Final&amp;#93;&lt;/span&gt;&lt;br/&gt;
	at org.jboss.jca.core.connectionmanager.pool.AbstractPool.getSimpleConnection(AbstractPool.java:397) &lt;span class=&quot;error&quot;&gt;&amp;#91;ironjacamar-core-impl-1.0.17.Final.jar:1.0.17.Final&amp;#93;&lt;/span&gt;&lt;br/&gt;
	at org.jboss.jca.core.connectionmanager.pool.AbstractPool.getConnection(AbstractPool.java:365) &lt;span class=&quot;error&quot;&gt;&amp;#91;ironjacamar-core-impl-1.0.17.Final.jar:1.0.17.Final&amp;#93;&lt;/span&gt;&lt;br/&gt;
	at org.jboss.jca.core.connectionmanager.pool.AbstractPool.internalTestConnection(AbstractPool.java:627) &lt;span class=&quot;error&quot;&gt;&amp;#91;ironjacamar-core-impl-1.0.17.Final.jar:1.0.17.Final&amp;#93;&lt;/span&gt;&lt;br/&gt;
	at org.jboss.jca.core.connectionmanager.pool.strategy.OnePool.testConnection(OnePool.java:89) &lt;span class=&quot;error&quot;&gt;&amp;#91;ironjacamar-core-impl-1.0.17.Final.jar:1.0.17.Final&amp;#93;&lt;/span&gt;&lt;br/&gt;
	at org.jboss.as.connector.subsystems.common.pool.PoolOperations$TestConnectionInPool.invokeCommandOn(PoolOperations.java:143) &lt;span class=&quot;error&quot;&gt;&amp;#91;jboss-as-connector-7.3.0.Final-redhat-X-SNAPSHOT.jar:7.3.0.Final-redhat-X-SNAPSHOT&amp;#93;&lt;/span&gt;&lt;br/&gt;
	at org.jboss.as.connector.subsystems.common.pool.PoolOperations$1.execute(PoolOperations.java:82) &lt;span class=&quot;error&quot;&gt;&amp;#91;jboss-as-connector-7.3.0.Final-redhat-X-SNAPSHOT.jar:7.3.0.Final-redhat-X-SNAPSHOT&amp;#93;&lt;/span&gt;&lt;br/&gt;
	at org.jboss.as.controller.AbstractOperationContext.executeStep(AbstractOperationContext.java:440) &lt;span class=&quot;error&quot;&gt;&amp;#91;jboss-as-controller-7.3.0.Final-redhat-X-SNAPSHOT.jar:7.3.0.Final-redhat-X-SNAPSHOT&amp;#93;&lt;/span&gt;&lt;br/&gt;
	at org.jboss.as.controller.AbstractOperationContext.doCompleteStep(AbstractOperationContext.java:322) &lt;span class=&quot;error&quot;&gt;&amp;#91;jboss-as-controller-7.3.0.Final-redhat-X-SNAPSHOT.jar:7.3.0.Final-redhat-X-SNAPSHOT&amp;#93;&lt;/span&gt;&lt;br/&gt;
	at org.jboss.as.controller.AbstractOperationContext.completeStepInternal(AbstractOperationContext.java:229) &lt;span class=&quot;error&quot;&gt;&amp;#91;jboss-as-controller-7.3.0.Final-redhat-X-SNAPSHOT.jar:7.3.0.Final-redhat-X-SNAPSHOT&amp;#93;&lt;/span&gt;&lt;br/&gt;
	at org.jboss.as.controller.AbstractOperationContext.executeOperation(AbstractOperationContext.java:224) &lt;span class=&quot;error&quot;&gt;&amp;#91;jboss-as-controller-7.3.0.Final-redhat-X-SNAPSHOT.jar:7.3.0.Final-redhat-X-SNAPSHOT&amp;#93;&lt;/span&gt;&lt;br/&gt;
	at org.jboss.as.controller.ModelControllerImpl.internalExecute(ModelControllerImpl.java:194) &lt;span class=&quot;error&quot;&gt;&amp;#91;jboss-as-controller-7.3.0.Final-redhat-X-SNAPSHOT.jar:7.3.0.Final-redhat-X-SNAPSHOT&amp;#93;&lt;/span&gt;&lt;br/&gt;
	at org.jboss.as.controller.ModelControllerImpl.execute(ModelControllerImpl.java:115) &lt;span class=&quot;error&quot;&gt;&amp;#91;jboss-as-controller-7.3.0.Final-redhat-X-SNAPSHOT.jar:7.3.0.Final-redhat-X-SNAPSHOT&amp;#93;&lt;/span&gt;&lt;br/&gt;
	at org.jboss.as.controller.remote.ModelControllerClientOperationHandler$ExecuteRequestHandler.doExecute(ModelControllerClientOperationHandler.java:139) &lt;span class=&quot;error&quot;&gt;&amp;#91;jboss-as-controller-7.3.0.Final-redhat-X-SNAPSHOT.jar:7.3.0.Final-redhat-X-SNAPSHOT&amp;#93;&lt;/span&gt;&lt;br/&gt;
	at org.jboss.as.controller.remote.ModelControllerClientOperationHandler$ExecuteRequestHandler$1.execute(ModelControllerClientOperationHandler.java:108) &lt;span class=&quot;error&quot;&gt;&amp;#91;jboss-as-controller-7.3.0.Final-redhat-X-SNAPSHOT.jar:7.3.0.Final-redhat-X-SNAPSHOT&amp;#93;&lt;/span&gt;&lt;br/&gt;
	at org.jboss.as.protocol.mgmt.AbstractMessageHandler$2$1.doExecute(AbstractMessageHandler.java:296)&lt;br/&gt;
	at org.jboss.as.protocol.mgmt.AbstractMessageHandler$AsyncTaskRunner.run(AbstractMessageHandler.java:518)&lt;br/&gt;
	at java.util.concurrent.ThreadPoolExecutor$Worker.runTask(ThreadPoolExecutor.java:886) &lt;span class=&quot;error&quot;&gt;&amp;#91;rt.jar:1.6.0_21&amp;#93;&lt;/span&gt;&lt;br/&gt;
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:908) &lt;span class=&quot;error&quot;&gt;&amp;#91;rt.jar:1.6.0_21&amp;#93;&lt;/span&gt;&lt;br/&gt;
	at java.lang.Thread.run(Thread.java:619) &lt;span class=&quot;error&quot;&gt;&amp;#91;rt.jar:1.6.0_21&amp;#93;&lt;/span&gt;&lt;br/&gt;
	at org.jboss.threads.JBossThread.run(JBossThread.java:122) &lt;span class=&quot;error&quot;&gt;&amp;#91;jboss-threads-2.1.0.Final.jar:2.1.0.Final&amp;#93;&lt;/span&gt;&lt;br/&gt;
Caused by: java.sql.SQLRecoverableException: Io exception: JNDI Package failurejavax.naming.NamingException: JBAS011843: Failed instantiate InitialContextFactory com.sun.jndi.ldap.LdapCtxFactory from classloader ModuleClassLoader for Module &quot;org.jboss.as.connector:main&quot; from local module loader @571a75a2 (finder: local module finder @a210b5b (roots: /home/jsensharma/NotBackedUp/SVN_16_Jan/EAP6_Main/build_wildfly/jboss-as-7.3.0.Final-redhat-X-SNAPSHOT/modules,/home/jsensharma/NotBackedUp/SVN_16_Jan/EAP6_Main/build_wildfly/jboss-as-7.3.0.Final-redhat-X-SNAPSHOT/modules/system/layers/base))&lt;br/&gt;
	at oracle.jdbc.driver.SQLStateMapping.newSQLException(SQLStateMapping.java:101)&lt;br/&gt;
	at oracle.jdbc.driver.DatabaseError.newSQLException(DatabaseError.java:112)&lt;br/&gt;
	at oracle.jdbc.driver.DatabaseError.throwSqlException(DatabaseError.java:173)&lt;br/&gt;
	at oracle.jdbc.driver.DatabaseError.throwSqlException(DatabaseError.java:229)&lt;br/&gt;
	at oracle.jdbc.driver.DatabaseError.throwSqlException(DatabaseError.java:458)&lt;br/&gt;
	at oracle.jdbc.driver.T4CConnection.logon(T4CConnection.java:411)&lt;br/&gt;
	at oracle.jdbc.driver.PhysicalConnection.&amp;lt;init&amp;gt;(PhysicalConnection.java:490)&lt;br/&gt;
	at oracle.jdbc.driver.T4CConnection.&amp;lt;init&amp;gt;(T4CConnection.java:202)&lt;br/&gt;
	at oracle.jdbc.driver.T4CDriverExtension.getConnection(T4CDriverExtension.java:33)&lt;br/&gt;
	at oracle.jdbc.driver.OracleDriver.connect(OracleDriver.java:474)&lt;br/&gt;
	at org.jboss.jca.adapters.jdbc.local.LocalManagedConnectionFactory.getLocalManagedConnection(LocalManagedConnectionFactory.java:254) &lt;span class=&quot;error&quot;&gt;&amp;#91;ironjacamar-jdbc-1.0.17.Final.jar:1.0.17.Final&amp;#93;&lt;/span&gt;&lt;/p&gt;

&lt;p&gt;++++++++++++++++++++++&lt;/p&gt;</description>
                <environment>&lt;p&gt;All &lt;/p&gt;</environment>
        <key id="12500491">WFLY-2047</key>
            <summary>testConnection should account for deployment classloader</summary>
                <type id="1" iconUrl="https://issues.jboss.org/secure/viewavatar?size=xsmall&amp;avatarId=13263&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.jboss.org/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.jboss.org/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Done</resolution>
                                        <assignee username="maeste">Stefano Maestri</assignee>
                                    <reporter username="jaysensharma">Jay SenSharma</reporter>
                        <labels>
                    </labels>
                <created>Wed, 11 Sep 2013 07:22:32 -0400</created>
                <updated>Fri, 8 Jan 2016 06:13:45 -0500</updated>
                            <resolved>Thu, 13 Nov 2014 10:27:47 -0500</resolved>
                                    <version>8.0.0.Alpha4</version>
                                    <fixVersion>9.0.0.Beta1</fixVersion>
                                    <component>JCA</component>
                        <due></due>
                            <votes>1</votes>
                                    <watches>8</watches>
                                                                <comments>
                            <comment id="12803697" author="jira-bugzilla-migration" created="Thu, 12 Sep 2013 00:59:28 -0400"  >&lt;p&gt;Jay SenSharma &amp;lt;jsenshar@redhat.com&amp;gt; made a comment on &lt;a href=&quot;https://bugzilla.redhat.com/show_bug.cgi?id=1007181&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;bug 1007181&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Description of problem:&lt;br/&gt;
------------------------&lt;/p&gt;



&lt;p&gt;If a DataSource is created as following:&lt;br/&gt;
++++++++++++++++&lt;br/&gt;
&amp;lt;datasource jndi-name=&quot;java:jboss/datasources/test_pool&quot; pool-name=&quot;test_pool&quot; enabled=&quot;true&quot; use-java-context=&quot;true&quot;&amp;gt;&lt;br/&gt;
&amp;lt;connection-url&amp;gt;jdbc:oracle:thin:@ldap://example.com:3060/test,cn=OracleA,dc=worldA&amp;lt;/connection-url&amp;gt;&lt;br/&gt;
&amp;lt;driver&amp;gt;oracle&amp;lt;/driver&amp;gt;&lt;br/&gt;
&amp;lt;pool&amp;gt;&lt;br/&gt;
&amp;lt;min-pool-size&amp;gt;1&amp;lt;/min-pool-size&amp;gt;&lt;br/&gt;
&amp;lt;max-pool-size&amp;gt;15&amp;lt;/max-pool-size&amp;gt;&lt;br/&gt;
&amp;lt;/pool&amp;gt;&lt;br/&gt;
&amp;lt;security&amp;gt;&lt;br/&gt;
&amp;lt;user-name&amp;gt;Test&amp;lt;/user-name&amp;gt;&lt;br/&gt;
&amp;lt;password&amp;gt;testPassword&amp;lt;/password&amp;gt;&lt;br/&gt;
&amp;lt;/security&amp;gt;&lt;br/&gt;
&amp;lt;/datasource&amp;gt;&lt;/p&gt;

&lt;p&gt;&amp;lt;drivers&amp;gt;&lt;br/&gt;
&amp;lt;driver name=&quot;oracle&quot; module=&quot;com.oracle.jdbc6&quot;&amp;gt;&lt;br/&gt;
&amp;lt;driver-class&amp;gt;oracle.jdbc.driver.OracleDriver&amp;lt;/driver-class&amp;gt;&lt;br/&gt;
&amp;lt;/driver&amp;gt;&lt;br/&gt;
&amp;lt;driver name=&quot;h2&quot; module=&quot;com.h2database.h2&quot;&amp;gt;&lt;br/&gt;
&amp;lt;xa-datasource-class&amp;gt;org.h2.jdbcx.JdbcDataSource&amp;lt;/xa-datasource-class&amp;gt;&lt;br/&gt;
&amp;lt;/driver&amp;gt;&lt;br/&gt;
&amp;lt;/drivers&amp;gt;&lt;br/&gt;
++++++++++++++++&lt;/p&gt;

&lt;p&gt;Then while testing the DataSource the Wildfly throws the following Exception:&lt;/p&gt;

&lt;p&gt;+++++++++++++++++++++&lt;br/&gt;
16:47:10,498 WARN &lt;span class=&quot;error&quot;&gt;&amp;#91;org.jboss.jca.core.connectionmanager.pool.strategy.OnePool&amp;#93;&lt;/span&gt; (management-handler-thread - 3) IJ000604: Throwable while attempting to get a new connection: null: javax.resource.ResourceException: Could not create connection&lt;br/&gt;
at org.jboss.jca.adapters.jdbc.local.LocalManagedConnectionFactory.getLocalManagedConnection(LocalManagedConnectionFactory.java:282) &lt;span class=&quot;error&quot;&gt;&amp;#91;ironjacamar-jdbc-1.0.17.Final.jar:1.0.17.Final&amp;#93;&lt;/span&gt;&lt;br/&gt;
at org.jboss.jca.adapters.jdbc.local.LocalManagedConnectionFactory.createManagedConnection(LocalManagedConnectionFactory.java:240) &lt;span class=&quot;error&quot;&gt;&amp;#91;ironjacamar-jdbc-1.0.17.Final.jar:1.0.17.Final&amp;#93;&lt;/span&gt;&lt;br/&gt;
at org.jboss.jca.core.connectionmanager.pool.mcp.SemaphoreArrayListManagedConnectionPool.createConnectionEventListener(SemaphoreArrayListManagedConnectionPool.java:781) &lt;span class=&quot;error&quot;&gt;&amp;#91;ironjacamar-core-impl-1.0.17.Final.jar:1.0.17.Final&amp;#93;&lt;/span&gt;&lt;br/&gt;
at org.jboss.jca.core.connectionmanager.pool.mcp.SemaphoreArrayListManagedConnectionPool.getConnection(SemaphoreArrayListManagedConnectionPool.java:344) &lt;span class=&quot;error&quot;&gt;&amp;#91;ironjacamar-core-impl-1.0.17.Final.jar:1.0.17.Final&amp;#93;&lt;/span&gt;&lt;br/&gt;
at org.jboss.jca.core.connectionmanager.pool.AbstractPool.getSimpleConnection(AbstractPool.java:397) &lt;span class=&quot;error&quot;&gt;&amp;#91;ironjacamar-core-impl-1.0.17.Final.jar:1.0.17.Final&amp;#93;&lt;/span&gt;&lt;br/&gt;
at org.jboss.jca.core.connectionmanager.pool.AbstractPool.getConnection(AbstractPool.java:365) &lt;span class=&quot;error&quot;&gt;&amp;#91;ironjacamar-core-impl-1.0.17.Final.jar:1.0.17.Final&amp;#93;&lt;/span&gt;&lt;br/&gt;
at org.jboss.jca.core.connectionmanager.pool.AbstractPool.internalTestConnection(AbstractPool.java:627) &lt;span class=&quot;error&quot;&gt;&amp;#91;ironjacamar-core-impl-1.0.17.Final.jar:1.0.17.Final&amp;#93;&lt;/span&gt;&lt;br/&gt;
at org.jboss.jca.core.connectionmanager.pool.strategy.OnePool.testConnection(OnePool.java:89) &lt;span class=&quot;error&quot;&gt;&amp;#91;ironjacamar-core-impl-1.0.17.Final.jar:1.0.17.Final&amp;#93;&lt;/span&gt;&lt;br/&gt;
at org.jboss.as.connector.subsystems.common.pool.PoolOperations$TestConnectionInPool.invokeCommandOn(PoolOperations.java:143) &lt;span class=&quot;error&quot;&gt;&amp;#91;jboss-as-connector-7.3.0.Final-redhat-X-SNAPSHOT.jar:7.3.0.Final-redhat-X-SNAPSHOT&amp;#93;&lt;/span&gt;&lt;br/&gt;
at org.jboss.as.connector.subsystems.common.pool.PoolOperations$1.execute(PoolOperations.java:82) &lt;span class=&quot;error&quot;&gt;&amp;#91;jboss-as-connector-7.3.0.Final-redhat-X-SNAPSHOT.jar:7.3.0.Final-redhat-X-SNAPSHOT&amp;#93;&lt;/span&gt;&lt;br/&gt;
at org.jboss.as.controller.AbstractOperationContext.executeStep(AbstractOperationContext.java:440) &lt;span class=&quot;error&quot;&gt;&amp;#91;jboss-as-controller-7.3.0.Final-redhat-X-SNAPSHOT.jar:7.3.0.Final-redhat-X-SNAPSHOT&amp;#93;&lt;/span&gt;&lt;br/&gt;
at org.jboss.as.controller.AbstractOperationContext.doCompleteStep(AbstractOperationContext.java:322) &lt;span class=&quot;error&quot;&gt;&amp;#91;jboss-as-controller-7.3.0.Final-redhat-X-SNAPSHOT.jar:7.3.0.Final-redhat-X-SNAPSHOT&amp;#93;&lt;/span&gt;&lt;br/&gt;
at org.jboss.as.controller.AbstractOperationContext.completeStepInternal(AbstractOperationContext.java:229) &lt;span class=&quot;error&quot;&gt;&amp;#91;jboss-as-controller-7.3.0.Final-redhat-X-SNAPSHOT.jar:7.3.0.Final-redhat-X-SNAPSHOT&amp;#93;&lt;/span&gt;&lt;br/&gt;
at org.jboss.as.controller.AbstractOperationContext.executeOperation(AbstractOperationContext.java:224) &lt;span class=&quot;error&quot;&gt;&amp;#91;jboss-as-controller-7.3.0.Final-redhat-X-SNAPSHOT.jar:7.3.0.Final-redhat-X-SNAPSHOT&amp;#93;&lt;/span&gt;&lt;br/&gt;
at org.jboss.as.controller.ModelControllerImpl.internalExecute(ModelControllerImpl.java:194) &lt;span class=&quot;error&quot;&gt;&amp;#91;jboss-as-controller-7.3.0.Final-redhat-X-SNAPSHOT.jar:7.3.0.Final-redhat-X-SNAPSHOT&amp;#93;&lt;/span&gt;&lt;br/&gt;
at org.jboss.as.controller.ModelControllerImpl.execute(ModelControllerImpl.java:115) &lt;span class=&quot;error&quot;&gt;&amp;#91;jboss-as-controller-7.3.0.Final-redhat-X-SNAPSHOT.jar:7.3.0.Final-redhat-X-SNAPSHOT&amp;#93;&lt;/span&gt;&lt;br/&gt;
at org.jboss.as.controller.remote.ModelControllerClientOperationHandler$ExecuteRequestHandler.doExecute(ModelControllerClientOperationHandler.java:139) &lt;span class=&quot;error&quot;&gt;&amp;#91;jboss-as-controller-7.3.0.Final-redhat-X-SNAPSHOT.jar:7.3.0.Final-redhat-X-SNAPSHOT&amp;#93;&lt;/span&gt;&lt;br/&gt;
at org.jboss.as.controller.remote.ModelControllerClientOperationHandler$ExecuteRequestHandler$1.execute(ModelControllerClientOperationHandler.java:108) &lt;span class=&quot;error&quot;&gt;&amp;#91;jboss-as-controller-7.3.0.Final-redhat-X-SNAPSHOT.jar:7.3.0.Final-redhat-X-SNAPSHOT&amp;#93;&lt;/span&gt;&lt;br/&gt;
at org.jboss.as.protocol.mgmt.AbstractMessageHandler$2$1.doExecute(AbstractMessageHandler.java:296)&lt;br/&gt;
at org.jboss.as.protocol.mgmt.AbstractMessageHandler$AsyncTaskRunner.run(AbstractMessageHandler.java:518)&lt;br/&gt;
at java.util.concurrent.ThreadPoolExecutor$Worker.runTask(ThreadPoolExecutor.java:886) &lt;span class=&quot;error&quot;&gt;&amp;#91;rt.jar:1.6.0_21&amp;#93;&lt;/span&gt;&lt;br/&gt;
at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:908) &lt;span class=&quot;error&quot;&gt;&amp;#91;rt.jar:1.6.0_21&amp;#93;&lt;/span&gt;&lt;br/&gt;
at java.lang.Thread.run(Thread.java:619) &lt;span class=&quot;error&quot;&gt;&amp;#91;rt.jar:1.6.0_21&amp;#93;&lt;/span&gt;&lt;br/&gt;
at org.jboss.threads.JBossThread.run(JBossThread.java:122) &lt;span class=&quot;error&quot;&gt;&amp;#91;jboss-threads-2.1.0.Final.jar:2.1.0.Final&amp;#93;&lt;/span&gt;&lt;br/&gt;
Caused by: java.sql.SQLRecoverableException: Io exception: JNDI Package failurejavax.naming.NamingException: JBAS011843: Failed instantiate InitialContextFactory com.sun.jndi.ldap.LdapCtxFactory from classloader ModuleClassLoader for Module &quot;org.jboss.as.connector:main&quot; from local module loader @571a75a2 (finder: local module finder @a210b5b (roots: /home/jsensharma/NotBackedUp/SVN_16_Jan/EAP6_Main/build_wildfly/jboss-as-7.3.0.Final-redhat-X-SNAPSHOT/modules,/home/jsensharma/NotBackedUp/SVN_16_Jan/EAP6_Main/build_wildfly/jboss-as-7.3.0.Final-redhat-X-SNAPSHOT/modules/system/layers/base))&lt;br/&gt;
at oracle.jdbc.driver.SQLStateMapping.newSQLException(SQLStateMapping.java:101)&lt;br/&gt;
at oracle.jdbc.driver.DatabaseError.newSQLException(DatabaseError.java:112)&lt;br/&gt;
at oracle.jdbc.driver.DatabaseError.throwSqlException(DatabaseError.java:173)&lt;br/&gt;
at oracle.jdbc.driver.DatabaseError.throwSqlException(DatabaseError.java:229)&lt;br/&gt;
at oracle.jdbc.driver.DatabaseError.throwSqlException(DatabaseError.java:458)&lt;br/&gt;
at oracle.jdbc.driver.T4CConnection.logon(T4CConnection.java:411)&lt;br/&gt;
at oracle.jdbc.driver.PhysicalConnection.&amp;lt;init&amp;gt;(PhysicalConnection.java:490)&lt;br/&gt;
at oracle.jdbc.driver.T4CConnection.&amp;lt;init&amp;gt;(T4CConnection.java:202)&lt;br/&gt;
at oracle.jdbc.driver.T4CDriverExtension.getConnection(T4CDriverExtension.java:33)&lt;br/&gt;
at oracle.jdbc.driver.OracleDriver.connect(OracleDriver.java:474)&lt;br/&gt;
at org.jboss.jca.adapters.jdbc.local.LocalManagedConnectionFactory.getLocalManagedConnection(LocalManagedConnectionFactory.java:254) &lt;span class=&quot;error&quot;&gt;&amp;#91;ironjacamar-jdbc-1.0.17.Final.jar:1.0.17.Final&amp;#93;&lt;/span&gt;&lt;/p&gt;

&lt;p&gt;++++++++++++++++++++++&lt;/p&gt;



&lt;p&gt;Version-Release number of selected component (if applicable):&lt;/p&gt;


&lt;p&gt;How reproducible:&lt;br/&gt;
----------------&lt;/p&gt;




&lt;p&gt;Steps to Reproduce:&lt;br/&gt;
1. Create the above mentioned DataSource using the &quot;ldap://&quot; protocol in the &quot;connection-url&quot; attribute of the dataSource and then run the CLI command to test the DataSource connections.&lt;/p&gt;

&lt;p&gt;2.  /subsystem=datasources/data-source=test_pool:test-connection-in-pool&lt;/p&gt;

&lt;p&gt;3. Check JBoss Console  output to see the above error.&lt;/p&gt;

&lt;p&gt;Actual results:&lt;br/&gt;
See above exception&lt;/p&gt;


&lt;p&gt;Expected results:&lt;br/&gt;
 Test Connection from DataSource should have returned Successful results.&lt;/p&gt;

&lt;p&gt;Additional info:&lt;/p&gt;</comment>
                            <comment id="12803698" author="jira-bugzilla-migration" created="Thu, 12 Sep 2013 01:02:00 -0400"  >&lt;p&gt;Jay SenSharma &amp;lt;jsenshar@redhat.com&amp;gt; made a comment on &lt;a href=&quot;https://bugzilla.redhat.com/show_bug.cgi?id=1007181&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;bug 1007181&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Workaround :&lt;br/&gt;
############&lt;br/&gt;
Add the module dependency &quot;$JBOSS_HOME/modules/system/layers/base/org/jboss/as/connector/main/module.xml&quot;&quot; which needs to be dependent on the following module &amp;lt;module name=&quot;sun.jdk&quot;/&amp;gt;&lt;/p&gt;

&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;So alter the module &quot;org.jboss.as.connector&quot; and add the following dependencies to it :&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;&amp;lt;dependencies&amp;gt;&lt;br/&gt;
     &amp;lt;module name=&quot;sun.jdk&quot;/&amp;gt;&lt;br/&gt;
      .&lt;br/&gt;
      .&lt;br/&gt;
      .&lt;br/&gt;
&amp;lt;/dependencies&amp;gt;&lt;/p&gt;</comment>
                            <comment id="12803847" author="jesper.pedersen" created="Thu, 12 Sep 2013 08:28:22 -0400"  >&lt;p&gt;Why is LDAP leaking into JDBC ?&lt;/p&gt;</comment>
                            <comment id="12803876" author="jesper.pedersen" created="Thu, 12 Sep 2013 09:28:57 -0400"  >&lt;p&gt;&lt;a href=&quot;https://issues.jboss.org/secure/ViewProfile.jspa?name=darranl&quot; class=&quot;user-hover&quot; rel=&quot;darranl&quot;&gt;Darran Lofthouse&lt;/a&gt; Do you have input on this ?&lt;/p&gt;</comment>
                            <comment id="12803907" author="dlofthouse" created="Thu, 12 Sep 2013 10:09:34 -0400"  >&lt;p&gt;Hi Jesper, As this is how the Oracle connection is defined shouldn&apos;t it be the Oracle driver that has the dependency on sun.jdk ?&lt;/p&gt;</comment>
                            <comment id="12803909" author="jesper.pedersen" created="Thu, 12 Sep 2013 10:14:50 -0400"  >&lt;p&gt;See &lt;a href=&quot;https://issues.jboss.org/secure/ViewProfile.jspa?name=dlofthouse&quot; class=&quot;user-hover&quot; rel=&quot;dlofthouse&quot;&gt;Darran Lofthouse&lt;/a&gt; &apos;s comment - it is the Oracle module that needs the dependency if ldap is used in the url&lt;/p&gt;</comment>
                            <comment id="12803912" author="jaysensharma" created="Thu, 12 Sep 2013 10:23:09 -0400"  >&lt;p&gt;Oracle Module has the following dependency still the same issue occurs.&lt;/p&gt;</comment>
                            <comment id="12803913" author="jaysensharma" created="Thu, 12 Sep 2013 10:23:09 -0400"  >&lt;p&gt;Oracle Module has the following dependency still the same issue occurs.&lt;/p&gt;</comment>
                            <comment id="12803914" author="jaysensharma" created="Thu, 12 Sep 2013 10:23:27 -0400"  >&lt;p&gt;&amp;lt;?xml version=&quot;1.0&quot; ?&amp;gt;&lt;br/&gt;
&amp;lt;module xmlns=&quot;urn:jboss:module:1.1&quot; name=&quot;com.oracle.jdbc6&quot;&amp;gt;&lt;br/&gt;
    &amp;lt;resources&amp;gt;&lt;br/&gt;
        &amp;lt;resource-root path=&quot;ojdbc6.jar&quot;/&amp;gt;&lt;br/&gt;
    &amp;lt;/resources&amp;gt;&lt;br/&gt;
        &amp;lt;dependencies&amp;gt;&lt;br/&gt;
                &amp;lt;module name=&quot;javax.api&quot;/&amp;gt;&lt;br/&gt;
                &amp;lt;module name=&quot;sun.jdk&quot;/&amp;gt;&lt;br/&gt;
        &amp;lt;/dependencies&amp;gt;&lt;br/&gt;
&amp;lt;/module&amp;gt;&lt;/p&gt;</comment>
                            <comment id="12803917" author="jesper.pedersen" created="Thu, 12 Sep 2013 10:27:52 -0400"  >&lt;p&gt;Then it is a classloading or module dependency issue&lt;/p&gt;</comment>
                            <comment id="12803982" author="jaysensharma" created="Thu, 12 Sep 2013 13:47:41 -0400"  >&lt;p&gt;Reopening this issue and will try to change the component to Jboss classloading &lt;/p&gt;</comment>
                            <comment id="12804004" author="jesper.pedersen" created="Thu, 12 Sep 2013 15:25:03 -0400"  >&lt;p&gt;Changed the description to account for the real failure&lt;/p&gt;</comment>
                            <comment id="12939013" author="dmlloyd" created="Mon, 27 Jan 2014 10:19:33 -0500"  >&lt;p&gt;&lt;a href=&quot;https://github.com/wildfly/wildfly/pull/5785&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://github.com/wildfly/wildfly/pull/5785&lt;/a&gt; is a PR to revert the revert of the original workaround.  The underlying issue should still be investigated (it&apos;s probably just the connector subsystem not setting TCCL right frankly) but the workaround does no harm and allows things to function.&lt;/p&gt;</comment>
                            <comment id="12941020" author="jira-bugzilla-migration" created="Tue, 4 Feb 2014 01:23:49 -0500"  >&lt;p&gt;Jay SenSharma &amp;lt;jsenshar@redhat.com&amp;gt; changed the Status of &lt;a href=&quot;https://bugzilla.redhat.com/show_bug.cgi?id=1007181&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;bug 1007181&lt;/a&gt; from NEW to POST&lt;/p&gt;</comment>
                            <comment id="12941040" author="jira-bugzilla-migration" created="Tue, 4 Feb 2014 03:27:54 -0500"  >&lt;p&gt;Jay SenSharma &amp;lt;jsenshar@redhat.com&amp;gt; changed the Status of &lt;a href=&quot;https://bugzilla.redhat.com/show_bug.cgi?id=1060997&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;bug 1060997&lt;/a&gt; from NEW to POST&lt;/p&gt;</comment>
                            <comment id="12941630" author="jira-bugzilla-migration" created="Wed, 5 Feb 2014 13:44:15 -0500"  >&lt;p&gt;Kabir Khan &amp;lt;kkhan@redhat.com&amp;gt; changed the Status of &lt;a href=&quot;https://bugzilla.redhat.com/show_bug.cgi?id=1060997&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;bug 1060997&lt;/a&gt; from POST to MODIFIED&lt;/p&gt;</comment>
                            <comment id="12943676" author="jira-bugzilla-migration" created="Tue, 11 Feb 2014 18:53:12 -0500"  >&lt;p&gt;Paul Gier &amp;lt;pgier@redhat.com&amp;gt; changed the Status of &lt;a href=&quot;https://bugzilla.redhat.com/show_bug.cgi?id=1060997&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;bug 1060997&lt;/a&gt; from MODIFIED to ON_QA&lt;/p&gt;</comment>
                            <comment id="12945510" author="jira-bugzilla-migration" created="Tue, 18 Feb 2014 07:34:08 -0500"  >&lt;p&gt;Carlo de Wolf &amp;lt;cdewolf@redhat.com&amp;gt; changed the Status of &lt;a href=&quot;https://bugzilla.redhat.com/show_bug.cgi?id=1007181&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;bug 1007181&lt;/a&gt; from POST to MODIFIED&lt;/p&gt;</comment>
                            <comment id="12947372" author="jira-bugzilla-migration" created="Mon, 24 Feb 2014 09:22:59 -0500"  >&lt;p&gt;Jan Martiska &amp;lt;jmartisk@redhat.com&amp;gt; changed the Status of &lt;a href=&quot;https://bugzilla.redhat.com/show_bug.cgi?id=1060997&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;bug 1060997&lt;/a&gt; from ON_QA to VERIFIED&lt;/p&gt;</comment>
                            <comment id="12949068" author="jira-bugzilla-migration" created="Fri, 28 Feb 2014 12:24:08 -0500"  >&lt;p&gt;Vaclav Tunka &amp;lt;vtunka@redhat.com&amp;gt; changed the Status of &lt;a href=&quot;https://bugzilla.redhat.com/show_bug.cgi?id=1007181&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;bug 1007181&lt;/a&gt; from MODIFIED to ON_QA&lt;/p&gt;</comment>
                            <comment id="12950280" author="jira-bugzilla-migration" created="Wed, 5 Mar 2014 10:13:41 -0500"  >&lt;p&gt;Jan Martiska &amp;lt;jmartisk@redhat.com&amp;gt; changed the Status of &lt;a href=&quot;https://bugzilla.redhat.com/show_bug.cgi?id=1007181&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;bug 1007181&lt;/a&gt; from ON_QA to VERIFIED&lt;/p&gt;</comment>
                            <comment id="12972410" author="jira-bugzilla-migration" created="Mon, 2 Jun 2014 08:49:38 -0400"  >&lt;p&gt;mark yarborough &amp;lt;myarboro@redhat.com&amp;gt; changed the Status of &lt;a href=&quot;https://bugzilla.redhat.com/show_bug.cgi?id=1007181&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;bug 1007181&lt;/a&gt; from VERIFIED to CLOSED&lt;/p&gt;</comment>
                            <comment id="12980182" author="jira-bugzilla-migration" created="Sat, 28 Jun 2014 11:28:37 -0400"  >&lt;p&gt;mark yarborough &amp;lt;myarboro@redhat.com&amp;gt; changed the Status of &lt;a href=&quot;https://bugzilla.redhat.com/show_bug.cgi?id=1060997&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;bug 1060997&lt;/a&gt; from VERIFIED to CLOSED&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="12310001">
                    <name>Related</name>
                                            <outwardlinks description="relates to">
                                        <issuelink>
            <issuekey id="12598621">WFLY-5960</issuekey>
        </issuelink>
                            </outwardlinks>
                                                                <inwardlinks description="is related to">
                                        <issuelink>
            <issuekey id="12498026">WFLY-1834</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310440" key="org.jboss.labs.jira.plugin.jboss-custom-field-types-plugin:multiurl">
                        <customfieldname>Bugzilla References</customfieldname>
                        <customfieldvalues>
                            https://bugzilla.redhat.com/show_bug.cgi?id=1007181, https://bugzilla.redhat.com/show_bug.cgi?id=1060997
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310341" key="com.atlassian.jira.plugin.system.customfieldtypes:multicheckboxes">
                        <customfieldname>Bugzilla Update</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10250"><![CDATA[Perform]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310641" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Number of attachments</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310640" key="com.atlassian.jira.toolkit:comments">
                        <customfieldname>Number of comments</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>23.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12311940" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1|hzisun:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310840" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>169992</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310090" key="com.atlassian.jira.plugin.system.customfieldtypes:multicheckboxes">
                        <customfieldname>Workaround</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10060"><![CDATA[Workaround Exists]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310091" key="com.atlassian.jira.plugin.system.customfieldtypes:textarea">
                        <customfieldname>Workaround Description</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>&lt;p&gt;Add the module dependency &lt;/p&gt;


&lt;p&gt;/modules/system/layers/base/org/jboss/as/connector/main/module.xml&quot;  needs to be dependent on the following module &amp;lt;module name=&quot;sun.jdk&quot;/&amp;gt;&lt;/p&gt;


&lt;p&gt;So alter the module &quot;org.jboss.as.connector&quot;  and add the following dependencies to it :&lt;/p&gt;

&lt;p&gt;    &amp;lt;dependencies&amp;gt;&lt;br/&gt;
                &amp;lt;module name=&quot;sun.jdk&quot;/&amp;gt;&lt;br/&gt;
                .&lt;br/&gt;
                .&lt;br/&gt;
                .&lt;br/&gt;
    &amp;lt;/dependencies&amp;gt;&lt;/p&gt;
</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>
</channel>
</rss>