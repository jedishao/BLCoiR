<!-- 
RSS generated by JIRA (7.2.3#72005-sha1:73be91d2b96fc29303a7eb6820acf420e5d0ed65) at Tue Dec 06 15:03:31 EST 2016

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary add field=key&field=summary to the URL of your request.
For example:
https://issues.jboss.org/si/jira.issueviews:issue-xml/WFLY-2343/WFLY-2343.xml?field=key&amp;field=summary
-->
<rss version="0.92" >
<channel>
    <title>JBoss Issue Tracker</title>
    <link>https://issues.jboss.org</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-us</language>    <build-info>
        <version>7.2.3</version>
        <build-number>72005</build-number>
        <build-date>06-10-2016</build-date>
    </build-info>

<item>
            <title>[WFLY-2343] IllegalStateException when invoking ManagedThreadFactory.newThread</title>
                <link>https://issues.jboss.org/browse/WFLY-2343</link>
                <project id="12313721" key="WFLY">WildFly</project>
                    <description>&lt;p&gt;I test the simple test case under wildfly beta2, and got the stacktrace below,&lt;br/&gt;
Remove @Startup, the test case is pass.&lt;/p&gt;


&lt;p&gt;@Singleton&lt;br/&gt;
@Startup&lt;br/&gt;
public class SSSManagerBean{&lt;br/&gt;
  static Logger logger = Logger.getLogger(SSSManagerBean.class);&lt;/p&gt;

&lt;p&gt;  @Resource&lt;br/&gt;
  private ManagedThreadFactory mtf;&lt;/p&gt;

&lt;p&gt;  public SSSManagerBean() {&lt;br/&gt;
  }&lt;/p&gt;

&lt;p&gt;  @PostConstruct&lt;br/&gt;
  public void postConstruct() {&lt;br/&gt;
    logger.info(&quot;XXXXXXXXXXXXXXXXXXXXXXXXXX: &quot;+mtf);&lt;br/&gt;
    Thread t = mtf.newThread(new Runnable(){&lt;br/&gt;
      @Override&lt;br/&gt;
      public void run()&lt;/p&gt;
{
        logger.info(&quot;XXXXXXXXXXXXXXXX: hello&quot;);
      }
&lt;p&gt;    });&lt;br/&gt;
    t.start();&lt;br/&gt;
  }&lt;br/&gt;
}&lt;/p&gt;

&lt;p&gt;The stacktrace:&lt;/p&gt;

&lt;p&gt;Caused by: java.lang.IllegalStateException: JBAS016707: No concurrent context currently set, unable to locate the context service to delegate.&lt;br/&gt;
	at org.jboss.as.ee.concurrent.DefaultContextSetupProviderImpl.getConcurrentContext(DefaultContextSetupProviderImpl.java:41) &lt;span class=&quot;error&quot;&gt;&amp;#91;wildfly-ee-8.0.0.Beta2-SNAPSHOT.jar:8.0.0.Beta2-SNAPSHOT&amp;#93;&lt;/span&gt;&lt;br/&gt;
	at org.jboss.as.ee.concurrent.DefaultContextSetupProviderImpl.saveContext(DefaultContextSetupProviderImpl.java:48) &lt;span class=&quot;error&quot;&gt;&amp;#91;wildfly-ee-8.0.0.Beta2-SNAPSHOT.jar:8.0.0.Beta2-SNAPSHOT&amp;#93;&lt;/span&gt;&lt;br/&gt;
	at org.glassfish.enterprise.concurrent.ManagedThreadFactoryImpl.newThread(ManagedThreadFactoryImpl.java:125)&lt;br/&gt;
	at cn.org.gddsn.sss.server.SSSManagerBean.postConstruct(SSSManagerBean.java:91)&lt;br/&gt;
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) &lt;span class=&quot;error&quot;&gt;&amp;#91;rt.jar:1.7.0_25&amp;#93;&lt;/span&gt;&lt;br/&gt;
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:57) &lt;span class=&quot;error&quot;&gt;&amp;#91;rt.jar:1.7.0_25&amp;#93;&lt;/span&gt;&lt;br/&gt;
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) &lt;span class=&quot;error&quot;&gt;&amp;#91;rt.jar:1.7.0_25&amp;#93;&lt;/span&gt;&lt;br/&gt;
	at java.lang.reflect.Method.invoke(Method.java:606) &lt;span class=&quot;error&quot;&gt;&amp;#91;rt.jar:1.7.0_25&amp;#93;&lt;/span&gt;&lt;br/&gt;
	at org.jboss.as.ee.component.ManagedReferenceLifecycleMethodInterceptorFactory$ManagedReferenceLifecycleMethodInterceptor.processInvocation(ManagedReferenceLifecycleMethodInterceptorFactory.java:130) &lt;span class=&quot;error&quot;&gt;&amp;#91;wildfly-ee-8.0.0.Beta2-SNAPSHOT.jar:8.0.0.Beta2-SNAPSHOT&amp;#93;&lt;/span&gt;&lt;br/&gt;
	at org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:309)&lt;br/&gt;
	at org.jboss.invocation.WeavedInterceptor.processInvocation(WeavedInterceptor.java:53)&lt;br/&gt;
	at org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:309)&lt;br/&gt;
	at org.jboss.as.weld.ejb.Jsr299BindingsInterceptor.doLifecycleInterception(Jsr299BindingsInterceptor.java:165) &lt;span class=&quot;error&quot;&gt;&amp;#91;wildfly-weld-8.0.0.Beta2-SNAPSHOT.jar:8.0.0.Beta2-SNAPSHOT&amp;#93;&lt;/span&gt;&lt;br/&gt;
	at org.jboss.as.weld.ejb.Jsr299BindingsInterceptor.processInvocation(Jsr299BindingsInterceptor.java:148) &lt;span class=&quot;error&quot;&gt;&amp;#91;wildfly-weld-8.0.0.Beta2-SNAPSHOT.jar:8.0.0.Beta2-SNAPSHOT&amp;#93;&lt;/span&gt;&lt;br/&gt;
	at org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:309)&lt;br/&gt;
	at org.jboss.invocation.InterceptorContext$Invocation.proceed(InterceptorContext.java:406)&lt;br/&gt;
	at org.jboss.weld.ejb.AbstractEJBRequestScopeActivationInterceptor.aroundInvoke(AbstractEJBRequestScopeActivationInterceptor.java:55) &lt;span class=&quot;error&quot;&gt;&amp;#91;weld-core-impl-2.1.0.CR1.jar:2013-09-26 16:53&amp;#93;&lt;/span&gt;&lt;br/&gt;
	at org.jboss.as.weld.ejb.EjbRequestScopeActivationInterceptor.processInvocation(EjbRequestScopeActivationInterceptor.java:84) &lt;span class=&quot;error&quot;&gt;&amp;#91;wildfly-weld-8.0.0.Beta2-SNAPSHOT.jar:8.0.0.Beta2-SNAPSHOT&amp;#93;&lt;/span&gt;&lt;br/&gt;
	at org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:309)&lt;br/&gt;
	at org.jboss.as.weld.injection.WeldInjectionInterceptor.processInvocation(WeldInjectionInterceptor.java:56) &lt;span class=&quot;error&quot;&gt;&amp;#91;wildfly-weld-8.0.0.Beta2-SNAPSHOT.jar:8.0.0.Beta2-SNAPSHOT&amp;#93;&lt;/span&gt;&lt;br/&gt;
	at org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:309)&lt;br/&gt;
	at org.jboss.as.ee.component.ManagedReferenceFieldInjectionInterceptorFactory$ManagedReferenceFieldInjectionInterceptor.processInvocation(ManagedReferenceFieldInjectionInterceptorFactory.java:115) &lt;span class=&quot;error&quot;&gt;&amp;#91;wildfly-ee-8.0.0.Beta2-SNAPSHOT.jar:8.0.0.Beta2-SNAPSHOT&amp;#93;&lt;/span&gt;&lt;br/&gt;
	at org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:309)&lt;br/&gt;
	at org.jboss.as.ee.component.ManagedReferenceFieldInjectionInterceptorFactory$ManagedReferenceFieldInjectionInterceptor.processInvocation(ManagedReferenceFieldInjectionInterceptorFactory.java:115) &lt;span class=&quot;error&quot;&gt;&amp;#91;wildfly-ee-8.0.0.Beta2-SNAPSHOT.jar:8.0.0.Beta2-SNAPSHOT&amp;#93;&lt;/span&gt;&lt;br/&gt;
	at org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:309)&lt;br/&gt;
	at org.jboss.invocation.WeavedInterceptor.processInvocation(WeavedInterceptor.java:53)&lt;br/&gt;
	at org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:309)&lt;br/&gt;
	at org.jboss.as.ee.component.AroundConstructInterceptorFactory$1.processInvocation(AroundConstructInterceptorFactory.java:28) &lt;span class=&quot;error&quot;&gt;&amp;#91;wildfly-ee-8.0.0.Beta2-SNAPSHOT.jar:8.0.0.Beta2-SNAPSHOT&amp;#93;&lt;/span&gt;&lt;br/&gt;
	at org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:309)&lt;br/&gt;
	at org.jboss.as.weld.injection.WeldInterceptorInjectionInterceptor.processInvocation(WeldInterceptorInjectionInterceptor.java:62) &lt;span class=&quot;error&quot;&gt;&amp;#91;wildfly-weld-8.0.0.Beta2-SNAPSHOT.jar:8.0.0.Beta2-SNAPSHOT&amp;#93;&lt;/span&gt;&lt;br/&gt;
	at org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:309)&lt;br/&gt;
	at org.jboss.as.ee.component.NamespaceContextInterceptor.processInvocation(NamespaceContextInterceptor.java:50) &lt;span class=&quot;error&quot;&gt;&amp;#91;wildfly-ee-8.0.0.Beta2-SNAPSHOT.jar:8.0.0.Beta2-SNAPSHOT&amp;#93;&lt;/span&gt;&lt;br/&gt;
	at org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:309)&lt;br/&gt;
	at org.jboss.as.ejb3.tx.CMTTxInterceptor.invokeInOurTx(CMTTxInterceptor.java:273)&lt;br/&gt;
	... 27 more&lt;/p&gt;</description>
                <environment>&lt;p&gt;#uname -a&lt;br/&gt;
FreeBSD mbp.gddsn.org.cn 9.2-STABLE FreeBSD 9.2-STABLE #22 r256314: Sat Oct 12 01:53:39 CST 2013     root@mbp.gddsn.org.cn:/usr/obj/usr/src/sys/MACBOOK  amd64&lt;/p&gt;
&lt;ol&gt;
	&lt;li&gt;/usr/local/openjdk7/bin/java -version&lt;br/&gt;
openjdk version &quot;1.7.0_25&quot;&lt;br/&gt;
OpenJDK Runtime Environment (build 1.7.0_25-b15)&lt;br/&gt;
OpenJDK 64-Bit Server VM (build 23.21-b01, mixed mode)&lt;/li&gt;
&lt;/ol&gt;
</environment>
        <key id="12508243">WFLY-2343</key>
            <summary>IllegalStateException when invoking ManagedThreadFactory.newThread</summary>
                <type id="1" iconUrl="https://issues.jboss.org/secure/viewavatar?size=xsmall&amp;avatarId=13263&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.jboss.org/images/icons/priorities/major.svg">Major</priority>
                        <status id="5" iconUrl="https://issues.jboss.org/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Done</resolution>
                                        <assignee username="emmartins">Eduardo Martins</assignee>
                                    <reporter username="huanghwh">huanghwh</reporter>
                        <labels>
                    </labels>
                <created>Sat, 19 Oct 2013 22:55:12 -0400</created>
                <updated>Thu, 4 Sep 2014 09:30:48 -0400</updated>
                            <resolved>Tue, 29 Oct 2013 13:56:53 -0400</resolved>
                                    <version>8.0.0.Beta1</version>
                                    <fixVersion>8.0.0.CR1</fixVersion>
                                    <component>EE</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                                <comments>
                            <comment id="12823338" author="dmlloyd" created="Sun, 20 Oct 2013 10:20:13 -0400"  >&lt;p&gt;Looks like maybe interceptors don&apos;t have the right context set up all the time.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310092" key="com.atlassian.jira.plugin.system.customfieldtypes:select">
                        <customfieldname>Estimated Difficulty</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10062"><![CDATA[Low]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12310220" key="org.jboss.labs.jira.plugin.jboss-custom-field-types-plugin:multiurl">
                        <customfieldname>Git Pull Request</customfieldname>
                        <customfieldvalues>
                            https://github.com/wildfly/wildfly/pull/5350
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12310641" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Number of attachments</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310640" key="com.atlassian.jira.toolkit:comments">
                        <customfieldname>Number of comments</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12311940" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1|hzjabr:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310840" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>172823</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                    </customfields>
    </item>
</channel>
</rss>