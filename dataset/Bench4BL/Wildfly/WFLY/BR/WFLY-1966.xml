<!-- 
RSS generated by JIRA (7.2.3#72005-sha1:73be91d2b96fc29303a7eb6820acf420e5d0ed65) at Tue Dec 06 15:57:56 EST 2016

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary add field=key&field=summary to the URL of your request.
For example:
https://issues.jboss.org/si/jira.issueviews:issue-xml/WFLY-1966/WFLY-1966.xml?field=key&amp;field=summary
-->
<rss version="0.92" >
<channel>
    <title>JBoss Issue Tracker</title>
    <link>https://issues.jboss.org</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-us</language>    <build-info>
        <version>7.2.3</version>
        <build-number>72005</build-number>
        <build-date>06-10-2016</build-date>
    </build-info>

<item>
            <title>[WFLY-1966] Hangs in DomainControllerMigrationTestCase</title>
                <link>https://issues.jboss.org/browse/WFLY-1966</link>
                <project id="12313721" key="WFLY">WildFly</project>
                    <description>&lt;p&gt;DomainControllerMigrationTestCase is intermittently hanging recently.&lt;/p&gt;

&lt;p&gt;I will attach thread dumps from a recent hang.&lt;/p&gt;

&lt;p&gt;The test driver is hanging here:&lt;/p&gt;

&lt;p&gt;&quot;main&quot; prio=10 tid=0xb7605c00 nid=0x7656 in Object.wait() &lt;span class=&quot;error&quot;&gt;&amp;#91;0xb7786000&amp;#93;&lt;/span&gt;&lt;br/&gt;
   java.lang.Thread.State: WAITING (on object monitor)&lt;br/&gt;
	at java.lang.Object.wait(Native Method)&lt;/p&gt;
&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;waiting on &amp;lt;0xa99833f8&amp;gt; (a org.jboss.as.protocol.mgmt.ActiveOperationSupport$ActiveOperationImpl)&lt;br/&gt;
	at java.lang.Object.wait(Object.java:503)&lt;br/&gt;
	at org.jboss.threads.AsyncFutureTask.await(AsyncFutureTask.java:192)&lt;/li&gt;
	&lt;li&gt;eliminated &amp;lt;0xa99833f8&amp;gt; (a org.jboss.as.protocol.mgmt.ActiveOperationSupport$ActiveOperationImpl)&lt;br/&gt;
	at org.jboss.threads.AsyncFutureTask.get(AsyncFutureTask.java:266)&lt;/li&gt;
	&lt;li&gt;locked &amp;lt;0xa99833f8&amp;gt; (a org.jboss.as.protocol.mgmt.ActiveOperationSupport$ActiveOperationImpl)&lt;br/&gt;
	at org.jboss.as.controller.client.impl.AbstractDelegatingAsyncFuture.get(AbstractDelegatingAsyncFuture.java:100)&lt;br/&gt;
	at org.jboss.as.controller.client.impl.AbstractModelControllerClient.executeForResult(AbstractModelControllerClient.java:127)&lt;br/&gt;
	at org.jboss.as.controller.client.impl.AbstractModelControllerClient.execute(AbstractModelControllerClient.java:76)&lt;br/&gt;
	at org.jboss.as.controller.client.helpers.domain.impl.DomainClientImpl.execute(DomainClientImpl.java:86)&lt;br/&gt;
	at org.jboss.as.test.integration.domain.management.util.DomainLifecycleUtil.executeForResult(DomainLifecycleUtil.java:580)&lt;br/&gt;
	at org.jboss.as.test.integration.domain.DomainControllerMigrationTestCase.testDCFailover(DomainControllerMigrationTestCase.java:206)&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;The master HC process is stuck here:&lt;/p&gt;

&lt;p&gt;&quot;management-handler-thread - 2&quot; prio=10 tid=0x8be50400 nid=0x1a92 waiting on condition &lt;span class=&quot;error&quot;&gt;&amp;#91;0x87604000&amp;#93;&lt;/span&gt;&lt;br/&gt;
   java.lang.Thread.State: WAITING (parking)&lt;br/&gt;
	at sun.misc.Unsafe.park(Native Method)&lt;/p&gt;
&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;parking to wait for  &amp;lt;0xaa032fd0&amp;gt; (a java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject)&lt;br/&gt;
	at java.util.concurrent.locks.LockSupport.park(LockSupport.java:186)&lt;br/&gt;
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.await(AbstractQueuedSynchronizer.java:2043)&lt;br/&gt;
	at java.util.concurrent.LinkedBlockingQueue.take(LinkedBlockingQueue.java:442)&lt;br/&gt;
	at org.jboss.as.controller.remote.BlockingQueueOperationListener.retrievePreparedOperation(BlockingQueueOperationListener.java:84)&lt;br/&gt;
	at org.jboss.as.domain.controller.operations.coordination.DomainSlaveHandler.execute(DomainSlaveHandler.java:117)&lt;br/&gt;
	at org.jboss.as.controller.AbstractOperationContext.executeStep(AbstractOperationContext.java:608)&lt;br/&gt;
	at org.jboss.as.controller.AbstractOperationContext.doCompleteStep(AbstractOperationContext.java:486)&lt;br/&gt;
	at org.jboss.as.controller.AbstractOperationContext.completeStepInternal(AbstractOperationContext.java:275)&lt;br/&gt;
	at org.jboss.as.controller.AbstractOperationContext.executeOperation(AbstractOperationContext.java:270)&lt;br/&gt;
	at org.jboss.as.controller.ModelControllerImpl.internalExecute(ModelControllerImpl.java:257)&lt;br/&gt;
	at org.jboss.as.controller.ModelControllerImpl.execute(ModelControllerImpl.java:142)&lt;br/&gt;
	at org.jboss.as.controller.remote.ModelControllerClientOperationHandler$ExecuteRequestHandler.doExecute(ModelControllerClientOperationHandler.java:205)&lt;br/&gt;
	at org.jboss.as.controller.remote.ModelControllerClientOperationHandler$ExecuteRequestHandler.access$300(ModelControllerClientOperationHandler.java:110)&lt;br/&gt;
	at org.jboss.as.controller.remote.ModelControllerClientOperationHandler$ExecuteRequestHandler$1$2.run(ModelControllerClientOperationHandler.java:157)&lt;br/&gt;
	at org.jboss.as.controller.remote.ModelControllerClientOperationHandler$ExecuteRequestHandler$1$2.run(ModelControllerClientOperationHandler.java:153)&lt;br/&gt;
	at java.security.AccessController.doPrivileged(Native Method)&lt;br/&gt;
	at javax.security.auth.Subject.doAs(Subject.java:415)&lt;br/&gt;
	at org.jboss.as.controller.remote.ModelControllerClientOperationHandler$ExecuteRequestHandler$1.execute(ModelControllerClientOperationHandler.java:153)&lt;br/&gt;
	at org.jboss.as.protocol.mgmt.AbstractMessageHandler$2$1.doExecute(AbstractMessageHandler.java:296)&lt;br/&gt;
	at org.jboss.as.protocol.mgmt.AbstractMessageHandler$AsyncTaskRunner.run(AbstractMessageHandler.java:518)&lt;br/&gt;
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1145)&lt;br/&gt;
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:615)&lt;br/&gt;
	at java.lang.Thread.run(Thread.java:724)&lt;br/&gt;
	at org.jboss.threads.JBossThread.run(JBossThread.java:122)&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;I see nothing relevant in the other thread dumps.&lt;/p&gt;

&lt;p&gt;The master HC is blocking waiting for a response from the slave HC.&lt;/p&gt;

&lt;p&gt;Just before the client makes the request that triggers this, it has reloaded the slave HC. The test is not robust in terms of how it checks that the slave is ready before continuing on with the test; it merely connects directly to the slave checks that the slave&apos;s root resource can be read. That can succeed relatively early in boot even before the slave has registered with the master.&lt;/p&gt;

&lt;p&gt;Fixing that may prevent the hangs, but it would likely paper over whatever problem is causing the hangs. A client invoking multi-host operations while a slave is booting and registering is a use case that can&apos;t hang.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12499532">WFLY-1966</key>
            <summary>Hangs in DomainControllerMigrationTestCase</summary>
                <type id="1" iconUrl="https://issues.jboss.org/secure/viewavatar?size=xsmall&amp;avatarId=13263&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.jboss.org/images/icons/priorities/major.svg">Major</priority>
                        <status id="5" iconUrl="https://issues.jboss.org/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Done</resolution>
                                        <assignee username="dlofthouse">Darran Lofthouse</assignee>
                                    <reporter username="brian.stansberry">Brian Stansberry</reporter>
                        <labels>
                    </labels>
                <created>Wed, 28 Aug 2013 16:15:45 -0400</created>
                <updated>Thu, 4 Sep 2014 09:48:34 -0400</updated>
                            <resolved>Mon, 11 Nov 2013 11:15:54 -0500</resolved>
                                                    <fixVersion>8.0.0.CR1</fixVersion>
                                    <component>Domain Management</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                <comments>
                            <comment id="12799980" author="brian.stansberry" created="Wed, 28 Aug 2013 16:19:21 -0400"  >&lt;p&gt;Example hang:&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;http://brontes.lab.eng.brq.redhat.com/viewLog.html?buildTypeId=WF_MasterIgnoreWindows&amp;amp;buildId=1571&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://brontes.lab.eng.brq.redhat.com/viewLog.html?buildTypeId=WF_MasterIgnoreWindows&amp;amp;buildId=1571&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="12800428" author="brian.stansberry" created="Thu, 29 Aug 2013 22:37:12 -0400"  >&lt;p&gt;Problem is due to an issue unmarshalling the Subject on the slave HC. See &lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;http://brontes.lab.eng.brq.redhat.com/repository/download/WF_DomainOnlyLinux/1823:id/testsuite/domain/target/domains/DomainControllerMigrationTestCase/failover3/log/host-controller.log&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://brontes.lab.eng.brq.redhat.com/repository/download/WF_DomainOnlyLinux/1823:id/testsuite/domain/target/domains/DomainControllerMigrationTestCase/failover3/log/host-controller.log&lt;/a&gt;&lt;/p&gt;


&lt;p&gt;04:20:47,552 INFO  &lt;span class=&quot;error&quot;&gt;&amp;#91;org.jboss.as.protocol&amp;#93;&lt;/span&gt; (Remoting &quot;failover-h3:MANAGEMENT&quot; task-16) handling org.jboss.as.protocol.mgmt.ManagementRequestHeader@f9ed49 using org.jboss.as.controller.remote.TransactionalProtocolOperationHandler$ExecuteRequestHandler@498870&lt;br/&gt;
04:20:47,557 INFO  &lt;span class=&quot;error&quot;&gt;&amp;#91;org.jboss.as.controller.management-operation&amp;#93;&lt;/span&gt; (Remoting &quot;failover-h3:MANAGEMENT&quot; task-16) Requested subject for 1166537054&lt;br/&gt;
04:20:47,564 INFO  &lt;span class=&quot;error&quot;&gt;&amp;#91;org.jboss.as.protocol.connection&amp;#93;&lt;/span&gt; (Remoting &quot;failover-h3:MANAGEMENT&quot; task-1) received response for 4&lt;br/&gt;
04:20:47,565 INFO  &lt;span class=&quot;error&quot;&gt;&amp;#91;org.jboss.as.protocol&amp;#93;&lt;/span&gt; (Remoting &quot;failover-h3:MANAGEMENT&quot; task-1) handling org.jboss.as.protocol.mgmt.ManagementResponseHeader@736a7e using org.jboss.as.controller.remote.TransactionalProtocolOperationHandler$GetSubjectResponseHandler@154abc4&lt;br/&gt;
04:20:47,654 ERROR &lt;span class=&quot;error&quot;&gt;&amp;#91;org.jboss.as.protocol&amp;#93;&lt;/span&gt; (Remoting &quot;failover-h3:MANAGEMENT&quot; task-1) failed handling org.jboss.as.protocol.mgmt.ManagementResponseHeader@736a7e using org.jboss.as.controller.remote.TransactionalProtocolOperationHandler$GetSubjectResponseHandler@154abc4: java.io.IOException: JBAS013469: Unable to unmarshall Subject received for request.&lt;br/&gt;
	at org.jboss.as.controller.remote.TransactionalProtocolOperationHandler$GetSubjectResponseHandler.handleRequest(TransactionalProtocolOperationHandler.java:184) &lt;span class=&quot;error&quot;&gt;&amp;#91;wildfly-controller-8.0.0.Beta1-SNAPSHOT.jar:8.0.0.Beta1-SNAPSHOT&amp;#93;&lt;/span&gt;&lt;br/&gt;
	at org.jboss.as.protocol.mgmt.AbstractMessageHandler.handleMessage(AbstractMessageHandler.java:258) &lt;span class=&quot;error&quot;&gt;&amp;#91;wildfly-protocol-8.0.0.Beta1-SNAPSHOT.jar:8.0.0.Beta1-SNAPSHOT&amp;#93;&lt;/span&gt;&lt;br/&gt;
	at org.jboss.as.protocol.mgmt.AbstractMessageHandler.handleRequest(AbstractMessageHandler.java:222) &lt;span class=&quot;error&quot;&gt;&amp;#91;wildfly-protocol-8.0.0.Beta1-SNAPSHOT.jar:8.0.0.Beta1-SNAPSHOT&amp;#93;&lt;/span&gt;&lt;br/&gt;
	at org.jboss.as.protocol.mgmt.AbstractMessageHandler.handleMessage(AbstractMessageHandler.java:116) &lt;span class=&quot;error&quot;&gt;&amp;#91;wildfly-protocol-8.0.0.Beta1-SNAPSHOT.jar:8.0.0.Beta1-SNAPSHOT&amp;#93;&lt;/span&gt;&lt;br/&gt;
	at org.jboss.as.protocol.mgmt.ManagementChannelReceiver$1.handleMessage(ManagementChannelReceiver.java:56) &lt;span class=&quot;error&quot;&gt;&amp;#91;wildfly-protocol-8.0.0.Beta1-SNAPSHOT.jar:8.0.0.Beta1-SNAPSHOT&amp;#93;&lt;/span&gt;&lt;br/&gt;
	at org.jboss.as.protocol.mgmt.ManagementChannelReceiver.handleMessage(ManagementChannelReceiver.java:84) &lt;span class=&quot;error&quot;&gt;&amp;#91;wildfly-protocol-8.0.0.Beta1-SNAPSHOT.jar:8.0.0.Beta1-SNAPSHOT&amp;#93;&lt;/span&gt;&lt;br/&gt;
	at org.jboss.remoting3.remote.RemoteConnectionChannel$5.run(RemoteConnectionChannel.java:451) &lt;span class=&quot;error&quot;&gt;&amp;#91;jboss-remoting-4.0.0.Beta1.jar:4.0.0.Beta1&amp;#93;&lt;/span&gt;&lt;br/&gt;
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1145) &lt;span class=&quot;error&quot;&gt;&amp;#91;rt.jar:1.7.0_25&amp;#93;&lt;/span&gt;&lt;br/&gt;
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:615) &lt;span class=&quot;error&quot;&gt;&amp;#91;rt.jar:1.7.0_25&amp;#93;&lt;/span&gt;&lt;br/&gt;
	at java.lang.Thread.run(Thread.java:724) &lt;span class=&quot;error&quot;&gt;&amp;#91;rt.jar:1.7.0_25&amp;#93;&lt;/span&gt;&lt;br/&gt;
Caused by: java.lang.ClassNotFoundException: org.jboss.as.core.security.RealmUser from &lt;span class=&quot;error&quot;&gt;&amp;#91;Module &amp;quot;org.jboss.as.host-controller:main&amp;quot; from local module loader @1160a60 (finder: local module finder @3514a (roots: /opt/buildAgent/work/e3fca795beba699e/testsuite/domain/../../build/target/wildfly-8.0.0.Beta1-SNAPSHOT/modules,/opt/buildAgent/work/e3fca795beba699e/testsuite/domain/../../build/target/wildfly-8.0.0.Beta1-SNAPSHOT/modules/system/layers/base))&amp;#93;&lt;/span&gt;&lt;br/&gt;
	at org.jboss.modules.ModuleClassLoader.findClass(ModuleClassLoader.java:197) &lt;span class=&quot;error&quot;&gt;&amp;#91;jboss-modules.jar:1.3.0.Beta3&amp;#93;&lt;/span&gt;&lt;br/&gt;
	at org.jboss.modules.ConcurrentClassLoader.performLoadClassUnchecked(ConcurrentClassLoader.java:443) &lt;span class=&quot;error&quot;&gt;&amp;#91;jboss-modules.jar:1.3.0.Beta3&amp;#93;&lt;/span&gt;&lt;br/&gt;
	at org.jboss.modules.ConcurrentClassLoader.performLoadClassChecked(ConcurrentClassLoader.java:431) &lt;span class=&quot;error&quot;&gt;&amp;#91;jboss-modules.jar:1.3.0.Beta3&amp;#93;&lt;/span&gt;&lt;br/&gt;
	at org.jboss.modules.ConcurrentClassLoader.performLoadClass(ConcurrentClassLoader.java:373) &lt;span class=&quot;error&quot;&gt;&amp;#91;jboss-modules.jar:1.3.0.Beta3&amp;#93;&lt;/span&gt;&lt;br/&gt;
	at org.jboss.modules.ConcurrentClassLoader.loadClass(ConcurrentClassLoader.java:118) &lt;span class=&quot;error&quot;&gt;&amp;#91;jboss-modules.jar:1.3.0.Beta3&amp;#93;&lt;/span&gt;&lt;br/&gt;
	at java.lang.Class.forName0(Native Method) &lt;span class=&quot;error&quot;&gt;&amp;#91;rt.jar:1.7.0_25&amp;#93;&lt;/span&gt;&lt;br/&gt;
	at java.lang.Class.forName(Class.java:270) &lt;span class=&quot;error&quot;&gt;&amp;#91;rt.jar:1.7.0_25&amp;#93;&lt;/span&gt;&lt;br/&gt;
	at org.jboss.marshalling.AbstractClassResolver.loadClass(AbstractClassResolver.java:135) &lt;span class=&quot;error&quot;&gt;&amp;#91;jboss-marshalling-1.3.18.GA.jar:1.3.18.GA&amp;#93;&lt;/span&gt;&lt;br/&gt;
	at org.jboss.marshalling.AbstractClassResolver.resolveClass(AbstractClassResolver.java:116) &lt;span class=&quot;error&quot;&gt;&amp;#91;jboss-marshalling-1.3.18.GA.jar:1.3.18.GA&amp;#93;&lt;/span&gt;&lt;br/&gt;
	at org.jboss.marshalling.river.RiverUnmarshaller.doReadClassDescriptor(RiverUnmarshaller.java:947)&lt;br/&gt;
	at org.jboss.marshalling.river.RiverUnmarshaller.doReadNewObject(RiverUnmarshaller.java:1259)&lt;br/&gt;
	at org.jboss.marshalling.river.RiverUnmarshaller.doReadObject(RiverUnmarshaller.java:276)&lt;br/&gt;
	at org.jboss.marshalling.river.RiverUnmarshaller.doReadObject(RiverUnmarshaller.java:213)&lt;br/&gt;
	at org.jboss.marshalling.river.RiverUnmarshaller.doReadCollectionObject(RiverUnmarshaller.java:184)&lt;br/&gt;
	at org.jboss.marshalling.river.RiverUnmarshaller.readCollectionData(RiverUnmarshaller.java:777)&lt;br/&gt;
	at org.jboss.marshalling.river.RiverUnmarshaller.doReadObject(RiverUnmarshaller.java:662)&lt;br/&gt;
	at org.jboss.marshalling.river.RiverUnmarshaller.doReadObject(RiverUnmarshaller.java:213)&lt;br/&gt;
	at org.jboss.marshalling.AbstractObjectInput.readObject(AbstractObjectInput.java:37) &lt;span class=&quot;error&quot;&gt;&amp;#91;jboss-marshalling-1.3.18.GA.jar:1.3.18.GA&amp;#93;&lt;/span&gt;&lt;br/&gt;
	at org.jboss.marshalling.river.RiverObjectInputStream.readFields(RiverObjectInputStream.java:129)&lt;br/&gt;
	at javax.security.auth.Subject$SecureSet.readObject(Subject.java:1297) &lt;span class=&quot;error&quot;&gt;&amp;#91;rt.jar:1.7.0_25&amp;#93;&lt;/span&gt;&lt;br/&gt;
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) &lt;span class=&quot;error&quot;&gt;&amp;#91;rt.jar:1.7.0_25&amp;#93;&lt;/span&gt;&lt;br/&gt;
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:57) &lt;span class=&quot;error&quot;&gt;&amp;#91;rt.jar:1.7.0_25&amp;#93;&lt;/span&gt;&lt;br/&gt;
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) &lt;span class=&quot;error&quot;&gt;&amp;#91;rt.jar:1.7.0_25&amp;#93;&lt;/span&gt;&lt;br/&gt;
	at java.lang.reflect.Method.invoke(Method.java:606) &lt;span class=&quot;error&quot;&gt;&amp;#91;rt.jar:1.7.0_25&amp;#93;&lt;/span&gt;&lt;br/&gt;
	at org.jboss.marshalling.reflect.SerializableClass.callReadObject(SerializableClass.java:218) &lt;span class=&quot;error&quot;&gt;&amp;#91;jboss-marshalling-1.3.18.GA.jar:1.3.18.GA&amp;#93;&lt;/span&gt;&lt;br/&gt;
	at org.jboss.marshalling.river.RiverUnmarshaller.doInitSerializable(RiverUnmarshaller.java:1629)&lt;br/&gt;
	at org.jboss.marshalling.river.RiverUnmarshaller.doReadNewObject(RiverUnmarshaller.java:1290)&lt;br/&gt;
	at org.jboss.marshalling.river.RiverUnmarshaller.doReadObject(RiverUnmarshaller.java:276)&lt;br/&gt;
	at org.jboss.marshalling.river.RiverUnmarshaller.doReadObject(RiverUnmarshaller.java:213)&lt;br/&gt;
	at org.jboss.marshalling.river.RiverUnmarshaller.readFields(RiverUnmarshaller.java:1732)&lt;br/&gt;
	at org.jboss.marshalling.river.RiverUnmarshaller.doInitSerializable(RiverUnmarshaller.java:1648)&lt;br/&gt;
	at org.jboss.marshalling.river.RiverUnmarshaller.doInitSerializable(RiverUnmarshaller.java:1612)&lt;br/&gt;
	at org.jboss.marshalling.river.RiverUnmarshaller.doReadNewObject(RiverUnmarshaller.java:1290)&lt;br/&gt;
	at org.jboss.marshalling.river.RiverUnmarshaller.doReadObject(RiverUnmarshaller.java:276)&lt;br/&gt;
	at org.jboss.marshalling.river.RiverUnmarshaller.doReadObject(RiverUnmarshaller.java:213)&lt;br/&gt;
	at org.jboss.marshalling.river.RiverUnmarshaller.readFields(RiverUnmarshaller.java:1732)&lt;br/&gt;
	at org.jboss.marshalling.river.RiverObjectInputStream.defaultReadObject(RiverObjectInputStream.java:73)&lt;br/&gt;
	at javax.security.auth.Subject.readObject(Subject.java:947) &lt;span class=&quot;error&quot;&gt;&amp;#91;rt.jar:1.7.0_25&amp;#93;&lt;/span&gt;&lt;br/&gt;
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) &lt;span class=&quot;error&quot;&gt;&amp;#91;rt.jar:1.7.0_25&amp;#93;&lt;/span&gt;&lt;br/&gt;
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:57) &lt;span class=&quot;error&quot;&gt;&amp;#91;rt.jar:1.7.0_25&amp;#93;&lt;/span&gt;&lt;br/&gt;
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) &lt;span class=&quot;error&quot;&gt;&amp;#91;rt.jar:1.7.0_25&amp;#93;&lt;/span&gt;&lt;br/&gt;
	at java.lang.reflect.Method.invoke(Method.java:606) &lt;span class=&quot;error&quot;&gt;&amp;#91;rt.jar:1.7.0_25&amp;#93;&lt;/span&gt;&lt;br/&gt;
	at org.jboss.marshalling.reflect.SerializableClass.callReadObject(SerializableClass.java:218) &lt;span class=&quot;error&quot;&gt;&amp;#91;jboss-marshalling-1.3.18.GA.jar:1.3.18.GA&amp;#93;&lt;/span&gt;&lt;br/&gt;
	at org.jboss.marshalling.river.RiverUnmarshaller.doInitSerializable(RiverUnmarshaller.java:1629)&lt;br/&gt;
	at org.jboss.marshalling.river.RiverUnmarshaller.doReadNewObject(RiverUnmarshaller.java:1290)&lt;br/&gt;
	at org.jboss.marshalling.river.RiverUnmarshaller.doReadObject(RiverUnmarshaller.java:276)&lt;br/&gt;
	at org.jboss.marshalling.river.RiverUnmarshaller.doReadObject(RiverUnmarshaller.java:213)&lt;br/&gt;
	at org.jboss.marshalling.AbstractObjectInput.readObject(AbstractObjectInput.java:72) &lt;span class=&quot;error&quot;&gt;&amp;#91;jboss-marshalling-1.3.18.GA.jar:1.3.18.GA&amp;#93;&lt;/span&gt;&lt;br/&gt;
	at org.jboss.as.controller.remote.TransactionalProtocolOperationHandler$GetSubjectResponseHandler.handleRequest(TransactionalProtocolOperationHandler.java:182) &lt;span class=&quot;error&quot;&gt;&amp;#91;wildfly-controller-8.0.0.Beta1-SNAPSHOT.jar:8.0.0.Beta1-SNAPSHOT&amp;#93;&lt;/span&gt;&lt;br/&gt;
	... 9 more&lt;/p&gt;

&lt;p&gt;I have no idea why that is intermittent.&lt;/p&gt;

&lt;p&gt;Another issue is why the catch of that exception didn&apos;t result in proper cleanup.&lt;/p&gt;</comment>
                            <comment id="12922436" author="brian.stansberry" created="Mon, 11 Nov 2013 11:15:54 -0500"  >&lt;p&gt;Darran fixed the Subject propagation issue quite a while ago.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12364338" name="thread-dump.txt" size="289415" author="brian.stansberry" created="Wed, 28 Aug 2013 16:17:51 -0400"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310641" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Number of attachments</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310640" key="com.atlassian.jira.toolkit:comments">
                        <customfieldname>Number of comments</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>3.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12311940" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1|hzim87:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310840" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>168915</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                    </customfields>
    </item>
</channel>
</rss>