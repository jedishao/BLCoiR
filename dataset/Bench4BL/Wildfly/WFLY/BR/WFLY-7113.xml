<!-- 
RSS generated by JIRA (7.2.3#72005-sha1:73be91d2b96fc29303a7eb6820acf420e5d0ed65) at Tue Dec 06 14:35:32 EST 2016

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary add field=key&field=summary to the URL of your request.
For example:
https://issues.jboss.org/si/jira.issueviews:issue-xml/WFLY-7113/WFLY-7113.xml?field=key&amp;field=summary
-->
<rss version="0.92" >
<channel>
    <title>JBoss Issue Tracker</title>
    <link>https://issues.jboss.org</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-us</language>    <build-info>
        <version>7.2.3</version>
        <build-number>72005</build-number>
        <build-date>06-10-2016</build-date>
    </build-info>

<item>
            <title>[WFLY-7113] Naming subsystem does not expose a proper capability contract</title>
                <link>https://issues.jboss.org/browse/WFLY-7113</link>
                <project id="12313721" key="WFLY">WildFly</project>
                    <description>&lt;p&gt;Subsystems that currently use JNDI bindings require that the naming subsystem be present.  The naming subsystem should expose capabilities for which other subsystems can test for the presence, so they can function in the absence of the naming subsystem.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12650302">WFLY-7113</key>
            <summary>Naming subsystem does not expose a proper capability contract</summary>
                <type id="1" iconUrl="https://issues.jboss.org/secure/viewavatar?size=xsmall&amp;avatarId=13263&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.jboss.org/images/icons/priorities/major.svg">Major</priority>
                        <status id="5" iconUrl="https://issues.jboss.org/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Done</resolution>
                                        <assignee username="pferraro">Paul Ferraro</assignee>
                                    <reporter username="pferraro">Paul Ferraro</reporter>
                        <labels>
                    </labels>
                <created>Thu, 15 Sep 2016 07:56:07 -0400</created>
                <updated>Fri, 4 Nov 2016 09:37:25 -0400</updated>
                            <resolved>Fri, 4 Nov 2016 09:37:25 -0400</resolved>
                                    <version>10.1.0.Final</version>
                                    <fixVersion>11.0.0.Alpha1</fixVersion>
                                    <component>Naming</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                                <comments>
                            <comment id="13293874" author="dlofthouse" created="Thu, 15 Sep 2016 08:30:11 -0400"  >&lt;p&gt;&lt;a href=&quot;https://issues.jboss.org/secure/ViewProfile.jspa?name=fjuma&quot; class=&quot;user-hover&quot; rel=&quot;fjuma&quot;&gt;Farah Juma&lt;/a&gt; FYI not assigned yet but I know you are looking at this subsystem as well.&lt;/p&gt;
</comment>
                            <comment id="13317180" author="pferraro" created="Thu, 3 Nov 2016 16:38:56 -0400"  >&lt;p&gt;Pasting comments from HipChat discussion w/Brian:&lt;/p&gt;

&lt;p&gt;&lt;span class=&quot;error&quot;&gt;&amp;#91;3:51 PM&amp;#93;&lt;/span&gt; Brian Stansberry: @PaulFerraro got a sec to talk naming?&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;3:51 PM&amp;#93;&lt;/span&gt; Paul Ferraro: Sure&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;3:51 PM&amp;#93;&lt;/span&gt; Paul Ferraro: what&apos;s up?&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;3:51 PM&amp;#93;&lt;/span&gt; Paul Ferraro: naming subsystem?&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;3:52 PM&amp;#93;&lt;/span&gt; Brian Stansberry: there are a lot of uses of org.jboss.as.naming classes outside of naming subsystem besides NamingStore, but...&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;3:52 PM&amp;#93;&lt;/span&gt; Brian Stansberry: some of them at least seem to be non-capability API&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;3:52 PM&amp;#93;&lt;/span&gt; Brian Stansberry: like &quot;BinderService&quot; etc&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;3:53 PM&amp;#93;&lt;/span&gt; Paul Ferraro: BindInfo&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;3:53 PM&amp;#93;&lt;/span&gt; Brian Stansberry: so I&apos;m curious how much you dug into all those; i.e. is NamingStore the only cap from that subsystem, or is that just the one you needed to deal with&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;3:54 PM&amp;#93;&lt;/span&gt; Brian Stansberry: @PaulFerraro what about BindInfo? another cap?&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;3:54 PM&amp;#93;&lt;/span&gt; Paul Ferraro: well - the naming subsystem doesn&apos;t have a proper spi module&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;3:54 PM&amp;#93;&lt;/span&gt; Paul Ferraro: which would be ideal&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;3:55 PM&amp;#93;&lt;/span&gt; Paul Ferraro: so, every subsystem that wants to create a jndi binding needs&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;3:55 PM&amp;#93;&lt;/span&gt; Paul Ferraro: to use BindInfo, BinderService, etc&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;3:55 PM&amp;#93;&lt;/span&gt; Brian Stansberry: yeah&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;3:55 PM&amp;#93;&lt;/span&gt; Paul Ferraro: Ideally, these classes would reside in a separate module&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;3:56 PM&amp;#93;&lt;/span&gt; Paul Ferraro: and the exposed capability would be a BindInfoFactory&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;3:56 PM&amp;#93;&lt;/span&gt; Paul Ferraro: or something&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;3:56 PM&amp;#93;&lt;/span&gt; Paul Ferraro: it gets complicated because of the way the different namespaces are handled&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;3:56 PM&amp;#93;&lt;/span&gt; Paul Ferraro: so - I did the least amount of work to be able to make the existence of the extension optional&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;3:57 PM&amp;#93;&lt;/span&gt; Paul Ferraro: e.g. if you remove the naming subsystem, you can still use the jgroups subsystem&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;3:58 PM&amp;#93;&lt;/span&gt; Brian Stansberry: would a later addition of a cap for BindInfoFactory make your cap name of &quot;org.wildfly.naming&quot; for the NamingStore a bad choice?&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;3:59 PM&amp;#93;&lt;/span&gt; Brian Stansberry: that kind of issue is often the danger of doing things piecemeal&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;4:00 PM&amp;#93;&lt;/span&gt; Paul Ferraro: I don&apos;t think so - this is the base naming store&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;4:00 PM&amp;#93;&lt;/span&gt; Paul Ferraro: there are naming stores for each namespace that a built on top of this&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;4:01 PM&amp;#93;&lt;/span&gt; Brian Stansberry: ok&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;4:01 PM&amp;#93;&lt;/span&gt; Brian Stansberry: here&apos;s another one:&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;4:01 PM&amp;#93;&lt;/span&gt; Brian Stansberry: &lt;a href=&quot;https://github.com/wildfly/wildfly/blob/master/iiop-openjdk/src/main/java/org/wildfly/iiop/openjdk/I&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://github.com/wildfly/wildfly/blob/master/iiop-openjdk/src/main/java/org/wildfly/iiop/openjdk/I&lt;/a&gt;...&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;4:01 PM&amp;#93;&lt;/span&gt; Brian Stansberry: those calls in that block there are kind of a &quot;runtime API&quot; type thing&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;4:02 PM&amp;#93;&lt;/span&gt; Brian Stansberry: not sure where those fit. Could be exposed by org.wildfly.naming&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;4:02 PM&amp;#93;&lt;/span&gt; Paul Ferraro: agreed&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;4:02 PM&amp;#93;&lt;/span&gt; Brian Stansberry: which wouldn&apos;t be a conflict with what you did if it&apos;s a runtime API impl and not a Service&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;4:02 PM&amp;#93;&lt;/span&gt; Brian Stansberry: and could be added later&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;4:03 PM&amp;#93;&lt;/span&gt; Paul Ferraro: but your question about the name is valid, maybe &quot;org.wildfly.naming.store&quot; is better?&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;4:05 PM&amp;#93;&lt;/span&gt; Brian Stansberry: @PaulFerraro yeah, my instincts say yes, so long as your better informed instincts agree &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.jboss.org/images/icons/emoticons/wink.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;4:05 PM&amp;#93;&lt;/span&gt; Paul Ferraro: ok - let me give it another look&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;4:15 PM&amp;#93;&lt;/span&gt; Paul Ferraro: @BrianStansberry so I kinda based the capability name on the legacy service name:&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;4:15 PM&amp;#93;&lt;/span&gt; Paul Ferraro: &lt;a href=&quot;https://github.com/wildfly/wildfly/blob/master/naming/src/main/java/org/jboss/as/naming/deployment/C&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://github.com/wildfly/wildfly/blob/master/naming/src/main/java/org/jboss/as/naming/deployment/C&lt;/a&gt;...&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;4:15 PM&amp;#93;&lt;/span&gt; Paul Ferraro: where the base naming store used ServiceName.JBOSS.append(&quot;naming&quot;)&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;4:17 PM&amp;#93;&lt;/span&gt; Brian Stansberry: OT to your last post &amp;#8211; &lt;a href=&quot;https://github.com/wildfly/wildfly/blob/master/naming/src/main/java/org/jboss/as/naming/WritableServ&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://github.com/wildfly/wildfly/blob/master/naming/src/main/java/org/jboss/as/naming/WritableServ&lt;/a&gt;... is another bit of &quot;capability runtime API&quot;&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;4:22 PM&amp;#93;&lt;/span&gt; Brian Stansberry: @PaulFerraro so AIUI your BindInfoFactory thing would basically be to encapsulate those ContextNames.bindInfoFor(...) calls?&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;4:22 PM&amp;#93;&lt;/span&gt; Paul Ferraro: yeah&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;4:23 PM&amp;#93;&lt;/span&gt; Brian Stansberry: looking at the uses of those, that doesn&apos;t sound like a service either, more like another aspect of &quot;capability runtime API&quot;&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;4:23 PM&amp;#93;&lt;/span&gt; Brian Stansberry: you know what I mean by &quot;capability runtime API&quot; ?&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;4:24 PM&amp;#93;&lt;/span&gt; Paul Ferraro: yes - RuntimeCapability&amp;lt;T&amp;gt;&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;4:24 PM&amp;#93;&lt;/span&gt; Brian Stansberry: k&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;4:25 PM&amp;#93;&lt;/span&gt; Brian Stansberry: it seems like we are talking about 3 different aspects of a RuntimeCapability&amp;lt;T&amp;gt;&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;4:25 PM&amp;#93;&lt;/span&gt; Brian Stansberry: and so far I haven&apos;t seen any other Service&amp;lt;T&amp;gt; type&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;4:26 PM&amp;#93;&lt;/span&gt; Brian Stansberry: i.e. the service type is still only NamingStore, so that&apos;s more evidence your org.wildfly.naming name is ok&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;4:27 PM&amp;#93;&lt;/span&gt; Brian Stansberry: 3 different runtime API aspects being static methods now in ContextNames, InitialContext and WritableServiceBasedNamingStore&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;4:27 PM&amp;#93;&lt;/span&gt; Paul Ferraro: well - the purpose of the BindInfo is to be able to resolve a ServiceBasedNamingStore service dependency&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;4:28 PM&amp;#93;&lt;/span&gt; Paul Ferraro: so that&apos;s definitely a non-runtime API use case&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;4:28 PM&amp;#93;&lt;/span&gt; Paul Ferraro: but, I&apos;m not entirely sure of the best way to encapsulate that&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;4:29 PM&amp;#93;&lt;/span&gt; Paul Ferraro: since the service for the parent context is effectively parsed from the jndi name&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;4:29 PM&amp;#93;&lt;/span&gt; Brian Stansberry: ah, i just happened to randomly look up &lt;a href=&quot;https://github.com/wildfly/wildfly/blob/master/ee/src/main/java/org/jboss/as/ee/concurrent/service/E&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://github.com/wildfly/wildfly/blob/master/ee/src/main/java/org/jboss/as/ee/concurrent/service/E&lt;/a&gt;...&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;4:30 PM&amp;#93;&lt;/span&gt; Brian Stansberry: where it&apos;s more a factory for the name param for the BinderService&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;4:30 PM&amp;#93;&lt;/span&gt; Paul Ferraro: otherwise, I would normally expect to use a dynamic capability where the dynamic name corresponds to the namespace&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;4:31 PM&amp;#93;&lt;/span&gt; Brian Stansberry: yeah&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;4:31 PM&amp;#93;&lt;/span&gt; Paul Ferraro: the crux of that logic is here: &lt;a href=&quot;https://github.com/wildfly/wildfly/blob/master/naming/src/main/java/org/jboss/as/naming/deployment/C&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://github.com/wildfly/wildfly/blob/master/naming/src/main/java/org/jboss/as/naming/deployment/C&lt;/a&gt;...&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;4:32 PM&amp;#93;&lt;/span&gt; Paul Ferraro: which is why I figured it was probably sufficient to expose a capability for the base store&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;4:33 PM&amp;#93;&lt;/span&gt; Brian Stansberry: ok&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;4:33 PM&amp;#93;&lt;/span&gt; Brian Stansberry: well, so far I haven&apos;t heard anything that makes me think anything you&apos;ve done is wrong, including your name choice&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;4:34 PM&amp;#93;&lt;/span&gt; Brian Stansberry: so I propose to just paste ^^^ as a comment in the JIRA to help anyone who presses forward, and then ack the PR&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;4:35 PM&amp;#93;&lt;/span&gt; Brian Stansberry: unless you want to change the name&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;4:36 PM&amp;#93;&lt;/span&gt; Brian Stansberry: @PaulFerraro but I think your PR shouldn&apos;t resolve the JIRAs as there&apos;s more to do&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="12310120">
                    <name>Cloners</name>
                                                                <inwardlinks description="cloned to">
                                        <issuelink>
            <issuekey id="12650840">JBEAP-6069</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                            <issuelinktype id="10012">
                    <name>Dependency</name>
                                                                <inwardlinks description="blocks">
                                                        </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310641" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Number of attachments</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310640" key="com.atlassian.jira.toolkit:comments">
                        <customfieldname>Number of comments</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>2.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12311940" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1|i09073:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310840" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                    </customfields>
    </item>
</channel>
</rss>