<!-- 
RSS generated by JIRA (7.2.3#72005-sha1:73be91d2b96fc29303a7eb6820acf420e5d0ed65) at Tue Dec 06 12:45:08 EST 2016

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary add field=key&field=summary to the URL of your request.
For example:
https://issues.jboss.org/si/jira.issueviews:issue-xml/WFLY-5227/WFLY-5227.xml?field=key&amp;field=summary
-->
<rss version="0.92" >
<channel>
    <title>JBoss Issue Tracker</title>
    <link>https://issues.jboss.org</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-us</language>    <build-info>
        <version>7.2.3</version>
        <build-number>72005</build-number>
        <build-date>06-10-2016</build-date>
    </build-info>

<item>
            <title>[WFLY-5227] Move security-manager subsystem from WildFly to WildFly Core</title>
                <link>https://issues.jboss.org/browse/WFLY-5227</link>
                <project id="12313721" key="WFLY">WildFly</project>
                    <description>&lt;p&gt;It&apos;s not possible to define security permissions in WildFly Core without &lt;tt&gt;security-manager&lt;/tt&gt; subsystem. Therefore the subsystem should be moved from WildFly to the Core.&lt;/p&gt;

&lt;p&gt;More details in the &lt;a href=&quot;http://lists.jboss.org/pipermail/wildfly-dev/2015-August/thread.html#4353&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;Permissions in WildFly Core&lt;/a&gt; thread on &lt;tt&gt;wildfly-dev&lt;/tt&gt; mailing list.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12583075">WFLY-5227</key>
            <summary>Move security-manager subsystem from WildFly to WildFly Core</summary>
                <type id="1" iconUrl="https://issues.jboss.org/secure/viewavatar?size=xsmall&amp;avatarId=13263&amp;avatarType=issuetype">Bug</type>
                                            <priority id="2" iconUrl="https://issues.jboss.org/images/icons/priorities/critical.svg">Critical</priority>
                        <status id="5" iconUrl="https://issues.jboss.org/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Done</resolution>
                                        <assignee username="luck3y">Ken Wills</assignee>
                                    <reporter username="jcacek">Josef Cacek</reporter>
                        <labels>
                    </labels>
                <created>Fri, 28 Aug 2015 03:52:15 -0400</created>
                <updated>Thu, 1 Dec 2016 23:11:56 -0500</updated>
                            <resolved>Thu, 1 Dec 2016 23:11:56 -0500</resolved>
                                                    <fixVersion>11.0.0.Alpha1</fixVersion>
                                    <component>Security Manager</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>14</watches>
                                                                <comments>
                            <comment id="13309952" author="brian.stansberry" created="Thu, 20 Oct 2016 11:05:29 -0400"  >&lt;p&gt;As discussed in the Brno F2F, I agreed to assign someone to take responsibility for getting this done for WF 11 so &lt;a href=&quot;https://issues.jboss.org/secure/ViewProfile.jspa?name=sguilhen&quot; class=&quot;user-hover&quot; rel=&quot;sguilhen&quot;&gt;Stefan Guilhen&lt;/a&gt; can focus on elytron related work. So that will be Ken Wills. Stefan, Ken is looking into how you did your previous PRs on this; thanks for the explanations which seem simple enough. He&apos;ll coordinate with you and &lt;a href=&quot;https://issues.jboss.org/secure/ViewProfile.jspa?name=dlofthouse&quot; class=&quot;user-hover&quot; rel=&quot;dlofthouse&quot;&gt;Darran Lofthouse&lt;/a&gt; to work out when making this move would be least disruptive to the elytron work.&lt;/p&gt;</comment>
                            <comment id="13309978" author="sguilhen" created="Thu, 20 Oct 2016 11:43:26 -0400"  >&lt;p&gt;&lt;a href=&quot;https://issues.jboss.org/secure/ViewProfile.jspa?name=brian.stansberry&quot; class=&quot;user-hover&quot; rel=&quot;brian.stansberry&quot;&gt;Brian Stansberry&lt;/a&gt; Great, thanks for the update. I just want to point out that it would be good to have &lt;a href=&quot;https://issues.jboss.org/browse/WFLY-4882&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.jboss.org/browse/WFLY-4882&lt;/a&gt; resolved before moving the subsystem to avoid having to rework the fix. I&apos;ve updated the PR on that jira a couple of weeks ago, fixing some points as suggested by Stuart and you. Just need another review to port the patch to EAP as well.&lt;/p&gt;</comment>
                            <comment id="13314702" author="jtymel" created="Tue, 1 Nov 2016 05:39:08 -0400"  >&lt;p&gt;&lt;a href=&quot;https://issues.jboss.org/secure/ViewProfile.jspa?name=luck3y&quot; class=&quot;user-hover&quot; rel=&quot;luck3y&quot;&gt;Ken Wills&lt;/a&gt; Hi Ken, are there any updates on this issue? Do you have an estimation when the fix could be expected?&lt;/p&gt;</comment>
                            <comment id="13314905" author="luck3y" created="Tue, 1 Nov 2016 10:11:57 -0400"  >&lt;p&gt;Hi &lt;a href=&quot;https://issues.jboss.org/secure/ViewProfile.jspa?name=jtymel&quot; class=&quot;user-hover&quot; rel=&quot;jtymel&quot;&gt;Jan Tymel&lt;/a&gt; &amp;amp; All,&lt;/p&gt;

&lt;p&gt;I&apos;m aiming to have this tested on my side and ready to go by end of this week, if that works for everyone else? Does anyone have timing they would prefer?&lt;/p&gt;</comment>
                            <comment id="13314908" author="dmlloyd" created="Tue, 1 Nov 2016 10:14:32 -0400"  >&lt;p&gt;&lt;a href=&quot;https://issues.jboss.org/secure/ViewProfile.jspa?name=luck3y&quot; class=&quot;user-hover&quot; rel=&quot;luck3y&quot;&gt;Ken Wills&lt;/a&gt; you should know never to ask that question &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.jboss.org/images/icons/emoticons/wink.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/p&gt;</comment>
                            <comment id="13314915" author="brian.stansberry" created="Tue, 1 Nov 2016 10:24:32 -0400"  >&lt;p&gt;&lt;a href=&quot;https://issues.jboss.org/secure/ViewProfile.jspa?name=luck3y&quot; class=&quot;user-hover&quot; rel=&quot;luck3y&quot;&gt;Ken Wills&lt;/a&gt; Please coordinate with &lt;a href=&quot;https://issues.jboss.org/secure/ViewProfile.jspa?name=dlofthouse&quot; class=&quot;user-hover&quot; rel=&quot;dlofthouse&quot;&gt;Darran Lofthouse&lt;/a&gt; on this, and do it when he wants it. He is the guru on the elytron schedule and the elytron schedule is the key factor in all such decisions.&lt;/p&gt;</comment>
                            <comment id="13314945" author="luck3y" created="Tue, 1 Nov 2016 11:04:09 -0400"  >&lt;p&gt;&lt;a href=&quot;https://issues.jboss.org/secure/ViewProfile.jspa?name=bstansberry2&quot; class=&quot;user-hover&quot; rel=&quot;bstansberry2&quot;&gt;Brian Stansberry&lt;/a&gt; Done, I&apos;ve mailed Darran, will update with timing here when I have more info.&lt;/p&gt;</comment>
                            <comment id="13315125" author="luck3y" created="Tue, 1 Nov 2016 15:41:15 -0400"  >&lt;p&gt;After a chat with Darran and Kabir, we&apos;re looking at doing this in the 2nd week or so of November.&lt;/p&gt;</comment>
                            <comment id="13322719" author="okotek" created="Tue, 15 Nov 2016 07:07:46 -0500"  >&lt;p&gt;&lt;a href=&quot;https://issues.jboss.org/secure/ViewProfile.jspa?name=luck3y&quot; class=&quot;user-hover&quot; rel=&quot;luck3y&quot;&gt;Ken Wills&lt;/a&gt;, any update please?&lt;/p&gt;</comment>
                            <comment id="13327507" author="luck3y" created="Wed, 23 Nov 2016 19:47:28 -0500"  >&lt;p&gt;&lt;a href=&quot;https://issues.jboss.org/secure/ViewProfile.jspa?name=okotek&quot; class=&quot;user-hover&quot; rel=&quot;okotek&quot;&gt;Ondrej Kotek&lt;/a&gt; This is in progress, should be completed within the next few days.&lt;/p&gt;</comment>
                            <comment id="13331200" author="luck3y" created="Tue, 29 Nov 2016 16:34:06 -0500"  >&lt;p&gt;After some digging, here are the steps that I propose:&lt;/p&gt;

&lt;p&gt;(1) Checkout wildfly&lt;/p&gt;
&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;branch for this change $ git branch -b security-manager&lt;/li&gt;
	&lt;li&gt;git filter-branch  --subdirectory-filter security-manager &amp;#8211; --all&lt;/li&gt;
	&lt;li&gt;This will result in security-manager being moved to the root of the wildfly project, so move it back to a subdir, preserving history:&lt;br/&gt;
         git filter-branch --prune-empty --tree-filter &apos;&lt;br/&gt;
            if [[ ! -e security-manager  ]]; then&lt;br/&gt;
                 mkdir -p security-manager&lt;br/&gt;
                 git ls-tree --name-only $GIT_COMMIT | xargs -I files mv files security-manager&lt;br/&gt;
            fi&apos;&lt;/li&gt;
	&lt;li&gt;git rebase -i and remove commits up to &apos;de72c28 &lt;a href=&quot;https://issues.jboss.org/browse/WFLY-401&quot; title=&quot;Domain Model global permission block&quot; class=&quot;issue-link&quot; data-issue-key=&quot;WFLY-401&quot;&gt;&lt;del&gt;WFLY-401&lt;/del&gt;&lt;/a&gt; Add the security manager subsystem&apos;, and any &quot;Release xxx,&quot; and &quot;Next is yyy, &quot; commits.&lt;/li&gt;
	&lt;li&gt;There are a couple of trivial conflicts that need to be resolved in the rebase, resolve and rebase --continue.&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;(2) wildfly-core&lt;/p&gt;
&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;git checkout -b security-manager&lt;/li&gt;
	&lt;li&gt;git remote add wildfly &amp;lt;location of wildfly above&amp;gt;&lt;/li&gt;
	&lt;li&gt;git fetch wildfly security-manager&lt;/li&gt;
	&lt;li&gt;git pull wildfly security-manager&lt;/li&gt;
	&lt;li&gt;enable the security-manager subsystem in core, and build.&lt;span class=&quot;error&quot;&gt;&amp;#91;1&amp;#93;&lt;/span&gt;&lt;/li&gt;
	&lt;li&gt;commit this change &amp;amp; push to GH&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;(3) The wildfly security manager branch above may now be deleted&lt;/p&gt;
&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;create a new branch, and remove the security-manager, push branch to GH&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;(4)  Perform CI testing using the wildfly integration project, pointing to both branches from above.&lt;/p&gt;

&lt;p&gt;(5) Once testing etc is successful, we&apos;ll need to perform the change as follows:&lt;/p&gt;
&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;wildfly-core PR should add and enable the security-manager&lt;/li&gt;
	&lt;li&gt;wildfly PR will remove the security manager and upgrade wildfly-core to the newer version.&lt;/li&gt;
	&lt;li&gt;jbossas/jboss-eap7 7.x branch PR will remove the security manager and upgrade wildfly-core to the newer version.&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;&lt;span class=&quot;error&quot;&gt;&amp;#91;1&amp;#93;&lt;/span&gt; still needs some documentation.&lt;/p&gt;

&lt;p&gt;Example cleaned up diff here: &lt;a href=&quot;https://github.com/wildfly/wildfly-core/compare/master...luck3y:security-manager?expand=1&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://github.com/wildfly/wildfly-core/compare/master...luck3y:security-manager?expand=1&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="13331218" author="dmlloyd" created="Tue, 29 Nov 2016 17:50:15 -0500"  >&lt;p&gt;+1 from me&lt;/p&gt;</comment>
                            <comment id="13331226" author="luck3y" created="Tue, 29 Nov 2016 18:43:17 -0500"  >&lt;p&gt;Oops, yeah forgot about the EAP PR, I&apos;ll add that. I&apos;m not sure on the GAV change, it might just be a good idea to change it now, and deal with any fallout / breakage elsewhere, rather than making this change and then the GAV again at some other point in the future.&lt;/p&gt;</comment>
                            <comment id="13331230" author="brian.stansberry" created="Tue, 29 Nov 2016 19:26:50 -0500"  >&lt;p&gt;Re: the GAV, yeah, it&apos;s probably easier to deal with it in on go. Changing it later will involve yet another dance of coordinated changes.&lt;/p&gt;

&lt;p&gt;I just looked and the only uses of this artifact are in the servlet-feature-pack, which would go away regardless as the module will instead be packaged up in core&apos;s core-feature-pack. So really the only people who might care about this GAV are 1) layered products (highly doubtful) or 2) Swarm (reasonably likely as they slice and dice the server.)&lt;/p&gt;

&lt;p&gt;I&apos;ll ping &lt;a href=&quot;https://issues.jboss.org/secure/ViewProfile.jspa?name=hbraun&quot; class=&quot;user-hover&quot; rel=&quot;hbraun&quot;&gt;Heiko Braun&lt;/a&gt; to see if changes this GAV matters to them, and if it does whether maintaining an empty pom with the old GAV is helpful.&lt;/p&gt;</comment>
                            <comment id="13331796" author="bob.mcwhirter" created="Wed, 30 Nov 2016 13:53:04 -0500"  >&lt;p&gt;Swarm only cares if it can find the module in some feature-pack. We don&apos;t usually ref anything by GAV so I expect no problems. &lt;/p&gt;</comment>
                            <comment id="13331798" author="brian.stansberry" created="Wed, 30 Nov 2016 13:58:30 -0500"  >&lt;p&gt;Thanks, Bob. In that case Ken I think we should just fix the GAV in the initial work and not worry about any &quot;legacy&quot; org.wildfly:wildfly-security-manager pom artifact.&lt;/p&gt;</comment>
                            <comment id="13331811" author="luck3y" created="Wed, 30 Nov 2016 14:18:33 -0500"  >&lt;p&gt;Great, I&apos;ll do that. &lt;/p&gt;

&lt;p&gt;I&apos;ve talked with Stefan a bit, and it seems there are some discrepancies in the patch I generated. I&apos;m comparing to whats in full, we&apos;re probably just skipping commits we perhaps shouldn&apos;t.&lt;/p&gt;</comment>
                            <comment id="13331906" author="luck3y" created="Wed, 30 Nov 2016 18:11:42 -0500"  >&lt;p&gt;Updated, working core diff here, with GAV change and a manual fixup of the metadata dep removal and additional loggers added previously (see the commits at the end.)&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://github.com/wildfly/wildfly-core/compare/master...luck3y:security-manager?expand=1&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://github.com/wildfly/wildfly-core/compare/master...luck3y:security-manager?expand=1&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;As part of some rebase weirdness, removing commits up to &apos;de72c28 &lt;a href=&quot;https://issues.jboss.org/browse/WFLY-401&quot; title=&quot;Domain Model global permission block&quot; class=&quot;issue-link&quot; data-issue-key=&quot;WFLY-401&quot;&gt;&lt;del&gt;WFLY-401&lt;/del&gt;&lt;/a&gt; Add the security manager subsystem&apos; leaves some legacy code around (Security actions). I could either continue with the truncated rebase and manually remove these files at the end, or just include the complete history. I think it makes sense to go with the complete history.&lt;/p&gt;

&lt;p&gt;Core boots and works, both with and without -secmgr, though I don&apos;t know how to test it further than that &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.jboss.org/images/icons/emoticons/smile.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/p&gt;</comment>
                            <comment id="13331919" author="luck3y" created="Wed, 30 Nov 2016 18:55:02 -0500"  >&lt;p&gt;wildfly full diff here: &lt;a href=&quot;https://github.com/wildfly/wildfly/compare/master...luck3y:WFLY-5227?expand=1&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://github.com/wildfly/wildfly/compare/master...luck3y:WFLY-5227?expand=1&lt;/a&gt; and the tests are running a custom CI job.&lt;/p&gt;</comment>
                            <comment id="13332430" author="luck3y" created="Thu, 1 Dec 2016 10:25:27 -0500"  >&lt;p&gt;Custom CI run here: &lt;a href=&quot;https://ci.wildfly.org/viewLog.html?buildId=35740&amp;amp;tab=buildResultsDiv&amp;amp;buildTypeId=WF_WildFlyCoreIntegrationExperiments&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://ci.wildfly.org/viewLog.html?buildId=35740&amp;amp;tab=buildResultsDiv&amp;amp;buildTypeId=WF_WildFlyCoreIntegrationExperiments&lt;/a&gt;&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="12310120">
                    <name>Cloners</name>
                                                                <inwardlinks description="cloned to">
                                        <issuelink>
            <issuekey id="12650764">JBEAP-6063</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                            <issuelinktype id="12310001">
                    <name>Related</name>
                                            <outwardlinks description="relates to">
                                        <issuelink>
            <issuekey id="12642677">WFLY-6936</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                    </issuelinks>
                <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310641" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Number of attachments</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310640" key="com.atlassian.jira.toolkit:comments">
                        <customfieldname>Number of comments</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>20.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12311940" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1|hzy71j:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310840" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                    </customfields>
    </item>
</channel>
</rss>