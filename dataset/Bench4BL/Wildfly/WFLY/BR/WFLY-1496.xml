<!-- 
RSS generated by JIRA (7.2.3#72005-sha1:73be91d2b96fc29303a7eb6820acf420e5d0ed65) at Tue Dec 06 15:33:55 EST 2016

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary add field=key&field=summary to the URL of your request.
For example:
https://issues.jboss.org/si/jira.issueviews:issue-xml/WFLY-1496/WFLY-1496.xml?field=key&amp;field=summary
-->
<rss version="0.92" >
<channel>
    <title>JBoss Issue Tracker</title>
    <link>https://issues.jboss.org</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-us</language>    <build-info>
        <version>7.2.3</version>
        <build-number>72005</build-number>
        <build-date>06-10-2016</build-date>
    </build-info>

<item>
            <title>[WFLY-1496] @Transactional doesn&apos;t work</title>
                <link>https://issues.jboss.org/browse/WFLY-1496</link>
                <project id="12313721" key="WFLY">WildFly</project>
                    <description>&lt;p&gt;I just tried the WildFly Alpha 2 snapshot containing Narayana 5.0.0.M3 and get the error message below. The classes causing the error are:&lt;br/&gt;
@Path(&quot;/bestellungen&quot;)&lt;br/&gt;
@Produces(&lt;/p&gt;
{ APPLICATION_JSON, APPLICATION_XML }
&lt;p&gt;)&lt;br/&gt;
//@RequestScoped is default for JAX-RS&lt;br/&gt;
@Transactional&lt;br/&gt;
public class BestellungResource &lt;/p&gt;
{
@Inject
private BestellungService bs;
...
}

&lt;p&gt;@Transactional(TxType.MANDATORY)&lt;br/&gt;
public class BestellungServiceImpl implements Serializable &lt;/p&gt;
{
	private static final long serialVersionUID = ...L;
	
	@PersistenceContext
	private transient EntityManager em;

// method invoking JPA / Hibernate
}

&lt;p&gt;The fragment of server.log:&lt;br/&gt;
15:11:43,254 DEBUG &lt;span class=&quot;error&quot;&gt;&amp;#91;org.hibernate.SQL&amp;#93;&lt;/span&gt; &lt;br/&gt;
    /* named HQL query Bestellung.findKundeById */ select&lt;br/&gt;
        distinct abstractku1_.id as id2_8_,&lt;br/&gt;
        abstractku1_.aktualisiert as aktualis3_8_,&lt;br/&gt;
        abstractku1_.bemerkungen as bemerkun4_8_,&lt;br/&gt;
        abstractku1_.email as email5_8_,&lt;br/&gt;
        abstractku1_.erzeugt as erzeugt6_8_,&lt;br/&gt;
        abstractku1_.file_fk as file18_8_,&lt;br/&gt;
        abstractku1_.kategorie as kategori7_8_,&lt;br/&gt;
        abstractku1_.nachname as nachname8_8_,&lt;br/&gt;
        abstractku1_.newsletter as newslett9_8_,&lt;br/&gt;
        abstractku1_.password as passwor10_8_,&lt;br/&gt;
        abstractku1_.rabatt as rabatt11_8_,&lt;br/&gt;
        abstractku1_.seit as seit12_8_,&lt;br/&gt;
        abstractku1_.umsatz as umsatz13_8_,&lt;br/&gt;
        abstractku1_.version as version14_8_,&lt;br/&gt;
        abstractku1_.vorname as vorname15_8_,&lt;br/&gt;
        abstractku1_.familienstand_fk as familie16_8_,&lt;br/&gt;
        abstractku1_.geschlecht_fk as geschle17_8_,&lt;br/&gt;
        abstractku1_.art as art1_8_ &lt;br/&gt;
    from&lt;br/&gt;
        Bestellung bestellung0_ &lt;br/&gt;
    inner join&lt;br/&gt;
        kunde abstractku1_ &lt;br/&gt;
            on bestellung0_.kunde_fk=abstractku1_.id &lt;br/&gt;
    where&lt;br/&gt;
        bestellung0_.id=?&lt;br/&gt;
15:11:43,254 WARN  &lt;span class=&quot;error&quot;&gt;&amp;#91;org.hibernate.engine.jdbc.spi.SqlExceptionHelper&amp;#93;&lt;/span&gt; SQL Error: 0, SQLState: null&lt;br/&gt;
15:11:43,254 ERROR &lt;span class=&quot;error&quot;&gt;&amp;#91;org.hibernate.engine.jdbc.spi.SqlExceptionHelper&amp;#93;&lt;/span&gt; UserTransaction is not available within the scope of a bean or method annotated with @Transactional and a Transactional.TxType other than NOT_SUPPORTED or NEVER&lt;/p&gt;</description>
                <environment></environment>
        <key id="12494025">WFLY-1496</key>
            <summary>@Transactional doesn&apos;t work</summary>
                <type id="1" iconUrl="https://issues.jboss.org/secure/viewavatar?size=xsmall&amp;avatarId=13263&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.jboss.org/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.jboss.org/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Done</resolution>
                                        <assignee username="maeste">Stefano Maestri</assignee>
                                    <reporter username="juergen.zimmermann">Juergen Zimmermann</reporter>
                        <labels>
                    </labels>
                <created>Tue, 11 Jun 2013 09:38:57 -0400</created>
                <updated>Thu, 22 Aug 2013 12:03:21 -0400</updated>
                            <resolved>Thu, 22 Aug 2013 12:03:21 -0400</resolved>
                                    <version>8.0.0.Alpha2</version>
                                    <fixVersion>8.0.0.Beta1</fixVersion>
                                    <component>JCA</component>
                    <component>Transactions</component>
                        <due></due>
                            <votes>1</votes>
                                    <watches>5</watches>
                                                                <comments>
                            <comment id="12780842" author="juergen.zimmermann" created="Tue, 11 Jun 2013 11:04:16 -0400"  >&lt;p&gt;Stacktrace from server.log:&lt;/p&gt;

&lt;p&gt;16:55:53,839 DEBUG &lt;span class=&quot;error&quot;&gt;&amp;#91;org.hibernate.engine.jdbc.internal.LogicalConnectionImpl&amp;#93;&lt;/span&gt; Obtaining JDBC connection&lt;br/&gt;
16:55:53,839 DEBUG &lt;span class=&quot;error&quot;&gt;&amp;#91;org.hibernate.engine.jdbc.internal.LogicalConnectionImpl&amp;#93;&lt;/span&gt; Obtained JDBC connection&lt;br/&gt;
16:55:53,839 DEBUG &lt;span class=&quot;error&quot;&gt;&amp;#91;org.hibernate.engine.jdbc.spi.SqlExceptionHelper&amp;#93;&lt;/span&gt; could not prepare statement &lt;span class=&quot;error&quot;&gt;&amp;#91;/* named HQL query Bestellung.findKundeById */ select distinct ...&amp;#93;&lt;/span&gt;: java.sql.SQLException: UserTransaction is not available within the scope of a bean or method annotated with @Transactional and a Transactional.TxType other than NOT_SUPPORTED or NEVER&lt;br/&gt;
	at org.jboss.jca.adapters.jdbc.WrapperDataSource.checkTransactionActive(WrapperDataSource.java:263)&lt;br/&gt;
	at org.jboss.jca.adapters.jdbc.WrappedConnection.checkTransactionActive(WrappedConnection.java:1599)&lt;br/&gt;
	at org.jboss.jca.adapters.jdbc.WrappedConnection.checkStatus(WrappedConnection.java:1614)&lt;br/&gt;
	at org.jboss.jca.adapters.jdbc.WrappedConnection.checkTransaction(WrappedConnection.java:1588)&lt;br/&gt;
	at org.jboss.jca.adapters.jdbc.WrappedConnection.prepareStatement(WrappedConnection.java:397)&lt;br/&gt;
	at org.hibernate.engine.jdbc.internal.StatementPreparerImpl$5.doPrepare(StatementPreparerImpl.java:164) &lt;span class=&quot;error&quot;&gt;&amp;#91;hibernate-core-4.3.0.Beta3.jar:4.3.0.Beta3&amp;#93;&lt;/span&gt;&lt;br/&gt;
	at org.hibernate.engine.jdbc.internal.StatementPreparerImpl$StatementPreparationTemplate.prepareStatement(StatementPreparerImpl.java:185) &lt;span class=&quot;error&quot;&gt;&amp;#91;hibernate-core-4.3.0.Beta3.jar:4.3.0.Beta3&amp;#93;&lt;/span&gt;&lt;br/&gt;
	at org.hibernate.engine.jdbc.internal.StatementPreparerImpl.prepareQueryStatement(StatementPreparerImpl.java:162) &lt;span class=&quot;error&quot;&gt;&amp;#91;hibernate-core-4.3.0.Beta3.jar:4.3.0.Beta3&amp;#93;&lt;/span&gt;&lt;br/&gt;
	at org.hibernate.loader.Loader.prepareQueryStatement(Loader.java:1859) &lt;span class=&quot;error&quot;&gt;&amp;#91;hibernate-core-4.3.0.Beta3.jar:4.3.0.Beta3&amp;#93;&lt;/span&gt;&lt;br/&gt;
	at org.hibernate.loader.Loader.executeQueryStatement(Loader.java:1836) &lt;span class=&quot;error&quot;&gt;&amp;#91;hibernate-core-4.3.0.Beta3.jar:4.3.0.Beta3&amp;#93;&lt;/span&gt;&lt;br/&gt;
	at org.hibernate.loader.Loader.executeQueryStatement(Loader.java:1813) &lt;span class=&quot;error&quot;&gt;&amp;#91;hibernate-core-4.3.0.Beta3.jar:4.3.0.Beta3&amp;#93;&lt;/span&gt;&lt;br/&gt;
	at org.hibernate.loader.Loader.doQuery(Loader.java:895) &lt;span class=&quot;error&quot;&gt;&amp;#91;hibernate-core-4.3.0.Beta3.jar:4.3.0.Beta3&amp;#93;&lt;/span&gt;&lt;br/&gt;
	at org.hibernate.loader.Loader.doQueryAndInitializeNonLazyCollections(Loader.java:340) &lt;span class=&quot;error&quot;&gt;&amp;#91;hibernate-core-4.3.0.Beta3.jar:4.3.0.Beta3&amp;#93;&lt;/span&gt;&lt;br/&gt;
	at org.hibernate.loader.Loader.doList(Loader.java:2523) &lt;span class=&quot;error&quot;&gt;&amp;#91;hibernate-core-4.3.0.Beta3.jar:4.3.0.Beta3&amp;#93;&lt;/span&gt;&lt;br/&gt;
	at org.hibernate.loader.Loader.doList(Loader.java:2509) &lt;span class=&quot;error&quot;&gt;&amp;#91;hibernate-core-4.3.0.Beta3.jar:4.3.0.Beta3&amp;#93;&lt;/span&gt;&lt;br/&gt;
	at org.hibernate.loader.Loader.listIgnoreQueryCache(Loader.java:2339) &lt;span class=&quot;error&quot;&gt;&amp;#91;hibernate-core-4.3.0.Beta3.jar:4.3.0.Beta3&amp;#93;&lt;/span&gt;&lt;br/&gt;
	at org.hibernate.loader.Loader.list(Loader.java:2334) &lt;span class=&quot;error&quot;&gt;&amp;#91;hibernate-core-4.3.0.Beta3.jar:4.3.0.Beta3&amp;#93;&lt;/span&gt;&lt;br/&gt;
	at org.hibernate.loader.hql.QueryLoader.list(QueryLoader.java:491) &lt;span class=&quot;error&quot;&gt;&amp;#91;hibernate-core-4.3.0.Beta3.jar:4.3.0.Beta3&amp;#93;&lt;/span&gt;&lt;br/&gt;
	at org.hibernate.hql.internal.ast.QueryTranslatorImpl.list(QueryTranslatorImpl.java:369) &lt;span class=&quot;error&quot;&gt;&amp;#91;hibernate-core-4.3.0.Beta3.jar:4.3.0.Beta3&amp;#93;&lt;/span&gt;&lt;br/&gt;
	at org.hibernate.engine.query.spi.HQLQueryPlan.performList(HQLQueryPlan.java:222) &lt;span class=&quot;error&quot;&gt;&amp;#91;hibernate-core-4.3.0.Beta3.jar:4.3.0.Beta3&amp;#93;&lt;/span&gt;&lt;br/&gt;
	at org.hibernate.internal.SessionImpl.list(SessionImpl.java:1270) &lt;span class=&quot;error&quot;&gt;&amp;#91;hibernate-core-4.3.0.Beta3.jar:4.3.0.Beta3&amp;#93;&lt;/span&gt;&lt;br/&gt;
	at org.hibernate.internal.QueryImpl.list(QueryImpl.java:101) &lt;span class=&quot;error&quot;&gt;&amp;#91;hibernate-core-4.3.0.Beta3.jar:4.3.0.Beta3&amp;#93;&lt;/span&gt;&lt;br/&gt;
	at org.hibernate.jpa.internal.QueryImpl.getSingleResult(QueryImpl.java:381) &lt;span class=&quot;error&quot;&gt;&amp;#91;hibernate-entitymanager-4.3.0.Beta3.jar:4.3.0.Beta3&amp;#93;&lt;/span&gt;&lt;br/&gt;
	at de.shop.bestellverwaltung.service.BestellungServiceImpl.findKundeById(BestellungServiceImpl.java:105) &lt;span class=&quot;error&quot;&gt;&amp;#91;classes:&amp;#93;&lt;/span&gt;&lt;br/&gt;
	at de.shop.bestellverwaltung.service.BestellungServiceImpl$Proxy$_$$_WeldSubclass.findKundeById(Unknown Source) &lt;span class=&quot;error&quot;&gt;&amp;#91;classes:&amp;#93;&lt;/span&gt;&lt;br/&gt;
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) &lt;span class=&quot;error&quot;&gt;&amp;#91;rt.jar:1.7.0_21&amp;#93;&lt;/span&gt;&lt;br/&gt;
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:57) &lt;span class=&quot;error&quot;&gt;&amp;#91;rt.jar:1.7.0_21&amp;#93;&lt;/span&gt;&lt;br/&gt;
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) &lt;span class=&quot;error&quot;&gt;&amp;#91;rt.jar:1.7.0_21&amp;#93;&lt;/span&gt;&lt;br/&gt;
	at java.lang.reflect.Method.invoke(Method.java:601) &lt;span class=&quot;error&quot;&gt;&amp;#91;rt.jar:1.7.0_21&amp;#93;&lt;/span&gt;&lt;br/&gt;
	at org.jboss.weld.interceptor.proxy.SimpleInterceptionChain.interceptorChainCompleted(SimpleInterceptionChain.java:47) &lt;span class=&quot;error&quot;&gt;&amp;#91;weld-core-2.0.0.CR4.jar:2013-04-21 15:57&amp;#93;&lt;/span&gt;&lt;br/&gt;
	at org.jboss.weld.interceptor.chain.AbstractInterceptionChain.invokeNextInterceptor(AbstractInterceptionChain.java:80) &lt;span class=&quot;error&quot;&gt;&amp;#91;weld-core-2.0.0.CR4.jar:2013-04-21 15:57&amp;#93;&lt;/span&gt;&lt;br/&gt;
	at org.jboss.weld.interceptor.proxy.InterceptorInvocationContext.proceed(InterceptorInvocationContext.java:141) &lt;span class=&quot;error&quot;&gt;&amp;#91;weld-core-2.0.0.CR4.jar:2013-04-21 15:57&amp;#93;&lt;/span&gt;&lt;br/&gt;
	at de.shop.util.LogInterceptor.log(LogInterceptor.java:73) &lt;span class=&quot;error&quot;&gt;&amp;#91;classes:&amp;#93;&lt;/span&gt;&lt;br/&gt;
	at sun.reflect.GeneratedMethodAccessor66.invoke(Unknown Source) &lt;span class=&quot;error&quot;&gt;&amp;#91;:1.7.0_21&amp;#93;&lt;/span&gt;&lt;br/&gt;
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) &lt;span class=&quot;error&quot;&gt;&amp;#91;rt.jar:1.7.0_21&amp;#93;&lt;/span&gt;&lt;br/&gt;
	at java.lang.reflect.Method.invoke(Method.java:601) &lt;span class=&quot;error&quot;&gt;&amp;#91;rt.jar:1.7.0_21&amp;#93;&lt;/span&gt;&lt;br/&gt;
	at org.jboss.weld.interceptor.proxy.SimpleMethodInvocation.invoke(SimpleMethodInvocation.java:30) &lt;span class=&quot;error&quot;&gt;&amp;#91;weld-core-2.0.0.CR4.jar:2013-04-21 15:57&amp;#93;&lt;/span&gt;&lt;br/&gt;
	at org.jboss.weld.interceptor.chain.AbstractInterceptionChain.invokeNext(AbstractInterceptionChain.java:93) &lt;span class=&quot;error&quot;&gt;&amp;#91;weld-core-2.0.0.CR4.jar:2013-04-21 15:57&amp;#93;&lt;/span&gt;&lt;br/&gt;
	at org.jboss.weld.interceptor.chain.AbstractInterceptionChain.invokeNextInterceptor(AbstractInterceptionChain.java:78) &lt;span class=&quot;error&quot;&gt;&amp;#91;weld-core-2.0.0.CR4.jar:2013-04-21 15:57&amp;#93;&lt;/span&gt;&lt;br/&gt;
	at org.jboss.weld.interceptor.proxy.InterceptorInvocationContext.proceed(InterceptorInvocationContext.java:141) &lt;span class=&quot;error&quot;&gt;&amp;#91;weld-core-2.0.0.CR4.jar:2013-04-21 15:57&amp;#93;&lt;/span&gt;&lt;br/&gt;
	at com.arjuna.ats.jta.cdi.transactional.TransactionalInterceptorBase.invokeInCallerTx(TransactionalInterceptorBase.java:82) [narayana-jts-jacorb-5.0.0.M3.jar:5.0.0.M3 (revision: $&lt;/p&gt;
{buildNumber})]&lt;br/&gt;
	at com.arjuna.ats.jta.cdi.transactional.TransactionalInterceptorMandatory.intercept(TransactionalInterceptorMandatory.java:58) [narayana-jts-jacorb-5.0.0.M3.jar:5.0.0.M3 (revision: ${buildNumber}
&lt;p&gt;)]&lt;br/&gt;
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) &lt;span class=&quot;error&quot;&gt;&amp;#91;rt.jar:1.7.0_21&amp;#93;&lt;/span&gt;&lt;br/&gt;
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:57) &lt;span class=&quot;error&quot;&gt;&amp;#91;rt.jar:1.7.0_21&amp;#93;&lt;/span&gt;&lt;br/&gt;
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) &lt;span class=&quot;error&quot;&gt;&amp;#91;rt.jar:1.7.0_21&amp;#93;&lt;/span&gt;&lt;br/&gt;
	at java.lang.reflect.Method.invoke(Method.java:601) &lt;span class=&quot;error&quot;&gt;&amp;#91;rt.jar:1.7.0_21&amp;#93;&lt;/span&gt;&lt;br/&gt;
	at org.jboss.weld.interceptor.proxy.SimpleMethodInvocation.invoke(SimpleMethodInvocation.java:30) &lt;span class=&quot;error&quot;&gt;&amp;#91;weld-core-2.0.0.CR4.jar:2013-04-21 15:57&amp;#93;&lt;/span&gt;&lt;br/&gt;
	at org.jboss.weld.interceptor.chain.AbstractInterceptionChain.invokeNext(AbstractInterceptionChain.java:93) &lt;span class=&quot;error&quot;&gt;&amp;#91;weld-core-2.0.0.CR4.jar:2013-04-21 15:57&amp;#93;&lt;/span&gt;&lt;br/&gt;
	at org.jboss.weld.interceptor.chain.AbstractInterceptionChain.invokeNextInterceptor(AbstractInterceptionChain.java:78) &lt;span class=&quot;error&quot;&gt;&amp;#91;weld-core-2.0.0.CR4.jar:2013-04-21 15:57&amp;#93;&lt;/span&gt;&lt;br/&gt;
	at org.jboss.weld.interceptor.proxy.InterceptorMethodHandler.executeInterception(InterceptorMethodHandler.java:48) &lt;span class=&quot;error&quot;&gt;&amp;#91;weld-core-2.0.0.CR4.jar:2013-04-21 15:57&amp;#93;&lt;/span&gt;&lt;br/&gt;
	at org.jboss.weld.interceptor.proxy.InterceptorMethodHandler.invoke(InterceptorMethodHandler.java:41) &lt;span class=&quot;error&quot;&gt;&amp;#91;weld-core-2.0.0.CR4.jar:2013-04-21 15:57&amp;#93;&lt;/span&gt;&lt;br/&gt;
	at org.jboss.weld.bean.proxy.CombinedInterceptorAndDecoratorStackMethodHandler.invoke(CombinedInterceptorAndDecoratorStackMethodHandler.java:53) &lt;span class=&quot;error&quot;&gt;&amp;#91;weld-core-2.0.0.CR4.jar:2013-04-21 15:57&amp;#93;&lt;/span&gt;&lt;br/&gt;
	at de.shop.bestellverwaltung.service.BestellungServiceImpl$Proxy$_$$_WeldSubclass.findKundeById(Unknown Source) &lt;span class=&quot;error&quot;&gt;&amp;#91;classes:&amp;#93;&lt;/span&gt;&lt;br/&gt;
	at de.shop.bestellverwaltung.rest.BestellungResource.findKundeByBestellungId(BestellungResource.java:129) &lt;span class=&quot;error&quot;&gt;&amp;#91;classes:&amp;#93;&lt;/span&gt;&lt;br/&gt;
	at de.shop.bestellverwaltung.rest.BestellungResource$Proxy$_$$_WeldSubclass.findKundeByBestellungId(Unknown Source) &lt;span class=&quot;error&quot;&gt;&amp;#91;classes:&amp;#93;&lt;/span&gt;&lt;br/&gt;
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) &lt;span class=&quot;error&quot;&gt;&amp;#91;rt.jar:1.7.0_21&amp;#93;&lt;/span&gt;&lt;br/&gt;
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:57) &lt;span class=&quot;error&quot;&gt;&amp;#91;rt.jar:1.7.0_21&amp;#93;&lt;/span&gt;&lt;br/&gt;
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) &lt;span class=&quot;error&quot;&gt;&amp;#91;rt.jar:1.7.0_21&amp;#93;&lt;/span&gt;&lt;br/&gt;
	at java.lang.reflect.Method.invoke(Method.java:601) &lt;span class=&quot;error&quot;&gt;&amp;#91;rt.jar:1.7.0_21&amp;#93;&lt;/span&gt;&lt;br/&gt;
	at org.jboss.weld.interceptor.proxy.SimpleInterceptionChain.interceptorChainCompleted(SimpleInterceptionChain.java:47) &lt;span class=&quot;error&quot;&gt;&amp;#91;weld-core-2.0.0.CR4.jar:2013-04-21 15:57&amp;#93;&lt;/span&gt;&lt;br/&gt;
	at org.jboss.weld.interceptor.chain.AbstractInterceptionChain.invokeNextInterceptor(AbstractInterceptionChain.java:80) &lt;span class=&quot;error&quot;&gt;&amp;#91;weld-core-2.0.0.CR4.jar:2013-04-21 15:57&amp;#93;&lt;/span&gt;&lt;br/&gt;
	at org.jboss.weld.interceptor.proxy.InterceptorInvocationContext.proceed(InterceptorInvocationContext.java:141) &lt;span class=&quot;error&quot;&gt;&amp;#91;weld-core-2.0.0.CR4.jar:2013-04-21 15:57&amp;#93;&lt;/span&gt;&lt;br/&gt;
	at de.shop.util.LogInterceptor.log(LogInterceptor.java:73) &lt;span class=&quot;error&quot;&gt;&amp;#91;classes:&amp;#93;&lt;/span&gt;&lt;br/&gt;
	at sun.reflect.GeneratedMethodAccessor66.invoke(Unknown Source) &lt;span class=&quot;error&quot;&gt;&amp;#91;:1.7.0_21&amp;#93;&lt;/span&gt;&lt;br/&gt;
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) &lt;span class=&quot;error&quot;&gt;&amp;#91;rt.jar:1.7.0_21&amp;#93;&lt;/span&gt;&lt;br/&gt;
	at java.lang.reflect.Method.invoke(Method.java:601) &lt;span class=&quot;error&quot;&gt;&amp;#91;rt.jar:1.7.0_21&amp;#93;&lt;/span&gt;&lt;br/&gt;
	at org.jboss.weld.interceptor.proxy.SimpleMethodInvocation.invoke(SimpleMethodInvocation.java:30) &lt;span class=&quot;error&quot;&gt;&amp;#91;weld-core-2.0.0.CR4.jar:2013-04-21 15:57&amp;#93;&lt;/span&gt;&lt;br/&gt;
	at org.jboss.weld.interceptor.chain.AbstractInterceptionChain.invokeNext(AbstractInterceptionChain.java:93) &lt;span class=&quot;error&quot;&gt;&amp;#91;weld-core-2.0.0.CR4.jar:2013-04-21 15:57&amp;#93;&lt;/span&gt;&lt;br/&gt;
	at org.jboss.weld.interceptor.chain.AbstractInterceptionChain.invokeNextInterceptor(AbstractInterceptionChain.java:78) &lt;span class=&quot;error&quot;&gt;&amp;#91;weld-core-2.0.0.CR4.jar:2013-04-21 15:57&amp;#93;&lt;/span&gt;&lt;br/&gt;
	at org.jboss.weld.interceptor.proxy.InterceptorInvocationContext.proceed(InterceptorInvocationContext.java:141) &lt;span class=&quot;error&quot;&gt;&amp;#91;weld-core-2.0.0.CR4.jar:2013-04-21 15:57&amp;#93;&lt;/span&gt;&lt;br/&gt;
	at com.arjuna.ats.jta.cdi.transactional.TransactionalInterceptorBase.invokeInOurTx(TransactionalInterceptorBase.java:70) [narayana-jts-jacorb-5.0.0.M3.jar:5.0.0.M3 (revision: $&lt;/p&gt;
{buildNumber})]&lt;br/&gt;
	at com.arjuna.ats.jta.cdi.transactional.TransactionalInterceptorRequired.intercept(TransactionalInterceptorRequired.java:52) [narayana-jts-jacorb-5.0.0.M3.jar:5.0.0.M3 (revision: ${buildNumber}
&lt;p&gt;)]&lt;br/&gt;
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) &lt;span class=&quot;error&quot;&gt;&amp;#91;rt.jar:1.7.0_21&amp;#93;&lt;/span&gt;&lt;br/&gt;
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:57) &lt;span class=&quot;error&quot;&gt;&amp;#91;rt.jar:1.7.0_21&amp;#93;&lt;/span&gt;&lt;br/&gt;
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) &lt;span class=&quot;error&quot;&gt;&amp;#91;rt.jar:1.7.0_21&amp;#93;&lt;/span&gt;&lt;br/&gt;
	at java.lang.reflect.Method.invoke(Method.java:601) &lt;span class=&quot;error&quot;&gt;&amp;#91;rt.jar:1.7.0_21&amp;#93;&lt;/span&gt;&lt;br/&gt;
	at org.jboss.weld.interceptor.proxy.SimpleMethodInvocation.invoke(SimpleMethodInvocation.java:30) &lt;span class=&quot;error&quot;&gt;&amp;#91;weld-core-2.0.0.CR4.jar:2013-04-21 15:57&amp;#93;&lt;/span&gt;&lt;br/&gt;
	at org.jboss.weld.interceptor.chain.AbstractInterceptionChain.invokeNext(AbstractInterceptionChain.java:93) &lt;span class=&quot;error&quot;&gt;&amp;#91;weld-core-2.0.0.CR4.jar:2013-04-21 15:57&amp;#93;&lt;/span&gt;&lt;br/&gt;
	at org.jboss.weld.interceptor.chain.AbstractInterceptionChain.invokeNextInterceptor(AbstractInterceptionChain.java:78) &lt;span class=&quot;error&quot;&gt;&amp;#91;weld-core-2.0.0.CR4.jar:2013-04-21 15:57&amp;#93;&lt;/span&gt;&lt;br/&gt;
	at org.jboss.weld.interceptor.proxy.InterceptorMethodHandler.executeInterception(InterceptorMethodHandler.java:48) &lt;span class=&quot;error&quot;&gt;&amp;#91;weld-core-2.0.0.CR4.jar:2013-04-21 15:57&amp;#93;&lt;/span&gt;&lt;br/&gt;
	at org.jboss.weld.interceptor.proxy.InterceptorMethodHandler.invoke(InterceptorMethodHandler.java:41) &lt;span class=&quot;error&quot;&gt;&amp;#91;weld-core-2.0.0.CR4.jar:2013-04-21 15:57&amp;#93;&lt;/span&gt;&lt;br/&gt;
	at org.jboss.weld.bean.proxy.CombinedInterceptorAndDecoratorStackMethodHandler.invoke(CombinedInterceptorAndDecoratorStackMethodHandler.java:53) &lt;span class=&quot;error&quot;&gt;&amp;#91;weld-core-2.0.0.CR4.jar:2013-04-21 15:57&amp;#93;&lt;/span&gt;&lt;br/&gt;
	at de.shop.bestellverwaltung.rest.BestellungResource$Proxy$_$$_WeldSubclass.findKundeByBestellungId(Unknown Source) &lt;span class=&quot;error&quot;&gt;&amp;#91;classes:&amp;#93;&lt;/span&gt;&lt;br/&gt;
	at de.shop.bestellverwaltung.rest.BestellungResource$Proxy$_$$_WeldClientProxy.findKundeByBestellungId(Unknown Source) &lt;span class=&quot;error&quot;&gt;&amp;#91;classes:&amp;#93;&lt;/span&gt;&lt;br/&gt;
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) &lt;span class=&quot;error&quot;&gt;&amp;#91;rt.jar:1.7.0_21&amp;#93;&lt;/span&gt;&lt;br/&gt;
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:57) &lt;span class=&quot;error&quot;&gt;&amp;#91;rt.jar:1.7.0_21&amp;#93;&lt;/span&gt;&lt;br/&gt;
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) &lt;span class=&quot;error&quot;&gt;&amp;#91;rt.jar:1.7.0_21&amp;#93;&lt;/span&gt;&lt;br/&gt;
	at java.lang.reflect.Method.invoke(Method.java:601) &lt;span class=&quot;error&quot;&gt;&amp;#91;rt.jar:1.7.0_21&amp;#93;&lt;/span&gt;&lt;br/&gt;
	at org.jboss.resteasy.core.MethodInjectorImpl.invoke(MethodInjectorImpl.java:141) &lt;span class=&quot;error&quot;&gt;&amp;#91;resteasy-jaxrs-3.0-beta-6.jar:&amp;#93;&lt;/span&gt;&lt;br/&gt;
	at org.jboss.resteasy.core.ResourceMethodInvoker.invokeOnTarget(ResourceMethodInvoker.java:275) &lt;span class=&quot;error&quot;&gt;&amp;#91;resteasy-jaxrs-3.0-beta-6.jar:&amp;#93;&lt;/span&gt;&lt;br/&gt;
	at org.jboss.resteasy.core.ResourceMethodInvoker.invoke(ResourceMethodInvoker.java:235) &lt;span class=&quot;error&quot;&gt;&amp;#91;resteasy-jaxrs-3.0-beta-6.jar:&amp;#93;&lt;/span&gt;&lt;br/&gt;
	at org.jboss.resteasy.core.ResourceMethodInvoker.invoke(ResourceMethodInvoker.java:222) &lt;span class=&quot;error&quot;&gt;&amp;#91;resteasy-jaxrs-3.0-beta-6.jar:&amp;#93;&lt;/span&gt;&lt;br/&gt;
	at org.jboss.resteasy.core.SynchronousDispatcher.invoke(SynchronousDispatcher.java:356) &lt;span class=&quot;error&quot;&gt;&amp;#91;resteasy-jaxrs-3.0-beta-6.jar:&amp;#93;&lt;/span&gt;&lt;br/&gt;
	at org.jboss.resteasy.core.SynchronousDispatcher.invoke(SynchronousDispatcher.java:179) &lt;span class=&quot;error&quot;&gt;&amp;#91;resteasy-jaxrs-3.0-beta-6.jar:&amp;#93;&lt;/span&gt;&lt;br/&gt;
	at org.jboss.resteasy.plugins.server.servlet.ServletContainerDispatcher.service(ServletContainerDispatcher.java:220) &lt;span class=&quot;error&quot;&gt;&amp;#91;resteasy-jaxrs-3.0-beta-6.jar:&amp;#93;&lt;/span&gt;&lt;br/&gt;
	at org.jboss.resteasy.plugins.server.servlet.HttpServletDispatcher.service(HttpServletDispatcher.java:56) &lt;span class=&quot;error&quot;&gt;&amp;#91;resteasy-jaxrs-3.0-beta-6.jar:&amp;#93;&lt;/span&gt;&lt;br/&gt;
	at org.jboss.resteasy.plugins.server.servlet.HttpServletDispatcher.service(HttpServletDispatcher.java:51) &lt;span class=&quot;error&quot;&gt;&amp;#91;resteasy-jaxrs-3.0-beta-6.jar:&amp;#93;&lt;/span&gt;&lt;br/&gt;
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:790) &lt;span class=&quot;error&quot;&gt;&amp;#91;jboss-servlet-api_3.1_spec-1.0.0.Alpha1.jar:1.0.0.Alpha1&amp;#93;&lt;/span&gt;&lt;br/&gt;
	at io.undertow.servlet.handlers.ServletHandler.handleRequest(ServletHandler.java:87) &lt;span class=&quot;error&quot;&gt;&amp;#91;undertow-servlet-1.0.0.Alpha18.jar:1.0.0.Alpha18&amp;#93;&lt;/span&gt;&lt;br/&gt;
	at io.undertow.servlet.handlers.FilterHandler$FilterChainImpl.doFilter(FilterHandler.java:130) &lt;span class=&quot;error&quot;&gt;&amp;#91;undertow-servlet-1.0.0.Alpha18.jar:1.0.0.Alpha18&amp;#93;&lt;/span&gt;&lt;br/&gt;
	at io.undertow.websockets.jsr.JsrWebSocketFilter.doFilter(JsrWebSocketFilter.java:138) &lt;span class=&quot;error&quot;&gt;&amp;#91;undertow-websockets-jsr-1.0.0.Alpha18.jar:1.0.0.Alpha18&amp;#93;&lt;/span&gt;&lt;br/&gt;
	at io.undertow.servlet.core.ManagedFilter.doFilter(ManagedFilter.java:56) &lt;span class=&quot;error&quot;&gt;&amp;#91;undertow-servlet-1.0.0.Alpha18.jar:1.0.0.Alpha18&amp;#93;&lt;/span&gt;&lt;br/&gt;
	at io.undertow.servlet.handlers.FilterHandler$FilterChainImpl.doFilter(FilterHandler.java:132) &lt;span class=&quot;error&quot;&gt;&amp;#91;undertow-servlet-1.0.0.Alpha18.jar:1.0.0.Alpha18&amp;#93;&lt;/span&gt;&lt;br/&gt;
	at io.undertow.servlet.handlers.FilterHandler.handleRequest(FilterHandler.java:85) &lt;span class=&quot;error&quot;&gt;&amp;#91;undertow-servlet-1.0.0.Alpha18.jar:1.0.0.Alpha18&amp;#93;&lt;/span&gt;&lt;br/&gt;
	at io.undertow.servlet.handlers.security.ServletSecurityRoleHandler.handleRequest(ServletSecurityRoleHandler.java:56) &lt;span class=&quot;error&quot;&gt;&amp;#91;undertow-servlet-1.0.0.Alpha18.jar:1.0.0.Alpha18&amp;#93;&lt;/span&gt;&lt;br/&gt;
	at io.undertow.servlet.handlers.ServletDispatchingHandler.handleRequest(ServletDispatchingHandler.java:36) &lt;span class=&quot;error&quot;&gt;&amp;#91;undertow-servlet-1.0.0.Alpha18.jar:1.0.0.Alpha18&amp;#93;&lt;/span&gt;&lt;br/&gt;
	at org.wildfly.extension.undertow.security.SecurityContextAssociationHandler.handleRequest(SecurityContextAssociationHandler.java:78)&lt;br/&gt;
	at io.undertow.server.HttpHandlers.executeHandler(HttpHandlers.java:46) &lt;span class=&quot;error&quot;&gt;&amp;#91;undertow-core-1.0.0.Alpha18.jar:1.0.0.Alpha18&amp;#93;&lt;/span&gt;&lt;br/&gt;
	at io.undertow.servlet.handlers.security.SSLInformationAssociationHandler.handleRequest(SSLInformationAssociationHandler.java:116) &lt;span class=&quot;error&quot;&gt;&amp;#91;undertow-servlet-1.0.0.Alpha18.jar:1.0.0.Alpha18&amp;#93;&lt;/span&gt;&lt;br/&gt;
	at io.undertow.security.handlers.AuthenticationCallHandler.handleRequest(AuthenticationCallHandler.java:52) &lt;span class=&quot;error&quot;&gt;&amp;#91;undertow-core-1.0.0.Alpha18.jar:1.0.0.Alpha18&amp;#93;&lt;/span&gt;&lt;br/&gt;
	at io.undertow.server.HttpHandlers.executeHandler(HttpHandlers.java:46) &lt;span class=&quot;error&quot;&gt;&amp;#91;undertow-core-1.0.0.Alpha18.jar:1.0.0.Alpha18&amp;#93;&lt;/span&gt;&lt;br/&gt;
	at io.undertow.security.handlers.AuthenticationConstraintHandler.handleRequest(AuthenticationConstraintHandler.java:52) &lt;span class=&quot;error&quot;&gt;&amp;#91;undertow-core-1.0.0.Alpha18.jar:1.0.0.Alpha18&amp;#93;&lt;/span&gt;&lt;br/&gt;
	at io.undertow.server.HttpHandlers.executeHandler(HttpHandlers.java:46) &lt;span class=&quot;error&quot;&gt;&amp;#91;undertow-core-1.0.0.Alpha18.jar:1.0.0.Alpha18&amp;#93;&lt;/span&gt;&lt;br/&gt;
	at io.undertow.security.handlers.AbstractConfidentialityHandler.handleRequest(AbstractConfidentialityHandler.java:46) &lt;span class=&quot;error&quot;&gt;&amp;#91;undertow-core-1.0.0.Alpha18.jar:1.0.0.Alpha18&amp;#93;&lt;/span&gt;&lt;br/&gt;
	at io.undertow.server.HttpHandlers.executeHandler(HttpHandlers.java:46) &lt;span class=&quot;error&quot;&gt;&amp;#91;undertow-core-1.0.0.Alpha18.jar:1.0.0.Alpha18&amp;#93;&lt;/span&gt;&lt;br/&gt;
	at io.undertow.servlet.handlers.security.ServletSecurityConstraintHandler.handleRequest(ServletSecurityConstraintHandler.java:56) &lt;span class=&quot;error&quot;&gt;&amp;#91;undertow-servlet-1.0.0.Alpha18.jar:1.0.0.Alpha18&amp;#93;&lt;/span&gt;&lt;br/&gt;
	at io.undertow.server.HttpHandlers.executeHandler(HttpHandlers.java:46) &lt;span class=&quot;error&quot;&gt;&amp;#91;undertow-core-1.0.0.Alpha18.jar:1.0.0.Alpha18&amp;#93;&lt;/span&gt;&lt;br/&gt;
	at io.undertow.security.handlers.AuthenticationMechanismsHandler.handleRequest(AuthenticationMechanismsHandler.java:58) &lt;span class=&quot;error&quot;&gt;&amp;#91;undertow-core-1.0.0.Alpha18.jar:1.0.0.Alpha18&amp;#93;&lt;/span&gt;&lt;br/&gt;
	at io.undertow.server.HttpHandlers.executeHandler(HttpHandlers.java:46) &lt;span class=&quot;error&quot;&gt;&amp;#91;undertow-core-1.0.0.Alpha18.jar:1.0.0.Alpha18&amp;#93;&lt;/span&gt;&lt;br/&gt;
	at io.undertow.servlet.handlers.security.CachedAuthenticatedSessionHandler.handleRequest(CachedAuthenticatedSessionHandler.java:66) &lt;span class=&quot;error&quot;&gt;&amp;#91;undertow-servlet-1.0.0.Alpha18.jar:1.0.0.Alpha18&amp;#93;&lt;/span&gt;&lt;br/&gt;
	at io.undertow.server.HttpHandlers.executeHandler(HttpHandlers.java:46) &lt;span class=&quot;error&quot;&gt;&amp;#91;undertow-core-1.0.0.Alpha18.jar:1.0.0.Alpha18&amp;#93;&lt;/span&gt;&lt;br/&gt;
	at io.undertow.security.handlers.SecurityInitialHandler.handleRequest(SecurityInitialHandler.java:71) &lt;span class=&quot;error&quot;&gt;&amp;#91;undertow-core-1.0.0.Alpha18.jar:1.0.0.Alpha18&amp;#93;&lt;/span&gt;&lt;br/&gt;
	at io.undertow.server.HttpHandlers.executeHandler(HttpHandlers.java:46) &lt;span class=&quot;error&quot;&gt;&amp;#91;undertow-core-1.0.0.Alpha18.jar:1.0.0.Alpha18&amp;#93;&lt;/span&gt;&lt;br/&gt;
	at io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:26) &lt;span class=&quot;error&quot;&gt;&amp;#91;undertow-core-1.0.0.Alpha18.jar:1.0.0.Alpha18&amp;#93;&lt;/span&gt;&lt;br/&gt;
	at org.wildfly.extension.undertow.security.SecurityContextCreationHandler.handleRequest(SecurityContextCreationHandler.java:54)&lt;br/&gt;
	at io.undertow.server.HttpHandlers.executeHandler(HttpHandlers.java:46) &lt;span class=&quot;error&quot;&gt;&amp;#91;undertow-core-1.0.0.Alpha18.jar:1.0.0.Alpha18&amp;#93;&lt;/span&gt;&lt;br/&gt;
	at io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:26) &lt;span class=&quot;error&quot;&gt;&amp;#91;undertow-core-1.0.0.Alpha18.jar:1.0.0.Alpha18&amp;#93;&lt;/span&gt;&lt;br/&gt;
	at io.undertow.servlet.handlers.ServletInitialHandler.handleFirstRequest(ServletInitialHandler.java:128) &lt;span class=&quot;error&quot;&gt;&amp;#91;undertow-servlet-1.0.0.Alpha18.jar:1.0.0.Alpha18&amp;#93;&lt;/span&gt;&lt;br/&gt;
	at io.undertow.servlet.handlers.ServletInitialHandler.dispatchRequest(ServletInitialHandler.java:115) &lt;span class=&quot;error&quot;&gt;&amp;#91;undertow-servlet-1.0.0.Alpha18.jar:1.0.0.Alpha18&amp;#93;&lt;/span&gt;&lt;br/&gt;
	at io.undertow.servlet.handlers.ServletInitialHandler.access$000(ServletInitialHandler.java:48) &lt;span class=&quot;error&quot;&gt;&amp;#91;undertow-servlet-1.0.0.Alpha18.jar:1.0.0.Alpha18&amp;#93;&lt;/span&gt;&lt;br/&gt;
	at io.undertow.servlet.handlers.ServletInitialHandler$1.handleRequest(ServletInitialHandler.java:91) &lt;span class=&quot;error&quot;&gt;&amp;#91;undertow-servlet-1.0.0.Alpha18.jar:1.0.0.Alpha18&amp;#93;&lt;/span&gt;&lt;br/&gt;
	at io.undertow.server.HttpHandlers.executeRootHandler(HttpHandlers.java:52) &lt;span class=&quot;error&quot;&gt;&amp;#91;undertow-core-1.0.0.Alpha18.jar:1.0.0.Alpha18&amp;#93;&lt;/span&gt;&lt;br/&gt;
	at io.undertow.server.HttpServerExchange$1.run(HttpServerExchange.java:603) &lt;span class=&quot;error&quot;&gt;&amp;#91;undertow-core-1.0.0.Alpha18.jar:1.0.0.Alpha18&amp;#93;&lt;/span&gt;&lt;br/&gt;
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1145) &lt;span class=&quot;error&quot;&gt;&amp;#91;rt.jar:1.7.0_21&amp;#93;&lt;/span&gt;&lt;br/&gt;
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:615) &lt;span class=&quot;error&quot;&gt;&amp;#91;rt.jar:1.7.0_21&amp;#93;&lt;/span&gt;&lt;br/&gt;
	at java.lang.Thread.run(Thread.java:722) &lt;span class=&quot;error&quot;&gt;&amp;#91;rt.jar:1.7.0_21&amp;#93;&lt;/span&gt;&lt;br/&gt;
Caused by: java.lang.IllegalStateException: UserTransaction is not available within the scope of a bean or method annotated with @Transactional and a Transactional.TxType other than NOT_SUPPORTED or NEVER&lt;br/&gt;
	at org.jboss.tm.usertx.client.ServerVMClientUserTransaction.testAvailability(ServerVMClientUserTransaction.java:232)&lt;br/&gt;
	at org.jboss.tm.usertx.client.ServerVMClientUserTransaction.getStatus(ServerVMClientUserTransaction.java:196)&lt;br/&gt;
	at org.jboss.jca.adapters.jdbc.WrapperDataSource.checkTransactionActive(WrapperDataSource.java:247)&lt;br/&gt;
	... 135 more&lt;/p&gt;</comment>
                            <comment id="12784307" author="juergen.zimmermann" created="Tue, 25 Jun 2013 08:37:48 -0400"  >&lt;p&gt;I attached a testcase to reproduce the error. The class CustomerResource has the method createCustomer which has the annotation @Transactional. If you use this annotation from javax.transaction, then the error happens. If you use instead my homegrown annotation and my homegrown @Transactional (see subpackage util) then everything works fine.&lt;/p&gt;</comment>
                            <comment id="12784323" author="jaikiran" created="Tue, 25 Jun 2013 09:38:29 -0400"  >&lt;blockquote&gt;
&lt;p&gt;at org.jboss.jca.adapters.jdbc.WrapperDataSource.checkTransactionActive(WrapperDataSource.java:247)&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;It looks like the WrapperDataSource uses UserTransaction for the sake of checking a transaction status. The EE spec states that the UserTransaction isn&apos;t supposed to be allowed access for certain invocation (like the one above). If the WrapperDataSource really needs to just check the transaction status then it can use the TransactionSynchronizationRegistry instead &lt;a href=&quot;http://docs.oracle.com/javaee/6/api/javax/transaction/TransactionSynchronizationRegistry.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://docs.oracle.com/javaee/6/api/javax/transaction/TransactionSynchronizationRegistry.html&lt;/a&gt;. Specifically, the getTransactionStatus() method &lt;a href=&quot;http://docs.oracle.com/javaee/6/api/javax/transaction/TransactionSynchronizationRegistry.html#getTransactionStatus%28%29&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://docs.oracle.com/javaee/6/api/javax/transaction/TransactionSynchronizationRegistry.html#getTransactionStatus%28%29&lt;/a&gt;. The application server makes the TransactionSynchronizationRegistry available under (vendor specific) java:jboss/TransactionSynchronizationRegistry JNDI name. The other way would be to just use some internal transaction manager API to check the status.&lt;/p&gt;</comment>
                            <comment id="12784419" author="paul.robinson" created="Tue, 25 Jun 2013 12:38:44 -0400"  >&lt;p&gt;Thanks Jaikiran,&lt;/p&gt;

&lt;p&gt;Yes, this is expected behaviour from the JTA 1.2 code. Looks like we need a fix for WrapperDataSource.&lt;/p&gt;</comment>
                            <comment id="12784432" author="jesper.pedersen" created="Tue, 25 Jun 2013 12:52:19 -0400"  >&lt;p&gt;New transaction integration is coming with IronJacamar 1.1, so it will be solved that way.&lt;/p&gt;

&lt;p&gt;Will leave it open for now...&lt;/p&gt;</comment>
                            <comment id="12792666" author="juergen.zimmermann" created="Wed, 24 Jul 2013 09:05:24 -0400"  >&lt;p&gt;The fix of &lt;a href=&quot;https://issues.jboss.org/browse/JBTM-1821&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.jboss.org/browse/JBTM-1821&lt;/a&gt; helps to avoid cumbersome dependency declaration, but the issue above remains.&lt;/p&gt;</comment>
                            <comment id="12792871" author="paul.robinson" created="Thu, 25 Jul 2013 05:57:35 -0400"  >&lt;p&gt;Juergen,&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.jboss.org/browse/JBTM-1821&quot; title=&quot;Make @Transactional work without specifying the &amp;quot;org.jboss.jts export services&amp;quot; dependency&quot; class=&quot;issue-link&quot; data-issue-key=&quot;JBTM-1821&quot;&gt;&lt;del&gt;JBTM-1821&lt;/del&gt;&lt;/a&gt; was not intended to solve this issue. We need to wait for IronJacamar 1.1 for a fix for this.&lt;/p&gt;</comment>
                            <comment id="12793715" author="juergen.zimmermann" created="Tue, 30 Jul 2013 04:36:25 -0400"  >&lt;p&gt;Paul, I replaced all JARs of IronJacamar with those of version 1.1.0.CR2, but get the following errors in server.log. I&apos;d recommend to upgrade IronJacamar in the near future, and I&apos;ll test it with my web app asap.&lt;/p&gt;

&lt;p/&gt;
&lt;div id=&quot;syntaxplugin&quot; class=&quot;syntaxplugin&quot; style=&quot;border: 1px dashed #bbb; border-radius: 5px !important; overflow: auto; max-height: 30em;&quot;&gt;
&lt;table cellspacing=&quot;0&quot; cellpadding=&quot;0&quot; border=&quot;0&quot; width=&quot;100%&quot; style=&quot;font-size: 1em; line-height: 1.4em !important; font-weight: normal; font-style: normal; color: black;&quot;&gt;
		&lt;tbody &gt;
				&lt;tr id=&quot;syntaxplugin_code_and_gutter&quot;&gt;
						&lt;td  style=&quot; line-height: 1.4em !important; padding: 0em; vertical-align: top;&quot;&gt;
					&lt;pre style=&quot;font-size: 1em; margin: 0 10px;  margin-top: 10px;   width: auto; padding: 0;&quot;&gt;&lt;span style=&quot;color: black; font-family: &apos;Consolas&apos;, &apos;Bitstream Vera Sans Mono&apos;, &apos;Courier New&apos;, Courier, monospace !important;&quot;&gt;WARN  [org.hibernate.engine.jdbc.spi.SqlExceptionHelper] SQL Error: 0, SQLState: null&lt;/span&gt;&lt;/pre&gt;
			&lt;/td&gt;
		&lt;/tr&gt;
				&lt;tr id=&quot;syntaxplugin_code_and_gutter&quot;&gt;
						&lt;td  style=&quot; line-height: 1.4em !important; padding: 0em; vertical-align: top;&quot;&gt;
					&lt;pre style=&quot;font-size: 1em; margin: 0 10px;   margin-bottom: 10px;  width: auto; padding: 0;&quot;&gt;&lt;span style=&quot;color: black; font-family: &apos;Consolas&apos;, &apos;Bitstream Vera Sans Mono&apos;, &apos;Courier New&apos;, Courier, monospace !important;&quot;&gt;ERROR [org.hibernate.engine.jdbc.spi.SqlExceptionHelper] UserTransaction is not available within the scope of a bean or method annotated with @Transactional and a Transactional.TxType other than NOT_SUPPORTED or NEVER&lt;/span&gt;&lt;/pre&gt;
			&lt;/td&gt;
		&lt;/tr&gt;
			&lt;/tbody&gt;
&lt;/table&gt;
&lt;/div&gt;
&lt;p/&gt;</comment>
                            <comment id="12793822" author="paul.robinson" created="Tue, 30 Jul 2013 09:15:13 -0400"  >&lt;p&gt;Juergen,&lt;/p&gt;

&lt;p&gt;Are you saying that IJ 1.1.0.CR2 doesn&apos;t fix this issue? &lt;/p&gt;

&lt;p&gt;Jesper,&lt;/p&gt;

&lt;p&gt;Did you expect the IJ 1.1.0.CR2 release to fix this?&lt;/p&gt;</comment>
                            <comment id="12793823" author="jesper.pedersen" created="Tue, 30 Jul 2013 09:17:50 -0400"  >&lt;p&gt;There is more to it than just replacing the JARs - follow &lt;a href=&quot;https://issues.jboss.org/browse/WFLY-510&quot; title=&quot;JSR-322 Java EE Connector Architecture 1.7&quot; class=&quot;issue-link&quot; data-issue-key=&quot;WFLY-510&quot;&gt;&lt;del&gt;WFLY-510&lt;/del&gt;&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="12798558" author="juergen.zimmermann" created="Thu, 22 Aug 2013 12:03:21 -0400"  >&lt;p&gt;The issue is (almost) gone with the latest WildFly snapshot which contains the IronJacamar update.&lt;br/&gt;
@Transactional still doesn&apos;t work for @SessionScoped, @ConversationScoped and @ApplicationScoped. This is covered by the new issue &lt;a href=&quot;https://issues.jboss.org/browse/WFLY-1929&quot; title=&quot;TransactionalInterceptorBase doesn&amp;#39;t implement Serializable&quot; class=&quot;issue-link&quot; data-issue-key=&quot;WFLY-1929&quot;&gt;&lt;del&gt;WFLY-1929&lt;/del&gt;&lt;/a&gt;&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10012">
                    <name>Dependency</name>
                                            <outwardlinks description="is blocked by">
                                        <issuelink>
            <issuekey id="12485211">WFLY-510</issuekey>
        </issuelink>
                            </outwardlinks>
                                                                <inwardlinks description="blocks">
                                        <issuelink>
            <issuekey id="12497879">JBTM-1870</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="12363412" name="testcase-WFLY-1496.zip" size="12384" author="juergen.zimmermann" created="Tue, 25 Jun 2013 08:37:48 -0400"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310641" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Number of attachments</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310640" key="com.atlassian.jira.toolkit:comments">
                        <customfieldname>Number of comments</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>11.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12311940" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1|hzhaxr:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310840" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>161366</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                    </customfields>
    </item>
</channel>
</rss>