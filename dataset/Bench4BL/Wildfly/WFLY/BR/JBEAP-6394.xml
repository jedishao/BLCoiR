<!-- 
RSS generated by JIRA (7.2.3#72005-sha1:73be91d2b96fc29303a7eb6820acf420e5d0ed65) at Tue Dec 06 16:03:45 EST 2016

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary add field=key&field=summary to the URL of your request.
For example:
https://issues.jboss.org/si/jira.issueviews:issue-xml/JBEAP-6394/JBEAP-6394.xml?field=key&amp;field=summary
-->
<rss version="0.92" >
<channel>
    <title>JBoss Issue Tracker</title>
    <link>https://issues.jboss.org</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-us</language>    <build-info>
        <version>7.2.3</version>
        <build-number>72005</build-number>
        <build-date>06-10-2016</build-date>
    </build-info>

<item>
            <title>[JBEAP-6394] [GSS](7.0.z) Deadlock in BasicAction when jboss remoting and JTA is used</title>
                <link>https://issues.jboss.org/browse/JBEAP-6394</link>
                <project id="12313422" key="JBEAP">JBoss Enterprise Application Platform</project>
                    <description>&lt;p&gt;Issue created based on discussion at &lt;tt&gt;jboss-support-transactions&lt;/tt&gt; list: &lt;a href=&quot;http://post-office.corp.redhat.com/archives/jboss-support-transactions/2016-September/msg00000.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://post-office.corp.redhat.com/archives/jboss-support-transactions/2016-September/msg00000.html&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Current jboss remoting implementation on JTA does not provide correct handling of double diamond transaction propagation problem.&lt;/p&gt;

&lt;p&gt;If transaction is propagated from one server to other one and then back to the first one then such situation can cause deadlock. Remote calls and transactions are processed but when servers using the same remote resource the prepare phase of 2PC can stuck. Transaction is timed-out later and recovery process rolls it back.&lt;/p&gt;

&lt;p&gt;IIOP/JTS does not suffer with this flaw.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12654337">JBEAP-6394</key>
            <summary>[GSS](7.0.z) Deadlock in BasicAction when jboss remoting and JTA is used</summary>
                <type id="1" iconUrl="https://issues.jboss.org/secure/viewavatar?size=xsmall&amp;avatarId=13263&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.jboss.org/images/icons/priorities/major.svg">Major</priority>
                        <status id="10007" iconUrl="https://issues.jboss.org/images/icons/statuses/open.png" description="The Issue is ready to go through QA.">Ready for QA</status>
                    <statusCategory id="4" key="indeterminate" colorName="yellow"/>
                                    <resolution id="1">Done</resolution>
                                        <assignee username="istudens">Ivo Studensky</assignee>
                                    <reporter username="bmaxwell">Brad Maxwell</reporter>
                        <labels>
                    </labels>
                <created>Wed, 12 Oct 2016 04:04:56 -0400</created>
                <updated>Wed, 30 Nov 2016 07:57:11 -0500</updated>
                            <resolved>Mon, 14 Nov 2016 02:20:17 -0500</resolved>
                                    <version>7.0.2.GA</version>
                                    <fixVersion>7.0.4.CR1</fixVersion>
                    <fixVersion>7.0.4.GA</fixVersion>
                                    <component>Remoting</component>
                    <component>Transactions</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>6</watches>
                                                                <comments>
                            <comment id="13307384" author="jira-bugzilla-migration" created="Fri, 14 Oct 2016 13:55:50 -0400"  >&lt;p&gt;Radovan Netuka &amp;lt;rnetuka@redhat.com&amp;gt; changed the Status of &lt;a href=&quot;https://bugzilla.redhat.com/show_bug.cgi?id=1383572&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;bug 1383572&lt;/a&gt; from NEW to ASSIGNED&lt;/p&gt;</comment>
                            <comment id="13307444" author="flavia.rainone" created="Sat, 15 Oct 2016 06:04:32 -0400"  >&lt;p&gt;I can&apos;t make a PR for this one. The fix requires &lt;a href=&quot;https://issues.jboss.org/browse/JBTM-2749&quot; title=&quot;Add an SPI method to lookup imported transactions by Xid&quot; class=&quot;issue-link&quot; data-issue-key=&quot;JBTM-2749&quot;&gt;&lt;del&gt;JBTM-2749&lt;/del&gt;&lt;/a&gt; / &lt;a href=&quot;https://issues.jboss.org/browse/JBEAP-6022&quot; title=&quot;Upgrade narayana 5.3.3 to 5.3.5&quot; class=&quot;issue-link&quot; data-issue-key=&quot;JBEAP-6022&quot;&gt;&lt;del&gt;JBEAP-6022&lt;/del&gt;&lt;/a&gt;, which is not available at the 7.0.x branch.&lt;br/&gt;
I am not sure what are the rules here. Should narayana be upgraded in 7.0.x branch so I can make the fix for 7.0.x branch, or should the fix be skipped for 7.0.x?&lt;/p&gt;</comment>
                            <comment id="13309137" author="jira-bugzilla-migration" created="Wed, 19 Oct 2016 04:36:37 -0400"  >&lt;p&gt;Peter Palaga &amp;lt;ppalaga@redhat.com&amp;gt; changed the Status of &lt;a href=&quot;https://bugzilla.redhat.com/show_bug.cgi?id=1383572&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;bug 1383572&lt;/a&gt; from MODIFIED to POST&lt;/p&gt;</comment>
                            <comment id="13309285" author="jira-bugzilla-migration" created="Wed, 19 Oct 2016 08:56:59 -0400"  >&lt;p&gt;Peter Palaga &amp;lt;ppalaga@redhat.com&amp;gt; changed the Status of &lt;a href=&quot;https://bugzilla.redhat.com/show_bug.cgi?id=1383572&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;bug 1383572&lt;/a&gt; from POST to MODIFIED&lt;/p&gt;</comment>
                            <comment id="13314957" author="jira-bugzilla-migration" created="Tue, 1 Nov 2016 11:14:39 -0400"  >&lt;p&gt;Aurel Pintea &amp;lt;apintea@redhat.com&amp;gt; changed the Status of &lt;a href=&quot;https://bugzilla.redhat.com/show_bug.cgi?id=1383572&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;bug 1383572&lt;/a&gt; from MODIFIED to ON_QA&lt;/p&gt;</comment>
                            <comment id="13331504" author="jira-bugzilla-migration" created="Wed, 30 Nov 2016 07:57:11 -0500"  >&lt;p&gt;Petr Penicka &amp;lt;ppenicka@redhat.com&amp;gt; changed the Status of &lt;a href=&quot;https://bugzilla.redhat.com/show_bug.cgi?id=1383572&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;bug 1383572&lt;/a&gt; from ASSIGNED to CLOSED&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="12310120">
                    <name>Cloners</name>
                                            <outwardlinks description="cloned from">
                                        <issuelink>
            <issuekey id="12651869">JBEAP-6193</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                            <issuelinktype id="10012">
                    <name>Dependency</name>
                                            <outwardlinks description="is blocked by">
                                        <issuelink>
            <issuekey id="12655432">JBEAP-6469</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                            <issuelinktype id="12310000">
                    <name>Duplicate</name>
                                            <outwardlinks description="duplicates">
                                        <issuelink>
            <issuekey id="12654056">WFLY-7282</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                            <issuelinktype id="12310001">
                    <name>Related</name>
                                                                <inwardlinks description="is related to">
                                        <issuelink>
            <issuekey id="12648766">JBTM-2749</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                            <issuelinktype id="10011">
                    <name>Superset</name>
                                                                <inwardlinks description="is incorporated by">
                                        <issuelink>
            <issuekey id="12654339">JBEAP-6395</issuekey>
        </issuelink>
            <issuelink>
            <issuekey id="12655432">JBEAP-6469</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                                                        <customfield id="customfield_12310440" key="org.jboss.labs.jira.plugin.jboss-custom-field-types-plugin:multiurl">
                        <customfieldname>Bugzilla References</customfieldname>
                        <customfieldvalues>
                            https://bugzilla.redhat.com/show_bug.cgi?id=1383572
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310341" key="com.atlassian.jira.plugin.system.customfieldtypes:multicheckboxes">
                        <customfieldname>Bugzilla Update</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10250"><![CDATA[Perform]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12311243" key="org.jboss.labs.jira.plugin.cdw-plugin:cdwflagdevel">
                        <customfieldname>CDW devel_ack</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12311941" key="org.jboss.labs.jira.plugin.cdw-plugin:cdwflagdocs">
                        <customfieldname>CDW docs_ack</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12311242" key="org.jboss.labs.jira.plugin.cdw-plugin:cdwflagpm">
                        <customfieldname>CDW pm_ack</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12311244" key="org.jboss.labs.jira.plugin.cdw-plugin:cdwflagqa">
                        <customfieldname>CDW qa_ack</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12311241" key="org.jboss.labs.jira.plugin.cdw-plugin:cdwflagrelease">
                        <customfieldname>CDW release</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310641" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Number of attachments</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310640" key="com.atlassian.jira.toolkit:comments">
                        <customfieldname>Number of comments</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>6.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12311940" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1|hzmuvl:xr9</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310840" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                            <customfield id="customfield_12310940" key="com.pyxis.greenhopper.jira:gh-sprint">
                        <customfieldname>Sprint</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue id="5368">EAP 7.0.4</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310183" key="com.atlassian.jira.plugin.system.customfieldtypes:textarea">
                        <customfieldname>Steps to Reproduce</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>&lt;p&gt;Transaction propagation is provided with JTA over jboss remoting from one server to a second one and then back to first one. &lt;/p&gt;

&lt;blockquote&gt;
&lt;p&gt;SERVER1&lt;br/&gt;
-&amp;gt; server1.execute()&lt;br/&gt;
   -&amp;gt; inserts a row into a database&lt;br/&gt;
   -&amp;gt; server2..execute()&lt;br/&gt;
      SERVER2&lt;br/&gt;
      -&amp;gt; inserts a row into the database to a different table&lt;br/&gt;
      -&amp;gt; server1.execute()&lt;br/&gt;
         SERVER1&lt;br/&gt;
         -&amp;gt; inserts a row into the database&lt;br/&gt;
         -&amp;gt; server2.execute()&lt;br/&gt;
            SERVER2&lt;br/&gt;
            -&amp;gt; logging a message&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;Possibly run crash recovery testuite as&lt;/p&gt;
&lt;p/&gt;
&lt;div id=&quot;syntaxplugin&quot; class=&quot;syntaxplugin&quot; style=&quot;border: 1px dashed #bbb; border-radius: 5px !important; overflow: auto; max-height: 30em;&quot;&gt;
&lt;table cellspacing=&quot;0&quot; cellpadding=&quot;0&quot; border=&quot;0&quot; width=&quot;100%&quot; style=&quot;font-size: 1em; line-height: 1.4em !important; font-weight: normal; font-style: normal; color: black;&quot;&gt;
		&lt;tbody &gt;
				&lt;tr id=&quot;syntaxplugin_code_and_gutter&quot;&gt;
						&lt;td  style=&quot; line-height: 1.4em !important; padding: 0em; vertical-align: top;&quot;&gt;
					&lt;pre style=&quot;font-size: 1em; margin: 0 10px;  margin-top: 10px;   width: auto; padding: 0;&quot;&gt;&lt;span style=&quot;color: black; font-family: &apos;Consolas&apos;, &apos;Bitstream Vera Sans Mono&apos;, &apos;Courier New&apos;, Courier, monospace !important;&quot;&gt;git clone http://git.app.eng.bos.redhat.com/git/jbossqe-eap-tests-transactions.git&lt;/span&gt;&lt;/pre&gt;
			&lt;/td&gt;
		&lt;/tr&gt;
				&lt;tr id=&quot;syntaxplugin_code_and_gutter&quot;&gt;
						&lt;td  style=&quot; line-height: 1.4em !important; padding: 0em; vertical-align: top;&quot;&gt;
					&lt;pre style=&quot;font-size: 1em; margin: 0 10px;   width: auto; padding: 0;&quot;&gt;&lt;span style=&quot;color: black; font-family: &apos;Consolas&apos;, &apos;Bitstream Vera Sans Mono&apos;, &apos;Courier New&apos;, Courier, monospace !important;&quot;&gt;export JBOSS_HOME=... (downloadable at http://download.eng.brq.redhat.com/devel/candidates/JBEAP/)&lt;/span&gt;&lt;/pre&gt;
			&lt;/td&gt;
		&lt;/tr&gt;
				&lt;tr id=&quot;syntaxplugin_code_and_gutter&quot;&gt;
						&lt;td  style=&quot; line-height: 1.4em !important; padding: 0em; vertical-align: top;&quot;&gt;
					&lt;pre style=&quot;font-size: 1em; margin: 0 10px;   margin-bottom: 10px;  width: auto; padding: 0;&quot;&gt;&lt;span style=&quot;color: black; font-family: &apos;Consolas&apos;, &apos;Bitstream Vera Sans Mono&apos;, &apos;Courier New&apos;, Courier, monospace !important;&quot;&gt;mvn clean verify -am -pl jbossts -DfailIfNoTests=false -Djbossts.noJTS -Dtest=TxPropagationJPAMultiCallCrashRecoveryTestCase&lt;/span&gt;&lt;/pre&gt;
			&lt;/td&gt;
		&lt;/tr&gt;
			&lt;/tbody&gt;
&lt;/table&gt;
&lt;/div&gt;
&lt;p/&gt;</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12311240" key="org.jboss.labs.jira.plugin.cdw-plugin:cdwtargetreleasebyversion">
                        <customfieldname>Target Release</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue>12329491</customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12310080" key="com.atlassian.jira.plugin.system.customfieldtypes:userpicker">
                        <customfieldname>Tester</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>ochaloup</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            </customfields>
    </item>
</channel>
</rss>