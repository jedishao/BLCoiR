<!-- 
RSS generated by JIRA (7.2.3#72005-sha1:73be91d2b96fc29303a7eb6820acf420e5d0ed65) at Tue Dec 06 14:19:10 EST 2016

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary add field=key&field=summary to the URL of your request.
For example:
https://issues.jboss.org/si/jira.issueviews:issue-xml/WFLY-6611/WFLY-6611.xml?field=key&amp;field=summary
-->
<rss version="0.92" >
<channel>
    <title>JBoss Issue Tracker</title>
    <link>https://issues.jboss.org</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-us</language>    <build-info>
        <version>7.2.3</version>
        <build-number>72005</build-number>
        <build-date>06-10-2016</build-date>
    </build-info>

<item>
            <title>[WFLY-6611] undertow wrong log data emitted</title>
                <link>https://issues.jboss.org/browse/WFLY-6611</link>
                <project id="12313721" key="WFLY">WildFly</project>
                    <description>&lt;p&gt;20:05:49,621 INFO  &lt;span class=&quot;error&quot;&gt;&amp;#91;org.wildfly.extension.undertow&amp;#93;&lt;/span&gt; (MSC service thread 1-4) WFLYUT0003: Undertow 1.3.15.Final starting&lt;br/&gt;
20:05:49,627 INFO  &lt;span class=&quot;error&quot;&gt;&amp;#91;org.wildfly.extension.undertow&amp;#93;&lt;/span&gt; (ServerService Thread Pool &amp;#8211; 61) WFLYUT0003: Undertow 1.3.15.Final starting&lt;br/&gt;
...&lt;br/&gt;
20:05:50,075 INFO  &lt;span class=&quot;error&quot;&gt;&amp;#91;org.wildfly.extension.undertow&amp;#93;&lt;/span&gt; (MSC service thread 1-5) WFLYUT0006: Undertow HTTP listener default listening on 127.0.0.1:8122&lt;br/&gt;
...&lt;br/&gt;
20:06:10,498 INFO  &lt;span class=&quot;error&quot;&gt;&amp;#91;org.wildfly.extension.undertow&amp;#93;&lt;/span&gt; (MSC service thread 1-6) WFLYUT0008: Undertow HTTP listener default suspending&lt;br/&gt;
20:06:10,499 INFO  &lt;span class=&quot;error&quot;&gt;&amp;#91;org.wildfly.extension.undertow&amp;#93;&lt;/span&gt; (MSC service thread 1-6) WFLYUT0007: Undertow HTTP listener default stopped, was bound to 127.0.0.1:8080&lt;br/&gt;
20:06:10,500 INFO  &lt;span class=&quot;error&quot;&gt;&amp;#91;org.wildfly.extension.undertow&amp;#93;&lt;/span&gt; (MSC service thread 1-2) WFLYUT0004: Undertow 1.3.15.Final stopping&lt;/p&gt;


&lt;p&gt;This is running an arquallian managed instance.&lt;/p&gt;

&lt;p&gt;Notice on shutdown it emits port 8080 when there is nothing bound on that, it really is on port 8122 as shown in &quot;netstat -p tcp -a -n | grep LISTEN&quot; output.&lt;/p&gt;

&lt;p&gt;So I guess there is a bug somewhere in the data it is using.&lt;/p&gt;

&lt;p&gt;I am using -Djboss.socket.binding.port-offset=42 with a stock config for standalone-full.xml&lt;/p&gt;</description>
                <environment>&lt;p&gt;Windows JDK8&lt;/p&gt;</environment>
        <key id="12626122">WFLY-6611</key>
            <summary>undertow wrong log data emitted</summary>
                <type id="1" iconUrl="https://issues.jboss.org/secure/viewavatar?size=xsmall&amp;avatarId=13263&amp;avatarType=issuetype">Bug</type>
                                            <priority id="4" iconUrl="https://issues.jboss.org/images/icons/priorities/minor.svg">Minor</priority>
                        <status id="5" iconUrl="https://issues.jboss.org/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Done</resolution>
                                        <assignee username="ctomc">Tomaz Cerar</assignee>
                                    <reporter username="dlmiles">Darryl Miles</reporter>
                        <labels>
                    </labels>
                <created>Sun, 15 May 2016 15:19:53 -0400</created>
                <updated>Thu, 18 Aug 2016 10:50:31 -0400</updated>
                            <resolved>Thu, 18 Aug 2016 10:50:31 -0400</resolved>
                                    <version>10.0.0.Final</version>
                                    <fixVersion>10.1.0.Final</fixVersion>
                                    <component>Web (Undertow)</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                <comments>
                            <comment id="13237839" author="dlmiles" created="Sun, 15 May 2016 15:22:10 -0400"  >&lt;p&gt;&lt;a href=&quot;https://github.com/wildfly/wildfly/blob/aaaeb2a13667353db2b6955b9bcdba434a89fd02/undertow/src/main/java/org/wildfly/extension/undertow/HttpListenerService.java#L142&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://github.com/wildfly/wildfly/blob/aaaeb2a13667353db2b6955b9bcdba434a89fd02/undertow/src/main/java/org/wildfly/extension/undertow/HttpListenerService.java#L142&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Maybe need to get the real socketAddress not the binding configuration here ?  Since the binding configuration is setup as per default:&lt;/p&gt;

&lt;p&gt;&amp;lt;socket-binding name=&quot;http&quot; port=&quot;$&lt;/p&gt;
{jboss.http.port:8080}
&lt;p&gt;&quot;/&amp;gt;&lt;/p&gt;

&lt;p&gt;I do not provide any property -Djboss.http.port only  -Djboss.socket.binding.port-offset=42&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310641" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Number of attachments</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310640" key="com.atlassian.jira.toolkit:comments">
                        <customfieldname>Number of comments</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12311940" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1|i054r3:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310840" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                            <customfield id="customfield_12310183" key="com.atlassian.jira.plugin.system.customfieldtypes:textarea">
                        <customfieldname>Steps to Reproduce</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>&lt;p&gt;Use -Djboss.socket.binding.port-offset=42 to start WildFly.&lt;br/&gt;
Observe what is really bound using netstat.exe&lt;br/&gt;
Shutdown and see log message with wrong data.&lt;/p&gt;</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                            </customfields>
    </item>
</channel>
</rss>