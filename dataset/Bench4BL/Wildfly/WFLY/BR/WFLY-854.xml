<!-- 
RSS generated by JIRA (7.2.3#72005-sha1:73be91d2b96fc29303a7eb6820acf420e5d0ed65) at Tue Dec 06 12:40:36 EST 2016

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary add field=key&field=summary to the URL of your request.
For example:
https://issues.jboss.org/si/jira.issueviews:issue-xml/WFLY-854/WFLY-854.xml?field=key&amp;field=summary
-->
<rss version="0.92" >
<channel>
    <title>JBoss Issue Tracker</title>
    <link>https://issues.jboss.org</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-us</language>    <build-info>
        <version>7.2.3</version>
        <build-number>72005</build-number>
        <build-date>06-10-2016</build-date>
    </build-info>

<item>
            <title>[WFLY-854] Grails app load with Jboss 7</title>
                <link>https://issues.jboss.org/browse/WFLY-854</link>
                <project id="12313721" key="WFLY">WildFly</project>
                    <description>&lt;p&gt;When deploying any Grails 1.3.4 or 2.0 project with Jboss 7 final version, the Grails project deploys properly but&lt;br/&gt;
the gsp pages in the project will not actually be loaded by the Jboss server.&lt;br/&gt;
There are not errors listed in the server log.&lt;br/&gt;
I am aware of this bug &lt;a href=&quot;https://issues.jboss.org/browse/AS7-2941&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.jboss.org/browse/AS7-2941&lt;/a&gt;, which of course displays errors,&lt;br/&gt;
but with the new 7.1.0 final versions no errors are displayed.&lt;/p&gt;</description>
                <environment>&lt;p&gt;Grails 1.3.4 and 2.0&lt;/p&gt;</environment>
        <key id="12458887">WFLY-854</key>
            <summary>Grails app load with Jboss 7</summary>
                <type id="1" iconUrl="https://issues.jboss.org/secure/viewavatar?size=xsmall&amp;avatarId=13263&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.jboss.org/images/icons/priorities/major.svg">Major</priority>
                        <status id="5" iconUrl="https://issues.jboss.org/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Done</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="thebravedave">David Pugh</reporter>
                        <labels>
                    </labels>
                <created>Fri, 10 Feb 2012 19:52:40 -0500</created>
                <updated>Thu, 4 Sep 2014 09:54:14 -0400</updated>
                            <resolved>Mon, 10 Feb 2014 08:55:44 -0500</resolved>
                                                    <fixVersion>8.0.0.Final</fixVersion>
                                        <due></due>
                            <votes>1</votes>
                                    <watches>8</watches>
                                                                <comments>
                            <comment id="12665923" author="jaikiran" created="Sun, 12 Feb 2012 11:39:58 -0500"  >&lt;p&gt;I don&apos;t have any experience with Grails, so I can&apos;t say what&apos;s wrong. Can you please open a forum thread for discussion here &lt;a href=&quot;https://community.jboss.org/en/jbossas7?view=discussions&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://community.jboss.org/en/jbossas7?view=discussions&lt;/a&gt; so that someone might be able to help you with this.&lt;/p&gt;</comment>
                            <comment id="12665928" author="thebravedave" created="Sun, 12 Feb 2012 13:12:08 -0500"  >&lt;p&gt;There already is a discussion opened about this&lt;br/&gt;
&lt;a href=&quot;https://community.jboss.org/message/715968#715968&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://community.jboss.org/message/715968#715968&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;I only posted a bug here because we can&apos;t find the solution to the issue.&lt;br/&gt;
The same war file will work with JBoss 4.2.3.&lt;/p&gt;</comment>
                            <comment id="12665938" author="swd847" created="Sun, 12 Feb 2012 17:23:50 -0500"  >&lt;p&gt;The other bug has a workaround of removing OSGI from standalone.xml. Have you tried that workaround?&lt;/p&gt;</comment>
                            <comment id="12666133" author="thebravedave" created="Mon, 13 Feb 2012 13:10:51 -0500"  >&lt;p&gt;All of the OSGI workarounds for that other bug (&lt;a href=&quot;https://issues.jboss.org/browse/AS7-2941&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.jboss.org/browse/AS7-2941&lt;/a&gt;) have been rejected.&lt;/p&gt;
</comment>
                            <comment id="12666177" author="swd847" created="Mon, 13 Feb 2012 15:55:58 -0500"  >&lt;p&gt;But if you remove the OSGI subsystem does your app start to work? (i.e. is it an OSGI related bug or something else entirely?)&lt;/p&gt;</comment>
                            <comment id="12666191" author="thebravedave" created="Mon, 13 Feb 2012 16:36:39 -0500"  >&lt;p&gt;Hello, I wasn&apos;t exactly sure how to disable OSGI, but removed it from subsystem in standalone.xml and now&lt;br/&gt;
grails DOES load properly.&lt;/p&gt;

&lt;p&gt;I do get this Warning:&lt;/p&gt;

&lt;p&gt;13:13:34,031 WARN  &lt;span class=&quot;error&quot;&gt;&amp;#91;org.jboss.as.server.deployment&amp;#93;&lt;/span&gt; (MSC service thread 1-13) JBAS015893: Encountered invalid class name &apos;org.xmlpull.mxp1.MXParser,org.xmlpull.mxp1_serializer.MXSerializer&apos; for service type &apos;org.xmlpull.v1.XmlPullParserFact&lt;br/&gt;
ory&apos;&lt;/p&gt;

&lt;p&gt;But grails does work properly once OSGI is disabled.&lt;br/&gt;
I guess Jboss AS was thinking that grails was OSGI rather than a standard web app.&lt;/p&gt;

&lt;p&gt;Thank you for your patience. &lt;/p&gt;

&lt;p&gt;David&lt;/p&gt;</comment>
                            <comment id="12666193" author="swd847" created="Mon, 13 Feb 2012 16:43:36 -0500"  >&lt;p&gt;You must have an OSGI manifest in your deployment. If you remove that then it should work fine even with the OSGI subsystem . &lt;/p&gt;</comment>
                            <comment id="12677725" author="graemerocher" created="Mon, 19 Mar 2012 12:52:35 -0400"  >&lt;p&gt;Building the Grails war with:&lt;/p&gt;

&lt;p/&gt;
&lt;div id=&quot;syntaxplugin&quot; class=&quot;syntaxplugin&quot; style=&quot;border: 1px dashed #bbb; border-radius: 5px !important; overflow: auto; max-height: 30em;&quot;&gt;
&lt;table cellspacing=&quot;0&quot; cellpadding=&quot;0&quot; border=&quot;0&quot; width=&quot;100%&quot; style=&quot;font-size: 1em; line-height: 1.4em !important; font-weight: normal; font-style: normal; color: black;&quot;&gt;
		&lt;tbody &gt;
				&lt;tr id=&quot;syntaxplugin_code_and_gutter&quot;&gt;
						&lt;td  style=&quot; line-height: 1.4em !important; padding: 0em; vertical-align: top;&quot;&gt;
					&lt;pre style=&quot;font-size: 1em; margin: 0 10px;  margin-top: 10px;   margin-bottom: 10px;  width: auto; padding: 0;&quot;&gt;&lt;span style=&quot;color: black; font-family: &apos;Consolas&apos;, &apos;Bitstream Vera Sans Mono&apos;, &apos;Courier New&apos;, Courier, monospace !important;&quot;&gt;grails -Dgrails.project.war.osgi.headers=false war&lt;/span&gt;&lt;/pre&gt;
			&lt;/td&gt;
		&lt;/tr&gt;
			&lt;/tbody&gt;
&lt;/table&gt;
&lt;/div&gt;
&lt;p/&gt;

&lt;p&gt;Will remove the OSGi headers from the WAR file which is what is confusing JBoss 7. The above can also be configured in BuildConfig.groovy&lt;/p&gt;</comment>
                            <comment id="12679122" author="hsn10" created="Sun, 25 Mar 2012 15:00:26 -0400"  >&lt;p&gt;Can you post grails OSGi manifest here? its Grails or Jboss bug?&lt;/p&gt;</comment>
                            <comment id="12679153" author="graemerocher" created="Mon, 26 Mar 2012 02:46:10 -0400"  >&lt;p&gt;Attached is an example manifest. This works when deploying to other OSGi containers like Virgo. No idea if it is a JBoss or Grails bug. Seems to me JBoss shouldn&apos;t be treating it as a OSGi bundle if &quot;Webapp-Context:&quot; is specified?&lt;/p&gt;</comment>
                            <comment id="12706029" author="hsn10" created="Sun, 15 Jul 2012 12:34:58 -0400"  >&lt;p&gt;I tried your method -Dgrails.project... and set it in buildconfig.groovy:&lt;br/&gt;
grails.project.war.osgi.headers = false&lt;/p&gt;

&lt;p&gt;but OSGI manifest is still created during: grails prod war&lt;/p&gt;</comment>
                            <comment id="12706030" author="hsn10" created="Sun, 15 Jul 2012 12:38:43 -0400"  >&lt;p&gt;I got same error as you:&lt;/p&gt;

&lt;p&gt;WARN &lt;span class=&quot;error&quot;&gt;&amp;#91;org.jboss.as.server.deployment&amp;#93;&lt;/span&gt; (MSC service thread 1-13) JBAS015893: Encountered invalid class name &apos;org.xmlpull.mxp1.MXParser,org.xmlpull.mxp1_serializer.MXSerializer&apos; for service type &apos;org.xmlpull.v1.XmlPullParserFact&lt;br/&gt;
ory&apos;&lt;/p&gt;

&lt;p&gt;but real error message is in xxxx.war.failed file:&lt;/p&gt;

&lt;p&gt;{&quot;JBAS014653: Composite operation failed and was rolled back. Steps that failed:&quot; =&amp;gt; {&quot;Operation step-2&quot; =&amp;gt; {&quot;JBAS014671: Failed services&quot; =&amp;gt; &lt;/p&gt;
{&quot;jboss.web.deployment.default-host.\&quot;/nxd-0.1\&quot;&quot; =&amp;gt; &quot;org.jboss.msc.service.StartException in service jboss.web.deployment.default-host.\&quot;/nxd-0.1\&quot;: JBAS018040: Failed to start context&quot;}
&lt;p&gt;,&quot;JBAS014771: Services with missing/unavailable dependencies&quot; =&amp;gt; [&quot;jboss.deployment.unit.\&quot;nxd-0.1.war\&quot;.jboss.security.jacc Missing&lt;span class=&quot;error&quot;&gt;&amp;#91;JBAS014861: &amp;lt;one or more transitive dependencies&amp;gt;&amp;#93;&lt;/span&gt;&quot;]}}}&lt;/p&gt;</comment>
                            <comment id="12706032" author="hsn10" created="Sun, 15 Jul 2012 18:05:23 -0400"  >&lt;p&gt;Even if i deleted all OSGi stuff from MANIFEST, i still got same error as listed above for app build with grails 2.0.4. I was not able to get this app running. It works nicely on Glassfish.&lt;/p&gt;</comment>
                            <comment id="12706054" author="hsn10" created="Mon, 16 Jul 2012 05:21:47 -0400"  >&lt;p&gt;Actually it seems that grails spring-security-core is to blame because plain grails hello world app deploys and runs fine on 7.1.3-SNAPSHOT.&lt;/p&gt;</comment>
                            <comment id="12764629" author="mkappeller" created="Wed, 3 Apr 2013 05:54:51 -0400"  >&lt;p&gt;Are there any news on this bug? I encounter the exact same error as Radim.&lt;/p&gt;</comment>
                            <comment id="12765404" author="swd847" created="Sun, 7 Apr 2013 00:39:59 -0400"  >&lt;p&gt;This is unlikely to be fixed unless someone creates a reproducer for the bug.&lt;/p&gt;</comment>
                            <comment id="12943018" author="ctomc" created="Mon, 10 Feb 2014 08:55:44 -0500"  >&lt;p&gt;This should be fixed in WildFly 8, given that we dont ship OSGI subsystem anymore.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12352876" name="MANIFEST.MF" size="4717" author="graemerocher" created="Mon, 26 Mar 2012 02:46:10 -0400"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310641" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Number of attachments</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310640" key="com.atlassian.jira.toolkit:comments">
                        <customfieldname>Number of comments</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>17.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12311940" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1|hyvb73:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310840" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>33038</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                            <customfield id="customfield_12310183" key="com.atlassian.jira.plugin.system.customfieldtypes:textarea">
                        <customfieldname>Steps to Reproduce</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>&lt;p&gt;Download grails.&lt;br/&gt;
grails create-app my-project&lt;br/&gt;
cd my-project&lt;br/&gt;
grails war&lt;/p&gt;

&lt;p&gt;copy war to jboss.&lt;br/&gt;
Try and go to my-project in browser.&lt;/p&gt;</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                            </customfields>
    </item>
</channel>
</rss>