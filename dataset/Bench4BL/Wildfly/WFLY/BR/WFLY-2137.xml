<!-- 
RSS generated by JIRA (7.2.3#72005-sha1:73be91d2b96fc29303a7eb6820acf420e5d0ed65) at Tue Dec 06 15:52:04 EST 2016

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary add field=key&field=summary to the URL of your request.
For example:
https://issues.jboss.org/si/jira.issueviews:issue-xml/WFLY-2137/WFLY-2137.xml?field=key&amp;field=summary
-->
<rss version="0.92" >
<channel>
    <title>JBoss Issue Tracker</title>
    <link>https://issues.jboss.org</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-us</language>    <build-info>
        <version>7.2.3</version>
        <build-number>72005</build-number>
        <build-date>06-10-2016</build-date>
    </build-info>

<item>
            <title>[WFLY-2137] transaction services do not start with jts enabled</title>
                <link>https://issues.jboss.org/browse/WFLY-2137</link>
                <project id="12313721" key="WFLY">WildFly</project>
                    <description>&lt;p&gt;When launching the app server in domain mode when there is a transaction subsystem active with jts set to true, server shows an error that there&apos;s a circular dependency between services.&lt;br/&gt;
I don&apos;t have any log to show this but it is easily reproducible.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12501331">WFLY-2137</key>
            <summary>transaction services do not start with jts enabled</summary>
                <type id="1" iconUrl="https://issues.jboss.org/secure/viewavatar?size=xsmall&amp;avatarId=13263&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.jboss.org/images/icons/priorities/major.svg">Major</priority>
                        <status id="5" iconUrl="https://issues.jboss.org/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Done</resolution>
                                        <assignee username="swd847">Stuart Douglas</assignee>
                                    <reporter username="webczat">Micha&#322; Zegan</reporter>
                        <labels>
                    </labels>
                <created>Mon, 23 Sep 2013 15:16:06 -0400</created>
                <updated>Wed, 19 Aug 2015 00:51:47 -0400</updated>
                            <resolved>Wed, 19 Aug 2015 00:51:47 -0400</resolved>
                                                    <fixVersion>10.0.0.Beta2</fixVersion>
                                    <component>Security</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>6</watches>
                                                                <comments>
                            <comment id="12806775" author="jaikiran" created="Tue, 24 Sep 2013 01:31:28 -0400"  >&lt;p&gt;Against which version is this (yeah, I&apos;m just lazy right now to start my local installation and see if it&apos;s a problem against latest upstream &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.jboss.org/images/icons/emoticons/smile.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;)&lt;/p&gt;</comment>
                            <comment id="12807398" author="webczat" created="Wed, 25 Sep 2013 12:11:58 -0400"  >&lt;p&gt;Actually, it was the master HEAD when I&apos;ve tried it.&lt;/p&gt;</comment>
                            <comment id="12945159" author="mmusgrov" created="Mon, 17 Feb 2014 06:55:02 -0500"  >&lt;p&gt;I checked out master today (17th Feb) and tested against wildfly-8.0.1.Final-SNAPSHOT using the full profile ( I updated the full profile in domain/configuration/domain.xml  to use JTS). Both servers reported&lt;/p&gt;
&lt;blockquote&gt;&lt;p&gt;ARJUNA032017: JBossTS Transaction Service (JTS version - tag: 9aa71) - JBoss Inc&lt;/p&gt;&lt;/blockquote&gt;
&lt;p&gt;in their logs and nothing was logged at ERROR or WARN level&lt;/p&gt;</comment>
                            <comment id="12945566" author="webczat" created="Tue, 18 Feb 2014 09:26:22 -0500"  >&lt;p&gt;Actually, try in standalone too. My environment was non-standard, that is:&lt;br/&gt;
running subsystems: logging, jdr, sar, pojo, jmx, threads, io, transactions, ee, undertow, remoting, so no ejbs, no jca, no jpa, no cdi, the only enabled technologies were javaee, undertow and transactions.&lt;br/&gt;
Jacorb was enabled and listening.&lt;/p&gt;</comment>
                            <comment id="12945572" author="mmusgrov" created="Tue, 18 Feb 2014 09:45:00 -0500"  >&lt;p&gt;Can you attach your config files please&lt;/p&gt;</comment>
                            <comment id="12945634" author="webczat" created="Tue, 18 Feb 2014 11:39:53 -0500"  >&lt;p&gt;I&apos;ve deleted the server instance and I do not have it&apos;s configuration.&lt;br/&gt;
I would need to compile wildfly or use a snapshot and prepare a reproduction based on the default standalone config file.&lt;/p&gt;</comment>
                            <comment id="12945636" author="webczat" created="Tue, 18 Feb 2014 11:40:46 -0500"  >&lt;p&gt;I will do it and attach the resulting file when ready.&lt;/p&gt;</comment>
                            <comment id="12945714" author="webczat" created="Tue, 18 Feb 2014 14:12:52 -0500"  >&lt;p&gt;I will not give you the config file, but I have the exact steps to reproduce the bug, not sure if this is really a bug or a strange conflict that ois normal...&lt;br/&gt;
Steps are:&lt;br/&gt;
1. Enable transactional interceptor in jacorb.&lt;br/&gt;
2. Enable jts.&lt;br/&gt;
You have done those two I believe, then:&lt;br/&gt;
3. In the orb, set the security-domain to other.&lt;br/&gt;
4. Set support-ssl to on to initialize ssl.&lt;br/&gt;
5. To a security domain other, add the jse tag with a previously created keystore data.&lt;br/&gt;
6. When the security domain works and jts is enabled, restart the server and enjoy.&lt;br/&gt;
I believe it will not occur when another security-domain will be used for jacorb although this is not checked.&lt;br/&gt;
I&apos;m wondering if this is the jacorb, security or tx bug, actually.&lt;/p&gt;</comment>
                            <comment id="12948759" author="mmusgrov" created="Thu, 27 Feb 2014 13:29:51 -0500"  >&lt;p&gt;Please attach or paste the config you used for steps 1 to 5. &lt;/p&gt;</comment>
                            <comment id="13042917" author="mmusgrov" created="Mon, 23 Feb 2015 12:06:22 -0500"  >&lt;p&gt;The JIRA does not contain enough information for me to evaluate whether or not this is a bug.&lt;/p&gt;</comment>
                            <comment id="13097466" author="webczat" created="Tue, 11 Aug 2015 17:33:05 -0400"  >&lt;p&gt;Now, in the newest wildfly9.1, I have configured partially the full profile application server with jts enabled, and this bug still happens here, but this time it is standalone mode server, so I changed the bug title.&lt;br/&gt;
As requested long ago I will attach current configuration with masked passwords, although because jts did not work with ssl enabled, I had to disable jts and then I have manually edited the configuration file to add required tags, so sorry if I did any mistake when adding jts to the config.&lt;/p&gt;</comment>
                            <comment id="13097467" author="webczat" created="Tue, 11 Aug 2015 17:34:48 -0400"  >&lt;p&gt;Forgot to reopen.&lt;/p&gt;</comment>
                            <comment id="13097468" author="webczat" created="Tue, 11 Aug 2015 17:37:06 -0400"  >&lt;p&gt;I have attached the hand-modified configuration file.&lt;/p&gt;</comment>
                            <comment id="13098975" author="tomjenkinson" created="Mon, 17 Aug 2015 11:28:00 -0400"  >&lt;p&gt;Hi Michal,&lt;/p&gt;

&lt;p&gt;We have various teams looking at the different parts of the application server so I must ask you to be more clear about what you are doing to replicate the issue. I also need you to replicate this on WFLY 10 if at all possible please. As this is still with the transactions team you will need to go to the level of how to create a simple keystore and security domain to replicate the issue as we are not experts on that.&lt;/p&gt;

&lt;p&gt;Ideally your instructions would include:&lt;br/&gt;
1. download WildFly&lt;br/&gt;
2. keystore creation instructions&lt;br/&gt;
3. The specific CLI commands&lt;/p&gt;

&lt;p&gt;Once we have a reproducer like that then we can look at the issue better. Thanks for working with us on this, we want to fix an issue if it is there but because we all have different specialisms we can only reproduce the issue when the instructions are a bit clearer.&lt;/p&gt;

&lt;p&gt;Thanks for your patience,&lt;br/&gt;
Tom&lt;/p&gt;</comment>
                            <comment id="13099208" author="swd847" created="Tue, 18 Aug 2015 01:08:46 -0400"  >&lt;p&gt;Error is as follows:&lt;/p&gt;

&lt;p/&gt;
&lt;div id=&quot;syntaxplugin&quot; class=&quot;syntaxplugin&quot; style=&quot;border: 1px dashed #bbb; border-radius: 5px !important; overflow: auto; max-height: 30em;&quot;&gt;
&lt;table cellspacing=&quot;0&quot; cellpadding=&quot;0&quot; border=&quot;0&quot; width=&quot;100%&quot; style=&quot;font-size: 1em; line-height: 1.4em !important; font-weight: normal; font-style: normal; color: black;&quot;&gt;
		&lt;tbody &gt;
				&lt;tr id=&quot;syntaxplugin_code_and_gutter&quot;&gt;
						&lt;td  style=&quot; line-height: 1.4em !important; padding: 0em; vertical-align: top;&quot;&gt;
					&lt;pre style=&quot;font-size: 1em; margin: 0 10px;  margin-top: 10px;   width: auto; padding: 0;&quot;&gt;&lt;span style=&quot;color: black; font-family: &apos;Consolas&apos;, &apos;Bitstream Vera Sans Mono&apos;, &apos;Courier New&apos;, Courier, monospace !important;&quot;&gt;15:04:19,591 ERROR [org.jboss.as.controller.management-operation] (ServerService Thread Pool -- 28) WFLYCTL0013: Operation (&quot;add&quot;) failed - address: ([&lt;/span&gt;&lt;/pre&gt;
			&lt;/td&gt;
		&lt;/tr&gt;
				&lt;tr id=&quot;syntaxplugin_code_and_gutter&quot;&gt;
						&lt;td  style=&quot; line-height: 1.4em !important; padding: 0em; vertical-align: top;&quot;&gt;
					&lt;pre style=&quot;font-size: 1em; margin: 0 10px;   width: auto; padding: 0;&quot;&gt;&lt;span style=&quot;color: black; font-family: &apos;Consolas&apos;, &apos;Bitstream Vera Sans Mono&apos;, &apos;Courier New&apos;, Courier, monospace !important;&quot;&gt;    (&quot;subsystem&quot; =&amp;gt; &quot;security&quot;),&lt;/span&gt;&lt;/pre&gt;
			&lt;/td&gt;
		&lt;/tr&gt;
				&lt;tr id=&quot;syntaxplugin_code_and_gutter&quot;&gt;
						&lt;td  style=&quot; line-height: 1.4em !important; padding: 0em; vertical-align: top;&quot;&gt;
					&lt;pre style=&quot;font-size: 1em; margin: 0 10px;   width: auto; padding: 0;&quot;&gt;&lt;span style=&quot;color: black; font-family: &apos;Consolas&apos;, &apos;Bitstream Vera Sans Mono&apos;, &apos;Courier New&apos;, Courier, monospace !important;&quot;&gt;    (&quot;security-domain&quot; =&amp;gt; &quot;ssl&quot;)&lt;/span&gt;&lt;/pre&gt;
			&lt;/td&gt;
		&lt;/tr&gt;
				&lt;tr id=&quot;syntaxplugin_code_and_gutter&quot;&gt;
						&lt;td  style=&quot; line-height: 1.4em !important; padding: 0em; vertical-align: top;&quot;&gt;
					&lt;pre style=&quot;font-size: 1em; margin: 0 10px;   margin-bottom: 10px;  width: auto; padding: 0;&quot;&gt;&lt;span style=&quot;color: black; font-family: &apos;Consolas&apos;, &apos;Bitstream Vera Sans Mono&apos;, &apos;Courier New&apos;, Courier, monospace !important;&quot;&gt;]): org.jboss.msc.service.CircularDependencyException: Container jboss-as has a circular dependency: [service jboss.security.security-domain.ssl, service jboss.iiop-openjdk.orb-service, service jboss.txn.ArjunaTransactionManager, service jboss.txn.TransactionManager]&lt;/span&gt;&lt;/pre&gt;
			&lt;/td&gt;
		&lt;/tr&gt;
			&lt;/tbody&gt;
&lt;/table&gt;
&lt;/div&gt;
&lt;p/&gt;

&lt;p&gt;If you just boot the server using the provided standalone.xml this error will be visible, however there will also be lots of other errors to do with missing files (keystores, user files etc).&lt;/p&gt;</comment>
                            <comment id="13099209" author="swd847" created="Tue, 18 Aug 2015 01:13:07 -0400"  >&lt;p&gt;The security subsystem is doing some yucky stuff to get a reference to the transaction manager. I will fix.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12391633" name="standalone.xml" size="17300" author="webczat" created="Tue, 11 Aug 2015 17:37:06 -0400"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="org.jboss.labs.jira.plugin.jboss-custom-field-types-plugin:multiurl">
                        <customfieldname>Git Pull Request</customfieldname>
                        <customfieldvalues>
                            https://github.com/wildfly/wildfly/pull/7946
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12310641" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Number of attachments</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310640" key="com.atlassian.jira.toolkit:comments">
                        <customfieldname>Number of comments</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>16.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12311940" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1|hzixb3:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310840" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>170715</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                    </customfields>
    </item>
</channel>
</rss>