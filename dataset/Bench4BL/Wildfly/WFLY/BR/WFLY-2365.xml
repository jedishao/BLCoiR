<!-- 
RSS generated by JIRA (7.2.3#72005-sha1:73be91d2b96fc29303a7eb6820acf420e5d0ed65) at Tue Dec 06 13:48:43 EST 2016

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary add field=key&field=summary to the URL of your request.
For example:
https://issues.jboss.org/si/jira.issueviews:issue-xml/WFLY-2365/WFLY-2365.xml?field=key&amp;field=summary
-->
<rss version="0.92" >
<channel>
    <title>JBoss Issue Tracker</title>
    <link>https://issues.jboss.org</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-us</language>    <build-info>
        <version>7.2.3</version>
        <build-number>72005</build-number>
        <build-date>06-10-2016</build-date>
    </build-info>

<item>
            <title>[WFLY-2365] DuplicateServiceException when deploying ear containing jar and war with same name</title>
                <link>https://issues.jboss.org/browse/WFLY-2365</link>
                <project id="12313721" key="WFLY">WildFly</project>
                    <description>&lt;p&gt;The following exception is thrown when deploying a EAR archive containing a war and jar with the same name (except for the file extension, of course).&lt;br/&gt;
See &lt;a href=&quot;https://community.jboss.org/thread/233648&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://community.jboss.org/thread/233648&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    2013-10-17 10:32:59,266 ERROR &lt;span class=&quot;error&quot;&gt;&amp;#91;org.jboss.msc.service.fail&amp;#93;&lt;/span&gt; (MSC service thread 1-4) MSC000001: Failed to start service jboss.deployment.subunit.&quot;specj.ear&quot;.&quot;specj.jar&quot;.POST_MODULE: org.jboss.msc.service.StartException in service jboss.deployment.subunit.&quot;specj.ear&quot;.&quot;specj.jar&quot;.POST_MODULE: JBAS018733: Failed to process phase POST_MODULE of subdeployment &quot;specj.jar&quot; of deployment &quot;specj.ear&quot;  &lt;br/&gt;
      at org.jboss.as.server.deployment.DeploymentUnitPhaseService.start(DeploymentUnitPhaseService.java:166) &lt;span class=&quot;error&quot;&gt;&amp;#91;wildfly-server-8.0.0.Beta2-SNAPSHOT.jar:8.0.0.Beta2-SNAPSHOT&amp;#93;&lt;/span&gt;  &lt;br/&gt;
      at org.jboss.msc.service.ServiceControllerImpl$StartTask.startService(ServiceControllerImpl.java:1944) &lt;span class=&quot;error&quot;&gt;&amp;#91;jboss-msc-1.2.0.Beta2.jar:1.2.0.Beta2&amp;#93;&lt;/span&gt;  &lt;br/&gt;
      at org.jboss.msc.service.ServiceControllerImpl$StartTask.run(ServiceControllerImpl.java:1877) &lt;span class=&quot;error&quot;&gt;&amp;#91;jboss-msc-1.2.0.Beta2.jar:1.2.0.Beta2&amp;#93;&lt;/span&gt;  &lt;br/&gt;
      at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1145) &lt;span class=&quot;error&quot;&gt;&amp;#91;rt.jar:1.7.0_40&amp;#93;&lt;/span&gt;  &lt;br/&gt;
      at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:615) &lt;span class=&quot;error&quot;&gt;&amp;#91;rt.jar:1.7.0_40&amp;#93;&lt;/span&gt;  &lt;br/&gt;
      at java.lang.Thread.run(Thread.java:724) &lt;span class=&quot;error&quot;&gt;&amp;#91;rt.jar:1.7.0_40&amp;#93;&lt;/span&gt;  &lt;br/&gt;
    Caused by: org.jboss.msc.service.DuplicateServiceException: Service jboss.concurrent.ee.context.config.specj.specj is already registered  &lt;br/&gt;
      at org.jboss.msc.service.ServiceRegistrationImpl.setInstance(ServiceRegistrationImpl.java:158) &lt;span class=&quot;error&quot;&gt;&amp;#91;jboss-msc-1.2.0.Beta2.jar:1.2.0.Beta2&amp;#93;&lt;/span&gt;  &lt;br/&gt;
      at org.jboss.msc.service.ServiceControllerImpl.startInstallation(ServiceControllerImpl.java:235) &lt;span class=&quot;error&quot;&gt;&amp;#91;jboss-msc-1.2.0.Beta2.jar:1.2.0.Beta2&amp;#93;&lt;/span&gt;  &lt;br/&gt;
      at org.jboss.msc.service.ServiceContainerImpl.install(ServiceContainerImpl.java:767) &lt;span class=&quot;error&quot;&gt;&amp;#91;jboss-msc-1.2.0.Beta2.jar:1.2.0.Beta2&amp;#93;&lt;/span&gt;  &lt;br/&gt;
      at org.jboss.msc.service.ServiceTargetImpl.install(ServiceTargetImpl.java:223) &lt;span class=&quot;error&quot;&gt;&amp;#91;jboss-msc-1.2.0.Beta2.jar:1.2.0.Beta2&amp;#93;&lt;/span&gt;  &lt;br/&gt;
      at org.jboss.msc.service.ServiceControllerImpl$ChildServiceTarget.install(ServiceControllerImpl.java:2384) &lt;span class=&quot;error&quot;&gt;&amp;#91;jboss-msc-1.2.0.Beta2.jar:1.2.0.Beta2&amp;#93;&lt;/span&gt;  &lt;br/&gt;
      at org.jboss.msc.service.ServiceTargetImpl.install(ServiceTargetImpl.java:223) &lt;span class=&quot;error&quot;&gt;&amp;#91;jboss-msc-1.2.0.Beta2.jar:1.2.0.Beta2&amp;#93;&lt;/span&gt;  &lt;br/&gt;
      at org.jboss.msc.service.ServiceControllerImpl$ChildServiceTarget.install(ServiceControllerImpl.java:2384) &lt;span class=&quot;error&quot;&gt;&amp;#91;jboss-msc-1.2.0.Beta2.jar:1.2.0.Beta2&amp;#93;&lt;/span&gt;  &lt;br/&gt;
      at org.jboss.msc.service.ServiceBuilderImpl.install(ServiceBuilderImpl.java:317) &lt;span class=&quot;error&quot;&gt;&amp;#91;jboss-msc-1.2.0.Beta2.jar:1.2.0.Beta2&amp;#93;&lt;/span&gt;  &lt;br/&gt;
      at org.jboss.as.ee.concurrent.deployers.EEConcurrentContextProcessor.setupConcurrentContext(EEConcurrentContextProcessor.java:110)  &lt;br/&gt;
      at org.jboss.as.ee.concurrent.deployers.EEConcurrentContextProcessor.processModuleDescription(EEConcurrentContextProcessor.java:71)  &lt;br/&gt;
      at org.jboss.as.ee.concurrent.deployers.EEConcurrentContextProcessor.deploy(EEConcurrentContextProcessor.java:54)  &lt;br/&gt;
      at org.jboss.as.server.deployment.DeploymentUnitPhaseService.start(DeploymentUnitPhaseService.java:159) &lt;span class=&quot;error&quot;&gt;&amp;#91;wildfly-server-8.0.0.Beta2-SNAPSHOT.jar:8.0.0.Beta2-SNAPSHOT&amp;#93;&lt;/span&gt;  &lt;br/&gt;
      ... 5 more  &lt;/p&gt;


&lt;p&gt;    2013-10-17 10:32:59,283 ERROR &lt;span class=&quot;error&quot;&gt;&amp;#91;org.jboss.as.controller.management-operation&amp;#93;&lt;/span&gt; (&lt;a href=&quot;https://issues.jboss.org/browse/XNIO-1&quot; title=&quot;Implement NIO.2-style async I/O methods&quot; class=&quot;issue-link&quot; data-issue-key=&quot;XNIO-1&quot;&gt;&lt;del&gt;XNIO-1&lt;/del&gt;&lt;/a&gt; task-3) JBAS014613: Operation (&quot;deploy&quot;) failed - address: (&lt;span class=&quot;error&quot;&gt;&amp;#91;(&amp;quot;deployment&amp;quot; =&amp;gt; &amp;quot;specj.ear&amp;quot;)&amp;#93;&lt;/span&gt;) - failure description: {  &lt;br/&gt;
        &quot;JBAS014671: Failed services&quot; =&amp;gt; &lt;/p&gt;
{&quot;jboss.deployment.subunit.\&quot;specj.ear\&quot;.\&quot;specj.jar\&quot;.POST_MODULE&quot; =&amp;gt; &quot;org.jboss.msc.service.StartException in service jboss.deployment.subunit.\&quot;specj.ear\&quot;.\&quot;specj.jar\&quot;.POST_MODULE: JBAS018733: Failed to process phase POST_MODULE of subdeployment \&quot;specj.jar\&quot; of deployment \&quot;specj.ear\&quot;  
        Caused by: org.jboss.msc.service.DuplicateServiceException: Service jboss.concurrent.ee.context.config.specj.specj is already registered&quot;}
&lt;p&gt;,  &lt;br/&gt;
        &quot;JBAS014771: Services with missing/unavailable dependencies&quot; =&amp;gt; [&quot;jboss.deployment.unit.\&quot;specj.ear\&quot;.weld.weldClassIntrospector is missing &lt;span class=&quot;error&quot;&gt;&amp;#91;jboss.deployment.unit.\&amp;quot;specj.ear\&amp;quot;.beanmanager&amp;#93;&lt;/span&gt;&quot;]  &lt;br/&gt;
    }  &lt;/p&gt;</description>
                <environment></environment>
        <key id="12508602">WFLY-2365</key>
            <summary>DuplicateServiceException when deploying ear containing jar and war with same name</summary>
                <type id="1" iconUrl="https://issues.jboss.org/secure/viewavatar?size=xsmall&amp;avatarId=13263&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.jboss.org/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.jboss.org/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="3">Duplicate Issue</resolution>
                                        <assignee username="emmartins">Eduardo Martins</assignee>
                                    <reporter username="asoldano">Alessio Soldano</reporter>
                        <labels>
                    </labels>
                <created>Wed, 23 Oct 2013 11:58:31 -0400</created>
                <updated>Tue, 29 Oct 2013 10:04:48 -0400</updated>
                            <resolved>Tue, 29 Oct 2013 10:04:48 -0400</resolved>
                                                                    <component>EE</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>3</watches>
                                                                <comments>
                            <comment id="12824360" author="asoldano" created="Wed, 23 Oct 2013 12:00:19 -0400"  >&lt;p&gt;Proposed fix: &lt;a href=&quot;https://github.com/asoldano/wildfly/commit/8c2e7f368e877e7cea302b04c70a21a176cf0d84&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://github.com/asoldano/wildfly/commit/8c2e7f368e877e7cea302b04c70a21a176cf0d84&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="12825276" author="swd847" created="Mon, 28 Oct 2013 09:44:26 -0400"  >&lt;p&gt;Assigning to Eduardo, is it is related to concurrency. Proposed patch is no longer valid, due to existing code changes.&lt;/p&gt;

&lt;p&gt;Basically the real problem is that these service names are not built by appending to the service name returned by DeploymentUnit.getServiceName(). In order to avoid conflicts all deployment related services (with very few exceptions such as global JNDI binding services) should be based on this.&lt;/p&gt;</comment>
                            <comment id="12825277" author="asoldano" created="Mon, 28 Oct 2013 09:47:42 -0400"  >&lt;p&gt;Thanks Stuart&lt;/p&gt;</comment>
                            <comment id="12825374" author="emmartins" created="Mon, 28 Oct 2013 17:02:30 -0400"  >&lt;p&gt;&lt;a href=&quot;https://issues.jboss.org/secure/ViewProfile.jspa?name=asoldano&quot; class=&quot;user-hover&quot; rel=&quot;asoldano&quot;&gt;Alessio Soldano&lt;/a&gt; Can you check if the issue is still valid on master? This issue seems a duplicate of &lt;a href=&quot;https://issues.jboss.org/browse/WFLY-2223&quot; title=&quot;EE ConcurrentContextService name conflict&quot; class=&quot;issue-link&quot; data-issue-key=&quot;WFLY-2223&quot;&gt;&lt;del&gt;WFLY-2223&lt;/del&gt;&lt;/a&gt;, which fix was recently merged.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310010" key="org.jboss.labs.jira.plugin.jboss-custom-field-types-plugin:multiurl">
                        <customfieldname>Forum Reference</customfieldname>
                        <customfieldvalues>
                            https://community.jboss.org/thread/233648
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310220" key="org.jboss.labs.jira.plugin.jboss-custom-field-types-plugin:multiurl">
                        <customfieldname>Git Pull Request</customfieldname>
                        <customfieldvalues>
                            https://github.com/wildfly/wildfly/pull/5342
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12310641" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Number of attachments</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310640" key="com.atlassian.jira.toolkit:comments">
                        <customfieldname>Number of comments</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>4.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12311940" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1|hzjcjb:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310840" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>173175</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                    </customfields>
    </item>
</channel>
</rss>