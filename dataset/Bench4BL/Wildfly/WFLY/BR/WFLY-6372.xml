<!-- 
RSS generated by JIRA (7.2.3#72005-sha1:73be91d2b96fc29303a7eb6820acf420e5d0ed65) at Tue Dec 06 13:07:24 EST 2016

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary add field=key&field=summary to the URL of your request.
For example:
https://issues.jboss.org/si/jira.issueviews:issue-xml/WFLY-6372/WFLY-6372.xml?field=key&amp;field=summary
-->
<rss version="0.92" >
<channel>
    <title>JBoss Issue Tracker</title>
    <link>https://issues.jboss.org</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-us</language>    <build-info>
        <version>7.2.3</version>
        <build-number>72005</build-number>
        <build-date>06-10-2016</build-date>
    </build-info>

<item>
            <title>[WFLY-6372] Flagging of invalid login credential for datasource is inconsistent.</title>
                <link>https://issues.jboss.org/browse/WFLY-6372</link>
                <project id="12313721" key="WFLY">WildFly</project>
                    <description>&lt;p&gt;There are multiple parts to this&lt;br/&gt;
(1) If the security-domain is defined for a datasource and the password is invalid, an error is reported in the console which is expected&lt;br/&gt;
&amp;lt;datasource jndi-name=&quot;java:/DefaultDS2&quot; pool-name=&quot;DefaultDS2&quot; enabled=&quot;true&quot; use-java-context=&quot;true&quot;&amp;gt;&lt;br/&gt;
&amp;lt;connection-url&amp;gt;jdbc:oracle:thin:@hostname:1521:ora1&amp;lt;/connection-url&amp;gt;&lt;br/&gt;
&amp;lt;driver&amp;gt;oracle&amp;lt;/driver&amp;gt;&lt;br/&gt;
&amp;lt;security&amp;gt;&lt;br/&gt;
&amp;lt;security-domain&amp;gt;encryptedPassword2&amp;lt;/security-domain&amp;gt;&lt;br/&gt;
&amp;lt;/security&amp;gt;&lt;br/&gt;
&amp;lt;/datasource&amp;gt;&lt;br/&gt;
(2) If the &apos;password&apos; for the datasource is invalid no error is reported in the console log at startup e.g&lt;br/&gt;
&amp;lt;datasource jndi-name=&quot;java:/DefaultDS2&quot; pool-name=&quot;DefaultDS2&quot; enabled=&quot;true&quot; use-java-context=&quot;true&quot;&amp;gt;&lt;br/&gt;
&amp;lt;connection-url&amp;gt;jdbc:oracle:thin:@hostname:1521:ora1&amp;lt;/connection-url&amp;gt;&lt;br/&gt;
&amp;lt;driver&amp;gt;oracle&amp;lt;/driver&amp;gt;&lt;br/&gt;
&amp;lt;security&amp;gt;&lt;br/&gt;
&amp;lt;user-name&amp;gt;user&amp;lt;/user-name&amp;gt;&lt;br/&gt;
&amp;lt;password&amp;gt;passwd&amp;lt;/password&amp;gt;&lt;br/&gt;
&amp;lt;/security&amp;gt;&lt;br/&gt;
&amp;lt;/datasource&amp;gt;&lt;br/&gt;
3. Whether or not you use a security-domain for a datasource, an invalid &apos;username&apos; doesn&apos;t get flagged in the console.&lt;br/&gt;
Actual results:&lt;br/&gt;
Expected results:&lt;br/&gt;
Invalid username and password should be flagged as login errors in the console log.&lt;br/&gt;
It shouldn&apos;t make a difference whether or not you use security-credentials&lt;/p&gt;</description>
                <environment></environment>
        <key id="12610467">WFLY-6372</key>
            <summary>Flagging of invalid login credential for datasource is inconsistent.</summary>
                <type id="1" iconUrl="https://issues.jboss.org/secure/viewavatar?size=xsmall&amp;avatarId=13263&amp;avatarType=issuetype">Bug</type>
                                            <priority id="2" iconUrl="https://issues.jboss.org/images/icons/priorities/critical.svg">Critical</priority>
                        <status id="5" iconUrl="https://issues.jboss.org/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Done</resolution>
                                        <assignee username="gaol">Lin Gao</assignee>
                                    <reporter username="baranowb">Bartosz Baranowski</reporter>
                        <labels>
                            <label>downstream_dependency</label>
                    </labels>
                <created>Tue, 15 Mar 2016 06:43:32 -0400</created>
                <updated>Thu, 18 Aug 2016 23:49:45 -0400</updated>
                            <resolved>Wed, 25 May 2016 11:47:13 -0400</resolved>
                                                    <fixVersion>10.1.0.CR1</fixVersion>
                    <fixVersion>10.1.0.Final</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                                <comments>
                            <comment id="13204955" author="gaol" created="Fri, 13 May 2016 03:38:09 -0400"  >&lt;p&gt;The error of a data-source with the security-domain set-up comes from security subsystem which is in an earlier stage than that JCA gets the JDBC connection. So it won&apos;t have the same stack trace on exceptions(if the inconsistent means the stack-trace).&lt;/p&gt;

&lt;p&gt;IMO, the problem is that some messages of exception are swallowed when trying to get the credentials from a security-domain, print those messages out will show more useful information.&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10012">
                    <name>Dependency</name>
                                            <outwardlinks description="is blocked by">
                                        <issuelink>
            <issuekey id="12610333">SECURITY-938</issuekey>
        </issuelink>
                            </outwardlinks>
                                                                <inwardlinks description="blocks">
                                        <issuelink>
            <issuekey id="12610401">JBEAP-3812</issuekey>
        </issuelink>
            <issuelink>
            <issuekey id="12610436">WFLY-6370</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="org.jboss.labs.jira.plugin.jboss-custom-field-types-plugin:multiurl">
                        <customfieldname>Git Pull Request</customfieldname>
                        <customfieldvalues>
                            https://github.com/wildfly/wildfly/pull/8913
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12310641" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Number of attachments</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310640" key="com.atlassian.jira.toolkit:comments">
                        <customfieldname>Number of comments</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12311940" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1|i02k4n:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310840" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                    </customfields>
    </item>
</channel>
</rss>