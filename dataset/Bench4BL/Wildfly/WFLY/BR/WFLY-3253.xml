<!-- 
RSS generated by JIRA (7.2.3#72005-sha1:73be91d2b96fc29303a7eb6820acf420e5d0ed65) at Tue Dec 06 12:10:21 EST 2016

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary add field=key&field=summary to the URL of your request.
For example:
https://issues.jboss.org/si/jira.issueviews:issue-xml/WFLY-3253/WFLY-3253.xml?field=key&amp;field=summary
-->
<rss version="0.92" >
<channel>
    <title>JBoss Issue Tracker</title>
    <link>https://issues.jboss.org</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-us</language>    <build-info>
        <version>7.2.3</version>
        <build-number>72005</build-number>
        <build-date>06-10-2016</build-date>
    </build-info>

<item>
            <title>[WFLY-3253] CXF should not be installing BouncyCastle</title>
                <link>https://issues.jboss.org/browse/WFLY-3253</link>
                <project id="12313721" key="WFLY">WildFly</project>
                    <description>&lt;p&gt;CXF installs a BouncyCastle provider globally into the security providers list.  This is causes performance and other problems when this provider gets chosen for whatever reason to be the system crypto provider for e.g. TLS.&lt;/p&gt;

&lt;p&gt;The list of globally installed security providers should be a user concern only.  If CXF requires a specific provider for a specific purpose, it should be selecting that provider when constructing the crytpo API object, though generally this is to be discouraged.&lt;/p&gt;

&lt;p&gt;Ultimately we want to introduce a configuration in the app server that allows the list of security providers to be specified in some way, without interference from any frameworks that we happen to have installed.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12538009">WFLY-3253</key>
            <summary>CXF should not be installing BouncyCastle</summary>
                <type id="1" iconUrl="https://issues.jboss.org/secure/viewavatar?size=xsmall&amp;avatarId=13263&amp;avatarType=issuetype">Bug</type>
                                            <priority id="2" iconUrl="https://issues.jboss.org/images/icons/priorities/critical.svg">Critical</priority>
                        <status id="5" iconUrl="https://issues.jboss.org/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Done</resolution>
                                        <assignee username="asoldano">Alessio Soldano</assignee>
                                    <reporter username="dmlloyd">David Lloyd</reporter>
                        <labels>
                    </labels>
                <created>Fri, 11 Apr 2014 18:31:45 -0400</created>
                <updated>Thu, 13 Nov 2014 09:58:56 -0500</updated>
                            <resolved>Thu, 13 Nov 2014 05:17:16 -0500</resolved>
                                                    <fixVersion>9.0.0.Beta1</fixVersion>
                                    <component>Web Services</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>3</watches>
                                                                <comments>
                            <comment id="12967594" author="dmlloyd" created="Tue, 13 May 2014 14:12:01 -0400"  >&lt;p&gt;It still needs to be possible to let the application server define what security providers exist and are visible.  Maybe it is possible to have CXF use a security provider that is not globally installed.  In this case you&apos;d be able to use the specific implementation without affecting what other frameworks are using.&lt;/p&gt;

&lt;p&gt;The following statements are all true:&lt;/p&gt;

&lt;ul&gt;
	&lt;li&gt;GCM is provided by some JDKs (maybe even Sun JDK 8, I don&apos;t recall)&lt;/li&gt;
	&lt;li&gt;GCM may be provided by other providers other than BC or JDK&lt;/li&gt;
	&lt;li&gt;Our frameworks (especially those in the app server) should not rely on the global security providers (instead it should be configurable to be overridden, preferably by module even)&lt;/li&gt;
	&lt;li&gt;User deployments should only see security providers that they want to see&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="12967631" author="asoldano" created="Tue, 13 May 2014 16:10:43 -0400"  >&lt;p&gt;Apache CXF relies on Apache WSS4J for anything related to WS-Security. WSS4J registers the BC provider (as well as the ApacheXMLDSig provider) and then relies on Apache Santuario for anything related to crypto. So, what you&apos;re describing here would basically mean to figure out if there&apos;s a way for making Santuario use a custom set of algorithm impls / security providers, while disabling the registration methods currently in place in WSS4J.&lt;br/&gt;
I agree that GCM (and in general any additional required algorithm impl) should be consumable by different providers. By default, though, we should make that available, regardless of the JDK in use. By default we should provide a configuration that allows using the secure algorithms, etc.&lt;br/&gt;
Do you have anything specific in mind regarding how the providers visible to a given deployment or a given module should be configured? Should I have e.g. a module for security provider libraries and something in the webservices subsystem to specify the name of the providers to &quot;use&quot;?&lt;/p&gt;</comment>
                            <comment id="12967644" author="dmlloyd" created="Tue, 13 May 2014 17:10:59 -0400"  >&lt;p&gt;I don&apos;t have a clear answer yet, however one thing I was considering back in AS 6 was installing a special &quot;provider&quot; that would proxy to other provider sets based on criteria such as TCCL.  This would allow each application to see its own set of security services, however if applications would inspect the provider itself they might see unusual name and version values (for example).&lt;/p&gt;

&lt;p&gt;I do agree we should make certain provider sets available, but this should be configured in the management model somehow.&lt;/p&gt;</comment>
                            <comment id="12987489" author="asoldano" created="Wed, 23 Jul 2014 13:09:08 -0400"  >&lt;p&gt;Unfortunately, having Apache Santuario and Apache WSS4J change to avoid relying on the global security providers is not an option. It is however possible to prevent WSS4J from installing BC at all, which leaves us with the need for always making available the algorithms currently provided by BC. This needs to be the default situation, as explained above. Hence the idea of a custom provider proxying other providers (BC in this case) on a classloading base could be a valid solution.&lt;/p&gt;</comment>
                            <comment id="12996405" author="asoldano" created="Thu, 28 Aug 2014 06:50:35 -0400"  >&lt;p&gt;Moving this to CR1, as Apache CXF 3.0.2 (containing the required changes) is not being released in time for Beta1.&lt;/p&gt;</comment>
                            <comment id="13019646" author="asoldano" created="Thu, 13 Nov 2014 05:17:16 -0500"  >&lt;p&gt;Marking as solved; &lt;a href=&quot;https://issues.jboss.org/browse/WFLY-4019&quot; title=&quot;Upgrade to JBossWS 5.0.0.Beta2, Apache CXF 3.0.2, Apache WSS4J 2.0.2, Apache Santuario 2.0.2&quot; class=&quot;issue-link&quot; data-issue-key=&quot;WFLY-4019&quot;&gt;&lt;del&gt;WFLY-4019&lt;/del&gt;&lt;/a&gt; pulls Apache CXF 3.0.2 which is not installing BouncyCastle anymore (it&apos;s installing a ThreadLocalSecurityProvider which the ws stack sets and unsets a BC provider instance in, just before and after actual need)&lt;/p&gt;</comment>
                            <comment id="13019774" author="dmlloyd" created="Thu, 13 Nov 2014 09:51:02 -0500"  >&lt;p&gt;Wow, well that&apos;s one way to solve it I guess... &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.jboss.org/images/icons/emoticons/smile.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10012">
                    <name>Dependency</name>
                                            <outwardlinks description="is blocked by">
                                        <issuelink>
            <issuekey id="12547626">JBWS-3817</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                            <issuelinktype id="12310001">
                    <name>Related</name>
                                                                <inwardlinks description="is related to">
                                        <issuelink>
            <issuekey id="12540354">WFLY-3331</issuekey>
        </issuelink>
            <issuelink>
            <issuekey id="12537972">WFLY-3252</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310641" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Number of attachments</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310640" key="com.atlassian.jira.toolkit:comments">
                        <customfieldname>Number of comments</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>7.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12311940" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1|hznayn:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310840" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>196198</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                    </customfields>
    </item>
</channel>
</rss>