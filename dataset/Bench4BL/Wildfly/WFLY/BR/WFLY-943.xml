<!-- 
RSS generated by JIRA (7.2.3#72005-sha1:73be91d2b96fc29303a7eb6820acf420e5d0ed65) at Tue Dec 06 14:00:50 EST 2016

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary add field=key&field=summary to the URL of your request.
For example:
https://issues.jboss.org/si/jira.issueviews:issue-xml/WFLY-943/WFLY-943.xml?field=key&amp;field=summary
-->
<rss version="0.92" >
<channel>
    <title>JBoss Issue Tracker</title>
    <link>https://issues.jboss.org</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-us</language>    <build-info>
        <version>7.2.3</version>
        <build-number>72005</build-number>
        <build-date>06-10-2016</build-date>
    </build-info>

<item>
            <title>[WFLY-943] XML schema; use of elementFormDefault=&apos;unqualified&apos;; cannot validate some documents</title>
                <link>https://issues.jboss.org/browse/WFLY-943</link>
                <project id="12313721" key="WFLY">WildFly</project>
                    <description>&lt;p&gt;When attempting to write a (seemingly) valid jboss-deployment-structure.xml using the schema in ./docs, my document fails to validate.&lt;/p&gt;

&lt;p&gt;This is because of the settings used in the XSD. Have these XSDs been used to validate actual documents? By setting unqualified to &apos;qualified&apos; then the documents will probably validate.&lt;/p&gt;

&lt;p&gt;$ git grep elementFormDefault..unqualified&lt;br/&gt;
jboss-deployment-dependencies-1_0.xsd:            elementFormDefault=&quot;unqualified&quot;&lt;br/&gt;
jboss-deployment-structure-1_0.xsd:            elementFormDefault=&quot;unqualified&quot;&lt;br/&gt;
jboss-deployment-structure-1_1.xsd:            elementFormDefault=&quot;unqualified&quot;&lt;br/&gt;
jboss-deployment-structure-1_2.xsd:            elementFormDefault=&quot;unqualified&quot;&lt;br/&gt;
jboss-ejb-client_1_0.xsd:            elementFormDefault=&quot;unqualified&quot;&lt;br/&gt;
jboss-ejb-client_1_1.xsd:            elementFormDefault=&quot;unqualified&quot;&lt;br/&gt;
jboss-ejb-client_1_2.xsd:            elementFormDefault=&quot;unqualified&quot;&lt;br/&gt;
jboss-jpa_1_0.xsd:  elementFormDefault=&quot;unqualified&quot; &lt;/p&gt;</description>
                <environment></environment>
        <key id="12473954">WFLY-943</key>
            <summary>XML schema; use of elementFormDefault=&apos;unqualified&apos;; cannot validate some documents</summary>
                <type id="1" iconUrl="https://issues.jboss.org/secure/viewavatar?size=xsmall&amp;avatarId=13263&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.jboss.org/images/icons/priorities/major.svg">Major</priority>
                        <status id="5" iconUrl="https://issues.jboss.org/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Done</resolution>
                                        <assignee username="rhusar">Radoslav Husar</assignee>
                                    <reporter username="genman">Elias Ross</reporter>
                        <labels>
                    </labels>
                <created>Fri, 7 Sep 2012 01:29:35 -0400</created>
                <updated>Thu, 4 Sep 2014 09:47:29 -0400</updated>
                            <resolved>Thu, 6 Feb 2014 07:38:14 -0500</resolved>
                                    <version>8.0.0.Alpha3</version>
                                    <fixVersion>8.0.0.Final</fixVersion>
                                    <component>Documentation</component>
                        <due></due>
                            <votes>1</votes>
                                    <watches>7</watches>
                                                                <comments>
                            <comment id="12716518" author="genman" created="Fri, 7 Sep 2012 01:31:59 -0400"  >&lt;p&gt;Example document. If you view in Eclipse, &apos;p:deployment&apos; is underlined. Fix by setting&lt;/p&gt;

&lt;p&gt;            elementFormDefault=&quot;unqualified&quot;&lt;/p&gt;

&lt;p&gt;in the XSD.&lt;/p&gt;</comment>
                            <comment id="12772455" author="wolfgangknauf" created="Mon, 6 May 2013 15:38:40 -0400"  >&lt;p&gt;It seems to validate if you remove all &quot;p:&quot; declarations beside the one at the root element:&lt;/p&gt;


&lt;p&gt;&amp;lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&amp;gt;&lt;br/&gt;
&amp;lt;p:jboss-deployment-structure xmlns&lt;img class=&quot;emoticon&quot; src=&quot;https://issues.jboss.org/images/icons/emoticons/tongue.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;=&quot;urn:jboss:deployment-structure:1.1&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;&lt;br/&gt;
          xsi:schemaLocation=&quot;urn:jboss:deployment-structure:1.1  &lt;a href=&quot;http://www.jboss.org/schema/jbossas/jboss-deployment-structure-1_1.xsd&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://www.jboss.org/schema/jbossas/jboss-deployment-structure-1_1.xsd&lt;/a&gt; &quot;&amp;gt;&lt;br/&gt;
   &amp;lt;deployment&amp;gt;&lt;br/&gt;
      &amp;lt;module-alias name=&quot;bar&quot;/&amp;gt;&lt;br/&gt;
      &amp;lt;dependencies&amp;gt;&lt;br/&gt;
         &amp;lt;module name=&quot;foo&quot; /&amp;gt;&lt;br/&gt;
      &amp;lt;/dependencies&amp;gt;&lt;br/&gt;
   &amp;lt;/deployment&amp;gt;&lt;br/&gt;
&amp;lt;/p:jboss-deployment-structure&amp;gt;&lt;/p&gt;


&lt;p&gt;But the next problem is that this file (with the schemaLocation) will not deploy (same error also for WildFly):&lt;br/&gt;
...&lt;br/&gt;
Caused by: org.jboss.as.server.deployment.DeploymentUnitProcessingException: JBAS018748: Error loading jboss-deployment-structure.xml from C:\Temp\jboss-as-7.2.0.Alpha1-SNAPSHOT\standalone\deployments\MyGreat.ear\META-INF\jboss-deployment-structure.xml&lt;br/&gt;
	at org.jboss.as.server.deployment.module.descriptor.DeploymentStructureDescriptorParser.parse(DeploymentStructureDescriptorParser.java:322) &lt;span class=&quot;error&quot;&gt;&amp;#91;jboss-as-server-7.2.0.Alpha1-SNAPSHOT.jar:7.2.0.Alpha1-SNAPSHOT&amp;#93;&lt;/span&gt;&lt;br/&gt;
	at org.jboss.as.server.deployment.module.descriptor.DeploymentStructureDescriptorParser.parse(DeploymentStructureDescriptorParser.java:294) &lt;span class=&quot;error&quot;&gt;&amp;#91;jboss-as-server-7.2.0.Alpha1-SNAPSHOT.jar:7.2.0.Alpha1-SNAPSHOT&amp;#93;&lt;/span&gt;&lt;br/&gt;
	at org.jboss.as.server.deployment.module.descriptor.DeploymentStructureDescriptorParser.deploy(DeploymentStructureDescriptorParser.java:158) &lt;span class=&quot;error&quot;&gt;&amp;#91;jboss-as-server-7.2.0.Alpha1-SNAPSHOT.jar:7.2.0.Alpha1-SNAPSHOT&amp;#93;&lt;/span&gt;&lt;br/&gt;
	at org.jboss.as.server.deployment.DeploymentUnitPhaseService.start(DeploymentUnitPhaseService.java:120) &lt;span class=&quot;error&quot;&gt;&amp;#91;jboss-as-server-7.2.0.Alpha1-SNAPSHOT.jar:7.2.0.Alpha1-SNAPSHOT&amp;#93;&lt;/span&gt;&lt;br/&gt;
	... 5 more&lt;br/&gt;
Caused by: javax.xml.stream.XMLStreamException: ParseError at &lt;span class=&quot;error&quot;&gt;&amp;#91;row,col&amp;#93;&lt;/span&gt;:&lt;span class=&quot;error&quot;&gt;&amp;#91;1,1&amp;#93;&lt;/span&gt;&lt;br/&gt;
Message: JBAS018754: Unexpected content of type &apos;element start&apos;, name is &apos;&lt;/p&gt;
{urn:jboss:deployment-structure:1.1}
&lt;p&gt;jboss-deployment-structure&apos;, text is: &apos;null&apos;&lt;br/&gt;
	at org.jboss.as.server.deployment.module.descriptor.JBossDeploymentStructureParser11.unexpectedContent(JBossDeploymentStructureParser11.java:1119) &lt;span class=&quot;error&quot;&gt;&amp;#91;jboss-as-server-7.2.0.Alpha1-SNAPSHOT.jar:7.2.0.Alpha1-SNAPSHOT&amp;#93;&lt;/span&gt;&lt;br/&gt;
	at org.jboss.as.server.deployment.module.descriptor.JBossDeploymentStructureParser11.readElement(JBossDeploymentStructureParser11.java:210) &lt;span class=&quot;error&quot;&gt;&amp;#91;jboss-as-server-7.2.0.Alpha1-SNAPSHOT.jar:7.2.0.Alpha1-SNAPSHOT&amp;#93;&lt;/span&gt;&lt;br/&gt;
	at org.jboss.as.server.deployment.module.descriptor.JBossDeploymentStructureParser11.readElement(JBossDeploymentStructureParser11.java:68) &lt;span class=&quot;error&quot;&gt;&amp;#91;jboss-as-server-7.2.0.Alpha1-SNAPSHOT.jar:7.2.0.Alpha1-SNAPSHOT&amp;#93;&lt;/span&gt;&lt;br/&gt;
	at org.jboss.staxmapper.XMLMapperImpl.processNested(XMLMapperImpl.java:110)&lt;br/&gt;
	at org.jboss.staxmapper.XMLMapperImpl.parseDocument(XMLMapperImpl.java:69)&lt;br/&gt;
	at org.jboss.as.server.deployment.module.descriptor.DeploymentStructureDescriptorParser.parse(DeploymentStructureDescriptorParser.java:316) &lt;span class=&quot;error&quot;&gt;&amp;#91;jboss-as-server-7.2.0.Alpha1-SNAPSHOT.jar:7.2.0.Alpha1-SNAPSHOT&amp;#93;&lt;/span&gt;&lt;br/&gt;
	... 8 more&lt;/p&gt;

&lt;p&gt;21:34:40,692 ERROR &lt;span class=&quot;error&quot;&gt;&amp;#91;org.jboss.as.server&amp;#93;&lt;/span&gt; (DeploymentScanner-threads - 1) JBAS015870: Deploy of deployment &quot;KuchenSimple.ear&quot; was rolled back with the following failure message: &lt;br/&gt;
{&quot;JBAS014671: Failed services&quot; =&amp;gt; {&quot;jboss.deployment.unit.\&quot;MyGreat.ear\&quot;.STRUCTURE&quot; =&amp;gt; &quot;org.jboss.msc.service.StartException in service jboss.deployment.unit.\&quot;MyGreat.ear\&quot;.STRUCTURE: JBAS018733: Failed to process phase STRUCTURE of deployment \&quot;MyGreat.ear\&quot;&lt;br/&gt;
    Caused by: org.jboss.as.server.deployment.DeploymentUnitProcessingException: JBAS018748: Error loading jboss-deployment-structure.xml from C:\\Temp\\jboss-as-7.2.0.Alpha1-SNAPSHOT\\standalone\\deployments\\MyGreat.ear\\META-INF&lt;br class=&quot;atl-forced-newline&quot; /&gt;jboss-deployment-structure.xml&lt;br/&gt;
    Caused by: javax.xml.stream.XMLStreamException: ParseError at &lt;span class=&quot;error&quot;&gt;&amp;#91;row,col&amp;#93;&lt;/span&gt;:&lt;span class=&quot;error&quot;&gt;&amp;#91;1,1&amp;#93;&lt;/span&gt;&lt;br/&gt;
Message: JBAS018754: Unexpected content of type &apos;element start&apos;, name is &apos;&lt;/p&gt;
{urn:jboss:deployment-structure:1.1}
&lt;p&gt;jboss-deployment-structure&apos;, text is: &apos;null&apos;&quot;}}&lt;/p&gt;</comment>
                            <comment id="12772456" author="wolfgangknauf" created="Mon, 6 May 2013 15:40:30 -0400"  >&lt;p&gt;The smiley should read &quot;xmlns : p =&quot; (without spaces of course)&lt;/p&gt;</comment>
                            <comment id="12798792" author="maxandersen" created="Fri, 23 Aug 2013 05:25:26 -0400"  >&lt;p&gt;&lt;a href=&quot;https://bugzilla.redhat.com/show_bug.cgi?id=996680&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://bugzilla.redhat.com/show_bug.cgi?id=996680&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="12826367" author="jowilson" created="Thu, 31 Oct 2013 20:43:58 -0400"  >&lt;p&gt;In the version that I use it does NOT have the &quot;p&quot; and I still get the errors.  For examples please refer to any of the Spring related &lt;a href=&quot;https://github.com/jboss-developer/jboss-wfk-quickstarts/tree/master/kitchensink-spring-basic&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;quickstarts&lt;/a&gt; in the JBoss Web Framework Kit quickstarts. &lt;/p&gt;

&lt;p&gt;To be clear you need to Build with Eclipse to see the errors.&lt;/p&gt;

&lt;p&gt;Does anyone know if this is being worked?&lt;/p&gt;</comment>
                            <comment id="12826368" author="jowilson" created="Thu, 31 Oct 2013 20:47:12 -0400"  >&lt;p&gt;I guess someone has worked it because I just found that if you use `&amp;lt;jboss-deployment-structure xmlns=&quot;urn:jboss:deployment-structure:2.0&quot;&amp;gt;` it works. &lt;/p&gt;

&lt;p&gt;Thanks team! &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.jboss.org/images/icons/emoticons/smile.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/p&gt;</comment>
                            <comment id="12826387" author="jowilson" created="Fri, 1 Nov 2013 02:17:28 -0400"  >&lt;p&gt;In my last comment I wrote about how changing the version makes the error go away in Eclipse. While this is true it does not actually allow you to deploy the application to JBoss (where the schema lives).&lt;/p&gt;

&lt;p&gt;After looking deeper into this I believe that you are right and that the elementFormDefault=&quot;unqualified&quot; needs to be changed to elementFormDefault=&quot;qualified&quot;.&lt;/p&gt;</comment>
                            <comment id="12940596" author="jowilson" created="Fri, 31 Jan 2014 14:49:01 -0500"  >&lt;p&gt;Looks like this was fixed on Wildfly. &lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://github.com/wildfly/wildfly/pull/5560&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://github.com/wildfly/wildfly/pull/5560&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="12940780" author="rhusar" created="Mon, 3 Feb 2014 09:03:49 -0500"  >&lt;p&gt;No, the ejb-client schemas are not fixed and they need a fix.&lt;/p&gt;

&lt;p&gt;The other 2 are unchanged, deployment-dependencies and jpa and might need a fix.&lt;/p&gt;</comment>
                            <comment id="12940782" author="rhusar" created="Mon, 3 Feb 2014 09:07:50 -0500"  >&lt;p&gt;Looking at the source code, it looks like the JPA one is never used?&lt;/p&gt;

&lt;p/&gt;
&lt;div id=&quot;syntaxplugin&quot; class=&quot;syntaxplugin&quot; style=&quot;border: 1px dashed #bbb; border-radius: 5px !important; overflow: auto; max-height: 30em;&quot;&gt;
&lt;table cellspacing=&quot;0&quot; cellpadding=&quot;0&quot; border=&quot;0&quot; width=&quot;100%&quot; style=&quot;font-size: 1em; line-height: 1.4em !important; font-weight: normal; font-style: normal; color: black;&quot;&gt;
		&lt;tbody &gt;
				&lt;tr id=&quot;syntaxplugin_code_and_gutter&quot;&gt;
						&lt;td  style=&quot; line-height: 1.4em !important; padding: 0em; vertical-align: top;&quot;&gt;
					&lt;pre style=&quot;font-size: 1em; margin: 0 10px;  margin-top: 10px;   width: auto; padding: 0;&quot;&gt;&lt;span style=&quot;color: black; font-family: &apos;Consolas&apos;, &apos;Bitstream Vera Sans Mono&apos;, &apos;Courier New&apos;, Courier, monospace !important;&quot;&gt;jpa/core/src/main/java/org/jboss/as/jpa/processor/JPAJarJBossAllParser.java:    &lt;/span&gt;&lt;/pre&gt;
			&lt;/td&gt;
		&lt;/tr&gt;
				&lt;tr id=&quot;syntaxplugin_code_and_gutter&quot;&gt;
						&lt;td  style=&quot; line-height: 1.4em !important; padding: 0em; vertical-align: top;&quot;&gt;
					&lt;pre style=&quot;font-size: 1em; margin: 0 10px;   margin-bottom: 10px;  width: auto; padding: 0;&quot;&gt;&lt;span style=&quot;color: black; font-family: &apos;Consolas&apos;, &apos;Bitstream Vera Sans Mono&apos;, &apos;Courier New&apos;, Courier, monospace !important;&quot;&gt;public static final QName ROOT_ELEMENT = new QName(&quot;http://www.jboss.com/xml/ns/javaee&quot;, &quot;jboss-jpa&quot;);&lt;/span&gt;&lt;/pre&gt;
			&lt;/td&gt;
		&lt;/tr&gt;
			&lt;/tbody&gt;
&lt;/table&gt;
&lt;/div&gt;
&lt;p/&gt;

&lt;p&gt;Ouch. And if we were to fix that we would have to keep the backward compatibility..&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="12310120">
                    <name>Cloners</name>
                                                                <inwardlinks description="cloned to">
                                        <issuelink>
            <issuekey id="12498845">JBMETA-367</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                            <issuelinktype id="10012">
                    <name>Dependency</name>
                                                                <inwardlinks description="blocks">
                                        <issuelink>
            <issuekey id="12492170">JBIDE-14534</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                            <issuelinktype id="12310001">
                    <name>Related</name>
                                            <outwardlinks description="relates to">
                                        <issuelink>
            <issuekey id="12531038">WFLY-2858</issuekey>
        </issuelink>
                            </outwardlinks>
                                                                <inwardlinks description="is related to">
                                        <issuelink>
            <issuekey id="12492693">JBIDE-14629</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="12356661" name="jboss-deployment-structure.xml" size="456" author="genman" created="Fri, 7 Sep 2012 01:31:59 -0400"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="org.jboss.labs.jira.plugin.jboss-custom-field-types-plugin:multiurl">
                        <customfieldname>Git Pull Request</customfieldname>
                        <customfieldvalues>
                            https://github.com/wildfly/wildfly/pull/5846
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12310641" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Number of attachments</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310640" key="com.atlassian.jira.toolkit:comments">
                        <customfieldname>Number of comments</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>10.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12311940" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1|hz5ppb:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310840" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>93735</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                    </customfields>
    </item>
</channel>
</rss>