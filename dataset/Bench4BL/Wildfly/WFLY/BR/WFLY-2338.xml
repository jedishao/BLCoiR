<!-- 
RSS generated by JIRA (7.2.3#72005-sha1:73be91d2b96fc29303a7eb6820acf420e5d0ed65) at Tue Dec 06 11:59:31 EST 2016

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary add field=key&field=summary to the URL of your request.
For example:
https://issues.jboss.org/si/jira.issueviews:issue-xml/WFLY-2338/WFLY-2338.xml?field=key&amp;field=summary
-->
<rss version="0.92" >
<channel>
    <title>JBoss Issue Tracker</title>
    <link>https://issues.jboss.org</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-us</language>    <build-info>
        <version>7.2.3</version>
        <build-number>72005</build-number>
        <build-date>06-10-2016</build-date>
    </build-info>

<item>
            <title>[WFLY-2338] When using a JDBC object store, the RecoveryManager service stop can occur after the datasource is already stopped</title>
                <link>https://issues.jboss.org/browse/WFLY-2338</link>
                <project id="12313721" key="WFLY">WildFly</project>
                    <description>&lt;p&gt;It should be the cause of &lt;a href=&quot;https://bugzilla.redhat.com/show_bug.cgi?id=1020881&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://bugzilla.redhat.com/show_bug.cgi?id=1020881&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;It has the effects described in the BZ, i.e. can cause warnings or can entirely block the application server from stopping&lt;/p&gt;</description>
                <environment></environment>
        <key id="12508208">WFLY-2338</key>
            <summary>When using a JDBC object store, the RecoveryManager service stop can occur after the datasource is already stopped</summary>
                <type id="1" iconUrl="https://issues.jboss.org/secure/viewavatar?size=xsmall&amp;avatarId=13263&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.jboss.org/images/icons/priorities/major.svg">Major</priority>
                        <status id="5" iconUrl="https://issues.jboss.org/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Done</resolution>
                                        <assignee username="maeste">Stefano Maestri</assignee>
                                    <reporter username="tomjenkinson">Tom Jenkinson</reporter>
                        <labels>
                    </labels>
                <created>Fri, 18 Oct 2013 12:15:33 -0400</created>
                <updated>Thu, 4 Sep 2014 09:30:08 -0400</updated>
                            <resolved>Wed, 23 Oct 2013 03:21:27 -0400</resolved>
                                                                    <component>Transactions</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                                <comments>
                            <comment id="12823889" author="jira-bugzilla-migration" created="Tue, 22 Oct 2013 05:30:47 -0400"  >&lt;p&gt;Ondrej Chaloupka &amp;lt;ochaloup@redhat.com&amp;gt; made a comment on &lt;a href=&quot;https://bugzilla.redhat.com/show_bug.cgi?id=1020881&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;bug 1020881&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;I found out that this happens not only with reload but as well when server is stopping. Which means that when the JDBC object store is configured and you stopped the server the server stucks and it has to be killed by &apos;kill -9&apos; or similar way.&lt;/p&gt;

&lt;p&gt;This problem seems to me quite urgent. I can see that the issue is already solved for Wildfly then please check the process of the stopping the server as well.&lt;/p&gt;</comment>
                            <comment id="12823909" author="jira-bugzilla-migration" created="Tue, 22 Oct 2013 06:13:56 -0400"  >&lt;p&gt;Ondrej Chaloupka &amp;lt;ochaloup@redhat.com&amp;gt; made a comment on &lt;a href=&quot;https://bugzilla.redhat.com/show_bug.cgi?id=1020881&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;bug 1020881&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;I&apos;m blocked by this issue in my testing I&apos;m adding TestBlocker keyword.&lt;/p&gt;

&lt;p&gt;As server stucks for reload and shutdown in most of the cases this issue blocks my testing of the JDBC object store.&lt;/p&gt;</comment>
                            <comment id="12823973" author="jira-bugzilla-migration" created="Tue, 22 Oct 2013 09:16:15 -0400"  >&lt;p&gt;Brian Stansberry &amp;lt;brian.stansberry@redhat.com&amp;gt; changed the Status of &lt;a href=&quot;https://bugzilla.redhat.com/show_bug.cgi?id=1020881&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;bug 1020881&lt;/a&gt; from NEW to POST&lt;/p&gt;</comment>
                            <comment id="12824148" author="jira-bugzilla-migration" created="Tue, 22 Oct 2013 22:39:55 -0400"  >&lt;p&gt;Brian Stansberry &amp;lt;brian.stansberry@redhat.com&amp;gt; changed the Status of &lt;a href=&quot;https://bugzilla.redhat.com/show_bug.cgi?id=1020881&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;bug 1020881&lt;/a&gt; from POST to MODIFIED&lt;/p&gt;</comment>
                            <comment id="12825999" author="jira-bugzilla-migration" created="Wed, 30 Oct 2013 17:45:37 -0400"  >&lt;p&gt;Paul Gier &amp;lt;pgier@redhat.com&amp;gt; changed the Status of &lt;a href=&quot;https://bugzilla.redhat.com/show_bug.cgi?id=1020881&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;bug 1020881&lt;/a&gt; from MODIFIED to ON_QA&lt;/p&gt;</comment>
                            <comment id="12826145" author="jira-bugzilla-migration" created="Thu, 31 Oct 2013 09:13:12 -0400"  >&lt;p&gt;Ondrej Chaloupka &amp;lt;ochaloup@redhat.com&amp;gt; changed the Status of &lt;a href=&quot;https://bugzilla.redhat.com/show_bug.cgi?id=1020881&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;bug 1020881&lt;/a&gt; from ON_QA to VERIFIED&lt;/p&gt;</comment>
                            <comment id="12826146" author="jira-bugzilla-migration" created="Thu, 31 Oct 2013 09:13:13 -0400"  >&lt;p&gt;Ondrej Chaloupka &amp;lt;ochaloup@redhat.com&amp;gt; made a comment on &lt;a href=&quot;https://bugzilla.redhat.com/show_bug.cgi?id=1020881&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;bug 1020881&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Verified 6.2.0.ER7. &lt;br/&gt;
The reload works in my case.&lt;/p&gt;</comment>
                            <comment id="12931613" author="jira-bugzilla-migration" created="Sun, 15 Dec 2013 11:55:34 -0500"  >&lt;p&gt;mark yarborough &amp;lt;myarboro@redhat.com&amp;gt; changed the Status of &lt;a href=&quot;https://bugzilla.redhat.com/show_bug.cgi?id=1020881&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;bug 1020881&lt;/a&gt; from VERIFIED to CLOSED&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="12310001">
                    <name>Related</name>
                                                                <inwardlinks description="is related to">
                                        <issuelink>
            <issuekey id="12508178">JBTM-1990</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="12366681" name="0001-patching-servicename-for-ds-dependency.patch" size="1495" author="tomjenkinson" created="Sat, 19 Oct 2013 04:43:26 -0400"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310440" key="org.jboss.labs.jira.plugin.jboss-custom-field-types-plugin:multiurl">
                        <customfieldname>Bugzilla References</customfieldname>
                        <customfieldvalues>
                            https://bugzilla.redhat.com/show_bug.cgi?id=1020881
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12310220" key="org.jboss.labs.jira.plugin.jboss-custom-field-types-plugin:multiurl">
                        <customfieldname>Git Pull Request</customfieldname>
                        <customfieldvalues>
                            https://github.com/wildfly/wildfly/pull/5322
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12310641" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Number of attachments</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310640" key="com.atlassian.jira.toolkit:comments">
                        <customfieldname>Number of comments</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>8.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12311940" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1|hzja47:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310840" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>172789</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                            <customfield id="customfield_12310183" key="com.atlassian.jira.plugin.system.customfieldtypes:textarea">
                        <customfieldname>Steps to Reproduce</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>&lt;p&gt;Put a breakpoint in ArjunaRecoveryManagerService::stop&lt;br/&gt;
Stop the server with a :reload&lt;br/&gt;
Observe: 12:42:42,745 INFO  &lt;span class=&quot;error&quot;&gt;&amp;#91;org.jboss.as.connector.subsystems.datasources&amp;#93;&lt;/span&gt; (MSC service thread 1-1) JBAS010409: Unbound data source &lt;span class=&quot;error&quot;&gt;&amp;#91;java:jboss/datasources/jdbc-store&amp;#93;&lt;/span&gt;&lt;/p&gt;

&lt;p&gt;This shows the datasource is being undeployed before the recovery manager&lt;/p&gt;</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                            </customfields>
    </item>
</channel>
</rss>