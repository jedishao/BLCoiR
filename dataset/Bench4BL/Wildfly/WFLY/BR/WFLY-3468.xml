<!-- 
RSS generated by JIRA (7.2.3#72005-sha1:73be91d2b96fc29303a7eb6820acf420e5d0ed65) at Mon Dec 12 13:34:37 EST 2016

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary add field=key&field=summary to the URL of your request.
For example:
https://issues.jboss.org/si/jira.issueviews:issue-xml/WFLY-3468/WFLY-3468.xml?field=key&amp;field=summary
-->
<rss version="0.92" >
<channel>
    <title>JBoss Issue Tracker</title>
    <link>https://issues.jboss.org</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-us</language>    <build-info>
        <version>7.2.3</version>
        <build-number>72005</build-number>
        <build-date>06-10-2016</build-date>
    </build-info>

<item>
            <title>[WFLY-3468] Managed server shutdown unexpectedly when timeout during connection request to HC</title>
                <link>https://issues.jboss.org/browse/WFLY-3468</link>
                <project id="12313721" key="WFLY">WildFly</project>
                    <description>&lt;p&gt;Sometimes managed server shutdown unexpectedly when managed server tries to connect to the HC and got lengthly Full GC.&lt;/p&gt;

&lt;blockquote&gt;
&lt;p&gt;java.io.IOException: JBAS012175: Channel closed&lt;br/&gt;
	at org.jboss.as.server.mgmt.domain.HostControllerConnection.getChannel(HostControllerConnection.java:101)&lt;br/&gt;
	at org.jboss.as.protocol.mgmt.ManagementChannelHandler.executeRequest(ManagementChannelHandler.java:117)&lt;br/&gt;
	at org.jboss.as.protocol.mgmt.ManagementChannelHandler.executeRequest(ManagementChannelHandler.java:100)&lt;br/&gt;
	at org.jboss.as.server.mgmt.domain.HostControllerConnection.reConnect(HostControllerConnection.java:171)&lt;br/&gt;
	at org.jboss.as.server.mgmt.domain.HostControllerClient.reconnect(HostControllerClient.java:98)&lt;br/&gt;
	at org.jboss.as.server.DomainServerMain.main(DomainServerMain.java:138)&lt;br/&gt;
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)&lt;br/&gt;
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:57)&lt;br/&gt;
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)&lt;br/&gt;
	at java.lang.reflect.Method.invoke(Method.java:606)&lt;br/&gt;
	at org.jboss.modules.Module.run(Module.java:292)&lt;br/&gt;
	at org.jboss.modules.Main.main(Main.java:455)&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;The current DomainServerMain exits on the connetion error.&lt;/p&gt;

&lt;p&gt;The scenario is:&lt;/p&gt;

&lt;ol&gt;
	&lt;li&gt;server tries to connect to the HC&lt;/li&gt;
	&lt;li&gt;server Full GC&lt;/li&gt;
	&lt;li&gt;HC is waiting a request from server, read timeout, closes the sock&lt;/li&gt;
	&lt;li&gt;server resumed from GC, failed to send the req to the HC and exit&lt;/li&gt;
&lt;/ol&gt;
</description>
                <environment></environment>
        <key id="12543225">WFLY-3468</key>
            <summary>Managed server shutdown unexpectedly when timeout during connection request to HC</summary>
                <type id="1" iconUrl="https://issues.jboss.org/secure/viewavatar?size=xsmall&amp;avatarId=13263&amp;avatarType=issuetype">Bug</type>
                                            <priority id="4" iconUrl="https://issues.jboss.org/images/icons/priorities/minor.svg">Minor</priority>
                        <status id="5" iconUrl="https://issues.jboss.org/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Done</resolution>
                                        <assignee username="emuckenhuber">Emanuel Muckenhuber</assignee>
                                    <reporter username="tkimura">Takayoshi Kimura</reporter>
                        <labels>
                    </labels>
                <created>Mon, 9 Jun 2014 04:49:57 -0400</created>
                <updated>Mon, 10 Aug 2015 18:01:19 -0400</updated>
                            <resolved>Thu, 4 Sep 2014 06:00:27 -0400</resolved>
                                    <version>8.1.0.Final</version>
                                    <fixVersion>9.0.0.Alpha1</fixVersion>
                                    <component>Domain Management</component>
                        <due></due>
                            <votes>1</votes>
                                    <watches>8</watches>
                                                                <comments>
                            <comment id="12976724" author="elvis.rocha" created="Mon, 16 Jun 2014 13:55:09 -0400"  >&lt;p&gt;I got the same issue and still couldn&apos;t find a solution.&lt;/p&gt;</comment>
                            <comment id="12976837" author="emuckenhuber" created="Tue, 17 Jun 2014 03:07:55 -0400"  >&lt;p&gt;This is something which needs to be handled in a better way, there is currently no way to workaround this. &lt;/p&gt;</comment>
                            <comment id="12993109" author="jameslivingston" created="Thu, 14 Aug 2014 19:49:14 -0400"  >&lt;p&gt;To reproduce:&lt;br/&gt;
1) Uncomment the debugging example for server-one in domain/configuration/host.xml&lt;br/&gt;
2) Run domain.sh, and connect your debugger (port 8787 out of box)&lt;br/&gt;
3) Either suspend the &quot;main&quot; thread and use Step Out, or put a breakpoint on the line after StreamUtils.readUTFZBytes()&lt;br/&gt;
4) Run &quot;kill -STOP $SERVER_ONE_PID&quot; to suspend the process&lt;br/&gt;
5) Wait until the HC reports ReadTimeoutException&lt;br/&gt;
6) Use &quot;kill -CONT $SERVER_ONE_PID&quot;, and it will drop into the debugger&lt;br/&gt;
7) Suspend the HC process as above&lt;br/&gt;
8) Step over the calls until it enters client.reconnect()&lt;br/&gt;
9) After it times out contacting the HC, it will catch an IOException (ConnectException if you reproduce this way, but others can occur)&lt;br/&gt;
10) Resume the HC process and do whatever debugging you want&lt;/p&gt;</comment>
                            <comment id="12993133" author="jira-bugzilla-migration" created="Thu, 14 Aug 2014 21:52:25 -0400"  >&lt;p&gt;James Livingston &amp;lt;jlivings@redhat.com&amp;gt; changed the Status of &lt;a href=&quot;https://bugzilla.redhat.com/show_bug.cgi?id=1106393&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;bug 1106393&lt;/a&gt; from NEW to ASSIGNED&lt;/p&gt;</comment>
                            <comment id="13000120" author="jira-bugzilla-migration" created="Mon, 8 Sep 2014 20:43:10 -0400"  >&lt;p&gt;James Livingston &amp;lt;jlivings@redhat.com&amp;gt; changed the Status of &lt;a href=&quot;https://bugzilla.redhat.com/show_bug.cgi?id=1106393&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;bug 1106393&lt;/a&gt; from ASSIGNED to POST&lt;/p&gt;</comment>
                            <comment id="13001009" author="jira-bugzilla-migration" created="Wed, 10 Sep 2014 14:39:10 -0400"  >&lt;p&gt;Kabir Khan &amp;lt;kkhan@redhat.com&amp;gt; changed the Status of &lt;a href=&quot;https://bugzilla.redhat.com/show_bug.cgi?id=1106393&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;bug 1106393&lt;/a&gt; from POST to MODIFIED&lt;/p&gt;</comment>
                            <comment id="13003142" author="jira-bugzilla-migration" created="Tue, 16 Sep 2014 15:14:31 -0400"  >&lt;p&gt;Paul Gier &amp;lt;pgier@redhat.com&amp;gt; changed the Status of &lt;a href=&quot;https://bugzilla.redhat.com/show_bug.cgi?id=1106393&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;bug 1106393&lt;/a&gt; from MODIFIED to ON_QA&lt;/p&gt;</comment>
                            <comment id="13009139" author="jira-bugzilla-migration" created="Tue, 7 Oct 2014 04:29:07 -0400"  >&lt;p&gt;Petr Kremensky &amp;lt;pkremens@redhat.com&amp;gt; changed the Status of &lt;a href=&quot;https://bugzilla.redhat.com/show_bug.cgi?id=1106393&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;bug 1106393&lt;/a&gt; from ON_QA to VERIFIED&lt;/p&gt;</comment>
                            <comment id="13039693" author="buurmansven" created="Thu, 12 Feb 2015 02:23:26 -0500"  >&lt;p&gt;We are having problems with this bug in production on Wildfly 8.2.0.Final. Would it be possible to patch the solution back to an 8.3?&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310440" key="org.jboss.labs.jira.plugin.jboss-custom-field-types-plugin:multiurl">
                        <customfieldname>Bugzilla References</customfieldname>
                        <customfieldvalues>
                            https://bugzilla.redhat.com/show_bug.cgi?id=1106393, https://bugzilla.redhat.com/show_bug.cgi?id=1140453, https://bugzilla.redhat.com/show_bug.cgi?id=1153383
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310341" key="com.atlassian.jira.plugin.system.customfieldtypes:multicheckboxes">
                        <customfieldname>Bugzilla Update</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10250"><![CDATA[Perform]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310220" key="org.jboss.labs.jira.plugin.jboss-custom-field-types-plugin:multiurl">
                        <customfieldname>Git Pull Request</customfieldname>
                        <customfieldvalues>
                            https://github.com/wildfly/wildfly-core/pull/150
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12310641" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Number of attachments</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310640" key="com.atlassian.jira.toolkit:comments">
                        <customfieldname>Number of comments</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12311940" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1|hzo58v:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310840" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>201135</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                </customfields>
    </item>
</channel>
</rss>