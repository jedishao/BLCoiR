<!-- 
RSS generated by JIRA (7.2.3#72005-sha1:73be91d2b96fc29303a7eb6820acf420e5d0ed65) at Mon Dec 12 13:57:19 EST 2016

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary add field=key&field=summary to the URL of your request.
For example:
https://issues.jboss.org/si/jira.issueviews:issue-xml/WFLY-3439/WFLY-3439.xml?field=key&amp;field=summary
-->
<rss version="0.92" >
<channel>
    <title>JBoss Issue Tracker</title>
    <link>https://issues.jboss.org</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-us</language>    <build-info>
        <version>7.2.3</version>
        <build-number>72005</build-number>
        <build-date>06-10-2016</build-date>
    </build-info>

<item>
            <title>[WFLY-3439] Websockets not working</title>
                <link>https://issues.jboss.org/browse/WFLY-3439</link>
                <project id="12313721" key="WFLY">WildFly</project>
                    <description>&lt;p&gt;Hi, &lt;/p&gt;

&lt;p&gt;I deployed a .war file containing a single endpoint definition (Websocket). I can see following lines in console but nothing happens when trying to open connection from a websocket client. Same .war deployed in WildFly 8.0.0 is working. Please investigate!&lt;/p&gt;

&lt;p&gt;The configuration is standalone.&lt;/p&gt;


&lt;p&gt;&lt;span class=&quot;error&quot;&gt;&amp;#91;org.wildfly.extension.undertow&amp;#93;&lt;/span&gt; (MSC service thread 1-2) JBAS017519: Undertow HTTP listener default listening on /0.0.0.0:8080&lt;/p&gt;

&lt;p&gt;&lt;span class=&quot;error&quot;&gt;&amp;#91;io.undertow.websockets.jsr&amp;#93;&lt;/span&gt; (MSC service thread 1-4) UT026003: Adding annotated server endpoint ...&lt;/p&gt;

&lt;p&gt;&lt;span class=&quot;error&quot;&gt;&amp;#91;org.wildfly.extension.undertow&amp;#93;&lt;/span&gt; (MSC service thread 1-4) JBAS017534: Registered web context: ...&lt;/p&gt;

&lt;p&gt;&lt;span class=&quot;error&quot;&gt;&amp;#91;org.jboss.as.server&amp;#93;&lt;/span&gt; (ServerService Thread Pool &amp;#8211; 28) JBAS018559: Deployed &quot;web.war&quot; (runtime-name : &quot;web.war&quot;)&lt;/p&gt;</description>
                <environment></environment>
        <key id="12542672">WFLY-3439</key>
            <summary>Websockets not working</summary>
                <type id="1" iconUrl="https://issues.jboss.org/secure/viewavatar?size=xsmall&amp;avatarId=13263&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.jboss.org/images/icons/priorities/major.svg">Major</priority>
                        <status id="5" iconUrl="https://issues.jboss.org/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Done</resolution>
                                        <assignee username="swd847">Stuart Douglas</assignee>
                                    <reporter username="clvclv">Veli Cris</reporter>
                        <labels>
                    </labels>
                <created>Tue, 3 Jun 2014 11:17:51 -0400</created>
                <updated>Mon, 1 Jun 2015 06:41:45 -0400</updated>
                            <resolved>Fri, 11 Jul 2014 19:39:37 -0400</resolved>
                                    <version>8.1.0.Final</version>
                                    <fixVersion>9.0.0.Alpha1</fixVersion>
                                    <component>Web Sockets</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>8</watches>
                                                                <comments>
                            <comment id="12973234" author="vlcvlc" created="Wed, 4 Jun 2014 08:25:13 -0400"  >&lt;p&gt;Any news about this issue? &lt;br/&gt;
Do we have a sample or example for WebSockets in version 8.1.0&lt;/p&gt;

&lt;p&gt;Thank you, &lt;/p&gt;</comment>
                            <comment id="12973311" author="swd847" created="Wed, 4 Jun 2014 10:19:45 -0400"  >&lt;p&gt;This is tested as part of the Wildfly test suite.&lt;/p&gt;</comment>
                            <comment id="12973596" author="clvclv" created="Thu, 5 Jun 2014 04:44:03 -0400"  >&lt;p&gt;Hi, &lt;/p&gt;

&lt;p&gt;Then I wonder how the test was passed. Because I repeat, I cannot connect to websocket in 8.1.0 Final, but it works in 8.0.0 Final.&lt;/p&gt;

&lt;p&gt;Regards, &lt;br/&gt;
Cris&lt;/p&gt;</comment>
                            <comment id="12973743" author="swd847" created="Thu, 5 Jun 2014 09:00:12 -0400"  >&lt;p&gt;Do you have a reproducer?&lt;/p&gt;</comment>
                            <comment id="12973801" author="vlcvlc" created="Thu, 5 Jun 2014 11:07:08 -0400"  >&lt;p&gt;Not working deployed as .war file. All messages in Console seems to be OK, no errors but I cannot connect to WebSocket.&lt;br/&gt;
In 8.0.0 Final is working without any issue.&lt;/p&gt;


&lt;p&gt;import javax.websocket.OnMessage;&lt;br/&gt;
import javax.websocket.Session;&lt;br/&gt;
import javax.websocket.server.ServerEndpoint;&lt;/p&gt;

&lt;p&gt;@ServerEndpoint(&quot;/shout&quot;)&lt;br/&gt;
public class ShoutServerEndpoint {&lt;/p&gt;

&lt;p&gt;    @OnMessage&lt;br/&gt;
    public void shout(String text, Session client) &lt;/p&gt;
{
        client.getAsyncRemote().sendText(text.toUpperCase());
    }
&lt;p&gt;}&lt;/p&gt;</comment>
                            <comment id="12974951" author="clvclv" created="Tue, 10 Jun 2014 11:21:09 -0400"  >&lt;p&gt;Any news about this issue? &lt;/p&gt;

&lt;p&gt;Can someone from dev/test teams do a simple snippet and test WebSockets implementation in 8.1.0 &lt;/p&gt;

&lt;p&gt;Thank you, &lt;br/&gt;
Cris &lt;/p&gt;</comment>
                            <comment id="12975518" author="clvclv" created="Thu, 12 Jun 2014 02:01:07 -0400"  >&lt;p&gt;I found the issue: WS/WSS URI needs extra slash in 8.1.0&lt;/p&gt;

&lt;p&gt;8.1.0 Final does not require to add extra slash &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.jboss.org/images/icons/emoticons/check.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt; at the end of the WS URI.&lt;br/&gt;
8.1.0 Final requires extra slash &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.jboss.org/images/icons/emoticons/check.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt; at the end of WS URI&lt;/p&gt;

&lt;p&gt;Regards, &lt;br/&gt;
Cris&lt;/p&gt;</comment>
                            <comment id="12975683" author="swd847" created="Thu, 12 Jun 2014 10:21:55 -0400"  >&lt;p&gt;What is the URL you were connecting to? Was it the root of a deployment (e.g. &lt;a href=&quot;http://myhost/mydeployment&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://myhost/mydeployment&lt;/a&gt;) ? And what URI did you deploy the web socket under?&lt;/p&gt;</comment>
                            <comment id="12982498" author="swd847" created="Sun, 6 Jul 2014 23:45:28 -0400"  >&lt;p&gt;I have fixed this in Undertow upstream. Basically the issue is that if you send a request to /rootContext it will normally redirect you to /rootContext/ (this per spec and is required to make a lot of things work correctly). I have changed the code so now this redirect will not happen if an upgrade header is present. &lt;/p&gt;</comment>
                            <comment id="13022968" author="ivankolev" created="Tue, 25 Nov 2014 23:53:46 -0500"  >&lt;p&gt;Hey, is this still not working in 8.2.0? I am trying it on Openshift and get exactly the same problem as Veli Cris, clear console but no connection to the websocket. I can&apos;t believe websocket is broken in wildfly and nobody notices!&lt;/p&gt;</comment>
                            <comment id="13022974" author="jaikiran" created="Wed, 26 Nov 2014 00:56:40 -0500"  >&lt;p&gt;Ivan, can you create a forum thread here  &lt;a href=&quot;https://developer.jboss.org/en/wildfly/content&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://developer.jboss.org/en/wildfly/content&lt;/a&gt; to discuss it. There are users who have websocket working fine in WildFly 8. You state that you are using OpenShift, and that might be playing a role here. So please create a forum thread with all relevant details so that someone can help.&lt;/p&gt;</comment>
                            <comment id="13072440" author="kadhem" created="Fri, 29 May 2015 13:25:24 -0400"  >&lt;p&gt;have you find a solution?&lt;/p&gt;</comment>
                            <comment id="13072552" author="ctomc" created="Sun, 31 May 2015 13:50:09 -0400"  >&lt;p&gt;&lt;a href=&quot;https://issues.jboss.org/secure/ViewProfile.jspa?name=kadhem&quot; class=&quot;user-hover&quot; rel=&quot;kadhem&quot;&gt;Kadhem Kacem&lt;/a&gt; solution to what question?&lt;/p&gt;</comment>
                            <comment id="13072573" author="kadhem" created="Mon, 1 Jun 2015 02:54:29 -0400"  >&lt;p&gt;For this issue. In my case, websocket is working fine with glassfish, and not with wildfly 8.0.0/8.1.0/8.2.0. I can connect to websocket but javascript onmessage event is not fired event that the server side is working fine.&lt;/p&gt;</comment>
                            <comment id="13072641" author="ctomc" created="Mon, 1 Jun 2015 06:35:58 -0400"  >&lt;p&gt;&lt;a href=&quot;https://issues.jboss.org/secure/ViewProfile.jspa?name=kadhem&quot; class=&quot;user-hover&quot; rel=&quot;kadhem&quot;&gt;Kadhem Kacem&lt;/a&gt; please start a new forum thread in &lt;a href=&quot;https://community.jboss.org/en/wildfly&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://community.jboss.org/en/wildfly&lt;/a&gt; and describe your application what is doing and how.&lt;br/&gt;
also adding info about your deployment jars (WEB-INF/lib) would be helpful&lt;/p&gt;</comment>
                            <comment id="13072644" author="kadhem" created="Mon, 1 Jun 2015 06:41:45 -0400"  >&lt;p&gt;Ok Tomaz i will do, thank you.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310641" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Number of attachments</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310640" key="com.atlassian.jira.toolkit:comments">
                        <customfieldname>Number of comments</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>16.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12311940" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1|hzo1tb:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310840" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>200592</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                </customfields>
    </item>
</channel>
</rss>