<!-- 
RSS generated by JIRA (7.2.3#72005-sha1:73be91d2b96fc29303a7eb6820acf420e5d0ed65) at Tue Dec 06 14:09:09 EST 2016

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary add field=key&field=summary to the URL of your request.
For example:
https://issues.jboss.org/si/jira.issueviews:issue-xml/WFLY-6405/WFLY-6405.xml?field=key&amp;field=summary
-->
<rss version="0.92" >
<channel>
    <title>JBoss Issue Tracker</title>
    <link>https://issues.jboss.org</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-us</language>    <build-info>
        <version>7.2.3</version>
        <build-number>72005</build-number>
        <build-date>06-10-2016</build-date>
    </build-info>

<item>
            <title>[WFLY-6405] Performance: WeldDeployment.getBeanDeploymentArchive method is synchronized</title>
                <link>https://issues.jboss.org/browse/WFLY-6405</link>
                <project id="12313721" key="WFLY">WildFly</project>
                    <description>&lt;p&gt;(Wildfly 10.0.0.FINAL)&lt;br/&gt;
During the performance test of my app (50 concurrent users with jmeter) I am running into the following issue:&lt;br/&gt;
There are locked threads in the method WeldDeployment.getBeanDeploymentArchive(). Looking the code, this method is synchronized, so it makes sense. The question is, is this the expected behavior or this is a bug. In both cases is there any workaround to overcome this limitation?&lt;/p&gt;

&lt;p&gt;STACK TRACE:&lt;br/&gt;
....&lt;br/&gt;
org.jboss.as.weld.WeldProvider$CdiImpl.getBeanManager():73&lt;br/&gt;
org.jboss.as.weld.WeldProvider$CdiImpl.getBeanManager():93&lt;br/&gt;
org.jboss.as.weld.deployment.WeldDeployment.getBeanDeploymentArchive():226 &lt;/p&gt;</description>
                <environment></environment>
        <key id="12611001">WFLY-6405</key>
            <summary>Performance: WeldDeployment.getBeanDeploymentArchive method is synchronized</summary>
                <type id="1" iconUrl="https://issues.jboss.org/secure/viewavatar?size=xsmall&amp;avatarId=13263&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.jboss.org/images/icons/priorities/major.svg">Major</priority>
                        <status id="5" iconUrl="https://issues.jboss.org/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Done</resolution>
                                        <assignee username="swd847">Stuart Douglas</assignee>
                                    <reporter username="pgrigoro">Panos Grigoropoulos</reporter>
                        <labels>
                    </labels>
                <created>Thu, 17 Mar 2016 17:57:55 -0400</created>
                <updated>Thu, 18 Aug 2016 23:49:44 -0400</updated>
                            <resolved>Thu, 7 Jul 2016 12:40:53 -0400</resolved>
                                    <version>10.0.0.Final</version>
                                    <fixVersion>10.1.0.CR1</fixVersion>
                    <fixVersion>10.1.0.Final</fixVersion>
                                    <component>CDI / Weld</component>
                    <component>Class Loading</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                                <comments>
                            <comment id="13200818" author="pgrigoro" created="Wed, 4 May 2016 06:52:39 -0400"  >&lt;p&gt;Is this planned for the next release?&lt;/p&gt;

&lt;p&gt;Also, on line 240 (containsKey) of the proposed solution, you should check if the specified key is not null otherwise NullPointerException...&lt;/p&gt;</comment>
                            <comment id="13262313" author="jamezp" created="Wed, 6 Jul 2016 14:04:08 -0400"  >&lt;p&gt;I&apos;ve added a follow up PR, &lt;a href=&quot;https://github.com/wildfly/wildfly/pull/9021&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://github.com/wildfly/wildfly/pull/9021&lt;/a&gt;, as &lt;tt&gt;ConcurrentHashMap&lt;/tt&gt;&apos;s don&apos;t allow null keys. &lt;tt&gt;Class.getClassLoader()&lt;/tt&gt; may return &lt;tt&gt;null&lt;/tt&gt; if the class was loaded on the bootstrap class loader. e.g. &lt;tt&gt;java.lang.Integer&lt;/tt&gt;.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="org.jboss.labs.jira.plugin.jboss-custom-field-types-plugin:multiurl">
                        <customfieldname>Git Pull Request</customfieldname>
                        <customfieldvalues>
                            https://github.com/wildfly/wildfly/pull/8795, https://github.com/wildfly/wildfly/pull/9021
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12310641" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Number of attachments</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310640" key="com.atlassian.jira.toolkit:comments">
                        <customfieldname>Number of comments</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>2.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12311940" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1|i02nd3:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310840" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                    </customfields>
    </item>
</channel>
</rss>