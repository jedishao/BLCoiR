<?xml version = "1.0" encoding = "UTF-8" ?>
<bugrepository name="WFLY">
	<bug id="121" opendate="2011-09-13 17:17:27" fixdate="2013-03-28 19:29:27" resolution="Done">
		<buginformation>
			<summary>Empty directories under "tmp/vfs" keeps on growing between server restarts</summary>
			<description>When you have active deployment deployed to the server and you are restarting server for various reasons, the tmp/vfs keeps on growing with empty directories. It deletes the contents under the directory but not the directory itself.</description>
			<version>8.0.0.Alpha1</version>
			<fixedVersion>8.0.0.Alpha1</fixedVersion>
			<type>Bug</type>
		</buginformation>
		<fixedFiles>
			<file type="M">org.jboss.as.cli.handlers.UndeployHandler.java</file>
			<file type="M">org.jboss.as.cli.handlers.DeployHandler.java</file>
			<file type="M">org.jboss.as.server.deployment.module.TempFileProviderService.java</file>
			<file type="M">org.jboss.as.server.deployment.DeploymentMountProvider.java</file>
		</fixedFiles>
		<links>
			<link type="Duplicate" description="duplicates">1547</link>
		</links>
	</bug>
	<bug id="90" opendate="2013-04-18 15:45:49" fixdate="2013-05-04 17:07:02" resolution="Done">
		<buginformation>
			<summary>Deployment may not be attached to BundleRevision during persistent bundle restore</summary>
			<description>





awhiteside@localhost jboss-as-8.0.0.Alpha1-SNAPSHOT# ./bin/standalone.sh -c standalone-osgi.xml




=========================================================================









  JBoss Bootstrap Environment









  JBOSS_HOME: /home/awhiteside/Downloads/jboss-as-8.0.0.Alpha1-SNAPSHOT









  JAVA: /usr/local/java/bin/java









  JAVA_OPTS:  -server -XX:+UseCompressedOops -Xms64m -Xmx512m -XX:MaxPermSize=256m -Djava.net.preferIPv4Stack=true -Djboss.modules.system.pkgs=org.jboss.byteman -Djava.awt.headless=true









=========================================================================









11:46:22,337 INFO  [org.jboss.modules] (main) JBoss Modules version 1.2.0.Final




11:46:22,482 INFO  [org.jboss.msc] (main) JBoss MSC version 1.1.2.Final




11:46:22,532 INFO  [org.jboss.as] (MSC service thread 1-7) JBAS015899: JBoss AS 8.0.0.Alpha1-SNAPSHOT "TBD" starting




11:46:23,332 INFO  [org.xnio] (MSC service thread 1-2) XNIO Version 3.1.0.CR2




11:46:23,335 INFO  [org.jboss.as.server] (Controller Boot Thread) JBAS015888: Creating http management service using socket-binding (management-http)




11:46:23,336 INFO  [org.xnio.nio] (MSC service thread 1-2) XNIO NIO Implementation Version 3.1.0.CR2




11:46:23,350 INFO  [org.jboss.remoting] (MSC service thread 1-2) JBoss Remoting version 3.2.16.GA




11:46:23,361 INFO  [org.jboss.as.configadmin] (ServerService Thread Pool -- 28) JBAS016200: Activating ConfigAdmin Subsystem




11:46:23,373 INFO  [org.jboss.as.clustering.infinispan] (ServerService Thread Pool -- 34) JBAS010280: Activating Infinispan subsystem.




11:46:23,389 INFO  [org.jboss.as.security] (ServerService Thread Pool -- 48) JBAS013171: Activating Security Subsystem




11:46:23,391 INFO  [org.jboss.as.naming] (ServerService Thread Pool -- 42) JBAS011800: Activating Naming Subsystem




11:46:23,395 INFO  [org.jboss.as.security] (MSC service thread 1-1) JBAS013170: Current PicketBox version=4.0.16.Final




11:46:23,403 INFO  [org.jboss.as.jsf] (ServerService Thread Pool -- 40) JBAS012605: Activated the following JSF Implementations: [main, 1.2]




11:46:23,418 INFO  [org.jboss.as.connector.logging] (MSC service thread 1-3) JBAS010408: Starting JCA Subsystem (JBoss IronJacamar 1.0.16.Final)




11:46:23,421 INFO  [org.jboss.as.webservices] (ServerService Thread Pool -- 52) JBAS015537: Activating WebServices Extension




11:46:23,436 INFO  [org.jboss.as.undertow] (MSC service thread 1-4) JBAS017502: Undertow 1.0.0.Alpha9 starting




11:46:23,438 INFO  [org.jboss.as.undertow] (ServerService Thread Pool -- 51) JBAS017502: Undertow 1.0.0.Alpha9 starting




11:46:23,439 INFO  [org.jboss.as.osgi] (ServerService Thread Pool -- 43) JBAS011906: Activating OSGi Subsystem




11:46:23,504 INFO  [org.jboss.as.naming] (MSC service thread 1-8) JBAS011802: Starting Naming Service




11:46:23,505 INFO  [org.jboss.as.mail.extension] (MSC service thread 1-5) JBAS015400: Bound mail session [java:jboss/mail/Default]




11:46:23,526 INFO  [org.jboss.as.connector.subsystems.datasources] (ServerService Thread Pool -- 29) JBAS010403: Deploying JDBC-compliant driver class org.h2.Driver (version 1.3)




11:46:23,529 INFO  [org.jboss.as.connector.deployers.jdbc] (MSC service thread 1-2) JBAS010417: Started Driver service with driver-name = h2




11:46:23,604 INFO  [io.undertow] (ServerService Thread Pool -- 51) Creating file handler for path /home/awhiteside/Downloads/jboss-as-8.0.0.Alpha1-SNAPSHOT/welcome-content




11:46:23,613 INFO  [org.jboss.ws.common.management] (MSC service thread 1-3) JBWS022052: Starting JBoss Web Services - Stack CXF Server 4.2.0.Alpha1




11:46:23,645 INFO  [org.jboss.as.undertow] (MSC service thread 1-4) Starting server server service: service jboss.undertow.server.default-server




11:46:23,658 INFO  [org.jboss.as.undertow] (MSC service thread 1-6) Starting host default-host




11:46:23,658 INFO  [org.jboss.as.undertow] (MSC service thread 1-6) registering handler io.undertow.server.handlers.resource.ResourceHandler@52540bd6 under path &amp;amp;apos;/&amp;amp;apos;




11:46:23,682 INFO  [org.jboss.as.undertow] (MSC service thread 1-4) JBAS017519: Undertow HTTP listener default listening on /127.0.0.1:8080




11:46:23,885 INFO  [org.jboss.as.connector.subsystems.datasources] (MSC service thread 1-7) JBAS010400: Bound data source [java:jboss/datasources/ExampleDS]




11:46:23,920 INFO  [org.jboss.as.remoting] (MSC service thread 1-6) JBAS017100: Listening on 127.0.0.1:9999




11:46:23,920 INFO  [org.jboss.as.remoting] (MSC service thread 1-5) JBAS017100: Listening on 127.0.0.1:4447




11:46:23,931 INFO  [org.jboss.as.server.deployment] (MSC service thread 1-1) JBAS015876: Starting deployment of "ch-smpp-5.0.1.jar" (runtime-name: "ch-smpp-5.0.1.jar")




11:46:23,932 INFO  [org.jboss.as.server.deployment] (MSC service thread 1-7) JBAS015876: Starting deployment of "carrier-id-mapping-service-api-0.4-SNAPSHOT.jar" (runtime-name: "carrier-id-mapping-service-api-0.4-SNAPSHOT.jar")




11:46:23,933 INFO  [org.jboss.as.server.deployment] (MSC service thread 1-1) JBAS015876: Starting deployment of "camel-sjms-2.12-20130415.050502-14.jar" (runtime-name: "camel-sjms-2.12-20130415.050502-14.jar")




11:46:23,933 INFO  [org.jboss.as.server.deployment] (MSC service thread 1-7) JBAS015876: Starting deployment of "hornetq-integration-0.4-SNAPSHOT.jar" (runtime-name: "hornetq-integration-0.4-SNAPSHOT.jar")




11:46:23,933 INFO  [org.jboss.as.server.deployment] (MSC service thread 1-1) JBAS015876: Starting deployment of "org.springframework.aop-3.2.2.RELEASE.jar" (runtime-name: "org.springframework.aop-3.2.2.RELEASE.jar")




11:46:23,931 INFO  [org.jboss.as.server.deployment] (MSC service thread 1-2) JBAS015876: Starting deployment of "org.springframework.aspects-3.2.2.RELEASE.jar" (runtime-name: "org.springframework.aspects-3.2.2.RELEASE.jar")




11:46:23,934 INFO  [org.jboss.as.server.deployment] (MSC service thread 1-7) JBAS015876: Starting deployment of "voldemort-osgi-1.3.1.jar" (runtime-name: "voldemort-osgi-1.3.1.jar")




11:46:23,933 INFO  [org.jboss.as.server.deployment] (MSC service thread 1-4) JBAS015876: Starting deployment of "com.springsource.org.aspectj.weaver-1.7.1.RELEASE.jar" (runtime-name: "com.springsource.org.aspectj.weaver-1.7.1.RELEASE.jar")




11:46:23,935 INFO  [org.jboss.as.server.deployment] (MSC service thread 1-2) JBAS015876: Starting deployment of "commons-logging-1.1.1.jar" (runtime-name: "commons-logging-1.1.1.jar")




11:46:23,936 INFO  [org.jboss.as.server.deployment] (MSC service thread 1-4) JBAS015876: Starting deployment of "org.springframework.transaction-3.2.2.RELEASE.jar" (runtime-name: "org.springframework.transaction-3.2.2.RELEASE.jar")




11:46:23,936 INFO  [org.jboss.as.server.deployment] (MSC service thread 1-4) JBAS015876: Starting deployment of "protostuff-core-1.0.7.jar" (runtime-name: "protostuff-core-1.0.7.jar")




11:46:23,937 INFO  [org.jboss.as.server.deployment] (MSC service thread 1-4) JBAS015876: Starting deployment of "http-component-spi-0.4-20130402.174124-2.jar" (runtime-name: "http-component-spi-0.4-20130402.174124-2.jar")




11:46:23,937 INFO  [org.jboss.as.server.deployment] (MSC service thread 1-4) JBAS015876: Starting deployment of "routing-engine-0.4-SNAPSHOT.jar" (runtime-name: "routing-engine-0.4-SNAPSHOT.jar")




11:46:23,937 INFO  [org.jboss.as.server.deployment] (MSC service thread 1-4) JBAS015876: Starting deployment of "org.apache.servicemix.bundles.kxml2-2.3.0_3.jar" (runtime-name: "org.apache.servicemix.bundles.kxml2-2.3.0_3.jar")




11:46:23,938 INFO  [org.jboss.as.server.deployment] (MSC service thread 1-4) JBAS015876: Starting deployment of "cloudhopper-smpp-component-1.0-SNAPSHOT.jar" (runtime-name: "cloudhopper-smpp-component-1.0-SNAPSHOT.jar")




11:46:23,938 INFO  [org.jboss.as.server.deployment] (MSC service thread 1-4) JBAS015876: Starting deployment of "org.springframework.core-3.2.2.RELEASE.jar" (runtime-name: "org.springframework.core-3.2.2.RELEASE.jar")




11:46:23,939 INFO  [org.jboss.as.server.deployment] (MSC service thread 1-4) JBAS015876: Starting deployment of "carrier-datacoding-mapping-service-impl-0.4-SNAPSHOT.jar" (runtime-name: "carrier-datacoding-mapping-service-impl-0.4-SNAPSHOT.jar")




11:46:23,939 INFO  [org.jboss.as.server.deployment] (MSC service thread 1-4) JBAS015876: Starting deployment of "carrier-id-mapping-service-impl-0.4-SNAPSHOT.jar" (runtime-name: "carrier-id-mapping-service-impl-0.4-SNAPSHOT.jar")




11:46:23,940 INFO  [org.jboss.as.server.deployment] (MSC service thread 1-5) JBAS015876: Starting deployment of "gemini-blueprint-io-1.0.2.RELEASE.jar" (runtime-name: "gemini-blueprint-io-1.0.2.RELEASE.jar")




11:46:23,940 INFO  [org.jboss.as.server.deployment] (MSC service thread 1-4) JBAS015876: Starting deployment of "jcl-over-slf4j-1.7.5.jar" (runtime-name: "jcl-over-slf4j-1.7.5.jar")




11:46:23,940 INFO  [org.jboss.as.server.deployment] (MSC service thread 1-4) JBAS015876: Starting deployment of "jetty-server-9.0.1.v20130408.jar" (runtime-name: "jetty-server-9.0.1.v20130408.jar")




11:46:23,941 INFO  [org.jboss.as.server.deployment] (MSC service thread 1-4) JBAS015876: Starting deployment of "org.springframework.jms-3.2.2.RELEASE.jar" (runtime-name: "org.springframework.jms-3.2.2.RELEASE.jar")




11:46:23,941 INFO  [org.jboss.as.server.deployment] (MSC service thread 1-4) JBAS015876: Starting deployment of "woodstox-core-asl-4.0.3.jar" (runtime-name: "woodstox-core-asl-4.0.3.jar")




11:46:23,942 INFO  [org.jboss.as.server.deployment] (MSC service thread 1-8) JBAS015876: Starting deployment of "org.springframework.beans-3.2.2.RELEASE.jar" (runtime-name: "org.springframework.beans-3.2.2.RELEASE.jar")




11:46:23,942 INFO  [org.jboss.as.server.deployment] (MSC service thread 1-4) JBAS015876: Starting deployment of "commons-io-2.4.jar" (runtime-name: "commons-io-2.4.jar")




11:46:23,942 INFO  [org.jboss.as.server.deployment] (MSC service thread 1-8) JBAS015876: Starting deployment of "log4j-over-slf4j-1.7.5.jar" (runtime-name: "log4j-over-slf4j-1.7.5.jar")




11:46:23,943 INFO  [org.jboss.as.server.deployment] (MSC service thread 1-4) JBAS015876: Starting deployment of "commons-lang-2.5.jar" (runtime-name: "commons-lang-2.5.jar")




11:46:23,943 INFO  [org.jboss.as.server.deployment] (MSC service thread 1-8) JBAS015876: Starting deployment of "org.apache.servicemix.bundles.libthrift-0.7.0_1.jar" (runtime-name: "org.apache.servicemix.bundles.libthrift-0.7.0_1.jar")




11:46:23,943 INFO  [org.jboss.as.server.deployment] (MSC service thread 1-4) JBAS015876: Starting deployment of "smq-schema-1.2.jar" (runtime-name: "smq-schema-1.2.jar")




11:46:23,943 INFO  [org.jboss.as.server.deployment] (MSC service thread 1-8) JBAS015876: Starting deployment of "slf4j-api-1.7.5.jar" (runtime-name: "slf4j-api-1.7.5.jar")




11:46:23,936 INFO  [org.jboss.as.server.deployment] (MSC service thread 1-1) JBAS015876: Starting deployment of "com.springsource.com.fasterxml.jackson.core.jackson-core-2.0.2.jar" (runtime-name: "com.springsource.com.fasterxml.jackson.core.jackson-core-2.0.2.jar")




11:46:23,944 INFO  [org.jboss.as.server.deployment] (MSC service thread 1-8) JBAS015876: Starting deployment of "org.springframework.jdbc-3.2.2.RELEASE.jar" (runtime-name: "org.springframework.jdbc-3.2.2.RELEASE.jar")




11:46:23,944 INFO  [org.jboss.as.server.deployment] (MSC service thread 1-1) JBAS015876: Starting deployment of "dummy-0.4-SNAPSHOT.jar" (runtime-name: "dummy-0.4-SNAPSHOT.jar")




11:46:23,944 INFO  [org.jboss.as.server.deployment] (MSC service thread 1-8) JBAS015876: Starting deployment of "ch-commons-util-6.0.1.jar" (runtime-name: "ch-commons-util-6.0.1.jar")




11:46:23,942 INFO  [org.jboss.as.server.deployment] (MSC service thread 1-2) JBAS015876: Starting deployment of "avro-1.7.2.jar" (runtime-name: "avro-1.7.2.jar")




11:46:23,949 INFO  [org.jboss.as.server.deployment] (MSC service thread 1-8) JBAS015876: Starting deployment of "stax2-api-3.0.1.jar" (runtime-name: "stax2-api-3.0.1.jar")




11:46:23,940 INFO  [org.jboss.as.server.deployment] (MSC service thread 1-5) JBAS015876: Starting deployment of "org.springframework.orm-3.2.2.RELEASE.jar" (runtime-name: "org.springframework.orm-3.2.2.RELEASE.jar")




11:46:23,950 INFO  [org.jboss.as.server.deployment] (MSC service thread 1-8) JBAS015876: Starting deployment of "camel-jms-2.12-20130415.050425-14.jar" (runtime-name: "camel-jms-2.12-20130415.050425-14.jar")




11:46:23,950 INFO  [org.jboss.as.server.deployment] (MSC service thread 1-5) JBAS015876: Starting deployment of "jackson-core-asl-1.8.8.jar" (runtime-name: "jackson-core-asl-1.8.8.jar")




11:46:23,939 INFO  [org.jboss.as.server.deployment] (MSC service thread 1-7) JBAS015876: Starting deployment of "jetty-io-9.0.1.v20130408.jar" (runtime-name: "jetty-io-9.0.1.v20130408.jar")




11:46:23,950 INFO  [org.jboss.as.server.deployment] (MSC service thread 1-8) JBAS015876: Starting deployment of "stax-api-1.0.1.jar" (runtime-name: "stax-api-1.0.1.jar")




11:46:23,950 INFO  [org.jboss.as.server.deployment] (MSC service thread 1-7) JBAS015876: Starting deployment of "jetty-security-9.0.1.v20130408.jar" (runtime-name: "jetty-security-9.0.1.v20130408.jar")




11:46:23,951 INFO  [org.jboss.as.server.deployment] (MSC service thread 1-8) JBAS015876: Starting deployment of "paranamer-2.3.jar" (runtime-name: "paranamer-2.3.jar")




11:46:23,951 INFO  [org.jboss.as.server.deployment] (MSC service thread 1-7) JBAS015876: Starting deployment of "hawtio-osgi-1.0.war" (runtime-name: "hawtio-osgi-1.0.war")




11:46:23,951 INFO  [org.jboss.as.server.deployment] (MSC service thread 1-8) JBAS015876: Starting deployment of "org.eclipse.gemini.management-1.0.5.RELEASE.jar" (runtime-name: "org.eclipse.gemini.management-1.0.5.RELEASE.jar")




11:46:23,951 INFO  [org.jboss.as.server.deployment] (MSC service thread 1-7) JBAS015876: Starting deployment of "protostuff-runtime-1.0.7.jar" (runtime-name: "protostuff-runtime-1.0.7.jar")




11:46:23,952 INFO  [org.jboss.as.server.deployment] (MSC service thread 1-8) JBAS015876: Starting deployment of "commons-pool-1.6.jar" (runtime-name: "commons-pool-1.6.jar")




11:46:23,952 INFO  [org.jboss.as.server.deployment] (MSC service thread 1-7) JBAS015876: Starting deployment of "org.springframework.context-3.2.2.RELEASE.jar" (runtime-name: "org.springframework.context-3.2.2.RELEASE.jar")




11:46:23,952 INFO  [org.jboss.as.server.deployment] (MSC service thread 1-8) JBAS015876: Starting deployment of "org.springframework.expression-3.2.2.RELEASE.jar" (runtime-name: "org.springframework.expression-3.2.2.RELEASE.jar")




11:46:23,952 INFO  [org.jboss.as.server.deployment] (MSC service thread 1-7) JBAS015876: Starting deployment of "http-component-0.4-SNAPSHOT.jar" (runtime-name: "http-component-0.4-SNAPSHOT.jar")




11:46:23,952 INFO  [org.jboss.as.server.deployment] (MSC service thread 1-8) JBAS015876: Starting deployment of "jackson-mapper-asl-1.8.8.jar" (runtime-name: "jackson-mapper-asl-1.8.8.jar")




11:46:23,953 INFO  [org.jboss.as.server.deployment] (MSC service thread 1-7) JBAS015876: Starting deployment of "ch-commons-charset-3.0.0.jar" (runtime-name: "ch-commons-charset-3.0.0.jar")




11:46:23,953 INFO  [org.jboss.as.server.deployment] (MSC service thread 1-8) JBAS015876: Starting deployment of "logback-core-1.0.11.jar" (runtime-name: "logback-core-1.0.11.jar")




11:46:23,953 INFO  [org.jboss.as.server.deployment] (MSC service thread 1-7) JBAS015876: Starting deployment of "org.osgi.enterprise-5.0.0.jar" (runtime-name: "org.osgi.enterprise-5.0.0.jar")




11:46:23,953 INFO  [org.jboss.as.server.deployment] (MSC service thread 1-8) JBAS015876: Starting deployment of "carrier-datacoding-mapping-service-api-0.4-SNAPSHOT.jar" (runtime-name: "carrier-datacoding-mapping-service-api-0.4-SNAPSHOT.jar")




11:46:23,953 INFO  [org.jboss.as.server.deployment] (MSC service thread 1-7) JBAS015876: Starting deployment of "org.apache.servicemix.bundles.xmlpull-1.1.3.1_2.jar" (runtime-name: "org.apache.servicemix.bundles.xmlpull-1.1.3.1_2.jar")




11:46:23,954 INFO  [org.jboss.as.server.deployment] (MSC service thread 1-7) JBAS015876: Starting deployment of "cloudhopper-smpp-component-spi-1.0-SNAPSHOT.jar" (runtime-name: "cloudhopper-smpp-component-spi-1.0-SNAPSHOT.jar")




11:46:23,955 INFO  [org.jboss.as.server.deployment] (MSC service thread 1-7) JBAS015876: Starting deployment of "gemini-blueprint-extender-1.0.2.RELEASE.jar" (runtime-name: "gemini-blueprint-extender-1.0.2.RELEASE.jar")




11:46:23,955 INFO  [org.jboss.as.server.deployment] (MSC service thread 1-7) JBAS015876: Starting deployment of "smq-common-1.2.jar" (runtime-name: "smq-common-1.2.jar")




11:46:23,955 INFO  [org.jboss.as.server.deployment] (MSC service thread 1-7) JBAS015876: Starting deployment of "protostuff-api-1.0.7.jar" (runtime-name: "protostuff-api-1.0.7.jar")




11:46:23,956 INFO  [org.jboss.as.server.deployment] (MSC service thread 1-7) JBAS015876: Starting deployment of "carrier-statuscode-mapping-service-impl-0.4-SNAPSHOT.jar" (runtime-name: "carrier-statuscode-mapping-service-impl-0.4-SNAPSHOT.jar")




11:46:23,956 INFO  [org.jboss.as.server.deployment] (MSC service thread 1-7) JBAS015876: Starting deployment of "protostuff-collectionschema-1.0.7.jar" (runtime-name: "protostuff-collectionschema-1.0.7.jar")




11:46:23,957 INFO  [org.jboss.as.server.deployment] (MSC service thread 1-7) JBAS015876: Starting deployment of "protostuff-uberjar-1.0.7.jar" (runtime-name: "protostuff-uberjar-1.0.7.jar")




11:46:23,957 INFO  [org.jboss.as.server.deployment] (MSC service thread 1-7) JBAS015876: Starting deployment of "jetty-util-9.0.1.v20130408.jar" (runtime-name: "jetty-util-9.0.1.v20130408.jar")




11:46:23,958 INFO  [org.jboss.as.server.deployment] (MSC service thread 1-7) JBAS015876: Starting deployment of "jetty-servlet-9.0.1.v20130408.jar" (runtime-name: "jetty-servlet-9.0.1.v20130408.jar")




11:46:23,958 INFO  [org.jboss.as.server.deployment] (MSC service thread 1-7) JBAS015876: Starting deployment of "logback-classic-1.0.11.jar" (runtime-name: "logback-classic-1.0.11.jar")




11:46:23,939 INFO  [org.jboss.as.server.deployment.scanner] (MSC service thread 1-6) JBAS015012: Started FileSystemDeploymentService for directory /home/awhiteside/Downloads/jboss-as-8.0.0.Alpha1-SNAPSHOT/standalone/deployments




11:46:23,954 INFO  [org.jboss.as.server.deployment] (MSC service thread 1-5) JBAS015876: Starting deployment of "netty-3.6.3.Final.jar" (runtime-name: "netty-3.6.3.Final.jar")




11:46:23,954 INFO  [org.jboss.as.server.deployment] (MSC service thread 1-8) JBAS015876: Starting deployment of "snappy-java-1.0.4.1.jar" (runtime-name: "snappy-java-1.0.4.1.jar")




11:46:23,949 INFO  [org.jboss.as.server.deployment] (MSC service thread 1-2) JBAS015876: Starting deployment of "jgroups-3.2.5.Final.jar" (runtime-name: "jgroups-3.2.5.Final.jar")




11:46:23,961 INFO  [org.jboss.as.server.deployment] (MSC service thread 1-5) JBAS015876: Starting deployment of "jetty-jmx-9.0.1.v20130408.jar" (runtime-name: "jetty-jmx-9.0.1.v20130408.jar")




11:46:23,943 INFO  [org.jboss.as.server.deployment] (MSC service thread 1-4) JBAS015876: Starting deployment of "voldemort-aggregation-repository-0.4-SNAPSHOT.jar" (runtime-name: "voldemort-aggregation-repository-0.4-SNAPSHOT.jar")




11:46:23,961 INFO  [org.jboss.as.server.deployment] (MSC service thread 1-5) JBAS015876: Starting deployment of "smq-opaque-schema-1.2.jar" (runtime-name: "smq-opaque-schema-1.2.jar")




11:46:23,961 INFO  [org.jboss.as.server.deployment] (MSC service thread 1-4) JBAS015876: Starting deployment of "number-service-api-0.4-SNAPSHOT.jar" (runtime-name: "number-service-api-0.4-SNAPSHOT.jar")




11:46:23,961 INFO  [org.jboss.as.server.deployment] (MSC service thread 1-5) JBAS015876: Starting deployment of "jdom-1.1.3.jar" (runtime-name: "jdom-1.1.3.jar")




11:46:23,962 INFO  [org.jboss.as.server.deployment] (MSC service thread 1-4) JBAS015876: Starting deployment of "number-service-impl-0.4-SNAPSHOT.jar" (runtime-name: "number-service-impl-0.4-SNAPSHOT.jar")




11:46:23,962 INFO  [org.jboss.as.server.deployment] (MSC service thread 1-5) JBAS015876: Starting deployment of "smq-fs-1.2.jar" (runtime-name: "smq-fs-1.2.jar")




11:46:23,962 INFO  [org.jboss.as.server.deployment] (MSC service thread 1-4) JBAS015876: Starting deployment of "protobuf-java-2.4.1.jar" (runtime-name: "protobuf-java-2.4.1.jar")




11:46:23,962 INFO  [org.jboss.as.server.deployment] (MSC service thread 1-5) JBAS015876: Starting deployment of "joda-time-2.2.jar" (runtime-name: "joda-time-2.2.jar")




11:46:23,962 INFO  [org.jboss.as.server.deployment] (MSC service thread 1-4) JBAS015876: Starting deployment of "gemini-blueprint-core-1.0.2.RELEASE.jar" (runtime-name: "gemini-blueprint-core-1.0.2.RELEASE.jar")




11:46:23,963 INFO  [org.jboss.as.server.deployment] (MSC service thread 1-5) JBAS015876: Starting deployment of "com.springsource.org.aopalliance-1.0.0.jar" (runtime-name: "com.springsource.org.aopalliance-1.0.0.jar")




11:46:23,963 INFO  [org.jboss.as.server.deployment] (MSC service thread 1-4) JBAS015876: Starting deployment of "voldemort-protostuff-serializer-1.1.jar" (runtime-name: "voldemort-protostuff-serializer-1.1.jar")




11:46:23,963 INFO  [org.jboss.as.server.deployment] (MSC service thread 1-5) JBAS015876: Starting deployment of "smq-spi-1.2.jar" (runtime-name: "smq-spi-1.2.jar")




11:46:23,963 INFO  [org.jboss.as.server.deployment] (MSC service thread 1-4) JBAS015876: Starting deployment of "smq-component-1.2.jar" (runtime-name: "smq-component-1.2.jar")




11:46:23,964 INFO  [org.jboss.as.server.deployment] (MSC service thread 1-5) JBAS015876: Starting deployment of "smq-common-codecs-1.2.jar" (runtime-name: "smq-common-codecs-1.2.jar")




11:46:23,944 INFO  [org.jboss.as.server.deployment] (MSC service thread 1-1) JBAS015876: Starting deployment of "camel-core-2.12-20130415.050256-14.jar" (runtime-name: "camel-core-2.12-20130415.050256-14.jar")




11:46:23,964 INFO  [org.jboss.as.server.deployment] (MSC service thread 1-6) JBAS015876: Starting deployment of "camel-spring-2.12-20130415.050508-14.jar" (runtime-name: "camel-spring-2.12-20130415.050508-14.jar")




11:46:23,964 INFO  [org.jboss.as.server.deployment] (MSC service thread 1-5) JBAS015876: Starting deployment of "commons-codec-1.7.jar" (runtime-name: "commons-codec-1.7.jar")




11:46:23,964 INFO  [org.jboss.as.server.deployment] (MSC service thread 1-4) JBAS015876: Starting deployment of "common-message-0.4-SNAPSHOT.jar" (runtime-name: "common-message-0.4-SNAPSHOT.jar")




11:46:23,961 INFO  [org.jboss.as.server.deployment] (MSC service thread 1-2) JBAS015876: Starting deployment of "jetty-http-9.0.1.v20130408.jar" (runtime-name: "jetty-http-9.0.1.v20130408.jar")




11:46:23,961 INFO  [org.jboss.as.server.deployment] (MSC service thread 1-8) JBAS015876: Starting deployment of "guava-13.0.1.jar" (runtime-name: "guava-13.0.1.jar")




11:46:23,958 INFO  [org.jboss.as.server.deployment] (MSC service thread 1-7) JBAS015876: Starting deployment of "carrier-statuscode-mapping-service-api-0.4-SNAPSHOT.jar" (runtime-name: "carrier-statuscode-mapping-service-api-0.4-SNAPSHOT.jar")




11:46:25,161 INFO  [org.jboss.osgi.framework] (MSC service thread 1-6) JBOSGI011006: OSGi Framework - 3.0.0.CR17




11:46:25,463 INFO  [org.jboss.osgi.framework] (MSC service thread 1-3) JBOSGI011001: Bundle installed: org.apache.felix.log:1.0.0




11:46:25,465 INFO  [org.jboss.osgi.framework] (MSC service thread 1-3) JBOSGI011001: Bundle installed: jboss-osgi-logging:1.0.0




11:46:25,468 INFO  [org.jboss.osgi.framework] (MSC service thread 1-3) JBOSGI011001: Bundle installed: org.apache.felix.configadmin:1.2.8




11:46:25,470 INFO  [org.jboss.osgi.framework] (MSC service thread 1-3) JBOSGI011001: Bundle installed: jboss-as-osgi-configadmin:8.0.0.Alpha1-SNAPSHOT




11:46:25,527 INFO  [org.jboss.as.osgi] (MSC service thread 1-6) JBAS011907: Register module: deployment.log4j-over-slf4j-1.7.5.jar:main




11:46:25,548 INFO  [org.jboss.as.osgi] (MSC service thread 1-6) JBAS011907: Register module: deployment.protostuff-core-1.0.7.jar:main




11:46:25,598 INFO  [org.jboss.as.osgi] (MSC service thread 1-6) JBAS011907: Register module: deployment.protostuff-runtime-1.0.7.jar:main




11:46:25,616 INFO  [org.jboss.as.osgi] (MSC service thread 1-6) JBAS011907: Register module: deployment.protobuf-java-2.4.1.jar:main




11:46:25,636 INFO  [org.jboss.as.osgi] (MSC service thread 1-6) JBAS011907: Register module: deployment.paranamer-2.3.jar:main




11:46:25,657 INFO  [org.jboss.as.osgi] (MSC service thread 1-6) JBAS011907: Register module: deployment.avro-1.7.2.jar:main




11:46:25,677 INFO  [org.jboss.as.osgi] (MSC service thread 1-6) JBAS011907: Register module: deployment.protostuff-api-1.0.7.jar:main




11:46:25,699 INFO  [org.jboss.as.osgi] (MSC service thread 1-6) JBAS011907: Register module: deployment.jdom-1.1.3.jar:main




11:46:25,719 INFO  [org.jboss.as.osgi] (MSC service thread 1-6) JBAS011907: Register module: deployment.protostuff-collectionschema-1.0.7.jar:main




11:46:25,739 INFO  [org.jboss.as.osgi] (MSC service thread 1-6) JBAS011907: Register module: deployment.stax-api-1.0.1.jar:main




11:46:25,759 INFO  [org.jboss.as.osgi] (MSC service thread 1-6) JBAS011907: Register module: deployment.commons-logging-1.1.1.jar:main




11:46:25,781 INFO  [org.jboss.osgi.framework] (MSC service thread 1-1) JBOSGI011001: Bundle installed: com.mm.gateway.messaging.carrier-datacoding-mapping-service-api:0.4.0.SNAPSHOT




11:46:25,793 INFO  [org.jboss.osgi.framework] (MSC service thread 1-1) JBOSGI011001: Bundle installed: com.cloudhopper.ch-commons-charset:3.0.0




11:46:25,782 INFO  [org.jboss.osgi.framework] (MSC service thread 1-2) JBOSGI011001: Bundle installed: com.dyuproject.protostuff.uberjar:1.0.7




11:46:25,787 INFO  [org.jboss.osgi.framework] (MSC service thread 1-4) JBOSGI011001: Bundle installed: stax2-api:3.0.1




11:46:25,801 INFO  [org.jboss.osgi.framework] (MSC service thread 1-4) JBOSGI011001: Bundle installed: org.eclipse.jetty.http:9.0.1.v20130408




11:46:25,802 INFO  [org.jboss.osgi.framework] (MSC service thread 1-4) JBOSGI011001: Bundle installed: com.mm.gateway.messaging.common-message:0.4.0.SNAPSHOT




11:46:25,785 INFO  [org.jboss.osgi.framework] (MSC service thread 1-8) JBOSGI011001: Bundle installed: com.verisign.smq.schema:1.2.0




11:46:25,808 INFO  [org.jboss.osgi.framework] (MSC service thread 1-5) JBOSGI011001: Bundle installed: jackson-mapper-asl:1.8.8




11:46:25,814 INFO  [org.jboss.osgi.framework] (MSC service thread 1-5) JBOSGI011001: Bundle installed: com.mm.gateway.messaging.carrier-datacoding-mapping-service-impl:0.4.0.SNAPSHOT




11:46:25,811 INFO  [org.jboss.osgi.framework] (MSC service thread 1-1) JBOSGI011001: Bundle installed: com.mm.gateway.messaging.routing-engine:0.4.0.SNAPSHOT




11:46:25,821 INFO  [org.jboss.osgi.framework] (MSC service thread 1-1) JBOSGI011001: Bundle installed: com.springsource.org.aopalliance:1.0.0




11:46:25,824 INFO  [org.jboss.osgi.framework] (MSC service thread 1-1) JBOSGI011001: Bundle installed: com.mm.camel.component.smq.component:1.2.0




11:46:25,820 INFO  [org.jboss.osgi.framework] (MSC service thread 1-2) JBOSGI011001: Bundle installed: osgi.enterprise:5.0.0.201203141834




11:46:25,840 INFO  [org.jboss.osgi.framework] (MSC service thread 1-3) JBOSGI011001: Bundle installed: org.apache.camel.camel-core:2.12.0.SNAPSHOT




11:46:25,843 INFO  [org.jboss.osgi.framework] (MSC service thread 1-8) JBOSGI011001: Bundle installed: org.springframework.core:3.2.2.RELEASE




11:46:25,844 INFO  [org.jboss.osgi.framework] (MSC service thread 1-1) JBOSGI011001: Bundle installed: com.verisign.smq.opaque-schema:1.2.0




11:46:25,845 INFO  [org.jboss.osgi.framework] (MSC service thread 1-3) JBOSGI011001: Bundle installed: com.verisign.smq.fs:1.2.0




11:46:25,844 INFO  [org.jboss.osgi.framework] (MSC service thread 1-5) JBOSGI011001: Bundle installed: org.springframework.jdbc:3.2.2.RELEASE




11:46:25,848 INFO  [org.jboss.osgi.framework] (MSC service thread 1-5) JBOSGI011001: Bundle installed: com.mm.gateway.messaging.carrier-statuscode-mapping-service-impl:0.4.0.SNAPSHOT




11:46:25,850 INFO  [org.jboss.osgi.framework] (MSC service thread 1-2) JBOSGI011001: Bundle installed: com.verisign.smq.common:1.2.0




11:46:25,853 INFO  [org.jboss.osgi.framework] (MSC service thread 1-6) JBOSGI011001: Bundle installed: org.eclipse.gemini.blueprint.core:1.0.2.RELEASE




11:46:25,853 INFO  [org.jboss.osgi.framework] (MSC service thread 1-7) JBOSGI011001: Bundle installed: ch.qos.logback.classic:1.0.11




11:46:25,853 INFO  [org.jboss.osgi.framework] (MSC service thread 1-2) JBOSGI011001: Bundle installed: org.springframework.expression:3.2.2.RELEASE




11:46:25,859 INFO  [org.jboss.osgi.framework] (MSC service thread 1-6) JBOSGI011001: Bundle installed: org.eclipse.jetty.util:9.0.1.v20130408




11:46:25,858 INFO  [org.jboss.osgi.framework] (MSC service thread 1-1) JBOSGI011001: Bundle installed: jackson-core-asl:1.8.8




11:46:25,856 INFO  [org.jboss.osgi.framework] (MSC service thread 1-8) JBOSGI011001: Bundle installed: com.mm.gateway.messaging.voldemort-aggregation-repository:0.4.0.SNAPSHOT




11:46:25,871 INFO  [org.jboss.osgi.framework] (MSC service thread 1-6) JBOSGI011001: Bundle installed: org.eclipse.jetty.io:9.0.1.v20130408




11:46:25,872 INFO  [org.jboss.osgi.framework] (MSC service thread 1-8) JBOSGI011001: Bundle installed: com.mm.gateway.messaging.number-service-impl:0.4.0.SNAPSHOT




11:46:25,873 INFO  [org.jboss.osgi.framework] (MSC service thread 1-2) JBOSGI011001: Bundle installed: woodstox-core-asl:4.0.3




11:46:25,871 INFO  [org.jboss.osgi.framework] (MSC service thread 1-1) JBOSGI011001: Bundle installed: org.eclipse.jetty.servlet:9.0.1.v20130408




11:46:25,877 INFO  [org.jboss.osgi.framework] (MSC service thread 1-8) JBOSGI011001: Bundle installed: org.apache.servicemix.bundles.libthrift:0.7.0.1




11:46:25,878 INFO  [org.jboss.osgi.framework] (MSC service thread 1-8) JBOSGI011001: Bundle installed: com.mm.gateway.messaging.carrier-statuscode-mapping-service-api:0.4.0.SNAPSHOT




11:46:25,872 INFO  [org.jboss.osgi.framework] (MSC service thread 1-4) JBOSGI011001: Bundle installed: com.project-voldemort.voldemort-osgi:1.3.1




11:46:25,873 INFO  [org.jboss.osgi.framework] (MSC service thread 1-3) JBOSGI011001: Bundle installed: org.springframework.aop:3.2.2.RELEASE




11:46:25,873 INFO  [org.jboss.osgi.framework] (MSC service thread 1-7) JBOSGI011001: Bundle installed: io.hawt.hawtio-web:1.0.0




11:46:25,880 INFO  [org.jboss.osgi.framework] (MSC service thread 1-8) JBOSGI011001: Bundle installed: jcl.over.slf4j:1.7.5




11:46:25,881 INFO  [org.jboss.osgi.framework] (MSC service thread 1-7) JBOSGI011001: Bundle installed: joda-time:2.2.0




11:46:25,883 INFO  [org.jboss.osgi.framework] (MSC service thread 1-8) JBOSGI011001: Bundle installed: com.verisign.smq.common-codecs:1.2.0




11:46:25,886 INFO  [org.jboss.osgi.framework] (MSC service thread 1-3) JBOSGI011001: Bundle installed: com.springsource.com.fasterxml.jackson.core.jackson-core:2.0.2




11:46:25,886 INFO  [org.jboss.osgi.framework] (MSC service thread 1-7) JBOSGI011001: Bundle installed: com.mm.camel.component.http.dummy:0.4.0.SNAPSHOT




11:46:25,891 INFO  [org.jboss.osgi.framework] (MSC service thread 1-8) JBOSGI011001: Bundle installed: org.apache.commons.pool:1.6.0




11:46:25,892 INFO  [org.jboss.osgi.framework] (MSC service thread 1-3) JBOSGI011001: Bundle installed: com.mm.gateway.messaging.number-service-api:0.4.0.SNAPSHOT




11:46:25,891 INFO  [org.jboss.osgi.framework] (MSC service thread 1-7) JBOSGI011001: Bundle installed: org.eclipse.jetty.jmx:9.0.1.v20130408




11:46:25,897 INFO  [org.jboss.osgi.framework] (MSC service thread 1-7) JBOSGI011001: Bundle installed: com.mm.camel.component.http.component:0.4.0.SNAPSHOT




11:46:25,900 INFO  [org.jboss.osgi.framework] (MSC service thread 1-8) JBOSGI011001: Bundle installed: org.apache.commons.codec:1.7.0




11:46:25,898 INFO  [org.jboss.osgi.framework] (MSC service thread 1-5) JBOSGI011001: Bundle installed: org.springframework.transaction:3.2.2.RELEASE




11:46:25,903 INFO  [org.jboss.osgi.framework] (MSC service thread 1-5) JBOSGI011001: Bundle installed: org.eclipse.gemini.management:1.0.5.RELEASE




11:46:25,899 INFO  [org.jboss.osgi.framework] (MSC service thread 1-4) JBOSGI011001: Bundle installed: org.apache.commons.lang:2.5.0




11:46:25,906 INFO  [org.jboss.osgi.framework] (MSC service thread 1-7) JBOSGI011001: Bundle installed: com.mm.camel.component.smpp.cloudhopper-smpp-component:1.0.0.SNAPSHOT




11:46:25,909 INFO  [org.jboss.osgi.framework] (MSC service thread 1-3) JBOSGI011001: Bundle installed: com.mm.gateway.messaging.hornetq-integration:0.4.0.SNAPSHOT




11:46:25,911 INFO  [org.jboss.osgi.framework] (MSC service thread 1-7) JBOSGI011001: Bundle installed: com.mm.gateway.messaging.carrier-id-mapping-service-api:0.4.0.SNAPSHOT




11:46:25,915 INFO  [org.jboss.osgi.framework] (MSC service thread 1-8) JBOSGI011001: Bundle installed: com.springsource.org.aspectj.weaver:1.7.1.RELEASE




11:46:25,918 INFO  [org.jboss.osgi.framework] (MSC service thread 1-8) JBOSGI011001: Bundle installed: org.apache.commons.io:2.4.0




11:46:25,918 INFO  [org.jboss.osgi.framework] (MSC service thread 1-7) JBOSGI011001: Bundle installed: com.verisign.smq.spi:1.2.0




11:46:25,931 INFO  [org.jboss.osgi.framework] (MSC service thread 1-6) JBOSGI011001: Bundle installed: org.jboss.netty:3.6.3.Final




11:46:25,935 INFO  [org.jboss.osgi.framework] (MSC service thread 1-7) JBOSGI011001: Bundle installed: org.eclipse.jetty.security:9.0.1.v20130408




11:46:25,939 INFO  [org.jboss.osgi.framework] (MSC service thread 1-6) JBOSGI011001: Bundle installed: org.eclipse.gemini.blueprint.io:1.0.2.RELEASE




11:46:25,944 INFO  [org.jboss.osgi.framework] (MSC service thread 1-3) JBOSGI011001: Bundle installed: org.eclipse.gemini.blueprint.extender:1.0.2.RELEASE




11:46:25,946 INFO  [org.jboss.osgi.framework] (MSC service thread 1-4) JBOSGI011001: Bundle installed: ch.qos.logback.core:1.0.11




11:46:25,944 INFO  [org.jboss.osgi.framework] (MSC service thread 1-8) JBOSGI011001: Bundle installed: org.jgroups:3.2.5.Final




11:46:25,948 INFO  [org.jboss.osgi.framework] (MSC service thread 1-8) JBOSGI011001: Bundle installed: com.mm.camel.component.smpp.cloudhopper-smpp-component-spi:1.0.0.SNAPSHOT




11:46:25,953 INFO  [org.jboss.osgi.framework] (MSC service thread 1-8) JBOSGI011001: Bundle installed: org.apache.camel.camel-sjms:2.12.0.SNAPSHOT




11:46:25,954 INFO  [org.jboss.osgi.framework] (MSC service thread 1-2) JBOSGI011001: Bundle installed: org.springframework.context:3.2.2.RELEASE




11:46:25,955 INFO  [org.jboss.osgi.framework] (MSC service thread 1-1) JBOSGI011001: Bundle installed: org.springframework.orm:3.2.2.RELEASE




11:46:25,955 INFO  [org.jboss.osgi.framework] (MSC service thread 1-5) JBOSGI011001: Bundle installed: org.springframework.beans:3.2.2.RELEASE




11:46:25,955 INFO  [org.jboss.osgi.framework] (MSC service thread 1-3) JBOSGI011001: Bundle installed: slf4j.api:1.7.5




11:46:25,957 INFO  [org.jboss.osgi.framework] (MSC service thread 1-2) JBOSGI011001: Bundle installed: com.mm.camel.component.http.component-spi:0.4.0.SNAPSHOT




11:46:25,957 INFO  [org.jboss.osgi.framework] (MSC service thread 1-5) JBOSGI011001: Bundle installed: com.mm.voldemort.protostuff-serializer:1.1.0




11:46:25,960 INFO  [org.jboss.osgi.framework] (MSC service thread 1-2) JBOSGI011001: Bundle installed: com.google.guava:13.0.1




11:46:25,962 INFO  [org.jboss.osgi.framework] (MSC service thread 1-4) JBOSGI011001: Bundle installed: com.mm.gateway.messaging.carrier-id-mapping-service-impl:0.4.0.SNAPSHOT




11:46:25,963 INFO  [org.jboss.osgi.framework] (MSC service thread 1-5) JBOSGI011001: Bundle installed: org.apache.camel.camel-jms:2.12.0.SNAPSHOT




11:46:25,954 INFO  [org.jboss.osgi.framework] (MSC service thread 1-7) JBOSGI011001: Bundle installed: com.cloudhopper.ch-commons-util:6.0.1




11:46:25,966 INFO  [org.jboss.osgi.framework] (MSC service thread 1-7) JBOSGI011001: Bundle installed: org.apache.servicemix.bundles.xmlpull:1.1.3.1_2




11:46:25,967 INFO  [org.jboss.osgi.framework] (MSC service thread 1-4) JBOSGI011001: Bundle installed: com.cloudhopper.ch-smpp:5.0.1




11:46:25,965 INFO  [org.jboss.osgi.framework] (MSC service thread 1-8) JBOSGI011001: Bundle installed: org.apache.servicemix.bundles.kxml2:2.3.0.3




11:46:25,955 INFO  [org.jboss.osgi.framework] (MSC service thread 1-6) JBOSGI011001: Bundle installed: org.eclipse.jetty.server:9.0.1.v20130408




11:46:25,969 INFO  [org.jboss.osgi.framework] (MSC service thread 1-5) JBOSGI011001: Bundle installed: org.xerial.snappy.snappy-java:1.0.4.1




11:46:25,968 INFO  [org.jboss.osgi.framework] (MSC service thread 1-1) JBOSGI011001: Bundle installed: org.springframework.jms:3.2.2.RELEASE




11:46:25,967 INFO  [org.jboss.osgi.framework] (MSC service thread 1-2) JBOSGI011001: Bundle installed: org.springframework.aspects:3.2.2.RELEASE




11:46:25,984 INFO  [org.jboss.osgi.framework] (MSC service thread 1-3) JBOSGI011001: Bundle installed: org.apache.camel.camel-spring:2.12.0.SNAPSHOT




11:46:29,588 ERROR [org.jboss.msc.service.fail] (MSC service thread 1-7) MSC000001: Failed to start service jbosgi.PersistentBundles.RESOLVE: org.jboss.msc.service.StartException in service jbosgi.PersistentBundles.RESOLVE: Failed to start service




	at org.jboss.msc.service.ServiceControllerImpl$StartTask.run(ServiceControllerImpl.java:1930) [jboss-msc-1.1.2.Final.jar:1.1.2.Final]




	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1145) [rt.jar:1.7.0_13]




	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:615) [rt.jar:1.7.0_13]




	at java.lang.Thread.run(Thread.java:722) [rt.jar:1.7.0_13]




Caused by: java.lang.NullPointerException




	at org.jboss.as.osgi.service.ModuleLoaderIntegration$FrameworkModuleLoaderImpl.createModuleService(ModuleLoaderIntegration.java:230)




	at org.jboss.osgi.framework.internal.ResolverImpl.createModuleServices(ResolverImpl.java:382)




	at org.jboss.osgi.framework.internal.ResolverImpl.applyResolverResults(ResolverImpl.java:319)




	at org.jboss.osgi.framework.internal.ResolverImpl.resolveInternal(ResolverImpl.java:179)




	at org.jboss.osgi.framework.internal.ResolverImpl.resolveAndApply(ResolverImpl.java:125)




	at org.jboss.osgi.framework.internal.FrameworkWiringImpl.resolveBundles(FrameworkWiringImpl.java:241)




	at org.jboss.osgi.framework.spi.BootstrapBundlesResolve.start(BootstrapBundlesResolve.java:122)




	at org.jboss.msc.service.ServiceControllerImpl$StartTask.startService(ServiceControllerImpl.java:1974) [jboss-msc-1.1.2.Final.jar:1.1.2.Final]




	at org.jboss.msc.service.ServiceControllerImpl$StartTask.run(ServiceControllerImpl.java:1907) [jboss-msc-1.1.2.Final.jar:1.1.2.Final]




	... 3 more









11:46:29,637 INFO  [org.jboss.as.server] (ServerService Thread Pool -- 30) JBAS018559: Deployed "log4j-over-slf4j-1.7.5.jar" (runtime-name : "log4j-over-slf4j-1.7.5.jar")




11:46:29,638 INFO  [org.jboss.as.server] (ServerService Thread Pool -- 30) JBAS018559: Deployed "jcl-over-slf4j-1.7.5.jar" (runtime-name : "jcl-over-slf4j-1.7.5.jar")




11:46:29,638 INFO  [org.jboss.as.server] (ServerService Thread Pool -- 30) JBAS018559: Deployed "org.springframework.beans-3.2.2.RELEASE.jar" (runtime-name : "org.springframework.beans-3.2.2.RELEASE.jar")




11:46:29,638 INFO  [org.jboss.as.server] (ServerService Thread Pool -- 30) JBAS018559: Deployed "gemini-blueprint-extender-1.0.2.RELEASE.jar" (runtime-name : "gemini-blueprint-extender-1.0.2.RELEASE.jar")




11:46:29,639 INFO  [org.jboss.as.server] (ServerService Thread Pool -- 30) JBAS018559: Deployed "org.springframework.jdbc-3.2.2.RELEASE.jar" (runtime-name : "org.springframework.jdbc-3.2.2.RELEASE.jar")




11:46:29,639 INFO  [org.jboss.as.server] (ServerService Thread Pool -- 30) JBAS018559: Deployed "carrier-statuscode-mapping-service-api-0.4-SNAPSHOT.jar" (runtime-name : "carrier-statuscode-mapping-service-api-0.4-SNAPSHOT.jar")




11:46:29,639 INFO  [org.jboss.as.server] (ServerService Thread Pool -- 30) JBAS018559: Deployed "jetty-util-9.0.1.v20130408.jar" (runtime-name : "jetty-util-9.0.1.v20130408.jar")




11:46:29,639 INFO  [org.jboss.as.server] (ServerService Thread Pool -- 30) JBAS018559: Deployed "org.apache.servicemix.bundles.libthrift-0.7.0_1.jar" (runtime-name : "org.apache.servicemix.bundles.libthrift-0.7.0_1.jar")




11:46:29,639 INFO  [org.jboss.as.server] (ServerService Thread Pool -- 30) JBAS018559: Deployed "jetty-server-9.0.1.v20130408.jar" (runtime-name : "jetty-server-9.0.1.v20130408.jar")




11:46:29,640 INFO  [org.jboss.as.server] (ServerService Thread Pool -- 30) JBAS018559: Deployed "number-service-api-0.4-SNAPSHOT.jar" (runtime-name : "number-service-api-0.4-SNAPSHOT.jar")




11:46:29,640 INFO  [org.jboss.as.server] (ServerService Thread Pool -- 30) JBAS018559: Deployed "jetty-http-9.0.1.v20130408.jar" (runtime-name : "jetty-http-9.0.1.v20130408.jar")




11:46:29,640 INFO  [org.jboss.as.server] (ServerService Thread Pool -- 30) JBAS018559: Deployed "hornetq-integration-0.4-SNAPSHOT.jar" (runtime-name : "hornetq-integration-0.4-SNAPSHOT.jar")




11:46:29,640 INFO  [org.jboss.as.server] (ServerService Thread Pool -- 30) JBAS018559: Deployed "smq-schema-1.2.jar" (runtime-name : "smq-schema-1.2.jar")




11:46:29,640 INFO  [org.jboss.as.server] (ServerService Thread Pool -- 30) JBAS018559: Deployed "carrier-id-mapping-service-api-0.4-SNAPSHOT.jar" (runtime-name : "carrier-id-mapping-service-api-0.4-SNAPSHOT.jar")




11:46:29,640 INFO  [org.jboss.as.server] (ServerService Thread Pool -- 30) JBAS018559: Deployed "commons-io-2.4.jar" (runtime-name : "commons-io-2.4.jar")




11:46:29,641 INFO  [org.jboss.as.server] (ServerService Thread Pool -- 30) JBAS018559: Deployed "carrier-datacoding-mapping-service-api-0.4-SNAPSHOT.jar" (runtime-name : "carrier-datacoding-mapping-service-api-0.4-SNAPSHOT.jar")




11:46:29,641 INFO  [org.jboss.as.server] (ServerService Thread Pool -- 30) JBAS018559: Deployed "snappy-java-1.0.4.1.jar" (runtime-name : "snappy-java-1.0.4.1.jar")




11:46:29,641 INFO  [org.jboss.as.server] (ServerService Thread Pool -- 30) JBAS018559: Deployed "netty-3.6.3.Final.jar" (runtime-name : "netty-3.6.3.Final.jar")




11:46:29,641 INFO  [org.jboss.as.server] (ServerService Thread Pool -- 30) JBAS018559: Deployed "camel-jms-2.12-20130415.050425-14.jar" (runtime-name : "camel-jms-2.12-20130415.050425-14.jar")




11:46:29,641 INFO  [org.jboss.as.server] (ServerService Thread Pool -- 30) JBAS018559: Deployed "smq-common-codecs-1.2.jar" (runtime-name : "smq-common-codecs-1.2.jar")




11:46:29,642 INFO  [org.jboss.as.server] (ServerService Thread Pool -- 30) JBAS018559: Deployed "jdom-1.1.3.jar" (runtime-name : "jdom-1.1.3.jar")




11:46:29,642 INFO  [org.jboss.as.server] (ServerService Thread Pool -- 30) JBAS018559: Deployed "commons-logging-1.1.1.jar" (runtime-name : "commons-logging-1.1.1.jar")




11:46:29,642 INFO  [org.jboss.as.server] (ServerService Thread Pool -- 30) JBAS018559: Deployed "routing-engine-0.4-SNAPSHOT.jar" (runtime-name : "routing-engine-0.4-SNAPSHOT.jar")




11:46:29,642 INFO  [org.jboss.as.server] (ServerService Thread Pool -- 30) JBAS018559: Deployed "common-message-0.4-SNAPSHOT.jar" (runtime-name : "common-message-0.4-SNAPSHOT.jar")




11:46:29,642 INFO  [org.jboss.as.server] (ServerService Thread Pool -- 30) JBAS018559: Deployed "protostuff-runtime-1.0.7.jar" (runtime-name : "protostuff-runtime-1.0.7.jar")




11:46:29,642 INFO  [org.jboss.as.server] (ServerService Thread Pool -- 30) JBAS018559: Deployed "jetty-servlet-9.0.1.v20130408.jar" (runtime-name : "jetty-servlet-9.0.1.v20130408.jar")




11:46:29,643 INFO  [org.jboss.as.server] (ServerService Thread Pool -- 30) JBAS018559: Deployed "org.apache.servicemix.bundles.xmlpull-1.1.3.1_2.jar" (runtime-name : "org.apache.servicemix.bundles.xmlpull-1.1.3.1_2.jar")




11:46:29,643 INFO  [org.jboss.as.server] (ServerService Thread Pool -- 30) JBAS018559: Deployed "joda-time-2.2.jar" (runtime-name : "joda-time-2.2.jar")




11:46:29,643 INFO  [org.jboss.as.server] (ServerService Thread Pool -- 30) JBAS018559: Deployed "ch-smpp-5.0.1.jar" (runtime-name : "ch-smpp-5.0.1.jar")




11:46:29,643 INFO  [org.jboss.as.server] (ServerService Thread Pool -- 30) JBAS018559: Deployed "org.apache.servicemix.bundles.kxml2-2.3.0_3.jar" (runtime-name : "org.apache.servicemix.bundles.kxml2-2.3.0_3.jar")




11:46:29,643 INFO  [org.jboss.as.server] (ServerService Thread Pool -- 30) JBAS018559: Deployed "protostuff-uberjar-1.0.7.jar" (runtime-name : "protostuff-uberjar-1.0.7.jar")




11:46:29,643 INFO  [org.jboss.as.server] (ServerService Thread Pool -- 30) JBAS018559: Deployed "carrier-datacoding-mapping-service-impl-0.4-SNAPSHOT.jar" (runtime-name : "carrier-datacoding-mapping-service-impl-0.4-SNAPSHOT.jar")




11:46:29,644 INFO  [org.jboss.as.server] (ServerService Thread Pool -- 30) JBAS018559: Deployed "commons-lang-2.5.jar" (runtime-name : "commons-lang-2.5.jar")




11:46:29,644 INFO  [org.jboss.as.server] (ServerService Thread Pool -- 30) JBAS018559: Deployed "jetty-security-9.0.1.v20130408.jar" (runtime-name : "jetty-security-9.0.1.v20130408.jar")




11:46:29,644 INFO  [org.jboss.as.server] (ServerService Thread Pool -- 30) JBAS018559: Deployed "protostuff-api-1.0.7.jar" (runtime-name : "protostuff-api-1.0.7.jar")




11:46:29,644 INFO  [org.jboss.as.server] (ServerService Thread Pool -- 30) JBAS018559: Deployed "paranamer-2.3.jar" (runtime-name : "paranamer-2.3.jar")




11:46:29,644 INFO  [org.jboss.as.server] (ServerService Thread Pool -- 30) JBAS018559: Deployed "carrier-id-mapping-service-impl-0.4-SNAPSHOT.jar" (runtime-name : "carrier-id-mapping-service-impl-0.4-SNAPSHOT.jar")




11:46:29,644 INFO  [org.jboss.as.server] (ServerService Thread Pool -- 30) JBAS018559: Deployed "camel-spring-2.12-20130415.050508-14.jar" (runtime-name : "camel-spring-2.12-20130415.050508-14.jar")




11:46:29,644 INFO  [org.jboss.as.server] (ServerService Thread Pool -- 30) JBAS018559: Deployed "protobuf-java-2.4.1.jar" (runtime-name : "protobuf-java-2.4.1.jar")




11:46:29,645 INFO  [org.jboss.as.server] (ServerService Thread Pool -- 30) JBAS018559: Deployed "jgroups-3.2.5.Final.jar" (runtime-name : "jgroups-3.2.5.Final.jar")




11:46:29,645 INFO  [org.jboss.as.server] (ServerService Thread Pool -- 30) JBAS018559: Deployed "camel-core-2.12-20130415.050256-14.jar" (runtime-name : "camel-core-2.12-20130415.050256-14.jar")




11:46:29,645 INFO  [org.jboss.as.server] (ServerService Thread Pool -- 30) JBAS018559: Deployed "protostuff-collectionschema-1.0.7.jar" (runtime-name : "protostuff-collectionschema-1.0.7.jar")




11:46:29,645 INFO  [org.jboss.as.server] (ServerService Thread Pool -- 30) JBAS018559: Deployed "commons-codec-1.7.jar" (runtime-name : "commons-codec-1.7.jar")




11:46:29,645 INFO  [org.jboss.as.server] (ServerService Thread Pool -- 30) JBAS018559: Deployed "ch-commons-charset-3.0.0.jar" (runtime-name : "ch-commons-charset-3.0.0.jar")




11:46:29,646 INFO  [org.jboss.as.server] (ServerService Thread Pool -- 30) JBAS018559: Deployed "cloudhopper-smpp-component-1.0-SNAPSHOT.jar" (runtime-name : "cloudhopper-smpp-component-1.0-SNAPSHOT.jar")




11:46:29,646 INFO  [org.jboss.as.server] (ServerService Thread Pool -- 30) JBAS018559: Deployed "woodstox-core-asl-4.0.3.jar" (runtime-name : "woodstox-core-asl-4.0.3.jar")




11:46:29,646 INFO  [org.jboss.as.server] (ServerService Thread Pool -- 30) JBAS018559: Deployed "ch-commons-util-6.0.1.jar" (runtime-name : "ch-commons-util-6.0.1.jar")




11:46:29,646 INFO  [org.jboss.as.server] (ServerService Thread Pool -- 30) JBAS018559: Deployed "jackson-mapper-asl-1.8.8.jar" (runtime-name : "jackson-mapper-asl-1.8.8.jar")




11:46:29,646 INFO  [org.jboss.as.server] (ServerService Thread Pool -- 30) JBAS018559: Deployed "smq-opaque-schema-1.2.jar" (runtime-name : "smq-opaque-schema-1.2.jar")




11:46:29,646 INFO  [org.jboss.as.server] (ServerService Thread Pool -- 30) JBAS018559: Deployed "stax-api-1.0.1.jar" (runtime-name : "stax-api-1.0.1.jar")




11:46:29,647 INFO  [org.jboss.as.server] (ServerService Thread Pool -- 30) JBAS018559: Deployed "smq-fs-1.2.jar" (runtime-name : "smq-fs-1.2.jar")




11:46:29,647 INFO  [org.jboss.as.server] (ServerService Thread Pool -- 30) JBAS018559: Deployed "smq-component-1.2.jar" (runtime-name : "smq-component-1.2.jar")




11:46:29,647 INFO  [org.jboss.as.server] (ServerService Thread Pool -- 30) JBAS018559: Deployed "camel-sjms-2.12-20130415.050502-14.jar" (runtime-name : "camel-sjms-2.12-20130415.050502-14.jar")




11:46:29,647 INFO  [org.jboss.as.server] (ServerService Thread Pool -- 30) JBAS018559: Deployed "voldemort-aggregation-repository-0.4-SNAPSHOT.jar" (runtime-name : "voldemort-aggregation-repository-0.4-SNAPSHOT.jar")




11:46:29,647 INFO  [org.jboss.as.server] (ServerService Thread Pool -- 30) JBAS018559: Deployed "voldemort-osgi-1.3.1.jar" (runtime-name : "voldemort-osgi-1.3.1.jar")




11:46:29,647 INFO  [org.jboss.as.server] (ServerService Thread Pool -- 30) JBAS018559: Deployed "avro-1.7.2.jar" (runtime-name : "avro-1.7.2.jar")




11:46:29,648 INFO  [org.jboss.as.server] (ServerService Thread Pool -- 30) JBAS018559: Deployed "jetty-io-9.0.1.v20130408.jar" (runtime-name : "jetty-io-9.0.1.v20130408.jar")




11:46:29,648 INFO  [org.jboss.as.server] (ServerService Thread Pool -- 30) JBAS018559: Deployed "smq-spi-1.2.jar" (runtime-name : "smq-spi-1.2.jar")




11:46:29,648 INFO  [org.jboss.as.server] (ServerService Thread Pool -- 30) JBAS018559: Deployed "http-component-spi-0.4-20130402.174124-2.jar" (runtime-name : "http-component-spi-0.4-20130402.174124-2.jar")




11:46:29,648 INFO  [org.jboss.as.server] (ServerService Thread Pool -- 30) JBAS018559: Deployed "number-service-impl-0.4-SNAPSHOT.jar" (runtime-name : "number-service-impl-0.4-SNAPSHOT.jar")




11:46:29,648 INFO  [org.jboss.as.server] (ServerService Thread Pool -- 30) JBAS018559: Deployed "commons-pool-1.6.jar" (runtime-name : "commons-pool-1.6.jar")




11:46:29,648 INFO  [org.jboss.as.server] (ServerService Thread Pool -- 30) JBAS018559: Deployed "hawtio-osgi-1.0.war" (runtime-name : "hawtio-osgi-1.0.war")




11:46:29,649 INFO  [org.jboss.as.server] (ServerService Thread Pool -- 30) JBAS018559: Deployed "stax2-api-3.0.1.jar" (runtime-name : "stax2-api-3.0.1.jar")




11:46:29,649 INFO  [org.jboss.as.server] (ServerService Thread Pool -- 30) JBAS018559: Deployed "guava-13.0.1.jar" (runtime-name : "guava-13.0.1.jar")




11:46:29,649 INFO  [org.jboss.as.server] (ServerService Thread Pool -- 30) JBAS018559: Deployed "jackson-core-asl-1.8.8.jar" (runtime-name : "jackson-core-asl-1.8.8.jar")




11:46:29,649 INFO  [org.jboss.as.server] (ServerService Thread Pool -- 30) JBAS018559: Deployed "carrier-statuscode-mapping-service-impl-0.4-SNAPSHOT.jar" (runtime-name : "carrier-statuscode-mapping-service-impl-0.4-SNAPSHOT.jar")




11:46:29,649 INFO  [org.jboss.as.server] (ServerService Thread Pool -- 30) JBAS018559: Deployed "http-component-0.4-SNAPSHOT.jar" (runtime-name : "http-component-0.4-SNAPSHOT.jar")




11:46:29,649 INFO  [org.jboss.as.server] (ServerService Thread Pool -- 30) JBAS018559: Deployed "voldemort-protostuff-serializer-1.1.jar" (runtime-name : "voldemort-protostuff-serializer-1.1.jar")




11:46:29,650 INFO  [org.jboss.as.server] (ServerService Thread Pool -- 30) JBAS018559: Deployed "dummy-0.4-SNAPSHOT.jar" (runtime-name : "dummy-0.4-SNAPSHOT.jar")




11:46:29,650 INFO  [org.jboss.as.server] (ServerService Thread Pool -- 30) JBAS018559: Deployed "jetty-jmx-9.0.1.v20130408.jar" (runtime-name : "jetty-jmx-9.0.1.v20130408.jar")




11:46:29,650 INFO  [org.jboss.as.server] (ServerService Thread Pool -- 30) JBAS018559: Deployed "protostuff-core-1.0.7.jar" (runtime-name : "protostuff-core-1.0.7.jar")




11:46:29,650 INFO  [org.jboss.as.server] (ServerService Thread Pool -- 30) JBAS018559: Deployed "smq-common-1.2.jar" (runtime-name : "smq-common-1.2.jar")




11:46:29,650 INFO  [org.jboss.as.server] (ServerService Thread Pool -- 30) JBAS018559: Deployed "cloudhopper-smpp-component-spi-1.0-SNAPSHOT.jar" (runtime-name : "cloudhopper-smpp-component-spi-1.0-SNAPSHOT.jar")




11:46:29,650 INFO  [org.jboss.as.server] (ServerService Thread Pool -- 30) JBAS018559: Deployed "org.springframework.jms-3.2.2.RELEASE.jar" (runtime-name : "org.springframework.jms-3.2.2.RELEASE.jar")




11:46:29,651 INFO  [org.jboss.as.server] (ServerService Thread Pool -- 30) JBAS018559: Deployed "org.springframework.orm-3.2.2.RELEASE.jar" (runtime-name : "org.springframework.orm-3.2.2.RELEASE.jar")




11:46:29,652 INFO  [org.jboss.as.server] (ServerService Thread Pool -- 30) JBAS018559: Deployed "org.springframework.expression-3.2.2.RELEASE.jar" (runtime-name : "org.springframework.expression-3.2.2.RELEASE.jar")




11:46:29,652 INFO  [org.jboss.as.server] (ServerService Thread Pool -- 30) JBAS018559: Deployed "org.springframework.aspects-3.2.2.RELEASE.jar" (runtime-name : "org.springframework.aspects-3.2.2.RELEASE.jar")




11:46:29,652 INFO  [org.jboss.as.server] (ServerService Thread Pool -- 30) JBAS018559: Deployed "org.springframework.core-3.2.2.RELEASE.jar" (runtime-name : "org.springframework.core-3.2.2.RELEASE.jar")




11:46:29,652 INFO  [org.jboss.as.server] (ServerService Thread Pool -- 30) JBAS018559: Deployed "logback-classic-1.0.11.jar" (runtime-name : "logback-classic-1.0.11.jar")




11:46:29,652 INFO  [org.jboss.as.server] (ServerService Thread Pool -- 30) JBAS018559: Deployed "org.springframework.aop-3.2.2.RELEASE.jar" (runtime-name : "org.springframework.aop-3.2.2.RELEASE.jar")




11:46:29,652 INFO  [org.jboss.as.server] (ServerService Thread Pool -- 30) JBAS018559: Deployed "gemini-blueprint-io-1.0.2.RELEASE.jar" (runtime-name : "gemini-blueprint-io-1.0.2.RELEASE.jar")




11:46:29,653 INFO  [org.jboss.as.server] (ServerService Thread Pool -- 30) JBAS018559: Deployed "com.springsource.org.aspectj.weaver-1.7.1.RELEASE.jar" (runtime-name : "com.springsource.org.aspectj.weaver-1.7.1.RELEASE.jar")




11:46:29,653 INFO  [org.jboss.as.server] (ServerService Thread Pool -- 30) JBAS018559: Deployed "org.osgi.enterprise-5.0.0.jar" (runtime-name : "org.osgi.enterprise-5.0.0.jar")




11:46:29,653 INFO  [org.jboss.as.server] (ServerService Thread Pool -- 30) JBAS018559: Deployed "org.springframework.transaction-3.2.2.RELEASE.jar" (runtime-name : "org.springframework.transaction-3.2.2.RELEASE.jar")




11:46:29,653 INFO  [org.jboss.as.server] (ServerService Thread Pool -- 30) JBAS018559: Deployed "com.springsource.com.fasterxml.jackson.core.jackson-core-2.0.2.jar" (runtime-name : "com.springsource.com.fasterxml.jackson.core.jackson-core-2.0.2.jar")




11:46:29,653 INFO  [org.jboss.as.server] (ServerService Thread Pool -- 30) JBAS018559: Deployed "gemini-blueprint-core-1.0.2.RELEASE.jar" (runtime-name : "gemini-blueprint-core-1.0.2.RELEASE.jar")




11:46:29,653 INFO  [org.jboss.as.server] (ServerService Thread Pool -- 30) JBAS018559: Deployed "org.springframework.context-3.2.2.RELEASE.jar" (runtime-name : "org.springframework.context-3.2.2.RELEASE.jar")




11:46:29,653 INFO  [org.jboss.as.server] (ServerService Thread Pool -- 30) JBAS018559: Deployed "logback-core-1.0.11.jar" (runtime-name : "logback-core-1.0.11.jar")




11:46:29,654 INFO  [org.jboss.as.server] (ServerService Thread Pool -- 30) JBAS018559: Deployed "com.springsource.org.aopalliance-1.0.0.jar" (runtime-name : "com.springsource.org.aopalliance-1.0.0.jar")




11:46:29,654 INFO  [org.jboss.as.server] (ServerService Thread Pool -- 30) JBAS018559: Deployed "org.eclipse.gemini.management-1.0.5.RELEASE.jar" (runtime-name : "org.eclipse.gemini.management-1.0.5.RELEASE.jar")




11:46:29,654 INFO  [org.jboss.as.server] (ServerService Thread Pool -- 30) JBAS018559: Deployed "slf4j-api-1.7.5.jar" (runtime-name : "slf4j-api-1.7.5.jar")




11:46:29,655 INFO  [org.jboss.as.controller] (Controller Boot Thread) JBAS014774: Service status report




JBAS014775:    New missing/unsatisfied dependencies:




      service jbosgi.PersistentBundles.COMPLETE (missing) dependents: [service jboss.deployment.unit."number-service-impl-0.4-SNAPSHOT.jar".CONFIGURE_MODULE, service jboss.deployment.unit."snappy-java-1.0.4.1.jar".CONFIGURE_MODULE, service jboss.deployment.unit."org.springframework.aspects-3.2.2.RELEASE.jar".CONFIGURE_MODULE, service jboss.deployment.unit."org.apache.servicemix.bundles.xmlpull-1.1.3.1_2.jar".CONFIGURE_MODULE, JBAS014799: ... and 78 more ] 




JBAS014777:   Services which failed to start:      service jbosgi.PersistentBundles.RESOLVE: org.jboss.msc.service.StartException in service jbosgi.PersistentBundles.RESOLVE: Failed to start service









11:46:29,746 INFO  [org.jboss.as] (Controller Boot Thread) JBAS015961: Http management interface listening on http://127.0.0.1:9990/management




11:46:29,746 INFO  [org.jboss.as] (Controller Boot Thread) JBAS015951: Admin console listening on http://127.0.0.1:9990




11:46:29,746 ERROR [org.jboss.as] (Controller Boot Thread) JBAS015875: JBoss AS 8.0.0.Alpha1-SNAPSHOT "TBD" started (with errors) in 7701ms - Started 1099 of 1266 services (85 services failed or missing dependencies, 159 services are lazy, passive or on-demand)










</description>
			<version>8.0.0.Alpha1</version>
			<fixedVersion>8.0.0.Alpha1</fixedVersion>
			<type>Bug</type>
		</buginformation>
		<fixedFiles>
			<file type="M">org.jboss.as.osgi.service.BundleLifecycleIntegration.java</file>
		</fixedFiles>
	</bug>
	<bug id="1328" opendate="2013-05-10 01:17:34" fixdate="2013-05-20 00:02:38" resolution="Done">
		<buginformation>
			<summary> Regression: CDI portable extensions with missing dependencies fail to deploy</summary>
			<description></description>
			<version>8.0.0.Alpha1</version>
			<fixedVersion>8.0.0.Alpha1</fixedVersion>
			<type>Bug</type>
		</buginformation>
		<fixedFiles>
			<file type="M">org.jboss.as.weld.deployment.processors.WeldPortableExtensionProcessor.java</file>
		</fixedFiles>
		<links>
			<link type="Related" description="is related to">1515</link>
		</links>
	</bug>
	<bug id="1375" opendate="2013-05-22 09:53:20" fixdate="2013-05-23 05:39:41" resolution="Done">
		<buginformation>
			<summary>ClassLoader memory leak with EJB Asynchronous</summary>
			<description>Using asynchronous EJB call via @Asynchronous annotation leads to class loader leak.</description>
			<version>8.0.0.Alpha1</version>
			<fixedVersion>8.0.0.Alpha2</fixedVersion>
			<type>Bug</type>
		</buginformation>
		<fixedFiles>
			<file type="M">org.jboss.as.ejb3.component.interceptors.AsyncFutureInterceptorFactory.java</file>
		</fixedFiles>
	</bug>
	<bug id="1377" opendate="2013-05-22 15:20:26" fixdate="2013-05-27 05:00:12" resolution="Done">
		<buginformation>
			<summary>Quickstart wicket-ear throws exceptions for injecting resource defined in web.xml with @Resource</summary>
			<description>The wicket-ear quickstart throws exception on visiting the home page (http://localhost:8080/jboss-as-wicket-ear-war/).
Removing @Resource(name = "welcomeMessage") and assign a value directly to String welcome in ListContacts.java solved the issue.
Suspect: the resource defined in web.xml is not found.
Remarks:
The quickstart works on JBossAS 7.1.1.Final.
Log:
23:18:04,311 INFO  [org.jboss.modules] (main) JBoss Modules version 1.2.0.Final
23:18:04,479 INFO  [org.jboss.msc] (main) JBoss MSC version 1.1.2.Final
23:18:04,530 INFO  [org.jboss.as] (MSC service thread 1-6) JBAS015899: WildFly 8.0.0.Alpha1 "WildFly" starting
23:18:05,124 INFO  [org.jboss.as.server.deployment.scanner] (DeploymentScanner-threads - 1) JBAS015003: Found jboss-as-wicket-ear-ear.ear in deployment directory. To trigger deployment create a file called jboss-as-wicket-ear-ear.ear.dodeploy
23:18:05,137 INFO  [org.xnio] (MSC service thread 1-3) XNIO Version 3.1.0.CR3
23:18:05,139 INFO  [org.jboss.as.server] (Controller Boot Thread) JBAS015888: Creating http management service using socket-binding (management-http)
23:18:05,141 INFO  [org.xnio.nio] (MSC service thread 1-3) XNIO NIO Implementation Version 3.1.0.CR3
23:18:05,147 INFO  [org.jboss.remoting] (MSC service thread 1-3) JBoss Remoting version 4.0.0.Beta1
23:18:05,166 INFO  [org.jboss.as.clustering.infinispan] (ServerService Thread Pool  31) JBAS010280: Activating Infinispan subsystem.
23:18:05,169 INFO  [org.jboss.as.security] (ServerService Thread Pool  44) JBAS013171: Activating Security Subsystem
23:18:05,174 INFO  [org.jboss.as.naming] (ServerService Thread Pool  39) JBAS011800: Activating Naming Subsystem
23:18:05,175 INFO  [org.jboss.as.webservices] (ServerService Thread Pool  48) JBAS015537: Activating WebServices Extension
23:18:05,178 INFO  [org.jboss.as.security] (MSC service thread 1-6) JBAS013170: Current PicketBox version=4.0.17.Final
23:18:05,190 INFO  [org.jboss.as.connector.logging] (MSC service thread 1-10) JBAS010408: Starting JCA Subsystem (IronJacamar 1.0.17.Final)
23:18:05,191 INFO  [org.jboss.as.jsf] (ServerService Thread Pool  37) JBAS012605: Activated the following JSF Implementations: [main]
23:18:05,201 INFO  [org.wildfly.extension.undertow] (ServerService Thread Pool  47) JBAS017502: Undertow 1.0.0.Alpha15 starting
23:18:05,203 INFO  [org.wildfly.extension.undertow] (MSC service thread 1-14) JBAS017502: Undertow 1.0.0.Alpha15 starting
23:18:05,211 INFO  [org.jboss.as.naming] (MSC service thread 1-10) JBAS011802: Starting Naming Service
23:18:05,219 INFO  [org.jboss.as.mail.extension] (MSC service thread 1-9) JBAS015400: Bound mail session [java:jboss/mail/Default]
23:18:05,254 INFO  [org.jboss.ws.common.management] (MSC service thread 1-9) JBWS022052: Starting JBoss Web Services - Stack CXF Server 4.2.0.Beta1
23:18:05,262 INFO  [org.jboss.as.connector.subsystems.datasources] (ServerService Thread Pool  26) JBAS010403: Deploying JDBC-compliant driver class org.h2.Driver (version 1.3)
23:18:05,268 INFO  [org.jboss.as.connector.deployers.jdbc] (MSC service thread 1-5) JBAS010417: Started Driver service with driver-name = h2
23:18:05,297 INFO  [org.wildfly.extension.undertow] (MSC service thread 1-16) Starting server server service: service jboss.undertow.server.default-server
23:18:05,298 INFO  [org.wildfly.extension.undertow] (MSC service thread 1-16) Starting host default-host
23:18:05,302 INFO  [io.undertow] (ServerService Thread Pool  47) Creating file handler for path C:\Users\Benny\wildfly-8.0.0.Alpha1/welcome-content
23:18:05,306 INFO  [org.wildfly.extension.undertow] (MSC service thread 1-1) JBAS017525: Started http handler io.undertow.server.handlers.resource.ResourceHandler@f3d02a6.
23:18:05,307 INFO  [org.wildfly.extension.undertow] (MSC service thread 1-1) registering handler org.jboss.msc.value.InjectedValue@c653ad9 under path &amp;amp;apos;/&amp;amp;apos;
23:18:05,412 INFO  [org.jboss.as.server.deployment.scanner] (MSC service thread 1-11) JBAS015012: Started FileSystemDeploymentService for directory C:\Users\Benny\wildfly-8.0.0.Alpha1\standalone\deployments
23:18:05,415 INFO  [org.jboss.as.server.deployment] (MSC service thread 1-4) JBAS015876: Starting deployment of "jboss-as-wicket-ear-ear.ear" (runtime-name: "jboss-as-wicket-ear-ear.ear")
23:18:05,455 INFO  [org.jboss.as.server.deployment] (MSC service thread 1-4) JBAS015876: Starting deployment of "null" (runtime-name: "jboss-as-wicket-ear-ejb.jar")
23:18:05,455 INFO  [org.jboss.as.server.deployment] (MSC service thread 1-5) JBAS015876: Starting deployment of "null" (runtime-name: "jboss-as-wicket-ear-war.war")
23:18:05,466 INFO  [org.jboss.as.remoting] (MSC service thread 1-16) JBAS017100: Listening on 127.0.0.1:4447
23:18:05,466 INFO  [org.jboss.as.remoting] (MSC service thread 1-13) JBAS017100: Listening on 127.0.0.1:9999
23:18:05,468 INFO  [org.wildfly.extension.undertow] (MSC service thread 1-12) JBAS017519: Undertow HTTP listener default listening on localhost/127.0.0.1:8080
23:18:05,558 INFO  [org.jboss.as.connector.subsystems.datasources] (MSC service thread 1-1) JBAS010400: Bound data source [java:jboss/datasources/ExampleDS]
23:18:05,901 INFO  [org.jboss.as.jpa] (MSC service thread 1-11) JBAS011401: Read persistence.xml for primary
23:18:05,935 INFO  [org.jboss.as.connector.subsystems.datasources] (MSC service thread 1-10) JBAS010400: Bound data source [java:jboss/datasources/WicketEarQuickstartDS]
23:18:05,992 INFO  [org.jboss.weld.deployer] (MSC service thread 1-2) JBAS016002: Processing weld deployment jboss-as-wicket-ear-ear.ear
23:18:06,027 INFO  [org.jboss.weld.deployer] (MSC service thread 1-5) JBAS016002: Processing weld deployment jboss-as-wicket-ear-war.war
23:18:06,027 INFO  [org.jboss.weld.deployer] (MSC service thread 1-16) JBAS016002: Processing weld deployment jboss-as-wicket-ear-ejb.jar
23:18:06,029 INFO  [org.jboss.as.ejb3.deployment.processors.EjbJndiBindingsDeploymentUnitProcessor] (MSC service thread 1-16) JNDI bindings for session bean named ContactDaoBean in deployment unit subdeployment "jboss-as-wicket-ear-ejb.jar" of deployment "jboss-as-wicket-ear-ear.ear" are as follows:
	java:global/jboss-as-wicket-ear-ear/jboss-as-wicket-ear-ejb/ContactDaoBean!org.jboss.as.quickstarts.wicketEar.ejbjar.dao.ContactDao
	java:app/jboss-as-wicket-ear-ejb/ContactDaoBean!org.jboss.as.quickstarts.wicketEar.ejbjar.dao.ContactDao
	java:module/ContactDaoBean!org.jboss.as.quickstarts.wicketEar.ejbjar.dao.ContactDao
	java:global/jboss-as-wicket-ear-ear/jboss-as-wicket-ear-ejb/ContactDaoBean
	java:app/jboss-as-wicket-ear-ejb/ContactDaoBean
	java:module/ContactDaoBean
23:18:06,041 INFO  [org.jboss.weld.deployer] (MSC service thread 1-8) JBAS016005: Starting Services for CDI deployment: jboss-as-wicket-ear-ear.ear
23:18:06,079 INFO  [org.jboss.weld.Version] (MSC service thread 1-8) WELD-000900 2.0.0 (CR4)
23:18:06,087 INFO  [org.jboss.weld.deployer] (MSC service thread 1-13) JBAS016008: Starting weld service for deployment jboss-as-wicket-ear-ear.ear
23:18:06,142 INFO  [org.jboss.as.jpa] (ServerService Thread Pool  50) JBAS011402: Starting Persistence Unit Service &amp;amp;apos;jboss-as-wicket-ear-ear.ear/jboss-as-wicket-ear-ejb.jar#primary&amp;amp;apos;
23:18:06,187 WARN  [org.jboss.weld.Bootstrap] (MSC service thread 1-13) Legacy deployment metadata provided by the integrator. Certain functionality will not be available.
23:18:06,215 INFO  [org.hibernate.annotations.common.Version] (ServerService Thread Pool  50) HCANN000001: Hibernate Commons Annotations 
{4.0.1.Final}
23:18:06,218 INFO  [org.hibernate.Version] (ServerService Thread Pool  50) HHH000412: Hibernate Core 
{4.2.0.Final}
23:18:06,219 INFO  [org.hibernate.cfg.Environment] (ServerService Thread Pool  50) HHH000206: hibernate.properties not found
23:18:06,220 INFO  [org.hibernate.cfg.Environment] (ServerService Thread Pool  50) HHH000021: Bytecode provider name : javassist
23:18:06,231 INFO  [org.hibernate.ejb.Ejb3Configuration] (ServerService Thread Pool  50) HHH000204: Processing PersistenceUnitInfo [
	name: primary
	...]
23:18:06,324 INFO  [org.hibernate.service.jdbc.connections.internal.ConnectionProviderInitiator] (ServerService Thread Pool  50) HHH000130: Instantiating explicit connection provider: org.hibernate.ejb.connection.InjectedDataSourceConnectionProvider
23:18:06,458 INFO  [org.hibernate.dialect.Dialect] (ServerService Thread Pool  50) HHH000400: Using dialect: org.hibernate.dialect.H2Dialect
23:18:06,461 WARN  [org.hibernate.dialect.H2Dialect] (ServerService Thread Pool  50) HHH000431: Unable to determine H2 database version, certain features may not work
23:18:06,463 INFO  [org.hibernate.engine.jdbc.internal.LobCreatorBuilder] (ServerService Thread Pool  50) HHH000423: Disabling contextual LOB creation as JDBC driver reported JDBC version [3] less than 4
23:18:06,470 INFO  [org.hibernate.engine.transaction.internal.TransactionFactoryInitiator] (ServerService Thread Pool  50) HHH000268: Transaction strategy: org.hibernate.engine.transaction.internal.jta.CMTTransactionFactory
23:18:06,473 INFO  [org.hibernate.hql.internal.ast.ASTQueryTranslatorFactory] (ServerService Thread Pool  50) HHH000397: Using ASTQueryTranslatorFactory
23:18:06,499 INFO  [org.hibernate.validator.internal.util.Version] (ServerService Thread Pool  50) HV000001: Hibernate Validator 4.3.1.Final
23:18:06,678 INFO  [org.hibernate.tool.hbm2ddl.SchemaExport] (ServerService Thread Pool  50) HHH000227: Running hbm2ddl schema export
23:18:06,685 INFO  [org.hibernate.tool.hbm2ddl.SchemaExport] (ServerService Thread Pool  50) HHH000230: Schema export complete
23:18:07,107 INFO  [org.wildfly.extension.undertow] (MSC service thread 1-9) JBAS018210: Register web context: /jboss-as-wicket-ear-war
23:18:07,136 INFO  [org.jboss.as.server] (ServerService Thread Pool  27) JBAS018559: Deployed "jboss-as-wicket-ear-ear.ear" (runtime-name : "jboss-as-wicket-ear-ear.ear")
23:18:07,155 INFO  [org.jboss.as] (Controller Boot Thread) JBAS015961: Http management interface listening on http://127.0.0.1:9990/management
23:18:07,155 INFO  [org.jboss.as] (Controller Boot Thread) JBAS015951: Admin console listening on http://127.0.0.1:9990
23:18:07,155 INFO  [org.jboss.as] (Controller Boot Thread) JBAS015874: WildFly 8.0.0.Alpha1 "WildFly" started in 3081ms - Started 295 of 330 services (63 services are lazy, passive or on-demand)
23:18:30,332 INFO  [org.apache.wicket.util.file.WebXmlFile] (default task-1) web.xml: url mapping found for filter with name Wicket: [/*]
23:18:30,371 WARNING [org.jboss.seam.conversation.spi.SeamConversationContextFactory] (default task-1) No matching SeamConversationContext for store type interface javax.servlet.http.HttpServletRequest, using NOOP instance!
23:18:30,378 WARN  [org.jboss.weld.Bean] (default task-1) WELD-001529 An InjectionTarget implementation is created for a class net.ftlines.wicket.cdi.DetachEventEmitter which does not have any appropriate constructor.
23:18:30,402 INFO  [org.apache.wicket.Application] (default task-1) [Wicket] init: Wicket core library initializer
23:18:30,403 INFO  [org.apache.wicket.RequestListenerInterface] (default task-1) registered listener interface [RequestListenerInterface name=IBehaviorListener, method=public abstract void org.apache.wicket.behavior.IBehaviorListener.onRequest()]
23:18:30,404 INFO  [org.apache.wicket.RequestListenerInterface] (default task-1) registered listener interface [RequestListenerInterface name=IBehaviorListener, method=public abstract void org.apache.wicket.behavior.IBehaviorListener.onRequest()]
23:18:30,404 INFO  [org.apache.wicket.RequestListenerInterface] (default task-1) registered listener interface [RequestListenerInterface name=IFormSubmitListener, method=public abstract void org.apache.wicket.markup.html.form.IFormSubmitListener.onFormSubmitted()]
23:18:30,404 INFO  [org.apache.wicket.RequestListenerInterface] (default task-1) registered listener interface [RequestListenerInterface name=IFormSubmitListener, method=public abstract void org.apache.wicket.markup.html.form.IFormSubmitListener.onFormSubmitted()]
23:18:30,404 INFO  [org.apache.wicket.RequestListenerInterface] (default task-1) registered listener interface [RequestListenerInterface name=ILinkListener, method=public abstract void org.apache.wicket.markup.html.link.ILinkListener.onLinkClicked()]
23:18:30,404 INFO  [org.apache.wicket.RequestListenerInterface] (default task-1) registered listener interface [RequestListenerInterface name=ILinkListener, method=public abstract void org.apache.wicket.markup.html.link.ILinkListener.onLinkClicked()]
23:18:30,404 INFO  [org.apache.wicket.RequestListenerInterface] (default task-1) registered listener interface [RequestListenerInterface name=IOnChangeListener, method=public abstract void org.apache.wicket.markup.html.form.IOnChangeListener.onSelectionChanged()]
23:18:30,405 INFO  [org.apache.wicket.RequestListenerInterface] (default task-1) registered listener interface [RequestListenerInterface name=IOnChangeListener, method=public abstract void org.apache.wicket.markup.html.form.IOnChangeListener.onSelectionChanged()]
23:18:30,405 INFO  [org.apache.wicket.RequestListenerInterface] (default task-1) registered listener interface [RequestListenerInterface name=IRedirectListener, method=public abstract void org.apache.wicket.IRedirectListener.onRedirect()]
23:18:30,405 INFO  [org.apache.wicket.RequestListenerInterface] (default task-1) registered listener interface [RequestListenerInterface name=IRedirectListener, method=public abstract void org.apache.wicket.IRedirectListener.onRedirect()]
23:18:30,405 INFO  [org.apache.wicket.RequestListenerInterface] (default task-1) registered listener interface [RequestListenerInterface name=IResourceListener, method=public abstract void org.apache.wicket.IResourceListener.onResourceRequested()]
23:18:30,405 INFO  [org.apache.wicket.RequestListenerInterface] (default task-1) registered listener interface [RequestListenerInterface name=IResourceListener, method=public abstract void org.apache.wicket.IResourceListener.onResourceRequested()]
23:18:30,407 INFO  [org.apache.wicket.protocol.http.WebApplication] (default task-1) [Wicket] Started Wicket version 1.5.5 in DEVELOPMENT mode
23:18:30,407 ERROR [stderr] (default task-1) ********************************************************************
23:18:30,407 ERROR [stderr] (default task-1) *** WARNING: Wicket is running in DEVELOPMENT mode.              ***
23:18:30,407 ERROR [stderr] (default task-1) ***                               ^^^^^^^^^^^                    ***
23:18:30,407 ERROR [stderr] (default task-1) *** Do NOT deploy to your live server(s) without changing this.  ***
23:18:30,407 ERROR [stderr] (default task-1) *** See Application#getConfigurationType() for more information. ***
23:18:30,408 ERROR [stderr] (default task-1) ********************************************************************
23:18:30,436 WARN  [org.jboss.weld.Bean] (default task-1) WELD-001529 An InjectionTarget implementation is created for a class org.apache.wicket.protocol.http.WebSession which does not have any appropriate constructor.
23:18:30,492 ERROR [org.apache.wicket.DefaultExceptionMapper] (default task-1) Unexpected error occurred: org.apache.wicket.WicketRuntimeException: Can&amp;amp;apos;t instantiate page using constructor &amp;amp;apos;public org.jboss.as.quickstarts.wicketEar.war.pages.ListContacts()&amp;amp;apos;. Might be it doesn&amp;amp;apos;t exist, may be it is not visible (public).
	at org.apache.wicket.session.DefaultPageFactory.newPage(DefaultPageFactory.java:196) [wicket-core-1.5.5.jar:1.5.5]
	at org.apache.wicket.session.DefaultPageFactory.newPage(DefaultPageFactory.java:68) [wicket-core-1.5.5.jar:1.5.5]
	at org.apache.wicket.session.DefaultPageFactory.newPage(DefaultPageFactory.java:47) [wicket-core-1.5.5.jar:1.5.5]
	at org.apache.wicket.DefaultMapperContext.newPageInstance(DefaultMapperContext.java:103) [wicket-core-1.5.5.jar:1.5.5]
	at org.apache.wicket.request.handler.PageProvider.resolvePageInstance(PageProvider.java:264) [wicket-core-1.5.5.jar:1.5.5]
	at org.apache.wicket.request.handler.PageProvider.getPageInstance(PageProvider.java:165) [wicket-core-1.5.5.jar:1.5.5]
	at org.apache.wicket.request.handler.render.PageRenderer.getPage(PageRenderer.java:78) [wicket-core-1.5.5.jar:1.5.5]
	at org.apache.wicket.request.handler.render.WebPageRenderer.renderPage(WebPageRenderer.java:105) [wicket-core-1.5.5.jar:1.5.5]
	at org.apache.wicket.request.handler.render.WebPageRenderer.respond(WebPageRenderer.java:224) [wicket-core-1.5.5.jar:1.5.5]
	at org.apache.wicket.request.handler.RenderPageRequestHandler.respond(RenderPageRequestHandler.java:167) [wicket-core-1.5.5.jar:1.5.5]
	at org.apache.wicket.request.cycle.RequestCycle$HandlerExecutor.respond(RequestCycle.java:781) [wicket-core-1.5.5.jar:1.5.5]
	at org.apache.wicket.request.RequestHandlerStack.execute(RequestHandlerStack.java:64) [wicket-request-1.5.5.jar:1.5.5]
	at org.apache.wicket.request.cycle.RequestCycle.execute(RequestCycle.java:255) [wicket-core-1.5.5.jar:1.5.5]
	at org.apache.wicket.request.cycle.RequestCycle.processRequest(RequestCycle.java:212) [wicket-core-1.5.5.jar:1.5.5]
	at org.apache.wicket.request.cycle.RequestCycle.processRequestAndDetach(RequestCycle.java:283) [wicket-core-1.5.5.jar:1.5.5]
	at org.apache.wicket.protocol.http.WicketFilter.processRequest(WicketFilter.java:185) [wicket-core-1.5.5.jar:1.5.5]
	at org.apache.wicket.protocol.http.WicketFilter.doFilter(WicketFilter.java:241) [wicket-core-1.5.5.jar:1.5.5]
	at io.undertow.servlet.core.ManagedFilter.doFilter(ManagedFilter.java:56) [undertow-servlet-1.0.0.Alpha15.jar:1.0.0.Alpha15]
	at io.undertow.servlet.handlers.FilterHandler$FilterChainImpl.doFilter(FilterHandler.java:132) [undertow-servlet-1.0.0.Alpha15.jar:1.0.0.Alpha15]
	at io.undertow.servlet.handlers.FilterHandler.handleRequest(FilterHandler.java:85) [undertow-servlet-1.0.0.Alpha15.jar:1.0.0.Alpha15]
	at io.undertow.servlet.handlers.security.ServletSecurityRoleHandler.handleRequest(ServletSecurityRoleHandler.java:56) [undertow-servlet-1.0.0.Alpha15.jar:1.0.0.Alpha15]
	at io.undertow.server.HttpHandlers.executeHandler(HttpHandlers.java:46) [undertow-core-1.0.0.Alpha15.jar:1.0.0.Alpha15]
	at io.undertow.servlet.handlers.security.SSLInformationAssociationHandler.handleRequest(SSLInformationAssociationHandler.java:116) [undertow-servlet-1.0.0.Alpha15.jar:1.0.0.Alpha15]
	at io.undertow.servlet.handlers.ServletDispatchingHandler.handleRequest(ServletDispatchingHandler.java:36) [undertow-servlet-1.0.0.Alpha15.jar:1.0.0.Alpha15]
	at org.wildfly.extension.undertow.security.SecurityContextAssociationHandler.handleRequest(SecurityContextAssociationHandler.java:79)
	at io.undertow.security.handlers.AuthenticationCallHandler.handleRequest(AuthenticationCallHandler.java:52) [undertow-core-1.0.0.Alpha15.jar:1.0.0.Alpha15]
	at io.undertow.server.HttpHandlers.executeHandler(HttpHandlers.java:46) [undertow-core-1.0.0.Alpha15.jar:1.0.0.Alpha15]
	at io.undertow.security.handlers.AbstractConfidentialityHandler.handleRequest(AbstractConfidentialityHandler.java:46) [undertow-core-1.0.0.Alpha15.jar:1.0.0.Alpha15]
	at io.undertow.server.HttpHandlers.executeHandler(HttpHandlers.java:46) [undertow-core-1.0.0.Alpha15.jar:1.0.0.Alpha15]
	at io.undertow.servlet.handlers.security.CachedAuthenticatedSessionHandler.handleRequest(CachedAuthenticatedSessionHandler.java:66) [undertow-servlet-1.0.0.Alpha15.jar:1.0.0.Alpha15]
	at io.undertow.server.HttpHandlers.executeHandler(HttpHandlers.java:46) [undertow-core-1.0.0.Alpha15.jar:1.0.0.Alpha15]
	at io.undertow.security.handlers.SecurityInitialHandler.handleRequest(SecurityInitialHandler.java:71) [undertow-core-1.0.0.Alpha15.jar:1.0.0.Alpha15]
	at io.undertow.server.HttpHandlers.executeHandler(HttpHandlers.java:46) [undertow-core-1.0.0.Alpha15.jar:1.0.0.Alpha15]
	at io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:26) [undertow-core-1.0.0.Alpha15.jar:1.0.0.Alpha15]
	at org.wildfly.extension.undertow.security.SecurityContextCreationHandler.handleRequest(SecurityContextCreationHandler.java:56)
	at io.undertow.server.HttpHandlers.executeHandler(HttpHandlers.java:46) [undertow-core-1.0.0.Alpha15.jar:1.0.0.Alpha15]
	at io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:26) [undertow-core-1.0.0.Alpha15.jar:1.0.0.Alpha15]
	at io.undertow.servlet.handlers.ServletInitialHandler.handleFirstRequest(ServletInitialHandler.java:118) [undertow-servlet-1.0.0.Alpha15.jar:1.0.0.Alpha15]
	at io.undertow.servlet.handlers.ServletInitialHandler.dispatchRequest(ServletInitialHandler.java:106) [undertow-servlet-1.0.0.Alpha15.jar:1.0.0.Alpha15]
	at io.undertow.servlet.handlers.ServletInitialHandler.handleRequest(ServletInitialHandler.java:83) [undertow-servlet-1.0.0.Alpha15.jar:1.0.0.Alpha15]
	at io.undertow.server.HttpHandlers.executeRootHandler(HttpHandlers.java:52) [undertow-core-1.0.0.Alpha15.jar:1.0.0.Alpha15]
	at io.undertow.server.HttpServerExchange$1.run(HttpServerExchange.java:544) [undertow-core-1.0.0.Alpha15.jar:1.0.0.Alpha15]
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1145) [rt.jar:1.7.0_21]
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:615) [rt.jar:1.7.0_21]
	at java.lang.Thread.run(Thread.java:722) [rt.jar:1.7.0_21]
Caused by: java.lang.reflect.InvocationTargetException
	at sun.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method) [rt.jar:1.7.0_21]
	at sun.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:57) [rt.jar:1.7.0_21]
	at sun.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45) [rt.jar:1.7.0_21]
	at java.lang.reflect.Constructor.newInstance(Constructor.java:525) [rt.jar:1.7.0_21]
	at org.apache.wicket.session.DefaultPageFactory.newPage(DefaultPageFactory.java:177) [wicket-core-1.5.5.jar:1.5.5]
	... 44 more
Caused by: java.lang.NullPointerException
	at org.jboss.as.weld.services.bootstrap.AbstractResourceInjectionServices$1.createResource(AbstractResourceInjectionServices.java:109) [wildfly-weld-8.0.0.Alpha1.jar:8.0.0.Alpha1]
	at org.jboss.weld.injection.ResourceInjectionPoint.getReference(ResourceInjectionPoint.java:80) [weld-core-2.0.0.CR4.jar:2013-04-21 15:57]
	at org.jboss.weld.injection.ResourceInjectionPoint.inject(ResourceInjectionPoint.java:88) [weld-core-2.0.0.CR4.jar:2013-04-21 15:57]
	at org.jboss.weld.util.Beans.injectEEFields(Beans.java:343) [weld-core-2.0.0.CR4.jar:2013-04-21 15:57]
	at org.jboss.weld.injection.producer.ResourceInjector.inject(ResourceInjector.java:59) [weld-core-2.0.0.CR4.jar:2013-04-21 15:57]
	at org.jboss.weld.injection.producer.DefaultInjector$1.proceed(DefaultInjector.java:66) [weld-core-2.0.0.CR4.jar:2013-04-21 15:57]
	at org.jboss.weld.injection.InjectionContextImpl.run(InjectionContextImpl.java:48) [weld-core-2.0.0.CR4.jar:2013-04-21 15:57]
	at org.jboss.weld.injection.producer.DefaultInjector.inject(DefaultInjector.java:64) [weld-core-2.0.0.CR4.jar:2013-04-21 15:57]
	at org.jboss.weld.injection.producer.BasicInjectionTarget.inject(BasicInjectionTarget.java:91) [weld-core-2.0.0.CR4.jar:2013-04-21 15:57]
	at net.ftlines.wicket.cdi.NonContextual.inject(NonContextual.java:141) [wicket-cdi-1.2.jar:]
	at net.ftlines.wicket.cdi.NonContextualManager.inject(NonContextualManager.java:49) [wicket-cdi-1.2.jar:]
	at net.ftlines.wicket.cdi.AbstractInjector.inject(AbstractInjector.java:38) [wicket-cdi-1.2.jar:]
	at net.ftlines.wicket.cdi.ComponentInjector.onInstantiation(ComponentInjector.java:43) [wicket-cdi-1.2.jar:]
	at org.apache.wicket.application.ComponentInstantiationListenerCollection$1.notify(ComponentInstantiationListenerCollection.java:36) [wicket-core-1.5.5.jar:1.5.5]
	at org.apache.wicket.application.ComponentInstantiationListenerCollection$1.notify(ComponentInstantiationListenerCollection.java:34) [wicket-core-1.5.5.jar:1.5.5]
	at org.apache.wicket.util.listener.ListenerCollection.notify(ListenerCollection.java:80) [wicket-util-1.5.5.jar:1.5.5]
	at org.apache.wicket.application.ComponentInstantiationListenerCollection.onInstantiation(ComponentInstantiationListenerCollection.java:32) [wicket-core-1.5.5.jar:1.5.5]
	at org.apache.wicket.Component.&amp;lt;init&amp;gt;(Component.java:678) [wicket-core-1.5.5.jar:1.5.5]
	at org.apache.wicket.MarkupContainer.&amp;lt;init&amp;gt;(MarkupContainer.java:118) [wicket-core-1.5.5.jar:1.5.5]
	at org.apache.wicket.Page.&amp;lt;init&amp;gt;(Page.java:206) [wicket-core-1.5.5.jar:1.5.5]
	at org.apache.wicket.Page.&amp;lt;init&amp;gt;(Page.java:170) [wicket-core-1.5.5.jar:1.5.5]
	at org.apache.wicket.markup.html.WebPage.&amp;lt;init&amp;gt;(WebPage.java:74) [wicket-core-1.5.5.jar:1.5.5]
	at org.jboss.as.quickstarts.wicketEar.war.pages.ListContacts.&amp;lt;init&amp;gt;(ListContacts.java:46) [classes:]
	... 49 more
23:18:30,506 WARN  [org.jboss.weld.Bean] (default task-1) WELD-001529 An InjectionTarget implementation is created for a class org.apache.wicket.markup.html.pages.ExceptionErrorPage which does not have any appropriate constructor.
23:18:30,518 WARN  [org.jboss.weld.Bean] (default task-1) WELD-001529 An InjectionTarget implementation is created for a class org.apache.wicket.markup.html.basic.MultiLineLabel which does not have any appropriate constructor.
23:18:30,549 WARN  [org.jboss.weld.Bean] (default task-1) WELD-001529 An InjectionTarget implementation is created for a class org.apache.wicket.markup.html.WebMarkupContainer which does not have any appropriate constructor.
23:18:30,552 WARN  [org.jboss.weld.Bean] (default task-1) WELD-001529 An InjectionTarget implementation is created for a class org.apache.wicket.markup.html.basic.Label which does not have any appropriate constructor.
23:18:30,564 ERROR [org.apache.wicket.DefaultExceptionMapper] (default task-1) unexpected exception when handling another exception: Can&amp;amp;apos;t instantiate page using constructor &amp;amp;apos;public org.jboss.as.quickstarts.wicketEar.war.pages.ListContacts()&amp;amp;apos;. Might be it doesn&amp;amp;apos;t exist, may be it is not visible (public).: org.apache.wicket.WicketRuntimeException: Can&amp;amp;apos;t instantiate page using constructor &amp;amp;apos;public org.jboss.as.quickstarts.wicketEar.war.pages.ListContacts()&amp;amp;apos;. Might be it doesn&amp;amp;apos;t exist, may be it is not visible (public).
	at org.apache.wicket.session.DefaultPageFactory.newPage(DefaultPageFactory.java:196) [wicket-core-1.5.5.jar:1.5.5]
	at org.apache.wicket.session.DefaultPageFactory.newPage(DefaultPageFactory.java:68) [wicket-core-1.5.5.jar:1.5.5]
	at org.apache.wicket.session.DefaultPageFactory.newPage(DefaultPageFactory.java:47) [wicket-core-1.5.5.jar:1.5.5]
	at org.apache.wicket.DefaultMapperContext.newPageInstance(DefaultMapperContext.java:103) [wicket-core-1.5.5.jar:1.5.5]
	at org.apache.wicket.request.handler.PageProvider.resolvePageInstance(PageProvider.java:264) [wicket-core-1.5.5.jar:1.5.5]
	at org.apache.wicket.request.handler.PageProvider.getPageInstance(PageProvider.java:165) [wicket-core-1.5.5.jar:1.5.5]
	at org.apache.wicket.request.handler.render.PageRenderer.getPage(PageRenderer.java:78) [wicket-core-1.5.5.jar:1.5.5]
	at org.apache.wicket.request.handler.render.WebPageRenderer.renderPage(WebPageRenderer.java:105) [wicket-core-1.5.5.jar:1.5.5]
	at org.apache.wicket.request.handler.render.WebPageRenderer.respond(WebPageRenderer.java:224) [wicket-core-1.5.5.jar:1.5.5]
	at org.apache.wicket.request.handler.RenderPageRequestHandler.respond(RenderPageRequestHandler.java:167) [wicket-core-1.5.5.jar:1.5.5]
	at org.apache.wicket.request.cycle.RequestCycle$HandlerExecutor.respond(RequestCycle.java:781) [wicket-core-1.5.5.jar:1.5.5]
	at org.apache.wicket.request.RequestHandlerStack.execute(RequestHandlerStack.java:64) [wicket-request-1.5.5.jar:1.5.5]
	at org.apache.wicket.request.cycle.RequestCycle.execute(RequestCycle.java:255) [wicket-core-1.5.5.jar:1.5.5]
	at org.apache.wicket.request.cycle.RequestCycle.processRequest(RequestCycle.java:212) [wicket-core-1.5.5.jar:1.5.5]
	at org.apache.wicket.request.cycle.RequestCycle.processRequestAndDetach(RequestCycle.java:283) [wicket-core-1.5.5.jar:1.5.5]
	at org.apache.wicket.protocol.http.WicketFilter.processRequest(WicketFilter.java:185) [wicket-core-1.5.5.jar:1.5.5]
	at org.apache.wicket.protocol.http.WicketFilter.doFilter(WicketFilter.java:241) [wicket-core-1.5.5.jar:1.5.5]
	at io.undertow.servlet.core.ManagedFilter.doFilter(ManagedFilter.java:56) [undertow-servlet-1.0.0.Alpha15.jar:1.0.0.Alpha15]
	at io.undertow.servlet.handlers.FilterHandler$FilterChainImpl.doFilter(FilterHandler.java:132) [undertow-servlet-1.0.0.Alpha15.jar:1.0.0.Alpha15]
	at io.undertow.servlet.handlers.FilterHandler.handleRequest(FilterHandler.java:85) [undertow-servlet-1.0.0.Alpha15.jar:1.0.0.Alpha15]
	at io.undertow.servlet.handlers.security.ServletSecurityRoleHandler.handleRequest(ServletSecurityRoleHandler.java:56) [undertow-servlet-1.0.0.Alpha15.jar:1.0.0.Alpha15]
	at io.undertow.server.HttpHandlers.executeHandler(HttpHandlers.java:46) [undertow-core-1.0.0.Alpha15.jar:1.0.0.Alpha15]
	at io.undertow.servlet.handlers.security.SSLInformationAssociationHandler.handleRequest(SSLInformationAssociationHandler.java:116) [undertow-servlet-1.0.0.Alpha15.jar:1.0.0.Alpha15]
	at io.undertow.servlet.handlers.ServletDispatchingHandler.handleRequest(ServletDispatchingHandler.java:36) [undertow-servlet-1.0.0.Alpha15.jar:1.0.0.Alpha15]
	at org.wildfly.extension.undertow.security.SecurityContextAssociationHandler.handleRequest(SecurityContextAssociationHandler.java:79)
	at io.undertow.security.handlers.AuthenticationCallHandler.handleRequest(AuthenticationCallHandler.java:52) [undertow-core-1.0.0.Alpha15.jar:1.0.0.Alpha15]
	at io.undertow.server.HttpHandlers.executeHandler(HttpHandlers.java:46) [undertow-core-1.0.0.Alpha15.jar:1.0.0.Alpha15]
	at io.undertow.security.handlers.AbstractConfidentialityHandler.handleRequest(AbstractConfidentialityHandler.java:46) [undertow-core-1.0.0.Alpha15.jar:1.0.0.Alpha15]
	at io.undertow.server.HttpHandlers.executeHandler(HttpHandlers.java:46) [undertow-core-1.0.0.Alpha15.jar:1.0.0.Alpha15]
	at io.undertow.servlet.handlers.security.CachedAuthenticatedSessionHandler.handleRequest(CachedAuthenticatedSessionHandler.java:66) [undertow-servlet-1.0.0.Alpha15.jar:1.0.0.Alpha15]
	at io.undertow.server.HttpHandlers.executeHandler(HttpHandlers.java:46) [undertow-core-1.0.0.Alpha15.jar:1.0.0.Alpha15]
	at io.undertow.security.handlers.SecurityInitialHandler.handleRequest(SecurityInitialHandler.java:71) [undertow-core-1.0.0.Alpha15.jar:1.0.0.Alpha15]
	at io.undertow.server.HttpHandlers.executeHandler(HttpHandlers.java:46) [undertow-core-1.0.0.Alpha15.jar:1.0.0.Alpha15]
	at io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:26) [undertow-core-1.0.0.Alpha15.jar:1.0.0.Alpha15]
	at org.wildfly.extension.undertow.security.SecurityContextCreationHandler.handleRequest(SecurityContextCreationHandler.java:56)
	at io.undertow.server.HttpHandlers.executeHandler(HttpHandlers.java:46) [undertow-core-1.0.0.Alpha15.jar:1.0.0.Alpha15]
	at io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:26) [undertow-core-1.0.0.Alpha15.jar:1.0.0.Alpha15]
	at io.undertow.servlet.handlers.ServletInitialHandler.handleFirstRequest(ServletInitialHandler.java:118) [undertow-servlet-1.0.0.Alpha15.jar:1.0.0.Alpha15]
	at io.undertow.servlet.handlers.ServletInitialHandler.dispatchRequest(ServletInitialHandler.java:106) [undertow-servlet-1.0.0.Alpha15.jar:1.0.0.Alpha15]
	at io.undertow.servlet.handlers.ServletInitialHandler.handleRequest(ServletInitialHandler.java:83) [undertow-servlet-1.0.0.Alpha15.jar:1.0.0.Alpha15]
	at io.undertow.server.HttpHandlers.executeRootHandler(HttpHandlers.java:52) [undertow-core-1.0.0.Alpha15.jar:1.0.0.Alpha15]
	at io.undertow.server.HttpServerExchange$1.run(HttpServerExchange.java:544) [undertow-core-1.0.0.Alpha15.jar:1.0.0.Alpha15]
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1145) [rt.jar:1.7.0_21]
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:615) [rt.jar:1.7.0_21]
	at java.lang.Thread.run(Thread.java:722) [rt.jar:1.7.0_21]
Caused by: java.lang.reflect.InvocationTargetException
	at sun.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method) [rt.jar:1.7.0_21]
	at sun.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:57) [rt.jar:1.7.0_21]
	at sun.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45) [rt.jar:1.7.0_21]
	at java.lang.reflect.Constructor.newInstance(Constructor.java:525) [rt.jar:1.7.0_21]
	at org.apache.wicket.session.DefaultPageFactory.newPage(DefaultPageFactory.java:177) [wicket-core-1.5.5.jar:1.5.5]
	... 44 more
Caused by: java.lang.NullPointerException
	at org.jboss.as.weld.services.bootstrap.AbstractResourceInjectionServices$1.createResource(AbstractResourceInjectionServices.java:109) [wildfly-weld-8.0.0.Alpha1.jar:8.0.0.Alpha1]
	at org.jboss.weld.injection.ResourceInjectionPoint.getReference(ResourceInjectionPoint.java:80) [weld-core-2.0.0.CR4.jar:2013-04-21 15:57]
	at org.jboss.weld.injection.ResourceInjectionPoint.inject(ResourceInjectionPoint.java:88) [weld-core-2.0.0.CR4.jar:2013-04-21 15:57]
	at org.jboss.weld.util.Beans.injectEEFields(Beans.java:343) [weld-core-2.0.0.CR4.jar:2013-04-21 15:57]
	at org.jboss.weld.injection.producer.ResourceInjector.inject(ResourceInjector.java:59) [weld-core-2.0.0.CR4.jar:2013-04-21 15:57]
	at org.jboss.weld.injection.producer.DefaultInjector$1.proceed(DefaultInjector.java:66) [weld-core-2.0.0.CR4.jar:2013-04-21 15:57]
	at org.jboss.weld.injection.InjectionContextImpl.run(InjectionContextImpl.java:48) [weld-core-2.0.0.CR4.jar:2013-04-21 15:57]
	at org.jboss.weld.injection.producer.DefaultInjector.inject(DefaultInjector.java:64) [weld-core-2.0.0.CR4.jar:2013-04-21 15:57]
	at org.jboss.weld.injection.producer.BasicInjectionTarget.inject(BasicInjectionTarget.java:91) [weld-core-2.0.0.CR4.jar:2013-04-21 15:57]
	at net.ftlines.wicket.cdi.NonContextual.inject(NonContextual.java:141) [wicket-cdi-1.2.jar:]
	at net.ftlines.wicket.cdi.NonContextualManager.inject(NonContextualManager.java:49) [wicket-cdi-1.2.jar:]
	at net.ftlines.wicket.cdi.AbstractInjector.inject(AbstractInjector.java:38) [wicket-cdi-1.2.jar:]
	at net.ftlines.wicket.cdi.ComponentInjector.onInstantiation(ComponentInjector.java:43) [wicket-cdi-1.2.jar:]
	at org.apache.wicket.application.ComponentInstantiationListenerCollection$1.notify(ComponentInstantiationListenerCollection.java:36) [wicket-core-1.5.5.jar:1.5.5]
	at org.apache.wicket.application.ComponentInstantiationListenerCollection$1.notify(ComponentInstantiationListenerCollection.java:34) [wicket-core-1.5.5.jar:1.5.5]
	at org.apache.wicket.util.listener.ListenerCollection.notify(ListenerCollection.java:80) [wicket-util-1.5.5.jar:1.5.5]
	at org.apache.wicket.application.ComponentInstantiationListenerCollection.onInstantiation(ComponentInstantiationListenerCollection.java:32) [wicket-core-1.5.5.jar:1.5.5]
	at org.apache.wicket.Component.&amp;lt;init&amp;gt;(Component.java:678) [wicket-core-1.5.5.jar:1.5.5]
	at org.apache.wicket.MarkupContainer.&amp;lt;init&amp;gt;(MarkupContainer.java:118) [wicket-core-1.5.5.jar:1.5.5]
	at org.apache.wicket.Page.&amp;lt;init&amp;gt;(Page.java:206) [wicket-core-1.5.5.jar:1.5.5]
	at org.apache.wicket.Page.&amp;lt;init&amp;gt;(Page.java:170) [wicket-core-1.5.5.jar:1.5.5]
	at org.apache.wicket.markup.html.WebPage.&amp;lt;init&amp;gt;(WebPage.java:74) [wicket-core-1.5.5.jar:1.5.5]
	at org.jboss.as.quickstarts.wicketEar.war.pages.ListContacts.&amp;lt;init&amp;gt;(ListContacts.java:46) [classes:]
	... 49 more
</description>
			<version>8.0.0.Alpha1</version>
			<fixedVersion>8.0.0.Alpha2</fixedVersion>
			<type>Bug</type>
		</buginformation>
		<fixedFiles>
			<file type="M">org.jboss.as.weld.services.bootstrap.AbstractResourceInjectionServices.java</file>
		</fixedFiles>
	</bug>
	<bug id="1393" opendate="2013-05-23 19:35:33" fixdate="2013-05-27 05:00:56" resolution="Done">
		<buginformation>
			<summary>JSTL URI not resolved</summary>
			<description>My JSTL app just stopped working in latest WildFly.  I&amp;amp;apos;m guessing this is due to UNDERTOW Alpha 15.  It works fine with JBossWeb.
To recreate, deploy the attached WAR.  It&amp;amp;apos;s a JSF app, but this particular request doesn&amp;amp;apos;t use JSF.  It just hits a JSP with some JSTL in it.
http://localhost:8080/jsfwithjsp/hellojstl.jsp






15:25:05,608 ERROR [io.undertow.request] (default task-1) Servlet request failed io.undertow.server.HttpServerExchange@2177b8a7: org.apache.jasper.JasperException: JBWEB0




04113: The absolute uri: http://java.sun.com/jsp/jstl/core cannot be resolved in either web.xml or the jar files deployed with this application




        at org.apache.jasper.compiler.DefaultErrorHandler.jspError(DefaultErrorHandler.java:53) [jastow-1.0.0.Alpha2.jar:1.0.0.Alpha2]




        at org.apache.jasper.compiler.ErrorDispatcher.jspError(ErrorDispatcher.java:147) [jastow-1.0.0.Alpha2.jar:1.0.0.Alpha2]




        at org.apache.jasper.compiler.ErrorDispatcher.jspError(ErrorDispatcher.java:88) [jastow-1.0.0.Alpha2.jar:1.0.0.Alpha2]




        at org.apache.jasper.compiler.TagLibraryInfoImpl.generateTLDLocation(TagLibraryInfoImpl.java:206) [jastow-1.0.0.Alpha2.jar:1.0.0.Alpha2]




        at org.apache.jasper.compiler.TagLibraryInfoImpl.&amp;lt;init&amp;gt;(TagLibraryInfoImpl.java:121) [jastow-1.0.0.Alpha2.jar:1.0.0.Alpha2]




        at org.apache.jasper.compiler.Parser.parseTaglibDirective(Parser.java:385) [jastow-1.0.0.Alpha2.jar:1.0.0.Alpha2]




        at org.apache.jasper.compiler.Parser.parseDirective(Parser.java:446) [jastow-1.0.0.Alpha2.jar:1.0.0.Alpha2]




        at org.apache.jasper.compiler.Parser.parseElements(Parser.java:1372) [jastow-1.0.0.Alpha2.jar:1.0.0.Alpha2]




        at org.apache.jasper.compiler.Parser.parse(Parser.java:132) [jastow-1.0.0.Alpha2.jar:1.0.0.Alpha2]




        at org.apache.jasper.compiler.ParserController.doParse(ParserController.java:256) [jastow-1.0.0.Alpha2.jar:1.0.0.Alpha2]




        at org.apache.jasper.compiler.ParserController.parse(ParserController.java:105) [jastow-1.0.0.Alpha2.jar:1.0.0.Alpha2]




        at org.apache.jasper.compiler.Compiler.generateJava(Compiler.java:194) [jastow-1.0.0.Alpha2.jar:1.0.0.Alpha2]




        at org.apache.jasper.compiler.Compiler.compile(Compiler.java:359) [jastow-1.0.0.Alpha2.jar:1.0.0.Alpha2]




        at org.apache.jasper.compiler.Compiler.compile(Compiler.java:339) [jastow-1.0.0.Alpha2.jar:1.0.0.Alpha2]




        at org.apache.jasper.compiler.Compiler.compile(Compiler.java:326) [jastow-1.0.0.Alpha2.jar:1.0.0.Alpha2]




        at org.apache.jasper.JspCompilationContext.compile(JspCompilationContext.java:604) [jastow-1.0.0.Alpha2.jar:1.0.0.Alpha2]




        at org.apache.jasper.servlet.JspServletWrapper.service(JspServletWrapper.java:308) [jastow-1.0.0.Alpha2.jar:1.0.0.Alpha2]




        at org.apache.jasper.servlet.JspServlet.serviceJspFile(JspServlet.java:309) [jastow-1.0.0.Alpha2.jar:1.0.0.Alpha2]




        at org.apache.jasper.servlet.JspServlet.service(JspServlet.java:242) [jastow-1.0.0.Alpha2.jar:1.0.0.Alpha2]




        at javax.servlet.http.HttpServlet.service(HttpServlet.java:790) [jboss-servlet-api_3.1_spec-1.0.0.Alpha1.jar:1.0.0.Alpha1]




        at io.undertow.servlet.handlers.ServletHandler.handleRequest(ServletHandler.java:87) [undertow-servlet-1.0.0.Alpha15.jar:1.0.0.Alpha15]




        at io.undertow.servlet.handlers.FilterHandler$FilterChainImpl.doFilter(FilterHandler.java:130) [undertow-servlet-1.0.0.Alpha15.jar:1.0.0.Alpha15]




        at io.undertow.websockets.jsr.JsrWebSocketFilter.doFilter(JsrWebSocketFilter.java:138) [undertow-websockets-jsr-1.0.0.Alpha15.jar:1.0.0.Alpha15]




        at io.undertow.servlet.core.ManagedFilter.doFilter(ManagedFilter.java:56) [undertow-servlet-1.0.0.Alpha15.jar:1.0.0.Alpha15]




        at io.undertow.servlet.handlers.FilterHandler$FilterChainImpl.doFilter(FilterHandler.java:132) [undertow-servlet-1.0.0.Alpha15.jar:1.0.0.Alpha15]




        at io.undertow.servlet.handlers.FilterHandler.handleRequest(FilterHandler.java:85) [undertow-servlet-1.0.0.Alpha15.jar:1.0.0.Alpha15]




        at io.undertow.servlet.handlers.security.ServletSecurityRoleHandler.handleRequest(ServletSecurityRoleHandler.java:56) [undertow-servlet-1.0.0.Alpha15.jar:1.0.0.Al




pha15]




        at io.undertow.server.HttpHandlers.executeHandler(HttpHandlers.java:46) [undertow-core-1.0.0.Alpha15.jar:1.0.0.Alpha15]




        at io.undertow.servlet.handlers.security.SSLInformationAssociationHandler.handleRequest(SSLInformationAssociationHandler.java:116) [undertow-servlet-1.0.0.Alpha15




.jar:1.0.0.Alpha15]




        at io.undertow.servlet.handlers.ServletDispatchingHandler.handleRequest(ServletDispatchingHandler.java:36) [undertow-servlet-1.0.0.Alpha15.jar:1.0.0.Alpha15]




        at org.wildfly.extension.undertow.security.SecurityContextAssociationHandler.handleRequest(SecurityContextAssociationHandler.java:79)




        at io.undertow.security.handlers.AuthenticationCallHandler.handleRequest(AuthenticationCallHandler.java:52) [undertow-core-1.0.0.Alpha15.jar:1.0.0.Alpha15]




        at io.undertow.server.HttpHandlers.executeHandler(HttpHandlers.java:46) [undertow-core-1.0.0.Alpha15.jar:1.0.0.Alpha15]




        at io.undertow.security.handlers.AbstractConfidentialityHandler.handleRequest(AbstractConfidentialityHandler.java:46) [undertow-core-1.0.0.Alpha15.jar:1.0.0.Alpha




15]




        at io.undertow.server.HttpHandlers.executeHandler(HttpHandlers.java:46) [undertow-core-1.0.0.Alpha15.jar:1.0.0.Alpha15]




        at io.undertow.servlet.handlers.security.CachedAuthenticatedSessionHandler.handleRequest(CachedAuthenticatedSessionHandler.java:66) [undertow-servlet-1.0.0.Alpha1




5.jar:1.0.0.Alpha15]




        at io.undertow.server.HttpHandlers.executeHandler(HttpHandlers.java:46) [undertow-core-1.0.0.Alpha15.jar:1.0.0.Alpha15]




        at io.undertow.security.handlers.SecurityInitialHandler.handleRequest(SecurityInitialHandler.java:71) [undertow-core-1.0.0.Alpha15.jar:1.0.0.Alpha15]




        at io.undertow.server.HttpHandlers.executeHandler(HttpHandlers.java:46) [undertow-core-1.0.0.Alpha15.jar:1.0.0.Alpha15]




        at io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:26) [undertow-core-1.0.0.Alpha15.jar:1.0.0.Alpha15]




        at org.wildfly.extension.undertow.security.SecurityContextCreationHandler.handleRequest(SecurityContextCreationHandler.java:56)




        at io.undertow.server.HttpHandlers.executeHandler(HttpHandlers.java:46) [undertow-core-1.0.0.Alpha15.jar:1.0.0.Alpha15]




        at io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:26) [undertow-core-1.0.0.Alpha15.jar:1.0.0.Alpha15]




        at io.undertow.servlet.handlers.ServletInitialHandler.handleFirstRequest(ServletInitialHandler.java:118) [undertow-servlet-1.0.0.Alpha15.jar:1.0.0.Alpha15]




        at io.undertow.servlet.handlers.ServletInitialHandler.dispatchRequest(ServletInitialHandler.java:106) [undertow-servlet-1.0.0.Alpha15.jar:1.0.0.Alpha15]




        at io.undertow.servlet.handlers.ServletInitialHandler.handleRequest(ServletInitialHandler.java:83) [undertow-servlet-1.0.0.Alpha15.jar:1.0.0.Alpha15]




        at io.undertow.server.HttpHandlers.executeRootHandler(HttpHandlers.java:52) [undertow-core-1.0.0.Alpha15.jar:1.0.0.Alpha15]




        at io.undertow.server.HttpServerExchange$1.run(HttpServerExchange.java:544) [undertow-core-1.0.0.Alpha15.jar:1.0.0.Alpha15]




        at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1145) [rt.jar:1.7.0_15]




        at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:615) [rt.jar:1.7.0_15]




        at java.lang.Thread.run(Thread.java:722) [rt.jar:1.7.0_15]





</description>
			<version>8.0.0.Alpha1</version>
			<fixedVersion>8.0.0.Alpha2</fixedVersion>
			<type>Bug</type>
		</buginformation>
		<fixedFiles>
			<file type="M">org.wildfly.extension.undertow.deployment.UndertowDeploymentProcessor.java</file>
		</fixedFiles>
	</bug>
	<bug id="1289" opendate="2013-04-27 10:54:17" fixdate="2013-05-28 10:06:29" resolution="Duplicate Issue">
		<buginformation>
			<summary>Spurious warnings about invalid META-INF/services class name</summary>
			<description>When an application contains a META-INF/services resource referencing an inner class, JBoss prints a spurious warning






JBAS015893: Encountered invalid class name &amp;amp;apos;com.acme.Foo$Bar&amp;amp;apos; for service type &amp;amp;apos;com.acme.Service&amp;amp;apos;






META-INF/services lists classes with their binary name, so dollar characters are likely to occur.
org.jboss.as.server.deployment.ServiceLoaderProcessor scans all META-INF/services resources but does not accept dollar characters in its validation pattern. 
(Note: I can&amp;amp;apos;t select any 7.x release for "Affects Version".)
</description>
			<version>8.0.0.Alpha1</version>
			<fixedVersion></fixedVersion>
			<type>Bug</type>
		</buginformation>
		<fixedFiles>
			<file type="M">org.jboss.as.server.deployment.ServiceLoaderProcessor.java</file>
			<file type="M">org.jboss.as.server.ServerLogger.java</file>
		</fixedFiles>
		<links>
			<link type="Duplicate" description="duplicates">1401</link>
			<link type="Related" description="relates to">69</link>
		</links>
	</bug>
	<bug id="1401" opendate="2013-05-28 05:36:31" fixdate="2013-05-28 22:55:05" resolution="Done">
		<buginformation>
			<summary>JBAS015893: Encountered invalid class name message when class name is perfectly valid</summary>
			<description>The JVM is much more lenient than java as far as class names are concerned, we should probably just get rid of this message altogether. </description>
			<version>8.0.0.Alpha1</version>
			<fixedVersion>8.0.0.Alpha2</fixedVersion>
			<type>Bug</type>
		</buginformation>
		<fixedFiles>
			<file type="M">org.jboss.as.server.deployment.ServiceLoaderProcessor.java</file>
			<file type="M">org.jboss.as.server.ServerLogger.java</file>
		</fixedFiles>
		<links>
			<link type="Duplicate" description="is duplicated by">1289</link>
			<link type="Related" description="relates to">69</link>
		</links>
	</bug>
	<bug id="1373" opendate="2013-05-22 08:35:14" fixdate="2013-05-29 11:59:25" resolution="Done">
		<buginformation>
			<summary>No JSR 223 script engine found for language "javascript" [Hibernate Validator]</summary>
			<description>The annotation @ScriptAssert of Hibernate Validator doesn&amp;amp;apos;t work anymore. In EAP 6.1.Beta @ScriptAssert works fine and invokes the Javascript engine of Oracle&amp;amp;apos;s JDK, i.e. Rhino. However, in WildFly 8.0.0.Alpha1 I get the stacktrace below.
Example for @ScriptAssert:
@ScriptAssert(lang = "javascript",
	          script = "_this.password != null &amp;amp;&amp;amp; _this.password.equals(_this.passwordWdh)",
	          message = "
{kundenverwaltung.kunde.password.notEqual}
",
	          groups = PasswordGroup.class)
public class Kunde 
{...}

The long stacktrace:
09:25:13,701 ERROR [io.undertow.request] Servlet request failed io.undertow.server.HttpServerExchange@47763a: org.jboss.resteasy.spi.UnhandledException: javax.validation.ValidationException: HV000028: Unexpected exception during isValid call.
	at org.jboss.resteasy.core.ExceptionHandler.handleApplicationException(ExceptionHandler.java:80) [resteasy-jaxrs-3.0-beta-4.jar:]
	at org.jboss.resteasy.core.ExceptionHandler.handleException(ExceptionHandler.java:220) [resteasy-jaxrs-3.0-beta-4.jar:]
	at org.jboss.resteasy.core.SynchronousDispatcher.writeException(SynchronousDispatcher.java:146) [resteasy-jaxrs-3.0-beta-4.jar:]
	at org.jboss.resteasy.core.SynchronousDispatcher.invoke(SynchronousDispatcher.java:351) [resteasy-jaxrs-3.0-beta-4.jar:]
	at org.jboss.resteasy.core.SynchronousDispatcher.invoke(SynchronousDispatcher.java:177) [resteasy-jaxrs-3.0-beta-4.jar:]
	at org.jboss.resteasy.plugins.server.servlet.ServletContainerDispatcher.service(ServletContainerDispatcher.java:208) [resteasy-jaxrs-3.0-beta-4.jar:]
	at org.jboss.resteasy.plugins.server.servlet.HttpServletDispatcher.service(HttpServletDispatcher.java:56) [resteasy-jaxrs-3.0-beta-4.jar:]
	at org.jboss.resteasy.plugins.server.servlet.HttpServletDispatcher.service(HttpServletDispatcher.java:51) [resteasy-jaxrs-3.0-beta-4.jar:]
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:790) [jboss-servlet-api_3.1_spec-1.0.0.Alpha1.jar:1.0.0.Alpha1]
	at io.undertow.servlet.handlers.ServletHandler.handleRequest(ServletHandler.java:87) [undertow-servlet-1.0.0.Alpha15.jar:1.0.0.Alpha15]
	at io.undertow.servlet.handlers.FilterHandler$FilterChainImpl.doFilter(FilterHandler.java:130) [undertow-servlet-1.0.0.Alpha15.jar:1.0.0.Alpha15]
	at io.undertow.websockets.jsr.JsrWebSocketFilter.doFilter(JsrWebSocketFilter.java:138) [undertow-websockets-jsr-1.0.0.Alpha15.jar:1.0.0.Alpha15]
	at io.undertow.servlet.core.ManagedFilter.doFilter(ManagedFilter.java:56) [undertow-servlet-1.0.0.Alpha15.jar:1.0.0.Alpha15]
	at io.undertow.servlet.handlers.FilterHandler$FilterChainImpl.doFilter(FilterHandler.java:132) [undertow-servlet-1.0.0.Alpha15.jar:1.0.0.Alpha15]
	at io.undertow.servlet.handlers.FilterHandler.handleRequest(FilterHandler.java:85) [undertow-servlet-1.0.0.Alpha15.jar:1.0.0.Alpha15]
	at io.undertow.servlet.handlers.security.ServletSecurityRoleHandler.handleRequest(ServletSecurityRoleHandler.java:82) [undertow-servlet-1.0.0.Alpha15.jar:1.0.0.Alpha15]
	at io.undertow.server.HttpHandlers.executeHandler(HttpHandlers.java:46) [undertow-core-1.0.0.Alpha15.jar:1.0.0.Alpha15]
	at io.undertow.servlet.handlers.security.SSLInformationAssociationHandler.handleRequest(SSLInformationAssociationHandler.java:116) [undertow-servlet-1.0.0.Alpha15.jar:1.0.0.Alpha15]
	at io.undertow.servlet.handlers.ServletDispatchingHandler.handleRequest(ServletDispatchingHandler.java:36) [undertow-servlet-1.0.0.Alpha15.jar:1.0.0.Alpha15]
	at org.wildfly.extension.undertow.security.SecurityContextAssociationHandler.handleRequest(SecurityContextAssociationHandler.java:79)
	at io.undertow.security.handlers.AuthenticationCallHandler.handleRequest(AuthenticationCallHandler.java:52) [undertow-core-1.0.0.Alpha15.jar:1.0.0.Alpha15]
	at io.undertow.server.HttpHandlers.executeHandler(HttpHandlers.java:46) [undertow-core-1.0.0.Alpha15.jar:1.0.0.Alpha15]
	at io.undertow.security.handlers.AuthenticationConstraintHandler.handleRequest(AuthenticationConstraintHandler.java:52) [undertow-core-1.0.0.Alpha15.jar:1.0.0.Alpha15]
	at io.undertow.server.HttpHandlers.executeHandler(HttpHandlers.java:46) [undertow-core-1.0.0.Alpha15.jar:1.0.0.Alpha15]
	at io.undertow.security.handlers.AbstractConfidentialityHandler.handleRequest(AbstractConfidentialityHandler.java:46) [undertow-core-1.0.0.Alpha15.jar:1.0.0.Alpha15]
	at io.undertow.server.HttpHandlers.executeHandler(HttpHandlers.java:46) [undertow-core-1.0.0.Alpha15.jar:1.0.0.Alpha15]
	at io.undertow.servlet.handlers.security.ServletSecurityConstraintHandler.handleRequest(ServletSecurityConstraintHandler.java:56) [undertow-servlet-1.0.0.Alpha15.jar:1.0.0.Alpha15]
	at io.undertow.server.HttpHandlers.executeHandler(HttpHandlers.java:46) [undertow-core-1.0.0.Alpha15.jar:1.0.0.Alpha15]
	at io.undertow.security.handlers.AuthenticationMechanismsHandler.handleRequest(AuthenticationMechanismsHandler.java:58) [undertow-core-1.0.0.Alpha15.jar:1.0.0.Alpha15]
	at io.undertow.server.HttpHandlers.executeHandler(HttpHandlers.java:46) [undertow-core-1.0.0.Alpha15.jar:1.0.0.Alpha15]
	at io.undertow.servlet.handlers.security.CachedAuthenticatedSessionHandler.handleRequest(CachedAuthenticatedSessionHandler.java:66) [undertow-servlet-1.0.0.Alpha15.jar:1.0.0.Alpha15]
	at io.undertow.server.HttpHandlers.executeHandler(HttpHandlers.java:46) [undertow-core-1.0.0.Alpha15.jar:1.0.0.Alpha15]
	at io.undertow.security.handlers.SecurityInitialHandler.handleRequest(SecurityInitialHandler.java:71) [undertow-core-1.0.0.Alpha15.jar:1.0.0.Alpha15]
	at io.undertow.server.HttpHandlers.executeHandler(HttpHandlers.java:46) [undertow-core-1.0.0.Alpha15.jar:1.0.0.Alpha15]
	at io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:26) [undertow-core-1.0.0.Alpha15.jar:1.0.0.Alpha15]
	at org.wildfly.extension.undertow.security.SecurityContextCreationHandler.handleRequest(SecurityContextCreationHandler.java:56)
	at io.undertow.server.HttpHandlers.executeHandler(HttpHandlers.java:46) [undertow-core-1.0.0.Alpha15.jar:1.0.0.Alpha15]
	at io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:26) [undertow-core-1.0.0.Alpha15.jar:1.0.0.Alpha15]
	at io.undertow.servlet.handlers.ServletInitialHandler.handleFirstRequest(ServletInitialHandler.java:118) [undertow-servlet-1.0.0.Alpha15.jar:1.0.0.Alpha15]
	at io.undertow.servlet.handlers.ServletInitialHandler.dispatchRequest(ServletInitialHandler.java:106) [undertow-servlet-1.0.0.Alpha15.jar:1.0.0.Alpha15]
	at io.undertow.servlet.handlers.ServletInitialHandler.handleRequest(ServletInitialHandler.java:83) [undertow-servlet-1.0.0.Alpha15.jar:1.0.0.Alpha15]
	at io.undertow.server.HttpHandlers.executeRootHandler(HttpHandlers.java:52) [undertow-core-1.0.0.Alpha15.jar:1.0.0.Alpha15]
	at io.undertow.server.HttpServerExchange$1.run(HttpServerExchange.java:544) [undertow-core-1.0.0.Alpha15.jar:1.0.0.Alpha15]
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1145) [rt.jar:1.7.0_21]
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:615) [rt.jar:1.7.0_21]
	at java.lang.Thread.run(Thread.java:722) [rt.jar:1.7.0_21]
Caused by: javax.validation.ValidationException: HV000028: Unexpected exception during isValid call.
	at org.hibernate.validator.internal.engine.ConstraintTree.validateSingleConstraint(ConstraintTree.java:311) [hibernate-validator-4.3.1.Final.jar:4.3.1.Final]
	at org.hibernate.validator.internal.engine.ConstraintTree.validateConstraints(ConstraintTree.java:180) [hibernate-validator-4.3.1.Final.jar:4.3.1.Final]
	at org.hibernate.validator.internal.engine.ConstraintTree.validateConstraints(ConstraintTree.java:124) [hibernate-validator-4.3.1.Final.jar:4.3.1.Final]
	at org.hibernate.validator.internal.metadata.core.MetaConstraint.validateConstraint(MetaConstraint.java:86) [hibernate-validator-4.3.1.Final.jar:4.3.1.Final]
	at org.hibernate.validator.internal.engine.ValidatorImpl.validateConstraint(ValidatorImpl.java:442) [hibernate-validator-4.3.1.Final.jar:4.3.1.Final]
	at org.hibernate.validator.internal.engine.ValidatorImpl.validateConstraintsForNonDefaultGroup(ValidatorImpl.java:417) [hibernate-validator-4.3.1.Final.jar:4.3.1.Final]
	at org.hibernate.validator.internal.engine.ValidatorImpl.validateConstraintsForCurrentGroup(ValidatorImpl.java:348) [hibernate-validator-4.3.1.Final.jar:4.3.1.Final]
	at org.hibernate.validator.internal.engine.ValidatorImpl.validateInContext(ValidatorImpl.java:303) [hibernate-validator-4.3.1.Final.jar:4.3.1.Final]
	at org.hibernate.validator.internal.engine.ValidatorImpl.validate(ValidatorImpl.java:133) [hibernate-validator-4.3.1.Final.jar:4.3.1.Final]
	at de.shop.kundenverwaltung.service.KundeService.validateKunde(KundeService.java:398) [classes:]
	at de.shop.kundenverwaltung.service.KundeService.createKunde(KundeService.java:375) [classes:]
	at de.shop.kundenverwaltung.service.KundeService$Proxy$_$$_WeldSubclass.createKunde(Unknown Source) [classes:]
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) [rt.jar:1.7.0_21]
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:57) [rt.jar:1.7.0_21]
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) [rt.jar:1.7.0_21]
	at java.lang.reflect.Method.invoke(Method.java:601) [rt.jar:1.7.0_21]
	at org.jboss.weld.interceptor.proxy.SimpleInterceptionChain.interceptorChainCompleted(SimpleInterceptionChain.java:47) [weld-core-2.0.0.CR4.jar:2013-04-21 15:57]
	at org.jboss.weld.interceptor.chain.AbstractInterceptionChain.invokeNextInterceptor(AbstractInterceptionChain.java:80) [weld-core-2.0.0.CR4.jar:2013-04-21 15:57]
	at org.jboss.weld.interceptor.proxy.InterceptorInvocationContext.proceed(InterceptorInvocationContext.java:141) [weld-core-2.0.0.CR4.jar:2013-04-21 15:57]
	at de.shop.util.LogInterceptor.log(LogInterceptor.java:73) [classes:]
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) [rt.jar:1.7.0_21]
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:57) [rt.jar:1.7.0_21]
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) [rt.jar:1.7.0_21]
	at java.lang.reflect.Method.invoke(Method.java:601) [rt.jar:1.7.0_21]
	at org.jboss.weld.interceptor.proxy.SimpleMethodInvocation.invoke(SimpleMethodInvocation.java:30) [weld-core-2.0.0.CR4.jar:2013-04-21 15:57]
	at org.jboss.weld.interceptor.chain.AbstractInterceptionChain.invokeNext(AbstractInterceptionChain.java:93) [weld-core-2.0.0.CR4.jar:2013-04-21 15:57]
	at org.jboss.weld.interceptor.chain.AbstractInterceptionChain.invokeNextInterceptor(AbstractInterceptionChain.java:78) [weld-core-2.0.0.CR4.jar:2013-04-21 15:57]
	at org.jboss.weld.interceptor.proxy.InterceptorMethodHandler.executeInterception(InterceptorMethodHandler.java:48) [weld-core-2.0.0.CR4.jar:2013-04-21 15:57]
	at org.jboss.weld.interceptor.proxy.InterceptorMethodHandler.invoke(InterceptorMethodHandler.java:41) [weld-core-2.0.0.CR4.jar:2013-04-21 15:57]
	at org.jboss.weld.bean.proxy.CombinedInterceptorAndDecoratorStackMethodHandler.invoke(CombinedInterceptorAndDecoratorStackMethodHandler.java:53) [weld-core-2.0.0.CR4.jar:2013-04-21 15:57]
	at de.shop.kundenverwaltung.service.KundeService$Proxy$_$$_WeldSubclass.createKunde(Unknown Source) [classes:]
	at de.shop.kundenverwaltung.rest.KundeResource.createKunde(KundeResource.java:221) [classes:]
	at de.shop.kundenverwaltung.rest.KundeResource$Proxy$_$$_WeldSubclass.createKunde(Unknown Source) [classes:]
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) [rt.jar:1.7.0_21]
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:57) [rt.jar:1.7.0_21]
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) [rt.jar:1.7.0_21]
	at java.lang.reflect.Method.invoke(Method.java:601) [rt.jar:1.7.0_21]
	at org.jboss.weld.interceptor.proxy.SimpleInterceptionChain.interceptorChainCompleted(SimpleInterceptionChain.java:47) [weld-core-2.0.0.CR4.jar:2013-04-21 15:57]
	at org.jboss.weld.interceptor.chain.AbstractInterceptionChain.invokeNextInterceptor(AbstractInterceptionChain.java:80) [weld-core-2.0.0.CR4.jar:2013-04-21 15:57]
	at org.jboss.weld.interceptor.proxy.InterceptorInvocationContext.proceed(InterceptorInvocationContext.java:141) [weld-core-2.0.0.CR4.jar:2013-04-21 15:57]
	at de.shop.util.LogInterceptor.log(LogInterceptor.java:73) [classes:]
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) [rt.jar:1.7.0_21]
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:57) [rt.jar:1.7.0_21]
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) [rt.jar:1.7.0_21]
	at java.lang.reflect.Method.invoke(Method.java:601) [rt.jar:1.7.0_21]
	at org.jboss.weld.interceptor.proxy.SimpleMethodInvocation.invoke(SimpleMethodInvocation.java:30) [weld-core-2.0.0.CR4.jar:2013-04-21 15:57]
	at org.jboss.weld.interceptor.chain.AbstractInterceptionChain.invokeNext(AbstractInterceptionChain.java:93) [weld-core-2.0.0.CR4.jar:2013-04-21 15:57]
	at org.jboss.weld.interceptor.chain.AbstractInterceptionChain.invokeNextInterceptor(AbstractInterceptionChain.java:78) [weld-core-2.0.0.CR4.jar:2013-04-21 15:57]
	at org.jboss.weld.interceptor.proxy.InterceptorInvocationContext.proceed(InterceptorInvocationContext.java:141) [weld-core-2.0.0.CR4.jar:2013-04-21 15:57]
	at de.shop.util.TransactionalInterceptor.manageTransaction(TransactionalInterceptor.java:45) [classes:]
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) [rt.jar:1.7.0_21]
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:57) [rt.jar:1.7.0_21]
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) [rt.jar:1.7.0_21]
	at java.lang.reflect.Method.invoke(Method.java:601) [rt.jar:1.7.0_21]
	at org.jboss.weld.interceptor.proxy.SimpleMethodInvocation.invoke(SimpleMethodInvocation.java:30) [weld-core-2.0.0.CR4.jar:2013-04-21 15:57]
	at org.jboss.weld.interceptor.chain.AbstractInterceptionChain.invokeNext(AbstractInterceptionChain.java:93) [weld-core-2.0.0.CR4.jar:2013-04-21 15:57]
	at org.jboss.weld.interceptor.chain.AbstractInterceptionChain.invokeNextInterceptor(AbstractInterceptionChain.java:78) [weld-core-2.0.0.CR4.jar:2013-04-21 15:57]
	at org.jboss.weld.interceptor.proxy.InterceptorMethodHandler.executeInterception(InterceptorMethodHandler.java:48) [weld-core-2.0.0.CR4.jar:2013-04-21 15:57]
	at org.jboss.weld.interceptor.proxy.InterceptorMethodHandler.invoke(InterceptorMethodHandler.java:41) [weld-core-2.0.0.CR4.jar:2013-04-21 15:57]
	at org.jboss.weld.bean.proxy.CombinedInterceptorAndDecoratorStackMethodHandler.invoke(CombinedInterceptorAndDecoratorStackMethodHandler.java:53) [weld-core-2.0.0.CR4.jar:2013-04-21 15:57]
	at de.shop.kundenverwaltung.rest.KundeResource$Proxy$_$$_WeldSubclass.createKunde(Unknown Source) [classes:]
	at de.shop.kundenverwaltung.rest.KundeResource$Proxy$_$$_WeldClientProxy.createKunde(Unknown Source) [classes:]
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) [rt.jar:1.7.0_21]
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:57) [rt.jar:1.7.0_21]
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) [rt.jar:1.7.0_21]
	at java.lang.reflect.Method.invoke(Method.java:601) [rt.jar:1.7.0_21]
	at org.jboss.resteasy.core.MethodInjectorImpl.invoke(MethodInjectorImpl.java:167) [resteasy-jaxrs-3.0-beta-4.jar:]
	at org.jboss.resteasy.core.ResourceMethod.invokeOnTarget(ResourceMethod.java:344) [resteasy-jaxrs-3.0-beta-4.jar:]
	at org.jboss.resteasy.core.ResourceMethod.invoke(ResourceMethod.java:296) [resteasy-jaxrs-3.0-beta-4.jar:]
	at org.jboss.resteasy.core.ResourceMethod.invoke(ResourceMethod.java:285) [resteasy-jaxrs-3.0-beta-4.jar:]
	at org.jboss.resteasy.core.SynchronousDispatcher.invoke(SynchronousDispatcher.java:336) [resteasy-jaxrs-3.0-beta-4.jar:]
	... 42 more
Caused by: javax.validation.ConstraintDeclarationException: javax.script.ScriptException: No JSR 223 script engine found for language "javascript".
	at org.hibernate.validator.internal.constraintvalidators.ScriptAssertValidator.isValid(ScriptAssertValidator.java:66) [hibernate-validator-4.3.1.Final.jar:4.3.1.Final]
	at org.hibernate.validator.internal.engine.ConstraintTree.validateSingleConstraint(ConstraintTree.java:308) [hibernate-validator-4.3.1.Final.jar:4.3.1.Final]
	... 112 more
Caused by: javax.script.ScriptException: No JSR 223 script engine found for language "javascript".
	at org.hibernate.validator.internal.util.scriptengine.ScriptEvaluatorFactory.createNewScriptEvaluator(ScriptEvaluatorFactory.java:108) [hibernate-validator-4.3.1.Final.jar:4.3.1.Final]
	at org.hibernate.validator.internal.util.scriptengine.ScriptEvaluatorFactory.getScriptEvaluatorByLanguageName(ScriptEvaluatorFactory.java:87) [hibernate-validator-4.3.1.Final.jar:4.3.1.Final]
	at org.hibernate.validator.internal.constraintvalidators.ScriptAssertValidator.isValid(ScriptAssertValidator.java:63) [hibernate-validator-4.3.1.Final.jar:4.3.1.Final]
	... 113 more</description>
			<version>8.0.0.Alpha1</version>
			<fixedVersion>8.0.0.Alpha2</fixedVersion>
			<type>Bug</type>
		</buginformation>
		<fixedFiles>
			<file type="M">org.jboss.as.server.deployment.module.ServerDependenciesProcessor.java</file>
			<file type="M">org.jboss.as.test.integration.beanvalidation.hibernate.scriptassert.ScriptAssertTestCase.java</file>
		</fixedFiles>
	</bug>
	<bug id="1403" opendate="2013-05-28 12:25:54" fixdate="2013-05-29 12:15:17" resolution="Done">
		<buginformation>
			<summary>RolloutPlanTestCase#testMaxFailServersPercentageRolloutPlan incorrectly refers to a rollout plan from different test method</summary>
			<description>The RolloutPlanTestCase#testMaxFailServersPercentageRolloutPlan in the domain mode testsuite contains a bug as it refers to &amp;amp;apos;maxFailOnePlan&amp;amp;apos; plan instead of &amp;amp;apos;maxFailPercPlan&amp;amp;apos;. Hence, if the test methods are not run in alphabetical order they will fail due to this bug.
This has been somewhat fixed by adding an explicit ordering of test methods in that class, but this is a workaround rather than a fix.</description>
			<version>8.0.0.Alpha1</version>
			<fixedVersion>8.0.0.Alpha2</fixedVersion>
			<type>Bug</type>
		</buginformation>
		<fixedFiles>
			<file type="M">org.jboss.as.test.integration.domain.management.cli.RolloutPlanTestCase.java</file>
		</fixedFiles>
	</bug>
	<bug id="1407" opendate="2013-05-29 03:13:13" fixdate="2013-05-30 01:59:31" resolution="Done">
		<buginformation>
			<summary>Correct test methods dependency in EjbMethodInterceptorTestCase</summary>
			<description>org.jboss.as.test.integration.ejb.interceptor.method.EjbMethodInterceptorTestCase failed intermittently due to dependency of test ordering on https://jenkins.mw.lab.eng.bos.redhat.com/hudson/view/EAP6/view/EAP6-AS-Testsuite/job/eap-60-as-testsuite-RHEL-matrix-openJDK7/lastCompletedBuild/jdk=openjdk-1.7.0-local,label_exp=RHEL6%26%26x86_64/testReport/org.jboss.as.test.integration.ejb.interceptor.method/EjbMethodInterceptorTestCase/testMethodLevelInterceptors/ 
In upstream code, its bean fixed by forcing test running in order, however, the real issue behind is that it assumes testMethodLevelInterceptors() run at first which does not contain variable TopSecretInterceptor.called reset to false at beginning like second test method does.
</description>
			<version>8.0.0.Alpha1</version>
			<fixedVersion>8.0.0.Alpha2</fixedVersion>
			<type>Bug</type>
		</buginformation>
		<fixedFiles>
			<file type="M">org.jboss.as.test.integration.ejb.interceptor.method.EjbMethodInterceptorTestCase.java</file>
		</fixedFiles>
	</bug>
	<bug id="1368" opendate="2013-05-21 13:10:43" fixdate="2013-06-01 23:17:43" resolution="Done">
		<buginformation>
			<summary>NumberFormatException in UndertowDeploymentInfoService when war is deployed</summary>
			<description>I compiled WildFly on a Windows box (Win7, x64, JDK 1.7.0_21 32bit). Starting the WildFly appserver without any app works fine.
Next I tried to deploy a war. However, I get the stacktrace below caused by a NumberFormatException.
14:59:29,806 ERROR [org.jboss.msc.service.fail] MSC000001: Failed to start service jboss.undertow.deployment.default-host./shop2.UndertowDeploymentInfoService: org.jboss.msc.service.StartException in service jboss.undertow.deployment.default-host./shop2.UndertowDeploymentInfoService: Failed to start service
	at org.jboss.msc.service.ServiceControllerImpl$StartTask.run(ServiceControllerImpl.java:1930) [jboss-msc-1.1.2.Final.jar:1.1.2.Final]
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1145) [rt.jar:1.7.0_21]
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:615) [rt.jar:1.7.0_21]
	at java.lang.Thread.run(Thread.java:722) [rt.jar:1.7.0_21]
Caused by: java.lang.NumberFormatException: null
	at java.lang.Integer.parseInt(Integer.java:454) [rt.jar:1.7.0_21]
	at java.lang.Integer.parseInt(Integer.java:527) [rt.jar:1.7.0_21]
	at org.wildfly.extension.undertow.deployment.UndertowDeploymentInfoService.createServletConfig(UndertowDeploymentInfoService.java:513)
	at org.wildfly.extension.undertow.deployment.UndertowDeploymentInfoService.start(UndertowDeploymentInfoService.java:200)
	at org.jboss.msc.service.ServiceControllerImpl$StartTask.startService(ServiceControllerImpl.java:1974) [jboss-msc-1.1.2.Final.jar:1.1.2.Final]
	at org.jboss.msc.service.ServiceControllerImpl$StartTask.run(ServiceControllerImpl.java:1907) [jboss-msc-1.1.2.Final.jar:1.1.2.Final]
	... 3 more</description>
			<version>8.0.0.Alpha1</version>
			<fixedVersion>8.0.0.Alpha2</fixedVersion>
			<type>Bug</type>
		</buginformation>
		<fixedFiles>
			<file type="M">org.wildfly.extension.undertow.deployment.UndertowDeploymentInfoService.java</file>
		</fixedFiles>
	</bug>
	<bug id="1402" opendate="2013-05-28 11:55:28" fixdate="2013-06-03 23:23:56" resolution="Done">
		<buginformation>
			<summary>Too Many Dependencies</summary>
			<description>Large app ~ 1000 SLSB gets
Caused by: java.lang.IllegalArgumentException: Too many dependencies specified (max is 16383)
          at org.jboss.msc.service.ServiceBuilderImpl.doAddDependency(ServiceBuilderImpl.java:216) [jboss-msc-1.1.2.Final.jar:1.1.2.Final]
          at org.jboss.msc.service.ServiceBuilderImpl.addDependenciesNoCheck(ServiceBuilderImpl.java:158) [jboss-msc-1.1.2.Final.jar:1.1.2.Final]
          at org.jboss.msc.service.ServiceBuilderImpl.addDependencies(ServiceBuilderImpl.java:152) [jboss-msc-1.1.2.Final.jar:1.1.2.Final]
          at org.jboss.msc.service.ServiceBuilderImpl.addDependencies(ServiceBuilderImpl.java:142) [jboss-msc-1.1.2.Final.jar:1.1.2.Final]
          at org.jboss.as.naming.deployment.JndiNamingDependencyProcessor.deploy(JndiNamingDependencyProcessor.java:59)
          at org.jboss.as.server.deployment.DeploymentUnitPhaseService.start(DeploymentUnitPhaseService.java:159) [wildfly-server-8.0.0.Alpha1.jar:8.0.0.Alpha1]</description>
			<version>8.0.0.Alpha1</version>
			<fixedVersion>8.0.0.Alpha2</fixedVersion>
			<type>Bug</type>
		</buginformation>
		<fixedFiles>
			<file type="M">org.jboss.as.ee.component.deployers.ComponentInstallProcessor.java</file>
		</fixedFiles>
	</bug>
	<bug id="1410" opendate="2013-05-29 09:08:14" fixdate="2013-06-04 08:09:36" resolution="Done">
		<buginformation>
			<summary>Weld EL resolver is not registered in a JSP environment</summary>
			<description>It seems the org.jboss.as.weld.webtier.jsp.JspInitializationListener or some other integration code is not working properly.
See also TCK test:
https://github.com/jboss/cdi-tck/blob/master/impl/src/main/java/org/jboss/cdi/tck/tests/lookup/el/integration/IntegrationWithUnifiedELTest.java</description>
			<version>8.0.0.Alpha1</version>
			<fixedVersion>8.0.0.Alpha2</fixedVersion>
			<type>Bug</type>
		</buginformation>
		<fixedFiles>
			<file type="D">org.jboss.as.weld.webtier.jsp.JspInitializationListener.java</file>
			<file type="M">org.wildfly.extension.undertow.deployment.UndertowDeploymentProcessor.java</file>
			<file type="M">org.jboss.as.weld.deployment.processors.WebIntegrationProcessor.java</file>
		</fixedFiles>
	</bug>
	<bug id="1437" opendate="2013-06-01 17:35:59" fixdate="2013-06-06 18:33:13" resolution="Done">
		<buginformation>
			<summary>Cannot remove JGroups subsystem from managed domain via CLI</summary>
			<description>Osamu Nagano reports:
"Description of problem:
In EAP 6.1 domain mode, try to create a new profile from scratch in CLI.  You can add jgroups subsystem but you cannot remove it with an error message.
In standalone mode and both modes of EAP 6.0.1, you can successfully remove it.
Steps to Reproduce:
1. Start EAP 6.1 in domain mode.  The default domain.xml is sufficient.
2. Connect to the DC by CLI.
3. Execute the following commands in CLI.

[domain@localhost:9999 /] /profile=test:add()
[domain@localhost:9999 /] /profile=test/subsystem=jgroups:add(default-stack=udp)
[domain@localhost:9999 /] /profile=test/subsystem=jgroups:remove()

Actual results:
{
    "outcome" =&amp;gt; "failed",
    "failure-description" =&amp;gt; 
{"domain-failure-description" =&amp;gt; "JBAS014807: Management resource &amp;amp;apos;[(\"subsystem\" =&amp;gt; \"jgroups\")]&amp;amp;apos; not found"}
,
    "rolled-back" =&amp;gt; true
}
Expected results:
{
    "outcome" =&amp;gt; "success",
    "result" =&amp;gt; undefined,
    "server-groups" =&amp;gt; undefined
}
"
I see that the problem exists in WildFly as well.
The problem is in JGroupsSubsystemRemove:
ModelNode removeSubsystem = Util.createOperation(REMOVE, PathAddress.pathAddress(JGroupsExtension.SUBSYSTEM_PATH));
        context.addStep(removeSubsystem, new OriginalSubsystemRemoveHandler(), OperationContext.Stage.MODEL, true);
That PathAddress.pathAddress(JGroupsExtension.SUBSYSTEM_PATH) is incorrect in a managed domain, as it doesn&amp;amp;apos;t include the profile element. It&amp;amp;apos;s correct in a standalone server.
Easy fix.</description>
			<version>8.0.0.Alpha1</version>
			<fixedVersion>8.0.0.Alpha2</fixedVersion>
			<type>Bug</type>
		</buginformation>
		<fixedFiles>
			<file type="M">org.jboss.as.clustering.jgroups.subsystem.JGroupsSubsystemRemove.java</file>
		</fixedFiles>
	</bug>
	<bug id="1448" opendate="2013-06-04 05:02:51" fixdate="2013-06-07 02:04:05" resolution="Done">
		<buginformation>
			<summary>MultipleClientRemoteJndiTestCase and NestedRemoteContextTestCase failed due to NamingException</summary>
			<description>MultipleClientRemoteJndiTestCase and NestedRemoteContextTestCase from EAP 6.1.0 TS fail due to NamingException.
Both tests use hardcoded address like: env.put(Context.PROVIDER_URL, "remote://localhost:4447"); 
When Jenkins configures to use other address, they will failed with NamingException.</description>
			<version>8.0.0.Alpha1</version>
			<fixedVersion>8.0.0.Alpha2</fixedVersion>
			<type>Bug</type>
		</buginformation>
		<fixedFiles>
			<file type="M">org.jboss.as.test.integration.naming.remote.multiple.MyEjbBean.java</file>
			<file type="M">org.jboss.as.test.integration.naming.remote.multiple.RunRmiServlet.java</file>
			<file type="M">org.jboss.as.test.integration.naming.remote.multiple.CallEjbServlet.java</file>
		</fixedFiles>
	</bug>
	<bug id="1431" opendate="2013-05-31 10:01:08" fixdate="2013-06-07 02:05:20" resolution="Done">
		<buginformation>
			<summary>org.jboss.as.test.integration.ejb.interceptor.lifecycle.chains.InterceptorLifecycleSFSBTestCase failed</summary>
			<description>org.jboss.as.test.integration.ejb.interceptor.lifecycle.chains.InterceptorLifecycleSFSBTestCase failed with 






 




java.lang.AssertionError




	at org.junit.Assert.fail(Assert.java:92)




	at org.junit.Assert.assertTrue(Assert.java:43)




	at org.junit.Assert.assertTrue(Assert.java:54)




	at org.jboss.as.test.integration.ejb.interceptor.lifecycle.chains.InterceptorLifecycleSFSBTestCase.testInterceptorPostConstructWithProceed(InterceptorLifecycleSFSBTestCase.java:67)




	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)




	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:57)




	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)




	at java.lang.reflect.Method.invoke(Method.java:601)




	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:45)




	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:15)




	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:42)




	at org.jboss.arquillian.junit.Arquillian$6$1.invoke(Arquillian.java:270)




	at org.jboss.arquillian.container.test.impl.execution.LocalTestExecuter.execute(LocalTestExecuter.java:60)




	at sun.reflect.GeneratedMethodAccessor19.invoke(Unknown Source)




	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)




	at java.lang.reflect.Method.invoke(Method.java:601)




	at org.jboss.arquillian.core.impl.ObserverImpl.invoke(ObserverImpl.java:90)




	at org.jboss.arquillian.core.impl.EventContextImpl.invokeObservers(EventContextImpl.java:99)




	at org.jboss.arquillian.core.impl.EventContextImpl.proceed(EventContextImpl.java:81)




	at org.jboss.arquillian.core.impl.ManagerImpl.fire(ManagerImpl.java:135)




	at org.jboss.arquillian.core.impl.ManagerImpl.fire(ManagerImpl.java:115)




	at org.jboss.arquillian.core.impl.EventImpl.fire(EventImpl.java:67)




	at org.jboss.arquillian.container.test.impl.execution.ContainerTestExecuter.execute(ContainerTestExecuter.java:38)




	at sun.reflect.GeneratedMethodAccessor18.invoke(Unknown Source)




	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)




	at java.lang.reflect.Method.invoke(Method.java:601)




	at org.jboss.arquillian.core.impl.ObserverImpl.invoke(ObserverImpl.java:90)




	at org.jboss.arquillian.core.impl.EventContextImpl.invokeObservers(EventContextImpl.java:99)




	at org.jboss.arquillian.core.impl.EventContextImpl.proceed(EventContextImpl.java:81)




	at org.jboss.arquillian.test.impl.TestContextHandler.createTestContext(TestContextHandler.java:89)




	at sun.reflect.GeneratedMethodAccessor9.invoke(Unknown Source)




	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)




	at java.lang.reflect.Method.invoke(Method.java:601)




	at org.jboss.arquillian.core.impl.ObserverImpl.invoke(ObserverImpl.java:90)




	at org.jboss.arquillian.core.impl.EventContextImpl.proceed(EventContextImpl.java:88)




	at org.jboss.arquillian.test.impl.TestContextHandler.createSuiteContext(TestContextHandler.java:60)




	at sun.reflect.GeneratedMethodAccessor6.invoke(Unknown Source)




	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)




	at java.lang.reflect.Method.invoke(Method.java:601)




	at org.jboss.arquillian.core.impl.ObserverImpl.invoke(ObserverImpl.java:90)




	at org.jboss.arquillian.core.impl.EventContextImpl.proceed(EventContextImpl.java:88)




	at org.jboss.arquillian.test.impl.TestContextHandler.createClassContext(TestContextHandler.java:75)




	at sun.reflect.GeneratedMethodAccessor7.invoke(Unknown Source)




	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)




	at java.lang.reflect.Method.invoke(Method.java:601)




	at org.jboss.arquillian.core.impl.ObserverImpl.invoke(ObserverImpl.java:90)




	at org.jboss.arquillian.core.impl.EventContextImpl.proceed(EventContextImpl.java:88)




	at org.jboss.arquillian.core.impl.ManagerImpl.fire(ManagerImpl.java:135)




	at org.jboss.arquillian.test.impl.EventTestRunnerAdaptor.test(EventTestRunnerAdaptor.java:111)




	at org.jboss.arquillian.junit.Arquillian$6.evaluate(Arquillian.java:263)




	at org.jboss.arquillian.junit.Arquillian$4.evaluate(Arquillian.java:226)




	at org.jboss.arquillian.junit.Arquillian.multiExecute(Arquillian.java:314)




	at org.jboss.arquillian.junit.Arquillian.access$100(Arquillian.java:46)




	at org.jboss.arquillian.junit.Arquillian$5.evaluate(Arquillian.java:240)




	at org.junit.runners.ParentRunner.runLeaf(ParentRunner.java:263)




	at org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:68)




	at org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:47)




	at org.junit.runners.ParentRunner$3.run(ParentRunner.java:231)




	at org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:60)




	at org.junit.runners.ParentRunner.runChildren(ParentRunner.java:229)




	at org.junit.runners.ParentRunner.access$000(ParentRunner.java:50)




	at org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:222)




	at org.jboss.arquillian.junit.Arquillian$2.evaluate(Arquillian.java:185)




	at org.jboss.arquillian.junit.Arquillian.multiExecute(Arquillian.java:314)




	at org.jboss.arquillian.junit.Arquillian.access$100(Arquillian.java:46)




	at org.jboss.arquillian.junit.Arquillian$3.evaluate(Arquillian.java:199)




	at org.junit.runners.ParentRunner.run(ParentRunner.java:300)




	at org.jboss.arquillian.junit.Arquillian.run(Arquillian.java:147)




	at org.junit.runner.JUnitCore.run(JUnitCore.java:157)




	at org.junit.runner.JUnitCore.run(JUnitCore.java:136)




	at org.jboss.arquillian.junit.container.JUnitTestRunner.execute(JUnitTestRunner.java:65)




	at org.jboss.arquillian.protocol.jmx.JMXTestRunner.runTestMethodInternal(JMXTestRunner.java:128)




	at org.jboss.arquillian.protocol.jmx.JMXTestRunner.runTestMethod(JMXTestRunner.java:107)




	at org.jboss.as.arquillian.service.ArquillianService$ExtendedJMXTestRunner.runTestMethod(ArquillianService.java:214)




	at sun.reflect.GeneratedMethodAccessor10.invoke(Unknown Source)




	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)




	at java.lang.reflect.Method.invoke(Method.java:601)




	at com.sun.jmx.mbeanserver.StandardMBeanIntrospector.invokeM2(StandardMBeanIntrospector.java:111)




	at com.sun.jmx.mbeanserver.StandardMBeanIntrospector.invokeM2(StandardMBeanIntrospector.java:45)




	at com.sun.jmx.mbeanserver.MBeanIntrospector.invokeM(MBeanIntrospector.java:235)




	at com.sun.jmx.mbeanserver.PerInterface.invoke(PerInterface.java:138)




	at com.sun.jmx.mbeanserver.MBeanSupport.invoke(MBeanSupport.java:252)




	at com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.invoke(DefaultMBeanServerInterceptor.java:819)




	at com.sun.jmx.mbeanserver.JmxMBeanServer.invoke(JmxMBeanServer.java:792)




	at org.jboss.as.jmx.PluggableMBeanServerImpl$TcclMBeanServer.invoke(PluggableMBeanServerImpl.java:527)




	at org.jboss.as.jmx.PluggableMBeanServerImpl.invoke(PluggableMBeanServerImpl.java:263)




	at org.jboss.remotingjmx.protocol.v2.ServerProxy$InvokeHandler.handle(ServerProxy.java:915)




	at org.jboss.remotingjmx.protocol.v2.ServerCommon$MessageReciever$1.run(ServerCommon.java:152)




	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1145)




	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:615)




	at java.lang.Thread.run(Thread.java:722)





 </description>
			<version>8.0.0.Alpha1</version>
			<fixedVersion>8.0.0.Alpha2</fixedVersion>
			<type>Bug</type>
		</buginformation>
		<fixedFiles>
			<file type="M">org.jboss.as.test.integration.ejb.interceptor.lifecycle.chains.InterceptorLifecycleSFSBTestCase.java</file>
		</fixedFiles>
	</bug>
	<bug id="1379" opendate="2013-05-22 18:01:32" fixdate="2013-06-11 23:49:31" resolution="Done">
		<buginformation>
			<summary>log4j appenders force initialization of the appender/handler on reboot</summary>
			<description>Adding a log4j appender works until the server is rebooted. The difference in the class names, org.apache.log4j.SomeAppender and manually added org.jboss.as.logging.logmanager.Log4jAppenderHandler, results in the handler being reconfigured.
This also hits a bug (LOGMGR-58) in the logmanager where null references are can be retrieved before a full commit is invoked.
Stack trace:






10:53:44,909 ERROR [stderr] (Controller Boot Thread) java.lang.NullPointerException




10:53:44,909 ERROR [stderr] (Controller Boot Thread)    at sun.reflect.GeneratedMethodAccessor5.invoke(Unknown Source)




10:53:44,912 ERROR [stderr] (Controller Boot Thread)    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)




10:53:44,912 ERROR [stderr] (Controller Boot Thread)    at java.lang.reflect.Method.invoke(Method.java:601)




10:53:44,915 ERROR [stderr] (Controller Boot Thread)    at org.jboss.logmanager.config.AbstractPropertyConfiguration$1.applyPostCreate(AbstractPropertyConfiguration.java:218)




10:53:44,915 ERROR [stderr] (Controller Boot Thread)    at org.jboss.logmanager.config.AbstractPropertyConfiguration$1.applyPostCreate(AbstractPropertyConfiguration.java:198)




10:53:44,916 ERROR [stderr] (Controller Boot Thread)    at org.jboss.logmanager.config.LogContextConfigurationImpl.doApplyPostCreate(LogContextConfigurationImpl.java:316)




10:53:44,916 ERROR [stderr] (Controller Boot Thread)    at org.jboss.logmanager.config.LogContextConfigurationImpl.doPrepare(LogContextConfigurationImpl.java:341)




10:53:44,916 ERROR [stderr] (Controller Boot Thread)    at org.jboss.logmanager.config.LogContextConfigurationImpl.prepare(LogContextConfigurationImpl.java:290)




10:53:44,917 ERROR [stderr] (Controller Boot Thread)    at org.jboss.as.logging.logmanager.ConfigurationPersistence.prepare(ConfigurationPersistence.java:282)




10:53:44,917 ERROR [stderr] (Controller Boot Thread)    at org.jboss.as.logging.LoggingOperations$CommitOperationStepHandler.execute(LoggingOperations.java:97)




10:53:44,917 ERROR [stderr] (Controller Boot Thread)    at org.jboss.as.controller.AbstractOperationContext.executeStep(AbstractOperationContext.java:440)




10:53:44,917 ERROR [stderr] (Controller Boot Thread)    at org.jboss.as.controller.AbstractOperationContext.doCompleteStep(AbstractOperationContext.java:322)




10:53:44,918 ERROR [stderr] (Controller Boot Thread)    at org.jboss.as.controller.AbstractOperationContext.completeStepInternal(AbstractOperationContext.java:229)




10:53:44,918 ERROR [stderr] (Controller Boot Thread)    at org.jboss.as.controller.AbstractOperationContext.executeOperation(AbstractOperationContext.java:224)




10:53:44,918 ERROR [stderr] (Controller Boot Thread)    at org.jboss.as.controller.ModelControllerImpl.boot(ModelControllerImpl.java:296)




10:53:44,919 ERROR [stderr] (Controller Boot Thread)    at org.jboss.as.controller.AbstractControllerService.boot(AbstractControllerService.java:226)




10:53:44,919 ERROR [stderr] (Controller Boot Thread)    at org.jboss.as.server.ServerService.boot(ServerService.java:342)




10:53:44,919 ERROR [stderr] (Controller Boot Thread)    at org.jboss.as.server.ServerService.boot(ServerService.java:317)




10:53:44,919 ERROR [stderr] (Controller Boot Thread)    at org.jboss.as.controller.AbstractControllerService$1.run(AbstractControllerService.java:189)




10:53:44,920 ERROR [stderr] (Controller Boot Thread)    at java.lang.Thread.run(Thread.java:722)




10:53:44,920 ERROR [stderr] (Controller Boot Thread) java.lang.NullPointerException




10:53:44,921 ERROR [stderr] (Controller Boot Thread)    at sun.reflect.GeneratedMethodAccessor6.invoke(Unknown Source)




10:53:44,921 ERROR [stderr] (Controller Boot Thread)    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)




10:53:44,922 ERROR [stderr] (Controller Boot Thread)    at java.lang.reflect.Method.invoke(Method.java:601)




10:53:44,922 ERROR [stderr] (Controller Boot Thread)    at org.jboss.logmanager.config.AbstractPropertyConfiguration$1.applyPostCreate(AbstractPropertyConfiguration.java:218)




10:53:44,923 ERROR [stderr] (Controller Boot Thread)    at org.jboss.logmanager.config.AbstractPropertyConfiguration$1.applyPostCreate(AbstractPropertyConfiguration.java:198)




10:53:44,923 ERROR [stderr] (Controller Boot Thread)    at org.jboss.logmanager.config.LogContextConfigurationImpl.doApplyPostCreate(LogContextConfigurationImpl.java:316)




10:53:44,923 ERROR [stderr] (Controller Boot Thread)    at org.jboss.logmanager.config.LogContextConfigurationImpl.doPrepare(LogContextConfigurationImpl.java:341)




10:53:44,924 ERROR [stderr] (Controller Boot Thread)    at org.jboss.logmanager.config.LogContextConfigurationImpl.prepare(LogContextConfigurationImpl.java:290)




10:53:44,925 ERROR [stderr] (Controller Boot Thread)    at org.jboss.as.logging.logmanager.ConfigurationPersistence.prepare(ConfigurationPersistence.java:282)




10:53:44,925 ERROR [stderr] (Controller Boot Thread)    at org.jboss.as.logging.LoggingOperations$CommitOperationStepHandler.execute(LoggingOperations.java:97)




10:53:44,926 ERROR [stderr] (Controller Boot Thread)    at org.jboss.as.controller.AbstractOperationContext.executeStep(AbstractOperationContext.java:440)




10:53:44,926 ERROR [stderr] (Controller Boot Thread)    at org.jboss.as.controller.AbstractOperationContext.doCompleteStep(AbstractOperationContext.java:322)




10:53:44,926 ERROR [stderr] (Controller Boot Thread)    at org.jboss.as.controller.AbstractOperationContext.completeStepInternal(AbstractOperationContext.java:229)




10:53:44,927 ERROR [stderr] (Controller Boot Thread)    at org.jboss.as.controller.AbstractOperationContext.executeOperation(AbstractOperationContext.java:224)




10:53:44,927 ERROR [stderr] (Controller Boot Thread)    at org.jboss.as.controller.ModelControllerImpl.boot(ModelControllerImpl.java:296)




10:53:44,928 ERROR [stderr] (Controller Boot Thread)    at org.jboss.as.controller.AbstractControllerService.boot(AbstractControllerService.java:226)




10:53:44,928 ERROR [stderr] (Controller Boot Thread)    at org.jboss.as.server.ServerService.boot(ServerService.java:342)




10:53:44,928 ERROR [stderr] (Controller Boot Thread)    at org.jboss.as.server.ServerService.boot(ServerService.java:317)




10:53:44,929 ERROR [stderr] (Controller Boot Thread)    at org.jboss.as.controller.AbstractControllerService$1.run(AbstractControllerService.java:189)




10:53:44,929 ERROR [stderr] (Controller Boot Thread)    at java.lang.Thread.run(Thread.java:722)




10:53:44,930 ERROR [stderr] (Controller Boot Thread) java.lang.NullPointerException




10:53:44,931 ERROR [stderr] (Controller Boot Thread)    at sun.reflect.GeneratedMethodAccessor7.invoke(Unknown Source)




10:53:44,931 ERROR [stderr] (Controller Boot Thread)    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)




10:53:44,931 ERROR [stderr] (Controller Boot Thread)    at java.lang.reflect.Method.invoke(Method.java:601)




10:53:44,932 ERROR [stderr] (Controller Boot Thread)    at org.jboss.logmanager.config.AbstractPropertyConfiguration$1.applyPostCreate(AbstractPropertyConfiguration.java:218)




10:53:44,932 ERROR [stderr] (Controller Boot Thread)    at org.jboss.logmanager.config.AbstractPropertyConfiguration$1.applyPostCreate(AbstractPropertyConfiguration.java:198)




10:53:44,933 ERROR [stderr] (Controller Boot Thread)    at org.jboss.logmanager.config.LogContextConfigurationImpl.doApplyPostCreate(LogContextConfigurationImpl.java:316)




10:53:44,933 ERROR [stderr] (Controller Boot Thread)    at org.jboss.logmanager.config.LogContextConfigurationImpl.doPrepare(LogContextConfigurationImpl.java:341)




10:53:44,933 ERROR [stderr] (Controller Boot Thread)    at org.jboss.logmanager.config.LogContextConfigurationImpl.prepare(LogContextConfigurationImpl.java:290)




10:53:44,934 ERROR [stderr] (Controller Boot Thread)    at org.jboss.as.logging.logmanager.ConfigurationPersistence.prepare(ConfigurationPersistence.java:282)




10:53:44,934 ERROR [stderr] (Controller Boot Thread)    at org.jboss.as.logging.LoggingOperations$CommitOperationStepHandler.execute(LoggingOperations.java:97)




10:53:44,934 ERROR [stderr] (Controller Boot Thread)    at org.jboss.as.controller.AbstractOperationContext.executeStep(AbstractOperationContext.java:440)




10:53:44,935 ERROR [stderr] (Controller Boot Thread)    at org.jboss.as.controller.AbstractOperationContext.doCompleteStep(AbstractOperationContext.java:322)




10:53:44,935 ERROR [stderr] (Controller Boot Thread)    at org.jboss.as.controller.AbstractOperationContext.completeStepInternal(AbstractOperationContext.java:229)




10:53:44,936 ERROR [stderr] (Controller Boot Thread)    at org.jboss.as.controller.AbstractOperationContext.executeOperation(AbstractOperationContext.java:224)




10:53:44,936 ERROR [stderr] (Controller Boot Thread)    at org.jboss.as.controller.ModelControllerImpl.boot(ModelControllerImpl.java:296)




10:53:44,937 ERROR [stderr] (Controller Boot Thread)    at org.jboss.as.controller.AbstractControllerService.boot(AbstractControllerService.java:226)




10:53:44,937 ERROR [stderr] (Controller Boot Thread)    at org.jboss.as.server.ServerService.boot(ServerService.java:342)




10:53:44,937 ERROR [stderr] (Controller Boot Thread)    at org.jboss.as.server.ServerService.boot(ServerService.java:317)




10:53:44,938 ERROR [stderr] (Controller Boot Thread)    at org.jboss.as.controller.AbstractControllerService$1.run(AbstractControllerService.java:189)




10:53:44,938 ERROR [stderr] (Controller Boot Thread)    at java.lang.Thread.run(Thread.java:722)





</description>
			<version>8.0.0.Alpha1</version>
			<fixedVersion>8.0.0.Alpha2</fixedVersion>
			<type>Bug</type>
		</buginformation>
		<fixedFiles>
			<file type="M">org.jboss.as.test.integration.logging.operations.Log4jCustomHandlerTestCase.java</file>
			<file type="M">org.jboss.as.logging.HandlerOperations.java</file>
		</fixedFiles>
		<links>
			<link type="Related" description="relates to">58</link>
		</links>
	</bug>
	<bug id="1506" opendate="2013-06-12 16:35:57" fixdate="2013-06-13 12:38:09" resolution="Done">
		<buginformation>
			<summary>Fix PooledEJBLifecycleTestCase.tesMDB and the whole testcase in general</summary>
			<description>We have been seeing the PooledEJBLifecycleTestCase fail frequently. The testMDB() is the recent one:






java.lang.AssertionError: Wrong postCreate calls count expected:&amp;lt;0&amp;gt; but was:&amp;lt;1&amp;gt;




    at org.junit.Assert.fail(Assert.java:88)




    at org.junit.Assert.failNotEquals(Assert.java:743)




    at org.junit.Assert.assertEquals(Assert.java:118)




    at org.junit.Assert.assertEquals(Assert.java:555)




    at org.jboss.as.test.integration.ejb.pool.lifecycle.PooledEJBLifecycleTestCase.testMDB(PooledEJBLifecycleTestCase.java:142)




    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)




    at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:57)




    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)




    at java.lang.reflect.Method.invoke(Method.java:601)




    at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:47)




    at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)




    at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:44)




    at org.jboss.arquillian.junit.Arquillian$6$1.invoke(Arquillian.java:270)




    at org.jboss.arquillian.container.test.impl.execution.LocalTestExecuter.execute(LocalTestExecuter.java:60)




    at sun.reflect.GeneratedMethodAccessor35.invoke(Unknown Source)




    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)




    at java.lang.reflect.Method.invoke(Method.java:601)




    at org.jboss.arquillian.core.impl.ObserverImpl.invoke(ObserverImpl.java:94)




    at org.jboss.arquillian.core.impl.EventContextImpl.invokeObservers(EventContextImpl.java:99)




    at org.jboss.arquillian.core.impl.EventContextImpl.proceed(EventContextImpl.java:81)




    at org.jboss.arquillian.core.impl.ManagerImpl.fire(ManagerImpl.java:135)




    at org.jboss.arquillian.core.impl.ManagerImpl.fire(ManagerImpl.java:115)




    at org.jboss.arquillian.core.impl.EventImpl.fire(EventImpl.java:67)




    at org.jboss.arquillian.container.test.impl.execution.ContainerTestExecuter.execute(ContainerTestExecuter.java:38)




    at sun.reflect.GeneratedMethodAccessor34.invoke(Unknown Source)




    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)




    at java.lang.reflect.Method.invoke(Method.java:601)




    at org.jboss.arquillian.core.impl.ObserverImpl.invoke(ObserverImpl.java:94)




    at org.jboss.arquillian.core.impl.EventContextImpl.invokeObservers(EventContextImpl.java:99)




    at org.jboss.arquillian.core.impl.EventContextImpl.proceed(EventContextImpl.java:81)




    at org.jboss.arquillian.test.impl.TestContextHandler.createTestContext(TestContextHandler.java:89)




    at sun.reflect.GeneratedMethodAccessor11.invoke(Unknown Source)




    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43






Entire logs attached.</description>
			<version>8.0.0.Alpha1</version>
			<fixedVersion>8.0.0.Alpha2</fixedVersion>
			<type>Bug</type>
		</buginformation>
		<fixedFiles>
			<file type="M">org.jboss.as.test.integration.ejb.pool.lifecycle.LifecycleCounterMDB.java</file>
			<file type="D">org.jboss.as.test.integration.ejb.pool.lifecycle.LifecycleCounterSLSB.java</file>
			<file type="D">org.jboss.as.test.integration.ejb.pool.lifecycle.LifecycleCounter.java</file>
			<file type="D">org.jboss.as.test.integration.ejb.pool.lifecycle.LifecycleCounterBean.java</file>
			<file type="M">org.jboss.as.test.integration.ejb.pool.lifecycle.PooledEJBLifecycleTestCase.java</file>
		</fixedFiles>
		<links>
			<link type="Related" description="relates to">1513</link>
		</links>
	</bug>
	<bug id="1485" opendate="2013-06-09 17:20:55" fixdate="2013-06-14 11:26:25" resolution="Done">
		<buginformation>
			<summary>org.wildfly.clustering.web.infinispan.CacheMutatorTestCase failing</summary>
			<description>-------------------------------------------------------------------------------
Test set: org.wildfly.clustering.web.infinispan.CacheMutatorTestCase
-------------------------------------------------------------------------------
Tests run: 2, Failures: 0, Errors: 1, Skipped: 0, Time elapsed: 0.054 sec &amp;lt;&amp;lt;&amp;lt; FAILURE!
isMutable(org.wildfly.clustering.web.infinispan.CacheMutatorTestCase)  Time elapsed: 0.034 sec  &amp;lt;&amp;lt;&amp;lt; ERROR!
java.lang.IllegalArgumentException
        at java.util.Currency.getInstance(Currency.java:361)
        at org.wildfly.clustering.web.infinispan.CacheMutatorTestCase.isMutable(CacheMutatorTestCase.java:71)
        assertFalse(CacheMutator.isMutable(Currency.getInstance(Locale.getDefault())));
The default locale can be defined by different things. In my case default locale is &amp;amp;apos;en&amp;amp;apos;.
Currency.getInstance does not like this Locale as this seems not to be linked to a country.
I think it&amp;amp;apos;s better to use a defined Locale here like Locale.GERMANY.</description>
			<version>8.0.0.Alpha2</version>
			<fixedVersion>8.0.0.Alpha2</fixedVersion>
			<type>Bug</type>
		</buginformation>
		<fixedFiles>
			<file type="M">org.wildfly.clustering.web.infinispan.CacheMutatorTestCase.java</file>
		</fixedFiles>
	</bug>
	<bug id="1514" opendate="2013-06-13 07:09:42" fixdate="2013-06-14 11:28:04" resolution="Done">
		<buginformation>
			<summary>SessionManager.createSession(...) throws NPE if existence check triggers session expiration</summary>
			<description>The following exception has been noticed in the logs in an intermittently failing testcase (org.jboss.as.test.clustering.cluster.web.expiration.FineSessionExpirationTestCase(SYNC-tcp).test): 






Caused by: java.lang.NullPointerException




    at org.wildfly.clustering.web.infinispan.session.fine.FineSessionFactory.createImmutableSession(FineSessionFactory.java:80)




    at org.wildfly.clustering.web.infinispan.session.fine.FineSessionFactory.createImmutableSession(FineSessionFactory.java:52)




    at org.wildfly.clustering.web.infinispan.session.InfinispanSessionManager.removed(InfinispanSessionManager.java:253)




    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) [rt.jar:1.7.0_17]




    at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:57) [rt.jar:1.7.0_17]




    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) [rt.jar:1.7.0_17]




    at java.lang.reflect.Method.invoke(Method.java:601) [rt.jar:1.7.0_17]




    at org.infinispan.notifications.AbstractListenerImpl$ListenerInvocation$1.run(AbstractListenerImpl.java:213)




    ... 107 more






Entire logs of the failure have been attached to the JIRA.</description>
			<version>8.0.0.Alpha1</version>
			<fixedVersion>8.0.0.Alpha2</fixedVersion>
			<type>Bug</type>
		</buginformation>
		<fixedFiles>
			<file type="M">org.wildfly.clustering.web.undertow.session.SessionManagerFacadeTestCase.java</file>
			<file type="M">org.wildfly.clustering.web.undertow.session.SessionManagerFacade.java</file>
		</fixedFiles>
	</bug>
	<bug id="1512" opendate="2013-06-12 22:07:11" fixdate="2013-06-17 11:38:38" resolution="Done">
		<buginformation>
			<summary>jboss-cli.sh throws NPE in batch mode with certain commands</summary>
			<description>When the jboss-cli.sh (and by extension, the CommandContext API in java) is given certain commands while not connected to the client, an unhandled NPE is thrown from org.jboss.as.cli.handlers.GenericTypeOperationHandler.getOperationDescription(GenericTypeOperationHandler.java:886)
Certain other commands succeed: 
[disconnected / #] /subsystem=datasources/jdbc-driver=ibmdb2:add(driver-name=ibmdb2,driver-module-name=com.ibm.db2)
#1 /subsystem=datasources/jdbc-driver=ibmdb2:add(driver-name=ibmdb2,driver-module-name=com.ibm.db2)
The line in question is here, in org.jboss.as.cli.handlers.GenericTypeOperationHandler:
result = ctx.getModelControllerClient().execute(request);
At the time of this call, the client field of the context is null; therefore, calling the execute method results in this NPE. This code is not hit with the /subsystem command because of some logic I see in CommandContextImpl.</description>
			<version>8.0.0.Alpha2</version>
			<fixedVersion>8.0.0.Alpha2</fixedVersion>
			<type>Bug</type>
		</buginformation>
		<fixedFiles>
			<file type="M">org.jboss.as.cli.handlers.GenericTypeOperationHandler.java</file>
		</fixedFiles>
	</bug>
	<bug id="1362" opendate="2013-05-17 11:56:13" fixdate="2013-06-17 11:43:53" resolution="Done">
		<buginformation>
			<summary>javax.transaction.xa.XAException thrown when using JTS transactions</summary>
			<description>When running the quick start ejb-multi-server example with JTS transactions the following exception is thrown:






11:21:01,462 ERROR [stderr] (RequestProcessor-5) javax.transaction.xa.XAException




11:21:01,462 ERROR [stderr] (RequestProcessor-5)     at com.arjuna.ats.internal.jta.transaction.jts.jca.XATerminatorImple.recover(XATerminatorImple.java:238)




11:21:01,462 ERROR [stderr] (RequestProcessor-5)     at org.jboss.as.ejb3.remote.protocol.versionone.XidTransactionManagementTask.tryRecoveryForImportedTransaction(XidTransactionManagementTask.java:109)




11:21:01,463 ERROR [stderr] (RequestProcessor-5)     at org.jboss.as.ejb3.remote.protocol.versionone.XidTransactionCommitTask.manageTransaction(XidTransactionCommitTask.java:62)




11:21:01,463 ERROR [stderr] (RequestProcessor-5)     at org.jboss.as.ejb3.remote.protocol.versionone.XidTransactionManagementTask.run(XidTransactionManagementTask.java:68)




11:21:01,463 ERROR [stderr] (RequestProcessor-5)     at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:471)




11:21:01,463 ERROR [stderr] (RequestProcessor-5)     at java.util.concurrent.FutureTask$Sync.innerRun(FutureTask.java:334)




11:21:01,463 ERROR [stderr] (RequestProcessor-5)     at java.util.concurrent.FutureTask.run(FutureTask.java:166)




11:21:01,464 ERROR [stderr] (RequestProcessor-5)     at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1145)




11:21:01,464 ERROR [stderr] (RequestProcessor-5)     at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:615)




11:21:01,464 ERROR [stderr] (RequestProcessor-5)     at java.lang.Thread.run(Thread.java:722)




11:21:01,464 ERROR [stderr] (RequestProcessor-5)     at org.jboss.threads.JBossThread.run(JBossThread.java:122)




11:21:01,464 ERROR [stderr] (RequestProcessor-5)     at ...asynchronous invocation...(Unknown Source)




11:21:01,465 ERROR [stderr] (RequestProcessor-5)     at org.jboss.ejb.client.remoting.InvocationExceptionResponseHandler$MethodInvocationExceptionResultProducer.getResult(InvocationExceptionResponseHandler.java:99)




11:21:01,465 ERROR [stderr] (RequestProcessor-5)     at org.jboss.ejb.client.remoting.RemotingConnectionEJBReceiver.sendCommit(RemotingConnectionEJBReceiver.java:327)




11:21:01,465 ERROR [stderr] (RequestProcessor-5)     at org.jboss.ejb.client.EJBClientManagedTransactionContext$ResourceImpl.commit(EJBClientManagedTransactionContext.java:239)




11:21:01,465 ERROR [stderr] (RequestProcessor-5)     at com.arjuna.ats.internal.jta.resources.jts.orbspecific.XAResourceRecord.commit(XAResourceRecord.java:455)




11:21:01,465 ERROR [stderr] (RequestProcessor-5)     at com.arjuna.ArjunaOTS.OTSAbstractRecordPOA._invoke(OTSAbstractRecordPOA.java:201)




11:21:01,466 ERROR [stderr] (RequestProcessor-5)     at org.jacorb.poa.RequestProcessor.invokeOperation(RequestProcessor.java:306)




11:21:01,466 ERROR [stderr] (RequestProcessor-5)     at org.jacorb.poa.RequestProcessor.process(RequestProcessor.java:626)




11:21:01,466 ERROR [stderr] (RequestProcessor-5)     at org.jacorb.poa.RequestProcessor.run(RequestProcessor.java:769)




11:21:01,467 WARN  [com.arjuna.ats.jtax] (RequestProcessor-5) ARJUNA024023: XAResourceRecord.commit caused an XA error: XAException.XAER_PROTO from resource ResourceImpl{transactionKey=0:ffffc0a80164:316a9a9d:5196046f:1a, ejbClientContext=org.jboss.ejb.client.EJBClientContext@216695c0, nodeName=&amp;amp;apos;master:app-oneB&amp;amp;apos;, state=null} in transaction &amp;lt; 131072, 30, 36, 0000000000-1-1-64-88110049106-102-9981-1064111000264849, 303030303030303030302929-34-583113079136-72-69111-7634141303030567879303030303030 &amp;gt;: javax.transaction.xa.XAException




    at com.arjuna.ats.internal.jta.transaction.jts.jca.XATerminatorImple.recover(XATerminatorImple.java:238) [jbossjts-jacorb-4.17.4.Final-redhat-2.jar:4.17.4.Final-redhat-2]




    at org.jboss.as.ejb3.remote.protocol.versionone.XidTransactionManagementTask.tryRecoveryForImportedTransaction(XidTransactionManagementTask.java:109)




    at org.jboss.as.ejb3.remote.protocol.versionone.XidTransactionCommitTask.manageTransaction(XidTransactionCommitTask.java:62)




    at org.jboss.as.ejb3.remote.protocol.versionone.XidTransactionManagementTask.run(XidTransactionManagementTask.java:68)




    at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:471) [rt.jar:1.7.0_21]




    at java.util.concurrent.FutureTask$Sync.innerRun(FutureTask.java:334) [rt.jar:1.7.0_21]




    at java.util.concurrent.FutureTask.run(FutureTask.java:166) [rt.jar:1.7.0_21]




    at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1145) [rt.jar:1.7.0_21]




    at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:615) [rt.jar:1.7.0_21]




    at java.lang.Thread.run(Thread.java:722) [rt.jar:1.7.0_21]




    at org.jboss.threads.JBossThread.run(JBossThread.java:122)




    at ...asynchronous invocation...(Unknown Source)




    at org.jboss.ejb.client.remoting.InvocationExceptionResponseHandler$MethodInvocationExceptionResultProducer.getResult(InvocationExceptionResponseHandler.java:99)




    at org.jboss.ejb.client.remoting.RemotingConnectionEJBReceiver.sendCommit(RemotingConnectionEJBReceiver.java:327)




    at org.jboss.ejb.client.EJBClientManagedTransactionContext$ResourceImpl.commit(EJBClientManagedTransactionContext.java:239)




    at com.arjuna.ats.internal.jta.resources.jts.orbspecific.XAResourceRecord.commit(XAResourceRecord.java:455) [jbossjts-jacorb-4.17.4.Final-redhat-2.jar:4.17.4.Final-redhat-2]




    at com.arjuna.ArjunaOTS.OTSAbstractRecordPOA._invoke(OTSAbstractRecordPOA.java:201) [jbossjts-jacorb-4.17.4.Final-redhat-2.jar:4.17.4.Final-redhat-2]




    at org.jacorb.poa.RequestProcessor.invokeOperation(RequestProcessor.java:306) [jacorb-2.3.2-redhat-4.jar:2.3.2-redhat-4]




    at org.jacorb.poa.RequestProcessor.process(RequestProcessor.java:626) [jacorb-2.3.2-redhat-4.jar:2.3.2-redhat-4]




    at org.jacorb.poa.RequestProcessor.run(RequestProcessor.java:769) [jacorb-2.3.2-redhat-4.jar:2.3.2-redhat-4]





</description>
			<version>8.0.0.Alpha1</version>
			<fixedVersion>8.0.0.Alpha2</fixedVersion>
			<type>Bug</type>
		</buginformation>
		<fixedFiles>
			<file type="M">org.jboss.as.ejb3.remote.protocol.versionone.XidTransactionManagementTask.java</file>
		</fixedFiles>
	</bug>
	<bug id="1449" opendate="2013-06-04 06:51:15" fixdate="2013-06-17 11:46:56" resolution="Done">
		<buginformation>
			<summary>NullPointerException while adding CacheFactory through EJB3 subsystem</summary>
			<description>A user has reported a NPE while adding the cache through the management operation in EJB3 subsystem. Please see the referenced forum thread for details</description>
			<version>8.0.0.Alpha1</version>
			<fixedVersion>8.0.0.Alpha2</fixedVersion>
			<type>Bug</type>
		</buginformation>
		<fixedFiles>
			<file type="M">org.jboss.as.appclient.subsystem.AppClientSubsystemAdd.java</file>
			<file type="M">org.jboss.as.ejb3.subsystem.CacheFactoryAdd.java</file>
		</fixedFiles>
	</bug>
	<bug id="1508" opendate="2013-06-12 16:57:59" fixdate="2013-06-17 18:15:40" resolution="Done">
		<buginformation>
			<summary>Transformer builders should not check for rejected operation attributes for the &amp;apos;remove&amp;apos; operation</summary>
			<description>I came across this while working on WFLY-456 (audit logging) that PR will test for this
The problem is the audit log transformers for jmx are set up to reject if the &amp;amp;apos;enabled&amp;amp;apos; attribute is undefined.
When issuing a &amp;amp;apos;remove&amp;amp;apos; it then looks in the operation for the &amp;amp;apos;enabled&amp;amp;apos; attribute which fails since the operation does not contain that attribute, it is simply:






{




    "operation" =&amp;gt; "remove",




    "address" =&amp;gt; [




        ("subsystem" =&amp;gt; "jmx"),




        ("configuration" =&amp;gt; "audit-log")




    ]




}






The same is true for &amp;amp;apos;read-attribute&amp;amp;apos;</description>
			<version>8.0.0.Alpha1</version>
			<fixedVersion>8.0.0.Alpha2</fixedVersion>
			<type>Bug</type>
		</buginformation>
		<fixedFiles>
			<file type="M">org.jboss.as.controller.transform.description.AttributeTransformationRule.java</file>
		</fixedFiles>
	</bug>
	<bug id="1545" opendate="2013-06-17 20:48:35" fixdate="2013-06-18 14:32:52" resolution="Done">
		<buginformation>
			<summary>UndertowDeploymentService.stop() occasionally results in ISE due to missing dependency</summary>
			<description>We&amp;amp;apos;ve seen intermittent failures in GenericCommandTestCase.testAddDeploymentScannerCommand, with this detail:
Note that https://github.com/wildfly/wildfly/pull/4659 may cover over this problem, but the underlying cause should be determined.
Stacktrace
java.lang.AssertionError
	at org.junit.Assert.fail(Assert.java:86)
	at org.junit.Assert.assertTrue(Assert.java:41)
	at org.junit.Assert.assertTrue(Assert.java:52)
	at org.jboss.as.test.integration.management.cli.GenericCommandTestCase.testAddDeploymentScannerCommand(GenericCommandTestCase.java:122)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:57)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:601)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:47)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:44)
	at org.jboss.arquillian.junit.Arquillian$6$1.invoke(Arquillian.java:270)
	at org.jboss.arquillian.container.test.impl.execution.LocalTestExecuter.execute(LocalTestExecuter.java:60)
	at sun.reflect.GeneratedMethodAccessor13.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:601)
	at org.jboss.arquillian.core.impl.ObserverImpl.invoke(ObserverImpl.java:94)
	at org.jboss.arquillian.core.impl.EventContextImpl.invokeObservers(EventContextImpl.java:99)
	at org.jboss.arquillian.core.impl.EventContextImpl.proceed(EventContextImpl.java:81)
	at org.jboss.arquillian.core.impl.ManagerImpl.fire(ManagerImpl.java:135)
	at org.jboss.arquillian.core.impl.ManagerImpl.fire(ManagerImpl.java:115)
	at org.jboss.arquillian.core.impl.EventImpl.fire(EventImpl.java:67)
	at org.jboss.arquillian.container.test.impl.execution.ClientTestExecuter.execute(ClientTestExecuter.java:53)
	at sun.reflect.GeneratedMethodAccessor9.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:601)
	at org.jboss.arquillian.core.impl.ObserverImpl.invoke(ObserverImpl.java:94)
	at org.jboss.arquillian.core.impl.EventContextImpl.invokeObservers(EventContextImpl.java:99)
	at org.jboss.arquillian.core.impl.EventContextImpl.proceed(EventContextImpl.java:81)
	at org.jboss.arquillian.container.test.impl.client.ContainerEventController.createContext(ContainerEventController.java:142)
	at org.jboss.arquillian.container.test.impl.client.ContainerEventController.createTestContext(ContainerEventController.java:129)
	at sun.reflect.GeneratedMethodAccessor8.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:601)
	at org.jboss.arquillian.core.impl.ObserverImpl.invoke(ObserverImpl.java:94)
	at org.jboss.arquillian.core.impl.EventContextImpl.proceed(EventContextImpl.java:88)
	at org.jboss.arquillian.test.impl.TestContextHandler.createClassContext(TestContextHandler.java:75)
	at sun.reflect.GeneratedMethodAccessor2.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:601)
	at org.jboss.arquillian.core.impl.ObserverImpl.invoke(ObserverImpl.java:94)
	at org.jboss.arquillian.core.impl.EventContextImpl.proceed(EventContextImpl.java:88)
	at org.jboss.arquillian.test.impl.TestContextHandler.createSuiteContext(TestContextHandler.java:60)
	at sun.reflect.GeneratedMethodAccessor1.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:601)
	at org.jboss.arquillian.core.impl.ObserverImpl.invoke(ObserverImpl.java:94)
	at org.jboss.arquillian.core.impl.EventContextImpl.proceed(EventContextImpl.java:88)
	at org.jboss.arquillian.test.impl.TestContextHandler.createTestContext(TestContextHandler.java:89)
	at sun.reflect.GeneratedMethodAccessor3.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:601)
	at org.jboss.arquillian.core.impl.ObserverImpl.invoke(ObserverImpl.java:94)
	at org.jboss.arquillian.core.impl.EventContextImpl.proceed(EventContextImpl.java:88)
	at org.jboss.arquillian.core.impl.ManagerImpl.fire(ManagerImpl.java:135)
	at org.jboss.arquillian.test.impl.EventTestRunnerAdaptor.test(EventTestRunnerAdaptor.java:111)
	at org.jboss.arquillian.junit.Arquillian$6.evaluate(Arquillian.java:263)
	at org.jboss.arquillian.junit.Arquillian$4.evaluate(Arquillian.java:226)
	at org.jboss.arquillian.junit.Arquillian.multiExecute(Arquillian.java:314)
	at org.jboss.arquillian.junit.Arquillian.access$100(Arquillian.java:46)
	at org.jboss.arquillian.junit.Arquillian$5.evaluate(Arquillian.java:240)
	at org.junit.runners.ParentRunner.runLeaf(ParentRunner.java:271)
	at org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:70)
	at org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:50)
	at org.junit.runners.ParentRunner$3.run(ParentRunner.java:238)
	at org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:63)
	at org.junit.runners.ParentRunner.runChildren(ParentRunner.java:236)
	at org.junit.runners.ParentRunner.access$000(ParentRunner.java:53)
	at org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:229)
	at org.jboss.arquillian.junit.Arquillian$2.evaluate(Arquillian.java:185)
	at org.jboss.arquillian.junit.Arquillian.multiExecute(Arquillian.java:314)
	at org.jboss.arquillian.junit.Arquillian.access$100(Arquillian.java:46)
	at org.jboss.arquillian.junit.Arquillian$3.evaluate(Arquillian.java:199)
	at org.junit.runners.ParentRunner.run(ParentRunner.java:309)
	at org.jboss.arquillian.junit.Arquillian.run(Arquillian.java:147)
	at org.apache.maven.surefire.junit4.JUnit4Provider.execute(JUnit4Provider.java:234)
	at org.apache.maven.surefire.junit4.JUnit4Provider.executeTestSet(JUnit4Provider.java:133)
	at org.apache.maven.surefire.junit4.JUnit4Provider.invoke(JUnit4Provider.java:114)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:57)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:601)
	at org.apache.maven.surefire.util.ReflectionUtils.invokeMethodWithArray(ReflectionUtils.java:188)
	at org.apache.maven.surefire.booter.ProviderFactory$ProviderProxy.invoke(ProviderFactory.java:166)
	at org.apache.maven.surefire.booter.ProviderFactory.invokeProvider(ProviderFactory.java:86)
	at org.apache.maven.surefire.booter.ForkedBooter.runSuitesInProcess(ForkedBooter.java:101)
	at org.apache.maven.surefire.booter.ForkedBooter.main(ForkedBooter.java:74)
Standard Output
[0m04:53:34,151 INFO  [org.jboss.as.repository] (management-handler-thread - 3) JBAS014900: Content added at location /home/jenkins/jenkins-work/workspace/wildfly-master-testsuite-ip6/testsuite/integration/basic/target/jbossas/standalone/data/content/fc/c60e47790d9fa613d8ed4e9e8aa7e1ae40da4b/content
[0m[0m04:53:34,155 INFO  [org.jboss.as.server.deployment] (MSC service thread 1-2) JBAS015876: Starting deployment of "dummy.jar" (runtime-name: "dummy.jar")
[0m[33m04:53:34,175 WARN  [org.jboss.as.dependency.private] (MSC service thread 1-4) JBAS018567: Deployment "deployment.dummy.jar" is using a private module ("org.wildfly.security.manager:main") which may be changed or removed in future versions without notice.
[0m[0m04:53:34,181 INFO  [org.jboss.as.arquillian] (MSC service thread 1-6) Arquillian deployment detected: ArquillianConfig[service=jboss.arquillian.config."dummy.jar",unit=dummy.jar,tests=[org.jboss.as.test.integration.management.cli.GenericCommandTestCase]]
[0m[0m04:53:34,201 INFO  [org.jboss.as.server] (management-handler-thread - 3) JBAS018559: Deployed "dummy.jar" (runtime-name : "dummy.jar")
[0m[0m04:53:34,341 INFO  [org.jboss.as.server.deployment.scanner] (MSC service thread 1-1) JBAS015012: Started FileSystemDeploymentService for directory /tmp/tempDeployment
[0m04:53:34,385 INFO  [org.jboss.as.cli.CommandContext] (main) process-state reload-required 
[0m04:53:34,388 INFO  [org.jboss.as.server.deployment] (MSC service thread 1-3) JBAS015876: Starting deployment of "SimpleServlet.war" (runtime-name: "SimpleServlet.war")
[0m[0m04:53:34,461 INFO  [org.wildfly.extension.undertow] (MSC service thread 1-1) JBAS018210: Register web context: /SimpleServlet
[0m[0m04:53:34,496 INFO  [org.jboss.as.server] (DeploymentScanner-threads - 2) JBAS018559: Deployed "SimpleServlet.war" (runtime-name : "SimpleServlet.war")
[0m04:53:37,430 INFO  [org.jboss.as.cli.CommandContext] (main) process-state reload-required 
04:53:37,437 ERROR [org.jboss.as.cli.CommandContext] (main) {
    "outcome" =&amp;gt; "failed",
    "failure-description" =&amp;gt; "JBAS014807: Management resource &amp;amp;apos;[
    (\"subsystem\" =&amp;gt; \"deployment-scanner\"),
    (\"scanner\" =&amp;gt; \"testScanner\")
]&amp;amp;apos; not found",
    "rolled-back" =&amp;gt; true,
    "response-headers" =&amp;gt; 
{"process-state" =&amp;gt; "reload-required"}
}
[33m04:53:37,467 WARN  [org.jboss.msc.service.fail] (MSC service thread 1-5) MSC000004: Failure during stop of service jboss.undertow.deployment.default-host./SimpleServlet: java.lang.IllegalStateException
	at org.jboss.msc.value.InjectedValue.getValue(InjectedValue.java:47) [jboss-msc-1.1.2.Final.jar:1.1.2.Final]
	at org.jboss.as.connector.deployers.ra.processors.CachedConnectionManagerSetupProcessor$CachedConnectionManagerSetupAction.setup(CachedConnectionManagerSetupProcessor.java:95)
	at org.wildfly.extension.undertow.deployment.UndertowDeploymentInfoService$1.setup(UndertowDeploymentInfoService.java:220)
	at io.undertow.servlet.core.CompositeThreadSetupAction.setup(CompositeThreadSetupAction.java:42)
	at io.undertow.servlet.core.DeploymentManagerImpl.stop(DeploymentManagerImpl.java:409)
	at org.wildfly.extension.undertow.deployment.UndertowDeploymentService.stop(UndertowDeploymentService.java:90)
	at org.jboss.msc.service.ServiceControllerImpl$StopTask.stopService(ServiceControllerImpl.java:2082) [jboss-msc-1.1.2.Final.jar:1.1.2.Final]
	at org.jboss.msc.service.ServiceControllerImpl$StopTask.run(ServiceControllerImpl.java:2043) [jboss-msc-1.1.2.Final.jar:1.1.2.Final]
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1145) [rt.jar:1.7.0_13]
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:615) [rt.jar:1.7.0_13]
	at java.lang.Thread.run(Thread.java:722) [rt.jar:1.7.0_13]
[0m[0m04:53:37,484 INFO  [org.jboss.as.server.deployment] (MSC service thread 1-2) JBAS015877: Stopped deployment SimpleServlet.war (runtime-name: SimpleServlet.war) in 18ms
[0m[0m04:53:37,499 INFO  [org.jboss.as.server] (management-handler-thread - 2) JBAS018558: Undeployed "SimpleServlet.war" (runtime-name: "SimpleServlet.war")
[0m</description>
			<version>8.0.0.Alpha1</version>
			<fixedVersion>8.0.0.Alpha2</fixedVersion>
			<type>Bug</type>
		</buginformation>
		<fixedFiles>
			<file type="M">org.jboss.as.connector.deployers.ra.processors.CachedConnectionManagerSetupProcessor.java</file>
			<file type="M">org.wildfly.extension.undertow.deployment.UndertowDeploymentProcessor.java</file>
		</fixedFiles>
	</bug>
	<bug id="1484" opendate="2013-06-09 16:45:49" fixdate="2013-06-18 15:47:18" resolution="Done">
		<buginformation>
			<summary>WF8/Undertow: JBAS014788: Unexpected attribute &amp;apos;security-realm&amp;apos; encountered?</summary>
			<description>Undertow-Subsystem throws
Caused by: javax.xml.stream.XMLStreamException: ParseError at [row,col]:[402,17]
Message: JBAS014788: Unexpected attribute &amp;amp;apos;security-realm&amp;amp;apos; encountered
after latest update.
But my standalone.xml file has not changed and wildfly-undertow_1_0.xsd also not at this point.</description>
			<version>8.0.0.Alpha2</version>
			<fixedVersion>8.0.0.Alpha2</fixedVersion>
			<type>Bug</type>
		</buginformation>
		<fixedFiles>
			<file type="M">org.wildfly.extension.undertow.UndertowSubsystemParser_1_0.java</file>
		</fixedFiles>
	</bug>
	<bug id="1543" opendate="2013-06-17 10:51:25" fixdate="2013-06-20 18:34:33" resolution="Done">
		<buginformation>
			<summary>ear.EnterpriseArchiveTestCase fails intermittently</summary>
			<description>The ear.EnterpriseArchiveTestCase is intermittently failing on TeamCity. The exception looks like:






Caused by: java.lang.Exception: {"JBAS014671: Failed services" =&amp;gt; {"jboss.deployment.subunit.\"war-structure.ear\".\"war-structure-bundle.war\".Activate" =&amp;gt; "org.jboss.msc.service.StartException in service jboss.deployment.subunit.\"war-structure.ear\".\"war-structure-bundle.war\".Activate: Failed to start service




    Caused by: org.jboss.osgi.deployment.interceptor.LifecycleInterceptorException: JBAS017345: Timeout context service activation: service jboss.undertow.deployment.default-host./war-structure-bundle




    Caused by: java.util.concurrent.TimeoutException: JBAS017345: Timeout context service activation: service jboss.undertow.deployment.default-host./war-structure-bundle"}}




    at org.jboss.as.controller.client.helpers.standalone.impl.ServerDeploymentPlanResultFuture.getActionResult(ServerDeploymentPlanResultFuture.java:134)




    at org.jboss.as.controller.client.helpers.standalone.impl.ServerDeploymentPlanResultFuture.getResultFromNode(ServerDeploymentPlanResultFuture.java:123)




    at org.jboss.as.controller.client.helpers.standalone.impl.ServerDeploymentPlanResultFuture.get(ServerDeploymentPlanResultFuture.java:85)




    at org.jboss.as.controller.client.helpers.standalone.impl.ServerDeploymentPlanResultFuture.get(ServerDeploymentPlanResultFuture.java:42)




    at org.jboss.as.controller.client.helpers.standalone.ServerDeploymentHelper.deploy(ServerDeploymentHelper.java:55)




    at org.jboss.as.arquillian.container.ArchiveDeployer.deployInternal(ArchiveDeployer.java:77)




    ... 88 more






The entire log file is attached to this JIRA. The test runs for this test can be found here http://teamcity.cafe-babe.org/project.html?projectId=project2&amp;amp;testNameId=-6445855124052176769&amp;amp;tab=testDetails</description>
			<version>8.0.0.Alpha1</version>
			<fixedVersion>8.0.0.Alpha2</fixedVersion>
			<type>Bug</type>
		</buginformation>
		<fixedFiles>
			<file type="M">org.wildfly.extension.undertow.deployment.UndertowDeploymentService.java</file>
			<file type="M">org.jboss.as.osgi.web.WebContextLifecycleInterceptor.java</file>
		</fixedFiles>
	</bug>
	<bug id="1531" opendate="2013-06-14 12:55:36" fixdate="2013-06-21 12:26:28" resolution="Done">
		<buginformation>
			<summary>NullPointerException in InfinispanRegionFactory.applyConfiguration</summary>
			<description>An intermittent test failure on TeamCity has shown a NPE in the logs:






06:53:52,011 ERROR [org.jboss.msc.service.fail] (ServerService Thread Pool -- 56) MSC000001: Failed to start service jboss.persistenceunit."stateful.war#mypc": org.jboss.msc.service.StartException in service jboss.persistenceunit."stateful.war#mypc": org.hibernate.service.spi.ServiceException: Unable to create requested service [org.hibernate.engine.spi.CacheImplementor]




    at org.jboss.as.jpa.service.PersistenceUnitServiceImpl$1.run(PersistenceUnitServiceImpl.java:112) [wildfly-jpa-8.0.0.Alpha2-SNAPSHOT.jar:8.0.0.Alpha2-SNAPSHOT]




    at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1145) [rt.jar:1.7.0_15]




    at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:615) [rt.jar:1.7.0_15]




    at java.lang.Thread.run(Thread.java:722) [rt.jar:1.7.0_15]




    at org.jboss.threads.JBossThread.run(JBossThread.java:122) [jboss-threads-2.1.0.Final.jar:2.1.0.Final]




Caused by: org.hibernate.service.spi.ServiceException: Unable to create requested service [org.hibernate.engine.spi.CacheImplementor]




    at org.hibernate.service.internal.AbstractServiceRegistryImpl.createService(AbstractServiceRegistryImpl.java:186)




    at org.hibernate.service.internal.AbstractServiceRegistryImpl.initializeService(AbstractServiceRegistryImpl.java:150)




    at org.hibernate.service.internal.AbstractServiceRegistryImpl.getService(AbstractServiceRegistryImpl.java:131)




    at org.hibernate.internal.SessionFactoryImpl.&amp;lt;init&amp;gt;(SessionFactoryImpl.java:270)




    at org.hibernate.cfg.Configuration.buildSessionFactory(Configuration.java:1816)




    at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl$4.perform(EntityManagerFactoryBuilderImpl.java:844)




    at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl$4.perform(EntityManagerFactoryBuilderImpl.java:836)




    at org.hibernate.boot.registry.classloading.internal.ClassLoaderServiceImpl.withTccl(ClassLoaderServiceImpl.java:368)




    at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:835)




    at org.hibernate.jpa.HibernatePersistenceProvider.createContainerEntityManagerFactory(HibernatePersistenceProvider.java:142)




    at org.jboss.as.jpa.service.PersistenceUnitServiceImpl.createContainerEntityManagerFactory(PersistenceUnitServiceImpl.java:214) [wildfly-jpa-8.0.0.Alpha2-SNAPSHOT.jar:8.0.0.Alpha2-SNAPSHOT]




    at org.jboss.as.jpa.service.PersistenceUnitServiceImpl.access$800(PersistenceUnitServiceImpl.java:59) [wildfly-jpa-8.0.0.Alpha2-SNAPSHOT.jar:8.0.0.Alpha2-SNAPSHOT]




    at org.jboss.as.jpa.service.PersistenceUnitServiceImpl$1.run(PersistenceUnitServiceImpl.java:108) [wildfly-jpa-8.0.0.Alpha2-SNAPSHOT.jar:8.0.0.Alpha2-SNAPSHOT]




    ... 4 more




Caused by: org.hibernate.cache.CacheException: Unable to start region factory




    at org.hibernate.cache.infinispan.InfinispanRegionFactory.start(InfinispanRegionFactory.java:340)




    at org.hibernate.internal.CacheImpl.&amp;lt;init&amp;gt;(CacheImpl.java:70)




    at org.hibernate.engine.spi.CacheInitiator.initiateService(CacheInitiator.java:40)




    at org.hibernate.engine.spi.CacheInitiator.initiateService(CacheInitiator.java:35)




    at org.hibernate.service.internal.SessionFactoryServiceRegistryImpl.initiateService(SessionFactoryServiceRegistryImpl.java:91)




    at org.hibernate.service.internal.AbstractServiceRegistryImpl.createService(AbstractServiceRegistryImpl.java:176)




    ... 16 more




Caused by: java.lang.NullPointerException




    at org.hibernate.cache.infinispan.InfinispanRegionFactory.applyConfiguration(InfinispanRegionFactory.java:574)




    at org.hibernate.cache.infinispan.InfinispanRegionFactory.defineGenericDataTypeCacheConfigurations(InfinispanRegionFactory.java:512)




    at org.hibernate.cache.infinispan.InfinispanRegionFactory.start(InfinispanRegionFactory.java:333)




    ... 21 more






Complete test run here teamcity.cafe-babe.org/viewLog.html?buildId=5251&amp;amp;tab=buildResultsDiv&amp;amp;buildTypeId=bt27#testNameId7970967843579505173</description>
			<version>8.0.0.Alpha1</version>
			<fixedVersion>8.0.0.Alpha2</fixedVersion>
			<type>Bug</type>
		</buginformation>
		<fixedFiles>
			<file type="M">org.jboss.as.jpa.processor.PersistenceUnitServiceHandler.java</file>
			<file type="M">org.jboss.as.jpa.processor.JPADependencyProcessor.java</file>
		</fixedFiles>
	</bug>
	<bug id="1517" opendate="2013-06-13 10:57:27" fixdate="2013-06-21 21:21:56" resolution="Done">
		<buginformation>
			<summary>regression: using a ResourceAdaptor (rar) which has properties that use primitives as arguments will fail to deploy</summary>
			<description>org.jboss.as.connector.util.Injection.java:159
    protected Method findMethod(Class&amp;lt;?&amp;gt; clz, String methodName, String propertyType) {
        while (!clz.equals(Object.class)) {
            List&amp;lt;Method&amp;gt; hits = null;
            Method[] methods = clz.getDeclaredMethods();
            for (int i = 0; i &amp;lt; methods.length; i++) {
                Method method = methods[i];
                if (methodName.equals(method.getName()) &amp;amp;&amp;amp; method.getParameterTypes().length == 1) {
                    if (propertyType == null || propertyType.equals(method.getParameterTypes()[0].getName())) {
the above is not taking primitives into account.
Example, the IBM IMS connector ims1132.rar has:
&amp;lt;config-property&amp;gt;
  &amp;lt;config-property-name&amp;gt;enableHASupport&amp;lt;/config-property-name&amp;gt;
  &amp;lt;config-property-type&amp;gt;java.lang.Boolean&amp;lt;/config-property-type&amp;gt;
  &amp;lt;config-property-value&amp;gt;true&amp;lt;/config-property-value&amp;gt;
&amp;lt;/config-property&amp;gt;
and the method:
public void setEnableHASupport(boolean isHAEnabled)
Our "FindMethod" will find this method but will fail to select it as it compares "java.lang.Boolean" with "boolean"</description>
			<version>8.0.0.Alpha1</version>
			<fixedVersion>8.0.0.Alpha2</fixedVersion>
			<type>Bug</type>
		</buginformation>
		<fixedFiles>
			<file type="M">org.jboss.as.connector.util.Injection.java</file>
		</fixedFiles>
	</bug>
	<bug id="1532" opendate="2013-06-14 14:05:35" fixdate="2013-06-22 03:55:50" resolution="Done">
		<buginformation>
			<summary>RemoteCallWhileShuttingDownTestCase.testServerShutdownRemoteCall fails intermittently</summary>
			<description>RemoteCallWhileShuttingDownTestCase.testServerShutdownRemoteCall is failing intermittently on TeamCity (and possibly other environments). The stacktrace looks like:






javax.ejb.EJBException: java.io.IOException: Channel Channel ID 997a34b0 (outbound) of Remoting connection 0190b512 to /127.0.0.1:4447 has been closed




    at org.jboss.ejb.client.EJBInvocationHandler.doInvoke(EJBInvocationHandler.java:236)




    at org.jboss.ejb.client.EJBInvocationHandler.doInvoke(EJBInvocationHandler.java:181)




    at org.jboss.ejb.client.EJBInvocationHandler.invoke(EJBInvocationHandler.java:144)




    at sun.proxy.$Proxy20.testDone(Unknown Source)




    at org.jboss.as.test.manualmode.ejb.shutdown.RemoteCallWhileShuttingDownTestCase.testServerShutdownRemoteCall(RemoteCallWhileShuttingDownTestCase.java:138)




    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)




    at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:57)




    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)




    at java.lang.reflect.Method.invoke(Method.java:601)




    at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:47)




    at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)




    at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:44)




    at org.jboss.arquillian.junit.Arquillian$6$1.invoke(Arquillian.java:270)




    at org.jboss.arquillian.container.test.impl.execution.LocalTestExecuter.execute(LocalTestExecuter.java:60)




    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)




    at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:57)




    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)




    at java.lang.reflect.Method.invoke(Method.java:601)




    at org.jboss.arquillian.core.impl.ObserverImpl.invoke(ObserverImpl.java:94)




    at org.jboss.arquillian.core.impl.EventContextImpl.invokeObservers(EventContextImpl.java:99)




    at org.jboss.arquillian.core.impl.EventContextImpl.proceed(EventContextImpl.java:81)




    at org.jboss.arquillian.core.impl.ManagerImpl.fire(ManagerImpl.java:135)




    at org.jboss.arquillian.core.impl.ManagerImpl.fire(ManagerImpl.java:115)




    at org.jboss.arquillian.core.impl.EventImpl.fire(EventImpl.java:67)




    at org.jboss.arquillian.container.test.impl.execution.ClientTestExecuter.execute(ClientTestExecuter.java:53)




    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)




    at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:57)




    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)




    at java.lang.reflect.Method.invoke(Method.java:601)




    at org.jboss.arquillian.core.impl.ObserverImpl.invoke(ObserverImpl.java:94)




    at org.jboss.arquillian.core.impl.EventContextImpl.invokeObservers(EventContextImpl.java:99)




    at org.jboss.arquillian.core.impl.EventContextImpl.proceed(EventContextImpl.java:81)




    at org.jboss.arquillian.container.test.impl.client.ContainerEventController.createContext(ContainerEventController.java:142)




    at org.jboss.arquillian.container.test.impl.client.ContainerEventController.createTestContext(ContainerEventController.java:129)




    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)




    at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:57)




    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)




    at java.lang.reflect.Method.invoke(Method.java:601)




    at org.jboss.arquillian.core.impl.ObserverImpl.invoke(ObserverImpl.java:94)




    at org.jboss.arquillian.core.impl.EventContextImpl.proceed(EventContextImpl.java:88)




    at org.jboss.arquillian.test.impl.TestContextHandler.createTestContext(TestContextHandler.java:89)




    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)




    at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:57)




    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)




    at java.lang.reflect.Method.invoke(Method.java:601)




    at org.jboss.arquillian.core.impl.ObserverImpl.invoke(ObserverImpl.java:94)




    at org.jboss.arquillian.core.impl.EventContextImpl.proceed(EventContextImpl.java:88)




    at org.jboss.arquillian.test.impl.TestContextHandler.createClassContext(TestContextHandler.java:75)




    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)




    at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:57)




    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)




    at java.lang.reflect.Method.invoke(Method.java:601)




    at org.jboss.arquillian.core.impl.ObserverImpl.invoke(ObserverImpl.java:94)




    at org.jboss.arquillian.core.impl.EventContextImpl.proceed(EventContextImpl.java:88)




    at org.jboss.arquillian.test.impl.TestContextHandler.createSuiteContext(TestContextHandler.java:60)




    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)




    at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:57)




    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)




    at java.lang.reflect.Method.invoke(Method.java:601)




    at org.jboss.arquillian.core.impl.ObserverImpl.invoke(ObserverImpl.java:94)




    at org.jboss.arquillian.core.impl.EventContextImpl.proceed(EventContextImpl.java:88)




    at org.jboss.arquillian.core.impl.ManagerImpl.fire(ManagerImpl.java:135)




    at org.jboss.arquillian.test.impl.EventTestRunnerAdaptor.test(EventTestRunnerAdaptor.java:111)




    at org.jboss.arquillian.junit.Arquillian$6.evaluate(Arquillian.java:263)




    at org.jboss.arquillian.junit.Arquillian$4.evaluate(Arquillian.java:226)




    at org.jboss.arquillian.junit.Arquillian.multiExecute(Arquillian.java:314)




    at org.jboss.arquillian.junit.Arquillian.access$100(Arquillian.java:46)




    at org.jboss.arquillian.junit.Arquillian$5.evaluate(Arquillian.java:240)




    at org.junit.runners.ParentRunner.runLeaf(ParentRunner.java:271)




    at org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:70)




    at org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:50)




    at org.junit.runners.ParentRunner$3.run(ParentRunner.java:238)




    at org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:63)




    at org.junit.runners.ParentRunner.runChildren(ParentRunner.java:236)




    at org.junit.runners.ParentRunner.access$000(ParentRunner.java:53)




    at org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:229)




    at org.jboss.arquillian.junit.Arquillian$2.evaluate(Arquillian.java:185)




    at org.jboss.arquillian.junit.Arquillian.multiExecute(Arquillian.java:314)




    at org.jboss.arquillian.junit.Arquillian.access$100(Arquillian.java:46)




    at org.jboss.arquillian.junit.Arquillian$3.evaluate(Arquillian.java:199)




    at org.junit.runners.ParentRunner.run(ParentRunner.java:309)




    at org.jboss.arquillian.junit.Arquillian.run(Arquillian.java:147)




    at org.apache.maven.surefire.junit4.JUnit4Provider.execute(JUnit4Provider.java:234)




    at org.apache.maven.surefire.junit4.JUnit4Provider.executeTestSet(JUnit4Provider.java:133)




    at org.apache.maven.surefire.junit4.JUnit4Provider.invoke(JUnit4Provider.java:114)




    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)




    at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:57)




    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)




    at java.lang.reflect.Method.invoke(Method.java:601)




    at org.apache.maven.surefire.util.ReflectionUtils.invokeMethodWithArray(ReflectionUtils.java:188)




    at org.apache.maven.surefire.booter.ProviderFactory$ProviderProxy.invoke(ProviderFactory.java:166)




    at org.apache.maven.surefire.booter.ProviderFactory.invokeProvider(ProviderFactory.java:86)




    at org.apache.maven.surefire.booter.ForkedBooter.runSuitesInProcess(ForkedBooter.java:101)




    at org.apache.maven.surefire.booter.ForkedBooter.main(ForkedBooter.java:74)




Caused by: java.io.IOException: Channel Channel ID 997a34b0 (outbound) of Remoting connection 0190b512 to /127.0.0.1:4447 has been closed




    at org.jboss.ejb.client.remoting.ChannelAssociation$1.handleClose(ChannelAssociation.java:118)




    at org.jboss.ejb.client.remoting.ChannelAssociation$1.handleClose(ChannelAssociation.java:110)




    at org.jboss.remoting3.spi.SpiUtils.safeHandleClose(SpiUtils.java:54)




    at org.jboss.remoting3.spi.AbstractHandleableCloseable$CloseHandlerTask.run(AbstractHandleableCloseable.java:501)




    at org.jboss.remoting3.spi.AbstractHandleableCloseable.runCloseTask(AbstractHandleableCloseable.java:406)




    at org.jboss.remoting3.spi.AbstractHandleableCloseable.closeComplete(AbstractHandleableCloseable.java:277)




    at org.jboss.remoting3.remote.RemoteConnectionChannel.closeAction(RemoteConnectionChannel.java:531)




    at org.jboss.remoting3.spi.AbstractHandleableCloseable.closeAsync(AbstractHandleableCloseable.java:359)




    at org.jboss.remoting3.remote.RemoteConnectionHandler.closeAllChannels(RemoteConnectionHandler.java:399)




    at org.jboss.remoting3.remote.RemoteConnectionHandler.receiveCloseRequest(RemoteConnectionHandler.java:212)




    at org.jboss.remoting3.remote.RemoteReadListener.handleEvent(RemoteReadListener.java:106)




    at org.jboss.remoting3.remote.RemoteReadListener.handleEvent(RemoteReadListener.java:45)




    at org.xnio.ChannelListeners.invokeChannelListener(ChannelListeners.java:91)




    at org.xnio.channels.TranslatingSuspendableChannel.handleReadable(TranslatingSuspendableChannel.java:195)




    at org.xnio.channels.TranslatingSuspendableChannel$1.handleEvent(TranslatingSuspendableChannel.java:109)




    at org.xnio.ChannelListeners.invokeChannelListener(ChannelListeners.java:91)




    at org.xnio.ChannelListeners$DelegatingChannelListener.handleEvent(ChannelListeners.java:1052)




    at org.xnio.ChannelListeners.invokeChannelListener(ChannelListeners.java:91)




    at org.xnio.conduits.ReadReadyHandler$ChannelListenerHandler.readReady(ReadReadyHandler.java:61)




    at org.xnio.nio.NioSocketConduit.handleReady(NioSocketConduit.java:85)




    at org.xnio.nio.WorkerThread.run(WorkerThread.java:528)






The run is here http://teamcity.cafe-babe.org/viewLog.html?buildId=5255&amp;amp;buildTypeId=bt13</description>
			<version>8.0.0.Alpha1</version>
			<fixedVersion>8.0.0.Alpha2</fixedVersion>
			<type>Bug</type>
		</buginformation>
		<fixedFiles>
			<file type="M">org.jboss.as.test.manualmode.ejb.shutdown.RemoteCallWhileShuttingDownTestCase.java</file>
		</fixedFiles>
		<links>
			<link type="Dependency" description="is blocked by">83</link>
		</links>
	</bug>
	<bug id="1551" opendate="2013-06-18 19:49:08" fixdate="2013-06-23 22:35:30" resolution="Done">
		<buginformation>
			<summary>ServletContextListener loaded twice from TLD</summary>
			<description>With Undertow, if you define a ServletContextListener in a TLD it will be instantiated and initialized twice.
I&amp;amp;apos;m attaching a reproducer app.  This works on JBossWeb.</description>
			<version>8.0.0.Alpha2</version>
			<fixedVersion>8.0.0.Alpha2</fixedVersion>
			<type>Bug</type>
		</buginformation>
		<fixedFiles>
			<file type="M">org.wildfly.extension.undertow.deployment.TldParsingDeploymentProcessor.java</file>
		</fixedFiles>
	</bug>
	<bug id="1553" opendate="2013-06-18 22:27:55" fixdate="2013-06-24 14:27:17" resolution="Done">
		<buginformation>
			<summary>Infinispan subsystem ignores cluster name</summary>
			<description>The Infinispan subsystem uses the name of the cache container as the cluster name, instead of the name configured in &amp;lt;transport cluster="foo"/&amp;gt;.
This is a critical issue when using a gossip router, as only the cluster name determines what nodes form a cluster.</description>
			<version>8.0.0.Alpha1</version>
			<fixedVersion>8.0.0.Alpha3</fixedVersion>
			<type>Bug</type>
		</buginformation>
		<fixedFiles>
			<file type="M">org.jboss.as.clustering.infinispan.subsystem.CacheContainerAdd.java</file>
			<file type="M">org.jboss.as.clustering.infinispan.subsystem.EmbeddedCacheManagerConfigurationService.java</file>
		</fixedFiles>
	</bug>
	<bug id="1574" opendate="2013-06-21 15:31:48" fixdate="2013-06-25 13:56:22" resolution="Done">
		<buginformation>
			<summary>jboss-cli.sh throws IllegalArgumentException when using tab complete</summary>
			<description>When using tab complete to try and auto-fill values or get hints as to the allowed values for certain attributes, an IllegalArgumentException is thrown.
Note: This issue also affects 7.2.0.Final </description>
			<version>8.0.0.Alpha1</version>
			<fixedVersion>8.0.0.Alpha3</fixedVersion>
			<type>Bug</type>
		</buginformation>
		<fixedFiles>
			<file type="M">org.jboss.as.cli.operation.impl.DefaultOperationCandidatesProvider.java</file>
			<file type="M">org.jboss.as.cli.operation.OperationRequestCompleter.java</file>
			<file type="M">org.jboss.as.cli.impl.ValueTypeCompleter.java</file>
		</fixedFiles>
	</bug>
	<bug id="1580" opendate="2013-06-22 05:25:39" fixdate="2013-06-25 23:24:28" resolution="Done">
		<buginformation>
			<summary>PersistentResourceXMLDescription does not persist empty subsystems</summary>
			<description></description>
			<version>8.0.0.Alpha2</version>
			<fixedVersion>8.0.0.Alpha3</fixedVersion>
			<type>Bug</type>
		</buginformation>
		<fixedFiles>
			<file type="M">org.jboss.as.controller.PersistentResourceXMLDescription.java</file>
		</fixedFiles>
	</bug>
	<bug id="1546" opendate="2013-06-18 03:53:50" fixdate="2013-06-25 23:24:47" resolution="Done">
		<buginformation>
			<summary>Undertow is not wired up to use the correct temp location</summary>
			<description></description>
			<version>8.0.0.Alpha1</version>
			<fixedVersion>8.0.0.Alpha3</fixedVersion>
			<type>Bug</type>
		</buginformation>
		<fixedFiles>
			<file type="M">org.wildfly.extension.undertow.deployment.UndertowDeploymentInfoService.java</file>
			<file type="M">org.wildfly.extension.undertow.UndertowMessages.java</file>
			<file type="M">org.wildfly.extension.undertow.deployment.UndertowDeploymentService.java</file>
			<file type="M">org.wildfly.extension.undertow.deployment.UndertowDeploymentProcessor.java</file>
		</fixedFiles>
	</bug>
	<bug id="1601" opendate="2013-06-28 05:24:39" fixdate="2013-07-01 11:16:46" resolution="Done">
		<buginformation>
			<summary>web.xml parsing deployment unit processor doesn&amp;apos;t show the original parsing error in the deployment exception</summary>
			<description>If a deployment fails due to web.xml running into parsing problems, then the original cause of the exception is lost and isn&amp;amp;apos;t contained in the DeploymentUnitProcessingException which gets thrown. See referenced forum thread for more details.</description>
			<version>8.0.0.Alpha2</version>
			<fixedVersion>8.0.0.Alpha3</fixedVersion>
			<type>Bug</type>
		</buginformation>
		<fixedFiles>
			<file type="M">org.wildfly.extension.undertow.deployment.WebParsingDeploymentProcessor.java</file>
		</fixedFiles>
	</bug>
	<bug id="1590" opendate="2013-06-26 10:27:16" fixdate="2013-07-04 01:55:08" resolution="Done">
		<buginformation>
			<summary>Add missing cache statistics in EJB3 deployment metrics</summary>
			<description>EJB3 deployment metrics is missing from EJB3 subsystem, part of them have been added in https://issues.jboss.org/browse/WFLY-38, we also need to provide the missing cache statistics:
Cache Size - Cache Size
Passivated Count - Passivated Count
Total Size - Total Size</description>
			<version>8.0.0.Alpha2</version>
			<fixedVersion>8.0.0.Alpha3</fixedVersion>
			<type>Bug</type>
		</buginformation>
		<fixedFiles>
			<file type="M">org.jboss.as.ejb3.cache.impl.backing.SerializationGroupMemberContainer.java</file>
			<file type="M">org.jboss.as.ejb3.cache.spi.BackingCacheEntryStore.java</file>
			<file type="M">org.jboss.as.test.integration.ejb.management.deployments.EjbInvocationStatisticsTestCase.java</file>
			<file type="M">org.jboss.as.ejb3.cache.spi.BackingCache.java</file>
			<file type="M">org.jboss.as.ejb3.cache.spi.PersistentObjectStore.java</file>
			<file type="M">org.jboss.as.test.integration.ejb.management.deployments.AbstractManagedBean.java</file>
			<file type="M">org.jboss.as.ejb3.subsystem.deployment.AbstractEJBComponentResourceDefinition.java</file>
			<file type="M">org.jboss.as.ejb3.cache.impl.backing.SimpleBackingCacheEntryStore.java</file>
			<file type="M">org.jboss.as.test.integration.ejb.management.deployments.NoTimerStatelessBean.java</file>
			<file type="M">org.jboss.as.ejb3.cache.spi.impl.FilePersistentObjectStore.java</file>
			<file type="M">org.jboss.as.ejb3.cache.Cache.java</file>
			<file type="M">org.jboss.as.clustering.ejb3.cache.backing.infinispan.InfinispanEjbMessages.java</file>
			<file type="M">org.jboss.as.test.integration.ejb.management.deployments.ManagedStatefulBean.java</file>
			<file type="M">org.jboss.as.ejb3.cache.impl.backing.NonPassivatingBackingCacheImpl.java</file>
			<file type="M">org.jboss.as.ejb3.cache.spi.impl.AbstractCache.java</file>
			<file type="M">org.jboss.as.ejb3.cache.impl.backing.PassivatingBackingCacheImpl.java</file>
			<file type="M">org.jboss.as.test.integration.ejb.management.deployments.BusinessInterface.java</file>
			<file type="M">org.jboss.as.clustering.ejb3.cache.backing.infinispan.InfinispanBackingCacheEntryStore.java</file>
			<file type="M">org.jboss.as.test.integration.ejb.management.deployments.NoTimerSingletonBean.java</file>
		</fixedFiles>
	</bug>
	<bug id="1573" opendate="2013-06-21 15:22:16" fixdate="2013-07-04 12:05:09" resolution="Done">
		<buginformation>
			<summary>Extension observer method doesn&amp;apos;t get invoked if meta-annotations are given as a filter via @WithAnnotations</summary>
			<description>An extension observer method with meta-annotations given as a filter via @WithAnnotations only gets invoked if the annotation classes that contain the meta-annotations are added to the deployment. The problem is that if an annotation isn&amp;amp;apos;t part of the deployment, it&amp;amp;apos;s not part of the deployment Jandex index.</description>
			<version>8.0.0.Alpha1</version>
			<fixedVersion>8.0.0.Alpha3</fixedVersion>
			<type>Bug</type>
		</buginformation>
		<fixedFiles>
			<file type="D">org.jboss.as.weld.discovery.IndexAdapter.java</file>
			<file type="D">org.jboss.as.weld.discovery.RequiredAnnotationTargetDiscovery.java</file>
			<file type="M">org.jboss.as.weld.discovery.WeldAnnotationDiscovery.java</file>
			<file type="M">org.jboss.as.weld.util.Reflections.java</file>
		</fixedFiles>
	</bug>
	<bug id="1636" opendate="2013-07-04 12:50:23" fixdate="2013-07-04 14:12:07" resolution="Done">
		<buginformation>
			<summary>Children coming from a ManagementResourceRegistration.registerOverrideModel() override incorrectly appear as attributes in read-resource-description</summary>
			<description>The problem is in OverrideDescriptionCombiner adding the overridden children to the attributes rather than to the children. For background, this was my initial mail on the subject.
-------
I found this when trying to read the role based access control settings for the whole of WIldFly. I have worked around this with a hack on my https://github.com/kabir/wildfly/commits/rbac-play branch, which is called "Temp commit, work around problems in /subsystem=datasources/data-source=* definition of statistics". The underlying problem seems to be that there is a problem with the resource definition for this attribute/child type. Apart from this there are no other problems when running with standalone-full-ha.xml.
The &amp;amp;apos;statistics&amp;amp;apos; appears as an attribute when doing a read-resource-description
[standalone@localhost:9990 /] /subsystem=datasources/data-source=ExampleDS:read-resource-description                     
{
   "outcome" =&amp;gt; "success",
   "result" =&amp;gt; {
       "description" =&amp;gt; "A JDBC data-source configuration",
       "attributes" =&amp;gt; {
           "share-prepared-statements" =&amp;gt; 
{
               "type" =&amp;gt; BOOLEAN,
               "description" =&amp;gt; "Whether to share prepared statements, i.e. whether asking for same statement twice without closing uses the same underlying prepared statement",
               "expressions-allowed" =&amp;gt; true,
               "nillable" =&amp;gt; true,
               "default" =&amp;gt; false,
               "access-type" =&amp;gt; "read-write",
               "storage" =&amp;gt; "configuration",
               "restart-required" =&amp;gt; "no-services"
           }
,
 SNIP
           "statistics" =&amp;gt; 
{
               "description" =&amp;gt; "Runtime statistics provided by the resource adapter.",
               "access-type" =&amp;gt; "read-only",
               "storage" =&amp;gt; "configuration"
           }
       },
       "operations" =&amp;gt; undefined,
       "children" =&amp;gt; {"connection-properties" =&amp;gt; {
           "description" =&amp;gt; "The connection-properties element allows you to pass in arbitrary connection properties to the Driver.connect(url, props) method",
           "model-description" =&amp;gt; undefined
       }}
   }
}
However, it does not appears as a child but not as an attribute:
[standalone@localhost:9990 /] /subsystem=datasources/data-source=ExampleDS:read-children-names(child-type=statistics)
{
   "outcome" =&amp;gt; "success",
   "result" =&amp;gt; [
       "jdbc",
       "pool"
   ]
}
[standalone@localhost:9990 /] /subsystem=datasources/data-source=ExampleDS:read-attribute(name=statistics)
{
   "outcome" =&amp;gt; "failed",
   "failure-description" =&amp;gt; "JBAS014640: &amp;amp;apos;statistics&amp;amp;apos; is a registered child of resource ([
   (\"subsystem\" =&amp;gt; \"datasources\"),
   (\"data-source\" =&amp;gt; \"ExampleDS\")
])",
   "rolled-back" =&amp;gt; true
}

In read-resource it appears as a child:
[standalone@localhost:9990 /] /subsystem=datasources/data-source=ExampleDS:read-resource(recursive=true, include-runtime=true)
{
   "outcome" =&amp;gt; "success",
   "result" =&amp;gt; {
---- SNIP ----
       "statistics" =&amp;gt; {
           "jdbc" =&amp;gt; 
{
               "PreparedStatementCacheAccessCount" =&amp;gt; "0",
               "PreparedStatementCacheAddCount" =&amp;gt; "0",
               "PreparedStatementCacheCurrentSize" =&amp;gt; "0",
               "PreparedStatementCacheDeleteCount" =&amp;gt; "0",
               "PreparedStatementCacheHitCount" =&amp;gt; "0",
               "PreparedStatementCacheMissCount" =&amp;gt; "0"
           }
,
           "pool" =&amp;gt; 
{
               "ActiveCount" =&amp;gt; "0",
               "AvailableCount" =&amp;gt; "20",
               "AverageBlockingTime" =&amp;gt; "0",
               "AverageCreationTime" =&amp;gt; "0",
               "CreatedCount" =&amp;gt; "0",
               "DestroyedCount" =&amp;gt; "0",
               "InUseCount" =&amp;gt; "0",
               "MaxCreationTime" =&amp;gt; "0",
               "MaxUsedCount" =&amp;gt; "0",
               "MaxWaitCount" =&amp;gt; "0",
               "MaxWaitTime" =&amp;gt; "0",
               "TimedOut" =&amp;gt; "0",
               "TotalBlockingTime" =&amp;gt; "0",
               "TotalCreationTime" =&amp;gt; "0"
           }
       }
   }
}
[standalone@localhost:9990 /] /subsystem=datasources/data-source=ExampleDS/statistics=jdbc:read-resource(include-runtime=true)
{
   "outcome" =&amp;gt; "success",
   "result" =&amp;gt; 
{
       "PreparedStatementCacheAccessCount" =&amp;gt; "0",
       "PreparedStatementCacheAddCount" =&amp;gt; "0",
       "PreparedStatementCacheCurrentSize" =&amp;gt; "0",
       "PreparedStatementCacheDeleteCount" =&amp;gt; "0",
       "PreparedStatementCacheHitCount" =&amp;gt; "0",
       "PreparedStatementCacheMissCount" =&amp;gt; "0"
   }
}</description>
			<version>8.0.0.Alpha2</version>
			<fixedVersion>8.0.0.Alpha3</fixedVersion>
			<type>Bug</type>
		</buginformation>
		<fixedFiles>
			<file type="M">org.jboss.as.controller.registry.AbstractResourceRegistration.java</file>
		</fixedFiles>
	</bug>
	<bug id="1620" opendate="2013-07-01 15:31:01" fixdate="2013-07-05 00:18:59" resolution="Done">
		<buginformation>
			<summary>EJB in CDI enabled module gets registered twice leading to WELD-001409 Ambiguous dependencies...</summary>
			<description>If you have this no-interface @Stateless EJB in the module and have a
beans.xml inside the module jar as well and then have a deployment
depends on &amp;amp; imports the annotations, and then uses @Inject TestEjb,
Weld will complain that there are two options an EJB and a ManagedBean
and it doesn&amp;amp;apos;t know which to inject. According to [1] it should only be
considered a managed bean if "It is not annotated with an EJB
component-defining annotation or declared as an EJB bean class in



ejb-jar.xml
."



The error:
WELD-001409 Ambiguous dependencies for type [TestEjb] with qualifiers [@Default] at injection point [[field] @Inject test.webapp.TestService.testEjb].
Possible dependencies [[Session bean [class test.TestEjb with qualifiers [@Any @Default]; local interfaces are [TestEjb], Managed Bean [class test.TestEjb] with qualifiers [@Any @Default]]] 
@Stateless
public class TestEjb
{
public String hello() 
{
return "Hello";
}
}
If I move all of the classes into the test war, then Weld doesn&amp;amp;apos;t have
an issue, so it seems there is some difference when the code is put into
the modules directory.
[1] http://docs.jboss.org/weld/reference/1.0.1-Final/en-US/html_single/#d0e792 </description>
			<version>8.0.0.Alpha2</version>
			<fixedVersion>8.0.0.Alpha3</fixedVersion>
			<type>Bug</type>
		</buginformation>
		<fixedFiles>
			<file type="M">org.jboss.as.weld.deployment.processors.ExternalBeanArchiveProcessor.java</file>
			<file type="M">org.jboss.as.test.integration.weld.multideployment.WeldModuleDeploymentTestCase.java</file>
		</fixedFiles>
	</bug>
	<bug id="1672" opendate="2013-07-11 08:11:35" fixdate="2013-07-11 23:28:14" resolution="Done">
		<buginformation>
			<summary>Test added module directories remain in JBOSS_HOME/modules</summary>
			<description>integration/basic/src/test/java/org/jboss/as/test/integration/jca/moduledeployment/AbstractModuleDeploymentTestCaseSetup.java
integration/basic/src/test/java/org/jboss/as/test/integration/weld/multideployment/WeldModuleDeploymentTestCase
integration/basic/src/test/java/org/jboss/as/test/integration/ee/globalmodules/GlobalModulesTestCase.java
For the tests above, method deleteRecursively() does not delete test module directories properly, part of module directory remain in JBOSS_HOME/modules after test completion.
Example: JBOSS_HOME/modules/org/jboss/test is left behind for WeldModuleDeploymentTestCase, in that case the testModuleRoot is org/jboss/test/weldModule</description>
			<version>8.0.0.Alpha2</version>
			<fixedVersion>8.0.0.Alpha3</fixedVersion>
			<type>Bug</type>
		</buginformation>
		<fixedFiles>
			<file type="M">org.jboss.as.test.integration.jca.moduledeployment.AbstractModuleDeploymentTestCaseSetup.java</file>
			<file type="M">org.jboss.as.test.integration.ee.globalmodules.GlobalModulesTestCase.java</file>
			<file type="M">org.jboss.as.test.integration.weld.multideployment.WeldModuleDeploymentTestCase.java</file>
		</fixedFiles>
	</bug>
	<bug id="1463" opendate="2013-06-06 15:31:43" fixdate="2013-07-12 01:59:01" resolution="Done">
		<buginformation>
			<summary>PersistenceUnitService depends on not-yet-available BeanManager</summary>
			<description>I am getting






17:12:25,453 ERROR [org.jboss.as.controller.management-operation] (management-handler-thread - 2) JBAS014613: Operation ("deploy") failed - address: ([("deployment" =&amp;gt; "jpa_txTimeoutTestWithMockProvider.ear")]) - failure description: {"JBAS014771: Services with missing/unavailable dependencies" =&amp;gt; ["jboss.persistenceunit.\"jpa_txTimeoutTestWithMockProvider.ear/ejbjar.jar#mypc\" is missing [jboss.deployment.subunit.\"jpa_txTimeoutTestWithMockProvider.ear\".\"ejbjar.jar\".beanmanager]"]}




17:12:25,459 ERROR [org.jboss.as.server] (management-handler-thread - 2) JBAS015870: Deploy of deployment "jpa_txTimeoutTestWithMockProvider.ear" was rolled back with the following failure message: {"JBAS014771: Services with missing/unavailable dependencies" =&amp;gt; ["jboss.persistenceunit.\"jpa_txTimeoutTestWithMockProvider.ear/ejbjar.jar#mypc\" is missing [jboss.deployment.subunit.\"jpa_txTimeoutTestWithMockProvider.ear\".\"ejbjar.jar\".beanmanager]"]}






The problem is caused by PersistenceUnitServiceHandler.deployPersistenceUnit() which, if the PU is deployed in a CDI-enabled archive, adds a dependency on the BeanManager service. This happens in PersistenceBeginInstallProcessor which executes in the FIRST_MODULE_USE phase.
However, the BeanManager service is not installed by the Weld subsystem until the INSTALL phase.
This can be reproduced easily. Take for example the org.jboss.as.test.integration.jpa.mockprovider.txtimeout.TxTimeoutTestCase and add an empty beans.xml file to the ejb jar (ejbjar.addAsManifestResource(EmptyAsset.INSTANCE, "beans.xml"))
This issue blocks proper Weld integration (implicit bean archives).</description>
			<version>8.0.0.Alpha1</version>
			<fixedVersion>8.0.0.Alpha3</fixedVersion>
			<type>Bug</type>
		</buginformation>
		<fixedFiles>
			<file type="M">org.jboss.as.jpa.config.Configuration.java</file>
			<file type="M">org.jboss.as.test.integration.jpa.epcpropagation.requiresnew.BikeManagerBean.java</file>
			<file type="M">org.jboss.as.jpa.service.PersistenceUnitServiceImpl.java</file>
			<file type="M">org.jboss.as.jpa.processor.PersistenceUnitServiceHandler.java</file>
			<file type="M">org.jboss.as.test.integration.jpa.epcpropagation.requiresnew.BikeRace.java</file>
			<file type="M">org.jboss.as.jpa.messages.JpaLogger.java</file>
		</fixedFiles>
		<links>
			<link type="Dependency" description="is blocked by">11</link>
			<link type="Dependency" description="blocks">476</link>
		</links>
	</bug>
	<bug id="1658" opendate="2013-07-08 16:32:12" fixdate="2013-07-15 05:50:23" resolution="Done">
		<buginformation>
			<summary>EJBAccessException for methods with @PermitAll but using arrays in parameters</summary>
			<description>Calling an EJB method containing an array in parameters throws EJBAccessException, even if the method has @PermitAll annotation.</description>
			<version>8.0.0.Alpha2</version>
			<fixedVersion>8.0.0.Alpha3</fixedVersion>
			<type>Bug</type>
		</buginformation>
		<fixedFiles>
			<file type="M">org.jboss.as.test.integration.ejb.security.AnnotationAuthorizationTestCase.java</file>
			<file type="M">org.jboss.as.test.integration.ejb.security.authorization.DenyAllOverrideBean.java</file>
			<file type="M">org.jboss.as.ejb3.deployment.processors.merging.MethodPermissionsMergingProcessor.java</file>
		</fixedFiles>
	</bug>
	<bug id="1626" opendate="2013-07-02 14:06:02" fixdate="2013-07-15 06:01:02" resolution="Done">
		<buginformation>
			<summary>Duplicated message ids in jdr and security subsystems</summary>
			<description>There are 3 different language messages in jdr and security subsystems with the same ids which is not correct as each message must have an unique id with the server.






jdr/jboss-as-jdr/src/main/java/org/jboss/as/jdr/JdrLogger.java






@Message(id=13306, value="Could not create zipfile.")




@Message(id=13307, value="Could not configure JDR.")




@Message(id = 13308, value = "No JDR commands were loaded. Be sure that a valid Plugin class is specified in plugins.properties.")












security/src/main/java/org/jboss/as/security/SecurityMessages.java






@Message(id = 13306, value = "Remoting connection found but no UserPrincipal.")




@Message(id = 13307, value = "Argument %s is null")




@Message(id = 13308, value = "Unable to start the %s service")





</description>
			<version>8.0.0.Alpha2</version>
			<fixedVersion>8.0.0.Alpha3</fixedVersion>
			<type>Bug</type>
		</buginformation>
		<fixedFiles>
			<file type="M">org.jboss.as.jdr.JdrLogger.java</file>
		</fixedFiles>
	</bug>
	<bug id="1738" opendate="2013-07-22 20:21:23" fixdate="2013-07-23 15:02:31" resolution="Done">
		<buginformation>
			<summary>JSFSubsystemTransformers and JBossStandaloneEJBContainerProvider classes comparing ModelNode and String always returns false</summary>
			<description>JSFSubsystemTransformers class has the following block, FindBugs detects the equals method between ModelNode and String:






final ModelNode value = operation.get(ModelDescriptionConstants.VALUE);




                if (SLOT_ATTRIBUTE_NAME.equals(name)) {




                    if (value.isDefined() &amp;amp;&amp;amp; value.equals(SLOT_DEFAULT_VALUE)) {




                        return DISCARD.transformOperation(context, address, operation);




                    } else {




                        return new TransformedOperation(operation,




                                new RejectionWithFailurePolicy(MESSAGES.invalidJSFSlotValue(value.asString())),




                                OperationResultTransformer.ORIGINAL_RESULT);




                    }




                }






The same problem in another class JBossStandaloneEJBContainerProvider:






final ModelNode result = server.getModelControllerClient().execute(add);




        if (!result.get(OUTCOME).equals(SUCCESS)) {




            throw new EJBException(result.asString());




        }





</description>
			<version>8.0.0.Alpha4</version>
			<fixedVersion>8.0.0.Alpha4</fixedVersion>
			<type>Bug</type>
		</buginformation>
		<fixedFiles>
			<file type="M">org.jboss.as.domain.controller.transformers.JSFSubsystemTransformers.java</file>
		</fixedFiles>
	</bug>
	<bug id="1737" opendate="2013-07-22 20:14:59" fixdate="2013-07-26 08:31:02" resolution="Done">
		<buginformation>
			<summary>org.jboss.as.model.test.ModelTestUtils String[] is incompatible with expected argument type String</summary>
			<description>children is a Set&amp;lt;String&amp;gt;, but pe.getKeyValuePair() is String[], so it will always return false.






} else {




                if (children.contains(pe.getKeyValuePair())) {




                    String name = pe.getValue();




                    ModelNode value = model.get(pe.getKeyValuePair());




                    ManagementResourceRegistration sub = rr.getSubModel(PathAddress.pathAddress(pe));




                    Assert.assertNotNull(getComparePathAsString(stack) + " Child with name &amp;amp;apos;" + name + "&amp;amp;apos; not found", sub);




                    if (value.isDefined()) {




                        stack.push(pe);




                        checkModelAgainstDefinition(value, sub, stack);




                        stack.pop();




                    }




                }




            }





</description>
			<version>8.0.0.Alpha4</version>
			<fixedVersion>8.0.0.Alpha4</fixedVersion>
			<type>Bug</type>
		</buginformation>
		<fixedFiles>
			<file type="M">org.wildfly.extension.mod_cluster.ModClusterSubsystemTestCase.java</file>
			<file type="M">org.jboss.as.subsystem.test.SubsystemTestDelegate.java</file>
			<file type="M">org.wildfly.extension.mod_cluster.ModClusterMessages.java</file>
			<file type="M">org.jboss.as.controller.transform.description.DefaultCheckersAndConverter.java</file>
			<file type="M">org.jboss.as.model.test.ModelTestUtils.java</file>
			<file type="M">org.wildfly.extension.mod_cluster.ModClusterExtension.java</file>
		</fixedFiles>
	</bug>
	<bug id="1739" opendate="2013-07-22 20:36:05" fixdate="2013-07-26 13:43:40" resolution="Done">
		<buginformation>
			<summary>Certain methods unconditionally invokes itself and may cause infinit loop</summary>
			<description>FindBugs found 2 instances of such recursive calls:






org.jboss.as.clustering.msc.DelegatingServiceTarget






@Override




    public Set&amp;lt;ServiceListener&amp;lt;Object&amp;gt;&amp;gt; getListeners() {




        return this.getListeners();




    }












org.wildfly.clustering.web.catalina.session.SessionFacade






@Override




    public boolean isValidInternal() {




        return this.isValidInternal();




    }





</description>
			<version>8.0.0.Alpha4</version>
			<fixedVersion></fixedVersion>
			<type>Bug</type>
		</buginformation>
		<fixedFiles>
			<file type="M">org.wildfly.clustering.web.infinispan.session.SessionEvictionSchedulerTestCase.java</file>
			<file type="M">org.wildfly.clustering.web.infinispan.session.InfinispanSessionManager.java</file>
			<file type="M">org.wildfly.clustering.web.infinispan.sso.coarse.CoarseSSOCacheEntry.java</file>
			<file type="M">org.wildfly.clustering.web.catalina.session.SessionFacade.java</file>
			<file type="M">org.wildfly.clustering.web.infinispan.Evictor.java</file>
			<file type="M">org.wildfly.clustering.web.infinispan.sso.InfinispanSSOManagerFactory.java</file>
			<file type="M">org.wildfly.clustering.web.infinispan.session.InfinispanSessionManagerFactoryBuilder.java</file>
			<file type="M">org.wildfly.clustering.web.undertow.session.SessionContextAdapterTestCase.java</file>
			<file type="M">org.wildfly.clustering.web.catalina.session.ManagerFacade.java</file>
			<file type="M">org.jboss.as.clustering.msc.DelegatingServiceTarget.java</file>
		</fixedFiles>
	</bug>
	<bug id="1690" opendate="2013-07-13 02:18:20" fixdate="2013-07-26 13:44:51" resolution="Done">
		<buginformation>
			<summary>Frequent failures in CommandDispatcherTestCase</summary>
			<description>Test is failing regularly. See http://lightning.mw.lab.eng.bos.redhat.com/project.html?projectId=WF&amp;amp;testNameId=6046695851152993698&amp;amp;tab=testDetails
I&amp;amp;apos;m going to @Ignore it.</description>
			<version>8.0.0.Alpha3</version>
			<fixedVersion>8.0.0.Alpha4</fixedVersion>
			<type>Bug</type>
		</buginformation>
		<fixedFiles>
			<file type="M">org.wildfly.clustering.server.dispatcher.ServiceCommandDispatcher.java</file>
			<file type="M">org.jboss.as.test.clustering.cluster.dispatcher.bean.ClusterTopologyRetrieverBean.java</file>
			<file type="D">org.wildfly.clustering.server.dispatcher.ServiceCommandMarshaller.java</file>
			<file type="M">org.wildfly.clustering.server.dispatcher.CommandDispatcherFactoryService.java</file>
			<file type="M">org.wildfly.clustering.server.service.ServiceProviderRegistryFactoryProvider.java</file>
			<file type="M">org.jboss.as.test.clustering.cluster.dispatcher.bean.TestCommand.java</file>
			<file type="M">org.wildfly.clustering.server.dispatcher.CommandDispatcherFactoryProvider.java</file>
			<file type="M">org.wildfly.clustering.server.dispatcher.CommandResponseMarshaller.java</file>
			<file type="M">org.jboss.as.test.clustering.ViewChangeListenerBean.java</file>
			<file type="M">org.wildfly.clustering.server.SimpleNodeExternalizer.java</file>
			<file type="M">org.jboss.as.test.clustering.cluster.dispatcher.CommandDispatcherTestCase.java</file>
			<file type="M">org.wildfly.clustering.server.service.ServiceProviderRegistryFactoryService.java</file>
			<file type="M">org.wildfly.clustering.server.dispatcher.CommandMarshaller.java</file>
		</fixedFiles>
	</bug>
	<bug id="1711" opendate="2013-07-17 18:49:14" fixdate="2013-07-27 21:58:43" resolution="Done">
		<buginformation>
			<summary>Messaging&amp;apos;s CoreAddressResource is inconsistent re: child types</summary>
			<description>CoreAddressResource is a dynamic resource with special logic related to child types. That logic is inconsistent with respect to naming of the child type, in some places calling it "role" in others "security-role". The management metadata says "role" so that&amp;amp;apos;s what it shall be.
This surfaced in the RBAC work because changes in :read-resource handling caused different code paths to execute that revealed the bug.</description>
			<version>8.0.0.Alpha2</version>
			<fixedVersion>8.0.0.Alpha4</fixedVersion>
			<type>Bug</type>
		</buginformation>
		<fixedFiles>
			<file type="M">org.jboss.as.test.integration.messaging.mgmt.AddressControlManagementTestCase.java</file>
			<file type="M">org.jboss.as.messaging.SecurityRoleResource.java</file>
			<file type="M">org.jboss.as.messaging.CoreAddressResource.java</file>
		</fixedFiles>
	</bug>
	<bug id="1560" opendate="2013-06-19 12:07:39" fixdate="2013-07-30 08:07:44" resolution="Done">
		<buginformation>
			<summary>PartialObjectActivationJarTestCase fails if ran after any of InflowFlatTestCase or TwoModulesOfDifferentTypeTestCase</summary>
			<description>PartialObjectActivationJarTestCase fails if it runs after InflowFlatTestCase.  It seems that the inflow2 resource adapter is not fully unregistered by InflowFlatTestCase before PartialObjectActivationJarTestCase begins to start its own RA.
Here is the server log snippet (DEBUG level):
http://pastebin.test.redhat.com/147968
Line 10 of this snippet corresponds to the invocation of setConfiguration("basic.xml"); in PartialObjectActivationJarTestCase. Then, the server is apparently trying to activate MultipleConnectionFactory2Impl and MultipleAdminObject2Impl even though these are not involved in basic.xml of PartialObjectActivationJarTestCase at all. A suspicious exception is on line 19 there. 
I tried to put some delay between remove(address); and removeModule(defaultPath); in AbstractModuleDeploymentTestCaseSetup#tearDown() but it did not help. I also tried to put @Ignore to both test methods in the InflowFlatTestCase which also did not help, so it is evidently related only to the RA deployment/undeployment.</description>
			<version>8.0.0.Alpha1</version>
			<fixedVersion></fixedVersion>
			<type>Bug</type>
		</buginformation>
		<fixedFiles>
			<file type="M">org.jboss.as.test.integration.jca.moduledeployment.AbstractModuleDeploymentTestCaseSetup.java</file>
			<file type="M">org.jboss.as.test.integration.jca.moduledeployment.TwoModulesOfDifferentTypeTestCase.java</file>
			<file type="M">org.jboss.as.test.integration.jca.moduledeployment.TwoModulesJarTestCase.java</file>
			<file type="M">org.jboss.as.test.integration.jca.moduledeployment.TwoModulesFlatTestCase.java</file>
			<file type="M">org.jboss.as.test.integration.jca.moduledeployment.MultiObjectActivationJarTestCase.java</file>
			<file type="M">org.jboss.as.test.integration.jca.moduledeployment.MultiObjectActivationFlatTestCase.java</file>
			<file type="M">org.jboss.as.test.integration.jca.moduledeployment.PartialObjectActivationJarTestCase.java</file>
			<file type="M">org.jboss.as.test.integration.jca.moduledeployment.MultiActivationJarTestCase.java</file>
			<file type="M">org.jboss.as.test.integration.jca.moduledeployment.MultiActivationFlatTestCase.java</file>
			<file type="M">org.jboss.as.test.integration.jca.moduledeployment.BasicFlatTestCase.java</file>
			<file type="M">org.jboss.as.test.integration.jca.moduledeployment.PureFlatTestCase.java</file>
			<file type="M">org.jboss.as.test.integration.jca.moduledeployment.InflowFlatTestCase.java</file>
			<file type="M">org.jboss.as.test.integration.jca.moduledeployment.TwoRaFlatTestCase.java</file>
			<file type="M">org.jboss.as.test.integration.jca.moduledeployment.PureJarTestCase.java</file>
			<file type="M">org.jboss.as.test.integration.jca.moduledeployment.PartialObjectActivationFlatTestCase.java</file>
			<file type="M">org.jboss.as.test.integration.jca.moduledeployment.BasicJarTestCase.java</file>
			<file type="M">org.jboss.as.test.integration.jca.moduledeployment.InflowJarTestCase.java</file>
			<file type="M">org.jboss.as.test.integration.jca.moduledeployment.TwoRaJarTestCase.java</file>
		</fixedFiles>
		<links>
			<link type="Duplicate" description="is duplicated by">1757</link>
			<link type="Related" description="is related to">1757</link>
		</links>
	</bug>
	<bug id="1772" opendate="2013-07-29 12:20:12" fixdate="2013-07-31 09:04:20" resolution="Done">
		<buginformation>
			<summary>Timers are scheduled before being added to the timers map</summary>
			<description>This can result in the timeout being executed before the timer is properly installed.</description>
			<version>8.0.0.Alpha3</version>
			<fixedVersion>8.0.0.Alpha4</fixedVersion>
			<type>Bug</type>
		</buginformation>
		<fixedFiles>
			<file type="M">org.jboss.as.ejb3.timerservice.TimerServiceImpl.java</file>
		</fixedFiles>
	</bug>
	<bug id="1785" opendate="2013-07-25 12:22:42" fixdate="2013-07-31 11:01:20" resolution="Done">
		<buginformation>
			<summary>WAR_BUNDLES_JSF_IMPL does not work for EAR files</summary>
			<description>Hello Learned and Astonishly Charming JBoss Associates,
I&amp;amp;apos;ve been trying for quite some time now to get my successfully deployed WAR to become a successfully deployed EAR.  Much to my chagrin, this has been my white whale, and it just might kill me.
In a nutshell, the attached EAR file contains a WAR.  If you deploy that WAR file everything works smooth as butter.  As soon as you put it in an EAR format however, you get the following well placed riposte:
19:33:57,513 WARN  [org.jboss.as.jsf] (MSC service thread 1-2) JBAS012603: Unknown JSF version &amp;amp;apos;WAR_BUNDLES_JSF_IMPL&amp;amp;apos;.  Default version &amp;amp;apos;main&amp;amp;apos; will be used instead.
Not cool, JBoss.  Not cool.
I&amp;amp;apos;ve tried moving the jars to different places in the WAR/EAR.  I&amp;amp;apos;ve tried using Manifest files.  I&amp;amp;apos;ve tried colorfully adorned four letter expletives.  JBoss is unmoved.  Does anyone know why JBoss is rejecting my JSF advances?  Can the relationship be fixed?
Using EAP 6.1 which I believe is equivalent to AS 7.2.
Thanks in advance,
Will
PS:  The forum didn&amp;amp;apos;t like me attaching a 1.8 meg file so here&amp;amp;apos;s a download link instead
http://www.williverstravels.com/JDev/Forums/Threads/230850/TestEar.ear</description>
			<version>8.0.0.Alpha3</version>
			<fixedVersion>8.0.0.Alpha4</fixedVersion>
			<type>Bug</type>
		</buginformation>
		<fixedFiles>
			<file type="M">org.jboss.as.jsf.deployment.JSFDependencyProcessor.java</file>
		</fixedFiles>
	</bug>
	<bug id="1499" opendate="2013-06-11 16:33:44" fixdate="2013-08-01 08:51:08" resolution="Done">
		<buginformation>
			<summary>Clustering tests intermittently fail mainly because they do not clean their deployments properly</summary>
			<description>Almost all clustering tests from the testsuite deploys what they need to perform the test, but almost none of those tests do undeploy of their deployments. Then, if the tests are run in an unexpected order (different JVM) or if some of them fail their deployments keeps at servers and often cause a failure of subsequent tests.
For example RemoteStatelessFailoverTestCase(ejb3) stops CONTAINER-1 in the middle of a testLoadBalance method and never tries to undeploy DEPLOYMENT_1 from it. So if it hits any failure in the subsequent this.establishView(listener, NODES[1]); the CONTAINER-1 will never be started up again by RemoteStatelessFailoverTestCase and hence will never be cleaned up by Arquillian which normally undeploys all deployments from the running custom containers on after-class event. And then StatefulFailoverTestCase fails with 






org.jboss.as.test.clustering.ViewChangeListenerServlet threw exception:




java.lang.InterruptedException: Cluster &amp;amp;apos;ejb&amp;amp;apos; failed to establish view [node-1/ejb] within 15000 ms.  Current view is: [node-0/ejb, node-1/ejb]






Another frequent issue with clustering tests is that they blindly deploy the same deployments manytimes which leads to duplicate deploy failures.</description>
			<version>8.0.0.Alpha1</version>
			<fixedVersion>8.0.0.Alpha4</fixedVersion>
			<type>Bug</type>
		</buginformation>
		<fixedFiles>
			<file type="M">org.jboss.as.test.clustering.extended.ejb2.stateful.remote.failover.RemoteEJBClientStatefulFailoverTestBase.java</file>
			<file type="M">org.jboss.as.test.clustering.extended.ejb2.stateful.remote.failover.RemoteEJBClientStatefulBeanFailoverTestCase.java</file>
			<file type="M">org.jboss.as.test.clustering.extended.ejb2.stateful.remote.failover.dd.RemoteEJB2ClientStatefulBeanFailoverDDTestCase.java</file>
			<file type="M">org.jboss.as.test.clustering.cluster.ExtendedClusterAbstractTestCase.java</file>
			<file type="M">org.jboss.as.test.clustering.cluster.web.ClusteredWebSimpleTestCase.java</file>
			<file type="M">org.jboss.as.test.clustering.cluster.ejb3.stateless.RemoteStatelessFailoverTestCase.java</file>
			<file type="M">org.jboss.as.test.clustering.cluster.ejb3.descriptor.disable.DisableClusteredTestCase.java</file>
			<file type="M">org.jboss.as.test.clustering.cluster.jsf.JSFFailoverTestCase.java</file>
			<file type="M">org.jboss.as.test.clustering.cluster.singleton.SingletonTestCase.java</file>
			<file type="M">org.jboss.as.test.clustering.cluster.ejb3.security.FailoverWithSecurityTestCase.java</file>
			<file type="M">org.jboss.as.test.clustering.cluster.ejb3.stateful.remote.failover.RemoteEJBClientStatefulBeanFailoverTestCase.java</file>
			<file type="M">org.jboss.as.test.clustering.cluster.ejb3.stateful.remote.failover.dd.RemoteEJBClientDDBasedSFSBFailoverTestCase.java</file>
			<file type="M">org.jboss.as.test.clustering.cluster.web.passivation.SessionPassivationTestCase.java</file>
			<file type="M">org.jboss.as.test.clustering.xsite.XSiteSimpleTestCase.java</file>
			<file type="M">org.jboss.as.test.clustering.cluster.ejb3.xpc.StatefulWithXPCFailoverTestCase.java</file>
			<file type="M">org.jboss.as.test.clustering.cluster.web.expiration.SessionExpirationTestCase.java</file>
			<file type="D">org.jboss.as.test.clustering.extended.ejb2.stateful.remote.failover.RemoteEJBClientStatefulFaliloverTestBase.java</file>
			<file type="M">org.jboss.as.test.clustering.cluster.ejb3.stateful.passivation.ClusterPassivationTestCase.java</file>
			<file type="M">org.jboss.as.test.clustering.cluster.web.ClusteredWebFailoverAbstractCase.java</file>
			<file type="M">org.jboss.as.test.clustering.cluster.web.NonHaWebSessionPersistenceTestCase.java</file>
			<file type="M">org.jboss.as.test.clustering.cluster.ejb3.StatefulTimeoutTestCase.java</file>
			<file type="M">org.jboss.as.test.clustering.cluster.ejb3.deployment.ClusteredBeanDeploymentTestCase.java</file>
			<file type="M">org.jboss.as.test.clustering.NodeUtil.java</file>
			<file type="M">org.jboss.as.test.clustering.cluster.service.ServiceProviderRegistryTestCase.java</file>
			<file type="M">org.jboss.as.test.clustering.xsite.XSiteBackupForTestCase.java</file>
			<file type="M">org.jboss.as.test.clustering.cluster.ejb3.stateful.StatefulFailoverTestCase.java</file>
			<file type="M">org.jboss.as.test.clustering.cluster.ClusterAbstractTestCase.java</file>
			<file type="M">org.jboss.as.test.clustering.cluster.ejb3.stateful.remote.failover.LocalEJBClientFailoverTestCase.java</file>
			<file type="M">org.jboss.as.test.clustering.cluster.dispatcher.CommandDispatcherTestCase.java</file>
		</fixedFiles>
		<links>
			<link type="Related" description="relates to">828</link>
			<link type="Related" description="relates to">55</link>
			<link type="Related" description="relates to">215</link>
		</links>
	</bug>
	<bug id="1730" opendate="2013-07-22 11:54:04" fixdate="2013-08-01 13:16:03" resolution="Done">
		<buginformation>
			<summary>Wrong TCCL during ValidatorFactory retrieval</summary>
			<description>Here https://github.com/wildfly/wildfly/blob/master/ee/src/main/java/org/jboss/as/ee/beanvalidation/ValidatorJndiInjectable.java#L52
the TCCL is set to the classloader of the ValidatorFactory. If the ValidatorFactory is LazyValidatorFactory which delegates to a client proxy obtained from Weld, this call fails with






Caused by: java.lang.IllegalStateException: JBAS016071: Singleton not set for ModuleClassLoader for Module "org.jboss.as.ee:main" from local module loader @76724357 (finder: local module finder @47a34181 (r$




        at org.jboss.as.weld.services.ModuleGroupSingletonProvider$TCCLSingleton.get(ModuleGroupSingletonProvider.java:75) [wildfly-weld-8.0.0.Alpha4-SNAPSHOT.jar:8.0.0.Alpha4-SNAPSHOT]




        at org.jboss.weld.Container.instance(Container.java:54) [weld-core-impl-2.0.2.Final.jar:2013-06-27 10:15]




        at org.jboss.weld.bean.proxy.ContextBeanInstance.getInstance(ContextBeanInstance.java:70) [weld-core-impl-2.0.2.Final.jar:2013-06-27 10:15]




        at org.jboss.weld.bean.proxy.ProxyMethodHandler.invoke(ProxyMethodHandler.java:100) [weld-core-impl-2.0.2.Final.jar:2013-06-27 10:15]




        at org.jboss.weld.proxies.ValidatorFactory$618047133$Proxy$_$$_WeldClientProxy.getValidator(Unknown Source) [weld-core-impl-2.0.2.Final.jar:]




        at org.jboss.as.ee.beanvalidation.LazyValidatorFactory.getValidator(LazyValidatorFactory.java:83)




        at org.jboss.as.ee.beanvalidation.ValidatorJndiInjectable.getInstanceSafely(ValidatorJndiInjectable.java:53)




        at org.jboss.as.ee.beanvalidation.ValidatorJndiInjectable.getInstanceClassName(ValidatorJndiInjectable.java:61)




        at org.jboss.as.naming.ServiceBasedNamingStore.list(ServiceBasedNamingStore.java:176)




        at org.jboss.as.naming.NamingContext.list(NamingContext.java:323)




        at org.jboss.as.naming.InitialContext.list(InitialContext.java:140)




        at org.jboss.as.naming.NamingContext.list(NamingContext.java:339)




        at javax.naming.InitialContext.list(InitialContext.java:455) [rt.jar:1.7.0_25]




        at org.jboss.as.test.integration.web.injection.SimpleServlet.testAS7_5347(SimpleServlet.java:59) [classes:]




        ... 29 more






My assumption is that setting the TCCL is not necessary here at all though I may be wrong.</description>
			<version>8.0.0.Alpha3</version>
			<fixedVersion>8.0.0.Alpha4</fixedVersion>
			<type>Bug</type>
		</buginformation>
		<fixedFiles>
			<file type="M">org.jboss.as.test.integration.web.injection.ServletInjectionTestCase.java</file>
			<file type="M">org.jboss.as.ee.beanvalidation.ValidatorJndiInjectable.java</file>
		</fixedFiles>
		<links>
			<link type="Dependency" description="blocks">476</link>
			<link type="Related" description="is related to">6384</link>
		</links>
	</bug>
	<bug id="1757" opendate="2013-07-24 22:35:39" fixdate="2013-08-05 07:53:33" resolution="Duplicate Issue">
		<buginformation>
			<summary>InflowJarTestCase is failing</summary>
			<description>InflowJarTestCase is failing intermittently on all configurations.
But most of the time it fails for EAP and one some enviroments we got 100% failure ratio.</description>
			<version>8.0.0.Alpha3</version>
			<fixedVersion></fixedVersion>
			<type>Bug</type>
		</buginformation>
		<fixedFiles>
			<file type="M">org.jboss.as.test.integration.jca.moduledeployment.AbstractModuleDeploymentTestCaseSetup.java</file>
			<file type="M">org.jboss.as.test.integration.jca.moduledeployment.TwoModulesOfDifferentTypeTestCase.java</file>
			<file type="M">org.jboss.as.test.integration.jca.moduledeployment.TwoModulesJarTestCase.java</file>
			<file type="M">org.jboss.as.test.integration.jca.moduledeployment.TwoModulesFlatTestCase.java</file>
			<file type="M">org.jboss.as.test.integration.jca.moduledeployment.MultiObjectActivationJarTestCase.java</file>
			<file type="M">org.jboss.as.test.integration.jca.moduledeployment.MultiObjectActivationFlatTestCase.java</file>
			<file type="M">org.jboss.as.test.integration.jca.moduledeployment.PartialObjectActivationJarTestCase.java</file>
			<file type="M">org.jboss.as.test.integration.jca.moduledeployment.MultiActivationJarTestCase.java</file>
			<file type="M">org.jboss.as.test.integration.jca.moduledeployment.MultiActivationFlatTestCase.java</file>
			<file type="M">org.jboss.as.test.integration.jca.moduledeployment.BasicFlatTestCase.java</file>
			<file type="M">org.jboss.as.test.integration.jca.moduledeployment.PureFlatTestCase.java</file>
			<file type="M">org.jboss.as.test.integration.jca.moduledeployment.InflowFlatTestCase.java</file>
			<file type="M">org.jboss.as.test.integration.jca.moduledeployment.TwoRaFlatTestCase.java</file>
			<file type="M">org.jboss.as.test.integration.jca.moduledeployment.PureJarTestCase.java</file>
			<file type="M">org.jboss.as.test.integration.jca.moduledeployment.PartialObjectActivationFlatTestCase.java</file>
			<file type="M">org.jboss.as.test.integration.jca.moduledeployment.BasicJarTestCase.java</file>
			<file type="M">org.jboss.as.test.integration.jca.moduledeployment.InflowJarTestCase.java</file>
			<file type="M">org.jboss.as.test.integration.jca.moduledeployment.TwoRaJarTestCase.java</file>
		</fixedFiles>
		<links>
			<link type="Duplicate" description="duplicates">1560</link>
			<link type="Related" description="relates to">1560</link>
		</links>
	</bug>
	<bug id="1710" opendate="2013-07-17 16:18:36" fixdate="2013-08-06 07:27:58" resolution="Done">
		<buginformation>
			<summary>HornetQ fail-back results in XA recovery warnings</summary>
			<description>I pulled the WildFly source as of today and used that for my testing.
I configured 2 instances of WildFly for HornetQ live-backup functionality.  I started both and after a few minutes I killed the live server.  The backup became active as expected with no problems.  Then after a few more minutes I restarted the live server.  At this point fail-back occurred so that the backup again became passive.  However, I began to see WARN messages like this on the backup every 2 minutes or so:






10:33:45,054 WARN  [org.hornetq.jms.server] (Periodic Recovery) HQ122015: Can not connect to XARecoveryConfig [transportConfiguration = [TransportConfiguration(name=246bb54d-eef6-11e2-a532-65f5ccbce265, factory=org-hornetq-core-remoting-impl-invm-InVMConnectorFactory) ?server-id=0], discoveryConfiguration = null, username=null, password=null] on auto-generated resource recovery: HornetQException[errorType=NOT_CONNECTED message=HQ119007: Cannot connect to server(s). Tried with all available servers.]




	at org.hornetq.core.client.impl.ServerLocatorImpl.createSessionFactory(ServerLocatorImpl.java:852) [hornetq-core-client-2.3.1.Final.jar:]




	at org.hornetq.jms.server.recovery.HornetQXAResourceWrapper.connect(HornetQXAResourceWrapper.java:378) [hornetq-jms-server-2.3.1.Final.jar:]




	at org.hornetq.jms.server.recovery.HornetQXAResourceWrapper.getDelegate(HornetQXAResourceWrapper.java:287) [hornetq-jms-server-2.3.1.Final.jar:]




	at org.hornetq.jms.server.recovery.HornetQXAResourceWrapper.recover(HornetQXAResourceWrapper.java:75) [hornetq-jms-server-2.3.1.Final.jar:]




	at com.arjuna.ats.internal.jta.recovery.arjunacore.XARecoveryModule.xaRecoveryFirstPass(XARecoveryModule.java:534) [narayana-jts-jacorb-5.0.0.M3.jar:5.0.0.M3 (revision: ${buildNumber})]




	at com.arjuna.ats.internal.jta.recovery.arjunacore.XARecoveryModule.periodicWorkFirstPass(XARecoveryModule.java:168) [narayana-jts-jacorb-5.0.0.M3.jar:5.0.0.M3 (revision: ${buildNumber})]




	at com.arjuna.ats.internal.arjuna.recovery.PeriodicRecovery.doWorkInternal(PeriodicRecovery.java:743) [narayana-jts-jacorb-5.0.0.M3.jar:5.0.0.M3 (revision: ${buildNumber})]




	at com.arjuna.ats.internal.arjuna.recovery.PeriodicRecovery.run(PeriodicRecovery.java:371) [narayana-jts-jacorb-5.0.0.M3.jar:5.0.0.M3 (revision: ${buildNumber})]





</description>
			<version>8.0.0.Alpha2</version>
			<fixedVersion>8.0.0.Alpha4</fixedVersion>
			<type>Bug</type>
		</buginformation>
		<fixedFiles>
			<file type="M">org.jboss.as.messaging.jms.JMSService.java</file>
			<file type="M">org.jboss.as.test.manualmode.messaging.HornetQBackupActivationTestCase.java</file>
			<file type="M">org.jboss.as.messaging.jms.PooledConnectionFactoryService.java</file>
		</fixedFiles>
	</bug>
	<bug id="1794" opendate="2013-07-31 21:45:41" fixdate="2013-08-06 16:24:04" resolution="Done">
		<buginformation>
			<summary>CDI JSF apps get WELD-001529 warning</summary>
			<description>With the latest version of Weld, JSF apps that use CDI now get this warning:






14:42:20,862 WARN  [org.jboss.weld.Bean] (MSC service thread 1-2) WELD-001529 An InjectionTarget is created for a class org.jboss.as.jsf.injection.weld.WeldApplicationFactory which does not have any appropriate constructor.





</description>
			<version>8.0.0.Alpha4</version>
			<fixedVersion>8.0.0.Alpha4</fixedVersion>
			<type>Bug</type>
		</buginformation>
		<fixedFiles>
			<file type="M">org.jboss.as.jsf.injection.weld.WeldApplicationFactory.java</file>
		</fixedFiles>
	</bug>
	<bug id="1810" opendate="2013-08-02 12:28:58" fixdate="2013-08-09 13:15:26" resolution="Done">
		<buginformation>
			<summary>SFSB tx lock not released in exception was thrown in Synchronization callback</summary>
			<description>Because the owning tx was never pushed into the OwnableReentrantLock ownership stack in org.jboss.as.ejb3.component.stateful.StatefulSessionSynchronizationInterceptor.handleThrowableInTxSync(...).
This will cause subsequent Lock.tryAcquire(..) to fail for a different tx.</description>
			<version>8.0.0.Alpha1</version>
			<fixedVersion>8.0.0.Alpha4</fixedVersion>
			<type>Bug</type>
		</buginformation>
		<fixedFiles>
			<file type="M">org.jboss.as.ejb3.component.stateful.StatefulSessionSynchronizationInterceptor.java</file>
		</fixedFiles>
	</bug>
	<bug id="1497" opendate="2013-06-11 14:12:13" fixdate="2013-08-09 20:42:00" resolution="Done">
		<buginformation>
			<summary>Log4jCustomHandlerTestCase.disabledLoggerTest does not re-enable the handler</summary>
			<description>Log4jCustomHandlerTestCase.disabledLoggerTest does not bring the setup back in the original state. This means that whenever defaultLoggingTest is run after disabledLoggerTest, the test fails.
disabledLoggerTest must reset the enabled flag.</description>
			<version>8.0.0.Alpha1</version>
			<fixedVersion>8.0.0.Alpha4</fixedVersion>
			<type>Bug</type>
		</buginformation>
		<fixedFiles>
			<file type="M">org.jboss.as.test.integration.logging.operations.Log4jCustomHandlerTestCase.java</file>
			<file type="M">org.jboss.as.test.integration.logging.operations.CustomHandlerTestCase.java</file>
			<file type="M">org.jboss.as.test.integration.logging.operations.AbstractLoggingOperationsTestCase.java</file>
		</fixedFiles>
		<links>
			<link type="Dependency" description="is blocked by">1503</link>
		</links>
	</bug>
	<bug id="1815" opendate="2013-08-03 21:57:33" fixdate="2013-08-09 21:18:08" resolution="Done">
		<buginformation>
			<summary>Distributable SessionManager.getSession(String) implementation is wrong.</summary>
			<description>During the upgrade to Undertow 1.0.0.Beta2, a new method was added to the clustered SessionManager implementation, but was implemented incorrectly.
Luckily, I don&amp;amp;apos;t think this method is used yet by Undertow.</description>
			<version>8.0.0.Alpha3</version>
			<fixedVersion>8.0.0.Alpha4</fixedVersion>
			<type>Bug</type>
		</buginformation>
		<fixedFiles>
			<file type="M">org.wildfly.clustering.web.undertow.session.SessionManagerFacadeTestCase.java</file>
			<file type="M">org.wildfly.extension.undertow.deployment.UndertowDeploymentInfoService.java</file>
			<file type="M">org.wildfly.clustering.web.infinispan.session.SimpleSessionMetaDataExternalizer.java</file>
			<file type="D">org.wildfly.clustering.web.undertow.session.SessionManagerFacade.java</file>
			<file type="M">org.wildfly.clustering.web.infinispan.session.InfinispanSessionManager.java</file>
			<file type="M">org.wildfly.clustering.web.undertow.session.SessionFacadeTestCase.java</file>
			<file type="M">org.wildfly.clustering.web.infinispan.session.fine.SessionAttributeCacheKeyExternalizer.java</file>
			<file type="M">org.wildfly.clustering.web.undertow.session.SessionIdentifierFactoryAdapter.java</file>
			<file type="M">org.wildfly.clustering.web.session.Session.java</file>
			<file type="M">org.wildfly.clustering.web.infinispan.sso.coarse.CoarseSSOCacheEntryExternalizer.java</file>
			<file type="M">org.wildfly.mod_cluster.undertow.UndertowContext.java</file>
			<file type="M">org.wildfly.clustering.web.infinispan.session.coarse.CoarseSessionCacheEntryExternalizer.java</file>
			<file type="M">org.wildfly.clustering.web.session.ImmutableSession.java</file>
			<file type="D">org.wildfly.clustering.web.undertow.session.SessionManagerFacadeFactory.java</file>
			<file type="M">org.wildfly.clustering.web.session.SessionManager.java</file>
			<file type="D">org.wildfly.clustering.web.undertow.session.SessionFacade.java</file>
			<file type="M">org.wildfly.clustering.web.infinispan.session.coarse.SessionAttributesCacheKeyExternalizer.java</file>
			<file type="M">org.wildfly.clustering.web.infinispan.session.fine.FineSessionCacheEntryExternalizer.java</file>
		</fixedFiles>
	</bug>
	<bug id="1861" opendate="2013-08-11 01:56:08" fixdate="2013-08-13 03:51:07" resolution="Done">
		<buginformation>
			<summary>Zombie web sessions from old cluster members can cause OOM</summary>
			<description>In the new web session clustering implementation, expiration and passivation are handled locally by the owning node.  If that node leaves, the sessions previously handled by the left node will be rescheduled for passivation/expiration by whichever node next handles that session.  However, any sessions previously handled by the left node that are never accessed again (i.e. zombie sessions) will stay in memory on the remote nodes, since no node ever schedules them for passivation/expiration.  The number of session zombies will continue to grow like a malignant cancer as the cluster membership changes, filling the available memory until there is nothing left to consume...</description>
			<version>8.0.0.Alpha3</version>
			<fixedVersion>8.0.0.Beta1</fixedVersion>
			<type>Bug</type>
		</buginformation>
		<fixedFiles>
			<file type="M">org.wildfly.clustering.web.infinispan.session.InfinispanSessionTestCase.java</file>
			<file type="M">org.wildfly.clustering.web.infinispan.session.SessionEvictionSchedulerTestCase.java</file>
			<file type="M">org.wildfly.clustering.web.infinispan.sso.CoarseSSOFactoryTestCase.java</file>
			<file type="M">org.wildfly.clustering.web.infinispan.session.InfinispanSessionManager.java</file>
			<file type="M">org.wildfly.clustering.web.infinispan.session.SessionEvictionScheduler.java</file>
			<file type="M">org.wildfly.clustering.web.infinispan.session.SessionExpirationSchedulerTestCase.java</file>
			<file type="M">org.wildfly.clustering.web.infinispan.sso.CoarseSessionsTestCase.java</file>
			<file type="M">org.wildfly.clustering.web.infinispan.sso.InfinispanSSOTestCase.java</file>
			<file type="M">org.wildfly.clustering.web.infinispan.session.SimpleSessionMetaDataTestCase.java</file>
			<file type="M">org.wildfly.clustering.web.infinispan.session.ExpiredSessionRemoverTestCase.java</file>
			<file type="M">org.wildfly.clustering.web.infinispan.session.SessionExpirationScheduler.java</file>
		</fixedFiles>
	</bug>
	<bug id="1735" opendate="2013-07-22 19:56:05" fixdate="2013-08-13 12:20:58" resolution="Done">
		<buginformation>
			<summary>cli EndIfHandler class exception created but not thrown</summary>
			<description>cli EndIfHandler class creates an CommandLineException without throwing it:






            try {




                final ModelNode response = client.execute(ifRequest);




                if(!Util.isSuccess(response)) {




                    new CommandLineException("if request failed: " + Util.getFailureDescription(response));




                }




            } catch (IOException e) {




                throw new CommandLineException("if request failed", e);




            }





</description>
			<version>8.0.0.Alpha3</version>
			<fixedVersion>8.0.0.Alpha4</fixedVersion>
			<type>Bug</type>
		</buginformation>
		<fixedFiles>
			<file type="M">org.jboss.as.cli.handlers.ifelse.EndIfHandler.java</file>
		</fixedFiles>
	</bug>
	<bug id="1879" opendate="2013-08-14 15:53:06" fixdate="2013-08-15 14:14:23" resolution="Done">
		<buginformation>
			<summary>Poor error handling in FilesystemDeploymentScanner when a directory cannot be read</summary>
			<description>http://paste2.org/1VEUkjbz
When the scanner reads a directory and File.listFiles() returns null, that means there was a problem doing the list, which should result in an exception. It does, but the exception is an NPE (see stack trace linked above); it should be something more meaningful.</description>
			<version>8.0.0.Alpha1</version>
			<fixedVersion>8.0.0.Beta1</fixedVersion>
			<type>Bug</type>
		</buginformation>
		<fixedFiles>
			<file type="M">org.jboss.as.server.deployment.scanner.FileSystemDeploymentService.java</file>
			<file type="M">org.jboss.as.server.deployment.scanner.DeploymentScannerMessages.java</file>
		</fixedFiles>
	</bug>
	<bug id="1781" opendate="2013-07-30 10:40:11" fixdate="2013-08-16 07:08:37" resolution="Done">
		<buginformation>
			<summary>XTS subsystem doesn&amp;apos;t list the DUP phase order in Phase.java</summary>
			<description>https://github.com/wildfly/wildfly/blob/master/xts/src/main/java/org/jboss/as/xts/XTSSubsystemAdd.java#L172 does:






processorTarget.addDeploymentProcessor(XTSExtension.SUBSYSTEM_NAME, Phase.POST_MODULE, Phase.POST_MODULE_WELD_PORTABLE_EXTENSIONS + 10, new CDIExtensionProcessor());






The phase number should all be centrally maintained in Phase.java so that those can be tracked.</description>
			<version>8.0.0.Alpha3</version>
			<fixedVersion></fixedVersion>
			<type>Bug</type>
		</buginformation>
		<fixedFiles>
			<file type="M">org.jboss.as.server.deployment.Phase.java</file>
			<file type="M">org.jboss.as.xts.XTSSubsystemAdd.java</file>
		</fixedFiles>
	</bug>
	<bug id="1511" opendate="2013-06-12 17:54:44" fixdate="2013-08-20 15:35:49" resolution="Done">
		<buginformation>
			<summary>RemoteDomainConnection.close() will block forever if the master HC is not running </summary>
			<description>RemoteDomainConnection.close() overrides FutureManagementChannel.close() to first send a "unregister" message to the master HC before calling the superclass functionality.
Problem is this call tries to open a connection to the master and will block forever waiting for it to connect if the master isn&amp;amp;apos;t available, as seen at http://fpaste.org/18232/37105700/
That example was from AutoIgnoredResourcesDomainTestCase which is concurrently shutting down the hosts in the domain, meaning the master can be shutting down in the middle of or prior to slave shutdown.</description>
			<version>8.0.0.Alpha1</version>
			<fixedVersion>8.0.0.Beta1</fixedVersion>
			<type>Bug</type>
		</buginformation>
		<fixedFiles>
			<file type="M">org.jboss.as.host.controller.RemoteDomainConnectionService.java</file>
			<file type="M">org.jboss.as.server.mgmt.domain.HostControllerConnection.java</file>
			<file type="M">org.jboss.as.host.controller.RemoteDomainConnection.java</file>
			<file type="M">org.jboss.as.test.integration.respawn.TestControllerClient.java</file>
			<file type="M">org.jboss.as.protocol.mgmt.FutureManagementChannel.java</file>
			<file type="M">org.jboss.as.protocol.ProtocolConnectionManager.java</file>
		</fixedFiles>
	</bug>
	<bug id="1374" opendate="2013-05-22 09:08:28" fixdate="2013-08-20 15:36:19" resolution="Done">
		<buginformation>
			<summary>Unable to start JBoss server after issuing kill -9</summary>
			<description>After manually killing a server it fails on subsequent start attempt using the management console or CLI.</description>
			<version>8.0.0.Alpha1</version>
			<fixedVersion>8.0.0.Beta1</fixedVersion>
			<type>Bug</type>
		</buginformation>
		<fixedFiles>
			<file type="M">org.jboss.as.test.integration.respawn.RespawnTestCase.java</file>
			<file type="M">org.jboss.as.host.controller.ServerInventoryImpl.java</file>
			<file type="M">org.jboss.as.host.controller.ManagedServer.java</file>
		</fixedFiles>
	</bug>
	<bug id="1886" opendate="2013-08-15 08:01:10" fixdate="2013-08-21 04:34:43" resolution="Done">
		<buginformation>
			<summary>Naming store can be shut down before components</summary>
			<description></description>
			<version>8.0.0.Alpha4</version>
			<fixedVersion>8.0.0.Beta1</fixedVersion>
			<type>Bug</type>
		</buginformation>
		<fixedFiles>
			<file type="M">org.jboss.as.naming.deployment.JndiNamingDependencyProcessor.java</file>
		</fixedFiles>
	</bug>
	<bug id="1926" opendate="2013-08-22 12:54:51" fixdate="2013-08-22 13:56:15" resolution="Done">
		<buginformation>
			<summary>Probe operation on transaction log fails with NullPointerException</summary>
			<description>On running operation
/subsystem=transactions/log-store=log-store:probe
causes NullPointerException is thrown






ERROR [org.jboss.as.controller.management-operation] (management-handler-thread - 4) JBAS014612: Operation ("probe") failed - address: ([




    ("subsystem" =&amp;gt; "transactions"),




    ("log-store" =&amp;gt; "log-store")




]): java.lang.NullPointerException




	at org.jboss.as.jmx.MBeanServerAuditLogger.isOperationReadOnly(MBeanServerAuditLogger.java:494)




	at org.jboss.as.jmx.MBeanServerAuditLogger.invoke(MBeanServerAuditLogger.java:293)




	at org.jboss.as.jmx.PluggableMBeanServerImpl.invoke(PluggableMBeanServerImpl.java:548)




	at org.jboss.as.txn.subsystem.LogStoreProbeHandler.probeTransactions(LogStoreProbeHandler.java:156)




	at org.jboss.as.txn.subsystem.LogStoreProbeHandler.execute(LogStoreProbeHandler.java:184)




	at org.jboss.as.controller.AbstractOperationContext.executeStep(AbstractOperationContext.java:608) [wildfly-controller-8.0.0.Beta1-SNAPSHOT.jar:8.0.0.Beta1-SNAPSHOT]




	at org.jboss.as.controller.AbstractOperationContext.doCompleteStep(AbstractOperationContext.java:486) [wildfly-controller-8.0.0.Beta1-SNAPSHOT.jar:8.0.0.Beta1-SNAPSHOT]




	at org.jboss.as.controller.AbstractOperationContext.completeStepInternal(AbstractOperationContext.java:275) [wildfly-controller-8.0.0.Beta1-SNAPSHOT.jar:8.0.0.Beta1-SNAPSHOT]




	at org.jboss.as.controller.AbstractOperationContext.executeOperation(AbstractOperationContext.java:270) [wildfly-controller-8.0.0.Beta1-SNAPSHOT.jar:8.0.0.Beta1-SNAPSHOT]




	at org.jboss.as.controller.ModelControllerImpl.internalExecute(ModelControllerImpl.java:251) [wildfly-controller-8.0.0.Beta1-SNAPSHOT.jar:8.0.0.Beta1-SNAPSHOT]




	at org.jboss.as.controller.ModelControllerImpl.execute(ModelControllerImpl.java:138) [wildfly-controller-8.0.0.Beta1-SNAPSHOT.jar:8.0.0.Beta1-SNAPSHOT]




	at org.jboss.as.controller.remote.ModelControllerClientOperationHandler$ExecuteRequestHandler.doExecute(ModelControllerClientOperationHandler.java:205) [wildfly-controller-8.0.0.Beta1-SNAPSHOT.jar:8.0.0.Beta1-SNAPSHOT]




	at org.jboss.as.controller.remote.ModelControllerClientOperationHandler$ExecuteRequestHandler.access$300(ModelControllerClientOperationHandler.java:110) [wildfly-controller-8.0.0.Beta1-SNAPSHOT.jar:8.0.0.Beta1-SNAPSHOT]




	at org.jboss.as.controller.remote.ModelControllerClientOperationHandler$ExecuteRequestHandler$1$2.run(ModelControllerClientOperationHandler.java:157) [wildfly-controller-8.0.0.Beta1-SNAPSHOT.jar:8.0.0.Beta1-SNAPSHOT]




	at org.jboss.as.controller.remote.ModelControllerClientOperationHandler$ExecuteRequestHandler$1$2.run(ModelControllerClientOperationHandler.java:153) [wildfly-controller-8.0.0.Beta1-SNAPSHOT.jar:8.0.0.Beta1-SNAPSHOT]




	at java.security.AccessController.doPrivileged(Native Method) [rt.jar:1.7.0_25]




	at javax.security.auth.Subject.doAs(Subject.java:415) [rt.jar:1.7.0_25]




	at org.jboss.as.controller.remote.ModelControllerClientOperationHandler$ExecuteRequestHandler$1.execute(ModelControllerClientOperationHandler.java:153) [wildfly-controller-8.0.0.Beta1-SNAPSHOT.jar:8.0.0.Beta1-SNAPSHOT]




	at org.jboss.as.protocol.mgmt.AbstractMessageHandler$2$1.doExecute(AbstractMessageHandler.java:296) [wildfly-protocol-8.0.0.Beta1-SNAPSHOT.jar:8.0.0.Beta1-SNAPSHOT]




	at org.jboss.as.protocol.mgmt.AbstractMessageHandler$AsyncTaskRunner.run(AbstractMessageHandler.java:518) [wildfly-protocol-8.0.0.Beta1-SNAPSHOT.jar:8.0.0.Beta1-SNAPSHOT]




	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1145) [rt.jar:1.7.0_25]




	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:615) [rt.jar:1.7.0_25]




	at java.lang.Thread.run(Thread.java:724) [rt.jar:1.7.0_25]




	at org.jboss.threads.JBossThread.run(JBossThread.java:122) [jboss-threads-2.1.0.Final.jar:2.1.0.Final]










</description>
			<version>8.0.0.Beta1</version>
			<fixedVersion></fixedVersion>
			<type>Bug</type>
		</buginformation>
		<fixedFiles>
			<file type="M">org.jboss.as.jmx.PluggableMBeanServerImpl.java</file>
		</fixedFiles>
	</bug>
	<bug id="1896" opendate="2013-08-18 19:55:12" fixdate="2013-08-23 07:24:45" resolution="Done">
		<buginformation>
			<summary> The CLI command "module remove" fails to delete non-empty folders</summary>
			<description>The "module remove" command fails when it deletes non-empty folder.
For instance a resource adapter module contains META-INF/ra.xml file in the module. When I choose to delete the module, it fails:
[standalone@localhost:9999 /] module remove --name=org.jboss.ironjacamar.ra16out 
Failed to delete /home/jcacek/Testing/jboss-eap-6.1.1.ER4/modules/org/jboss/ironjacamar/ra16out/main/META-INF</description>
			<version>8.0.0.Alpha4</version>
			<fixedVersion>8.0.0.Beta1</fixedVersion>
			<type>Bug</type>
		</buginformation>
		<fixedFiles>
			<file type="M">org.jboss.as.cli.handlers.module.ASModuleHandler.java</file>
		</fixedFiles>
	</bug>
	<bug id="1927" opendate="2013-08-22 13:02:22" fixdate="2013-08-23 15:32:44" resolution="Done">
		<buginformation>
			<summary>Some unneccesary File.mkdir() calls in core-model-test TestModelControllerService</summary>
			<description></description>
			<version>8.0.0.Alpha4</version>
			<fixedVersion>8.0.0.Beta1</fixedVersion>
			<type>Bug</type>
		</buginformation>
		<fixedFiles>
			<file type="M">org.jboss.as.core.model.test.TestModelControllerService.java</file>
		</fixedFiles>
	</bug>
	<bug id="1910" opendate="2013-08-20 13:41:57" fixdate="2013-08-26 02:59:49" resolution="Done">
		<buginformation>
			<summary>NotSerializableException when Infinispan cache being committed</summary>
			<description>When processing a request from GateIn on Wildfly, I receive the following exception trace:






09:21:16,566 ERROR [org.infinispan.interceptors.InvocationContextInterceptor] (default task-19) ISPN000136: Execution error: org.infinispan.marshall.NotSerializableException: io.undertow.security.api.AuthenticatedSessionManager$AuthenticatedSession




Caused by: an exception which occurred:




	in object java.util.HashMap@fbb77ce1




	in object org.jboss.as.clustering.marshalling.SimpleMarshalledValue@fbb77ce1




	in object org.infinispan.container.entries.ImmortalCacheEntry@75bc632f




	in object org.infinispan.loaders.bucket.Bucket@29700917









09:21:16,567 ERROR [org.infinispan.transaction.TransactionCoordinator] (default task-19) ISPN000097: Error while processing a prepare in a single-phase transaction: org.infinispan.marshall.NotSerializableException: io.undertow.security.api.AuthenticatedSessionManager$AuthenticatedSession




Caused by: an exception which occurred:




	in object java.util.HashMap@fbb77ce1




	in object org.jboss.as.clustering.marshalling.SimpleMarshalledValue@fbb77ce1




	in object org.infinispan.container.entries.ImmortalCacheEntry@75bc632f




	in object org.infinispan.loaders.bucket.Bucket@29700917









09:21:16,569 ERROR [org.infinispan.transaction.tm.DummyTransaction] (default task-19) ISPN000111: afterCompletion() failed for SynchronizationAdapter{localTransaction=LocalTransaction{remoteLockedNodes=null, isMarkedForRollback=false, lockedKeys=null, backupKeyLocks=null, topologyId=-1, isFromStateTransfer=false} org.infinispan.transaction.synchronization.SyncLocalTransaction@296} org.infinispan.transaction.synchronization.SynchronizationAdapter@2b5: org.infinispan.CacheException: Could not commit.




	at org.infinispan.transaction.synchronization.SynchronizationAdapter.afterCompletion(SynchronizationAdapter.java:83)




	at org.infinispan.transaction.tm.DummyTransaction.notifyAfterCompletion(DummyTransaction.java:285)




	at org.infinispan.transaction.tm.DummyTransaction.runCommitTx(DummyTransaction.java:334)




	at org.infinispan.transaction.tm.DummyTransaction.commit(DummyTransaction.java:91)




	at org.infinispan.transaction.tm.DummyBaseTransactionManager.commit(DummyBaseTransactionManager.java:102)




	at org.infinispan.batch.BatchContainer.resolveTransaction(BatchContainer.java:123)




	at org.infinispan.batch.BatchContainer.endBatch(BatchContainer.java:105)




	at org.infinispan.batch.BatchContainer.endBatch(BatchContainer.java:86)




	at org.infinispan.CacheImpl.endBatch(CacheImpl.java:793)




	at org.infinispan.AbstractDelegatingCache.endBatch(AbstractDelegatingCache.java:80)




	at org.wildfly.clustering.web.infinispan.session.InfinispanSessionManager.endBatch(InfinispanSessionManager.java:123)




	at org.wildfly.clustering.web.undertow.session.SessionAdapter.requestDone(SessionAdapter.java:62)




	at io.undertow.servlet.spec.ServletContextImpl.updateSessionAccessTime(ServletContextImpl.java:690) [undertow-servlet-1.0.0.Beta7.jar:1.0.0.Beta7]




	at io.undertow.servlet.spec.HttpServletResponseImpl.responseDone(HttpServletResponseImpl.java:500) [undertow-servlet-1.0.0.Beta7.jar:1.0.0.Beta7]




	at io.undertow.servlet.spec.HttpServletResponseImpl.sendRedirect(HttpServletResponseImpl.java:176) [undertow-servlet-1.0.0.Beta7.jar:1.0.0.Beta7]




	at org.exoplatform.web.login.LoginServlet.doGet(LoginServlet.java:197) [exo.portal.component.web.security-3.6.1.Final-SNAPSHOT.jar:3.6.1.Final-SNAPSHOT]




	at org.exoplatform.web.login.LoginServlet.doPost(LoginServlet.java:223) [exo.portal.component.web.security-3.6.1.Final-SNAPSHOT.jar:3.6.1.Final-SNAPSHOT]




	at javax.servlet.http.HttpServlet.service(HttpServlet.java:707) [jboss-servlet-api_3.1_spec-1.0.0.Beta1.jar:1.0.0.Beta1]




	at org.exoplatform.container.web.AbstractHttpServlet.onService(AbstractHttpServlet.java:183) [exo.kernel.container-2.4.4-GA.jar:2.4.4-GA]




	at org.exoplatform.container.web.AbstractHttpServlet.service(AbstractHttpServlet.java:132) [exo.kernel.container-2.4.4-GA.jar:2.4.4-GA]




	at javax.servlet.http.HttpServlet.service(HttpServlet.java:790) [jboss-servlet-api_3.1_spec-1.0.0.Beta1.jar:1.0.0.Beta1]




	at io.undertow.servlet.handlers.ServletHandler.handleRequest(ServletHandler.java:87) [undertow-servlet-1.0.0.Beta7.jar:1.0.0.Beta7]




	at io.undertow.servlet.handlers.FilterHandler$FilterChainImpl.doFilter(FilterHandler.java:130) [undertow-servlet-1.0.0.Beta7.jar:1.0.0.Beta7]




	at io.undertow.websockets.jsr.JsrWebSocketFilter.doFilter(JsrWebSocketFilter.java:136) [undertow-websockets-jsr-1.0.0.Beta7.jar:1.0.0.Beta7]




	at io.undertow.servlet.core.ManagedFilter.doFilter(ManagedFilter.java:56) [undertow-servlet-1.0.0.Beta7.jar:1.0.0.Beta7]




	at io.undertow.servlet.handlers.FilterHandler$FilterChainImpl.doFilter(FilterHandler.java:132) [undertow-servlet-1.0.0.Beta7.jar:1.0.0.Beta7]




	at io.undertow.websockets.jsr.JsrWebSocketFilter.doFilter(JsrWebSocketFilter.java:136) [undertow-websockets-jsr-1.0.0.Beta7.jar:1.0.0.Beta7]




	at io.undertow.servlet.core.ManagedFilter.doFilter(ManagedFilter.java:56) [undertow-servlet-1.0.0.Beta7.jar:1.0.0.Beta7]




	at io.undertow.servlet.handlers.FilterHandler$FilterChainImpl.doFilter(FilterHandler.java:132) [undertow-servlet-1.0.0.Beta7.jar:1.0.0.Beta7]




	at org.exoplatform.web.filter.ExtensibleFilter$ExtensibleFilterChain.doFilter(ExtensibleFilter.java:96) [exo.portal.component.web.api-3.6.1.Final-SNAPSHOT.jar:3.6.1.Final-SNAPSHOT]




	at org.exoplatform.web.filter.ExtensibleFilter.doFilter(ExtensibleFilter.java:71) [exo.portal.component.web.api-3.6.1.Final-SNAPSHOT.jar:3.6.1.Final-SNAPSHOT]




	at org.exoplatform.web.filter.GenericFilter.doFilter(GenericFilter.java:70) [exo.portal.component.web.api-3.6.1.Final-SNAPSHOT.jar:3.6.1.Final-SNAPSHOT]




	at io.undertow.servlet.core.ManagedFilter.doFilter(ManagedFilter.java:56) [undertow-servlet-1.0.0.Beta7.jar:1.0.0.Beta7]




	at io.undertow.servlet.handlers.FilterHandler$FilterChainImpl.doFilter(FilterHandler.java:132) [undertow-servlet-1.0.0.Beta7.jar:1.0.0.Beta7]




	at org.exoplatform.web.CacheUserProfileFilter.doFilter(CacheUserProfileFilter.java:67) [exo.portal.component.web.security-3.6.1.Final-SNAPSHOT.jar:3.6.1.Final-SNAPSHOT]




	at io.undertow.servlet.core.ManagedFilter.doFilter(ManagedFilter.java:56) [undertow-servlet-1.0.0.Beta7.jar:1.0.0.Beta7]




	at io.undertow.servlet.handlers.FilterHandler$FilterChainImpl.doFilter(FilterHandler.java:132) [undertow-servlet-1.0.0.Beta7.jar:1.0.0.Beta7]




	at org.exoplatform.frameworks.jcr.web.ThreadLocalSessionProviderInitializedFilter.doFilter(ThreadLocalSessionProviderInitializedFilter.java:122) [exo.jcr.framework.web-1.15.4-GA.jar:1.15.4-GA]




	at io.undertow.servlet.core.ManagedFilter.doFilter(ManagedFilter.java:56) [undertow-servlet-1.0.0.Beta7.jar:1.0.0.Beta7]




	at io.undertow.servlet.handlers.FilterHandler$FilterChainImpl.doFilter(FilterHandler.java:132) [undertow-servlet-1.0.0.Beta7.jar:1.0.0.Beta7]




	at org.exoplatform.web.login.ConversationStateUpdateFilter.doFilter(ConversationStateUpdateFilter.java:66) [exo.portal.component.web.security-3.6.1.Final-SNAPSHOT.jar:3.6.1.Final-SNAPSHOT]




	at io.undertow.servlet.core.ManagedFilter.doFilter(ManagedFilter.java:56) [undertow-servlet-1.0.0.Beta7.jar:1.0.0.Beta7]




	at io.undertow.servlet.handlers.FilterHandler$FilterChainImpl.doFilter(FilterHandler.java:132) [undertow-servlet-1.0.0.Beta7.jar:1.0.0.Beta7]




	at org.exoplatform.services.security.web.SetCurrentIdentityFilter.doFilter(SetCurrentIdentityFilter.java:88) [exo.core.component.security.core-2.5.4-GA.jar:2.5.4-GA]




	at io.undertow.servlet.core.ManagedFilter.doFilter(ManagedFilter.java:56) [undertow-servlet-1.0.0.Beta7.jar:1.0.0.Beta7]




	at io.undertow.servlet.handlers.FilterHandler$FilterChainImpl.doFilter(FilterHandler.java:132) [undertow-servlet-1.0.0.Beta7.jar:1.0.0.Beta7]




	at org.exoplatform.web.login.RememberMeFilter.doFilter(RememberMeFilter.java:81) [exo.portal.component.web.security-3.6.1.Final-SNAPSHOT.jar:3.6.1.Final-SNAPSHOT]




	at org.exoplatform.web.login.RememberMeFilter.doFilter(RememberMeFilter.java:49) [exo.portal.component.web.security-3.6.1.Final-SNAPSHOT.jar:3.6.1.Final-SNAPSHOT]




	at io.undertow.servlet.core.ManagedFilter.doFilter(ManagedFilter.java:56) [undertow-servlet-1.0.0.Beta7.jar:1.0.0.Beta7]




	at io.undertow.servlet.handlers.FilterHandler$FilterChainImpl.doFilter(FilterHandler.java:132) [undertow-servlet-1.0.0.Beta7.jar:1.0.0.Beta7]




	at org.gatein.security.oauth.webapi.OAuthDelegateFilter.doFilter(OAuthDelegateFilter.java:58) [exo.portal.component.web.oauth-web-3.6.1.Final-SNAPSHOT.jar:3.6.1.Final-SNAPSHOT]




	at io.undertow.servlet.core.ManagedFilter.doFilter(ManagedFilter.java:56) [undertow-servlet-1.0.0.Beta7.jar:1.0.0.Beta7]




	at io.undertow.servlet.handlers.FilterHandler$FilterChainImpl.doFilter(FilterHandler.java:132) [undertow-servlet-1.0.0.Beta7.jar:1.0.0.Beta7]




	at org.gatein.sso.integration.SSODelegateFilter.doFilter(SSODelegateFilter.java:60) [sso-integration-1.3.4.Final.jar:1.3.4.Final]




	at io.undertow.servlet.core.ManagedFilter.doFilter(ManagedFilter.java:56) [undertow-servlet-1.0.0.Beta7.jar:1.0.0.Beta7]




	at io.undertow.servlet.handlers.FilterHandler$FilterChainImpl.doFilter(FilterHandler.java:132) [undertow-servlet-1.0.0.Beta7.jar:1.0.0.Beta7]




	at org.exoplatform.container.web.PortalContainerFilter.doFilter(PortalContainerFilter.java:78) [exo.kernel.container-2.4.4-GA.jar:2.4.4-GA]




	at io.undertow.servlet.core.ManagedFilter.doFilter(ManagedFilter.java:56) [undertow-servlet-1.0.0.Beta7.jar:1.0.0.Beta7]




	at io.undertow.servlet.handlers.FilterHandler$FilterChainImpl.doFilter(FilterHandler.java:132) [undertow-servlet-1.0.0.Beta7.jar:1.0.0.Beta7]




	at org.gatein.portal.installer.PortalSetupFilter.doFilter(PortalSetupFilter.java:61) [exo.portal.component.portal-3.6.1.Final-SNAPSHOT.jar:3.6.1.Final-SNAPSHOT]




	at io.undertow.servlet.core.ManagedFilter.doFilter(ManagedFilter.java:56) [undertow-servlet-1.0.0.Beta7.jar:1.0.0.Beta7]




	at io.undertow.servlet.handlers.FilterHandler$FilterChainImpl.doFilter(FilterHandler.java:132) [undertow-servlet-1.0.0.Beta7.jar:1.0.0.Beta7]




	at org.gatein.portal.init.PortalCheckInitFilter.doFilter(PortalCheckInitFilter.java:66) [exo.portal.component.portal-3.6.1.Final-SNAPSHOT.jar:3.6.1.Final-SNAPSHOT]




	at io.undertow.servlet.core.ManagedFilter.doFilter(ManagedFilter.java:56) [undertow-servlet-1.0.0.Beta7.jar:1.0.0.Beta7]




	at io.undertow.servlet.handlers.FilterHandler$FilterChainImpl.doFilter(FilterHandler.java:132) [undertow-servlet-1.0.0.Beta7.jar:1.0.0.Beta7]




	at io.undertow.servlet.handlers.FilterHandler.handleRequest(FilterHandler.java:85) [undertow-servlet-1.0.0.Beta7.jar:1.0.0.Beta7]




	at io.undertow.servlet.handlers.security.ServletSecurityRoleHandler.handleRequest(ServletSecurityRoleHandler.java:82) [undertow-servlet-1.0.0.Beta7.jar:1.0.0.Beta7]




	at io.undertow.servlet.handlers.ServletDispatchingHandler.handleRequest(ServletDispatchingHandler.java:36) [undertow-servlet-1.0.0.Beta7.jar:1.0.0.Beta7]




	at org.wildfly.extension.undertow.security.SecurityContextAssociationHandler.handleRequest(SecurityContextAssociationHandler.java:78)




	at io.undertow.servlet.handlers.security.SSLInformationAssociationHandler.handleRequest(SSLInformationAssociationHandler.java:113) [undertow-servlet-1.0.0.Beta7.jar:1.0.0.Beta7]




	at io.undertow.security.handlers.AuthenticationCallHandler.handleRequest(AuthenticationCallHandler.java:52) [undertow-core-1.0.0.Beta7.jar:1.0.0.Beta7]




	at io.undertow.security.handlers.AuthenticationConstraintHandler.handleRequest(AuthenticationConstraintHandler.java:51) [undertow-core-1.0.0.Beta7.jar:1.0.0.Beta7]




	at io.undertow.security.handlers.AbstractConfidentialityHandler.handleRequest(AbstractConfidentialityHandler.java:45) [undertow-core-1.0.0.Beta7.jar:1.0.0.Beta7]




	at io.undertow.servlet.handlers.security.ServletSecurityConstraintHandler.handleRequest(ServletSecurityConstraintHandler.java:55) [undertow-servlet-1.0.0.Beta7.jar:1.0.0.Beta7]




	at io.undertow.security.handlers.AuthenticationMechanismsHandler.handleRequest(AuthenticationMechanismsHandler.java:58) [undertow-core-1.0.0.Beta7.jar:1.0.0.Beta7]




	at io.undertow.servlet.handlers.security.CachedAuthenticatedSessionHandler.handleRequest(CachedAuthenticatedSessionHandler.java:65) [undertow-servlet-1.0.0.Beta7.jar:1.0.0.Beta7]




	at io.undertow.security.handlers.SecurityInitialHandler.handleRequest(SecurityInitialHandler.java:70) [undertow-core-1.0.0.Beta7.jar:1.0.0.Beta7]




	at io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:25) [undertow-core-1.0.0.Beta7.jar:1.0.0.Beta7]




	at org.wildfly.extension.undertow.security.SecurityContextCreationHandler.handleRequest(SecurityContextCreationHandler.java:54)




	at io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:25) [undertow-core-1.0.0.Beta7.jar:1.0.0.Beta7]




	at io.undertow.servlet.handlers.ServletInitialHandler.handleFirstRequest(ServletInitialHandler.java:207) [undertow-servlet-1.0.0.Beta7.jar:1.0.0.Beta7]




	at io.undertow.servlet.handlers.ServletInitialHandler.dispatchRequest(ServletInitialHandler.java:194) [undertow-servlet-1.0.0.Beta7.jar:1.0.0.Beta7]




	at io.undertow.servlet.handlers.ServletInitialHandler.access$000(ServletInitialHandler.java:72) [undertow-servlet-1.0.0.Beta7.jar:1.0.0.Beta7]




	at io.undertow.servlet.handlers.ServletInitialHandler$1.handleRequest(ServletInitialHandler.java:128) [undertow-servlet-1.0.0.Beta7.jar:1.0.0.Beta7]




	at io.undertow.server.HttpHandlers.executeRootHandler(HttpHandlers.java:36) [undertow-core-1.0.0.Beta7.jar:1.0.0.Beta7]




	at io.undertow.server.HttpServerExchange$1.run(HttpServerExchange.java:628) [undertow-core-1.0.0.Beta7.jar:1.0.0.Beta7]




	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1145) [rt.jar:1.7.0_25]




	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:615) [rt.jar:1.7.0_25]




	at java.lang.Thread.run(Thread.java:724) [rt.jar:1.7.0_25]




Caused by: javax.transaction.xa.XAException




	at org.infinispan.transaction.TransactionCoordinator.handleCommitFailure(TransactionCoordinator.java:231)




	at org.infinispan.transaction.TransactionCoordinator.commit(TransactionCoordinator.java:179)




	at org.infinispan.transaction.synchronization.SynchronizationAdapter.afterCompletion(SynchronizationAdapter.java:81)




	... 88 more





</description>
			<version>8.0.0.Alpha4</version>
			<fixedVersion>8.0.0.Beta1</fixedVersion>
			<type>Bug</type>
		</buginformation>
		<fixedFiles>
			<file type="M">org.wildfly.clustering.web.undertow.session.SessionManagerAdapter.java</file>
			<file type="M">org.wildfly.clustering.web.undertow.session.UndertowSessionManager.java</file>
			<file type="D">org.wildfly.clustering.web.undertow.session.SessionFacadeTestCase.java</file>
			<file type="M">org.wildfly.clustering.web.undertow.session.SessionAdapter.java</file>
			<file type="M">org.wildfly.clustering.web.undertow.session.SessionManagerAdapterFactory.java</file>
			<file type="D">org.wildfly.clustering.web.undertow.session.SessionManagerFacadeTestCase.java</file>
		</fixedFiles>
	</bug>
	<bug id="1947" opendate="2013-08-25 07:40:16" fixdate="2013-08-26 06:34:45" resolution="Done">
		<buginformation>
			<summary>Issue with naming subsystem legacy schema</summary>
			<description>Even though the &amp;amp;apos;fix&amp;amp;apos; for WFLY-1914 is to bump the naming subsystem version, this should not be necessary. </description>
			<version>8.0.0.Alpha4</version>
			<fixedVersion>8.0.0.Beta1</fixedVersion>
			<type>Bug</type>
		</buginformation>
		<fixedFiles>
			<file type="M">org.jboss.as.naming.subsystem.NamingExtension.java</file>
			<file type="M">org.jboss.as.naming.subsystem.NamingSubsystem10Parser.java</file>
		</fixedFiles>
	</bug>
	<bug id="1937" opendate="2013-08-23 12:41:14" fixdate="2013-08-26 11:58:50" resolution="Done">
		<buginformation>
			<summary>IronJacamar 1.1 parser needed for deployments</summary>
			<description></description>
			<version>8.0.0.Beta1</version>
			<fixedVersion>8.0.0.Beta1</fixedVersion>
			<type>Bug</type>
		</buginformation>
		<fixedFiles>
			<file type="M">org.jboss.as.connector.deployers.ra.processors.IronJacamarDeploymentParsingProcessor.java</file>
		</fixedFiles>
	</bug>
	<bug id="789" opendate="2013-03-21 13:05:44" fixdate="2013-08-29 02:32:14" resolution="Done">
		<buginformation>
			<summary>HornetQ native library(AIO) are loaded by default - for transaction manager using hornetq object store</summary>
			<description>The issue cloned for upstream from an EAP6 bugzilla.
original description:

It seems that in case that of using hornetq for implementation of object store (configuration of transaction subsystem via &amp;lt;use-hornetq-store/&amp;gt; tag) the native library (AIO) is used automatically without necessity of user confirmation.
For EAP 6.0.1 was decided that native library can&amp;amp;apos;t be used without explicit customer configuration request. Please check discussion on bug #900591.
The NIO should be used until customer defined otherwise.
The configuration option is missing in TM and after the adding it the EAP configuration should reflect fact that the default behaviour should be NIO.</description>
			<version>8.0.0.Alpha1</version>
			<fixedVersion>8.0.0.Beta1</fixedVersion>
			<type>Bug</type>
		</buginformation>
		<fixedFiles>
			<file type="M">org.jboss.as.txn.subsystem.TransactionSubsystemRootResourceDefinition.java</file>
			<file type="M">org.jboss.as.txn.subsystem.TransactionSubsystemAdd.java</file>
			<file type="M">org.jboss.as.txn.subsystem.Namespace.java</file>
			<file type="M">org.jboss.as.txn.subsystem.TransactionExtension.java</file>
			<file type="M">org.jboss.as.txn.TransactionSubsystemTestCase.java</file>
			<file type="M">org.jboss.as.txn.subsystem.CommonAttributes.java</file>
			<file type="M">org.jboss.as.test.integration.domain.ExpressionSupportSmokeTestCase.java</file>
			<file type="M">org.jboss.as.txn.subsystem.LogStoreTransactionParticipantDefinition.java</file>
			<file type="M">org.jboss.as.txn.service.ArjunaObjectStoreEnvironmentService.java</file>
			<file type="M">org.jboss.as.txn.subsystem.Attribute.java</file>
		</fixedFiles>
		<links>
			<link type="Dependency" description="is blocked by">1065</link>
		</links>
	</bug>
	<bug id="1685" opendate="2013-07-12 10:00:03" fixdate="2013-08-29 05:30:08" resolution="Done">
		<buginformation>
			<summary>Authentication using LDAP security realm with SSL configured fails with ClassNotFoundException </summary>
			<description>When a user configures security domain, which uses RealmDirect with configured LDAP authentication using SSL as described in https://issues.jboss.org/browse/AS7-5246, the authentication fails with ClassNotFoundException. Moreover the exception is only logged on TRACE level, which is the second issue here.
IMO, the first problem can be simply solved by adding "org.jboss.as.domain-management" module dependency on a right place.
javax.naming.CommunicationException: 127.0.0.1:10636 [Root exception is java.lang.ClassNotFoundException: org.jboss.as.domain.management.connections.ldap.ThreadLocalSSLSocketFactory from [Module "deployment.ldaps-authn-sd.war:main" from Service Module Loader]]
	at com.sun.jndi.ldap.Connection.&amp;lt;init&amp;gt;(Connection.java:224)
	at com.sun.jndi.ldap.LdapClient.&amp;lt;init&amp;gt;(LdapClient.java:136)
	at com.sun.jndi.ldap.LdapClient.getInstance(LdapClient.java:1600)
	at com.sun.jndi.ldap.LdapCtx.connect(LdapCtx.java:2698)
	at com.sun.jndi.ldap.LdapCtx.&amp;lt;init&amp;gt;(LdapCtx.java:316)
	at com.sun.jndi.ldap.LdapCtxFactory.getUsingURL(LdapCtxFactory.java:193)
	at com.sun.jndi.ldap.LdapCtxFactory.getUsingURLs(LdapCtxFactory.java:211)
	at com.sun.jndi.ldap.LdapCtxFactory.getLdapCtxInstance(LdapCtxFactory.java:154)
	at com.sun.jndi.ldap.LdapCtxFactory.getInitialContext(LdapCtxFactory.java:84)
	at javax.naming.spi.NamingManager.getInitialContext(NamingManager.java:684)
	at javax.naming.InitialContext.getDefaultInitCtx(InitialContext.java:307)
	at javax.naming.InitialContext.init(InitialContext.java:242)
	at javax.naming.InitialContext.&amp;lt;init&amp;gt;(InitialContext.java:216)
	at javax.naming.directory.InitialDirContext.&amp;lt;init&amp;gt;(InitialDirContext.java:101)
	at org.jboss.as.domain.management.connections.ldap.LdapConnectionManagerService.getConnection(LdapConnectionManagerService.java:112)
	at org.jboss.as.domain.management.connections.ldap.LdapConnectionManagerService.getConnection(LdapConnectionManagerService.java:93)
	at org.jboss.as.domain.management.security.UserLdapCallbackHandler.handle(UserLdapCallbackHandler.java:186)
	at org.jboss.as.domain.management.security.SecurityRealmService$1.handle(SecurityRealmService.java:168)
	at org.jboss.as.security.RealmDirectLoginModule.handle(RealmDirectLoginModule.java:175)
	at org.jboss.as.security.RealmDirectLoginModule.validatePassword(RealmDirectLoginModule.java:206)
	at org.jboss.security.auth.spi.UsernamePasswordLoginModule.login(UsernamePasswordLoginModule.java:281)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:57)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:601)
	at javax.security.auth.login.LoginContext.invoke(LoginContext.java:784)
	at javax.security.auth.login.LoginContext.access$000(LoginContext.java:203)
	at javax.security.auth.login.LoginContext$4.run(LoginContext.java:698)
	at javax.security.auth.login.LoginContext$4.run(LoginContext.java:696)
	at java.security.AccessController.doPrivileged(Native Method)
	at javax.security.auth.login.LoginContext.invokePriv(LoginContext.java:695)
	at javax.security.auth.login.LoginContext.login(LoginContext.java:594)
	at org.jboss.security.authentication.JBossCachedAuthenticationManager.defaultLogin(JBossCachedAuthenticationManager.java:408)
	at org.jboss.security.authentication.JBossCachedAuthenticationManager.proceedWithJaasLogin(JBossCachedAuthenticationManager.java:345)
	at org.jboss.security.authentication.JBossCachedAuthenticationManager.authenticate(JBossCachedAuthenticationManager.java:333)
	at org.jboss.security.authentication.JBossCachedAuthenticationManager.isValid(JBossCachedAuthenticationManager.java:146)
	at org.jboss.as.web.security.JBossWebRealm.authenticate(JBossWebRealm.java:216)
	at org.apache.catalina.authenticator.BasicAuthenticator.authenticate(BasicAuthenticator.java:178)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:447)
	at org.jboss.as.web.security.SecurityContextAssociationValve.invoke(SecurityContextAssociationValve.java:169)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:145)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:97)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:102)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:336)
	at org.apache.coyote.http11.Http11Processor.process(Http11Processor.java:856)
	at org.apache.coyote.http11.Http11Protocol$Http11ConnectionHandler.process(Http11Protocol.java:653)
	at org.apache.tomcat.util.net.JIoEndpoint$Worker.run(JIoEndpoint.java:920)
	at java.lang.Thread.run(Thread.java:722)
Caused by: java.lang.ClassNotFoundException: org.jboss.as.domain.management.connections.ldap.ThreadLocalSSLSocketFactory from [Module "deployment.ldaps-authn-sd.war:main" from Service Module Loader]
	at org.jboss.modules.ModuleClassLoader.findClass(ModuleClassLoader.java:196)
	at org.jboss.modules.ConcurrentClassLoader.performLoadClassUnchecked(ConcurrentClassLoader.java:444)
	at org.jboss.modules.ConcurrentClassLoader.performLoadClassChecked(ConcurrentClassLoader.java:432)
	at org.jboss.modules.ConcurrentClassLoader.performLoadClass(ConcurrentClassLoader.java:374)
	at org.jboss.modules.ConcurrentClassLoader.loadClass(ConcurrentClassLoader.java:119)
	at java.lang.Class.forName0(Native Method)
	at java.lang.Class.forName(Class.java:264)
	at com.sun.jndi.ldap.VersionHelper12.loadClass(VersionHelper12.java:71)
	at com.sun.jndi.ldap.Connection.createSocket(Connection.java:284)
	at com.sun.jndi.ldap.Connection.&amp;lt;init&amp;gt;(Connection.java:201)
	... 47 more
</description>
			<version>8.0.0.Alpha2</version>
			<fixedVersion>8.0.0.Alpha4</fixedVersion>
			<type>Bug</type>
		</buginformation>
		<fixedFiles>
			<file type="D">org.jboss.as.test.integration.security.common.AbstractSecurityDomainsServerSetupTask.java</file>
			<file type="M">org.jboss.as.test.integration.security.xacml.JBossPDPInteroperabilityTestCase.java</file>
			<file type="D">org.jboss.as.test.integration.security.common.AbstractSecurityRealmsServerSetupTask.java</file>
			<file type="D">org.jboss.as.test.integration.security.common.ApacheDirectoryServiceBuilder.java</file>
			<file type="D">org.jboss.as.test.integration.security.common.config.LoginModuleStack.java</file>
			<file type="D">org.jboss.as.test.integration.security.loginmodules.negotiation.JBossNegotiateScheme.java</file>
			<file type="D">org.jboss.as.test.integration.security.common.ExtCreateKdcServer.java</file>
			<file type="D">org.jboss.as.test.integration.security.common.AbstractDataSourceServerSetupTask.java</file>
			<file type="D">org.jboss.as.test.integration.security.common.config.AuthnModule.java</file>
			<file type="M">org.jboss.as.domain.management.connections.ldap.LdapConnectionManagerService.java</file>
			<file type="M">org.jboss.as.test.integration.security.loginmodules.DatabaseLoginModuleTestCase.java</file>
			<file type="D">org.jboss.as.test.integration.security.common.ManagedCreateTransport.java</file>
			<file type="D">org.jboss.as.test.integration.security.common.config.JSSE.java</file>
			<file type="D">org.jboss.as.test.integration.security.common.config.realm.Authentication.java</file>
			<file type="D">org.jboss.as.test.integration.security.common.KDCServerAnnotationProcessor.java</file>
			<file type="D">org.jboss.as.test.integration.security.loginmodules.negotiation.JBossNegotiateSchemeFactory.java</file>
			<file type="D">org.jboss.as.test.integration.security.common.config.SecurityModule.java</file>
			<file type="D">org.jboss.as.test.integration.security.common.config.SecureStore.java</file>
			<file type="D">org.jboss.as.test.integration.security.common.config.realm.RealmKeystore.java</file>
			<file type="D">org.jboss.as.test.integration.security.common.ejb3.Hello.java</file>
			<file type="D">org.jboss.as.test.integration.security.common.AbstractSystemPropertiesServerSetupTask.java</file>
			<file type="D">org.jboss.as.test.integration.security.common.SecurityTestConstants.java</file>
			<file type="D">org.jboss.as.test.integration.security.common.config.realm.ServerIdentity.java</file>
			<file type="D">org.jboss.as.test.integration.security.common.ManagedCreateLdapServer.java</file>
			<file type="D">org.jboss.as.test.integration.security.common.config.JaspiAuthn.java</file>
			<file type="D">org.jboss.as.test.integration.security.common.ejb3.HelloBean.java</file>
			<file type="D">org.jboss.as.test.integration.security.common.Utils.java</file>
			<file type="D">org.jboss.as.test.integration.security.common.AbstractSecurityDomainSetup.java</file>
			<file type="D">org.jboss.as.test.integration.security.common.config.DataSource.java</file>
			<file type="D">org.jboss.as.test.integration.security.common.config.realm.SecurityRealm.java</file>
			<file type="M">org.jboss.as.test.shared.TestSuiteEnvironment.java</file>
			<file type="D">org.jboss.as.test.integration.security.common.Krb5LoginConfiguration.java</file>
			<file type="M">org.jboss.as.test.integration.security.loginmodules.UsersRolesLoginModuleTestCase.java</file>
			<file type="D">org.jboss.as.test.integration.security.common.NullHCCredentials.java</file>
			<file type="D">org.jboss.as.test.integration.security.loginmodules.common.Coding.java</file>
			<file type="D">org.jboss.as.test.integration.security.common.config.SecurityDomain.java</file>
		</fixedFiles>
	</bug>
	<bug id="1575" opendate="2013-06-21 16:05:40" fixdate="2013-08-29 05:31:31" resolution="Done">
		<buginformation>
			<summary>jboss-cli.sh allows creation of an invalid jsse element within a security-domain</summary>
			<description>The jboss-cli.sh allows me to add a security-domain definition which is not valid. Apparently you must have a keystore-password or truststore-password, but this restriction is not enforced in the cli. 
I do not have too deep an understanding of how the cli decides that a given attribute is required, but I have seen cases where the cli will warn me if I try to do something without all required attributes. Something similar should probably be done here.</description>
			<version>8.0.0.Alpha2</version>
			<fixedVersion>8.0.0.Beta1</fixedVersion>
			<type>Bug</type>
		</buginformation>
		<fixedFiles>
			<file type="M">org.jboss.as.security.SecuritySubsystemParser.java</file>
			<file type="M">org.jboss.as.security.ComplexAttributes.java</file>
			<file type="M">org.jboss.as.security.JSSEResourceDefinition.java</file>
			<file type="M">org.jboss.as.security.SecurityDomainModelv12UnitTestCase.java</file>
			<file type="M">org.jboss.as.security.SecurityMessages.java</file>
			<file type="M">org.jboss.as.security.JSSEExpressionsUnitTestCase.java</file>
		</fixedFiles>
	</bug>
	<bug id="1924" opendate="2013-08-22 12:13:16" fixdate="2013-08-29 05:43:38" resolution="Done">
		<buginformation>
			<summary>An EJB on a WildFly server can&amp;apos;t call another bean on a second server with remoting and SSL</summary>
			<description>I configured two WildFly server, one is the service provider (server), the other one the consumer (client). An EJB on the consumer server tries to call an EJB on the provider server and the remoting connection is secured by SSL. But it doesn&amp;amp;apos;t work. I can see the negotiation of the cipher suites and then the communication stops. I get a
javax.net.ssl.SSLException: Unrecognized SSL message, plaintext connection?
on the provider side. A JavaSE client can call the service provider, but only when SSL_SARTTLS is not set. My current setup is:
subsystem undertow, default-server:






&amp;lt;https-listener name="defaults" socket-binding="https" security-realm="HttpsRealm"/&amp;gt;






subsystem ejb3:






&amp;lt;remote connector-ref="https-remoting-connector" thread-pool-name="default"/&amp;gt;






Output on the service provider side when the communication stops:






[stdout] (default I/O-3) Using SSLEngineImpl.




[stdout] (default I/O-3) Ignoring unavailable cipher suite: ...




*** 13 lines more ***




[stdout] (default I/O-3) Allow unsafe renegotiation: false




[stdout] (default I/O-3) Allow legacy hello messages: true




[stdout] (default I/O-3) Is initial handshake: true




[stdout] (default I/O-3) Is secure renegotiation: false




[stdout] (default I/O-3) default I/O-3, fatal error: 80: problem unwrapping net record




[stdout] (default I/O-3) javax.net.ssl.SSLException: Unrecognized SSL message, plaintext connection?




[stdout] (default I/O-3) default I/O-3, SEND TLSv1 ALERT:  fatal, description = internal_error




[stdout] (default I/O-3) default I/O-3, WRITE: TLSv1 Alert, length = 2




[stdout] (default I/O-3) default I/O-3, called closeOutbound()




[stdout] (default I/O-3) default I/O-3, closeOutboundInternal()




[stdout] (default I/O-3) [Raw write]: length = 7




[stdout] (default I/O-3) 0000: 15 03 01 00 02 02 50                               ......P






WildFly consumer config
subsystem remoting, outbound connections:






&amp;lt;remote-outbound-connection name="provider-one-connection" outbound-socket-binding-ref="provider-ejb" security-realm="ProviderOneRealm" protocol="https-remoting"&amp;gt;




  &amp;lt;properties&amp;gt;




    &amp;lt;property name="SASL_POLICY_NOANONYMOUS" value="false"/&amp;gt;




  &amp;lt;/properties&amp;gt;




&amp;lt;/remote-outbound-connection&amp;gt;






The realms contain the key- and truststores and all passwords are configured.
The reason for the communication problem comes from the following code.
The service consumer (or client) WildFly has a remote-outbound-connection in the remoting subsystem config which results in an org.jboss.as.remoting.RemoteOutboundConnectionService. There is a connect() method which contains the lines:






OptionMap.Builder builder = OptionMap.builder();




builder.addAll(this.connectionCreationOptions);




builder.set(SASL_POLICY_NOANONYMOUS, Boolean.FALSE);




builder.set(SASL_POLICY_NOPLAINTEXT, Boolean.FALSE);




builder.set(Options.SASL_DISALLOWED_MECHANISMS, Sequence.of(JBOSS_LOCAL_USER));




builder.set(Options.SSL_ENABLED, true);




builder.set(Options.SSL_STARTTLS, true);









return endpoint.connect(uri, builder.getMap(), callbackHandler, sslContext);






My configuration comes from this.connectionOptions and is overwritten by the defaults. The service consumer will open the connection with SSL_STARTTLS==true.
The service provider (or server) WildFly uses an https-listener from the undertow subsystem. Which generates an org.wildfly.extension.undertow.HttpsListenerService. Method startListening(XnioWorker worker,...) has the following code:






protected void startListening(XnioWorker worker, InetSocketAddress socketAddress, ChannelListener&amp;lt;AcceptingChannel&amp;lt;StreamConnection&amp;gt;&amp;gt; acceptListener) throws IOException {




    SSLContext sslContext = securityRealm.getValue().getSSLContext();




    Builder builder = OptionMap.builder().addAll(SERVER_OPTIONS);




    builder.set(UndertowOptions.MAX_ENTITY_SIZE, maxUploadSize);




    if (securityRealm.getValue().getSupportedAuthenticationMechanisms().contains(AuthMechanism.CLIENT_CERT)) {




        builder.set(SSL_CLIENT_AUTH_MODE, REQUESTED);




    }




    builder.set(Options.USE_DIRECT_BUFFERS,true);




    OptionMap combined = builder.getMap();









    XnioSsl xnioSsl = new JsseXnioSsl(worker.getXnio(), combined, sslContext);




    sslServer = xnioSsl.createSslConnectionServer(worker, socketAddress, (ChannelListener) acceptListener, combined);




    sslServer.resumeAccepts();









    UndertowLogger.ROOT_LOGGER.listenerStarted("HTTPS", getName(), socketAddress);




}






The OptionMap combined is used for the JsseXnioSsl and I can&amp;amp;apos;t see a way how to add my own configuration options. The result is that SSL_STARTTLS is undefined and in JsseXnioSsl has a method connectSsl which calls openSslConnection. There is an event handler build which calls:






new JsseSslStreamConnection(connection, JsseSslUtils.createSSLEngine(sslContext, optionMap, destination), socketBufferPool, applicationBufferPool, optionMap.get(Options.SSL_STARTTLS, false));






This sets the flag startTls of the constructor to false and the member variable tls in org.xnio.ssl.JsseSslStreamConnection to true. And when I understand it right, will then the consumer start unencrypted and will only switch to TLS when it is told todo so. But the service provider expectes, because of tls==true, an encrypted connection right from the beginning. And this generates the above error message/exception. I can reproduce this by using a JavaSE client to call the service provider. This works well when I don&amp;amp;apos;t set SSL_STARTTLS on the client side. But when I set it to true I get the same behavior like when the client is another WildFly instance.
Tomaz Cerar said that on the consumer side in the connect() method the builder.addAll(...) should be moved to the end after setting the defaults. Thats the reason for this issue.
With this solution I can switch off SSL_STARTTLS on the consumer(client) side.
Another additional possibility could be to make the provider (server) side configurable that the hard coded options can be overwritten. But I don&amp;amp;apos;t know if this fits in the original design.</description>
			<version>8.0.0.Alpha4</version>
			<fixedVersion>8.0.0.Beta1</fixedVersion>
			<type>Bug</type>
		</buginformation>
		<fixedFiles>
			<file type="M">org.jboss.as.remoting.RemoteOutboundConnectionService.java</file>
		</fixedFiles>
	</bug>
	<bug id="1865" opendate="2013-08-12 15:11:05" fixdate="2013-08-30 12:29:47" resolution="Done">
		<buginformation>
			<summary>NPE might occur when a null object is returned from the aesh Console</summary>
			<description>In cli/src/main/java/org/jboss/as/cli/impl/Console.java
177	 	 -                        return console.read(prompt).getBuffer();
178	 +                        ConsoleOutput output = console.read(prompt);
179	 +                        return output != null ? output.getBuffer() : null;</description>
			<version>8.0.0.Alpha3</version>
			<fixedVersion>8.0.0.Beta1</fixedVersion>
			<type>Bug</type>
		</buginformation>
		<fixedFiles>
			<file type="M">org.jboss.as.cli.impl.Console.java</file>
		</fixedFiles>
	</bug>
	<bug id="1946" opendate="2013-08-24 22:32:37" fixdate="2013-09-03 17:41:25" resolution="Done">
		<buginformation>
			<summary>Severe error on deploy of ear: "Unable to obtain CDI 1.1 utilities for Mojarra"</summary>
			<description>Deploy of test.ear shows a severe error:
00:23:21,917 INFO  org.jboss.as.server.deployment#start JBAS015876: Starting deployment of "test.ear" (runtime-name: "test.ear")
00:23:21,941 INFO  org.jboss.as.server.deployment#start JBAS015876: Starting deployment of "null" (runtime-name: "web.war")
00:23:21,942 INFO  org.jboss.as.server.deployment#start JBAS015876: Starting deployment of "null" (runtime-name: "ejb.jar")
00:23:22,080 INFO  org.jboss.weld.deployer#deploy JBAS016002: Processing weld deployment test.ear
00:23:22,121 INFO  org.jboss.weld.deployer#deploy JBAS016002: Processing weld deployment ejb.jar
00:23:22,141 INFO  org.jboss.weld.deployer#deploy JBAS016002: Processing weld deployment web.war
00:23:22,157 INFO  org.jboss.weld.deployer#deploy JBAS016005: Starting Services for CDI deployment: test.ear
00:23:22,192 INFO  org.jboss.weld.deployer#start JBAS016008: Starting weld service for deployment test.ear
00:23:22,734 SEVERE javax.enterprise.resource.webcontainer.jsf.flow#afterBeanDiscovery Unable to obtain CDI 1.1 utilities for Mojarra
00:23:22,753 SEVERE javax.enterprise.resource.webcontainer.jsf.application.view#afterBeanDiscovery Unable to obtain CDI 1.1 utilities for Mojarra
00:23:23,099 INFO  test.web.Startup#contextInitialized contextInitialized
00:23:23,405 INFO  org.wildfly.extension.undertow#registerDeployment JBAS018210: Register web context: /intern/web
00:23:23,465 INFO  org.jboss.as.server#handleResult JBAS018559: Deployed "test.ear" (runtime-name : "test.ear")
Although everything seems to be fine. App works without errors.</description>
			<version>8.0.0.Beta1</version>
			<fixedVersion></fixedVersion>
			<type>Bug</type>
		</buginformation>
		<fixedFiles>
			<file type="M">org.jboss.as.jsf.deployment.JSFDependencyProcessor.java</file>
		</fixedFiles>
	</bug>
	<bug id="1656" opendate="2013-07-08 09:53:22" fixdate="2013-09-04 07:53:45" resolution="Done">
		<buginformation>
			<summary>JCA resources model names and service names should be deterministic</summary>
			<description>This is an offspring of: https://issues.jboss.org/browse/WFLY-1492 .
Example RA definition:






&amp;lt;resource-adapters&amp;gt;




    &amp;lt;resource-adapter id="XXX"&amp;gt;




       &amp;lt;archive&amp;gt;test&amp;lt;/archive&amp;gt;




       &amp;lt;transaction-support&amp;gt;NoTransaction&amp;lt;/transaction-support&amp;gt;




    &amp;lt;/resource-adapter&amp;gt;




&amp;lt;/resource-adapters&amp;gt;






The id attribute is optional. This leads to a bit undeterministic model expansion. There are two bits that dont add up or make this a bad apple.
1. RA service names are not unique, despite their model paths, the service name boils down to archive name ( and possibly id if its present). This seems odd, since in model we can point exact, unique path(profile, subsystem,.. and so on).
2. Second thing is the id piece. Its optional. If its not present, AS injects counter suffix( either due to #1 or because there is doubled definition of RA in the same profile). In the end RA paths look like:






/xxx/xxx/xxx/${archive-name}/${archive-name}




/xxx/xxx/xxx/${archive-name}/${archive-name}-&amp;gt;1




/xxx/xxx/xxx/${archive-name}/${archive-name}-&amp;gt;2




/xxx/xxx/xxx/${archive-name}/${archive-name}-&amp;gt;3






With id present:
/xxx/xxx/xxx/$
{archive-name}/${id}

Im not sure ATM, but its even possible to double with id













 /xxx/xxx/xxx/${archive-name}
/$
{id}
-&amp;gt;1  












</description>
			<version>8.0.0.Alpha2</version>
			<fixedVersion>8.0.0.Beta1</fixedVersion>
			<type>Bug</type>
		</buginformation>
		<fixedFiles>
			<file type="M">org.jboss.as.connector.subsystems.resourceadapters.RaOperationUtil.java</file>
			<file type="M">org.jboss.as.connector.logging.ConnectorMessages.java</file>
			<file type="M">org.jboss.as.connector.subsystems.resourceadapters.ModifiableResourceAdapter.java</file>
			<file type="M">org.jboss.as.connector.services.resourceadapters.ResourceAdapterActivatorService.java</file>
			<file type="M">org.jboss.as.ejb3.component.messagedriven.MessageDrivenComponentDescription.java</file>
			<file type="M">org.jboss.as.connector.services.resourceadapters.deployment.ResourceAdapterXmlDeploymentService.java</file>
			<file type="M">org.jboss.as.connector.util.ConnectorServices.java</file>
			<file type="M">org.jboss.as.test.manualmode.ejb.ssl.SSLEJBRemoteClientTestCase.java</file>
			<file type="M">org.jboss.as.connector.subsystems.complextestcases.AbstractComplexSubsystemTestCase.java</file>
			<file type="M">org.jboss.as.test.smoke.deployment.rar.tests.pure.PureTestCase.java</file>
			<file type="M">org.jboss.as.connector.subsystems.resourceadapters.ResourceAdapterParser.java</file>
			<file type="M">org.jboss.as.connector.subsystems.resourceadapters.ResourceAdaptersService.java</file>
			<file type="M">org.jboss.as.connector.subsystems.resourceadapters.RaAdd.java</file>
			<file type="M">org.jboss.as.connector.util.RaServicesFactory.java</file>
			<file type="M">org.jboss.as.connector.services.resourceadapters.deployment.AbstractResourceAdapterDeploymentService.java</file>
			<file type="M">org.jboss.as.connector.deployers.ra.processors.RaXmlDeploymentProcessor.java</file>
			<file type="M">org.jboss.as.connector.subsystems.resourceadapters.RaRemove.java</file>
			<file type="M">org.jboss.as.connector.subsystems.resourceadapters.Constants.java</file>
			<file type="M">org.jboss.as.connector.subsystems.resourceadapters.RaActivate.java</file>
			<file type="M">org.jboss.as.connector.services.resourceadapters.deployment.ResourceAdapterDeploymentService.java</file>
			<file type="M">org.jboss.as.test.integration.jca.moduledeployment.TwoRaJarTestCase.java</file>
			<file type="M">org.jboss.as.test.integration.jca.moduledeployment.InflowJarTestCase.java</file>
		</fixedFiles>
	</bug>
	<bug id="1776" opendate="2013-07-29 15:51:30" fixdate="2013-09-04 07:56:50" resolution="Done">
		<buginformation>
			<summary>resource-adapter id attribute is forced to match rar name</summary>
			<description>If the id of the resource adapter element does not match the name of the
RAR file, the CLI will throw the following error on RA activation:

{
    "outcome" =&amp;gt; "failed",
    "failure-description" =&amp;gt; "rar not yet deployed",
    "rolled-back" =&amp;gt; true
}</description>
			<version>8.0.0.Alpha3</version>
			<fixedVersion></fixedVersion>
			<type>Bug</type>
		</buginformation>
		<fixedFiles>
			<file type="M">org.jboss.as.connector.subsystems.resourceadapters.RaActivate.java</file>
			<file type="M">org.jboss.as.connector.subsystems.resourceadapters.RaOperationUtil.java</file>
		</fixedFiles>
		<links>
			<link type="Related" description="is related to">4140</link>
		</links>
	</bug>
	<bug id="1650" opendate="2013-07-05 10:10:38" fixdate="2013-09-04 12:48:56" resolution="Done">
		<buginformation>
			<summary>Legacy subsystem testing needs some classloading exclusion mecanism</summary>
			<description>When translation messages are used (which is the case of EAP) we have conflicts between generated $logger classes when testing submodules.
Some $logger classes exis thus they are loaded by the parent classloader before the childfirstclassloader tries to load them, thus we have a potential ClassCastException brewing. 
For exemple this breaks the EAP build on a French OS.</description>
			<version>8.0.0.Alpha3</version>
			<fixedVersion>8.0.0.Beta1</fixedVersion>
			<type>Bug</type>
		</buginformation>
		<fixedFiles>
			<file type="M">org.jboss.as.model.test.ChildFirstClassLoader.java</file>
			<file type="M">org.jboss.as.model.test.ChildFirstClassLoaderBuilder.java</file>
			<file type="M">org.jboss.as.subsystem.test.LegacyKernelServicesInitializer.java</file>
			<file type="M">org.jboss.as.jpa.subsystem.JPA11SubsystemTestCase.java</file>
			<file type="M">org.jboss.as.threads.ThreadsSubsystemTestCase.java</file>
			<file type="M">org.jboss.as.subsystem.test.SubsystemTestDelegate.java</file>
			<file type="M">org.jboss.as.connector.subsystems.jca.JcaSubsystemTestCase.java</file>
			<file type="M">org.jboss.as.txn.TransactionSubsystemTestCase.java</file>
			<file type="M">org.jboss.as.connector.subsystems.resourceadapters.ResourceAdaptersSubsystemTestCase.java</file>
			<file type="M">org.jboss.as.security.SecurityDomainModelv12UnitTestCase.java</file>
			<file type="M">org.jboss.as.connector.subsystems.datasources.DatasourcesSubsystemTestCase.java</file>
		</fixedFiles>
	</bug>
	<bug id="2009" opendate="2013-09-05 13:04:26" fixdate="2013-09-06 06:33:12" resolution="Done">
		<buginformation>
			<summary>IOException in aesh console initialization results in NPE</summary>
			<description>In source file org.jboss.as.cli.impl.Console, method Factory.getConsole:
if the constructor call "new org.jboss.aesh.console.Console()" leads to an IOException, it is only logged and then ignored, always yielding a NullPointerException just a few lines later (console.addCompletion(new Completion() ...)
I think the IOException should rather be rethrown wrapped in a CliInitializationException, so the resulting exception will not lose track of why this happened. Allowing a NPE go out of the internals is a wrong approach.</description>
			<version>8.0.0.Alpha4</version>
			<fixedVersion>8.0.0.Beta1</fixedVersion>
			<type>Bug</type>
		</buginformation>
		<fixedFiles>
			<file type="M">org.jboss.as.cli.impl.Console.java</file>
		</fixedFiles>
	</bug>
	<bug id="1996" opendate="2013-09-04 10:42:13" fixdate="2013-09-06 14:46:22" resolution="Done">
		<buginformation>
			<summary>Application client will not start if run against a standalone client jar</summary>
			<description></description>
			<version>8.0.0.Alpha4</version>
			<fixedVersion>8.0.0.Beta1</fixedVersion>
			<type>Bug</type>
		</buginformation>
		<fixedFiles>
			<file type="M">org.jboss.as.appclient.deployment.ActiveApplicationClientProcessor.java</file>
		</fixedFiles>
	</bug>
	<bug id="1460" opendate="2013-06-06 09:04:47" fixdate="2013-09-06 15:01:25" resolution="Done">
		<buginformation>
			<summary>WildFly server fails to start with transactions configured to be run with JDBCObject store</summary>
			<description>In case that you configure transactions subsystem for running with JDBCObject store the app server fails to start because of (it seems so) a circular dependency.
You can expect the exception like:






ERROR [org.jboss.as.controller.management-operation] (ServerService Thread Pool -- 52) JBAS014612: Operation ("add") failed - address: ([("subsystem" =&amp;gt; "transactions")]): org.jboss.msc.service.CircularDependencyException: Container jboss-as has a circular dependency: [service jboss.txn.ArjunaObjectStoreEnvironment, service jboss.txn.ArjunaRecoveryManager, service jboss.connector.transactionintegration, service jboss.cached-connection-manager, service jboss.data-source.java:jboss/datasources/JDBCObjectDS] 






My assumption came from the configuration similar to this:






&amp;lt;datasource jta="false" jndi-name="java:jboss/datasources/JDBCObjectDS" pool-name="JDBCObjectDS" enabled="true" use-ccm="false"&amp;gt; 




&amp;lt;connection-url&amp;gt;jdbc:postgresql://postgresserver.com:5432/user1&amp;lt;/connection-url&amp;gt;




  &amp;lt;driver-class&amp;gt;org.postgresql.Driver&amp;lt;/driver-class&amp;gt;




  &amp;lt;driver&amp;gt;postgresql-9.2-1002.jdbc4.jar&amp;lt;/driver&amp;gt;




  &amp;lt;security&amp;gt;




    &amp;lt;user-name&amp;gt;user1&amp;lt;/user-name&amp;gt;




    &amp;lt;password&amp;gt;user1&amp;lt;/password&amp;gt;




  &amp;lt;/security&amp;gt;




&amp;lt;/datasource&amp;gt; 






and the transaction config looks like this






&amp;lt;jdbc-store datasource-jndi-name="java:jboss/datasources/JDBCObjectDS" /&amp;gt;





</description>
			<version>8.0.0.Alpha1</version>
			<fixedVersion></fixedVersion>
			<type>Bug</type>
		</buginformation>
		<fixedFiles>
			<file type="M">org.jboss.as.connector.subsystems.datasources.AbstractDataSourceService.java</file>
			<file type="M">org.jboss.as.connector.subsystems.datasources.AbstractDataSourceAdd.java</file>
		</fixedFiles>
		<links>
			<link type="Dependency" description="is blocked by">1879</link>
			<link type="Dependency" description="blocks">1765</link>
			<link type="Related" description="relates to">5020</link>
			<link type="Related" description="is related to">3104</link>
		</links>
	</bug>
	<bug id="1973" opendate="2013-08-29 20:34:38" fixdate="2013-09-06 19:51:24" resolution="Done">
		<buginformation>
			<summary>Pooled Connection Factory error on server :reload</summary>
			<description>Having WildFly 8.0.0.Beta1 build from current sources.
After server is online without deployments I executed
$JBOSS_HOME/bin/jboss-cli.sh --connect --command=":reload"
This shows
22:27:45,605 ERROR org.jboss.msc.service.fail#startFailed MSC000001: Failed to start service jboss.messaging.default.jms.pooled-connection-factory.hornetq-ra: org.jboss.msc.service.StartException in service jboss.messaging.default.jms.pooled-connection-factory.hornetq-ra: JBAS011639: Failed to create resource adapter        at org.jboss.as.messaging.jms.PooledConnectionFactoryService.start(PooledConnectionFactoryService.java:309)
        at org.jboss.msc.service.ServiceControllerImpl$StartTask.startService(ServiceControllerImpl.java:1944) [jboss-msc-1.2.0.Beta2.jar:1.2.0.Beta2]
        at org.jboss.msc.service.ServiceControllerImpl$StartTask.run(ServiceControllerImpl.java:1877) [jboss-msc-1.2.0.Beta2.jar:1.2.0.Beta2]
        at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1145) [rt.jar:1.7.0_40]
        at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:615) [rt.jar:1.7.0_40]
        at java.lang.Thread.run(Thread.java:724) [rt.jar:1.7.0_40]
Caused by: org.jboss.msc.service.DuplicateServiceException: Service jboss.naming.context.java.jboss.DefaultJMSConnectionFactory is already registered
        at org.jboss.msc.service.ServiceRegistrationImpl.setInstance(ServiceRegistrationImpl.java:158) [jboss-msc-1.2.0.Beta2.jar:1.2.0.Beta2]
        at org.jboss.msc.service.ServiceControllerImpl.startInstallation(ServiceControllerImpl.java:235) [jboss-msc-1.2.0.Beta2.jar:1.2.0.Beta2]
        at org.jboss.msc.service.ServiceContainerImpl.install(ServiceContainerImpl.java:767) [jboss-msc-1.2.0.Beta2.jar:1.2.0.Beta2]
        at org.jboss.msc.service.ServiceBuilderImpl.install(ServiceBuilderImpl.java:317) [jboss-msc-1.2.0.Beta2.jar:1.2.0.Beta2]
        at org.jboss.as.messaging.BinderServiceUtil.installAliasBinderService(BinderServiceUtil.java:72)
        at org.jboss.as.messaging.jms.PooledConnectionFactoryService.createJNDIAliases(PooledConnectionFactoryService.java:437)
        at org.jboss.as.messaging.jms.PooledConnectionFactoryService.createService(PooledConnectionFactoryService.java:423)
        at org.jboss.as.messaging.jms.PooledConnectionFactoryService.start(PooledConnectionFactoryService.java:306)
        ... 5 more
See attached server.log.</description>
			<version>8.0.0.Beta1</version>
			<fixedVersion>8.0.0.Beta1</fixedVersion>
			<type>Bug</type>
		</buginformation>
		<fixedFiles>
			<file type="M">org.jboss.as.messaging.jms.PooledConnectionFactoryService.java</file>
			<file type="M">org.jboss.as.messaging.BinderServiceUtil.java</file>
			<file type="M">org.jboss.as.messaging.jms.PooledConnectionFactoryRemove.java</file>
		</fixedFiles>
	</bug>
	<bug id="1812" opendate="2013-08-02 15:07:12" fixdate="2013-09-08 19:24:54" resolution="Done">
		<buginformation>
			<summary>Web session clustering should not require a RegistryService if sessions aren&amp;apos;t being replicated.</summary>
			<description></description>
			<version>8.0.0.Alpha1</version>
			<fixedVersion>8.0.0.Beta1</fixedVersion>
			<type>Bug</type>
		</buginformation>
		<fixedFiles>
			<file type="D">org.wildfly.clustering.service.ServiceProviderRegistration.java</file>
			<file type="M">org.jboss.as.test.clustering.cluster.singleton.SingletonTestCase.java</file>
			<file type="M">org.wildfly.clustering.dispatcher.CommandResponse.java</file>
			<file type="D">org.wildfly.clustering.singleton.SingletonContext.java</file>
			<file type="D">org.wildfly.clustering.service.ServiceProviderRegistry.java</file>
			<file type="M">org.wildfly.clustering.web.infinispan.session.InfinispanSessionManagerFactoryBuilder.java</file>
			<file type="D">org.wildfly.clustering.server.service.ServiceProviderRegistryFactoryService.java</file>
			<file type="M">org.jboss.as.test.clustering.cluster.web.expiration.RecordingWebListener.java</file>
			<file type="M">org.jboss.as.clustering.infinispan.subsystem.CacheAdd.java</file>
			<file type="D">org.wildfly.clustering.singleton.SingletonService.java</file>
			<file type="M">org.jboss.as.test.clustering.cluster.web.ClusteredWebFailoverAbstractCase.java</file>
			<file type="M">org.jboss.as.clustering.infinispan.subsystem.CacheRemove.java</file>
			<file type="M">org.jboss.as.ejb3.subsystem.EJB3SubsystemAdd.java</file>
			<file type="M">org.jboss.as.test.clustering.cluster.singleton.service.MyServiceActivator.java</file>
			<file type="D">org.jboss.as.test.clustering.cluster.service.ServiceProviderRegistryTestCase.java</file>
			<file type="M">org.wildfly.clustering.server.dispatcher.ServiceCommandDispatcher.java</file>
			<file type="D">org.jboss.as.clustering.infinispan.subsystem.ChannelDependentServiceProvider.java</file>
			<file type="M">org.jboss.as.clustering.ejb3.cache.backing.infinispan.ClientMappingExternalizer.java</file>
			<file type="M">org.jboss.as.clustering.infinispan.subsystem.CacheContainerMetricsHandler.java</file>
			<file type="D">org.wildfly.clustering.dispatcher.MembershipListener.java</file>
			<file type="M">org.wildfly.clustering.singleton.SingletonElectionPolicy.java</file>
			<file type="D">org.jboss.as.clustering.infinispan.atomic.AtomicMapCache.java</file>
			<file type="M">org.jboss.as.test.clustering.ViewChangeListenerBean.java</file>
			<file type="M">org.jboss.as.test.clustering.cluster.management.CacheTestCase.java</file>
			<file type="D">org.wildfly.clustering.singleton.election.SimpleSingletonElectionPolicyTestCase.java</file>
			<file type="M">org.jboss.as.test.clustering.cluster.singleton.service.MyService.java</file>
			<file type="M">org.jboss.as.test.clustering.cluster.web.passivation.SessionPassivationTestCase.java</file>
			<file type="M">org.jboss.as.ejb3.remote.protocol.versionone.VersionOneProtocolChannelReceiver.java</file>
			<file type="M">org.jboss.as.clustering.infinispan.subsystem.CacheContainerRemove.java</file>
			<file type="M">org.wildfly.clustering.singleton.election.PreferredSingletonElectionPolicy.java</file>
			<file type="M">org.wildfly.clustering.server.dispatcher.CommandResponseMarshaller.java</file>
			<file type="M">org.jboss.as.test.clustering.cluster.dispatcher.bean.CommandDispatcherBean.java</file>
			<file type="D">org.jboss.as.clustering.registry.RegistryCollectorService.java</file>
			<file type="M">org.jboss.as.clustering.infinispan.subsystem.OperationSequencesTestCase.java</file>
			<file type="M">org.jboss.as.clustering.ejb3.cache.backing.infinispan.InfinispanBackingCacheEntryStore.java</file>
			<file type="D">org.wildfly.clustering.singleton.election.NamePreferenceTestCase.java</file>
			<file type="M">org.jboss.as.test.clustering.RemoteEJBDirectory.java</file>
			<file type="D">org.wildfly.clustering.singleton.SingletonMessages.java</file>
			<file type="M">org.jboss.as.test.clustering.NodeInfoServlet.java</file>
			<file type="M">org.jboss.as.clustering.infinispan.DefaultEmbeddedCacheManagerTest.java</file>
			<file type="D">org.wildfly.clustering.server.dispatcher.NodeRegistry.java</file>
			<file type="M">org.jboss.as.test.clustering.cluster.singleton.service.MyServiceServlet.java</file>
			<file type="M">org.wildfly.clustering.singleton.election.SocketAddressPreference.java</file>
			<file type="M">org.jboss.as.test.clustering.cluster.dispatcher.bean.CommandDispatcherFactoryBean.java</file>
			<file type="D">org.jboss.as.test.clustering.cluster.service.bean.ServiceProviderRetriever.java</file>
			<file type="M">org.wildfly.clustering.dispatcher.CommandDispatcher.java</file>
			<file type="D">org.wildfly.clustering.server.SimpleNode.java</file>
			<file type="M">org.jboss.as.ejb3.remote.protocol.versionone.ClusterTopologyWriter.java</file>
			<file type="M">org.jboss.as.test.clustering.ViewChangeListenerServlet.java</file>
			<file type="D">org.wildfly.clustering.Node.java</file>
			<file type="M">org.jboss.as.test.clustering.cluster.web.ClusteredWebSimpleTestCase.java</file>
			<file type="D">org.wildfly.clustering.server.service.ServiceProvider.java</file>
			<file type="M">org.jboss.as.ejb3.cache.impl.backing.clustering.ClusteredBackingCacheEntryStoreSourceService.java</file>
			<file type="D">org.wildfly.clustering.singleton.StopSingletonCommand.java</file>
			<file type="D">org.wildfly.clustering.singleton.SingletonCommand.java</file>
			<file type="D">org.wildfly.clustering.server.service.ServiceProviderRegistryClassTableContributor.java</file>
			<file type="D">org.jboss.as.clustering.infinispan.DefaultEmbeddedCacheManager.java</file>
			<file type="D">org.wildfly.clustering.singleton.SingletonClassTableContributor.java</file>
			<file type="M">org.jboss.as.ejb3.remote.EJBRemotingConnectorClientMappingsEntryProviderService.java</file>
			<file type="M">org.wildfly.clustering.dispatcher.CommandDispatcherFactory.java</file>
			<file type="M">org.wildfly.clustering.server.dispatcher.CommandDispatcherClassTableContributor.java</file>
			<file type="M">org.jboss.as.clustering.infinispan.subsystem.EmbeddedCacheManagerService.java</file>
			<file type="M">org.wildfly.clustering.singleton.election.NamePreference.java</file>
			<file type="M">org.wildfly.clustering.singleton.election.Preference.java</file>
			<file type="D">org.jboss.as.test.clustering.cluster.service.bean.ServiceProviderRetrieverBean.java</file>
			<file type="M">org.wildfly.clustering.server.dispatcher.CommandDispatcherFactoryService.java</file>
			<file type="M">org.jboss.as.clustering.jgroups.JChannelFactory.java</file>
			<file type="M">org.jboss.as.test.clustering.LocalEJBDirectory.java</file>
			<file type="D">org.jboss.as.clustering.registry.Registry.java</file>
			<file type="D">org.jboss.as.test.clustering.cluster.service.bean.ServiceProviderRegistryBean.java</file>
			<file type="M">org.jboss.as.clustering.ejb3.cache.backing.infinispan.SessionIDExternalizer.java</file>
			<file type="D">org.wildfly.clustering.singleton.election.SocketAddressPreferenceTestCase.java</file>
			<file type="M">org.jboss.as.clustering.infinispan.subsystem.CacheContainerAdd.java</file>
			<file type="D">org.jboss.as.clustering.registry.RegistryService.java</file>
			<file type="M">org.jboss.as.clustering.infinispan.subsystem.AbstractCacheConfigurationService.java</file>
			<file type="D">org.wildfly.clustering.server.SimpleNodeExternalizer.java</file>
			<file type="M">org.wildfly.clustering.singleton.election.SimpleSingletonElectionPolicy.java</file>
			<file type="M">org.jboss.as.clustering.ejb3.cache.backing.infinispan.InfinispanBackingCacheEntryStoreSource.java</file>
			<file type="D">org.wildfly.clustering.server.service.ServiceProviderCommand.java</file>
			<file type="M">org.jboss.as.test.clustering.cluster.dispatcher.bean.TestCommand.java</file>
			<file type="M">org.jboss.as.clustering.infinispan.subsystem.CacheService.java</file>
			<file type="D">org.wildfly.clustering.singleton.SingletonValueCommand.java</file>
			<file type="M">org.jboss.as.test.clustering.cluster.web.passivation.SessionOperationServlet.java</file>
			<file type="M">org.jboss.as.ejb3.remote.LocalEjbReceiver.java</file>
			<file type="M">org.jboss.as.clustering.infinispan.subsystem.CacheConfigurationService.java</file>
			<file type="M">org.wildfly.clustering.web.infinispan.session.InfinispanSessionManager.java</file>
			<file type="M">org.jboss.as.test.clustering.AbstractEJBDirectory.java</file>
			<file type="M">org.jboss.as.ejb3.subsystem.EJB3RemoteServiceAdd.java</file>
			<file type="M">org.jboss.as.test.clustering.ClusterHttpClientUtil.java</file>
			<file type="D">org.wildfly.clustering.singleton.SingletonLogger.java</file>
			<file type="M">org.jboss.as.clustering.jgroups.ChannelFactory.java</file>
			<file type="M">org.jboss.as.ejb3.remote.EJBRemoteConnectorService.java</file>
			<file type="M">org.jboss.as.test.clustering.cluster.web.expiration.SessionOperationServlet.java</file>
			<file type="M">org.wildfly.clustering.web.infinispan.session.InfinispanSessionManagerFactory.java</file>
			<file type="M">org.jboss.as.test.clustering.cluster.dispatcher.bean.ClusterTopologyRetrieverBean.java</file>
			<file type="M">org.jboss.as.clustering.infinispan.subsystem.EmbeddedCacheManagerConfigurationService.java</file>
			<file type="D">org.wildfly.clustering.server.service.ServiceProviderRegistryFactoryProvider.java</file>
			<file type="M">org.jboss.as.ejb3.remote.protocol.versiontwo.VersionTwoProtocolChannelReceiver.java</file>
			<file type="M">org.wildfly.clustering.server.dispatcher.CommandDispatcherFactoryProvider.java</file>
			<file type="M">org.jboss.as.test.clustering.cluster.dispatcher.CommandDispatcherTestCase.java</file>
			<file type="D">org.wildfly.clustering.singleton.election.PreferredSingletonElectionPolicyTestCase.java</file>
			<file type="D">org.jboss.as.clustering.registry.RegistryCollector.java</file>
		</fixedFiles>
	</bug>
	<bug id="2013" opendate="2013-09-05 18:08:10" fixdate="2013-09-09 10:14:45" resolution="Done">
		<buginformation>
			<summary>SecurityContextInterceptor always uses doPrivilidged even when a security manager is not present</summary>
			<description>This is slow. </description>
			<version>8.0.0.Alpha4</version>
			<fixedVersion>8.0.0.Beta1</fixedVersion>
			<type>Bug</type>
		</buginformation>
		<fixedFiles>
			<file type="M">org.jboss.as.ejb3.security.SecurityContextInterceptor.java</file>
		</fixedFiles>
	</bug>
	<bug id="1975" opendate="2013-08-30 15:20:30" fixdate="2013-09-10 13:23:14" resolution="Done">
		<buginformation>
			<summary>IllegalStateException when invoking ManagedExecutorService.submit()</summary>
			<description>I just compiled the latest WildFly master and have this code fragment which produces the stacktrace below.






public class KundeObserver {




   @Resource(mappedName = "java:comp/DefaultManagedExecutorService")




   private ManagedExecutorService managedExecutorService;




   




   public void onCreateKunde(@Observes @NeuerKunde final AbstractKunde kunde) {




      if (kunde == null) {




         return;




      }




      final Runnable sendMail = new Runnable() {




         @Override




         public void run() {




         }




      };




      managedExecutorService.submit(sendMail);   // &amp;lt;-- Exception




   }




}






The same stacktrace occurs when I use Callable&amp;lt;Void&amp;gt; instead of Runnable (and a call method just returning null).
The stacktrace:






17:13:57,490 ERROR [io.undertow.request] Servlet request failed HttpServerExchange{ POST /shop2/rest/kunden}: org.jboss.resteasy.spi.UnhandledException: java.lang.IllegalStateException: JBAS016707: No concurrent context currently set, unable to locate the context service to delegate.




	at org.jboss.resteasy.core.ExceptionHandler.handleApplicationException(ExceptionHandler.java:76) [resteasy-jaxrs-3.0.3.Final.jar:]




	at org.jboss.resteasy.core.ExceptionHandler.handleException(ExceptionHandler.java:212) [resteasy-jaxrs-3.0.3.Final.jar:]




	at org.jboss.resteasy.core.SynchronousDispatcher.writeException(SynchronousDispatcher.java:149) [resteasy-jaxrs-3.0.3.Final.jar:]




	at org.jboss.resteasy.core.SynchronousDispatcher.invoke(SynchronousDispatcher.java:372) [resteasy-jaxrs-3.0.3.Final.jar:]




	at org.jboss.resteasy.core.SynchronousDispatcher.invoke(SynchronousDispatcher.java:179) [resteasy-jaxrs-3.0.3.Final.jar:]




	at org.jboss.resteasy.plugins.server.servlet.ServletContainerDispatcher.service(ServletContainerDispatcher.java:220) [resteasy-jaxrs-3.0.3.Final.jar:]




	at org.jboss.resteasy.plugins.server.servlet.HttpServletDispatcher.service(HttpServletDispatcher.java:56) [resteasy-jaxrs-3.0.3.Final.jar:]




	at org.jboss.resteasy.plugins.server.servlet.HttpServletDispatcher.service(HttpServletDispatcher.java:51) [resteasy-jaxrs-3.0.3.Final.jar:]




	at javax.servlet.http.HttpServlet.service(HttpServlet.java:790) [jboss-servlet-api_3.1_spec-1.0.0.Beta1.jar:1.0.0.Beta1]




	at io.undertow.servlet.handlers.ServletHandler.handleRequest(ServletHandler.java:87) [undertow-servlet-1.0.0.Beta11.jar:1.0.0.Beta11]




	at io.undertow.servlet.handlers.FilterHandler$FilterChainImpl.doFilter(FilterHandler.java:130) [undertow-servlet-1.0.0.Beta11.jar:1.0.0.Beta11]




	at io.undertow.websockets.jsr.JsrWebSocketFilter.doFilter(JsrWebSocketFilter.java:136) [undertow-websockets-jsr-1.0.0.Beta11.jar:1.0.0.Beta11]




	at io.undertow.servlet.core.ManagedFilter.doFilter(ManagedFilter.java:56) [undertow-servlet-1.0.0.Beta11.jar:1.0.0.Beta11]




	at io.undertow.servlet.handlers.FilterHandler$FilterChainImpl.doFilter(FilterHandler.java:132) [undertow-servlet-1.0.0.Beta11.jar:1.0.0.Beta11]




	at io.undertow.websockets.jsr.JsrWebSocketFilter.doFilter(JsrWebSocketFilter.java:136) [undertow-websockets-jsr-1.0.0.Beta11.jar:1.0.0.Beta11]




	at io.undertow.servlet.core.ManagedFilter.doFilter(ManagedFilter.java:56) [undertow-servlet-1.0.0.Beta11.jar:1.0.0.Beta11]




	at io.undertow.servlet.handlers.FilterHandler$FilterChainImpl.doFilter(FilterHandler.java:132) [undertow-servlet-1.0.0.Beta11.jar:1.0.0.Beta11]




	at io.undertow.servlet.handlers.FilterHandler.handleRequest(FilterHandler.java:85) [undertow-servlet-1.0.0.Beta11.jar:1.0.0.Beta11]




	at io.undertow.servlet.handlers.security.ServletSecurityRoleHandler.handleRequest(ServletSecurityRoleHandler.java:93) [undertow-servlet-1.0.0.Beta11.jar:1.0.0.Beta11]




	at io.undertow.servlet.handlers.ServletDispatchingHandler.handleRequest(ServletDispatchingHandler.java:36) [undertow-servlet-1.0.0.Beta11.jar:1.0.0.Beta11]




	at org.wildfly.extension.undertow.security.SecurityContextAssociationHandler.handleRequest(SecurityContextAssociationHandler.java:81)




	at io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:25) [undertow-core-1.0.0.Beta11.jar:1.0.0.Beta11]




	at io.undertow.servlet.handlers.security.SSLInformationAssociationHandler.handleRequest(SSLInformationAssociationHandler.java:113) [undertow-servlet-1.0.0.Beta11.jar:1.0.0.Beta11]




	at io.undertow.security.handlers.AuthenticationCallHandler.handleRequest(AuthenticationCallHandler.java:52) [undertow-core-1.0.0.Beta11.jar:1.0.0.Beta11]




	at io.undertow.security.handlers.AuthenticationConstraintHandler.handleRequest(AuthenticationConstraintHandler.java:51) [undertow-core-1.0.0.Beta11.jar:1.0.0.Beta11]




	at io.undertow.security.handlers.AbstractConfidentialityHandler.handleRequest(AbstractConfidentialityHandler.java:45) [undertow-core-1.0.0.Beta11.jar:1.0.0.Beta11]




	at io.undertow.servlet.handlers.security.ServletSecurityConstraintHandler.handleRequest(ServletSecurityConstraintHandler.java:55) [undertow-servlet-1.0.0.Beta11.jar:1.0.0.Beta11]




	at io.undertow.security.handlers.AuthenticationMechanismsHandler.handleRequest(AuthenticationMechanismsHandler.java:58) [undertow-core-1.0.0.Beta11.jar:1.0.0.Beta11]




	at io.undertow.servlet.handlers.security.CachedAuthenticatedSessionHandler.handleRequest(CachedAuthenticatedSessionHandler.java:65) [undertow-servlet-1.0.0.Beta11.jar:1.0.0.Beta11]




	at io.undertow.security.handlers.SecurityInitialHandler.handleRequest(SecurityInitialHandler.java:70) [undertow-core-1.0.0.Beta11.jar:1.0.0.Beta11]




	at io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:25) [undertow-core-1.0.0.Beta11.jar:1.0.0.Beta11]




	at io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:25) [undertow-core-1.0.0.Beta11.jar:1.0.0.Beta11]




	at io.undertow.servlet.handlers.ServletInitialHandler.handleFirstRequest(ServletInitialHandler.java:207) [undertow-servlet-1.0.0.Beta11.jar:1.0.0.Beta11]




	at io.undertow.servlet.handlers.ServletInitialHandler.dispatchRequest(ServletInitialHandler.java:194) [undertow-servlet-1.0.0.Beta11.jar:1.0.0.Beta11]




	at io.undertow.servlet.handlers.ServletInitialHandler.access$000(ServletInitialHandler.java:72) [undertow-servlet-1.0.0.Beta11.jar:1.0.0.Beta11]




	at io.undertow.servlet.handlers.ServletInitialHandler$1.handleRequest(ServletInitialHandler.java:128) [undertow-servlet-1.0.0.Beta11.jar:1.0.0.Beta11]




	at io.undertow.server.HttpHandlers.executeRootHandler(HttpHandlers.java:36) [undertow-core-1.0.0.Beta11.jar:1.0.0.Beta11]




	at io.undertow.server.HttpServerExchange$1.run(HttpServerExchange.java:614) [undertow-core-1.0.0.Beta11.jar:1.0.0.Beta11]




	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1145) [rt.jar:1.7.0_25]




	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:615) [rt.jar:1.7.0_25]




	at java.lang.Thread.run(Thread.java:724) [rt.jar:1.7.0_25]




Caused by: java.lang.IllegalStateException: JBAS016707: No concurrent context currently set, unable to locate the context service to delegate.




	at org.jboss.as.ee.concurrent.DefaultContextSetupProviderImpl.getConcurrentContext(DefaultContextSetupProviderImpl.java:41)




	at org.jboss.as.ee.concurrent.DefaultContextSetupProviderImpl.saveContext(DefaultContextSetupProviderImpl.java:48)




	at org.glassfish.enterprise.concurrent.internal.ManagedFutureTask.captureContext(ManagedFutureTask.java:113)




	at org.glassfish.enterprise.concurrent.internal.ManagedFutureTask.&amp;lt;init&amp;gt;(ManagedFutureTask.java:83)




	at org.glassfish.enterprise.concurrent.ManagedExecutorServiceImpl.getNewTaskFor(ManagedExecutorServiceImpl.java:164)




	at org.glassfish.enterprise.concurrent.AbstractManagedExecutorService.submit(AbstractManagedExecutorService.java:357)




	at org.glassfish.enterprise.concurrent.ManagedExecutorServiceAdapter.submit(ManagedExecutorServiceAdapter.java:72)




	at de.shop.kundenverwaltung.service.KundeObserver.onCreateKunde(KundeObserver.java:132) [classes:]




	at de.shop.kundenverwaltung.service.KundeObserver$Proxy$_$$_WeldSubclass.onCreateKunde(Unknown Source) [classes:]




	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) [rt.jar:1.7.0_25]




	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:57) [rt.jar:1.7.0_25]




	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) [rt.jar:1.7.0_25]




	at java.lang.reflect.Method.invoke(Method.java:606) [rt.jar:1.7.0_25]




	at org.jboss.weld.interceptor.proxy.SimpleInterceptionChain.interceptorChainCompleted(SimpleInterceptionChain.java:47) [weld-core-impl-2.0.3.Final.jar:2013-07-17 09:29]




	at org.jboss.weld.interceptor.chain.AbstractInterceptionChain.invokeNextInterceptor(AbstractInterceptionChain.java:80) [weld-core-impl-2.0.3.Final.jar:2013-07-17 09:29]




	at org.jboss.weld.interceptor.proxy.InterceptorInvocationContext.proceed(InterceptorInvocationContext.java:146) [weld-core-impl-2.0.3.Final.jar:2013-07-17 09:29]




	at de.shop.util.LogInterceptor.log(LogInterceptor.java:73) [classes:]




	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) [rt.jar:1.7.0_25]




	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:57) [rt.jar:1.7.0_25]




	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) [rt.jar:1.7.0_25]




	at java.lang.reflect.Method.invoke(Method.java:606) [rt.jar:1.7.0_25]




	at org.jboss.weld.interceptor.proxy.SimpleMethodInvocation.invoke(SimpleMethodInvocation.java:30) [weld-core-impl-2.0.3.Final.jar:2013-07-17 09:29]




	at org.jboss.weld.interceptor.chain.AbstractInterceptionChain.invokeNext(AbstractInterceptionChain.java:93) [weld-core-impl-2.0.3.Final.jar:2013-07-17 09:29]




	at org.jboss.weld.interceptor.chain.AbstractInterceptionChain.invokeNextInterceptor(AbstractInterceptionChain.java:78) [weld-core-impl-2.0.3.Final.jar:2013-07-17 09:29]




	at org.jboss.weld.interceptor.proxy.InterceptorMethodHandler.executeInterception(InterceptorMethodHandler.java:48) [weld-core-impl-2.0.3.Final.jar:2013-07-17 09:29]




	at org.jboss.weld.interceptor.proxy.InterceptorMethodHandler.invoke(InterceptorMethodHandler.java:41) [weld-core-impl-2.0.3.Final.jar:2013-07-17 09:29]




	at org.jboss.weld.bean.proxy.CombinedInterceptorAndDecoratorStackMethodHandler.invoke(CombinedInterceptorAndDecoratorStackMethodHandler.java:53) [weld-core-impl-2.0.3.Final.jar:2013-07-17 09:29]




	at de.shop.kundenverwaltung.service.KundeObserver$Proxy$_$$_WeldSubclass.onCreateKunde(Unknown Source) [classes:]




	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) [rt.jar:1.7.0_25]




	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:57) [rt.jar:1.7.0_25]




	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) [rt.jar:1.7.0_25]




	at java.lang.reflect.Method.invoke(Method.java:606) [rt.jar:1.7.0_25]




	at org.jboss.weld.injection.MethodInjectionPoint.invokeOnInstanceWithSpecialValue(MethodInjectionPoint.java:93) [weld-core-impl-2.0.3.Final.jar:2013-07-17 09:29]




	at org.jboss.weld.event.ObserverMethodImpl.sendEvent(ObserverMethodImpl.java:274) [weld-core-impl-2.0.3.Final.jar:2013-07-17 09:29]




	at org.jboss.weld.event.ObserverMethodImpl.sendEvent(ObserverMethodImpl.java:261) [weld-core-impl-2.0.3.Final.jar:2013-07-17 09:29]




	at org.jboss.weld.event.ObserverMethodImpl.notify(ObserverMethodImpl.java:240) [weld-core-impl-2.0.3.Final.jar:2013-07-17 09:29]




	at org.jboss.weld.event.ObserverNotifier.notifyObserver(ObserverNotifier.java:171) [weld-core-impl-2.0.3.Final.jar:2013-07-17 09:29]




	at org.jboss.weld.event.ObserverNotifier.notifyObserver(ObserverNotifier.java:167) [weld-core-impl-2.0.3.Final.jar:2013-07-17 09:29]




	at org.jboss.weld.event.TransactionalObserverNotifier.notifyObserver(TransactionalObserverNotifier.java:44) [weld-core-impl-2.0.3.Final.jar:2013-07-17 09:29]




	at org.jboss.weld.event.ObserverNotifier.notifyObservers(ObserverNotifier.java:121) [weld-core-impl-2.0.3.Final.jar:2013-07-17 09:29]




	at org.jboss.weld.event.ObserverNotifier.fireEvent(ObserverNotifier.java:114) [weld-core-impl-2.0.3.Final.jar:2013-07-17 09:29]




	at org.jboss.weld.event.EventImpl.fire(EventImpl.java:84) [weld-core-impl-2.0.3.Final.jar:2013-07-17 09:29]




	at de.shop.kundenverwaltung.service.KundeService.createKunde(KundeService.java:412) [classes:]




	at de.shop.kundenverwaltung.service.KundeService$Proxy$_$$_WeldSubclass.createKunde(Unknown Source) [classes:]




	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) [rt.jar:1.7.0_25]




	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:57) [rt.jar:1.7.0_25]




	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) [rt.jar:1.7.0_25]




	at java.lang.reflect.Method.invoke(Method.java:606) [rt.jar:1.7.0_25]




	at org.jboss.weld.interceptor.proxy.SimpleInterceptionChain.interceptorChainCompleted(SimpleInterceptionChain.java:47) [weld-core-impl-2.0.3.Final.jar:2013-07-17 09:29]




	at org.jboss.weld.interceptor.chain.AbstractInterceptionChain.invokeNextInterceptor(AbstractInterceptionChain.java:80) [weld-core-impl-2.0.3.Final.jar:2013-07-17 09:29]




	at org.jboss.weld.interceptor.proxy.InterceptorInvocationContext.proceed(InterceptorInvocationContext.java:146) [weld-core-impl-2.0.3.Final.jar:2013-07-17 09:29]




	at de.shop.util.LogInterceptor.log(LogInterceptor.java:73) [classes:]




	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) [rt.jar:1.7.0_25]




	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:57) [rt.jar:1.7.0_25]




	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) [rt.jar:1.7.0_25]




	at java.lang.reflect.Method.invoke(Method.java:606) [rt.jar:1.7.0_25]




	at org.jboss.weld.interceptor.proxy.SimpleMethodInvocation.invoke(SimpleMethodInvocation.java:30) [weld-core-impl-2.0.3.Final.jar:2013-07-17 09:29]




	at org.jboss.weld.interceptor.chain.AbstractInterceptionChain.invokeNext(AbstractInterceptionChain.java:93) [weld-core-impl-2.0.3.Final.jar:2013-07-17 09:29]




	at org.jboss.weld.interceptor.chain.AbstractInterceptionChain.invokeNextInterceptor(AbstractInterceptionChain.java:78) [weld-core-impl-2.0.3.Final.jar:2013-07-17 09:29]




	at org.jboss.weld.interceptor.proxy.InterceptorMethodHandler.executeInterception(InterceptorMethodHandler.java:48) [weld-core-impl-2.0.3.Final.jar:2013-07-17 09:29]




	at org.jboss.weld.interceptor.proxy.InterceptorMethodHandler.invoke(InterceptorMethodHandler.java:41) [weld-core-impl-2.0.3.Final.jar:2013-07-17 09:29]




	at org.jboss.weld.bean.proxy.CombinedInterceptorAndDecoratorStackMethodHandler.invoke(CombinedInterceptorAndDecoratorStackMethodHandler.java:53) [weld-core-impl-2.0.3.Final.jar:2013-07-17 09:29]




	at de.shop.kundenverwaltung.service.KundeService$Proxy$_$$_WeldSubclass.createKunde(Unknown Source) [classes:]




	at de.shop.kundenverwaltung.rest.KundeResource.createKunde(KundeResource.java:337) [classes:]




	at de.shop.kundenverwaltung.rest.KundeResource$Proxy$_$$_WeldSubclass.createKunde(Unknown Source) [classes:]




	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) [rt.jar:1.7.0_25]




	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:57) [rt.jar:1.7.0_25]




	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) [rt.jar:1.7.0_25]




	at java.lang.reflect.Method.invoke(Method.java:606) [rt.jar:1.7.0_25]




	at org.jboss.weld.interceptor.proxy.SimpleInterceptionChain.interceptorChainCompleted(SimpleInterceptionChain.java:47) [weld-core-impl-2.0.3.Final.jar:2013-07-17 09:29]




	at org.jboss.weld.interceptor.chain.AbstractInterceptionChain.invokeNextInterceptor(AbstractInterceptionChain.java:80) [weld-core-impl-2.0.3.Final.jar:2013-07-17 09:29]




	at org.jboss.weld.interceptor.proxy.InterceptorInvocationContext.proceed(InterceptorInvocationContext.java:146) [weld-core-impl-2.0.3.Final.jar:2013-07-17 09:29]




	at de.shop.util.LogInterceptor.log(LogInterceptor.java:73) [classes:]




	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) [rt.jar:1.7.0_25]




	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:57) [rt.jar:1.7.0_25]




	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) [rt.jar:1.7.0_25]




	at java.lang.reflect.Method.invoke(Method.java:606) [rt.jar:1.7.0_25]




	at org.jboss.weld.interceptor.proxy.SimpleMethodInvocation.invoke(SimpleMethodInvocation.java:30) [weld-core-impl-2.0.3.Final.jar:2013-07-17 09:29]




	at org.jboss.weld.interceptor.chain.AbstractInterceptionChain.invokeNext(AbstractInterceptionChain.java:93) [weld-core-impl-2.0.3.Final.jar:2013-07-17 09:29]




	at org.jboss.weld.interceptor.chain.AbstractInterceptionChain.invokeNextInterceptor(AbstractInterceptionChain.java:78) [weld-core-impl-2.0.3.Final.jar:2013-07-17 09:29]




	at org.jboss.weld.interceptor.proxy.InterceptorInvocationContext.proceed(InterceptorInvocationContext.java:146) [weld-core-impl-2.0.3.Final.jar:2013-07-17 09:29]




	at org.hibernate.validator.internal.cdi.interceptor.ValidationInterceptor.validateMethodInvocation(ValidationInterceptor.java:87) [hibernate-validator-cdi-5.0.1.Final.jar:5.0.1.Final]




	at sun.reflect.GeneratedMethodAccessor339.invoke(Unknown Source) [:1.7.0_25]




	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) [rt.jar:1.7.0_25]




	at java.lang.reflect.Method.invoke(Method.java:606) [rt.jar:1.7.0_25]




	at org.jboss.weld.interceptor.proxy.SimpleMethodInvocation.invoke(SimpleMethodInvocation.java:30) [weld-core-impl-2.0.3.Final.jar:2013-07-17 09:29]




	at org.jboss.weld.interceptor.chain.AbstractInterceptionChain.invokeNext(AbstractInterceptionChain.java:93) [weld-core-impl-2.0.3.Final.jar:2013-07-17 09:29]




	at org.jboss.weld.interceptor.chain.AbstractInterceptionChain.invokeNextInterceptor(AbstractInterceptionChain.java:78) [weld-core-impl-2.0.3.Final.jar:2013-07-17 09:29]




	at org.jboss.weld.interceptor.proxy.InterceptorInvocationContext.proceed(InterceptorInvocationContext.java:146) [weld-core-impl-2.0.3.Final.jar:2013-07-17 09:29]




	at com.arjuna.ats.jta.cdi.transactional.TransactionalInterceptorBase.invokeInOurTx(TransactionalInterceptorBase.java:74) [narayana-jts-jacorb-5.0.0.M3.jar:5.0.0.M3 (revision: ${buildNumber})]




	at com.arjuna.ats.jta.cdi.transactional.TransactionalInterceptorRequired.intercept(TransactionalInterceptorRequired.java:52) [narayana-jts-jacorb-5.0.0.M3.jar:5.0.0.M3 (revision: ${buildNumber})]




	at sun.reflect.GeneratedMethodAccessor203.invoke(Unknown Source) [:1.7.0_25]




	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) [rt.jar:1.7.0_25]




	at java.lang.reflect.Method.invoke(Method.java:606) [rt.jar:1.7.0_25]




	at org.jboss.weld.interceptor.proxy.SimpleMethodInvocation.invoke(SimpleMethodInvocation.java:30) [weld-core-impl-2.0.3.Final.jar:2013-07-17 09:29]




	at org.jboss.weld.interceptor.chain.AbstractInterceptionChain.invokeNext(AbstractInterceptionChain.java:93) [weld-core-impl-2.0.3.Final.jar:2013-07-17 09:29]




	at org.jboss.weld.interceptor.chain.AbstractInterceptionChain.invokeNextInterceptor(AbstractInterceptionChain.java:78) [weld-core-impl-2.0.3.Final.jar:2013-07-17 09:29]




	at org.jboss.weld.interceptor.proxy.InterceptorMethodHandler.executeInterception(InterceptorMethodHandler.java:48) [weld-core-impl-2.0.3.Final.jar:2013-07-17 09:29]




	at org.jboss.weld.interceptor.proxy.InterceptorMethodHandler.invoke(InterceptorMethodHandler.java:41) [weld-core-impl-2.0.3.Final.jar:2013-07-17 09:29]




	at org.jboss.weld.bean.proxy.CombinedInterceptorAndDecoratorStackMethodHandler.invoke(CombinedInterceptorAndDecoratorStackMethodHandler.java:53) [weld-core-impl-2.0.3.Final.jar:2013-07-17 09:29]




	at de.shop.kundenverwaltung.rest.KundeResource$Proxy$_$$_WeldSubclass.createKunde(Unknown Source) [classes:]




	at de.shop.kundenverwaltung.rest.KundeResource$Proxy$_$$_WeldClientProxy.createKunde(Unknown Source) [classes:]




	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) [rt.jar:1.7.0_25]




	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:57) [rt.jar:1.7.0_25]




	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) [rt.jar:1.7.0_25]




	at java.lang.reflect.Method.invoke(Method.java:606) [rt.jar:1.7.0_25]




	at org.jboss.resteasy.core.MethodInjectorImpl.invoke(MethodInjectorImpl.java:137) [resteasy-jaxrs-3.0.3.Final.jar:]




	at org.jboss.resteasy.core.ResourceMethodInvoker.invokeOnTarget(ResourceMethodInvoker.java:280) [resteasy-jaxrs-3.0.3.Final.jar:]




	at org.jboss.resteasy.core.ResourceMethodInvoker.invoke(ResourceMethodInvoker.java:234) [resteasy-jaxrs-3.0.3.Final.jar:]




	at org.jboss.resteasy.core.ResourceMethodInvoker.invoke(ResourceMethodInvoker.java:221) [resteasy-jaxrs-3.0.3.Final.jar:]




	at org.jboss.resteasy.core.SynchronousDispatcher.invoke(SynchronousDispatcher.java:356) [resteasy-jaxrs-3.0.3.Final.jar:]




	... 37 more





</description>
			<version>8.0.0.Alpha4</version>
			<fixedVersion>8.0.0.Beta1</fixedVersion>
			<type>Bug</type>
		</buginformation>
		<fixedFiles>
			<file type="M">org.jboss.as.ee.concurrent.deployers.EEConcurrentDefaultContextServiceProcessor.java</file>
			<file type="M">org.jboss.as.ee.concurrent.deployers.EEConcurrentDefaultManagedThreadFactoryProcessor.java</file>
			<file type="M">org.jboss.as.test.integration.ee.concurrent.DefaultManagedScheduledExecutorServiceTestEJB.java</file>
			<file type="M">org.jboss.as.test.integration.ee.concurrent.DefaultManagedThreadFactoryTestEJB.java</file>
			<file type="M">org.jboss.as.naming.WritableServiceBasedNamingStore.java</file>
			<file type="D">org.jboss.as.test.integration.ee.concurrent.TestRunnable.java</file>
			<file type="M">org.jboss.as.test.integration.ee.concurrent.DefaultManagedScheduledExecutorServiceTestCase.java</file>
			<file type="M">org.jboss.as.ee.concurrent.deployers.EEConcurrentDefaultManagedScheduledExecutorServiceProcessor.java</file>
			<file type="M">org.jboss.as.ee.concurrent.handle.NamingContextHandleFactory.java</file>
			<file type="M">org.jboss.as.test.integration.ee.concurrent.DefaultContextServiceTestCase.java</file>
			<file type="M">org.jboss.as.test.integration.ee.concurrent.DefaultManagedThreadFactoryTestCase.java</file>
			<file type="M">org.jboss.as.test.integration.ee.concurrent.DefaultContextServiceTestEJB.java</file>
			<file type="M">org.jboss.as.test.integration.ee.concurrent.DefaultManagedExecutorServiceTestEJB.java</file>
			<file type="M">org.jboss.as.ee.concurrent.deployers.EEConcurrentAbstractProcessor.java</file>
			<file type="M">org.jboss.as.test.integration.ee.concurrent.DefaultManagedExecutorServiceTestCase.java</file>
			<file type="M">org.jboss.as.ee.concurrent.deployers.EEConcurrentDefaultManagedExecutorServiceProcessor.java</file>
		</fixedFiles>
	</bug>
	<bug id="2033" opendate="2013-09-10 08:30:50" fixdate="2013-09-11 14:53:21" resolution="Done">
		<buginformation>
			<summary>NotSupported tx attribute is not taken into account without a MethodIntf for CMT MDB</summary>
			<description>A MDB is configured using a deployment descriptor as a CMT with:






    &amp;lt;assembly-descriptor&amp;gt;




        &amp;lt;container-transaction&amp;gt;




            &amp;lt;method&amp;gt;




                &amp;lt;ejb-name&amp;gt;ContainerManagedTransactionNotSupportedMDBWithDD&amp;lt;/ejb-name&amp;gt;




                &amp;lt;method-name&amp;gt;onMessage&amp;lt;/method-name&amp;gt;




                &amp;lt;method-params&amp;gt;




                    &amp;lt;method-param&amp;gt;javax.jms.Message&amp;lt;/method-param&amp;gt;




                &amp;lt;/method-params&amp;gt;




            &amp;lt;/method&amp;gt;




            &amp;lt;trans-attribute&amp;gt;NotSupported&amp;lt;/trans-attribute&amp;gt;




        &amp;lt;/container-transaction&amp;gt;




    &amp;lt;/assembly-descriptor&amp;gt;






According to the sec, a call to MessageDrivenContext.setRollbackOnly() in the MDB&amp;amp;apos;s onMessage() method must throw an illegal state exception (as there is no active transaction).
Thats&amp;amp;apos;s not the case.
I debugged the code and WildFly identifies the invocation as the component MESSAGE_ENDPOINT methodIntf and its tx attribute as REQUIRED. The call to MessageDrivenContext.setRollbackOnly() succeeds when it must not.
The component txattrs do contain a BEAN methodIntf for the same method onMessage(javax.jms.Message) with NOT_SUPPORTED that corresponds to the deployment descriptor but it is not used.
If I explicitly set






   &amp;lt;method-intf&amp;gt;MessageEndpoint&amp;lt;/method-intf&amp;gt;






the test passes (MessageDrivenContext.setRollbackOnly() throws the expected exception)
I think it is a bug to have to specify the &amp;lt;method-intf&amp;gt; in the DD. The test should pass without it as this "style 3" method declaration is legal for MDB.</description>
			<version>8.0.0.Alpha4</version>
			<fixedVersion>8.0.0.Beta1</fixedVersion>
			<type>Bug</type>
		</buginformation>
		<fixedFiles>
			<file type="M">org.jboss.as.ejb3.deployment.processors.merging.MethodPermissionsMergingProcessor.java</file>
			<file type="M">org.jboss.as.ejb3.deployment.processors.merging.TransactionAttributeMergingProcessor.java</file>
			<file type="M">org.jboss.as.ejb3.context.EJBContextImpl.java</file>
			<file type="M">org.jboss.as.ejb3.deployment.processors.merging.AbstractMergingProcessor.java</file>
		</fixedFiles>
	</bug>
	<bug id="2048" opendate="2013-09-11 13:00:07" fixdate="2013-09-12 15:46:51" resolution="Done">
		<buginformation>
			<summary>Subsystem testing framework uses incorrect subsystem dependencies for old versions</summary>
			<description>When upgrading to Infinispan 6.0, I had to @Ignore the following test:
org.jboss.as.clustering.infinispan.subsystem.InfinispanSubsystemTransformerTestCase
The subsystem test framework attempt to run old versions of the infinispan subsystem against the dependencies of the current subsystem version.
On another note - I find this framework very cumbersome to debug when things go wrong since there is no output from starting the server.  So, all I know is it failed, without any indication why.  In my case, I add debug logging to the add operation handler and find that the add operation handlers throw NoClassDefFoundErrors and NoSuchMethodErrors, due to the framework attempting to use the 7.2 and 7.1.x versions of the subsystem with the dependencies from 8.0.  In the case of Infinispan 6.0, there are API changes that render it incompatible with the 7.2 and 7.1.x versions of the subsystem.</description>
			<version>8.0.0.Alpha4</version>
			<fixedVersion>8.0.0.Beta1</fixedVersion>
			<type>Bug</type>
		</buginformation>
		<fixedFiles>
			<file type="M">org.jboss.as.clustering.infinispan.subsystem.InfinispanSubsystemTransformerTestCase.java</file>
		</fixedFiles>
	</bug>
	<bug id="1547" opendate="2012-11-26 13:07:27" fixdate="2013-09-15 11:29:11" resolution="Done">
		<buginformation>
			<summary>deploy directories not cleaned up</summary>
			<description>JBoss EAP 6.0.0 (and 6.0.1.ER3) doesn&amp;amp;apos;t clean up it&amp;amp;apos;s tmp/vfs directories.
The following reproduces this -
i) ensure run.conf has the -Xrs set
ii) ensure deployments has a deployable .ear in it
iii) ./run standalone.sh and allow the deployments to deploy
iv) stop the EAP process ie kill &amp;lt;process_id&amp;gt;
v) observe content tmp/vfs
(The -Xrs parameter is used to "-Xrs" to prevent possible interference when JVM is running as a service and receives CTRL_LOGOFF_EVENT or SIGHUP)
This will eventually cause problems with lack of disk space.
Note if the -Xrs parameter content is removed but the tmp/vfs dirs stills exist. This could potentially cause inode problems.
It would be better if there were any additional code so the temp dirs are cleaned up on start up. That would resolve both the -Xrs problem and the excessive dir creation.
</description>
			<version>8.0.0.Alpha1</version>
			<fixedVersion>8.0.0.Beta1</fixedVersion>
			<type>Bug</type>
		</buginformation>
		<fixedFiles>
			<file type="M">org.jboss.as.cli.handlers.UndeployHandler.java</file>
			<file type="M">org.jboss.as.cli.handlers.DeployHandler.java</file>
			<file type="M">org.jboss.as.server.deployment.module.TempFileProviderService.java</file>
			<file type="M">org.jboss.as.server.deployment.DeploymentMountProvider.java</file>
		</fixedFiles>
		<links>
			<link type="Duplicate" description="is duplicated by">121</link>
			<link type="Related" description="relates to">166</link>
		</links>
	</bug>
	<bug id="2075" opendate="2013-09-16 00:35:25" fixdate="2013-09-16 02:35:58" resolution="Done">
		<buginformation>
			<summary>ModelController JMX integration doesn&amp;apos;t filter out bogus attributes from resource descriptions</summary>
			<description>If the resource description provided by a resource includes a bogus attribute that is actually a child type, the JMX integration produces an MBeanAttributeInfo for it. MBeanInfoFactory can detect this situation and should do so.</description>
			<version>8.0.0.Alpha4</version>
			<fixedVersion>8.0.0.Beta1</fixedVersion>
			<type>Bug</type>
		</buginformation>
		<fixedFiles>
			<file type="M">org.jboss.as.controller.registry.ImmutableManagementResourceRegistration.java</file>
			<file type="M">org.jboss.as.jmx.model.MBeanInfoFactory.java</file>
		</fixedFiles>
	</bug>
	<bug id="1974" opendate="2013-08-30 15:11:12" fixdate="2013-09-18 15:03:31" resolution="Done">
		<buginformation>
			<summary>@Resource ManagedExecutorService produces a null field</summary>
			<description>I compiled the latest WildFly master and tried:






@Resource




private ManagedExecutorService managedExecutorService






However, the injected field managedExecutorService is null. This issue is gone when I use:






@Resource(mappedName = "java:comp/DefaultManagedExecutorService")





</description>
			<version>8.0.0.Alpha4</version>
			<fixedVersion>8.0.0.Beta1</fixedVersion>
			<type>Bug</type>
		</buginformation>
		<fixedFiles>
			<file type="M">org.jboss.as.weld.services.bootstrap.WeldResourceInjectionServices.java</file>
		</fixedFiles>
	</bug>
	<bug id="2065" opendate="2013-09-13 10:06:10" fixdate="2013-09-18 19:50:54" resolution="Done">
		<buginformation>
			<summary>Update jboss-transaction-spi</summary>
			<description>The JPA integration test suite tests that the afterCompletion synchonization callback for timed out transactions is called from the TM transaction reaper thread by hard coding the reaper thread name. The latest SPI jar includes an interface method that does the same job. I&amp;amp;apos;d like to update the test suite to use the new SPI method.
I have marked the jira as a bug since testing against the reaper thread name is brittle.</description>
			<version>8.0.0.Alpha4</version>
			<fixedVersion>8.0.0.Beta1</fixedVersion>
			<type>Bug</type>
		</buginformation>
		<fixedFiles>
			<file type="M">org.jboss.as.test.integration.jpa.mockprovider.txtimeout.TxTimeoutTestCase.java</file>
			<file type="M">org.jboss.as.test.integration.jpa.mockprovider.txtimeout.SFSB1.java</file>
			<file type="M">org.jboss.as.test.integration.jpa.mockprovider.txtimeout.TestEntityManager.java</file>
			<file type="M">org.jboss.as.jpa.transaction.TransactionUtil.java</file>
		</fixedFiles>
		<links>
			<link type="Related" description="is related to">1556</link>
		</links>
	</bug>
	<bug id="2114" opendate="2013-09-19 16:10:25" fixdate="2013-09-20 19:09:06" resolution="Done">
		<buginformation>
			<summary>CLI GUI doesn&amp;apos;t show dialog for add operation if there are no params in the op description</summary>
			<description>Example is /subsystem=webservices/client-config=*/:add
If you right-click on client-config=* and choose the &amp;amp;apos;add&amp;amp;apos; operation you will not get a dialog.  This is because there are no params in the operation description.  However, for &amp;amp;apos;add&amp;amp;apos; operations there is an implicit &amp;amp;apos;name&amp;amp;apos; param that becomes part of the address.  So CLI GUI should still prompt for the name.</description>
			<version>8.0.0.Alpha4</version>
			<fixedVersion>8.0.0.Beta1</fixedVersion>
			<type>Bug</type>
		</buginformation>
		<fixedFiles>
			<file type="M">org.jboss.as.cli.gui.OperationMenu.java</file>
		</fixedFiles>
	</bug>
	<bug id="2146" opendate="2013-09-24 18:07:26" fixdate="2013-09-25 16:18:45" resolution="Done">
		<buginformation>
			<summary>Domain testsuite classes are leaking remoting Endpoints</summary>
			<description>DomainControllerClientConfig creates a remoting endpoint. Not all uses of this class are closing it, thus leaking endpoints.
This is a factor in some of the recent testsuite instability where runs are failing due to reaching user process limits. At the max, the leak results in 68 extra threads.</description>
			<version>8.0.0.Alpha4</version>
			<fixedVersion>8.0.0.Beta1</fixedVersion>
			<type>Bug</type>
		</buginformation>
		<fixedFiles>
			<file type="M">org.jboss.as.test.integration.domain.suites.CLITestSuite.java</file>
			<file type="M">org.jboss.as.test.integration.domain.management.util.DomainControllerClientConfig.java</file>
			<file type="M">org.jboss.as.test.integration.domain.management.cli.DataSourceTestCase.java</file>
			<file type="M">org.jboss.as.test.integration.domain.management.util.DomainLifecycleUtil.java</file>
			<file type="M">org.jboss.as.test.integration.domain.ExpressionSupportSmokeTestCase.java</file>
			<file type="M">org.jboss.as.test.integration.respawn.TestControllerUtils.java</file>
			<file type="M">org.jboss.as.test.integration.domain.DomainControllerMigrationTestCase.java</file>
		</fixedFiles>
	</bug>
	<bug id="1765" opendate="2013-07-26 11:50:37" fixdate="2013-09-26 10:21:56" resolution="Done">
		<buginformation>
			<summary>JDBC object store does not change LOG_STORE_TYPE attribute</summary>
			<description>The transaction subsystem when set up to JDBC object store should keep a note about it in log-store-type attribute as HornetQ object store does. It seems not to be consistent when one object store does this, but others do not.</description>
			<version>8.0.0.Alpha3</version>
			<fixedVersion></fixedVersion>
			<type>Bug</type>
		</buginformation>
		<fixedFiles>
			<file type="M">org.jboss.as.txn.subsystem.TransactionSubsystem20Parser.java</file>
		</fixedFiles>
		<links>
			<link type="Dependency" description="is blocked by">1460</link>
		</links>
	</bug>
	<bug id="1752" opendate="2013-07-24 08:26:35" fixdate="2013-09-30 07:57:03" resolution="Done">
		<buginformation>
			<summary>CDI TCK @WebServiceRef injection tests failing</summary>
			<description>





org.jboss.arquillian.test.spi.ArquillianProxyException: org.jboss.wsf.spi.WSFException : Cannot create service [Proxied because : Original exception not deserilizable, ClassNotFoundException]




        at org.jboss.wsf.spi.WSFException.rethrow(WSFException.java:55)




        at org.jboss.wsf.stack.cxf.client.serviceref.AbstractServiceObjectFactoryJAXWS.getObjectInstance(AbstractServiceObjectFactoryJAXWS.java:90)




        at org.jboss.wsf.stack.cxf.client.serviceref.CXFServiceRefFactoryImpl.newServiceRef(CXFServiceRefFactoryImpl.java:38)




        at org.jboss.as.webservices.webserviceref.WebServiceManagedReferenceFactory.getReference(WebServiceManagedReferenceFactory.java:37)




        at org.jboss.as.weld.services.bootstrap.ManagedReferenceFactoryToResourceReferenceFactoryAdapter.createResource(ManagedReferenceFactoryToResourceReferenceFactoryAdapter.java:41)




        at org.jboss.weld.injection.AbstractResourceInjection.getResourceReference(AbstractResourceInjection.java:44)




        at org.jboss.weld.injection.AbstractResourceInjection.injectResourceReference(AbstractResourceInjection.java:53)




        at org.jboss.weld.util.Beans.injectEEFields(Beans.java:348)




        at org.jboss.weld.injection.producer.ResourceInjector.inject(ResourceInjector.java:59)




        at org.jboss.weld.injection.producer.DefaultInjector$1.proceed(DefaultInjector.java:66)




        at org.jboss.weld.injection.InjectionContextImpl.run(InjectionContextImpl.java:48)




        at org.jboss.weld.injection.producer.DefaultInjector.inject(DefaultInjector.java:64)




        at org.jboss.weld.injection.producer.BasicInjectionTarget.inject(BasicInjectionTarget.java:91)




        at org.jboss.weld.bean.ManagedBean.create(ManagedBean.java:158)




        at org.jboss.weld.context.unbound.DependentContextImpl.get(DependentContextImpl.java:69)




        at org.jboss.weld.manager.BeanManagerImpl.getReference(BeanManagerImpl.java:738)




        at org.jboss.weld.injection.producer.AbstractMemberProducer.getReceiver(AbstractMemberProducer.java:110)




        at org.jboss.weld.injection.producer.AbstractMemberProducer.produce(AbstractMemberProducer.java:129)




        at org.jboss.weld.bean.AbstractProducerBean.create(AbstractProducerBean.java:189)




        at org.jboss.weld.bean.builtin.ee.EEResourceProducerField.createUnderlying(EEResourceProducerField.java:149)




        at org.jboss.weld.bean.builtin.ee.EEResourceProducerField.access$000(EEResourceProducerField.java:53)




        at org.jboss.weld.bean.builtin.ee.EEResourceProducerField$EEResourceCallable.call(EEResourceProducerField.java:73)




        at org.jboss.weld.bean.builtin.CallableMethodHandler.invoke(CallableMethodHandler.java:45)




        at org.jboss.weld.bean.proxy.EnterpriseTargetBeanInstance.invoke(EnterpriseTargetBeanInstance.java:56)




        at org.jboss.weld.bean.proxy.ProxyMethodHandler.invoke(ProxyMethodHandler.java:101)




        at org.jboss.cdi.tck.tests.lookup.injection.non.contextual.ws.SheepWS$-1409013730$Proxy$_$$_Weld$Proxy$.isSheepInjected(Unknown Source)




        at org.jboss.cdi.tck.tests.lookup.injection.non.contextual.ws.WebServiceResourceTest.testResourceInvocation(WebServiceResourceTest.java:86)




Caused by: java.lang.InstantiationException: org.jboss.cdi.tck.tests.lookup.injection.non.contextual.ws.SheepWSEndPointService




        at java.lang.Class.newInstance(Class.java:359)




        at org.jboss.wsf.stack.cxf.client.serviceref.AbstractServiceObjectFactoryJAXWS.instantiateService(AbstractServiceObjectFactoryJAXWS.java:241)




        at org.jboss.wsf.stack.cxf.client.serviceref.AbstractServiceObjectFactoryJAXWS.getObjectInstance(AbstractServiceObjectFactoryJAXWS.java:68)




        ... 128 more











The affected CDI TCK tests:
org.jboss.cdi.tck.tests.implementation.simple.resource.broken.type.ws.ResourceDefinitionWithDifferentTypeTest
org.jboss.cdi.tck.tests.lookup.injection.non.contextual.ws.WebServiceResourceTest</description>
			<version>8.0.0.Alpha3</version>
			<fixedVersion>8.0.0.Beta1</fixedVersion>
			<type>Bug</type>
		</buginformation>
		<fixedFiles>
			<file type="M">org.jboss.as.weld.services.bootstrap.WeldJaxwsInjectionServices.java</file>
			<file type="M">org.jboss.as.weld.util.ResourceInjectionUtilities.java</file>
		</fixedFiles>
		<links>
			<link type="Dependency" description="is blocked by">3679</link>
		</links>
	</bug>
	<bug id="2188" opendate="2013-09-30 21:46:42" fixdate="2013-09-30 22:17:16" resolution="Duplicate Issue">
		<buginformation>
			<summary>Wildfly Alpha 4 not starting with JDK 8</summary>
			<description>Wildfly Alpha 4 is not starting with JDK8. Here is the jstack output:
2013-09-30 14:27:06
Full thread dump Java HotSpot(TM) 64-Bit Server VM (25.0-b50 mixed mode):
"Attach Listener" #32 daemon prio=9 os_prio=31 tid=0x00007fd647897800 nid=0x4a0b waiting on condition [0x0000000000000000]
   java.lang.Thread.State: RUNNABLE
"DestroyJavaVM" #31 prio=5 os_prio=31 tid=0x00007fd646055800 nid=0x80b waiting on condition [0x0000000000000000]
   java.lang.Thread.State: RUNNABLE
"Controller Boot Thread" #30 prio=5 os_prio=31 tid=0x00007fd645510800 nid=0x8603 runnable [0x000000011ec48000]
   java.lang.Thread.State: RUNNABLE
	at java.util.concurrent.ConcurrentSkipListMap.findPredecessor(ConcurrentSkipListMap.java:685)
	at java.util.concurrent.ConcurrentSkipListMap.doPut(ConcurrentSkipListMap.java:823)
	at java.util.concurrent.ConcurrentSkipListMap.putIfAbsent(ConcurrentSkipListMap.java:1962)
	at java.util.concurrent.ConcurrentSkipListSet.add(ConcurrentSkipListSet.java:241)
	at org.jboss.as.server.DeployerChainAddHandler.addDeploymentProcessor(DeployerChainAddHandler.java:60)
	at org.jboss.as.server.ServerService.boot(ServerService.java:284)
	at org.jboss.as.controller.AbstractControllerService$1.run(AbstractControllerService.java:245)
	at java.lang.Thread.run(Thread.java:724)
"MSC service thread 1-16" #29 prio=5 os_prio=31 tid=0x00007fd64505c000 nid=0x8403 waiting on condition [0x000000011e645000]
   java.lang.Thread.State: WAITING (parking)
	at sun.misc.Unsafe.park(Native Method)

parking to wait for  &amp;lt;0x00000007f6814b78&amp;gt; (a java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject)
	at java.util.concurrent.locks.LockSupport.park(LockSupport.java:175)
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.await(AbstractQueuedSynchronizer.java:2037)
	at java.util.concurrent.LinkedBlockingQueue.take(LinkedBlockingQueue.java:442)
	at java.util.concurrent.ThreadPoolExecutor.getTask(ThreadPoolExecutor.java:1067)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1127)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)
	at java.lang.Thread.run(Thread.java:724)

"MSC service thread 1-15" #28 prio=5 os_prio=31 tid=0x00007fd645054000 nid=0x8203 waiting on condition [0x000000011e542000]
   java.lang.Thread.State: WAITING (parking)
	at sun.misc.Unsafe.park(Native Method)

parking to wait for  &amp;lt;0x00000007f6814b78&amp;gt; (a java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject)
	at java.util.concurrent.locks.LockSupport.park(LockSupport.java:175)
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.await(AbstractQueuedSynchronizer.java:2037)
	at java.util.concurrent.LinkedBlockingQueue.take(LinkedBlockingQueue.java:442)
	at java.util.concurrent.ThreadPoolExecutor.getTask(ThreadPoolExecutor.java:1067)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1127)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)
	at java.lang.Thread.run(Thread.java:724)

"MSC service thread 1-14" #27 prio=5 os_prio=31 tid=0x00007fd645053800 nid=0x8003 waiting on condition [0x000000011e43f000]
   java.lang.Thread.State: WAITING (parking)
	at sun.misc.Unsafe.park(Native Method)

parking to wait for  &amp;lt;0x00000007f6814b78&amp;gt; (a java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject)
	at java.util.concurrent.locks.LockSupport.park(LockSupport.java:175)
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.await(AbstractQueuedSynchronizer.java:2037)
	at java.util.concurrent.LinkedBlockingQueue.take(LinkedBlockingQueue.java:442)
	at java.util.concurrent.ThreadPoolExecutor.getTask(ThreadPoolExecutor.java:1067)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1127)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)
	at java.lang.Thread.run(Thread.java:724)

"MSC service thread 1-13" #26 prio=5 os_prio=31 tid=0x00007fd6454d8000 nid=0x7e03 waiting on condition [0x000000011e33c000]
   java.lang.Thread.State: WAITING (parking)
	at sun.misc.Unsafe.park(Native Method)

parking to wait for  &amp;lt;0x00000007f6814b78&amp;gt; (a java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject)
	at java.util.concurrent.locks.LockSupport.park(LockSupport.java:175)
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.await(AbstractQueuedSynchronizer.java:2037)
	at java.util.concurrent.LinkedBlockingQueue.take(LinkedBlockingQueue.java:442)
	at java.util.concurrent.ThreadPoolExecutor.getTask(ThreadPoolExecutor.java:1067)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1127)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)
	at java.lang.Thread.run(Thread.java:724)

"MSC service thread 1-12" #25 prio=5 os_prio=31 tid=0x00007fd645133000 nid=0x7c03 waiting on condition [0x000000011e239000]
   java.lang.Thread.State: WAITING (parking)
	at sun.misc.Unsafe.park(Native Method)

parking to wait for  &amp;lt;0x00000007f6814b78&amp;gt; (a java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject)
	at java.util.concurrent.locks.LockSupport.park(LockSupport.java:175)
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.await(AbstractQueuedSynchronizer.java:2037)
	at java.util.concurrent.LinkedBlockingQueue.take(LinkedBlockingQueue.java:442)
	at java.util.concurrent.ThreadPoolExecutor.getTask(ThreadPoolExecutor.java:1067)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1127)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)
	at java.lang.Thread.run(Thread.java:724)

"MSC service thread 1-11" #24 prio=5 os_prio=31 tid=0x00007fd645130000 nid=0x7a03 waiting on condition [0x000000011e136000]
   java.lang.Thread.State: WAITING (parking)
	at sun.misc.Unsafe.park(Native Method)

parking to wait for  &amp;lt;0x00000007f6814b78&amp;gt; (a java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject)
	at java.util.concurrent.locks.LockSupport.park(LockSupport.java:175)
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.await(AbstractQueuedSynchronizer.java:2037)
	at java.util.concurrent.LinkedBlockingQueue.take(LinkedBlockingQueue.java:442)
	at java.util.concurrent.ThreadPoolExecutor.getTask(ThreadPoolExecutor.java:1067)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1127)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)
	at java.lang.Thread.run(Thread.java:724)

"MSC service thread 1-10" #23 prio=5 os_prio=31 tid=0x00007fd645294800 nid=0x7803 waiting on condition [0x000000011e033000]
   java.lang.Thread.State: WAITING (parking)
	at sun.misc.Unsafe.park(Native Method)

parking to wait for  &amp;lt;0x00000007f6814b78&amp;gt; (a java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject)
	at java.util.concurrent.locks.LockSupport.park(LockSupport.java:175)
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.await(AbstractQueuedSynchronizer.java:2037)
	at java.util.concurrent.LinkedBlockingQueue.take(LinkedBlockingQueue.java:442)
	at java.util.concurrent.ThreadPoolExecutor.getTask(ThreadPoolExecutor.java:1067)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1127)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)
	at java.lang.Thread.run(Thread.java:724)

"MSC service thread 1-9" #22 prio=5 os_prio=31 tid=0x00007fd6442fc800 nid=0x7603 waiting on condition [0x000000011df30000]
   java.lang.Thread.State: WAITING (parking)
	at sun.misc.Unsafe.park(Native Method)

parking to wait for  &amp;lt;0x00000007f6814b78&amp;gt; (a java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject)
	at java.util.concurrent.locks.LockSupport.park(LockSupport.java:175)
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.await(AbstractQueuedSynchronizer.java:2037)
	at java.util.concurrent.LinkedBlockingQueue.take(LinkedBlockingQueue.java:442)
	at java.util.concurrent.ThreadPoolExecutor.getTask(ThreadPoolExecutor.java:1067)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1127)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)
	at java.lang.Thread.run(Thread.java:724)

"MSC service thread 1-8" #21 prio=5 os_prio=31 tid=0x00007fd644351800 nid=0x7403 waiting on condition [0x000000011de2d000]
   java.lang.Thread.State: WAITING (parking)
	at sun.misc.Unsafe.park(Native Method)

parking to wait for  &amp;lt;0x00000007f6814b78&amp;gt; (a java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject)
	at java.util.concurrent.locks.LockSupport.park(LockSupport.java:175)
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.await(AbstractQueuedSynchronizer.java:2037)
	at java.util.concurrent.LinkedBlockingQueue.take(LinkedBlockingQueue.java:442)
	at java.util.concurrent.ThreadPoolExecutor.getTask(ThreadPoolExecutor.java:1067)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1127)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)
	at java.lang.Thread.run(Thread.java:724)

"MSC service thread 1-7" #20 prio=5 os_prio=31 tid=0x00007fd6454bc000 nid=0x7203 waiting on condition [0x000000011dd2a000]
   java.lang.Thread.State: WAITING (parking)
	at sun.misc.Unsafe.park(Native Method)

parking to wait for  &amp;lt;0x00000007f6814b78&amp;gt; (a java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject)
	at java.util.concurrent.locks.LockSupport.park(LockSupport.java:175)
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.await(AbstractQueuedSynchronizer.java:2037)
	at java.util.concurrent.LinkedBlockingQueue.take(LinkedBlockingQueue.java:442)
	at java.util.concurrent.ThreadPoolExecutor.getTask(ThreadPoolExecutor.java:1067)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1127)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)
	at java.lang.Thread.run(Thread.java:724)

"MSC service thread 1-6" #19 prio=5 os_prio=31 tid=0x00007fd644105800 nid=0x7003 waiting on condition [0x000000011dc27000]
   java.lang.Thread.State: WAITING (parking)
	at sun.misc.Unsafe.park(Native Method)

parking to wait for  &amp;lt;0x00000007f6814b78&amp;gt; (a java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject)
	at java.util.concurrent.locks.LockSupport.park(LockSupport.java:175)
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.await(AbstractQueuedSynchronizer.java:2037)
	at java.util.concurrent.LinkedBlockingQueue.take(LinkedBlockingQueue.java:442)
	at java.util.concurrent.ThreadPoolExecutor.getTask(ThreadPoolExecutor.java:1067)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1127)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)
	at java.lang.Thread.run(Thread.java:724)

"MSC service thread 1-5" #18 prio=5 os_prio=31 tid=0x00007fd6439c6800 nid=0x6e03 waiting on condition [0x000000011db24000]
   java.lang.Thread.State: WAITING (parking)
	at sun.misc.Unsafe.park(Native Method)

parking to wait for  &amp;lt;0x00000007f6814b78&amp;gt; (a java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject)
	at java.util.concurrent.locks.LockSupport.park(LockSupport.java:175)
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.await(AbstractQueuedSynchronizer.java:2037)
	at java.util.concurrent.LinkedBlockingQueue.take(LinkedBlockingQueue.java:442)
	at java.util.concurrent.ThreadPoolExecutor.getTask(ThreadPoolExecutor.java:1067)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1127)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)
	at java.lang.Thread.run(Thread.java:724)

"MSC service thread 1-4" #17 prio=5 os_prio=31 tid=0x00007fd646800800 nid=0x6c03 waiting on condition [0x000000011da21000]
   java.lang.Thread.State: WAITING (parking)
	at sun.misc.Unsafe.park(Native Method)

parking to wait for  &amp;lt;0x00000007f6814b78&amp;gt; (a java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject)
	at java.util.concurrent.locks.LockSupport.park(LockSupport.java:175)
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.await(AbstractQueuedSynchronizer.java:2037)
	at java.util.concurrent.LinkedBlockingQueue.take(LinkedBlockingQueue.java:442)
	at java.util.concurrent.ThreadPoolExecutor.getTask(ThreadPoolExecutor.java:1067)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1127)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)
	at java.lang.Thread.run(Thread.java:724)

"MSC service thread 1-3" #16 prio=5 os_prio=31 tid=0x00007fd6451a4800 nid=0x6a03 waiting on condition [0x000000011d91e000]
   java.lang.Thread.State: WAITING (parking)
	at sun.misc.Unsafe.park(Native Method)

parking to wait for  &amp;lt;0x00000007f6814b78&amp;gt; (a java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject)
	at java.util.concurrent.locks.LockSupport.park(LockSupport.java:175)
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.await(AbstractQueuedSynchronizer.java:2037)
	at java.util.concurrent.LinkedBlockingQueue.take(LinkedBlockingQueue.java:442)
	at java.util.concurrent.ThreadPoolExecutor.getTask(ThreadPoolExecutor.java:1067)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1127)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)
	at java.lang.Thread.run(Thread.java:724)

"MSC service thread 1-2" #15 prio=5 os_prio=31 tid=0x00007fd64310c000 nid=0x6803 waiting on condition [0x000000011d81b000]
   java.lang.Thread.State: WAITING (parking)
	at sun.misc.Unsafe.park(Native Method)

parking to wait for  &amp;lt;0x00000007f6814b78&amp;gt; (a java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject)
	at java.util.concurrent.locks.LockSupport.park(LockSupport.java:175)
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.await(AbstractQueuedSynchronizer.java:2037)
	at java.util.concurrent.LinkedBlockingQueue.take(LinkedBlockingQueue.java:442)
	at java.util.concurrent.ThreadPoolExecutor.getTask(ThreadPoolExecutor.java:1067)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1127)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)
	at java.lang.Thread.run(Thread.java:724)

"MSC service thread 1-1" #14 prio=5 os_prio=31 tid=0x00007fd6450e7800 nid=0x6603 waiting on condition [0x000000011d718000]
   java.lang.Thread.State: WAITING (parking)
	at sun.misc.Unsafe.park(Native Method)

parking to wait for  &amp;lt;0x00000007f6814b78&amp;gt; (a java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject)
	at java.util.concurrent.locks.LockSupport.park(LockSupport.java:175)
	at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.await(AbstractQueuedSynchronizer.java:2037)
	at java.util.concurrent.LinkedBlockingQueue.take(LinkedBlockingQueue.java:442)
	at java.util.concurrent.ThreadPoolExecutor.getTask(ThreadPoolExecutor.java:1067)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1127)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)
	at java.lang.Thread.run(Thread.java:724)

"Reference Reaper" #10 daemon prio=5 os_prio=31 tid=0x00007fd6450df000 nid=0x6403 in Object.wait() [0x000000011c93f000]
   java.lang.Thread.State: WAITING (on object monitor)
	at java.lang.Object.wait(Native Method)

waiting on &amp;lt;0x00000007f6838518&amp;gt; (a java.lang.ref.ReferenceQueue$Lock)
	at java.lang.ref.ReferenceQueue.remove(ReferenceQueue.java:142)
locked &amp;lt;0x00000007f6838518&amp;gt; (a java.lang.ref.ReferenceQueue$Lock)
	at java.lang.ref.ReferenceQueue.remove(ReferenceQueue.java:158)
	at org.jboss.modules.ref.References$ReaperThread.run(References.java:68)

"Service Thread" #9 daemon prio=9 os_prio=31 tid=0x00007fd645009800 nid=0x6003 runnable [0x0000000000000000]
   java.lang.Thread.State: RUNNABLE
"C1 CompilerThread3" #8 daemon prio=9 os_prio=31 tid=0x00007fd643065800 nid=0x5e03 waiting on condition [0x0000000000000000]
   java.lang.Thread.State: RUNNABLE
"C2 CompilerThread2" #7 daemon prio=9 os_prio=31 tid=0x00007fd643065000 nid=0x5c03 waiting on condition [0x0000000000000000]
   java.lang.Thread.State: RUNNABLE
"C2 CompilerThread1" #6 daemon prio=9 os_prio=31 tid=0x00007fd643059000 nid=0x5a03 waiting on condition [0x0000000000000000]
   java.lang.Thread.State: RUNNABLE
"C2 CompilerThread0" #5 daemon prio=9 os_prio=31 tid=0x00007fd643057800 nid=0x5803 waiting on condition [0x0000000000000000]
   java.lang.Thread.State: RUNNABLE
"Signal Dispatcher" #4 daemon prio=9 os_prio=31 tid=0x00007fd643063000 nid=0x5603 runnable [0x0000000000000000]
   java.lang.Thread.State: RUNNABLE
"Finalizer" #3 daemon prio=8 os_prio=31 tid=0x00007fd644050000 nid=0x4603 in Object.wait() [0x000000011bdd7000]
   java.lang.Thread.State: WAITING (on object monitor)
	at java.lang.Object.wait(Native Method)

waiting on &amp;lt;0x00000007f6820f98&amp;gt; (a java.lang.ref.ReferenceQueue$Lock)
	at java.lang.ref.ReferenceQueue.remove(ReferenceQueue.java:142)
locked &amp;lt;0x00000007f6820f98&amp;gt; (a java.lang.ref.ReferenceQueue$Lock)
	at java.lang.ref.ReferenceQueue.remove(ReferenceQueue.java:158)
	at java.lang.ref.Finalizer$FinalizerThread.run(Finalizer.java:189)

"Reference Handler" #2 daemon prio=10 os_prio=31 tid=0x00007fd64404f800 nid=0x4403 in Object.wait() [0x000000011bcd4000]
   java.lang.Thread.State: WAITING (on object monitor)
	at java.lang.Object.wait(Native Method)

waiting on &amp;lt;0x00000007f68386c0&amp;gt; (a java.lang.ref.Reference$Lock)
	at java.lang.Object.wait(Object.java:502)
	at java.lang.ref.Reference$ReferenceHandler.run(Reference.java:157)
locked &amp;lt;0x00000007f68386c0&amp;gt; (a java.lang.ref.Reference$Lock)

"VM Thread" os_prio=31 tid=0x00007fd64404d000 nid=0x4203 runnable 
"GC task thread#0 (ParallelGC)" os_prio=31 tid=0x00007fd64500d000 nid=0x3203 runnable 
"GC task thread#1 (ParallelGC)" os_prio=31 tid=0x00007fd64500e000 nid=0x3403 runnable 
"GC task thread#2 (ParallelGC)" os_prio=31 tid=0x00007fd64500e800 nid=0x3603 runnable 
"GC task thread#3 (ParallelGC)" os_prio=31 tid=0x00007fd64500f000 nid=0x3803 runnable 
"GC task thread#4 (ParallelGC)" os_prio=31 tid=0x00007fd64500f800 nid=0x3a03 runnable 
"GC task thread#5 (ParallelGC)" os_prio=31 tid=0x00007fd645010800 nid=0x3c03 runnable 
"GC task thread#6 (ParallelGC)" os_prio=31 tid=0x00007fd644004800 nid=0x3e03 runnable 
"GC task thread#7 (ParallelGC)" os_prio=31 tid=0x00007fd644005000 nid=0x4003 runnable 
"VM Periodic Task Thread" os_prio=31 tid=0x00007fd645016800 nid=0x6203 waiting on condition 
JNI global references: 74</description>
			<version>8.0.0.Alpha4</version>
			<fixedVersion></fixedVersion>
			<type>Bug</type>
		</buginformation>
		<fixedFiles>
			<file type="M">org.jboss.as.server.deployment.RegisteredDeploymentUnitProcessor.java</file>
			<file type="M">org.jboss.as.messaging.MessagingSubsystemAdd.java</file>
			<file type="M">org.jboss.as.ee.subsystem.EeSubsystemAdd.java</file>
			<file type="M">org.jboss.as.weld.WeldSubsystemAdd.java</file>
			<file type="M">org.jboss.as.server.DeployerChainAddHandler.java</file>
			<file type="M">org.jboss.as.ejb3.subsystem.EJB3SubsystemAdd.java</file>
			<file type="M">org.jboss.as.server.deployment.module.descriptor.DeploymentStructureDescriptorParser.java</file>
			<file type="M">org.jboss.as.appclient.subsystem.AppClientSubsystemAdd.java</file>
			<file type="M">org.jboss.as.jpa.subsystem.JPASubSystemAdd.java</file>
			<file type="M">org.jboss.as.server.deployment.dependencies.DeploymentDependenciesProcessor.java</file>
			<file type="M">org.wildfly.extension.undertow.UndertowSubsystemAdd.java</file>
			<file type="M">org.jboss.as.server.deployment.Phase.java</file>
			<file type="M">org.jboss.as.jsf.subsystem.JSFSubsystemAdd.java</file>
			<file type="M">org.jboss.as.server.ServerMessages.java</file>
		</fixedFiles>
		<links>
			<link type="Duplicate" description="duplicates">2057</link>
		</links>
	</bug>
	<bug id="1786" opendate="2013-07-30 21:33:56" fixdate="2013-10-01 10:41:52" resolution="Done">
		<buginformation>
			<summary>webservices no longer use port-offset</summary>
			<description>One of todays commits broke the Webservice usage for me.
Version c76e3615464ed8d616ba3b84eea0c31185d07a0f was OK.
Version 101d67aa894bca663464c67988a6889496a47158 is broken.
I start wildfly with a port-offset of 700, so http-port is 8780.
But looking at the console app under localhost:10690 - Runtime - Subsystems - Webservices all WSDL url are now http://server:8080/....
port-offset not used here.
So the consequence is
23:02:45,038 FATAL javax.enterprise.resource.webcontainer.jsf.context#log /Template.xhtml: Could not send Message.: javax.el.ELException: /Template.xhtml: Could not send Message.
    at com.sun.faces.facelets.compiler.AttributeInstruction.write(AttributeInstruction.java:96) [jsf-impl-2.2.1-jbossorg-1.jar:]
    at com.sun.faces.facelets.compiler.UIInstructions.encodeBegin(UIInstructions.java:82) [jsf-impl-2.2.1-jbossorg-1.jar:]
    at com.sun.faces.facelets.compiler.UILeaf.encodeAll(UILeaf.java:207) [jsf-impl-2.2.1-jbossorg-1.jar:]
    at javax.faces.component.UIComponent.encodeAll(UIComponent.java:1899) [jboss-jsf-api_2.2_spec-2.2.1.jar:2.2.1]
    at com.sun.faces.application.view.FaceletViewHandlingStrategy.renderView(FaceletViewHandlingStrategy.java:451) [jsf-impl-2.2.1-jbossorg-1.jar:]
    at com.sun.faces.application.view.MultiViewHandler.renderView(MultiViewHandler.java:131) [jsf-impl-2.2.1-jbossorg-1.jar:]
    at javax.faces.application.ViewHandlerWrapper.renderView(ViewHandlerWrapper.java:337) [jboss-jsf-api_2.2_spec-2.2.1.jar:2.2.1]
    at javax.faces.application.ViewHandlerWrapper.renderView(ViewHandlerWrapper.java:337) [jboss-jsf-api_2.2_spec-2.2.1.jar:2.2.1]
    at javax.faces.application.ViewHandlerWrapper.renderView(ViewHandlerWrapper.java:337) [jboss-jsf-api_2.2_spec-2.2.1.jar:2.2.1]
    at com.sun.faces.lifecycle.RenderResponsePhase.execute(RenderResponsePhase.java:120) [jsf-impl-2.2.1-jbossorg-1.jar:]
    at com.sun.faces.lifecycle.Phase.doPhase(Phase.java:101) [jsf-impl-2.2.1-jbossorg-1.jar:]
    at com.sun.faces.lifecycle.LifecycleImpl.render(LifecycleImpl.java:219) [jsf-impl-2.2.1-jbossorg-1.jar:]
    at javax.faces.webapp.FacesServlet.service(FacesServlet.java:647) [jboss-jsf-api_2.2_spec-2.2.1.jar:2.2.1]
    at io.undertow.servlet.handlers.ServletHandler.handleRequest(ServletHandler.java:87) [undertow-servlet-1.0.0.Beta5.jar:1.0.0.Beta5]
    at io.undertow.servlet.handlers.FilterHandler.handleRequest(FilterHandler.java:82) [undertow-servlet-1.0.0.Beta5.jar:1.0.0.Beta5]
    at io.undertow.servlet.handlers.security.ServletSecurityRoleHandler.handleRequest(ServletSecurityRoleHandler.java:54) [undertow-servlet-1.0.0.Beta5.jar:1.0.0.Beta5]
    at io.undertow.servlet.handlers.ServletDispatchingHandler.handleRequest(ServletDispatchingHandler.java:36) [undertow-servlet-1.0.0.Beta5.jar:1.0.0.Beta5]
    at org.wildfly.extension.undertow.security.SecurityContextAssociationHandler.handleRequest(SecurityContextAssociationHandler.java:78)
    at io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:25) [undertow-core-1.0.0.Beta5.jar:1.0.0.Beta5]
    at io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:25) [undertow-core-1.0.0.Beta5.jar:1.0.0.Beta5]
    at io.undertow.servlet.handlers.ServletInitialHandler.dispatchRequest(ServletInitialHandler.java:186) [undertow-servlet-1.0.0.Beta5.jar:1.0.0.Beta5]
    at io.undertow.servlet.handlers.ServletInitialHandler.dispatchToPath(ServletInitialHandler.java:130) [undertow-servlet-1.0.0.Beta5.jar:1.0.0.Beta5]
    at io.undertow.servlet.spec.RequestDispatcherImpl.forward(RequestDispatcherImpl.java:140) [undertow-servlet-1.0.0.Beta5.jar:1.0.0.Beta5]
    at io.undertow.servlet.handlers.security.ServletFormAuthenticationMechanism.servePage(ServletFormAuthenticationMechanism.java:39) [undertow-servlet-1.0.0.Beta5.jar:1.0.0.Beta5]
    at io.undertow.security.impl.FormAuthenticationMechanism.sendChallenge(FormAuthenticationMechanism.java:156) [undertow-core-1.0.0.Beta5.jar:1.0.0.Beta5]
    at io.undertow.security.impl.SecurityContextImpl$ChallengeSender.transition(SecurityContextImpl.java:328) [undertow-core-1.0.0.Beta5.jar:1.0.0.Beta5]
    at io.undertow.security.impl.SecurityContextImpl$ChallengeSender.transition(SecurityContextImpl.java:347) [undertow-core-1.0.0.Beta5.jar:1.0.0.Beta5]
    at io.undertow.security.impl.SecurityContextImpl$ChallengeSender.access$300(SecurityContextImpl.java:312) [undertow-core-1.0.0.Beta5.jar:1.0.0.Beta5]
    at io.undertow.security.impl.SecurityContextImpl.sendChallenges(SecurityContextImpl.java:135) [undertow-core-1.0.0.Beta5.jar:1.0.0.Beta5]
    at io.undertow.security.impl.SecurityContextImpl.authTransition(SecurityContextImpl.java:109) [undertow-core-1.0.0.Beta5.jar:1.0.0.Beta5]
    at io.undertow.security.impl.SecurityContextImpl.authTransition(SecurityContextImpl.java:114) [undertow-core-1.0.0.Beta5.jar:1.0.0.Beta5]
    at io.undertow.security.impl.SecurityContextImpl.authenticate(SecurityContextImpl.java:99) [undertow-core-1.0.0.Beta5.jar:1.0.0.Beta5]
    at io.undertow.security.handlers.AuthenticationCallHandler.handleRequest(AuthenticationCallHandler.java:50) [undertow-core-1.0.0.Beta5.jar:1.0.0.Beta5]
    at io.undertow.security.handlers.AuthenticationConstraintHandler.handleRequest(AuthenticationConstraintHandler.java:51) [undertow-core-1.0.0.Beta5.jar:1.0.0.Beta5]
    at io.undertow.security.handlers.AbstractConfidentialityHandler.handleRequest(AbstractConfidentialityHandler.java:45) [undertow-core-1.0.0.Beta5.jar:1.0.0.Beta5]
    at io.undertow.servlet.handlers.security.ServletSecurityConstraintHandler.handleRequest(ServletSecurityConstraintHandler.java:55) [undertow-servlet-1.0.0.Beta5.jar:1.0.0.Beta5]
    at io.undertow.security.handlers.AuthenticationMechanismsHandler.handleRequest(AuthenticationMechanismsHandler.java:58) [undertow-core-1.0.0.Beta5.jar:1.0.0.Beta5]
    at io.undertow.servlet.handlers.security.CachedAuthenticatedSessionHandler.handleRequest(CachedAuthenticatedSessionHandler.java:65) [undertow-servlet-1.0.0.Beta5.jar:1.0.0.Beta5]
    at io.undertow.security.handlers.SecurityInitialHandler.handleRequest(SecurityInitialHandler.java:70) [undertow-core-1.0.0.Beta5.jar:1.0.0.Beta5]
    at io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:25) [undertow-core-1.0.0.Beta5.jar:1.0.0.Beta5]
    at org.wildfly.extension.undertow.security.SecurityContextCreationHandler.handleRequest(SecurityContextCreationHandler.java:54)
    at io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:25) [undertow-core-1.0.0.Beta5.jar:1.0.0.Beta5]
    at io.undertow.servlet.handlers.ServletInitialHandler.handleFirstRequest(ServletInitialHandler.java:197) [undertow-servlet-1.0.0.Beta5.jar:1.0.0.Beta5]
    at io.undertow.servlet.handlers.ServletInitialHandler.dispatchRequest(ServletInitialHandler.java:184) [undertow-servlet-1.0.0.Beta5.jar:1.0.0.Beta5]
    at io.undertow.servlet.handlers.ServletInitialHandler.access$000(ServletInitialHandler.java:59) [undertow-servlet-1.0.0.Beta5.jar:1.0.0.Beta5]
    at io.undertow.servlet.handlers.ServletInitialHandler$1.handleRequest(ServletInitialHandler.java:119) [undertow-servlet-1.0.0.Beta5.jar:1.0.0.Beta5]
    at io.undertow.server.HttpHandlers.executeRootHandler(HttpHandlers.java:36) [undertow-core-1.0.0.Beta5.jar:1.0.0.Beta5]
    at io.undertow.server.HttpServerExchange$1.run(HttpServerExchange.java:629) [undertow-core-1.0.0.Beta5.jar:1.0.0.Beta5]
    at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1145) [rt.jar:1.7.0_40-ea]
    at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:615) [rt.jar:1.7.0_40-ea]
    at java.lang.Thread.run(Thread.java:724) [rt.jar:1.7.0_40-ea]
Caused by: javax.xml.ws.WebServiceException: Could not send Message.
    at org.apache.cxf.jaxws.JaxWsClientProxy.invoke(JaxWsClientProxy.java:145)
    at com.sun.proxy.$Proxy287.getTranslation(Unknown Source)
    at biz.mbisoftware.web.model.common.SynonymMap.getTranslation(SynonymMap.java:49) [classes:]
    at biz.mbisoftware.web.model.common.SynonymMap.getTranslation(SynonymMap.java:66) [classes:]
    at biz.mbisoftware.web.model.common.TranslationMap.get(TranslationMap.java:90) [classes:]
    at biz.mbisoftware.web.utility.LocaleHelper.getTranslation(LocaleHelper.java:243) [classes:]
    at biz.mbisoftware.web.model.core.SettingsModel.&amp;lt;init&amp;gt;(SettingsModel.java:88) [classes:]
    at biz.mbisoftware.web.model.core.SettingsModel$Proxy$_$$_WeldClientProxy.&amp;lt;init&amp;gt;(Unknown Source) [classes:]
    at sun.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method) [rt.jar:1.7.0_40-ea]
    at sun.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:57) [rt.jar:1.7.0_40-ea]
    at sun.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45) [rt.jar:1.7.0_40-ea]
    at java.lang.reflect.Constructor.newInstance(Constructor.java:526) [rt.jar:1.7.0_40-ea]
    at java.lang.Class.newInstance(Class.java:374) [rt.jar:1.7.0_40-ea]
    at org.jboss.weld.security.NewInstanceAction.run(NewInstanceAction.java:33) [weld-core-impl-2.0.3.Final.jar:2013-07-17 09:29]
    at java.security.AccessController.doPrivileged(Native Method) [rt.jar:1.7.0_40-ea]
    at org.jboss.weld.bean.proxy.ProxyFactory.create(ProxyFactory.java:274) [weld-core-impl-2.0.3.Final.jar:2013-07-17 09:29]
    at org.jboss.weld.bean.proxy.ClientProxyFactory.create(ClientProxyFactory.java:110) [weld-core-impl-2.0.3.Final.jar:2013-07-17 09:29]
    at org.jboss.weld.bean.proxy.ClientProxyProvider.createClientProxy(ClientProxyProvider.java:165) [weld-core-impl-2.0.3.Final.jar:2013-07-17 09:29]
    at org.jboss.weld.bean.proxy.ClientProxyProvider.createClientProxy(ClientProxyProvider.java:155) [weld-core-impl-2.0.3.Final.jar:2013-07-17 09:29]
    at org.jboss.weld.bean.proxy.ClientProxyProvider.access$000(ClientProxyProvider.java:49) [weld-core-impl-2.0.3.Final.jar:2013-07-17 09:29]
    at org.jboss.weld.bean.proxy.ClientProxyProvider$1.load(ClientProxyProvider.java:57) [weld-core-impl-2.0.3.Final.jar:2013-07-17 09:29]
    at org.jboss.weld.bean.proxy.ClientProxyProvider$1.load(ClientProxyProvider.java:53) [weld-core-impl-2.0.3.Final.jar:2013-07-17 09:29]
    at com.google.common.cache.LocalCache$LoadingValueReference.loadFuture(LocalCache.java:3589) [guava-13.0.1.jar:]
    at com.google.common.cache.LocalCache$Segment.loadSync(LocalCache.java:2374) [guava-13.0.1.jar:]
    at com.google.common.cache.LocalCache$Segment.lockedGetOrLoad(LocalCache.java:2337) [guava-13.0.1.jar:]
    at com.google.common.cache.LocalCache$Segment.get(LocalCache.java:2252) [guava-13.0.1.jar:]
    at com.google.common.cache.LocalCache.get(LocalCache.java:3990) [guava-13.0.1.jar:]
    at com.google.common.cache.LocalCache.getOrLoad(LocalCache.java:3994) [guava-13.0.1.jar:]
    at com.google.common.cache.LocalCache$LocalLoadingCache.get(LocalCache.java:4878) [guava-13.0.1.jar:]
    at org.jboss.weld.util.cache.LoadingCacheUtils.getCacheValue(LoadingCacheUtils.java:54) [weld-core-impl-2.0.3.Final.jar:2013-07-17 09:29]
    at org.jboss.weld.util.cache.LoadingCacheUtils.getCastCacheValue(LoadingCacheUtils.java:82) [weld-core-impl-2.0.3.Final.jar:2013-07-17 09:29]
    at org.jboss.weld.bean.proxy.ClientProxyProvider.getClientProxy(ClientProxyProvider.java:171) [weld-core-impl-2.0.3.Final.jar:2013-07-17 09:29]
    at org.jboss.weld.el.AbstractWeldELResolver.lookup(AbstractWeldELResolver.java:115) [weld-core-impl-2.0.3.Final.jar:2013-07-17 09:29]
    at org.jboss.weld.el.AbstractWeldELResolver.getValue(AbstractWeldELResolver.java:96) [weld-core-impl-2.0.3.Final.jar:2013-07-17 09:29]
    at org.jboss.as.jsf.injection.weld.ForwardingELResolver.getValue(ForwardingELResolver.java:46) [wildfly-jsf-injection-8.0.0.Alpha4-SNAPSHOT.jar:8.0.0.Alpha4-SNAPSHOT]
    at javax.el.CompositeELResolver.getValue(CompositeELResolver.java:188) [javax.el-3.0-b07.jar:3.0-b07]
    at com.sun.faces.el.DemuxCompositeELResolver._getValue(DemuxCompositeELResolver.java:176) [jsf-impl-2.2.1-jbossorg-1.jar:]
    at com.sun.faces.el.DemuxCompositeELResolver.getValue(DemuxCompositeELResolver.java:203) [jsf-impl-2.2.1-jbossorg-1.jar:]
    at com.sun.el.parser.AstIdentifier.getValue(AstIdentifier.java:116) [javax.el-3.0-b07.jar:3.0-b07]
    at com.sun.el.parser.AstValue.getBase(AstValue.java:151) [javax.el-3.0-b07.jar:3.0-b07]
    at com.sun.el.parser.AstValue.getValue(AstValue.java:200) [javax.el-3.0-b07.jar:3.0-b07]
    at com.sun.el.ValueExpressionImpl.getValue(ValueExpressionImpl.java:226) [javax.el-3.0-b07.jar:3.0-b07]
    at org.jboss.weld.el.WeldValueExpression.getValue(WeldValueExpression.java:50) [weld-core-impl-2.0.3.Final.jar:2013-07-17 09:29]
    at org.jboss.weld.el.WeldValueExpression.getValue(WeldValueExpression.java:50) [weld-core-impl-2.0.3.Final.jar:2013-07-17 09:29]
    at com.sun.faces.facelets.el.ELText$ELTextVariable.toString(ELText.java:217) [jsf-impl-2.2.1-jbossorg-1.jar:]
    at com.sun.faces.facelets.compiler.AttributeInstruction.write(AttributeInstruction.java:89) [jsf-impl-2.2.1-jbossorg-1.jar:]
    ... 50 more
Caused by: java.net.ConnectException: ConnectException invoking http://sb2000:8080/mbi-ws/maj2e-langfr-dev/common/TranslationWS: Connection refused
    at sun.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method) [rt.jar:1.7.0_40-ea]
    at sun.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:57) [rt.jar:1.7.0_40-ea]
    at sun.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45) [rt.jar:1.7.0_40-ea]
    at java.lang.reflect.Constructor.newInstance(Constructor.java:526) [rt.jar:1.7.0_40-ea]
    at org.apache.cxf.transport.http.HTTPConduit$WrappedOutputStream.mapException(HTTPConduit.java:1334)
    at org.apache.cxf.transport.http.HTTPConduit$WrappedOutputStream.close(HTTPConduit.java:1318)
    at org.apache.cxf.transport.AbstractConduit.close(AbstractConduit.java:56)
    at org.apache.cxf.transport.http.HTTPConduit.close(HTTPConduit.java:623)
    at org.apache.cxf.interceptor.MessageSenderInterceptor$MessageSenderEndingInterceptor.handleMessage(MessageSenderInterceptor.java:62)
    at org.apache.cxf.phase.PhaseInterceptorChain.doIntercept(PhaseInterceptorChain.java:271)
    at org.apache.cxf.endpoint.ClientImpl.doInvoke(ClientImpl.java:541)
    at org.apache.cxf.endpoint.ClientImpl.invoke(ClientImpl.java:474)
    at org.apache.cxf.endpoint.ClientImpl.invoke(ClientImpl.java:377)
    at org.apache.cxf.endpoint.ClientImpl.invoke(ClientImpl.java:330)
    at org.apache.cxf.frontend.ClientProxy.invokeSync(ClientProxy.java:96)
    at org.apache.cxf.jaxws.JaxWsClientProxy.invoke(JaxWsClientProxy.java:134)
    ... 95 more
Caused by: java.net.ConnectException: Connection refused
    at java.net.PlainSocketImpl.socketConnect(Native Method) [rt.jar:1.7.0_40-ea]
    at java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:339) [rt.jar:1.7.0_40-ea]
    at java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:200) [rt.jar:1.7.0_40-ea]
    at java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:182) [rt.jar:1.7.0_40-ea]
    at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392) [rt.jar:1.7.0_40-ea]
    at java.net.Socket.connect(Socket.java:579) [rt.jar:1.7.0_40-ea]
    at sun.net.NetworkClient.doConnect(NetworkClient.java:175) [rt.jar:1.7.0_40-ea]
    at sun.net.www.http.HttpClient.openServer(HttpClient.java:432) [rt.jar:1.7.0_40-ea]
    at sun.net.www.http.HttpClient.openServer(HttpClient.java:527) [rt.jar:1.7.0_40-ea]
    at sun.net.www.http.HttpClient.&amp;lt;init&amp;gt;(HttpClient.java:211) [rt.jar:1.7.0_40-ea]
    at sun.net.www.http.HttpClient.New(HttpClient.java:308) [rt.jar:1.7.0_40-ea]
    at sun.net.www.http.HttpClient.New(HttpClient.java:326) [rt.jar:1.7.0_40-ea]
    at sun.net.www.protocol.http.HttpURLConnection.getNewHttpClient(HttpURLConnection.java:996) [rt.jar:1.7.0_40-ea]
    at sun.net.www.protocol.http.HttpURLConnection.plainConnect(HttpURLConnection.java:932) [rt.jar:1.7.0_40-ea]
    at sun.net.www.protocol.http.HttpURLConnection.connect(HttpURLConnection.java:850) [rt.jar:1.7.0_40-ea]
    at sun.net.www.protocol.http.HttpURLConnection.getOutputStream(HttpURLConnection.java:1091) [rt.jar:1.7.0_40-ea]
    at org.apache.cxf.transport.http.URLConnectionHTTPConduit$URLConnectionWrappedOutputStream.setupWrappedStream(URLConnectionHTTPConduit.java:168)
    at org.apache.cxf.transport.http.HTTPConduit$WrappedOutputStream.handleHeadersTrustCaching(HTTPConduit.java:1278)
    at org.apache.cxf.transport.http.HTTPConduit$WrappedOutputStream.onFirstWrite(HTTPConduit.java:1234)
    at org.apache.cxf.transport.http.URLConnectionHTTPConduit$URLConnectionWrappedOutputStream.onFirstWrite(URLConnectionHTTPConduit.java:195)
    at org.apache.cxf.io.AbstractWrappedOutputStream.write(AbstractWrappedOutputStream.java:47)
    at org.apache.cxf.io.AbstractThresholdOutputStream.write(AbstractThresholdOutputStream.java:69)
    at org.apache.cxf.transport.http.HTTPConduit$WrappedOutputStream.close(HTTPConduit.java:1291)
    ... 105 more</description>
			<version>8.0.0.Alpha4</version>
			<fixedVersion>8.0.0.Beta1</fixedVersion>
			<type>Bug</type>
		</buginformation>
		<fixedFiles>
			<file type="M">org.wildfly.extension.undertow.AbstractListenerService.java</file>
			<file type="M">org.wildfly.extension.undertow.HostAdd.java</file>
			<file type="M">org.wildfly.extension.undertow.HttpListenerAdd.java</file>
			<file type="M">org.wildfly.extension.undertow.HttpsListenerAdd.java</file>
			<file type="M">org.wildfly.extension.undertow.HttpListenerService.java</file>
			<file type="M">org.wildfly.extension.undertow.AbstractListenerAdd.java</file>
			<file type="M">org.wildfly.extension.undertow.Host.java</file>
			<file type="M">org.wildfly.extension.undertow.UndertowSubsystemAdd.java</file>
			<file type="M">org.wildfly.extension.undertow.ServerAdd.java</file>
			<file type="M">org.wildfly.extension.undertow.WebServerService.java</file>
			<file type="M">org.wildfly.extension.undertow.UndertowLogger.java</file>
			<file type="M">org.wildfly.extension.undertow.AjpListenerService.java</file>
			<file type="M">org.wildfly.extension.undertow.HostRemove.java</file>
			<file type="M">org.wildfly.extension.undertow.UndertowMessages.java</file>
			<file type="M">org.jboss.as.network.SocketBinding.java</file>
		</fixedFiles>
		<links>
			<link type="Related" description="relates to">2125</link>
		</links>
	</bug>
	<bug id="2181" opendate="2013-09-30 09:15:08" fixdate="2013-10-01 13:52:03" resolution="Done">
		<buginformation>
			<summary>TempFileProviderService creates a static, non-daemon thread pool</summary>
			<description>This can prevent the server from shutting down</description>
			<version>8.0.0.Alpha4</version>
			<fixedVersion>8.0.0.Beta1</fixedVersion>
			<type>Bug</type>
		</buginformation>
		<fixedFiles>
			<file type="M">org.jboss.as.server.deployment.module.TempFileProviderService.java</file>
		</fixedFiles>
	</bug>
	<bug id="2120" opendate="2013-09-20 16:15:13" fixdate="2013-10-01 13:53:39" resolution="Done">
		<buginformation>
			<summary>exception during deployment when using websocket annotation</summary>
			<description>This exception occurs during deployment:
"17:07:33,154 ERROR [org.jboss.msc.service.fail] (MSC service thread 1-3) MSC000001: Failed to start service jboss.undertow.deployment.default-host./jboss-as-kitchensink: org.jboss.msc.service.StartException in service jboss.undertow.deployment.default-host./jboss-as-kitchensink: Failed to start service
at org.jboss.msc.service.ServiceControllerImpl$StartTask.run(ServiceControllerImpl.java:1900) [jboss-msc-1.2.0.Beta2.jar:1.2.0.Beta2]
at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1145) [rt.jar:1.7.0_21]
at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:615) [rt.jar:1.7.0_21]
at java.lang.Thread.run(Thread.java:722) [rt.jar:1.7.0_21]
Caused by: org.jboss.weld.exceptions.IllegalArgumentException: JBAS016071: Singleton not set for ModuleClassLoader for Module "org.wildfly.extension.undertow:main" from local module loader @21d1cd0d (finder: local module finder @54ed21d3 (roots: /Users/max/code/wildfly/build/target/wildfly-8.0.0.Beta1-SNAPSHOT/modules,/Users/max/code/wildfly/build/target/wildfly-8.0.0.Beta1-SNAPSHOT/modules/system/layers/base)). This means that you are trying to access a weld deployment with a Thread Context ClassLoader that is not associated with the deployment.
at org.jboss.weld.manager.InjectionTargetFactoryImpl.createInjectionTarget(InjectionTargetFactoryImpl.java:83)
at org.jboss.weld.manager.InjectionTargetFactoryImpl.createInjectionTarget(InjectionTargetFactoryImpl.java:69)
"
full details at https://gist.github.com/maxandersen/798e6f9eb9c23285df5d
When I have this annotation on a class:
@javax.websocket.server.ServerEndpoint(
        value = "/registration", 
        encoders = 
{MemberEncoder.class}
)
Without it things deploy but of course the websocket does not work.
Full example:
https://github.com/pjiricka/jboss-as-quickstart/commit/7484d494ea294034aded6a28b80a5c754053bc03
/kitchensink in this repo fails with this commit.</description>
			<version>8.0.0.Alpha4</version>
			<fixedVersion>8.0.0.Beta1</fixedVersion>
			<type>Bug</type>
		</buginformation>
		<fixedFiles>
			<file type="M">org.wildfly.extension.undertow.deployment.UndertowDeploymentService.java</file>
		</fixedFiles>
	</bug>
	<bug id="2096" opendate="2013-09-17 10:41:09" fixdate="2013-10-01 14:14:52" resolution="Done">
		<buginformation>
			<summary>WeldApplicationFactory doesn&amp;apos;t implement setApplication() correctly</summary>
			<description>The problem is described in WELD-913. The fix was only applied to Weld servlet support [1] and not AS7/WildFly8 integration code (most probably because the target environment of the issue was Tomcat).
[1]
https://github.com/weld/core/blob/master/environments/servlet/core/src/main/java/org/jboss/weld/environment/servlet/jsf/WeldApplicationFactory.java</description>
			<version>8.0.0.Alpha4</version>
			<fixedVersion>8.0.0.Beta1</fixedVersion>
			<type>Bug</type>
		</buginformation>
		<fixedFiles>
			<file type="M">org.jboss.as.jsf.injection.weld.WeldApplicationFactory.java</file>
		</fixedFiles>
		<links>
			<link type="Related" description="relates to">913</link>
		</links>
	</bug>
	<bug id="2136" opendate="2013-09-23 16:41:19" fixdate="2013-10-01 15:12:12" resolution="Done">
		<buginformation>
			<summary>persistence.xml with org.hibernate.ejb.HibernatePersistence should deploy with Hibernate ORM 4.3.x</summary>
			<description>currently users migrating from earlier app server versions will get http://pastebin.com/4tRk75vh</description>
			<version>8.0.0.Alpha1</version>
			<fixedVersion>8.0.0.CR1</fixedVersion>
			<type>Bug</type>
		</buginformation>
		<fixedFiles>
			<file type="M">org.jboss.as.jpa.config.Configuration.java</file>
		</fixedFiles>
	</bug>
	<bug id="2057" opendate="2013-09-12 19:51:04" fixdate="2013-10-01 16:48:42" resolution="Done">
		<buginformation>
			<summary>org.jboss.as.server.deployment.RegisteredDeploymentUnitProcessor has unstable compareTo()</summary>
			<description>As the description says, org.jboss.as.server.deployment.RegisteredDeploymentUnitProcessor&amp;amp;apos;s compareTo is wrong.</description>
			<version>8.0.0.Alpha4</version>
			<fixedVersion>8.0.0.Beta1</fixedVersion>
			<type>Bug</type>
		</buginformation>
		<fixedFiles>
			<file type="M">org.jboss.as.server.deployment.RegisteredDeploymentUnitProcessor.java</file>
			<file type="M">org.jboss.as.messaging.MessagingSubsystemAdd.java</file>
			<file type="M">org.jboss.as.ee.subsystem.EeSubsystemAdd.java</file>
			<file type="M">org.jboss.as.weld.WeldSubsystemAdd.java</file>
			<file type="M">org.jboss.as.server.DeployerChainAddHandler.java</file>
			<file type="M">org.jboss.as.ejb3.subsystem.EJB3SubsystemAdd.java</file>
			<file type="M">org.jboss.as.server.deployment.module.descriptor.DeploymentStructureDescriptorParser.java</file>
			<file type="M">org.jboss.as.appclient.subsystem.AppClientSubsystemAdd.java</file>
			<file type="M">org.jboss.as.jpa.subsystem.JPASubSystemAdd.java</file>
			<file type="M">org.jboss.as.server.deployment.dependencies.DeploymentDependenciesProcessor.java</file>
			<file type="M">org.wildfly.extension.undertow.UndertowSubsystemAdd.java</file>
			<file type="M">org.jboss.as.server.deployment.Phase.java</file>
			<file type="M">org.jboss.as.jsf.subsystem.JSFSubsystemAdd.java</file>
			<file type="M">org.jboss.as.server.ServerMessages.java</file>
		</fixedFiles>
		<links>
			<link type="Duplicate" description="is duplicated by">2188</link>
			<link type="Related" description="relates to">1210</link>
			<link type="Related" description="is related to">2058</link>
		</links>
	</bug>
	<bug id="2197" opendate="2013-10-01 20:14:51" fixdate="2013-10-02 01:54:24" resolution="Done">
		<buginformation>
			<summary>ClientCompatibilityUnitTestCase is broken in an IPv6 environment</summary>
			<description>ClientCompatibilityUnitTestCase has "localhost" hard coded as the address it tries to connect to. This fails when IPv6 is configured for testsuite runs, as the server is not listening on 127.0.0.1 but rather ::1.</description>
			<version>8.0.0.Alpha4</version>
			<fixedVersion>8.0.0.Beta1</fixedVersion>
			<type>Bug</type>
		</buginformation>
		<fixedFiles>
			<file type="M">org.jboss.as.test.integration.management.api.ClientCompatibilityUnitTestCase.java</file>
		</fixedFiles>
	</bug>
	<bug id="1899" opendate="2013-08-19 14:25:59" fixdate="2013-10-02 09:54:06" resolution="Done">
		<buginformation>
			<summary>Conversation timeout is broken</summary>
			<description>When I&amp;amp;apos;m already logged in in a JSF web app and get a CDI/Weld conversation timeout, then an error page should be shown.
However, I&amp;amp;apos;m getting the stacktrace below, and a blank page instead of the error page is shown.
The error page is configured in web.xml:






  &amp;lt;error-page&amp;gt;




    &amp;lt;exception-type&amp;gt;org.jboss.weld.context.NonexistentConversationException&amp;lt;/exception-type&amp;gt;




    &amp;lt;location&amp;gt;/error/conversationTimeout.xhtml?nocid=true&amp;lt;/location&amp;gt;




  &amp;lt;/error-page&amp;gt;






Stacktrace with the current snapshot of WildFly using Undertow 1.0.0.Beta8 in the WildFly console:
16:20:12,466 ERROR [io.undertow.request] Exception while generating error page /error/conversationTimeout.xhtml?nocid=true: java.lang.RuntimeException: java.lang.IllegalStateException: JBAS017329: No security context found
	at io.undertow.servlet.spec.RequestDispatcherImpl.error(RequestDispatcherImpl.java:394) [undertow-servlet-1.0.0.Beta8.jar:1.0.0.Beta8]
	at io.undertow.servlet.spec.RequestDispatcherImpl.error(RequestDispatcherImpl.java:315) [undertow-servlet-1.0.0.Beta8.jar:1.0.0.Beta8]
	at io.undertow.servlet.handlers.ServletInitialHandler.handleFirstRequest(ServletInitialHandler.java:222) [undertow-servlet-1.0.0.Beta8.jar:1.0.0.Beta8]
	at io.undertow.servlet.handlers.ServletInitialHandler.dispatchRequest(ServletInitialHandler.java:194) [undertow-servlet-1.0.0.Beta8.jar:1.0.0.Beta8]
	at io.undertow.servlet.handlers.ServletInitialHandler.access$000(ServletInitialHandler.java:72) [undertow-servlet-1.0.0.Beta8.jar:1.0.0.Beta8]
	at io.undertow.servlet.handlers.ServletInitialHandler$1.handleRequest(ServletInitialHandler.java:128) [undertow-servlet-1.0.0.Beta8.jar:1.0.0.Beta8]
	at io.undertow.server.HttpHandlers.executeRootHandler(HttpHandlers.java:36) [undertow-core-1.0.0.Beta8.jar:1.0.0.Beta8]
	at io.undertow.server.HttpServerExchange$1.run(HttpServerExchange.java:623) [undertow-core-1.0.0.Beta8.jar:1.0.0.Beta8]
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1145) [rt.jar:1.7.0_25]
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:615) [rt.jar:1.7.0_25]
	at java.lang.Thread.run(Thread.java:724) [rt.jar:1.7.0_25]
Caused by: java.lang.IllegalStateException: JBAS017329: No security context found
	at org.wildfly.extension.undertow.security.SecurityActions$5.run(SecurityActions.java:119)
	at org.wildfly.extension.undertow.security.SecurityActions$5.run(SecurityActions.java:114)
	at java.security.AccessController.doPrivileged(Native Method) [rt.jar:1.7.0_25]
	at org.wildfly.extension.undertow.security.SecurityActions.pushRunAsIdentity(SecurityActions.java:114)
	at org.wildfly.extension.undertow.security.SecurityContextAssociationHandler.handleRequest(SecurityContextAssociationHandler.java:88)
	at io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:25) [undertow-core-1.0.0.Beta8.jar:1.0.0.Beta8]
	at io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:25) [undertow-core-1.0.0.Beta8.jar:1.0.0.Beta8]
	at io.undertow.servlet.handlers.ServletInitialHandler.dispatchRequest(ServletInitialHandler.java:196) [undertow-servlet-1.0.0.Beta8.jar:1.0.0.Beta8]
	at io.undertow.servlet.handlers.ServletInitialHandler.dispatchToPath(ServletInitialHandler.java:139) [undertow-servlet-1.0.0.Beta8.jar:1.0.0.Beta8]
	at io.undertow.servlet.spec.RequestDispatcherImpl.error(RequestDispatcherImpl.java:388) [undertow-servlet-1.0.0.Beta8.jar:1.0.0.Beta8]
	... 10 more</description>
			<version>8.0.0.Alpha4</version>
			<fixedVersion>8.0.0.Beta1</fixedVersion>
			<type>Bug</type>
		</buginformation>
		<fixedFiles>
			<file type="M">org.wildfly.extension.undertow.deployment.UndertowDeploymentInfoService.java</file>
			<file type="D">org.wildfly.extension.undertow.security.SecurityContextCreationHandler.java</file>
			<file type="M">org.wildfly.extension.undertow.security.SecurityContextAssociationHandler.java</file>
			<file type="M">org.wildfly.extension.undertow.security.SecurityActions.java</file>
			<file type="M">org.wildfly.extension.undertow.security.JAASIdentityManagerImpl.java</file>
		</fixedFiles>
	</bug>
	<bug id="2206" opendate="2013-10-02 16:29:51" fixdate="2013-10-03 16:02:34" resolution="Done">
		<buginformation>
			<summary>Manualmode test suite copies the modules directory multiple times</summary>
			<description>This uses lots of disk space for no good reason</description>
			<version>8.0.0.Alpha4</version>
			<fixedVersion>8.0.0.Beta1</fixedVersion>
			<type>Bug</type>
		</buginformation>
		<fixedFiles>
			<file type="M">org.jboss.as.test.manualmode.layered.LayeredDistributionTestCase.java</file>
		</fixedFiles>
	</bug>
	<bug id="2014" opendate="2013-09-05 20:32:00" fixdate="2013-10-04 08:12:22" resolution="Done">
		<buginformation>
			<summary>Intermittent failures in WSTestCase.testManagementDescription</summary>
			<description>This pops up quite frequently for a long time now (weeks or months):
https://github.com/wildfly/wildfly/pull/5009#issuecomment-23898664
I&amp;amp;apos;m going to send a PR to @Ignore the test.
Also, IMHO this test method doesn&amp;amp;apos;t belong in smoke.</description>
			<version>8.0.0.Alpha4</version>
			<fixedVersion>8.0.0.Beta1</fixedVersion>
			<type>Bug</type>
		</buginformation>
		<fixedFiles>
			<file type="M">org.jboss.as.test.smoke.webservices.WSTestCase.java</file>
		</fixedFiles>
	</bug>
	<bug id="2069" opendate="2013-09-13 13:49:20" fixdate="2013-10-04 08:36:19" resolution="Done">
		<buginformation>
			<summary>can not switch from connector to discovery-group-name for JMS (pooled-) connection factories </summary>
			<description>connectors and discovery-group-name are alternative attributes of JMS (pooled) connection factories.
If a resource defines one of this attribute, it must be able to "switch" to the other by running a batch command to:
1. undefine the attribute
2. write the value of the other attribute
This currently does not work:






[standalone@localhost:9999 /] batch




[standalone@localhost:9999 / #] /subsystem=messaging/hornetq-server=default/connection-factory=RemoteConnectionFactory:undefine-attribute(name=connector)




#1 /subsystem=messaging/hornetq-server=default/connection-factory=RemoteConnectionFactory:undefine-attribute(name=connector)




[standalone@localhost:9999 / #] /subsystem=messaging/hornetq-server=default/connection-factory=RemoteConnectionFactory:write-attribute(name=discovery-group-name,value=dg-group1)




#2 /subsystem=messaging/hornetq-server=default/connection-factory=RemoteConnectionFactory:write-attribute(name=discovery-group-name,value=dg-group1)




[standalone@localhost:9999 / #] run-batch




{"JBAS014653: Composite operation failed and was rolled back. Steps that failed:" =&amp;gt; {"Operation step-1" =&amp;gt; "JBAS011630: Alternative attribute of (connector) is already defined."}}





</description>
			<version>8.0.0.Alpha4</version>
			<fixedVersion>8.0.0.Beta1</fixedVersion>
			<type>Bug</type>
		</buginformation>
		<fixedFiles>
			<file type="M">org.jboss.as.messaging.jms.ConnectionFactoryWriteAttributeHandler.java</file>
			<file type="M">org.jboss.as.messaging.jms.ConnectionFactoryAttributes.java</file>
			<file type="M">org.jboss.as.messaging.AlternativeAttributeCheckHandler.java</file>
			<file type="M">org.jboss.as.messaging.MessagingMessages.java</file>
		</fixedFiles>
		<links>
			<link type="Superset" description="incorporates">1941</link>
		</links>
	</bug>
	<bug id="2210" opendate="2013-10-03 13:08:24" fixdate="2013-10-07 07:37:33" resolution="Done">
		<buginformation>
			<summary>fix message endpoint isDeliveryTransacted</summary>
			<description>The org.jboss.as.ejb3.inflow.MessageEndpointService#isDeliveryTransacted method is checking the transaction attribute of the method using the MethodIntf.BEAN while it should use the MethodIntf.MESSAGE_ENDPOINT type.
</description>
			<version>8.0.0.Alpha4</version>
			<fixedVersion>8.0.0.CR1</fixedVersion>
			<type>Bug</type>
		</buginformation>
		<fixedFiles>
			<file type="M">org.jboss.as.ejb3.component.messagedriven.MessageDrivenComponent.java</file>
		</fixedFiles>
		<links>
			<link type="Dependency" description="is blocked by">2192</link>
		</links>
	</bug>
	<bug id="1913" opendate="2013-08-21 09:02:48" fixdate="2013-10-07 08:16:50" resolution="Done">
		<buginformation>
			<summary>CLI &amp;apos;module add&amp;apos; command fail if a drive letter is specified in its resource path</summary>
			<description>If a drive letter is specified in the resource path the module add command fails on MS Windows. It cannot locate such a resource because of doubled drive letter in the translated path.</description>
			<version>8.0.0.Alpha4</version>
			<fixedVersion>8.0.0.CR1</fixedVersion>
			<type>Bug</type>
		</buginformation>
		<fixedFiles>
			<file type="M">org.jboss.as.cli.handlers.module.ASModuleHandler.java</file>
		</fixedFiles>
	</bug>
	<bug id="2226" opendate="2013-10-07 03:46:19" fixdate="2013-10-07 10:36:02" resolution="Done">
		<buginformation>
			<summary>Web Console adds two slashes in the address</summary>
			<description>The web console adds two slashes to the address after the port
http://localhost:9990//console/App.html
</description>
			<version>8.0.0.Beta1</version>
			<fixedVersion></fixedVersion>
			<type>Bug</type>
		</buginformation>
		<fixedFiles>
			<file type="M">org.jboss.as.domain.http.server.ManagementRootConsoleRedirectHandler.java</file>
		</fixedFiles>
		<links>
			<link type="Dependency" description="blocks">251</link>
		</links>
	</bug>
	<bug id="2090" opendate="2013-09-16 17:57:57" fixdate="2013-10-08 14:20:52" resolution="Done">
		<buginformation>
			<summary>CXF fails with IllegalStateException: UT000005: getRequestChannel() has already been called</summary>
			<description>asoldano is seeing CXF problems with the latest modcluster undertow integration:
18:40:41,678 ERROR [io.undertow.request] (default task-10) Blocking request failed HttpServerExchange
{ POST /jaxws-samples-asynch}
: java.lang.IllegalStateException: UT000005: getRequestChannel() has already been called
	at io.undertow.server.HttpServerExchange.addRequestWrapper(HttpServerExchange.java:1052) [undertow-core-1.0.0.Beta13.jar:1.0.0.Beta13]
	at org.wildfly.mod_cluster.undertow.metric.BytesReceivedThreadSetupAction.setup(BytesReceivedThreadSetupAction.java:46) [wildfly-mod_cluster-undertow-8.0.0.Beta1-SNAPSHOT.jar:8.0.0.Beta1-SNAPSHOT]
	at io.undertow.servlet.core.CompositeThreadSetupAction.setup(CompositeThreadSetupAction.java:42) [undertow-servlet-1.0.0.Beta13.jar:1.0.0.Beta13]
	at io.undertow.servlet.handlers.ServletInitialHandler.handleFirstRequest(ServletInitialHandler.java:204) [undertow-servlet-1.0.0.Beta13.jar:1.0.0.Beta13]
	at io.undertow.servlet.handlers.ServletInitialHandler.dispatchRequest(ServletInitialHandler.java:196) [undertow-servlet-1.0.0.Beta13.jar:1.0.0.Beta13]
	at io.undertow.servlet.handlers.ServletInitialHandler.dispatchToPath(ServletInitialHandler.java:141) [undertow-servlet-1.0.0.Beta13.jar:1.0.0.Beta13]
	at io.undertow.servlet.spec.AsyncContextImpl$2$1.handleRequest(AsyncContextImpl.java:189) [undertow-servlet-1.0.0.Beta13.jar:1.0.0.Beta13]
	at io.undertow.server.HttpHandlers.executeRootHandler(HttpHandlers.java:36) [undertow-core-1.0.0.Beta13.jar:1.0.0.Beta13]
	at io.undertow.servlet.spec.AsyncContextImpl$2.run(AsyncContextImpl.java:186) [undertow-servlet-1.0.0.Beta13.jar:1.0.0.Beta13]
	at io.undertow.servlet.spec.AsyncContextImpl$5.run(AsyncContextImpl.java:411) [undertow-servlet-1.0.0.Beta13.jar:1.0.0.Beta13]
	at io.undertow.servlet.spec.AsyncContextImpl$TaskDispatchRunnable.run(AsyncContextImpl.java:496) [undertow-servlet-1.0.0.Beta13.jar:1.0.0.Beta13]
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1145) [rt.jar:1.7.0_17]
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:615) [rt.jar:1.7.0_17]
	at java.lang.Thread.run(Thread.java:722) [rt.jar:1.7.0_17]</description>
			<version>8.0.0.Beta1</version>
			<fixedVersion>8.0.0.Beta1</fixedVersion>
			<type>Bug</type>
		</buginformation>
		<fixedFiles>
			<file type="D">org.wildfly.mod_cluster.undertow.metric.UndertowModClusterBoottimeHandler.java</file>
			<file type="D">org.wildfly.mod_cluster.undertow.metric.BytesReceivedThreadSetupAction.java</file>
			<file type="D">org.wildfly.mod_cluster.undertow.metric.ModClusterUndertowMetricDeploymentUnitProcessor.java</file>
			<file type="D">org.wildfly.mod_cluster.undertow.metric.BytesSentThreadSetupAction.java</file>
		</fixedFiles>
		<links>
			<link type="Related" description="relates to">1888</link>
		</links>
	</bug>
	<bug id="1740" opendate="2013-07-22 20:52:10" fixdate="2013-10-08 14:24:33" resolution="Done">
		<buginformation>
			<summary>ManagedSocketBinding class Impossible cast from java.net.InetAddress to java.net.InetSocketAddress</summary>
			<description>Reported by FindBugs:
Impossible cast from java.net.InetAddress to java.net.InetSocketAddress
Class:
ManagedSocketBinding (org.jboss.as.network) line 55
Method:
getBindAddress (org.jboss.as.network.ManagedSocketBinding.getBindAddress())
Priority:
  High Confidence Correctness

Problem classification:
Correctness (Bad casts of object references)
BC_IMPOSSIBLE_CAST (Impossible cast)
Notes:
Actual type java.net.InetAddress
Expected java.net.InetSocketAddress
Return value of Class.cast(Object)
FindBadCast2 (BC|NP)</description>
			<version>8.0.0.Alpha4</version>
			<fixedVersion>8.0.0.CR1</fixedVersion>
			<type>Bug</type>
		</buginformation>
		<fixedFiles>
			<file type="M">org.jboss.as.network.ManagedSocketBinding.java</file>
		</fixedFiles>
	</bug>
	<bug id="2209" opendate="2013-10-03 10:35:17" fixdate="2013-10-08 14:35:33" resolution="Done">
		<buginformation>
			<summary>short versions of command arguments (e.g. -h) are not recognized</summary>
			<description>The validation of command arguments doesn&amp;amp;apos;t take into account their short versions leading rejecting the command in case the short versions are used (e.g. -h for --help).</description>
			<version>8.0.0.Alpha4</version>
			<fixedVersion>8.0.0.CR1</fixedVersion>
			<type>Bug</type>
		</buginformation>
		<fixedFiles>
			<file type="M">org.jboss.as.cli.handlers.CommandHandlerWithArguments.java</file>
		</fixedFiles>
	</bug>
	<bug id="2023" opendate="2013-09-06 19:45:53" fixdate="2013-10-08 14:49:03" resolution="Done">
		<buginformation>
			<summary>review output of jboss-cli for batches</summary>
			<description>jboss-cli displays lines of input file, although they are not executed.
If not executed hey should not be printed.
It might be useful to introduce a command line option "--verbose" an to print everything to stdout, if / command / end-if. Maybe even the output of the commands executed (read-resource, add).</description>
			<version>8.0.0.Beta1</version>
			<fixedVersion>8.0.0.CR1</fixedVersion>
			<type>Bug</type>
		</buginformation>
		<fixedFiles>
			<file type="M">org.jboss.as.cli.impl.CommandContextImpl.java</file>
		</fixedFiles>
	</bug>
	<bug id="2204" opendate="2013-10-02 15:15:12" fixdate="2013-10-08 14:52:13" resolution="Done">
		<buginformation>
			<summary>runtime exceptions thrown during parsing crash cli sessions</summary>
			<description>Runtime exceptions thrown during command line parsing crash CLI sessions.</description>
			<version>8.0.0.Alpha4</version>
			<fixedVersion>8.0.0.CR1</fixedVersion>
			<type>Bug</type>
		</buginformation>
		<fixedFiles>
			<file type="M">org.jboss.as.cli.impl.CommandContextImpl.java</file>
			<file type="M">org.jboss.as.cli.parsing.StateParser.java</file>
		</fixedFiles>
	</bug>
	<bug id="2051" opendate="2013-09-12 10:08:33" fixdate="2013-10-08 14:53:47" resolution="Done">
		<buginformation>
			<summary>CLI write attribute dialog for string value should enclose value in generated command to double quotes</summary>
			<description>





Wildfly issue for https://bugzilla.redhat.com/show_bug.cgi?id=988283









String value entered in write attribute dialog is written to command without double quotes, which is wrong in many cases









Eg. when user enteres in dialog value ${jboss.bind.address:127.0.0.1}




following command is generated:









/subsystem=webservices/:write-attribute(name=wsdl-host,value=${jboss.bind.address:127.0.0.1})









Correctly should be generated command 




/subsystem=webservices/:write-attribute(name=wsdl-host,value="${jboss.bind.address:127.0.0.1}")









1. start AS




  ./bin/standalone.sh




2. start CLI GUI 




  ./bin/jboss-cli.sh --gui &amp;amp;




3. click on node subsystem=webservices of /




4. right click on wsdl-host and select write-attribute




5. enter value ${jboss.bind.address:127.0.0.1} and click OK




6. submit generated command




7. reload node




  click on node subsystem=webservices of / (close node)




  click on node subsystem=webservices of / (open node)









Result is wsdl-host=$ instead of wsdl-host=${jboss.bind.address:127.0.0.1}














Workaround: in dialog box enclose the value in double quotes





</description>
			<version>8.0.0.Alpha4</version>
			<fixedVersion>8.0.0.CR1</fixedVersion>
			<type>Bug</type>
		</buginformation>
		<fixedFiles>
			<file type="M">org.jboss.as.cli.parsing.arguments.ArgumentValueState.java</file>
			<file type="M">org.jboss.as.cli.parsing.test.ArgumentValueParsingTestCase.java</file>
			<file type="M">org.jboss.as.test.integration.management.cli.FileWithPropertiesTestCase.java</file>
		</fixedFiles>
	</bug>
	<bug id="1592" opendate="2013-06-26 14:28:59" fixdate="2013-10-09 08:52:10" resolution="Done">
		<buginformation>
			<summary>Attempting to use eap6.1 jboss-cli.sh to connect to remote wildfly (alpha1 or 2) fails; credentials not accepted</summary>
			<description>Using eap6.1 client jars, or the jboss-cli.sh script in a local eap6.1 installation, to connect to a remote wildfly alpha1 or alpha2, seems to work but fails when provided with credentials.  This is most easily replicated as follows:
1) On remote machine start wildfly alpha1 or alpha2
2) on local machine, cd eap-6.1/bin
3) on local machine:
[rob@rawbdor bin]$ ./jboss-cli.sh 
You are disconnected at the moment. Type &amp;amp;apos;connect&amp;amp;apos; to connect to the server or &amp;amp;apos;help&amp;amp;apos; for the list of supported commands.
[disconnected /] connect myhost.net 
Authenticating against security realm: ManagementRealm
Username: admin
 Password: 
Unable to authenticate against controller at myhost.net:9999: Authentication failed: all available authentication mechanisms failed
This is an issue for tools as we need a set of jars that communicates correctly with all as7 servers. We currently have a set of jars that communicates with all 7.x / eap 6.x, which is good. If this is merely a bug on the server, then we can hopefully delay having to bundle an additional set of client jars until larger breakages occur. </description>
			<version>8.0.0.Alpha2</version>
			<fixedVersion>8.0.0.CR1</fixedVersion>
			<type>Bug</type>
		</buginformation>
		<fixedFiles>
			<file type="M">org.jboss.as.remoting.RealmSecurityProvider.java</file>
			<file type="M">org.jboss.as.server.operations.NativeManagementAddHandler.java</file>
		</fixedFiles>
		<links>
			<link type="Dependency" description="is blocked by">42</link>
			<link type="Dependency" description="blocks">14979</link>
		</links>
	</bug>
	<bug id="1736" opendate="2013-07-22 20:05:51" fixdate="2013-10-11 15:02:17" resolution="Done">
		<buginformation>
			<summary>CommandLineArgumentUsage class substring value discarded</summary>
			<description>CommandLineArgumentUsage class has a substring call but return value discarded:






if( input.get(0).length() &amp;gt; width ){




                    String tooLong = input.remove(0);




                    tooLong.substring(0, width-5);




                    input.add("Command removed. Too long.");




                }






FindBugs also finds a static field should be final:






protected static List&amp;lt;String&amp;gt; instructions = new ArrayList&amp;lt;String&amp;gt;();





</description>
			<version>8.0.0.Alpha4</version>
			<fixedVersion>8.0.0.CR1</fixedVersion>
			<type>Bug</type>
		</buginformation>
		<fixedFiles>
			<file type="M">org.jboss.as.process.CommandLineArgumentUsage.java</file>
		</fixedFiles>
	</bug>
	<bug id="2221" opendate="2013-10-04 15:11:04" fixdate="2013-10-16 13:35:56" resolution="Done">
		<buginformation>
			<summary>NPE in BinderService</summary>
			<description>





11:03:33,766 ERROR [org.jboss.msc.service] (MSC service thread 1-4) MSC000002: Invocation of listener "org.jboss.as.ee.component.deployers.ModuleJndiBindingProcessor$BinderReleaseListener@2d6f9ce1" failed: java.lang.NullPointerException




        at org.jboss.as.naming.service.BinderService.release(BinderService.java:100) [wildfly-naming-8.0.0.Beta1-SNAPSHOT.jar:8.0.0.Beta1-SNAPSHOT]




        at org.jboss.as.ee.component.deployers.ModuleJndiBindingProcessor$BinderReleaseListener.transition(ModuleJndiBindingProcessor.java:302) [wildfly-ee-8.0.0.Beta1-SNAPSHOT.jar:8.0.0.Beta1-SNAPSHOT]




        at org.jboss.msc.service.ServiceControllerImpl.invokeListener(ServiceControllerImpl.java:1533) [jboss-msc-1.2.0.Beta2.jar:1.2.0.Beta2]




        at org.jboss.msc.service.ServiceControllerImpl.access$2800(ServiceControllerImpl.java:51) [jboss-msc-1.2.0.Beta2.jar:1.2.0.Beta2]




        at org.jboss.msc.service.ServiceControllerImpl$ListenerTask.run(ServiceControllerImpl.java:2095) [jboss-msc-1.2.0.Beta2.jar:1.2.0.Beta2]




        at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1145) [rt.jar:1.7.0_25]




        at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:615) [rt.jar:1.7.0_25]




        at java.lang.Thread.run(Thread.java:724) [rt.jar:1.7.0_25]






Master from 3 days ago</description>
			<version>8.0.0.Beta1</version>
			<fixedVersion>8.0.0.CR1</fixedVersion>
			<type>Bug</type>
		</buginformation>
		<fixedFiles>
			<file type="M">org.jboss.as.naming.service.BinderService.java</file>
		</fixedFiles>
	</bug>
	<bug id="2313" opendate="2013-10-16 06:52:26" fixdate="2013-10-16 13:49:59" resolution="Done">
		<buginformation>
			<summary>Move test(s) with too long name(s) to a better place - prevent  FNFE: File name too long</summary>
			<description>I&amp;amp;apos;m getting FileNotFoundException (File name too long) when running AuditJoinTableoverOnetoManyJoinColumnTest. We should refactor the too long test names.






Running org.jboss.as.test.integration.jpa.hibernate.envers.auditjointableoveronetomanyjoincolumntest.AuditJoinTableoverOnetoManyJoinColumnTest




Exception in thread "ThreadedStreamConsumer" org.apache.maven.surefire.util.NestedRuntimeException: null; nested exception is java.io.FileNotFoundException: /home/jcacek/Java/Projects/wildfly/testsuite/integration/basic/target/surefire-reports/org.jboss.as.test.integration.jpa.hibernate.envers.auditjointableoveronetomanyjoincolumntest.AuditJoinTableoverOnetoManyJoinColumnTest-output.txt (File name too long)




java.io.FileNotFoundException: /home/jcacek/Java/Projects/wildfly/testsuite/integration/basic/target/surefire-reports/org.jboss.as.test.integration.jpa.hibernate.envers.auditjointableoveronetomanyjoincolumntest.AuditJoinTableoverOnetoManyJoinColumnTest-output.txt (File name too long)




	at java.io.FileOutputStream.open(Native Method)




	at java.io.FileOutputStream.&amp;lt;init&amp;gt;(FileOutputStream.java:212)




	at java.io.FileOutputStream.&amp;lt;init&amp;gt;(FileOutputStream.java:165)




	at java.io.FileWriter.&amp;lt;init&amp;gt;(FileWriter.java:90)




	at org.apache.maven.surefire.report.ConsoleOutputFileReporter.writeMessage(ConsoleOutputFileReporter.java:89)




	at org.apache.maven.surefire.report.MulticastingReporter.writeMessage(MulticastingReporter.java:101)




	at org.apache.maven.surefire.report.TestSetRunListener.writeTestOutput(TestSetRunListener.java:105)




	at org.apache.maven.plugin.surefire.booterclient.output.ForkClient.consumeLine(ForkClient.java:132)




	at org.apache.maven.plugin.surefire.booterclient.output.ThreadedStreamConsumer$Pumper.run(ThreadedStreamConsumer.java:67)




	at java.lang.Thread.run(Thread.java:724)





</description>
			<version>8.0.0.Beta1</version>
			<fixedVersion>8.0.0.CR1</fixedVersion>
			<type>Bug</type>
		</buginformation>
		<fixedFiles>
			<file type="D">org.jboss.as.test.integration.jpa.hibernate.envers.auditjointableoverbidirectionaltest.AuditJoinTableoverBidirectionalTest.java</file>
			<file type="D">org.jboss.as.test.integration.jpa.hibernate.envers.auditjointableoveronetomanyjoincolumntest.AuditJoinTableoverOnetoManyJoinColumnTest.java</file>
		</fixedFiles>
	</bug>
	<bug id="2305" opendate="2013-10-15 11:32:58" fixdate="2013-10-16 15:34:49" resolution="Done">
		<buginformation>
			<summary>add-user utility reports "No java.io.Console available to interact with user." when used silently with su and piped to a file.</summary>
			<description>Running add-user.sh in silent mode and redirecting the output to a file results in an exception:
Exception in thread "main" java.lang.IllegalStateException: JBAS015232: No java.io.Console available to interact with user.
</description>
			<version>8.0.0.Beta1</version>
			<fixedVersion>8.0.0.CR1</fixedVersion>
			<type>Bug</type>
		</buginformation>
		<fixedFiles>
			<file type="M">org.jboss.as.domain.management.security.adduser.AddUser.java</file>
		</fixedFiles>
		<links>
			<link type="Related" description="relates to">5061</link>
		</links>
	</bug>
	<bug id="2304" opendate="2013-10-15 09:56:24" fixdate="2013-10-17 07:54:21" resolution="Done">
		<buginformation>
			<summary>SESSION_DRAINING_STRATEGY is missing a validator and incorrectly uses setAlternatives()</summary>
			<description>
this is wrong .setAlternatives("DEFAULT", "ALWAYS" , "NEVER")
add a proper validator

</description>
			<version>8.0.0.Beta1</version>
			<fixedVersion>8.0.0.CR1</fixedVersion>
			<type>Bug</type>
		</buginformation>
		<fixedFiles>
			<file type="M">org.wildfly.extension.mod_cluster.ModClusterSubsystemTestCase.java</file>
			<file type="M">org.wildfly.extension.mod_cluster.ModClusterConfigResourceDefinition.java</file>
		</fixedFiles>
	</bug>
	<bug id="2321" opendate="2013-10-16 16:42:08" fixdate="2013-10-17 17:26:41" resolution="Done">
		<buginformation>
			<summary>Add user configuration loading broken if executed from any folder other than bin</summary>
			<description>Also should remove the system property reading and just rely on the location being bin.</description>
			<version>8.0.0.Beta1</version>
			<fixedVersion>8.0.0.CR1</fixedVersion>
			<type>Bug</type>
		</buginformation>
		<fixedFiles>
			<file type="M">org.jboss.as.domain.management.security.password.PasswordCheckUtilTestCase.java</file>
			<file type="M">org.jboss.as.domain.management.security.adduser.PromptPasswordState.java</file>
			<file type="M">org.jboss.as.domain.management.security.password.simple.SimplePasswordStrengthCheckerTestCase.java</file>
			<file type="M">org.jboss.as.domain.management.security.adduser.ValidatePasswordState.java</file>
			<file type="M">org.jboss.as.domain.management.security.password.PasswordCheckUtil.java</file>
			<file type="M">org.jboss.as.domain.management.security.adduser.RuntimeOptions.java</file>
			<file type="M">org.jboss.as.domain.management.security.adduser.AddUser.java</file>
		</fixedFiles>
	</bug>
	<bug id="2225" opendate="2013-10-05 15:34:23" fixdate="2013-10-18 13:47:01" resolution="Done">
		<buginformation>
			<summary>Mutated AtomicInteger/Long session attributes are not replicated</summary>
			<description>The logic in CacheMutator treats all Number subclasses as immutable.  However, AtomicInteger and AtomicLong both extend Number, but are mutable.</description>
			<version>8.0.0.Beta1</version>
			<fixedVersion>8.0.0.CR1</fixedVersion>
			<type>Bug</type>
		</buginformation>
		<fixedFiles>
			<file type="M">org.wildfly.clustering.web.infinispan.CacheMutator.java</file>
			<file type="M">org.wildfly.clustering.web.infinispan.CacheMutatorTestCase.java</file>
		</fixedFiles>
	</bug>
	<bug id="2237" opendate="2013-10-07 11:42:34" fixdate="2013-10-18 20:41:48" resolution="Done">
		<buginformation>
			<summary>JMX subsystem transformers for 7.2.0</summary>
			<description></description>
			<version>8.0.0.Alpha1</version>
			<fixedVersion>8.0.0.CR1</fixedVersion>
			<type>Sub-task</type>
		</buginformation>
		<fixedFiles>
			<file type="M">org.jboss.as.jmx.JMXSubsystemTestCase.java</file>
			<file type="M">org.jboss.as.jmx.JMXExtension.java</file>
		</fixedFiles>
		<links>
			<link type="Duplicate" description="is duplicated by">1509</link>
		</links>
	</bug>
	<bug id="2324" opendate="2013-10-17 07:14:50" fixdate="2013-10-21 08:32:12" resolution="Done">
		<buginformation>
			<summary>Deployment overlays do not replace JSP files</summary>
			<description></description>
			<version>8.0.0.Beta1</version>
			<fixedVersion>8.0.0.CR1</fixedVersion>
			<type>Bug</type>
		</buginformation>
		<fixedFiles>
			<file type="M">org.jboss.as.server.deployment.ContentOverrideDeploymentUnitProcessor.java</file>
			<file type="D">org.jboss.as.test.integration.management.cli.DeploymentOverlayTestCase.java</file>
		</fixedFiles>
	</bug>
	<bug id="2273" opendate="2013-10-09 20:25:28" fixdate="2013-10-21 18:55:12" resolution="Done">
		<buginformation>
			<summary>Error message in the log on every click within the console in domain mode.</summary>
			<description>While running Wildfly in domain mode (i.e domain.sh) every click within the admin console produces and error message in the server log. 
[Host Controller] 13:53:38,148 ERROR [org.jboss.as.controller.client] (XNIO-1 task-12) JBAS014781: Step handler org.jboss.as.domain.controller.operations.coordination.DomainFinalResultHandler@576bca9e for operation composite at address [] failed handling operation rollback  null</description>
			<version>8.0.0.Beta1</version>
			<fixedVersion>8.0.0.CR1</fixedVersion>
			<type>Bug</type>
		</buginformation>
		<fixedFiles>
			<file type="M">org.jboss.as.domain.controller.operations.coordination.DomainOperationContext.java</file>
			<file type="M">org.jboss.as.controller.ControllerMessages.java</file>
			<file type="M">org.jboss.as.controller.AbstractOperationContext.java</file>
		</fixedFiles>
		<links>
			<link type="Related" description="is related to">1954</link>
		</links>
	</bug>
	<bug id="2344" opendate="2013-10-20 05:51:05" fixdate="2013-10-22 11:59:50" resolution="Done">
		<buginformation>
			<summary>undertow claims already registered</summary>
			<description>I&amp;amp;apos;ve downloaded wildfly beta, attempted to add a vhost using the undertow configuration (can&amp;amp;apos;t find documentation btw) but when it starts, it says:
org.jboss.msc.service.DuplicateServiceException: Service jboss.web.common.host./ is already registered 
I originally posted the question here:
https://community.jboss.org/message/842352
The relevant config section (standalone.xml) is the following:
&amp;lt;subsystem xmlns="urn:jboss:domain:undertow:1.0"&amp;gt;
	&amp;lt;buffer-caches&amp;gt;
		&amp;lt;buffer-cache name="default" buffer-size="1024" buffers-per-region="1024" max-regions="10"/&amp;gt;
	&amp;lt;/buffer-caches&amp;gt;
	&amp;lt;server name="default-server"&amp;gt;
		&amp;lt;http-listener name="default" socket-binding="http" max-post-size="10485760"/&amp;gt;
		&amp;lt;host name="default-host" alias="localhost"&amp;gt;
			&amp;lt;location name="/" handler="welcome-content"/&amp;gt;
		&amp;lt;/host&amp;gt;
		&amp;lt;host name="other-host" alias="www.mysite.com" default-web-module="something.war"&amp;gt;
			&amp;lt;location name="/" handler="welcome-content"&amp;gt;
				&amp;lt;filter-ref name="connection-limit"/&amp;gt;
			&amp;lt;/location&amp;gt;
		&amp;lt;/host&amp;gt;
	&amp;lt;/server&amp;gt;
	&amp;lt;servlet-container name="default" default-buffer-cache="default" stack-trace-on-error="local-only"&amp;gt;
		&amp;lt;jsp-config/&amp;gt;
		&amp;lt;persistent-sessions path="persistent-web-sessions" relative-to="jboss.server.data.dir"/&amp;gt;
	&amp;lt;/servlet-container&amp;gt;
	&amp;lt;handlers&amp;gt;
		&amp;lt;file name="welcome-content" path="$
{jboss.home.dir}
/welcome-content" directory-listing="true"/&amp;gt;
	&amp;lt;/handlers&amp;gt;
&amp;lt;/subsystem&amp;gt;</description>
			<version>8.0.0.Beta1</version>
			<fixedVersion>8.0.0.CR1</fixedVersion>
			<type>Bug</type>
		</buginformation>
		<fixedFiles>
			<file type="M">org.wildfly.extension.undertow.LocationAdd.java</file>
		</fixedFiles>
	</bug>
	<bug id="2328" opendate="2013-10-17 11:46:38" fixdate="2013-10-22 12:01:57" resolution="Done">
		<buginformation>
			<summary>Unable to deploy WS after (unrelated) http-listener changes</summary>
			<description>WS tests fail in basic integration testsuite if they run after
testsuite/integration/basic/src/test/java/org/jboss/as/test/integration/management/api/web/ListenerTestCase.java (which usually doesn&amp;amp;apos;t happen on our TeamCity, but it&amp;amp;apos;s the case on my machine).
The logfile contains:






13:39:14,409 INFO  [org.wildfly.extension.undertow] (MSC service thread 1-2) JBAS017519: Undertow HTTP listener test-listener listening on localhost/127.0.0.1:8181




13:39:14,576 INFO  [org.wildfly.extension.undertow] (MSC service thread 1-2) JBAS017521: Undertow HTTP listener test-listener suspending




13:39:14,577 INFO  [org.wildfly.extension.undertow] (MSC service thread 1-2) JBAS017520: Undertow HTTP listener test-listener stopped, was bound to localhost/127.0.0.1:8181




13:39:14,943 INFO  [org.jboss.as.server.deployment] (MSC service thread 1-2) JBAS015876: Starting deployment of "jaxws-basic-pojo.war" (runtime-name: "jaxws-basic-pojo.war")




13:39:15,247 ERROR [org.jboss.msc.service.fail] (MSC service thread 1-4) MSC000001: Failed to start service jboss.deployment.unit."jaxws-basic-pojo.war".INSTALL: org.jboss.msc.service.StartException in service jboss.deployment.unit."jaxws-basic-pojo.war".INSTALL: JBAS018733: Failed to process phase INSTALL of deployment "jaxws-basic-pojo.war"




	at org.jboss.as.server.deployment.DeploymentUnitPhaseService.start(DeploymentUnitPhaseService.java:166) [wildfly-server-8.0.0.Beta1.jar:8.0.0.Beta1]




	at org.jboss.msc.service.ServiceControllerImpl$StartTask.startService(ServiceControllerImpl.java:1944) [jboss-msc-1.2.0.Beta2.jar:1.2.0.Beta2]




	at org.jboss.msc.service.ServiceControllerImpl$StartTask.run(ServiceControllerImpl.java:1877) [jboss-msc-1.2.0.Beta2.jar:1.2.0.Beta2]




	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1145) [rt.jar:1.7.0_25]




	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:615) [rt.jar:1.7.0_25]




	at java.lang.Thread.run(Thread.java:724) [rt.jar:1.7.0_25]




Caused by: java.lang.IllegalStateException




	at org.jboss.msc.value.InjectedValue.getValue(InjectedValue.java:47) [jboss-msc-1.2.0.Beta2.jar:1.2.0.Beta2]




	at org.wildfly.extension.undertow.WebServerService.getPort(WebServerService.java:64)




	at org.jboss.as.webservices.config.WebServerInfoImpl.getPort(WebServerInfoImpl.java:36)




	at org.jboss.ws.common.management.AbstractServerConfig.getConnectorPort(AbstractServerConfig.java:207)




	at org.jboss.ws.common.management.AbstractServerConfig.getWebServicePort(AbstractServerConfig.java:170)




	at org.jboss.ws.common.deployment.EndpointAddressDeploymentAspect$PortValue.getPortValue(EndpointAddressDeploymentAspect.java:198)




	at org.jboss.ws.common.deployment.EndpointAddressDeploymentAspect$PortValue.getValue(EndpointAddressDeploymentAspect.java:191)




	at org.jboss.ws.common.deployment.EndpointAddressDeploymentAspect.start(EndpointAddressDeploymentAspect.java:77)




	at org.jboss.as.webservices.deployers.AspectDeploymentProcessor.deploy(AspectDeploymentProcessor.java:75)




	at org.jboss.as.server.deployment.DeploymentUnitPhaseService.start(DeploymentUnitPhaseService.java:159) [wildfly-server-8.0.0.Beta1.jar:8.0.0.Beta1]




	... 5 more









13:39:15,260 ERROR [org.jboss.as.controller.management-operation] (management-handler-thread - 4) JBAS014613: Operation ("deploy") failed - address: (\{"deployment" =&amp;gt; "jaxws-basic-pojo.war"\}) - failure description: \{"JBAS014671: Failed services" =&amp;gt; \{"jboss.deployment.unit.\"jaxws-basic-pojo.war\".INSTALL" =&amp;gt; "org.jboss.msc.service.StartException in service jboss.deployment.unit.\"jaxws-basic-pojo.war\".INSTALL: JBAS018733: Failed to process phase INSTALL of deployment \"jaxws-basic-pojo.war\"




    Caused by: java.lang.IllegalStateException"\}\}




13:39:15,263 ERROR [org.jboss.as.server] (management-handler-thread - 4) JBAS015870: Deploy of deployment "jaxws-basic-pojo.war" was rolled back with the following failure message: 




\{"JBAS014671: Failed services" =&amp;gt; \{"jboss.deployment.unit.\"jaxws-basic-pojo.war\".INSTALL" =&amp;gt; "org.jboss.msc.service.StartException in service jboss.deployment.unit.\"jaxws-basic-pojo.war\".INSTALL: JBAS018733: Failed to process phase INSTALL of deployment \"jaxws-basic-pojo.war\"




    Caused by: java.lang.IllegalStateException"\}\}




13:39:15,274 INFO  [org.jboss.as.server.deployment] (MSC service thread 1-7) JBAS015877: Stopped deployment jaxws-basic-pojo.war (runtime-name: jaxws-basic-pojo.war) in 11ms




13:39:15,275 INFO  [org.jboss.as.controller] (management-handler-thread - 4) JBAS014774: Service status report




JBAS014777:   Services which failed to start:      service jboss.deployment.unit."jaxws-basic-pojo.war".INSTALL





</description>
			<version>8.0.0.Beta1</version>
			<fixedVersion>8.0.0.CR1</fixedVersion>
			<type>Bug</type>
		</buginformation>
		<fixedFiles>
			<file type="M">org.wildfly.extension.undertow.Server.java</file>
		</fixedFiles>
	</bug>
	<bug id="2335" opendate="2013-10-18 15:31:22" fixdate="2013-10-23 09:07:11" resolution="Done">
		<buginformation>
			<summary>BroadcastGroupAdd model population fails on JDK8</summary>
			<description>http://brontes.lab.eng.brq.redhat.com/viewLog.html?buildId=4515
All messaging subsystem tests passes on JDK7 but fails with JDK8 because BroadcastGroupAdd#populateModel falsely assumes that the connector resources have been populated before the current broadcast-group.
There is no such guarantee, the connector-refs validations must be done in a separate OperationStepHandler after all the MODEL&amp;amp;apos;s OSHs instead.</description>
			<version>8.0.0.Beta1</version>
			<fixedVersion>8.0.0.CR1</fixedVersion>
			<type>Bug</type>
		</buginformation>
		<fixedFiles>
			<file type="M">org.jboss.as.messaging.BroadcastGroupAdd.java</file>
		</fixedFiles>
	</bug>
	<bug id="2291" opendate="2013-10-11 14:44:49" fixdate="2013-10-23 09:07:52" resolution="Done">
		<buginformation>
			<summary>Bump messaging XML namespace to 2.0</summary>
			<description>The XML namespace for the messaging subsystem was erroneously bumped from 1.3 to 1.4 for WildFly 8.
This is an error as the 1.x version must be reserved for AS7 7.x releases.
WildFly 8 will use a 2.0 namespace. 
This means that configurations written against WildFly 8.0.0 Alpha and Beta will break once the XML namespace is corrected to 2.0.</description>
			<version>8.0.0.Beta1</version>
			<fixedVersion>8.0.0.CR1</fixedVersion>
			<type>Bug</type>
		</buginformation>
		<fixedFiles>
			<file type="M">org.jboss.as.messaging.Namespace.java</file>
			<file type="M">org.jboss.as.messaging.MessagingExtension.java</file>
			<file type="M">org.jboss.as.messaging.MessagingSubsystemParser.java</file>
			<file type="D">org.jboss.as.messaging.Messaging14SubsystemParser.java</file>
			<file type="D">org.jboss.as.messaging.test.MessagingSubsystem14TestCase.java</file>
		</fixedFiles>
	</bug>
	<bug id="1631" opendate="2013-07-03 09:36:44" fixdate="2013-10-23 14:24:25" resolution="Done">
		<buginformation>
			<summary>Duplicated message ids in web, undertow, jsf and osgi subsystems </summary>
			<description>There is a lot of duplicated or different messages in JBossWeb and Undertow subsystems which has the same ids.
different messages:






jsf/subsystem/src/main/java/org/jboss/as/jsf/JSFLogger.java:    @Message(id = 12604, value = "JSF version slot &amp;amp;apos;%s&amp;amp;apos; is missing from module %s")




jsf/injection/src/main/java/org/jboss/as/jsf/JSFLogger.java:    @Message(id = 12604, value = "WildFlyConversationAwareViewHandler was improperly initialized. Expected ViewHandler parent.")






duplicated messages with the same content:






jsf/subsystem/src/main/java/org/jboss/as/jsf/JSFLogger.java:    @Message(id = 12600, value = "Could not load JSF managed bean class: %s")




jsf/injection/src/main/java/org/jboss/as/jsf/JSFLogger.java:    @Message(id = 12600, value = "Could not load JSF managed bean class: %s")




jsf/subsystem/src/main/java/org/jboss/as/jsf/JSFLogger.java:    @Message(id = 12601, value = "JSF managed bean class %s has no default constructor")




jsf/injection/src/main/java/org/jboss/as/jsf/JSFLogger.java:    @Message(id = 12601, value = "JSF managed bean class %s has no default constructor")




jsf/subsystem/src/main/java/org/jboss/as/jsf/JSFLogger.java:    @Message(id = 12602, value = "Failed to parse %s, managed beans defined in this file will not be available")




jsf/injection/src/main/java/org/jboss/as/jsf/JSFLogger.java:    @Message(id = 12602, value = "Failed to parse %s, managed beans defined in this file will not be available")




jsf/subsystem/src/main/java/org/jboss/as/jsf/JSFLogger.java:    @Message(id = 12603, value = "Unknown JSF version &amp;amp;apos;%s&amp;amp;apos;.  Default version &amp;amp;apos;%s&amp;amp;apos; will be used instead.")




jsf/injection/src/main/java/org/jboss/as/jsf/JSFLogger.java:    @Message(id = 12603, value = "Unknown JSF version %s %s will be used instead")




jsf/subsystem/src/main/java/org/jboss/as/jsf/JSFMessages.java:    @Message(id = 12650, value = "Failed to load annotated class: %s")




jsf/injection/src/main/java/org/jboss/as/jsf/JSFMessages.java:    @Message(id = 12650, value = "Failed to load annotated class: %s")




jsf/subsystem/src/main/java/org/jboss/as/jsf/JSFMessages.java:    @Message(id = 12651, value = "Annotation %s in class %s is only allowed on classes")




jsf/injection/src/main/java/org/jboss/as/jsf/JSFMessages.java:    @Message(id = 12651, value = "Annotation %s in class %s is only allowed on classes")




jsf/subsystem/src/main/java/org/jboss/as/jsf/JSFMessages.java:    @Message(id = 12652, value = "Instance creation failed")




jsf/injection/src/main/java/org/jboss/as/jsf/JSFMessages.java:    @Message(id = 12652, value = "Instance creation failed")




jsf/subsystem/src/main/java/org/jboss/as/jsf/JSFMessages.java:    @Message(id = 12653, value = "Instance destruction failed")




jsf/injection/src/main/java/org/jboss/as/jsf/JSFMessages.java:    @Message(id = 12653, value = "Instance destruction failed")




jsf/subsystem/src/main/java/org/jboss/as/jsf/JSFMessages.java:    @Message(id = 12654, value = "Thread local injection container not set")




jsf/injection/src/main/java/org/jboss/as/jsf/JSFMessages.java:    @Message(id = 12654, value = "Thread local injection container not set")




jsf/subsystem/src/main/java/org/jboss/as/jsf/JSFMessages.java:    @Message(id = 12655, value = "@ManagedBean is only allowed at class level %s")




jsf/injection/src/main/java/org/jboss/as/jsf/JSFMessages.java:    @Message(id = 12655, value = "@ManagedBean is only allowed at class level %s")









web/src/main/java/org/jboss/as/web/WebMessages.java:    @Message(id = 18039, value = "Failed to create context")




osgi/integration/http/src/main/java/org/jboss/as/osgi/httpservice/WebLogger.java:    @Message(id = 18039, value = "Failed to create context")




web/src/main/java/org/jboss/as/web/WebMessages.java:    @Message(id = 18040, value = "Failed to start context")




osgi/integration/http/src/main/java/org/jboss/as/osgi/httpservice/WebLogger.java:    @Message(id = 18040, value = "Failed to start context")




undertow/src/main/java/org/wildfly/extension/undertow/UndertowLogger.java:    @Message(id = 18200, value = "Failed to start welcome context")




web/src/main/java/org/jboss/as/web/WebLogger.java:    @Message(id = 18200, value = "Failed to start welcome context")




undertow/src/main/java/org/wildfly/extension/undertow/UndertowLogger.java:    @Message(id = 18201, value = "Failed to destroy welcome context")




web/src/main/java/org/jboss/as/web/WebLogger.java:    @Message(id = 18201, value = "Failed to destroy welcome context")




undertow/src/main/java/org/wildfly/extension/undertow/UndertowLogger.java:    @Message(id = 18202, value = "Error calling onStartup for servlet container initializer: %s")




web/src/main/java/org/jboss/as/web/WebLogger.java:    @Message(id = 18202, value = "Error calling onStartup for servlet container initializer: %s")




undertow/src/main/java/org/wildfly/extension/undertow/UndertowLogger.java:    @Message(id = 18203, value = "Error instantiating container component: %s")




web/src/main/java/org/jboss/as/web/WebLogger.java:    @Message(id = 18203, value = "Error instantiating container component: %s")




undertow/src/main/java/org/wildfly/extension/undertow/UndertowLogger.java:    @Message(id = 18204, value = "Clustering not supported, falling back to non-clustered session manager")




web/src/main/java/org/jboss/as/web/WebLogger.java:    @Message(id = 18204, value = "Clustering not supported, falling back to non-clustered session manager")




undertow/src/main/java/org/wildfly/extension/undertow/UndertowLogger.java:    @Message(id = 18205, value = "Cannot setup overlays for [%s] due to custom resources")




web/src/main/java/org/jboss/as/web/WebLogger.java:    @Message(id = 18205, value = "Cannot setup overlays for [%s] due to custom resources")




undertow/src/main/java/org/wildfly/extension/undertow/UndertowLogger.java:    @Message(id = 18206, value = "Webapp [%s] is unavailable due to startup errors")




web/src/main/java/org/jboss/as/web/WebLogger.java:    @Message(id = 18206, value = "Webapp [%s] is unavailable due to startup errors")




undertow/src/main/java/org/wildfly/extension/undertow/UndertowLogger.java:    @Message(id = 18208, value = "Failed to start context")




web/src/main/java/org/jboss/as/web/WebLogger.java:    @Message(id = 18208, value = "Failed to start context")




osgi/integration/http/src/main/java/org/jboss/as/osgi/httpservice/WebLogger.java:    @Message(id = 18208, value = "Failed to start context")




undertow/src/main/java/org/wildfly/extension/undertow/UndertowLogger.java:    @Message(id = 18208, value = "Failed to start context")




web/src/main/java/org/jboss/as/web/WebLogger.java:    @Message(id = 18208, value = "Failed to start context")




osgi/integration/http/src/main/java/org/jboss/as/osgi/httpservice/WebLogger.java:    @Message(id = 18208, value = "Failed to start context")




undertow/src/main/java/org/wildfly/extension/undertow/UndertowLogger.java:    @Message(id = 18209, value = "Failed to destroy context")




web/src/main/java/org/jboss/as/web/WebLogger.java:    @Message(id = 18209, value = "Failed to destroy context")




osgi/integration/http/src/main/java/org/jboss/as/osgi/httpservice/WebLogger.java:    @Message(id = 18209, value = "Failed to destroy context")




undertow/src/main/java/org/wildfly/extension/undertow/UndertowLogger.java:    @Message(id = 18209, value = "Failed to destroy context")




web/src/main/java/org/jboss/as/web/WebLogger.java:    @Message(id = 18209, value = "Failed to destroy context")




osgi/integration/http/src/main/java/org/jboss/as/osgi/httpservice/WebLogger.java:    @Message(id = 18209, value = "Failed to destroy context")




undertow/src/main/java/org/wildfly/extension/undertow/UndertowLogger.java:    @Message(id = 18210, value = "Register web context: %s")




web/src/main/java/org/jboss/as/web/WebLogger.java:    @Message(id = 18210, value = "Register web context: %s")




osgi/integration/http/src/main/java/org/jboss/as/osgi/httpservice/WebLogger.java:    @Message(id = 18210, value = "Register web context: %s")




undertow/src/main/java/org/wildfly/extension/undertow/UndertowLogger.java:    @Message(id = 18210, value = "Register web context: %s")




web/src/main/java/org/jboss/as/web/WebLogger.java:    @Message(id = 18210, value = "Register web context: %s")




osgi/integration/http/src/main/java/org/jboss/as/osgi/httpservice/WebLogger.java:    @Message(id = 18210, value = "Register web context: %s")




undertow/src/main/java/org/wildfly/extension/undertow/UndertowLogger.java:    @Message(id = 18214, value = "Error during login/password authenticate")




web/src/main/java/org/jboss/as/web/WebLogger.java:    @Message(id = 18214, value = "Error during login/password authenticate")




undertow/src/main/java/org/wildfly/extension/undertow/UndertowLogger.java:    @Message(id = 18215, value = "Error during certificate authenticate")




web/src/main/java/org/jboss/as/web/WebLogger.java:    @Message(id = 18215, value = "Error during certificate authenticate")




undertow/src/main/java/org/wildfly/extension/undertow/UndertowLogger.java:    @Message(id = 18216, value = "Error during digest authenticate")




web/src/main/java/org/jboss/as/web/WebLogger.java:    @Message(id = 18216, value = "Error during digest authenticate")




undertow/src/main/java/org/wildfly/extension/undertow/UndertowLogger.java:    @Message(id = 18217, value = "Error obtaining authorization helper")




web/src/main/java/org/jboss/as/web/WebLogger.java:    @Message(id = 18217, value = "Error obtaining authorization helper")




undertow/src/main/java/org/wildfly/extension/undertow/UndertowLogger.java:    @Message(id = 18218, value = "Exception in obtaining server authentication manager")




web/src/main/java/org/jboss/as/web/WebLogger.java:    @Message(id = 18218, value = "Exception in obtaining server authentication manager")




undertow/src/main/java/org/wildfly/extension/undertow/UndertowLogger.java:    @Message(id = 18219, value = "JASPI validation for unprotected request context %s failed")




web/src/main/java/org/jboss/as/web/WebLogger.java:    @Message(id = 18219, value = "JASPI validation for unprotected request context %s failed")




undertow/src/main/java/org/wildfly/extension/undertow/UndertowLogger.java:    @Message(id = 18220, value = "Caught Exception: %s")




web/src/main/java/org/jboss/as/web/WebLogger.java:    @Message(id = 18220, value = "Caught Exception: %s")




undertow/src/main/java/org/wildfly/extension/undertow/UndertowLogger.java:    @Message(id = 18221, value = "Error forwarding to login page: %s")




web/src/main/java/org/jboss/as/web/WebLogger.java:    @Message(id = 18221, value = "Error forwarding to login page: %s")




undertow/src/main/java/org/wildfly/extension/undertow/UndertowLogger.java:    @Message(id = 18222, value = "Error forwarding to error page: %s")




web/src/main/java/org/jboss/as/web/WebLogger.java:    @Message(id = 18222, value = "Error forwarding to error page: %s")




undertow/src/main/java/org/wildfly/extension/undertow/UndertowLogger.java:    @Message(id = 18224, value = "Unregister web context: %s")




web/src/main/java/org/jboss/as/web/WebLogger.java:    @Message(id = 18224, value = "Unregister web context: %s")




undertow/src/main/java/org/wildfly/extension/undertow/UndertowLogger.java:    @Message(id = 18226, value = "Skipped SCI for jar: %s.")




web/src/main/java/org/jboss/as/web/WebLogger.java:    @Message(id = 18226, value = "Skipped SCI for jar: %s.")





</description>
			<version>8.0.0.Alpha2</version>
			<fixedVersion>8.0.0.CR1</fixedVersion>
			<type>Bug</type>
		</buginformation>
		<fixedFiles>
			<file type="M">org.wildfly.extension.undertow.UndertowLogger.java</file>
			<file type="D">org.jboss.as.jsf.JSFMessages.java</file>
			<file type="M">org.jboss.as.jsf.JSFLogger.java</file>
		</fixedFiles>
	</bug>
	<bug id="2213" opendate="2013-10-03 20:24:51" fixdate="2013-10-24 03:46:46" resolution="Done">
		<buginformation>
			<summary>UnsupportedOperationException in wildfly clustering web disrupts appliction access permanently</summary>
			<description>a &amp;lt;distributable&amp;gt; struts application is working correctly, after session timeout an UnsupportedOperationException permanently prohibits access to the application.
I cannot find any possibility to access the app again else than redeploy the application.
2013-10-03 14:55:48,311 ERROR [org.infinispan.interceptors.InvocationContextInterceptor] (default task-10) ISPN000136: Execution error: org.infinispan.commons.CacheException: Caught exception [java.lang.Unsuppor
tedOperationException] while invoking method [public void org.wildfly.clustering.web.infinispan.session.InfinispanSessionManager.removed(org.infinispan.notifications.cachelistener.event.CacheEntryRemovedEvent)] 
on listener instance: org.wildfly.clustering.web.infinispan.session.InfinispanSessionManager@56af236c
        at org.infinispan.notifications.AbstractListenerImpl$ListenerInvocation$1.run(AbstractListenerImpl.java:209)
        at org.infinispan.util.concurrent.WithinThreadExecutor.execute(WithinThreadExecutor.java:22)
        at org.infinispan.notifications.AbstractListenerImpl$ListenerInvocation.invoke(AbstractListenerImpl.java:228)
        at org.infinispan.notifications.AbstractListenerImpl$ListenerInvocation.invoke(AbstractListenerImpl.java:191)
        at org.infinispan.notifications.cachelistener.CacheNotifierImpl.notifyCacheEntryRemoved(CacheNotifierImpl.java:181)
        at org.infinispan.commands.write.RemoveCommand.notify(RemoveCommand.java:98)
        at org.infinispan.commands.write.RemoveCommand.performRemove(RemoveCommand.java:207)
        at org.infinispan.commands.write.RemoveCommand.perform(RemoveCommand.java:90)
        at org.infinispan.interceptors.CallInterceptor.handleDefault(CallInterceptor.java:91)
        at org.infinispan.commands.AbstractVisitor.visitRemoveCommand(AbstractVisitor.java:37)
        at org.infinispan.commands.write.RemoveCommand.acceptVisitor(RemoveCommand.java:51)
        at org.infinispan.interceptors.base.CommandInterceptor.invokeNextInterceptor(CommandInterceptor.java:98)
        at org.infinispan.interceptors.distribution.TxDistributionInterceptor.handleTxWriteCommand(TxDistributionInterceptor.java:268)
        at org.infinispan.interceptors.distribution.TxDistributionInterceptor.visitRemoveCommand(TxDistributionInterceptor.java:77)
        at org.infinispan.commands.write.RemoveCommand.acceptVisitor(RemoveCommand.java:51)
        at org.infinispan.interceptors.base.CommandInterceptor.invokeNextInterceptor(CommandInterceptor.java:98)
        at org.infinispan.interceptors.base.CommandInterceptor.handleDefault(CommandInterceptor.java:112)
        at org.infinispan.commands.AbstractVisitor.visitRemoveCommand(AbstractVisitor.java:37)
        at org.infinispan.commands.write.RemoveCommand.acceptVisitor(RemoveCommand.java:51)
        at org.infinispan.interceptors.base.CommandInterceptor.invokeNextInterceptor(CommandInterceptor.java:98)
        at org.infinispan.interceptors.CacheLoaderInterceptor.visitRemoveCommand(CacheLoaderInterceptor.java:133)
        at org.infinispan.interceptors.ActivationInterceptor.visitRemoveCommand(ActivationInterceptor.java:60)
        at org.infinispan.commands.write.RemoveCommand.acceptVisitor(RemoveCommand.java:51)
        at org.infinispan.interceptors.base.CommandInterceptor.invokeNextInterceptor(CommandInterceptor.java:98)
        at org.infinispan.interceptors.EntryWrappingInterceptor.invokeNextAndApplyChanges(EntryWrappingInterceptor.java:292)
        at org.infinispan.interceptors.EntryWrappingInterceptor.setSkipRemoteGetsAndInvokeNextForDataCommand(EntryWrappingInterceptor.java:372)
        at org.infinispan.interceptors.EntryWrappingInterceptor.visitRemoveCommand(EntryWrappingInterceptor.java:205)
        at org.infinispan.commands.write.RemoveCommand.acceptVisitor(RemoveCommand.java:51)
        at org.infinispan.interceptors.base.CommandInterceptor.invokeNextInterceptor(CommandInterceptor.java:98)
        at org.infinispan.interceptors.locking.PessimisticLockingInterceptor.visitRemoveCommand(PessimisticLockingInterceptor.java:142)
        at org.infinispan.commands.write.RemoveCommand.acceptVisitor(RemoveCommand.java:51)
        at org.infinispan.interceptors.base.CommandInterceptor.invokeNextInterceptor(CommandInterceptor.java:98)
        at org.infinispan.interceptors.base.CommandInterceptor.handleDefault(CommandInterceptor.java:112)
        at org.infinispan.commands.AbstractVisitor.visitRemoveCommand(AbstractVisitor.java:37)
        at org.infinispan.commands.write.RemoveCommand.acceptVisitor(RemoveCommand.java:51)
        at org.infinispan.interceptors.base.CommandInterceptor.invokeNextInterceptor(CommandInterceptor.java:98)
        at org.infinispan.interceptors.TxInterceptor.enlistWriteAndInvokeNext(TxInterceptor.java:247)
        at org.infinispan.interceptors.TxInterceptor.visitRemoveCommand(TxInterceptor.java:188)
        at org.infinispan.commands.write.RemoveCommand.acceptVisitor(RemoveCommand.java:51)
        at org.infinispan.interceptors.base.CommandInterceptor.invokeNextInterceptor(CommandInterceptor.java:98)
        at org.infinispan.interceptors.base.CommandInterceptor.handleDefault(CommandInterceptor.java:112)
        at org.infinispan.commands.AbstractVisitor.visitRemoveCommand(AbstractVisitor.java:37)
        at org.infinispan.commands.write.RemoveCommand.acceptVisitor(RemoveCommand.java:51)
        at org.infinispan.interceptors.base.CommandInterceptor.invokeNextInterceptor(CommandInterceptor.java:98)
        at org.infinispan.statetransfer.StateTransferInterceptor.handleNonTxWriteCommand(StateTransferInterceptor.java:193)
        at org.infinispan.statetransfer.StateTransferInterceptor.visitRemoveCommand(StateTransferInterceptor.java:143)
        at org.infinispan.commands.write.RemoveCommand.acceptVisitor(RemoveCommand.java:51)
        at org.infinispan.interceptors.base.CommandInterceptor.invokeNextInterceptor(CommandInterceptor.java:98)
        at org.infinispan.interceptors.CacheMgmtInterceptor.visitRemoveCommand(CacheMgmtInterceptor.java:166)
        at org.infinispan.commands.write.RemoveCommand.acceptVisitor(RemoveCommand.java:51)
        at org.infinispan.interceptors.base.CommandInterceptor.invokeNextInterceptor(CommandInterceptor.java:98)
        at org.infinispan.interceptors.InvocationContextInterceptor.handleAll(InvocationContextInterceptor.java:106)
        at org.infinispan.interceptors.InvocationContextInterceptor.handleDefault(InvocationContextInterceptor.java:70)
        at org.infinispan.commands.AbstractVisitor.visitRemoveCommand(AbstractVisitor.java:37)
        at org.infinispan.commands.write.RemoveCommand.acceptVisitor(RemoveCommand.java:51)
        at org.infinispan.interceptors.base.CommandInterceptor.invokeNextInterceptor(CommandInterceptor.java:98)
        at org.infinispan.interceptors.BatchingInterceptor.handleDefault(BatchingInterceptor.java:64)
        at org.infinispan.commands.AbstractVisitor.visitRemoveCommand(AbstractVisitor.java:37)
        at org.infinispan.commands.write.RemoveCommand.acceptVisitor(RemoveCommand.java:51)
        at org.infinispan.interceptors.InterceptorChain.invoke(InterceptorChain.java:321)
        at org.infinispan.CacheImpl.executeCommandAndCommitIfNeeded(CacheImpl.java:1298)
        at org.infinispan.CacheImpl.removeInternal(CacheImpl.java:400)
        at org.infinispan.CacheImpl.remove(CacheImpl.java:393)
        at org.infinispan.DecoratedCache.remove(DecoratedCache.java:406)
        at org.infinispan.AbstractDelegatingCache.remove(AbstractDelegatingCache.java:281)
        at org.wildfly.clustering.web.infinispan.Remover$RemoveOperation.invoke(Remover.java:50)
        at org.jboss.as.clustering.infinispan.invoker.SimpleCacheInvoker.invoke(SimpleCacheInvoker.java:34)
        at org.jboss.as.clustering.infinispan.invoker.RetryingCacheInvoker.invoke(RetryingCacheInvoker.java:82)
        at org.wildfly.clustering.web.infinispan.session.coarse.CoarseSessionFactory.remove(CoarseSessionFactory.java:116)
        at org.wildfly.clustering.web.infinispan.session.coarse.CoarseSessionFactory.remove(CoarseSessionFactory.java:54)
        at org.wildfly.clustering.web.infinispan.session.InfinispanSession.invalidate(InfinispanSession.java:74)
        at org.wildfly.clustering.web.infinispan.session.InfinispanSessionManager.findSession(InfinispanSessionManager.java:218)
        at org.wildfly.clustering.web.undertow.session.SessionManagerAdapter.getSession(SessionManagerAdapter.java:124)
        at io.undertow.servlet.spec.ServletContextImpl.getSession(ServletContextImpl.java:674) [undertow-servlet-1.0.0.Beta15-SNAPSHOT.jar:1.0.0.Beta17-SNAPSHOT]
        at io.undertow.servlet.spec.ServletContextImpl.updateSessionAccessTime(ServletContextImpl.java:688) [undertow-servlet-1.0.0.Beta15-SNAPSHOT.jar:1.0.0.Beta17-SNAPSHOT]
        at io.undertow.servlet.spec.HttpServletResponseImpl.responseDone(HttpServletResponseImpl.java:505) [undertow-servlet-1.0.0.Beta15-SNAPSHOT.jar:1.0.0.Beta17-SNAPSHOT]
        at io.undertow.servlet.handlers.ServletInitialHandler.handleFirstRequest(ServletInitialHandler.java:255) [undertow-servlet-1.0.0.Beta15-SNAPSHOT.jar:1.0.0.Beta17-SNAPSHOT]
        at io.undertow.servlet.handlers.ServletInitialHandler.dispatchRequest(ServletInitialHandler.java:202) [undertow-servlet-1.0.0.Beta15-SNAPSHOT.jar:1.0.0.Beta17-SNAPSHOT]
        at io.undertow.servlet.handlers.ServletInitialHandler.access$000(ServletInitialHandler.java:69) [undertow-servlet-1.0.0.Beta15-SNAPSHOT.jar:1.0.0.Beta17-SNAPSHOT]
        at io.undertow.servlet.handlers.ServletInitialHandler$1.handleRequest(ServletInitialHandler.java:136) [undertow-servlet-1.0.0.Beta15-SNAPSHOT.jar:1.0.0.Beta17-SNAPSHOT]
        at io.undertow.server.HttpHandlers.executeRootHandler(HttpHandlers.java:36) [undertow-core-1.0.0.Beta15-SNAPSHOT.jar:1.0.0.Beta15-SNAPSHOT]
        at io.undertow.server.HttpServerExchange$1.run(HttpServerExchange.java:614) [undertow-core-1.0.0.Beta15-SNAPSHOT.jar:1.0.0.Beta15-SNAPSHOT]
        at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1145) [rt.jar:1.7.0_25]
        at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:615) [rt.jar:1.7.0_25]
        at java.lang.Thread.run(Thread.java:724) [rt.jar:1.7.0_25]
Caused by: java.lang.UnsupportedOperationException
        at org.wildfly.clustering.web.session.ImmutableHttpSessionAdapter.removeAttribute(ImmutableHttpSessionAdapter.java:90)
        at com.sun.faces.application.view.ViewScopeContextManager.sessionDestroyed(ViewScopeContextManager.java:298) [jsf-impl-2.2.3-jbossorg-1.jar:]
        at com.sun.faces.application.view.ViewScopeManager.sessionDestroyed(ViewScopeManager.java:348) [jsf-impl-2.2.3-jbossorg-1.jar:]
        at com.sun.faces.application.WebappLifecycleListener.sessionDestroyed(WebappLifecycleListener.java:176) [jsf-impl-2.2.3-jbossorg-1.jar:]
        at com.sun.faces.config.ConfigureListener.sessionDestroyed(ConfigureListener.java:368) [jsf-impl-2.2.3-jbossorg-1.jar:]
        at io.undertow.servlet.core.ApplicationListeners.sessionDestroyed(ApplicationListeners.java:264) [undertow-servlet-1.0.0.Beta15-SNAPSHOT.jar:1.0.0.Beta17-SNAPSHOT]
        at org.wildfly.clustering.web.undertow.session.SessionContextAdapter$1.sessionDestroyed(SessionContextAdapter.java:60)
        at org.wildfly.clustering.web.infinispan.session.InfinispanSessionManager.removed(InfinispanSessionManager.java:297)
        at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) [rt.jar:1.7.0_25]
        at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:57) [rt.jar:1.7.0_25]
        at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) [rt.jar:1.7.0_25]
        at java.lang.reflect.Method.invoke(Method.java:606) [rt.jar:1.7.0_25]
        at org.infinispan.notifications.AbstractListenerImpl$ListenerInvocation$1.run(AbstractListenerImpl.java:205)
        ... 84 more
</description>
			<version>8.0.0.Beta1</version>
			<fixedVersion>8.0.0.CR1</fixedVersion>
			<type>Bug</type>
		</buginformation>
		<fixedFiles>
			<file type="M">org.wildfly.clustering.web.session.ImmutableHttpSessionAdapter.java</file>
		</fixedFiles>
	</bug>
	<bug id="2359" opendate="2013-10-22 23:30:14" fixdate="2013-10-24 03:47:34" resolution="Done">
		<buginformation>
			<summary>Clustering AsynchronousService should stop asynchronously by default</summary>
			<description>By default, org.jboss.as.clustering.msc.AsynchronousService stops its service synchronously.  This was done to workaround MSC ordering issues with stopping of dependent services.  This no longer appears to be an issue.</description>
			<version>8.0.0.Beta1</version>
			<fixedVersion>8.0.0.CR1</fixedVersion>
			<type>Bug</type>
		</buginformation>
		<fixedFiles>
			<file type="M">org.jboss.as.clustering.msc.AsynchronousService.java</file>
		</fixedFiles>
		<links>
			<link type="Dependency" description="blocks">2350</link>
		</links>
	</bug>
	<bug id="1949" opendate="2013-08-25 16:21:15" fixdate="2013-10-24 05:14:27" resolution="Done">
		<buginformation>
			<summary>SimpleScheduleSecondTestCase fails</summary>
			<description>org.jboss.as.test.integration.ejb.timerservice.schedule.SimpleScheduleSecondTestCase fails.</description>
			<version>8.0.0.Beta1</version>
			<fixedVersion>8.0.0.CR1</fixedVersion>
			<type>Bug</type>
		</buginformation>
		<fixedFiles>
			<file type="M">org.jboss.as.test.integration.ejb.timerservice.cdi.requestscope.AnnotationTimerServiceBean.java</file>
			<file type="M">org.jboss.as.test.integration.ejb.timerservice.view.TimedObjectTimerServiceBean.java</file>
			<file type="M">org.jboss.as.test.integration.ejb.timerservice.security.TimerGetCallerPrincipleBean.java</file>
			<file type="M">org.jboss.as.test.integration.ejb.timerservice.view.AnnotationTimerServiceBean.java</file>
			<file type="M">org.jboss.as.test.integration.ejb.timerservice.simple.AnnotationTimerServiceBean.java</file>
			<file type="M">org.jboss.as.test.integration.ejb.timerservice.simple.TimedObjectTimerServiceBean.java</file>
			<file type="M">org.jboss.as.test.integration.ejb.timerservice.serialization.TimerServiceSerializationBean.java</file>
			<file type="M">org.jboss.as.test.integration.ejb.timerservice.aroundtimeout.BeanParent.java</file>
			<file type="M">org.jboss.as.test.integration.ejb.timerservice.schedule.SimpleScheduleBean.java</file>
			<file type="M">org.jboss.as.test.integration.ejb.timerservice.database.TimedObjectTimerServiceBean.java</file>
		</fixedFiles>
	</bug>
	<bug id="2333" opendate="2013-10-18 09:57:37" fixdate="2013-10-25 13:11:51" resolution="Done">
		<buginformation>
			<summary>Web deployment code assumes only a single ServletContainerInitializer is present in each jar</summary>
			<description></description>
			<version>8.0.0.Beta1</version>
			<fixedVersion>8.0.0.CR1</fixedVersion>
			<type>Bug</type>
		</buginformation>
		<fixedFiles>
			<file type="M">org.wildfly.extension.undertow.deployment.ServletContainerInitializerDeploymentProcessor.java</file>
		</fixedFiles>
	</bug>
	<bug id="2336" opendate="2013-10-18 15:46:58" fixdate="2013-10-25 18:56:36" resolution="Done">
		<buginformation>
			<summary>Decreasing max-threads on a unbounded queueless executor generates IllegalArgumentException</summary>
			<description>Create an unbounded queueless executor
&amp;lt;unbounded-queue-thread-pool name="uq-thread-pool"&amp;gt;
&amp;lt;max-threads count="350"/&amp;gt;
&amp;lt;keepalive-time time="5" unit="minutes"/&amp;gt;
&amp;lt;/unbounded-queue-thread-pool&amp;gt;
Modifying max-threads fails:
/subsystem=threads/unbounded-queue-thread-pool=uq-thread-pool:write-attribute(name=max-threads,value=300)
{
    "outcome" =&amp;gt; "failed",
    "failure-description" =&amp;gt; "JBAS014749: Operation handler failed: null",
    "rolled-back" =&amp;gt; true
}

ERROR [org.jboss.as.controller.management-operation] (management-handler-thread - 1) JBAS014612: Operation ("write-attribute") failed - address: ([
    ("subsystem" =&amp;gt; "threads"),
    ("unbounded-queue-thread-pool" =&amp;gt; "uq-thread-pool")
]): java.lang.IllegalArgumentException
	at java.util.concurrent.ThreadPoolExecutor.setMaximumPoolSize(ThreadPoolExecutor.java:1620) [rt.jar:1.7.0]
	at org.jboss.threads.JBossThreadPoolExecutor.setMaxThreads(JBossThreadPoolExecutor.java:95) [jboss-threads-2.1.1.Final.jar:2.1.1.Final]
	at org.jboss.as.threads.ManagedJBossThreadPoolExecutorService.setMaxThreads(ManagedJBossThreadPoolExecutorService.java:86)
	at org.jboss.as.threads.UnboundedQueueThreadPoolService.setMaxThreads(UnboundedQueueThreadPoolService.java:91)
The core pool size needs to be adjusted in line with the max pool size and in the right order to avoid that since max threads can&amp;amp;apos;t be less than core threads.</description>
			<version>8.0.0.Beta1</version>
			<fixedVersion>8.0.0.CR1</fixedVersion>
			<type>Bug</type>
		</buginformation>
		<fixedFiles>
			<file type="M">org.jboss.as.threads.UnboundedQueueThreadPoolService.java</file>
		</fixedFiles>
	</bug>
	<bug id="2296" opendate="2013-10-14 12:00:36" fixdate="2013-10-25 19:59:15" resolution="Done">
		<buginformation>
			<summary>Patched state is missing the updated resulting version</summary>
			<description></description>
			<version>8.0.0.Beta1</version>
			<fixedVersion>8.0.0.CR1</fixedVersion>
			<type>Bug</type>
		</buginformation>
		<fixedFiles>
			<file type="M">org.jboss.as.patching.runner.IdentityPatchContext.java</file>
			<file type="M">org.jboss.as.patching.installation.InstallationManager.java</file>
			<file type="M">org.jboss.as.patching.installation.InstallationModificationImpl.java</file>
		</fixedFiles>
	</bug>
	<bug id="2373" opendate="2013-10-24 11:48:18" fixdate="2013-10-25 19:59:26" resolution="Done">
		<buginformation>
			<summary>patching resource does not get registered on slave hosts</summary>
			<description></description>
			<version>8.0.0.Beta1</version>
			<fixedVersion>8.0.0.CR1</fixedVersion>
			<type>Bug</type>
		</buginformation>
		<fixedFiles>
			<file type="M">org.jboss.as.host.controller.DomainModelControllerService.java</file>
			<file type="M">org.jboss.as.test.integration.domain.management.util.DomainLifecycleUtil.java</file>
			<file type="M">org.jboss.as.test.integration.domain.management.util.ProcessWrapper.java</file>
		</fixedFiles>
	</bug>
	<bug id="2320" opendate="2013-10-16 15:06:02" fixdate="2013-10-25 21:53:27" resolution="Done">
		<buginformation>
			<summary>EJB should not be remotely accessible until all of its dependencies have been started</summary>
			<description>If an EJB injects or depends on a resource such as an @Singleton which has not been started, the EJB&amp;amp;apos;s remote interface java:jboss/exported/* is already bound and this allows remote EJB clients to try to invoke it.  This causes the EJB clients to hang because the EJB will not be started until its dependencies have been started.</description>
			<version>8.0.0.Beta1</version>
			<fixedVersion>8.0.0.CR1</fixedVersion>
			<type>Bug</type>
		</buginformation>
		<fixedFiles>
			<file type="M">org.jboss.as.jsr77.subsystem.RegisterManagementEJBService.java</file>
			<file type="M">org.jboss.as.ejb3.deployment.processors.DeploymentRepositoryProcessor.java</file>
			<file type="M">org.jboss.as.ejb3.deployment.DeploymentRepository.java</file>
			<file type="M">org.jboss.as.ejb3.deployment.DeploymentRepositoryListener.java</file>
			<file type="M">org.jboss.as.ejb3.remote.protocol.versionone.EJBIdentifierBasedMessageHandler.java</file>
			<file type="M">org.jboss.as.ejb3.remote.LocalEjbReceiver.java</file>
			<file type="M">org.jboss.as.ejb3.remote.protocol.versionone.VersionOneProtocolChannelReceiver.java</file>
			<file type="M">org.jboss.as.ejb3.deployment.ModuleDeployment.java</file>
		</fixedFiles>
	</bug>
	<bug id="1746" opendate="2013-07-23 12:24:21" fixdate="2013-10-28 20:45:06" resolution="Done">
		<buginformation>
			<summary>CDI beans in static modules cannot see each other</summary>
			<description></description>
			<version>8.0.0.Alpha3</version>
			<fixedVersion>8.0.0.CR1</fixedVersion>
			<type>Bug</type>
		</buginformation>
		<fixedFiles>
			<file type="M">org.jboss.as.weld.deployment.WeldAttachments.java</file>
			<file type="M">org.jboss.as.weld.deployment.processors.WeldDeploymentProcessor.java</file>
			<file type="M">org.jboss.as.weld.deployment.processors.ExternalBeanArchiveProcessor.java</file>
			<file type="M">org.jboss.as.weld.deployment.BeanDeploymentArchiveImpl.java</file>
		</fixedFiles>
		<links>
			<link type="Related" description="is related to">2739</link>
		</links>
	</bug>
	<bug id="2370" opendate="2013-10-24 01:50:51" fixdate="2013-10-29 04:38:03" resolution="Done">
		<buginformation>
			<summary>NPE in DelegatingServerInventory</summary>
			<description>http://brontes.lab.eng.brq.redhat.com/viewLog.html?buildId=4738&amp;amp;tab=buildResultsDiv&amp;amp;buildTypeId=WF_MasterIgnoreWindowsDomainOnly
Test failure:
java.lang.AssertionError
    at org.junit.Assert.fail(Assert.java:86)
    at org.junit.Assert.assertTrue(Assert.java:41)
    at org.junit.Assert.assertTrue(Assert.java:52)
    at org.jboss.as.test.integration.domain.DomainControllerMigrationTestCase.testDCFailover(DomainControllerMigrationTestCase.java:223)
This appears in the log:
[Host Controller] 03:26:38,028 ERROR [org.jboss.as.controller.management-operation] (management-handler-thread - 4) JBAS014612: Operation ("read-attribute") failed - address: ([
[Host Controller]     ("host" =&amp;gt; "failover-h1"),
[Host Controller]     ("server-config" =&amp;gt; "failover-one")
[Host Controller] ]): java.lang.NullPointerException
[Host Controller]     at org.jboss.as.host.controller.DomainModelControllerService$DelegatingServerInventory.determineServerStatus(DomainModelControllerService.java:788)
[Host Controller]     at org.jboss.as.host.controller.operations.ServerStatusHandler.execute(ServerStatusHandler.java:66)
[Host Controller]     at org.jboss.as.controller.operations.global.ReadAttributeHandler.doExecuteInternal(ReadAttributeHandler.java:177) [wildfly-controller-8.0.0.Beta2-SNAPSHOT.jar:8.0.0.Beta2-SNAPSHOT]
[Host Controller]     at org.jboss.as.controller.operations.global.ReadAttributeHandler.doExecute(ReadAttributeHandler.java:97) [wildfly-controller-8.0.0.Beta2-SNAPSHOT.jar:8.0.0.Beta2-SNAPSHOT]
[Host Controller]     at org.jboss.as.controller.operations.global.GlobalOperationHandlers$AbstractMultiTargetHandler.execute(GlobalOperationHandlers.java:151) [wildfly-controller-8.0.0.Beta2-SNAPSHOT.jar:8.0.0.Beta2-SNAPSHOT]</description>
			<version>8.0.0.Beta1</version>
			<fixedVersion>8.0.0.CR1</fixedVersion>
			<type>Bug</type>
		</buginformation>
		<fixedFiles>
			<file type="M">org.jboss.as.host.controller.DomainModelControllerService.java</file>
		</fixedFiles>
	</bug>
	<bug id="2390" opendate="2013-10-26 18:05:15" fixdate="2013-10-29 04:38:20" resolution="Done">
		<buginformation>
			<summary>SimpleOperationDefinitionBuilder.withFlags discards existing flags</summary>
			<description></description>
			<version>8.0.0.Beta1</version>
			<fixedVersion>8.0.0.CR1</fixedVersion>
			<type>Bug</type>
		</buginformation>
		<fixedFiles>
			<file type="M">org.jboss.as.test.integration.domain.rbac.AbstractStandardRolesTestCase.java</file>
			<file type="M">org.jboss.as.controller.SimpleOperationDefinitionBuilder.java</file>
			<file type="M">org.jboss.as.test.integration.management.rbac.RbacUtil.java</file>
			<file type="M">org.jboss.as.test.integration.domain.rbac.AbstractRbacTestCase.java</file>
			<file type="M">org.jboss.as.test.integration.domain.rbac.AbstractHostScopedRolesTestCase.java</file>
		</fixedFiles>
	</bug>
	<bug id="2343" opendate="2013-10-20 02:55:12" fixdate="2013-10-29 17:56:53" resolution="Done">
		<buginformation>
			<summary>IllegalStateException when invoking ManagedThreadFactory.newThread</summary>
			<description>I test the simple test case under wildfly beta2, and got the stacktrace below,
Remove @Startup, the test case is pass.
@Singleton
@Startup
public class SSSManagerBean{
  static Logger logger = Logger.getLogger(SSSManagerBean.class);
  @Resource
  private ManagedThreadFactory mtf;
  public SSSManagerBean() {
  }
  @PostConstruct
  public void postConstruct() {
    logger.info("XXXXXXXXXXXXXXXXXXXXXXXXXX: "+mtf);
    Thread t = mtf.newThread(new Runnable(){
      @Override
      public void run()
{
        logger.info("XXXXXXXXXXXXXXXX: hello");
      }
    });
    t.start();
  }
}
The stacktrace:
Caused by: java.lang.IllegalStateException: JBAS016707: No concurrent context currently set, unable to locate the context service to delegate.
	at org.jboss.as.ee.concurrent.DefaultContextSetupProviderImpl.getConcurrentContext(DefaultContextSetupProviderImpl.java:41) [wildfly-ee-8.0.0.Beta2-SNAPSHOT.jar:8.0.0.Beta2-SNAPSHOT]
	at org.jboss.as.ee.concurrent.DefaultContextSetupProviderImpl.saveContext(DefaultContextSetupProviderImpl.java:48) [wildfly-ee-8.0.0.Beta2-SNAPSHOT.jar:8.0.0.Beta2-SNAPSHOT]
	at org.glassfish.enterprise.concurrent.ManagedThreadFactoryImpl.newThread(ManagedThreadFactoryImpl.java:125)
	at cn.org.gddsn.sss.server.SSSManagerBean.postConstruct(SSSManagerBean.java:91)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) [rt.jar:1.7.0_25]
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:57) [rt.jar:1.7.0_25]
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) [rt.jar:1.7.0_25]
	at java.lang.reflect.Method.invoke(Method.java:606) [rt.jar:1.7.0_25]
	at org.jboss.as.ee.component.ManagedReferenceLifecycleMethodInterceptorFactory$ManagedReferenceLifecycleMethodInterceptor.processInvocation(ManagedReferenceLifecycleMethodInterceptorFactory.java:130) [wildfly-ee-8.0.0.Beta2-SNAPSHOT.jar:8.0.0.Beta2-SNAPSHOT]
	at org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:309)
	at org.jboss.invocation.WeavedInterceptor.processInvocation(WeavedInterceptor.java:53)
	at org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:309)
	at org.jboss.as.weld.ejb.Jsr299BindingsInterceptor.doLifecycleInterception(Jsr299BindingsInterceptor.java:165) [wildfly-weld-8.0.0.Beta2-SNAPSHOT.jar:8.0.0.Beta2-SNAPSHOT]
	at org.jboss.as.weld.ejb.Jsr299BindingsInterceptor.processInvocation(Jsr299BindingsInterceptor.java:148) [wildfly-weld-8.0.0.Beta2-SNAPSHOT.jar:8.0.0.Beta2-SNAPSHOT]
	at org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:309)
	at org.jboss.invocation.InterceptorContext$Invocation.proceed(InterceptorContext.java:406)
	at org.jboss.weld.ejb.AbstractEJBRequestScopeActivationInterceptor.aroundInvoke(AbstractEJBRequestScopeActivationInterceptor.java:55) [weld-core-impl-2.1.0.CR1.jar:2013-09-26 16:53]
	at org.jboss.as.weld.ejb.EjbRequestScopeActivationInterceptor.processInvocation(EjbRequestScopeActivationInterceptor.java:84) [wildfly-weld-8.0.0.Beta2-SNAPSHOT.jar:8.0.0.Beta2-SNAPSHOT]
	at org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:309)
	at org.jboss.as.weld.injection.WeldInjectionInterceptor.processInvocation(WeldInjectionInterceptor.java:56) [wildfly-weld-8.0.0.Beta2-SNAPSHOT.jar:8.0.0.Beta2-SNAPSHOT]
	at org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:309)
	at org.jboss.as.ee.component.ManagedReferenceFieldInjectionInterceptorFactory$ManagedReferenceFieldInjectionInterceptor.processInvocation(ManagedReferenceFieldInjectionInterceptorFactory.java:115) [wildfly-ee-8.0.0.Beta2-SNAPSHOT.jar:8.0.0.Beta2-SNAPSHOT]
	at org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:309)
	at org.jboss.as.ee.component.ManagedReferenceFieldInjectionInterceptorFactory$ManagedReferenceFieldInjectionInterceptor.processInvocation(ManagedReferenceFieldInjectionInterceptorFactory.java:115) [wildfly-ee-8.0.0.Beta2-SNAPSHOT.jar:8.0.0.Beta2-SNAPSHOT]
	at org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:309)
	at org.jboss.invocation.WeavedInterceptor.processInvocation(WeavedInterceptor.java:53)
	at org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:309)
	at org.jboss.as.ee.component.AroundConstructInterceptorFactory$1.processInvocation(AroundConstructInterceptorFactory.java:28) [wildfly-ee-8.0.0.Beta2-SNAPSHOT.jar:8.0.0.Beta2-SNAPSHOT]
	at org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:309)
	at org.jboss.as.weld.injection.WeldInterceptorInjectionInterceptor.processInvocation(WeldInterceptorInjectionInterceptor.java:62) [wildfly-weld-8.0.0.Beta2-SNAPSHOT.jar:8.0.0.Beta2-SNAPSHOT]
	at org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:309)
	at org.jboss.as.ee.component.NamespaceContextInterceptor.processInvocation(NamespaceContextInterceptor.java:50) [wildfly-ee-8.0.0.Beta2-SNAPSHOT.jar:8.0.0.Beta2-SNAPSHOT]
	at org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:309)
	at org.jboss.as.ejb3.tx.CMTTxInterceptor.invokeInOurTx(CMTTxInterceptor.java:273)
	... 27 more</description>
			<version>8.0.0.Beta1</version>
			<fixedVersion>8.0.0.CR1</fixedVersion>
			<type>Bug</type>
		</buginformation>
		<fixedFiles>
			<file type="M">org.jboss.as.ee.component.interceptors.InterceptorOrder.java</file>
		</fixedFiles>
	</bug>
	<bug id="2016" opendate="2013-09-06 07:22:22" fixdate="2013-10-31 15:16:42" resolution="Done">
		<buginformation>
			<summary>Security context associated with EJB asynchronous invocations can potentially be corrupted over time by the caller thread</summary>
			<description>Consider a servlet "S" which invokes on a asynchronous EJB "A". Let&amp;amp;apos;s assume "S" runs with a "foo" run-as role. Now when S invokes on "A", the run-as "foo" role is correctly propagated to the asynchronous EJB invocation. However, when the "S" invocation completes and potentially clears the security context (of any run-as role), the invocation(s) within the asynchronous EJB "A" too lose the corresponding security context role association. This is because the 2 threads (the servlet invocation one and the async EJB invocation one) literally share the same object instance of the SecurityContext.
The expected behaviour is that the original security context (attributes) are copied over to the async invocation and updates to that security context later on in a separate thread shouldn&amp;amp;apos;t affect the ongoing async EJB invocation.</description>
			<version>8.0.0.Alpha4</version>
			<fixedVersion>8.0.0.CR1</fixedVersion>
			<type>Bug</type>
		</buginformation>
		<fixedFiles>
			<file type="M">org.jboss.as.ejb3.component.interceptors.AsyncFutureInterceptorFactory.java</file>
		</fixedFiles>
	</bug>
	<bug id="2161" opendate="2013-09-25 22:56:46" fixdate="2013-11-01 08:44:03" resolution="Done">
		<buginformation>
			<summary>JBAS014356 exception not thrown for @Asyncronous EJB methods</summary>
			<description>If you call an ejb method with default visibility (e.g. from a servlet in the same package), an EJBException with code JBAS014356 is thrown because the method is not public.
If the method is annotated with @Asynchronous and returns void, the exception is not seen because the interceptor from AsyncFutureInterceptorFactory is used before NotBusinessMethodInterceptor, the exception is thrown in the worker thread instead.
With a void return, the exception is silently dropped. With a Future&amp;lt;?&amp;gt; return, it will be set as the failure exception on the future rather than being thrown from the call.
As per the forum reference we need to check the spec, but the validity of the business method should probably be checked before the handoff to the worker thread.</description>
			<version>8.0.0.Alpha4</version>
			<fixedVersion>8.0.0.CR1</fixedVersion>
			<type>Bug</type>
		</buginformation>
		<fixedFiles>
			<file type="M">org.jboss.as.ejb3.component.session.SessionBeanComponentDescription.java</file>
			<file type="M">org.jboss.as.ee.component.interceptors.InterceptorOrder.java</file>
		</fixedFiles>
	</bug>
	<bug id="2345" opendate="2013-10-20 10:35:08" fixdate="2013-11-01 10:52:47" resolution="Done">
		<buginformation>
			<summary>Port offset 0 does not work</summary>
			<description>When a port offset is specified in the socket binding group and the socket binding has a port of 0, then the port offset is not used to calculate the port instead port 0 is bound.</description>
			<version>8.0.0.Beta1</version>
			<fixedVersion>8.0.0.CR1</fixedVersion>
			<type>Bug</type>
		</buginformation>
		<fixedFiles>
			<file type="M">org.jboss.as.network.SocketBinding.java</file>
			<file type="M">org.jboss.as.subsystem.test.otherservices.OtherServicesSubsystemTestCase.java</file>
			<file type="M">org.jboss.as.subsystem.test.ControllerInitializer.java</file>
		</fixedFiles>
	</bug>
	<bug id="2411" opendate="2013-10-30 13:52:36" fixdate="2013-11-01 14:18:48" resolution="Done">
		<buginformation>
			<summary>SecurityRealm authentication does not get marshalled when empty</summary>
			<description>The /core-service=management/security-realm=ManagementRealm/authentication=users resource does not get persisted in case it does not contain any users. This causes problems since the resource is not restored after a reload or restart of the server.</description>
			<version>8.0.0.Beta1</version>
			<fixedVersion>8.0.0.CR1</fixedVersion>
			<type>Bug</type>
		</buginformation>
		<fixedFiles>
			<file type="M">org.jboss.as.domain.management.parsing.ManagementXml.java</file>
		</fixedFiles>
	</bug>
	<bug id="2410" opendate="2013-10-30 13:49:50" fixdate="2013-11-01 14:18:56" resolution="Done">
		<buginformation>
			<summary>composite operation containing a host op does not get rolled out to all hosts</summary>
			<description>If a composite operation contains an operation targeting the domain as well as a single host, it will only get rolled out to the host specified rather than to the complete domain.</description>
			<version>8.0.0.Beta1</version>
			<fixedVersion>8.0.0.CR1</fixedVersion>
			<type>Bug</type>
		</buginformation>
		<fixedFiles>
			<file type="M">org.jboss.as.domain.controller.operations.coordination.OperationRouting.java</file>
			<file type="M">org.jboss.as.test.integration.domain.suites.ServerManagementTestCase.java</file>
		</fixedFiles>
	</bug>
	<bug id="2402" opendate="2013-10-29 10:07:11" fixdate="2013-11-04 13:43:30" resolution="Done">
		<buginformation>
			<summary>fix clustered attribute transformation warning</summary>
			<description>The code in MessagingTransformers#registerTransformers_1_2_0 to check whether there is a conflict between the clustered state of hornetq-server and the attribute value is not correct and the user is not warned in case of conflict.
context.readResource(PathAddress.EMPTY_ADDRESS) corresponds to the root of the server  and there is never any "cluster-connection" children there.
Correct path to read the hornetq-server resource is contex.readResource(address)</description>
			<version>8.0.0.Beta1</version>
			<fixedVersion>8.0.0.CR1</fixedVersion>
			<type>Bug</type>
		</buginformation>
		<fixedFiles>
			<file type="M">org.jboss.as.messaging.test.MessagingSubsystem20TestCase.java</file>
			<file type="M">org.jboss.as.messaging.MessagingTransformers.java</file>
		</fixedFiles>
	</bug>
	<bug id="2312" opendate="2013-10-16 02:49:22" fixdate="2013-11-04 16:13:37" resolution="Done">
		<buginformation>
			<summary>WebVirtualHostDefinition isn&amp;apos;t validating enable-welcome-root vs default-web-module</summary>
			<description>The validation of the relationship between enable-welcome-root and default-web-module was dropped during the conversion of the legacy web module to model-only mode.
This is no big deal as any legacy slave (without which the subsystem is pointless) will reject a problem. But I want to fix it anyway as the fix will help illustrate how to do a patch for EAP.</description>
			<version>8.0.0.Beta1</version>
			<fixedVersion>8.0.0.CR1</fixedVersion>
			<type>Bug</type>
		</buginformation>
		<fixedFiles>
			<file type="M">org.jboss.as.web.WriteDefaultWebModule.java</file>
			<file type="M">org.jboss.as.web.WebVirtualHostDefinition.java</file>
			<file type="M">org.jboss.as.web.WriteEnableWelcomeRoot.java</file>
		</fixedFiles>
	</bug>
	<bug id="2352" opendate="2013-10-22 02:40:08" fixdate="2013-11-04 16:18:54" resolution="Duplicate Issue">
		<buginformation>
			<summary>Domain controller fails to restart due to an inconsistent rollback of a redeploy</summary>
			<description>When you try to redeploy (or deploy with --force option) the same application which has the same contents hash, and a necessary dependency like a datasource beeing injected in the application is lost by some reason, the redeploy operation will delete the contents under $JBOSS_HOME/domain/data/content directory but won&amp;amp;apos;t delete entries in domain.xml. Then the domain controller fails to start up because no contents found in the directory. This likely happens when you frequently changes settings during other servers shutting down.
The domain controller fails to restart with the following log messages.






12:04:10,623 ERROR [org.jboss.as.controller.management-operation] (Controller Boot Thread) JBAS014613: Operation ("add") failed - address: ([("deployment" =&amp;gt; "exampleapp.war")]) - failure description: "JBAS010876: No deployment content with hash c1306bc4855f4ed9914c9616f2b999c5c62a79d3 is available in the deployment content repository for deployment &amp;amp;apos;exampleapp.war&amp;amp;apos;. This is a fatal boot error. To correct the problem, either restart with the --admin-only switch set and use the CLI to install the missing content or remove it from the configuration, or remove the deployment from the xml configuraiton file and restart."




12:04:10,628 FATAL [org.jboss.as.host.controller] (Controller Boot Thread) JBAS010933: Host Controller boot has failed in an unrecoverable manner; exiting. See previous messages for details.






The domain controller should be independent from such a server specific issue and there should be a way to fix this via CLI or Console, not by a manual editing of domain.xml.</description>
			<version>8.0.0.Alpha4</version>
			<fixedVersion></fixedVersion>
			<type>Bug</type>
		</buginformation>
		<fixedFiles>
			<file type="M">org.jboss.as.server.deployment.DeploymentFullReplaceHandler.java</file>
			<file type="M">org.jboss.as.domain.controller.operations.deployment.DeploymentFullReplaceHandler.java</file>
		</fixedFiles>
		<links>
			<link type="Duplicate" description="is duplicated by">2420</link>
		</links>
	</bug>
	<bug id="2420" opendate="2013-10-30 23:04:52" fixdate="2013-11-04 16:19:25" resolution="Done">
		<buginformation>
			<summary>Domain controller fails to restart due to an inconsistent rollback of a redeploy</summary>
			<description>Osamu Nagano reports:
When you try to redeploy (or deploy with --force option) the same application which has the same contents hash, and a necessary dependency like a datasource beeing injected in the application is lost by some reason, the redeploy operation will delete the contents under $JBOSS_HOME/domain/data/content directory but won&amp;amp;apos;t delete entries in domain.xml. Then the domain controller fails to start up because no contents found in the directory. This likely happens when you frequently changes settings during other servers shutting down.
The domain controller fails to restart with the following log messages.

12:04:10,623 ERROR [org.jboss.as.controller.management-operation] (Controller Boot Thread) JBAS014613: Operation ("add") failed - address: ([("deployment" =&amp;gt; "exampleapp.war")]) - failure description: "JBAS010876: No deployment content with hash c1306bc4855f4ed9914c9616f2b999c5c62a79d3 is available in the deployment content repository for deployment &amp;amp;apos;exampleapp.war&amp;amp;apos;. This is a fatal boot error. To correct the problem, either restart with the --admin-only switch set and use the CLI to install the missing content or remove it from the configuration, or remove the deployment from the xml configuraiton file and restart."
12:04:10,628 FATAL [org.jboss.as.host.controller] (Controller Boot Thread) JBAS010933: Host Controller boot has failed in an unrecoverable manner; exiting. See previous messages for details.

The domain controller should be independent from such a server specific issue and there should be a way to fix this via CLI or Console, not by a manual editing of domain.xml.</description>
			<version>8.0.0.Beta1</version>
			<fixedVersion>8.0.0.CR1</fixedVersion>
			<type>Bug</type>
		</buginformation>
		<fixedFiles>
			<file type="M">org.jboss.as.server.deployment.DeploymentFullReplaceHandler.java</file>
			<file type="M">org.jboss.as.domain.controller.operations.deployment.DeploymentFullReplaceHandler.java</file>
		</fixedFiles>
		<links>
			<link type="Duplicate" description="duplicates">2352</link>
		</links>
	</bug>
	<bug id="2214" opendate="2013-10-03 21:06:58" fixdate="2013-11-05 16:10:36" resolution="Done">
		<buginformation>
			<summary>Allow additional environment properties to be set for outbound LDAP connections used by security realms.</summary>
			<description>LDAP security realm needs to have configurable timeouts.
The default LDAP connection timeout appears to be 2 minutes.  If the ldap server is down, it could take 2 minutes for the connection to timeout.  This can cause unneeded delay if you have configured multiple ldap servers for  failover / redundancy.
The following hack appears to work:
+++ domain-management/src/main/java/org/jboss/as/domain/management/connections/ldap/LdapConnectionManagerService.java
@@ -132,6 +132,7 @@ public class LdapConnectionManagerService implements Service&amp;lt;LdapConnectionManag
         result.put(Context.INITIAL_CONTEXT_FACTORY,initialContextFactory);
         String url = config.require(URL).asString();
         result.put(Context.PROVIDER_URL,url);
+        result.put("com.sun.jndi.ldap.connect.timeout", "500");
         return result;
     }</description>
			<version>8.0.0.Alpha4</version>
			<fixedVersion>8.0.0.CR1</fixedVersion>
			<type>Bug</type>
		</buginformation>
		<fixedFiles>
			<file type="M">org.jboss.as.domain.management.connections.ldap.LdapConnectionManagerService.java</file>
			<file type="M">org.jboss.as.domain.management.parsing.ManagementXml.java</file>
			<file type="M">org.jboss.as.domain.management.connections.ldap.LdapConnectionResourceDefinition.java</file>
		</fixedFiles>
		<links>
			<link type="Related" description="relates to">997</link>
			<link type="Related" description="relates to">1126</link>
		</links>
	</bug>
	<bug id="2438" opendate="2013-11-05 06:08:38" fixdate="2013-11-06 03:14:34" resolution="Done">
		<buginformation>
			<summary>Missing/unavailable dependencie jboss.ejb.view-method-security-attributes.foo.bar when deploy ejb type webservice</summary>
			<description>Exception is thrown when deploy an ejb webservice without the security domain defined : 
11:34:18,075 ERROR [org.jboss.as.server] (DeploymentScanner-threads - 1) JBAS015870: Deploy of deployment "WSJarDeploy.jar" was rolled back with the following failure message: 
{"JBAS014771: Services with missing/unavailable dependencies" =&amp;gt; ["jboss.ws.endpoint.\"WSJar.jar\".WSJar is missing [jboss.ejb.view-method-security-attributes.WSJar_component.WSJar_component.WSJar.\"org.jboss.ws.HelloWsBean\"]"]}</description>
			<version>8.0.0.Beta1</version>
			<fixedVersion>8.0.0.CR1</fixedVersion>
			<type>Bug</type>
		</buginformation>
		<fixedFiles>
			<file type="M">org.jboss.as.webservices.security.EJBMethodSecurityAttributesAdaptor.java</file>
			<file type="M">org.jboss.as.webservices.service.EndpointService.java</file>
		</fixedFiles>
	</bug>
	<bug id="2141" opendate="2013-09-24 08:34:54" fixdate="2013-11-06 05:50:22" resolution="Done">
		<buginformation>
			<summary>Unexpected non-integer input in vault.sh causes error</summary>
			<description>Execute bin/vault.sh, then input a non-integer parameter cause:






Exception in thread "main" java.util.InputMismatchException




	at java.util.Scanner.throwFor(Scanner.java:909)




	at java.util.Scanner.next(Scanner.java:1530)




	at java.util.Scanner.nextInt(Scanner.java:2160)




	at java.util.Scanner.nextInt(Scanner.java:2119)




	at org.jboss.as.security.vault.VaultTool.main(VaultTool.java:109)




	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)




	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:57)




	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)




	at java.lang.reflect.Method.invoke(Method.java:606)




	at org.jboss.modules.Module.run(Module.java:292)




	at org.jboss.modules.Main.main(Main.java:455)






Because VaultTool.main() only scans next token of the input as an int, better catch the InputMismatchException and exit peacefully as default action.</description>
			<version>8.0.0.Alpha4</version>
			<fixedVersion>8.0.0.Beta1</fixedVersion>
			<type>Bug</type>
		</buginformation>
		<fixedFiles>
			<file type="M">org.jboss.as.security.vault.VaultTool.java</file>
		</fixedFiles>
	</bug>
	<bug id="1509" opendate="2013-06-12 17:16:55" fixdate="2013-11-06 19:03:24" resolution="Done">
		<buginformation>
			<summary>Test transformation of jmx audit log resources against AS 7.2.0 (ModelVersion 1.2.0)</summary>
			<description>Do this once the artifacts are uploaded to maven, or the subsystem test stuff is changed to be able to use the internal maven repository for certain tests</description>
			<version>8.0.0.Alpha1</version>
			<fixedVersion>8.0.0.CR1</fixedVersion>
			<type>Bug</type>
		</buginformation>
		<fixedFiles>
			<file type="M">org.jboss.as.jmx.JMXSubsystemTestCase.java</file>
			<file type="M">org.jboss.as.jmx.JMXExtension.java</file>
		</fixedFiles>
		<links>
			<link type="Duplicate" description="duplicates">2237</link>
		</links>
	</bug>
	<bug id="2371" opendate="2013-10-24 06:43:39" fixdate="2013-11-07 14:39:36" resolution="Done">
		<buginformation>
			<summary>SizeRotatingHandlerTestCase.rotationTest fails with "the file is bigger than allowed size"</summary>
			<description>The test org.jboss.as.test.integration.logging.operations.SizeRotatingHandlerTestCase.rotationTest consistently fails with:
java.lang.AssertionError: This file is bigger than allowed rotate-size: size-rotating-reload-rotationTest.log.1
Link to job:
https://jenkins.mw.lab.eng.bos.redhat.com/job/eap-6x-manu-acceptance-as-ts-RHEL6_x86-oracleJDK6-srczip/25/testReport/junit/org.jboss.as.test.integration.logging.operations/SizeRotatingHandlerTestCase/rotationTest/</description>
			<version>8.0.0.Beta1</version>
			<fixedVersion></fixedVersion>
			<type>Bug</type>
		</buginformation>
		<fixedFiles>
			<file type="M">org.jboss.as.test.integration.logging.operations.SizeRotatingHandlerTestCase.java</file>
		</fixedFiles>
	</bug>
	<bug id="2174" opendate="2013-09-27 20:45:24" fixdate="2013-11-11 16:34:59" resolution="Done">
		<buginformation>
			<summary>Intermittent failures in DomainControllerMigrationTestCase</summary>
			<description>For example:
java.lang.RuntimeException: "JBAS010839: Operation failed or was rolled back on all servers."
    at org.jboss.as.test.integration.domain.management.util.DomainLifecycleUtil.executeForResult(DomainLifecycleUtil.java:582)
    at org.jboss.as.test.integration.domain.DomainControllerMigrationTestCase.testDCFailover(DomainControllerMigrationTestCase.java:206)
With this in the logs:
[Host Controller] 14:51:08,996 INFO  [org.jboss.as] (Controller Boot Thread) JBAS015874: JBoss EAP 6.2.0.Alpha1 (AS 7.3.0.Final-redhat-SNAPSHOT) (Host Controller) started in 829ms - Started 12 of 12 services (0 services are passive or on-demand)
[Server:failover-two] 14:51:10,113 INFO  [org.jboss.as.server.deployment] (MSC service thread 1-2) JBAS015876: Starting deployment of "SimpleServlet.war" (runtime-name: "SimpleServlet.war")
[Host Controller] 14:51:10,377 INFO  [org.jboss.as.domain.controller.mgmt] (Remoting "failover-h3:MANAGEMENT" task-2) JBAS010920: Server [Server:failover-three] registered using connection [Channel ID 7e979de4 (inbound) of Remoting connection 00429bb7 to /127.0.0.1:53634]
[Host Controller] 14:51:11,185 ERROR [org.jboss.as.controller.management-operation] (domain-connection-threads - 2) JBAS014612: Operation ("composite") failed - address: ([
[Host Controller]     ("host" =&amp;gt; "failover-h3"),
[Host Controller]     ("server" =&amp;gt; "failover-three")
[Host Controller] ]): java.lang.RuntimeException: java.io.IOException: JBAS012175: Channel closed
[Host Controller]     at org.jboss.as.controller.remote.RemoteProxyController.execute(RemoteProxyController.java:203) [jboss-as-controller-7.3.0.Final-redhat-SNAPSHOT.jar:7.3.0.Final-redhat-SNAPSHOT]
[Host Controller]     at org.jboss.as.controller.TransformingProxyController$TransformingProxyControllerImpl.execute(TransformingProxyController.java:149) [jboss-as-controller-7.3.0.Final-redhat-SNAPSHOT.jar:7.3.0.Final-redhat-SNAPSHOT]
[Host Controller]     at org.jboss.as.controller.ProxyStepHandler.execute(ProxyStepHandler.java:130) [jboss-as-controller-7.3.0.Final-redhat-SNAPSHOT.jar:7.3.0.Final-redhat-SNAPSHOT]
[Host Controller]     at org.jboss.as.controller.AbstractOperationContext.executeStep(AbstractOperationContext.java:624) [jboss-as-controller-7.3.0.Final-redhat-SNAPSHOT.jar:7.3.0.Final-redhat-SNAPSHOT]
.....
[Host Controller] Caused by: java.io.IOException: JBAS012175: Channel closed
[Host Controller]     at org.jboss.as.host.controller.ManagedServerProxy$DisconnectedProtocolClient.execute(ManagedServerProxy.java:114)
[Host Controller]     at org.jboss.as.host.controller.ManagedServerProxy.execute(ManagedServerProxy.java:92)
[Host Controller]     at org.jboss.as.host.controller.ManagedServerProxy.execute(ManagedServerProxy.java:80)
[Host Controller]     at org.jboss.as.controller.remote.RemoteProxyController.execute(RemoteProxyController.java:159) [jboss-as-controller-7.3.0.Final-redhat-SNAPSHOT.jar:7.3.0.Final-redhat-SNAPSHOT]
[Host Controller]     ... 23 more
I believe what is going on here is the test is hitting expected behavior. It restarts an HC without restarting the servers. When the HC is reloaded, it is aware that it has disconnected servers. While it awaits reconnect, any attempt to send an op through to the disconnected server will get the exception above.
If my analysis is correct, then the test just needs adjusting to check server status before continuing on. If it&amp;amp;apos;s incorrect and this shouldn&amp;amp;apos;t fail, then we have a bug. A 3rd option is it&amp;amp;apos;s correct, but the behavior is bad.</description>
			<version>8.0.0.Alpha4</version>
			<fixedVersion>8.0.0.CR1</fixedVersion>
			<type>Bug</type>
		</buginformation>
		<fixedFiles>
			<file type="M">org.jboss.as.test.integration.domain.management.util.DomainLifecycleUtil.java</file>
			<file type="M">org.jboss.as.host.controller.operations.ServerStatusHandler.java</file>
		</fixedFiles>
	</bug>
	<bug id="2401" opendate="2013-10-29 07:58:40" fixdate="2013-11-12 12:56:42" resolution="Done">
		<buginformation>
			<summary>org.jboss.as.test.smoke.mgmt.BasicOperationsUnitTestCase fails</summary>
			<description>Running a build of current sources with complete testsuite this test is failing with
testReadAttributeWildcards(org.jboss.as.test.smoke.mgmt.BasicOperationsUnitTestCase)</description>
			<version>8.0.0.Beta1</version>
			<fixedVersion></fixedVersion>
			<type>Bug</type>
		</buginformation>
		<fixedFiles>
			<file type="M">org.jboss.as.test.smoke.mgmt.BasicOperationsUnitTestCase.java</file>
		</fixedFiles>
	</bug>
	<bug id="1999" opendate="2013-09-04 15:33:54" fixdate="2013-11-12 21:51:29" resolution="Done">
		<buginformation>
			<summary>Wrong parsing of modify-trust-store element in jboss-cli.xml</summary>
			<description>The Boolean parsing should be used when configuring modifyTrustStore flag and not reading system property:






config.setModifyTrustStore(Boolean.getBoolean(reader.getElementText()));





</description>
			<version>8.0.0.Alpha4</version>
			<fixedVersion>8.0.0.CR1</fixedVersion>
			<type>Bug</type>
		</buginformation>
		<fixedFiles>
			<file type="M">org.jboss.as.cli.impl.CliConfigImpl.java</file>
		</fixedFiles>
	</bug>
	<bug id="1571" opendate="2013-06-21 13:14:41" fixdate="2013-11-12 21:58:05" resolution="Done">
		<buginformation>
			<summary>Seam 2 applications can&amp;apos;t deploy on WildFly</summary>
			<description>Seam 2 applications currently can&amp;amp;apos;t be deployed to WildFly due to errors in deployment scanning.






08:51:55,656 INFO  [javax.servlet.ServletContextListener] (MSC service thread 1-10) Welcome to Seam 2.3.1.CR1




08:51:55,673 WARN  [org.jboss.seam.util.Resources] (MSC service thread 1-10) Unable to determine real path from servlet context for "/WEB-INF/dev" path does not exist.




08:51:55,688 WARN  [org.jboss.seam.deployment.URLScanner] (MSC service thread 1-10) could not read entries: java.io.FileNotFoundException: /content/seam-blog.ear/jboss-seam.jar (No such file or directory)




	at java.util.zip.ZipFile.open(Native Method) [rt.jar:1.7.0_17]




	at java.util.zip.ZipFile.&amp;lt;init&amp;gt;(ZipFile.java:214) [rt.jar:1.7.0_17]




	at java.util.zip.ZipFile.&amp;lt;init&amp;gt;(ZipFile.java:144) [rt.jar:1.7.0_17]




	at java.util.zip.ZipFile.&amp;lt;init&amp;gt;(ZipFile.java:158) [rt.jar:1.7.0_17]




	at org.jboss.seam.deployment.URLScanner.handleArchiveByFile(URLScanner.java:123) [jboss-seam.jar:2.3.1.CR1]




	at org.jboss.seam.deployment.URLScanner.handle(URLScanner.java:107) [jboss-seam.jar:2.3.1.CR1]




	at org.jboss.seam.deployment.URLScanner.scanResources(URLScanner.java:90) [jboss-seam.jar:2.3.1.CR1]




	at org.jboss.seam.deployment.StandardDeploymentStrategy.scan(StandardDeploymentStrategy.java:119) [jboss-seam.jar:2.3.1.CR1]




	at org.jboss.seam.init.Initialization.create(Initialization.java:131) [jboss-seam.jar:2.3.1.CR1]




	at org.jboss.seam.servlet.SeamListener.contextInitialized(SeamListener.java:36) [jboss-seam.jar:2.3.1.CR1]




	at io.undertow.servlet.core.ApplicationListeners.contextInitialized(ApplicationListeners.java:127) [undertow-servlet-1.0.0.Alpha15.jar:1.0.0.Alpha15]




	at io.undertow.servlet.core.DeploymentManagerImpl.deploy(DeploymentManagerImpl.java:172) [undertow-servlet-1.0.0.Alpha15.jar:1.0.0.Alpha15]




	at org.wildfly.extension.undertow.deployment.UndertowDeploymentService.start(UndertowDeploymentService.java:75)




	at org.jboss.msc.service.ServiceControllerImpl$StartTask.startService(ServiceControllerImpl.java:1974)




	at org.jboss.msc.service.ServiceControllerImpl$StartTask.run(ServiceControllerImpl.java:1907)




	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1145) [rt.jar:1.7.0_17]




	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:615) [rt.jar:1.7.0_17]




	at java.lang.Thread.run(Thread.java:722) [rt.jar:1.7.0_17]









08:51:55,690 WARN  [org.jboss.seam.deployment.URLScanner] (MSC service thread 1-10) could not read entries: java.io.FileNotFoundException: /content/seam-blog.ear/blog-ejb.jar (No such file or directory)




	at java.util.zip.ZipFile.open(Native Method) [rt.jar:1.7.0_17]




	at java.util.zip.ZipFile.&amp;lt;init&amp;gt;(ZipFile.java:214) [rt.jar:1.7.0_17]




	at java.util.zip.ZipFile.&amp;lt;init&amp;gt;(ZipFile.java:144) [rt.jar:1.7.0_17]




	at java.util.zip.ZipFile.&amp;lt;init&amp;gt;(ZipFile.java:158) [rt.jar:1.7.0_17]




	at org.jboss.seam.deployment.URLScanner.handleArchiveByFile(URLScanner.java:123) [jboss-seam.jar:2.3.1.CR1]




	at org.jboss.seam.deployment.URLScanner.handle(URLScanner.java:107) [jboss-seam.jar:2.3.1.CR1]




	at org.jboss.seam.deployment.URLScanner.scanResources(URLScanner.java:90) [jboss-seam.jar:2.3.1.CR1]




	at org.jboss.seam.deployment.StandardDeploymentStrategy.scan(StandardDeploymentStrategy.java:119) [jboss-seam.jar:2.3.1.CR1]




	at org.jboss.seam.init.Initialization.create(Initialization.java:131) [jboss-seam.jar:2.3.1.CR1]




	at org.jboss.seam.servlet.SeamListener.contextInitialized(SeamListener.java:36) [jboss-seam.jar:2.3.1.CR1]




	at io.undertow.servlet.core.ApplicationListeners.contextInitialized(ApplicationListeners.java:127) [undertow-servlet-1.0.0.Alpha15.jar:1.0.0.Alpha15]




	at io.undertow.servlet.core.DeploymentManagerImpl.deploy(DeploymentManagerImpl.java:172) [undertow-servlet-1.0.0.Alpha15.jar:1.0.0.Alpha15]




	at org.wildfly.extension.undertow.deployment.UndertowDeploymentService.start(UndertowDeploymentService.java:75)




	at org.jboss.msc.service.ServiceControllerImpl$StartTask.startService(ServiceControllerImpl.java:1974)




	at org.jboss.msc.service.ServiceControllerImpl$StartTask.run(ServiceControllerImpl.java:1907)




	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1145) [rt.jar:1.7.0_17]




	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:615) [rt.jar:1.7.0_17]




	at java.lang.Thread.run(Thread.java:722) [rt.jar:1.7.0_17]









08:51:55,692 WARN  [org.jboss.seam.deployment.URLScanner] (MSC service thread 1-10) could not read entries: java.io.FileNotFoundException: /content/seam-blog.ear/blog-web.war/WEB-INF/lib/jboss-seam-ui-2.3.1.CR1.jar (No such file or directory)




	at java.util.zip.ZipFile.open(Native Method) [rt.jar:1.7.0_17]




	at java.util.zip.ZipFile.&amp;lt;init&amp;gt;(ZipFile.java:214) [rt.jar:1.7.0_17]




	at java.util.zip.ZipFile.&amp;lt;init&amp;gt;(ZipFile.java:144) [rt.jar:1.7.0_17]




	at java.util.zip.ZipFile.&amp;lt;init&amp;gt;(ZipFile.java:158) [rt.jar:1.7.0_17]




	at org.jboss.seam.deployment.URLScanner.handleArchiveByFile(URLScanner.java:123) [jboss-seam.jar:2.3.1.CR1]




	at org.jboss.seam.deployment.URLScanner.handle(URLScanner.java:107) [jboss-seam.jar:2.3.1.CR1]




	at org.jboss.seam.deployment.URLScanner.scanResources(URLScanner.java:90) [jboss-seam.jar:2.3.1.CR1]




	at org.jboss.seam.deployment.StandardDeploymentStrategy.scan(StandardDeploymentStrategy.java:119) [jboss-seam.jar:2.3.1.CR1]




	at org.jboss.seam.init.Initialization.create(Initialization.java:131) [jboss-seam.jar:2.3.1.CR1]




	at org.jboss.seam.servlet.SeamListener.contextInitialized(SeamListener.java:36) [jboss-seam.jar:2.3.1.CR1]




	at io.undertow.servlet.core.ApplicationListeners.contextInitialized(ApplicationListeners.java:127) [undertow-servlet-1.0.0.Alpha15.jar:1.0.0.Alpha15]




	at io.undertow.servlet.core.DeploymentManagerImpl.deploy(DeploymentManagerImpl.java:172) [undertow-servlet-1.0.0.Alpha15.jar:1.0.0.Alpha15]




	at org.wildfly.extension.undertow.deployment.UndertowDeploymentService.start(UndertowDeploymentService.java:75)




	at org.jboss.msc.service.ServiceControllerImpl$StartTask.startService(ServiceControllerImpl.java:1974)




	at org.jboss.msc.service.ServiceControllerImpl$StartTask.run(ServiceControllerImpl.java:1907)




	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1145) [rt.jar:1.7.0_17]




	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:615) [rt.jar:1.7.0_17]




	at java.lang.Thread.run(Thread.java:722) [rt.jar:1.7.0_17]









08:51:55,694 INFO  [org.jboss.seam.init.Initialization] (MSC service thread 1-10) reading /WEB-INF/components.xml




08:51:55,727 INFO  [org.jboss.seam.init.Initialization] (MSC service thread 1-10) reading properties from: /seam.properties




08:51:55,749 INFO  [org.jboss.seam.Component] (MSC service thread 1-10) Component: org.jboss.seam.core.init, scope: APPLICATION, type: JAVA_BEAN, class: org.jboss.seam.core.Init




08:51:55,766 INFO  [org.jboss.seam.Component] (MSC service thread 1-10) Component: org.jboss.seam.async.dispatcher, scope: STATELESS, type: STATELESS_SESSION_BEAN, class: org.jboss.seam.async.TimerServiceDispatcher, JNDI: java:app/jboss-seam/TimerServiceDispatcher




08:51:55,789 ERROR [org.jboss.msc.service.fail] (MSC service thread 1-10) MSC000001: Failed to start service jboss.undertow.deployment.default-host./seam-blog: org.jboss.msc.service.StartException in service jboss.undertow.deployment.default-host./seam-blog: Failed to start service




	at org.jboss.msc.service.ServiceControllerImpl$StartTask.run(ServiceControllerImpl.java:1930) [jboss-msc-1.1.2.Final.jar:1.1.2.Final]




	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1145) [rt.jar:1.7.0_17]




	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:615) [rt.jar:1.7.0_17]




	at java.lang.Thread.run(Thread.java:722) [rt.jar:1.7.0_17]




Caused by: java.lang.RuntimeException: java.lang.NullPointerException




	at io.undertow.servlet.core.DeploymentManagerImpl.deploy(DeploymentManagerImpl.java:194)




	at org.wildfly.extension.undertow.deployment.UndertowDeploymentService.start(UndertowDeploymentService.java:75)




	at org.jboss.msc.service.ServiceControllerImpl$StartTask.startService(ServiceControllerImpl.java:1974) [jboss-msc-1.1.2.Final.jar:1.1.2.Final]




	at org.jboss.msc.service.ServiceControllerImpl$StartTask.run(ServiceControllerImpl.java:1907) [jboss-msc-1.1.2.Final.jar:1.1.2.Final]




	... 3 more




Caused by: java.lang.NullPointerException




	at org.jboss.seam.contexts.ServletLifecycle.endInitialization(ServletLifecycle.java:145)




	at org.jboss.seam.init.Initialization.init(Initialization.java:813)




	at org.jboss.seam.servlet.SeamListener.contextInitialized(SeamListener.java:36)




	at io.undertow.servlet.core.ApplicationListeners.contextInitialized(ApplicationListeners.java:127)




	at io.undertow.servlet.core.DeploymentManagerImpl.deploy(DeploymentManagerImpl.java:172)




	... 6 more









08:51:55,798 ERROR [org.jboss.as.controller.management-operation] (management-handler-thread - 1) JBAS014613: Operation ("deploy") failed - address: ({"deployment" =&amp;gt; "seam-blog.ear"}) - failure description: {




    "JBAS014671: Failed services" =&amp;gt; {"jboss.undertow.deployment.default-host./seam-blog" =&amp;gt; "org.jboss.msc.service.StartException in service jboss.undertow.deployment.default-host./seam-blog: Failed to start service




    Caused by: java.lang.RuntimeException: java.lang.NullPointerException




    Caused by: java.lang.NullPointerException"},




    "JBAS014771: Services with missing/unavailable dependencies" =&amp;gt; [




        "jboss.naming.context.java.comp.seam-blog.jboss-seam.TimerServiceDispatcher.InstanceName is missing [jboss.naming.context.java.comp.seam-blog.jboss-seam.TimerServiceDispatcher]",




        "jboss.naming.context.java.comp.seam-blog.jboss-seam.TimerServiceDispatcher.ORB is missing [jboss.naming.context.java.comp.seam-blog.jboss-seam.TimerServiceDispatcher]",




        "jboss.naming.context.java.comp.seam-blog.jboss-seam.TimerServiceDispatcher.InAppClientContainer is missing [jboss.naming.context.java.comp.seam-blog.jboss-seam.TimerServiceDispatcher]",




        "jboss.naming.context.java.comp.seam-blog.jboss-seam.TimerServiceDispatcher.Validator is missing [jboss.naming.context.java.comp.seam-blog.jboss-seam.TimerServiceDispatcher]",




        "jboss.naming.context.java.comp.seam-blog.jboss-seam.EjbSynchronizations.HandleDelegate is missing [jboss.naming.context.java.comp.seam-blog.jboss-seam.EjbSynchronizations]",




        "jboss.naming.context.java.comp.seam-blog.jboss-seam.EjbSynchronizations.InAppClientContainer is missing [jboss.naming.context.java.comp.seam-blog.jboss-seam.EjbSynchronizations]",




        "jboss.naming.context.java.comp.seam-blog.jboss-seam.TimerServiceDispatcher.ValidatorFactory is missing [jboss.naming.context.java.comp.seam-blog.jboss-seam.TimerServiceDispatcher]",




        "jboss.deployment.unit.\"seam-blog.ear\".deploymentCompleteService is missing [jboss.deployment.subunit.\"seam-blog.ear\".\"jboss-seam.jar\".deploymentCompleteService]",




        "jboss.naming.context.java.comp.seam-blog.jboss-seam.EjbSynchronizations.ValidatorFactory is missing [jboss.naming.context.java.comp.seam-blog.jboss-seam.EjbSynchronizations]",




        "jboss.naming.context.java.comp.seam-blog.jboss-seam.TimerServiceDispatcher.HandleDelegate is missing [jboss.naming.context.java.comp.seam-blog.jboss-seam.TimerServiceDispatcher]",




        "jboss.naming.context.java.comp.seam-blog.jboss-seam.EjbSynchronizations.ORB is missing [jboss.naming.context.java.comp.seam-blog.jboss-seam.EjbSynchronizations]",




        "jboss.naming.context.java.comp.seam-blog.jboss-seam.EjbSynchronizations.InstanceName is missing [jboss.naming.context.java.comp.seam-blog.jboss-seam.EjbSynchronizations]",




        "jboss.naming.context.java.comp.seam-blog.jboss-seam.EjbSynchronizations.Validator is missing [jboss.naming.context.java.comp.seam-blog.jboss-seam.EjbSynchronizations]"




    ]




}




08:51:55,810 ERROR [org.jboss.as.server] (management-handler-thread - 1) JBAS015870: Deploy of deployment "seam-blog.ear" was rolled back with the following failure message: 




{




    "JBAS014671: Failed services" =&amp;gt; {"jboss.undertow.deployment.default-host./seam-blog" =&amp;gt; "org.jboss.msc.service.StartException in service jboss.undertow.deployment.default-host./seam-blog: Failed to start service




    Caused by: java.lang.RuntimeException: java.lang.NullPointerException




    Caused by: java.lang.NullPointerException"},




    "JBAS014771: Services with missing/unavailable dependencies" =&amp;gt; [




        "jboss.naming.context.java.comp.seam-blog.jboss-seam.TimerServiceDispatcher.InstanceName is missing [jboss.naming.context.java.comp.seam-blog.jboss-seam.TimerServiceDispatcher]",




        "jboss.naming.context.java.comp.seam-blog.jboss-seam.TimerServiceDispatcher.ORB is missing [jboss.naming.context.java.comp.seam-blog.jboss-seam.TimerServiceDispatcher]",




        "jboss.naming.context.java.comp.seam-blog.jboss-seam.TimerServiceDispatcher.InAppClientContainer is missing [jboss.naming.context.java.comp.seam-blog.jboss-seam.TimerServiceDispatcher]",




        "jboss.naming.context.java.comp.seam-blog.jboss-seam.TimerServiceDispatcher.Validator is missing [jboss.naming.context.java.comp.seam-blog.jboss-seam.TimerServiceDispatcher]",




        "jboss.naming.context.java.comp.seam-blog.jboss-seam.EjbSynchronizations.HandleDelegate is missing [jboss.naming.context.java.comp.seam-blog.jboss-seam.EjbSynchronizations]",




        "jboss.naming.context.java.comp.seam-blog.jboss-seam.EjbSynchronizations.InAppClientContainer is missing [jboss.naming.context.java.comp.seam-blog.jboss-seam.EjbSynchronizations]",




        "jboss.naming.context.java.comp.seam-blog.jboss-seam.TimerServiceDispatcher.ValidatorFactory is missing [jboss.naming.context.java.comp.seam-blog.jboss-seam.TimerServiceDispatcher]",




        "jboss.deployment.unit.\"seam-blog.ear\".deploymentCompleteService is missing [jboss.deployment.subunit.\"seam-blog.ear\".\"jboss-seam.jar\".deploymentCompleteService]",




        "jboss.naming.context.java.comp.seam-blog.jboss-seam.EjbSynchronizations.ValidatorFactory is missing [jboss.naming.context.java.comp.seam-blog.jboss-seam.EjbSynchronizations]",




        "jboss.naming.context.java.comp.seam-blog.jboss-seam.TimerServiceDispatcher.HandleDelegate is missing [jboss.naming.context.java.comp.seam-blog.jboss-seam.TimerServiceDispatcher]",




        "jboss.naming.context.java.comp.seam-blog.jboss-seam.EjbSynchronizations.ORB is missing [jboss.naming.context.java.comp.seam-blog.jboss-seam.EjbSynchronizations]",




        "jboss.naming.context.java.comp.seam-blog.jboss-seam.EjbSynchronizations.InstanceName is missing [jboss.naming.context.java.comp.seam-blog.jboss-seam.EjbSynchronizations]",




        "jboss.naming.context.java.comp.seam-blog.jboss-seam.EjbSynchronizations.Validator is missing [jboss.naming.context.java.comp.seam-blog.jboss-seam.EjbSynchronizations]"




    ]




}





</description>
			<version>8.0.0.Alpha1</version>
			<fixedVersion>8.0.0.CR1</fixedVersion>
			<type>Bug</type>
		</buginformation>
		<fixedFiles>
			<file type="M">org.jboss.as.server.deployment.integration.Seam2Processor.java</file>
		</fixedFiles>
		<links>
			<link type="Related" description="relates to">5114</link>
		</links>
	</bug>
	<bug id="2354" opendate="2013-10-22 09:10:27" fixdate="2013-11-12 22:02:34" resolution="Done">
		<buginformation>
			<summary>Webservice13 tck failures introduced by ejb3 and security change </summary>
			<description>There 2 tck regression failures under webserivice13 directory in EAP 6.2.0.ER6. 
IT turns out the change[2] introduced this two failures:
[1]https://jenkins.mw.lab.eng.bos.redhat.com/hudson/view/EAP6/view/TCK6-EAP6/job/tck6-eap6-webservices13/lastCompletedBuild/testReport/unknownTestSuite.0/
[2][2]https://github.com/jbossas/jboss-eap/commit/72d5cd3f96540519a9747579dd3b85f0f564b64c
EAP 6.2.0.ER6 sever error message:
------------------------------------------------------------------------------
18:32:00,338 ERROR [org.jboss.as.ejb3.invocation] (http-myserver.com/127.0.0.1:8080-1) JBAS014134: EJB Invocation failed on component WSEjbSingletonTest for method public java.lang.String com.sun.ts.tests.webservices13.ejb.annotations.WSEjbSingletonTest.HelloBean.bye(java.lang.String): javax.ejb.EJBException: java.lang.IllegalStateException: JBAS014485: EJB WSEjbSingletonTest is enabled for security but doesn&amp;amp;apos;t have a security domain set
	at org.jboss.as.ejb3.tx.CMTTxInterceptor.handleExceptionInOurTx(CMTTxInterceptor.java:189) [jboss-as-ejb3-7.3.0.Final-redhat-SNAPSHOT.jar:7.3.0.Final-redhat-SNAPSHOT]</description>
			<version>8.0.0.Beta1</version>
			<fixedVersion>8.0.0.CR1</fixedVersion>
			<type>Bug</type>
		</buginformation>
		<fixedFiles>
			<file type="M">org.jboss.as.ejb3.component.singleton.SingletonComponentDescription.java</file>
		</fixedFiles>
	</bug>
	<bug id="2281" opendate="2013-10-10 18:31:46" fixdate="2013-11-12 22:03:03" resolution="Done">
		<buginformation>
			<summary>Exception from lifecycle callback interceptor method intercepting a session bean gets suppressed without log message</summary>
			<description>From EJB spec., "9.3.3 Exceptions from AroundConstruct, PostConstruct and PreDestroy Lifecycle Callbacks", "Table 11" it follows that the container should log the exception or error thrown by a lifecycle callback interceptor method of a session bean or a message-driven bean.
The thrown throwable gets suppressed. However, I cannot find any sign of it in the server log (using default settings - debug level).
I&amp;amp;apos;m not a spec. expert, but I think if the exception is not logged, it should at least not get suppressed. I made some tests that might be of help (available at https://github.com/bafco/wildfly/commits/WFLY-2281) - according to the spec., they probably don&amp;amp;apos;t have to pass.</description>
			<version>8.0.0.Beta1</version>
			<fixedVersion>8.0.0.CR1</fixedVersion>
			<type>Bug</type>
		</buginformation>
		<fixedFiles>
			<file type="M">org.jboss.as.weld.ejb.Jsr299BindingsInterceptor.java</file>
		</fixedFiles>
	</bug>
	<bug id="2255" opendate="2013-10-08 04:39:21" fixdate="2013-11-12 22:03:49" resolution="Done">
		<buginformation>
			<summary>ManagedAuditLoggerImpl doesn&amp;apos;t replace handlers correctly</summary>
			<description></description>
			<version>8.0.0.Beta1</version>
			<fixedVersion>8.0.0.CR1</fixedVersion>
			<type>Bug</type>
		</buginformation>
		<fixedFiles>
			<file type="M">org.jboss.as.controller.audit.ManagedAuditLoggerImpl.java</file>
		</fixedFiles>
	</bug>
	<bug id="2191" opendate="2013-10-01 13:09:32" fixdate="2013-11-12 22:05:13" resolution="Done">
		<buginformation>
			<summary>Intermittent fail of AdvancedLdapLoginModuleTestCase and SPNEGOLoginModuleTestCase due to java.nio.BufferOverflowException</summary>
			<description>org.jboss.as.test.integration.security.loginmodules.negotiation.AdvancedLdapLoginModuleTestCase and
org.jboss.as.test.integration.security.loginmodules.negotiation.SPNEGOLoginModuleTestCase 
fail intermittently after java.nio.BufferOverflowException in Apache directory server. </description>
			<version>8.0.0.Alpha4</version>
			<fixedVersion>8.0.0.CR1</fixedVersion>
			<type>Bug</type>
		</buginformation>
		<fixedFiles>
			<file type="M">org.jboss.as.domain.management.access.AccessAuthorizationResourceDefinition.java</file>
			<file type="M">org.jboss.as.host.controller.parsing.HostXml.java</file>
		</fixedFiles>
	</bug>
	<bug id="2467" opendate="2013-11-07 20:14:54" fixdate="2013-11-12 22:07:22" resolution="Done">
		<buginformation>
			<summary>Deadlock on startup if configured w/8 transactional Infinispan caches</summary>
			<description>CacheConfigurationService should be installed using AsynchronousService wrapper.</description>
			<version>8.0.0.Beta1</version>
			<fixedVersion>8.0.0.CR1</fixedVersion>
			<type>Bug</type>
		</buginformation>
		<fixedFiles>
			<file type="M">org.jboss.as.clustering.infinispan.subsystem.CacheAdd.java</file>
		</fixedFiles>
	</bug>
	<bug id="2466" opendate="2013-11-07 20:09:49" fixdate="2013-11-12 22:07:41" resolution="Done">
		<buginformation>
			<summary>Remoting subsystem: Concurrent modification exception during server shutdown</summary>
			<description>Jitka Kozana reports that the following exception was sometimes logged during server shutdown:
[0m[33m01:46:29,696 WARN  [org.jboss.msc.service.fail] (MSC service thread 1-55) MSC000004: Failure during stop of service jboss.remoting.endpoint.management.channel.management: java.util.ConcurrentModificationException
	at java.util.HashMap$HashIterator.nextEntry(HashMap.java:793) [rt.jar:1.6.0_45]
	at java.util.HashMap$KeyIterator.next(HashMap.java:828) [rt.jar:1.6.0_45]
	at java.util.AbstractCollection.addAll(AbstractCollection.java:305) [rt.jar:1.6.0_45]
	at java.util.HashSet.&amp;lt;init&amp;gt;(HashSet.java:100) [rt.jar:1.6.0_45]
	at org.jboss.as.remoting.AbstractChannelOpenListenerService.stop(AbstractChannelOpenListenerService.java:123)
	at org.jboss.msc.service.ServiceControllerImpl$StopTask.stopService(ServiceControllerImpl.java:1911) [jboss-msc-1.0.4.GA-redhat-1.jar:1.0.4.GA-redhat-1]
	at org.jboss.msc.service.ServiceControllerImpl$StopTask.run(ServiceControllerImpl.java:1874) [jboss-msc-1.0.4.GA-redhat-1.jar:1.0.4.GA-redhat-1]
	at java.util.concurrent.ThreadPoolExecutor$Worker.runTask(ThreadPoolExecutor.java:895) [rt.jar:1.6.0_45]
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:918) [rt.jar:1.6.0_45]
	at java.lang.Thread.run(Thread.java:662) [rt.jar:1.6.0_45]</description>
			<version>8.0.0.Beta1</version>
			<fixedVersion>8.0.0.CR1</fixedVersion>
			<type>Bug</type>
		</buginformation>
		<fixedFiles>
			<file type="M">org.jboss.as.remoting.AbstractChannelOpenListenerService.java</file>
		</fixedFiles>
	</bug>
	<bug id="2458" opendate="2013-11-07 10:50:39" fixdate="2013-11-12 22:11:36" resolution="Done">
		<buginformation>
			<summary>Re-deployment of a clustered application fail due to race-condition with infinispan</summary>
			<description>If a clustered application should be redeployed it looks like that infinispan is not able to stop complete until the deployer finish undeployment and start to deploy the new application. See the Exception below.
The behaviour is the same for managed or unmanged deployments.
If it is unmanaged the .failed marker file exists.
After the failure the application is shown in the mgmt console without deployed Beans.
A second deploy attempt will be successfull
11:22:36,397 INFO  [org.infinispan.remoting.transport.jgroups.JGroupsTransport] (Incoming-1,shared=udp) ISPN000094: Received new cluster view: [home/ejb|1] (2) [home/ejb, node2/ejb]
11:22:52,746 INFO  [org.jboss.weld.deployer] (MSC service thread 1-11) JBAS016009: Stopping weld service for deployment appone.ear
11:22:52,751 INFO  [org.infinispan.eviction.PassivationManagerImpl] (ServerService Thread Pool  58) ISPN000029: Passivating all entries to disk
11:22:52,752 INFO  [org.infinispan.eviction.PassivationManagerImpl] (ServerService Thread Pool  58) ISPN000030: Passivated 0 entries in 0 milliseconds
11:22:52,759 INFO  [org.jboss.as.clustering.infinispan] (ServerService Thread Pool  58) JBAS010282: Stopped repl cache from ejb container
11:22:52,765 INFO  [org.jboss.as.clustering.infinispan] (ServerService Thread Pool  60) JBAS010282: Stopped remote-connector-client-mappings cache from ejb container
11:22:52,768 INFO  [org.infinispan.remoting.transport.jgroups.JGroupsTransport] (MSC service thread 1-6) ISPN000080: Disconnecting and closing JGroups Channel
11:22:52,771 INFO  [org.jboss.as.server.deployment] (MSC service thread 1-3) JBAS015877: Stopped deployment null (runtime-name: ejb.jar) in 36ms
11:22:52,772 INFO  [org.jboss.as.server.deployment] (MSC service thread 1-11) JBAS015877: Stopped deployment appone.ear (runtime-name: appone.ear) in 39ms
11:22:52,773 INFO  [org.jboss.as.server.deployment] (MSC service thread 1-5) JBAS015876: Starting deployment of "appone.ear" (runtime-name: "appone.ear")
11:22:52,778 INFO  [org.jboss.as.server.deployment] (MSC service thread 1-4) JBAS015876: Starting deployment of "null" (runtime-name: "ejb.jar")
11:22:52,792 INFO  [org.jboss.weld.deployer] (MSC service thread 1-12) JBAS016002: Processing weld deployment appone.ear
11:22:52,803 INFO  [org.jboss.weld.deployer] (MSC service thread 1-5) JBAS016002: Processing weld deployment ejb.jar
11:22:52,805 INFO  [org.jboss.as.ejb3.deployment.processors.EjbJndiBindingsDeploymentUnitProcessor] (MSC service thread 1-5) JNDI bindings for session bean named AppOneBean in deployment unit subdeployment "ejb.jar" of deployment "appone.ear" are as follows:
	java:global/appone/ejb/AppOneBean!org.jboss.as.quickstarts.ejb.multi.server.app.AppOne
	java:app/ejb/AppOneBean!org.jboss.as.quickstarts.ejb.multi.server.app.AppOne
	java:module/AppOneBean!org.jboss.as.quickstarts.ejb.multi.server.app.AppOne
	java:jboss/exported/appone/ejb/AppOneBean!org.jboss.as.quickstarts.ejb.multi.server.app.AppOne
	java:global/appone/ejb/AppOneBean
	java:app/ejb/AppOneBean
	java:module/AppOneBean
11:22:52,807 INFO  [org.jboss.weld.deployer] (MSC service thread 1-11) JBAS016005: Starting Services for CDI deployment: appone.ear
11:22:52,811 INFO  [org.jboss.weld.deployer] (MSC service thread 1-3) JBAS016008: Starting weld service for deployment appone.ear
11:22:53,087 INFO  [org.infinispan.remoting.transport.jgroups.JGroupsTransport] (MSC service thread 1-6) ISPN000082: Stopping the RpcDispatcher
11:22:53,118 INFO  [org.infinispan.remoting.transport.jgroups.JGroupsTransport] (ServerService Thread Pool  60) ISPN000078: Starting JGroups Channel
11:22:53,119 ERROR [org.jboss.msc.service.fail] (ServerService Thread Pool  60) MSC000001: Failed to start service jboss.infinispan.ejb.global-component-registry: org.jboss.msc.service.StartException in service jboss.infinispan.ejb.global-component-registry: org.infinispan.manager.EmbeddedCacheManagerStartupException: org.infinispan.commons.CacheException: Unable to invoke method public void org.infinispan.remoting.transport.jgroups.JGroupsTransport.start() on object of type JGroupsTransport
	at org.jboss.as.clustering.msc.AsynchronousService$1.run(AsynchronousService.java:91) [wildfly-clustering-common-8.0.0.Beta2-SNAPSHOT.jar:8.0.0.Beta2-SNAPSHOT]
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1145) [rt.jar:1.7.0_25]
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:615) [rt.jar:1.7.0_25]
	at java.lang.Thread.run(Thread.java:724) [rt.jar:1.7.0_25]
	at org.jboss.threads.JBossThread.run(JBossThread.java:122) [jboss-threads-2.1.1.Final.jar:2.1.1.Final]
Caused by: org.infinispan.manager.EmbeddedCacheManagerStartupException: org.infinispan.commons.CacheException: Unable to invoke method public void org.infinispan.remoting.transport.jgroups.JGroupsTransport.start() on object of type JGroupsTransport
	at org.infinispan.factories.GlobalComponentRegistry.start(GlobalComponentRegistry.java:241)
	at org.jboss.as.clustering.infinispan.subsystem.GlobalComponentRegistryService.start(GlobalComponentRegistryService.java:33)
	at org.jboss.as.clustering.msc.AsynchronousService$1.run(AsynchronousService.java:86) [wildfly-clustering-common-8.0.0.Beta2-SNAPSHOT.jar:8.0.0.Beta2-SNAPSHOT]
	... 4 more
Caused by: org.infinispan.commons.CacheException: Unable to invoke method public void org.infinispan.remoting.transport.jgroups.JGroupsTransport.start() on object of type JGroupsTransport
	at org.infinispan.commons.util.ReflectionUtil.invokeAccessibly(ReflectionUtil.java:185)
	at org.infinispan.factories.AbstractComponentRegistry$PrioritizedMethod.invoke(AbstractComponentRegistry.java:869)
	at org.infinispan.factories.AbstractComponentRegistry.invokeStartMethods(AbstractComponentRegistry.java:638)
	at org.infinispan.factories.AbstractComponentRegistry.internalStart(AbstractComponentRegistry.java:627)
	at org.infinispan.factories.AbstractComponentRegistry.start(AbstractComponentRegistry.java:530)
	at org.infinispan.factories.GlobalComponentRegistry.start(GlobalComponentRegistry.java:219)
	... 6 more
Caused by: org.infinispan.commons.CacheException: Unable to start JGroups Channel
	at org.infinispan.remoting.transport.jgroups.JGroupsTransport.startJGroupsChannelIfNeeded(JGroupsTransport.java:196)
	at org.infinispan.remoting.transport.jgroups.JGroupsTransport.start(JGroupsTransport.java:185)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) [rt.jar:1.7.0_25]
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:57) [rt.jar:1.7.0_25]
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) [rt.jar:1.7.0_25]
	at java.lang.reflect.Method.invoke(Method.java:606) [rt.jar:1.7.0_25]
	at org.infinispan.commons.util.ReflectionUtil.invokeAccessibly(ReflectionUtil.java:183)
	... 11 more
Caused by: java.lang.IllegalStateException: channel is closed
	at org.jgroups.JChannel.checkClosed(JChannel.java:902)
	at org.jgroups.JChannel._preConnect(JChannel.java:522)
	at org.jgroups.JChannel.connect(JChannel.java:284)
	at org.jgroups.JChannel.connect(JChannel.java:275)
	at org.infinispan.remoting.transport.jgroups.JGroupsTransport.startJGroupsChannelIfNeeded(JGroupsTransport.java:194)
	... 17 more
11:22:53,128 INFO  [org.jboss.weld.deployer] (MSC service thread 1-7) JBAS016009: Stopping weld service for deployment appone.ear
11:22:53,137 INFO  [org.jboss.as.server.deployment] (MSC service thread 1-8) JBAS015877: Stopped deployment null (runtime-name: ejb.jar) in 11ms
11:22:53,138 INFO  [org.jboss.as.server.deployment] (MSC service thread 1-3) JBAS015877: Stopped deployment appone.ear (runtime-name: appone.ear) in 12ms
11:22:53,143 INFO  [org.jboss.as.controller] (DeploymentScanner-threads - 1) JBAS014774: Service status report
JBAS014775:    New missing/unsatisfied dependencies:
      service jboss.deployment.subunit."appone.ear"."ejb.jar".component.AppOneBean.CREATE (missing) dependents: [service jboss.deployment.subunit."appone.ear"."ejb.jar".moduleDeploymentRuntimeInformation, service jboss.deployment.subunit."appone.ear"."ejb.jar".component.AppOneBean.START, service jboss.deployment.subunit."appone.ear"."ejb.jar".component.AppOneBean.VIEW."org.jboss.as.quickstarts.ejb.multi.server.app.AppOne".REMOTE] 
      service jboss.deployment.subunit."appone.ear"."ejb.jar".component.AppOneBean.JndiBindingsService (missing) dependents: [service jboss.deployment.subunit."appone.ear"."ejb.jar".jndiDependencyService] 
      service jboss.deployment.subunit."appone.ear"."ejb.jar".component.AppOneBean.START (missing) dependents: [service jboss.deployment.subunit."appone.ear"."ejb.jar".deploymentCompleteService, service jboss.deployment.subunit."appone.ear"."ejb.jar".moduleDeploymentRuntimeInformationStart] 
      service jboss.deployment.subunit."appone.ear"."ejb.jar".component.AppOneBean.VIEW."org.jboss.as.quickstarts.ejb.multi.server.app.AppOne".REMOTE (missing) dependents: [service jboss.deployment.subunit."appone.ear"."ejb.jar".moduleDeploymentRuntimeInformation, service jboss.naming.context.java.module.appone.ejb."AppOneBean!org.jboss.as.quickstarts.ejb.multi.server.app.AppOne", service jboss.naming.context.java.global.appone.ejb.AppOneBean, service jboss.deployment.subunit."appone.ear"."ejb.jar".component.AppOneBean.START, JBAS014799: ... and 5 more ] 
      service jboss.deployment.subunit."appone.ear"."ejb.jar".component.AppOneBean.WeldInstantiator (missing) dependents: [service jboss.deployment.subunit."appone.ear"."ejb.jar".component.AppOneBean.START] 
      service jboss.deployment.subunit."appone.ear"."ejb.jar".component.AppOneBean.ejb.non-functional-timerservice (missing) dependents: [service jboss.deployment.subunit."appone.ear"."ejb.jar".component.AppOneBean.START] 
      service jboss.deployment.subunit."appone.ear"."ejb.jar".deploymentCompleteService (missing) dependents: [service jboss.deployment.unit."appone.ear".deploymentCompleteService] 
      service jboss.deployment.subunit."appone.ear"."ejb.jar".jndiDependencyService (missing) dependents: [service jboss.deployment.subunit."appone.ear"."ejb.jar".component.AppOneBean.START] 
      service jboss.deployment.subunit."appone.ear"."ejb.jar".moduleDeploymentRuntimeInformation (missing) dependents: [service jboss.deployment.subunit."appone.ear"."ejb.jar".component.AppOneBean.START, service jboss.deployment.subunit."appone.ear"."ejb.jar".moduleDeploymentRuntimeInformationStart] 
      service jboss.naming.context.java.app.appone.ejb.AppOneBean (missing) dependents: [service jboss.deployment.subunit."appone.ear"."ejb.jar".component.AppOneBean.JndiBindingsService] 
      service jboss.naming.context.java.app.appone.ejb."AppOneBean!org.jboss.as.quickstarts.ejb.multi.server.app.AppOne" (missing) dependents: [service jboss.deployment.subunit."appone.ear"."ejb.jar".component.AppOneBean.JndiBindingsService] 
      service jboss.naming.context.java.comp.appone.ejb.AppOneBean (missing) dependents: [service jboss.deployment.subunit."appone.ear"."ejb.jar".component.AppOneBean.START] 
      service jboss.naming.context.java.comp.appone.ejb.AppOneBean.BeanManager (missing) dependents: [service jboss.deployment.subunit."appone.ear"."ejb.jar".jndiDependencyService] 
      service jboss.naming.context.java.comp.appone.ejb.AppOneBean.DefaultContextService (missing) dependents: [service jboss.deployment.subunit."appone.ear"."ejb.jar".component.AppOneBean.JndiBindingsService] 
      service jboss.naming.context.java.comp.appone.ejb.AppOneBean.DefaultDataSource (missing) dependents: [service jboss.deployment.subunit."appone.ear"."ejb.jar".component.AppOneBean.JndiBindingsService] 
      service jboss.naming.context.java.comp.appone.ejb.AppOneBean.DefaultManagedExecutorService (missing) dependents: [service jboss.deployment.subunit."appone.ear"."ejb.jar".component.AppOneBean.JndiBindingsService] 
      service jboss.naming.context.java.comp.appone.ejb.AppOneBean.DefaultManagedScheduledExecutorService (missing) dependents: [service jboss.deployment.subunit."appone.ear"."ejb.jar".component.AppOneBean.JndiBindingsService] 
      service jboss.naming.context.java.comp.appone.ejb.AppOneBean.DefaultManagedThreadFactory (missing) dependents: [service jboss.deployment.subunit."appone.ear"."ejb.jar".component.AppOneBean.JndiBindingsService] 
      service jboss.naming.context.java.comp.appone.ejb.AppOneBean.EJBContext (missing) dependents: [service jboss.deployment.subunit."appone.ear"."ejb.jar".component.AppOneBean.JndiBindingsService] 
      service jboss.naming.context.java.comp.appone.ejb.AppOneBean.TimerService (missing) dependents: [service jboss.deployment.subunit."appone.ear"."ejb.jar".component.AppOneBean.JndiBindingsService] 
      service jboss.naming.context.java.comp.appone.ejb.AppOneBean.TransactionSynchronizationRegistry (missing) dependents: [service jboss.deployment.subunit."appone.ear"."ejb.jar".jndiDependencyService] 
      service jboss.naming.context.java.comp.appone.ejb.AppOneBean.UserTransaction (missing) dependents: [service jboss.deployment.subunit."appone.ear"."ejb.jar".jndiDependencyService] 
      service jboss.naming.context.java.comp.appone.ejb.AppOneBean.env (missing) dependents: [service jboss.deployment.subunit."appone.ear"."ejb.jar".component.AppOneBean.JndiBindingsService] 
      service jboss.naming.context.java.comp.appone.ejb.AppOneBean.env."org.jboss.as.quickstarts.ejb.multi.server.app.AppOneBean".context (missing) dependents: [service jboss.deployment.subunit."appone.ear"."ejb.jar".component.AppOneBean.JndiBindingsService, service jboss.deployment.subunit."appone.ear"."ejb.jar".component.AppOneBean.START] 
      service jboss.naming.context.java.global.appone.ejb.AppOneBean (missing) dependents: [service jboss.deployment.subunit."appone.ear"."ejb.jar".component.AppOneBean.JndiBindingsService] 
      service jboss.naming.context.java.global.appone.ejb."AppOneBean!org.jboss.as.quickstarts.ejb.multi.server.app.AppOne" (missing) dependents: [service jboss.deployment.subunit."appone.ear"."ejb.jar".component.AppOneBean.JndiBindingsService] 
      service jboss.naming.context.java.module.appone.ejb.AppOneBean (missing) dependents: [service jboss.deployment.subunit."appone.ear"."ejb.jar".component.AppOneBean.JndiBindingsService] 
      service jboss.naming.context.java.module.appone.ejb."AppOneBean!org.jboss.as.quickstarts.ejb.multi.server.app.AppOne" (missing) dependents: [service jboss.deployment.subunit."appone.ear"."ejb.jar".component.AppOneBean.JndiBindingsService] 
      service jboss.naming.context.java.module.appone.ejb.BeanManager (missing) dependents: [service jboss.deployment.subunit."appone.ear"."ejb.jar".jndiDependencyService] 
      service jboss.naming.context.java.module.appone.ejb.env (missing) dependents: [service jboss.deployment.subunit."appone.ear"."ejb.jar".jndiDependencyService] 
JBAS014777:   Services which failed to start:      service jboss.infinispan.ejb.global-component-registry</description>
			<version>8.0.0.Beta1</version>
			<fixedVersion>8.0.0.CR1</fixedVersion>
			<type>Bug</type>
		</buginformation>
		<fixedFiles>
			<file type="M">org.jboss.as.clustering.jgroups.subsystem.ChannelService.java</file>
			<file type="M">org.jboss.as.clustering.jgroups.MuxChannel.java</file>
			<file type="M">org.jboss.as.clustering.infinispan.subsystem.CacheContainerAdd.java</file>
		</fixedFiles>
	</bug>
	<bug id="2477" opendate="2013-11-08 16:59:21" fixdate="2013-11-13 18:35:29" resolution="Done">
		<buginformation>
			<summary>Lifecycle callback methods not invoked on interceptors intercepting servlet component classes</summary>
			<description>Even after fix for https://issues.jboss.org/browse/WFLY-2375, the @PostConstruct and @PreDestroy methods on interceptors (bound using interceptor bindings) intercepting servlet component classes are not invoked.
Tests available here: https://github.com/bafco/wildfly/commits/WFLY-2375-tests (only for servlets at the moment).</description>
			<version>8.0.0.Beta1</version>
			<fixedVersion>8.0.0.CR1</fixedVersion>
			<type>Bug</type>
		</buginformation>
		<fixedFiles>
			<file type="M">org.jboss.as.weld.util.Utils.java</file>
			<file type="M">org.jboss.as.weld.injection.WeldComponentService.java</file>
			<file type="M">org.jboss.as.weld.deployment.processors.WeldComponentIntegrationProcessor.java</file>
			<file type="M">org.jboss.as.weld.deployment.WeldClassIntrospector.java</file>
		</fixedFiles>
		<links>
			<link type="Dependency" description="is blocked by">128</link>
		</links>
	</bug>
	<bug id="2481" opendate="2013-11-08 10:13:28" fixdate="2013-11-13 18:36:02" resolution="Done">
		<buginformation>
			<summary>CDI.current().getBeanManager() returns a beanmanager from a different deployment</summary>
			<description>CDI.current().getBeanManager() uses the classname of the calling class to cache BeanManagers returned. This fails if multiple deployments contain classes with the same name. For example, wicket-cdi-1.1 looks up the BeanManager from org.apache.wicket.cdi.CdiConfiguration. If multiple Wicket-CDI applications are deployed in the same container, every BeanManager lookup will return the instance cached on the first call.</description>
			<version>8.0.0.Beta1</version>
			<fixedVersion>8.0.0.CR1</fixedVersion>
			<type>Bug</type>
		</buginformation>
		<fixedFiles>
			<file type="M">org.jboss.as.weld.deployment.WeldDeployment.java</file>
			<file type="M">org.jboss.as.weld.deployment.BeanDeploymentArchiveImpl.java</file>
			<file type="M">org.jboss.as.weld.WeldBootstrapService.java</file>
			<file type="M">org.jboss.as.weld.WeldProvider.java</file>
		</fixedFiles>
		<links>
			<link type="Related" description="relates to">1551</link>
		</links>
	</bug>
	<bug id="2499" opendate="2013-11-13 09:48:44" fixdate="2013-11-14 04:34:31" resolution="Done">
		<buginformation>
			<summary>JMSBridge FailureHandler does not load from specified module</summary>
			<description>If an error occurs and the JMS bridge tries to reconnect to the JMS provider to look up the JMS resources from its FailureHandler, it fails with the exception:
Stack trace:






10:37:02,546 INFO  [org.hornetq.jms.server] (pool-3-thread-3) HQ121000: Failed to set up JMS bridge connections. Most probably the source or target servers are unavailable. Will retry after a pause of 1,000 ms




10:37:03,547 WARN  [org.hornetq.jms.server] (pool-3-thread-3) HQ122010: Failed to connect JMS Bridge: javax.naming.NamingException: JBAS011843: Failed instantiate InitialContextFactory org.apache.qpid.jndi.PropertiesFileInitialContextFactory from classloader ModuleClassLoader for Module "org.hornetq:main" from local module loader @ac44b88 (finder: local module finder @5d3ad33d (roots: /usr/share/jbossas/modules,/usr/share/jbossas/modules/system/layers/base))




    at org.jboss.as.naming.InitialContextFactoryBuilder.createInitialContextFactory(InitialContextFactoryBuilder.java:64)




    at javax.naming.spi.NamingManager.getInitialContext(NamingManager.java:681) [rt.jar:1.6.0_24]




    at javax.naming.InitialContext.getDefaultInitCtx(InitialContext.java:305) [rt.jar:1.6.0_24]




    at javax.naming.InitialContext.init(InitialContext.java:240) [rt.jar:1.6.0_24]




    at javax.naming.InitialContext.&amp;lt;init&amp;gt;(InitialContext.java:214) [rt.jar:1.6.0_24]




    at org.hornetq.jms.bridge.impl.JNDIFactorySupport.createObject(JNDIFactorySupport.java:55) [hornetq-jms-server.jar:]




    at org.hornetq.jms.bridge.impl.JNDIDestinationFactory.createDestination(JNDIDestinationFactory.java:40) [hornetq-jms-server.jar:]




    at org.hornetq.jms.bridge.impl.JMSBridgeImpl.setupJMSObjects(JMSBridgeImpl.java:1222) [hornetq-jms-server.jar:]




    at org.hornetq.jms.bridge.impl.JMSBridgeImpl.setupJMSObjectsWithRetry(JMSBridgeImpl.java:1460) [hornetq-jms-server.jar:]




    at org.hornetq.jms.bridge.impl.JMSBridgeImpl.access$2000(JMSBridgeImpl.java:83) [hornetq-jms-server.jar:]




    at org.hornetq.jms.bridge.impl.JMSBridgeImpl$FailureHandler.run(JMSBridgeImpl.java:2049) [hornetq-jms-server.jar:]




    at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1146) [rt.jar:1.6.0_24]




    at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:615) [rt.jar:1.6.0_24]




    at java.lang.Thread.run(Thread.java:679) [rt.jar:1.6.0_24]






The issue is that the ExecutorService executing the FailureHandler is created when the JMSBridge is instantiated and will not use the ClassLoader from the specified module that gives access to the JMS provider&amp;amp;apos;s classes.</description>
			<version>8.0.0.Beta1</version>
			<fixedVersion>8.0.0.CR1</fixedVersion>
			<type>Bug</type>
		</buginformation>
		<fixedFiles>
			<file type="M">org.jboss.as.messaging.jms.bridge.JMSBridgeAdd.java</file>
		</fixedFiles>
	</bug>
	<bug id="2260" opendate="2013-10-08 16:02:44" fixdate="2013-11-14 04:35:29" resolution="Done">
		<buginformation>
			<summary>Vault tests pollute tmp dir</summary>
			<description>SlaveHostControllerAuthenticationTestCase often fails. On inspection this seems to be that the wrong version of the vault file is being used from the tmp directory.
One way to see this is to clear out the tmp directory, and to run 
$mvn clean install -pl testsuite/domain/  -DallTests -Dtest=org.jboss.as.test.integration.domain.SlaveHostControllerAuthenticationTestCase
a few times, most likely from the second time it will fail. This happens during setup of the test, so you can reproduce more easily by adding a simple class






public class __Throwaway {




   public static void main(String[] args) throws Exception{




       SlaveHostControllerAuthenticationTestCase test = new SlaveHostControllerAuthenticationTestCase();




       test.setupVault();




       test.slaveWithVaultPasswordTest();




   }




}






and adjusting the visiblity of the SlaveHostControllerAuthenticationTestCase
methods. There are also other tests using the vault which also seem to pollute the tmp dir.</description>
			<version>8.0.0.Beta1</version>
			<fixedVersion>8.0.0.CR1</fixedVersion>
			<type>Bug</type>
		</buginformation>
		<fixedFiles>
			<file type="M">org.jboss.as.test.integration.domain.SlaveHostControllerAuthenticationTestCase.java</file>
			<file type="M">org.jboss.as.test.integration.security.vault.VaultDatasourceTestCase.java</file>
			<file type="M">org.jboss.as.test.integration.security.passwordmasking.PasswordMaskingInContainerTestCase.java</file>
			<file type="M">org.jboss.as.test.integration.mgmt.access.ValidateAddressOrOperationTestCase.java</file>
			<file type="M">org.jboss.as.test.integration.mgmt.access.VaultExpressionSensitivityTestCase.java</file>
			<file type="M">org.jboss.as.test.integration.security.passwordmasking.PasswordMaskingTestCase.java</file>
		</fixedFiles>
	</bug>
	<bug id="1309" opendate="2013-05-02 13:29:23" fixdate="2013-11-14 04:37:21" resolution="Done">
		<buginformation>
			<summary>CLI: creating a server on a domain slave followed by setting a system property fails when done in batch mode</summary>
			<description>Setup two boxes:

on one, run domain mode (full-ha) -&amp;gt; domain controller
on the other, configure host.xml to point to the DC, and run the host controller

Now in CLI:

add the group:
/server-group=slaves:add(profile=full-ha,socket-binding-group=full-ha-sockets)


create server and set a prop
batch
/host=slave1/server-config=i1:add(group=slaves,auto-start=false)
/host=slave1/server-config=i1/system-property=env:add(value=dev)
run-batch 

results in:
JBAS010839: Operation failed or was rolled back on all servers.
Debugging (on EAP 6.0.1) showed the real reason:
activeStep.response = (org.jboss.dmr.ModelNode) 
{
     "outcome" =&amp;gt; "failed",
     "failure-description" =&amp;gt; "JBAS010850: No handler for operation
composite at address [
     (\"host\" =&amp;gt; \"slave1\"),
     (\"server\" =&amp;gt; \"i1\")
]",
     "rolled-back" =&amp;gt; true
}
 
More debugging led to :
org.jboss.as.controller.AbstractOperationContext
seems to be where the rollback is set. When debugging, I found that the constructor always sets
     ModelController.OperationTransactionControl transactionControl
but at line 332 (eap 6.0.1) / line 372 (wildfly), the end of doCompleteStep() :
        // Allow any containing TransactionControl to vote
        final AtomicReference&amp;lt;ResultAction&amp;gt; ref = new AtomicReference&amp;lt;ResultAction&amp;gt;(transactionControl == null ? ResultAction.KEEP : ResultAction.ROLLBACK);
and ref becomes a rollback.
I "walked" pretty much of all the code going on in between. The bit where the config is getting persisted is successful.
But I&amp;amp;apos;m afraid I&amp;amp;apos;m out of my depth as there is a lot going on to execute such a composite command </description>
			<version>8.0.0.Alpha1</version>
			<fixedVersion>8.0.0.CR1</fixedVersion>
			<type>Bug</type>
		</buginformation>
		<fixedFiles>
			<file type="M">org.jboss.as.test.integration.domain.suites.CoreResourceManagementTestCase.java</file>
			<file type="M">org.jboss.as.domain.controller.operations.coordination.ServerOperationResolver.java</file>
		</fixedFiles>
	</bug>
	<bug id="2506" opendate="2013-11-13 20:26:41" fixdate="2013-11-14 15:36:28" resolution="Done">
		<buginformation>
			<summary>Broken parsing of core 1.4 xml schema security realm authorization elements</summary>
			<description>The WFLY-455 patch broke parsing for the parsing of security-realm/authorization from a 1.4 namespace doc:
Caused by: java.lang.IllegalArgumentException
	at org.jboss.dmr.ModelValue.getChild(ModelValue.java:112)
	at org.jboss.dmr.ModelNode.get(ModelNode.java:856)
	at org.jboss.as.domain.management.parsing.ManagementXml.parseAuthorization_1_3(ManagementXml.java:1708)
	at org.jboss.as.domain.management.parsing.ManagementXml.parseSecurityRealm_1_4(ManagementXml.java:827)
	at org.jboss.as.domain.management.parsing.ManagementXml.parseSecurityRealms(ManagementXml.java:672)
Problem is the wrong ModelNode is passed to ManagementXml.parseAuthorization_1_3.</description>
			<version>8.0.0.Beta1</version>
			<fixedVersion>8.0.0.CR1</fixedVersion>
			<type>Bug</type>
		</buginformation>
		<fixedFiles>
			<file type="M">org.jboss.as.domain.management.parsing.ManagementXml.java</file>
		</fixedFiles>
	</bug>
	<bug id="2513" opendate="2013-11-14 17:03:01" fixdate="2013-11-15 13:33:33" resolution="Done">
		<buginformation>
			<summary>BDA ID contains absolute the path of the deployment location</summary>
			<description></description>
			<version>8.0.0.Beta1</version>
			<fixedVersion>8.0.0.CR1</fixedVersion>
			<type>Bug</type>
		</buginformation>
		<fixedFiles>
			<file type="M">org.jboss.as.weld.deployment.processors.BeanArchiveProcessor.java</file>
			<file type="M">org.jboss.as.weld.util.Utils.java</file>
		</fixedFiles>
	</bug>
	<bug id="2494" opendate="2013-11-12 13:38:52" fixdate="2013-11-15 13:34:05" resolution="Done">
		<buginformation>
			<summary>@EJB not injected in JAX-RS Resource (unless CDI is enabled)</summary>
			<description>





@Path("persons")




public class MyResource {




    // Ideally this state should be stored in a database




    @EJB PersonSessionBean bean; // Not injected unless beans.xml in War




 ..




}









@Singleton




public class PersonSessionBean {




    private final List&amp;lt;Person&amp;gt; list;









    public PersonSessionBean() {




        list = new ArrayList&amp;lt;&amp;gt;();




    }




 ..




}






Sample: https://github.com/arun-gupta/javaee7-samples/tree/master/jaxrs/jaxrs-client/src/main/java/org/javaee7/jaxrs/client</description>
			<version>8.0.0.Beta1</version>
			<fixedVersion>8.0.0.CR1</fixedVersion>
			<type>Bug</type>
		</buginformation>
		<fixedFiles>
			<file type="M">org.jboss.as.jaxrs.deployment.JaxrsAnnotationProcessor.java</file>
		</fixedFiles>
	</bug>
	<bug id="1745" opendate="2013-07-23 12:17:05" fixdate="2013-11-15 13:34:18" resolution="Done">
		<buginformation>
			<summary>WeldServices may get into inconsistent state</summary>
			<description>WeldBootstrapService performs an initial bootstrap of the Weld container and also performs Weld shutdown when the service is stopping.
WeldStartService finishes initialization of Weld container and performs nothing on stop() (WeldBootstrapService is expected to shut down Weld).
WeldStartService has a dependency on WeldBootstrapService.
This works fine 99% of the time. However, if a dependency of WeldStartService is restarted (e.g. due to management operation), WeldStartService as its parent is also restarted but WeldBootstrapService is not. 
As a result, WeldStartService expects to find Weld container in an early initialization phase and wants to finish initialization. However, since WeldBootstrapService was not restarted, the Weld container is still in the initialized state and deployment fails when WSS tries to finish initialization again.
To reproduce modify EjbRemoveUnitTestCase for test-session-remove.jar to contain empty beans.xml file.</description>
			<version>8.0.0.Alpha3</version>
			<fixedVersion>8.0.0.CR1</fixedVersion>
			<type>Bug</type>
		</buginformation>
		<fixedFiles>
			<file type="M">org.jboss.as.weld.deployment.processors.WeldDeploymentProcessor.java</file>
			<file type="M">org.jboss.as.weld.WeldStartService.java</file>
			<file type="M">org.jboss.as.test.integration.ejb.stateless.pooling.ejb2.EjbRemoveUnitTestCase.java</file>
		</fixedFiles>
		<links>
			<link type="Dependency" description="blocks">476</link>
		</links>
	</bug>
	<bug id="1664" opendate="2013-07-09 12:40:26" fixdate="2013-11-16 03:38:28" resolution="Done">
		<buginformation>
			<summary>bin]$ ./jboss-cli.sh -c --controller=localhost:9999 - Results in Connection Timed Out</summary>
			<description>Port 9999 is by default the native management interface.
The command &amp;amp;apos;./jboss-cli.sh -c --controller=localhost:9999&amp;amp;apos; results in the following error: -






org.jboss.as.cli.CliInitializationException: Failed to connect to the controller




	at org.jboss.as.cli.impl.CliLauncher.initCommandContext(CliLauncher.java:291)




	at org.jboss.as.cli.impl.CliLauncher.main(CliLauncher.java:269)




	at org.jboss.as.cli.CommandLineMain.main(CommandLineMain.java:34)




	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)




	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:57)




	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)




	at java.lang.reflect.Method.invoke(Method.java:601)




	at org.jboss.modules.Module.run(Module.java:270)




	at org.jboss.modules.Main.main(Main.java:411)




Caused by: org.jboss.as.cli.CommandLineException: The controller is not available at localhost:9999




	at org.jboss.as.cli.impl.CommandContextImpl.tryConnection(CommandContextImpl.java:967)




	at org.jboss.as.cli.impl.CommandContextImpl.connectController(CommandContextImpl.java:806)




	at org.jboss.as.cli.impl.CommandContextImpl.connectController(CommandContextImpl.java:778)




	at org.jboss.as.cli.impl.CliLauncher.initCommandContext(CliLauncher.java:289)




	... 8 more




Caused by: java.io.IOException: java.net.ConnectException: JBAS012144: Could not connect to http-remoting://localhost:9999. The connection timed out




	at org.jboss.as.controller.client.impl.AbstractModelControllerClient.executeForResult(AbstractModelControllerClient.java:129)




	at org.jboss.as.controller.client.impl.AbstractModelControllerClient.execute(AbstractModelControllerClient.java:71)




	at org.jboss.as.cli.impl.CommandContextImpl.tryConnection(CommandContextImpl.java:945)




	... 11 more




Caused by: java.net.ConnectException: JBAS012144: Could not connect to http-remoting://localhost:9999. The connection timed out




	at org.jboss.as.protocol.ProtocolConnectionUtils.connectSync(ProtocolConnectionUtils.java:131)




	at org.jboss.as.protocol.ProtocolConnectionManager$EstablishingConnection.connect(ProtocolConnectionManager.java:256)




	at org.jboss.as.protocol.ProtocolConnectionManager.connect(ProtocolConnectionManager.java:70)




	at org.jboss.as.protocol.mgmt.FutureManagementChannel$Establishing.getChannel(FutureManagementChannel.java:176)




	at org.jboss.as.cli.impl.CLIModelControllerClient.getOrCreateChannel(CLIModelControllerClient.java:162)




	at org.jboss.as.cli.impl.CLIModelControllerClient$2.getChannel(CLIModelControllerClient.java:124)




	at org.jboss.as.protocol.mgmt.ManagementChannelHandler.executeRequest(ManagementChannelHandler.java:115)




	at org.jboss.as.protocol.mgmt.ManagementChannelHandler.executeRequest(ManagementChannelHandler.java:90)




	at org.jboss.as.controller.client.impl.AbstractModelControllerClient.executeRequest(AbstractModelControllerClient.java:236)




	at org.jboss.as.controller.client.impl.AbstractModelControllerClient.execute(AbstractModelControllerClient.java:141)




	at org.jboss.as.controller.client.impl.AbstractModelControllerClient.executeForResult(AbstractModelControllerClient.java:127)




	... 13 more






This is because the use of HTTP upgrade is assumed, however clients using the CLI from previous versions were used to using this connection command against the native management interface only.
Workaround: -
Add the URI scheme to the controller paramter: -






./jboss-cli.sh -c --controller=remote://localhost:9999





</description>
			<version>8.0.0.Beta1</version>
			<fixedVersion>8.0.0.CR1</fixedVersion>
			<type>Sub-task</type>
		</buginformation>
		<fixedFiles>
			<file type="M">org.jboss.as.test.integration.management.util.CLITestUtil.java</file>
			<file type="M">org.jboss.as.jdr.JdrRunner.java</file>
			<file type="M">org.jboss.as.cli.scriptsupport.CLI.java</file>
			<file type="M">org.jboss.as.cli.CliConfig.java</file>
			<file type="M">org.jboss.as.cli.impl.ModelControllerClientFactory.java</file>
			<file type="M">org.jboss.as.cli.ControllerAddressResolver.java</file>
			<file type="M">org.jboss.as.cli.completion.mock.MockCliConfig.java</file>
			<file type="M">org.jboss.as.cli.impl.CommandContextImpl.java</file>
			<file type="M">org.jboss.as.cli.impl.CLIModelControllerClient.java</file>
			<file type="M">org.jboss.as.cli.impl.CliConfigImpl.java</file>
			<file type="M">org.jboss.as.cli.CommandContext.java</file>
			<file type="M">org.jboss.as.cli.impl.CliLauncher.java</file>
			<file type="M">org.jboss.as.cli.completion.mock.MockCommandContext.java</file>
			<file type="M">org.jboss.as.cli.impl.CommandContextFactoryImpl.java</file>
			<file type="M">org.jboss.as.cli.gui.ConnectDialog.java</file>
			<file type="M">org.jboss.as.test.integration.management.util.CLIWrapper.java</file>
			<file type="M">org.jboss.as.cli.CommandContextFactory.java</file>
			<file type="M">org.jboss.as.cli.handlers.ConnectHandler.java</file>
		</fixedFiles>
		<links>
			<link type="Duplicate" description="is duplicated by">2591</link>
			<link type="Duplicate" description="is duplicated by">1684</link>
			<link type="Related" description="relates to">1850</link>
			<link type="Related" description="relates to">2924</link>
			<link type="Related" description="is related to">3151</link>
		</links>
	</bug>
	<bug id="2511" opendate="2013-11-14 14:52:37" fixdate="2013-11-16 03:41:59" resolution="Done">
		<buginformation>
			<summary>NPE in QueueReadAttributeHandler if QueueControl does not exist</summary>
			<description>I noticed this in a testsuite server log for EAP, but looking at WF code the same thing could happen there. Basically QueueReadAttributeHandler assumes a QueueControl exists and throws an NPE if that assumption is wrong:
19:14:25,402 ERROR [org.jboss.as.controller.management-operation] (management-handler-thread - 4) JBAS014612: Operation ("read-attribute") failed - address: ([
    ("subsystem" =&amp;gt; "messaging"),
    ("hornetq-server" =&amp;gt; "default"),
    ("queue" =&amp;gt; "39742e8e-32e7-481d-905a-580fd6b67476")
]): java.lang.NullPointerException
    at org.jboss.as.messaging.QueueReadAttributeHandler.executeRuntimeStep(QueueReadAttributeHandler.java:115)
    at org.jboss.as.controller.AbstractRuntimeOnlyHandler$1.execute(AbstractRuntimeOnlyHandler.java:96) [jboss-as-controller-7.3.0.Final-redhat-SNAPSHOT.jar:7.3.0.Final-redhat-SNAPSHOT]
    at org.jboss.as.controller.AbstractOperationContext.executeStep(AbstractOperationContext.java:607) [jboss-as-controller-7.3.0.Final-redhat-SNAPSHOT.jar:7.3.0.Final-redhat-SNAPSHOT]
    at org.jboss.as.controller.AbstractOperationContext.doCompleteStep(AbstractOperationContext.java:485) [jboss-as-controller-7.3.0.Final-redhat-SNAPSHOT.jar:7.3.0.Final-redhat-SNAPSHOT]
    at org.jboss.as.controller.AbstractOperationContext.completeStepInternal(AbstractOperationContext.java:282) [jboss-as-controller-7.3.0.Final-redhat-SNAPSHOT.jar:7.3.0.Final-redhat-SNAPSHOT]
    at org.jboss.as.controller.AbstractOperationContext.executeOperation(AbstractOperationContext.java:277) [jboss-as-controller-7.3.0.Final-redhat-SNAPSHOT.jar:7.3.0.Final-redhat-SNAPSHOT]
    at org.jboss.as.controller.ModelControllerImpl.internalExecute(ModelControllerImpl.java:231) [jboss-as-controller-7.3.0.Final-redhat-SNAPSHOT.jar:7.3.0.Final-redhat-SNAPSHOT]
    at org.jboss.as.controller.ModelControllerImpl.execute(ModelControllerImpl.java:137) [jboss-as-controller-7.3.0.Final-redhat-SNAPSHOT.jar:7.3.0.Final-redhat-SNAPSHOT]
    at org.jboss.as.controller.remote.ModelControllerClientOperationHandler$ExecuteRequestHandler.doExecute(ModelControllerClientOperationHandler.java:173) [jboss-as-controller-7.3.0.Final-redhat-SNAPSHOT.jar:7.3.0.Final-redhat-SNAPSHOT]
    at org.jboss.as.controller.remote.ModelControllerClientOperationHandler$ExecuteRequestHandler.access$300(ModelControllerClientOperationHandler.java:105) [jboss-as-controller-7.3.0.Final-redhat-SNAPSHOT.jar:7.3.0.Final-redhat-SNAPSHOT]
    at org.jboss.as.controller.remote.ModelControllerClientOperationHandler$ExecuteRequestHandler$1$1.run(ModelControllerClientOperationHandler.java:125) [jboss-as-controller-7.3.0.Final-redhat-SNAPSHOT.jar:7.3.0.Final-redhat-SNAPSHOT]
    at org.jboss.as.controller.remote.ModelControllerClientOperationHandler$ExecuteRequestHandler$1$1.run(ModelControllerClientOperationHandler.java:121) [jboss-as-controller-7.3.0.Final-redhat-SNAPSHOT.jar:7.3.0.Final-redhat-SNAPSHOT]
    at java.security.AccessController.doPrivileged(Native Method) [rt.jar:1.7.0_25]
    at javax.security.auth.Subject.doAs(Subject.java:415) [rt.jar:1.7.0_25]
    at org.jboss.as.controller.AccessAuditContext.doAs(AccessAuditContext.java:94) [jboss-as-controller-7.3.0.Final-redhat-SNAPSHOT.jar:7.3.0.Final-redhat-SNAPSHOT]
    at org.jboss.as.controller.remote.ModelControllerClientOperationHandler$ExecuteRequestHandler$1.execute(ModelControllerClientOperationHandler.java:121) [jboss-as-controller-7.3.0.Final-redhat-SNAPSHOT.jar:7.3.0.Final-redhat-SNAPSHOT]
    at org.jboss.as.protocol.mgmt.AbstractMessageHandler$2$1.doExecute(AbstractMessageHandler.java:283) [jboss-as-protocol-7.3.0.Final-redhat-SNAPSHOT.jar:7.3.0.Final-redhat-SNAPSHOT]
    at org.jboss.as.protocol.mgmt.AbstractMessageHandler$AsyncTaskRunner.run(AbstractMessageHandler.java:504) [jboss-as-protocol-7.3.0.Final-redhat-SNAPSHOT.jar:7.3.0.Final-redhat-SNAPSHOT]
    at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1145) [rt.jar:1.7.0_25]
    at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:615) [rt.jar:1.7.0_25]
    at java.lang.Thread.run(Thread.java:724) [rt.jar:1.7.0_25]
    at org.jboss.threads.JBossThread.run(JBossThread.java:122) [jboss-threads-2.1.1.Final-redhat-1.jar:2.1.1.Final-redhat-1]
IIRC this kind of thing has been fixed elsewhere???</description>
			<version>8.0.0.Beta1</version>
			<fixedVersion>8.0.0.CR1</fixedVersion>
			<type>Bug</type>
		</buginformation>
		<fixedFiles>
			<file type="M">org.jboss.as.messaging.jms.JMSQueueAddJndiHandler.java</file>
			<file type="M">org.jboss.as.messaging.jms.AbstractAddJndiHandler.java</file>
			<file type="M">org.jboss.as.messaging.QueueReadAttributeHandler.java</file>
			<file type="M">org.jboss.as.messaging.QueueDefinition.java</file>
			<file type="M">org.jboss.as.messaging.HornetQServerControlWriteHandler.java</file>
			<file type="M">org.jboss.as.messaging.jms.ConnectionFactoryAddJndiHandler.java</file>
			<file type="M">org.jboss.as.messaging.jms.JMSTopicAddJndiHandler.java</file>
		</fixedFiles>
		<links>
			<link type="Related" description="is related to">4949</link>
		</links>
	</bug>
	<bug id="2505" opendate="2013-11-13 16:48:33" fixdate="2013-11-16 03:47:08" resolution="Done">
		<buginformation>
			<summary>JGroups subsystem should REJECT relay configuration instead of DISCARD</summary>
			<description>https://github.com/wildfly/wildfly/blob/master/clustering/jgroups/src/main/java/org/jboss/as/clustering/jgroups/subsystem/JGroupsExtension.java#L181
Richard is taking this on along new transformer API shift.</description>
			<version>8.0.0.Beta1</version>
			<fixedVersion>8.0.0.CR1</fixedVersion>
			<type>Bug</type>
		</buginformation>
		<fixedFiles>
			<file type="M">org.jboss.as.clustering.jgroups.subsystem.TransformersTestCase.java</file>
			<file type="M">org.jboss.as.clustering.jgroups.subsystem.OperationTestCaseBase.java</file>
			<file type="M">org.jboss.as.clustering.jgroups.subsystem.JGroupsExtension.java</file>
			<file type="D">org.jboss.as.clustering.jgroups.subsystem.JGroupsSubsystemTransformerTestCase.java</file>
			<file type="D">org.jboss.as.clustering.jgroups.subsystem.JGroupsSubsystemTest.java</file>
		</fixedFiles>
	</bug>
	<bug id="2526" opendate="2013-11-18 10:03:58" fixdate="2013-11-19 12:56:44" resolution="Done">
		<buginformation>
			<summary>mod_cluster doesn&amp;apos;t pick up port offset</summary>
			<description>So clearly the problem is that the listener is correctly listening on the shifted port:
[Server:server-two] 20:11:35,674 INFO  [org.wildfly.extension.undertow] (MSC service thread 1-13) JBAS017519: Undertow AJP listener ajp listening on /10.19.222.52:8159
but the offet is not picked up by the LB:
[Wed Oct 09 16:03:40 2013] [debug] proxy_util.c(2193): proxy: connected ajp://10.19.222.52:8009/ to 10.19.222.52:8009
</description>
			<version>8.0.0.Beta1</version>
			<fixedVersion>8.0.0.CR1</fixedVersion>
			<type>Bug</type>
		</buginformation>
		<fixedFiles>
			<file type="M">org.jboss.as.network.SocketBinding.java</file>
			<file type="M">org.wildfly.mod_cluster.undertow.UndertowConnector.java</file>
		</fixedFiles>
	</bug>
	<bug id="2521" opendate="2013-11-15 21:31:01" fixdate="2013-11-20 19:33:52" resolution="Done">
		<buginformation>
			<summary>EJB backing cache&amp;apos;s can generate large retention from cancelled tasks in its scheduled executor&amp;apos;s DelayedWorkQueue</summary>
			<description>EJB backing cache&amp;amp;apos;s frequently cancel remove and passivation tasks with each access and replace them with new ones.  Per http://docs.oracle.com/javase/7/docs/api/java/util/concurrent/ScheduledThreadPoolExecutor.html cancelled tasks are not removed from queue until their scheduled delay passes.
So due to the java ScheduledThreadPoolExecutor&amp;amp;apos;s lazy cancelled task removal, this scheduled task cancellation and recreation model can potentially churn up quite a number of queued cancelled tasks sitting in the executor&amp;amp;apos;s DelayedWorkQueue.  With longer timeouts and frequent ejb access, this can generate substantial heap overhead.
It should be pretty easy to help limit any such build up by calling purge() [1] on the scheduled executor.  Likely don&amp;amp;apos;t want to purge with each cancel, so perhaps a purge() could be called on a configurable time delay or after a configurable amount of cancels?
[1] http://docs.oracle.com/javase/6/docs/api/java/util/concurrent/ThreadPoolExecutor.html#purge%28%29</description>
			<version>8.0.0.Beta1</version>
			<fixedVersion>8.0.0.CR1</fixedVersion>
			<type>Bug</type>
		</buginformation>
		<fixedFiles>
			<file type="M">org.jboss.as.ejb3.cache.simple.SimpleCache.java</file>
			<file type="M">org.wildfly.clustering.web.infinispan.session.SessionExpirationScheduler.java</file>
			<file type="M">org.wildfly.clustering.ejb.infinispan.BeanExpirationScheduler.java</file>
		</fixedFiles>
	</bug>
	<bug id="2397" opendate="2013-10-29 07:11:01" fixdate="2013-11-21 16:23:36" resolution="Done">
		<buginformation>
			<summary>When using weld resource injection happens twice</summary>
			<description>When using CDI to inject non-EJB components such as Servlets it appears both Weld and WF are performing resource injections.</description>
			<version>8.0.0.Beta1</version>
			<fixedVersion>8.0.0.CR1</fixedVersion>
			<type>Bug</type>
		</buginformation>
		<fixedFiles>
			<file type="M">org.jboss.as.weld.injection.WeldComponentService.java</file>
		</fixedFiles>
	</bug>
	<bug id="2428" opendate="2013-11-01 03:23:46" fixdate="2013-11-22 06:37:15" resolution="Done">
		<buginformation>
			<summary>MDBs should use the full identifier of the resource adapter</summary>
			<description>The .rar suffix shouldn&amp;amp;apos;t be stripped anymore, as the resource adapters are registered under their full name.</description>
			<version>8.0.0.CR1</version>
			<fixedVersion>8.0.0.CR1</fixedVersion>
			<type>Bug</type>
		</buginformation>
		<fixedFiles>
			<file type="M">org.jboss.as.test.integration.ejb.mdb.MDBTestCase.java</file>
			<file type="M">org.jboss.as.test.integration.jca.ijdeployment.IronJacamarDeploymentTestCase.java</file>
			<file type="M">org.jboss.as.connector.deployers.ra.DirectAdministeredObjectInjectionSource.java</file>
			<file type="M">org.jboss.as.ejb3.component.messagedriven.MessageDrivenComponentDescription.java</file>
			<file type="M">org.jboss.as.connector.deployers.ra.DirectConnectionFactoryInjectionSource.java</file>
			<file type="M">org.jboss.as.test.integration.jca.ijdeployment.IronJacamarDoubleDeploymentTestCase.java</file>
			<file type="M">org.jboss.as.connector.services.resourceadapters.deployment.ResourceAdapterXmlDeploymentService.java</file>
			<file type="M">org.jboss.as.connector.deployers.ra.processors.RaXmlDeploymentProcessor.java</file>
			<file type="M">org.jboss.as.connector.deployers.ra.processors.RaDeploymentParsingProcessor.java</file>
			<file type="M">org.jboss.as.ejb3.component.messagedriven.MessageDrivenComponentCreateService.java</file>
		</fixedFiles>
	</bug>
	<bug id="2538" opendate="2013-11-19 14:44:53" fixdate="2013-11-22 10:51:52" resolution="Done">
		<buginformation>
			<summary>Certificate acceptance causing command entered on starting the CLI to be skipped.</summary>
			<description>e.g.






./jboss-cli.sh -c shutdown




Accept certificate? [N]o, [T]emporarily, [P]ermenantly : T






The shutdown command is not executed.</description>
			<version>8.0.0.Beta1</version>
			<fixedVersion>8.0.0.CR1</fixedVersion>
			<type>Bug</type>
		</buginformation>
		<fixedFiles>
			<file type="M">org.jboss.as.cli.impl.CommandContextImpl.java</file>
		</fixedFiles>
		<links>
			<link type="Related" description="relates to">2950</link>
		</links>
	</bug>
	<bug id="786" opendate="2013-03-26 15:36:40" fixdate="2013-11-23 15:04:32" resolution="Done">
		<buginformation>
			<summary>NicInterfaceCriteriaUnitTestCase testBasic fails on a host configured with a dual IP stack</summary>
			<description>This test fails when we run the test suite with the following IPv6 options:






    -Djava.net.preferIPv4Stack=false -Djava.net.preferIPv6Addresses=true -Djboss.bind.address=[::1] -Djboss.bind.address.management=[::1] -Djboss.bind.address.unsecure=[::1]






It appears that the test is expecting an array containing one nic address but instead gets two (IPv4 and IPv6) addresses. The linked JBTM jira is where we initially reported the issue. Test output is:






Failed tests:




   testBasic(org.jboss.as.controller.interfaces.NicInterfaceCriteriaUnitTestCase): expected:&amp;lt;[/0:0:0:0:0:0:0:1%1]&amp;gt; but was:&amp;lt;[/0:0:0:0:0:0:0:1%1, /127.0.0.1]&amp;gt;




  testMultipleCriteria(org.jboss.as.controller.interfaces.NotInterfaceCriteriaUnitTestCase): expected:&amp;lt;{name:eth0 (eth0)=[/fe80:0:0:0:216:3eff:fe0e:a61c%2]}&amp;gt; but was:&amp;lt;{name:eth0 (eth0)=[/fe80:0:0:0:216:3eff:fe0e:a61c%2, /172.17.131.3]}&amp;gt;




  testMultipleCriteria(org.jboss.as.controller.interfaces.AnyInterfaceCriteriaUnitTestCase): expected:&amp;lt;{name:lo (lo)=[/0:0:0:0:0:0:0:1%1], name:eth0 (eth0)=[/fe80:0:0:0:216:3eff:fe0e:a61c%2]}&amp;gt; but was:&amp;lt;{name:lo (lo)=[/127.0.0.1, /0:0:0:0:0:0:0:1%1], name:eth0 (eth0)=[/fe80:0:0:0:216:3eff:fe0e:a61c%2, /172.17.131.3]}&amp;gt;





</description>
			<version>8.0.0.Alpha1</version>
			<fixedVersion>8.0.0.CR1</fixedVersion>
			<type>Bug</type>
		</buginformation>
		<fixedFiles>
			<file type="M">org.jboss.as.controller.interfaces.NotInterfaceCriteriaUnitTestCase.java</file>
			<file type="M">org.jboss.as.controller.interfaces.NicInterfaceCriteriaUnitTestCase.java</file>
			<file type="M">org.jboss.as.controller.interfaces.AnyInterfaceCriteriaUnitTestCase.java</file>
		</fixedFiles>
		<links>
			<link type="Related" description="is related to">1560</link>
		</links>
	</bug>
	<bug id="2306" opendate="2013-10-15 12:13:24" fixdate="2013-11-25 14:05:19" resolution="Done">
		<buginformation>
			<summary>NPE in UndertowDeploymentInfoService.authMethod</summary>
			<description>If I do not define auth method in web.xml then NPE happens during deployment (Yoda would have saved you)
web.xml:






    &amp;lt;login-config&amp;gt;




        &amp;lt;realm-name&amp;gt;RestBase&amp;lt;/realm-name&amp;gt;




    &amp;lt;/login-config&amp;gt;






Stacktrace:






java.lang.NullPointerException




	at org.wildfly.extension.undertow.deployment.UndertowDeploymentInfoService.authMethod(UndertowDeploymentInfoService.java:758)




	at org.wildfly.extension.undertow.deployment.UndertowDeploymentInfoService.createServletConfig(UndertowDeploymentInfoService.java:693)




	at org.wildfly.extension.undertow.deployment.UndertowDeploymentInfoService.start(UndertowDeploymentInfoService.java:214)




	at org.jboss.msc.service.ServiceControllerImpl$StartTask.startService(ServiceControllerImpl.java:1944) [jboss-msc-1.2.0.Beta2.jar:1.2.0.Beta2]




	at org.jboss.msc.service.ServiceControllerImpl$StartTask.run(ServiceControllerImpl.java:1877) [jboss-msc-1.2.0.Beta2.jar:1.2.0.Beta2]






Related source code:






    private static String authMethod(String configuredMethod) {




        // TODO - Feels like a candidate for an enum but will hold off until configuration of custom methods and chaining is




        // defined.




        if (configuredMethod.equals("CLIENT-CERT")) { //Speak Yoda here please




            return HttpServletRequest.CLIENT_CERT_AUTH;




        }




        return configuredMethod;




    }





</description>
			<version>8.0.0.Beta1</version>
			<fixedVersion>8.0.0.CR1</fixedVersion>
			<type>Bug</type>
		</buginformation>
		<fixedFiles>
			<file type="M">org.wildfly.extension.undertow.deployment.UndertowDeploymentInfoService.java</file>
		</fixedFiles>
	</bug>
	<bug id="2519" opendate="2013-11-15 17:23:34" fixdate="2013-11-26 09:04:28" resolution="Done">
		<buginformation>
			<summary>Useless mod_cluster drained context logging (...UndertowContext@3abb2fbc)</summary>
			<description>





18:21:17,409 INFO  [org.jboss.modcluster] (MSC service thread 1-8) MODCLUSTER000021: All pending requests drained from default-host:org.wildfly.mod_cluster.undertow.UndertowContext@3abb2fbc in 0.0 seconds





</description>
			<version>8.0.0.Beta1</version>
			<fixedVersion>8.0.0.CR1</fixedVersion>
			<type>Bug</type>
		</buginformation>
		<fixedFiles>
			<file type="M">org.wildfly.mod_cluster.undertow.UndertowContext.java</file>
		</fixedFiles>
	</bug>
	<bug id="2566" opendate="2013-11-25 13:22:18" fixdate="2013-11-26 12:41:06" resolution="Done">
		<buginformation>
			<summary>javax.inject.Singleton not recognized as a bean defining annotation</summary>
			<description></description>
			<version>8.0.0.Beta1</version>
			<fixedVersion>8.0.0.CR1</fixedVersion>
			<type>Bug</type>
		</buginformation>
		<fixedFiles>
			<file type="M">org.jboss.as.weld.CdiAnnotations.java</file>
		</fixedFiles>
	</bug>
	<bug id="2570" opendate="2013-11-25 15:18:21" fixdate="2013-11-27 09:09:35" resolution="Done">
		<buginformation>
			<summary>hornetq-server runtime operations are not listed in domain mode</summary>
			<description>The runtime operations on the messaging&amp;amp;apos;s hornetq-server resources are not listed in domain mode:






[domain@localhost:9990 /] /host=master/server=server-one/subsystem=messaging/hornetq-server=default:read-operation-names




{




    "outcome" =&amp;gt; "success",




    "result" =&amp;gt; [




        "read-attribute",




        "read-children-names",




        "read-children-resources",




        "read-children-types",




        "read-operation-description",




        "read-operation-names",




        "read-resource",




        "read-resource-description",




        "undefine-attribute",




        "write-attribute"




    ]




}






but the operations can actually be executed. For example:











[domain@localhost:9990 /] /host=master/server=server-one/subsystem=messaging/hornetq-server=default:list-prepared-transactions()




}




{domain@localhost:9990 /]




    "outcome" =&amp;gt; "success",




    "result" =&amp;gt; []




}





</description>
			<version>8.0.0.Beta1</version>
			<fixedVersion>8.0.0.CR1</fixedVersion>
			<type>Bug</type>
		</buginformation>
		<fixedFiles>
			<file type="M">org.jboss.as.messaging.HornetQServerControlHandler.java</file>
		</fixedFiles>
	</bug>
	<bug id="1994" opendate="2013-09-04 04:16:33" fixdate="2013-11-27 11:56:28" resolution="Done">
		<buginformation>
			<summary>JPA module throws NPE when binding unavailable persistence unit</summary>
			<description>When binding an unavailable PU to JNDI an NPE is thrown rather than a message explaining the problem.






 




13:33:55,185 ERROR [org.jboss.msc.service.fail] (MSC service thread 1-4) MSC000001: Failed to start service jboss.deployment.unit."fails.ear".POST_MODULE: org.jboss.msc.service.StartException in service jboss.deployment.unit."fails.ear".POST_MODULE: JBAS018733: Failed to process phase POST_MODULE of deployment "fails.ear"




	at org.jboss.as.server.deployment.DeploymentUnitPhaseService.start(DeploymentUnitPhaseService.java:166) [wildfly-server-8.0.0.Beta1-SNAPSHOT.jar:8.0.0.Beta1-SNAPSHOT]




	at org.jboss.msc.service.ServiceControllerImpl$StartTask.startService(ServiceControllerImpl.java:1944) [jboss-msc-1.2.0.Beta2.jar:1.2.0.Beta2]




	at org.jboss.msc.service.ServiceControllerImpl$StartTask.run(ServiceControllerImpl.java:1877) [jboss-msc-1.2.0.Beta2.jar:1.2.0.Beta2]




	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1145) [rt.jar:1.7.0_25]




	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:615) [rt.jar:1.7.0_25]




	at java.lang.Thread.run(Thread.java:724) [rt.jar:1.7.0_25]




Caused by: java.lang.NullPointerException




	at org.jboss.as.jpa.processor.PersistenceRefProcessor.getPersistenceUnitBindingSource(PersistenceRefProcessor.java:211)




	at org.jboss.as.jpa.processor.PersistenceRefProcessor.getPersistenceUnitRefs(PersistenceRefProcessor.java:127)




	at org.jboss.as.jpa.processor.PersistenceRefProcessor.processDescriptorEntries(PersistenceRefProcessor.java:78)




	at org.jboss.as.ee.component.deployers.AbstractDeploymentDescriptorBindingsProcessor.deploy(AbstractDeploymentDescriptorBindingsProcessor.java:95)




	at org.jboss.as.server.deployment.DeploymentUnitPhaseService.start(DeploymentUnitPhaseService.java:159) [wildfly-server-8.0.0.Beta1-SNAPSHOT.jar:8.0.0.Beta1-SNAPSHOT]




	... 5 more





</description>
			<version>8.0.0.Alpha4</version>
			<fixedVersion>8.0.0.CR1</fixedVersion>
			<type>Bug</type>
		</buginformation>
		<fixedFiles>
			<file type="M">org.jboss.as.jpa.processor.PersistenceRefProcessor.java</file>
		</fixedFiles>
	</bug>
	<bug id="2575" opendate="2013-11-26 13:22:40" fixdate="2013-11-27 16:00:20" resolution="Done">
		<buginformation>
			<summary>SimpleApplicationClientTestCase should not use java on path</summary>
			<description>Test should use java that is set by JAVA_HOME and not rely on java being set avalible on path.
This way we can properly run testsuite against diffrent JDKs
currently this is the result:






java.io.IOException: Cannot run program "java": error=2, No such file or directory




    at java.lang.UNIXProcess.forkAndExec(Native Method)




    at java.lang.UNIXProcess.&amp;lt;init&amp;gt;(UNIXProcess.java:187)




    at java.lang.ProcessImpl.start(ProcessImpl.java:134)




    at java.lang.ProcessBuilder.start(ProcessBuilder.java:1023)




    at java.lang.Runtime.exec(Runtime.java:620)




    at java.lang.Runtime.exec(Runtime.java:450)




    at java.lang.Runtime.exec(Runtime.java:347)




    at org.jboss.as.test.integration.ee.appclient.util.AppClientWrapper.init(AppClientWrapper.java:152)




    at org.jboss.as.test.integration.ee.appclient.util.AppClientWrapper.&amp;lt;init&amp;gt;(AppClientWrapper.java:78)




    at org.jboss.as.test.integration.ee.appclient.basic.SimpleApplicationClientTestCase.descriptorBasedAppClientTest(SimpleApplicationClientTestCase.java:128)





</description>
			<version>8.0.0.Beta1</version>
			<fixedVersion>8.0.0.CR1</fixedVersion>
			<type>Bug</type>
		</buginformation>
		<fixedFiles>
			<file type="M">org.jboss.as.test.integration.ee.appclient.util.AppClientWrapper.java</file>
		</fixedFiles>
	</bug>
	<bug id="2564" opendate="2013-11-25 04:26:02" fixdate="2013-11-27 16:02:13" resolution="Done">
		<buginformation>
			<summary>No secure listeners defined.</summary>
			<description>Normally the following in web.xml
    &amp;lt;security-constraint&amp;gt;  
            &amp;lt;web-resource-collection&amp;gt;  
                &amp;lt;web-resource-name&amp;gt;webapp&amp;lt;/web-resource-name&amp;gt;  
                &amp;lt;url-pattern&amp;gt;/*&amp;lt;/url-pattern&amp;gt;  
            &amp;lt;/web-resource-collection&amp;gt;  
            &amp;lt;user-data-constraint&amp;gt;  
                &amp;lt;transport-guarantee&amp;gt;CONFIDENTIAL&amp;lt;/transport-guarantee&amp;gt;  
            &amp;lt;/user-data-constraint&amp;gt;  
    &amp;lt;/security-constraint&amp;gt;  
would make your web application to redirect from http to https. This is the case of JBoss EAP 6.1. Just tried out WIldFly. Undertow gives me the following instead (via AJP listener):
    07:57:57,233 ERROR [io.undertow.request] (default task-6) UT005023: Exception handling request to /dss/index.jsf: java.lang.IllegalStateException: No secure listeners defined.  
        at org.wildfly.extension.undertow.ServletContainerService.lookupSecurePort(ServletContainerService.java:107)  
Directly navigating to the web application over SSL does work.
Tomaz Cerar:
This is a bug.
it tries to find ajp connector with ssl enabled which is useless for AJP as SSL can be end pointed on apache.
It needs this info to know to what port to redirect to, as ssl can be on any port.</description>
			<version>8.0.0.CR1</version>
			<fixedVersion>8.0.0.CR1</fixedVersion>
			<type>Bug</type>
		</buginformation>
		<fixedFiles>
			<file type="M">org.wildfly.extension.undertow.AjpListenerService.java</file>
		</fixedFiles>
	</bug>
	<bug id="2559" opendate="2013-11-24 19:24:05" fixdate="2013-11-27 16:03:32" resolution="Done">
		<buginformation>
			<summary>IronJacamarResourceCreator.java Throws NullPointerException</summary>
			<description>A few rar xml configs are parsed with success, but then result in NPEs at the IronJacamarResourceCreator. I&amp;amp;apos;m not sure if the parser should be fixed too...</description>
			<version>8.0.0.Beta1</version>
			<fixedVersion>8.0.0.CR1</fixedVersion>
			<type>Bug</type>
		</buginformation>
		<fixedFiles>
			<file type="M">org.jboss.as.connector.subsystems.resourceadapters.IronJacamarResourceCreator.java</file>
		</fixedFiles>
	</bug>
	<bug id="2468" opendate="2013-11-08 01:04:13" fixdate="2013-11-27 16:04:51" resolution="Done">
		<buginformation>
			<summary>MappingModuleDefinition is incorrectly constructing the write-attribute handler</summary>
			<description>MappingModuleDefinition.registerAttribute is creating a write-attribute handler but is not passing in the correct list of AttributeDefinitions to its constructor.
See https://github.com/wildfly/wildfly/blob/master/security/src/main/java/org/jboss/as/security/MappingModuleDefinition.java#L85  it should be using the ADs returned by getAttributes(), same as L86.</description>
			<version>8.0.0.Beta1</version>
			<fixedVersion>8.0.0.CR1</fixedVersion>
			<type>Bug</type>
		</buginformation>
		<fixedFiles>
			<file type="M">org.jboss.as.security.MappingModuleDefinition.java</file>
		</fixedFiles>
	</bug>
	<bug id="1469" opendate="2013-06-07 06:55:02" fixdate="2013-11-27 16:09:50" resolution="Done">
		<buginformation>
			<summary>Mail Service should be restarted after server is added/modifed</summary>
			<description>I&amp;amp;apos;m finding that the mail service is not honoring the association with a specific outbound socket binding.
Configuration of Mail Session and Socket Binding:






[standalone@localhost:9990 /] /subsystem=mail/mail-session=java\:jboss\/mail\/ALR/server=smtp:read-resource




{




    "outcome" =&amp;gt; "success",




    "result" =&amp;gt; {




        "outbound-socket-binding-ref" =&amp;gt; "mail-smtp-25000",




        "password" =&amp;gt; undefined,




        "ssl" =&amp;gt; false,




        "tls" =&amp;gt; false,




        "username" =&amp;gt; undefined




    }




}




[standalone@localhost:9990 /] /socket-binding-group=standard-sockets/remote-destination-outbound-socket-binding=mail-smtp-25000:read-resource(recursive="true")




{




    "outcome" =&amp;gt; "success",




    "result" =&amp;gt; {




        "fixed-source-port" =&amp;gt; false,




        "host" =&amp;gt; "localhost",




        "port" =&amp;gt; 25000,




        "source-interface" =&amp;gt; undefined,




        "source-port" =&amp;gt; undefined




    }




}






Code to inject the Mail Session:






@Resource(lookup = "java:jboss/mail/ALR")




    private Session mailSession;






This injection succeeds, as I&amp;amp;apos;d expect based on the tests: 
https://github.com/wildfly/wildfly/blob/master/testsuite/integration/basic/src/test/java/org/jboss/as/test/integration/mail/annotation/StatelessMail.java#L46
However, when using this to send mail, getting the default port of "25", not "25000" as I&amp;amp;apos;ve specified in the config:






[0m[0m23:54:17,102 INFO  [stdout] (default task-1) DEBUG: getProvider() returning javax.mail.Provider[TRANSPORT,smtp,com.sun.mail.smtp.SMTPTransport,Oracle]




[0m[0m23:54:17,103 INFO  [stdout] (default task-1) DEBUG SMTP: useEhlo true, useAuth false




[0m[0m23:54:17,103 INFO  [stdout] (default task-1) DEBUG SMTP: trying to connect to host "localhost", port 25, isSSL false






I don&amp;amp;apos;t see anything in the testsuite attempting to broker mail through a non-default configuration.</description>
			<version>8.0.0.Alpha1</version>
			<fixedVersion>8.0.0.CR1</fixedVersion>
			<type>Bug</type>
		</buginformation>
		<fixedFiles>
			<file type="M">org.jboss.as.controller.RestartParentWriteAttributeHandler.java</file>
			<file type="M">org.jboss.as.mail.extension.MailServerWriteAttributeHandler.java</file>
			<file type="M">org.jboss.as.mail.extension.Namespace.java</file>
			<file type="M">org.jboss.as.mail.extension.MailSubsystemResource.java</file>
			<file type="M">org.jboss.as.test.integration.mgmt.access.ApplicationTypeTestCase.java</file>
			<file type="D">org.jboss.as.mail.extension.MailSubsystem11TestCase.java</file>
			<file type="M">org.jboss.as.mail.extension.MailServerAdd.java</file>
			<file type="M">org.jboss.as.controller.PropertiesAttributeDefinition.java</file>
			<file type="M">org.jboss.as.mail.extension.MailSessionAdd.java</file>
			<file type="M">org.jboss.as.test.integration.ejb.security.EjbSecurityDomainSetup.java</file>
			<file type="M">org.jboss.as.mail.extension.MailSessionDefinition.java</file>
			<file type="M">org.jboss.as.controller.AttributeMarshaller.java</file>
			<file type="M">org.jboss.as.controller.PersistentResourceXMLDescription.java</file>
			<file type="M">org.jboss.as.mail.extension.MailServerDefinition.java</file>
			<file type="M">org.jboss.as.mail.extension.MailExtension.java</file>
			<file type="M">org.wildfly.extension.undertow.UndertowSubsystemParser_1_0.java</file>
			<file type="M">org.jboss.as.mail.extension.MailSubsystemParser.java</file>
			<file type="M">org.jboss.as.mail.extension.MailSubsystem10TestCase.java</file>
		</fixedFiles>
	</bug>
	<bug id="2587" opendate="2013-11-27 23:29:36" fixdate="2013-11-28 05:02:34" resolution="Done">
		<buginformation>
			<summary>ManagedServerBootCmdFactory alters system property values</summary>
			<description>When ManagedServerBootCmdFactory iterates through system properties to use in the server launch command it adds a value of "true" for any properties that have no value. This is incorrect. In particular it breaks SecurityManager usage as -Djava.security.manager is a valid setting while -Djava.security.manager=true will result in
[Host Controller] 15:09:01,758 INFO  [org.jboss.as.host.controller] (Controller Boot Thread) JBAS010922: Starting server server-one
15:10:55,691 INFO  [org.jboss.as.process.Server:server-one.status] (ProcessController-threads - 3) JBAS012017: Starting process &amp;amp;apos;Server:server-one&amp;amp;apos;
[Server:server-one] Error occurred during initialization of VM
[Server:server-one] java.lang.InternalError: Could not create SecurityManager: true
[Server:server-one] 	at sun.misc.Launcher.&amp;lt;init&amp;gt;(Launcher.java:106)
[Server:server-one] 	at sun.misc.Launcher.&amp;lt;clinit&amp;gt;(Launcher.java:57)
[Server:server-one] 	at java.lang.ClassLoader.initSystemClassLoader(ClassLoader.java:1486)
[Server:server-one] 	at java.lang.ClassLoader.getSystemClassLoader(ClassLoader.java:1468)
[Server:server-one] </description>
			<version>8.0.0.Beta1</version>
			<fixedVersion>8.0.0.CR1</fixedVersion>
			<type>Bug</type>
		</buginformation>
		<fixedFiles>
			<file type="M">org.jboss.as.process.ProcessControllerClient.java</file>
			<file type="M">org.jboss.as.host.controller.ManagedServerBootCmdFactory.java</file>
		</fixedFiles>
	</bug>
	<bug id="2588" opendate="2013-11-28 11:52:24" fixdate="2013-11-28 15:32:50" resolution="Done">
		<buginformation>
			<summary>HC Main.getHostSystemProperties() does not handle additional equals in system properties properly</summary>
			<description>-Djava.security.policy==/Users/kabir/tmp/permit.policy (note the extra &amp;amp;apos;=&amp;amp;apos;) is a valid setting to just use that policy file (unlike -Djava.security.policy=/Users/kabir/tmp/permit.policy which adds it to the system wide and user policies)
Main.getHostSystemProperties() currently handles this in a way that the value becomes null, while it should be &amp;amp;apos;=/Users/kabir/tmp/permit.policy&amp;amp;apos; which causes this problem when starting up the servers 






[Server:server-one] Exception in thread "main" java.security.AccessControlException: access denied (java.util.PropertyPermission module.path write)




[Server:server-one]     at java.security.AccessControlContext.checkPermission(AccessControlContext.java:376)




[Server:server-one]     at java.security.AccessController.checkPermission(AccessController.java:549)




[Server:server-one]     at java.lang.SecurityManager.checkPermission(SecurityManager.java:532)




[Server:server-one]     at java.lang.System.setProperty(System.java:741)




[Server:server-one]     at org.jboss.modules.Main.main(Main.java:148)





</description>
			<version>8.0.0.Beta1</version>
			<fixedVersion>8.0.0.CR1</fixedVersion>
			<type>Bug</type>
		</buginformation>
		<fixedFiles>
			<file type="M">org.jboss.as.host.controller.Main.java</file>
		</fixedFiles>
	</bug>
	<bug id="2574" opendate="2013-11-26 12:11:57" fixdate="2013-11-28 15:36:50" resolution="Done">
		<buginformation>
			<summary> CliArgumentsTestCase should not rely on java beeing on path</summary>
			<description>If there is no java on path tests fail with 






java.lang.AssertionError: Failed to start CLI process: Cannot run program "java": error=2, No such file or directory




    at org.junit.Assert.fail(Assert.java:88)




    at org.jboss.as.test.integration.management.cli.CliScriptTestBase.execute(CliScriptTestBase.java:108)




    at org.jboss.as.test.integration.management.cli.CliScriptTestBase.execute(CliScriptTestBase.java:73)




    at org.jboss.as.test.integration.management.cli.CliScriptTestBase.execute(CliScriptTestBase.java:69)




    at org.jboss.as.test.integration.management.cli.CliArgumentsTestCase.testConnectArgument(CliArgumentsTestCase.java:103)






Test should use JAVA_HOME env variable or java that ran "current" process
without this fix it is really hard to properly test build with different JDKs as test will always use default java for executing commands instead of build provided/configured one</description>
			<version>8.0.0.Beta1</version>
			<fixedVersion>8.0.0.CR1</fixedVersion>
			<type>Bug</type>
		</buginformation>
		<fixedFiles>
			<file type="M">org.jboss.as.test.integration.management.cli.ArchiveTestCase.java</file>
			<file type="M">org.jboss.as.test.shared.TestSuiteEnvironment.java</file>
			<file type="M">org.jboss.as.test.integration.management.cli.FileArgumentTestCase.java</file>
			<file type="M">org.jboss.as.test.integration.management.cli.GenericCommandTestCase.java</file>
			<file type="M">org.jboss.as.test.integration.management.cli.CliScriptTestBase.java</file>
			<file type="M">org.jboss.as.test.integration.management.cli.BatchFileTestCase.java</file>
			<file type="M">org.jboss.as.test.integration.management.cli.ModuleTestCase.java</file>
			<file type="M">org.jboss.as.test.integration.management.cli.ArchiveDefaultScriptNamesTestCase.java</file>
			<file type="M">org.jboss.as.test.integration.management.cli.CliArgumentsTestCase.java</file>
			<file type="M">org.jboss.as.test.integration.management.cli.DeployTestCase.java</file>
			<file type="M">org.jboss.as.test.integration.management.cli.DeploymentScannerTestCase.java</file>
			<file type="M">org.jboss.as.test.integration.management.cli.UndeployWildcardTestCase.java</file>
			<file type="M">org.jboss.as.test.integration.management.cli.DeployURLTestCase.java</file>
			<file type="M">org.jboss.as.test.integration.management.cli.BatchTestCase.java</file>
			<file type="M">org.jboss.as.test.integration.management.cli.DeployWithRuntimeNameTestCase.java</file>
			<file type="M">org.jboss.as.test.integration.management.cli.MultipleLinesCommandsTestCase.java</file>
			<file type="M">org.jboss.as.test.integration.management.cli.DeploymentOverlayCLITestCase.java</file>
			<file type="M">org.jboss.as.test.integration.management.cli.DeploymentArchiveTestCase.java</file>
			<file type="M">org.jboss.as.test.integration.management.cli.FileWithPropertiesTestCase.java</file>
		</fixedFiles>
	</bug>
	<bug id="2227" opendate="2013-10-07 09:35:19" fixdate="2013-12-02 13:31:40" resolution="Duplicate Issue">
		<buginformation>
			<summary>Upgrade IronJacamar to 1.1.1.[CR1|Final]</summary>
			<description></description>
			<version>8.0.0.Beta1</version>
			<fixedVersion></fixedVersion>
			<type>Component Upgrade</type>
		</buginformation>
		<fixedFiles>
			<file type="M">org.jboss.as.messaging.jms.PooledConnectionFactoryService.java</file>
		</fixedFiles>
		<links>
			<link type="Dependency" description="blocks">2217</link>
			<link type="Duplicate" description="is duplicated by">2381</link>
		</links>
	</bug>
	<bug id="2381" opendate="2013-10-25 03:57:13" fixdate="2013-12-02 13:32:01" resolution="Out of Date">
		<buginformation>
			<summary>IronJacamar 1.1.1.Final</summary>
			<description></description>
			<version>8.0.0.Beta1</version>
			<fixedVersion></fixedVersion>
			<type>Component Upgrade</type>
		</buginformation>
		<fixedFiles>
			<file type="M">org.jboss.as.messaging.jms.PooledConnectionFactoryService.java</file>
		</fixedFiles>
		<links>
			<link type="Duplicate" description="duplicates">2227</link>
		</links>
	</bug>
	<bug id="2536" opendate="2013-11-19 13:08:11" fixdate="2013-12-03 14:05:19" resolution="Done">
		<buginformation>
			<summary>NPE in cli is thrown when using preserve, override without parameter</summary>
			<description></description>
			<version>8.0.0.Beta1</version>
			<fixedVersion>8.0.0.CR1</fixedVersion>
			<type>Bug</type>
		</buginformation>
		<fixedFiles>
			<file type="M">org.jboss.as.cli.impl.CommandContextImpl.java</file>
			<file type="M">org.jboss.as.patching.cli.PatchHandler.java</file>
		</fixedFiles>
	</bug>
	<bug id="2346" opendate="2013-10-21 09:42:31" fixdate="2013-12-03 16:28:22" resolution="Done">
		<buginformation>
			<summary>messaging: add 1.4 XML namespace</summary>
			<description>Add support for the 1.4 XML namespace in the messaging subsystem that added the max-saved-replicated-journal-size attribute to the hornetq-server resource (compared to the 1.3 namespace)
Same attribute should be also available in 2.0 xml namespace.</description>
			<version>8.0.0.Beta1</version>
			<fixedVersion>8.0.0.CR1</fixedVersion>
			<type>Bug</type>
		</buginformation>
		<fixedFiles>
			<file type="M">org.jboss.as.messaging.test.MessagingSubsystem20TestCase.java</file>
			<file type="M">org.jboss.as.messaging.MessagingExtension.java</file>
			<file type="M">org.jboss.as.messaging.Messaging20SubsystemParser.java</file>
			<file type="M">org.jboss.as.messaging.MessagingTransformers.java</file>
		</fixedFiles>
	</bug>
	<bug id="2612" opendate="2013-12-05 11:14:13" fixdate="2013-12-05 11:53:30" resolution="Duplicate Issue">
		<buginformation>
			<summary>The CLI should support property substitution for names of elements and not only for parameters</summary>
			<description>My customer is using client side substitution in the CLI
jboss-cli.xml:
&amp;lt;resolve-parameter-values&amp;gt;true&amp;lt;/resolve-parameter-values&amp;gt;
This works fine for example with:
/subsystem=datasources/data-source=oracleDS:add(connection-url=jdbc:oracle:thin:@server:1521:ora1, jndi-name=java:/jboss/$
{name}, driver-name=oracle)

The "name" is provided in a property file at the command line for jboss-cli.sh

This request is to extend this behaviour to allow for example:

/subsystem=datasources/data-source=${datasourcename}:add(connection-url=jdbc:oracle:thin:@server:1521:ora1, jndi-name=java:/jboss/${name}
, driver-name=oracle)
In other words, have the actual element name be substituted as well based on a property value
We know the easy workaround is to use bash embedded cli script, so the $
{datasourcename}
 can be provided by a bash variable but it would be nice if the CLI could do that. </description>
			<version>8.0.0.Beta1</version>
			<fixedVersion></fixedVersion>
			<type>Feature Request</type>
		</buginformation>
		<fixedFiles>
			<file type="M">org.jboss.as.cli.parsing.operation.PropertyState.java</file>
			<file type="M">org.jboss.as.cli.parsing.ParsingContext.java</file>
			<file type="M">org.jboss.as.cli.parsing.operation.NodeState.java</file>
			<file type="M">org.jboss.as.cli.Util.java</file>
			<file type="M">org.jboss.as.cli.parsing.StateParser.java</file>
			<file type="M">org.jboss.as.cli.parsing.command.ArgumentState.java</file>
			<file type="M">org.jboss.as.cli.parsing.operation.HeaderNameState.java</file>
			<file type="M">org.jboss.as.cli.parsing.command.CommandNameState.java</file>
			<file type="M">org.jboss.as.cli.parsing.operation.OperationNameState.java</file>
			<file type="M">org.jboss.as.cli.parsing.operation.HeaderValueState.java</file>
		</fixedFiles>
		<links>
			<link type="Duplicate" description="duplicates">2367</link>
		</links>
	</bug>
	<bug id="2625" opendate="2013-12-09 14:56:59" fixdate="2013-12-09 15:15:43" resolution="Duplicate Issue">
		<buginformation>
			<summary>Undertow &amp;apos;redirect-port&amp;apos; parameter for HTTPS</summary>
			<description>The main aspect of this feature is to allow the redirect-port configuration other than used in &amp;lt;socket-binding name="https" port="$
{jboss.https.port:8443}
"/&amp;gt;
This is very helpful in production since nobody wants to see the local port -&amp;gt; https://domain.net:8443
see also the the forum reference: https://community.jboss.org/message/848793#848793</description>
			<version>8.0.0.CR1</version>
			<fixedVersion>8.0.0.CR1</fixedVersion>
			<type>Feature Request</type>
		</buginformation>
		<fixedFiles>
			<file type="M">org.wildfly.extension.undertow.deployment.UndertowDeploymentInfoService.java</file>
			<file type="M">org.wildfly.extension.undertow.HttpListenerAdd.java</file>
			<file type="M">org.wildfly.extension.undertow.HttpListenerService.java</file>
			<file type="M">org.wildfly.extension.undertow.Constants.java</file>
			<file type="M">org.wildfly.extension.undertow.Server.java</file>
			<file type="M">org.wildfly.extension.undertow.ServletContainerService.java</file>
			<file type="M">org.wildfly.extension.undertow.ListenerService.java</file>
			<file type="M">org.wildfly.extension.undertow.AjpListenerResourceDefinition.java</file>
			<file type="M">org.wildfly.extension.undertow.AjpListenerAdd.java</file>
			<file type="M">org.wildfly.extension.undertow.ListenerResourceDefinition.java</file>
			<file type="M">org.wildfly.extension.undertow.HttpsListenerService.java</file>
			<file type="M">org.wildfly.mod_cluster.undertow.UndertowConnectorTestCase.java</file>
			<file type="M">org.wildfly.extension.undertow.UndertowSubsystemParser_1_0.java</file>
			<file type="M">org.wildfly.extension.undertow.AjpListenerService.java</file>
			<file type="M">org.wildfly.extension.undertow.HttpListenerResourceDefinition.java</file>
		</fixedFiles>
		<links>
			<link type="Duplicate" description="duplicates">2619</link>
		</links>
	</bug>
	<bug id="2398" opendate="2013-10-29 07:42:49" fixdate="2013-12-09 22:29:45" resolution="Done">
		<buginformation>
			<summary>org.jboss.as.test.smoke.deployment.rar.tests.inflow.InflowTestCase fails</summary>
			<description>Running a build of current sources with complete testsuite this test is failing with
testRegistryConfiguration(org.jboss.as.test.smoke.deployment.rar.tests.inflow.InflowTestCase): expected:&amp;lt;1&amp;gt; but was:&amp;lt;2&amp;gt;</description>
			<version>8.0.0.Beta1</version>
			<fixedVersion>8.0.0.CR1</fixedVersion>
			<type>Bug</type>
		</buginformation>
		<fixedFiles>
			<file type="M">org.jboss.as.test.smoke.deployment.rar.tests.inflow.InflowTestCase.java</file>
		</fixedFiles>
		<links>
			<link type="Duplicate" description="duplicates">2507</link>
		</links>
	</bug>
	<bug id="2614" opendate="2013-12-05 15:35:23" fixdate="2013-12-10 04:17:00" resolution="Done">
		<buginformation>
			<summary>NPE Defining security realm with invalid keystore alias</summary>
			<description>The following is logged if an invalid alias is used, the reported was pointing to a certificate and not the private key.






Caused by: java.lang.NullPointerException: invalid null input




    at java.security.KeyStore.setEntry(KeyStore.java:1321) [rt.jar:1.7.0_13]




    at org.jboss.as.domain.management.security.FileKeystore.load(FileKeystore.java:106)




    at org.jboss.as.domain.management.security.FileKeystoreService.start(FileKeystoreService.java:60)




    at org.jboss.msc.service.ServiceControllerImpl$StartTask.startService(ServiceControllerImpl.java:1944) [jboss-msc-1.2.0.Beta2.jar:1.2.0.Beta2]




    at org.jboss.msc.service.ServiceControllerImpl$StartTask.run(ServiceControllerImpl.java:1877) [jboss-msc-1.2.0.Beta2.jar:1.2.0.Beta2]




    ... 3 more






The alias should also be checked against the keystore and an appropriate error reported if not present, maybe even list the valid aliases if possible.</description>
			<version>8.0.0.Beta1</version>
			<fixedVersion>8.0.0.CR1</fixedVersion>
			<type>Bug</type>
		</buginformation>
		<fixedFiles>
			<file type="M">org.jboss.as.domain.management.security.FileKeystore.java</file>
			<file type="M">org.jboss.as.domain.management.security.FileKeystoreService.java</file>
			<file type="M">org.jboss.as.domain.management.DomainManagementMessages.java</file>
			<file type="M">org.jboss.as.domain.management.security.SecurityRealmAddHandler.java</file>
			<file type="M">org.jboss.as.domain.management.DomainManagementLogger.java</file>
		</fixedFiles>
	</bug>
	<bug id="2399" opendate="2013-10-29 07:45:10" fixdate="2013-12-10 04:20:07" resolution="Done">
		<buginformation>
			<summary>org.jboss.as.test.smoke.deployment.rar.tests.pure.PureTestCase fails</summary>
			<description>Running a build of current sources with complete testsuite this test is failing with
testRegistryConfiguration(org.jboss.as.test.smoke.deployment.rar.tests.pure.PureTestCase): expected:&amp;lt;1&amp;gt; but was:&amp;lt;2&amp;gt;
</description>
			<version>8.0.0.Beta1</version>
			<fixedVersion>8.0.0.CR1</fixedVersion>
			<type>Bug</type>
		</buginformation>
		<fixedFiles>
			<file type="M">org.jboss.as.test.smoke.deployment.rar.tests.pure.PureTestCase.java</file>
		</fixedFiles>
	</bug>
	<bug id="2266" opendate="2013-10-09 06:46:41" fixdate="2013-12-10 08:52:44" resolution="Done">
		<buginformation>
			<summary>Deployment Overlay feature is not able to replace the application libraries.</summary>
			<description>-----------------------
   According to the documentation: [1] the deployment overlay feature is applicable for "swapping out deployment descriptors, modifying static web resources to change the branding of an application, or even replacing jar libraries with different versions."   
   Here it talks about "replacing jar libraries" which is not working as expected and causes  the following error.
[1] https://docs.jboss.org/author/display/AS72/Deployment+Overlays
Follow the below sequence of deployment and overlay:
Steps to Reproduce:
------------------
Step-1). Undeploy if any existing application is deployed  and then freshly deploy the application.

[standalone@localhost:9999 /] undeploy DeploymentOverlayDemo.war 
[standalone@localhost:9999 /] deploy /home/jaysensharma/TestApp/build/DeploymentOverlayDemo.war
Step-2). Make some changes in java code "Hello.java" . Create a new JAR  Hello.jar which we want to replace at (/WEB-INF/lib/Hello.jar) using deployment-overlay feature.  In the attached ant based Demo just do "ant compile"  to create a new Jar _"$
{project.dir}
/tmp/Hello.jar"_
Step-3). Use the following command in order to replace the "/WEB-INF/lib/Hello.jar" with the newly created Hello.jar using deployment overlay feature as following:

[standalone@localhost:9999 /] deployment-overlay add --name=myOverLay_1 --content=/WEB-INF/lib/Hello.jar=/home/jaysensharma/TestApp/tmp/Hello.jar --deployments=DeploymentOverlayDemo.war --redeploy-affected
   Above causes the following Exception:

12:09:59,736 INFO  [org.wildfly.extension.undertow] (MSC service thread 1-2) JBAS018224: Unregister web context: /DeploymentOverlayDemo
12:09:59,760 WARN  [org.wildfly.extension.undertow] (MSC service thread 1-2) JBAS017530: Could not delete servlet temp file /NotBackedUp/SVN_16_Jan/WildFly/build_Apps/wildfly-8.0.0.Beta2-SNAPSHOT/standalone/tmp/DeploymentOverlayDemo.war/org/apache/jsp
12:09:59,761 WARN  [org.wildfly.extension.undertow] (MSC service thread 1-2) JBAS017530: Could not delete servlet temp file /NotBackedUp/SVN_16_Jan/WildFly/build_Apps/wildfly-8.0.0.Beta2-SNAPSHOT/standalone/tmp/DeploymentOverlayDemo.war/org/apache
12:09:59,761 WARN  [org.wildfly.extension.undertow] (MSC service thread 1-2) JBAS017530: Could not delete servlet temp file /NotBackedUp/SVN_16_Jan/WildFly/build_Apps/wildfly-8.0.0.Beta2-SNAPSHOT/standalone/tmp/DeploymentOverlayDemo.war/org
12:09:59,762 WARN  [org.wildfly.extension.undertow] (MSC service thread 1-2) JBAS017530: Could not delete servlet temp file /NotBackedUp/SVN_16_Jan/WildFly/build_Apps/wildfly-8.0.0.Beta2-SNAPSHOT/standalone/tmp/DeploymentOverlayDemo.war
12:09:59,787 INFO  [org.jboss.as.server.deployment] (MSC service thread 1-5) JBAS015877: Stopped deployment DeploymentOverlayDemo.war (runtime-name: DeploymentOverlayDemo.war) in 56ms
12:09:59,789 INFO  [org.jboss.as.server.deployment] (MSC service thread 1-8) JBAS015876: Starting deployment of "DeploymentOverlayDemo.war" (runtime-name: "DeploymentOverlayDemo.war")
12:09:59,799 ERROR [org.jboss.msc.service.fail] (MSC service thread 1-8) MSC000001: Failed to start service jboss.deployment.unit."DeploymentOverlayDemo.war".STRUCTURE: org.jboss.msc.service.StartException in service jboss.deployment.unit."DeploymentOverlayDemo.war".STRUCTURE: JBAS018733: Failed to process phase STRUCTURE of deployment "DeploymentOverlayDemo.war"
	at org.jboss.as.server.deployment.DeploymentUnitPhaseService.start(DeploymentUnitPhaseService.java:166) [wildfly-server-8.0.0.Beta2-SNAPSHOT.jar:8.0.0.Beta2-SNAPSHOT]
	at org.jboss.msc.service.ServiceControllerImpl$StartTask.startService(ServiceControllerImpl.java:1944) [jboss-msc-1.2.0.Beta2.jar:1.2.0.Beta2]
	at org.jboss.msc.service.ServiceControllerImpl$StartTask.run(ServiceControllerImpl.java:1877) [jboss-msc-1.2.0.Beta2.jar:1.2.0.Beta2]
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1145) [rt.jar:1.7.0_21]
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:615) [rt.jar:1.7.0_21]
	at java.lang.Thread.run(Thread.java:722) [rt.jar:1.7.0_21]
Caused by: org.jboss.as.server.deployment.DeploymentUnitProcessingException: JBAS018776: Failed to get content for deployment overlay myOverLay_1 at /WEB-INF/lib/Hello.jar
	at org.jboss.as.server.deployment.ContentOverrideDeploymentUnitProcessor.deploy(ContentOverrideDeploymentUnitProcessor.java:70) [wildfly-server-8.0.0.Beta2-SNAPSHOT.jar:8.0.0.Beta2-SNAPSHOT]
	at org.jboss.as.server.deployment.DeploymentUnitPhaseService.start(DeploymentUnitPhaseService.java:159) [wildfly-server-8.0.0.Beta2-SNAPSHOT.jar:8.0.0.Beta2-SNAPSHOT]
	... 5 more
Caused by: java.io.IOException: VFS000017: Filesystem already mounted at mount point ""/content/DeploymentOverlayDemo.war/WEB-INF/lib/Hello.jar""
	at org.jboss.vfs.VFS.mount(VFS.java:127) [jboss-vfs-3.2.2.Final.jar:3.2.2.Final]
	at org.jboss.vfs.VFS.doMount(VFS.java:336) [jboss-vfs-3.2.2.Final.jar:3.2.2.Final]
	at org.jboss.vfs.VFS.mountReal(VFS.java:423) [jboss-vfs-3.2.2.Final.jar:3.2.2.Final]
	at org.jboss.as.server.deployment.ContentOverrideDeploymentUnitProcessor.deploy(ContentOverrideDeploymentUnitProcessor.java:67) [wildfly-server-8.0.0.Beta2-SNAPSHOT.jar:8.0.0.Beta2-SNAPSHOT]
	... 6 more
12:09:59,805 ERROR [org.jboss.as.controller.management-operation] (management-handler-thread - 3) JBAS014613: Operation ("redeploy") failed - address: ([("deployment" =&amp;gt; "DeploymentOverlayDemo.war")]) - failure description: {"JBAS014671: Failed services" =&amp;gt; {"jboss.deployment.unit.\"DeploymentOverlayDemo.war\".STRUCTURE" =&amp;gt; "org.jboss.msc.service.StartException in service jboss.deployment.unit.\"DeploymentOverlayDemo.war\".STRUCTURE: JBAS018733: Failed to process phase STRUCTURE of deployment \"DeploymentOverlayDemo.war\"
    Caused by: org.jboss.as.server.deployment.DeploymentUnitProcessingException: JBAS018776: Failed to get content for deployment overlay myOverLay_1 at /WEB-INF/lib/Hello.jar
    Caused by: java.io.IOException: VFS000017: Filesystem already mounted at mount point \"\"/content/DeploymentOverlayDemo.war/WEB-INF/lib/Hello.jar\"\""}}
12:09:59,809 ERROR [org.jboss.as.server] (management-handler-thread - 3) JBAS015860: Redeploy of deployment "DeploymentOverlayDemo.war" was rolled back with the following failure message: 
{"JBAS014671: Failed services" =&amp;gt; {"jboss.deployment.unit.\"DeploymentOverlayDemo.war\".STRUCTURE" =&amp;gt; "org.jboss.msc.service.StartException in service jboss.deployment.unit.\"DeploymentOverlayDemo.war\".STRUCTURE: JBAS018733: Failed to process phase STRUCTURE of deployment \"DeploymentOverlayDemo.war\"
    Caused by: org.jboss.as.server.deployment.DeploymentUnitProcessingException: JBAS018776: Failed to get content for deployment overlay myOverLay_1 at /WEB-INF/lib/Hello.jar
    Caused by: java.io.IOException: VFS000017: Filesystem already mounted at mount point \"\"/content/DeploymentOverlayDemo.war/WEB-INF/lib/Hello.jar\"\""}}
12:09:59,814 INFO  [org.jboss.as.controller] (management-handler-thread - 3) JBAS014774: Service status report
JBAS014777:   Services which failed to start:      service jboss.deployment.unit."DeploymentOverlayDemo.war".STRUCTURE: org.jboss.msc.service.StartException in service jboss.deployment.unit."DeploymentOverlayDemo.war".STRUCTURE: JBAS018733: Failed to process phase STRUCTURE of deployment "DeploymentOverlayDemo.war"</description>
			<version>8.0.0.Beta1</version>
			<fixedVersion>8.0.0.CR1</fixedVersion>
			<type>Bug</type>
		</buginformation>
		<fixedFiles>
			<file type="M">org.jboss.as.server.deployment.ContentOverrideDeploymentUnitProcessor.java</file>
			<file type="M">org.jboss.as.test.integration.management.cli.DeploymentOverlayCLITestCase.java</file>
			<file type="M">org.jboss.as.server.deployment.SimpleAttachable.java</file>
			<file type="M">org.jboss.as.server.deployment.Attachments.java</file>
		</fixedFiles>
	</bug>
	<bug id="2476" opendate="2013-11-08 13:33:03" fixdate="2013-12-16 19:40:14" resolution="Done">
		<buginformation>
			<summary>Improve security subsystem test coverage</summary>
			<description>We should at least be testing expressions allowed</description>
			<version>8.0.0.Beta1</version>
			<fixedVersion>8.0.0.CR1</fixedVersion>
			<type>Bug</type>
		</buginformation>
		<fixedFiles>
			<file type="M">org.jboss.as.test.integration.domain.mixed.SimpleMixedDomainTest.java</file>
			<file type="M">org.jboss.as.security.SecurityExtension.java</file>
			<file type="M">org.jboss.as.controller.transform.description.TransformationRule.java</file>
			<file type="M">org.jboss.as.security.LegacySupport.java</file>
			<file type="M">org.jboss.as.test.integration.domain.mixed.SimpleMixedDomain_7_1_3_Final_TestCase.java</file>
			<file type="M">org.jboss.as.test.integration.domain.mixed.SimpleMixedDomain_7_1_2_Final_TestCase.java</file>
			<file type="M">org.jboss.as.security.SecurityDomainModelv12UnitTestCase.java</file>
			<file type="M">org.jboss.as.controller.test.OperationTransformationTestCase.java</file>
			<file type="M">org.jboss.as.test.integration.domain.mixed.SimpleMixedDomain_7_2_0_Final_TestCase.java</file>
		</fixedFiles>
	</bug>
	<bug id="2475" opendate="2013-11-08 12:41:36" fixdate="2013-12-16 19:40:30" resolution="Done">
		<buginformation>
			<summary>Bad marshalling of and missing transformer for identity-trust&amp;apos;s module in security subsystem</summary>
			<description>





         &amp;lt;identity-trust&amp;gt;




             &amp;lt;trust-module name="acl" code="AclThingy" flag="required" module="test"&amp;gt;




                 &amp;lt;module-option name="d" value="r"/&amp;gt;




             &amp;lt;/trust-module&amp;gt;




         &amp;lt;/identity-trust&amp;gt;






becomes






         &amp;lt;identity-trust&amp;gt;




             &amp;lt;login-module name="acl" code="AclThingy" flag="required" module="test"&amp;gt;




                 &amp;lt;module-option name="d" value="r"/&amp;gt;




             &amp;lt;/login-module&amp;gt;




         &amp;lt;/identity-trust&amp;gt;





</description>
			<version>8.0.0.Beta1</version>
			<fixedVersion>8.0.0.CR1</fixedVersion>
			<type>Bug</type>
		</buginformation>
		<fixedFiles>
			<file type="M">org.jboss.as.security.SecuritySubsystemParser.java</file>
			<file type="M">org.jboss.as.security.SecurityExtension.java</file>
		</fixedFiles>
	</bug>
	<bug id="2474" opendate="2013-11-08 12:27:16" fixdate="2013-12-16 19:40:51" resolution="Done">
		<buginformation>
			<summary>Security subsystem does not handle acl&amp;apos;s module properly, and is missing transformer</summary>
			<description>The parsed add is done for /subsystem=security/security-domain=other/acl=classic/acl-module=acl
However in the acl resource this is called login-module=acl.
WHen marshalling






	&amp;lt;acl&amp;gt;




	   &amp;lt;acl-module name="acl" code="AclThingy" flag="required" module="test"&amp;gt;




                &amp;lt;module-option name="d" value="r"/&amp;gt;




	   &amp;lt;/acl-module&amp;gt;




	&amp;lt;/acl&amp;gt;






becomes






	&amp;lt;acl&amp;gt;




	   &amp;lt;login-module name="acl" code="AclThingy" flag="required" module="test"&amp;gt;




                &amp;lt;module-option name="d" value="r"/&amp;gt;




	   &amp;lt;/login-module&amp;gt;




	&amp;lt;/acl&amp;gt;





</description>
			<version>8.0.0.Beta1</version>
			<fixedVersion>8.0.0.CR1</fixedVersion>
			<type>Bug</type>
		</buginformation>
		<fixedFiles>
			<file type="M">org.jboss.as.security.SecuritySubsystemParser.java</file>
			<file type="M">org.jboss.as.security.ACLResourceDefinition.java</file>
			<file type="M">org.jboss.as.security.SecurityExtension.java</file>
			<file type="M">org.jboss.as.security.SecurityDomainModelv12UnitTestCase.java</file>
		</fixedFiles>
		<links>
			<link type="Related" description="is related to">57</link>
		</links>
	</bug>
	<bug id="2530" opendate="2013-11-18 18:43:00" fixdate="2013-12-16 19:43:12" resolution="Done">
		<buginformation>
			<summary>If a transformer removes the headers from an operation it fails on the target host</summary>
			<description>This gives errors like:






[domain@localhost:9999 /] /profile=full-ha-7.1.x/subsystem=security/security-domain=jboss-web-policy/authorization=classic/policy-module=Delegating:write-attribute(name=module-options,value={a=&amp;gt;b})




{




    "outcome" =&amp;gt; "failed",




    "failure-description" =&amp;gt; {"host-failure-descriptions" =&amp;gt; {"slave" =&amp;gt; "JBAS010849: Operation write-attribute for address [




    (\"profile\" =&amp;gt; \"full-ha-7.1.x\"),




    (\"subsystem\" =&amp;gt; \"security\"),




    (\"security-domain\" =&amp;gt; \"jboss-web-policy\"),




    (\"authorization\" =&amp;gt; \"classic\")




] can only be handled by the master Domain Controller; this host is not the master Domain Controller"}},




    "rolled-back" =&amp;gt; true




}






This should probably be handled somewhere in the communication layer </description>
			<version>8.0.0.Beta1</version>
			<fixedVersion>8.0.0.CR1</fixedVersion>
			<type>Bug</type>
		</buginformation>
		<fixedFiles>
			<file type="M">org.jboss.as.controller.TransformingProxyController.java</file>
		</fixedFiles>
	</bug>
	<bug id="2609" opendate="2013-12-05 02:41:09" fixdate="2013-12-17 19:26:06" resolution="Done">
		<buginformation>
			<summary>Inconsistent handling of ManagementResourceRegistrations for the deployment=* tree</summary>
			<description>The intended behavior where any modification to the ManagementResourceRegistration tree rooted in deployment=* also gets written to to the deployment=/subdeployment= tree is not being consistently applied.
This behavior is implemented by using an MRR implementation class called DeploymentManagementResourceRegistration for the tree rooted in deployment=*. But there are two problems with this:
1) DMRR is only used as a wrapper exposed to callers of Extension.initiatilize(). However, that isn&amp;amp;apos;t the only place extensions register deployment MRRs. Some also do it inside DeploymentUnitProcessors or DUP initialized services. These callers are not getting a DMRR, so their modifications are not applied to both trees.
2) DeploymentManagementResourceRegistration.getSubModel() and getOverrideModel() are not returning another DeploymentManagementResourceRegistration. Instead they are returning the normal ManagementResourceRegistration in the "deployments" tree. So, if a caller invokes those methods and then makes modifications, the modifications are not applied to both trees.
This is showing up as an issue in the JPA subsystem, which defers registration of part of its model to DUPs.</description>
			<version>8.0.0.Beta1</version>
			<fixedVersion>8.0.0.CR1</fixedVersion>
			<type>Bug</type>
		</buginformation>
		<fixedFiles>
			<file type="M">org.jboss.as.jpa.service.JPAService.java</file>
			<file type="M">org.jboss.as.server.deployment.DeploymentHandlerUtil.java</file>
			<file type="M">org.jboss.as.controller.extension.ExtensionRegistry.java</file>
			<file type="D">org.jboss.as.controller.registry.DeploymentManagementResourceRegistration.java</file>
			<file type="M">org.jboss.as.server.deployment.RootDeploymentUnitService.java</file>
		</fixedFiles>
	</bug>
	<bug id="2619" opendate="2013-12-06 17:36:40" fixdate="2013-12-18 00:05:20" resolution="Done">
		<buginformation>
			<summary>Enable https port override for Undertow</summary>
			<description>At the moment the http to https redirect automatically discovers the port to redirect to - for situations where automatic discovery is not reliable e.g. port forwarding a config options should be provided to specify the redirect port to use.</description>
			<version>8.0.0.Beta1</version>
			<fixedVersion>8.0.0.CR1</fixedVersion>
			<type>Task</type>
		</buginformation>
		<fixedFiles>
			<file type="M">org.wildfly.extension.undertow.deployment.UndertowDeploymentInfoService.java</file>
			<file type="M">org.wildfly.extension.undertow.HttpListenerAdd.java</file>
			<file type="M">org.wildfly.extension.undertow.HttpListenerService.java</file>
			<file type="M">org.wildfly.extension.undertow.Constants.java</file>
			<file type="M">org.wildfly.extension.undertow.Server.java</file>
			<file type="M">org.wildfly.extension.undertow.ServletContainerService.java</file>
			<file type="M">org.wildfly.extension.undertow.ListenerService.java</file>
			<file type="M">org.wildfly.extension.undertow.AjpListenerResourceDefinition.java</file>
			<file type="M">org.wildfly.extension.undertow.AjpListenerAdd.java</file>
			<file type="M">org.wildfly.extension.undertow.ListenerResourceDefinition.java</file>
			<file type="M">org.wildfly.extension.undertow.HttpsListenerService.java</file>
			<file type="M">org.wildfly.mod_cluster.undertow.UndertowConnectorTestCase.java</file>
			<file type="M">org.wildfly.extension.undertow.UndertowSubsystemParser_1_0.java</file>
			<file type="M">org.wildfly.extension.undertow.AjpListenerService.java</file>
			<file type="M">org.wildfly.extension.undertow.HttpListenerResourceDefinition.java</file>
		</fixedFiles>
		<links>
			<link type="Duplicate" description="is duplicated by">2625</link>
		</links>
	</bug>
	<bug id="2650" opendate="2013-12-13 09:58:18" fixdate="2013-12-18 08:11:15" resolution="Done">
		<buginformation>
			<summary>EE7-defined scopes not recognized as bean defining annotations</summary>
			<description>The following EE7-defines scope annotations:
ViewScoped
FlowScoped
TransactionScoped
are packaged within WildFly and therefore not found in the Jandex index.</description>
			<version>8.0.0.Beta1</version>
			<fixedVersion>8.0.0.CR1</fixedVersion>
			<type>Bug</type>
		</buginformation>
		<fixedFiles>
			<file type="M">org.jboss.as.weld.deployment.processors.BeanDefiningAnnotationProcessor.java</file>
			<file type="M">org.jboss.as.weld.discovery.AnnotationType.java</file>
		</fixedFiles>
	</bug>
	<bug id="1271" opendate="2013-04-24 07:11:22" fixdate="2013-12-22 03:05:00" resolution="Done">
		<buginformation>
			<summary>Infinispan remote-store requires remote-servers but not marked as required in mgmt model</summary>
			<description>Affect version is actually 8.0.0.Alpha1-SNAPSHOT (before 8.0.0.Alpha1, we don&amp;amp;apos;t have such selection).
Command remote-store=REMOTE_STORE:add fails with this exception:

15:58:05,112 ERROR [org.jboss.as.controller.management-operation] (management-handler-thread - 3) JBAS014607: Failed to persist configuration change: org.jboss.as.controller.persistence.ConfigurationPersistenceException: JBAS014675: Failed to marshal configuration
	at org.jboss.as.controller.persistence.AbstractFilePersistenceResource.&amp;lt;init&amp;gt;(AbstractFilePersistenceResource.java:50) [jboss-as-controller-8.0.0.Alpha1-SNAPSHOT.jar:8.0.0.Alpha1-SNAPSHOT]
	at org.jboss.as.controller.persistence.ConfigurationFilePersistenceResource.&amp;lt;init&amp;gt;(ConfigurationFilePersistenceResource.java:45) [jboss-as-controller-8.0.0.Alpha1-SNAPSHOT.jar:8.0.0.Alpha1-SNAPSHOT]
	at org.jboss.as.controller.persistence.BackupXmlConfigurationPersister.store(BackupXmlConfigurationPersister.java:80) [jboss-as-controller-8.0.0.Alpha1-SNAPSHOT.jar:8.0.0.Alpha1-SNAPSHOT]
	at org.jboss.as.controller.ModelControllerImpl.writeModel(ModelControllerImpl.java:522) [jboss-as-controller-8.0.0.Alpha1-SNAPSHOT.jar:8.0.0.Alpha1-SNAPSHOT]
	at org.jboss.as.controller.OperationContextImpl.createPersistenceResource(OperationContextImpl.java:178) [jboss-as-controller-8.0.0.Alpha1-SNAPSHOT.jar:8.0.0.Alpha1-SNAPSHOT]
	at org.jboss.as.controller.AbstractOperationContext.doCompleteStep(AbstractOperationContext.java:359) [jboss-as-controller-8.0.0.Alpha1-SNAPSHOT.jar:8.0.0.Alpha1-SNAPSHOT]
	at org.jboss.as.controller.AbstractOperationContext.completeStepInternal(AbstractOperationContext.java:228) [jboss-as-controller-8.0.0.Alpha1-SNAPSHOT.jar:8.0.0.Alpha1-SNAPSHOT]
	at org.jboss.as.controller.AbstractOperationContext.finishStep(AbstractOperationContext.java:513) [jboss-as-controller-8.0.0.Alpha1-SNAPSHOT.jar:8.0.0.Alpha1-SNAPSHOT]
	at org.jboss.as.controller.AbstractOperationContext.executeStep(AbstractOperationContext.java:499) [jboss-as-controller-8.0.0.Alpha1-SNAPSHOT.jar:8.0.0.Alpha1-SNAPSHOT]
	at org.jboss.as.controller.AbstractOperationContext.doCompleteStep(AbstractOperationContext.java:321) [jboss-as-controller-8.0.0.Alpha1-SNAPSHOT.jar:8.0.0.Alpha1-SNAPSHOT]
	at org.jboss.as.controller.AbstractOperationContext.completeStepInternal(AbstractOperationContext.java:228) [jboss-as-controller-8.0.0.Alpha1-SNAPSHOT.jar:8.0.0.Alpha1-SNAPSHOT]
	at org.jboss.as.controller.AbstractOperationContext.executeOperation(AbstractOperationContext.java:223) [jboss-as-controller-8.0.0.Alpha1-SNAPSHOT.jar:8.0.0.Alpha1-SNAPSHOT]
	at org.jboss.as.controller.ModelControllerImpl.internalExecute(ModelControllerImpl.java:235) [jboss-as-controller-8.0.0.Alpha1-SNAPSHOT.jar:8.0.0.Alpha1-SNAPSHOT]
	at org.jboss.as.controller.ModelControllerImpl.execute(ModelControllerImpl.java:124) [jboss-as-controller-8.0.0.Alpha1-SNAPSHOT.jar:8.0.0.Alpha1-SNAPSHOT]
	at org.jboss.as.controller.remote.ModelControllerClientOperationHandler$ExecuteRequestHandler.doExecute(ModelControllerClientOperationHandler.java:148) [jboss-as-controller-8.0.0.Alpha1-SNAPSHOT.jar:8.0.0.Alpha1-SNAPSHOT]
	at org.jboss.as.controller.remote.ModelControllerClientOperationHandler$ExecuteRequestHandler.access$300(ModelControllerClientOperationHandler.java:97) [jboss-as-controller-8.0.0.Alpha1-SNAPSHOT.jar:8.0.0.Alpha1-SNAPSHOT]
	at org.jboss.as.controller.remote.ModelControllerClientOperationHandler$ExecuteRequestHandler$1.execute(ModelControllerClientOperationHandler.java:114) [jboss-as-controller-8.0.0.Alpha1-SNAPSHOT.jar:8.0.0.Alpha1-SNAPSHOT]
	at org.jboss.as.protocol.mgmt.AbstractMessageHandler$2$1.doExecute(AbstractMessageHandler.java:296) [jboss-as-protocol-8.0.0.Alpha1-SNAPSHOT.jar:8.0.0.Alpha1-SNAPSHOT]
	at org.jboss.as.protocol.mgmt.AbstractMessageHandler$AsyncTaskRunner.run(AbstractMessageHandler.java:518) [jboss-as-protocol-8.0.0.Alpha1-SNAPSHOT.jar:8.0.0.Alpha1-SNAPSHOT]
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1145) [rt.jar:1.7.0_21]
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:615) [rt.jar:1.7.0_21]
	at java.lang.Thread.run(Thread.java:722) [rt.jar:1.7.0_21]
	at org.jboss.threads.JBossThread.run(JBossThread.java:122) [jboss-threads-2.1.0.Final.jar:2.1.0.Final]
Caused by: org.jboss.as.controller.persistence.ConfigurationPersistenceException: JBAS014680: Failed to write configuration
	at org.jboss.as.controller.persistence.AbstractConfigurationPersister.marshallAsXml(AbstractConfigurationPersister.java:123) [jboss-as-controller-8.0.0.Alpha1-SNAPSHOT.jar:8.0.0.Alpha1-SNAPSHOT]
	at org.jboss.as.controller.persistence.AbstractFilePersistenceResource.&amp;lt;init&amp;gt;(AbstractFilePersistenceResource.java:43) [jboss-as-controller-8.0.0.Alpha1-SNAPSHOT.jar:8.0.0.Alpha1-SNAPSHOT]
	... 22 more
Caused by: java.lang.IllegalArgumentException
	at org.jboss.dmr.ModelValue.asList(ModelValue.java:128) [jboss-dmr-1.1.6.Final.jar:1.1.6.Final]
	at org.jboss.dmr.ModelNode.asList(ModelNode.java:1205) [jboss-dmr-1.1.6.Final.jar:1.1.6.Final]
	at org.jboss.as.clustering.infinispan.subsystem.InfinispanSubsystemXMLWriter.processCommonCacheAttributesElements(InfinispanSubsystemXMLWriter.java:282)
	at org.jboss.as.clustering.infinispan.subsystem.InfinispanSubsystemXMLWriter.writeContent(InfinispanSubsystemXMLWriter.java:124)
	at org.jboss.as.clustering.infinispan.subsystem.InfinispanSubsystemXMLWriter.writeContent(InfinispanSubsystemXMLWriter.java:42)
	at org.jboss.as.server.parsing.StandaloneXml.writeServerProfile(StandaloneXml.java:1191) [jboss-as-server-8.0.0.Alpha1-SNAPSHOT.jar:8.0.0.Alpha1-SNAPSHOT]
	at org.jboss.as.server.parsing.StandaloneXml.writeContent(StandaloneXml.java:1108) [jboss-as-server-8.0.0.Alpha1-SNAPSHOT.jar:8.0.0.Alpha1-SNAPSHOT]
	at org.jboss.as.server.parsing.StandaloneXml.writeContent(StandaloneXml.java:103) [jboss-as-server-8.0.0.Alpha1-SNAPSHOT.jar:8.0.0.Alpha1-SNAPSHOT]
	at org.jboss.staxmapper.XMLMapperImpl.doDeparse(XMLMapperImpl.java:88) [staxmapper-1.1.0.Final.jar:1.1.0.Final]
	at org.jboss.staxmapper.XMLMapperImpl.deparseDocument(XMLMapperImpl.java:83) [staxmapper-1.1.0.Final.jar:1.1.0.Final]
	at org.jboss.as.controller.persistence.AbstractConfigurationPersister.marshallAsXml(AbstractConfigurationPersister.java:117) [jboss-as-controller-8.0.0.Alpha1-SNAPSHOT.jar:8.0.0.Alpha1-SNAPSHOT]
	... 23 more
Reproduce steps:

[standalone@localhost:9999 /] /subsystem=infinispan/cache-container=web/replicated-cache=repl/file-store=FILE_STORE:remove
{
    "outcome" =&amp;gt; "success",
    "response-headers" =&amp;gt; 
Unknown macro: {
        "operation-requires-reload" =&amp;gt; true,
        "process-state" =&amp;gt; "reload-required"
    } 
}
[standalone@localhost:9999 /] /subsystem=infinispan/cache-container=web/replicated-cache=repl/remote-store=REMOTE_STORE:add
{
    "outcome" =&amp;gt; "failed",
    "failure-description" =&amp;gt; "JBAS014677: Failed to persist configuration change: JBAS014675: Failed to marshal configuration",
    "rolled-back" =&amp;gt; true,
    "response-headers" =&amp;gt; 
Unknown macro: {"process-state" =&amp;gt; "reload-required"}
}
[standalone@localhost:9999 /] /subsystem=infinispan/cache-container=web/replicated-cache=repl/remote-store=REMOTE_STORE:add(remote-servers=[])
{
    "outcome" =&amp;gt; "success",
    "response-headers" =&amp;gt; 
}
In $JBOSS_HOME/docs/schema/jboss-as-infinispan_1_3.xsd, it looks like the remote-server is required as it&amp;amp;apos;s defined as minOccurs="1":

&amp;lt;xs:element name="remote-server" type="tns:remote-server" minOccurs="1" maxOccurs="unbounded"/&amp;gt;</description>
			<version>8.0.0.Alpha4</version>
			<fixedVersion>8.0.0.CR1</fixedVersion>
			<type>Bug</type>
		</buginformation>
		<fixedFiles>
			<file type="M">org.jboss.as.clustering.infinispan.subsystem.RemoteStoreResourceDefinition.java</file>
		</fixedFiles>
	</bug>
	<bug id="2329" opendate="2013-10-17 17:55:27" fixdate="2013-12-22 03:05:35" resolution="Done">
		<buginformation>
			<summary>File upload doesn&amp;apos;t work</summary>
			<description>In the previous version it worked, but in Beta 1 stopped worked file uploading with PF4 and Mojarra 2.2.3 (neither simple upload didn&amp;amp;apos;t work - tested on blank project, only with PF4 and Apache libs and configured web.xml file)
I get no error in IDE or JS console.</description>
			<version>8.0.0.Beta1</version>
			<fixedVersion>8.0.0.CR1</fixedVersion>
			<type>Bug</type>
		</buginformation>
		<fixedFiles>
			<file type="M">org.jboss.as.server.deployment.Phase.java</file>
			<file type="M">org.jboss.as.jsf.subsystem.JSFSubsystemAdd.java</file>
		</fixedFiles>
		<links>
			<link type="Related" description="relates to">2666</link>
		</links>
	</bug>
	<bug id="2674" opendate="2013-12-19 20:38:09" fixdate="2014-01-06 17:29:09" resolution="Done">
		<buginformation>
			<summary>Criteria for triggering @TopologyChanged logic in RegistryFactoryService is wrong</summary>
			<description>There are 2 issues:
1. In the fast-fail criteria:
if (event.isPre() &amp;amp;&amp;amp; event.getCache().getCacheManager().isCoordinator()) return;
This should be an OR not an AND.
2. The channel coordinator may not have this registry service running!  Determine the "coordinator" based on the value of event.getConsistentHashAtEnd().
This is bug is probably the root cause for a number of a large number of transient failures in the clustering testsuite.</description>
			<version>8.0.0.Beta1</version>
			<fixedVersion>8.0.0.Final</fixedVersion>
			<type>Bug</type>
		</buginformation>
		<fixedFiles>
			<file type="M">org.wildfly.clustering.server.registry.RegistryFactoryService.java</file>
		</fixedFiles>
	</bug>
	<bug id="1716" opendate="2013-07-18 08:44:48" fixdate="2014-01-07 08:43:12" resolution="Done">
		<buginformation>
			<summary>NoClassDefFoundError: org/jboss/el/cache/FactoryFinderCache deploying ear with war inside</summary>
			<description>I tried to deploy my ear which works in JBoss 7 in wildfly and got the following error on deploy:
09:59:55,060 ERROR [org.jboss.msc.service.fail] (MSC service thread 1-7) MSC000001: Failed to start service jboss.deployment.subunit."my.ear"."mywar.war".POST_MODULE: org.jboss.msc.service.StartException in service jboss.deployment.subunit."my.ear"."mywar.war".POST_MODULE: JBAS018733: Failed to process phase POST_MODULE of subdeployment "mywar.war" of deployment "my.ear"
	at org.jboss.as.server.deployment.DeploymentUnitPhaseService.start(DeploymentUnitPhaseService.java:166) [wildfly-server-8.0.0.Alpha3.jar:8.0.0.Alpha3]
	at org.jboss.msc.service.ServiceControllerImpl$StartTask.startService(ServiceControllerImpl.java:1944) [jboss-msc-1.2.0.Beta2.jar:1.2.0.Beta2]
	at org.jboss.msc.service.ServiceControllerImpl$StartTask.run(ServiceControllerImpl.java:1877) [jboss-msc-1.2.0.Beta2.jar:1.2.0.Beta2]
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1145) [rt.jar:1.7.0_25]
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:615) [rt.jar:1.7.0_25]
	at java.lang.Thread.run(Thread.java:724) [rt.jar:1.7.0_25]
Caused by: java.lang.NoClassDefFoundError: org/jboss/el/cache/FactoryFinderCache
	at org.wildfly.extension.undertow.deployment.ELExpressionFactoryProcessor.deploy(ELExpressionFactoryProcessor.java:78)
	at org.jboss.as.server.deployment.DeploymentUnitPhaseService.start(DeploymentUnitPhaseService.java:159) [wildfly-server-8.0.0.Alpha3.jar:8.0.0.Alpha3]
	... 5 more
09:59:55,100 ERROR [org.jboss.as.controller.management-operation] (Controller Boot Thread) JBAS014613: Operation ("deploy") failed - address: ([("deployment" =&amp;gt; "my.ear")]) - failure description: {
    "JBAS014671: Failed services" =&amp;gt; 
{"jboss.deployment.subunit.\"my.ear\".\"mywar.war\".POST_MODULE" =&amp;gt; "org.jboss.msc.service.StartException in service jboss.deployment.subunit.\"my.ear\".\"mywar.war\".POST_MODULE: JBAS018733: Failed to process phase POST_MODULE of subdeployment \"mywar.war\" of deployment \"my.ear\"
    Caused by: java.lang.NoClassDefFoundError: org/jboss/el/cache/FactoryFinderCache"}
,
    "JBAS014771: Services with missing/unavailable dependencies" =&amp;gt; [
        "jboss.naming.context.java.comp.my-service-ejb-x-SNAPSHOT.MyServiceName.ValidatorFactory is missing [jboss.naming.context.java.comp.my-service-ejb-x-SNAPSHOT.MyServiceName]",
        "jboss.naming.context.java.comp.my-service-ejb-x-SNAPSHOT.MyServiceName.InstanceName is missing [jboss.naming.context.java.comp.my-service-ejb-x-SNAPSHOT.MyServiceName]",
        "jboss.naming.context.java.comp.my-service-ejb-x-SNAPSHOT.MyServiceName.Validator is missing [jboss.naming.context.java.comp.my-service-ejb-x-SNAPSHOT.MyServiceName]",
		&amp;lt;all other services&amp;gt;
    ]
}</description>
			<version>8.0.0.Alpha3</version>
			<fixedVersion></fixedVersion>
			<type>Bug</type>
		</buginformation>
		<fixedFiles>
			<file type="M">org.wildfly.extension.undertow.UndertowSubsystemAdd.java</file>
			<file type="D">org.wildfly.extension.undertow.deployment.ELExpressionFactoryProcessor.java</file>
		</fixedFiles>
	</bug>
	<bug id="2690" opendate="2013-12-27 00:55:45" fixdate="2014-01-08 11:11:57" resolution="Done">
		<buginformation>
			<summary>JSP/JSPX tags don&amp;apos;t work with Wildfly CR1</summary>
			<description>My app works fine on JBoss AS 7.1. When I migrate to Wildfly 8.0.0 CR1, my JSP tags don&amp;amp;apos;t work as expected. My project is a EAR with WAR module.
When app starts, in the 1st access to page A, tag file is compiled and the page are rendered fine. But when I access another page (B in example), I got this error: org.apache.jasper.JasperException: java.lang.ClassCastException: org.apache.jsp.tag.web.default_tagx cannot be cast to org.apache.jsp.tag.web.default_tagx
If I restart Wildfly and try to access page B, works fine. But when I access page A, I got the same error.
My default.tagx is bellow:
&amp;lt;jsp:root xmlns:jsp="http://java.sun.com/JSP/Page" xmlns:html="http://www.w3.org/1999/xhtml" version="2.2"&amp;gt;
    &amp;lt;jsp:output doctype-root-element="HTML" doctype-system="about:legacy-compat" omit-xml-declaration="yes" /&amp;gt;
    some code
    &amp;lt;jsp:doBody /&amp;gt;
    more code
&amp;lt;/jsp:root&amp;gt;
And the pages are somethink like this:
&amp;lt;tags:default xmlns:tags="urn:jsptagdir:/WEB-INF/tags" xmlns:jsp="http://java.sun.com/JSP/Page" xmlns:html="http://www.w3.org/1999/xhtml"&amp;gt;
    &amp;lt;jsp:output omit-xml-declaration="yes" /&amp;gt;
    my code here
&amp;lt;/tags:default&amp;gt;
I was created a new empty project with two pages and one tagfile. The error don&amp;amp;apos;t occurs. But when I add CDI capabilities, the error occurs. There are something in CDI that confuses Jastow?
As discussed here: https://community.jboss.org/message/850730</description>
			<version>8.0.0.CR1</version>
			<fixedVersion>8.0.0.Final</fixedVersion>
			<type>Bug</type>
		</buginformation>
		<fixedFiles>
			<file type="M">org.jboss.as.weld.injection.InjectionTargets.java</file>
		</fixedFiles>
		<links>
			<link type="Related" description="relates to">2062</link>
		</links>
	</bug>
	<bug id="2687" opendate="2013-12-24 14:42:41" fixdate="2014-01-08 14:17:49" resolution="Done">
		<buginformation>
			<summary>wildfly 8cr1 doesn&amp;apos;t respect welcome-file-list for resources inside jar files</summary>
			<description>The welcome-file-list is not respected for web resources inside jar.
If you call directly the welcome-file it works correctly, but if you call the folder where the welcome-file is located, you receive an Error.
My simple maven project to see the problem:
https://github.com/fiorenzino/wildfly8-welcome-file-list
</description>
			<version>8.0.0.CR1</version>
			<fixedVersion>8.0.0.Final</fixedVersion>
			<type>Bug</type>
		</buginformation>
		<fixedFiles>
			<file type="M">org.wildfly.extension.undertow.deployment.ServletResourceManager.java</file>
		</fixedFiles>
	</bug>
	<bug id="2681" opendate="2013-12-22 13:29:27" fixdate="2014-01-08 14:17:55" resolution="Done">
		<buginformation>
			<summary>HTTP Management Interface Content-Type header is broken</summary>
			<description>Problem:
HTTP Domain Management Interfaces returns invalid Content-Type header:






Content-Type: application/json;utf-8






This breaks management for lots of REST clients.
Proposed solution:
According to W3C and rfc2616 the Content-Type header should be:






Content-Type: application/json; charset=utf-8






BTW: JBoss 7.1.1 behaviour is ok. It does not send any charset parameter at all.
Example:
Request contains the following headers:






3 &amp;gt; Accept: application/json




3 &amp;gt; Content-Type: application/json




...






Wildfly 8.0.0.CR1 response after digest authentication is:






4 &amp;lt; 200




4 &amp;lt; Authentication-Info: nextnonce="EB9WbpMrUuwNMTM4NzY3MDc2NzAxMgXaHXwaKEWPxbxUj1ihuOg="




4 &amp;lt; Connection: keep-alive




4 &amp;lt; Content-Type: application/json;utf-8




4 &amp;lt; Transfer-Encoding: chunked






JBoss 7.1.1 response after digest authentication is:






4 &amp;lt; 200




4 &amp;lt; Content-type: application/json




4 &amp;lt; Date: Sat, 21 Dec 2013 23:48:36 GMT




4 &amp;lt; Transfer-encoding: chunked





</description>
			<version>8.0.0.CR1</version>
			<fixedVersion>8.0.0.Final</fixedVersion>
			<type>Bug</type>
		</buginformation>
		<fixedFiles>
			<file type="M">org.jboss.as.domain.http.server.DomainApiUploadHandler.java</file>
			<file type="M">org.jboss.as.domain.http.server.Common.java</file>
			<file type="M">org.jboss.as.test.smoke.mgmt.servermodule.HttpDeploymentUploadUnitTestCase.java</file>
			<file type="M">org.jboss.as.domain.http.server.DomainUtil.java</file>
		</fixedFiles>
	</bug>
	<bug id="2644" opendate="2013-12-12 15:45:08" fixdate="2014-01-08 15:45:38" resolution="Done">
		<buginformation>
			<summary>Java heap space exceeded looping connect/disconnect cycle</summary>
			<description>CLIModelControllerClient implementation is not cleaning up something related to connection handling which leads to OOME repeating a cycle of ensureConnected(...) and close(). On my laptop it happens after around 1400 iterations.</description>
			<version>8.0.0.Beta1</version>
			<fixedVersion>8.0.0.Final</fixedVersion>
			<type>Bug</type>
		</buginformation>
		<fixedFiles>
			<file type="M">org.jboss.as.cli.impl.CliShutdownHook.java</file>
			<file type="M">org.jboss.as.cli.impl.CommandContextImpl.java</file>
			<file type="M">org.jboss.as.cli.impl.CommandContextFactoryImpl.java</file>
			<file type="M">org.jboss.as.cli.scriptsupport.CLI.java</file>
		</fixedFiles>
	</bug>
	<bug id="2061" opendate="2013-09-13 05:54:56" fixdate="2014-01-09 19:49:54" resolution="Done">
		<buginformation>
			<summary>CLI fails to show app status when runtime-name is different from the deployment name</summary>
			<description>If an application is deployed with a different "runtime-name" other than the actual EAR "name" then CLI fails to show the Status of the application.
</description>
			<version>8.0.0.Alpha4</version>
			<fixedVersion>8.0.0.Final</fixedVersion>
			<type>Bug</type>
		</buginformation>
		<fixedFiles>
			<file type="M">org.jboss.as.test.integration.management.deploy.runtime.ServletRuntimeNameTestCase.java</file>
			<file type="M">org.jboss.as.server.deployment.DeploymentStatusHandler.java</file>
		</fixedFiles>
		<links>
			<link type="Related" description="is related to">1521</link>
		</links>
	</bug>
	<bug id="2725" opendate="2014-01-08 15:28:53" fixdate="2014-01-10 08:05:32" resolution="Done">
		<buginformation>
			<summary>Class-Path: . can cause JBAS011046: A component named &amp;apos;TestBean&amp;apos; is already defined in this module</summary>
			<description>&amp;amp;apos;JBAS011046: A component named
&amp;amp;apos;TestBean&amp;amp;apos; is already defined in this module&amp;amp;apos;, I have narrowed it
down to it occurs if they have a jar manifest with Class-Path: .
It looks like when deploying it looks at the jar with the manifest
entry which then must be having it scan the jar containing the EJB
again and failing.
Having the Class-Path: . doesn&amp;amp;apos;t really make sense to me, however it
also seems like we should not be trying to deploy it twice.
It appears ManifestClassPathProcessor ignores the . when the Class-Path is in a jar at the root of an ear but not when the jar is in a war&amp;amp;apos;s WEB-INF/lib
server/src/main/java/org/jboss/as/server/deployment/module/ManifestClassPathProcessor.java</description>
			<version>8.0.0.CR1</version>
			<fixedVersion>8.0.0.Final</fixedVersion>
			<type>Bug</type>
		</buginformation>
		<fixedFiles>
			<file type="M">org.jboss.as.server.deployment.module.ManifestClassPathProcessor.java</file>
		</fixedFiles>
	</bug>
	<bug id="2663" opendate="2013-12-17 18:33:33" fixdate="2014-01-10 22:47:56" resolution="Done">
		<buginformation>
			<summary>mod_cluster metric properties are never applied</summary>
			<description>Are parsed for but never applied.






 &amp;lt;load-metric type="busyness"&amp;gt;




                &amp;lt;property name="foo" value="bar"/&amp;gt;




            &amp;lt;/load-metric&amp;gt;





</description>
			<version>8.0.0.Beta1</version>
			<fixedVersion>8.0.0.Final</fixedVersion>
			<type>Bug</type>
		</buginformation>
		<fixedFiles>
			<file type="M">org.wildfly.extension.mod_cluster.ModClusterSubsystemAdd.java</file>
			<file type="M">org.wildfly.extension.mod_cluster.ModClusterLogger.java</file>
		</fixedFiles>
	</bug>
	<bug id="2101" opendate="2013-09-17 21:56:55" fixdate="2014-01-10 22:51:21" resolution="Done">
		<buginformation>
			<summary>An exploded war inside an exploded ear is completely destroyed </summary>
			<description>Fix for WFLY-2028 completely overwrites files in deployment:
private Closeable exportExplodedWar(final boolean war, final VirtualFile file) throws IOException {
        if (war &amp;amp;&amp;amp; !file.isFile()) {
            File warContent = file.getPhysicalFile();
            VFSUtils.recursiveCopy(file, warContent.getParentFile());
if Write-protecting deployment, the following exception is thrown:
23:09:29,392 ERROR [org.jboss.msc.service.fail] (MSC service thread 1-7) MSC000001: Failed to start service jboss.deployment.unit."mssms-ear.ear".STRUCTURE: org.jboss.msc.service.Sta
rtException in service jboss.deployment.unit."mssms-ear.ear".STRUCTURE: JBAS018733: Failed to process phase STRUCTURE of deployment "mssms-ear.ear"
        at org.jboss.as.server.deployment.DeploymentUnitPhaseService.start(DeploymentUnitPhaseService.java:166) [wildfly-server-8.0.0.Beta1-SNAPSHOT.jar:8.0.0.Beta1-SNAPSHOT]
        at org.jboss.msc.service.ServiceControllerImpl$StartTask.startService(ServiceControllerImpl.java:1944) [jboss-msc-1.2.0.Beta2.jar:1.2.0.Beta2]
        at org.jboss.msc.service.ServiceControllerImpl$StartTask.run(ServiceControllerImpl.java:1877) [jboss-msc-1.2.0.Beta2.jar:1.2.0.Beta2]
        at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1145) [rt.jar:1.7.0_40]
        at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:615) [rt.jar:1.7.0_40]
        at java.lang.Thread.run(Thread.java:724) [rt.jar:1.7.0_40]
Caused by: org.jboss.as.server.deployment.DeploymentUnitProcessingException: JBAS011060: Failed to process children for EAR ["/work/java/wildfly-8.0.0.Beta1-SNAPSHOT/standalone/deplo
yments/mssms-ear.ear"]
        at org.jboss.as.ee.structure.EarStructureProcessor.deploy(EarStructureProcessor.java:237)
        at org.jboss.as.server.deployment.DeploymentUnitPhaseService.start(DeploymentUnitPhaseService.java:159) [wildfly-server-8.0.0.Beta1-SNAPSHOT.jar:8.0.0.Beta1-SNAPSHOT]
        ... 5 more
Caused by: java.io.FileNotFoundException: /work/java/wildfly-8.0.0.Beta1-SNAPSHOT/standalone/deployments/mssms-ear.ear/mssms.war/css/test.css (Keine Berechtigung)
        at java.io.FileOutputStream.open(Native Method) [rt.jar:1.7.0_40]
        at java.io.FileOutputStream.&amp;lt;init&amp;gt;(FileOutputStream.java:221) [rt.jar:1.7.0_40]
        at java.io.FileOutputStream.&amp;lt;init&amp;gt;(FileOutputStream.java:171) [rt.jar:1.7.0_40]
        at org.jboss.vfs.VFSUtils.recursiveCopy(VFSUtils.java:725)
        at org.jboss.vfs.VFSUtils.recursiveCopy(VFSUtils.java:722)
        at org.jboss.vfs.VFSUtils.recursiveCopy(VFSUtils.java:722)
        at org.jboss.as.ee.structure.EarStructureProcessor.exportExplodedWar(EarStructureProcessor.java:277)
        at org.jboss.as.ee.structure.EarStructureProcessor.createResourceRoot(EarStructureProcessor.java:261)
        at org.jboss.as.ee.structure.EarStructureProcessor.deploy(EarStructureProcessor.java:192)
        ... 6 more
</description>
			<version>8.0.0.Beta1</version>
			<fixedVersion>8.0.0.CR1</fixedVersion>
			<type>Bug</type>
		</buginformation>
		<fixedFiles>
			<file type="M">org.jboss.as.ee.structure.EarStructureProcessor.java</file>
			<file type="M">org.jboss.as.test.integration.deployment.classloading.ear.subdeployments.SubDeploymentAvailableInClassPathTestCase.java</file>
		</fixedFiles>
	</bug>
	<bug id="2502" opendate="2013-11-13 13:24:49" fixdate="2014-01-10 22:53:44" resolution="Done">
		<buginformation>
			<summary>Naming context read-only during ResourceAdapter#stop()</summary>
			<description>When the ResourceAdapter#stop() method is invoked on an annotation based 1.6 JCR resource adapter the naming context is read only. Unbinding values results in the following exception:






09:56:31,908 WARN  [org.jboss.msc.service.fail] (MSC service thread 1-15) MSC000004: Failure during stop of service jboss.ra.deployer."rar-exposure-ear-1.0-SNAPSHOT.ear#rar-exposure-rar-1.0-SNAPSHOT": java.lang.UnsupportedOperationException: JBAS011859: Naming context is read-only




	at org.jboss.as.naming.WritableServiceBasedNamingStore.requireOwner(WritableServiceBasedNamingStore.java:147)




	at org.jboss.as.naming.WritableServiceBasedNamingStore.unbind(WritableServiceBasedNamingStore.java:113)




	at org.jboss.as.naming.NamingContext.unbind(NamingContext.java:291)




	at org.jboss.as.naming.InitialContext.unbind(InitialContext.java:167)




	at org.jboss.as.naming.NamingContext.unbind(NamingContext.java:299)




	at javax.naming.InitialContext.unbind(InitialContext.java:441) [rt.jar:1.8.0-ea]




	at com.github.marschall.eeclassloadingissues.rarexposure.ra.ExposureAdapter.stop(ExposureAdapter.java:32)




	at org.jboss.as.connector.services.resourceadapters.deployment.AbstractResourceAdapterDeploymentService.unregisterAll(AbstractResourceAdapterDeploymentService.java:182)




	at org.jboss.as.connector.services.resourceadapters.deployment.ResourceAdapterDeploymentService.unregisterAll(ResourceAdapterDeploymentService.java:158)




	at org.jboss.as.connector.services.resourceadapters.deployment.ResourceAdapterDeploymentService.stop(ResourceAdapterDeploymentService.java:149)




	at org.jboss.msc.service.ServiceControllerImpl$StopTask.stopService(ServiceControllerImpl.java:2052) [jboss-msc-1.2.0.Beta2.jar:1.2.0.Beta2]




	at org.jboss.msc.service.ServiceControllerImpl$StopTask.run(ServiceControllerImpl.java:2013) [jboss-msc-1.2.0.Beta2.jar:1.2.0.Beta2]




	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142) [rt.jar:1.8.0-ea]




	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617) [rt.jar:1.8.0-ea]




	at java.lang.Thread.run(Thread.java:724) [rt.jar:1.8.0-ea]





</description>
			<version>8.0.0.Beta1</version>
			<fixedVersion>8.0.0.Final</fixedVersion>
			<type>Bug</type>
		</buginformation>
		<fixedFiles>
			<file type="M">org.jboss.as.connector.services.resourceadapters.ResourceAdapterActivatorService.java</file>
			<file type="M">org.jboss.as.connector.services.resourceadapters.deployment.AbstractResourceAdapterDeploymentService.java</file>
			<file type="M">org.jboss.as.connector.services.resourceadapters.deployment.ResourceAdapterXmlDeploymentService.java</file>
			<file type="M">org.jboss.as.connector.subsystems.complextestcases.ParseUtils.java</file>
			<file type="M">org.jboss.as.connector.subsystems.complextestcases.AbstractComplexSubsystemTestCase.java</file>
		</fixedFiles>
		<links>
			<link type="Related" description="is related to">5528</link>
		</links>
	</bug>
	<bug id="2651" opendate="2013-12-13 13:41:23" fixdate="2014-01-13 10:32:45" resolution="Done">
		<buginformation>
			<summary> JBAS014160: Wrong tx on thread when calling async EJB method from async servlet </summary>
			<description>When trying to execute asynchronous EJB bean from asynchronous servlet, the following exception is thrown (testcase is available at https://github.com/eyusupov/async-testcase/):
2013-12-13 00:42:03,489 ERROR [org.jboss.as.txn] (EJB default - 1) JBAS010152: APPLICATION ERROR: transaction still active in request with status 0
2013-12-13 00:42:03,494 ERROR [org.jboss.as.ejb3.invocation] (EJB default - 1) JBAS014134: EJB Invocation failed on component AsyncBean for method public void com.okasamastarr.web.AsyncBean.count(javax.servlet.AsyncContext) throws java.io.IOException: java.lang.IllegalStateException: JBAS014160: Wrong tx on thread: expected TransactionImple &amp;lt; ac, BasicAction: 0:ffffac1e0f02:-40b55bbb:52aa1f96:8 status: ActionStatus.ABORTED &amp;gt;, actual null
    at org.jboss.as.ejb3.tx.CMTTxInterceptor.endTransaction(CMTTxInterceptor.java:85) [wildfly-ejb3-8.0.0.Beta1.jar:8.0.0.Beta1]
    at org.jboss.as.ejb3.tx.CMTTxInterceptor.invokeInOurTx(CMTTxInterceptor.java:277) [wildfly-ejb3-8.0.0.Beta1.jar:8.0.0.Beta1]
    at org.jboss.as.ejb3.tx.CMTTxInterceptor.required(CMTTxInterceptor.java:340) [wildfly-ejb3-8.0.0.Beta1.jar:8.0.0.Beta1]
    at org.jboss.as.ejb3.tx.CMTTxInterceptor.processInvocation(CMTTxInterceptor.java:239) [wildfly-ejb3-8.0.0.Beta1.jar:8.0.0.Beta1]
    at org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:309)
    at org.jboss.as.ejb3.component.interceptors.CurrentInvocationContextInterceptor.processInvocation(CurrentInvocationContextInterceptor.java:41) [wildfly-ejb3-8.0.0.Beta1.jar:8.0.0.Beta1]
    at org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:309)
    at org.jboss.as.ejb3.component.invocationmetrics.WaitTimeInterceptor.processInvocation(WaitTimeInterceptor.java:43) [wildfly-ejb3-8.0.0.Beta1.jar:8.0.0.Beta1]
    at org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:309)
    at org.jboss.as.ejb3.security.SecurityContextInterceptor.processInvocation(SecurityContextInterceptor.java:95) [wildfly-ejb3-8.0.0.Beta1.jar:8.0.0.Beta1]
    at org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:309)
    at org.jboss.as.ejb3.component.interceptors.ShutDownInterceptorFactory$1.processInvocation(ShutDownInterceptorFactory.java:64) [wildfly-ejb3-8.0.0.Beta1.jar:8.0.0.Beta1]
    at org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:309)
    at org.jboss.as.ejb3.component.interceptors.LoggingInterceptor.processInvocation(LoggingInterceptor.java:59) [wildfly-ejb3-8.0.0.Beta1.jar:8.0.0.Beta1]
    at org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:309)
    at org.jboss.as.ee.component.NamespaceContextInterceptor.processInvocation(NamespaceContextInterceptor.java:50)
    at org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:309)
    at org.jboss.as.ejb3.component.interceptors.AdditionalSetupInterceptor.processInvocation(AdditionalSetupInterceptor.java:55) [wildfly-ejb3-8.0.0.Beta1.jar:8.0.0.Beta1]
    at org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:309)
    at org.jboss.invocation.ContextClassLoaderInterceptor.processInvocation(ContextClassLoaderInterceptor.java:64)
    at org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:309)
    at org.jboss.invocation.InterceptorContext.run(InterceptorContext.java:325)
    at org.wildfly.security.manager.WildFlySecurityManager.doChecked(WildFlySecurityManager.java:437)
    at org.jboss.invocation.AccessCheckingInterceptor.processInvocation(AccessCheckingInterceptor.java:61)
    at org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:309)
    at org.jboss.invocation.InterceptorContext.run(InterceptorContext.java:325)
    at org.jboss.invocation.PrivilegedWithCombinerInterceptor.processInvocation(PrivilegedWithCombinerInterceptor.java:80)
    at org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:309)
    at org.jboss.invocation.ChainedInterceptor.processInvocation(ChainedInterceptor.java:61)
    at org.jboss.as.ee.component.ViewService$View.invoke(ViewService.java:165)
    at org.jboss.as.ee.component.ViewDescription$1.processInvocation(ViewDescription.java:182)
    at org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:309)
    at org.jboss.as.ejb3.component.interceptors.LogDiagnosticContextRecoveryInterceptor.processInvocation(LogDiagnosticContextRecoveryInterceptor.java:79) [wildfly-ejb3-8.0.0.Beta1.jar:8.0.0.Beta1]
    at org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:309)
    at org.jboss.as.ejb3.component.interceptors.AsyncFutureInterceptorFactory$1$1.runInvocation(AsyncFutureInterceptorFactory.java:87) [wildfly-ejb3-8.0.0.Beta1.jar:8.0.0.Beta1]
    at org.jboss.as.ejb3.component.interceptors.AsyncInvocationTask.run(AsyncInvocationTask.java:73) [wildfly-ejb3-8.0.0.Beta1.jar:8.0.0.Beta1]
    at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1145) [rt.jar:1.7.0_25]
    at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:615) [rt.jar:1.7.0_25]
    at java.lang.Thread.run(Thread.java:724) [rt.jar:1.7.0_25]
    at org.jboss.threads.JBossThread.run(JBossThread.java:122)</description>
			<version>8.0.0.Beta1</version>
			<fixedVersion>8.0.0.Final</fixedVersion>
			<type>Bug</type>
		</buginformation>
		<fixedFiles>
			<file type="M">org.jboss.as.txn.deployment.TransactionRollbackSetupAction.java</file>
		</fixedFiles>
	</bug>
	<bug id="2746" opendate="2014-01-13 10:48:26" fixdate="2014-01-13 13:13:27" resolution="Done">
		<buginformation>
			<summary>Workaround for auditlog syslog Facility not being configurable</summary>
			<description>Use -Dorg.jboss.TEMP.audit.log.facility=5 where the number is the FACILITY as mentioned in section 6.2.1 of RFC-5424</description>
			<version>8.0.0.CR1</version>
			<fixedVersion>8.0.0.Final</fixedVersion>
			<type>Bug</type>
		</buginformation>
		<fixedFiles>
			<file type="M">org.jboss.as.controller.audit.SyslogAuditLogHandler.java</file>
		</fixedFiles>
		<links>
			<link type="Cloners" description="cloned to">2753</link>
			<link type="Related" description="is related to">2747</link>
		</links>
	</bug>
	<bug id="2753" opendate="2014-01-15 05:11:45" fixdate="2014-01-15 14:32:11" resolution="Done">
		<buginformation>
			<summary>Workaround for auditlog syslog appName not being configurable</summary>
			<description>Use -Dorg.jboss.TEMP.audit.log.appName=customApp where the value is the app-name as mentioned in section 6.2.5 of RFC-5424</description>
			<version>8.0.0.CR1</version>
			<fixedVersion>8.0.0.Final</fixedVersion>
			<type>Bug</type>
		</buginformation>
		<fixedFiles>
			<file type="M">org.jboss.as.controller.audit.SyslogAuditLogHandler.java</file>
		</fixedFiles>
		<links>
			<link type="Cloners" description="cloned from">2746</link>
			<link type="Related" description="is related to">2754</link>
		</links>
	</bug>
	<bug id="2782" opendate="2014-01-20 19:23:49" fixdate="2014-01-20 22:41:21" resolution="Done">
		<buginformation>
			<summary>Testsuite leaks remoting endpoints by not closing JMXConnector</summary>
			<description>Whereever JMXConnectorFactory.connect() is called, the resulting JMXConnector should be closed</description>
			<version>8.0.0.CR1</version>
			<fixedVersion>8.0.0.Final</fixedVersion>
			<type>Bug</type>
		</buginformation>
		<fixedFiles>
			<file type="M">org.jboss.as.arquillian.container.managed.ManagedAsClientTestCase.java</file>
			<file type="M">org.jboss.as.test.integration.ee.jmx.property.JMXPropertyEditorsTestCase.java</file>
			<file type="M">org.jboss.as.test.integration.sar.servicembean.ServiceMBeanSupportTestCase.java</file>
			<file type="M">org.jboss.as.arquillian.container.ManagementClient.java</file>
			<file type="M">org.jboss.as.test.integration.sar.context.classloader.MBeanTCCLTestCase.java</file>
			<file type="M">org.jboss.as.arquillian.container.MBeanServerConnectionProvider.java</file>
			<file type="M">org.jboss.as.test.integration.mgmt.access.DeploymentScannerTestCase.java</file>
			<file type="M">org.jboss.as.arquillian.container.domain.ManagementClient.java</file>
			<file type="M">org.jboss.as.test.smoke.mgmt.servermodule.ServerInModuleDeploymentTestCase.java</file>
			<file type="M">org.jboss.as.test.smoke.sar.SarTestCase.java</file>
			<file type="M">org.jboss.as.test.integration.sar.injection.SarInjectionTestCase.java</file>
			<file type="M">org.jboss.as.test.integration.sar.injection.resource.SarResourceInjectionTestCase.java</file>
			<file type="M">org.jboss.as.test.integration.sar.SarWithinEarTestCase.java</file>
		</fixedFiles>
	</bug>
	<bug id="2739" opendate="2014-01-10 20:55:58" fixdate="2014-01-22 07:51:33" resolution="Done">
		<buginformation>
			<summary>BeanDeploymentArchive for external (WFLY) modules added twice</summary>
			<description>The Weld-WFLY integration adds a dependency on WFLY module twice if the application deployment unit is an EAR containg libs, ejbs, war, etc. It prevents an application having dependencies on a new Picketlink (PL) extension to be deployed since PL contains a portable extension which has to be injected within PL module. The Weld-validation of the second time injection  fails.</description>
			<version>8.0.0.CR1</version>
			<fixedVersion>8.0.0.Final</fixedVersion>
			<type>Bug</type>
		</buginformation>
		<fixedFiles>
			<file type="M">org.jboss.as.test.integration.weld.modules.ModuleUtils.java</file>
			<file type="M">org.jboss.as.weld.deployment.processors.ExternalBeanArchiveProcessor.java</file>
		</fixedFiles>
		<links>
			<link type="Related" description="relates to">1746</link>
			<link type="Related" description="relates to">319</link>
		</links>
	</bug>
	<bug id="2732" opendate="2014-01-09 15:35:09" fixdate="2014-01-22 08:17:28" resolution="Done">
		<buginformation>
			<summary>Injected EJB not available to MDB @PreDestroy methods</summary>
			<description>MDB with method annotated with @PreDestroy and injected EJB. In this method we are calling an EJB. When the application is undeployed the PreDestroy method is called but it fails on the call to the injected EJB as it&amp;amp;apos;s already been undeployed.
This was fixed in an RFE for Session Beans but does not seem to work for MDB.</description>
			<version>8.0.0.CR1</version>
			<fixedVersion>8.0.0.Final</fixedVersion>
			<type>Bug</type>
		</buginformation>
		<fixedFiles>
			<file type="M">org.jboss.as.ejb3.deployment.processors.merging.EjbDependsOnMergingProcessor.java</file>
		</fixedFiles>
	</bug>
	<bug id="2777" opendate="2014-01-20 10:30:00" fixdate="2014-01-23 15:03:22" resolution="Done">
		<buginformation>
			<summary>JNDI external context binding doesn&amp;apos;t properly set a module class loader</summary>
			<description>The current implementation of JNDI external context binding takes a module class loader if based by a module for loading a initialContextClassName only (note that this initialContextClassName is one of InitialContext, InitialDirContext or InitialLdapContext). While it rather needs to switch TCCL to the module class loader to be available when trying to get a new instance of it at line 87, see the snippet below. As this is the moment when it constructs a new initial context from a factory class given by environment properties.






naming/src/main/java/org/jboss/as/naming/ExternalContextObjectFactory.java






83             Module module = Module.getBootModuleLoader().loadModule(ModuleIdentifier.fromString(initialContextModule));




84             loader = module.getClassLoader();




85             initialContextClass = Class.forName(initialContextClassName, true, module.getClassLoader());




86             Constructor ctor = initialContextClass.getConstructor(Hashtable.class);




87             context = (Context) ctor.newInstance(newEnvironment);






Due to this issue the binding fails with an exception as follows:






17:02:46,740 ERROR [stderr] (default task-1) Caused by: java.lang.reflect.InvocationTargetException




17:02:46,740 ERROR [stderr] (default task-1)   at sun.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)




17:02:46,740 ERROR [stderr] (default task-1)   at sun.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:57)




17:02:46,741 ERROR [stderr] (default task-1)   at sun.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45)




17:02:46,741 ERROR [stderr] (default task-1)   at java.lang.reflect.Constructor.newInstance(Constructor.java:526)




17:02:46,742 ERROR [stderr] (default task-1)   at org.jboss.as.naming.ExternalContextObjectFactory.createContext(ExternalContextObjectFactory.java:87)




17:02:46,742 ERROR [stderr] (default task-1)   at org.jboss.as.naming.ExternalContextObjectFactory.getObjectInstance(ExternalContextObjectFactory.java:46)




17:02:46,743 ERROR [stderr] (default task-1)   at org.jboss.as.naming.subsystem.NamingBindingAdd$2.getReference(NamingBindingAdd.java:255)




17:02:46,743 ERROR [stderr] (default task-1)   ... 36 more




17:02:46,744 ERROR [stderr] (default task-1) Caused by: javax.naming.NamingException: JBAS011843: Failed instantiate InitialContextFactory org.jboss.security.jndi.JndiLoginInitialContextFactory from classloader ModuleClassLoader for Module &amp;amp;quot;deployment.messagesender.war:main&amp;amp;quot; from Service Module Loader




17:02:46,744 ERROR [stderr] (default task-1)   at org.jboss.as.naming.InitialContext.getDefaultInitCtx(InitialContext.java:116)




17:02:46,744 ERROR [stderr] (default task-1)   at org.jboss.as.naming.InitialContext.init(InitialContext.java:99)




17:02:46,745 ERROR [stderr] (default task-1)   at javax.naming.InitialContext.&amp;amp;lt;init&amp;amp;gt;(InitialContext.java:216)




17:02:46,745 ERROR [stderr] (default task-1)   at javax.naming.directory.InitialDirContext.&amp;amp;lt;init&amp;amp;gt;(InitialDirContext.java:101)




17:02:46,745 ERROR [stderr] (default task-1)   at org.jboss.as.naming.InitialContext.&amp;amp;lt;init&amp;amp;gt;(InitialContext.java:90)




17:02:46,746 ERROR [stderr] (default task-1)   at org.jboss.as.naming.InitialContextFactory.getInitialContext(InitialContextFactory.java:44)




17:02:46,746 ERROR [stderr] (default task-1)   at javax.naming.spi.NamingManager.getInitialContext(NamingManager.java:684)




17:02:46,746 ERROR [stderr] (default task-1)   at javax.naming.InitialContext.getDefaultInitCtx(InitialContext.java:307)




17:02:46,746 ERROR [stderr] (default task-1)   at javax.naming.InitialContext.init(InitialContext.java:242)




17:02:46,747 ERROR [stderr] (default task-1)   at javax.naming.InitialContext.&amp;amp;lt;init&amp;amp;gt;(InitialContext.java:216)




17:02:46,747 ERROR [stderr] (default task-1)   ... 43 more





</description>
			<version>8.0.0.CR1</version>
			<fixedVersion>8.0.0.Final</fixedVersion>
			<type>Bug</type>
		</buginformation>
		<fixedFiles>
			<file type="M">org.jboss.as.naming.ExternalContextObjectFactory.java</file>
		</fixedFiles>
		<links>
			<link type="Related" description="is related to">287</link>
		</links>
	</bug>
	<bug id="2775" opendate="2014-01-20 09:45:22" fixdate="2014-01-23 17:22:46" resolution="Done">
		<buginformation>
			<summary>Startup exception when setting "enabled-cipher-suites" attribute in standalone.xml</summary>
			<description>See: http://lists.jboss.org/pipermail/undertow-dev/2014-January/000670.html
I&amp;amp;apos;m having an issue when configuring a HTTPS listener for Undertow via the JBOSS standalone.xml method.
I get the following exception on startup:
2014-01-16 16:00:34,521 ERROR [org.jboss.msc.service.fail](MSC service thread 1-9) MSC000001: Failed to start service jboss.undertow.listener.https: org.jboss.msc.service.StartException in service jboss.undertow.listener.https: Failed to start service
	at org.jboss.msc.service.ServiceControllerImpl$StartTask.run(ServiceControllerImpl.java:1904)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1145)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:615)
	at java.lang.Thread.run(Thread.java:724)
Caused by: java.lang.ClassCastException: Not a sequence
	at org.xnio.SequenceOption.cast(SequenceOption.java:57)
	at org.xnio.SequenceOption.cast(SequenceOption.java:31)
	at org.xnio.OptionMap.get(OptionMap.java:64)
	at org.xnio.OptionMap$Builder.copy(OptionMap.java:510)
	at org.xnio.OptionMap$Builder.addAll(OptionMap.java:522)
	at org.wildfly.extension.undertow.HttpListenerService.createOpenListener(HttpListenerService.java:91)
	at org.wildfly.extension.undertow.ListenerService.start(ListenerService.java:122)
	at org.jboss.msc.service.ServiceControllerImpl$StartTask.startService(ServiceControllerImpl.java:1948)
	at org.jboss.msc.service.ServiceControllerImpl$StartTask.run(ServiceControllerImpl.java:1881)
	... 3 more
My JBOSS Undertow configuration looks like this:
&amp;lt;subsystem xmlns="urn:jboss:domain:undertow:1.0"&amp;gt;       
            &amp;lt;buffer-caches&amp;gt;
                &amp;lt;buffer-cache name="default" buffer-size="1024" buffers-per-region="1024" max-regions="10"/&amp;gt;
            &amp;lt;/buffer-caches&amp;gt;
            &amp;lt;server name="default-server"&amp;gt;            	
                &amp;lt;ajp-listener name="ajp" socket-binding="ajp"/&amp;gt;
                &amp;lt;http-listener name="http" socket-binding="http"/&amp;gt;
                &amp;lt;https-listener name="https" socket-binding="https" security-realm="ApplicationRealm" enabled-cipher-suites="TLS_ECDHE_ECDSA_WITH_AES_128_CBC_SHA,TLS_ECDHE_RSA_WITH_AES_128_CBC_SHA,TLS_RSA_WITH_AES_128_CBC_SHA,TLS_ECDH_ECDSA_WITH_AES_128_CBC_SHA,TLS_ECDH_RSA_WITH_AES_128_CBC_SHA,TLS_DHE_RSA_WITH_AES_128_CBC_SHA,TLS_DHE_DSS_WITH_AES_128_CBC_SHA,TLS_ECDHE_ECDSA_WITH_RC4_128_SHA,TLS_ECDHE_RSA_WITH_RC4_128_SHA,SSL_RSA_WITH_RC4_128_SHA,TLS_ECDH_ECDSA_WITH_RC4_128_SHA,TLS_ECDH_RSA_WITH_RC4_128_SHA,TLS_ECDHE_ECDSA_WITH_3DES_EDE_CBC_SHA,TLS_ECDHE_RSA_WITH_3DES_EDE_CBC_SHA,SSL_RSA_WITH_3DES_EDE_CBC_SHA,TLS_ECDH_ECDSA_WITH_3DES_EDE_CBC_SHA,TLS_ECDH_RSA_WITH_3DES_EDE_CBC_SHA,SSL_DHE_RSA_WITH_3DES_EDE_CBC_SHA,SSL_DHE_DSS_WITH_3DES_EDE_CBC_SHA,TLS_EMPTY_RENEGOTIATION_INFO_SCSV" /&amp;gt;
                &amp;lt;host name="default-host" alias="localhost"&amp;gt;
                    &amp;lt;location name="/" handler="welcome-content"/&amp;gt;
                    &amp;lt;access-log directory="$
{jboss.server.base.dir}
/log" prefix="localhost_access_log."/&amp;gt;
                &amp;lt;/host&amp;gt;
            &amp;lt;/server&amp;gt;
            &amp;lt;servlet-container name="default" default-buffer-cache="default" stack-trace-on-error="local-only"&amp;gt;
                &amp;lt;jsp-config x-powered-by="false"/&amp;gt;
                &amp;lt;persistent-sessions/&amp;gt;
            &amp;lt;/servlet-container&amp;gt;
            &amp;lt;handlers&amp;gt;
                &amp;lt;file name="welcome-content" path="$
{jboss.home.dir}
/welcome-content" directory-listing="true"/&amp;gt;
            &amp;lt;/handlers&amp;gt;
        &amp;lt;/subsystem&amp;gt;
By process of elimination, I&amp;amp;apos;ve found that removing the "enabled-cipher-suites" attribute makes the problem go away, so it appears this is the culprit.
The value I&amp;amp;apos;m using for this attribute has simply been copied from our jboss-web configuration, previously "cipher-suite".</description>
			<version>8.0.0.CR1</version>
			<fixedVersion>8.0.0.Final</fixedVersion>
			<type>Bug</type>
		</buginformation>
		<fixedFiles>
			<file type="M">org.wildfly.extension.io.OptionAttributeDefinition.java</file>
			<file type="M">org.wildfly.extension.io.WorkerService.java</file>
			<file type="M">org.wildfly.extension.undertow.UndertowSubsystemTestCase.java</file>
		</fixedFiles>
	</bug>
	<bug id="2695" opendate="2013-12-30 23:34:01" fixdate="2014-01-23 18:57:53" resolution="Done">
		<buginformation>
			<summary>Creating named formater patterns for offline servers fail</summary>
			<description>After adding and attaching a named formatter to an offline server starting the server fails due to an invalid logging configuration.
server-one fails with:
{{
[Server:server-one] 00:08:00,214 ERROR [org.jboss.as.controller.management-operation] (Controller Boot Thread) JBAS014612: Operation ("add") failed - address: ([
[Server:server-one]     ("subsystem" =&amp;gt; "logging"),
[Server:server-one]     ("console-handler" =&amp;gt; "CONSOLE")
[Server:server-one] ]): java.lang.IllegalArgumentException: Formatter "TESTPATTERN" is not found
}}
I assume logging.properties is written too late in LoggingOperations.java</description>
			<version>8.0.0.CR1</version>
			<fixedVersion>8.0.0.Final</fixedVersion>
			<type>Bug</type>
		</buginformation>
		<fixedFiles>
			<file type="M">org.jboss.as.logging.LoggingExtension.java</file>
		</fixedFiles>
	</bug>
	<bug id="2224" opendate="2013-10-05 12:56:54" fixdate="2014-01-25 05:08:24" resolution="Done">
		<buginformation>
			<summary>CLI doesn&amp;apos;t exit batch mode when failures occur in run-batch</summary>
			<description>If you execute a batch that fails, the CLI remains in batch mode.
[domain@localhost:9990 /] batch
[domain@localhost:9990 / #] /profile=test:add
#1 /profile=test:add
[domain@localhost:9990 / #] :bogus
#2 /:bogus
[domain@localhost:9990 / #] run-batch
JBAS014884: No operation named &amp;amp;apos;bogus&amp;amp;apos; exists at address []
[domain@localhost:9990 / #]
This might be intentional (e.g. to let me fix a typo in my ":bogus" op), but if so, perhaps some output explaining that would be good? And for non-interactive mode staying in the batch seems wrong.
The same problem occurs in the EAP branch, which is where I first noticed it when investigating another issue. In that case the :bogus command wasn&amp;amp;apos;t bogus but was a proper op that failed for legitimate reasons. </description>
			<version>8.0.0.Beta1</version>
			<fixedVersion>8.0.0.Final</fixedVersion>
			<type>Bug</type>
		</buginformation>
		<fixedFiles>
			<file type="M">org.jboss.as.cli.handlers.batch.BatchRunHandler.java</file>
			<file type="M">org.jboss.as.cli.handlers.BaseOperationCommand.java</file>
		</fixedFiles>
	</bug>
	<bug id="2794" opendate="2014-01-22 17:41:45" fixdate="2014-01-25 05:08:45" resolution="Done">
		<buginformation>
			<summary>FileSystemPathArgument doesn&amp;apos;t translate paths in getValue(args, required)</summary>
			<description>FileSystemPathArgument uses its OS-specific tab-completer to resolve absolute paths in its getValue(args) method but not in getValue(args, required).</description>
			<version>8.0.0.CR1</version>
			<fixedVersion>8.0.0.Final</fixedVersion>
			<type>Bug</type>
		</buginformation>
		<fixedFiles>
			<file type="M">org.jboss.as.cli.impl.FileSystemPathArgument.java</file>
		</fixedFiles>
	</bug>
	<bug id="2808" opendate="2014-01-24 08:21:41" fixdate="2014-01-26 02:51:11" resolution="Done">
		<buginformation>
			<summary>Method typo in BasicIIOPInvocationTestCase</summary>
			<description>Correct method typo in BasicIIOPInvocationTestCase, and HandleWrapper should be serializable.</description>
			<version>8.0.0.CR1</version>
			<fixedVersion>8.0.0.Final</fixedVersion>
			<type>Bug</type>
		</buginformation>
		<fixedFiles>
			<file type="M">org.jboss.as.test.iiop.basic.HandleWrapper.java</file>
			<file type="M">org.jboss.as.test.iiop.basic.BasicIIOPInvocationTestCase.java</file>
		</fixedFiles>
	</bug>
	<bug id="2756" opendate="2014-01-15 10:30:59" fixdate="2014-01-28 07:53:35" resolution="Done">
		<buginformation>
			<summary>Default connector is hardcoded in JMS connection factory definition</summary>
			<description>When JMS connection factory definitions are used to setup connection factory, the messaging subsystem adds the "netty" connector if no connectors are specified in the definition.
This introduces a problem if users do not define a connector named "netty" in their configuration (as it will be the case when we switch to using the http-connector instead of the remote-connector by default).
Workaround this is to ask HornetQ for the connectors that can be used and pick one (and logs a warning message telling the user that it should not depend on that behaviour and explicitly specify which connector to use).</description>
			<version>8.0.0.CR1</version>
			<fixedVersion>8.0.0.Final</fixedVersion>
			<type>Bug</type>
		</buginformation>
		<fixedFiles>
			<file type="M">org.jboss.as.messaging.jms.PooledConnectionFactoryService.java</file>
			<file type="M">org.jboss.as.messaging.MessagingLogger.java</file>
			<file type="M">org.jboss.as.messaging.deployment.DirectJMSConnectionFactoryInjectionSource.java</file>
		</fixedFiles>
	</bug>
	<bug id="2704" opendate="2014-01-02 21:03:52" fixdate="2014-01-28 18:06:24" resolution="Done">
		<buginformation>
			<summary>FORM authenticated identity lost on failover</summary>
			<description>Unlike BASIC, DIGEST, and CERT authentication, FORM authentication requires an additional server side mechanism to store the credentials from the login form so that a user does not need to reauthenticate on failover.
Traditionally, clustered SSO was the mechanism of choice (see https://issues.jboss.org/browse/JBAS-1900 )
An analogous strategy is needed for Undertow.</description>
			<version>8.0.0.CR1</version>
			<fixedVersion>8.0.0.Final</fixedVersion>
			<type>Bug</type>
		</buginformation>
		<fixedFiles>
			<file type="M">org.wildfly.clustering.web.undertow.session.SessionAdapter.java</file>
			<file type="M">org.wildfly.clustering.web.undertow.session.SessionAdapterTestCase.java</file>
		</fixedFiles>
	</bug>
	<bug id="2735" opendate="2014-01-10 13:33:29" fixdate="2014-01-28 18:25:16" resolution="Done">
		<buginformation>
			<summary>read-operation-names causes NullPointerException</summary>
			<description>CLI command&amp;gt; /core-service=*/:read-operation-names
08:27:16,461 ERROR [org.jboss.as.controller.management-operation] (management-handler-thread - 4) JBAS014612: Operation ("read-operation-names") failed - address: ([("cor
e-service" =&amp;gt; "*")]): java.lang.NullPointerException
        at org.jboss.as.controller.operations.global.ReadOperationNamesHandler.execute(ReadOperationNamesHandler.java:78) [wildfly-controller-8.0.0.Final-SNAPSHOT.jar:8.0
.0.Final-SNAPSHOT]
        at org.jboss.as.controller.AbstractOperationContext.executeStep(AbstractOperationContext.java:591) [wildfly-controller-8.0.0.Final-SNAPSHOT.jar:8.0.0.Final-SNAPSH
OT]
        at org.jboss.as.controller.AbstractOperationContext.doCompleteStep(AbstractOperationContext.java:469) [wildfly-controller-8.0.0.Final-SNAPSHOT.jar:8.0.0.Final-SNA
PSHOT]
        at org.jboss.as.controller.AbstractOperationContext.completeStepInternal(AbstractOperationContext.java:273) [wildfly-controller-8.0.0.Final-SNAPSHOT.jar:8.0.0.Fin
al-SNAPSHOT]
        at org.jboss.as.controller.AbstractOperationContext.executeOperation(AbstractOperationContext.java:268) [wildfly-controller-8.0.0.Final-SNAPSHOT.jar:8.0.0.Final-S
NAPSHOT]
        at org.jboss.as.controller.ModelControllerImpl.internalExecute(ModelControllerImpl.java:272) [wildfly-controller-8.0.0.Final-SNAPSHOT.jar:8.0.0.Final-SNAPSHOT]
        at org.jboss.as.controller.ModelControllerImpl.execute(ModelControllerImpl.java:146) [wildfly-controller-8.0.0.Final-SNAPSHOT.jar:8.0.0.Final-SNAPSHOT]
        at org.jboss.as.controller.remote.ModelControllerClientOperationHandler$ExecuteRequestHandler.doExecute(ModelControllerClientOperationHandler.java:174) [wildfly-c
ontroller-8.0.0.Final-SNAPSHOT.jar:8.0.0.Final-SNAPSHOT]
        at org.jboss.as.controller.remote.ModelControllerClientOperationHandler$ExecuteRequestHandler.access$300(ModelControllerClientOperationHandler.java:105) [wildfly-
controller-8.0.0.Final-SNAPSHOT.jar:8.0.0.Final-SNAPSHOT]
        at org.jboss.as.controller.remote.ModelControllerClientOperationHandler$ExecuteRequestHandler$1$1.run(ModelControllerClientOperationHandler.java:125) [wildfly-con
troller-8.0.0.Final-SNAPSHOT.jar:8.0.0.Final-SNAPSHOT]
        at org.jboss.as.controller.remote.ModelControllerClientOperationHandler$ExecuteRequestHandler$1$1.run(ModelControllerClientOperationHandler.java:121) [wildfly-con
troller-8.0.0.Final-SNAPSHOT.jar:8.0.0.Final-SNAPSHOT]
        at java.security.AccessController.doPrivileged(Native Method) [rt.jar:1.7.0_15]
        at javax.security.auth.Subject.doAs(Subject.java:415) [rt.jar:1.7.0_15]
        at org.jboss.as.controller.AccessAuditContext.doAs(AccessAuditContext.java:94) [wildfly-controller-8.0.0.Final-SNAPSHOT.jar:8.0.0.Final-SNAPSHOT]
        at org.jboss.as.controller.remote.ModelControllerClientOperationHandler$ExecuteRequestHandler$1.execute(ModelControllerClientOperationHandler.java:121) [wildfly-c
ontroller-8.0.0.Final-SNAPSHOT.jar:8.0.0.Final-SNAPSHOT]
        at org.jboss.as.protocol.mgmt.AbstractMessageHandler$2$1.doExecute(AbstractMessageHandler.java:283) [wildfly-protocol-8.0.0.Final-SNAPSHOT.jar:8.0.0.Final-SNAPSHO
T]
        at org.jboss.as.protocol.mgmt.AbstractMessageHandler$AsyncTaskRunner.run(AbstractMessageHandler.java:504) [wildfly-protocol-8.0.0.Final-SNAPSHOT.jar:8.0.0.Final-S
NAPSHOT]
        at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1145) [rt.jar:1.7.0_15]
        at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:615) [rt.jar:1.7.0_15]
        at java.lang.Thread.run(Thread.java:722) [rt.jar:1.7.0_15]
        at org.jboss.threads.JBossThread.run(JBossThread.java:122) [jboss-threads-2.1.1.Final.jar:2.1.1.Final]
</description>
			<version>8.0.0.CR1</version>
			<fixedVersion>8.0.0.Final</fixedVersion>
			<type>Bug</type>
		</buginformation>
		<fixedFiles>
			<file type="M">org.jboss.as.controller.operations.global.ReadOperationNamesHandler.java</file>
			<file type="M">org.jboss.as.controller.operations.global.WriteAttributeHandler.java</file>
			<file type="M">org.jboss.as.controller.operations.global.ReadChildrenTypesHandler.java</file>
		</fixedFiles>
	</bug>
	<bug id="2760" opendate="2014-01-16 09:44:26" fixdate="2014-01-29 12:18:25" resolution="Done">
		<buginformation>
			<summary> Intermittent failure of ExternalContextBindingTestCase</summary>
			<description>The server setup task sometimes fails to start the ApacheDS server instance because for some reason, BouncyCastle security provider doesn&amp;amp;apos;t get registered (it is added through a maven dependency rather than added to the JDK). This leads to a "connection refused" error during the test when it is trying to connect to the LDAP instance.
It worked for us if we just programatically forced registration of the BouncyCastleProvider before the initialization of ApacheDS.</description>
			<version>8.0.0.CR1</version>
			<fixedVersion></fixedVersion>
			<type>Bug</type>
		</buginformation>
		<fixedFiles>
			<file type="M">org.jboss.as.test.integration.security.loginmodules.negotiation.AdvancedLdapLoginModuleTestCase.java</file>
			<file type="M">org.jboss.as.test.integration.naming.ExternalContextBindingTestCase.java</file>
			<file type="M">org.jboss.as.test.integration.security.loginmodules.negotiation.SPNEGOLoginModuleTestCase.java</file>
		</fixedFiles>
	</bug>
	<bug id="2773" opendate="2014-01-17 12:53:03" fixdate="2014-01-29 12:18:49" resolution="Done">
		<buginformation>
			<summary>ClientConfigurationImpl should not translate IP address to host name</summary>
			<description>When creating a ModelControllerClient and passing in an IP address, ClientConfigurationImpl internally translates it to a host name, like here:






public static ModelControllerClientConfiguration create(final InetAddress address, final int port) {




        return new ClientConfigurationImpl(address.getHostName(), port, null, null, null, createDefaultExecutor(), true, null);




    }






Later on, when the client connects, it is translated via DNS back to an IP address. This is not only unnecessary, but in some situations, it is wrong.
Consider a Windows machine having two IP addresses ,A and B, on one network interface, where only A is pointed at by a DNS record. 

Run AS testsuite and pass it the address B as the node0 property, AS will bind itself to this address.
Now when a test creates a ModelControllerClient using IP address B, the address B will get translated to the host name, even though B is not in the DNS. The resolving works this way on a Windows machine.
During the connection, the host name will get resolved by DNS to address A and the test will try to connect through address A. The connection will be refused, or worse, might connect to another instance on the same machine.

</description>
			<version>8.0.0.CR1</version>
			<fixedVersion></fixedVersion>
			<type>Bug</type>
		</buginformation>
		<fixedFiles>
			<file type="M">org.jboss.as.controller.client.impl.ClientConfigurationImpl.java</file>
		</fixedFiles>
	</bug>
	<bug id="2591" opendate="2013-11-30 14:29:25" fixdate="2014-01-29 14:04:33" resolution="Duplicate Issue">
		<buginformation>
			<summary>CLI can not connect to the server started with port-offset</summary>
			<description>If a standalone server is started with a binding port-offset it is not possible to connect to the native management interface.
To reproduce start a WildFly Beta server (Alpha3 has the same problem)
  bin/standalone.sh -Djboss.socket.binding.port-offset=100
and a cli client:
  bin/jboss-cli.sh -c --controller=localhost:10099
It makes no difference whether the port is changed by port-offset or configuration.
All other ports (i.e. 10090 8180) can be used correct for http-management or ejb invocation.
The server log an ERROR message:
ERROR [org.jboss.remoting.remote.connection] (Remoting "home:MANAGEMENT" I/O-1) JBREM000200: Remote connection failed: java.io.IOException: XNIO000804: Received an invalid message length of 1195725856
The jboss-cli.sh client show:
org.jboss.as.cli.CliInitializationException: Failed to connect to the controller
	at org.jboss.as.cli.impl.CliLauncher.initCommandContext(CliLauncher.java:240)
	at org.jboss.as.cli.impl.CliLauncher.main(CliLauncher.java:218)
	at org.jboss.as.cli.CommandLineMain.main(CommandLineMain.java:34)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:57)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:606)
	at org.jboss.modules.Module.run(Module.java:292)
	at org.jboss.modules.Main.main(Main.java:455)
Caused by: org.jboss.as.cli.CommandLineException: The controller is not available at localhost:10099
	at org.jboss.as.cli.impl.CommandContextImpl.tryConnection(CommandContextImpl.java:960)
	at org.jboss.as.cli.impl.CommandContextImpl.connectController(CommandContextImpl.java:790)
	at org.jboss.as.cli.impl.CommandContextImpl.connectController(CommandContextImpl.java:772)
	at org.jboss.as.cli.impl.CliLauncher.initCommandContext(CliLauncher.java:238)
	... 8 more
Caused by: java.io.IOException: java.net.ConnectException: JBAS012174: Could not connect to http-remoting://localhost:10099. The connection failed
	at org.jboss.as.controller.client.impl.AbstractModelControllerClient.executeForResult(AbstractModelControllerClient.java:129)
	at org.jboss.as.controller.client.impl.AbstractModelControllerClient.execute(AbstractModelControllerClient.java:71)
	at org.jboss.as.cli.impl.CommandContextImpl.tryConnection(CommandContextImpl.java:938)
	... 11 more
Caused by: java.net.ConnectException: JBAS012174: Could not connect to http-remoting://localhost:10099. The connection failed
	at org.jboss.as.protocol.ProtocolConnectionUtils.connectSync(ProtocolConnectionUtils.java:129)
	at org.jboss.as.protocol.ProtocolConnectionManager$EstablishingConnection.connect(ProtocolConnectionManager.java:256)
	at org.jboss.as.protocol.ProtocolConnectionManager.connect(ProtocolConnectionManager.java:70)
	at org.jboss.as.protocol.mgmt.FutureManagementChannel$Establishing.getChannel(FutureManagementChannel.java:204)
	at org.jboss.as.cli.impl.CLIModelControllerClient.getOrCreateChannel(CLIModelControllerClient.java:166)
	at org.jboss.as.cli.impl.CLIModelControllerClient$2.getChannel(CLIModelControllerClient.java:127)
	at org.jboss.as.protocol.mgmt.ManagementChannelHandler.executeRequest(ManagementChannelHandler.java:117)
	at org.jboss.as.protocol.mgmt.ManagementChannelHandler.executeRequest(ManagementChannelHandler.java:92)
	at org.jboss.as.controller.client.impl.AbstractModelControllerClient.executeRequest(AbstractModelControllerClient.java:236)
	at org.jboss.as.controller.client.impl.AbstractModelControllerClient.execute(AbstractModelControllerClient.java:141)
	at org.jboss.as.controller.client.impl.AbstractModelControllerClient.executeForResult(AbstractModelControllerClient.java:127)
	... 13 more
Caused by: java.io.EOFException: XNIO000812: Connection closed unexpectedly
	at org.xnio.http.HttpUpgrade$HttpUpgradeState$UpgradeResultListener.handleEvent(HttpUpgrade.java:283)
	at org.xnio.http.HttpUpgrade$HttpUpgradeState$UpgradeResultListener.handleEvent(HttpUpgrade.java:266)
	at org.xnio.ChannelListeners.invokeChannelListener(ChannelListeners.java:92)
	at org.xnio.conduits.ReadReadyHandler$ChannelListenerHandler.readReady(ReadReadyHandler.java:66)
	at org.xnio.nio.NioSocketConduit.handleReady(NioSocketConduit.java:87)
	at org.xnio.nio.WorkerThread.run(WorkerThread.java:528)
	at ...asynchronous invocation...(Unknown Source)
	at org.jboss.remoting3.EndpointImpl.doConnect(EndpointImpl.java:272)
	at org.jboss.remoting3.EndpointImpl.doConnect(EndpointImpl.java:253)
	at org.jboss.remoting3.EndpointImpl.connect(EndpointImpl.java:351)
	at org.jboss.remoting3.EndpointImpl.connect(EndpointImpl.java:339)
	at org.jboss.as.protocol.ProtocolConnectionUtils.connect(ProtocolConnectionUtils.java:80)
	at org.jboss.as.protocol.ProtocolConnectionUtils.connectSync(ProtocolConnectionUtils.java:99)
	... 23 more</description>
			<version>8.0.0.Beta1</version>
			<fixedVersion>8.0.0.Final</fixedVersion>
			<type>Sub-task</type>
		</buginformation>
		<fixedFiles>
			<file type="M">org.jboss.as.test.integration.management.util.CLITestUtil.java</file>
			<file type="M">org.jboss.as.jdr.JdrRunner.java</file>
			<file type="M">org.jboss.as.cli.scriptsupport.CLI.java</file>
			<file type="M">org.jboss.as.cli.CliConfig.java</file>
			<file type="M">org.jboss.as.cli.impl.ModelControllerClientFactory.java</file>
			<file type="M">org.jboss.as.cli.ControllerAddressResolver.java</file>
			<file type="M">org.jboss.as.cli.completion.mock.MockCliConfig.java</file>
			<file type="M">org.jboss.as.cli.impl.CommandContextImpl.java</file>
			<file type="M">org.jboss.as.cli.impl.CLIModelControllerClient.java</file>
			<file type="M">org.jboss.as.cli.impl.CliConfigImpl.java</file>
			<file type="M">org.jboss.as.cli.CommandContext.java</file>
			<file type="M">org.jboss.as.cli.impl.CliLauncher.java</file>
			<file type="M">org.jboss.as.cli.completion.mock.MockCommandContext.java</file>
			<file type="M">org.jboss.as.cli.impl.CommandContextFactoryImpl.java</file>
			<file type="M">org.jboss.as.cli.gui.ConnectDialog.java</file>
			<file type="M">org.jboss.as.test.integration.management.util.CLIWrapper.java</file>
			<file type="M">org.jboss.as.cli.CommandContextFactory.java</file>
			<file type="M">org.jboss.as.cli.handlers.ConnectHandler.java</file>
		</fixedFiles>
		<links>
			<link type="Duplicate" description="duplicates">1664</link>
		</links>
	</bug>
	<bug id="2730" opendate="2014-01-09 14:47:33" fixdate="2014-01-30 09:10:49" resolution="Done">
		<buginformation>
			<summary>HTTP upgrade does not accept multiple acceptors</summary>
			<description>The http-acceptors are multiplexed over the HTTP port.
If there are multiple http-acceptors registered, a http-connector that uses the HTTP upgrade mechanism will use the first whose handshake is successful and can not chose a given http-acceptor.
With native messaging ports, the solution was to use different ports for different acceptors but with HTTP upgrade, everything goes through the HTTP port.
HornetQ connectors must pass "http-upgrade-endpoint" when the HTTP upgrade is initiated so that we ensure the handshake is successful only for the matching acceptor corresponding to the "http-upgrade-endpoint" value.</description>
			<version>8.0.0.CR1</version>
			<fixedVersion>8.0.0.Final</fixedVersion>
			<type>Bug</type>
		</buginformation>
		<fixedFiles>
			<file type="M">org.jboss.as.test.smoke.messaging.client.jms.JmsClientTestCase.java</file>
			<file type="M">org.jboss.as.messaging.HTTPUpgradeService.java</file>
			<file type="M">org.jboss.as.test.integration.messaging.security.SecurityTestCase.java</file>
			<file type="M">org.jboss.as.remoting.RemotingHttpUpgradeService.java</file>
			<file type="M">org.jboss.as.test.integration.messaging.mgmt.JMSQueueManagementTestCase.java</file>
			<file type="M">org.jboss.as.test.smoke.messaging.client.messaging.MessagingClientTestCase.java</file>
			<file type="M">org.jboss.as.messaging.MessagingLogger.java</file>
			<file type="M">org.jboss.as.test.integration.messaging.mgmt.CoreQueueManagementTestCase.java</file>
			<file type="D">org.jboss.as.remoting.HandshakeUtil.java</file>
			<file type="M">org.jboss.as.test.integration.messaging.jms.definitions.MessagingBean.java</file>
			<file type="M">org.jboss.as.test.integration.messaging.mgmt.AddressControlManagementTestCase.java</file>
			<file type="M">org.jboss.as.test.integration.messaging.mgmt.JMSTopicManagementTestCase.java</file>
		</fixedFiles>
		<links>
			<link type="Cloners" description="cloned to">1301</link>
			<link type="Dependency" description="is blocked by">1301</link>
			<link type="Dependency" description="is blocked by">2759</link>
		</links>
	</bug>
	<bug id="2584" opendate="2013-11-27 00:38:29" fixdate="2014-01-30 11:39:39" resolution="Done">
		<buginformation>
			<summary>RBAC: Silent failure of run-as role mapping</summary>
			<description>RunAsRoleMapper.mapRoles(Caller caller, Set&amp;lt;String&amp;gt; currentRoles, Set&amp;lt;String&amp;gt; runAsRoles, boolean sanitized) ignores false results from realRoleMapper.canRunAs(currentRoles, requestedRole) and just leaves the user running in their regular roles. Some sort of failure condition seems more appropriate.
I noticed this when I was investigating WFLY-2318 caused by WFLY-2583. The improperly parsed role list was resulting in realRoleMapper.canRunAs(currentRoles, requestedRole) returning false so the call would just execute as SuperUser.
Same thing would happen with a simple typo like 
{roles=Mnitor}
.</description>
			<version>8.0.0.Beta1</version>
			<fixedVersion>8.0.0.Final</fixedVersion>
			<type>Bug</type>
		</buginformation>
		<fixedFiles>
			<file type="M">org.jboss.as.controller.access.rbac.BasicRbacTestCase.java</file>
			<file type="M">org.jboss.as.controller.access.rbac.RunAsRoleMapper.java</file>
			<file type="M">org.jboss.as.controller.access.rbac.SuperUserRoleMapper.java</file>
			<file type="M">org.jboss.as.controller.access.rbac.StandardRoleMapper.java</file>
		</fixedFiles>
	</bug>
	<bug id="2718" opendate="2014-01-07 14:34:27" fixdate="2014-01-30 12:57:48" resolution="Done">
		<buginformation>
			<summary>Deploying a pure InFlow rar as module drive fail</summary>
			<description>Deploying a pure InFlow rar as module drive to this exception:
13:24:35,436 ERROR [org.jboss.msc.service.fail] (MSC service thread 1-6) MSC000001: Failed to start service jboss.ra.deployment."org.wildfly.mail.ra:main": org.jboss.msc.service.StartException in service jboss.ra.deployment."org.wildfly.mail.ra:main": org.jboss.msc.service.DuplicateServiceException: Service jboss.ra."org.wildfly.mail.ra:main" is already registered
	at org.jboss.as.connector.services.resourceadapters.deployment.ResourceAdapterXmlDeploymentService.start(ResourceAdapterXmlDeploymentService.java:137)
	at org.jboss.msc.service.ServiceControllerImpl$StartTask.startService(ServiceControllerImpl.java:1948) [jboss-msc-1.2.0.CR1.jar:1.2.0.CR1]
	at org.jboss.msc.service.ServiceControllerImpl$StartTask.run(ServiceControllerImpl.java:1881) [jboss-msc-1.2.0.CR1.jar:1.2.0.CR1]
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1145) [rt.jar:1.7.0_40]
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:615) [rt.jar:1.7.0_40]
	at java.lang.Thread.run(Thread.java:724) [rt.jar:1.7.0_40]
Caused by: org.jboss.msc.service.DuplicateServiceException: Service jboss.ra."org.wildfly.mail.ra:main" is already registered
	at org.jboss.msc.service.ServiceRegistrationImpl.setInstance(ServiceRegistrationImpl.java:158) [jboss-msc-1.2.0.CR1.jar:1.2.0.CR1]
	at org.jboss.msc.service.ServiceControllerImpl.startInstallation(ServiceControllerImpl.java:235) [jboss-msc-1.2.0.CR1.jar:1.2.0.CR1]
	at org.jboss.msc.service.ServiceContainerImpl.install(ServiceContainerImpl.java:767) [jboss-msc-1.2.0.CR1.jar:1.2.0.CR1]
	at org.jboss.msc.service.ServiceTargetImpl.install(ServiceTargetImpl.java:223) [jboss-msc-1.2.0.CR1.jar:1.2.0.CR1]
	at org.jboss.msc.service.ServiceControllerImpl$ChildServiceTarget.install(ServiceControllerImpl.java:2401) [jboss-msc-1.2.0.CR1.jar:1.2.0.CR1]
	at org.jboss.msc.service.ServiceBuilderImpl.install(ServiceBuilderImpl.java:317) [jboss-msc-1.2.0.CR1.jar:1.2.0.CR1]
	at org.jboss.as.connector.services.resourceadapters.deployment.ResourceAdapterXmlDeploymentService.start(ResourceAdapterXmlDeploymentService.java:131)
	... 5 more</description>
			<version>8.0.0.CR1</version>
			<fixedVersion>8.0.0.Final</fixedVersion>
			<type>Bug</type>
		</buginformation>
		<fixedFiles>
			<file type="M">org.jboss.as.connector.subsystems.resourceadapters.RaOperationUtil.java</file>
			<file type="M">org.jboss.as.connector.services.resourceadapters.deployment.ResourceAdapterDeploymentService.java</file>
		</fixedFiles>
	</bug>
	<bug id="2762" opendate="2014-01-16 10:20:12" fixdate="2014-01-31 07:22:55" resolution="Done">
		<buginformation>
			<summary>Injection of application-provided CDI bean into extension-provided bean fails</summary>
			<description>When an application provides a CDI bean, injection of this bean into another bean provided by a portable extension (which is attached to this application) fails.
The specific use case is the PE for Hibernate Validator which contains a class ValidationInterceptor with an injection point of type j.v.Validator. If the application happens to provide a producer for that type, deployment of the application fails with the following error message:

WELD-001408: Unsatisfied dependencies for type Validator with qualifiers @Default
    at injection point [UnbackedAnnotatedField] @Inject private org.hibernate.validator.internal.cdi.interceptor.ValidationInterceptor.validator
A test case can be found here. To execute it, pull that branch and run:






mvn clean install -pl integration -Dit.test=InjectionIssueIT






The deployment of that Arquillian test fails with the error above.</description>
			<version>8.0.0.CR1</version>
			<fixedVersion>8.0.0.Final</fixedVersion>
			<type>Bug</type>
		</buginformation>
		<fixedFiles>
			<file type="M">org.jboss.as.weld.deployment.WeldDeployment.java</file>
		</fixedFiles>
	</bug>
	<bug id="2785" opendate="2014-01-21 20:49:55" fixdate="2014-01-31 15:46:05" resolution="Done">
		<buginformation>
			<summary>master reload on windows using bind IP without a reverse DNS entry (or a wrong one)</summary>
			<description>When running on windows and the server management port bind IP address does not have a proper reverse DNS entry or an entry in the hosts file, then there is trouble reloading the server. It is possible that same issue may affect other domain server management operations but I didn&amp;amp;apos;t identify any others (and didn&amp;amp;apos;t try).
Basically the problem is that windows reverse resolves such IPs to the computer name. On reload without restarting the managed servers, they receive as a host to reconnect to the computer name instead of the IP address and connection cannot be established.
Here is how to reproduce:

on a windows machine add some local IP address without a reverse entry (e.g. 192.0.2.15)
launch domain server from wildfly, e.g.: bin/domain.sh -bpublic=192.0.2.15 -bmanagement=192.0.2.15
issue this cli command: reload --restart-servers=false --host=master
see logs for messages from server-one and server-two (I&amp;amp;apos;ll attach an archive with such logs)

The fix I found for the issue is:





diff --git a/host-controller/src/main/java/org/jboss/as/host/controller/ManagedServer.java b/host-controller/src/main/java/org/jboss/as/host/controller/ManagedServer.java




index 308df0e..c6a88e8 100644




--- a/host-controller/src/main/java/org/jboss/as/host/controller/ManagedServer.java




+++ b/host-controller/src/main/java/org/jboss/as/host/controller/ManagedServer.java




@@ -30,7 +30,6 @@ import static org.jboss.as.host.controller.HostControllerLogger.ROOT_LOGGER;




 




 import java.io.IOException;




 import java.io.OutputStream;




-import java.net.InetAddress;




 import java.net.InetSocketAddress;




 import java.util.Collections;




 import java.util.LinkedHashMap;




@@ -769,7 +768,7 @@ class ManagedServer {




         public boolean execute(ManagedServer server) throws Exception {




             assert Thread.holdsLock(ManagedServer.this); // Call under lock




             // Reconnect




-            final String hostName = InetAddress.getByName(managementSocket.getHostName()).getHostName();




+            final String hostName = managementSocket.getHostString();




             final int port = managementSocket.getPort();




             processControllerClient.reconnectProcess(serverProcessName, NetworkUtils.formatPossibleIpv6Address(hostName), port, bootConfiguration.isManagementSubsystemEndpoint(), authKey);




             return true;






I see that the line causing the troubles was committed as part of AS7-3613. I looked at the issue and I don&amp;amp;apos;t see how this altering of hostname can help with getting a good URI. Yes, it can help if it guaranteed that a hostname will always be returned but fact is that on linux, if reverse record is missing or improper, this still returns an IP so this line of code IMO can only cause harm. Am I missing something?
Moreover it doesn&amp;amp;apos;t seems right to me to change server identification overriding user choice to select an IP instead of a hostname just to fix some URIs.
IMO if user/administrator used an IP, then server should to use it as an IP, not reverse resolve it to a host and then use it. It simply leads to confusion.</description>
			<version>8.0.0.CR1</version>
			<fixedVersion>8.0.0.Final</fixedVersion>
			<type>Bug</type>
		</buginformation>
		<fixedFiles>
			<file type="M">org.jboss.as.test.integration.respawn.RespawnTestCase.java</file>
			<file type="M">org.jboss.as.host.controller.ManagedServer.java</file>
		</fixedFiles>
	</bug>
	<bug id="2809" opendate="2014-01-24 16:14:06" fixdate="2014-01-31 21:23:17" resolution="Done">
		<buginformation>
			<summary>JACC PolicyContext.getContext("javax.servlet.http.HttpServletRequest")</summary>
			<description>Calling






PolicyContext.getContext("javax.servlet.http.HttpServletRequest");






within a @Stateless session bean gives an exception.
I&amp;amp;apos;ve created an integration test to reproduce this issue.</description>
			<version>8.0.0.CR1</version>
			<fixedVersion>8.0.0.Final</fixedVersion>
			<type>Bug</type>
		</buginformation>
		<fixedFiles>
			<file type="M">org.wildfly.extension.undertow.UndertowLogger.java</file>
			<file type="M">org.wildfly.extension.undertow.security.SecurityContextAssociationHandler.java</file>
			<file type="M">org.wildfly.extension.undertow.UndertowService.java</file>
		</fixedFiles>
	</bug>
	<bug id="2829" opendate="2014-01-29 13:44:46" fixdate="2014-01-31 21:23:33" resolution="Done">
		<buginformation>
			<summary>Optimistic locking w/write skew check requires versioning to be enabled</summary>
			<description>Without this, the user cannot configure OPTIMISTIC locking.</description>
			<version>8.0.0.CR1</version>
			<fixedVersion>8.0.0.Final</fixedVersion>
			<type>Bug</type>
		</buginformation>
		<fixedFiles>
			<file type="M">org.jboss.as.clustering.infinispan.subsystem.CacheAdd.java</file>
		</fixedFiles>
	</bug>
	<bug id="2830" opendate="2014-01-29 14:06:40" fixdate="2014-01-31 21:24:38" resolution="Done">
		<buginformation>
			<summary>Fix org.infinispan.lucene.directory dependencies</summary>
			<description>The module is missing a bunch of dependencies,
proper module.xml looks like this: https://gist.github.com/alesj/8688428</description>
			<version>8.0.0.CR1</version>
			<fixedVersion>8.0.0.Final</fixedVersion>
			<type>Bug</type>
		</buginformation>
		<fixedFiles>
			<file type="M">org.jboss.as.test.integration.hibernate.search.HibernateSearchJPATestCase.java</file>
		</fixedFiles>
		<links>
			<link type="Dependency" description="is blocked by">2832</link>
			<link type="Dependency" description="blocks">2822</link>
		</links>
	</bug>
	<bug id="1873" opendate="2013-08-13 20:01:13" fixdate="2014-01-31 21:25:50" resolution="Done">
		<buginformation>
			<summary>mod_cluster ISE on shutdown</summary>
			<description>16:45:28,305 ERROR [org.jboss.modcluster.mcmp.impl.DefaultMCMPHandler] (MSC service thread 1-2) Error [MEM: MEM: Can&amp;amp;apos;t read node: 
{4}
] sending command DISABLE-APP to proxy localhost/127.0.0.1:6666, configuration will be reset
16:45:28,315 INFO  [org.wildfly.extension.undertow] (MSC service thread 1-8) JBAS017521: Undertow AJP listener ajp suspending
16:45:28,319 INFO  [org.wildfly.extension.undertow] (MSC service thread 1-8) JBAS017520: Undertow AJP listener ajp stopped, was bound to /127.0.0.1:8009
16:45:28,336 INFO  [org.jboss.as.connector.deployers.jdbc] (MSC service thread 1-4) JBAS010418: Stopped Driver service with driver-name = h2
16:45:28,344 INFO  [org.wildfly.extension.undertow] (MSC service thread 1-8) JBAS017521: Undertow HTTP listener default suspending
16:45:28,349 INFO  [org.wildfly.extension.undertow] (MSC service thread 1-8) JBAS017520: Undertow HTTP listener default stopped, was bound to /127.0.0.1:8080
16:45:38,307 WARN  [org.jboss.modcluster.ModClusterService] (MSC service thread 1-2) Failed to drain pending requests from context [org.wildfly.mod_cluster.undertow.UndertowContext@1906d941] within specified timeout: 10 seconds
16:45:38,308 WARN  [org.jboss.msc.service.fail] (MSC service thread 1-2) MSC000004: Failure during stop of service jboss.undertow.deployment.default-host./clusterbench-ee6-web: java.lang.IllegalStateException
	at org.jboss.msc.value.InjectedValue.getValue(InjectedValue.java:47) [jboss-msc-1.2.0.Beta2.jar:1.2.0.Beta2]
	at org.wildfly.mod_cluster.undertow.UndertowEventHandlerAdapter.onDeploymentStop(UndertowEventHandlerAdapter.java:137)
	at org.wildfly.extension.undertow.Host$2.invoke(Host.java:138)
	at org.wildfly.extension.undertow.UndertowService.fireEvent(UndertowService.java:168)
	at org.wildfly.extension.undertow.Host.unregisterDeployment(Host.java:135)
	at org.wildfly.extension.undertow.deployment.UndertowDeploymentService.stopContext(UndertowDeploymentService.java:104)
	at org.wildfly.extension.undertow.deployment.UndertowDeploymentService.stop(UndertowDeploymentService.java:94)
	at org.jboss.msc.service.ServiceControllerImpl$StopTask.stopService(ServiceControllerImpl.java:2052) [jboss-msc-1.2.0.Beta2.jar:1.2.0.Beta2]
	at org.jboss.msc.service.ServiceControllerImpl$StopTask.run(ServiceControllerImpl.java:2013) [jboss-msc-1.2.0.Beta2.jar:1.2.0.Beta2]
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1145) [rt.jar:1.7.0_25]
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:615) [rt.jar:1.7.0_25]
	at java.lang.Thread.run(Thread.java:724) [rt.jar:1.7.0_25]</description>
			<version>8.0.0.Alpha4</version>
			<fixedVersion>8.0.0.Final</fixedVersion>
			<type>Bug</type>
		</buginformation>
		<fixedFiles>
			<file type="M">org.wildfly.mod_cluster.undertow.UndertowEventHandlerAdapterBuilder.java</file>
			<file type="M">org.wildfly.extension.undertow.Host.java</file>
			<file type="M">org.wildfly.mod_cluster.undertow.UndertowEventHandlerAdapter.java</file>
			<file type="M">org.wildfly.extension.undertow.UndertowService.java</file>
		</fixedFiles>
	</bug>
	<bug id="2507" opendate="2013-11-14 03:56:36" fixdate="2014-01-31 23:37:01" resolution="Done">
		<buginformation>
			<summary>InflowFlatTestCase and InflowJarTestCase are failing on Windows</summary>
			<description>Tests are consisently failing on Windows but not on Linux:
http://brontes.lab.eng.brq.redhat.com/project.html?projectId=WF&amp;amp;testNameId=-4393166542338832492&amp;amp;tab=testDetails
Typically that would indicate a problem that manifests when tests are run in a different order; i.e. one test leaving behind something that impacts another.
I suspect what&amp;amp;apos;s happening here is an RA is getting left behind and these tests are finding the wrong one and making assertions against it.
Note this in the test is used to find the RA id:
Set&amp;lt;String&amp;gt; ids = repository.getResourceAdapters();






		assertNotNull(ids);




		System.out.println("////RA" + ids.toString());




		String piId = getElementContaining(ids,        "MultipleResourceAdapter");






The test logging shows there are two RAs that would match:
03:45:54,709 INFO  [stdout] (pool-1-thread-4) ////RAorg.jboss.as.test.integration.jca.rar.MultipleResourceAdapter#27, org.jboss.as.test.integration.jca.rar.MultipleResourceAdapter#28</description>
			<version>8.0.0.Beta1</version>
			<fixedVersion>8.0.0.Final</fixedVersion>
			<type>Bug</type>
		</buginformation>
		<fixedFiles>
			<file type="M">org.jboss.as.connector.services.resourceadapters.ResourceAdapterActivatorService.java</file>
			<file type="M">org.jboss.as.connector.services.resourceadapters.deployment.AbstractResourceAdapterDeploymentService.java</file>
			<file type="M">org.jboss.as.connector.services.resourceadapters.deployment.ResourceAdapterXmlDeploymentService.java</file>
			<file type="M">org.jboss.as.connector.services.resourceadapters.deployment.ResourceAdapterDeploymentService.java</file>
		</fixedFiles>
		<links>
			<link type="Duplicate" description="is duplicated by">2398</link>
		</links>
	</bug>
	<bug id="1809" opendate="2013-08-02 07:27:58" fixdate="2014-02-03 12:37:33" resolution="Done">
		<buginformation>
			<summary>The security subsystem plugins use deprecated Infinispan API</summary>
			<description>org.jboss.as.security.plugins.JNDIBasedSecurityManagement uses a deprecated way of configuring an Infinispan cache which must be removed.</description>
			<version>8.0.0.Alpha3</version>
			<fixedVersion>8.0.0.Final</fixedVersion>
			<type>Bug</type>
		</buginformation>
		<fixedFiles>
			<file type="M">org.jboss.as.security.plugins.JNDIBasedSecurityManagement.java</file>
		</fixedFiles>
	</bug>
	<bug id="2754" opendate="2014-01-15 05:13:46" fixdate="2014-02-03 15:10:55" resolution="Done">
		<buginformation>
			<summary>Make auditlog syslog appName configurable</summary>
			<description>Some initial code in my https://github.com/kabir/wildfly/tree/audit-log-facility-mgmt-api branch. Once done the workaround in WFLY-2753 should be removed</description>
			<version>8.0.0.CR1</version>
			<fixedVersion>8.0.0.Final</fixedVersion>
			<type>Bug</type>
		</buginformation>
		<fixedFiles>
			<file type="M">org.jboss.as.domain.management.audit.SyslogAuditLogHandlerResourceDefinition.java</file>
			<file type="M">org.jboss.as.test.integration.auditlog.AuditLogToUDPSyslogTestCase.java</file>
			<file type="M">org.jboss.as.test.integration.auditlog.AuditLogToSyslogTestCase.java</file>
			<file type="M">org.jboss.as.controller.audit.ManagedAuditLogger.java</file>
			<file type="M">org.jboss.as.test.integration.auditlog.AuditLogToTLSSyslogTestCase.java</file>
			<file type="D">org.jboss.as.controller.audit.TempSyslogHandlerAppNameTestCase.java</file>
			<file type="M">org.jboss.as.test.integration.auditlog.AuditLogToTCPSyslogTestCase.java</file>
			<file type="M">org.jboss.as.test.integration.logging.syslogserver.TLSSyslogServerConfig.java</file>
			<file type="M">org.jboss.as.controller.audit.SyslogAuditLogHandler.java</file>
			<file type="M">org.jboss.as.test.integration.logging.syslogserver.Rfc5424SyslogEvent.java</file>
			<file type="M">org.jboss.as.domain.management.parsing.AuditLogXml.java</file>
			<file type="M">org.jboss.as.domain.management.audit.AuditLogHandlerResourceDefinition.java</file>
			<file type="D">org.jboss.as.controller.audit.TempSyslogHandlerFacilityTestCase.java</file>
			<file type="M">org.jboss.as.controller.audit.AuditLogger.java</file>
			<file type="M">org.jboss.as.test.integration.auditlog.AuditLogToSyslogSetup.java</file>
			<file type="M">org.jboss.as.controller.descriptions.ModelDescriptionConstants.java</file>
			<file type="M">org.jboss.as.controller.parsing.Attribute.java</file>
			<file type="M">org.jboss.as.controller.audit.ManagedAuditLoggerImpl.java</file>
		</fixedFiles>
		<links>
			<link type="Cloners" description="cloned from">2747</link>
			<link type="Related" description="relates to">2753</link>
		</links>
	</bug>
	<bug id="2747" opendate="2014-01-13 10:50:01" fixdate="2014-02-03 15:11:08" resolution="Done">
		<buginformation>
			<summary>Make auditlog syslog facility configurable</summary>
			<description>Some initial code in my https://github.com/kabir/wildfly/tree/audit-log-facility-mgmt-api branch. Once done the workaround in WFLY-2746 should be removed</description>
			<version>8.0.0.CR1</version>
			<fixedVersion>8.0.0.Final</fixedVersion>
			<type>Bug</type>
		</buginformation>
		<fixedFiles>
			<file type="M">org.jboss.as.domain.management.audit.SyslogAuditLogHandlerResourceDefinition.java</file>
			<file type="M">org.jboss.as.test.integration.auditlog.AuditLogToUDPSyslogTestCase.java</file>
			<file type="M">org.jboss.as.test.integration.auditlog.AuditLogToSyslogTestCase.java</file>
			<file type="M">org.jboss.as.controller.audit.ManagedAuditLogger.java</file>
			<file type="M">org.jboss.as.test.integration.auditlog.AuditLogToTLSSyslogTestCase.java</file>
			<file type="D">org.jboss.as.controller.audit.TempSyslogHandlerAppNameTestCase.java</file>
			<file type="M">org.jboss.as.test.integration.auditlog.AuditLogToTCPSyslogTestCase.java</file>
			<file type="M">org.jboss.as.test.integration.logging.syslogserver.TLSSyslogServerConfig.java</file>
			<file type="M">org.jboss.as.controller.audit.SyslogAuditLogHandler.java</file>
			<file type="M">org.jboss.as.test.integration.logging.syslogserver.Rfc5424SyslogEvent.java</file>
			<file type="M">org.jboss.as.domain.management.parsing.AuditLogXml.java</file>
			<file type="M">org.jboss.as.domain.management.audit.AuditLogHandlerResourceDefinition.java</file>
			<file type="D">org.jboss.as.controller.audit.TempSyslogHandlerFacilityTestCase.java</file>
			<file type="M">org.jboss.as.controller.audit.AuditLogger.java</file>
			<file type="M">org.jboss.as.test.integration.auditlog.AuditLogToSyslogSetup.java</file>
			<file type="M">org.jboss.as.controller.descriptions.ModelDescriptionConstants.java</file>
			<file type="M">org.jboss.as.controller.parsing.Attribute.java</file>
			<file type="M">org.jboss.as.controller.audit.ManagedAuditLoggerImpl.java</file>
		</fixedFiles>
		<links>
			<link type="Cloners" description="cloned to">2754</link>
			<link type="Related" description="relates to">2746</link>
		</links>
	</bug>
	<bug id="1901" opendate="2013-08-19 16:27:29" fixdate="2014-02-03 19:28:55" resolution="Done">
		<buginformation>
			<summary>Could not grant javax.xml.ws.WebServicePermission to a deployment</summary>
			<description>It&amp;amp;apos;s currently not possible by default to grant the javax.xml.ws.WebServicePermission "publish" permission to a user deployment by adding the proper entry in standalone.xml:






        &amp;lt;subsystem xmlns="urn:jboss:domain:security-manager:1.0"&amp;gt;




            &amp;lt;deployment-permissions&amp;gt;




                &amp;lt;minimum-set&amp;gt;




                    ...




                    &amp;lt;permission class="javax.xml.ws.WebServicePermission" name="publishEndpoint"/&amp;gt;




                &amp;lt;/minimum-set&amp;gt;




            &amp;lt;/deployment-permissions&amp;gt;




        &amp;lt;/subsystem&amp;gt;





</description>
			<version>8.0.0.Alpha4</version>
			<fixedVersion>8.0.0.Final</fixedVersion>
			<type>Bug</type>
		</buginformation>
		<fixedFiles>
			<file type="M">org.wildfly.extension.security.manager.SecurityManagerSubsystemAdd.java</file>
			<file type="M">org.wildfly.extension.security.manager.Constants.java</file>
			<file type="M">org.wildfly.extension.security.manager.SecurityManagerSubsystemParser.java</file>
			<file type="M">org.wildfly.extension.security.manager.PermissionResourceDefinition.java</file>
		</fixedFiles>
		<links>
			<link type="Related" description="is related to">3685</link>
		</links>
	</bug>
	<bug id="2817" opendate="2014-01-26 15:04:31" fixdate="2014-02-04 12:49:55" resolution="Done">
		<buginformation>
			<summary>MailSessionDefinitionAnnotationParser throws NullPointerException</summary>
			<description>Having a @MailSessionDefinition annotation with properties, MailSessionDefinitionAnnotationParser throws a NullPointerException






@MailSessionDefinition(




		name = "java:comp/devMailSession",




		host = "mymailserver",




		transportProtocol = "smtp",




		user = "myuser",




		password = "mypassword",




		from = "my@email.com",




		properties = {




				"mail.debug=true"




		})






Stacktrace while starting wildfly:






ERROR [org.jboss.msc.service.fail] (MSC service thread 1-6) MSC000001: Failed to start service jboss.deployment.unit."test.war".PARSE: org.jboss.msc.service.StartException in service jboss.deployment.unit."test.war".PARSE: JBAS018733: Failed to process phase PARSE of deployment "test.war"




	at org.jboss.as.server.deployment.DeploymentUnitPhaseService.start(DeploymentUnitPhaseService.java:166) [wildfly-server-8.0.0.CR1.jar:8.0.0.CR1]




	at org.jboss.msc.service.ServiceControllerImpl$StartTask.startService(ServiceControllerImpl.java:1948) [jboss-msc-1.2.0.CR1.jar:1.2.0.CR1]




	at org.jboss.msc.service.ServiceControllerImpl$StartTask.run(ServiceControllerImpl.java:1881) [jboss-msc-1.2.0.CR1.jar:1.2.0.CR1]




	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1145) [rt.jar:1.7.0_45]




	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:615) [rt.jar:1.7.0_45]




	at java.lang.Thread.run(Thread.java:744) [rt.jar:1.7.0_45]




Caused by: java.lang.NullPointerException




	at org.jboss.as.mail.extension.MailSessionDefinitionAnnotationParser.getBindingConfiguration(MailSessionDefinitionAnnotationParser.java:143)




	at org.jboss.as.mail.extension.MailSessionDefinitionAnnotationParser.processMailSession(MailSessionDefinitionAnnotationParser.java:107)




	at org.jboss.as.mail.extension.MailSessionDefinitionAnnotationParser.deploy(MailSessionDefinitionAnnotationParser.java:96)




	at org.jboss.as.server.deployment.DeploymentUnitPhaseService.start(DeploymentUnitPhaseService.java:159) [wildfly-server-8.0.0.CR1.jar:8.0.0.CR1]




	... 5 more






Related code:






        MailSessionMetaData metaData = new MailSessionMetaData();




        metaData.setTransportProtocol(asString(annotationInstance, "transportProtocol"));




        metaData.setStoreProtocol(asString(annotationInstance, "storeProtocol"));




        metaData.setHost(asString(annotationInstance, "host"));




        metaData.setUser(asString(annotationInstance, "user"));




        metaData.setPassword(asString(annotationInstance, "password"));




        metaData.setFrom(asString(annotationInstance, "from"));




        metaData.setName(nameValue.asString());




        String jndiName = MailSessionAdd.getJndiName(nameValue.asString());














        for (String fullProp : asArray(annotationInstance, "properties")) {




            PropertyMetaData p = new PropertyMetaData();




            String[] prop = fullProp.split("=", 2);




            p.setName(prop[0]);




            p.setValue(prop[1]);




            metaData.getProperties().add(p); // thrown NPE




        }






After looking at MailSessionMetaData the properties property is not initialized so getProperties() returns null</description>
			<version>8.0.0.CR1</version>
			<fixedVersion>8.0.0.Final</fixedVersion>
			<type>Bug</type>
		</buginformation>
		<fixedFiles>
			<file type="M">org.jboss.as.mail.extension.MailSessionDefinitionAnnotationParser.java</file>
		</fixedFiles>
	</bug>
	<bug id="2774" opendate="2014-01-17 18:06:50" fixdate="2014-02-05 00:36:28" resolution="Done">
		<buginformation>
			<summary>Non-distributed, stateful web applications cannot be load balanced using sticky sessions</summary>
			<description>In AS7, one could configure a load balancer with sticky sessions to support load balancing for non-distributed web applications.
While the distributed session manager supports parsing and formatting of the instance-id from/to the session id, the in-memory session manager does not.
The use case for this are stateful web applications that do not require high-availability of state (e.g. a stateless web-app that uses container managed authentication), but would also like to scale beyond the capacity of a single server.</description>
			<version>8.0.0.CR1</version>
			<fixedVersion>8.0.0.Final</fixedVersion>
			<type>Bug</type>
		</buginformation>
		<fixedFiles>
			<file type="D">org.wildfly.clustering.web.undertow.session.SessionIdentifierFactoryAdapter.java</file>
			<file type="D">org.wildfly.clustering.web.undertow.session.SessionContextAdapter.java</file>
			<file type="D">org.wildfly.clustering.web.undertow.session.SessionAdapterTestCase.java</file>
			<file type="M">org.jboss.as.test.clustering.cluster.web.ClusteredWebSimpleTestCase.java</file>
			<file type="M">org.wildfly.clustering.web.session.SessionManager.java</file>
			<file type="M">org.wildfly.extension.undertow.session.DistributableSessionManagerFactoryBuilderValue.java</file>
			<file type="M">org.wildfly.clustering.web.session.RouteLocator.java</file>
			<file type="M">org.jboss.as.test.clustering.cluster.jsf.JSFFailoverTestCase.java</file>
			<file type="M">org.jboss.as.test.clustering.single.web.SimpleServlet.java</file>
			<file type="M">org.wildfly.extension.undertow.session.DistributableSessionManagerFactoryBuilder.java</file>
			<file type="M">org.wildfly.clustering.web.undertow.session.UndertowSessionManager.java</file>
			<file type="D">org.wildfly.clustering.web.undertow.session.SessionManagerAdapterFactory.java</file>
			<file type="M">org.wildfly.clustering.web.infinispan.session.InfinispanSessionManagerFactoryBuilder.java</file>
			<file type="D">org.wildfly.clustering.web.undertow.session.SessionContextAdapterTestCase.java</file>
			<file type="M">org.wildfly.extension.undertow.UndertowSubsystemAdd.java</file>
			<file type="M">org.wildfly.clustering.web.session.SessionManagerFactoryBuilder.java</file>
			<file type="D">org.wildfly.clustering.web.undertow.session.SessionManagerAdapterFactoryBuilder.java</file>
			<file type="D">org.wildfly.clustering.web.undertow.session.SessionManagerAdapter.java</file>
			<file type="M">org.wildfly.clustering.web.infinispan.session.InfinispanSessionManager.java</file>
			<file type="M">org.jboss.as.test.clustering.cluster.web.ClusteredWebFailoverAbstractCase.java</file>
			<file type="D">org.wildfly.clustering.web.undertow.session.ImmutableSessionAdapter.java</file>
			<file type="D">org.wildfly.clustering.web.undertow.session.SessionManagerAdapterTestCase.java</file>
			<file type="D">org.wildfly.clustering.web.undertow.session.AbstractSessionAdapter.java</file>
			<file type="M">org.wildfly.extension.undertow.deployment.UndertowDeploymentInfoService.java</file>
			<file type="M">org.wildfly.clustering.web.infinispan.session.InfinispanSessionManagerFactory.java</file>
			<file type="M">org.jboss.as.test.clustering.cluster.ClusterAbstractTestCase.java</file>
			<file type="D">org.wildfly.clustering.web.undertow.session.SessionAdapter.java</file>
			<file type="D">org.wildfly.clustering.web.session.RoutingSupport.java</file>
			<file type="D">org.wildfly.clustering.web.undertow.session.SessionIdentifierFactoryAdapterTestCase.java</file>
			<file type="M">org.wildfly.extension.undertow.deployment.UndertowDeploymentProcessor.java</file>
		</fixedFiles>
	</bug>
	<bug id="2853" opendate="2014-01-31 20:14:10" fixdate="2014-02-05 00:36:36" resolution="Done">
		<buginformation>
			<summary>JSFFailoverTestCase fails since latest clustring / session changes in UT</summary>
			<description>Since upgrade to Undertow CR2 which contains https://github.com/undertow-io/undertow/pull/164
JSFFailoverTestCase is failing.
example of failure: http://brontes.lab.eng.brq.redhat.com/viewLog.html?buildId=9076&amp;amp;buildTypeId=WFPR






org.junit.ComparisonFailure: expected:&amp;lt;...COz6P7qxwwkkxE.node-[0]&amp;gt; but was:&amp;lt;...COz6P7qxwwkkxE.node-[1]&amp;gt;




    at org.junit.Assert.assertEquals(Assert.java:115)




    at org.junit.Assert.assertEquals(Assert.java:144)




    at org.jboss.as.test.clustering.cluster.jsf.JSFFailoverTestCase.testGracefulSimpleFailover(JSFFailoverTestCase.java:268)





</description>
			<version>8.0.0.CR1</version>
			<fixedVersion>8.0.0.Final</fixedVersion>
			<type>Bug</type>
		</buginformation>
		<fixedFiles>
			<file type="M">org.jboss.as.test.clustering.cluster.jsf.JSFFailoverTestCase.java</file>
		</fixedFiles>
	</bug>
	<bug id="2862" opendate="2014-02-04 13:07:00" fixdate="2014-02-05 14:48:20" resolution="Done">
		<buginformation>
			<summary>Liferay too many open files during deployment</summary>
			<description>Liferay 6.2 deploys as an exploded war. Normally after deployment it builds a theme (css/js boundles). Even if only Liferay is deployed a Too many open files exception is thrown. When /proc/sys/fs/file-max is 6815744. While trying to configure it or deploy other portlets (exploded wars too) the too many open files exception is encountered even at the deployment time (server start up). 
13:57:48,110 ERROR [MSC service thread 1-12][MainServlet:262] java.io.FileNotFoundException: /home/munih/development/tools/wildfly-8.0.0.Final-SNAPSHOT/standalone/deployments/ROOT.war/WEB-INF/liferay-layout-templates.xml (Too many open files)</description>
			<version>8.0.0.CR1</version>
			<fixedVersion>8.0.0.Final</fixedVersion>
			<type>Bug</type>
		</buginformation>
		<fixedFiles>
			<file type="M">org.jboss.as.server.ServerLogger.java</file>
			<file type="M">org.jboss.as.server.BootstrapImpl.java</file>
		</fixedFiles>
	</bug>
	<bug id="2871" opendate="2014-02-05 18:08:24" fixdate="2014-02-05 18:17:48" resolution="Duplicate Issue">
		<buginformation>
			<summary>Deploying a 2nd WAR file gives VFS000017 for resteasy-spring module</summary>
			<description>
Download the nightly from https://ci.jboss.org/hudson/job/WildFly-latest-master/934/
Start up in standalone mode
Have 2 WAR files, and copy each individually into .../standalone/deployments/
Observe that the 2nd one will always fail.

Sample trace:






2014-02-05 18:02:17,346 ERROR [org.jboss.msc.service.fail] (MSC service thread 1-4) MSC000001: Failed to start service jboss.deployment.unit."two.war".DEPENDENCIES: org.jboss.msc.service.StartException in service jboss.deployment.unit."two.war".DEPENDENCIES: JBAS018733: Failed to process phase DEPENDENCIES of deployment "two.war"




        at org.jboss.as.server.deployment.DeploymentUnitPhaseService.start(DeploymentUnitPhaseService.java:166) [wildfly-server-8.0.0.Final-SNAPSHOT.jar:8.0.0.Final-SNAPSHOT]




        at org.jboss.msc.service.ServiceControllerImpl$StartTask.startService(ServiceControllerImpl.java:1948) [jboss-msc-1.2.0.Final.jar:1.2.0.Final]




        at org.jboss.msc.service.ServiceControllerImpl$StartTask.run(ServiceControllerImpl.java:1881) [jboss-msc-1.2.0.Final.jar:1.2.0.Final]




        at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142) [rt.jar:1.8.0]




        at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617) [rt.jar:1.8.0]




        at java.lang.Thread.run(Thread.java:744) [rt.jar:1.8.0]




Caused by: org.jboss.as.server.deployment.DeploymentUnitProcessingException: java.io.IOException: VFS000017: Filesystem already mounted at mount point ""/opt/jboss/wildfly-8.0.0.Final-SNAPSHOT/modules/system/layers/base/org/jboss/resteasy/resteasy-spring/main/bundled/resteasy-spring.jar""




        at org.jboss.as.jaxrs.deployment.JaxrsSpringProcessor.deploy(JaxrsSpringProcessor.java:126)




        at org.jboss.as.server.deployment.DeploymentUnitPhaseService.start(DeploymentUnitPhaseService.java:159) [wildfly-server-8.0.0.Final-SNAPSHOT.jar:8.0.0.Final-SNAPSHOT]




        ... 5 more




Caused by: java.io.IOException: VFS000017: Filesystem already mounted at mount point ""/opt/jboss/wildfly-8.0.0.Final-SNAPSHOT/modules/system/layers/base/org/jboss/resteasy/resteasy-spring/main/bundled/resteasy-spring.jar""




        at org.jboss.vfs.VFS.mount(VFS.java:127)




        at org.jboss.vfs.VFS.doMount(VFS.java:336)




        at org.jboss.vfs.VFS.mountZip(VFS.java:360)




        at org.jboss.as.jaxrs.deployment.JaxrsSpringProcessor.deploy(JaxrsSpringProcessor.java:119)




        ... 6 more









2014-02-05 18:02:17,349 ERROR [org.jboss.as.controller.management-operation] (DeploymentScanner-threads - 1) JBAS014613: Operation ("deploy") failed - address: ([("deployment" =&amp;gt; "two.war")]) - failure description: {"JBAS014671: Failed services" =&amp;gt; {"jboss.deployment.unit.\"two.war\".DEPENDENCIES" =&amp;gt; "org.jboss.msc.service.StartException in service jboss.deployment.unit.\"two.war\".DEPENDENCIES: JBAS018733: Failed to process phase DEPENDENCIES of deployment \"two.war\"




    Caused by: org.jboss.as.server.deployment.DeploymentUnitProcessingException: java.io.IOException: VFS000017: Filesystem already mounted at mount point \"\"/opt/jboss/wildfly-8.0.0.Final-SNAPSHOT/modules/system/layers/base/org/jboss/resteasy/resteasy-spring/main/bundled/resteasy-spring.jar\"\"




    Caused by: java.io.IOException: VFS000017: Filesystem already mounted at mount point \"\"/opt/jboss/wildfly-8.0.0.Final-SNAPSHOT/modules/system/layers/base/org/jboss/resteasy/resteasy-spring/main/bundled/resteasy-spring.jar\"\""}}






A stackoverflow poster appears to have the same problem: http://stackoverflow.com/questions/21565734/resteasy-spring-module-in-jboss-wildfly-8</description>
			<version>8.0.0.Final</version>
			<fixedVersion></fixedVersion>
			<type>Feature Request</type>
		</buginformation>
		<fixedFiles>
			<file type="M">org.jboss.as.host.controller.HostControllerEnvironment.java</file>
		</fixedFiles>
	</bug>
	<bug id="2869" opendate="2014-02-05 12:02:25" fixdate="2014-02-06 08:20:03" resolution="Done">
		<buginformation>
			<summary>Incorrect closing of JMS connections causes subsequent tests to fail</summary>
			<description>RunAsMDBUnitTestCase and GetCallerPrincipalTestCase call stop() to close a JMS connection, which is wrong, it should use close(). This causes the later running AuthenticationTestCase.testAuthentication_ReAuth_ViaServlet (or potentially other tests) to fail due to a timeout, having this in the log:






0m19:53:28,973 INFO [org.jboss.arquillian.testenricher.cdi.container.BeanManagerProducer] (pool-1-thread-1) BeanManager not found.




[0m[33m19:53:29,218 WARN [org.hornetq.core.client] (Finalizer) HQ212016: I am closing a core ClientSession you left open. Please make sure you close all ClientSessions explicitly before letting them go out of scope! 28,182,273: java.lang.Exception




at org.hornetq.core.client.impl.DelegatingSession.&amp;lt;init&amp;gt;(DelegatingSession.java:91)




at org.hornetq.core.client.impl.ClientSessionFactoryImpl.createSessionInternal(ClientSessionFactoryImpl.java:912)




at org.hornetq.core.client.impl.ClientSessionFactoryImpl.createSession(ClientSessionFactoryImpl.java:317)




at org.hornetq.jms.client.HornetQConnection.authorize(HornetQConnection.java:648)




at org.hornetq.jms.client.HornetQConnectionFactory.createConnectionInternal(HornetQConnectionFactory.java:676)




at org.hornetq.jms.client.HornetQConnectionFactory.createQueueConnection(HornetQConnectionFactory.java:119)




at org.jboss.as.test.integration.ejb.security.callerprincipal.GetCallerPrincipalTestCase.testMDBLifecycle(GetCallerPrincipalTestCase.java:300)




at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) [rt.jar:1.7.0_45]




at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:57) [rt.jar:1.7.0_45]




at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) [rt.jar:1.7.0_45]




at java.lang.reflect.Method.invoke(Method.java:606) [rt.jar:1.7.0_45]




at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:47)




at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)




at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:44)




at org.jboss.arquillian.junit.Arquillian$6$1.invoke(Arquillian.java:270)




at org.jboss.arquillian.container.test.impl.execution.LocalTestExecuter.execute(LocalTestExecuter.java:60)




at sun.reflect.GeneratedMethodAccessor33.invoke(Unknown Source) [:1.7.0_45]




at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) [rt.jar:1.7.0_45]




at java.lang.reflect.Method.invoke(Method.java:606) [rt.jar:1.7.0_45]




at org.jboss.arquillian.core.impl.ObserverImpl.invoke(ObserverImpl.java:90)




at org.jboss.arquillian.core.impl.EventContextImpl.invokeObservers(EventContextImpl.java:99)




at org.jboss.arquillian.core.impl.EventContextImpl.proceed(EventContextImpl.java:81)




at org.jboss.arquillian.core.impl.ManagerImpl.fire(ManagerImpl.java:135)




at org.jboss.arquillian.core.impl.ManagerImpl.fire(ManagerImpl.java:115)




at org.jboss.arquillian.core.impl.EventImpl.fire(EventImpl.java:67)




at org.jboss.arquillian.container.test.impl.execution.ContainerTestExecuter.execute(ContainerTestExecuter.java:38)




at sun.reflect.GeneratedMethodAccessor32.invoke(Unknown Source) [:1.7.0_45]




at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) [rt.jar:1.7.0_45]




at java.lang.reflect.Method.invoke(Method.java:606) [rt.jar:1.7.0_45]




at org.jboss.arquillian.core.impl.ObserverImpl.invoke(ObserverImpl.java:90)




at org.jboss.arquillian.core.impl.EventContextImpl.invokeObservers(EventContextImpl.java:99)




at org.jboss.arquillian.core.impl.EventContextImpl.proceed(EventContextImpl.java:81)




at org.jboss.arquillian.test.impl.TestContextHandler.createTestContext(TestContextHandler.java:89)




at sun.reflect.GeneratedMethodAccessor10.invoke(Unknown Source) [:1.7.0_45]




at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) [rt.jar:1.7.0_45]




at java.lang.reflect.Method.invoke(Method.java:606) [rt.jar:1.7.0_45]




at org.jboss.arquillian.core.impl.ObserverImpl.invoke(ObserverImpl.java:90)




at org.jboss.arquillian.core.impl.EventContextImpl.proceed(EventContextImpl.java:88)




at org.jboss.arquillian.test.impl.TestContextHandler.createClassContext(TestContextHandler.java:75)




at sun.reflect.GeneratedMethodAccessor9.invoke(Unknown Source) [:1.7.0_45]




at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) [rt.jar:1.7.0_45]




at java.lang.reflect.Method.invoke(Method.java:606) [rt.jar:1.7.0_45]




at org.jboss.arquillian.core.impl.ObserverImpl.invoke(ObserverImpl.java:90)




at org.jboss.arquillian.core.impl.EventContextImpl.proceed(EventContextImpl.java:88)




at org.jboss.arquillian.test.impl.TestContextHandler.createSuiteContext(TestContextHandler.java:60)




at sun.reflect.GeneratedMethodAccessor8.invoke(Unknown Source) [:1.7.0_45]




at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) [rt.jar:1.7.0_45]




at java.lang.reflect.Method.invoke(Method.java:606) [rt.jar:1.7.0_45]




at org.jboss.arquillian.core.impl.ObserverImpl.invoke(ObserverImpl.java:90)




at org.jboss.arquillian.core.impl.EventContextImpl.proceed(EventContextImpl.java:88)




at org.jboss.arquillian.core.impl.ManagerImpl.fire(ManagerImpl.java:135)




at org.jboss.arquillian.test.impl.EventTestRunnerAdaptor.test(EventTestRunnerAdaptor.java:111)




at org.jboss.arquillian.junit.Arquillian$6.evaluate(Arquillian.java:263)




at org.jboss.arquillian.junit.Arquillian$4.evaluate(Arquillian.java:226)




at org.jboss.arquillian.junit.Arquillian.multiExecute(Arquillian.java:314)




at org.jboss.arquillian.junit.Arquillian.access$100(Arquillian.java:46)




at org.jboss.arquillian.junit.Arquillian$5.evaluate(Arquillian.java:240)




at org.junit.runners.ParentRunner.runLeaf(ParentRunner.java:271)




at org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:70)




at org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:50)




at org.junit.runners.ParentRunner$3.run(ParentRunner.java:238)




at org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:63)




at org.junit.runners.ParentRunner.runChildren(ParentRunner.java:236)




at org.junit.runners.ParentRunner.access$000(ParentRunner.java:53)




at org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:229)




at org.jboss.arquillian.junit.Arquillian$2.evaluate(Arquillian.java:185)




at org.jboss.arquillian.junit.Arquillian.multiExecute(Arquillian.java:314)




at org.jboss.arquillian.junit.Arquillian.access$100(Arquillian.java:46)




at org.jboss.arquillian.junit.Arquillian$3.evaluate(Arquillian.java:199)




at org.junit.runners.ParentRunner.run(ParentRunner.java:309)




at org.jboss.arquillian.junit.Arquillian.run(Arquillian.java:147)




at org.junit.runner.JUnitCore.run(JUnitCore.java:160)




at org.junit.runner.JUnitCore.run(JUnitCore.java:138)




at org.jboss.arquillian.junit.container.JUnitTestRunner.execute(JUnitTestRunner.java:65)




at org.jboss.arquillian.protocol.jmx.JMXTestRunner.runTestMethodInternal(JMXTestRunner.java:128)




at org.jboss.arquillian.protocol.jmx.JMXTestRunner.runTestMethod(JMXTestRunner.java:107)




at org.jboss.as.arquillian.service.ArquillianService$ExtendedJMXTestRunner.runTestMethod(ArquillianService.java:214)




at sun.reflect.GeneratedMethodAccessor24.invoke(Unknown Source) [:1.7.0_45]




at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) [rt.jar:1.7.0_45]




at java.lang.reflect.Method.invoke(Method.java:606) [rt.jar:1.7.0_45]




at sun.reflect.misc.Trampoline.invoke(MethodUtil.java:75) [:1.7.0_45]




at sun.reflect.GeneratedMethodAccessor12.invoke(Unknown Source) [:1.7.0_45]




at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) [rt.jar:1.7.0_45]




at java.lang.reflect.Method.invoke(Method.java:606) [rt.jar:1.7.0_45]




at sun.reflect.misc.MethodUtil.invoke(MethodUtil.java:279) [rt.jar:1.7.0_45]




at com.sun.jmx.mbeanserver.StandardMBeanIntrospector.invokeM2(StandardMBeanIntrospector.java:112) [rt.jar:1.7.0_45]




at com.sun.jmx.mbeanserver.StandardMBeanIntrospector.invokeM2(StandardMBeanIntrospector.java:46) [rt.jar:1.7.0_45]




at com.sun.jmx.mbeanserver.MBeanIntrospector.invokeM(MBeanIntrospector.java:237) [rt.jar:1.7.0_45]




at com.sun.jmx.mbeanserver.PerInterface.invoke(PerInterface.java:138) [rt.jar:1.7.0_45]




at com.sun.jmx.mbeanserver.MBeanSupport.invoke(MBeanSupport.java:252) [rt.jar:1.7.0_45]




at com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.invoke(DefaultMBeanServerInterceptor.java:819) [rt.jar:1.7.0_45]




at com.sun.jmx.mbeanserver.JmxMBeanServer.invoke(JmxMBeanServer.java:801) [rt.jar:1.7.0_45]




at org.jboss.as.jmx.PluggableMBeanServerImpl$TcclMBeanServer.invoke(PluggableMBeanServerImpl.java:1469)




at org.jboss.as.jmx.PluggableMBeanServerImpl.invoke(PluggableMBeanServerImpl.java:730)




at org.jboss.remotingjmx.protocol.v2.ServerProxy$InvokeHandler.handle(ServerProxy.java:952)




at org.jboss.remotingjmx.protocol.v2.ServerCommon$MessageReciever$1$1.run(ServerCommon.java:153)




at org.jboss.as.jmx.ServerInterceptorFactory$Interceptor$1.run(ServerInterceptorFactory.java:75)




at org.jboss.as.jmx.ServerInterceptorFactory$Interceptor$1.run(ServerInterceptorFactory.java:70)




at java.security.AccessController.doPrivileged(Native Method) [rt.jar:1.7.0_45]




at javax.security.auth.Subject.doAs(Subject.java:415) [rt.jar:1.7.0_45]




at org.jboss.as.controller.AccessAuditContext.doAs(AccessAuditContext.java:94)




at org.jboss.as.jmx.ServerInterceptorFactory$Interceptor.handleEvent(ServerInterceptorFactory.java:70)




at org.jboss.remotingjmx.protocol.v2.ServerCommon$MessageReciever$1.run(ServerCommon.java:149)




at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1145) [rt.jar:1.7.0_45]




at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:615) [rt.jar:1.7.0_45]




at java.lang.Thread.run(Thread.java:744) [rt.jar:1.7.0_45]





</description>
			<version>8.0.0.CR1</version>
			<fixedVersion></fixedVersion>
			<type>Bug</type>
		</buginformation>
		<fixedFiles>
			<file type="M">org.jboss.as.test.integration.ejb.security.callerprincipal.GetCallerPrincipalTestCase.java</file>
			<file type="M">org.jboss.as.test.integration.ejb.security.runas.mdb.RunAsMDBUnitTestCase.java</file>
		</fixedFiles>
	</bug>
	<bug id="2873" opendate="2014-02-05 20:36:51" fixdate="2014-02-06 15:51:28" resolution="Done">
		<buginformation>
			<summary>TestParser cannot marshal empty subsystems</summary>
			<description>TestParser (used in subsystem test framework) will only marshal if the subsystem&amp;amp;apos;s ModelNode isDefined(). But for simple subsystems with no attributes it doesn&amp;amp;apos;t have to be defined.
It should just check for node existence  parentNode.has(subsystemName)  not whether the node is defined.</description>
			<version>8.0.0.CR1</version>
			<fixedVersion>8.0.0.Final</fixedVersion>
			<type>Bug</type>
		</buginformation>
		<fixedFiles>
			<file type="M">org.jboss.as.subsystem.test.TestParser.java</file>
		</fixedFiles>
	</bug>
	<bug id="2866" opendate="2014-02-05 04:17:48" fixdate="2014-02-06 15:51:48" resolution="Done">
		<buginformation>
			<summary>PersistentResourceXMLDescription does not marshal default attribute values</summary>
			<description>When PersistentResourceXMLDescription marshals a resource&amp;amp;apos;s attributes, it will not marshal a value stored in the model if it matches the attribute&amp;amp;apos;s default value.
We should marshal the value provided by the user. Otherwise we will change the config file from what the user provided for reasons unrelated to management actions initiated by the user.
DefaultAttributeMarshaller marshals default values.</description>
			<version>8.0.0.CR1</version>
			<fixedVersion>8.0.0.Final</fixedVersion>
			<type>Bug</type>
		</buginformation>
		<fixedFiles>
			<file type="M">org.jboss.as.controller.PersistentResourceXMLDescription.java</file>
		</fixedFiles>
	</bug>
	<bug id="2865" opendate="2014-02-04 20:42:48" fixdate="2014-02-06 15:52:02" resolution="Done">
		<buginformation>
			<summary>AttributeTransformationRule "ignored" if op is discarded</summary>
			<description>Imagine a scenario like the following:
```
parent.addChildResource(RemotingEndpointResource.ENDPOINT_PATH)
                .getAttributeBuilder()
                    .setDiscard(DiscardAttributeChecker.UNDEFINED, RemotingEndpointResource.ATTRIBUTES)
                    .addRejectCheck(RejectAttributeChecker.DEFINED, RemotingEndpointResource.ATTRIBUTES.toArray(new AttributeDefinition[RemotingEndpointResource.ATTRIBUTES.size()]))
                    .end()                .addOperationTransformationOverride(ModelDescriptionConstants.ADD)
                    .inheritResourceAttributeDefinitions()                    .setCustomOperationTransformer(OperationTransformer.DISCARD)
                    .end()
```
The idea is to discard "add" if any parameter is defined, reject otherwise. The legacy slave can ignore the whole resource if it isn&amp;amp;apos;t really configured by the user, but any detail config by the user must result in failure.
Problem is AttributeTransformationRule will do a "reject" when it gets a prepared response from the slave, but using setCustomOperationTransformer(OperationTransformer.DISCARD) means the op will be discarded, so there will be no prepared response and thus no rejection.
Solution is to have AttributeTransformationRule register a OperationResultTransformer that deals with this situation.</description>
			<version>8.0.0.CR1</version>
			<fixedVersion>8.0.0.Final</fixedVersion>
			<type>Bug</type>
		</buginformation>
		<fixedFiles>
			<file type="M">org.jboss.as.remoting.RemotingSubsystemTestCase.java</file>
			<file type="M">org.jboss.as.remoting.RemotingMessages.java</file>
			<file type="M">org.jboss.as.subsystem.test.AbstractSubsystemBaseTest.java</file>
			<file type="M">org.jboss.as.remoting.RemotingSubsystemAdd.java</file>
			<file type="M">org.jboss.as.remoting.RemotingEndpointResource.java</file>
			<file type="M">org.jboss.as.remoting.RemotingExtension.java</file>
			<file type="M">org.jboss.as.subsystem.test.AdditionalInitialization.java</file>
			<file type="M">org.jboss.as.remoting.RemotingSubsystemTransformersTestCase.java</file>
			<file type="M">org.jboss.as.remoting.RemotingSubsystemRootResource.java</file>
			<file type="M">org.jboss.as.remoting.RemotingSubsystem20Parser.java</file>
			<file type="M">org.jboss.as.remoting.RemotingSubsystem11Parser.java</file>
			<file type="M">org.jboss.as.remoting.RemotingSubsystemXMLPersister.java</file>
			<file type="M">org.jboss.as.remoting.RemotingEndpointAdd.java</file>
			<file type="M">org.jboss.as.remoting.RemotingSubsystem10Parser.java</file>
			<file type="M">org.jboss.as.controller.transform.description.AttributeTransformationRule.java</file>
		</fixedFiles>
	</bug>
	<bug id="2589" opendate="2013-11-28 17:40:11" fixdate="2014-02-06 15:52:51" resolution="Done">
		<buginformation>
			<summary>ReadTransformedResourceOperation should set include-defaults=false when calling read-resource</summary>
			<description>This needs further investigation, but it seems to mean that we have a lot of ModelFixers used in the wrong situation. i.e. the when transforming resources, attributes that should be undefined reach the transformers as defined with the default value set instead.
This needs a bit of thinking about Jeff Mesnil mentioned this a few weeks ago as well. I&amp;amp;apos;d like to see if he remembers before fixing</description>
			<version>8.0.0.Beta1</version>
			<fixedVersion>8.0.0.Final</fixedVersion>
			<type>Bug</type>
		</buginformation>
		<fixedFiles>
			<file type="M">org.jboss.as.subsystem.test.KernelServices.java</file>
			<file type="M">org.jboss.as.model.test.ModelTestLegacyControllerKernelServicesProxy.java</file>
			<file type="M">org.jboss.as.subsystem.test.ReadTransformedResourceOperation.java</file>
			<file type="M">org.jboss.as.subsystem.test.MainKernelServicesImpl.java</file>
			<file type="M">org.jboss.as.subsystem.test.SubsystemTestDelegate.java</file>
			<file type="M">org.jboss.as.subsystem.test.LegacyKernelServicesImpl.java</file>
			<file type="M">org.jboss.as.subsystem.test.AbstractKernelServicesImpl.java</file>
			<file type="M">org.jboss.as.subsystem.test.AbstractSubsystemTest.java</file>
		</fixedFiles>
	</bug>
	<bug id="2877" opendate="2014-02-06 18:57:41" fixdate="2014-02-06 21:41:55" resolution="Done">
		<buginformation>
			<summary>mod_cluster doesn&amp;apos;t honor overridden session cookie name </summary>
			<description>This logic was not in place when the initial implementation was done, so needs to be adjusted to take that overridden value into consideration.</description>
			<version>8.0.0.CR1</version>
			<fixedVersion>8.0.0.Final</fixedVersion>
			<type>Bug</type>
		</buginformation>
		<fixedFiles>
			<file type="M">org.wildfly.extension.undertow.ServerAdd.java</file>
			<file type="M">org.wildfly.mod_cluster.undertow.UndertowEngine.java</file>
			<file type="M">org.wildfly.extension.undertow.Server.java</file>
		</fixedFiles>
	</bug>
	<bug id="2836" opendate="2014-01-29 18:56:30" fixdate="2014-02-07 22:05:00" resolution="Done">
		<buginformation>
			<summary>http-listener requires &amp;apos;https&amp;apos; socket-binding</summary>
			<description>Using a http-listener without the redirect-socket attribute requires the configuration to define a socket-binding with name "https".
The following error is produced attempting to configure wildfly without https:






ERROR [org.jboss.as.controller.management-operation] (Controller Boot Thread) JBAS014613: Operation ("add") failed - address: ([




    ("subsystem" =&amp;gt; "undertow"),




    ("server" =&amp;gt; "default-server"),




    ("http-listener" =&amp;gt; "default")




]) - failure description: {"JBAS014771: Services with missing/unavailable dependencies" =&amp;gt; ["jboss.undertow.listener.default is missing [jboss.binding.https]"]}






I believe this constant is defined in ListenerResourceDefinition on line 80.
If this is the desired behavior, the undertow schema should probably be updated to make redirect-socket required or at least document the dependency.</description>
			<version>8.0.0.CR1</version>
			<fixedVersion>8.0.0.Final</fixedVersion>
			<type>Bug</type>
		</buginformation>
		<fixedFiles>
			<file type="M">org.wildfly.extension.undertow.deployment.UndertowDeploymentInfoService.java</file>
			<file type="M">org.wildfly.extension.undertow.UndertowSubsystemTestCase.java</file>
			<file type="M">org.wildfly.extension.undertow.HttpListenerAdd.java</file>
			<file type="M">org.wildfly.extension.undertow.HttpsListenerAdd.java</file>
			<file type="M">org.wildfly.extension.undertow.UndertowService.java</file>
			<file type="M">org.wildfly.extension.undertow.Server.java</file>
			<file type="M">org.wildfly.extension.undertow.ListenerAdd.java</file>
			<file type="M">org.wildfly.extension.undertow.AjpListenerAdd.java</file>
			<file type="M">org.wildfly.extension.undertow.filters.FilterRefAdd.java</file>
		</fixedFiles>
	</bug>
	<bug id="2696" opendate="2013-12-31 12:43:32" fixdate="2014-02-08 02:49:36" resolution="Done">
		<buginformation>
			<summary>management audit settings: syslog protocol is lowercase while uppercase is expected</summary>
			<description>Add a syslog handler to the audit settings of the management service of the domain controller, then start  an instance. It fails to start with:
JBAS014612: Operation ("register-server") failed - address: ([]): java.lang.IllegalArgumentException: No enum const class org.jboss.as.controller.audit.SyslogAuditLogHandler$Transport.udp
	at java.lang.Enum.valueOf(Enum.java:214)
</description>
			<version>8.0.0.CR1</version>
			<fixedVersion>8.0.0.Final</fixedVersion>
			<type>Bug</type>
		</buginformation>
		<fixedFiles>
			<file type="M">org.jboss.as.test.integration.domain.suites.AuditLogTestCase.java</file>
			<file type="M">org.jboss.as.domain.management.audit.SyslogAuditLogHandlerResourceDefinition.java</file>
			<file type="M">org.jboss.as.domain.controller.operations.coordination.ServerOperationResolver.java</file>
			<file type="M">org.jboss.as.domain.management.audit.SyslogAuditLogProtocolResourceDefinition.java</file>
		</fixedFiles>
	</bug>
	<bug id="2768" opendate="2014-01-16 16:11:31" fixdate="2014-02-08 02:57:08" resolution="Done">
		<buginformation>
			<summary>Redundant code hosted in arquillian directory</summary>
			<description>There are two Maven modules that are not part of the codebase since mid 2011. It would be better to remove them.
These modules are:

arquillian/protocol-servlet
arquillian/processor-jsfunit

</description>
			<version>8.0.0.CR1</version>
			<fixedVersion>8.0.0.Final</fixedVersion>
			<type>Bug</type>
		</buginformation>
		<fixedFiles>
			<file type="D">org.jboss.as.arquillian.protocol.servlet.ServletMethodExecutor.java</file>
			<file type="D">org.jboss.as.arquillian.protocol.servlet.ProtocolDeploymentAppender.java</file>
			<file type="D">org.jboss.as.arquillian.protocol.servlet.WebContext.java</file>
			<file type="D">org.jboss.as.arquillian.protocol.servlet.ServletTestRunner.java</file>
		</fixedFiles>
		<links>
			<link type="Dependency" description="blocks">2441</link>
		</links>
	</bug>
	<bug id="2875" opendate="2014-02-06 11:27:04" fixdate="2014-02-08 04:29:34" resolution="Done">
		<buginformation>
			<summary>Resteasy+Spring integration can result in double VFS mount</summary>
			<description></description>
			<version>8.0.0.CR1</version>
			<fixedVersion>8.0.0.Final</fixedVersion>
			<type>Bug</type>
		</buginformation>
		<fixedFiles>
			<file type="M">org.jboss.as.jaxrs.deployment.JaxrsSpringProcessor.java</file>
			<file type="M">org.jboss.as.jaxrs.JaxrsSubsystemAdd.java</file>
		</fixedFiles>
	</bug>
	<bug id="2522" opendate="2013-11-16 14:02:09" fixdate="2014-02-08 04:53:37" resolution="Done">
		<buginformation>
			<summary>Error when invoking @Remove method for stateful bean in transaction</summary>
			<description>I&amp;amp;apos;m invoking method annotated with @Remove






@Remove









public void remove() {









...






On invocation inside active transaction I&amp;amp;apos;m getting following error :






Caused by: java.lang.IllegalStateException: ARJUNA016082: Synchronizations are not allowed! Transaction status isActionStatus.RUNNING




at com.arjuna.ats.internal.jta.transaction.arjunacore.TransactionImple.registerSynchronizationImple(TransactionImple.java:374)




at com.arjuna.ats.internal.jta.transaction.arjunacore.TransactionImple.registerSynchronization(TransactionImple.java:351)




at org.jboss.as.ejb3.cache.TransactionAwareObjectFactory.destroyInstance(TransactionAwareObjectFactory.java:66) [jboss-as-ejb3-7.1.3.Final.jar:7.1.3.Final]




at org.jboss.as.ejb3.cache.impl.backing.NonPassivatingBackingCacheImpl.remove(NonPassivatingBackingCacheImpl.java:165) [jboss-as-ejb3-7.1.3.Final.jar:7.1.3.Final]




at org.jboss.as.ejb3.cache.impl.backing.NonPassivatingBackingCacheImpl.remove(NonPassivatingBackingCacheImpl.java:57) [jboss-as-ejb3-7.1.3.Final.jar:7.1.3.Final]




at org.jboss.as.ejb3.cache.spi.impl.AbstractCache.remove(AbstractCache.java:100) [jboss-as-ejb3-7.1.3.Final.jar:7.1.3.Final]




at org.jboss.as.ejb3.cache.spi.impl.AbstractCache.remove(AbstractCache.java:39) [jboss-as-ejb3-7.1.3.Final.jar:7.1.3.Final]




at org.jboss.as.ejb3.component.stateful.StatefulSessionComponent.removeSession(StatefulSessionComponent.java:283) [jboss-as-ejb3-7.1.3.Final.jar:7.1.3.Final]




at org.jboss.as.ejb3.component.stateful.StatefulRemoveInterceptor.processInvocation(StatefulRemoveInterceptor.java:100) [jboss-as-ejb3-7.1.3.Final.jar:7.1.3.Final]




at org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:288) [jboss-invocation-1.1.1.Final.jar:1.1.1.Final]




at org.jboss.as.ejb3.component.stateful.StatefulComponentInstanceInterceptor.processInvocation(StatefulComponentInstanceInterceptor.java:67) [jboss-as-ejb3-7.1.3.Final.jar:7.1.3.Final]




at org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:288) [jboss-invocation-1.1.1.Final.jar:1.1.1.Final]




at org.jboss.as.ejb3.tx.CMTTxInterceptor.invokeInCallerTx(CMTTxInterceptor.java:200) [jboss-as-ejb3-7.1.3.Final.jar:7.1.3.Final]




... 140 more






EJB Spec paragraphe 4.6.4 states:

If a session bean instance is participating in a transaction, it is an error for a client to invoke the remove method on the session objects home or component interface object. The container must detect such an attempt and throw the javax.ejb.RemoveException to the client. The container should not mark the clients transaction for rollback, thus allowing the client to recover. Note that this restriction only applies to the remove method on the session objects home or component interface, not to the invocation of @Remove methods.</description>
			<version>8.0.0.Beta1</version>
			<fixedVersion>8.0.0.Final</fixedVersion>
			<type>Bug</type>
		</buginformation>
		<fixedFiles>
			<file type="M">org.jboss.as.ejb3.component.stateful.StatefulSessionSynchronizationInterceptor.java</file>
			<file type="M">org.jboss.as.ejb3.component.stateful.StatefulSessionComponentInstance.java</file>
			<file type="M">org.jboss.as.ejb3.component.stateful.StatefulSessionComponent.java</file>
			<file type="D">org.jboss.as.ejb3.cache.TransactionAwareObjectFactory.java</file>
		</fixedFiles>
	</bug>
	<bug id="2319" opendate="2013-10-16 13:44:18" fixdate="2014-02-08 04:54:40" resolution="Done">
		<buginformation>
			<summary>LDAP Search containing URL - InvalidNameException: ldap:: [LDAP: error code 34 - Invalid root Dn given</summary>
			<description>The following code: -






        Hashtable env = new Hashtable();




        env.put("java.naming.factory.initial", "com.sun.jndi.ldap.LdapCtxFactory");




        env.put("java.naming.security.authentication", "simple");




        env.put("java.naming.provider.url", "ldap://localhost:10389");




        env.put(InitialDirContext.SECURITY_PRINCIPAL, "uid=admin,ou=system");




        env.put(InitialDirContext.SECURITY_CREDENTIALS, "secret");




        SearchControls ctl = null;




        String attrArr[] = new String[1];




        attrArr[0] = "sn";




        ctl = new SearchControls(2, 0L, 0, attrArr, false, false);









        String base = "ldap://localhost:10389/dc=simple,dc=wildfly,dc=org";




        String filter = "(uid=UserOne)";









        NamingEnumeration nenum = null;




        DirContext ictx = null;









            ictx = new InitialDirContext(env);




            nenum = ictx.search(base, filter, ctl);






Results in the following exception: -

{noquote}
13:03:45,598 ERROR [stderr] (default task-1) javax.naming.InvalidNameException: ldap:: [LDAP: error code 34 - Invalid root Dn given : ldap: (0x6C 0x64 0x61 0x70 0x3A ) is invalid]; remaining name &amp;amp;apos;ldap://localhost:10389/dc=simple,dc=wildfly,dc=org&amp;amp;apos;
13:03:45,599 ERROR [stderr] (default task-1) 	at com.sun.jndi.ldap.LdapCtx.processReturnCode(LdapCtx.java:3025)
13:03:45,600 ERROR [stderr] (default task-1) 	at com.sun.jndi.ldap.LdapCtx.processReturnCode(LdapCtx.java:2840)
13:03:45,600 ERROR [stderr] (default task-1) 	at com.sun.jndi.ldap.LdapCtx.c_lookup(LdapCtx.java:1034){noquote}

Switching to a base that does not begin with a URL and the search works, executing this code outside of WildFly also works.
The underlying issue is that the default InitialContext implementation contains the following method: -






    protected Context getURLOrDefaultInitCtx(String name)




        throws NamingException {




        if (NamingManager.hasInitialContextFactoryBuilder()) {




            return getDefaultInitCtx();




        }




        String scheme = getURLScheme(name);




        if (scheme != null) {




            Context ctx = NamingManager.getURLContext(scheme, myProps);




            if (ctx != null) {




                return ctx;




            }




        }




        return getDefaultInitCtx();




    }






As the naming subsystem has registered a InitialContextFactoryBuilder this code will never fall down to the scheme specific section.</description>
			<version>8.0.0.Beta1</version>
			<fixedVersion>8.0.0.Final</fixedVersion>
			<type>Bug</type>
		</buginformation>
		<fixedFiles>
			<file type="M">org.jboss.as.naming.InitialContext.java</file>
			<file type="M">org.jboss.as.test.integration.naming.ldap.LdapUrlInSearchBaseTestCase.java</file>
			<file type="M">org.jboss.as.test.integration.security.common.Utils.java</file>
			<file type="M">org.jboss.as.test.integration.security.loginmodules.LdapLoginModuleTestCase.java</file>
			<file type="M">org.jboss.as.naming.InitialContextFactoryBuilder.java</file>
		</fixedFiles>
		<links>
			<link type="Related" description="is related to">794</link>
		</links>
	</bug>
	<bug id="2840" opendate="2014-01-30 04:00:54" fixdate="2014-02-08 04:55:19" resolution="Done">
		<buginformation>
			<summary>@Schedule EJB Timer not using timezone when calculating next timeout</summary>
			<description>With a system running in Central Timezone, if it uses the annotation below specifying the timezone as Eastern timezone, with the hour set to the current hour.
The timer will fire once, and it will calculate the next timeout to be in the next hour CST, where as it should take in consideration the timezone specified on @Schedule which is Eastern.  If it did, then the timer should continue to fire every minute.






  @Schedule(persistent = false, timezone = "America/New_York", dayOfMonth = "*", dayOfWeek = "*", month = "*", hour = "22", minute = "*", second = "0", year = "*")






21:53:00,006 INFO  [stdout] (EJB default - 1) ScheduleTest: nextTimeout:Wed Jan 29 22:00:00 CST 2014






import javax.ejb.Schedule;




import javax.ejb.Singleton;




import javax.ejb.Startup;









@Startup




@Singleton




public class ScheduleTest {




  @Schedule(persistent = false, timezone = "America/New_York", dayOfMonth = "*", dayOfWeek = "*", month = "*", hour = "22", minute = "*", second = "0", year = "*")




  public void helloWorld(Timer time) {




    System.out.println("ScheduleTest: timer:" + time.getClass().getName() + " " + time.getNextTimeout() + " " + time.getInfo());




  }




}





</description>
			<version>8.0.0.CR1</version>
			<fixedVersion>8.0.0.Final</fixedVersion>
			<type>Bug</type>
		</buginformation>
		<fixedFiles>
			<file type="M">org.jboss.as.ejb3.timerservice.schedule.CalendarBasedTimeout.java</file>
		</fixedFiles>
	</bug>
	<bug id="2618" opendate="2013-12-06 15:13:45" fixdate="2014-02-08 04:55:47" resolution="Done">
		<buginformation>
			<summary>Intermittent &amp;apos;AssertionError: expected:&lt;200&gt; but was:&lt;500&gt;&amp;apos; in org.jboss.as.test.manualmode.ws.ReloadWSDLPublisherTestCase.testHelloStringAfterReload</summary>
			<description>http://brontes.lab.eng.brq.redhat.com/project.html?projectId=WF&amp;amp;testNameId=-3843551226685549253&amp;amp;tab=testDetails
The issue is due to the fact that the jvm is reusing the same connection because it has a keep-alive set to true with a timeout of 5 s.</description>
			<version>8.0.0.CR1</version>
			<fixedVersion>8.0.0.CR1</fixedVersion>
			<type>Bug</type>
		</buginformation>
		<fixedFiles>
			<file type="M">org.jboss.as.test.manualmode.ws.ReloadWSDLPublisherTestCase.java</file>
		</fixedFiles>
	</bug>
	<bug id="2880" opendate="2014-02-07 22:14:29" fixdate="2014-02-09 05:31:25" resolution="Done">
		<buginformation>
			<summary>DsXmlDeploymentInstallProcessor passes wrong ManagementResourceRegistration to DataSourceStatisticsListener</summary>
			<description>Unlike AbstractDataSourceAdd, which passes an override registration into DataSourceStatisticsListener, DsXmlDeploymentInstallProcessor passes in the main registration.
I believe this is the cause of the following stuff in the logs Tomaz Cerar saw when messing about with the WildFly quickstarts:






22:50:05,945 ERROR [org.jboss.msc.service] (MSC service thread 1-4) MSC000002: Invocation of listener "org.jboss.as.connector.subsystems.datasources.DataSourceStatisticsListener@1281d4a" failed: java.lang.IllegalArgumentException:




 JBAS014809: A node is already registered at &amp;amp;apos;(deployment =&amp;gt; *)(subsystem =&amp;gt; datasources)(data-source =&amp;gt; *)(statistics =&amp;gt; jdbc)&amp;amp;apos;




        at org.jboss.as.controller.registry.ConcreteResourceRegistration.registerSubModel(ConcreteResourceRegistration.java:145) [wildfly-controller-8.0.0.Final-SNAPSHOT.jar:8.0.0.Final-SNAPSHOT]




        at org.jboss.as.controller.registry.AbstractResourceRegistration.registerSubModel(AbstractResourceRegistration.java:90) [wildfly-controller-8.0.0.Final-SNAPSHOT.jar:8.0.0.Final-SNAPSHOT]




        at org.jboss.as.connector.subsystems.datasources.DataSourceStatisticsListener.transition(DataSourceStatisticsListener.java:72) [wildfly-connector-8.0.0.Final-SNAPSHOT.jar:8.0.0.Final-SNAPSHOT]




        at org.jboss.msc.service.ServiceControllerImpl.invokeListener(ServiceControllerImpl.java:1533) [jboss-msc-1.2.0.Final.jar:1.2.0.Final]




        at org.jboss.msc.service.ServiceControllerImpl.access$2800(ServiceControllerImpl.java:51) [jboss-msc-1.2.0.Final.jar:1.2.0.Final]




        at org.jboss.msc.service.ServiceControllerImpl$ListenerTask.run(ServiceControllerImpl.java:2099) [jboss-msc-1.2.0.Final.jar:1.2.0.Final]




        at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142) [rt.jar:1.8.0]




        at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617) [rt.jar:1.8.0]




        at java.lang.Thread.run(Thread.java:744) [rt.jar:1.8.0]





</description>
			<version>8.0.0.CR1</version>
			<fixedVersion>8.0.0.Final</fixedVersion>
			<type>Bug</type>
		</buginformation>
		<fixedFiles>
			<file type="M">org.jboss.as.connector.deployers.ds.processors.DsXmlDeploymentInstallProcessor.java</file>
		</fixedFiles>
		<links>
			<link type="Dependency" description="blocks">2203</link>
		</links>
	</bug>
	<bug id="2887" opendate="2014-02-09 21:58:33" fixdate="2014-02-10 14:10:17" resolution="Duplicate Issue">
		<buginformation>
			<summary>Build fail due to CalendarBasedTimeoutTestCase on OSX 7u51</summary>
			<description>Cannot build from master (d7d7a1f) on OSX due to following failure






-------------------------------------------------------




 T E S T S




-------------------------------------------------------




Running org.jboss.as.ejb3.component.stateful.StatefulSessionSynchronizationInterceptorTestCase




Tests run: 1, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.316 sec - in org.jboss.as.ejb3.component.stateful.StatefulSessionSynchronizationInterceptorTestCase




Running org.jboss.as.ejb3.concurrency.EJBReadWriteLockTest




Tests run: 3, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 5.012 sec - in org.jboss.as.ejb3.concurrency.EJBReadWriteLockTest




Running org.jboss.as.ejb3.deployment.processors.ViewInterfacesTestCase




Tests run: 2, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.02 sec - in org.jboss.as.ejb3.deployment.processors.ViewInterfacesTestCase




Running org.jboss.as.ejb3.subsystem.Ejb3SubsystemUnitTestCase




Tests run: 14, Failures: 0, Errors: 0, Skipped: 7, Time elapsed: 3.227 sec - in org.jboss.as.ejb3.subsystem.Ejb3SubsystemUnitTestCase




Running org.jboss.as.ejb3.timer.schedule.CalendarBasedTimeoutTestCase




Tests run: 1, Failures: 1, Errors: 0, Skipped: 0, Time elapsed: 0.786 sec &amp;lt;&amp;lt;&amp;lt; FAILURE! - in org.jboss.as.ejb3.timer.schedule.CalendarBasedTimeoutTestCase




testCalendarBasedTimeout(org.jboss.as.ejb3.timer.schedule.CalendarBasedTimeoutTestCase)  Time elapsed: 0.785 sec  &amp;lt;&amp;lt;&amp;lt; FAILURE!




java.lang.AssertionError: Cuba Standard Time




	at org.junit.Assert.fail(Assert.java:88)




	at org.jboss.as.ejb3.timer.schedule.CalendarBasedTimeoutTestCase.testWithStartInThePast(CalendarBasedTimeoutTestCase.java:496)




	at org.jboss.as.ejb3.timer.schedule.CalendarBasedTimeoutTestCase.testCalendarBasedTimeout(CalendarBasedTimeoutTestCase.java:95)









Running org.jboss.as.ejb3.timer.schedule.CalendarBasedTimeoutWithDifferentTimeZoneTestCase




Tests run: 1, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.003 sec - in org.jboss.as.ejb3.timer.schedule.CalendarBasedTimeoutWithDifferentTimeZoneTestCase




Running org.jboss.as.ejb3.timer.schedule.CalendarUtilTestCase




Tests run: 7, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0 sec - in org.jboss.as.ejb3.timer.schedule.CalendarUtilTestCase




Running org.jboss.as.ejb3.timer.schedule.RangeValueTestCase




Tests run: 2, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.001 sec - in org.jboss.as.ejb3.timer.schedule.RangeValueTestCase









Results :









Failed tests: 




  CalendarBasedTimeoutTestCase.testCalendarBasedTimeout:95-&amp;gt;testWithStartInThePast:496 Cuba Standard Time









Tests run: 31, Failures: 1, Errors: 0, Skipped: 7






Environment






mbp:jboss-as codylerum$ mvn install -rf :wildfly-ejb3 -XX




Apache Maven 3.1.1 (0728685237757ffbf44136acec0402957f723d9a; 2013-09-17 09:22:22-0600)




Maven home: /usr/local/Cellar/maven/3.1.1/libexec




Java version: 1.7.0_51, vendor: Oracle Corporation




Java home: /Library/Java/JavaVirtualMachines/jdk1.7.0_51.jdk/Contents/Home/jre




Default locale: en_US, platform encoding: UTF-8




OS name: "mac os x", version: "10.9.1", arch: "x86_64", family: "mac"





</description>
			<version>8.0.0.CR1</version>
			<fixedVersion></fixedVersion>
			<type>Bug</type>
		</buginformation>
		<fixedFiles>
			<file type="M">org.jboss.as.ejb3.timerservice.schedule.CalendarBasedTimeout.java</file>
			<file type="M">org.jboss.as.ejb3.timer.schedule.CalendarBasedTimeoutTestCase.java</file>
		</fixedFiles>
		<links>
			<link type="Duplicate" description="duplicates">2881</link>
		</links>
	</bug>
	<bug id="2203" opendate="2013-10-02 14:18:32" fixdate="2014-02-10 15:19:10" resolution="Done">
		<buginformation>
			<summary>Error deploying multiple *-ds.xml files</summary>
			<description>Our individual *-ds.xml datasources were all deploying fine in Alpha4 but in the Beta1 nightlies this error appears on startup:






15:07:52,111 ERROR [org.jboss.msc.service] (MSC service thread 1-4) MSC000002: Invocation of listener "org.jboss.as.connector.subsystems.datasources.D




ataSourceStatisticsListener@7d18ac99" failed: java.lang.IllegalArgumentException: JBAS014742: A node is already registered at &amp;amp;apos;(deployment =&amp;gt; *)(subsy




stem =&amp;gt; datasources)(data-source =&amp;gt; *)(statistics =&amp;gt; jdbc)&amp;amp;apos;




        at org.jboss.as.controller.registry.NodeSubregistry.register(NodeSubregistry.java:86) [wildfly-controller-8.0.0.Beta1-SNAPSHOT.jar:8.0.0.Beta1




-SNAPSHOT]




        at org.jboss.as.controller.registry.ConcreteResourceRegistration.registerSubModel(ConcreteResourceRegistration.java:149) [wildfly-controller-8




.0.0.Beta1-SNAPSHOT.jar:8.0.0.Beta1-SNAPSHOT]




        at org.jboss.as.controller.registry.AbstractResourceRegistration.registerSubModel(AbstractResourceRegistration.java:90) [wildfly-controller-8.




0.0.Beta1-SNAPSHOT.jar:8.0.0.Beta1-SNAPSHOT]




        at org.jboss.as.connector.subsystems.datasources.DataSourceStatisticsListener.transition(DataSourceStatisticsListener.java:72) [wildfly-connec




tor-8.0.0.Beta1-SNAPSHOT.jar:8.0.0.Beta1-SNAPSHOT]




        at org.jboss.msc.service.ServiceControllerImpl.invokeListener(ServiceControllerImpl.java:1533) [jboss-msc-1.2.0.Beta2.jar:1.2.0.Beta2]






Our datasource files look like this. I haven&amp;amp;apos;t tried putting all the datasource elements into one file.






&amp;lt;?xml version="1.0" encoding="UTF-8"?&amp;gt;




&amp;lt;datasources&amp;gt;




  &amp;lt;datasource jndi-name="java:/AlphaDS" enabled="true" use-java-context="true" pool-name="AlphaDS"&amp;gt;




    &amp;lt;connection-url&amp;gt;jdbc:oracle:thin://@db-host:1666/dev-db&amp;lt;/connection-url&amp;gt; 




    &amp;lt;driver&amp;gt;oracle&amp;lt;/driver&amp;gt;




    &amp;lt;security&amp;gt;




      &amp;lt;user-name&amp;gt;XXX&amp;lt;/user-name&amp;gt;




      &amp;lt;password&amp;gt;YYY&amp;lt;/password&amp;gt;




    &amp;lt;/security&amp;gt;




    &amp;lt;connection-property name="defaultNChar"&amp;gt;true&amp;lt;/connection-property&amp;gt;




  &amp;lt;/datasource&amp;gt;




&amp;lt;/datasources&amp;gt;












&amp;lt;?xml version="1.0" encoding="UTF-8"?&amp;gt;




&amp;lt;datasources&amp;gt;




  &amp;lt;datasource jndi-name="java:/BetaDS" enabled="true" use-java-context="true" pool-name="BetaDS"&amp;gt;




    &amp;lt;connection-url&amp;gt;jdbc:oracle:thin://@db-host:1666/dev-db&amp;lt;/connection-url&amp;gt; 




    &amp;lt;driver&amp;gt;oracle&amp;lt;/driver&amp;gt;




    &amp;lt;security&amp;gt;




      &amp;lt;user-name&amp;gt;XXX&amp;lt;/user-name&amp;gt;




      &amp;lt;password&amp;gt;YYY&amp;lt;/password&amp;gt;




    &amp;lt;/security&amp;gt;




    &amp;lt;connection-property name="defaultNChar"&amp;gt;true&amp;lt;/connection-property&amp;gt;




  &amp;lt;/datasource&amp;gt;




&amp;lt;/datasources&amp;gt;





</description>
			<version>8.0.0.Beta1</version>
			<fixedVersion>8.0.0.Final</fixedVersion>
			<type>Bug</type>
		</buginformation>
		<fixedFiles>
			<file type="M">org.jboss.as.test.integration.deployment.xml.datasource.DeployedXmlDataSourceManagementTestCase.java</file>
			<file type="M">org.jboss.as.connector.deployers.ds.processors.DsXmlDeploymentInstallProcessor.java</file>
			<file type="M">org.jboss.as.controller.registry.AbstractResourceRegistration.java</file>
		</fixedFiles>
		<links>
			<link type="Dependency" description="is blocked by">2880</link>
			<link type="Related" description="is related to">2283</link>
		</links>
	</bug>
	<bug id="2886" opendate="2014-02-09 19:06:53" fixdate="2014-02-10 15:27:13" resolution="Done">
		<buginformation>
			<summary>RolloutPlanTestCase makes invalid assumptions about test execution</summary>
			<description>RolloutPlanTestCase.testMaxFailServersRolloutPlan() assumes that the final op it sends (to remove the http-listener) will be executed on servers main-two and main-three. This is invalid, because if main-one executes before either main-two or main-three, there will be two failed servers in the rollout and the 3rd server will never get called.
This is why the test fails on JDK 8. There is some impl difference (probably in some collection class) that causes the server ops to be executed in different order.
This is just a matter of correcting some test assertions.</description>
			<version>8.0.0.CR1</version>
			<fixedVersion>8.0.0.Final</fixedVersion>
			<type>Bug</type>
		</buginformation>
		<fixedFiles>
			<file type="M">org.jboss.as.domain.controller.plan.RollingServerGroupUpdateTask.java</file>
			<file type="M">org.jboss.as.domain.controller.plan.ConcurrentGroupServerUpdatePolicy.java</file>
			<file type="M">org.jboss.as.domain.controller.plan.ServerUpdatePolicy.java</file>
			<file type="M">org.jboss.as.controller.remote.BlockingQueueOperationListener.java</file>
			<file type="M">org.jboss.as.test.integration.domain.management.cli.RolloutPlanTestCase.java</file>
			<file type="M">org.jboss.as.domain.controller.plan.ConcurrentServerGroupUpdateTask.java</file>
		</fixedFiles>
	</bug>
	<bug id="2896" opendate="2014-02-10 19:30:51" fixdate="2014-02-10 20:50:32" resolution="Done">
		<buginformation>
			<summary>Cannot obtain DataSource using JNDI Name lookup</summary>
			<description>Hi,
I&amp;amp;apos;m having a problem to obtain DataSource using JNDI Name lookup.
Please see my code and error below:
      Connection connection = null;
      DataSource dataSource = null;
      try 
{
        final Context initContext = new InitialContext();
        dataSource = (DataSource)  initContext.lookup("java:/MyDataSource");
        connection = dataSource.getConnection();
      }
 catch (Exception e) 
{
         LOGGER.error(e);
      }

Caused by: javax.naming.NamingException: JBAS011832: Could not dereference object [Root exception is java.lang.NullPointerException]
        at org.jboss.as.naming.NamingContext.getObjectInstance(NamingContext.java:526)
        at org.jboss.as.naming.NamingContext.lookup(NamingContext.java:236)
        at org.jboss.as.naming.InitialContext$DefaultInitialContext.lookup(InitialContext.java:233)
        at org.jboss.as.naming.NamingContext.lookup(NamingContext.java:188)
        at org.jboss.as.naming.NamingContext.lookup(NamingContext.java:184)
        at javax.naming.InitialContext.lookup(InitialContext.java:411) [rt.jar:1.7.0_45]
        at javax.naming.InitialContext.lookup(InitialContext.java:411) [rt.jar:1.7.0_45]
        ... 10 more
Caused by: java.lang.NullPointerException
        at org.jboss.as.naming.NamingContext.getObjectInstance(NamingContext.java:522)
        ... 17 more</description>
			<version>8.0.0.Final</version>
			<fixedVersion>8.0.0.Final</fixedVersion>
			<type>Bug</type>
		</buginformation>
		<fixedFiles>
			<file type="M">org.jboss.as.naming.NamingContext.java</file>
		</fixedFiles>
	</bug>
	<bug id="2901" opendate="2014-02-11 07:55:49" fixdate="2014-02-12 03:07:11" resolution="Done">
		<buginformation>
			<summary>mod_cluster hot standby worker can&amp;apos;t be configured</summary>
			<description>&amp;lt;simple-load-provider factor="0"/&amp;gt; isn&amp;amp;apos;t accepted by the parser.</description>
			<version>8.0.0.CR1</version>
			<fixedVersion>8.0.0.Final</fixedVersion>
			<type>Bug</type>
		</buginformation>
		<fixedFiles>
			<file type="M">org.wildfly.extension.mod_cluster.ModClusterConfigResourceDefinition.java</file>
		</fixedFiles>
		<links>
			<link type="Related" description="relates to">389</link>
		</links>
	</bug>
	<bug id="2728" opendate="2014-01-08 18:43:01" fixdate="2014-02-12 13:29:58" resolution="Done">
		<buginformation>
			<summary>JASPIAuthenticationMechanism doesn&amp;apos;t handle wrapped/unwrapped request and response objects</summary>
			<description>JASPIAuthenticationMechanims must check if a SAM has wrapped (during validateRequest) or unwrapped (during secureResponse) the HTTP request and response objects and replace the original references by the wrapped/unwrapped ones before continuing with the request processing.</description>
			<version>8.0.0.CR1</version>
			<fixedVersion>8.0.0.Final</fixedVersion>
			<type>Bug</type>
		</buginformation>
		<fixedFiles>
			<file type="M">org.wildfly.extension.undertow.security.jaspi.JASPIAuthenticationMechanism.java</file>
		</fixedFiles>
	</bug>
	<bug id="2932" opendate="2014-02-14 03:09:18" fixdate="2014-02-17 22:29:54" resolution="Done">
		<buginformation>
			<summary>ProtocolConnectionUtils forces protocol to "remoting" when -Djboss.management.client_socket_bind_address is used</summary>
			<description>It needs to take the protocol from the configuration URI.</description>
			<version>8.0.0.Final</version>
			<fixedVersion>8.1.0.CR1, 8.1.0.Final</fixedVersion>
			<type>Bug</type>
		</buginformation>
		<fixedFiles>
			<file type="M">org.jboss.as.protocol.ProtocolConnectionUtils.java</file>
		</fixedFiles>
	</bug>
	<bug id="2918" opendate="2014-02-12 21:15:34" fixdate="2014-02-17 22:30:14" resolution="Done">
		<buginformation>
			<summary>Boot failure when domain-controller/remote element does not specify port attribute</summary>
			<description>The 2.0 xsd says that the "host" and "port" attributes for host.xml domain-controller/remote element are optional. But if port is not specified boot fails:






[Host Controller] 14:55:37,300 INFO  [org.jboss.as] (MSC service thread 1-6) JBAS015899: WildFly 8.0.0.Final "WildFly" starting




[Host Controller] 14:55:38,060 ERROR [org.jboss.as.controller.management-operation] (Controller Boot Thread) JBAS014613: Operation ("write-remote-domain-controller") failed - address: ([("host" =&amp;gt; "slave")]) - failure description: "JBAS014746: port may not be null"




[Host Controller] 14:55:38,062 FATAL [org.jboss.as.host.controller] (Controller Boot Thread) JBAS010933: Host Controller boot has failed in an unrecoverable manner; exiting. See previous messages for details.





</description>
			<version>8.0.0.Final</version>
			<fixedVersion>8.1.0.CR1, 8.1.0.Final</fixedVersion>
			<type>Bug</type>
		</buginformation>
		<fixedFiles>
			<file type="M">org.jboss.as.host.controller.discovery.StaticDiscovery.java</file>
			<file type="M">org.jboss.as.version.Version.java</file>
			<file type="M">org.jboss.as.host.controller.parsing.HostXml.java</file>
			<file type="M">org.jboss.as.host.controller.discovery.S3Discovery.java</file>
			<file type="M">org.jboss.as.host.controller.operations.RemoteDomainControllerAddHandler.java</file>
		</fixedFiles>
	</bug>
	<bug id="2917" opendate="2014-02-12 21:12:42" fixdate="2014-02-17 22:30:27" resolution="Done">
		<buginformation>
			<summary>Unhelpful logging related to slave HC failover</summary>
			<description>In 8.0.0 we introduced the "discovery-options" notion to the HC&amp;amp;apos;s domain-controller config. One expected usage pattern is there will be a master HC and then one or more slaves started with --backup-dc that act as passive failover DC&amp;amp;apos;s. Other slaves will use discovery-options elements to configure all possible masters. If the regular master fails, a backup can be quickly converted to a master with a couple CLI ops.
This works, except the slave shows some unhelpful logging while waiting for the backup to be promoted:






[Host Controller] 14:58:13,105 WARN  [org.jboss.as.host.controller] (Remoting "besdev:MANAGEMENT" task-3) JBAS010914: Connection to remote host-controller closed. Trying to reconnect.




[Host Controller] 14:58:13,134 INFO  [org.jboss.as.host.controller] (domain-connection-threads - 1) JBAS010916: Reconnected to master




[Host Controller] 14:58:14,160 INFO  [org.jboss.as.host.controller] (domain-connection-threads - 1) JBAS010916: Reconnected to master




[Host Controller] 14:58:18,180 INFO  [org.jboss.as.host.controller] (domain-connection-threads - 1) JBAS010916: Reconnected to master




[Host Controller] 14:58:27,200 INFO  [org.jboss.as.host.controller] (domain-connection-threads - 1) JBAS010916: Reconnected to master




[Host Controller] 14:58:42,216 INFO  [org.jboss.as.host.controller] (domain-connection-threads - 1) JBAS010916: Reconnected to master




[Host Controller] 14:58:57,232 INFO  [org.jboss.as.host.controller] (domain-connection-threads - 1) JBAS010916: Reconnected to master




[Host Controller] 14:59:12,248 INFO  [org.jboss.as.host.controller] (domain-connection-threads - 1) JBAS010916: Reconnected to master




[Host Controller] 14:59:27,264 INFO  [org.jboss.as.host.controller] (domain-connection-threads - 1) JBAS010916: Reconnected to master




[Host Controller] 14:59:42,280 INFO  [org.jboss.as.host.controller] (domain-connection-threads - 1) JBAS010916: Reconnected to master




[Host Controller] 14:59:57,296 INFO  [org.jboss.as.host.controller] (domain-connection-threads - 1) JBAS010916: Reconnected to master




[Host Controller] 15:00:12,312 INFO  [org.jboss.as.host.controller] (domain-connection-threads - 1) JBAS010916: Reconnected to master




[Host Controller] 15:00:27,328 INFO  [org.jboss.as.host.controller] (domain-connection-threads - 1) JBAS010916: Reconnected to master




[Host Controller] 15:00:42,351 INFO  [org.jboss.as.host.controller] (domain-connection-threads - 1) JBAS010916: Reconnected to master






What&amp;amp;apos;s happening there is the slave is connecting to the backup but is not being allowed to register as a slave because the backup is not yet a master. The logging should reflect what&amp;amp;apos;s actually happening.
Also, after the backup is promoted and the slave properly registers, there&amp;amp;apos;s nothing in the slaves logs.</description>
			<version>8.0.0.Final</version>
			<fixedVersion>8.1.0.CR1, 8.1.0.Final</fixedVersion>
			<type>Bug</type>
		</buginformation>
		<fixedFiles>
			<file type="M">org.jboss.as.host.controller.discovery.StaticDiscovery.java</file>
			<file type="M">org.jboss.as.host.controller.RemoteDomainConnectionService.java</file>
			<file type="M">org.jboss.as.host.controller.HostControllerLogger.java</file>
			<file type="M">org.jboss.as.host.controller.RemoteDomainConnection.java</file>
			<file type="M">org.jboss.as.host.controller.DomainModelControllerService.java</file>
			<file type="M">org.jboss.as.host.controller.discovery.S3Discovery.java</file>
		</fixedFiles>
	</bug>
	<bug id="2998" opendate="2014-02-23 02:28:23" fixdate="2014-02-25 01:57:10" resolution="Done">
		<buginformation>
			<summary>HttpManagementRemoveHandler does not remove all added services</summary>
			<description>You can&amp;amp;apos;t remove the http-interface and then re-add it.
Looks like the rollback behavior in HttpManagementAddHandler is broken as well.</description>
			<version>8.0.0.Final</version>
			<fixedVersion>8.1.0.CR1, 8.1.0.Final</fixedVersion>
			<type>Bug</type>
		</buginformation>
		<fixedFiles>
			<file type="M">org.jboss.as.test.integration.security.common.AbstractSecurityRealmsServerSetupTask.java</file>
			<file type="M">org.jboss.as.test.manualmode.web.ssl.HTTPSManagementInterfaceTestCase.java</file>
			<file type="M">org.jboss.as.test.manualmode.web.ssl.HTTPSWebConnectorTestCase.java</file>
			<file type="D">org.jboss.as.test.manualmode.web.ssl.SSLTruststoreUtil.java</file>
			<file type="M">org.jboss.as.host.controller.operations.HttpManagementAddHandler.java</file>
			<file type="M">org.jboss.as.server.operations.HttpManagementRemoveHandler.java</file>
			<file type="M">org.jboss.as.host.controller.operations.HttpManagementRemoveHandler.java</file>
		</fixedFiles>
	</bug>
	<bug id="2992" opendate="2014-02-21 14:53:31" fixdate="2014-02-25 02:02:18" resolution="Done">
		<buginformation>
			<summary>HttpServerLogger.errorContextModuleNotFound() is skipped</summary>
			<description>HttpServerLogger.errorContextModuleNotFound(String slot) was added but the code that should call it doesn&amp;amp;apos;t, it just calls logger.error(slot).</description>
			<version>8.0.0.Final</version>
			<fixedVersion>8.1.0.CR1, 8.1.0.Final</fixedVersion>
			<type>Bug</type>
		</buginformation>
		<fixedFiles>
			<file type="M">org.jboss.as.domain.http.server.ManagementHttpServer.java</file>
		</fixedFiles>
	</bug>
	<bug id="2987" opendate="2014-02-21 10:59:43" fixdate="2014-02-25 06:23:48" resolution="Done">
		<buginformation>
			<summary>RemoteDestinationOutboundSocketBindingService is not stopped when the resource is removed</summary>
			<description>Steps to Reproduce:
1. add remote-destination-outbound-socket-binding
./jboss-cli.sh -c "/socket-binding-group=standard-sockets/remote-destination-outbound-socket-binding=remote-connection-war-ejb-1:add(host=localhost, port=4447)"
result is 
{"outcome" =&amp;gt; "success"}

3. remove remote-destination-outbound-socket-binding
./bin/jboss-cli.sh -c "/socket-binding-group=standard-sockets/remote-destination-outbound-socket-binding=remote-connection-war-ejb-1:remove"

result is {"outcome" =&amp;gt; "success"}

4. add remote-destination-outbound-socket-binding
./jboss-cli.sh -c "/socket-binding-group=standard-sockets/remote-destination-outbound-socket-binding=remote-connection-war-ejb-1:add(host=localhost, port=4447)"
result is
{
    "outcome" =&amp;gt; "failed",
    "failure-description" =&amp;gt; "JBAS014749: Operation handler failed: Service jboss.outbound-socket-binding.remote-connection-war-ejb-1 is already registered",
    "rolled-back" =&amp;gt; true
}

Expected results:
{"outcome" =&amp;gt; "success"}

Step 3 should either report reload required or should be fixed</description>
			<version>8.0.0.Final</version>
			<fixedVersion>8.1.0.CR1, 8.1.0.Final</fixedVersion>
			<type>Bug</type>
		</buginformation>
		<fixedFiles>
			<file type="M">org.jboss.as.server.services.net.OutboundSocketBindingRemoveHandler.java</file>
		</fixedFiles>
	</bug>
	<bug id="2950" opendate="2014-02-18 10:59:24" fixdate="2014-02-25 09:58:54" resolution="Done">
		<buginformation>
			<summary>jboss-cli using https-remoting: command not executed if certificate is unrecognised</summary>
			<description>When using the https management interface from jboss-cli, commands passed with a command line option (such as --command=:shutdown) are not executed if the server certificate is unrecognised - even if accepting the certificate [T]emporarily or [P]ermenantly.
It appears to be due to the CommandContextImpl.handleSSLFailure() method, which calls error("Unable to connect..."). The error() method sets the exitCode to 1. So, when CliLauncher.processCommands() subsequently runs, it sees that the cmdCtx.exitCode is 1 and ignores any commands.
I guess the handleSSLFailure needs to reset the exitCode to 0 if the user chooses [T] or [P].</description>
			<version>8.0.0.Final</version>
			<fixedVersion>8.1.0.CR1, 8.1.0.Final</fixedVersion>
			<type>Bug</type>
		</buginformation>
		<fixedFiles>
			<file type="M">org.jboss.as.cli.impl.CommandContextImpl.java</file>
		</fixedFiles>
		<links>
			<link type="Related" description="is related to">2538</link>
		</links>
	</bug>
	<bug id="2962" opendate="2014-02-19 06:00:35" fixdate="2014-02-25 16:12:11" resolution="Duplicate Issue">
		<buginformation>
			<summary>NPE during deployment of an exploded war, containing jar with resources</summary>
			<description>How to repeat:
Scratch maven Web Application with dependency, f.e. org.primefaces:primefaces
goes into:






12:28:10,624 SEVERE [javax.enterprise.resource.webcontainer.jsf.config] (MSC service thread 1-3) Critical error during deployment: : com.sun.faces.config.ConfigurationException: java.util.concurrent.ExecutionException: java.lang.NullPointerException




	at com.sun.faces.config.ConfigManager.getConfigDocuments(ConfigManager.java:751) [jsf-impl-2.2.5-jbossorg-3.jar:]




	at com.sun.faces.config.ConfigManager.initialize(ConfigManager.java:349) [jsf-impl-2.2.5-jbossorg-3.jar:]




	at com.sun.faces.config.ConfigureListener.contextInitialized(ConfigureListener.java:214) [jsf-impl-2.2.5-jbossorg-3.jar:]




	at io.undertow.servlet.core.ApplicationListeners.contextInitialized(ApplicationListeners.java:173) [undertow-servlet-1.0.0.Final.jar:1.0.0.Final]




	at io.undertow.servlet.core.DeploymentManagerImpl.deploy(DeploymentManagerImpl.java:187) [undertow-servlet-1.0.0.Final.jar:1.0.0.Final]




	at org.wildfly.extension.undertow.deployment.UndertowDeploymentService.startContext(UndertowDeploymentService.java:86)




	at org.wildfly.extension.undertow.deployment.UndertowDeploymentService.start(UndertowDeploymentService.java:71)




	at org.jboss.msc.service.ServiceControllerImpl$StartTask.startService(ServiceControllerImpl.java:1948)




	at org.jboss.msc.service.ServiceControllerImpl$StartTask.run(ServiceControllerImpl.java:1881)




	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142) [rt.jar:1.8.0]




	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617) [rt.jar:1.8.0]




	at java.lang.Thread.run(Thread.java:744) [rt.jar:1.8.0]




Caused by: java.util.concurrent.ExecutionException: java.lang.NullPointerException




	at java.util.concurrent.FutureTask.report(FutureTask.java:122) [rt.jar:1.8.0]




	at java.util.concurrent.FutureTask.get(FutureTask.java:192) [rt.jar:1.8.0]




	at com.sun.faces.config.ConfigManager.getConfigDocuments(ConfigManager.java:738) [jsf-impl-2.2.5-jbossorg-3.jar:]




	... 11 more




Caused by: java.lang.NullPointerException




	at io.undertow.servlet.spec.ServletContextImpl.getResourcePaths(ServletContextImpl.java:206) [undertow-servlet-1.0.0.Final.jar:1.0.0.Final]




	at com.sun.faces.config.configprovider.WebAppFlowConfigResourceProvider.getResources(WebAppFlowConfigResourceProvider.java:79) [jsf-impl-2.2.5-jbossorg-3.jar:]




	at com.sun.faces.config.ConfigManager$URITask.call(ConfigManager.java:1306) [jsf-impl-2.2.5-jbossorg-3.jar:]




	at com.sun.faces.config.ConfigManager$URITask.call(ConfigManager.java:1275) [jsf-impl-2.2.5-jbossorg-3.jar:]




	at java.util.concurrent.FutureTask.run(FutureTask.java:266) [rt.jar:1.8.0]




	at com.sun.faces.config.ConfigManager.getConfigDocuments(ConfigManager.java:729) [jsf-impl-2.2.5-jbossorg-3.jar:]




	... 11 more






during exploded deployment.
which is caused by 






org.wildfly.extension.undertow.deployment.VirtualFileResource.getResourceManagerRoot()






always returning null
which is dereferenced by






io.undertow.servlet.spec.ServletContextImpl.getResourcePaths(final String path)






Patching 
VirtualFileResource.getResourceManagerRoot()
as 
return new File("");
works for me, but i&amp;amp;apos;m not sure about getResourceManagerRoot() contract saying that it may actually return null if the resource does not map to a file.
From my point of view Resource interface should have stronger contract concerning nulls</description>
			<version>8.0.0.Final</version>
			<fixedVersion></fixedVersion>
			<type>Bug</type>
		</buginformation>
		<fixedFiles>
			<file type="M">org.wildfly.extension.undertow.deployment.VirtualFileResource.java</file>
			<file type="M">org.wildfly.extension.undertow.deployment.ServletResourceManager.java</file>
		</fixedFiles>
	</bug>
	<bug id="1904" opendate="2013-08-20 05:47:20" fixdate="2014-02-26 02:30:51" resolution="Done">
		<buginformation>
			<summary>Usage of vault for system-properties throws java.lang.SecurityException</summary>
			<description>Steps to Reproduce: 1. add the lines in standalone.xml:-






    &amp;lt;system-properties&amp;gt;




      &amp;lt;property name="javax.net.ssl.trustStore" value="/dir/truststore.jks"/&amp;gt;




      &amp;lt;property name="javax.net.ssl.trustStorePassword" value="${VAULT::blk::attr::MTBlYWUzNDEtMjI2MC00NWYzLWFiZmUtM2EyYjZkNDgyZWM4TElORV9CUkVBS215YWxpYXM=}" /&amp;gt;




    &amp;lt;/system-properties&amp;gt;




    &amp;lt;vault&amp;gt;




        &amp;lt;vault-option name="KEYSTORE_URL" value="/opt/jboss-eap-6.0/standalone/configuration/vault.jks"/&amp;gt;




        &amp;lt;vault-option name="KEYSTORE_PASSWORD" value="MASK-2gTQPnrWJaqrh0pURMKAOw"/&amp;gt;




        &amp;lt;vault-option name="KEYSTORE_ALIAS" value="myalias"/&amp;gt;




        &amp;lt;vault-option name="SALT" value="12345678"/&amp;gt;




        &amp;lt;vault-option name="ITERATION_COUNT" value="44"/&amp;gt;




        &amp;lt;vault-option name="ENC_FILE_DIR" value="/opt/jboss-eap-6.0/standalone/configuration/"/&amp;gt;




    &amp;lt;/vault&amp;gt;






2. start EAP6 in standalone mode
project_key: JBPAPP6
Usage of vault for system-properties throws java.lang.SecurityException.
boot.log:-






20:35:30,267 ERROR [org.jboss.as.controller.management-operation] JBAS014612: Operation ("add") failed - address: ([("system-property" =&amp;gt; "javax.net.ssl.trustStorePassword")]): java.lang.SecurityException: JBAS013322: Vault is not initialized




	at org.jboss.as.security.vault.RuntimeVaultReader.retrieveFromVault(RuntimeVaultReader.java:98) [jboss-as-security-7.1.2.Final-redhat-1.jar:7.1.2.Final-redhat-1]




	at org.jboss.as.server.RuntimeExpressionResolver.resolvePluggableExpression(RuntimeExpressionResolver.java:45) [jboss-as-server-7.1.2.Final-redhat-1.jar:7.1.2.Final-redhat-1]




	at org.jboss.as.controller.ExpressionResolverImpl.resolveExpressionsRecursively(ExpressionResolverImpl.java:58) [jboss-as-controller-7.1.2.Final-redhat-1.jar:7.1.2.Final-redhat-1]




	at org.jboss.as.controller.ExpressionResolverImpl.resolveExpressions(ExpressionResolverImpl.java:40) [jboss-as-controller-7.1.2.Final-redhat-1.jar:7.1.2.Final-redhat-1]




	at org.jboss.as.controller.ModelControllerImpl.resolveExpressions(ModelControllerImpl.java:455) [jboss-as-controller-7.1.2.Final-redhat-1.jar:7.1.2.Final-redhat-1]




	at org.jboss.as.controller.OperationContextImpl.resolveExpressions(OperationContextImpl.java:689) [jboss-as-controller-7.1.2.Final-redhat-1.jar:7.1.2.Final-redhat-1]




	at org.jboss.as.controller.operations.common.SystemPropertyAddHandler.execute(SystemPropertyAddHandler.java:112) [jboss-as-controller-7.1.2.Final-redhat-1.jar:7.1.2.Final-redhat-1]




	at org.jboss.as.controller.AbstractOperationContext.executeStep(AbstractOperationContext.java:397) [jboss-as-controller-7.1.2.Final-redhat-1.jar:7.1.2.Final-redhat-1]




	at org.jboss.as.controller.AbstractOperationContext.doCompleteStep(AbstractOperationContext.java:284) [jboss-as-controller-7.1.2.Final-redhat-1.jar:7.1.2.Final-redhat-1]




	at org.jboss.as.controller.AbstractOperationContext.completeStep(AbstractOperationContext.java:211) [jboss-as-controller-7.1.2.Final-redhat-1.jar:7.1.2.Final-redhat-1]




	at org.jboss.as.controller.ModelControllerImpl.boot(ModelControllerImpl.java:175) [jboss-as-controller-7.1.2.Final-redhat-1.jar:7.1.2.Final-redhat-1]




	at org.jboss.as.controller.AbstractControllerService.boot(AbstractControllerService.java:191) [jboss-as-controller-7.1.2.Final-redhat-1.jar:7.1.2.Final-redhat-1]




	at org.jboss.as.server.ServerService.boot(ServerService.java:295) [jboss-as-server-7.1.2.Final-redhat-1.jar:7.1.2.Final-redhat-1]




	at org.jboss.as.server.ServerService.boot(ServerService.java:270) [jboss-as-server-7.1.2.Final-redhat-1.jar:7.1.2.Final-redhat-1]




	at org.jboss.as.controller.AbstractControllerService$1.run(AbstractControllerService.java:156) [jboss-as-controller-7.1.2.Final-redhat-1.jar:7.1.2.Final-redhat-1]




	at java.lang.Thread.run(Thread.java:662) [rt.jar:1.6.0_37]










</description>
			<version>8.0.0.Beta1</version>
			<fixedVersion>8.1.0.CR1, 8.1.0.Final</fixedVersion>
			<type>Bug</type>
		</buginformation>
		<fixedFiles>
			<file type="M">org.jboss.as.core.model.test.vault.HostVaultTestCase.java</file>
			<file type="M">org.jboss.as.server.services.security.VaultAddHandler.java</file>
			<file type="M">org.jboss.as.core.model.test.vault.AbstractVaultTest.java</file>
			<file type="M">org.jboss.as.core.model.test.vault.StandaloneVaultTestCase.java</file>
			<file type="M">org.jboss.as.core.model.test.TestModelControllerService.java</file>
			<file type="M">org.jboss.as.server.operations.SystemPropertyAddHandler.java</file>
			<file type="M">org.jboss.as.model.test.ModelTestModelControllerService.java</file>
		</fixedFiles>
	</bug>
	<bug id="3012" opendate="2014-02-25 12:51:55" fixdate="2014-02-27 09:12:22" resolution="Done">
		<buginformation>
			<summary>better handle ptaching conflicts for missing files</summary>
			<description>In case a updated misc file missing when applying a patch reports a conflict when rolling back. This should not require any user interaction.</description>
			<version>8.0.0.Final</version>
			<fixedVersion>8.1.0.CR1, 8.1.0.Final</fixedVersion>
			<type>Bug</type>
		</buginformation>
		<fixedFiles>
			<file type="M">org.jboss.as.patching.runner.FileUpdateTask.java</file>
			<file type="M">org.jboss.as.patching.runner.AbstractFileTask.java</file>
			<file type="M">org.jboss.as.patching.runner.AbstractTaskTestCase.java</file>
			<file type="M">org.jboss.as.patching.runner.FileTaskTestCase.java</file>
			<file type="M">org.jboss.as.patching.tests.BasicHistoryUnitTestCase.java</file>
			<file type="M">org.jboss.as.patching.runner.FileRemoveTask.java</file>
			<file type="M">org.jboss.as.patching.runner.AbstractPatchingTask.java</file>
		</fixedFiles>
	</bug>
	<bug id="2942" opendate="2014-02-17 10:25:19" fixdate="2014-02-27 09:12:36" resolution="Done">
		<buginformation>
			<summary>Unclear error message when resolving a conflict using the CLI</summary>
			<description>The error message when using --override or --preserve without any argument should be more clear.</description>
			<version>8.0.0.Final</version>
			<fixedVersion>8.1.0.CR1, 8.1.0.Final</fixedVersion>
			<type>Bug</type>
		</buginformation>
		<fixedFiles>
			<file type="M">org.jboss.as.patching.cli.PatchHandler.java</file>
		</fixedFiles>
	</bug>
	<bug id="2205" opendate="2013-10-02 15:35:36" fixdate="2014-02-28 16:49:52" resolution="Done">
		<buginformation>
			<summary>Undeployment prints null</summary>
			<description>The following is printed during a shutdown of an .ear






11:21:52,260 INFO  [org.jboss.as.server.deployment] (MSC service thread 1-8) JBAS015877: Stopped deployment null (runtime-name: msginflow1_mdb_msginflow_ejb.jar) in 16ms




11:21:52,260 INFO  [org.jboss.as.server.deployment] (MSC service thread 1-11) JBAS015877: Stopped deployment null (runtime-name: msginflow_mdb_msginflow_ejb.jar) in 16ms




11:21:52,262 INFO  [org.jboss.as.server.deployment] (MSC service thread 1-11) JBAS015877: Stopped deployment msginflow_mdb.ear (runtime-name: msginflow_mdb.ear) in 18ms




11:21:52,387 INFO  [org.jboss.as.server] (DeploymentScanner-threads - 2) JBAS018558: Undeployed "msginflow_mdb.ear" (runtime-name: "msginflow_mdb.ear")






The &amp;amp;apos;null&amp;amp;apos; part of the .jar undeployment doesn&amp;amp;apos;t look nice.</description>
			<version>8.0.0.Beta1</version>
			<fixedVersion>8.1.0.CR1, 8.1.0.Final</fixedVersion>
			<type>Bug</type>
		</buginformation>
		<fixedFiles>
			<file type="M">org.jboss.as.server.ServerLogger.java</file>
			<file type="M">org.jboss.as.server.deployment.AbstractDeploymentUnitService.java</file>
		</fixedFiles>
		<links>
			<link type="Superset" description="is incorporated by">5</link>
		</links>
	</bug>
	<bug id="2949" opendate="2014-02-18 07:28:27" fixdate="2014-03-01 17:31:11" resolution="Done">
		<buginformation>
			<summary>Cannot get exception as pass-by-reference</summary>
			<description>Despite of &amp;lt;in-vm-remote-interface-invocation pass-by-value="false"/&amp;gt;, an exception is not thrown by reference, which results in java.io.NotSerializableException if the exception doesn&amp;amp;apos;t implement Serializable.  This is a blocker of a large migration project from WebLogic because it throws by reference even if that doesn&amp;amp;apos;t implement Serializable.</description>
			<version>8.0.0.Final</version>
			<fixedVersion>8.1.0.CR1, 8.1.0.Final</fixedVersion>
			<type>Bug</type>
		</buginformation>
		<fixedFiles>
			<file type="M">org.jboss.as.ejb3.remote.LocalEjbReceiver.java</file>
		</fixedFiles>
	</bug>
	<bug id="2934" opendate="2014-02-14 08:00:08" fixdate="2014-03-04 13:23:44" resolution="Done">
		<buginformation>
			<summary>SSO and  programmatic authentication</summary>
			<description>On execution of:
request.login("user", "password");
I&amp;amp;apos;m getting the following exception:
08:47:35,477 ERROR [io.undertow.request] (default task-3) UT005023: Exception handling request to /testproject/loginServlet: java.lang.IllegalArgumentException: No enum constant org.wildfly.clustering.web.sso.AuthenticationType.SSO
  at java.lang.Enum.valueOf(Enum.java:236) [rt.jar:1.7.0_51]
  at org.wildfly.clustering.web.sso.AuthenticationType.valueOf(AuthenticationType.java:28)
  at org.wildfly.clustering.web.undertow.sso.DistributableSingleSignOnManager.createSingleSignOn(DistributableSingleSignOnManager.java:73)
  at io.undertow.security.impl.SingleSignOnAuthenticationMechanism$ResponseListener.wrap(SingleSignOnAuthenticationMechanism.java:104) [undertow-core-1.0.0.Final.jar:1.0.0.Final]
  at io.undertow.security.impl.SingleSignOnAuthenticationMechanism$ResponseListener.wrap(SingleSignOnAuthenticationMechanism.java:97) [undertow-core-1.0.0.Final.jar:1.0.0.Final]
  at io.undertow.server.HttpServerExchange$WrapperStreamSinkConduitFactory.create(HttpServerExchange.java:1962) [undertow-core-1.0.0.Final.jar:1.0.0.Final]
  at io.undertow.server.HttpServerExchange.getResponseChannel(HttpServerExchange.java:1126) [undertow-core-1.0.0.Final.jar:1.0.0.Final]
  at io.undertow.servlet.spec.ServletOutputStreamImpl.writeBufferBlocking(ServletOutputStreamImpl.java:575) [undertow-servlet-1.0.0.Final.jar:1.0.0.Final]
  at io.undertow.servlet.spec.ServletOutputStreamImpl.flushInternal(ServletOutputStreamImpl.java:495) [undertow-servlet-1.0.0.Final.jar:1.0.0.Final]
  at io.undertow.servlet.spec.ServletOutputStreamImpl.flush(ServletOutputStreamImpl.java:482) [undertow-servlet-1.0.0.Final.jar:1.0.0.Final]
  at io.undertow.servlet.spec.ServletPrintWriter.flush(ServletPrintWriter.java:32) [undertow-servlet-1.0.0.Final.jar:1.0.0.Final]
  at io.undertow.servlet.spec.ServletPrintWriterDelegate.flush(ServletPrintWriterDelegate.java:76) [undertow-servlet-1.0.0.Final.jar:1.0.0.Final]
  at testproject.LoginServlet.doGet(LoginServlet.java:33) [classes:]
...</description>
			<version>8.0.0.Final</version>
			<fixedVersion>8.1.0.CR1, 8.1.0.Final</fixedVersion>
			<type>Bug</type>
		</buginformation>
		<fixedFiles>
			<file type="M">org.wildfly.clustering.web.sso.SSOManagerFactory.java</file>
			<file type="M">org.wildfly.clustering.web.undertow.sso.DistributableSingleSignOnTestCase.java</file>
			<file type="M">org.wildfly.clustering.web.infinispan.sso.coarse.CoarseSSOEntry.java</file>
			<file type="M">org.wildfly.clustering.web.infinispan.sso.coarse.CoarseAuthenticationEntry.java</file>
			<file type="M">org.wildfly.clustering.web.undertow.sso.DistributableSingleSignOnManager.java</file>
			<file type="M">org.wildfly.clustering.web.undertow.sso.DistributableSingleSignOnManagerFactory.java</file>
			<file type="D">org.wildfly.clustering.web.sso.Authentication.java</file>
			<file type="D">org.wildfly.clustering.web.infinispan.sso.coarse.CoarseAuthentication.java</file>
			<file type="M">org.wildfly.clustering.web.sso.SSOManager.java</file>
			<file type="M">org.wildfly.clustering.web.infinispan.session.MutableDetectorTestCase.java</file>
			<file type="M">org.wildfly.clustering.web.undertow.sso.DistributableSingleSignOnManagerFactoryService.java</file>
			<file type="M">org.wildfly.clustering.web.undertow.sso.DistributableSingleSignOn.java</file>
			<file type="D">org.wildfly.clustering.web.infinispan.sso.coarse.CoarseAuthenticationTestCase.java</file>
			<file type="M">org.wildfly.clustering.web.sso.SSOManagerFactoryBuilder.java</file>
			<file type="D">org.wildfly.clustering.web.sso.AuthenticationType.java</file>
			<file type="M">org.wildfly.clustering.web.infinispan.sso.coarse.CoarseAuthenticationEntryExternalizer.java</file>
			<file type="M">org.wildfly.clustering.web.infinispan.sso.InfinispanSSO.java</file>
			<file type="M">org.wildfly.clustering.web.infinispan.sso.InfinispanSSOTestCase.java</file>
			<file type="M">org.wildfly.clustering.web.infinispan.sso.InfinispanSSOManagerFactoryBuilder.java</file>
			<file type="M">org.wildfly.clustering.web.undertow.sso.DistributableSingleSignOnManagerTestCase.java</file>
			<file type="M">org.wildfly.clustering.web.infinispan.sso.InfinispanSSOManager.java</file>
			<file type="M">org.wildfly.clustering.web.infinispan.sso.InfinispanSSOManagerFactory.java</file>
			<file type="M">org.wildfly.clustering.web.sso.SSO.java</file>
			<file type="M">org.wildfly.clustering.web.infinispan.sso.coarse.CoarseSSOFactory.java</file>
		</fixedFiles>
	</bug>
	<bug id="2954" opendate="2014-02-18 11:43:28" fixdate="2014-03-05 09:15:13" resolution="Done">
		<buginformation>
			<summary>Transaction Synchronization registration issue with injected JMSContext</summary>
			<description>The JMSContextProducer registers a tx Synchronization object directly on the Transaction. That leads to issue when other parts register other Synchronization objects later on (see http://stackoverflow.com/questions/21523534/jboss-wildfly-arjuna016082-synchronizations-are-not-allowed-when-sending-mess).
The JSMContextProducer must switch to using TransactionSynchronizationRegistry instead to register syncs.</description>
			<version>8.0.0.Final</version>
			<fixedVersion>8.1.0.CR1, 8.1.0.Final</fixedVersion>
			<type>Bug</type>
		</buginformation>
		<fixedFiles>
			<file type="M">org.jboss.as.test.integration.messaging.jms.context.InjectedJMSContextTestCase.java</file>
			<file type="M">org.jboss.as.messaging.deployment.JMSContextProducer.java</file>
			<file type="M">org.jboss.as.messaging.deployment.CDIDeploymentProcessor.java</file>
		</fixedFiles>
	</bug>
	<bug id="3069" opendate="2014-03-05 11:54:54" fixdate="2014-03-06 16:40:40" resolution="Done">
		<buginformation>
			<summary>slaves cannot reconnect to a restarted master if RBAC is enabled</summary>
			<description>Enable RBAC in an Wilfly domain setup. "reload --host=master" and the slaves will no longer be connected to the master
</description>
			<version>8.0.0.Final</version>
			<fixedVersion>8.1.0.CR1, 8.1.0.Final</fixedVersion>
			<type>Bug</type>
		</buginformation>
		<fixedFiles>
			<file type="M">org.jboss.as.domain.controller.operations.ApplyRemoteMasterDomainModelHandler.java</file>
			<file type="M">org.jboss.as.domain.controller.operations.AbstractOperationTestCase.java</file>
			<file type="M">org.jboss.as.domain.controller.operations.ApplyRemoteMasterDomainModelHandlerTestCase.java</file>
		</fixedFiles>
	</bug>
	<bug id="2993" opendate="2014-02-21 15:18:47" fixdate="2014-03-06 17:34:00" resolution="Done">
		<buginformation>
			<summary>Core: jboss.sh fails to start with org.picketbox module not found</summary>
			<description>Note that the issue occurs only when using the WildFly 8 core distribution, the regular distribution is fine. 






wildfly-core-8.0.0.Final$ ./bin/jboss-cli.sh -c




org.jboss.modules.ModuleNotFoundException: org.picketbox:main




        at org.jboss.modules.Module.addPaths(Module.java:1030)




        at org.jboss.modules.Module.link(Module.java:1386)




        at org.jboss.modules.Module.relinkIfNecessary(Module.java:1414)




        at org.jboss.modules.ModuleLoader.loadModule(ModuleLoader.java:242)




        at org.jboss.modules.Main.main(Main.java:385)





</description>
			<version>8.0.0.Final</version>
			<fixedVersion>8.1.0.CR1, 8.1.0.Final</fixedVersion>
			<type>Bug</type>
		</buginformation>
		<fixedFiles>
			<file type="M">org.jboss.as.cli.impl.CliConfigImpl.java</file>
		</fixedFiles>
	</bug>
	<bug id="2679" opendate="2013-12-16 08:54:47" fixdate="2014-03-10 16:02:29" resolution="Done">
		<buginformation>
			<summary>Jdbc cache store couldn&amp;apos;t read databaseType property</summary>
			<description>If you want use some driver, which  type is not recognizable by Infinispan (e.g. jtds driver), then you are asked to specify your DB type via "databaseType" property in your cache store configuration. But when you specify it, you&amp;amp;apos;ll get following exception:






org.infinispan.commons.CacheConfigurationException: Couldn&amp;amp;apos;t find a setter named [setDatabaseType] which takes a single parameter, for parameter databaseType on class [class org.infinispan.persistence.jdbc.configuration.JdbcBinaryStoreConfigurationBuilder]




	at org.infinispan.configuration.parsing.XmlConfigHelper.setValues(XmlConfigHelper.java:450)




	at org.infinispan.configuration.cache.AbstractStoreConfigurationBuilder.withProperties(AbstractStoreConfigurationBuilder.java:91)




	at org.infinispan.configuration.cache.AbstractStoreConfigurationBuilder.withProperties(AbstractStoreConfigurationBuilder.java:9)




	at org.jboss.as.clustering.infinispan.subsystem.CacheAdd.processModelNode(CacheAdd.java:542)




	at org.jboss.as.clustering.infinispan.subsystem.ClusteredCacheAdd.processModelNode(ClusteredCacheAdd.java:69)




	at org.jboss.as.clustering.infinispan.subsystem.SharedStateCacheAdd.processModelNode(SharedStateCacheAdd.java:50)




	at org.jboss.as.clustering.infinispan.subsystem.DistributedCacheAdd.processModelNode(DistributedCacheAdd.java:90)




	at org.jboss.as.clustering.infinispan.subsystem.CacheAdd.installRuntimeServices(CacheAdd.java:205)




	at org.jboss.as.clustering.infinispan.subsystem.CacheAdd.performRuntime(CacheAdd.java:179)




	at org.jboss.as.controller.AbstractAddStepHandler$1.execute(AbstractAddStepHandler.java:75) [wildfly-controller-8.0.0.Beta2-SNAPSHOT.jar:8.0.0.Beta2-SNAPSHOT]




	at org.jboss.as.controller.AbstractOperationContext.executeStep(AbstractOperationContext.java:591) [wildfly-controller-8.0.0.Beta2-SNAPSHOT.jar:8.0.0.Beta2-SNAPSHOT]




	at org.jboss.as.controller.AbstractOperationContext.doCompleteStep(AbstractOperationContext.java:469) [wildfly-controller-8.0.0.Beta2-SNAPSHOT.jar:8.0.0.Beta2-SNAPSHOT]




	at org.jboss.as.controller.AbstractOperationContext.completeStepInternal(AbstractOperationContext.java:273) [wildfly-controller-8.0.0.Beta2-SNAPSHOT.jar:8.0.0.Beta2-SNAPSHOT]




	at org.jboss.as.controller.AbstractOperationContext.executeOperation(AbstractOperationContext.java:268) [wildfly-controller-8.0.0.Beta2-SNAPSHOT.jar:8.0.0.Beta2-SNAPSHOT]




	at org.jboss.as.controller.ParallelBootOperationStepHandler$ParallelBootTask.run(ParallelBootOperationStepHandler.java:343) [wildfly-controller-8.0.0.Beta2-SNAPSHOT.jar:8.0.0.Beta2-SNAPSHOT]




	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1145) [rt.jar:1.7.0_45]




	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:615) [rt.jar:1.7.0_45]




	at java.lang.Thread.run(Thread.java:744) [rt.jar:1.7.0_45]




	at org.jboss.threads.JBossThread.run(JBossThread.java:122) [jboss-threads-2.1.1.Final.jar:2.1.1.Final]











</description>
			<version>8.0.0.CR1</version>
			<fixedVersion>8.0.0.Final</fixedVersion>
			<type>Bug</type>
		</buginformation>
		<fixedFiles>
			<file type="M">org.jboss.as.clustering.infinispan.subsystem.StringKeyedJDBCStoreResourceDefinition.java</file>
			<file type="M">org.jboss.as.clustering.infinispan.subsystem.MixedKeyedJDBCStoreResourceDefinition.java</file>
			<file type="M">org.jboss.as.clustering.infinispan.subsystem.CacheAdd.java</file>
			<file type="M">org.jboss.as.clustering.infinispan.subsystem.ModelKeys.java</file>
			<file type="M">org.jboss.as.clustering.infinispan.subsystem.BinaryKeyedJDBCStoreResourceDefinition.java</file>
			<file type="M">org.jboss.as.clustering.infinispan.subsystem.JDBCStoreResourceDefinition.java</file>
			<file type="M">org.jboss.as.clustering.infinispan.subsystem.Attribute.java</file>
			<file type="M">org.jboss.as.clustering.infinispan.subsystem.InfinispanResourceDescriptionResolver.java</file>
			<file type="M">org.jboss.as.clustering.infinispan.subsystem.InfinispanTransformers.java</file>
			<file type="M">org.jboss.as.clustering.infinispan.subsystem.InfinispanExtension.java</file>
			<file type="M">org.jboss.as.clustering.infinispan.subsystem.InfinispanSubsystemXMLWriter.java</file>
			<file type="M">org.jboss.as.clustering.infinispan.subsystem.InfinispanSubsystemXMLReader_2_0.java</file>
		</fixedFiles>
		<links>
			<link type="Related" description="relates to">4100</link>
		</links>
	</bug>
	<bug id="3060" opendate="2014-03-04 09:52:10" fixdate="2014-03-11 08:17:26" resolution="Done">
		<buginformation>
			<summary>Rare KrbException: Request is a replay issue in negotiation tests</summary>
			<description>The failures happend while sending second TGS-REQ ticket from client to kerberos KDC server.
The cause seems to be a limitation of ApacheDS kerberos server used in the test case. The ApacheDS employs simple replay detection mechanism based on in-memory ticket cache service. The cache stores client and server credentials and ticket timestamp. Specificaly, the cache do not store ticket content.
During GSS SecContext establishment, there are 2 TGS-REQ tickets sent from the client (sun.security.jgss.krb5.GSSContextSpi). First to acquire service credentials ticket and second to get SecContext ticket. The second ticket is being send immediatelly after the fisrt one. If the second (valid) ticket is sent with the same timestamp as the first one, the ApacheDS treats the second one as a false positive and throw Request is a replay kerberos exception.</description>
			<version>8.0.0.Final</version>
			<fixedVersion></fixedVersion>
			<type>Bug</type>
		</buginformation>
		<fixedFiles>
			<file type="M">org.jboss.as.test.integration.security.loginmodules.negotiation.AdvancedLdapLoginModuleTestCase.java</file>
			<file type="M">org.jboss.as.test.integration.security.picketlink.KerberosServerSetupTask.java</file>
			<file type="M">org.jboss.as.test.integration.security.loginmodules.negotiation.SPNEGOLoginModuleTestCase.java</file>
		</fixedFiles>
		<links>
			<link type="Related" description="is related to">10974</link>
		</links>
	</bug>
	<bug id="2972" opendate="2014-02-19 21:56:32" fixdate="2014-03-12 09:29:39" resolution="Duplicate Issue">
		<buginformation>
			<summary>Load vault impls from modules other than org.jboss.security</summary>
			<description>The vault resources in our management model have a "code" attribute that specifies the classname of a custom Vault impl. But there is no "module" attribute to specify the name of the module to load that class from. This means users would have to modify the org.jboss.security module&amp;amp;apos;s module.xml to statically declare their module as a dependency.
There should be a "module" attribute and org.jboss.security.vault.SecurityVaultFactory should expose a "get" variant that takes a ClassLoader so the appropriate module classloader can be used.
I only looked at the core model but I suspect the security subsystem has the same issue.</description>
			<version>8.0.0.Final</version>
			<fixedVersion></fixedVersion>
			<type>Feature Request</type>
		</buginformation>
		<fixedFiles>
			<file type="M">org.jboss.as.server.parsing.CommonXml.java</file>
			<file type="M">org.jboss.as.server.parsing.StandaloneXml.java</file>
			<file type="M">org.jboss.as.test.manualmode.vault.CustomVaultInModuleTestCase.java</file>
			<file type="M">org.jboss.as.appclient.subsystem.parsing.AppClientXml.java</file>
			<file type="M">org.jboss.as.host.controller.parsing.HostXml.java</file>
			<file type="M">org.jboss.as.server.services.security.AbstractVaultReader.java</file>
			<file type="M">org.jboss.as.core.model.test.vault.AbstractVaultTest.java</file>
			<file type="M">org.jboss.as.server.controller.resources.VaultResourceDefinition.java</file>
			<file type="M">org.jboss.as.core.model.test.TestVaultReader.java</file>
			<file type="M">org.wildfly.test.integration.security.picketlink.idm.CustomCredentialHandlerTestCase.java</file>
			<file type="M">org.jboss.as.server.services.security.VaultAddHandler.java</file>
			<file type="D">org.wildfly.test.integration.security.picketlink.util.TestModule.java</file>
			<file type="M">org.wildfly.test.integration.security.picketlink.idm.JPAEMFFromModuleBasedPartitionManagerTestCase.java</file>
			<file type="M">org.jboss.as.security.vault.RuntimeVaultReader.java</file>
			<file type="M">org.jboss.as.server.ServerMessages.java</file>
		</fixedFiles>
		<links>
			<link type="Duplicate" description="duplicates">922</link>
			<link type="Duplicate" description="is duplicated by">3118</link>
		</links>
	</bug>
	<bug id="3078" opendate="2014-03-07 02:38:40" fixdate="2014-03-13 10:43:05" resolution="Done">
		<buginformation>
			<summary>directory-grouping configuration is not getting persisted via CLI when no servers defined</summary>
			<description>
If none of the servers are defined in "host.xml" (means &amp;lt;servers&amp;gt;&amp;lt;/servers&amp;gt; empty tag is present) and if the user tries to run the following CLI command to change the "directory-grouping" to  "by-type"  then the value is not persisted in the configuration file (host.xml) and the &amp;lt;servers&amp;gt;&amp;lt;/servers&amp;gt;  tag is also removed from the host.xml






/host=master/:write-attribute(name=directory-grouping,value=by-type)








The value of "directory-grouping" is stored "in memory" so this change does not survive the host restart.

</description>
			<version>8.0.0.Final</version>
			<fixedVersion>8.1.0.CR1, 8.1.0.Final</fixedVersion>
			<type>Bug</type>
		</buginformation>
		<fixedFiles>
			<file type="M">org.jboss.as.host.controller.parsing.HostXml.java</file>
		</fixedFiles>
	</bug>
	<bug id="3008" opendate="2014-02-24 17:41:08" fixdate="2014-03-13 10:43:20" resolution="Done">
		<buginformation>
			<summary>System property substitution does not work in subnet-match</summary>
			<description>Specifying a system property in subnet-match when defining an interface causes an exception on startup. Example:






&amp;lt;property name="subnet" value="192.168.0.0/16"/&amp;gt;




...




&amp;lt;interface name="public"&amp;gt;




    &amp;lt;subnet-match value="${subnet}"/&amp;gt;




&amp;lt;/interface&amp;gt;






Causes:






12:36:13,457 ERROR [org.jboss.as.server] (Controller Boot Thread) JBAS015956: Caught exception during boot: org.jboss.as.controller.persistence.ConfigurationPersistenceException: JBAS014676: Failed to parse configuration




	at org.jboss.as.controller.persistence.XmlConfigurationPersister.load(XmlConfigurationPersister.java:112) [wildfly-controller-8.0.0.Final.jar:8.0.0.Final]




	at org.jboss.as.server.ServerService.boot(ServerService.java:331) [wildfly-server-8.0.0.Final.jar:8.0.0.Final]




	at org.jboss.as.controller.AbstractControllerService$1.run(AbstractControllerService.java:256) [wildfly-controller-8.0.0.Final.jar:8.0.0.Final]




	at java.lang.Thread.run(Thread.java:744) [rt.jar:1.7.0_45]




Caused by: javax.xml.stream.XMLStreamException: ParseError at [row,col]:[311,46]




Message: JBAS014693: Invalid &amp;amp;apos;value&amp;amp;apos; ${subnet} -- must be of the form address/mask




	at org.jboss.as.server.parsing.CommonXml.validateAddressMask(CommonXml.java:605) [wildfly-server-8.0.0.Final.jar:8.0.0.Final]




	at org.jboss.as.server.parsing.CommonXml.parseSimpleInterfaceCriterion(CommonXml.java:587) [wildfly-server-8.0.0.Final.jar:8.0.0.Final]




	at org.jboss.as.server.parsing.CommonXml.parseInterfaceCriteria(CommonXml.java:467) [wildfly-server-8.0.0.Final.jar:8.0.0.Final]




	at org.jboss.as.server.parsing.CommonXml.parseInterfaces(CommonXml.java:644) [wildfly-server-8.0.0.Final.jar:8.0.0.Final]




	at org.jboss.as.server.parsing.StandaloneXml.readServerElement_1_4(StandaloneXml.java:465) [wildfly-server-8.0.0.Final.jar:8.0.0.Final]




	at org.jboss.as.server.parsing.StandaloneXml.readElement(StandaloneXml.java:145) [wildfly-server-8.0.0.Final.jar:8.0.0.Final]




	at org.jboss.as.server.parsing.StandaloneXml.readElement(StandaloneXml.java:107) [wildfly-server-8.0.0.Final.jar:8.0.0.Final]




	at org.jboss.staxmapper.XMLMapperImpl.processNested(XMLMapperImpl.java:110) [staxmapper-1.1.0.Final.jar:1.1.0.Final]




	at org.jboss.staxmapper.XMLMapperImpl.parseDocument(XMLMapperImpl.java:69) [staxmapper-1.1.0.Final.jar:1.1.0.Final]




	at org.jboss.as.controller.persistence.XmlConfigurationPersister.load(XmlConfigurationPersister.java:104) [wildfly-controller-8.0.0.Final.jar:8.0.0.Final]




	... 3 more





</description>
			<version>8.0.0.Final</version>
			<fixedVersion>8.1.0.CR1, 8.1.0.Final</fixedVersion>
			<type>Bug</type>
		</buginformation>
		<fixedFiles>
			<file type="M">org.jboss.as.controller.ExpressionResolverImpl.java</file>
			<file type="M">org.jboss.as.controller.interfaces.ParsedInterfaceCriteriaTestCase.java</file>
			<file type="M">org.jboss.as.server.parsing.CommonXml.java</file>
			<file type="M">org.jboss.as.controller.interfaces.ParsedInterfaceCriteria.java</file>
		</fixedFiles>
	</bug>
	<bug id="3000" opendate="2014-02-23 17:55:27" fixdate="2014-03-13 10:43:30" resolution="Done">
		<buginformation>
			<summary>Incorrect &amp;apos;Content-Type&amp;apos; response set after executing an erroneous command</summary>
			<description>The http management interface, upon error, returns an incorrect &amp;amp;apos;Content-Type&amp;amp;apos; of 






&amp;amp;apos;Content-Type: text/plain; charset=utf-8&amp;amp;apos; 






although JSON response is returned.
To reproduce, issue from the command line a simple &amp;amp;apos;read&amp;amp;apos; operation






curl --digest -D - http://localhost:9990/management --header "Content-Type: application/json" -d &amp;amp;apos;{"operation":"read-attribute", "name":"foo"}&amp;amp;apos; -u &amp;lt;username&amp;gt;:&amp;lt;password&amp;gt;









..




Content-Type: text/plain; charset=utf-8




Content-Length: 119




Date: Sun, 23 Feb 2014 17:27:10 GMT









{




    "outcome" : "failed",




    "failure-description" : "JBAS014792: Unknown attribute foo",




    "rolled-back" : true




}






The &amp;amp;apos;Content-Type&amp;amp;apos; should have been set to &amp;amp;apos;application/json&amp;amp;apos; instead of &amp;amp;apos;text/plain&amp;amp;apos;
Note: On JBoss AS 7.1.1.Final, the correct type of &amp;amp;apos;application/json&amp;amp;apos; is returned for the same operation.
</description>
			<version>8.0.0.Final</version>
			<fixedVersion>8.1.0.CR1, 8.1.0.Final</fixedVersion>
			<type>Bug</type>
		</buginformation>
		<fixedFiles>
			<file type="M">org.jboss.as.domain.http.server.Common.java</file>
		</fixedFiles>
	</bug>
	<bug id="2965" opendate="2014-02-19 16:15:57" fixdate="2014-03-13 13:31:55" resolution="Done">
		<buginformation>
			<summary>IllegalArgumentException: JBAS014577: Unsupported marshalling version: 1 on shutdown</summary>
			<description>





^C17:12:20,850 INFO  [org.wildfly.extension.undertow] (MSC service thread 1-4) JBAS017535: Unregistered web context: /clusterbench-passivating




17:12:20,852 INFO  [org.wildfly.extension.undertow] (MSC service thread 1-8) JBAS017535: Unregistered web context: /clusterbench-granular




17:12:20,852 INFO  [org.wildfly.extension.undertow] (MSC service thread 1-2) JBAS017535: Unregistered web context: /clusterbench




17:12:20,859 INFO  [org.jboss.modcluster] (ServerService Thread Pool -- 66) MODCLUSTER000002: Initiating mod_cluster shutdown




17:12:20,870 SEVERE [javax.faces] (MSC service thread 1-8) Unable to obtain InjectionProvider from init time FacesContext. Does this container implement the Mojarra Injection SPI?




17:12:20,872 SEVERE [javax.faces] (MSC service thread 1-8) Unable to call @PreDestroy annotated methods because no InjectionProvider can be found. Does this container implement the Mojarra Injection SPI?




17:12:20,872 SEVERE [javax.faces] (MSC service thread 1-8) Unable to obtain InjectionProvider from init time FacesContext. Does this container implement the Mojarra Injection SPI?




17:12:20,872 SEVERE [javax.faces] (MSC service thread 1-8) Unable to call @PreDestroy annotated methods because no InjectionProvider can be found. Does this container implement the Mojarra Injection SPI?




17:12:20,884 INFO  [org.infinispan.eviction.PassivationManagerImpl] (ServerService Thread Pool -- 68) ISPN000029: Passivating all entries to disk




17:12:20,885 INFO  [org.infinispan.eviction.PassivationManagerImpl] (ServerService Thread Pool -- 68) ISPN000030: Passivated 0 entries in 0 milliseconds




17:12:20,890 INFO  [org.wildfly.extension.undertow] (MSC service thread 1-1) JBAS017532: Host default-host stopping




17:12:20,873 INFO  [org.infinispan.eviction.PassivationManagerImpl] (ServerService Thread Pool -- 66) ISPN000029: Passivating all entries to disk




17:12:20,896 INFO  [org.infinispan.eviction.PassivationManagerImpl] (ServerService Thread Pool -- 65) ISPN000029: Passivating all entries to disk




17:12:20,896 INFO  [org.infinispan.eviction.PassivationManagerImpl] (ServerService Thread Pool -- 78) ISPN000029: Passivating all entries to disk




17:12:20,897 INFO  [org.infinispan.eviction.PassivationManagerImpl] (ServerService Thread Pool -- 65) ISPN000030: Passivated 0 entries in 0 milliseconds




17:12:20,912 INFO  [org.jboss.weld.deployer] (MSC service thread 1-6) JBAS016009: Stopping weld service for deployment clusterbench-ee7.ear




17:12:20,917 INFO  [org.jboss.as.connector.subsystems.datasources] (MSC service thread 1-3) JBAS010409: Unbound data source [java:jboss/datasources/ExampleDS]




17:12:20,930 INFO  [org.jboss.as.connector.deployers.jdbc] (MSC service thread 1-7) JBAS010418: Stopped Driver service with driver-name = h2




17:12:20,930 INFO  [org.jboss.as.clustering.infinispan] (ServerService Thread Pool -- 68) JBAS010282: Stopped default-host/clusterbench-passivating cache from web container




17:12:20,932 INFO  [org.infinispan.eviction.PassivationManagerImpl] (ServerService Thread Pool -- 77) ISPN000029: Passivating all entries to disk




17:12:20,934 INFO  [org.infinispan.eviction.PassivationManagerImpl] (ServerService Thread Pool -- 78) ISPN000030: Passivated 2 entries in 37 milliseconds




17:12:20,950 INFO  [org.jboss.as.clustering.infinispan] (ServerService Thread Pool -- 65) JBAS010282: Stopped default-host/clusterbench-granular cache from web container




17:12:20,950 INFO  [org.infinispan.eviction.PassivationManagerImpl] (ServerService Thread Pool -- 77) ISPN000030: Passivated 1 entries in 18 milliseconds




17:12:20,963 INFO  [org.jboss.as.clustering.infinispan] (ServerService Thread Pool -- 78) JBAS010282: Stopped default-host/clusterbench cache from web container




17:12:20,981 INFO  [org.infinispan.eviction.PassivationManagerImpl] (ServerService Thread Pool -- 78) ISPN000029: Passivating all entries to disk




17:12:20,982 INFO  [org.jboss.as.clustering.infinispan] (ServerService Thread Pool -- 77) JBAS010282: Stopped dist cache from web container




17:12:20,942 WARN  [org.infinispan.factories.ComponentRegistry] (ServerService Thread Pool -- 66) ISPN000189: While stopping a cache or cache manager, one of its components failed to stop: org.infinispan.commons.CacheException: Unable to invoke method public void org.infinispan.eviction.PassivationManagerImpl.passivateAll() throws org.infinispan.persistence.spi.PersistenceException on object of type PassivationManagerImpl




	at org.infinispan.commons.util.ReflectionUtil.invokeAccessibly(ReflectionUtil.java:185)




	at org.infinispan.factories.AbstractComponentRegistry$PrioritizedMethod.invoke(AbstractComponentRegistry.java:869)




	at org.infinispan.factories.AbstractComponentRegistry.internalStop(AbstractComponentRegistry.java:674)




	at org.infinispan.factories.AbstractComponentRegistry.stop(AbstractComponentRegistry.java:552)




	at org.infinispan.factories.ComponentRegistry.stop(ComponentRegistry.java:241)




	at org.infinispan.CacheImpl.stop(CacheImpl.java:697)




	at org.infinispan.CacheImpl.stop(CacheImpl.java:692)




	at org.infinispan.AbstractDelegatingCache.stop(AbstractDelegatingCache.java:316)




	at org.jboss.as.clustering.infinispan.subsystem.CacheService.stop(CacheService.java:96)




	at org.jboss.as.clustering.msc.AsynchronousService$2.run(AsynchronousService.java:114) [wildfly-clustering-common-8.0.1.Final-SNAPSHOT.jar:8.0.1.Final-SNAPSHOT]




	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142) [rt.jar:1.8.0]




	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617) [rt.jar:1.8.0]




	at java.lang.Thread.run(Thread.java:744) [rt.jar:1.8.0]




	at org.jboss.threads.JBossThread.run(JBossThread.java:122) [jboss-threads-2.1.1.Final.jar:2.1.1.Final]




Caused by: org.infinispan.persistence.spi.PersistenceException: org.infinispan.persistence.spi.PersistenceException: java.lang.IllegalArgumentException: JBAS014577: Unsupported marshalling version: 1




	at org.infinispan.persistence.file.SingleFileStore.write(SingleFileStore.java:317)




	at org.infinispan.persistence.manager.PersistenceManagerImpl.writeToAllStores(PersistenceManagerImpl.java:457)




	at org.infinispan.eviction.PassivationManagerImpl.passivateAll(PassivationManagerImpl.java:94)




	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) [rt.jar:1.8.0]




	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) [rt.jar:1.8.0]




	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) [rt.jar:1.8.0]




	at java.lang.reflect.Method.invoke(Method.java:483) [rt.jar:1.8.0]




	at org.infinispan.commons.util.ReflectionUtil.invokeAccessibly(ReflectionUtil.java:183)




	... 13 more




Caused by: org.infinispan.persistence.spi.PersistenceException: java.lang.IllegalArgumentException: JBAS014577: Unsupported marshalling version: 1




	at org.infinispan.marshall.core.MarshalledEntryImpl.marshall(MarshalledEntryImpl.java:107)




	at org.infinispan.marshall.core.MarshalledEntryImpl.getValueBytes(MarshalledEntryImpl.java:88)




	at org.infinispan.persistence.file.SingleFileStore.write(SingleFileStore.java:275)




	... 20 more




Caused by: java.lang.IllegalArgumentException: JBAS014577: Unsupported marshalling version: 1




	at org.jboss.as.ejb3.component.stateful.VersionedMarshallingConfigurationService.getMarshallingConfiguration(VersionedMarshallingConfigurationService.java:88)




	at org.jboss.as.clustering.marshalling.SimpleMarshallingContext.getMarshallingConfiguration(SimpleMarshallingContext.java:69) [wildfly-clustering-common-8.0.1.Final-SNAPSHOT.jar:8.0.1.Final-SNAPSHOT]




	at org.jboss.as.clustering.marshalling.SimpleMarshallingContext.createMarshaller(SimpleMarshallingContext.java:65) [wildfly-clustering-common-8.0.1.Final-SNAPSHOT.jar:8.0.1.Final-SNAPSHOT]




	at org.jboss.as.clustering.marshalling.SimpleMarshalledValue.getBytes(SimpleMarshalledValue.java:75) [wildfly-clustering-common-8.0.1.Final-SNAPSHOT.jar:8.0.1.Final-SNAPSHOT]




	at org.jboss.as.clustering.marshalling.SimpleMarshalledValue.writeExternal(SimpleMarshalledValue.java:150) [wildfly-clustering-common-8.0.1.Final-SNAPSHOT.jar:8.0.1.Final-SNAPSHOT]




	at org.jboss.marshalling.river.RiverMarshaller.doWriteObject(RiverMarshaller.java:876)




	at org.jboss.marshalling.AbstractObjectOutput.writeObject(AbstractObjectOutput.java:62) [jboss-marshalling-1.4.3.Final.jar:1.4.3.Final]




	at org.jboss.marshalling.AbstractMarshaller.writeObject(AbstractMarshaller.java:115) [jboss-marshalling-1.4.3.Final.jar:1.4.3.Final]




	at org.wildfly.clustering.ejb.infinispan.group.InfinispanBeanGroupEntryExternalizer.writeObject(InfinispanBeanGroupEntryExternalizer.java:50)




	at org.wildfly.clustering.ejb.infinispan.group.InfinispanBeanGroupEntryExternalizer.writeObject(InfinispanBeanGroupEntryExternalizer.java:36)




	at org.infinispan.marshall.core.ExternalizerTable$ForeignExternalizerAdapter.writeObject(ExternalizerTable.java:444)




	at org.jboss.marshalling.river.RiverMarshaller.doWriteObject(RiverMarshaller.java:148)




	at org.jboss.marshalling.AbstractObjectOutput.writeObject(AbstractObjectOutput.java:62) [jboss-marshalling-1.4.3.Final.jar:1.4.3.Final]




	at org.jboss.marshalling.AbstractMarshaller.writeObject(AbstractMarshaller.java:115) [jboss-marshalling-1.4.3.Final.jar:1.4.3.Final]




	at org.infinispan.commons.marshall.jboss.AbstractJBossMarshaller.objectToObjectStream(AbstractJBossMarshaller.java:74)




	at org.infinispan.marshall.core.VersionAwareMarshaller.objectToBuffer(VersionAwareMarshaller.java:77)




	at org.infinispan.commons.marshall.AbstractMarshaller.objectToBuffer(AbstractMarshaller.java:41)




	at org.infinispan.commons.marshall.AbstractDelegatingMarshaller.objectToBuffer(AbstractDelegatingMarshaller.java:85)




	at org.infinispan.marshall.core.MarshalledEntryImpl.marshall(MarshalledEntryImpl.java:105)




	... 22 more




Caused by: an exception which occurred:




	in object org.jboss.as.clustering.marshalling.SimpleMarshalledValue@d8dbecb5




	in object org.wildfly.clustering.ejb.infinispan.group.InfinispanBeanGroupEntry@2fb506a3









17:12:20,988 INFO  [org.infinispan.eviction.PassivationManagerImpl] (ServerService Thread Pool -- 78) ISPN000030: Passivated 1 entries in 6 milliseconds




17:12:21,009 INFO  [org.infinispan.remoting.transport.jgroups.JGroupsTransport] (MSC service thread 1-2) ISPN000080: Disconnecting JGroups Channel




17:12:21,022 INFO  [org.jboss.as.clustering.infinispan] (ServerService Thread Pool -- 78) JBAS010282: Stopped dist cache from ejb container




17:12:21,023 INFO  [org.jboss.as.clustering.infinispan] (ServerService Thread Pool -- 66) JBAS010282: Stopped clusterbench-ee7.ear/clusterbench-ee7-ejb-1.1.0-SNAPSHOT.jar cache from ejb container




17:12:21,026 INFO  [org.infinispan.remoting.transport.jgroups.JGroupsTransport] (MSC service thread 1-6) ISPN000080: Disconnecting JGroups Channel




17:12:21,027 INFO  [org.wildfly.extension.undertow] (MSC service thread 1-3) JBAS017521: Undertow HTTP listener default suspending




17:12:21,028 INFO  [org.wildfly.extension.undertow] (MSC service thread 1-3) JBAS017520: Undertow HTTP listener default stopped, was bound to /127.0.0.1:8080




17:12:21,027 INFO  [org.wildfly.extension.undertow] (MSC service thread 1-7) JBAS017521: Undertow AJP listener ajp suspending




17:12:21,034 INFO  [org.wildfly.extension.undertow] (MSC service thread 1-7) JBAS017520: Undertow AJP listener ajp stopped, was bound to /127.0.0.1:8009




17:12:21,038 INFO  [org.jboss.as.server.deployment] (MSC service thread 1-8) JBAS015877: Stopped deployment null (runtime-name: clusterbench-ee7-web-1.1.0-SNAPSHOT-granular.war) in 202ms




17:12:21,041 INFO  [org.jboss.as.server.deployment] (MSC service thread 1-4) JBAS015877: Stopped deployment null (runtime-name: clusterbench-ee7-web-1.1.0-SNAPSHOT-default.war) in 209ms




17:12:21,035 INFO  [org.jboss.as.server.deployment] (MSC service thread 1-3) JBAS015877: Stopped deployment null (runtime-name: clusterbench-ee7-ejb-1.1.0-SNAPSHOT.jar) in 200ms




17:12:21,035 INFO  [org.jboss.as.server.deployment] (MSC service thread 1-1) JBAS015877: Stopped deployment null (runtime-name: clusterbench-ee7-web-1.1.0-SNAPSHOT-passivating.war) in 203ms




17:12:21,041 INFO  [org.wildfly.extension.undertow] (MSC service thread 1-8) JBAS017506: Undertow 1.0.0.Final stopping




17:12:21,042 INFO  [org.jboss.as.server.deployment] (MSC service thread 1-1) JBAS015877: Stopped deployment clusterbench-ee7.ear (runtime-name: clusterbench-ee7.ear) in 211ms




17:12:21,390 INFO  [org.infinispan.remoting.transport.jgroups.JGroupsTransport] (MSC service thread 1-6) ISPN000082: Stopping the RpcDispatcher




17:12:21,392 INFO  [org.infinispan.remoting.transport.jgroups.JGroupsTransport] (MSC service thread 1-2) ISPN000082: Stopping the RpcDispatcher




17:12:21,400 INFO  [org.jboss.as] (MSC service thread 1-1) JBAS015950: WildFly 8.0.1.Final-SNAPSHOT "WildFly" stopped in 565ms





</description>
			<version>8.0.0.Final</version>
			<fixedVersion>8.1.0.CR1, 8.1.0.Final</fixedVersion>
			<type>Bug</type>
		</buginformation>
		<fixedFiles>
			<file type="M">org.wildfly.clustering.ejb.infinispan.InfinispanBeanManagerFactoryBuilder.java</file>
		</fixedFiles>
	</bug>
	<bug id="2977" opendate="2014-02-20 12:21:29" fixdate="2014-03-14 13:55:32" resolution="Done">
		<buginformation>
			<summary>Nullpointer when Checking role for anonymous caller</summary>
			<description>When calling a rest service without authentication i receive a nullpointer when doing:
	@Resource
	private SessionContext ctx;
This is enough to produce a nullpointer as guest:
ctx.isCallerInRole("ADMIN_ROLE")
Should return false imho.
greetings,
m






13:16:23,714 ERROR [org.jboss.as.ejb3.invocation] (default task-2) JBAS014134: EJB Invocation failed on component PlayerFacade for method public net.dice.dto.player.PlayerResponseDTO net.dice.facade.PlayerFacade.createIncognitoPlayer(net.dice.lang.Language): javax.ejb.EJBException: java.lang.NullPointerException




	at org.jboss.as.ejb3.tx.CMTTxInterceptor.handleExceptionInOurTx(CMTTxInterceptor.java:190) [wildfly-ejb3-8.0.0.Final.jar:8.0.0.Final]




	at org.jboss.as.ejb3.tx.CMTTxInterceptor.invokeInOurTx(CMTTxInterceptor.java:275) [wildfly-ejb3-8.0.0.Final.jar:8.0.0.Final]




	at org.jboss.as.ejb3.tx.CMTTxInterceptor.required(CMTTxInterceptor.java:340) [wildfly-ejb3-8.0.0.Final.jar:8.0.0.Final]




	at org.jboss.as.ejb3.tx.CMTTxInterceptor.processInvocation(CMTTxInterceptor.java:239) [wildfly-ejb3-8.0.0.Final.jar:8.0.0.Final]




	at org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:309)




	at org.jboss.as.ejb3.component.interceptors.CurrentInvocationContextInterceptor.processInvocation(CurrentInvocationContextInterceptor.java:41) [wildfly-ejb3-8.0.0.Final.jar:8.0.0.Final]




	at org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:309)




	at org.jboss.as.ejb3.component.invocationmetrics.WaitTimeInterceptor.processInvocation(WaitTimeInterceptor.java:43) [wildfly-ejb3-8.0.0.Final.jar:8.0.0.Final]




	at org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:309)




	at org.jboss.as.ejb3.component.interceptors.ShutDownInterceptorFactory$1.processInvocation(ShutDownInterceptorFactory.java:64) [wildfly-ejb3-8.0.0.Final.jar:8.0.0.Final]




	at org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:309)




	at org.jboss.as.ejb3.component.interceptors.LoggingInterceptor.processInvocation(LoggingInterceptor.java:59) [wildfly-ejb3-8.0.0.Final.jar:8.0.0.Final]




	at org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:309)




	at org.jboss.as.ee.component.NamespaceContextInterceptor.processInvocation(NamespaceContextInterceptor.java:50)




	at org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:309)




	at org.jboss.as.ejb3.component.interceptors.AdditionalSetupInterceptor.processInvocation(AdditionalSetupInterceptor.java:55) [wildfly-ejb3-8.0.0.Final.jar:8.0.0.Final]




	at org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:309)




	at org.jboss.invocation.ContextClassLoaderInterceptor.processInvocation(ContextClassLoaderInterceptor.java:64)




	at org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:309)




	at org.jboss.invocation.InterceptorContext.run(InterceptorContext.java:326)




	at org.wildfly.security.manager.WildFlySecurityManager.doChecked(WildFlySecurityManager.java:448)




	at org.jboss.invocation.AccessCheckingInterceptor.processInvocation(AccessCheckingInterceptor.java:61)




	at org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:309)




	at org.jboss.invocation.InterceptorContext.run(InterceptorContext.java:326)




	at org.jboss.invocation.PrivilegedWithCombinerInterceptor.processInvocation(PrivilegedWithCombinerInterceptor.java:80)




	at org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:309)




	at org.jboss.invocation.ChainedInterceptor.processInvocation(ChainedInterceptor.java:61)




	at org.jboss.as.ee.component.ViewService$View.invoke(ViewService.java:185)




	at org.jboss.as.ee.component.ViewDescription$1.processInvocation(ViewDescription.java:182)




	at org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:309)




	at org.jboss.invocation.ChainedInterceptor.processInvocation(ChainedInterceptor.java:61)




	at org.jboss.as.ee.component.ProxyInvocationHandler.invoke(ProxyInvocationHandler.java:73)




	at net.dice.facade.PlayerFacade$$$view3.createIncognitoPlayer(Unknown Source) [classes:]




	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) [rt.jar:1.7.0_51]




	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:57) [rt.jar:1.7.0_51]




	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) [rt.jar:1.7.0_51]




	at java.lang.reflect.Method.invoke(Method.java:606) [rt.jar:1.7.0_51]




	at org.jboss.weld.util.reflection.Reflections.invokeAndUnwrap(Reflections.java:401) [weld-core-impl-2.1.2.Final.jar:2014-01-09 09:23]




	at org.jboss.weld.bean.proxy.EnterpriseBeanProxyMethodHandler.invoke(EnterpriseBeanProxyMethodHandler.java:99) [weld-core-impl-2.1.2.Final.jar:2014-01-09 09:23]




	at org.jboss.weld.bean.proxy.EnterpriseTargetBeanInstance.invoke(EnterpriseTargetBeanInstance.java:56) [weld-core-impl-2.1.2.Final.jar:2014-01-09 09:23]




	at org.jboss.weld.bean.proxy.InjectionPointPropagatingEnterpriseTargetBeanInstance.invoke(InjectionPointPropagatingEnterpriseTargetBeanInstance.java:65) [weld-core-impl-2.1.2.Final.jar:2014-01-09 09:23]




	at org.jboss.weld.bean.proxy.ProxyMethodHandler.invoke(ProxyMethodHandler.java:100) [weld-core-impl-2.1.2.Final.jar:2014-01-09 09:23]




	at net.dice.facade.PlayerFacade$Proxy$_$$_Weld$EnterpriseProxy$.createIncognitoPlayer(Unknown Source) [classes:]




	at net.dice.facade.TestResource.test(TestResource.java:17) [classes:]




	at net.dice.facade.TestResource$Proxy$_$$_WeldClientProxy.test(Unknown Source) [classes:]




	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) [rt.jar:1.7.0_51]




	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:57) [rt.jar:1.7.0_51]




	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) [rt.jar:1.7.0_51]




	at java.lang.reflect.Method.invoke(Method.java:606) [rt.jar:1.7.0_51]




	at org.jboss.resteasy.core.MethodInjectorImpl.invoke(MethodInjectorImpl.java:137) [resteasy-jaxrs-3.0.6.Final.jar:]




	at org.jboss.resteasy.core.ResourceMethodInvoker.invokeOnTarget(ResourceMethodInvoker.java:280) [resteasy-jaxrs-3.0.6.Final.jar:]




	at org.jboss.resteasy.core.ResourceMethodInvoker.invoke(ResourceMethodInvoker.java:234) [resteasy-jaxrs-3.0.6.Final.jar:]




	at org.jboss.resteasy.core.ResourceMethodInvoker.invoke(ResourceMethodInvoker.java:221) [resteasy-jaxrs-3.0.6.Final.jar:]




	at org.jboss.resteasy.core.SynchronousDispatcher.invoke(SynchronousDispatcher.java:356) [resteasy-jaxrs-3.0.6.Final.jar:]




	at org.jboss.resteasy.core.SynchronousDispatcher.invoke(SynchronousDispatcher.java:179) [resteasy-jaxrs-3.0.6.Final.jar:]




	at org.jboss.resteasy.plugins.server.servlet.ServletContainerDispatcher.service(ServletContainerDispatcher.java:220) [resteasy-jaxrs-3.0.6.Final.jar:]




	at org.jboss.resteasy.plugins.server.servlet.HttpServletDispatcher.service(HttpServletDispatcher.java:56) [resteasy-jaxrs-3.0.6.Final.jar:]




	at org.jboss.resteasy.plugins.server.servlet.HttpServletDispatcher.service(HttpServletDispatcher.java:51) [resteasy-jaxrs-3.0.6.Final.jar:]




	at javax.servlet.http.HttpServlet.service(HttpServlet.java:790) [jboss-servlet-api_3.1_spec-1.0.0.Final.jar:1.0.0.Final]




	at io.undertow.servlet.handlers.ServletHandler.handleRequest(ServletHandler.java:85) [undertow-servlet-1.0.0.Final.jar:1.0.0.Final]




	at io.undertow.servlet.handlers.FilterHandler$FilterChainImpl.doFilter(FilterHandler.java:130) [undertow-servlet-1.0.0.Final.jar:1.0.0.Final]




	at net.dice.auth.BasicAuthFilter.doFilter(BasicAuthFilter.java:76) [classes:]




	at io.undertow.servlet.core.ManagedFilter.doFilter(ManagedFilter.java:56) [undertow-servlet-1.0.0.Final.jar:1.0.0.Final]




	at io.undertow.servlet.handlers.FilterHandler$FilterChainImpl.doFilter(FilterHandler.java:132) [undertow-servlet-1.0.0.Final.jar:1.0.0.Final]




	at net.dice.filter.DiceFilter.doFilter(DiceFilter.java:48) [classes:]




	at io.undertow.servlet.core.ManagedFilter.doFilter(ManagedFilter.java:56) [undertow-servlet-1.0.0.Final.jar:1.0.0.Final]




	at io.undertow.servlet.handlers.FilterHandler$FilterChainImpl.doFilter(FilterHandler.java:132) [undertow-servlet-1.0.0.Final.jar:1.0.0.Final]




	at io.undertow.servlet.handlers.FilterHandler.handleRequest(FilterHandler.java:85) [undertow-servlet-1.0.0.Final.jar:1.0.0.Final]




	at io.undertow.servlet.handlers.security.ServletSecurityRoleHandler.handleRequest(ServletSecurityRoleHandler.java:61) [undertow-servlet-1.0.0.Final.jar:1.0.0.Final]




	at io.undertow.servlet.handlers.ServletDispatchingHandler.handleRequest(ServletDispatchingHandler.java:36) [undertow-servlet-1.0.0.Final.jar:1.0.0.Final]




	at org.wildfly.extension.undertow.security.SecurityContextAssociationHandler.handleRequest(SecurityContextAssociationHandler.java:78)




	at io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:25) [undertow-core-1.0.0.Final.jar:1.0.0.Final]




	at io.undertow.servlet.handlers.security.SSLInformationAssociationHandler.handleRequest(SSLInformationAssociationHandler.java:113) [undertow-servlet-1.0.0.Final.jar:1.0.0.Final]




	at io.undertow.security.handlers.AuthenticationCallHandler.handleRequest(AuthenticationCallHandler.java:52) [undertow-core-1.0.0.Final.jar:1.0.0.Final]




	at io.undertow.security.handlers.AuthenticationConstraintHandler.handleRequest(AuthenticationConstraintHandler.java:51) [undertow-core-1.0.0.Final.jar:1.0.0.Final]




	at io.undertow.security.handlers.AbstractConfidentialityHandler.handleRequest(AbstractConfidentialityHandler.java:45) [undertow-core-1.0.0.Final.jar:1.0.0.Final]




	at io.undertow.servlet.handlers.security.ServletConfidentialityConstraintHandler.handleRequest(ServletConfidentialityConstraintHandler.java:61) [undertow-servlet-1.0.0.Final.jar:1.0.0.Final]




	at io.undertow.servlet.handlers.security.ServletSecurityConstraintHandler.handleRequest(ServletSecurityConstraintHandler.java:56) [undertow-servlet-1.0.0.Final.jar:1.0.0.Final]




	at io.undertow.security.handlers.AuthenticationMechanismsHandler.handleRequest(AuthenticationMechanismsHandler.java:58) [undertow-core-1.0.0.Final.jar:1.0.0.Final]




	at io.undertow.servlet.handlers.security.CachedAuthenticatedSessionHandler.handleRequest(CachedAuthenticatedSessionHandler.java:70) [undertow-servlet-1.0.0.Final.jar:1.0.0.Final]




	at io.undertow.security.handlers.SecurityInitialHandler.handleRequest(SecurityInitialHandler.java:76) [undertow-core-1.0.0.Final.jar:1.0.0.Final]




	at io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:25) [undertow-core-1.0.0.Final.jar:1.0.0.Final]




	at org.wildfly.extension.undertow.security.jacc.JACCContextIdHandler.handleRequest(JACCContextIdHandler.java:61)




	at io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:25) [undertow-core-1.0.0.Final.jar:1.0.0.Final]




	at io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:25) [undertow-core-1.0.0.Final.jar:1.0.0.Final]




	at io.undertow.servlet.handlers.ServletInitialHandler.handleFirstRequest(ServletInitialHandler.java:240) [undertow-servlet-1.0.0.Final.jar:1.0.0.Final]




	at io.undertow.servlet.handlers.ServletInitialHandler.dispatchRequest(ServletInitialHandler.java:227) [undertow-servlet-1.0.0.Final.jar:1.0.0.Final]




	at io.undertow.servlet.handlers.ServletInitialHandler.access$000(ServletInitialHandler.java:73) [undertow-servlet-1.0.0.Final.jar:1.0.0.Final]




	at io.undertow.servlet.handlers.ServletInitialHandler$1.handleRequest(ServletInitialHandler.java:146) [undertow-servlet-1.0.0.Final.jar:1.0.0.Final]




	at io.undertow.server.Connectors.executeRootHandler(Connectors.java:168) [undertow-core-1.0.0.Final.jar:1.0.0.Final]




	at io.undertow.server.HttpServerExchange$1.run(HttpServerExchange.java:687) [undertow-core-1.0.0.Final.jar:1.0.0.Final]




	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1145) [rt.jar:1.7.0_51]




	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:615) [rt.jar:1.7.0_51]




	at java.lang.Thread.run(Thread.java:744) [rt.jar:1.7.0_51]




Caused by: java.lang.NullPointerException




	at org.jboss.as.security.service.SimpleSecurityManager.isCallerInRole(SimpleSecurityManager.java:209) [wildfly-security-8.0.0.Final.jar:8.0.0.Final]




	at org.jboss.as.ejb3.component.EJBComponent.isCallerInRole(EJBComponent.java:373) [wildfly-ejb3-8.0.0.Final.jar:8.0.0.Final]




	at org.jboss.as.ejb3.context.EJBContextImpl.isCallerInRole(EJBContextImpl.java:114) [wildfly-ejb3-8.0.0.Final.jar:8.0.0.Final]




	at net.dice.facade.PlayerFacade.createIncognitoPlayer(PlayerFacade.java:122) [classes:]




	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) [rt.jar:1.7.0_51]




	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:57) [rt.jar:1.7.0_51]




	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) [rt.jar:1.7.0_51]




	at java.lang.reflect.Method.invoke(Method.java:606) [rt.jar:1.7.0_51]




	at org.jboss.as.ee.component.ManagedReferenceMethodInterceptor.processInvocation(ManagedReferenceMethodInterceptor.java:52)




	at org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:309)




	at org.jboss.invocation.WeavedInterceptor.processInvocation(WeavedInterceptor.java:53)




	at org.jboss.as.ee.component.interceptors.UserInterceptorFactory$1.processInvocation(UserInterceptorFactory.java:63)




	at org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:309)




	at org.jboss.invocation.InterceptorContext$Invocation.proceed(InterceptorContext.java:407)




	at org.jboss.as.weld.ejb.Jsr299BindingsInterceptor.doMethodInterception(Jsr299BindingsInterceptor.java:82) [wildfly-weld-8.0.0.Final.jar:8.0.0.Final]




	at org.jboss.as.weld.ejb.Jsr299BindingsInterceptor.processInvocation(Jsr299BindingsInterceptor.java:93) [wildfly-weld-8.0.0.Final.jar:8.0.0.Final]




	at org.jboss.as.ee.component.interceptors.UserInterceptorFactory$1.processInvocation(UserInterceptorFactory.java:63)




	at org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:309)




	at org.jboss.invocation.WeavedInterceptor.processInvocation(WeavedInterceptor.java:53)




	at org.jboss.as.ee.component.interceptors.UserInterceptorFactory$1.processInvocation(UserInterceptorFactory.java:63)




	at org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:309)




	at org.jboss.as.ejb3.component.invocationmetrics.ExecutionTimeInterceptor.processInvocation(ExecutionTimeInterceptor.java:43) [wildfly-ejb3-8.0.0.Final.jar:8.0.0.Final]




	at org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:309)




	at org.jboss.as.jpa.interceptor.SBInvocationInterceptor.processInvocation(SBInvocationInterceptor.java:47) [wildfly-jpa-8.0.0.Final.jar:8.0.0.Final]




	at org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:309)




	at org.jboss.invocation.InterceptorContext$Invocation.proceed(InterceptorContext.java:407)




	at org.jboss.weld.ejb.AbstractEJBRequestScopeActivationInterceptor.aroundInvoke(AbstractEJBRequestScopeActivationInterceptor.java:46) [weld-core-impl-2.1.2.Final.jar:2014-01-09 09:23]




	at org.jboss.as.weld.ejb.EjbRequestScopeActivationInterceptor.processInvocation(EjbRequestScopeActivationInterceptor.java:83) [wildfly-weld-8.0.0.Final.jar:8.0.0.Final]




	at org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:309)




	at org.jboss.as.ee.concurrent.ConcurrentContextInterceptor.processInvocation(ConcurrentContextInterceptor.java:45) [wildfly-ee-8.0.0.Final.jar:8.0.0.Final]




	at org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:309)




	at org.jboss.invocation.InitialInterceptor.processInvocation(InitialInterceptor.java:21)




	at org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:309)




	at org.jboss.invocation.ChainedInterceptor.processInvocation(ChainedInterceptor.java:61)




	at org.jboss.as.ee.component.interceptors.ComponentDispatcherInterceptor.processInvocation(ComponentDispatcherInterceptor.java:53)




	at org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:309)




	at org.jboss.as.ejb3.component.interceptors.NonPooledEJBComponentInstanceAssociatingInterceptor.processInvocation(NonPooledEJBComponentInstanceAssociatingInterceptor.java:59) [wildfly-ejb3-8.0.0.Final.jar:8.0.0.Final]




	at org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:309)




	at org.jboss.as.ejb3.tx.CMTTxInterceptor.invokeInOurTx(CMTTxInterceptor.java:273) [wildfly-ejb3-8.0.0.Final.jar:8.0.0.Final]





</description>
			<version>8.0.0.Final</version>
			<fixedVersion>8.1.0.CR1, 8.1.0.Final</fixedVersion>
			<type>Bug</type>
		</buginformation>
		<fixedFiles>
			<file type="M">org.jboss.as.security.service.SimpleSecurityManager.java</file>
		</fixedFiles>
	</bug>
	<bug id="3106" opendate="2014-03-12 20:25:20" fixdate="2014-03-14 15:45:29" resolution="Done">
		<buginformation>
			<summary>Infinispan cache statistics cannot be enabled/disabled independently of the cache manager statistics    </summary>
			<description>The Infinispan subsystem allows enabling and disabling the collection of statistics for cache managers and caches via the "statistics-enabled" management API attribute.
It is possible to set statistics-enabled attributes independently for cache managers and caches in the management API, but when checking the Infinispan MBeans, we see that statistics are either enabled for cache managers and their caches, or disabled for cache managers and caches.  
</description>
			<version>8.0.0.Final</version>
			<fixedVersion>8.1.0.CR1, 8.1.0.Final</fixedVersion>
			<type>Bug</type>
		</buginformation>
		<fixedFiles>
			<file type="M">org.jboss.as.clustering.infinispan.subsystem.CacheConfigurationService.java</file>
		</fixedFiles>
	</bug>
	<bug id="3108" opendate="2014-03-13 11:46:26" fixdate="2014-03-17 15:37:07" resolution="Done">
		<buginformation>
			<summary>Can&amp;apos;t promote --backup slave HC to master and reload without moving domain.cached-remote.xml</summary>
			<description>The prescribed mechanism for converting a slave HC to master is to:
1) Start the slave with --backup so a local copy of the domain config is maintained (in file domain.cached-remote.xml).
2) Stop the existing master.
3) Use the cli to connect to the slave and
/host=&amp;lt;slavename&amp;gt;:write-local-domain-controller
4) Then, in the CLI
reload --host=&amp;lt;slavename&amp;gt;
Problem is this fails because the HC expects to have a domain config file "domain.xml".
2014-03-13 09:54:04,829 ERROR [org.jboss.as.host.controller] (Controller Boot Thread) JBAS010932: Caught exception during boot: org.jboss.as.controller.persistence.ConfigurationPersistenceException: JBAS014676: Failed to parse configuration
	at org.jboss.as.controller.persistence.XmlConfigurationPersister.load(XmlConfigurationPersister.java:112) [wildfly-controller-8.0.1.Final-SNAPSHOT.jar:8.0.1.Final-SNAPSHOT]
	at org.jboss.as.host.controller.DomainModelControllerService.boot(DomainModelControllerService.java:514) [wildfly-host-controller-8.0.1.Final-SNAPSHOT.jar:8.0.1.Final-SNAPSHOT]
	at org.jboss.as.controller.AbstractControllerService$1.run(AbstractControllerService.java:256) [wildfly-controller-8.0.1.Final-SNAPSHOT.jar:8.0.1.Final-SNAPSHOT]
	at java.lang.Thread.run(Thread.java:744) [rt.jar:1.7.0_45]
Caused by: java.io.FileNotFoundException: /Users/bstansberry/tmp/WF801/slave/domain/configuration/domain.xml (No such file or directory)
	at java.io.FileInputStream.open(Native Method) [rt.jar:1.7.0_45]
	at java.io.FileInputStream.&amp;lt;init&amp;gt;(FileInputStream.java:146) [rt.jar:1.7.0_45]
	at org.jboss.as.controller.persistence.XmlConfigurationPersister.load(XmlConfigurationPersister.java:100) [wildfly-controller-8.0.1.Final-SNAPSHOT.jar:8.0.1.Final-SNAPSHOT]
	... 3 more
Or, MUCH WORSE, there happens to be a random domain.xml in the filesystem, which has content that is out of sync with the correct domain config. This domain.xml config will be used.
</description>
			<version>8.0.0.Final</version>
			<fixedVersion>8.1.0.CR1, 8.1.0.Final</fixedVersion>
			<type>Bug</type>
		</buginformation>
		<fixedFiles>
			<file type="M">org.jboss.as.test.integration.domain.management.util.DomainLifecycleUtil.java</file>
			<file type="M">org.jboss.as.host.controller.HostControllerEnvironment.java</file>
			<file type="M">org.jboss.as.host.controller.HostControllerConfigurationPersister.java</file>
			<file type="M">org.jboss.as.test.integration.domain.DomainControllerMigrationTestCase.java</file>
			<file type="M">org.jboss.as.test.integration.domain.management.util.JBossAsManagedConfiguration.java</file>
		</fixedFiles>
	</bug>
	<bug id="922" opendate="2013-01-16 23:13:11" fixdate="2014-03-17 21:41:16" resolution="Duplicate Issue">
		<buginformation>
			<summary>&lt;vault&gt; does not have module option</summary>
			<description>The &amp;lt;vault&amp;gt; element in standalone/domain.xml takes a &amp;amp;apos;code&amp;amp;apos; attribute specifying the class to use as the implementation. It does not let you specify a &amp;amp;apos;module&amp;amp;apos; option like most similar elements have, and instead always loads the class from the org.picketbox module.
The &amp;lt;vault&amp;gt; element should take a module option too.</description>
			<version>8.0.0.Final</version>
			<fixedVersion></fixedVersion>
			<type>Bug</type>
		</buginformation>
		<fixedFiles>
			<file type="M">org.jboss.as.server.parsing.CommonXml.java</file>
			<file type="M">org.jboss.as.server.parsing.StandaloneXml.java</file>
			<file type="M">org.jboss.as.test.manualmode.vault.CustomVaultInModuleTestCase.java</file>
			<file type="M">org.jboss.as.appclient.subsystem.parsing.AppClientXml.java</file>
			<file type="M">org.jboss.as.host.controller.parsing.HostXml.java</file>
			<file type="M">org.jboss.as.server.services.security.AbstractVaultReader.java</file>
			<file type="M">org.jboss.as.core.model.test.vault.AbstractVaultTest.java</file>
			<file type="M">org.jboss.as.server.controller.resources.VaultResourceDefinition.java</file>
			<file type="M">org.jboss.as.core.model.test.TestVaultReader.java</file>
			<file type="M">org.wildfly.test.integration.security.picketlink.idm.CustomCredentialHandlerTestCase.java</file>
			<file type="M">org.jboss.as.server.services.security.VaultAddHandler.java</file>
			<file type="D">org.wildfly.test.integration.security.picketlink.util.TestModule.java</file>
			<file type="M">org.wildfly.test.integration.security.picketlink.idm.JPAEMFFromModuleBasedPartitionManagerTestCase.java</file>
			<file type="M">org.jboss.as.security.vault.RuntimeVaultReader.java</file>
			<file type="M">org.jboss.as.server.ServerMessages.java</file>
		</fixedFiles>
		<links>
			<link type="Duplicate" description="is duplicated by">2972</link>
			<link type="Duplicate" description="is duplicated by">3118</link>
			<link type="Superset" description="is incorporated by">1795</link>
		</links>
	</bug>
	<bug id="3133" opendate="2014-03-18 18:08:33" fixdate="2014-03-19 09:59:34" resolution="Done">
		<buginformation>
			<summary>Misleading error message for add-user username requirements.</summary>
			<description>The current error message is: -






JBAS015239: Only alpha/numeric usernames accepted.






However a small set of symbols are allowed.</description>
			<version>8.0.0.Final</version>
			<fixedVersion>8.1.0.CR1, 8.1.0.Final</fixedVersion>
			<type>Bug</type>
		</buginformation>
		<fixedFiles>
			<file type="M">org.jboss.as.domain.management.security.adduser.ValidateUserState.java</file>
			<file type="M">org.jboss.as.domain.management.DomainManagementMessages.java</file>
		</fixedFiles>
	</bug>
	<bug id="3067" opendate="2014-03-05 02:40:23" fixdate="2014-03-24 15:13:52" resolution="Done">
		<buginformation>
			<summary>Webservices DUP is not scanning all visible classes for @WebService annotation</summary>
			<description>Sample use case:  You have a .war in an .ear, and the .war has a web.xml with a &amp;lt;servlet-class&amp;gt; that refers to a JAX-WS endpoint, so the class is annotated with @WebService.  If that class is packaged in a jar found in the ear&amp;amp;apos;s lib directory, the JBossWS DUP won&amp;amp;apos;t pick it up, and then Undertow will throw an error like this:






UT010009: Servlet ClientEndpoint of type class com.redhat.gss.jaxws.ClientEndpoint does not implement javax.servlet.Servlet





</description>
			<version>8.0.0.Final</version>
			<fixedVersion>8.1.0.CR1, 8.1.0.Final</fixedVersion>
			<type>Bug</type>
		</buginformation>
		<fixedFiles>
			<file type="M">org.jboss.as.webservices.deployers.WSIntegrationProcessorJAXWS_HANDLER.java</file>
			<file type="M">org.jboss.as.webservices.util.ASHelper.java</file>
			<file type="M">org.jboss.as.webservices.deployers.AbstractIntegrationProcessorJAXWS.java</file>
			<file type="M">org.jboss.as.webservices.deployers.WSIntegrationProcessorJAXWS_EJB.java</file>
			<file type="M">org.jboss.as.webservices.deployers.WSIntegrationProcessorJAXWS_POJO.java</file>
			<file type="M">org.jboss.as.webservices.dmr.WSDeploymentActivator.java</file>
			<file type="M">org.jboss.as.server.deployment.Phase.java</file>
		</fixedFiles>
		<links>
			<link type="Related" description="relates to">3187</link>
		</links>
	</bug>
	<bug id="3103" opendate="2014-03-12 14:40:08" fixdate="2014-03-25 08:19:50" resolution="Done">
		<buginformation>
			<summary>PrimitiveListAttributeDefinition.Builder does not preserve the validator</summary>
			<description>Using PrimitiveListAttributeDefinition.Builder#Builder(PrimitiveListAttributeDefinition)
to build an new attribute definition from a basis does not preserve the basis&amp;amp;apos; elementValidator and the valid operation can not be validated against the copied definition.</description>
			<version>8.0.0.Final</version>
			<fixedVersion>8.1.0.CR1, 8.1.0.Final</fixedVersion>
			<type>Bug</type>
		</buginformation>
		<fixedFiles>
			<file type="M">org.jboss.as.controller.PrimitiveListAttributeDefinitionUnitTestCase.java</file>
			<file type="M">org.jboss.as.controller.PrimitiveListAttributeDefinition.java</file>
		</fixedFiles>
	</bug>
	<bug id="3004" opendate="2014-02-24 13:16:00" fixdate="2014-03-26 12:33:16" resolution="Done">
		<buginformation>
			<summary>properties are not resolved for arguments of commands handled on the client-side</summary>
			<description>When using cli for batch files using --file and --properties arguments, any property is resolved but for those defined in the connect command line.
The properties file contains (among the others):
server.bind.addr = xxxxx
server.management.port = 9990
Having:
connect $
{server.bind.addr}
in the batch file gets
ERROR [org.jboss.as.cli.CommandContext] Failed to resolve host &amp;amp;apos;${server.bind.addr}
&amp;amp;apos;: Failed to create URI: Illegal character in authority at index 16: http-remoting://$
{server.bind.addr}:9990

Having:
connect ${server.bind.addr}
:$
{server.management.port}
gets:
ERROR [org.jboss.as.cli.CommandContext] The port must be a valid non-negative integer: &amp;amp;apos;$
{server.bind.addr}
:${server.management.
If i use literal values for the connect command, any other property in the batch is correctly resolved (but that&amp;amp;apos;s exactly what i was trying to avoid)</description>
			<version>8.0.0.Final</version>
			<fixedVersion>8.1.0.CR1, 8.1.0.Final</fixedVersion>
			<type>Bug</type>
		</buginformation>
		<fixedFiles>
			<file type="M">org.jboss.as.cli.handlers.BaseOperationCommand.java</file>
			<file type="M">org.jboss.as.cli.handlers.GenericTypeOperationHandler.java</file>
			<file type="M">org.jboss.as.cli.impl.ArgumentWithValue.java</file>
			<file type="M">org.jboss.as.cli.parsing.StateParser.java</file>
			<file type="M">org.jboss.as.cli.handlers.ConnectHandler.java</file>
			<file type="M">org.jboss.as.cli.parsing.test.VariablesTestCase.java</file>
			<file type="M">org.jboss.as.cli.impl.FileSystemPathArgument.java</file>
			<file type="M">org.jboss.as.cli.handlers.ResourceCompositeOperationHandler.java</file>
			<file type="M">org.jboss.as.cli.parsing.test.PropertyReplacementTestCase.java</file>
			<file type="M">org.jboss.as.cli.handlers.jca.XADataSourceAddCompositeHandler.java</file>
			<file type="M">org.jboss.as.cli.handlers.SetVariableHandler.java</file>
			<file type="M">org.jboss.as.cli.parsing.LineBreakHandler.java</file>
			<file type="M">org.jboss.as.cli.parsing.ExpressionBaseState.java</file>
			<file type="M">org.jboss.as.test.integration.management.cli.FileWithPropertiesTestCase.java</file>
		</fixedFiles>
	</bug>
	<bug id="3046" opendate="2014-02-28 18:04:30" fixdate="2014-03-26 14:35:05" resolution="Done">
		<buginformation>
			<summary>Not possible change the object store type from hornetq to jdbc via cli commands</summary>
			<description>When you have set the object store to be type of hornetq and then you change your mind to set it for jdbc object store the jboss-cli permits this operation but no change is propagated to model and XML file.
How to reproduce:

./bin/standalone.xml (start eap 6.2.0.GA)
./bin/jboss-cli.sh -c (connect to running eap)
/subsystem=transactions:write-attribute(name=use-hornetq-store, value=true)
:reload
/subsystem=transactions/log-store=log-store:read-attribute(name=type)
/subsystem=transactions:write-attribute(name=use-jdbc-store, value=true)
:reload
/subsystem=transactions/log-store=log-store:read-attribute(name=type)

The object store stays to be set to hornetq and no change happens in the standalone.xml file.</description>
			<version>8.0.0.Final</version>
			<fixedVersion>8.1.0.CR1, 8.1.0.Final</fixedVersion>
			<type>Bug</type>
		</buginformation>
		<fixedFiles>
			<file type="M">org.jboss.as.txn.subsystem.TransactionSubsystemRootResourceDefinition.java</file>
			<file type="M">org.jboss.as.txn.subsystem.TransactionSubsystemXMLPersister.java</file>
		</fixedFiles>
	</bug>
	<bug id="3118" opendate="2014-03-14 13:10:47" fixdate="2014-03-29 17:12:31" resolution="Done">
		<buginformation>
			<summary>&lt;vault&gt; does not have module option</summary>
			<description>The &amp;lt;vault&amp;gt; element in standalone/domain.xml takes a &amp;amp;apos;code&amp;amp;apos; attribute specifying the class to use as the implementation. It does not let you specify a &amp;amp;apos;module&amp;amp;apos; option like most similar elements have, and instead always loads the class from the org.picketbox module.
The &amp;lt;vault&amp;gt; element should take a module option too.
The current workaround is to add the custom vault module as a dependency in the org.picketbox module.
Additionally, hanging any module.xml can also result in patching conflicts when customers apply future updates.
Since we have a quite a few customers writing custom vault implementations for various pieces of functionality that it doesn&amp;amp;apos;t provide out of the box, we should consider making this type of customer-initiated change patch safe for customers.</description>
			<version>8.0.0.Final</version>
			<fixedVersion></fixedVersion>
			<type>Feature Request</type>
		</buginformation>
		<fixedFiles>
			<file type="M">org.jboss.as.server.parsing.CommonXml.java</file>
			<file type="M">org.jboss.as.server.parsing.StandaloneXml.java</file>
			<file type="M">org.jboss.as.test.manualmode.vault.CustomVaultInModuleTestCase.java</file>
			<file type="M">org.jboss.as.appclient.subsystem.parsing.AppClientXml.java</file>
			<file type="M">org.jboss.as.host.controller.parsing.HostXml.java</file>
			<file type="M">org.jboss.as.server.services.security.AbstractVaultReader.java</file>
			<file type="M">org.jboss.as.core.model.test.vault.AbstractVaultTest.java</file>
			<file type="M">org.jboss.as.server.controller.resources.VaultResourceDefinition.java</file>
			<file type="M">org.jboss.as.core.model.test.TestVaultReader.java</file>
			<file type="M">org.wildfly.test.integration.security.picketlink.idm.CustomCredentialHandlerTestCase.java</file>
			<file type="M">org.jboss.as.server.services.security.VaultAddHandler.java</file>
			<file type="D">org.wildfly.test.integration.security.picketlink.util.TestModule.java</file>
			<file type="M">org.wildfly.test.integration.security.picketlink.idm.JPAEMFFromModuleBasedPartitionManagerTestCase.java</file>
			<file type="M">org.jboss.as.security.vault.RuntimeVaultReader.java</file>
			<file type="M">org.jboss.as.server.ServerMessages.java</file>
		</fixedFiles>
		<links>
			<link type="Dependency" description="is blocked by">805</link>
			<link type="Duplicate" description="duplicates">2972</link>
			<link type="Duplicate" description="duplicates">922</link>
		</links>
	</bug>
	<bug id="3163" opendate="2014-02-19 15:15:21" fixdate="2014-04-01 13:53:19" resolution="Done">
		<buginformation>
			<summary>EAP audit log should display the EAP version instead of the AS version</summary>
			<description>EAP audit log should display the EAP version instead of the AS version
Currently the audit log shows the AS version number instead of the EAP version. Example:
Feb 13 07:55:43 efjkffglk000000719 syslogappname[553]: 2014-02-13 07:55:43 - {"type" : "core", "r/o" : false, "booting" : false, "version" : "7.3.0.Final-redhat-14", "user" : "$local", "domainUUID" : null, "access" : "NATIVE", "remote-address" : "10.10.10.250/10.10.10.250", "success" : true, "ops" : [{"address" : [
{ "host" : "master" }
,
{ "core-service" : "management" }
,
{ "access" : "audit" }
,
{ "logger" : "audit-log" }
], "operation" : "write-attribute", "name" : "enabled", "value" : false, "operation-headers" : {"caller-type" : "user", "access-mechanism" : "NATIVE", "domain-uuid" : "fead80e4-690d-4bcf-af71-ecaf30f98381", "push-to-servers" : null}}]}
"version" : "7.3.0.Final-redhat-14"
This should show:
"version" : "6.2.1.GA" 
There&amp;amp;apos;s a request that it show something like "6.2 CP01" but that is a patch file name, not a software version, and is unknown to the software.</description>
			<version>8.0.0.Final</version>
			<fixedVersion>8.1.0.CR1, 8.1.0.Final</fixedVersion>
			<type>Bug</type>
		</buginformation>
		<fixedFiles>
			<file type="M">org.jboss.as.host.controller.DomainModelControllerService.java</file>
			<file type="M">org.jboss.as.server.ServerEnvironment.java</file>
		</fixedFiles>
	</bug>
	<bug id="3136" opendate="2014-03-18 22:30:48" fixdate="2014-04-02 14:42:18" resolution="Done">
		<buginformation>
			<summary>SRV 7.7.2 non-compliance</summary>
			<description>From SRV 7.7.2: Distributed Environments
Within an application marked as distributable, all requests that are part of a session must be handled by one JVM at a time.
Our default configuration for the Infinispan cache used for web sessions uses PESSIMISTIC locking.  However, Infinispan only acquires locks on cache write operations.  This only prevents concurrent writes to a session.  Even with REPEATABLE_READ, 2 threads can read a session at the same time.  We need to make sure both reads and writes to a session use cluster exclusive access, by default at least.</description>
			<version>8.0.0.Final</version>
			<fixedVersion>8.1.0.CR1, 8.1.0.Final</fixedVersion>
			<type>Bug</type>
		</buginformation>
		<fixedFiles>
			<file type="M">org.jboss.as.clustering.infinispan.invoker.Locator.java</file>
			<file type="M">org.wildfly.clustering.ejb.infinispan.bean.InfinispanBeanFactory.java</file>
			<file type="M">org.wildfly.clustering.web.infinispan.session.coarse.CoarseSessionFactory.java</file>
			<file type="M">org.wildfly.clustering.web.infinispan.session.fine.FineSessionFactory.java</file>
		</fixedFiles>
	</bug>
	<bug id="3048" opendate="2014-02-28 19:01:54" fixdate="2014-04-03 10:39:20" resolution="Done">
		<buginformation>
			<summary>"Local" authentication fails when LDAP is used for ManagementRealm</summary>
			<description>When LDAP is used for authentication in ManagementRealm, "local" authentication, which is enabled in configuration for the realm, appears to stop working.
I have configured my ManagementRealm to use LDAP for authentication of remote clients.  However, I also need to allow local authentication without a username and password, for when jboss-cli is invoked from the command line on the server.  This is needed in order for the wildfly-init-debian.sh script to shut down the server.  I have configured the ManagementRealm as follows:
&amp;lt;security-realm name="ManagementRealm"&amp;gt;
        &amp;lt;authentication&amp;gt;
            &amp;lt;local default-user="$local" /&amp;gt;
            &amp;lt;ldap connection="..." base-dn="ou=accounts,dc=..." recursive="false"&amp;gt;
                ...
            &amp;lt;/ldap&amp;gt;
        &amp;lt;/authentication&amp;gt;
        &amp;lt;authorization map-groups-to-roles="false"&amp;gt;
            &amp;lt;ldap connection="..."&amp;gt;
                ...
            &amp;lt;/ldap&amp;gt;
        &amp;lt;/authorization&amp;gt;
    &amp;lt;/security-realm&amp;gt;
I left out most of the LDAP configuration because I don&amp;amp;apos;t think it is important for this issue.  LDAP authentication works fine for remote clients.  In fact, it works fine for local clients as well--when I invoke jboss-cli with LDAP authentication enabled, it prompts for a username and password; if I enter a valid combination from the LDAP directory, jboss-cli connects successfully and executes its command.
The problem is that I need it to NOT prompt for a username and password when jboss-cli is invoked locally.  Which, I believe, is how things are supposed to work when "local" authentication is also enabled; it just doesn&amp;amp;apos;t work that way when LDAP is enabled for the same realm.
If I comment out the &amp;lt;ldap .../&amp;gt; element in &amp;lt;authentication&amp;gt; for the realm, local authentication starts working again.  I can invoke jboss-cli locally and the command is carried out without a username and password prompt.  Re-enable LDAP, with no other configuration changes, and again it flips back to requiring a username and password.
I have tried replacing "$local" in the @default-user element of the &amp;lt;local&amp;gt; element with a valid name from the LDAP directory, both as a simple username and as a full DN, and jboss-cli still prompts for a username and password.
The modification date on the [tmp/auth] directory changes when I run jboss-cli with LDAP in place and get the username/password prompt, so it appears that the client is putting a token in there to try to use local authentication.  The server just never picks it up.
The documentation specifically mentions that &amp;lt;local/&amp;gt; should work along with &amp;lt;ldap/&amp;gt; here:
https://docs.jboss.org/author/display/WFLY8/Security+Realms</description>
			<version>8.0.0.Final</version>
			<fixedVersion>8.1.0.CR1, 8.1.0.Final</fixedVersion>
			<type>Bug</type>
		</buginformation>
		<fixedFiles>
			<file type="M">org.jboss.as.domain.management.security.LocalAuthenticationResourceDefinition.java</file>
			<file type="M">org.jboss.as.domain.management.security.LocalCallbackHandlerService.java</file>
			<file type="M">org.jboss.as.domain.management.parsing.ManagementXml.java</file>
			<file type="M">org.jboss.as.domain.management.security.SecurityRealmService.java</file>
			<file type="M">org.jboss.as.domain.management.ModelDescriptionConstants.java</file>
			<file type="M">org.jboss.as.domain.management.security.SecurityRealmAddHandler.java</file>
			<file type="M">org.jboss.as.controller.parsing.Attribute.java</file>
		</fixedFiles>
		<links>
			<link type="Related" description="relates to">308</link>
		</links>
	</bug>
	<bug id="2911" opendate="2014-02-12 11:36:12" fixdate="2014-04-03 22:51:56" resolution="Done">
		<buginformation>
			<summary>@Stateful @RequestScoped @Path() does not behave like request-scoped</summary>
			<description>having a JAX-RS @RequestScoped and @Stasteful






@Path("/members")




@RequestScoped




@Stateful




public class MemberService






doesn&amp;amp;apos;t seem to be acting as request-scoped. Specifically, an exception thrown out of this makes the service unusable with every subsequent request causes:






12:32:47,296 ERROR [org.jboss.as.ejb3.invocation] (default task-4) JBAS014134: EJB Invocation failed on component MemberService for method public org.jboss.as.quickstarts.html5_mobile.model.Member org.jboss.as.quickstarts.html5_mobile.rest.MemberService.lookupMemberById(long): javax.ejb.NoSuchEJBException: JBAS014300: Could not find EJB with id {[59, -10, 2, 63, 90, 28, 72, -49, -112, -90, 12, 30, -11, -1, -105, -104]}




	at org.jboss.as.ejb3.component.stateful.StatefulComponentInstanceInterceptor.processInvocation(StatefulComponentInstanceInterceptor.java:62) [wildfly-ejb3-8.0.0.Final.jar:8.0.0.Final]




	at org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:309)




	at org.jboss.as.ejb3.tx.CMTTxInterceptor.invokeInOurTx(CMTTxInterceptor.java:273) [wildfly-ejb3-8.0.0.Final.jar:8.0.0.Final]




	at org.jboss.as.ejb3.tx.CMTTxInterceptor.required(CMTTxInterceptor.java:340) [wildfly-ejb3-8.0.0.Final.jar:8.0.0.Final]




	at org.jboss.as.ejb3.tx.CMTTxInterceptor.processInvocation(CMTTxInterceptor.java:239) [wildfly-ejb3-8.0.0.Final.jar:8.0.0.Final]




	at org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:309)




	at org.jboss.as.ejb3.component.interceptors.CurrentInvocationContextInterceptor.processInvocation(CurrentInvocationContextInterceptor.java:41) [wildfly-ejb3-8.0.0.Final.jar:8.0.0.Final]




	at org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:309)




	at org.jboss.as.ejb3.component.invocationmetrics.WaitTimeInterceptor.processInvocation(WaitTimeInterceptor.java:43) [wildfly-ejb3-8.0.0.Final.jar:8.0.0.Final]




	at org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:309)




	at org.jboss.as.ejb3.security.SecurityContextInterceptor.processInvocation(SecurityContextInterceptor.java:95) [wildfly-ejb3-8.0.0.Final.jar:8.0.0.Final]




	at org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:309)




	at org.jboss.as.ejb3.component.interceptors.ShutDownInterceptorFactory$1.processInvocation(ShutDownInterceptorFactory.java:64) [wildfly-ejb3-8.0.0.Final.jar:8.0.0.Final]




	at org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:309)




	at org.jboss.as.ejb3.component.interceptors.LoggingInterceptor.processInvocation(LoggingInterceptor.java:59) [wildfly-ejb3-8.0.0.Final.jar:8.0.0.Final]




	at org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:309)




	at org.jboss.as.ee.component.NamespaceContextInterceptor.processInvocation(NamespaceContextInterceptor.java:50)




	at org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:309)




	at org.jboss.as.ejb3.component.interceptors.AdditionalSetupInterceptor.processInvocation(AdditionalSetupInterceptor.java:55) [wildfly-ejb3-8.0.0.Final.jar:8.0.0.Final]




	at org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:309)




	at org.jboss.invocation.ContextClassLoaderInterceptor.processInvocation(ContextClassLoaderInterceptor.java:64)




	at org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:309)




	at org.jboss.invocation.InterceptorContext.run(InterceptorContext.java:326)




	at org.wildfly.security.manager.WildFlySecurityManager.doChecked(WildFlySecurityManager.java:448)




	at org.jboss.invocation.AccessCheckingInterceptor.processInvocation(AccessCheckingInterceptor.java:61)




	at org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:309)




	at org.jboss.invocation.InterceptorContext.run(InterceptorContext.java:326)




	at org.jboss.invocation.PrivilegedWithCombinerInterceptor.processInvocation(PrivilegedWithCombinerInterceptor.java:80)




	at org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:309)




	at org.jboss.invocation.ChainedInterceptor.processInvocation(ChainedInterceptor.java:61)




	at org.jboss.as.ee.component.ViewService$View.invoke(ViewService.java:185)




	at org.jboss.as.ee.component.ViewDescription$1.processInvocation(ViewDescription.java:182)




	at org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:309)




	at org.jboss.invocation.ChainedInterceptor.processInvocation(ChainedInterceptor.java:61)




	at org.jboss.as.ee.component.ProxyInvocationHandler.invoke(ProxyInvocationHandler.java:73)




	at org.jboss.as.quickstarts.html5_mobile.rest.MemberService$$$view2.lookupMemberById(Unknown Source) [classes:]




	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) [rt.jar:1.7.0_51]




	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:57) [rt.jar:1.7.0_51]




	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) [rt.jar:1.7.0_51]




	at java.lang.reflect.Method.invoke(Method.java:606) [rt.jar:1.7.0_51]




	at org.jboss.resteasy.core.MethodInjectorImpl.invoke(MethodInjectorImpl.java:137) [resteasy-jaxrs-3.0.6.Final.jar:]




	at org.jboss.resteasy.core.ResourceMethodInvoker.invokeOnTarget(ResourceMethodInvoker.java:280) [resteasy-jaxrs-3.0.6.Final.jar:]




	at org.jboss.resteasy.core.ResourceMethodInvoker.invoke(ResourceMethodInvoker.java:234) [resteasy-jaxrs-3.0.6.Final.jar:]




	at org.jboss.resteasy.core.ResourceMethodInvoker.invoke(ResourceMethodInvoker.java:221) [resteasy-jaxrs-3.0.6.Final.jar:]




	at org.jboss.resteasy.core.SynchronousDispatcher.invoke(SynchronousDispatcher.java:356) [resteasy-jaxrs-3.0.6.Final.jar:]




	at org.jboss.resteasy.core.SynchronousDispatcher.invoke(SynchronousDispatcher.java:179) [resteasy-jaxrs-3.0.6.Final.jar:]




	at org.jboss.resteasy.plugins.server.servlet.ServletContainerDispatcher.service(ServletContainerDispatcher.java:220) [resteasy-jaxrs-3.0.6.Final.jar:]




	at org.jboss.resteasy.plugins.server.servlet.HttpServletDispatcher.service(HttpServletDispatcher.java:56) [resteasy-jaxrs-3.0.6.Final.jar:]




	at org.jboss.resteasy.plugins.server.servlet.HttpServletDispatcher.service(HttpServletDispatcher.java:51) [resteasy-jaxrs-3.0.6.Final.jar:]




	at javax.servlet.http.HttpServlet.service(HttpServlet.java:790) [jboss-servlet-api_3.1_spec-1.0.0.Final.jar:1.0.0.Final]




	at io.undertow.servlet.handlers.ServletHandler.handleRequest(ServletHandler.java:85) [undertow-servlet-1.0.0.Final.jar:1.0.0.Final]




	at io.undertow.servlet.handlers.FilterHandler$FilterChainImpl.doFilter(FilterHandler.java:130) [undertow-servlet-1.0.0.Final.jar:1.0.0.Final]




	at org.jboss.as.quickstarts.html5_mobile.util.JSONPRequestFilter.doFilter(JSONPRequestFilter.java:80) [classes:]




	at io.undertow.servlet.core.ManagedFilter.doFilter(ManagedFilter.java:56) [undertow-servlet-1.0.0.Final.jar:1.0.0.Final]




	at io.undertow.servlet.handlers.FilterHandler$FilterChainImpl.doFilter(FilterHandler.java:132) [undertow-servlet-1.0.0.Final.jar:1.0.0.Final]




	at io.undertow.servlet.handlers.FilterHandler.handleRequest(FilterHandler.java:85) [undertow-servlet-1.0.0.Final.jar:1.0.0.Final]




	at io.undertow.servlet.handlers.security.ServletSecurityRoleHandler.handleRequest(ServletSecurityRoleHandler.java:61) [undertow-servlet-1.0.0.Final.jar:1.0.0.Final]




	at io.undertow.servlet.handlers.ServletDispatchingHandler.handleRequest(ServletDispatchingHandler.java:36) [undertow-servlet-1.0.0.Final.jar:1.0.0.Final]




	at org.wildfly.extension.undertow.security.SecurityContextAssociationHandler.handleRequest(SecurityContextAssociationHandler.java:78)




	at io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:25) [undertow-core-1.0.0.Final.jar:1.0.0.Final]




	at io.undertow.servlet.handlers.security.SSLInformationAssociationHandler.handleRequest(SSLInformationAssociationHandler.java:113) [undertow-servlet-1.0.0.Final.jar:1.0.0.Final]




	at io.undertow.security.handlers.AuthenticationCallHandler.handleRequest(AuthenticationCallHandler.java:52) [undertow-core-1.0.0.Final.jar:1.0.0.Final]




	at io.undertow.security.handlers.AbstractConfidentialityHandler.handleRequest(AbstractConfidentialityHandler.java:45) [undertow-core-1.0.0.Final.jar:1.0.0.Final]




	at io.undertow.servlet.handlers.security.ServletConfidentialityConstraintHandler.handleRequest(ServletConfidentialityConstraintHandler.java:61) [undertow-servlet-1.0.0.Final.jar:1.0.0.Final]




	at io.undertow.servlet.handlers.security.CachedAuthenticatedSessionHandler.handleRequest(CachedAuthenticatedSessionHandler.java:70) [undertow-servlet-1.0.0.Final.jar:1.0.0.Final]




	at io.undertow.security.handlers.SecurityInitialHandler.handleRequest(SecurityInitialHandler.java:76) [undertow-core-1.0.0.Final.jar:1.0.0.Final]




	at io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:25) [undertow-core-1.0.0.Final.jar:1.0.0.Final]




	at org.wildfly.extension.undertow.security.jacc.JACCContextIdHandler.handleRequest(JACCContextIdHandler.java:61)




	at io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:25) [undertow-core-1.0.0.Final.jar:1.0.0.Final]




	at io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:25) [undertow-core-1.0.0.Final.jar:1.0.0.Final]




	at io.undertow.servlet.handlers.ServletInitialHandler.handleFirstRequest(ServletInitialHandler.java:240) [undertow-servlet-1.0.0.Final.jar:1.0.0.Final]




	at io.undertow.servlet.handlers.ServletInitialHandler.dispatchRequest(ServletInitialHandler.java:227) [undertow-servlet-1.0.0.Final.jar:1.0.0.Final]




	at io.undertow.servlet.handlers.ServletInitialHandler.access$000(ServletInitialHandler.java:73) [undertow-servlet-1.0.0.Final.jar:1.0.0.Final]




	at io.undertow.servlet.handlers.ServletInitialHandler$1.handleRequest(ServletInitialHandler.java:146) [undertow-servlet-1.0.0.Final.jar:1.0.0.Final]




	at io.undertow.server.Connectors.executeRootHandler(Connectors.java:168) [undertow-core-1.0.0.Final.jar:1.0.0.Final]




	at io.undertow.server.HttpServerExchange$1.run(HttpServerExchange.java:687) [undertow-core-1.0.0.Final.jar:1.0.0.Final]




	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1145) [rt.jar:1.7.0_51]




	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:615) [rt.jar:1.7.0_51]




	at java.lang.Thread.run(Thread.java:744) [rt.jar:1.7.0_51]





</description>
			<version>8.0.0.Final</version>
			<fixedVersion>8.1.0.CR1, 8.1.0.Final</fixedVersion>
			<type>Bug</type>
		</buginformation>
		<fixedFiles>
			<file type="M">org.jboss.as.jaxrs.deployment.JaxrsComponentDeployer.java</file>
		</fixedFiles>
		<links>
			<link type="Related" description="relates to">629</link>
			<link type="Related" description="relates to">433</link>
		</links>
	</bug>
	<bug id="3112" opendate="2014-03-11 17:57:46" fixdate="2014-04-04 15:19:49" resolution="Done">
		<buginformation>
			<summary>One can&amp;apos;t change history and decay with DynamicLoadBalanceFactorProvider</summary>
			<description>
I&amp;amp;apos;m under an ugly impression that one can&amp;amp;apos;t actually change history and decay attributes of DynamicLoadBalanceFactorProvider.
I was trying to figure out why the new test suite of CustomLoadMetric tests does not pass. In order to get load figures without history and decay manipulation, I set the following:






&amp;lt;subsystem xmlns="urn:jboss:domain:modcluster:1.2"&amp;gt;




    &amp;lt;mod-cluster-config advertise-socket="modcluster" connector="ajp"&amp;gt;




    &amp;lt;dynamic-load-provider history="0"&amp;gt;




        &amp;lt;custom-load-metric class="biz.karms.modcluster.CustomLoadMetric" weight="1"&amp;gt;




            &amp;lt;property name="capacity" value="1000"/&amp;gt;




            &amp;lt;property name="loadfile" value="/tmp/mod_cluster-eapx/loadfileA"/&amp;gt;




            &amp;lt;property name="parseexpression" value="^LOAD: ([0-9]*)$"/&amp;gt;




        &amp;lt;/custom-load-metric&amp;gt;




    &amp;lt;/dynamic-load-provider&amp;gt;




    &amp;lt;/mod-cluster-config&amp;gt;




&amp;lt;/subsystem&amp;gt;






The aforementioned history=0 effectively means that there is just 1 "slot" for a one historical value on which decay function should work.
If you take a look at the code in DynamicLoadBalanceFactorProvider constructor, it is apparent
that the size of the List that later serves for storing the historical values is set sooner than the actual setHistory(int history) method is called.
The actual size of that List collection wouldn&amp;amp;apos;t do any harm by itself but it is being used in the aforementioned class with .size() to control cycles.
The same IMHO holds for the decay attribute.
Anyhow, I put some additional logging to the DynamicLoadBalanceFactorProvider.java:






// Historical value contribute an exponentially decayed factor




for (int i = 0; i &amp;lt; queue.size(); ++i) {




    double decay = 1 / Math.pow(decayFactor, i);




    totalDecay += decay;




    this.log.info("KTAG: totalLoad:"+totalLoad+", with decay:"+(totalLoad+queue.get(i).doubleValue() * decay));




    totalLoad += queue.get(i).doubleValue() * decay;




}






and






try {




    // Normalize load with respect to capacity




    this.recordLoad(metricLoadHistory, metric.getLoad(engine) / metric.getCapacity());




    this.log.info("KTAG metricLoadHistory:"+metricLoadHistory.toString());




    totalWeight += weight;




    totalWeightedLoad += this.average(metricLoadHistory) * weight;




} catch (Exception e) {




    this.log.error(e.getLocalizedMessage(), e);




}






with the following being the output: redacted_log.
So, despite having history=0, which should force the system to keep just 1, the current value, metricLoadHistory grew from






KTAG metricLoadHistory:[0.8]






to






KTAG metricLoadHistory:[0.9, 0.9, 0.9, 0.9, 0.9, 0.9, 0.9, 0.9, 0.9, 0.8]






which is exactly 9 + 1 in size 
WDYT?</description>
			<version>8.0.0.Final</version>
			<fixedVersion>8.1.0.CR1, 8.1.0.Final</fixedVersion>
			<type>Bug</type>
		</buginformation>
		<fixedFiles>
			<file type="M">org.wildfly.extension.mod_cluster.ModClusterSubsystemAdd.java</file>
		</fixedFiles>
	</bug>
	<bug id="3073" opendate="2014-03-05 20:28:06" fixdate="2014-04-04 15:37:44" resolution="Done">
		<buginformation>
			<summary>MBeanServer.createMBean methods that take a classloader don&amp;apos;t work</summary>
			<description>The MBeanServer.createMBean methods that take an "ObjectName loaderName" argument are completely broken in EAP 6.
These methods call findDelegate to make sure there is already an existing MBean registered with the given name passed in for the new MBean, or else it throws an exception.
This is obviously wrong, as there&amp;amp;apos;d be no point in calling createMBean if it already existed.
javax.management.InstanceNotFoundException: test:service=Test
at org.jboss.as.jmx.PluggableMBeanServerImpl.findDelegate(PluggableMBeanServerImpl.java:1083)
at org.jboss.as.jmx.PluggableMBeanServerImpl.createMBean(PluggableMBeanServerImpl.java:253)</description>
			<version>8.0.0.Final</version>
			<fixedVersion>8.1.0.CR1, 8.1.0.Final</fixedVersion>
			<type>Bug</type>
		</buginformation>
		<fixedFiles>
			<file type="M">org.jboss.as.jmx.PluggableMBeanServerImpl.java</file>
		</fixedFiles>
	</bug>
	<bug id="2654" opendate="2013-12-13 19:36:56" fixdate="2014-04-04 18:59:44" resolution="Done">
		<buginformation>
			<summary>The run-as identity does NOT apply to the timeout callback method of an enterprise bean</summary>
			<description>EJB 3.2 spec., 12.3.4.1 Run-as:
The run-as identity applies ... to the timeout callback methods of an enterprise bean;
Assume the following classes:






@Stateless




@RunAs("alarm")




public class Alarm {




    @EJB




    private Bell bell;




// some more logic




    @Timeout




    public void ejbTimeout(Timer timer) {




        bell.ring();




    }




}












@Stateless




@RolesAllowed("alarm")




public class Bell {




    public void ring() {}




}






When the Alarm&amp;amp;apos;s timeout callback method is invoked due to timer expiration, bell.ring(); results in






ERROR [org.jboss.as.ejb3.invocation] (EJB default - 1) JBAS014134: EJB Invocation failed on component Bell for method public void org.jboss.as.test.integration.ejb.security.timeout.Bell.ring(): javax.ejb.EJBAccessException: JBAS014502: Invocation on method: public void org.jboss.as.test.integration.ejb.security.timeout.Bell.ring() of bean: Bell is not allowed 






Calling bell.ring(); from Alarm&amp;amp;apos;s business methods works as expected (no error).
Simple test case available at: https://github.com/bafco/wildfly/tree/timeoutSecurity</description>
			<version>8.0.0.Beta1</version>
			<fixedVersion>8.1.0.CR1, 8.1.0.Final</fixedVersion>
			<type>Bug</type>
		</buginformation>
		<fixedFiles>
			<file type="M">org.jboss.as.ejb3.component.EJBComponentDescription.java</file>
			<file type="M">org.jboss.as.ejb3.security.EJBSecurityViewConfigurator.java</file>
			<file type="M">org.jboss.as.ejb3.component.singleton.SingletonComponentDescription.java</file>
		</fixedFiles>
	</bug>
	<bug id="3007" opendate="2014-02-24 17:10:18" fixdate="2014-04-05 12:25:15" resolution="Done">
		<buginformation>
			<summary>Ipv6 addresses may not be canonized properly</summary>
			<description>On an ipv6 environment we may obtain IP addresses that are not properly canonized which may lead to strange issue with http proxies since the JDK ProxySelector relies on char per char matching.
All call to InetAddress.getHostName() may produce such an uncanonized address.</description>
			<version>8.0.0.Final</version>
			<fixedVersion>8.1.0.CR1, 8.1.0.Final</fixedVersion>
			<type>Bug</type>
		</buginformation>
		<fixedFiles>
			<file type="M">org.jboss.as.test.integration.ejb.remote.common.EJBManagementUtil.java</file>
			<file type="M">org.jboss.as.mail.extension.SessionProviderFactory.java</file>
			<file type="M">org.jboss.as.server.services.net.SpecifiedInterfaceResolveHandler.java</file>
			<file type="M">org.jboss.as.host.controller.HostControllerEnvironment.java</file>
			<file type="M">org.jboss.as.controller.interfaces.InetAddressUtil.java</file>
			<file type="M">org.jboss.as.test.manualmode.ws.ReloadWSDLPublisherTestCase.java</file>
			<file type="M">org.jboss.as.messaging.HornetQService.java</file>
			<file type="M">org.jboss.as.controller.audit.SyslogAuditLogHandler.java</file>
			<file type="M">org.jboss.as.test.integration.management.api.SocketsAndInterfacesTestCase.java</file>
			<file type="M">org.jboss.as.server.services.net.NetworkInterfaceRuntimeHandler.java</file>
			<file type="M">org.jboss.as.server.DomainServerCommunicationServices.java</file>
			<file type="M">org.jboss.as.network.NetworkUtils.java</file>
			<file type="M">org.jboss.as.server.ServerEnvironment.java</file>
			<file type="M">org.jboss.as.core.model.test.standalone.root.StandaloneRootResourceTestCase.java</file>
			<file type="M">org.jboss.as.domain.management.security.auditlog.AbstractAuditLogHandlerTestCase.java</file>
			<file type="M">org.jboss.as.server.services.net.BindingMetricHandlers.java</file>
		</fixedFiles>
	</bug>
	<bug id="3016" opendate="2014-02-25 18:53:54" fixdate="2014-04-05 12:26:32" resolution="Done">
		<buginformation>
			<summary>Prevent NullPointerException in JDR CommandLineMain</summary>
			<description></description>
			<version>8.0.0.Final</version>
			<fixedVersion>8.1.0.CR1, 8.1.0.Final</fixedVersion>
			<type>Bug</type>
		</buginformation>
		<fixedFiles>
			<file type="M">org.jboss.as.jdr.CommandLineMain.java</file>
		</fixedFiles>
	</bug>
	<bug id="3124" opendate="2014-03-17 14:47:46" fixdate="2014-04-05 12:28:35" resolution="Done">
		<buginformation>
			<summary>JXM PluggableMBeanServerImpl assumes RealmUser principal</summary>
			<description>JXM PluggableMBeanServerImpl$LogAction assumes that RealmUser principal is present when Subject is not null. This condition is not always met and results into following exception:






Caused by: java.util.NoSuchElementException




        at java.util.HashMap$HashIterator.nextEntry(HashMap.java:929)




        at java.util.HashMap$KeyIterator.next(HashMap.java:960)




        at org.jboss.as.jmx.PluggableMBeanServerImpl$LogAction.getCallerUserId(PluggableMBeanServerImpl.java:1250)




        at org.jboss.as.jmx.PluggableMBeanServerImpl$LogAction.doLog(PluggableMBeanServerImpl.java:1233)




        at org.jboss.as.jmx.PluggableMBeanServerImpl.log(PluggableMBeanServerImpl.java:1158)




        at org.jboss.as.jmx.MBeanServerAuditLogRecordFormatter.log(MBeanServerAuditLogRecordFormatter.java:331)




        at org.jboss.as.jmx.MBeanServerAuditLogRecordFormatter.queryNames(MBeanServerAuditLogRecordFormatter.java:170)




        at org.jboss.as.jmx.PluggableMBeanServerImpl.queryNames(PluggableMBeanServerImpl.java:871)




        at org.infinispan.jmx.JmxUtil.findJmxDomain(JmxUtil.java:127)










</description>
			<version>8.0.0.Final</version>
			<fixedVersion>8.1.0.CR1, 8.1.0.Final</fixedVersion>
			<type>Bug</type>
		</buginformation>
		<fixedFiles>
			<file type="M">org.jboss.as.jmx.PluggableMBeanServerImpl.java</file>
		</fixedFiles>
	</bug>
	<bug id="3147" opendate="2014-03-21 10:56:16" fixdate="2014-04-05 12:29:34" resolution="Done">
		<buginformation>
			<summary>spec-descriptor-property-replacement causes NPE while parsing exclude element in beans.xml</summary>
			<description>A CDI Bean Archive with a beans.xml which contains beans/scan/exclude XML element causes NullPointerExcpetion during deployment on server with enabled &amp;lt;spec-descriptor-property-replacement&amp;gt; parameter in server&amp;amp;apos;s standalone.xml.
The error stack trace is:






2014-03-21 11:22:52,455 ERROR [org.jboss.msc.service.fail] (MSC service thread 1-11) MSC000001: Failed to start service jboss.deployment.subunit."example.ear"."example-ejb.jar".PARSE: org.jboss.msc.service.StartException in service jboss.deployment.subunit."example.ear"."example-ejb.jar".PARSE: JBAS018733: Failed to process phase PARSE of subdeployment "example-ejb.jar" of deployment "example.ear"




	at org.jboss.as.server.deployment.DeploymentUnitPhaseService.start(DeploymentUnitPhaseService.java:166) [wildfly-server-8.0.0.Final.jar:8.0.0.Final]




	at org.jboss.msc.service.ServiceControllerImpl$StartTask.startService(ServiceControllerImpl.java:1948) [jboss-msc-1.2.0.Final.jar:1.2.0.Final]




	at org.jboss.msc.service.ServiceControllerImpl$StartTask.run(ServiceControllerImpl.java:1881) [jboss-msc-1.2.0.Final.jar:1.2.0.Final]




	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1145) [rt.jar:1.7.0_45]




	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:615) [rt.jar:1.7.0_45]




	at java.lang.Thread.run(Thread.java:744) [rt.jar:1.7.0_45]




Caused by: org.jboss.as.server.deployment.DeploymentUnitProcessingException: java.lang.NullPointerException




	at org.jboss.as.weld.deployment.processors.BeansXmlProcessor.parseBeansXml(BeansXmlProcessor.java:140)




	at org.jboss.as.weld.deployment.processors.BeansXmlProcessor.deploy(BeansXmlProcessor.java:117)




	at org.jboss.as.server.deployment.DeploymentUnitPhaseService.start(DeploymentUnitPhaseService.java:159) [wildfly-server-8.0.0.Final.jar:8.0.0.Final]




	... 5 more




Caused by: java.lang.NullPointerException




	at org.jboss.metadata.property.DefaultPropertyReplacer.replaceProperties(DefaultPropertyReplacer.java:52)




	at org.jboss.as.weld.deployment.PropertyReplacingBeansXmlHandler.interpolate(PropertyReplacingBeansXmlHandler.java:64)




	at org.jboss.weld.xml.BeansXmlHandler$4.processStartChildElement(BeansXmlHandler.java:229)




	at org.jboss.weld.xml.BeansXmlHandler.startElement(BeansXmlHandler.java:297)




	at org.apache.xerces.parsers.AbstractSAXParser.startElement(Unknown Source)




	at org.apache.xerces.parsers.AbstractXMLDocumentParser.emptyElement(Unknown Source)




	at org.apache.xerces.impl.xs.XMLSchemaValidator.emptyElement(Unknown Source)




	at org.apache.xerces.impl.XMLNSDocumentScannerImpl.scanStartElement(Unknown Source)




	at org.apache.xerces.impl.XMLDocumentFragmentScannerImpl$FragmentContentDispatcher.dispatch(Unknown Source)




	at org.apache.xerces.impl.XMLDocumentFragmentScannerImpl.scanDocument(Unknown Source)




	at org.apache.xerces.parsers.XML11Configuration.parse(Unknown Source)




	at org.apache.xerces.parsers.XML11Configuration.parse(Unknown Source)




	at org.apache.xerces.parsers.XMLParser.parse(Unknown Source)




	at org.apache.xerces.parsers.AbstractSAXParser.parse(Unknown Source)




	at org.apache.xerces.jaxp.SAXParserImpl$JAXPSAXParser.parse(Unknown Source)




	at org.apache.xerces.jaxp.SAXParserImpl.parse(Unknown Source)




	at org.jboss.weld.xml.BeansXmlParser.parse(BeansXmlParser.java:93)




	at org.jboss.as.weld.deployment.processors.BeansXmlProcessor.parseBeansXml(BeansXmlProcessor.java:136)




	... 7 more










</description>
			<version>8.0.0.Final</version>
			<fixedVersion>8.1.0.CR1, 8.1.0.Final</fixedVersion>
			<type>Bug</type>
		</buginformation>
		<fixedFiles>
			<file type="M">org.jboss.as.weld.deployment.PropertyReplacingBeansXmlHandler.java</file>
		</fixedFiles>
		<links>
			<link type="Dependency" description="is blocked by">3186</link>
			<link type="Related" description="relates to">1628</link>
		</links>
	</bug>
	<bug id="3192" opendate="2014-03-31 13:32:03" fixdate="2014-04-05 12:30:34" resolution="Done">
		<buginformation>
			<summary>AroundInvokeAnnotationParsingProcessor should fail when more methods with @AroundInvoke annotation are found in the class</summary>
			<description>
AroundInvokeAnnotationParsingProcessor should fail when more methods with @AroundInvoke annotation is found in the class.
The specification says:
A class must not declare more than one AroundInvoke method.
The JBoss AS allows more such methods and then it chooses one of them which is used as the interceptor.
It becomes even more important to check the interceptor validity now with the new feature introduced by AS7-5897 (server side non-EE interceptors for EE invocations).
</description>
			<version>8.0.0.Final</version>
			<fixedVersion>8.1.0.CR1, 8.1.0.Final</fixedVersion>
			<type>Bug</type>
		</buginformation>
		<fixedFiles>
			<file type="M">org.jboss.as.ee.component.deployers.AroundInvokeAnnotationParsingProcessor.java</file>
			<file type="M">org.jboss.as.ee.EeMessages.java</file>
			<file type="M">org.jboss.as.test.integration.ejb.container.interceptor.ContainerInterceptorsTestCase.java</file>
		</fixedFiles>
	</bug>
	<bug id="3198" opendate="2014-04-01 14:23:40" fixdate="2014-04-05 12:31:03" resolution="Done">
		<buginformation>
			<summary>Reenabling an application prevents it from deployement after a restart</summary>
			<description>After disabling and then re-enabling the application, I don&amp;amp;apos;t see Application.war.deployed; I still see Application.war.undeployed.
That explains why it doesn&amp;amp;apos;t get deployed after restart.</description>
			<version>8.0.0.Final</version>
			<fixedVersion>8.1.0.CR1, 8.1.0.Final</fixedVersion>
			<type>Bug</type>
		</buginformation>
		<fixedFiles>
			<file type="M">org.jboss.as.server.deployment.scanner.FileSystemDeploymentService.java</file>
			<file type="M">org.jboss.as.server.deployment.scanner.FileSystemDeploymentServiceUnitTestCase.java</file>
		</fixedFiles>
		<links>
			<link type="Related" description="is related to">3305</link>
		</links>
	</bug>
	<bug id="3194" opendate="2014-03-31 14:00:55" fixdate="2014-04-05 12:32:39" resolution="Done">
		<buginformation>
			<summary>ApplicationClient container can not use a declarative method to activate EJBClientInterceptors</summary>
			<description>With the java services approach it is possible to add a client side interceptor by adding the services file META-INF/services/org.jboss.ejb.client.EJBClientInterceptor to activate the interceptor if the class is accessable.
The file must be added to the client.jar in case of a simple standalone client.
And to the ejb.jar if the interceptor is used inside a server application.
For the appclient I expect that add this file to 
  EAR/client.jar/META-INF/services
will do the same.
Nevertheless adding the file to ear/META_INF ear/ejb.jar/META-INF do not woth either.
Also adding the class to the client.jar, as ear module or as server module with dependency did not work.
All theses Interceptors can be used if the client Main method add this with the JBoss API.
A working example can be found here 
https://github.com/wfink/jboss-eap-quickstarts/tree/application-client/app-client
For the example with the services approach try
https://github.com/wfink/jboss-eap-quickstarts/tree/application-client-withServices/app-client</description>
			<version>8.0.0.Final</version>
			<fixedVersion>8.1.0.CR1, 8.1.0.Final</fixedVersion>
			<type>Bug</type>
		</buginformation>
		<fixedFiles>
			<file type="M">org.jboss.as.appclient.service.LazyConnectionContextSelector.java</file>
			<file type="M">org.jboss.as.appclient.service.ApplicationClientStartService.java</file>
		</fixedFiles>
	</bug>
	<bug id="3099" opendate="2014-03-11 11:42:51" fixdate="2014-04-05 12:33:09" resolution="Done">
		<buginformation>
			<summary>management authorization throws an exception when an LDAP group contains a slash/backslash character</summary>
			<description>management authorization throws an exception when an LDAP group contains a slash/backslash character</description>
			<version>8.0.0.Final</version>
			<fixedVersion>8.1.0.CR1, 8.1.0.Final</fixedVersion>
			<type>Bug</type>
		</buginformation>
		<fixedFiles>
			<file type="M">org.jboss.as.domain.management.security.LdapGroupSearcherFactory.java</file>
		</fixedFiles>
	</bug>
	<bug id="2783" opendate="2014-01-21 11:33:13" fixdate="2014-04-05 17:22:46" resolution="Done">
		<buginformation>
			<summary>EmbeddedContainerConfiguration does not validate correctly</summary>
			<description>I experimented a bit with arquillian and the embedded wildfly container.
However, durinng startup I am getting this exception: 






    java.lang.RuntimeException: JBAS011137: Cannot load module org.jboss.vfs from: local module loader @3a55b9b (finder: local module finder @5d211efb (roots: /home/username/dev/arquillian-tutorial/null/modules))






So I took a deeper look at class 
org.jboss.as.arquillian.container.embedded.EmbeddedContainerConfiguration located in "wildfly/arquillian/embedded"
The validate method there seems to have a validation problem:






@Override




    public void validate() throws ConfigurationException {




        super.validate();




        Validate.configurationDirectoryExists(jbossHome, "jbossHome &amp;amp;apos;" + jbossHome + "&amp;amp;apos; must exist");




        Validate.configurationDirectoryExists(jbossHome, "modulePath &amp;amp;apos;" + modulePath + "&amp;amp;apos; must exist");




        Validate.configurationDirectoryExists(jbossHome, "bundlePath &amp;amp;apos;" + bundlePath + "&amp;amp;apos; must exist");




    }






It checks jbossHome three times. But I assume it should check jbossHome, bundleHome and moduleHome instead.
I am not sure if the Exception and the validation-implementation are associated with each other in any way, but the validate() method looks wrong to me 
</description>
			<version>8.0.0.CR1</version>
			<fixedVersion>8.1.0.CR1, 8.1.0.Final</fixedVersion>
			<type>Bug</type>
		</buginformation>
		<fixedFiles>
			<file type="M">org.jboss.as.arquillian.container.embedded.EmbeddedContainerConfigurationTestCase.java</file>
			<file type="M">org.jboss.as.arquillian.container.embedded.EmbeddedContainerConfiguration.java</file>
		</fixedFiles>
	</bug>
	<bug id="2920" opendate="2014-02-13 05:25:21" fixdate="2014-04-08 05:45:26" resolution="Done">
		<buginformation>
			<summary>StackOverflowError when org.jboss.as.jacorb.rmi.InterfaceAnalysis is analyzing javax.ejb.EJBObject</summary>
			<description>Depending on when a thread context switch happens, an IIOP enabled EJB fails to be deployed by throwing java.lang.StackOverflowError.  Here is the stack trace from the attached thread dump.






"MSC service thread 1-7" prio=10 tid=0x00007f52e8001800 nid=0x4d12 at breakpoint[0x00007f534093f000]




   java.lang.Thread.State: RUNNABLE




        at org.jboss.as.jacorb.rmi.WorkCacheManager.getAnalysis(WorkCacheManager.java:105)




        at org.jboss.as.jacorb.rmi.InterfaceAnalysis.getInterfaceAnalysis(InterfaceAnalysis.java:53)




        at org.jboss.as.jacorb.rmi.Util.getTypeIDLName(Util.java:104)




        at org.jboss.as.jacorb.rmi.ParameterAnalysis.&amp;lt;init&amp;gt;(ParameterAnalysis.java:50)




        at org.jboss.as.jacorb.rmi.OperationAnalysis.&amp;lt;init&amp;gt;(OperationAnalysis.java:91)




        at org.jboss.as.jacorb.rmi.InterfaceAnalysis.analyzeOperations(InterfaceAnalysis.java:116)




        at org.jboss.as.jacorb.rmi.ContainerAnalysis.doAnalyze(ContainerAnalysis.java:186)




        at org.jboss.as.jacorb.rmi.InterfaceAnalysis.doAnalyze(InterfaceAnalysis.java:62)




        at sun.reflect.GeneratedMethodAccessor3.invoke(Unknown Source)




        at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)




        at java.lang.reflect.Method.invoke(Method.java:606)




        at org.jboss.as.jacorb.rmi.WorkCacheManager.doTheWork(WorkCacheManager.java:177)




        at org.jboss.as.jacorb.rmi.WorkCacheManager.getAnalysis(WorkCacheManager.java:105)




        at org.jboss.as.jacorb.rmi.InterfaceAnalysis.getInterfaceAnalysis(InterfaceAnalysis.java:53)




        at org.jboss.as.jacorb.rmi.Util.getTypeIDLName(Util.java:104)




        at org.jboss.as.jacorb.rmi.ParameterAnalysis.&amp;lt;init&amp;gt;(ParameterAnalysis.java:50)




        at org.jboss.as.jacorb.rmi.OperationAnalysis.&amp;lt;init&amp;gt;(OperationAnalysis.java:91)




        at org.jboss.as.jacorb.rmi.InterfaceAnalysis.analyzeOperations(InterfaceAnalysis.java:116)




        at org.jboss.as.jacorb.rmi.ContainerAnalysis.doAnalyze(ContainerAnalysis.java:186)




        at org.jboss.as.jacorb.rmi.InterfaceAnalysis.doAnalyze(InterfaceAnalysis.java:62)




        at sun.reflect.GeneratedMethodAccessor3.invoke(Unknown Source)




        at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)




        at java.lang.reflect.Method.invoke(Method.java:606)




        ...




        at org.jboss.as.jacorb.rmi.WorkCacheManager.doTheWork(WorkCacheManager.java:177)




        at org.jboss.as.jacorb.rmi.WorkCacheManager.getAnalysis(WorkCacheManager.java:105)




        at org.jboss.as.jacorb.rmi.InterfaceAnalysis.getInterfaceAnalysis(InterfaceAnalysis.java:53)




        at org.jboss.as.jacorb.rmi.Util.getTypeIDLName(Util.java:104)




        at org.jboss.as.jacorb.rmi.ParameterAnalysis.&amp;lt;init&amp;gt;(ParameterAnalysis.java:50)









   Locked ownable synchronizers:




        - &amp;lt;0x00000000f9698790&amp;gt; (a java.util.concurrent.ThreadPoolExecutor$Worker)






The last part including Util.getTypeIDLName has been repeated as many as possible and the bottom of the stack has been lost.  The same stack has been appeared in a different MSC service thread which is also executing an IIOP enabled EJB deployment.
The customer identified an improper synchronization in org.jboss.as.jacorb.rmi.WorkCacheManager#getAnalysis().  It is reproducible by manually controlling a thread context switch using a debugger.</description>
			<version>8.0.0.Final</version>
			<fixedVersion>8.1.0.CR1, 8.1.0.Final</fixedVersion>
			<type>Bug</type>
		</buginformation>
		<fixedFiles>
			<file type="M">org.jboss.as.jacorb.rmi.WorkCacheManager.java</file>
		</fixedFiles>
	</bug>
	<bug id="3020" opendate="2014-02-26 02:12:03" fixdate="2014-04-08 21:45:30" resolution="Done">
		<buginformation>
			<summary>LogStoreProbeHandler overwrites the LogStoreResource root model</summary>
			<description>LogStoreProbeHandler replaces the &amp;amp;apos;delegate&amp;amp;apos; held by LogStoreResource. Doing this removes any data from the existing delegate&amp;amp;apos;s &amp;amp;apos;model&amp;amp;apos; field, i.e. the "type" attribute.</description>
			<version>8.0.0.Final</version>
			<fixedVersion>8.1.0.CR1, 8.1.0.Final</fixedVersion>
			<type>Bug</type>
		</buginformation>
		<fixedFiles>
			<file type="M">org.jboss.as.txn.subsystem.LogStoreProbeHandler.java</file>
		</fixedFiles>
	</bug>
	<bug id="3047" opendate="2014-02-28 18:19:41" fixdate="2014-04-08 21:45:47" resolution="Done">
		<buginformation>
			<summary>DomainSlaveHandler and OperationSlaveStepHandler place DOMAIN_CONTROLLER_LOCK_ID in wrong spot</summary>
			<description>This field should be part of an op&amp;amp;apos;s operation-headers map, but these classes place it or look for it in the root of the op.</description>
			<version>8.0.0.Final</version>
			<fixedVersion>8.1.0.CR1, 8.1.0.Final</fixedVersion>
			<type>Bug</type>
		</buginformation>
		<fixedFiles>
			<file type="M">org.jboss.as.domain.controller.operations.coordination.DomainSlaveHandler.java</file>
			<file type="M">org.jboss.as.domain.controller.operations.coordination.OperationSlaveStepHandler.java</file>
		</fixedFiles>
	</bug>
	<bug id="2891" opendate="2014-02-10 12:43:15" fixdate="2014-04-08 21:46:11" resolution="Done">
		<buginformation>
			<summary>Not authorised write operation does not get audit logged if log-read-only="false"</summary>
			<description>This is because audit logging uses the controller lock to find out if the model was a write operation. If rbac is enabled and an operation is not authorised, the error happens before the controller lock is taken. So if audit log log-read-only="false" the failed operation does not get logged.</description>
			<version>8.0.0.CR1</version>
			<fixedVersion>8.1.0.CR1, 8.1.0.Final</fixedVersion>
			<type>Bug</type>
		</buginformation>
		<fixedFiles>
			<file type="M">org.jboss.as.controller.ReadOnlyContext.java</file>
			<file type="M">org.jboss.as.controller.ParallelBootOperationContext.java</file>
			<file type="M">org.jboss.as.controller.OperationContextImpl.java</file>
			<file type="M">org.jboss.as.controller.AbstractOperationContext.java</file>
		</fixedFiles>
	</bug>
	<bug id="3017" opendate="2014-02-25 21:42:15" fixdate="2014-04-08 21:47:00" resolution="Done">
		<buginformation>
			<summary>OperationContextImpl.readResourceForUpdate assumes all resources represent persistent config</summary>
			<description>The readResourceForUpdate impl makes a few assumptions regarding the fact that a given Resource represents persistent config (i.e. Resource.isRuntime() == true):
1) It calls rejectUserDomainServerUpdates() which means an OSH running on a server could not call this.
2) It calls authorize(false, READ_WRITE_CONFIG) which means an OSH for an op available to the RBAC Operator role could not call this.
Places this impacts include LogStoreProbeHandler and LogStoreTransactionDeleteHandler which should be calling readResourceForUpdate but aren&amp;amp;apos;t  and can&amp;amp;apos;t because of this bug.</description>
			<version>8.0.0.Final</version>
			<fixedVersion>8.1.0.CR1, 8.1.0.Final</fixedVersion>
			<type>Bug</type>
		</buginformation>
		<fixedFiles>
			<file type="M">org.jboss.as.txn.subsystem.LogStoreTransactionDeleteHandler.java</file>
			<file type="M">org.jboss.as.controller.OperationContextImpl.java</file>
		</fixedFiles>
	</bug>
	<bug id="2997" opendate="2014-02-21 22:38:25" fixdate="2014-04-08 21:47:36" resolution="Done">
		<buginformation>
			<summary>AccessAuditContext domainUUID is not set when the domain-uuid header is set</summary>
			<description>org.jboss.as.domain.controller.operations.coordination.PrepareStepHandler creates a UUID and sets "operations-headers" =&amp;gt; "domain-uuid" on the op, but it does not pass the same UUID to AccessAuditContext. The result is the  log record has null in the domainUUID field but the operation headers part of the "ops" field shows the uuid. Confusing.</description>
			<version>8.0.0.Final</version>
			<fixedVersion>8.1.0.CR1, 8.1.0.Final</fixedVersion>
			<type>Bug</type>
		</buginformation>
		<fixedFiles>
			<file type="M">org.jboss.as.domain.controller.operations.coordination.OperationCoordinatorStepHandler.java</file>
			<file type="M">org.jboss.as.domain.controller.operations.coordination.PrepareStepHandler.java</file>
			<file type="M">org.jboss.as.test.integration.domain.suites.AuditLogTestCase.java</file>
		</fixedFiles>
	</bug>
	<bug id="3011" opendate="2014-02-24 23:03:11" fixdate="2014-04-08 21:48:04" resolution="Done">
		<buginformation>
			<summary>Management audit logging logs mutated operations</summary>
			<description>OperationContextImpl caches operation ModelNodes for later logging, but it does not clone them first. As a result, the ModelNodes get mutated during op execution (e.g. headers can be added) and the log record shows that mutated state instead of the original user input. That can be misleading.</description>
			<version>8.0.0.Final</version>
			<fixedVersion>8.1.0.CR1, 8.1.0.Final</fixedVersion>
			<type>Bug</type>
		</buginformation>
		<fixedFiles>
			<file type="M">org.jboss.as.domain.management.security.auditlog.AbstractAuditLogHandlerTestCase.java</file>
			<file type="M">org.jboss.as.controller.AbstractOperationContext.java</file>
		</fixedFiles>
	</bug>
	<bug id="3076" opendate="2014-03-06 23:13:21" fixdate="2014-04-08 21:49:56" resolution="Done">
		<buginformation>
			<summary>ModelControllerMBeanHelper constructor invokes unnecessary management op</summary>
			<description>ModelControllerMBeanHelper is invoking a read-attribute management op in its constructor to find out of the process is a standalone server. This is not necessary  JmxSubsystemAdd can find this out from the OperationContext and pass this information through to the ModelControllerMBeanHelper it indirectly creates.</description>
			<version>8.0.0.Final</version>
			<fixedVersion>8.1.0.CR1, 8.1.0.Final</fixedVersion>
			<type>Bug</type>
		</buginformation>
		<fixedFiles>
			<file type="M">org.jboss.as.jmx.model.ModelControllerMBeanHelper.java</file>
			<file type="M">org.jboss.as.jmx.JMXSubsystemAdd.java</file>
			<file type="M">org.jboss.as.jmx.auditlog.JmxAuditLogHandlerTestCase.java</file>
			<file type="M">org.jboss.as.jmx.MBeanServerService.java</file>
			<file type="M">org.jboss.as.jmx.model.ModelControllerMBeanServerPlugin.java</file>
			<file type="M">org.jboss.as.jmx.ModelControllerMBeanTestCase.java</file>
			<file type="M">org.jboss.as.jmx.rbac.JmxFacadeRbacEnabledTestCase.java</file>
		</fixedFiles>
	</bug>
	<bug id="3218" opendate="2014-04-04 12:31:49" fixdate="2014-04-08 21:57:22" resolution="Done">
		<buginformation>
			<summary>Module for MySQL JDBC driver with version 5.1.30+ needs &lt;driver-class&gt; in standalone.xml</summary>
			<description>See forum thread https://community.jboss.org/message/866635</description>
			<version>8.0.0.Final</version>
			<fixedVersion>8.1.0.CR1, 8.1.0.Final</fixedVersion>
			<type>Bug</type>
		</buginformation>
		<fixedFiles>
			<file type="M">org.jboss.as.connector.subsystems.datasources.JdbcDriverAdd.java</file>
		</fixedFiles>
	</bug>
	<bug id="3240" opendate="2014-04-10 08:39:03" fixdate="2014-04-12 21:03:08" resolution="Done">
		<buginformation>
			<summary>Implement workaround for WFLY-3044 without requiring a spec maintenance release</summary>
			<description>We  can do this ourselves by:

fixing implementation part in Mojarra fork
using weld portable extensions to modify the annontation metadata

</description>
			<version>8.0.0.Final</version>
			<fixedVersion>8.1.0.CR1, 8.1.0.Final</fixedVersion>
			<type>Bug</type>
		</buginformation>
		<fixedFiles>
			<file type="M">org.jboss.as.test.integration.weld.deployment.scopes.ViewScopedBean.java</file>
			<file type="M">org.jboss.as.server.deployment.Phase.java</file>
			<file type="M">org.jboss.as.jsf.subsystem.JSFSubsystemAdd.java</file>
		</fixedFiles>
		<links>
			<link type="Related" description="relates to">3044</link>
			<link type="Related" description="relates to">3243</link>
		</links>
	</bug>
	<bug id="2912" opendate="2014-02-12 10:59:39" fixdate="2014-04-13 21:25:27" resolution="Done">
		<buginformation>
			<summary>Generic JMS adapter does not deploy correctly in domain mode.</summary>
			<description>When trying to use generic resource adapter with third part JMS providers like TIBCO it is necessary to use generic RA provided in JBoss EAP 6.2. Unfortunately it would appear that when trying to use in domain mode the RA does not get deployed full, though it works perfectly in standalone mode.</description>
			<version>8.0.0.Final</version>
			<fixedVersion>8.1.0.CR1, 8.1.0.Final</fixedVersion>
			<type>Bug</type>
		</buginformation>
		<fixedFiles>
			<file type="M">org.jboss.as.test.integration.jca.moduledeployment.AbstractModuleDeploymentTestCaseSetup.java</file>
			<file type="M">org.jboss.as.connector.subsystems.resourceadapters.ResourceAdapterParser.java</file>
			<file type="M">org.jboss.as.connector.subsystems.resourceadapters.RaAdd.java</file>
		</fixedFiles>
	</bug>
	<bug id="3203" opendate="2014-04-01 21:14:33" fixdate="2014-04-14 01:32:49" resolution="Done">
		<buginformation>
			<summary>Inconsistent handling of @Resource for URL in EJB vs JSF managed bean</summary>
			<description>Given a set of simple jndi bindings like the following:






        &amp;lt;subsystem xmlns="urn:jboss:domain:naming:2.0"&amp;gt;




            &amp;lt;bindings&amp;gt;




                &amp;lt;simple name="java:global/NSPDomain" value="domain" type="java.lang.String"/&amp;gt;




                &amp;lt;simple name="java:global/NSPURL" value="http://red-hat-summit.cloudapp.net:8081/" type="java.net.URL"/&amp;gt;




                &amp;lt;simple name="java:global/NotificationCallbackURL" value="http://dmz.starkinternational.com:8080/iotbof-web/rest/events/send" type="java.net.URL"/&amp;gt;




            &amp;lt;/bindings&amp;gt;




            &amp;lt;remote-naming/&amp;gt;




        &amp;lt;/subsystem&amp;gt;






The following works from an EJB:






import javax.ejb.Singleton;




import javax.ejb.Startup;









@Singleton




@Startup




public class NSPConnector {




...




   @Resource(name = "java:global/NotificationCallbackURL")




   private URL notificationURL;






but fails with a NameNotFoundException when used from within a JSF managed bean.






import javax.enterprise.context.ApplicationScoped;




import javax.inject.Named;









@Named("nspmodel")




@ApplicationScoped




public class NSPModel {




   private static Logger logger = Logger.getLogger(NSPModel.class);




   @Resource(name = "java:global/NotificationCallbackURL")




   private URL notificationURL;






Has the following error when accessed:






Caused by: javax.naming.NameNotFoundException: env/java:global/NotificationCallbackURL -- service jboss.naming.context.java.module.iot-ear.iotbof-web.env.java:global.NotificationCallbackURL




	at org.jboss.as.naming.ServiceBasedNamingStore.lookup(ServiceBasedNamingStore.java:104) [wildfly-naming-8.0.0.Final.jar:8.0.0.Final]




	at org.jboss.as.naming.NamingContext.lookup(NamingContext.java:202) [wildfly-naming-8.0.0.Final.jar:8.0.0.Final]




	at org.jboss.as.naming.NamingContext.lookup(NamingContext.java:179) [wildfly-naming-8.0.0.Final.jar:8.0.0.Final]




	at org.jboss.as.naming.InitialContext$DefaultInitialContext.lookup(InitialContext.java:235) [wildfly-naming-8.0.0.Final.jar:8.0.0.Final]




	at org.jboss.as.naming.NamingContext.lookup(NamingContext.java:188) [wildfly-naming-8.0.0.Final.jar:8.0.0.Final]




	at org.jboss.as.naming.NamingContext.lookup(NamingContext.java:184) [wildfly-naming-8.0.0.Final.jar:8.0.0.Final]




	at javax.naming.InitialContext.lookup(InitialContext.java:417) [rt.jar:1.8.0]




	at javax.naming.InitialContext.lookup(InitialContext.java:417) [rt.jar:1.8.0]




	at org.jboss.as.weld.services.bootstrap.WeldResourceInjectionServices.resolveResource(WeldResourceInjectionServices.java:185) [wildfly-weld-8.0.0.Final.jar:8.0.0.Final]




	... 71 more





</description>
			<version>8.0.0.Final</version>
			<fixedVersion>8.1.0.CR1, 8.1.0.Final</fixedVersion>
			<type>Bug</type>
		</buginformation>
		<fixedFiles>
			<file type="M">org.jboss.as.test.integration.weld.jndi.WeldJndiLookupTestCase.java</file>
			<file type="M">org.jboss.as.weld.util.ResourceInjectionUtilities.java</file>
		</fixedFiles>
	</bug>
	<bug id="3092" opendate="2014-03-08 23:56:25" fixdate="2014-04-15 16:29:32" resolution="Done">
		<buginformation>
			<summary>ServerUpdateResultHandler does nothing</summary>
			<description>The domain op rollout logic&amp;amp;apos;s AbstractServerUpdateTask.ServerUpdateResultHandler interface is serving no purpose and should be removed. It&amp;amp;apos;s cruft left from earlier implementations.
The only impl stores data in a map that never gets read. </description>
			<version>8.0.0.Final</version>
			<fixedVersion>8.1.0.CR1, 8.1.0.Final</fixedVersion>
			<type>Bug</type>
		</buginformation>
		<fixedFiles>
			<file type="M">org.jboss.as.domain.controller.plan.RollingServerGroupUpdateTask.java</file>
			<file type="M">org.jboss.as.domain.controller.plan.ServerUpdateTask.java</file>
			<file type="M">org.jboss.as.domain.controller.plan.RolloutPlanController.java</file>
			<file type="M">org.jboss.as.domain.controller.plan.AbstractServerGroupRolloutTask.java</file>
			<file type="M">org.jboss.as.domain.controller.plan.ServerRestartTask.java</file>
			<file type="M">org.jboss.as.domain.controller.plan.RunningServerUpdateTask.java</file>
			<file type="M">org.jboss.as.domain.controller.plan.ConcurrentServerGroupUpdateTask.java</file>
		</fixedFiles>
	</bug>
	<bug id="3241" opendate="2014-04-10 09:41:33" fixdate="2014-04-17 07:53:19" resolution="Done">
		<buginformation>
			<summary>KDC server does not bind to correct address</summary>
			<description></description>
			<version>8.1.0.CR1</version>
			<fixedVersion></fixedVersion>
			<type>Bug</type>
		</buginformation>
		<fixedFiles>
			<file type="M">org.jboss.as.test.integration.security.loginmodules.negotiation.AdvancedLdapLoginModuleTestCase.java</file>
			<file type="M">org.jboss.as.test.integration.security.picketlink.KerberosServerSetupTask.java</file>
			<file type="M">org.jboss.as.test.integration.security.loginmodules.negotiation.SPNEGOLoginModuleTestCase.java</file>
			<file type="M">org.jboss.as.test.integration.security.common.KDCServerAnnotationProcessor.java</file>
		</fixedFiles>
	</bug>
	<bug id="2656" opendate="2013-12-16 04:44:45" fixdate="2014-04-21 16:25:23" resolution="Done">
		<buginformation>
			<summary>ejb3 2.0 schema still has clustered-cache-ref but parser throws JBAS014788: Unexpected attribute</summary>
			<description>





ERROR [org.jboss.as.server] (Controller Boot Thread) JBAS015956: Caught exception during boot: org.jboss.as.controller.persistence.ConfigurationPersistenceException: JBAS014676: Failed to parse configuration




        at org.jboss.as.controller.persistence.XmlConfigurationPersister.load(XmlConfigurationPersister.java:112) [wildfly-controller-8.0.0.Beta2-SNAPSHOT.jar:8.0.0.Beta2-SNAPSHOT]




        at org.jboss.as.server.ServerService.boot(ServerService.java:331) [wildfly-server-8.0.0.Beta2-SNAPSHOT.jar:8.0.0.Beta2-SNAPSHOT]




        at org.jboss.as.controller.AbstractControllerService$1.run(AbstractControllerService.java:256) [wildfly-controller-8.0.0.Beta2-SNAPSHOT.jar:8.0.0.Beta2-SNAPSHOT]




        at java.lang.Thread.run(Thread.java:744) [rt.jar:1.7.0_45]




Caused by: javax.xml.stream.XMLStreamException: ParseError at [row,col]:[224,17]




Message: JBAS014788: Unexpected attribute &amp;amp;apos;clustered-cache-ref&amp;amp;apos; encountered




        at org.jboss.as.controller.parsing.ParseUtils.unexpectedAttribute(ParseUtils.java:104) [wildfly-controller-8.0.0.Beta2-SNAPSHOT.jar:8.0.0.Beta2-SNAPSHOT]




        at org.jboss.as.ejb3.subsystem.EJB3Subsystem20Parser.parseStatefulBean(EJB3Subsystem20Parser.java:126)




        at org.jboss.as.ejb3.subsystem.EJB3Subsystem12Parser.parseSessionBean(EJB3Subsystem12Parser.java:309)




        at org.jboss.as.ejb3.subsystem.EJB3Subsystem12Parser.readElement(EJB3Subsystem12Parser.java:146)




        at org.jboss.as.ejb3.subsystem.EJB3Subsystem13Parser.readElement(EJB3Subsystem13Parser.java:68)




        at org.jboss.as.ejb3.subsystem.EJB3Subsystem14Parser.readElement(EJB3Subsystem14Parser.java:60)




        at org.jboss.as.ejb3.subsystem.EJB3Subsystem20Parser.readElement(EJB3Subsystem20Parser.java:71)




        at org.jboss.as.ejb3.subsystem.EJB3Subsystem12Parser.readElement(EJB3Subsystem12Parser.java:105)




        at org.jboss.as.ejb3.subsystem.EJB3Subsystem12Parser.readElement(EJB3Subsystem12Parser.java:71)




        at org.jboss.staxmapper.XMLMapperImpl.processNested(XMLMapperImpl.java:110) [staxmapper-1.1.0.Final.jar:1.1.0.Final]




        at org.jboss.staxmapper.XMLExtendedStreamReaderImpl.handleAny(XMLExtendedStreamReaderImpl.java:69) [staxmapper-1.1.0.Final.jar:1.1.0.Final]




        at org.jboss.as.server.parsing.StandaloneXml.parseServerProfile(StandaloneXml.java:1131) [wildfly-server-8.0.0.Beta2-SNAPSHOT.jar:8.0.0.Beta2-SNAPSHOT]




        at org.jboss.as.server.parsing.StandaloneXml.readServerElement_1_4(StandaloneXml.java:458) [wildfly-server-8.0.0.Beta2-SNAPSHOT.jar:8.0.0.Beta2-SNAPSHOT]




        at org.jboss.as.server.parsing.StandaloneXml.readElement(StandaloneXml.java:145) [wildfly-server-8.0.0.Beta2-SNAPSHOT.jar:8.0.0.Beta2-SNAPSHOT]




        at org.jboss.as.server.parsing.StandaloneXml.readElement(StandaloneXml.java:107) [wildfly-server-8.0.0.Beta2-SNAPSHOT.jar:8.0.0.Beta2-SNAPSHOT]




        at org.jboss.staxmapper.XMLMapperImpl.processNested(XMLMapperImpl.java:110) [staxmapper-1.1.0.Final.jar:1.1.0.Final]




        at org.jboss.staxmapper.XMLMapperImpl.parseDocument(XMLMapperImpl.java:69) [staxmapper-1.1.0.Final.jar:1.1.0.Final]




        at org.jboss.as.controller.persistence.XmlConfigurationPersister.load(XmlConfigurationPersister.java:104) [wildfly-controller-8.0.0.Beta2-SNAPSHOT.jar:8.0.0.Beta2-SNAPSHOT]




        ... 3 more





</description>
			<version>8.0.0.Beta1</version>
			<fixedVersion>8.0.0.Final</fixedVersion>
			<type>Bug</type>
		</buginformation>
		<fixedFiles>
			<file type="M">org.jboss.as.ejb3.EjbMessages.java</file>
			<file type="M">org.jboss.as.ejb3.subsystem.EJB3SubsystemModel.java</file>
			<file type="M">org.jboss.as.ejb3.subsystem.EJB3Subsystem12Parser.java</file>
			<file type="M">org.jboss.as.ejb3.subsystem.EJB3SubsystemAdd.java</file>
			<file type="M">org.jboss.as.ejb3.subsystem.EJB3SubsystemRootResourceDefinition.java</file>
			<file type="M">org.jboss.as.ejb3.subsystem.EJB3SubsystemDefaultCacheWriteHandler.java</file>
			<file type="M">org.jboss.as.ejb3.subsystem.EJB3Subsystem20Parser.java</file>
			<file type="M">org.jboss.as.ejb3.subsystem.EJB3SubsystemXMLPersister.java</file>
		</fixedFiles>
	</bug>
	<bug id="2852" opendate="2014-01-31 17:25:03" fixdate="2014-04-21 17:52:53" resolution="Duplicate Issue">
		<buginformation>
			<summary>JBoss 7 - EJB Remote Transaction Timeout</summary>
			<description>I have a remote call that allow to run a process that takes more than 5 minutes, after passing this time the transaction was canceled and the global transaction was rollbacked at the commit phase.
The problem is that i can&amp;amp;apos;t modify the timeout value.
Note: After consulting the method createOrResumeXidTransaction of the EJBRemoteTransactionPropagatingInterceptor class, I found that the timeout value is always 300 seconds (it seems that this value is hardcoded)
You can refer to my discussion with jaikiran pai: https://community.jboss.org/thread/236493
Thanks,</description>
			<version>JBoss AS7 7.2.0.Final</version>
			<fixedVersion></fixedVersion>
			<type>Bug</type>
		</buginformation>
		<fixedFiles>
			<file type="M">org.jboss.as.ejb3.remote.EJBRemoteTransactionPropagatingInterceptor.java</file>
		</fixedFiles>
		<links>
			<link type="Duplicate" description="duplicates">2789</link>
		</links>
	</bug>
	<bug id="3252" opendate="2014-04-11 15:38:46" fixdate="2014-04-26 12:54:14" resolution="Done">
		<buginformation>
			<summary>First HTTPS / SSL request after startup of Wildfly 8.0.0.Final is blocked for many seconds</summary>
			<description>The first HTTPS / SSL request after startup of Wildfly 8.0.0.Final is blocked for many seconds.
Please note that subsequent requests perform normally. HTTP requests also perform fine.
We use curl to call a JAX-RS service (just in case this matters).
My first thought was, that we had hit the following bug:
https://issues.jboss.org/browse/XNIO-226?jql=
However, I can also reproduce the problem with xnio-3.2.2.Final (which contains a fix for bug XNIO-226).
So I inserted some logging statements in






AbstractAcceptingSslChannel.java






        System.out.println("calling createSSLEngine...");




        long t1 = System.currentTimeMillis();




        final SSLEngine engine = sslContext.createSSLEngine(JsseSslUtils.getHostNameNoResolve(peerAddress), peerAddress.getPort());




        long t2 = System.currentTimeMillis();




        long duration = t2 - t1;




        System.out.println("createSSLEngine took "+duration+" ms. ");






and in






JsseSslConduitEngine.java






                case NEED_TASK: {




                    Runnable task;




                    synchronized (engine) {




                        // run the tasks needed for handshaking




                        while ((task = engine.getDelegatedTask()) != null) {




                            try {




                                System.out.println("calling task.run() in handleHandshake...");




                                long t1 = System.currentTimeMillis();




                                task.run();




                                long t2 = System.currentTimeMillis();




                                long duration = t2 - t1;




                                System.out.println("task.run() in handleHandshake took "+duration+" ms. ");




                            } catch (Exception e) {




                                throw new IOException(e);




                            }




                        }




                    }




                    // caller should try to wrap/unwrap again




                    return true;




                }






I found out, that sslContext.createSSLEngine in AbstractAcceptingSslChannel.java is quite slow (468ms) but it is not the cause
for the blocking request. Instead org.xnio.ssl.JsseSslConduitEngine.handleHandshake(JsseSslConduitEngine.java:512) needs
95 seconds to return!!!
Here is the relevant part from my log file:






INFO ; 2014-04-11 18:29:52,115; [Controller Boot Thread              ]; JBAS015874: WildFly 8.0.0.Final "WildFly" started in 6477ms - Started 334 of 386 services (107 services are lazy, passive or on-demand); [org.jboss.as.server.BootstrapListener.done(BootstrapListener.java:93)]; ; 




INFO ; 2014-04-11 18:30:05,566; [default I/O-3                       ]; calling createSSLEngine...




; [org.jboss.stdio.AbstractLoggingWriter.write(AbstractLoggingWriter.java:71)]; ; 




INFO ; 2014-04-11 18:30:06,035; [default I/O-3                       ]; createSSLEngine took 468 ms. 




; [org.jboss.stdio.AbstractLoggingWriter.write(AbstractLoggingWriter.java:71)]; ; 




INFO ; 2014-04-11 18:30:06,066; [default I/O-3                       ]; calling task.run() in handleHandshake...




; [org.jboss.stdio.AbstractLoggingWriter.write(AbstractLoggingWriter.java:71)]; ; 




INFO ; 2014-04-11 18:31:41,128; [default I/O-3                       ]; task.run() in handleHandshake took 95061 ms. 




; [org.jboss.stdio.AbstractLoggingWriter.write(AbstractLoggingWriter.java:71)]; ; 




INFO ; 2014-04-11 18:31:41,133; [default I/O-3                       ]; calling task.run() in handleHandshake...




; [org.jboss.stdio.AbstractLoggingWriter.write(AbstractLoggingWriter.java:71)]; ; 




INFO ; 2014-04-11 18:31:41,145; [default I/O-3                       ]; task.run() in handleHandshake took 10 ms. 




; [org.jboss.stdio.AbstractLoggingWriter.write(AbstractLoggingWriter.java:71)]; ; 




INFO ; 2014-04-11 18:31:41,573; [default task-1                      ]; SecurityFilter received request. ; [de.head.vetsone.rest_ifc.SecurityFilter.filter(SecurityFilter.java:62)]; ; 






Using JConsole I could extract the full stacktrace:
Name: default I/O-2
State: RUNNABLE
Total blocked: 0  Total waited: 2
Stack trace: 






java.math.BigInteger.oddModPow(BigInteger.java:2700)




java.math.BigInteger.modPow(BigInteger.java:2443)




java.math.BigInteger.passesMillerRabin(BigInteger.java:1019)




java.math.BigInteger.primeToCertainty(BigInteger.java:875)




java.math.BitSieve.retrieve(BitSieve.java:203)




java.math.BigInteger.largePrime(BigInteger.java:744)




java.math.BigInteger.&amp;lt;init&amp;gt;(BigInteger.java:650)




org.bouncycastle.crypto.generators.DHParametersHelper.generateSafePrimes(Unknown Source)




org.bouncycastle.crypto.generators.DHParametersGenerator.generateParameters(Unknown Source)




org.bouncycastle.jce.provider.JDKKeyPairGenerator$DH.generateKeyPair(Unknown Source)




sun.security.ssl.DHCrypt.generateDHPublicKeySpec(DHCrypt.java:225)




sun.security.ssl.DHCrypt.&amp;lt;init&amp;gt;(DHCrypt.java:101)




sun.security.ssl.ServerHandshaker.setupEphemeralDHKeys(ServerHandshaker.java:1350)




sun.security.ssl.ServerHandshaker.trySetCipherSuite(ServerHandshaker.java:1194)




sun.security.ssl.ServerHandshaker.chooseCipherSuite(ServerHandshaker.java:1002)




sun.security.ssl.ServerHandshaker.clientHello(ServerHandshaker.java:724)




sun.security.ssl.ServerHandshaker.processMessage(ServerHandshaker.java:213)




sun.security.ssl.Handshaker.processLoop(Handshaker.java:925)




sun.security.ssl.Handshaker$1.run(Handshaker.java:865)




sun.security.ssl.Handshaker$1.run(Handshaker.java:862)




java.security.AccessController.doPrivileged(Native Method)




sun.security.ssl.Handshaker$DelegatedTask.run(Handshaker.java:1302)




   - locked sun.security.ssl.SSLEngineImpl@3f3d2d55




org.xnio.ssl.JsseSslConduitEngine.handleHandshake(JsseSslConduitEngine.java:512)




   - locked sun.security.ssl.SSLEngineImpl@3f3d2d55




org.xnio.ssl.JsseSslConduitEngine.unwrap(JsseSslConduitEngine.java:595)




org.xnio.ssl.JsseSslConduitEngine.unwrap(JsseSslConduitEngine.java:543)




org.xnio.ssl.JsseSslStreamSourceConduit.read(JsseSslStreamSourceConduit.java:89)




org.xnio.conduits.ConduitStreamSourceChannel.read(ConduitStreamSourceChannel.java:127)




io.undertow.server.protocol.http.HttpReadListener.handleEvent(HttpReadListener.java:111)




io.undertow.server.protocol.http.HttpOpenListener.handleEvent(HttpOpenListener.java:69)




io.undertow.server.protocol.http.HttpOpenListener.handleEvent(HttpOpenListener.java:38)




org.xnio.ChannelListeners.invokeChannelListener(ChannelListeners.java:92)




org.xnio.ChannelListeners$10.handleEvent(ChannelListeners.java:291)




org.xnio.ChannelListeners$10.handleEvent(ChannelListeners.java:286)




org.xnio.ChannelListeners.invokeChannelListener(ChannelListeners.java:92)




org.xnio.ChannelListeners$DelegatingChannelListener.handleEvent(ChannelListeners.java:1092)




org.xnio.ChannelListeners.invokeChannelListener(ChannelListeners.java:92)




org.xnio.nio.NioTcpServerHandle.handleReady(NioTcpServerHandle.java:53)




org.xnio.nio.WorkerThread.run(WorkerThread.java:531)





</description>
			<version>8.0.0.Final</version>
			<fixedVersion>8.1.0.CR2, 8.1.0.Final</fixedVersion>
			<type>Bug</type>
		</buginformation>
		<fixedFiles>
			<file type="M">org.jboss.as.webservices.service.ServerConfigService.java</file>
		</fixedFiles>
		<links>
			<link type="Related" description="relates to">3253</link>
		</links>
	</bug>
	<bug id="2780" opendate="2014-01-20 16:02:11" fixdate="2014-04-28 17:12:49" resolution="Done">
		<buginformation>
			<summary>Decoration of Servlet AsyncListener fails</summary>
			<description>I am not sure, whether this should work (maybe it should, when interceptor works) or not, but I think it shouldn&amp;amp;apos;t throw this exception:






16:08:55,010 ERROR [org.jboss.msc.service.fail] (MSC service thread 1-4) MSC000001: Failed to start service jboss.deployment.unit."asyncServletExample.war".component."org.jboss.asyncServletExamples.MyListenerDecorator".WeldInstantiator: org.jboss.msc.service.StartException in service jboss.deployment.unit."asyncServletExample.war".component."org.jboss.asyncServletExamples.MyListenerDecorator".WeldInstantiator: Failed to start service




	at org.jboss.msc.service.ServiceControllerImpl$StartTask.run(ServiceControllerImpl.java:1904) [jboss-msc-1.2.0.CR1.jar:1.2.0.CR1]




	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1145) [rt.jar:1.7.0_45]




	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:615) [rt.jar:1.7.0_45]




	at java.lang.Thread.run(Thread.java:744) [rt.jar:1.7.0_45]




Caused by: org.jboss.weld.exceptions.DefinitionException: WELD-000038: Cannot place @Delegate at an injection point which is not on a Decorator: InjectionTarget for [BackedAnnotatedType] public abstract @Decorator class org.jboss.asyncServletExamples.MyListenerDecorator




	at org.jboss.weld.injection.producer.AbstractProducer.checkDelegateInjectionPoints(AbstractProducer.java:31)




	at org.jboss.weld.injection.producer.BasicInjectionTarget.&amp;lt;init&amp;gt;(BasicInjectionTarget.java:72)




	at org.jboss.as.weld.injection.InterceptedNonContextualComponentInjectionTarget.&amp;lt;init&amp;gt;(InterceptedNonContextualComponentInjectionTarget.java:48)




	at org.jboss.as.weld.injection.InjectionTargets.createInjectionTarget(InjectionTargets.java:62)




	at org.jboss.as.weld.injection.WeldComponentService.start(WeldComponentService.java:118)




	at org.jboss.msc.service.ServiceControllerImpl$StartTask.startService(ServiceControllerImpl.java:1948) [jboss-msc-1.2.0.CR1.jar:1.2.0.CR1]




	at org.jboss.msc.service.ServiceControllerImpl$StartTask.run(ServiceControllerImpl.java:1881) [jboss-msc-1.2.0.CR1.jar:1.2.0.CR1]




	... 3 more










</description>
			<version>8.0.0.CR1</version>
			<fixedVersion>8.1.0.CR2, 8.1.0.Final</fixedVersion>
			<type>Bug</type>
		</buginformation>
		<fixedFiles>
			<file type="M">org.wildfly.extension.undertow.deployment.WebComponentProcessor.java</file>
		</fixedFiles>
	</bug>
	<bug id="3214" opendate="2014-04-03 01:24:48" fixdate="2014-04-28 20:43:22" resolution="Done">
		<buginformation>
			<summary>Builders for AttributeDefinitions don&amp;apos;t all pass in all settings to the AD</summary>
			<description>While working on WFLY-3184 I discovered that ObjectListAttributeDefinition.Builder does not pass any configured ParameterCorrector into the AD. I believe this is a problem common to a number of the builders.
The way the AD constructors work is also very problematic. When we add a new field to a class deep in the hierarchy, like AD itself, we then add a new constructor with a new param and then need to expose that param all the way up the hierarchy by doing the same thing in the subclasses. Very fragile.
I intend to deal with both these issues:
1) Deprecate the public or protected AD constructors except for the simple ones in SimpleAttributeDefinition, which are potentially more commonly used.
2) Add getters for all the fields in AbstactAttributeDefinitionBuilder and subclasses.
3) Add a protected constructor to AD and all subclasses (private where possible) that takes the relevant Builder as its param and then populates its fields from the getters. The build() method in the builders will call this constructor.</description>
			<version>8.0.0.Final</version>
			<fixedVersion>8.1.0.CR2, 8.1.0.Final</fixedVersion>
			<type>Bug</type>
		</buginformation>
		<fixedFiles>
			<file type="M">org.jboss.as.controller.AttributeParser.java</file>
			<file type="M">org.jboss.as.host.controller.discovery.DiscoveryOptionsResourceDefinition.java</file>
			<file type="M">org.wildfly.extension.io.OptionAttributeDefinition.java</file>
			<file type="M">org.jboss.as.controller.AbstractAttributeDefinitionBuilder.java</file>
			<file type="M">org.jboss.as.controller.SimpleAttributeDefinitionBuilder.java</file>
			<file type="M">org.jboss.as.messaging.BroadcastGroupDefinition.java</file>
			<file type="M">org.jboss.as.logging.LogHandlerListAttributeDefinition.java</file>
			<file type="M">org.jboss.as.web.WebVirtualHostDefinition.java</file>
			<file type="M">org.jboss.as.controller.StringListAttributeDefinitionUnitTestCase.java</file>
			<file type="M">org.jboss.as.logging.PropertyObjectTypeAttributeDefinition.java</file>
			<file type="M">org.jboss.as.controller.PrimitiveListAttributeDefinitionUnitTestCase.java</file>
			<file type="M">org.jboss.as.controller.operations.validation.NillableOrExpressionParameterValidator.java</file>
			<file type="M">org.jboss.as.controller.resource.InterfaceDefinition.java</file>
			<file type="M">org.wildfly.extension.undertow.HostDefinition.java</file>
			<file type="M">org.jboss.as.security.LegacySupport.java</file>
			<file type="M">org.jboss.as.logging.PropertyAttributeDefinition.java</file>
			<file type="M">org.jboss.as.controller.AttributeDefinition.java</file>
			<file type="M">org.jboss.as.controller.PrimitiveListAttributeDefinition.java</file>
			<file type="M">org.jboss.as.web.WebContainerDefinition.java</file>
			<file type="M">org.jboss.as.web.WebConnectorDefinition.java</file>
			<file type="M">org.jboss.as.controller.PropertiesAttributeDefinition.java</file>
			<file type="M">org.jboss.as.messaging.jms.ConnectionFactoryAttributes.java</file>
			<file type="M">org.jboss.as.controller.StringListAttributeDefinition.java</file>
			<file type="M">org.jboss.as.controller.resource.SocketBindingGroupResourceDefinition.java</file>
			<file type="M">org.jboss.as.controller.ListAttributeDefinition.java</file>
			<file type="M">org.jboss.as.controller.ObjectListAttributeDefinition.java</file>
			<file type="M">org.jboss.as.controller.SimpleAttributeDefinition.java</file>
			<file type="M">org.jboss.as.host.controller.model.jvm.JvmAttributes.java</file>
			<file type="M">org.jboss.as.messaging.CommonAttributes.java</file>
			<file type="M">org.jboss.as.controller.extension.ExtensionSubsystemResourceDefinition.java</file>
			<file type="M">org.jboss.as.host.controller.ignored.IgnoredDomainTypeResourceDefinition.java</file>
			<file type="M">org.jboss.as.messaging.ClusterConnectionDefinition.java</file>
			<file type="M">org.jboss.as.controller.SimpleMapAttributeDefinition.java</file>
			<file type="M">org.jboss.as.ejb3.subsystem.deployment.AbstractEJBComponentResourceDefinition.java</file>
			<file type="M">org.jboss.as.controller.ObjectTypeAttributeDefinition.java</file>
			<file type="M">org.jboss.as.ejb3.subsystem.deployment.TimerAttributeDefinition.java</file>
			<file type="M">org.jboss.as.messaging.BridgeDefinition.java</file>
			<file type="M">org.jboss.as.threads.KeepAliveTimeAttributeDefinition.java</file>
			<file type="M">org.jboss.as.connector.subsystems.resourceadapters.Constants.java</file>
			<file type="M">org.jboss.as.controller.SimpleListAttributeDefinition.java</file>
			<file type="M">org.jboss.as.controller.MapAttributeDefinition.java</file>
		</fixedFiles>
	</bug>
	<bug id="3259" opendate="2014-04-15 06:55:05" fixdate="2014-04-29 16:10:14" resolution="Done">
		<buginformation>
			<summary>Race condition in built-in ServletContextListeners</summary>
			<description>WeldComponentIntegrationProcessor properly adds service dependency on the WeldStartService. This however does not happen for built-in components e.g. Mojarra&amp;amp;apos;s com.sun.faces.config.ConfigureListener which does use CDI. As a result, the deployment may fail depending on timing of WeldStartService and UndertowDeploymentService






15:34:53,108 SEVERE [javax.enterprise.resource.webcontainer.jsf.config] (MSC service thread 1-5) Critical error during deployment: : org.jboss.weld.context.ContextNotActiveException: WELD-001303: No active contexts for scope type javax.faces.flow.builder.FlowDefinition                                                                                                                                                 









15:34:53,120 ERROR [org.jboss.msc.service.fail] (MSC service thread 1-5) MSC000001: Failed to start service jboss.undertow.deployment.default-server.default-host./test: org.jboss.msc.service.StartException in service jboss.undertow.deployment.default-server.default-host./test: Failed to start service                                                                                                                 
























Caused by: java.lang.RuntimeException: java.lang.RuntimeException: org.jboss.weld.context.ContextNotActiveException: WELD-001303: No active contexts for scope type javax.faces.flow.builder.FlowDefinition    









        at org.wildfly.extension.undertow.deployment.UndertowDeploymentService.startContext(UndertowDeploymentService.java:86)




        at org.wildfly.extension.undertow.deployment.UndertowDeploymentService.start(UndertowDeploymentService.java:71)




        at org.jboss.msc.service.ServiceControllerImpl$StartTask.startService(ServiceControllerImpl.java:1948) [jboss-msc-1.2.2.Final.jar:1.2.2.Final]




        at org.jboss.msc.service.ServiceControllerImpl$StartTask.run(ServiceControllerImpl.java:1881) [jboss-msc-1.2.2.Final.jar:1.2.2.Final]




        ... 3 more




Caused by: java.lang.RuntimeException: org.jboss.weld.context.ContextNotActiveException: WELD-001303: No active contexts for scope type javax.faces.flow.builder.FlowDefinition




        at com.sun.faces.config.ConfigureListener.contextInitialized(ConfigureListener.java:274)




        at io.undertow.servlet.core.ApplicationListeners.contextInitialized(ApplicationListeners.java:173)




        at io.undertow.servlet.core.DeploymentManagerImpl.deploy(DeploymentManagerImpl.java:189)




        ... 7 more




Caused by: org.jboss.weld.context.ContextNotActiveException: WELD-001303: No active contexts for scope type javax.faces.flow.builder.FlowDefinition




        at org.jboss.weld.manager.BeanManagerImpl.getContext(BeanManagerImpl.java:684)




        at org.jboss.weld.util.ForwardingBeanManager.getContext(ForwardingBeanManager.java:181)




        at com.sun.faces.application.ApplicationAssociate$PostConstructApplicationListener.loadFlows(ApplicationAssociate.java:323)




        at com.sun.faces.application.ApplicationAssociate$PostConstructApplicationListener.processEvent(ApplicationAssociate.java:303)




        at javax.faces.event.SystemEvent.processListener(SystemEvent.java:108)




        at com.sun.faces.application.ApplicationImpl.processListeners(ApplicationImpl.java:2187)




        at com.sun.faces.application.ApplicationImpl.invokeListenersFor(ApplicationImpl.java:2163)




        at com.sun.faces.application.ApplicationImpl.publishEvent(ApplicationImpl.java:296)




        at org.jboss.as.jsf.injection.weld.ForwardingApplication.publishEvent(ForwardingApplication.java:294)




        at com.sun.faces.config.ConfigManager.publishPostConfigEvent(ConfigManager.java:692)




        at com.sun.faces.config.ConfigureListener.contextInitialized(ConfigureListener.java:254)




        ... 9 more









15:34:53,407 ERROR [org.jboss.as.controller.management-operation] (management-handler-thread - 1) JBAS014613: Operation ("deploy") failed - address: ([("deployment" =&amp;gt; "test.ear")]) - failure description: {"JBAS014671: Failed services" =&amp;gt; {"jboss.undertow.deployment.default-server.default-host./test" =&amp;gt; "org.jboss.msc.service.StartException in service jboss.undertow.deployment.default-server.default-host./test: Failed to start service




    Caused by: java.lang.RuntimeException: java.lang.RuntimeException: org.jboss.weld.context.ContextNotActiveException: WELD-001303: No active contexts for scope type javax.faces.flow.builder.FlowDefinition




    Caused by: java.lang.RuntimeException: org.jboss.weld.context.ContextNotActiveException: WELD-001303: No active contexts for scope type javax.faces.flow.builder.FlowDefinition




    Caused by: org.jboss.weld.context.ContextNotActiveException: WELD-001303: No active contexts for scope type javax.faces.flow.builder.FlowDefinition"}}




15:34:53,415 ERROR [org.jboss.as.server] (management-handler-thread - 1) JBAS015870: Deploy of deployment "test.ear" was rolled back with the following failure message: 




{"JBAS014671: Failed services" =&amp;gt; {"jboss.undertow.deployment.default-server.default-host./test" =&amp;gt; "org.jboss.msc.service.StartException in service jboss.undertow.deployment.default-server.default-host./test: Failed to start service




    Caused by: java.lang.RuntimeException: java.lang.RuntimeException: org.jboss.weld.context.ContextNotActiveException: WELD-001303: No active contexts for scope type javax.faces.flow.builder.FlowDefinition




    Caused by: java.lang.RuntimeException: org.jboss.weld.context.ContextNotActiveException: WELD-001303: No active contexts for scope type javax.faces.flow.builder.FlowDefinition




    Caused by: org.jboss.weld.context.ContextNotActiveException: WELD-001303: No active contexts for scope type javax.faces.flow.builder.FlowDefinition"}}





</description>
			<version>8.1.0.CR1</version>
			<fixedVersion>8.1.0.CR2, 8.1.0.Final</fixedVersion>
			<type>Bug</type>
		</buginformation>
		<fixedFiles>
			<file type="M">org.jboss.as.web.common.WarMetaData.java</file>
			<file type="M">org.wildfly.extension.undertow.deployment.UndertowDeploymentProcessor.java</file>
			<file type="M">org.jboss.as.weld.deployment.processors.WebIntegrationProcessor.java</file>
		</fixedFiles>
		<links>
			<link type="Duplicate" description="is duplicated by">3207</link>
		</links>
	</bug>
	<bug id="3306" opendate="2014-04-30 14:22:48" fixdate="2014-05-01 15:37:54" resolution="Done">
		<buginformation>
			<summary>Inconsistent responses between read-children-types and read-children-names or read-children-resources</summary>
			<description>The read-children-types op is implemented by reading the names of the NodeSubregistry objects in the target resource&amp;amp;apos;s ManagementResourceRegistration. The read-children-names and read-children-resources ops are implemented by reading the full PathElement of registered child MRRs.
It&amp;amp;apos;s possible these two can get out of sync, as a NodeSubregistry can be added in order to support a submodel, but such subregistries aren&amp;amp;apos;t removed if all children are removed. This manifests itself in EAP 6 with the &amp;amp;apos;server&amp;amp;apos; child type. See https://bugzilla.redhat.com/show_bug.cgi?id=1093030. (Note WF should not have this specific problem, as WF registers a generic MRR for &amp;amp;apos;server&amp;amp;apos;.)
Fix is for GlobalOperationHandlers.getChildAddresses() to include an entry with an empty value for any valid child type. This will ensure the responses are consistent.</description>
			<version>8.0.0.CR1</version>
			<fixedVersion>8.1.0.CR2, 8.1.0.Final</fixedVersion>
			<type>Bug</type>
		</buginformation>
		<fixedFiles>
			<file type="M">org.jboss.as.controller.operations.global.GlobalOperationHandlers.java</file>
		</fixedFiles>
		<links>
			<link type="Causality" description="causes">541</link>
		</links>
	</bug>
	<bug id="3237" opendate="2014-04-09 15:50:08" fixdate="2014-05-02 14:22:44" resolution="Done">
		<buginformation>
			<summary>doing a read-only operation with the CLI sets a server in "restart-required" mode</summary>
			<description>In domain mode, doing a read-only operation with the CLI on a remote HC, sets the remote server in "restart-required" mode</description>
			<version>8.0.0.Final</version>
			<fixedVersion>8.1.0.CR2, 8.1.0.Final</fixedVersion>
			<type>Bug</type>
		</buginformation>
		<fixedFiles>
			<file type="M">org.jboss.as.domain.controller.operations.ApplyRemoteMasterDomainModelHandler.java</file>
			<file type="M">org.jboss.as.test.integration.domain.suites.ServerRestartRequiredTestCase.java</file>
			<file type="M">org.jboss.as.domain.controller.operations.coordination.HostControllerUpdateTask.java</file>
		</fixedFiles>
	</bug>
	<bug id="3324" opendate="2014-05-07 22:30:32" fixdate="2014-05-09 17:24:48" resolution="Done">
		<buginformation>
			<summary>POJO objects are not removed from logging.properties when manually removing them from JBoss Config XML</summary>
			<description>If I remove a custom Log4J appender from my standalone.xml and restart JBoss, I can still see the POJO definition for the removed appender in my logging.properties file.</description>
			<version>8.1.0.CR1</version>
			<fixedVersion>8.1.0.CR2, 8.1.0.Final</fixedVersion>
			<type>Bug</type>
		</buginformation>
		<fixedFiles>
			<file type="M">org.jboss.as.logging.LoggingSubsystemAdd.java</file>
		</fixedFiles>
	</bug>
	<bug id="3315" opendate="2014-05-05 13:56:55" fixdate="2014-05-12 07:15:04" resolution="Done">
		<buginformation>
			<summary>CalendarBasedTimeoutTestCase failure when using French locale</summary>
			<description>CalendarBasedTimeoutTestCase fails when running on my laptop using the French locale.
French and English locales differs in the value of the 1st day of week:
cal = new GregorianCalendar(Locale.ENGLISH);
System.out.println("cal = " + cal.getFirstDayOfWeek()); =&amp;gt; 1 // SUNDAY
cal = new GregorianCalendar(Locale.FRANCE);
System.out.println("cal = " + cal.getFirstDayOfWeek()); =&amp;gt; 2 // MONDAY
The code in CalendarBasedTimeout set the 1st day of week to SUNDAY for the 1st timeout but does not set it in the truncate() method which makes comparing the date and its truncated copy bogus.
</description>
			<version>8.1.0.CR1</version>
			<fixedVersion>8.1.0.CR2, 8.1.0.Final</fixedVersion>
			<type>Bug</type>
		</buginformation>
		<fixedFiles>
			<file type="M">org.jboss.as.ejb3.timerservice.schedule.CalendarBasedTimeout.java</file>
			<file type="M">org.jboss.as.ejb3.timer.schedule.CalendarBasedTimeoutTestCase.java</file>
		</fixedFiles>
	</bug>
	<bug id="3322" opendate="2014-05-07 13:02:29" fixdate="2014-05-12 07:16:11" resolution="Done">
		<buginformation>
			<summary>Calling operations on non-existing messaging resources returns cryptic error</summary>
			<description>Calling operations on messaging resources that do not exist fails with a cryptic error:






[standalone@localhost:9990 /] /subsystem=messaging/hornetq-server=default/runtime-queue=non-exisiting-queue:count-messages




{




    "outcome" =&amp;gt; "failed",




    "result" =&amp;gt; undefined,




    "failure-description" =&amp;gt; "JBAS014749: Operation handler failed: null",




    "rolled-back" =&amp;gt; true






Instead, the normal error for that case should be return:






[standalone@localhost:9990 /] /subsystem=messaging/hornetq-server=default/runtime-queue=non-exisiting-queue:count-messages




{




    "outcome" =&amp;gt; "failed",




    "failure-description" =&amp;gt; "JBAS014807: Management resource &amp;amp;apos;[




    (\"subsystem\" =&amp;gt; \"messaging\"),




    (\"hornetq-server\" =&amp;gt; \"default\"),




    (\"runtime-queue\" =&amp;gt; \"non-exisiting-queue\")




]&amp;amp;apos; not found",




    "rolled-back" =&amp;gt; true




}





</description>
			<version>8.1.0.CR1</version>
			<fixedVersion>8.1.0.CR2, 8.1.0.Final</fixedVersion>
			<type>Bug</type>
		</buginformation>
		<fixedFiles>
			<file type="M">org.jboss.as.messaging.jms.JMSQueueReadAttributeHandler.java</file>
			<file type="M">org.jboss.as.messaging.jms.JMSServerControlHandler.java</file>
			<file type="M">org.jboss.as.messaging.jms.AbstractUpdateJndiHandler.java</file>
			<file type="M">org.jboss.as.messaging.jms.JMSTopicControlHandler.java</file>
			<file type="M">org.jboss.as.messaging.SecurityRoleReadAttributeHandler.java</file>
			<file type="M">org.jboss.as.messaging.AbstractHornetQComponentControlHandler.java</file>
			<file type="M">org.jboss.as.messaging.QueueReadAttributeHandler.java</file>
			<file type="M">org.jboss.as.messaging.jms.JMSQueueControlHandler.java</file>
			<file type="M">org.jboss.as.messaging.AbstractQueueControlHandler.java</file>
			<file type="M">org.jboss.as.messaging.HornetQServerControlWriteHandler.java</file>
			<file type="M">org.jboss.as.messaging.ManagementUtil.java</file>
			<file type="M">org.jboss.as.messaging.jms.bridge.JMSBridgeHandler.java</file>
			<file type="M">org.jboss.as.messaging.jms.JMSTopicReadAttributeHandler.java</file>
			<file type="M">org.jboss.as.messaging.QueueControlHandler.java</file>
			<file type="M">org.jboss.as.messaging.MessagingMessages.java</file>
			<file type="M">org.jboss.as.messaging.AddressControlHandler.java</file>
			<file type="M">org.jboss.as.messaging.jms.ConnectionFactoryReadAttributeHandler.java</file>
		</fixedFiles>
	</bug>
	<bug id="3331" opendate="2014-05-09 15:14:18" fixdate="2014-05-12 20:25:11" resolution="Done">
		<buginformation>
			<summary>Https: ArrayIndexOutOfBoundsException when rendering a resulting JSF page</summary>
			<description>I tried the latest snapshot with Undertow 1.0.9 and get the stacktrace below after a search request over https. This issue didn&amp;amp;apos;t exist with the snapshot from April/24 with Undertow 1.0.6. Also Bouncycastle was upgraded from 1.46 to 1.50. My OS is Windows 7 Enterprise SP1.






SEVERE [javax.enterprise.resource.webcontainer.jsf.application] Error Rendering View[/rf/artikelverwaltung/listArtikel.xhtml]: java.lang.ArrayIndexOutOfBoundsException




	at java.lang.System.arraycopy(Native Method) [rt.jar:1.8.0_05]




	at org.bouncycastle.crypto.modes.GCMBlockCipher.doFinal(Unknown Source)




	at org.bouncycastle.jcajce.provider.symmetric.util.BaseBlockCipher$AEADGenericBlockCipher.doFinal(Unknown Source)




	at org.bouncycastle.jcajce.provider.symmetric.util.BaseBlockCipher.engineDoFinal(Unknown Source)




	at javax.crypto.CipherSpi.bufferCrypt(CipherSpi.java:830) [jce.jar:1.8.0]




	at javax.crypto.CipherSpi.engineDoFinal(CipherSpi.java:730) [jce.jar:1.8.0]




	at javax.crypto.Cipher.doFinal(Cipher.java:2416) [jce.jar:1.8.0]




	at sun.security.ssl.CipherBox.encrypt(CipherBox.java:396) [jsse.jar:1.8.0_05]




	at sun.security.ssl.EngineOutputRecord.write(EngineOutputRecord.java:300) [jsse.jar:1.8.0_05]




	at sun.security.ssl.EngineOutputRecord.write(EngineOutputRecord.java:225) [jsse.jar:1.8.0_05]




	at sun.security.ssl.EngineWriter.writeRecord(EngineWriter.java:186) [jsse.jar:1.8.0_05]




	at sun.security.ssl.SSLEngineImpl.writeRecord(SSLEngineImpl.java:1280) [jsse.jar:1.8.0_05]




	at sun.security.ssl.SSLEngineImpl.writeAppRecord(SSLEngineImpl.java:1251) [jsse.jar:1.8.0_05]




	at sun.security.ssl.SSLEngineImpl.wrap(SSLEngineImpl.java:1166) [jsse.jar:1.8.0_05]




	at org.xnio.ssl.JsseSslConduitEngine.engineWrap(JsseSslConduitEngine.java:312)




	at org.xnio.ssl.JsseSslConduitEngine.wrap(JsseSslConduitEngine.java:237)




	at org.xnio.ssl.JsseSslStreamSinkConduit.write(JsseSslStreamSinkConduit.java:113)




	at org.xnio.ssl.JsseSslStreamSinkConduit.write(JsseSslStreamSinkConduit.java:77)




	at io.undertow.server.protocol.http.HttpResponseConduit.write(HttpResponseConduit.java:559) [undertow-core-1.0.9.Final.jar:1.0.9.Final]




	at io.undertow.conduits.ChunkedStreamSinkConduit.doWrite(ChunkedStreamSinkConduit.java:164) [undertow-core-1.0.9.Final.jar:1.0.9.Final]




	at io.undertow.conduits.ChunkedStreamSinkConduit.write(ChunkedStreamSinkConduit.java:127) [undertow-core-1.0.9.Final.jar:1.0.9.Final]




	at org.xnio.conduits.ConduitStreamSinkChannel.write(ConduitStreamSinkChannel.java:150)




	at io.undertow.channels.DetachableStreamSinkChannel.write(DetachableStreamSinkChannel.java:217) [undertow-core-1.0.9.Final.jar:1.0.9.Final]




	at io.undertow.servlet.spec.ServletOutputStreamImpl.writeBufferBlocking(ServletOutputStreamImpl.java:585) [undertow-servlet-1.0.9.Final.jar:1.0.9.Final]




	at io.undertow.servlet.spec.ServletOutputStreamImpl.flushInternal(ServletOutputStreamImpl.java:498) [undertow-servlet-1.0.9.Final.jar:1.0.9.Final]




	at io.undertow.servlet.spec.ServletPrintWriter.write(ServletPrintWriter.java:157) [undertow-servlet-1.0.9.Final.jar:1.0.9.Final]




	at io.undertow.servlet.spec.ServletPrintWriter.write(ServletPrintWriter.java:201) [undertow-servlet-1.0.9.Final.jar:1.0.9.Final]




	at io.undertow.servlet.spec.ServletPrintWriterDelegate.write(ServletPrintWriterDelegate.java:101) [undertow-servlet-1.0.9.Final.jar:1.0.9.Final]




	at com.sun.faces.application.view.WriteBehindStateWriter.flushToWriter(WriteBehindStateWriter.java:240) [jsf-impl-2.2.6-jbossorg-4.jar:]




	at com.sun.faces.application.view.FaceletViewHandlingStrategy.renderView(FaceletViewHandlingStrategy.java:478) [jsf-impl-2.2.6-jbossorg-4.jar:]




	at com.sun.faces.application.view.MultiViewHandler.renderView(MultiViewHandler.java:133) [jsf-impl-2.2.6-jbossorg-4.jar:]




	at javax.faces.application.ViewHandlerWrapper.renderView(ViewHandlerWrapper.java:337) [jboss-jsf-api_2.2_spec-2.2.6.jar:2.2.6]




	at javax.faces.application.ViewHandlerWrapper.renderView(ViewHandlerWrapper.java:337) [jboss-jsf-api_2.2_spec-2.2.6.jar:2.2.6]




	at javax.faces.application.ViewHandlerWrapper.renderView(ViewHandlerWrapper.java:337) [jboss-jsf-api_2.2_spec-2.2.6.jar:2.2.6]




	at com.sun.faces.lifecycle.RenderResponsePhase.execute(RenderResponsePhase.java:120) [jsf-impl-2.2.6-jbossorg-4.jar:]




	at com.sun.faces.lifecycle.Phase.doPhase(Phase.java:101) [jsf-impl-2.2.6-jbossorg-4.jar:]




	at com.sun.faces.lifecycle.LifecycleImpl.render(LifecycleImpl.java:219) [jsf-impl-2.2.6-jbossorg-4.jar:]




	at javax.faces.webapp.FacesServlet.service(FacesServlet.java:647) [jboss-jsf-api_2.2_spec-2.2.6.jar:2.2.6]




	at io.undertow.servlet.handlers.ServletHandler.handleRequest(ServletHandler.java:85) [undertow-servlet-1.0.9.Final.jar:1.0.9.Final]




	at io.undertow.servlet.handlers.security.ServletSecurityRoleHandler.handleRequest(ServletSecurityRoleHandler.java:61) [undertow-servlet-1.0.9.Final.jar:1.0.9.Final]




	at io.undertow.servlet.handlers.ServletDispatchingHandler.handleRequest(ServletDispatchingHandler.java:36) [undertow-servlet-1.0.9.Final.jar:1.0.9.Final]




	at org.wildfly.extension.undertow.security.SecurityContextAssociationHandler.handleRequest(SecurityContextAssociationHandler.java:78)




	at io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:25) [undertow-core-1.0.9.Final.jar:1.0.9.Final]




	at io.undertow.servlet.handlers.security.SSLInformationAssociationHandler.handleRequest(SSLInformationAssociationHandler.java:113) [undertow-servlet-1.0.9.Final.jar:1.0.9.Final]




	at io.undertow.servlet.handlers.security.ServletAuthenticationCallHandler.handleRequest(ServletAuthenticationCallHandler.java:56) [undertow-servlet-1.0.9.Final.jar:1.0.9.Final]




	at io.undertow.security.handlers.AuthenticationConstraintHandler.handleRequest(AuthenticationConstraintHandler.java:51) [undertow-core-1.0.9.Final.jar:1.0.9.Final]




	at io.undertow.security.handlers.AbstractConfidentialityHandler.handleRequest(AbstractConfidentialityHandler.java:45) [undertow-core-1.0.9.Final.jar:1.0.9.Final]




	at io.undertow.servlet.handlers.security.ServletConfidentialityConstraintHandler.handleRequest(ServletConfidentialityConstraintHandler.java:61) [undertow-servlet-1.0.9.Final.jar:1.0.9.Final]




	at io.undertow.servlet.handlers.security.ServletSecurityConstraintHandler.handleRequest(ServletSecurityConstraintHandler.java:56) [undertow-servlet-1.0.9.Final.jar:1.0.9.Final]




	at io.undertow.security.handlers.AuthenticationMechanismsHandler.handleRequest(AuthenticationMechanismsHandler.java:58) [undertow-core-1.0.9.Final.jar:1.0.9.Final]




	at io.undertow.servlet.handlers.security.CachedAuthenticatedSessionHandler.handleRequest(CachedAuthenticatedSessionHandler.java:70) [undertow-servlet-1.0.9.Final.jar:1.0.9.Final]




	at io.undertow.security.handlers.SecurityInitialHandler.handleRequest(SecurityInitialHandler.java:76) [undertow-core-1.0.9.Final.jar:1.0.9.Final]




	at io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:25) [undertow-core-1.0.9.Final.jar:1.0.9.Final]




	at org.wildfly.extension.undertow.security.jacc.JACCContextIdHandler.handleRequest(JACCContextIdHandler.java:61)




	at io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:25) [undertow-core-1.0.9.Final.jar:1.0.9.Final]




	at io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:25) [undertow-core-1.0.9.Final.jar:1.0.9.Final]




	at io.undertow.servlet.handlers.ServletInitialHandler.handleFirstRequest(ServletInitialHandler.java:240) [undertow-servlet-1.0.9.Final.jar:1.0.9.Final]




	at io.undertow.servlet.handlers.ServletInitialHandler.dispatchRequest(ServletInitialHandler.java:227) [undertow-servlet-1.0.9.Final.jar:1.0.9.Final]




	at io.undertow.servlet.handlers.ServletInitialHandler.access$000(ServletInitialHandler.java:73) [undertow-servlet-1.0.9.Final.jar:1.0.9.Final]




	at io.undertow.servlet.handlers.ServletInitialHandler$1.handleRequest(ServletInitialHandler.java:146) [undertow-servlet-1.0.9.Final.jar:1.0.9.Final]




	at io.undertow.server.Connectors.executeRootHandler(Connectors.java:168) [undertow-core-1.0.9.Final.jar:1.0.9.Final]




	at io.undertow.server.HttpServerExchange$1.run(HttpServerExchange.java:727) [undertow-core-1.0.9.Final.jar:1.0.9.Final]




	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142) [rt.jar:1.8.0_05]




	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617) [rt.jar:1.8.0_05]




	at java.lang.Thread.run(Thread.java:745) [rt.jar:1.8.0_05]





</description>
			<version>8.1.0.CR1</version>
			<fixedVersion>8.1.0.CR2, 8.1.0.Final</fixedVersion>
			<type>Bug</type>
		</buginformation>
		<fixedFiles>
			<file type="M">org.jboss.as.webservices.service.ServerConfigService.java</file>
		</fixedFiles>
		<links>
			<link type="Related" description="relates to">3253</link>
		</links>
	</bug>
	<bug id="2569" opendate="2013-11-25 14:37:15" fixdate="2014-05-16 14:40:29" resolution="Done">
		<buginformation>
			<summary>Components in Web and EJB container should always have access to RAR included in the same EAR</summary>
			<description>See also EE.8.3 Class Loading Requirements.
In the mentioned Arquillian test (servlet protocol) if a class from an EJB module tries to access a class from an RAR you get a NoClassDefFoundError. I also tried to place the class in the WAR with the same result.</description>
			<version>8.0.0.Beta1</version>
			<fixedVersion>8.1.0.Final</fixedVersion>
			<type>Bug</type>
		</buginformation>
		<fixedFiles>
			<file type="M">org.jboss.as.ee.subsystem.EeSubsystemAdd.java</file>
			<file type="M">org.jboss.as.server.deployment.Phase.java</file>
			<file type="M">org.jboss.as.server.deployment.module.ModuleSpecification.java</file>
			<file type="M">org.jboss.as.connector.deployers.ra.processors.RaStructureProcessor.java</file>
			<file type="M">org.jboss.as.server.deployment.module.SubDeploymentDependencyProcessor.java</file>
			<file type="M">org.jboss.as.connector.deployers.ra.processors.RarDependencyProcessor.java</file>
			<file type="D">org.jboss.as.test.integration.deployment.classloading.ear.EarJbossStructureRestrictedVisibilityTestCase.java</file>
			<file type="D">org.jboss.as.test.integration.deployment.classloading.ear.RarClass.java</file>
		</fixedFiles>
	</bug>
	<bug id="3304" opendate="2014-04-29 18:10:52" fixdate="2014-05-16 15:39:50" resolution="Done">
		<buginformation>
			<summary>RemoteDomainConnectionService.fetchDomainWideConfiguration() isn&amp;apos;t properly implemented</summary>
			<description>The WFLY-2043 implementation is not working correctly because fetching the config from the master without fully registering is not properly implemented.</description>
			<version>8.0.0.Final</version>
			<fixedVersion>9.0.0.Alpha1</fixedVersion>
			<type>Bug</type>
		</buginformation>
		<fixedFiles>
			<file type="M">org.jboss.as.test.integration.domain.management.util.ProcessWrapper.java</file>
			<file type="M">org.jboss.as.host.controller.RemoteDomainConnection.java</file>
			<file type="M">org.jboss.as.host.controller.model.host.AdminOnlyDomainConfigPolicy.java</file>
			<file type="M">org.jboss.as.host.controller.mgmt.HostControllerRegistrationHandler.java</file>
			<file type="M">org.jboss.as.test.integration.domain.management.util.DomainLifecycleUtil.java</file>
			<file type="M">org.jboss.as.host.controller.logging.HostControllerLogger.java</file>
			<file type="M">org.jboss.as.core.model.test.TestParser.java</file>
			<file type="M">org.jboss.as.test.integration.domain.management.util.JBossAsManagedConfiguration.java</file>
			<file type="M">org.jboss.as.host.controller.parsing.HostXml.java</file>
			<file type="M">org.jboss.as.domain.controller.DomainController.java</file>
			<file type="M">org.jboss.as.host.controller.mgmt.DomainControllerRuntimeIgnoreTransformationRegistry.java</file>
			<file type="M">org.jboss.as.domain.controller.operations.ApplyRemoteMasterDomainModelHandlerTestCase.java</file>
			<file type="M">org.jboss.as.host.controller.DomainModelControllerService.java</file>
			<file type="M">org.jboss.as.test.manualmode.parse.ParseAndMarshalModelsTestCase.java</file>
			<file type="M">org.jboss.as.controller.logging.ControllerLogger.java</file>
			<file type="M">org.jboss.as.host.controller.HostControllerConfigurationPersister.java</file>
			<file type="M">org.jboss.as.test.integration.domain.management.util.DomainTestSupport.java</file>
			<file type="M">org.jboss.as.core.model.test.TestModelControllerService.java</file>
			<file type="M">org.jboss.as.host.controller.ConfigurationPersisterFactory.java</file>
			<file type="M">org.jboss.as.domain.controller.operations.ReadMasterDomainModelHandler.java</file>
		</fixedFiles>
	</bug>
	<bug id="2789" opendate="2014-01-22 13:59:01" fixdate="2014-05-16 16:38:10" resolution="Done">
		<buginformation>
			<summary>Remote client transaction timeout values are overwrote by hardcoded values</summary>
			<description>The EJB3 interceptor is not using client values for timeouts,  this is a problem for users trying to use EJB for transaction propagation.
Refer to the code in https://github.com/wildfly/wildfly/blob/master/ejb3/src/main/java/org/jboss/as/ejb3/remote/EJBRemoteTransactionPropagatingInterceptor.java:
    private void createOrResumeXidTransaction(final XidTransactionID xidTransactionID) throws Exception {
        final TransactionManager transactionManager = this.ejbRemoteTransactionsRepository.getTransactionManager();
        final Transaction alreadyCreatedTx = this.ejbRemoteTransactionsRepository.getImportedTransaction(xidTransactionID);
        if (alreadyCreatedTx != null) 
{
            // resume the already created tx
            transactionManager.resume(alreadyCreatedTx);
        }
 else 
{
            // begin a new tx and add it to the tx repository
            // TODO: Fix the tx timeout (which currently is passed as 300 seconds)
            final Transaction newSubOrdinateTx = this.ejbRemoteTransactionsRepository.importTransaction(xidTransactionID, 300);
            // associate this tx with the thread
            transactionManager.resume(newSubOrdinateTx);
        }
    }</description>
			<version>JBoss AS7 7.2.0.Final</version>
			<fixedVersion>8.1.0.Final, 9.0.0.Alpha1</fixedVersion>
			<type>Bug</type>
		</buginformation>
		<fixedFiles>
			<file type="M">org.jboss.as.ejb3.remote.EJBRemoteTransactionPropagatingInterceptor.java</file>
		</fixedFiles>
		<links>
			<link type="Duplicate" description="is duplicated by">2852</link>
			<link type="Related" description="relates to">4632</link>
			<link type="Sequence" description="is followed up by">5348</link>
		</links>
	</bug>
	<bug id="3280" opendate="2014-04-23 07:12:22" fixdate="2014-05-16 16:39:22" resolution="Done">
		<buginformation>
			<summary> Thread locking problem when app server is going to shutdown</summary>
			<description>I face problem that remoting thread and MSC service thread is deadlocked when server is going to shutdown.
This happens in half of the cases when I run my integration arquillian tests again EAP 6.3.0 engineering releases.
I deploy one testing application packaged as jar file and then jdbc driver is deployed by copying to deployments folder.
I&amp;amp;apos;m attaching server log file and thread dump at the time when threads are stuck.
I was trying to find out where the lock occurs and from the stack trace it happens on two places. One is lock on remoting queue and other is lock on DeploymentRepository object.
I did a quick fix which seems to work for me that I removed &amp;amp;apos;synchronized&amp;amp;apos; keyword from the methods which remove listeners in DeploymentRepository.
It means from:
https://github.com/jbossas/jboss-eap/blob/6.x/ejb3/src/main/java/org/jboss/as/ejb3/deployment/DeploymentRepository.java#L103
and
https://github.com/jbossas/jboss-eap/blob/6.x/ejb3/src/main/java/org/jboss/as/ejb3/deployment/DeploymentRepository.java#L107
I&amp;amp;apos;m really not sure whether this is &amp;amp;apos;a correct&amp;amp;apos; fix but I just put my observation here to have some starting point.
This could not be trouble in remoting directly, maybe it&amp;amp;apos;s rather problem of MSC component. If so, please, change the jira type. Thank you.</description>
			<version>8.1.0.CR1</version>
			<fixedVersion>8.1.0.Final, 9.0.0.Alpha1</fixedVersion>
			<type>Bug</type>
		</buginformation>
		<fixedFiles>
			<file type="M">org.jboss.as.ejb3.deployment.DeploymentRepository.java</file>
		</fixedFiles>
	</bug>
	<bug id="2921" opendate="2014-02-13 08:49:10" fixdate="2014-05-19 15:57:25" resolution="Done">
		<buginformation>
			<summary>Wrong condition statement in NetworkUtils#formatAddress(InetSocketAddress)</summary>
			<description>It seems there is a wrong condition statement of formatAddress(InetSocketAddress inet) in the class org.jboss.as.network.NetworkUtils.
https://github.com/wildfly/wildfly/blob/master/network/src/main/java/org/jboss/as/network/NetworkUtils.java
This method returns "ipAddress:port", but expected to "hostname:port".
public static String formatAddress(InetSocketAddress inet)
...
// As-is
if(inet.isUnresolved()){
            result.append(inet.getHostName());
// Expected to reversely: 
if(!inet.isUnresolved()){
            result.append(inet.getHostName());
...</description>
			<version>8.0.0.Final</version>
			<fixedVersion>8.1.0.CR2</fixedVersion>
			<type>Bug</type>
		</buginformation>
		<fixedFiles>
			<file type="M">org.jboss.as.network.NetworkUtilsTestCase.java</file>
		</fixedFiles>
	</bug>
	<bug id="3302" opendate="2014-04-29 09:12:07" fixdate="2014-05-19 15:58:25" resolution="Done">
		<buginformation>
			<summary>TLSSyslog server remove BC provider, does not add it back if it was present</summary>
			<description>Syslog test kills BC provider, this may cause( and did ) random failures.
Offending code: https://github.com/wildfly/wildfly/blob/master/testsuite/integration/basic/src/test/java/org/jboss/as/test/integration/logging/syslogserver/TLSSyslogServer.java#L64</description>
			<version>8.0.0.Final</version>
			<fixedVersion>8.1.0.CR2</fixedVersion>
			<type>Bug</type>
		</buginformation>
		<fixedFiles>
			<file type="M">org.jboss.as.test.integration.logging.syslogserver.TLSSyslogServer.java</file>
		</fixedFiles>
	</bug>
	<bug id="2596" opendate="2013-12-02 21:10:31" fixdate="2014-05-19 20:29:32" resolution="Done">
		<buginformation>
			<summary>JASPI Web layer problems</summary>
			<description>I have found several problems in the current (master, trunk) Wildfly JASPI Web layer implementation
Undertow related:
----------------------

It does not support pre-emptive authentication:
When the ServerAuthenticationModule returns AUTH_SUCCESS and null userPrincipal, it should let the request fall through unathenticated, instead it is rejected.


It does not call secureResponse when the authentication was unsuccessful


It does not populate the org.jboss.security.SecurityContext, only the undertow Account structure.


It does not support the wrapper feature (Spec 3.8.3.5 and B.9)

The attached pull request aims to fix the first three issues.
Credits: This patch is based on Arjan Tijms&amp;amp;apos; analysis, and suggested patches for the Jboss 7.X valve based authentitactor.</description>
			<version>8.0.0.CR1</version>
			<fixedVersion>8.0.0.Final</fixedVersion>
			<type>Bug</type>
		</buginformation>
		<fixedFiles>
			<file type="M">org.wildfly.extension.undertow.deployment.UndertowDeploymentInfoService.java</file>
			<file type="M">org.wildfly.extension.undertow.security.jaspi.JASPIAuthenticationMechanism.java</file>
		</fixedFiles>
	</bug>
	<bug id="3104" opendate="2014-03-12 14:55:23" fixdate="2014-05-20 14:15:17" resolution="Done">
		<buginformation>
			<summary>datasource created with console cannot be enabled</summary>
			<description>Consider the following cli file:






/subsystem=datasources/data-source=fai-bfsa:add( \




  driver-name=PostgresJDBCDriver, \




  driver-class="org.postgresql.Driver", \




  jndi-name=java:jboss/jdbc/fai-bfsa, \




  connection-url=jdbc:postgresql://tpg0001:5432/xfgb01, \




  max-pool-size=20, \




  min-pool-size=10, \




  new-connection-sql="select 1", \




  check-valid-connection-sql="select 1", \




  user-name=uuuuu, \




  password=uuuuu, \




  background-validation=false, \




  validate-on-match=false, \




  enabled=false, \




  jta=true, \




  use-ccm=true, \




  share-prepared-statements=false, \




)






This is reflected into standalone-full.xml as:






&amp;lt;datasource jta="true" jndi-name="java:jboss/jdbc/fai-bfsa" pool-name="fai-bfsa" enabled="false" use-ccm="true"&amp;gt;




    &amp;lt;connection-url&amp;gt;jdbc:postgresql://tpg0001:5432/xfgb01&amp;lt;/connection-url&amp;gt;




    &amp;lt;driver-class&amp;gt;org.postgresql.Driver&amp;lt;/driver-class&amp;gt;




    &amp;lt;driver&amp;gt;PostgresJDBCDriver&amp;lt;/driver&amp;gt;




    &amp;lt;new-connection-sql&amp;gt;select 1&amp;lt;/new-connection-sql&amp;gt;




    &amp;lt;pool&amp;gt;




        &amp;lt;min-pool-size&amp;gt;10&amp;lt;/min-pool-size&amp;gt;




        &amp;lt;max-pool-size&amp;gt;20&amp;lt;/max-pool-size&amp;gt;




    &amp;lt;/pool&amp;gt;




    &amp;lt;security&amp;gt;




        &amp;lt;user-name&amp;gt;uuuuu&amp;lt;/user-name&amp;gt;




        &amp;lt;password&amp;gt;uuuuu&amp;lt;/password&amp;gt;




    &amp;lt;/security&amp;gt;




    &amp;lt;validation&amp;gt;




        &amp;lt;check-valid-connection-sql&amp;gt;select 1&amp;lt;/check-valid-connection-sql&amp;gt;




        &amp;lt;validate-on-match&amp;gt;false&amp;lt;/validate-on-match&amp;gt;




        &amp;lt;background-validation&amp;gt;false&amp;lt;/background-validation&amp;gt;




    &amp;lt;/validation&amp;gt;




    &amp;lt;statement&amp;gt;




        &amp;lt;share-prepared-statements&amp;gt;false&amp;lt;/share-prepared-statements&amp;gt;




    &amp;lt;/statement&amp;gt;




&amp;lt;/datasource&amp;gt;






I can now enable and disable that datasource both via cli or console without problem.
If i create the same datasource via console, with the very same attributes, producing the very same standalone-full.xml (i have diffed them), i cannot enable it nether via cli nor console because i get the following error:






14:33:00,230 ERROR [org.jboss.as.connector.subsystems.datasources.AbstractDataSourceService$AS7DataSourceDeployer] (MSC service thread 1-3) Error during the deployment of java:jboss/jdbc/fai-bfsa: java.lang.IllegalStateException




        at org.jboss.msc.value.InjectedValue.getValue(InjectedValue.java:47)




        at org.jboss.as.connector.subsystems.datasources.AbstractDataSourceService$AS7DataSourceDeployer.getTransactionIntegration(AbstractDataSourceService.java:409)




        at org.jboss.as.connector.subsystems.datasources.AbstractDataSourceService$AS7DataSourceDeployer.createMcf(AbstractDataSourceService.java:461)




        at org.jboss.jca.deployers.common.AbstractDsDeployer.deployDataSource(AbstractDsDeployer.java:430)




        at org.jboss.jca.deployers.common.AbstractDsDeployer.createObjectsAndInjectValue(AbstractDsDeployer.java:283)




        at org.jboss.as.connector.subsystems.datasources.AbstractDataSourceService$AS7DataSourceDeployer.deploy(AbstractDataSourceService.java:310)




        at org.jboss.as.connector.subsystems.datasources.AbstractDataSourceService.start(AbstractDataSourceService.java:124)




        at org.jboss.msc.service.ServiceControllerImpl$StartTask.startService(ServiceControllerImpl.java:1948)




        at org.jboss.msc.service.ServiceControllerImpl$StartTask.run(ServiceControllerImpl.java:1881)




        at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1145) [rt.jar:1.7.0_51]




        at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:615) [rt.jar:1.7.0_51]




        at java.lang.Thread.run(Thread.java:744) [rt.jar:1.7.0_51]









14:33:00,236 ERROR [org.jboss.msc.service.fail] (MSC service thread 1-3) MSC000001: Failed to start service jboss.data-source.java:jboss/jdbc/fai-bfsa: org.jboss.msc.service.StartException in service jboss.data-source.java:jboss/jdbc/fai-bfsa: JBAS010433: Error during the deployment of fai-bfsa




        at org.jboss.as.connector.subsystems.datasources.AbstractDataSourceService.start(AbstractDataSourceService.java:131)




        at org.jboss.msc.service.ServiceControllerImpl$StartTask.startService(ServiceControllerImpl.java:1948) [jboss-msc-1.2.0.Final.jar:1.2.0.Final]




        at org.jboss.msc.service.ServiceControllerImpl$StartTask.run(ServiceControllerImpl.java:1881) [jboss-msc-1.2.0.Final.jar:1.2.0.Final]




        at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1145) [rt.jar:1.7.0_51]




        at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:615) [rt.jar:1.7.0_51]




        at java.lang.Thread.run(Thread.java:744) [rt.jar:1.7.0_51]




Caused by: org.jboss.msc.service.StartException in anonymous service: JBAS010432: Unable to start the ds because it generated more than one cf




        at org.jboss.as.connector.subsystems.datasources.AbstractDataSourceService.start(AbstractDataSourceService.java:126)




        ... 5 more









14:33:00,242 INFO  [org.jboss.as.controller] (XNIO-4 task-2) JBAS014774: Servicestatus report




JBAS014775:    New missing/unsatisfied dependencies:




      service jboss.data-source.reference-factory.fai-bfsa (missing) dependents:[service jboss.naming.context.java.jboss.jdbc.fai-bfsa]




      service jboss.data-source-config.fai-bfsa (missing) dependents: [service jboss.data-source.java:jboss/jdbc/fai-bfsa]




JBAS014777:   Services which failed to start:      service jboss.data-source.java:jboss/jdbc/fai-bfsa





</description>
			<version>8.0.0.Final</version>
			<fixedVersion>9.0.0.Alpha1</fixedVersion>
			<type>Bug</type>
		</buginformation>
		<fixedFiles>
			<file type="M">org.jboss.as.connector.subsystems.datasources.Constants.java</file>
			<file type="M">org.jboss.as.connector.subsystems.datasources.DataSourceDefinition.java</file>
		</fixedFiles>
		<links>
			<link type="Dependency" description="is blocked by">397</link>
			<link type="Related" description="relates to">1460</link>
		</links>
	</bug>
	<bug id="3207" opendate="2014-04-02 12:12:45" fixdate="2014-05-20 21:13:07" resolution="Duplicate Issue">
		<buginformation>
			<summary>ContextNotActiveException: WELD-001303: No active contexts for scope type javax.faces.flow.builder.FlowDefinition on reload</summary>
			<description>Deploy JSF application and reload the server (:reload from CLI).






14:07:53,201 SEVERE [javax.enterprise.resource.webcontainer.jsf.config] (MSC service thread 1-2) Critical error during deployment: : org.jboss.weld.context.ContextNotActiveException: WELD-001303: No active contexts for scope type javax.faces.flow.builder.FlowDefinition




	at org.jboss.weld.manager.BeanManagerImpl.getContext(BeanManagerImpl.java:680) [weld-core-impl-2.1.2.Final.jar:2014-01-09 09:23]




	at org.jboss.weld.util.ForwardingBeanManager.getContext(ForwardingBeanManager.java:181) [weld-core-impl-2.1.2.Final.jar:2014-01-09 09:23]




	at com.sun.faces.application.ApplicationAssociate$PostConstructApplicationListener.loadFlows(ApplicationAssociate.java:323) [jsf-impl-2.2.6-jbossorg-2.jar:]




	at com.sun.faces.application.ApplicationAssociate$PostConstructApplicationListener.processEvent(ApplicationAssociate.java:303) [jsf-impl-2.2.6-jbossorg-2.jar:]




	at javax.faces.event.SystemEvent.processListener(SystemEvent.java:108) [jboss-jsf-api_2.2_spec-2.2.6.jar:2.2.6]




	at com.sun.faces.application.ApplicationImpl.processListeners(ApplicationImpl.java:2187) [jsf-impl-2.2.6-jbossorg-2.jar:]




	at com.sun.faces.application.ApplicationImpl.invokeListenersFor(ApplicationImpl.java:2163) [jsf-impl-2.2.6-jbossorg-2.jar:]




	at com.sun.faces.application.ApplicationImpl.publishEvent(ApplicationImpl.java:296) [jsf-impl-2.2.6-jbossorg-2.jar:]




	at org.jboss.as.jsf.injection.weld.ForwardingApplication.publishEvent(ForwardingApplication.java:294) [wildfly-jsf-injection-8.0.1.Final-SNAPSHOT.jar:8.0.1.Final-SNAPSHOT]




	at com.sun.faces.config.ConfigManager.publishPostConfigEvent(ConfigManager.java:692) [jsf-impl-2.2.6-jbossorg-2.jar:]




	at com.sun.faces.config.ConfigureListener.contextInitialized(ConfigureListener.java:253) [jsf-impl-2.2.6-jbossorg-2.jar:]




	at io.undertow.servlet.core.ApplicationListeners.contextInitialized(ApplicationListeners.java:173) [undertow-servlet-1.0.3.Final.jar:1.0.3.Final]




	at io.undertow.servlet.core.DeploymentManagerImpl.deploy(DeploymentManagerImpl.java:189) [undertow-servlet-1.0.3.Final.jar:1.0.3.Final]




	at org.wildfly.extension.undertow.deployment.UndertowDeploymentService.startContext(UndertowDeploymentService.java:86)




	at org.wildfly.extension.undertow.deployment.UndertowDeploymentService.start(UndertowDeploymentService.java:71)




	at org.jboss.msc.service.ServiceControllerImpl$StartTask.startService(ServiceControllerImpl.java:1948)




	at org.jboss.msc.service.ServiceControllerImpl$StartTask.run(ServiceControllerImpl.java:1881)




	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142) [rt.jar:1.8.0]




	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617) [rt.jar:1.8.0]




	at java.lang.Thread.run(Thread.java:744) [rt.jar:1.8.0]









14:07:53,208 ERROR [org.jboss.msc.service.fail] (MSC service thread 1-2) MSC000001: Failed to start service jboss.undertow.deployment.default-server.default-host./clusterbench-passivating: org.jboss.msc.service.StartException in service jboss.undertow.deployment.default-server.default-host./clusterbench-passivating: Failed to start service




	at org.jboss.msc.service.ServiceControllerImpl$StartTask.run(ServiceControllerImpl.java:1904) [jboss-msc-1.2.1.Final.jar:1.2.1.Final]




	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142) [rt.jar:1.8.0]




	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617) [rt.jar:1.8.0]




	at java.lang.Thread.run(Thread.java:744) [rt.jar:1.8.0]




Caused by: java.lang.RuntimeException: java.lang.RuntimeException: org.jboss.weld.context.ContextNotActiveException: WELD-001303: No active contexts for scope type javax.faces.flow.builder.FlowDefinition




	at io.undertow.servlet.core.DeploymentManagerImpl.deploy(DeploymentManagerImpl.java:218)




	at org.wildfly.extension.undertow.deployment.UndertowDeploymentService.startContext(UndertowDeploymentService.java:86)




	at org.wildfly.extension.undertow.deployment.UndertowDeploymentService.start(UndertowDeploymentService.java:71)




	at org.jboss.msc.service.ServiceControllerImpl$StartTask.startService(ServiceControllerImpl.java:1948) [jboss-msc-1.2.1.Final.jar:1.2.1.Final]




	at org.jboss.msc.service.ServiceControllerImpl$StartTask.run(ServiceControllerImpl.java:1881) [jboss-msc-1.2.1.Final.jar:1.2.1.Final]




	... 3 more




Caused by: java.lang.RuntimeException: org.jboss.weld.context.ContextNotActiveException: WELD-001303: No active contexts for scope type javax.faces.flow.builder.FlowDefinition




	at com.sun.faces.config.ConfigureListener.contextInitialized(ConfigureListener.java:273)




	at io.undertow.servlet.core.ApplicationListeners.contextInitialized(ApplicationListeners.java:173)




	at io.undertow.servlet.core.DeploymentManagerImpl.deploy(DeploymentManagerImpl.java:189)




	... 7 more




Caused by: org.jboss.weld.context.ContextNotActiveException: WELD-001303: No active contexts for scope type javax.faces.flow.builder.FlowDefinition




	at org.jboss.weld.manager.BeanManagerImpl.getContext(BeanManagerImpl.java:680)




	at org.jboss.weld.util.ForwardingBeanManager.getContext(ForwardingBeanManager.java:181)




	at com.sun.faces.application.ApplicationAssociate$PostConstructApplicationListener.loadFlows(ApplicationAssociate.java:323)




	at com.sun.faces.application.ApplicationAssociate$PostConstructApplicationListener.processEvent(ApplicationAssociate.java:303)




	at javax.faces.event.SystemEvent.processListener(SystemEvent.java:108)




	at com.sun.faces.application.ApplicationImpl.processListeners(ApplicationImpl.java:2187)




	at com.sun.faces.application.ApplicationImpl.invokeListenersFor(ApplicationImpl.java:2163)




	at com.sun.faces.application.ApplicationImpl.publishEvent(ApplicationImpl.java:296)




	at org.jboss.as.jsf.injection.weld.ForwardingApplication.publishEvent(ForwardingApplication.java:294)




	at com.sun.faces.config.ConfigManager.publishPostConfigEvent(ConfigManager.java:692)




	at com.sun.faces.config.ConfigureListener.contextInitialized(ConfigureListener.java:253)




	... 9 more









14:07:53,437 INFO  [javax.enterprise.resource.webcontainer.jsf.config] (MSC service thread 1-1) Initializing Mojarra 2.2.6-jbossorg-2 20140318-1712 for context &amp;amp;apos;/translator&amp;amp;apos;




14:07:53,542 INFO  [javax.enterprise.resource.webcontainer.jsf.config] (MSC service thread 1-6) Initializing Mojarra 2.2.6-jbossorg-2 20140318-1712 for context &amp;amp;apos;/clusterbench&amp;amp;apos;




14:07:53,704 INFO  [org.wildfly.extension.undertow] (MSC service thread 1-6) JBAS017534: Registered web context: /clusterbench




14:07:54,448 INFO  [org.wildfly.extension.undertow] (MSC service thread 1-1) JBAS017534: Registered web context: /translator




14:07:54,456 ERROR [org.jboss.as.controller.management-operation] (Controller Boot Thread) JBAS014613: Operation ("deploy") failed - address: ([("deployment" =&amp;gt; "clusterbench-ee7.ear")]) - failure description: {"JBAS014671: Failed services" =&amp;gt; {"jboss.undertow.deployment.default-server.default-host./clusterbench-passivating" =&amp;gt; "org.jboss.msc.service.StartException in service jboss.undertow.deployment.default-server.default-host./clusterbench-passivating: Failed to start service




    Caused by: java.lang.RuntimeException: java.lang.RuntimeException: org.jboss.weld.context.ContextNotActiveException: WELD-001303: No active contexts for scope type javax.faces.flow.builder.FlowDefinition




    Caused by: java.lang.RuntimeException: org.jboss.weld.context.ContextNotActiveException: WELD-001303: No active contexts for scope type javax.faces.flow.builder.FlowDefinition




    Caused by: org.jboss.weld.context.ContextNotActiveException: WELD-001303: No active contexts for scope type javax.faces.flow.builder.FlowDefinition"}}




14:07:54,475 INFO  [org.jboss.as.server] (ServerService Thread Pool -- 31) JBAS018559: Deployed "clusterbench-ee7.ear" (runtime-name : "clusterbench-ee7.ear")




14:07:54,475 INFO  [org.jboss.as.server] (ServerService Thread Pool -- 31) JBAS018559: Deployed "translator.war" (runtime-name : "translator.war")




14:07:54,477 INFO  [org.jboss.as.controller] (Controller Boot Thread) JBAS014774: Service status report




JBAS014777:   Services which failed to start:      service jboss.undertow.deployment.default-server.default-host./clusterbench-passivating: org.jboss.msc.service.StartException in service jboss.undertow.deployment.default-server.default-host./clusterbench-passivating: Failed to start service









14:07:54,489 INFO  [org.jboss.as] (Controller Boot Thread) JBAS015961: Http management interface listening on http://127.0.0.1:9990/management




14:07:54,493 INFO  [org.jboss.as] (Controller Boot Thread) JBAS015951: Admin console listening on http://127.0.0.1:9990




14:07:54,493 ERROR [org.jboss.as] (Controller Boot Thread) JBAS015875: WildFly 8.0.1.Final-SNAPSHOT "WildFly" started (with errors) in 4618ms - Started 843 of 957 services (3 services failed or missing dependencies, 243 services are lazy, passive or on-demand)




14:07:54,704 INFO  [org.wildfly.extension.undertow] (MSC service thread 1-2) JBAS017535: Unregistered web context: /clusterbench




14:07:54,704 INFO  [org.wildfly.extension.undertow] (MSC service thread 1-8) JBAS017535: Unregistered web context: /clusterbench-granular




14:07:54,707 INFO  [org.infinispan.eviction.PassivationManagerImpl] (ServerService Thread Pool -- 28) ISPN000029: Passivating all entries to disk




14:07:54,709 SEVERE [javax.faces] (MSC service thread 1-8) Unable to obtain InjectionProvider from init time FacesContext. Does this container implement the Mojarra Injection SPI?




14:07:54,707 INFO  [org.infinispan.eviction.PassivationManagerImpl] (ServerService Thread Pool -- 27) ISPN000029: Passivating all entries to disk




14:07:54,709 SEVERE [javax.faces] (MSC service thread 1-8) Unable to call @PreDestroy annotated methods because no InjectionProvider can be found. Does this container implement the Mojarra Injection SPI?




14:07:54,709 INFO  [org.infinispan.eviction.PassivationManagerImpl] (ServerService Thread Pool -- 27) ISPN000030: Passivated 0 entries in 1 milliseconds




14:07:54,709 SEVERE [javax.faces] (MSC service thread 1-8) Unable to obtain InjectionProvider from init time FacesContext. Does this container implement the Mojarra Injection SPI?




14:07:54,709 INFO  [org.infinispan.eviction.PassivationManagerImpl] (ServerService Thread Pool -- 28) ISPN000030: Passivated 0 entries in 1 milliseconds




14:07:54,709 SEVERE [javax.faces] (MSC service thread 1-8) Unable to call @PreDestroy annotated methods because no InjectionProvider can be found. Does this container implement the Mojarra Injection SPI?




14:07:54,712 INFO  [org.infinispan.eviction.PassivationManagerImpl] (ServerService Thread Pool -- 21) ISPN000029: Passivating all entries to disk




14:07:54,713 INFO  [org.infinispan.eviction.PassivationManagerImpl] (ServerService Thread Pool -- 21) ISPN000030: Passivated 0 entries in 0 milliseconds




14:07:54,721 INFO  [org.jboss.as.clustering.infinispan] (ServerService Thread Pool -- 27) JBAS010282: Stopped clusterbench-ee7.ear/clusterbench-ee7-ejb-1.1.0-SNAPSHOT.jar cache from ejb container




14:07:54,722 INFO  [org.jboss.as.clustering.infinispan] (ServerService Thread Pool -- 28) JBAS010282: Stopped default-host/clusterbench-passivating cache from web container




14:07:54,724 INFO  [org.jboss.as.clustering.infinispan] (ServerService Thread Pool -- 21) JBAS010282: Stopped default-host/clusterbench-granular cache from web container




14:07:54,728 INFO  [org.infinispan.eviction.PassivationManagerImpl] (ServerService Thread Pool -- 27) ISPN000029: Passivating all entries to disk




14:07:54,728 INFO  [org.infinispan.eviction.PassivationManagerImpl] (ServerService Thread Pool -- 27) ISPN000030: Passivated 0 entries in 0 milliseconds




14:07:54,737 INFO  [org.jboss.weld.deployer] (MSC service thread 1-4) JBAS016009: Stopping weld service for deployment clusterbench-ee7.ear




14:07:54,739 INFO  [org.jboss.as.clustering.infinispan] (ServerService Thread Pool -- 27) JBAS010282: Stopped default-host/clusterbench cache from web container




14:07:54,755 INFO  [org.jboss.as.server.deployment] (MSC service thread 1-5) JBAS015974: Stopped subdeployment (runtime-name: clusterbench-ee7-web-1.1.0-SNAPSHOT-passivating.war) in 57ms




14:07:54,755 INFO  [org.jboss.as.server.deployment] (MSC service thread 1-1) JBAS015974: Stopped subdeployment (runtime-name: clusterbench-ee7-ejb-1.1.0-SNAPSHOT.jar) in 57ms




14:07:54,755 INFO  [org.jboss.as.server.deployment] (MSC service thread 1-5) JBAS015974: Stopped subdeployment (runtime-name: clusterbench-ee7-web-1.1.0-SNAPSHOT-granular.war) in 58ms




14:07:54,758 INFO  [org.jboss.as.server.deployment] (MSC service thread 1-6) JBAS015974: Stopped subdeployment (runtime-name: clusterbench-ee7-web-1.1.0-SNAPSHOT-default.war) in 60ms




14:07:54,759 INFO  [org.jboss.as.server.deployment] (MSC service thread 1-3) JBAS015877: Stopped deployment clusterbench-ee7.ear (runtime-name: clusterbench-ee7.ear) in 61ms




14:07:54,852 INFO  [org.jboss.as.server] (DeploymentScanner-threads - 2) JBAS018558: Undeployed "clusterbench-ee7.ear" (runtime-name: "clusterbench-ee7.ear")




14:07:54,853 INFO  [org.jboss.as.controller] (DeploymentScanner-threads - 2) JBAS014774: Service status report




JBAS014775:    New missing/unsatisfied dependencies:




      service jboss.deployment.subunit."clusterbench-ee7.ear"."clusterbench-ee7-ejb-1.1.0-SNAPSHOT.jar".deploymentCompleteService (missing) dependents: [service jboss.deployment.unit."clusterbench-ee7.ear".deploymentCompleteService] 




      service jboss.deployment.subunit."clusterbench-ee7.ear"."clusterbench-ee7-web-1.1.0-SNAPSHOT-default.war".deploymentCompleteService (missing) dependents: [service jboss.deployment.unit."clusterbench-ee7.ear".deploymentCompleteService] 




      service jboss.deployment.subunit."clusterbench-ee7.ear"."clusterbench-ee7-web-1.1.0-SNAPSHOT-granular.war".deploymentCompleteService (missing) dependents: [service jboss.deployment.unit."clusterbench-ee7.ear".deploymentCompleteService] 




      service jboss.deployment.subunit."clusterbench-ee7.ear"."clusterbench-ee7-web-1.1.0-SNAPSHOT-passivating.war".component."com.sun.faces.config.ConfigureListener".START (missing) dependents: [service jboss.deployment.subunit."clusterbench-ee7.ear"."clusterbench-ee7-web-1.1.0-SNAPSHOT-passivating.war".deploymentCompleteService] 




      service jboss.deployment.subunit."clusterbench-ee7.ear"."clusterbench-ee7-web-1.1.0-SNAPSHOT-passivating.war".component."javax.faces.webapp.FacesServlet".START (missing) dependents: [service jboss.deployment.subunit."clusterbench-ee7.ear"."clusterbench-ee7-web-1.1.0-SNAPSHOT-passivating.war".deploymentCompleteService] 




      service jboss.deployment.subunit."clusterbench-ee7.ear"."clusterbench-ee7-web-1.1.0-SNAPSHOT-passivating.war".component."javax.faces.webapp.FacetTag".START (missing) dependents: [service jboss.deployment.subunit."clusterbench-ee7.ear"."clusterbench-ee7-web-1.1.0-SNAPSHOT-passivating.war".deploymentCompleteService] 




      service jboss.deployment.subunit."clusterbench-ee7.ear"."clusterbench-ee7-web-1.1.0-SNAPSHOT-passivating.war".component."javax.servlet.jsp.jstl.tlv.PermittedTaglibsTLV".START (missing) dependents: [service jboss.deployment.subunit."clusterbench-ee7.ear"."clusterbench-ee7-web-1.1.0-SNAPSHOT-passivating.war".deploymentCompleteService] 




      service jboss.deployment.subunit."clusterbench-ee7.ear"."clusterbench-ee7-web-1.1.0-SNAPSHOT-passivating.war".component."javax.servlet.jsp.jstl.tlv.ScriptFreeTLV".START (missing) dependents: [service jboss.deployment.subunit."clusterbench-ee7.ear"."clusterbench-ee7-web-1.1.0-SNAPSHOT-passivating.war".deploymentCompleteService] 




      service jboss.deployment.subunit."clusterbench-ee7.ear"."clusterbench-ee7-web-1.1.0-SNAPSHOT-passivating.war".component."org.jboss.test.clusterbench.web.session.GranularHttpSessionServlet".START (missing) dependents: [service jboss.deployment.subunit."clusterbench-ee7.ear"."clusterbench-ee7-web-1.1.0-SNAPSHOT-passivating.war".deploymentCompleteService] 




      service jboss.deployment.subunit."clusterbench-ee7.ear"."clusterbench-ee7-web-1.1.0-SNAPSHOT-passivating.war".deploymentCompleteService (missing) dependents: [service jboss.deployment.unit."clusterbench-ee7.ear".deploymentCompleteService] 




      service jboss.undertow.deployment.default-server.default-host./clusterbench-passivating (missing) dependents: [service jboss.deployment.subunit."clusterbench-ee7.ear"."clusterbench-ee7-web-1.1.0-SNAPSHOT-passivating.war".deploymentCompleteService] 




JBAS014777:   Services which failed to start:      service jboss.undertow.deployment.default-server.default-host./clusterbench-passivating





</description>
			<version>8.0.0.Final</version>
			<fixedVersion>8.1.0.CR2</fixedVersion>
			<type>Bug</type>
		</buginformation>
		<fixedFiles>
			<file type="M">org.jboss.as.web.common.WarMetaData.java</file>
			<file type="M">org.wildfly.extension.undertow.deployment.UndertowDeploymentProcessor.java</file>
			<file type="M">org.jboss.as.weld.deployment.processors.WebIntegrationProcessor.java</file>
		</fixedFiles>
		<links>
			<link type="Duplicate" description="duplicates">3259</link>
		</links>
	</bug>
	<bug id="3365" opendate="2014-05-16 10:48:52" fixdate="2014-05-21 12:06:38" resolution="Done">
		<buginformation>
			<summary>ClassLoader leak in org.jboss.el.cache.FactoryFinderCache</summary>
			<description>After deploy/undeploy of a webapp that uses org.jboss.el, a reference to the webapp classloader remains in FactoryFinderCache.
I currently work around this by calling FactoryFinderCache.clearClassLoader in a ServletContextListener. Uncommenting line 26 in LeakListener makes the reference go away on undeploy.</description>
			<version>8.1.0.CR2</version>
			<fixedVersion>8.1.0.Final, 9.0.0.Alpha1</fixedVersion>
			<type>Bug</type>
		</buginformation>
		<fixedFiles>
			<file type="M">org.wildfly.extension.undertow.deployment.UndertowDeploymentService.java</file>
		</fixedFiles>
	</bug>
	<bug id="3377" opendate="2014-05-20 14:01:17" fixdate="2014-05-22 10:51:55" resolution="Done">
		<buginformation>
			<summary>Infinispan cache container statistics configuration does not propagate to caches</summary>
			<description>This is the continuation of the "WFLY-3106 Infinispan cache statistics cannot be enabled/disabled independently of the cache manager statistics" which fixed the problem of independence of this setting for caches and cache container.
However the side effect is that the cache container settings are now ignored completely and do not propagate to caches.
Technical:
Correctly fixed by WFLY-3106 this cannot be set in defineConfiguration(..) (AbstractCacheConfigurationService) because that works as an override. However, with that fix the value is ignored for caches. The cache&amp;amp;apos;s CacheAdd needs to figure this out from the conainer definition model.
The user reported the issue here:
https://community.jboss.org/message/873586</description>
			<version>8.1.0.CR2</version>
			<fixedVersion>9.0.0.Alpha1</fixedVersion>
			<type>Bug</type>
		</buginformation>
		<fixedFiles>
			<file type="M">org.jboss.as.clustering.infinispan.subsystem.DistributedCacheAdd.java</file>
			<file type="M">org.jboss.as.clustering.infinispan.subsystem.CacheAdd.java</file>
			<file type="M">org.jboss.as.clustering.infinispan.subsystem.ClusteredCacheAdd.java</file>
			<file type="M">org.jboss.as.clustering.infinispan.subsystem.SharedStateCacheAdd.java</file>
		</fixedFiles>
	</bug>
	<bug id="3359" opendate="2014-05-15 09:18:34" fixdate="2014-05-23 00:11:29" resolution="Done">
		<buginformation>
			<summary>Transferring an operation attachments to slaves may lead to an OOM</summary>
			<description>Transferring an operation attachment to a slave may lead to an OutOfMemoryError. 






19:44:47,794 ERROR [stderr] (domain-mgmt-handler-thread - 13) Exception in thread "domain-mgmt-handler-thread - 13" java.lang.OutOfMemoryError: Java heap space




19:44:47,795 ERROR [stderr] (domain-mgmt-handler-thread - 13) 	at java.util.Arrays.copyOf(Arrays.java:2271)




19:44:47,795 ERROR [stderr] (domain-mgmt-handler-thread - 13) 	at java.io.ByteArrayOutputStream.toByteArray(ByteArrayOutputStream.java:178)




19:44:47,795 ERROR [stderr] (domain-mgmt-handler-thread - 13) 	at org.jboss.as.controller.remote.TransactionalProtocolClientImpl$ReadAttachmentInputStreamRequestHandler$1.execute(TransactionalProtocolClientImpl.java:277)




19:44:47,796 ERROR [stderr] (domain-mgmt-handler-thread - 13) 	at org.jboss.as.protocol.mgmt.AbstractMessageHandler$2$1.doExecute(AbstractMessageHandler.java:283)




19:44:47,796 ERROR [stderr] (domain-mgmt-handler-thread - 13) 	at org.jboss.as.protocol.mgmt.AbstractMessageHandler$AsyncTaskRunner.run(AbstractMessageHandler.java:504)




19:44:47,797 ERROR [stderr] (domain-mgmt-handler-thread - 13) 	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1145)




19:44:47,797 ERROR [stderr] (domain-mgmt-handler-thread - 13) 	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:615)




19:44:47,797 ERROR [stderr] (domain-mgmt-handler-thread - 13) 	at java.lang.Thread.run(Thread.java:724)




19:44:47,798 ERROR [stderr] (domain-mgmt-handler-thread - 13) 	at org.jboss.threads.JBossThread.run(JBossThread.java:122)





</description>
			<version>8.0.0.Final</version>
			<fixedVersion>9.0.0.Alpha1</fixedVersion>
			<type>Bug</type>
		</buginformation>
		<fixedFiles>
			<file type="M">org.jboss.as.controller.remote.TransactionalProtocolClient.java</file>
			<file type="M">org.jboss.as.host.controller.RemoteDomainConnectionService.java</file>
			<file type="M">org.jboss.as.protocol.mgmt.ManagementChannelHandler.java</file>
			<file type="M">org.jboss.as.host.controller.mgmt.MasterDomainControllerOperationHandlerService.java</file>
			<file type="M">org.jboss.as.host.controller.DomainModelControllerService.java</file>
			<file type="M">org.jboss.as.controller.remote.TransactionalProtocolClientImpl.java</file>
			<file type="M">org.jboss.as.host.controller.mgmt.ServerToHostOperationHandlerFactoryService.java</file>
		</fixedFiles>
	</bug>
	<bug id="3360" opendate="2014-05-15 09:20:38" fixdate="2014-05-23 00:11:51" resolution="Done">
		<buginformation>
			<summary>NPE when the host-controller registration gets interrupted</summary>
			<description>Interrupting the registration of host-controller leads to NPE when trying sending the failure message response.






12:16:19,120 ERROR [org.jboss.as.controller.management-operation] (slave-request-threads - 8) JBAS014612: Operation ("read-master-domain-model") failed - address: ([]): java.lang.NullPointerException




	at java.io.DataOutputStream.writeUTF(DataOutputStream.java:347) [rt.jar:1.7.0_40]




	at java.io.DataOutputStream.writeUTF(DataOutputStream.java:323) [rt.jar:1.7.0_40]




	at org.jboss.as.protocol.mgmt.FlushableDataOutputImpl.writeUTF(FlushableDataOutputImpl.java:109) [jboss-as-protocol-7.3.2.Final-redhat-2.jar:7.3.2.Final-redhat-2]




	at org.jboss.as.host.controller.mgmt.HostControllerRegistrationHandler.sendFailedResponse(HostControllerRegistrationHandler.java:643)




	at org.jboss.as.host.controller.mgmt.HostControllerRegistrationHandler$RegistrationContext.failed(HostControllerRegistrationHandler.java:504)




	at org.jboss.as.host.controller.mgmt.HostControllerRegistrationHandler$RegistrationContext.failed(HostControllerRegistrationHandler.java:493)




	at org.jboss.as.host.controller.mgmt.HostControllerRegistrationHandler$RegistrationContext.executeBlocking(HostControllerRegistrationHandler.java:568)




	at org.jboss.as.host.controller.mgmt.HostControllerRegistrationHandler$RegistrationContext.processSubsystems(HostControllerRegistrationHandler.java:423)




	at org.jboss.as.host.controller.mgmt.HostControllerRegistrationHandler$RegistrationContext.access$800(HostControllerRegistrationHandler.java:296)




	at org.jboss.as.host.controller.mgmt.HostControllerRegistrationHandler$HostRegistrationStepHandler.execute(HostControllerRegistrationHandler.java:287)




	at org.jboss.as.controller.AbstractOperationContext.executeStep(AbstractOperationContext.java:601) [jboss-as-controller-7.3.2.Final-redhat-2.jar:7.3.2.Final-redhat-2]




	at org.jboss.as.controller.AbstractOperationContext.doCompleteStep(AbstractOperationContext.java:479) [jboss-as-controller-7.3.2.Final-redhat-2.jar:7.3.2.Final-redhat-2]




	at org.jboss.as.controller.AbstractOperationContext.completeStepInternal(AbstractOperationContext.java:283) [jboss-as-controller-7.3.2.Final-redhat-2.jar:7.3.2.Final-redhat-2]




	at org.jboss.as.controller.AbstractOperationContext.executeOperation(AbstractOperationContext.java:278) [jboss-as-controller-7.3.2.Final-redhat-2.jar:7.3.2.Final-redhat-2]




	at org.jboss.as.controller.ModelControllerImpl.internalExecute(ModelControllerImpl.java:231) [jboss-as-controller-7.3.2.Final-redhat-2.jar:7.3.2.Final-redhat-2]




	at org.jboss.as.controller.AbstractControllerService.internalExecute(AbstractControllerService.java:295) [jboss-as-controller-7.3.2.Final-redhat-2.jar:7.3.2.Final-redhat-2]




	at org.jboss.as.host.controller.DomainModelControllerService.access$400(DomainModelControllerService.java:141)




	at org.jboss.as.host.controller.DomainModelControllerService$2.execute(DomainModelControllerService.java:496)




	at org.jboss.as.host.controller.mgmt.HostControllerRegistrationHandler$RegistrationContext.processRegistration(HostControllerRegistrationHandler.java:390)




	at org.jboss.as.host.controller.mgmt.HostControllerRegistrationHandler$RegistrationContext.access$400(HostControllerRegistrationHandler.java:296)




	at org.jboss.as.host.controller.mgmt.HostControllerRegistrationHandler$InitiateRegistrationHandler$1.execute(HostControllerRegistrationHandler.java:196)




	at org.jboss.as.protocol.mgmt.AbstractMessageHandler$2$1.doExecute(AbstractMessageHandler.java:283) [jboss-as-protocol-7.3.2.Final-redhat-2.jar:7.3.2.Final-redhat-2]




	at org.jboss.as.protocol.mgmt.AbstractMessageHandler$AsyncTaskRunner.run(AbstractMessageHandler.java:504) [jboss-as-protocol-7.3.2.Final-redhat-2.jar:7.3.2.Final-redhat-2]




	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1145) [rt.jar:1.7.0_40]




	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:615) [rt.jar:1.7.0_40]




	at java.lang.Thread.run(Thread.java:724) [rt.jar:1.7.0_40]




	at org.jboss.threads.JBossThread.run(JBossThread.java:122) [jboss-threads-2.1.1.Final-redhat-1.jar:2.1.1.Final-redhat-1]





</description>
			<version>8.0.0.Final</version>
			<fixedVersion>9.0.0.Alpha1</fixedVersion>
			<type>Bug</type>
		</buginformation>
		<fixedFiles>
			<file type="M">org.jboss.as.domain.controller.logging.DomainControllerLogger.java</file>
			<file type="M">org.jboss.as.host.controller.mgmt.HostControllerRegistrationHandler.java</file>
		</fixedFiles>
	</bug>
	<bug id="3375" opendate="2014-05-20 08:39:57" fixdate="2014-05-23 00:13:35" resolution="Done">
		<buginformation>
			<summary>The HornetQ address settings are not properly inherited </summary>
			<description>When using multiple address settings in HornetQ configuration the address setting should be inherited from more generic setting by more specific setting. If two address setting are used like






&amp;lt;address-settings&amp;gt;




                    &amp;lt;address-setting match="#"&amp;gt;




                        &amp;lt;dead-letter-address&amp;gt;jms.queue.DLQ&amp;lt;/dead-letter-address&amp;gt;




                        &amp;lt;expiry-address&amp;gt;jms.queue.ExpiryQueue&amp;lt;/expiry-address&amp;gt;




                        &amp;lt;redelivery-delay&amp;gt;0&amp;lt;/redelivery-delay&amp;gt;




                        &amp;lt;max-delivery-attempts&amp;gt;5&amp;lt;/max-delivery-attempts&amp;gt;




                        &amp;lt;max-size-bytes&amp;gt;10485760&amp;lt;/max-size-bytes&amp;gt;




                        &amp;lt;page-size-bytes&amp;gt;2097152&amp;lt;/page-size-bytes&amp;gt;




                        &amp;lt;address-full-policy&amp;gt;PAGE&amp;lt;/address-full-policy&amp;gt;




                        &amp;lt;message-counter-history-day-limit&amp;gt;10&amp;lt;/message-counter-history-day-limit&amp;gt;




                    &amp;lt;/address-setting&amp;gt;




                    &amp;lt;address-setting match="jms.queue.testQueue"&amp;gt;




                        &amp;lt;dead-letter-address&amp;gt;jms.queue.DLQ&amp;lt;/dead-letter-address&amp;gt;




                        &amp;lt;expiry-address&amp;gt;jms.queue.ExpiryQueue&amp;lt;/expiry-address&amp;gt;




                        &amp;lt;redelivery-delay&amp;gt;0&amp;lt;/redelivery-delay&amp;gt;




                        &amp;lt;max-size-bytes&amp;gt;10485760&amp;lt;/max-size-bytes&amp;gt;




                        &amp;lt;page-size-bytes&amp;gt;2097152&amp;lt;/page-size-bytes&amp;gt;




                        &amp;lt;address-full-policy&amp;gt;PAGE&amp;lt;/address-full-policy&amp;gt;




                        &amp;lt;message-counter-history-day-limit&amp;gt;10&amp;lt;/message-counter-history-day-limit&amp;gt;




                    &amp;lt;/address-setting&amp;gt;




                &amp;lt;/address-settings&amp;gt;






It is expected that the setting for  jms.queue.testQueue would inherit max-delivery-attempts from default address setting "#" but it does not. Instead if uses the default value for max-delivery-attempts which is 9.</description>
			<version>8.0.0.Final</version>
			<fixedVersion>9.0.0.Alpha1</fixedVersion>
			<type>Bug</type>
		</buginformation>
		<fixedFiles>
			<file type="M">org.jboss.as.messaging.CommonAttributes.java</file>
			<file type="M">org.jboss.as.messaging.HornetQServerResourceDefinition.java</file>
			<file type="M">org.jboss.as.messaging.AddressSettingAdd.java</file>
			<file type="M">org.jboss.as.test.integration.messaging.mgmt.AddressSettingsTestCase.java</file>
		</fixedFiles>
	</bug>
	<bug id="3370" opendate="2014-05-19 10:40:56" fixdate="2014-05-23 00:14:18" resolution="Done">
		<buginformation>
			<summary>&amp;apos;max-redelivery-delay&amp;apos; is missing from the messaging schema</summary>
			<description>max-redelivery-delay is missing from address-setting in JBoss EAP 6.2.2 and also WFLY 8.1.0 CR2. I see it being part of HornetQ 2.3.x in [1]
[1] http://docs.jboss.org/hornetq/2.3.0.CR2/docs/user-manual/html/configuration-index.html</description>
			<version>8.1.0.CR2</version>
			<fixedVersion>9.0.0.Alpha1</fixedVersion>
			<type>Bug</type>
		</buginformation>
		<fixedFiles>
			<file type="M">org.jboss.as.messaging.test.MessagingSubsystem30TestCase.java</file>
			<file type="M">org.jboss.as.messaging.AddressSettingAdd.java</file>
			<file type="M">org.jboss.as.messaging.AddressSettingsResolveHandler.java</file>
			<file type="M">org.jboss.as.messaging.MessagingTransformers.java</file>
			<file type="M">org.jboss.as.messaging.AddressSettingDefinition.java</file>
			<file type="M">org.jboss.as.messaging.Element.java</file>
			<file type="M">org.jboss.as.messaging.Messaging30SubsystemParser.java</file>
		</fixedFiles>
	</bug>
	<bug id="3180" opendate="2014-03-27 15:38:13" fixdate="2014-05-23 19:03:57" resolution="Done">
		<buginformation>
			<summary>OOMs are still possible when using clustered web sessions/SFSBs w/passivation</summary>
			<description>Currently, the owner of a web session or SFSB is responsible for schedule passivation.  Unfortunately, much to my surprise, infinispan eviction commands are not broadcasted to the cluster, but are local-only.  Consequently, the number of cache entries stored in memory can grow beyond the configured passivation limits, since remote copies of old cache entries are never evicted.
To fix this, we can use the CommandDispatcher to manually broadcast eviction commands to the cluster.</description>
			<version>8.0.0.Final</version>
			<fixedVersion>9.0.0.Alpha1</fixedVersion>
			<type>Bug</type>
		</buginformation>
		<fixedFiles>
			<file type="M">org.wildfly.clustering.ejb.infinispan.BeanEvictionSchedulerTestCase.java</file>
			<file type="D">org.wildfly.clustering.web.infinispan.session.RouteLocatorService.java</file>
			<file type="M">org.wildfly.clustering.web.infinispan.session.InfinispanSessionManager.java</file>
			<file type="M">org.wildfly.clustering.web.infinispan.session.SessionEvictionScheduler.java</file>
			<file type="M">org.jboss.as.ejb3.remote.RegistryInstallerService.java</file>
			<file type="M">org.wildfly.clustering.web.infinispan.session.InfinispanSessionManagerFactoryBuilder.java</file>
			<file type="M">org.wildfly.clustering.web.infinispan.session.InfinispanSessionManagerFactory.java</file>
			<file type="M">org.jboss.as.ejb3.component.stateless.StatelessSessionComponentCreateService.java</file>
			<file type="M">org.jboss.as.clustering.infinispan.subsystem.CacheContainerAdd.java</file>
			<file type="M">org.wildfly.clustering.web.infinispan.session.RouteRegistryEntryProviderService.java</file>
			<file type="M">org.wildfly.clustering.ejb.infinispan.InfinispanBeanManager.java</file>
			<file type="M">org.wildfly.clustering.ejb.infinispan.InfinispanBeanManagerFactory.java</file>
			<file type="D">org.wildfly.clustering.web.infinispan.session.RouteLocatorBuilder.java</file>
			<file type="M">org.wildfly.clustering.ejb.infinispan.BeanEvictionScheduler.java</file>
			<file type="M">org.wildfly.clustering.web.infinispan.session.SessionEvictionSchedulerTestCase.java</file>
			<file type="D">org.wildfly.clustering.web.infinispan.session.SessionEvictionContext.java</file>
			<file type="D">org.wildfly.clustering.web.infinispan.session.InfinispanRouteLocatorService.java</file>
			<file type="D">org.wildfly.clustering.web.infinispan.session.InfinispanRouteLocatorConfiguration.java</file>
			<file type="D">org.wildfly.clustering.web.infinispan.session.SessionEvictionCommand.java</file>
			<file type="D">org.wildfly.clustering.web.infinispan.session.InfinispanRouteLocator.java</file>
			<file type="D">org.wildfly.clustering.ejb.infinispan.BeanEvictionCommand.java</file>
			<file type="D">org.wildfly.clustering.ejb.infinispan.BeanEvictionContext.java</file>
			<file type="D">org.wildfly.clustering.web.infinispan.session.InfinispanRouteLocatorBuilder.java</file>
		</fixedFiles>
	</bug>
	<bug id="3105" opendate="2014-03-12 15:12:37" fixdate="2014-06-01 02:30:41" resolution="Done">
		<buginformation>
			<summary>Container-managed EXTENDED persistence context is always joined with transaction even if UNSYNCHRONIZED</summary>
			<description>https://github.com/weld/wildfly/blob/master/testsuite/integration/basic/src/test/java/org/jboss/as/test/integration/jpa/transaction/UnsynchronizedSFSB.jav
Change this test to 





@PersistenceContext(type = EXTENDED, synchronization = UNSYNCHRONIZED)





 and it will break. 
Looks like an extended PC is always joined to the transaction and flushed on commit, the unsynchronized mode is ignored. From what I can see this is not specified and indeed would make the whole new UNSYNCHRONIZED feature kind of pointless. It&amp;amp;apos;s primary use case is propagation of unflushed/unsynchronized extended PC from a SFSB to other beans while keeping transactions intact.
</description>
			<version>8.0.0.Final</version>
			<fixedVersion>8.1.0.CR1, 8.1.0.Final</fixedVersion>
			<type>Bug</type>
		</buginformation>
		<fixedFiles>
			<file type="M">org.jboss.as.jpa.injectors.PersistenceContextInjectionSource.java</file>
			<file type="M">org.jboss.as.jpa.transaction.TransactionUtil.java</file>
			<file type="M">org.jboss.as.jpa.container.ExtendedEntityManager.java</file>
			<file type="M">org.jboss.as.test.integration.jpa.transaction.TransactionTestCase.java</file>
		</fixedFiles>
	</bug>
	<bug id="3228" opendate="2014-04-07 21:11:35" fixdate="2014-06-01 02:30:41" resolution="Done">
		<buginformation>
			<summary>ApplyRemoteMasterDomainHandler should use values sent from DC for root resource</summary>
			<description>This is needed to keep the slave copy of the resource model actually the same, and popped up during mixed domain testing of EAP with a 6.2.0 slave.
Connect directly to to 6.1.1 slave - gets domain version from master






[domain@localhost:19999 /] :read-resource




{




    "outcome" =&amp;gt; "success",




    "result" =&amp;gt; {




        "deployment" =&amp;gt; undefined,




        "deployment-overlay" =&amp;gt; undefined,




        "management-major-version" =&amp;gt; 1,




        "management-micro-version" =&amp;gt; 0,




        "management-minor-version" =&amp;gt; 6,




        "name" =&amp;gt; "Unnamed Domain",




        "namespaces" =&amp;gt; [],




        "path" =&amp;gt; undefined,




        "product-name" =&amp;gt; "EAP",




        "product-version" =&amp;gt; "6.3.0.Alpha3",




        "profile" =&amp;gt; undefined,




        "release-codename" =&amp;gt; "Janus",




        "release-version" =&amp;gt; "7.4.0.Final-redhat-SNAPSHOT",




 






Connect directly to 6.2.0 slave - does not get domain version from master






[domain@localhost:19999 /] :read-resource




{




    "outcome" =&amp;gt; "success",




    "result" =&amp;gt; {




        "management-major-version" =&amp;gt; 1,




        "management-micro-version" =&amp;gt; 0,




        "management-minor-version" =&amp;gt; 5,




        "name" =&amp;gt; "Unnamed Domain",




        "namespaces" =&amp;gt; [],




        "product-name" =&amp;gt; "EAP",




        "product-version" =&amp;gt; "6.2.0.GA",




        "release-codename" =&amp;gt; "Janus",




        "release-version" =&amp;gt; "7.3.0.Final-redhat-14",






The 6.2.0 slave should look the same as the 6.1.1 slave for these attributes. </description>
			<version>8.0.0.Final</version>
			<fixedVersion>8.1.0.CR1, 8.1.0.Final</fixedVersion>
			<type>Bug</type>
		</buginformation>
		<fixedFiles>
			<file type="M">org.jboss.as.domain.controller.operations.ApplyRemoteMasterDomainModelHandler.java</file>
			<file type="M">org.jboss.as.domain.controller.operations.ApplyRemoteMasterDomainModelHandlerTestCase.java</file>
		</fixedFiles>
	</bug>
	<bug id="2902" opendate="2014-02-11 10:21:02" fixdate="2014-06-01 02:30:47" resolution="Done">
		<buginformation>
			<summary>LockModeType.PESSIMISTIC_WRITE reported as NONE in the logs</summary>
			<description>The method getLockModeAsString reports lock mode  
LockModeType.PESSIMISTIC_WRITE as "none".
This of course is a cosmetic issue, but highly misleading, considering PESSIMISTIC_WRITE is pretty much on the opposite end of the spectrum from NONE. Ie. looking at the logs it&amp;amp;apos;s not possible to know if there was the strictest possible lock or no lock at all.</description>
			<version>8.0.0.CR1</version>
			<fixedVersion>8.1.0.CR1, 8.1.0.Final</fixedVersion>
			<type>Bug</type>
		</buginformation>
		<fixedFiles>
			<file type="M">org.jboss.as.jpa.container.AbstractEntityManager.java</file>
		</fixedFiles>
	</bug>
	<bug id="3002" opendate="2014-02-12 14:19:04" fixdate="2014-06-01 02:30:48" resolution="Done">
		<buginformation>
			<summary>ServletContext.getResourcePaths() does&amp;apos;nt meet Spec</summary>
			<description>Undertow ServletContext.getResourcePaths() does&amp;amp;apos;nt meet the Spec Servlet 2.3. Please see attched Test Web Project resource-test.zip, Undertow does&amp;amp;apos;nt resolve the resources in Child Dependencies located under WEB-INF/lib Folder</description>
			<version>8.0.0.Final</version>
			<fixedVersion>8.1.0.CR1, 8.1.0.Final</fixedVersion>
			<type>Bug</type>
		</buginformation>
		<fixedFiles>
			<file type="M">org.wildfly.extension.undertow.deployment.ServletResourceManager.java</file>
		</fixedFiles>
	</bug>
	<bug id="2923" opendate="2014-02-13 09:56:49" fixdate="2014-06-01 02:30:50" resolution="Done">
		<buginformation>
			<summary>org.jboss.as.jacorb.rmi.WorkCacheManager is a class loader leak waiting to happen</summary>
			<description>This class should be re-done to not use weak and soft references. As the values in the weak map hold a reference to the key the values will never be released until the soft references expire. </description>
			<version>8.0.0.Final</version>
			<fixedVersion>8.1.0.CR1, 8.1.0.Final</fixedVersion>
			<type>Bug</type>
		</buginformation>
		<fixedFiles>
			<file type="M">org.jboss.as.jacorb.rmi.InterfaceAnalysis.java</file>
			<file type="M">org.jboss.as.jacorb.rmi.WorkCacheManager.java</file>
			<file type="M">org.jboss.as.jacorb.deployment.JacORBMarkerProcessor.java</file>
			<file type="M">org.jboss.as.jacorb.rmi.ExceptionAnalysis.java</file>
			<file type="M">org.jboss.as.jacorb.rmi.ValueAnalysis.java</file>
		</fixedFiles>
	</bug>
	<bug id="2938" opendate="2014-02-15 01:07:31" fixdate="2014-06-01 02:30:51" resolution="Done">
		<buginformation>
			<summary>JASPIAuthenticationMechanism does not perform the is auth required check correctly</summary>
			<description></description>
			<version>8.0.0.Final</version>
			<fixedVersion>8.1.0.CR1, 8.1.0.Final</fixedVersion>
			<type>Bug</type>
		</buginformation>
		<fixedFiles>
			<file type="M">org.wildfly.extension.undertow.security.jaspi.JASPIAuthenticationMechanism.java</file>
		</fixedFiles>
	</bug>
	<bug id="2910" opendate="2014-02-12 10:24:19" fixdate="2014-06-01 02:30:51" resolution="Done">
		<buginformation>
			<summary>json.pretty on REST management has no effect</summary>
			<description>Appending &amp;amp;json.pretty or ?json.pretty to a REST request no longer produces pretty printed JSON output.</description>
			<version>8.0.0.Final</version>
			<fixedVersion>8.1.0.CR1, 8.1.0.Final</fixedVersion>
			<type>Bug</type>
		</buginformation>
		<fixedFiles>
			<file type="M">org.jboss.as.domain.http.server.DomainApiGenericOperationHandler.java</file>
			<file type="M">org.jboss.as.domain.http.server.DomainApiHandler.java</file>
		</fixedFiles>
	</bug>
	<bug id="3131" opendate="2014-03-18 16:29:51" fixdate="2014-06-01 02:30:51" resolution="Done">
		<buginformation>
			<summary>isSensitiveValue of class SensitiveVaultExpressionConstraint uses incorrect  index in java.lang.String.substring method</summary>
			<description>The isSensitiveValue(ModelNode value) method of class "org.jboss.as.controller.access.constraint.SensitiveVaultExpressionConstraint" seems to be using the incorrect  index in java.lang.String.substring method.  Which is causing the following exceptions in the logs while executing the following kind of CLI command:






[standalone@localhost:9990 /] /subsystem=logging/periodic-rotating-file-handler=FILE:write-attribute(name=formatter, value="%d{HH:mm:ss,SSS} %-5p [%c] (${jboss.node.name} %t) %s%E%n")




{




    "outcome" =&amp;gt; "failed",




    "failure-description" =&amp;gt; "JBAS014749: Operation handler failed: String index out of range: -15",




    "rolled-back" =&amp;gt; true




}






The Exception can be seen as following in the WildFly Logs:






21:58:04,821 ERROR [org.jboss.as.controller.management-operation] (management-handler-thread - 25) JBAS014612: Operation ("write-attribute") failed - address: ([




    ("subsystem" =&amp;gt; "logging"),




    ("periodic-rotating-file-handler" =&amp;gt; "FILE")




]): java.lang.StringIndexOutOfBoundsException: String index out of range: -15




	at java.lang.String.substring(String.java:1911) [rt.jar:1.7.0_51]




	at org.jboss.as.controller.access.constraint.SensitiveVaultExpressionConstraint$Factory.isSensitiveValue(SensitiveVaultExpressionConstraint.java:128) [wildfly-controller-8.0.1.Final-SNAPSHOT.jar:8.0.1.Final-SNAPSHOT]




	at org.jboss.as.controller.access.constraint.SensitiveVaultExpressionConstraint$Factory.isSensitiveAction(SensitiveVaultExpressionConstraint.java:89) [wildfly-controller-8.0.1.Final-SNAPSHOT.jar:8.0.1.Final-SNAPSHOT]




	at org.jboss.as.controller.access.constraint.SensitiveVaultExpressionConstraint$Factory.getRequiredConstraint(SensitiveVaultExpressionConstraint.java:81) [wildfly-controller-8.0.1.Final-SNAPSHOT.jar:8.0.1.Final-SNAPSHOT]




	at org.jboss.as.controller.access.rbac.DefaultPermissionFactory.getRequiredPermissions(DefaultPermissionFactory.java:201) [wildfly-controller-8.0.1.Final-SNAPSHOT.jar:8.0.1.Final-SNAPSHOT]




	at org.jboss.as.controller.access.permission.ManagementPermissionAuthorizer.authorize(ManagementPermissionAuthorizer.java:100) [wildfly-controller-8.0.1.Final-SNAPSHOT.jar:8.0.1.Final-SNAPSHOT]




	at org.jboss.as.controller.access.management.DelegatingConfigurableAuthorizer.authorize(DelegatingConfigurableAuthorizer.java:98) [wildfly-controller-8.0.1.Final-SNAPSHOT.jar:8.0.1.Final-SNAPSHOT]




	at org.jboss.as.controller.OperationContextImpl.getBasicAuthorizationResponse(OperationContextImpl.java:1153) [wildfly-controller-8.0.1.Final-SNAPSHOT.jar:8.0.1.Final-SNAPSHOT]




	at org.jboss.as.controller.OperationContextImpl.authorize(OperationContextImpl.java:1055) [wildfly-controller-8.0.1.Final-SNAPSHOT.jar:8.0.1.Final-SNAPSHOT]




	at org.jboss.as.controller.OperationContextImpl.authorize(OperationContextImpl.java:1015) [wildfly-controller-8.0.1.Final-SNAPSHOT.jar:8.0.1.Final-SNAPSHOT]




	at org.jboss.as.controller.OperationContextImpl.getResourceRegistration(OperationContextImpl.java:265) [wildfly-controller-8.0.1.Final-SNAPSHOT.jar:8.0.1.Final-SNAPSHOT]




	at org.jboss.as.controller.operations.global.WriteAttributeHandler.execute(WriteAttributeHandler.java:72) [wildfly-controller-8.0.1.Final-SNAPSHOT.jar:8.0.1.Final-SNAPSHOT]




	at org.jboss.as.controller.AbstractOperationContext.executeStep(AbstractOperationContext.java:591) [wildfly-controller-8.0.1.Final-SNAPSHOT.jar:8.0.1.Final-SNAPSHOT]




	at org.jboss.as.controller.AbstractOperationContext.doCompleteStep(AbstractOperationContext.java:469) [wildfly-controller-8.0.1.Final-SNAPSHOT.jar:8.0.1.Final-SNAPSHOT]




	at org.jboss.as.controller.AbstractOperationContext.completeStepInternal(AbstractOperationContext.java:273) [wildfly-controller-8.0.1.Final-SNAPSHOT.jar:8.0.1.Final-SNAPSHOT]




	at org.jboss.as.controller.AbstractOperationContext.executeOperation(AbstractOperationContext.java:268) [wildfly-controller-8.0.1.Final-SNAPSHOT.jar:8.0.1.Final-SNAPSHOT]




	at org.jboss.as.controller.ModelControllerImpl.internalExecute(ModelControllerImpl.java:272) [wildfly-controller-8.0.1.Final-SNAPSHOT.jar:8.0.1.Final-SNAPSHOT]




	at org.jboss.as.controller.ModelControllerImpl.execute(ModelControllerImpl.java:146) [wildfly-controller-8.0.1.Final-SNAPSHOT.jar:8.0.1.Final-SNAPSHOT]




	at org.jboss.as.controller.remote.ModelControllerClientOperationHandler$ExecuteRequestHandler.doExecute(ModelControllerClientOperationHandler.java:174) [wildfly-controller-8.0.1.Final-SNAPSHOT.jar:8.0.1.Final-SNAPSHOT]




	at org.jboss.as.controller.remote.ModelControllerClientOperationHandler$ExecuteRequestHandler.access$300(ModelControllerClientOperationHandler.java:105) [wildfly-controller-8.0.1.Final-SNAPSHOT.jar:8.0.1.Final-SNAPSHOT]




	at org.jboss.as.controller.remote.ModelControllerClientOperationHandler$ExecuteRequestHandler$1$1.run(ModelControllerClientOperationHandler.java:125) [wildfly-controller-8.0.1.Final-SNAPSHOT.jar:8.0.1.Final-SNAPSHOT]




	at org.jboss.as.controller.remote.ModelControllerClientOperationHandler$ExecuteRequestHandler$1$1.run(ModelControllerClientOperationHandler.java:121) [wildfly-controller-8.0.1.Final-SNAPSHOT.jar:8.0.1.Final-SNAPSHOT]




	at java.security.AccessController.doPrivileged(Native Method) [rt.jar:1.7.0_51]




	at javax.security.auth.Subject.doAs(Subject.java:415) [rt.jar:1.7.0_51]




	at org.jboss.as.controller.AccessAuditContext.doAs(AccessAuditContext.java:94) [wildfly-controller-8.0.1.Final-SNAPSHOT.jar:8.0.1.Final-SNAPSHOT]




	at org.jboss.as.controller.remote.ModelControllerClientOperationHandler$ExecuteRequestHandler$1.execute(ModelControllerClientOperationHandler.java:121) [wildfly-controller-8.0.1.Final-SNAPSHOT.jar:8.0.1.Final-SNAPSHOT]




	at org.jboss.as.protocol.mgmt.AbstractMessageHandler$2$1.doExecute(AbstractMessageHandler.java:283) [wildfly-protocol-8.0.1.Final-SNAPSHOT.jar:8.0.1.Final-SNAPSHOT]




	at org.jboss.as.protocol.mgmt.AbstractMessageHandler$AsyncTaskRunner.run(AbstractMessageHandler.java:504) [wildfly-protocol-8.0.1.Final-SNAPSHOT.jar:8.0.1.Final-SNAPSHOT]




	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1145) [rt.jar:1.7.0_51]




	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:615) [rt.jar:1.7.0_51]




	at java.lang.Thread.run(Thread.java:744) [rt.jar:1.7.0_51]




	at org.jboss.threads.JBossThread.run(JBossThread.java:122) [jboss-threads-2.1.1.Final.jar:2.1.1.Final]





</description>
			<version>8.0.0.Final</version>
			<fixedVersion>8.1.0.CR1, 8.1.0.Final</fixedVersion>
			<type>Bug</type>
		</buginformation>
		<fixedFiles>
			<file type="M">org.jboss.as.controller.access.constraint.SensitiveVaultExpressionConstraint.java</file>
		</fixedFiles>
	</bug>
	<bug id="1513" opendate="2013-06-13 06:09:36" fixdate="2014-06-02 09:33:48" resolution="Done">
		<buginformation>
			<summary>remove operation on JMS queue/topic doesn&amp;apos;t remove the destination but just unbinds from JNDI</summary>
			<description>The remove (management) operation on a JMS queue merely unbinds the queue from JNDI instead of destroying the queue. It appears that the change was done as part of https://issues.jboss.org/browse/AS7-1899 (the PR is here https://github.com/wildfly/wildfly/pull/398). The change done in that PR to address the original issue reported in that other JIRA doesn&amp;amp;apos;t look right.
So the original issue reported in that thread is that a server has a queue with messages and the server is stopped. Upon restart the messages have disappeared because upon stop, the JMSQueueService&amp;amp;apos;s stop() method used to destroy the queue. The real fix would have been to differentiate the "remove()" operation from a mere service stop. The explicit remove (handler) would then be responsible for destroying the queue (which even means a JNDI unbind) and not that service&amp;amp;apos;s stop method.
All of this even applies to the JMS topic which has a similar problem.
On a related note, the add() operation too seems suspicious because it ends up calling a createXXX on the JMSServer API which says:






/**




    * Creates a JMS Queue.




    *




    * @param queueName




    *           The name of the queue to create




    * @param selectorString




    * @param durable




    * @return true if the queue is created or if it existed and was added to




    *         JNDI




    * @throws Exception




    *            if problems were encountered creating the queue.




    */




   boolean createQueue(boolean storeConfig, String queueName, String selectorString, boolean durable, String ...bindings) throws Exception;






Notice the "if the queue is created or if it existed and was added to JNDI" part. So it appears that the management "add" operation can end up behaving like an update (write-attribute) kind of operation in some cases. I&amp;amp;apos;m not sure if that&amp;amp;apos;s good thing.</description>
			<version>8.0.0.Alpha1</version>
			<fixedVersion>9.0.0.Alpha1</fixedVersion>
			<type>Bug</type>
		</buginformation>
		<fixedFiles>
			<file type="M">org.jboss.as.messaging.jms.JMSQueueRemove.java</file>
			<file type="M">org.jboss.as.messaging.jms.JMSTopicRemove.java</file>
			<file type="M">org.jboss.as.messaging.jms.ConnectionFactoryRemove.java</file>
			<file type="M">org.jboss.as.test.integration.messaging.mgmt.JMSTopicManagementTestCase.java</file>
			<file type="M">org.jboss.as.test.integration.messaging.mgmt.JMSQueueManagementTestCase.java</file>
		</fixedFiles>
		<links>
			<link type="Dependency" description="is blocked by">1225</link>
			<link type="Related" description="is related to">1506</link>
			<link type="Related" description="is related to">1899</link>
			<link type="Superset" description="incorporates">377</link>
		</links>
	</bug>
	<bug id="3381" opendate="2014-05-20 16:54:43" fixdate="2014-06-02 14:31:15" resolution="Done">
		<buginformation>
			<summary>Possible race between remote process&amp;apos; receipt of a cancellation request and its receipt of the initial request</summary>
			<description>It&amp;amp;apos;s possible that if a managed domain operation that sends a request to another process in the domain is cancelled immediately after initiating sending of that request that the cancellation request will be received before the original request. If that occurs, the cancellation request will fail (as there is no ActiveOperation to cancel) and then the original request can hang waiting for a tx commit/rollback that will never arrive.
See http://brontes.lab.eng.brq.redhat.com/viewLog.html?buildId=15650&amp;amp;tab=buildResultsDiv&amp;amp;buildTypeId=WF_MasterLinux#testNameId2482043836298342768 for a case where this occurred.</description>
			<version>8.1.0.CR2</version>
			<fixedVersion>9.0.0.Alpha1</fixedVersion>
			<type>Bug</type>
		</buginformation>
		<fixedFiles>
			<file type="M">org.jboss.as.protocol.mgmt.ManagementRequestHandlerFactory.java</file>
			<file type="M">org.jboss.as.controller.logging.ControllerLogger.java</file>
			<file type="M">org.jboss.as.controller.remote.TransactionalProtocolOperationHandler.java</file>
			<file type="M">org.jboss.as.protocol.mgmt.ActiveOperationSupport.java</file>
		</fixedFiles>
		<links>
			<link type="Dependency" description="blocks">3058</link>
		</links>
	</bug>
	<bug id="3091" opendate="2014-03-08 23:54:23" fixdate="2014-06-02 14:31:31" resolution="Done">
		<buginformation>
			<summary>Cancellation of management ops does not properly propagate to server update tasks</summary>
			<description>When an op is cancelled on a managed domain after the domain rollout has begun, the server update tasks are not properly cancelled / cleaned up.</description>
			<version>8.0.0.Final</version>
			<fixedVersion>9.0.0.Alpha1</fixedVersion>
			<type>Bug</type>
		</buginformation>
		<fixedFiles>
			<file type="M">org.jboss.as.test.integration.domain.extension.TestExtension.java</file>
			<file type="M">org.jboss.as.protocol.mgmt.AbstractMessageHandler.java</file>
			<file type="M">org.jboss.as.controller.remote.RemoteProxyController.java</file>
			<file type="M">org.jboss.as.domain.controller.plan.ConcurrentUpdateTask.java</file>
			<file type="M">org.jboss.as.controller.remote.TransactionalProtocolClientImpl.java</file>
			<file type="M">org.jboss.as.domain.management.controller.CancelActiveOperationHandler.java</file>
			<file type="M">org.jboss.as.domain.controller.plan.ConcurrentServerGroupUpdateTask.java</file>
			<file type="M">org.jboss.as.test.integration.management.extension.blocker.BlockerExtension.java</file>
			<file type="M">org.jboss.as.protocol.mgmt.ManagementRequestContext.java</file>
			<file type="M">org.jboss.as.domain.controller.operations.coordination.HostControllerUpdateTask.java</file>
			<file type="M">org.jboss.as.test.integration.domain.suites.DomainTestSuite.java</file>
			<file type="M">org.jboss.as.controller.remote.ModelControllerClientOperationHandler.java</file>
			<file type="M">org.jboss.as.domain.controller.plan.RollingServerGroupUpdateTask.java</file>
			<file type="M">org.jboss.as.server.mgmt.domain.HostControllerConnection.java</file>
			<file type="M">org.jboss.as.controller.ProxyStepHandler.java</file>
			<file type="M">org.jboss.as.domain.controller.logging.DomainControllerLogger.java</file>
			<file type="M">org.jboss.as.controller.logging.ControllerLogger.java</file>
			<file type="M">org.jboss.as.domain.controller.plan.ServerUpdatePolicy.java</file>
			<file type="M">org.jboss.as.protocol.logging.ProtocolLogger.java</file>
			<file type="M">org.jboss.as.domain.controller.plan.ServerTaskExecutor.java</file>
			<file type="M">org.jboss.as.protocol.mgmt.ActiveOperationSupport.java</file>
			<file type="M">org.jboss.as.controller.remote.TransactionalProtocolOperationHandler.java</file>
			<file type="M">org.jboss.as.domain.controller.operations.coordination.DomainSlaveHandler.java</file>
			<file type="M">org.jboss.as.domain.controller.operations.coordination.DomainRolloutStepHandler.java</file>
			<file type="M">org.jboss.as.test.integration.domain.extension.ExtensionSetup.java</file>
		</fixedFiles>
		<links>
			<link type="Dependency" description="blocks">3058</link>
		</links>
	</bug>
	<bug id="3090" opendate="2014-03-07 23:53:50" fixdate="2014-06-02 14:31:44" resolution="Done">
		<buginformation>
			<summary>Administrative cancellation of management ops results in closed connections</summary>
			<description>Administrative cancellation of management ops is implemented by the thread that is handling the cancellation interrupting the thread that is executing the op. This works, but the thread executing the op can&amp;amp;apos;t readily distinguish between interruption do to admin action and cancellation for other reasons such as server shutdown. The OperationContext code detects interruption but restores the interrupted state to the thread, which is valid for the shutdown case. For the administrative cancellation case, it has the negative side effect of producing InterruptedExceptions later on; e.g. when the thread attempts to send data to the remote caller.
This is particularly an issue in domain mode where the "caller" is a controlling process (HC). The InterruptedException has the effect of terminating the connection from the callee to the controlling process.
The operation execution code needs to be able to distinguish between administrative cancellation and other causes of interruption.</description>
			<version>8.0.0.Final</version>
			<fixedVersion>9.0.0.Alpha1</fixedVersion>
			<type>Bug</type>
		</buginformation>
		<fixedFiles>
			<file type="M">org.jboss.as.controller.remote.ModelControllerClientOperationHandler.java</file>
			<file type="M">org.jboss.as.controller.remote.TransactionalProtocolOperationHandler.java</file>
			<file type="M">org.jboss.as.test.integration.domain.extension.TestExtension.java</file>
			<file type="M">org.jboss.as.protocol.mgmt.AbstractMessageHandler.java</file>
			<file type="M">org.jboss.as.controller.remote.RemoteProxyController.java</file>
			<file type="M">org.jboss.as.domain.controller.plan.ConcurrentUpdateTask.java</file>
			<file type="M">org.jboss.as.controller.remote.TransactionalProtocolClientImpl.java</file>
			<file type="M">org.jboss.as.domain.management.controller.CancelActiveOperationHandler.java</file>
			<file type="M">org.jboss.as.domain.controller.plan.ConcurrentServerGroupUpdateTask.java</file>
			<file type="M">org.jboss.as.test.integration.management.extension.blocker.BlockerExtension.java</file>
			<file type="M">org.jboss.as.protocol.mgmt.ManagementRequestContext.java</file>
			<file type="M">org.jboss.as.domain.controller.operations.coordination.HostControllerUpdateTask.java</file>
			<file type="M">org.jboss.as.test.integration.domain.suites.DomainTestSuite.java</file>
			<file type="M">org.jboss.as.domain.controller.plan.RollingServerGroupUpdateTask.java</file>
			<file type="M">org.jboss.as.server.mgmt.domain.HostControllerConnection.java</file>
			<file type="M">org.jboss.as.controller.ProxyStepHandler.java</file>
			<file type="M">org.jboss.as.domain.controller.logging.DomainControllerLogger.java</file>
			<file type="M">org.jboss.as.controller.logging.ControllerLogger.java</file>
			<file type="M">org.jboss.as.domain.controller.plan.ServerUpdatePolicy.java</file>
			<file type="M">org.jboss.as.protocol.logging.ProtocolLogger.java</file>
			<file type="M">org.jboss.as.domain.controller.plan.ServerTaskExecutor.java</file>
			<file type="M">org.jboss.as.protocol.mgmt.ActiveOperationSupport.java</file>
			<file type="M">org.jboss.as.domain.controller.operations.coordination.DomainSlaveHandler.java</file>
			<file type="M">org.jboss.as.domain.controller.operations.coordination.DomainRolloutStepHandler.java</file>
			<file type="M">org.jboss.as.test.integration.domain.extension.ExtensionSetup.java</file>
		</fixedFiles>
		<links>
			<link type="Dependency" description="blocks">3058</link>
		</links>
	</bug>
	<bug id="3418" opendate="2014-05-29 13:22:31" fixdate="2014-06-03 14:59:29" resolution="Done">
		<buginformation>
			<summary>deployed applications are not distributed to host controller(s)</summary>
			<description>when a new HC is brought up into an existing DC/HC environment, it does not receive a copy of all deployed applications (e.g. the "content" folder)</description>
			<version>8.1.0.CR2</version>
			<fixedVersion>9.0.0.Alpha1</fixedVersion>
			<type>Bug</type>
		</buginformation>
		<fixedFiles>
			<file type="M">org.jboss.as.domain.controller.operations.ApplyRemoteMasterDomainModelHandler.java</file>
			<file type="M">org.jboss.as.domain.controller.operations.deployment.DeploymentAddHandler.java</file>
			<file type="M">org.jboss.as.domain.controller.resources.DomainRootDefinition.java</file>
			<file type="M">org.jboss.as.test.integration.domain.DomainControllerMigrationTestCase.java</file>
			<file type="M">org.jboss.as.domain.controller.resources.DomainDeploymentResourceDefinition.java</file>
			<file type="M">org.jboss.as.domain.controller.resources.ServerGroupResourceDefinition.java</file>
		</fixedFiles>
	</bug>
	<bug id="3402" opendate="2014-05-26 09:52:16" fixdate="2014-06-04 12:57:06" resolution="Done">
		<buginformation>
			<summary>Patch upload in console does not work</summary>
			<description>The domain http upload handler behaves a bit different than the version in EAP and the way the console uploads streams does not work in upstream. We probably should just change it to the way EAP processes requests.</description>
			<version>8.1.0.CR2</version>
			<fixedVersion>9.0.0.Alpha1</fixedVersion>
			<type>Bug</type>
		</buginformation>
		<fixedFiles>
			<file type="M">org.jboss.as.domain.http.server.DomainApiGenericOperationHandler.java</file>
		</fixedFiles>
	</bug>
	<bug id="3255" opendate="2014-04-14 05:00:49" fixdate="2014-06-04 23:27:44" resolution="Done">
		<buginformation>
			<summary>IllegalArgumentException occurs while accessing the handler information via JMX MBean? </summary>
			<description>
While trying to get the "handler" information via JMX code the following kind of exception is encountered:







12:09:24,853 ERROR [io.undertow.request] (default task-1) UT005023: Exception handling request to /LoggerJMX/index.jsp: org.apache.jasper.JasperException: java.lang.IllegalArgumentException




	at org.apache.jasper.servlet.JspServletWrapper.service(JspServletWrapper.java:410) [jastow-1.0.0.Final.jar:1.0.0.Final]




	at org.apache.jasper.servlet.JspServlet.serviceJspFile(JspServlet.java:326) [jastow-1.0.0.Final.jar:1.0.0.Final]




	at org.apache.jasper.servlet.JspServlet.service(JspServlet.java:259) [jastow-1.0.0.Final.jar:1.0.0.Final]




	at javax.servlet.http.HttpServlet.service(HttpServlet.java:790) [jboss-servlet-api_3.1_spec-1.0.0.Final.jar:1.0.0.Final]




	at io.undertow.servlet.handlers.ServletHandler.handleRequest(ServletHandler.java:85) [undertow-servlet-1.0.5.Final.jar:1.0.5.Final]




	at io.undertow.servlet.handlers.security.ServletSecurityRoleHandler.handleRequest(ServletSecurityRoleHandler.java:61) [undertow-servlet-1.0.5.Final.jar:1.0.5.Final]




	at io.undertow.servlet.handlers.ServletDispatchingHandler.handleRequest(ServletDispatchingHandler.java:36) [undertow-servlet-1.0.5.Final.jar:1.0.5.Final]




	at org.wildfly.extension.undertow.security.SecurityContextAssociationHandler.handleRequest(SecurityContextAssociationHandler.java:78)




	at io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:25) [undertow-core-1.0.5.Final.jar:1.0.5.Final]




	at io.undertow.servlet.handlers.security.SSLInformationAssociationHandler.handleRequest(SSLInformationAssociationHandler.java:113) [undertow-servlet-1.0.5.Final.jar:1.0.5.Final]




	at io.undertow.servlet.handlers.security.ServletAuthenticationCallHandler.handleRequest(ServletAuthenticationCallHandler.java:56) [undertow-servlet-1.0.5.Final.jar:1.0.5.Final]




	at io.undertow.security.handlers.AbstractConfidentialityHandler.handleRequest(AbstractConfidentialityHandler.java:45) [undertow-core-1.0.5.Final.jar:1.0.5.Final]




	at io.undertow.servlet.handlers.security.ServletConfidentialityConstraintHandler.handleRequest(ServletConfidentialityConstraintHandler.java:61) [undertow-servlet-1.0.5.Final.jar:1.0.5.Final]




	at io.undertow.security.handlers.AuthenticationMechanismsHandler.handleRequest(AuthenticationMechanismsHandler.java:58) [undertow-core-1.0.5.Final.jar:1.0.5.Final]




	at io.undertow.servlet.handlers.security.CachedAuthenticatedSessionHandler.handleRequest(CachedAuthenticatedSessionHandler.java:70) [undertow-servlet-1.0.5.Final.jar:1.0.5.Final]




	at io.undertow.security.handlers.SecurityInitialHandler.handleRequest(SecurityInitialHandler.java:76) [undertow-core-1.0.5.Final.jar:1.0.5.Final]




	at io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:25) [undertow-core-1.0.5.Final.jar:1.0.5.Final]




	at org.wildfly.extension.undertow.security.jacc.JACCContextIdHandler.handleRequest(JACCContextIdHandler.java:61)




	at io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:25) [undertow-core-1.0.5.Final.jar:1.0.5.Final]




	at io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:25) [undertow-core-1.0.5.Final.jar:1.0.5.Final]




	at io.undertow.servlet.handlers.ServletInitialHandler.handleFirstRequest(ServletInitialHandler.java:240) [undertow-servlet-1.0.5.Final.jar:1.0.5.Final]




	at io.undertow.servlet.handlers.ServletInitialHandler.dispatchRequest(ServletInitialHandler.java:227) [undertow-servlet-1.0.5.Final.jar:1.0.5.Final]




	at io.undertow.servlet.handlers.ServletInitialHandler.access$000(ServletInitialHandler.java:73) [undertow-servlet-1.0.5.Final.jar:1.0.5.Final]




	at io.undertow.servlet.handlers.ServletInitialHandler$1.handleRequest(ServletInitialHandler.java:146) [undertow-servlet-1.0.5.Final.jar:1.0.5.Final]




	at io.undertow.server.Connectors.executeRootHandler(Connectors.java:168) [undertow-core-1.0.5.Final.jar:1.0.5.Final]




	at io.undertow.server.HttpServerExchange$1.run(HttpServerExchange.java:727) [undertow-core-1.0.5.Final.jar:1.0.5.Final]




	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1145) [rt.jar:1.7.0_21]




	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:615) [rt.jar:1.7.0_21]




	at java.lang.Thread.run(Thread.java:722) [rt.jar:1.7.0_21]




Caused by: java.lang.IllegalArgumentException




	at org.jboss.dmr.ModelValue.getChild(ModelValue.java:112)




	at org.jboss.dmr.ModelNode.get(ModelNode.java:856)




	at org.jboss.as.jmx.model.TypeConverters$ComplexTypeConverter.fromModelNode(TypeConverters.java:538)




	at org.jboss.as.jmx.model.TypeConverters$ListTypeConverter.fromModelNode(TypeConverters.java:444)




	at org.jboss.as.jmx.model.TypeConverters.fromModelNode(TypeConverters.java:114)




	at org.jboss.as.jmx.model.ModelControllerMBeanHelper.getAttribute(ModelControllerMBeanHelper.java:245)




	at org.jboss.as.jmx.model.ModelControllerMBeanHelper.getAttribute(ModelControllerMBeanHelper.java:200)




	at org.jboss.as.jmx.model.ModelControllerMBeanServerPlugin.getAttribute(ModelControllerMBeanServerPlugin.java:96)




	at org.jboss.as.jmx.PluggableMBeanServerImpl.getAttribute(PluggableMBeanServerImpl.java:384)




	at org.apache.jsp.index_jsp._jspService(index_jsp.java:73)




	at org.apache.jasper.runtime.HttpJspBase.service(HttpJspBase.java:69) [jastow-1.0.0.Final.jar:1.0.0.Final]




	at javax.servlet.http.HttpServlet.service(HttpServlet.java:790) [jboss-servlet-api_3.1_spec-1.0.0.Final.jar:1.0.0.Final]




	at org.apache.jasper.servlet.JspServletWrapper.service(JspServletWrapper.java:366) [jastow-1.0.0.Final.jar:1.0.0.Final]




	... 28 more







The Handler is configured as following:







            &amp;lt;logger category="org.jboss.as.config"&amp;gt;




                &amp;lt;handlers&amp;gt;




                    &amp;lt;handler name="CONSOLE"/&amp;gt;




                &amp;lt;/handlers&amp;gt;




                &amp;lt;level name="DEBUG"/&amp;gt;




            &amp;lt;/logger&amp;gt;





</description>
			<version>8.1.0.CR1</version>
			<fixedVersion>9.0.0.Alpha1</fixedVersion>
			<type>Bug</type>
		</buginformation>
		<fixedFiles>
			<file type="M">org.jboss.as.version.Version.java</file>
			<file type="M">org.jboss.as.logging.LoggingExtension.java</file>
			<file type="M">org.jboss.as.logging.KnownModelVersion.java</file>
			<file type="M">org.jboss.as.clustering.jgroups.subsystem.JGroupsExtension.java</file>
			<file type="M">org.jboss.as.clustering.infinispan.subsystem.InfinispanExtension.java</file>
			<file type="M">org.jboss.as.controller.SimpleListAttributeDefinition.java</file>
		</fixedFiles>
	</bug>
	<bug id="3421" opendate="2014-05-30 15:15:53" fixdate="2014-06-04 23:58:49" resolution="Done">
		<buginformation>
			<summary>Rehashing on view change can result in premature session/ejb expiration</summary>
			<description>Session/ejb expiration is scheduled only the the owning node of a given session/ejb. When a node leaves, each node that assumes ownership of the sessions/ejbs that were previously owned by the leaving node schedules expiration of those sessions. However, view change can also lead to ownership changes for any session/ejb. We are currently handling this properly. If a session/ejb changes ownership, the expiration scheduling is never cancelled, and that session/ejb will expire prematurely, unless the node reacquires ownership. When using sticky sessions, this issue is not apparent, since subsequent requests will direct to the previous owner, who will cancel expiration on the old owner and reschedule expiration on the new owner properly. However, this will be a problem for web sessions if sticky sessions is disabled - and for @Stateful EJBs, if the ejb client receives updated affinity information prior to subsequent requests.
There are at least 2 ways to address this:

When a request arrives for an existing session/ejb, we immediately cancel any scheduled expiration/eviction. This is currently a unicast, which typically results in a local call - but can go remote if the ownership has changed. Making this a cluster-wide broadcast would fix the issue.
We can allow the scheduler to expose the set of keys that are currently schedule, and, on topology change, cancel those sessions/ejbs for which the current node is no longer the owner - and reschedule on the new owner.

Option 1 adds an additional cluster-wide RPC per request.
Option 2 adds N*(N-1) unicast RPCs per view change, where N is the cluster size (i.e. each node sends 1 rpc to every other node containing the set of session/ejb IDs to schedule for expiration), 
Option 2 is the least invasive solution of the two.
EDIT: There is a 3rd options, i.e. modify the expiration tasks such that they skip expiration if the session/ejb is not owned by the current node. This is prevents the premature expiration issue, but we need some additional strategy to reschedule the session/ejb expiration on the node on the current owner.</description>
			<version>8.1.0.CR2</version>
			<fixedVersion>9.0.0.Alpha1</fixedVersion>
			<type>Bug</type>
		</buginformation>
		<fixedFiles>
			<file type="M">org.wildfly.clustering.ejb.infinispan.BeanEvictionSchedulerTestCase.java</file>
			<file type="M">org.wildfly.clustering.web.infinispan.session.CancelSchedulerCommand.java</file>
			<file type="M">org.wildfly.clustering.web.infinispan.session.SessionEvictionScheduler.java</file>
			<file type="D">org.wildfly.clustering.web.infinispan.session.AbstractSchedulerCommand.java</file>
			<file type="M">org.wildfly.clustering.ejb.infinispan.CancelSchedulerCommand.java</file>
			<file type="D">org.wildfly.clustering.web.infinispan.session.SchedulerContext.java</file>
			<file type="M">org.wildfly.clustering.web.infinispan.session.SessionExpirationSchedulerTestCase.java</file>
			<file type="M">org.wildfly.clustering.ejb.infinispan.ScheduleSchedulerCommand.java</file>
			<file type="M">org.wildfly.clustering.web.infinispan.session.ScheduleSchedulerCommand.java</file>
			<file type="D">org.wildfly.clustering.ejb.infinispan.SchedulerContext.java</file>
			<file type="M">org.wildfly.clustering.ejb.infinispan.InfinispanBeanManager.java</file>
			<file type="M">org.wildfly.clustering.web.infinispan.session.SessionEvictionSchedulerTestCase.java</file>
			<file type="M">org.wildfly.clustering.ejb.infinispan.BeanExpirationScheduler.java</file>
			<file type="D">org.jboss.as.clustering.concurrent.Scheduler.java</file>
			<file type="M">org.wildfly.clustering.ejb.infinispan.BeanEvictionScheduler.java</file>
			<file type="M">org.wildfly.clustering.ejb.infinispan.BeanExpirationSchedulerTestCase.java</file>
			<file type="D">org.wildfly.clustering.ejb.infinispan.AbstractSchedulerCommand.java</file>
			<file type="M">org.wildfly.clustering.web.infinispan.session.SessionExpirationScheduler.java</file>
			<file type="M">org.wildfly.clustering.web.infinispan.session.InfinispanSessionManager.java</file>
		</fixedFiles>
	</bug>
	<bug id="3462" opendate="2014-06-06 10:55:05" fixdate="2014-06-09 09:44:48" resolution="Done">
		<buginformation>
			<summary>wildfly host controller reading the host.xml from namespace version 1.5 will fail</summary>
			<description>current wildfly fails to load host.xml with namespace 1.5</description>
			<version>9.0.0.Beta1</version>
			<fixedVersion></fixedVersion>
			<type>Bug</type>
		</buginformation>
		<fixedFiles>
			<file type="M">org.jboss.as.host.controller.parsing.HostXml.java</file>
		</fixedFiles>
		<links>
			<link type="Cloners" description="cloned from">3461</link>
		</links>
	</bug>
	<bug id="3345" opendate="2014-05-13 12:29:46" fixdate="2014-06-11 17:06:52" resolution="Done">
		<buginformation>
			<summary>Compilation error in clustering/web/infinispan w/ JDK 8u20 and Windows</summary>
			<description>In clustering/web/infinispan/src/main/java/org/wildfly/clustering/web/infinispan/session/SimpleImmutableSessionAttributes.java I&amp;amp;apos;m getting the following compilation error which IMHO is also a logical error:






[ERROR] /C:/temp/wildfly-8.1.0.CR2/clustering/web/infinispan/src/main/java/org/wildfly/clustering/web/infinispan/session/SimpleImmutableSessionAttributes.java:[42,17] variable attributes might not have been initialized





</description>
			<version>8.1.0.CR2</version>
			<fixedVersion>9.0.0.Alpha1</fixedVersion>
			<type>Bug</type>
		</buginformation>
		<fixedFiles>
			<file type="M">org.wildfly.clustering.web.infinispan.session.SimpleImmutableSessionAttributes.java</file>
		</fixedFiles>
		<links>
			<link type="Related" description="is related to">733</link>
		</links>
	</bug>
	<bug id="3475" opendate="2014-06-10 15:57:28" fixdate="2014-06-16 15:49:24" resolution="Done">
		<buginformation>
			<summary>Support vaulted properties for JMSContext annotation</summary>
			<description>It is possible to annotate an injected JMSContext with a @JMSPasswordCredential. The userName &amp;amp; password attributes of this annotation should support to be vaulted so no user credentials would appear in clear text in the source file:






    @Inject




    @JMSConnectionFactory("java:jboss/exported/jms/RemoteConnectionFactory")




    @JMSPasswordCredential(userName = "${VAULT::messaging::userName::1}", password = "${VAULT::messaging::password::1}")




    private JMSContext context;





</description>
			<version>8.1.0.Final</version>
			<fixedVersion>9.0.0.Alpha1</fixedVersion>
			<type>Enhancement</type>
		</buginformation>
		<fixedFiles>
			<file type="M">org.jboss.as.test.integration.messaging.jms.context.InjectedJMSContextTestCase.java</file>
			<file type="M">org.jboss.as.messaging.deployment.JMSContextProducer.java</file>
			<file type="M">org.jboss.as.messaging.deployment.CDIDeploymentProcessor.java</file>
			<file type="M">org.jboss.as.messaging.deployment.JMSCDIExtension.java</file>
		</fixedFiles>
		<links>
			<link type="Duplicate" description="is duplicated by">4277</link>
		</links>
	</bug>
	<bug id="3448" opendate="2014-05-19 22:16:03" fixdate="2014-06-16 21:54:12" resolution="Done">
		<buginformation>
			<summary>Session ID change with sub-directories using "/" context (virtual host)</summary>
			<description>I used a virtual host in Wildfly like this :
&amp;lt;host name="toto" alias="www.toto.com"&amp;gt;
  &amp;lt;location name="/" handler="welcome-content"/&amp;gt;
&amp;lt;/host&amp;gt;
When I try to access www.toto.com/sub/, a new cookie is created. It would be great with a "/sub" context but it is not for a "/" context.</description>
			<version>8.1.0.Final</version>
			<fixedVersion>8.2.0.Final, 9.0.0.Alpha1</fixedVersion>
			<type>Bug</type>
		</buginformation>
		<fixedFiles>
			<file type="M">org.wildfly.extension.undertow.deployment.UndertowDeploymentInfoService.java</file>
			<file type="M">org.wildfly.extension.undertow.deployment.UndertowDeploymentProcessor.java</file>
		</fixedFiles>
		<links>
			<link type="Causality" description="causes">2355</link>
			<link type="Related" description="relates to">3758</link>
		</links>
	</bug>
	<bug id="3465" opendate="2014-06-06 17:53:36" fixdate="2014-06-17 00:54:29" resolution="Done">
		<buginformation>
			<summary>Using Infinispan eviction manager can cause ConcurrentModificationException during web session access</summary>
			<description>Because wildfly stores web session using multiple cache entries, it makes liberal use of Flag.SKIP_LOCKING when locks are already held on the primary cache entry for a given session.
Infinispan&amp;amp;apos;s eviction manager, however, treats all cache entries the same.  Thus it may try to evict a cache entry that belongs to a session that is currently locked for use by the application - since it will have no trouble locking it - because our code assumes that all session access will first lock the primary cache entry of a session.  This manifests as a mysterious ConcurrentModificationException.
Thus, we can improve the compatibility of our code with Infinispan&amp;amp;apos;s eviction manager by simply removing the use of the SKIP_LOCKING flag.  Given that the only possible source of contention is the eviction manager - the cost of doing so is fairly minimal.
I should note that our default configuration does not use Infinispan eviction.  Web session passivation is instead handled by the web session clustering code.</description>
			<version>8.1.0.Final</version>
			<fixedVersion>9.0.0.Alpha1</fixedVersion>
			<type>Bug</type>
		</buginformation>
		<fixedFiles>
			<file type="M">org.wildfly.clustering.web.infinispan.session.InfinispanSessionManager.java</file>
			<file type="M">org.wildfly.clustering.web.infinispan.session.fine.FineSessionFactory.java</file>
			<file type="M">org.wildfly.clustering.web.infinispan.session.coarse.CoarseSessionFactory.java</file>
			<file type="M">org.wildfly.clustering.web.infinispan.session.fine.FineSessionAttributes.java</file>
			<file type="M">org.wildfly.clustering.web.infinispan.sso.coarse.CoarseSSOFactory.java</file>
			<file type="M">org.wildfly.clustering.ejb.infinispan.InfinispanBeanManager.java</file>
		</fixedFiles>
	</bug>
	<bug id="3499" opendate="2014-06-16 07:37:58" fixdate="2014-06-17 01:25:46" resolution="Done">
		<buginformation>
			<summary>POA_QUEUE_MAX is limited to 200 in EAP 5 a value of 500 was possible</summary>
			<description>Description from Bugzilla https://bugzilla.redhat.com/show_bug.cgi?id=1070709 :
POA_QUEUE_MAX is limited to 200 in EAP 5 a value of 500 was possible</description>
			<version>8.1.0.Final</version>
			<fixedVersion>9.0.0.Alpha1</fixedVersion>
			<type>Bug</type>
		</buginformation>
		<fixedFiles>
			<file type="M">org.jboss.as.jacorb.JacORBSubsystemDefinitions.java</file>
		</fixedFiles>
	</bug>
	<bug id="3396" opendate="2014-05-23 08:36:49" fixdate="2014-06-17 13:29:36" resolution="Done">
		<buginformation>
			<summary>NPE in TimerResourceDefinition</summary>
			<description>I am experiencing race conditions when running test remotely from Arquillian to Wildfly 8.1.0.CR2. In 2 of 3 Cases i get a NPE in Wildfly in relation to one of my own scheduled EJB.
Stacktrace:






10:08:56,169 INFO  [org.jboss.as.server] (management-handler-thread - 1) JBAS018559: Deployed "core-dist-0.6.ear" (runtime-name : "core-dist-0.6.ear")




10:08:58,102 ERROR [org.jboss.as.controller.management-operation] (management-handler-thread - 2) JBAS014612: Operation ("read-attribute") failed - address: ([




    ("deployment" =&amp;gt; "core-dist-0.6.ear"),




    ("subdeployment" =&amp;gt; "core.jar"),




    ("subsystem" =&amp;gt; "ejb3"),




    ("singleton-bean" =&amp;gt; "FileDeploymentScanner"),




    ("service" =&amp;gt; "timer-service"),




    ("timer" =&amp;gt; "53ca8249-b0a1-42ab-810b-abad39cb3d19")




]): java.lang.NullPointerException




	at org.jboss.as.ejb3.subsystem.deployment.TimerResourceDefinition$10.readAttribute(TimerResourceDefinition.java:268)




	at org.jboss.as.ejb3.subsystem.deployment.TimerResourceDefinition$AbstractReadAttributeHandler.executeRuntime(TimerResourceDefinition.java:364)




	at org.jboss.as.ejb3.subsystem.deployment.TimerResourceDefinition$AbstractTimerHandler$1.execute(TimerResourceDefinition.java:330)




	at org.jboss.as.controller.AbstractOperationContext.executeStep(AbstractOperationContext.java:606) [wildfly-controller-8.1.0.CR2.jar:8.1.0.CR2]




	at org.jboss.as.controller.AbstractOperationContext.doCompleteStep(AbstractOperationContext.java:484) [wildfly-controller-8.1.0.CR2.jar:8.1.0.CR2]




	at org.jboss.as.controller.AbstractOperationContext.completeStepInternal(AbstractOperationContext.java:281) [wildfly-controller-8.1.0.CR2.jar:8.1.0.CR2]




	at org.jboss.as.controller.AbstractOperationContext.executeOperation(AbstractOperationContext.java:276) [wildfly-controller-8.1.0.CR2.jar:8.1.0.CR2]




	at org.jboss.as.controller.ModelControllerImpl.internalExecute(ModelControllerImpl.java:271) [wildfly-controller-8.1.0.CR2.jar:8.1.0.CR2]




	at org.jboss.as.controller.ModelControllerImpl.execute(ModelControllerImpl.java:145) [wildfly-controller-8.1.0.CR2.jar:8.1.0.CR2]




	at org.jboss.as.controller.remote.ModelControllerClientOperationHandler$ExecuteRequestHandler.doExecute(ModelControllerClientOperationHandler.java:199) [wildfly-controller-8.1.0.CR2.jar:8.1.0.CR2]




	at org.jboss.as.controller.remote.ModelControllerClientOperationHandler$ExecuteRequestHandler.access$300(ModelControllerClientOperationHandler.java:130) [wildfly-controller-8.1.0.CR2.jar:8.1.0.CR2]




	at org.jboss.as.controller.remote.ModelControllerClientOperationHandler$ExecuteRequestHandler$1$1.run(ModelControllerClientOperationHandler.java:150) [wildfly-controller-8.1.0.CR2.jar:8.1.0.CR2]




	at org.jboss.as.controller.remote.ModelControllerClientOperationHandler$ExecuteRequestHandler$1$1.run(ModelControllerClientOperationHandler.java:146) [wildfly-controller-8.1.0.CR2.jar:8.1.0.CR2]




	at java.security.AccessController.doPrivileged(Native Method) [rt.jar:1.7.0_55]




	at javax.security.auth.Subject.doAs(Subject.java:415) [rt.jar:1.7.0_55]




	at org.jboss.as.controller.AccessAuditContext.doAs(AccessAuditContext.java:94) [wildfly-controller-8.1.0.CR2.jar:8.1.0.CR2]




	at org.jboss.as.controller.remote.ModelControllerClientOperationHandler$ExecuteRequestHandler$1.execute(ModelControllerClientOperationHandler.java:146) [wildfly-controller-8.1.0.CR2.jar:8.1.0.CR2]




	at org.jboss.as.protocol.mgmt.AbstractMessageHandler$2$1.doExecute(AbstractMessageHandler.java:283) [wildfly-protocol-8.1.0.CR2.jar:8.1.0.CR2]




	at org.jboss.as.protocol.mgmt.AbstractMessageHandler$AsyncTaskRunner.run(AbstractMessageHandler.java:504) [wildfly-protocol-8.1.0.CR2.jar:8.1.0.CR2]




	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1145) [rt.jar:1.7.0_55]




	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:615) [rt.jar:1.7.0_55]




	at java.lang.Thread.run(Thread.java:745) [rt.jar:1.7.0_55]




	at org.jboss.threads.JBossThread.run(JBossThread.java:122) [jboss-threads-2.1.1.Final.jar:2.1.1.Final]






The arquillian test prints:











com.ieffects.core.integration.ImportTest STANDARD_ERROR




    May 23, 2014 10:08:49 AM org.xnio.Xnio &amp;lt;clinit&amp;gt;




    INFO: XNIO version 3.2.2.Final




    May 23, 2014 10:08:49 AM org.xnio.nio.NioXnio &amp;lt;clinit&amp;gt;




    INFO: XNIO NIO Implementation Version 3.2.2.Final




    May 23, 2014 10:08:49 AM org.jboss.remoting3.EndpointImpl &amp;lt;clinit&amp;gt;




    INFO: JBoss Remoting version 4.0.3.Final




    May 23, 2014 10:08:58 AM org.jboss.as.arquillian.container.ManagementClient checkSuccessful




    ERROR: Operation {




        "operation" =&amp;gt; "read-resource",




        "recursive" =&amp;gt; "true",




        "address" =&amp;gt; undefined




    } did not succeed. Result was {




        "outcome" =&amp;gt; "failed",




        "result" =&amp;gt; {




            "management-major-version" =&amp;gt; 2,




            "management-micro-version" =&amp;gt; 0,




            "management-minor-version" =&amp;gt; 1,




            "name" =&amp;gt; "cust",




            "namespaces" =&amp;gt; [],




            "product-name" =&amp;gt; undefined,




            "product-version" =&amp;gt; undefined,




            "profile-name" =&amp;gt; undefined,




            "release-codename" =&amp;gt; "Kenny",




            "release-version" =&amp;gt; "8.1.0.CR2",




            "schema-locations" =&amp;gt; [],




            "core-service" =&amp;gt; {




                "management" =&amp;gt; {




                    "access" =&amp;gt; {




                        "authorization" =&amp;gt; {




... the complete wildfly configuration...




        },




        "rolled-back" =&amp;gt; true




    }






My scheduled Service FileDeploymentScanner is somewhat special, it schedules the times itself (No Schedule annotation. Simplified it looks like this:






@ConcurrencyManagement(ConcurrencyManagementType.BEAN)




@Singleton




@Startup




@TransactionAttribute(TransactionAttributeType.NOT_SUPPORTED)




public class FileDeploymentScanner {









	@Resource




	private TimerService _timerService;









	/**




	 * Scans and deploys files according to configuration.




	 */




	@Timeout




	public void handleClick() {




		System.out.println("handle click");




	}









	/**




	 * Initializes the service.




	 */




	@PostConstruct




	public void startup() {




		System.out.println("Starting timer service");




		_timerService.createSingleActionTimer(10000, new TimerConfig("FileDeploymentScanner", false));




		try {




			Thread.sleep(10000);




		} catch (InterruptedException e) {




			// TODO Auto-generated catch block




			e.printStackTrace();




		}




		System.out.println("Started timer service");




	}









}






What is happening, is, the arquillian client apparently tries to read complete wildfly configuration (dont know why), and during this step it fails to do so. I failed to write reproducer ear/app. I can&amp;amp;apos;t release my closed source though which produces this error. But hopefully, this NPE is easy to fix. </description>
			<version>8.1.0.CR2</version>
			<fixedVersion>9.0.0.Alpha1</fixedVersion>
			<type>Bug</type>
		</buginformation>
		<fixedFiles>
			<file type="M">org.jboss.as.ejb3.subsystem.deployment.TimerResourceDefinition.java</file>
		</fixedFiles>
	</bug>
	<bug id="3382" opendate="2014-05-20 17:53:30" fixdate="2014-06-19 20:37:07" resolution="Done">
		<buginformation>
			<summary>JDBC batch repository does not survive a reload operation</summary>
			<description>If the batch subsystem job-repository-type is set to jdbc and a :reload operation is executed after a batch job has been executed the JDBC repository will no longer work as it holds on to an old DataSource.</description>
			<version>8.0.0.Final</version>
			<fixedVersion>9.0.0.Alpha1</fixedVersion>
			<type>Bug</type>
		</buginformation>
		<fixedFiles>
			<file type="M">org.wildfly.jberet.BatchEnvironmentFactory.java</file>
			<file type="D">org.wildfly.jberet.BatchConfiguration.java</file>
			<file type="M">org.wildfly.extension.batch.deployment.BatchEnvironmentProcessor.java</file>
			<file type="M">org.wildfly.extension.batch.BatchSubsystemParser.java</file>
			<file type="M">org.wildfly.jberet.DelegatingBatchEnvironment.java</file>
			<file type="M">org.wildfly.extension.batch.BatchSubsystemDefinition.java</file>
			<file type="M">org.wildfly.jberet.services.BatchEnvironmentService.java</file>
			<file type="M">org.wildfly.extension.batch.JobRepositoryDefinition.java</file>
		</fixedFiles>
		<links>
			<link type="Dependency" description="is blocked by">84</link>
		</links>
	</bug>
	<bug id="3533" opendate="2014-06-20 15:39:54" fixdate="2014-06-20 22:07:59" resolution="Done">
		<buginformation>
			<summary>Some web/ejb externalizers are not loading properly</summary>
			<description>While investigating alternate file cache store options, I noticed that the serialized forms for certain cache keys were unexpectedly large.  Both the org.wildfly.clustering.web.infinispan and org.wildfly.clustering.ejb.infinispan are not importing services from org.jboss.as.clustering.infinispan.  Consequently, the externalizers from these modules are not being loaded properly.  Additionally, ejb cache keys are not properly using the SessionIDExternalizer to serialize SessionID, causing these keys to be larger than they ought to be.</description>
			<version>8.1.0.Final</version>
			<fixedVersion>9.0.0.Alpha1</fixedVersion>
			<type>Bug</type>
		</buginformation>
		<fixedFiles>
			<file type="M">org.wildfly.clustering.ejb.infinispan.bean.InfinispanBeanKeyExternalizer.java</file>
		</fixedFiles>
	</bug>
	<bug id="3438" opendate="2014-06-03 14:32:05" fixdate="2014-06-23 14:42:20" resolution="Done">
		<buginformation>
			<summary>Eliminate use of optional dependencies for LocalEJBReceiver</summary>
			<description>This issue was initially raised on stackoverflow (see below).
When the EJB subsystem starts, it starts instances of LocalEJBReceiver which have optional dependencies on the Remoting Endpoint as well as the EJBRemoteConnectorService. I assume that these were marked as optional as remote invocations on EJBs is not required by the spec for the web profile. 
As stated in the forum post, the issue is that the LocalEJBReceiver gets started before its dependency EJBRemoteConnectorService and so the optional dependency does not get resolved correctly - effectively turning off the LocalEJBReceiver&amp;amp;apos;s ability to add cluster nodes to cluster contexts for the clusters it belongs to.
This results in the exception
.java.lang.IllegalStateException: EJBCLIENT000029: No cluster context available for cluster named ejb
The solution described in the forum post works to ensure that the dependencies are established correctly, but we need to factor into this what the spec says about the web profile and the possibility that some components (e.g. the EJBRemoteConnector) may be optionally removed.</description>
			<version>8.0.0.Final</version>
			<fixedVersion>9.0.0.Beta1</fixedVersion>
			<type>Bug</type>
		</buginformation>
		<fixedFiles>
			<file type="M">org.jboss.as.ejb3.subsystem.EJB3RemoteResourceDefinition.java</file>
			<file type="M">org.jboss.as.ejb3.subsystem.EJB3RemoteServiceAdd.java</file>
			<file type="M">org.jboss.as.ejb3.subsystem.EJB3SubsystemAdd.java</file>
		</fixedFiles>
	</bug>
	<bug id="3517" opendate="2014-06-18 14:38:33" fixdate="2014-06-24 16:17:28" resolution="Done">
		<buginformation>
			<summary>DeploymentMountProvider leaks thread pools</summary>
			<description>DeploymentMountProvider.start() calls Executors.newScheduledThreadPool but stop() does not shutdown the pool. The effect is the reload command results in a slow thread leak that will eventually result in OOM.</description>
			<version>8.1.0.Final</version>
			<fixedVersion>9.0.0.Alpha1</fixedVersion>
			<type>Bug</type>
		</buginformation>
		<fixedFiles>
			<file type="M">org.jboss.as.server.deployment.DeploymentMountProvider.java</file>
		</fixedFiles>
	</bug>
	<bug id="3508" opendate="2014-06-17 06:53:46" fixdate="2014-06-25 01:40:04" resolution="Done">
		<buginformation>
			<summary> add-user.sh exits with status code 0 when password complexity fails</summary>
			<description>Description from Bugzilla https://bugzilla.redhat.com/show_bug.cgi?id=1104730






add-user.sh exists with status code 0 when the password complexity check fails.  This should exit with status code 1 instead.









Version-Release number of selected component (if applicable):




6.2.0









How reproducible:




./add-user.sh -u derp -p 1234; echo $?









Actual results:




0









Expected results:




1





</description>
			<version>8.1.0.Final</version>
			<fixedVersion>9.0.0.Alpha1</fixedVersion>
			<type>Bug</type>
		</buginformation>
		<fixedFiles>
			<file type="M">org.jboss.as.domain.management.security.adduser.PromptPasswordState.java</file>
			<file type="M">org.jboss.as.domain.management.security.adduser.PropertyFilePrompt.java</file>
			<file type="M">org.jboss.as.domain.management.security.adduser.ValidateUserState.java</file>
			<file type="M">org.jboss.as.domain.management.security.adduser.ValidatePasswordState.java</file>
			<file type="M">org.jboss.as.domain.management.security.adduser.PromptNewUserState.java</file>
			<file type="M">org.jboss.as.domain.management.security.adduser.ErrorState.java</file>
			<file type="M">org.jboss.as.domain.management.security.adduser.ValidateRealmState.java</file>
		</fixedFiles>
	</bug>
	<bug id="3478" opendate="2014-06-10 19:01:57" fixdate="2014-06-27 04:58:16" resolution="Done">
		<buginformation>
			<summary>subnet-match is completely broken</summary>
			<description>subnet-match does not respect the value attribute. Instead, it seems to just pick the first interface it finds. No matter what I specify as a value, even if it&amp;amp;apos;s a value that&amp;amp;apos;s complete nonsense and doesn&amp;amp;apos;t match any IP address on my system, e.g.






&amp;lt;interface name="public"&amp;gt;




    &amp;lt;subnet-match value="1.2.3.0/24"/&amp;gt;




&amp;lt;/interface&amp;gt;






the ports end up bound to the only interface that is currently connected






14:45:16,740 INFO  [stdout] (ServerService Thread Pool -- 40) -------------------------------------------------------------------




14:45:16,740 INFO  [stdout] (ServerService Thread Pool -- 40) GMS: address=normandy/GamingPortal, cluster=GamingPortal, physical address=192.168.1.105:3100




14:45:16,741 INFO  [stdout] (ServerService Thread Pool -- 40) -------------------------------------------------------------------





</description>
			<version>8.1.0.Final</version>
			<fixedVersion>8.2.0.Final, 9.0.0.Alpha1</fixedVersion>
			<type>Bug</type>
		</buginformation>
		<fixedFiles>
			<file type="M">org.jboss.as.controller.interfaces.ParsedInterfaceCriteriaTestCase.java</file>
			<file type="M">org.jboss.as.controller.interfaces.SubnetMatchInterfaceCriteria.java</file>
		</fixedFiles>
	</bug>
	<bug id="1948" opendate="2013-08-25 16:09:49" fixdate="2014-06-29 09:00:11" resolution="Done">
		<buginformation>
			<summary>JMXPropertyEditorsTestCase fails on Solaris SPARC</summary>
			<description>Test org.jboss.as.test.integration.ee.jmx.property.JMXPropertyEditorsTestCase fails on Solaris, because environment variable USER is not set.
From the source:
USER_SYS_PROP = System.getProperty("os.name","linux").contains("indows")?"USERNAME":"USER";
So there is already a differentiation between Windows and others.
For Solaris LOGNAME is the variable to use. And os.name is SunOS.</description>
			<version>8.0.0.Beta1</version>
			<fixedVersion>9.0.0.Alpha1</fixedVersion>
			<type>Bug</type>
		</buginformation>
		<fixedFiles>
			<file type="M">org.jboss.as.test.integration.ee.jmx.property.JMXPropertyEditorsTestCase.java</file>
		</fixedFiles>
		<links>
			<link type="Related" description="relates to">1446</link>
		</links>
	</bug>
	<bug id="2964" opendate="2014-02-19 14:39:12" fixdate="2014-06-30 21:17:35" resolution="Done">
		<buginformation>
			<summary>Missing i18n</summary>
			<description>system-jmx/src/main/java/org/jboss/system/ServiceMBeanSupport.java
379   log.error(e);
patching/src/main/java/org/jboss/as/patching/validation/PatchArtifact.java
102   ctx.getErrorHandler().error("Failed to load identity info for patch " + patch.getPatchId(), e);
116   ctx.getErrorHandler().error("Failed to load previous patch", e);
patching/src/main/java/org/jboss/as/patching/validation/XmlFileState.java
51   ctx.getErrorHandler().error("File doesn&amp;amp;apos;t exist: " + file.getAbsolutePath());
56   ctx.getErrorHandler().error("Failed to parse file: " + file.getAbsolutePath(), e);
patching/src/main/java/org/jboss/as/patching/validation/PatchElementProviderArtifact.java
84   ctx.getErrorHandler().error("Layer not found: " + metadata.getName());
patching/src/main/java/org/jboss/as/patching/runner/IdentityPatchContext.java
435   PatchLogger.ROOT_LOGGER.warnf(e, "failed to undo change (%s)", modification);
ejb3/src/main/java/org/jboss/as/ejb3/tx/CMTTxInterceptor.java
169   EjbLogger.ROOT_LOGGER.error(t);</description>
			<version>8.0.0.Final</version>
			<fixedVersion>9.0.0.Alpha1</fixedVersion>
			<type>Bug</type>
		</buginformation>
		<fixedFiles>
			<file type="M">org.jboss.as.ejb3.logging.EjbLogger.java</file>
			<file type="M">org.jboss.as.ejb3.tx.CMTTxInterceptor.java</file>
			<file type="M">org.jboss.system.ServiceMBeanSupport.java</file>
			<file type="M">org.jboss.system.logging.ServiceMBeanLogger.java</file>
			<file type="M">org.jboss.as.patching.runner.IdentityPatchContext.java</file>
			<file type="M">org.jboss.as.patching.PatchLogger.java</file>
		</fixedFiles>
	</bug>
	<bug id="3401" opendate="2014-05-24 18:17:03" fixdate="2014-07-05 16:36:59" resolution="Done">
		<buginformation>
			<summary>EJB StatefulTimeoutTestCase fails occasionally in CI environment</summary>
			<description>Probably a timing issue in the test.
http://brontes.lab.eng.brq.redhat.com/viewLog.html?buildId=15982&amp;amp;buildTypeId=WFPR






java.lang.AssertionError: expected:&amp;lt;0&amp;gt; but was:&amp;lt;2&amp;gt;




    at org.junit.Assert.fail(Assert.java:88)




    at org.junit.Assert.failNotEquals(Assert.java:743)




    at org.junit.Assert.assertEquals(Assert.java:118)




    at org.junit.Assert.assertEquals(Assert.java:555)




    at org.junit.Assert.assertEquals(Assert.java:542)




    at org.jboss.as.test.clustering.cluster.ejb.stateful.StatefulTimeoutTestCase.timeout(StatefulTimeoutTestCase.java:119)





</description>
			<version>8.1.0.CR2</version>
			<fixedVersion>9.0.0.Alpha1</fixedVersion>
			<type>Bug</type>
		</buginformation>
		<fixedFiles>
			<file type="M">org.wildfly.clustering.ejb.infinispan.bean.InfinispanBean.java</file>
			<file type="M">org.wildfly.clustering.web.infinispan.session.SimpleSessionMetaData.java</file>
			<file type="M">org.wildfly.clustering.ejb.infinispan.InfinispanBeanManager.java</file>
		</fixedFiles>
	</bug>
	<bug id="3568" opendate="2014-04-24 11:32:21" fixdate="2014-07-10 09:19:37" resolution="Done">
		<buginformation>
			<summary>Not possible to use wrapped injectionTarget for some EE components</summary>
			<description>Using custom wrapped InjectionTarget should be available also for:
WS endpoint
EJB interceptor
</description>
			<version>8.1.0.Final</version>
			<fixedVersion>8.2.0.Final, 9.0.0.Alpha1</fixedVersion>
			<type>Bug</type>
		</buginformation>
		<fixedFiles>
			<file type="M">org.jboss.as.weld.injection.WeldComponentService.java</file>
		</fixedFiles>
		<links>
			<link type="Dependency" description="is blocked by">425</link>
		</links>
	</bug>
	<bug id="3479" opendate="2014-06-10 21:10:09" fixdate="2014-07-11 19:43:08" resolution="Done">
		<buginformation>
			<summary>Inconsistencies in int/long in XSD and default values in Infinispan subsystem</summary>
			<description>e.g.






    static final SimpleAttributeDefinition SHUTDOWN_TIMEOUT = new SimpleAttributeDefinitionBuilder(ModelKeys.SHUTDOWN_TIMEOUT, ModelType.LONG, true)




            .setXmlName(Attribute.SHUTDOWN_TIMEOUT.getLocalName())




            .setAllowExpression(true)




            .setFlags(AttributeAccess.Flag.RESTART_ALL_SERVICES)




            .setDefaultValue(new ModelNode().set(25000))




            .build()




    ;






specifies long as the type, but the default value is int, moreover xsd also says int






&amp;lt;xs:attribute name="shutdown-timeout" type="xs:int" default="25000"&amp;gt;





</description>
			<version>8.1.0.Final</version>
			<fixedVersion>9.0.0.Alpha1</fixedVersion>
			<type>Bug</type>
		</buginformation>
		<fixedFiles>
			<file type="M">org.jboss.as.clustering.infinispan.subsystem.TransportResourceDefinition.java</file>
			<file type="M">org.jboss.as.clustering.infinispan.subsystem.ExpirationResourceDefinition.java</file>
			<file type="M">org.jboss.as.clustering.infinispan.subsystem.ClusteredCacheResourceDefinition.java</file>
			<file type="M">org.jboss.as.clustering.infinispan.subsystem.LockingResourceDefinition.java</file>
			<file type="M">org.jboss.as.clustering.infinispan.subsystem.DistributedCacheResourceDefinition.java</file>
			<file type="M">org.jboss.as.clustering.infinispan.subsystem.StoreWriteBehindResourceDefinition.java</file>
			<file type="M">org.jboss.as.clustering.infinispan.subsystem.RemoteStoreResourceDefinition.java</file>
			<file type="M">org.jboss.as.clustering.infinispan.subsystem.StateTransferResourceDefinition.java</file>
		</fixedFiles>
		<links>
			<link type="Related" description="relates to">3494</link>
		</links>
	</bug>
	<bug id="3329" opendate="2014-05-09 11:32:10" fixdate="2014-07-14 07:45:57" resolution="Done">
		<buginformation>
			<summary>EJBs with same Java class name not intercepted by CDI interceptors</summary>
			<description>Given
Two or more EJBs with the same Java class name but from different Java deployments.
Problem
Interceptor intercepts method calls to only one of the EJBs.
An EJB to be intercepted seems to be chosen randomly after each redeployment.</description>
			<version>JBoss AS7 7.1.1.Final</version>
			<fixedVersion>8.2.0.Final, 9.0.0.Alpha1</fixedVersion>
			<type>Bug</type>
		</buginformation>
		<fixedFiles>
			<file type="M">org.jboss.as.weld.deployment.processors.WeldDeploymentProcessor.java</file>
			<file type="M">org.jboss.as.weld.deployment.BeanDeploymentArchiveImpl.java</file>
			<file type="M">org.jboss.as.weld.services.bootstrap.WeldEjbServices.java</file>
		</fixedFiles>
		<links>
			<link type="Dependency" description="is blocked by">1680</link>
			<link type="Dependency" description="is blocked by">1685</link>
			<link type="Dependency" description="is blocked by">1700</link>
			<link type="Dependency" description="is blocked by">3601</link>
		</links>
	</bug>
	<bug id="3435" opendate="2014-06-03 09:54:31" fixdate="2014-07-15 15:37:20" resolution="Done">
		<buginformation>
			<summary>jboss-as-infinispan_1_X.xsd schema has incorrect default value for flush-lock-timeout in write-behind</summary>
			<description>Description of problem:
In org.infinispan.loaders.decorators.AsyncStoreConfig, the default flushLockTimeout is set to 5000. However, the default in the JBoss Infinispan schema ($JBOSS_HOME/docs/schema/jboss-as-infinispan_1_X.xsd) is set to 1. Because of this, if the thread-pool-size for write-behind is increased, then it is likely that one of the threads will not be able to obtain the state map lock within the 1 millisecond time provided by the schema default. This results in the following error:
ERROR o.i.loaders.decorators.AsyncStore.run - ISPN000051: Unexpected error
org.infinispan.CacheException: Unable to acquire lock on update map
          at org.infinispan.loaders.decorators.AsyncStore.acquireLock(AsyncStore.java:293) ~[infinispan-core-5.1.3.FINAL.jar:5.1.3.FINAL]
          at org.infinispan.loaders.decorators.AsyncStore.access$900(AsyncStore.java:86) ~[infinispan-core-5.1.3.FINAL.jar:5.1.3.FINAL]
          at org.infinispan.loaders.decorators.AsyncStore$AsyncProcessor.innerRun(AsyncStore.java:336) ~[infinispan-core-5.1.3.FINAL.jar:5.1.3.FINAL]
          at org.infinispan.loaders.decorators.AsyncStore$AsyncProcessor.run(AsyncStore.java:312) ~[infinispan-core-5.1.3.FINAL.jar:5.1.3.FINAL]
          at java.util.concurrent.ThreadPoolExecutor$Worker.runTask(ThreadPoolExecutor.java:886) ~[na:1.6.0_31]
          at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:908) ~[na:1.6.0_31]
          at java.lang.Thread.run(Thread.java:662) ~[na:1.6.0_31]
Version-Release number of selected component (if applicable):
Infinispan version 5.1.8
How reproducible:
Code inspection
Steps to Reproduce:
1. Check the default value for flush-lock-timeout in $JBOSS_HOME/docs/schema/jboss-as-infinispan_1_3.xsd
2. Check the default value for flushLockTimeout in the org.infinispan.loaders.decorators.AsyncStoreConfig class
3. Note the disparity
Actual results:
Default in schema is 1
Expected results:
Default in schema is 5000
Additional info:</description>
			<version>8.0.0.Final</version>
			<fixedVersion>9.0.0.Alpha1</fixedVersion>
			<type>Bug</type>
		</buginformation>
		<fixedFiles>
			<file type="M">org.jboss.as.clustering.infinispan.subsystem.InfinispanModel.java</file>
			<file type="M">org.jboss.as.clustering.infinispan.subsystem.StoreWriteBehindResourceDefinition.java</file>
			<file type="M">org.jboss.as.clustering.infinispan.subsystem.TransformersTestCase.java</file>
		</fixedFiles>
	</bug>
	<bug id="3627" opendate="2014-07-11 11:22:35" fixdate="2014-07-16 08:53:32" resolution="Done">
		<buginformation>
			<summary>Unable to inject the intercepted bean to an interceptor of a session bean</summary>
			<description>This attempt fails with:






Caused by: java.lang.IllegalArgumentException: Unable to inject Session bean [class org.jboss.cdi.tck.tests.implementation.builtin.metadata.FatYoghurt with qualifiers [@Any @Default]; local interfaces are [FatYoghurt] into [BackedAnnotatedField] @Inject private org.jboss.cdi.tck.tests.implementation.builtin.metadata.YoghurtInterceptor.interceptor




	at org.jboss.weld.bean.builtin.InterceptorMetadataBean.newInstance(InterceptorMetadataBean.java:53) [weld-core-impl-2.2.2.Final.jar:2014-06-27 08:57]




	at org.jboss.weld.bean.builtin.InterceptorMetadataBean.newInstance(InterceptorMetadataBean.java:41) [weld-core-impl-2.2.2.Final.jar:2014-06-27 08:57]




	at org.jboss.weld.bean.builtin.AbstractBuiltInMetadataBean.create(AbstractBuiltInMetadataBean.java:57) [weld-core-impl-2.2.2.Final.jar:2014-06-27 08:57]




	at org.jboss.weld.context.unbound.DependentContextImpl.get(DependentContextImpl.java:69) [weld-core-impl-2.2.2.Final.jar:2014-06-27 08:57]




	at org.jboss.weld.manager.BeanManagerImpl.getReference(BeanManagerImpl.java:740) [weld-core-impl-2.2.2.Final.jar:2014-06-27 08:57]




	at org.jboss.weld.manager.BeanManagerImpl.getInjectableReference(BeanManagerImpl.java:831) [weld-core-impl-2.2.2.Final.jar:2014-06-27 08:57]




	at org.jboss.weld.injection.FieldInjectionPoint.inject(FieldInjectionPoint.java:92) [weld-core-impl-2.2.2.Final.jar:2014-06-27 08:57]




	at org.jboss.weld.util.Beans.injectBoundFields(Beans.java:365) [weld-core-impl-2.2.2.Final.jar:2014-06-27 08:57]




	at org.jboss.weld.util.Beans.injectFieldsAndInitializers(Beans.java:376) [weld-core-impl-2.2.2.Final.jar:2014-06-27 08:57]




	at org.jboss.weld.injection.producer.ResourceInjector$1.proceed(ResourceInjector.java:70) [weld-core-impl-2.2.2.Final.jar:2014-06-27 08:57]




	at org.jboss.weld.injection.InjectionContextImpl.run(InjectionContextImpl.java:48) [weld-core-impl-2.2.2.Final.jar:2014-06-27 08:57]




	at org.jboss.weld.injection.producer.ResourceInjector.inject(ResourceInjector.java:65) [weld-core-impl-2.2.2.Final.jar:2014-06-27 08:57]




	at org.jboss.weld.injection.producer.BasicInjectionTarget.inject(BasicInjectionTarget.java:109) [weld-core-impl-2.2.2.Final.jar:2014-06-27 08:57]




	at org.jboss.weld.bean.ManagedBean.create(ManagedBean.java:150) [weld-core-impl-2.2.2.Final.jar:2014-06-27 08:57]




	at org.jboss.weld.context.unbound.DependentContextImpl.get(DependentContextImpl.java:69) [weld-core-impl-2.2.2.Final.jar:2014-06-27 08:57]




	at org.jboss.as.weld.ejb.Jsr299BindingsCreateInterceptor.addInterceptorInstance(Jsr299BindingsCreateInterceptor.java:58) [wildfly-weld-8.1.0.Final.jar:8.1.0.Final]




	at org.jboss.as.weld.ejb.Jsr299BindingsCreateInterceptor.processInvocation(Jsr299BindingsCreateInterceptor.java:87) [wildfly-weld-8.1.0.Final.jar:8.1.0.Final]




	at org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:309)




	at org.jboss.as.ee.component.NamespaceContextInterceptor.processInvocation(NamespaceContextInterceptor.java:50)




	at org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:309)




	at org.jboss.as.ejb3.tx.CMTTxInterceptor.invokeInOurTx(CMTTxInterceptor.java:273) [wildfly-ejb3-8.1.0.Final.jar:8.1.0.Final]




	... 167 more






There&amp;amp;apos;s available expanded org.jboss.cdi.tck.tests.implementation.builtin.metadata.BuiltinMetadataBeanTest in TCK master branch. </description>
			<version>8.1.0.Final</version>
			<fixedVersion>8.2.0.Final, 9.0.0.Alpha1</fixedVersion>
			<type>Bug</type>
		</buginformation>
		<fixedFiles>
			<file type="M">org.jboss.as.weld.ejb.Jsr299BindingsCreateInterceptor.java</file>
		</fixedFiles>
	</bug>
	<bug id="3338" opendate="2014-05-12 21:07:31" fixdate="2014-07-18 07:27:46" resolution="Done">
		<buginformation>
			<summary>@Inject&amp;apos;ed JMSContext is not thread-safe</summary>
			<description>Section 12.4.4 of the JMS 2.0 spec says:

If a method is called on an injected JMSContext when there is a JTA 
transaction (either bean-managed or container-managed), the scope of 
the JMSContext will be @TransactionScoped.
This is not currently true in WildFly. As a test case, suppose you have the following two beans:






import javax.annotation.Resource;




import javax.enterprise.context.ApplicationScoped;




import javax.enterprise.inject.Instance;




import javax.inject.Inject;




import javax.jms.JMSContext;




import javax.jms.Topic;




import javax.transaction.Transactional;









@ApplicationScoped




@Transactional




public class AppScopedBean {




	




	@Inject




	private JMSContext jmsCtx;




	//private Instance&amp;lt;JMSContext&amp;gt; jmsCtx;




	@Resource(lookup = "jms/topic/test")




	private Topic topic;




	




	public void sendMessage() {




		jmsCtx.createProducer().setDisableMessageID(true).setDisableMessageTimestamp(true).send(topic, "a message");




		//jmsCtx.get().createProducer().setDisableMessageID(true).setDisableMessageTimestamp(true).send(topic, "a message");




	}









}












import javax.annotation.Resource;




import javax.enterprise.concurrent.ManagedThreadFactory;




import javax.enterprise.context.ApplicationScoped;




import javax.enterprise.context.Dependent;




import javax.enterprise.context.Initialized;




import javax.enterprise.event.Observes;




import javax.inject.Inject;









@Dependent




public class ThreadLauncher {









	@Resource




	private ManagedThreadFactory threadFactory;




	@Inject




	private AppScopedBean bean;




	




	void start(@Observes @Initialized(ApplicationScoped.class) Object event) {




		System.out.println("starting threads");




		for (int i = 0; i &amp;lt; 5; i++) {




			threadFactory.newThread(new SendRunnable()).start();




		}




		System.out.println("start finished");




	}




	




	private class SendRunnable implements Runnable {









		public void run() {




			System.out.println("starting to send");




			for (int i = 0; i &amp;lt; 100; i++) {




				bean.sendMessage();




			}




			System.out.println("done sending");




		}




		




	}




	




}






If you deploy and run the above code, you will see a lot of this:

2014-05-12 16:46:02,936 WARN  [org.hornetq.core.client] (EE-ManagedThreadFactory-default-Thread-4) HQ212051: Invalid concurrent session usage. Sessions are not supposed to be used by more than one thread concurrently.: java.lang.Exception: trace
That should not be happening if the JMSContext is really @TransactionScoped. The problem appears to be in org.jboss.as.messaging.deployment.JMSContextProducer, specifically the JMSContextWrapper.getDelegate() method. If two threads call it at the same time, the first will create a delegate but the second will receive the same delegate as the first, because the delegate doesn&amp;amp;apos;t get nulled until the transaction in the first thread completes.
This means that both threads are using the same session at the same time, which is not allowed. I don&amp;amp;apos;t know how HornetQ detects concurrent use, but depending on how that works, it&amp;amp;apos;s also possible that messages will end up being part of the wrong transaction.
A workaround is to inject Instance&amp;lt;JMSContext&amp;gt; instead of JMSContext directly (the two commented out lines of code). Since the JMSContext producer is @Dependent, each Instance.get() call will return a new instance, and only one thread will ever use any given instance.</description>
			<version>8.0.0.Final</version>
			<fixedVersion>9.0.0.Alpha1</fixedVersion>
			<type>Bug</type>
		</buginformation>
		<fixedFiles>
			<file type="M">org.jboss.as.messaging.deployment.JMSContextProducer.java</file>
		</fixedFiles>
	</bug>
	<bug id="3556" opendate="2014-06-29 21:04:01" fixdate="2014-07-18 09:20:45" resolution="Done">
		<buginformation>
			<summary>Timer persistence and restore</summary>
			<description>Browsing through the log file of a build including run of testsuite I found a couple of reported erros like this one:
Running org.jboss.as.test.integration.ejb.interceptor.invocationcontext.InvocationContextTestCase
22:15:56,939 INFO  [org.jboss.as.test.integration.ejb.interceptor.invocationcontext.DefaultInterceptor] (pool-2-thread-1) PostConstruct on DefaultInterceptor calledorg.jboss.as.test.integration.ejb.interceptor.invocationcontext.TimeoutBean
22:15:57,048 INFO  [org.jboss.as.test.integration.ejb.interceptor.invocationcontext.DefaultInterceptor] (EJB default - 10) PostConstruct on DefaultInterceptor calledorg.jboss.as.test.integration.ejb.interceptor.invocationcontext.TimeoutBean
22:15:57,048 INFO  [org.jboss.as.test.integration.ejb.interceptor.invocationcontext.InvocationContextChecker] (EJB default - 10) Checking timeout interceptor on: Default
22:15:57,048 INFO  [org.jboss.as.test.integration.ejb.interceptor.invocationcontext.InvocationContextChecker] (EJB default - 10) Checking timeout interceptor on: Class
22:15:57,048 INFO  [org.jboss.as.test.integration.ejb.interceptor.invocationcontext.InvocationContextChecker] (EJB default - 10) Checking timeout interceptor on: Method
22:15:57,048 INFO  [org.jboss.as.test.integration.ejb.interceptor.invocationcontext.InvocationContextChecker] (EJB default - 10) Checking timeout interceptor on: Bean
22:15:57,048 ERROR [org.jboss.as.ejb3] (EJB default - 10) WFLYEJB0029: Could not restore timer from C:\Users\frank.LANGFR.000\Documents\GitHub\wildfly\testsuite\integration\basic\target\jbossas\standalone\data\timer-service-data\invocation-context.invocation-context.TimeoutBean\4f0c586c-06d3-4f35-9bf9-7bd451800482.xml: javax.xml.stream.XMLStreamException: ParseError at [row,col]:[4,5]
Message: WFLYCTL0133: Missing required attribute(s): next-date
	at org.jboss.as.controller.parsing.ParseUtils.missingRequired(ParseUtils.java:135) [wildfly-controller-9.0.0.Alpha1-SNAPSHOT.jar:9.0.0.Alpha1-SNAPSHOT]
	at org.jboss.as.ejb3.timerservice.persistence.filestore.EjbTimerXmlParser_1_0.parseTimer(EjbTimerXmlParser_1_0.java:146)
	at org.jboss.as.ejb3.timerservice.persistence.filestore.EjbTimerXmlParser_1_0.readElement(EjbTimerXmlParser_1_0.java:112)
	at org.jboss.as.ejb3.timerservice.persistence.filestore.EjbTimerXmlParser_1_0.readElement(EjbTimerXmlParser_1_0.java:86)
	at org.jboss.staxmapper.XMLMapperImpl.processNested(XMLMapperImpl.java:110) [staxmapper-1.1.0.Final.jar:1.1.0.Final]
	at org.jboss.staxmapper.XMLMapperImpl.parseDocument(XMLMapperImpl.java:69) [staxmapper-1.1.0.Final.jar:1.1.0.Final]
	at org.jboss.as.ejb3.timerservice.persistence.filestore.FileTimerPersistence.loadTimersFromFile(FileTimerPersistence.java:353)
	at org.jboss.as.ejb3.timerservice.persistence.filestore.FileTimerPersistence.getTimers(FileTimerPersistence.java:316)
	at org.jboss.as.ejb3.timerservice.persistence.filestore.FileTimerPersistence.persistTimer(FileTimerPersistence.java:198)
	at org.jboss.as.ejb3.timerservice.persistence.filestore.FileTimerPersistence.persistTimer(FileTimerPersistence.java:175)
	at org.jboss.as.ejb3.timerservice.TimerServiceImpl.persistTimer(TimerServiceImpl.java:611)
	at org.jboss.as.ejb3.timerservice.task.TimerTask.run(TimerTask.java:193)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511) [rt.jar:1.8.0]
	at java.util.concurrent.FutureTask.run(FutureTask.java:266) [rt.jar:1.8.0]
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142) [rt.jar:1.8.0]
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617) [rt.jar:1.8.0]
	at java.lang.Thread.run(Thread.java:744) [rt.jar:1.8.0]
	at org.jboss.threads.JBossThread.run(JBossThread.java:122)
This does not stop the testsuite but obviously is an error.
I compared the schema definition, the Persister and the Parser and found some incompatibilities. I&amp;amp;apos;ll attach a spreadsheet with the outcome soon.
The red lines show the inconsitencies. The cells with underline those to be changed.
The only relevant change is, that the Parser will not see "next-date" as a required element.
Other changes only touch the schema document.
Along with this I renamed it from .xml to xsd.
Pull request will follow soon.</description>
			<version>9.0.0.Alpha1</version>
			<fixedVersion>9.0.0.Alpha1</fixedVersion>
			<type>Bug</type>
		</buginformation>
		<fixedFiles>
			<file type="M">org.jboss.as.ejb3.timerservice.persistence.filestore.EjbTimerXmlParser_1_0.java</file>
		</fixedFiles>
	</bug>
	<bug id="3610" opendate="2014-07-10 22:24:13" fixdate="2014-07-18 09:21:18" resolution="Done">
		<buginformation>
			<summary>BeanValidationCdiIntegrationTestCase fails on non-English system</summary>
			<description>When running the testsuite I get this failure:
-------------------------------------------------------------------------------
Test set: org.jboss.as.test.integration.jpa.beanvalidation.cdi.BeanValidationCdiIntegrationTestCase
-------------------------------------------------------------------------------
Tests run: 2, Failures: 1, Errors: 0, Skipped: 0, Time elapsed: 1.264 sec &amp;lt;&amp;lt;&amp;lt; FAILURE! - in org.jboss.as.test.integration.jpa.beanvalidation.cdi.BeanValidationCdiIntegrationTestCase
testFailingBeanValidation(org.jboss.as.test.integration.jpa.beanvalidation.cdi.BeanValidationCdiIntegrationTestCase)  Time elapsed: 0.437 sec  &amp;lt;&amp;lt;&amp;lt; FAILURE!
java.lang.AssertionError: expected:&amp;lt;[Not enough people for a reservation, may not be null]&amp;gt; but was:&amp;lt;[Not enough people for a reservation, darf nicht null sein]&amp;gt;
	at org.junit.Assert.fail(Assert.java:88)
	at org.junit.Assert.failNotEquals(Assert.java:743)
	at org.junit.Assert.assertEquals(Assert.java:118)
	at org.junit.Assert.assertEquals(Assert.java:144)
	at org.jboss.as.test.integration.jpa.beanvalidation.cdi.BeanValidationCdiIntegrationTestCase.testFailingBeanValidation(BeanValidationCdiIntegrationTestCase.java:107)
Cause is, that the second part of the message is coming from the @NotNull contraint in Reservation.java and is in German, because it&amp;amp;apos;s a German Windows system.
Adding the expected English message to the NotNull constraint should solve this problem. I&amp;amp;apos;ll try and send a pull request later.</description>
			<version>9.0.0.Alpha1</version>
			<fixedVersion>9.0.0.Alpha1</fixedVersion>
			<type>Bug</type>
		</buginformation>
		<fixedFiles>
			<file type="M">org.jboss.as.test.integration.jpa.beanvalidation.cdi.Reservation.java</file>
		</fixedFiles>
	</bug>
	<bug id="3493" opendate="2014-06-13 14:18:14" fixdate="2014-07-28 14:57:26" resolution="Done">
		<buginformation>
			<summary>Messaging subsystem allows you to remove a destination even though it has an attached client</summary>
			<description>Currently jboss-cli allows a queue to be removed even though there is a MDB attached to it. The command 






/subsystem=messaging/hornetq-server=default/jms-queue=testQueue:remove()






will remove the queue without a warning. This is not desirable since a warning should be given or a reload should be force.  It may also break the dependency injection. </description>
			<version>8.1.0.Final</version>
			<fixedVersion>9.0.0.Alpha1</fixedVersion>
			<type>Bug</type>
		</buginformation>
		<fixedFiles>
			<file type="M">org.jboss.as.messaging.jms.JMSQueueRemove.java</file>
			<file type="M">org.jboss.as.messaging.jms.JMSTopicAdd.java</file>
			<file type="M">org.jboss.as.messaging.jms.JMSTopicRemove.java</file>
			<file type="M">org.jboss.as.messaging.jms.JMSQueueAdd.java</file>
			<file type="M">org.jboss.as.messaging.BinderServiceUtil.java</file>
		</fixedFiles>
	</bug>
	<bug id="3507" opendate="2014-06-17 06:51:51" fixdate="2014-07-28 15:07:40" resolution="Done">
		<buginformation>
			<summary>REGRESSION: JSP servlet cannot be mapped to different extensions</summary>
			<description>When migrating an app from JBoss 7.1.1.Final to WildFly 8.1.0.Final, one can no longer remap the default JSP servlet to different extensions.
This is useful when you want some lightweight server-side processing of, say, JavaScript or CSS files.
</description>
			<version>8.1.0.Final</version>
			<fixedVersion>8.2.0.Final, 9.0.0.Alpha1</fixedVersion>
			<type>Bug</type>
		</buginformation>
		<fixedFiles>
			<file type="M">org.wildfly.extension.undertow.deployment.UndertowDeploymentInfoService.java</file>
		</fixedFiles>
	</bug>
	<bug id="3682" opendate="2014-07-28 22:21:52" fixdate="2014-07-30 13:56:24" resolution="Done">
		<buginformation>
			<summary>SFSB DistributedCache doesn&amp;apos;t commit when get(...) and release/discard(...) use different threads</summary>
			<description>While investigating failures in org.jboss.as.test.manualmode.ejb.client.cluster.EJBClientClusterConfigurationTestCase following the upgrade to JGroups 3.5, I uncovered a number of critical bugs in the DistributedCache logic.

DistributedCache uses a thread-local stack to store the reference to a Batch across invocations of Cache get/release/discard(...).  Consequently, Infinispan&amp;amp;apos;s transaction won&amp;amp;apos;t commit if Cache.get(...) was called from a different thread than Cache.release(...) or Cache.discard(...)
The implementation of the Batch SPI uses Infinispan&amp;amp;apos;s BatchContainer, which itself relies on thread locals to store references to the Transaction across calls to startBatch()/endBatch().
Once the above issues were address, I got an NPE in InfinispanBeanEntryExternalizer.writeObject(...) when the lastAccessedTime is null (which is the case following creation).

</description>
			<version>8.1.0.Final</version>
			<fixedVersion>8.2.0.Final, 9.0.0.Beta1</fixedVersion>
			<type>Bug</type>
		</buginformation>
		<fixedFiles>
			<file type="M">org.wildfly.clustering.ejb.BeanManagerFactoryBuilderProvider.java</file>
			<file type="M">org.wildfly.clustering.ejb.infinispan.InfinispanBeanManagerFactoryBuilderProvider.java</file>
			<file type="M">org.wildfly.clustering.ejb.infinispan.InfinispanBatcherTestCase.java</file>
			<file type="M">org.jboss.as.ejb3.cache.distributable.DistributableCacheFactoryBuilderService.java</file>
			<file type="M">org.wildfly.clustering.ejb.infinispan.InfinispanBeanManagerFactoryBuilder.java</file>
			<file type="M">org.jboss.as.ejb3.cache.distributable.DistributableCacheFactoryService.java</file>
			<file type="M">org.wildfly.clustering.ejb.BeanManagerFactory.java</file>
			<file type="M">org.wildfly.clustering.ejb.infinispan.InfinispanBatcher.java</file>
			<file type="M">org.wildfly.clustering.ejb.infinispan.InfinispanBeanManager.java</file>
			<file type="M">org.wildfly.clustering.ejb.infinispan.InfinispanBeanManagerFactory.java</file>
			<file type="M">org.wildfly.clustering.ejb.infinispan.BeanExpirationScheduler.java</file>
			<file type="M">org.wildfly.clustering.ejb.infinispan.BeanEvictionScheduler.java</file>
			<file type="M">org.jboss.as.ejb3.cache.distributable.DistributableCache.java</file>
			<file type="M">org.wildfly.clustering.ejb.BeanManager.java</file>
			<file type="M">org.wildfly.clustering.ejb.BeanManagerFactoryBuilder.java</file>
			<file type="M">org.wildfly.clustering.ejb.Batcher.java</file>
			<file type="M">org.wildfly.clustering.ejb.infinispan.BeanEvictionContext.java</file>
		</fixedFiles>
	</bug>
	<bug id="3696" opendate="2014-07-31 07:52:52" fixdate="2014-08-01 01:35:53" resolution="Done">
		<buginformation>
			<summary>Security domain configuration doesn&amp;apos;t allow empty or missing login-module-stack</summary>
			<description>https://bugzilla.redhat.com/show_bug.cgi?id=901075 description: 
project_key: JBPAPP6
Adding a security domain with JASPI authentication fails if there is no (or is empty) login-module-stack. It should be possible to add custom ServerAuthModule, which doesn&amp;amp;apos;t use JAAS login modules.






&amp;lt;security-domain name="jmx-console" cache-type="default"&amp;gt;




	&amp;lt;authentication-jaspi&amp;gt;









		&amp;lt;!-- FIXME: the not empty login-module-stack must be provided even it&amp;amp;apos;s not used --&amp;gt;




		&amp;lt;login-module-stack name="lm-stack"&amp;gt;




			&amp;lt;login-module code="UsersRoles" flag="required"/&amp;gt;




		&amp;lt;/login-module-stack&amp;gt;









		&amp;lt;auth-module code="org.jboss.example.CustomServerAuthModule" flag="required"&amp;gt;




			&amp;lt;module-option name="option1" value="value1" /&amp;gt;




		&amp;lt;/auth-module&amp;gt;




	&amp;lt;/authentication-jaspi&amp;gt;




&amp;lt;/security-domain&amp;gt;






It should be possible to remove here the login-module-stack element.</description>
			<version>8.1.0.Final</version>
			<fixedVersion></fixedVersion>
			<type>Bug</type>
		</buginformation>
		<fixedFiles>
			<file type="M">org.jboss.as.security.SecurityDomainAdd.java</file>
		</fixedFiles>
	</bug>
	<bug id="3691" opendate="2014-07-30 11:02:19" fixdate="2014-08-01 14:43:31" resolution="Done">
		<buginformation>
			<summary>AuditProvider mentions "[Success]" even if username/password is invalid</summary>
			<description>Description of problem:
AuditProvider in security-domain mentions "[Success]" as follow:-
11:37:26,835 TRACE [org.jboss.security.audit] (HttpManagementService-threads - 3) [Success]Source=org.jboss.as.security.service.SimpleSecurityManager;Action=authentication;principal=admin;
even if a username/password is wrong.</description>
			<version>8.1.0.Final</version>
			<fixedVersion>9.0.0.Alpha1</fixedVersion>
			<type>Bug</type>
		</buginformation>
		<fixedFiles>
			<file type="M">org.jboss.as.security.service.SimpleSecurityManager.java</file>
		</fixedFiles>
	</bug>
	<bug id="3702" opendate="2014-08-01 17:32:41" fixdate="2014-08-06 02:08:10" resolution="Done">
		<buginformation>
			<summary>RetryInvoker needs to be aware of transaction status</summary>
			<description>RetryInvoker should not retry if a given operation is transactional.  If the operation fails - the status of the current transaction will be rollback-only, which will fail due to invalid transaction status if retried.</description>
			<version>8.1.0.Final</version>
			<fixedVersion>8.2.0.Final, 9.0.0.Alpha1</fixedVersion>
			<type>Bug</type>
		</buginformation>
		<fixedFiles>
			<file type="M">org.jboss.as.clustering.infinispan.invoker.RetryingCacheInvoker.java</file>
		</fixedFiles>
	</bug>
	<bug id="3695" opendate="2014-07-30 19:19:15" fixdate="2014-08-06 02:08:29" resolution="Done">
		<buginformation>
			<summary>Distributed web session expiration ScheduledExecutorService leaks threads on undeploy</summary>
			<description>The ScheduledExecutorService employed by the SessionExpirationScheduler uses shutdown() to shutdown the thread pool - however, unless we explicitly setExecuteExistingDelayedTasksAfterShutdownPolicy(false), all scheduled tasks will attempt to execute after shutdown!</description>
			<version>8.1.0.Final</version>
			<fixedVersion>8.2.0.Final, 9.0.0.Alpha1</fixedVersion>
			<type>Bug</type>
		</buginformation>
		<fixedFiles>
			<file type="M">org.jboss.as.ejb3.cache.simple.SimpleCacheFactoryBuilderService.java</file>
			<file type="M">org.jboss.as.clustering.concurrent.RemoveOnCancelScheduledExecutorService.java</file>
			<file type="M">org.wildfly.clustering.ejb.infinispan.logging.InfinispanEjbLogger.java</file>
			<file type="M">org.wildfly.clustering.web.infinispan.logging.InfinispanWebLogger.java</file>
			<file type="M">org.wildfly.clustering.ejb.infinispan.InfinispanBeanManagerFactoryBuilder.java</file>
			<file type="M">org.wildfly.clustering.ejb.infinispan.BeanExpirationScheduler.java</file>
			<file type="M">org.jboss.as.clustering.concurrent.CachedThreadPoolExecutorService.java</file>
			<file type="M">org.wildfly.clustering.web.infinispan.session.SessionExpirationScheduler.java</file>
		</fixedFiles>
	</bug>
	<bug id="3430" opendate="2014-06-02 15:01:14" fixdate="2014-08-10 23:41:54" resolution="Done">
		<buginformation>
			<summary>Recurring Timers are called concurrently</summary>
			<description>According to https://docs.jboss.org/author/display/WFLY8/EJB+3+Reference+Guide recurring timers should not be executed concurrently.
That is not the case. I don&amp;amp;apos;t think the current behavior is actually expected.
</description>
			<version>8.1.0.Final</version>
			<fixedVersion>9.0.0.Alpha1</fixedVersion>
			<type>Bug</type>
		</buginformation>
		<fixedFiles>
			<file type="M">org.jboss.as.ejb3.logging.EjbLogger.java</file>
			<file type="M">org.jboss.as.ejb3.timerservice.task.TimerTask.java</file>
		</fixedFiles>
		<links>
			<link type="Related" description="is related to">3119</link>
		</links>
	</bug>
	<bug id="3727" opendate="2014-08-11 17:54:06" fixdate="2014-09-02 20:45:48" resolution="Done">
		<buginformation>
			<summary>Race condition during channel create vs start causing NPE on channel startup</summary>
			<description>My hunch is that this is due to the fact that WildFly creates a channel in one thread but starts it in another.  Specifically, Protocol.up_prot is set by ChannelService.start() (via new JChannel(...)) but is accessed by GlobalComponentRegistryService.start() (via Channel.connect(...)) - which happen in different threads.  To prevents NPEs like the one below, we need to ensure that any variables set during channel creation are volatile.






ERROR [org.jboss.msc.service.fail] (ServerService Thread Pool -- 30) MSC000001: Failed to start service jboss.infinispan.ejb.global-component-registry: org.jboss.msc.service.StartException in service jboss.infinispan.ejb.global-component-registry: org.infinispan.manager.EmbeddedCacheManagerStartupException: org.infinispan.commons.CacheException: Unable to invoke method public void org.infinispan.remoting.transport.jgroups.JGroupsTransport.start() on object of type ChannelTransport




    at org.jboss.as.clustering.msc.AsynchronousService$1.run(AsynchronousService.java:91)




    at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1145) [rt.jar:1.7.0_51]




    at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:615) [rt.jar:1.7.0_51]




    at java.lang.Thread.run(Thread.java:744) [rt.jar:1.7.0_51]




    at org.jboss.threads.JBossThread.run(JBossThread.java:122) [jboss-threads-2.1.1.Final.jar:2.1.1.Final]




Caused by: org.infinispan.manager.EmbeddedCacheManagerStartupException: org.infinispan.commons.CacheException: Unable to invoke method public void org.infinispan.remoting.transport.jgroups.JGroupsTransport.start() on object of type ChannelTransport




    at org.infinispan.factories.GlobalComponentRegistry.start(GlobalComponentRegistry.java:241)




    at org.jboss.as.clustering.infinispan.subsystem.GlobalComponentRegistryService.start(GlobalComponentRegistryService.java:33)




    at org.jboss.as.clustering.msc.AsynchronousService$1.run(AsynchronousService.java:86)




    ... 4 more




Caused by: org.infinispan.commons.CacheException: Unable to invoke method public void org.infinispan.remoting.transport.jgroups.JGroupsTransport.start() on object of type ChannelTransport




    at org.infinispan.commons.util.ReflectionUtil.invokeAccessibly(ReflectionUtil.java:185)




    at org.infinispan.factories.AbstractComponentRegistry$PrioritizedMethod.invoke(AbstractComponentRegistry.java:869)




    at org.infinispan.factories.AbstractComponentRegistry.invokeStartMethods(AbstractComponentRegistry.java:638)




    at org.infinispan.factories.AbstractComponentRegistry.internalStart(AbstractComponentRegistry.java:627)




    at org.infinispan.factories.AbstractComponentRegistry.start(AbstractComponentRegistry.java:530)




    at org.infinispan.factories.GlobalComponentRegistry.start(GlobalComponentRegistry.java:219)




    ... 6 more




Caused by: org.infinispan.commons.CacheException: Unable to start JGroups Channel




    at org.infinispan.remoting.transport.jgroups.JGroupsTransport.startJGroupsChannelIfNeeded(JGroupsTransport.java:198)




    at org.infinispan.remoting.transport.jgroups.JGroupsTransport.start(JGroupsTransport.java:187)




    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) [rt.jar:1.7.0_51]




    at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:57) [rt.jar:1.7.0_51]




    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) [rt.jar:1.7.0_51]




    at java.lang.reflect.Method.invoke(Method.java:606) [rt.jar:1.7.0_51]




    at org.infinispan.commons.util.ReflectionUtil.invokeAccessibly(ReflectionUtil.java:183)




    ... 11 more




Caused by: java.lang.NullPointerException




    at org.jgroups.protocols.pbcast.GMS.up(GMS.java:1010)




    at org.jgroups.protocols.pbcast.STABLE.up(STABLE.java:245)




    at org.jgroups.protocols.UNICAST3.up(UNICAST3.java:391)




    at org.jgroups.protocols.pbcast.NAKACK2.up(NAKACK2.java:600)




    at org.jgroups.protocols.VERIFY_SUSPECT.up(VERIFY_SUSPECT.java:147)




    at org.jgroups.protocols.FD.up(FD.java:255)




    at org.jgroups.protocols.FD_SOCK.up(FD_SOCK.java:301)




    at org.jgroups.protocols.MERGE2.up(MERGE2.java:209)




    at org.jgroups.protocols.Discovery.up(Discovery.java:522)




    at org.jgroups.protocols.MPING.up(MPING.java:181)




    at org.jgroups.protocols.TP.fetchLocalAddresses(TP.java:2001)




    at org.jgroups.protocols.TP.start(TP.java:1131)




    at org.jgroups.protocols.TCP.start(TCP.java:82)




    at org.jgroups.stack.ProtocolStack.startStack(ProtocolStack.java:938)




    at org.jgroups.JChannel.startStack(JChannel.java:864)




    at org.jgroups.JChannel._preConnect(JChannel.java:527)




    at org.jgroups.JChannel.connect(JChannel.java:284)




    at org.jgroups.JChannel.connect(JChannel.java:275)




    at org.infinispan.remoting.transport.jgroups.JGroupsTransport.startJGroupsChannelIfNeeded(JGroupsTransport.java:196)




    ... 17 more





</description>
			<version>8.1.0.Final</version>
			<fixedVersion>8.2.0.Final, 9.0.0.Alpha1</fixedVersion>
			<type>Bug</type>
		</buginformation>
		<fixedFiles>
			<file type="M">org.jboss.as.clustering.infinispan.ChannelTransport.java</file>
			<file type="M">org.jboss.as.clustering.infinispan.subsystem.CacheContainerAddHandler.java</file>
			<file type="M">org.jboss.as.clustering.infinispan.subsystem.EmbeddedCacheManagerConfigurationService.java</file>
		</fixedFiles>
	</bug>
	<bug id="3715" opendate="2014-08-06 14:25:29" fixdate="2014-09-02 20:45:54" resolution="Done">
		<buginformation>
			<summary>Async servlets cause lock timeouts for distributable sessions</summary>
			<description>This happens because Infinispan&amp;amp;apos;s BatchContainer relies on thread locals.  We need to use the new Batcher capabilities used by ejb clustering for web clustering.  These modules should be refactored so they can share these objects.</description>
			<version>8.1.0.Final</version>
			<fixedVersion>9.0.0.Alpha1</fixedVersion>
			<type>Bug</type>
		</buginformation>
		<fixedFiles>
			<file type="M">org.wildfly.clustering.ejb.infinispan.BeanCacheConfigurationService.java</file>
			<file type="D">org.wildfly.clustering.web.infinispan.InfinispanBatcherTestCase.java</file>
			<file type="M">org.wildfly.clustering.web.sso.SSOManagerFactory.java</file>
			<file type="M">org.wildfly.clustering.web.infinispan.session.SessionEvictionContext.java</file>
			<file type="M">org.wildfly.clustering.web.undertow.session.DistributableSessionManagerFactoryBuilder.java</file>
			<file type="M">org.wildfly.clustering.web.infinispan.sso.InfinispanSSOManagerFactoryBuilder.java</file>
			<file type="M">org.wildfly.clustering.web.infinispan.session.SessionEvictionScheduler.java</file>
			<file type="M">org.wildfly.clustering.server.provider.CacheServiceProviderRegistrationFactory.java</file>
			<file type="M">org.wildfly.clustering.server.provider.CacheServiceProviderRegistrationFactoryService.java</file>
			<file type="M">org.wildfly.clustering.web.undertow.sso.DistributableSingleSignOnTestCase.java</file>
			<file type="D">org.wildfly.clustering.web.infinispan.InfinispanBatcher.java</file>
			<file type="M">org.wildfly.clustering.web.undertow.sso.DistributableSingleSignOnManagerFactoryBuilder.java</file>
			<file type="M">org.jboss.as.ejb3.cache.distributable.DistributableCache.java</file>
			<file type="M">org.wildfly.clustering.web.sso.SSOManager.java</file>
			<file type="M">org.wildfly.clustering.web.infinispan.sso.SSOCacheConfigurationService.java</file>
			<file type="M">org.jboss.as.clustering.infinispan.subsystem.CacheAddHandler.java</file>
			<file type="M">org.wildfly.clustering.server.registry.CacheRegistryFactoryConfiguration.java</file>
			<file type="M">org.wildfly.clustering.web.infinispan.CacheEntryMutator.java</file>
			<file type="M">org.wildfly.clustering.web.undertow.session.DistributableSession.java</file>
			<file type="D">org.wildfly.clustering.web.undertow.session.AbstractDistributableSession.java</file>
			<file type="M">org.wildfly.clustering.web.undertow.session.DistributableSessionTestCase.java</file>
			<file type="M">org.wildfly.clustering.web.infinispan.session.SessionEvictionSchedulerTestCase.java</file>
			<file type="M">org.wildfly.clustering.web.undertow.session.UndertowSessionManager.java</file>
			<file type="M">org.wildfly.clustering.web.undertow.sso.DistributableSingleSignOn.java</file>
			<file type="D">org.wildfly.clustering.ejb.infinispan.TransactionBatch.java</file>
			<file type="M">org.wildfly.clustering.web.session.SessionManagerFactoryBuilderValue.java</file>
			<file type="M">org.wildfly.clustering.web.undertow.session.DistributableImmutableSession.java</file>
			<file type="M">org.wildfly.clustering.server.registry.CacheRegistryFactoryService.java</file>
			<file type="M">org.wildfly.clustering.web.infinispan.sso.InfinispanSSOManagerFactory.java</file>
			<file type="M">org.wildfly.clustering.ejb.infinispan.InfinispanBeanManagerFactoryBuilder.java</file>
			<file type="M">org.jboss.as.clustering.infinispan.subsystem.CacheService.java</file>
			<file type="M">org.wildfly.clustering.web.undertow.sso.DistributableSingleSignOnManagerFactoryService.java</file>
			<file type="M">org.wildfly.clustering.web.infinispan.session.SessionExpirationSchedulerTestCase.java</file>
			<file type="D">org.wildfly.clustering.ejb.infinispan.InfinispanBatcher.java</file>
			<file type="M">org.wildfly.clustering.ejb.infinispan.InfinispanBeanManager.java</file>
			<file type="M">org.wildfly.clustering.web.infinispan.session.InfinispanSessionManagerFactoryBuilder.java</file>
			<file type="M">org.wildfly.clustering.web.session.SessionManager.java</file>
			<file type="M">org.wildfly.clustering.ejb.infinispan.BeanExpirationSchedulerTestCase.java</file>
			<file type="M">org.wildfly.clustering.web.undertow.session.DistributableSessionManagerFactory.java</file>
			<file type="M">org.wildfly.clustering.web.session.SessionManagerFactoryBuilder.java</file>
			<file type="M">org.wildfly.clustering.ejb.BeanManagerFactoryBuilder.java</file>
			<file type="D">org.wildfly.clustering.ejb.Batcher.java</file>
			<file type="M">org.wildfly.clustering.ejb.BeanManager.java</file>
			<file type="D">org.wildfly.clustering.web.Batcher.java</file>
			<file type="M">org.jboss.as.test.clustering.cluster.web.ReplicationForNegotiationAuthenticatorTestCase.java</file>
			<file type="M">org.wildfly.clustering.web.infinispan.session.InfinispanSessionManager.java</file>
			<file type="M">org.wildfly.clustering.web.undertow.session.DistributableSessionManager.java</file>
			<file type="M">org.wildfly.clustering.ejb.BeanManagerFactory.java</file>
			<file type="M">org.wildfly.clustering.web.infinispan.session.InfinispanSessionManagerFactory.java</file>
			<file type="M">org.wildfly.clustering.web.session.SessionManagerFactory.java</file>
			<file type="M">org.wildfly.clustering.server.registry.CacheRegistry.java</file>
			<file type="M">org.wildfly.clustering.web.undertow.session.DistributableSessionManagerFactoryService.java</file>
			<file type="M">org.jboss.as.clustering.infinispan.CacheContainer.java</file>
			<file type="D">org.jboss.as.clustering.infinispan.DefaultEmbeddedCacheManagerTest.java</file>
			<file type="M">org.wildfly.clustering.web.sso.SSOManagerFactoryBuilderService.java</file>
			<file type="M">org.wildfly.clustering.ejb.infinispan.InfinispanBeanManagerFactory.java</file>
			<file type="M">org.wildfly.clustering.ejb.infinispan.BeanExpirationScheduler.java</file>
			<file type="M">org.wildfly.clustering.ejb.infinispan.BeanEvictionScheduler.java</file>
			<file type="M">org.wildfly.clustering.web.infinispan.session.InfinispanSessionManagerConfiguration.java</file>
			<file type="D">org.wildfly.clustering.ejb.Batch.java</file>
			<file type="M">org.jboss.as.ejb3.cache.distributable.DistributableCacheFactoryService.java</file>
			<file type="M">org.wildfly.clustering.web.sso.SSOManagerFactoryBuilder.java</file>
			<file type="M">org.wildfly.clustering.web.undertow.sso.DistributableSingleSignOnManagerTestCase.java</file>
			<file type="M">org.wildfly.clustering.ejb.BeanManagerFactoryBuilderProvider.java</file>
			<file type="M">org.wildfly.clustering.ejb.infinispan.BeanEvictionSchedulerTestCase.java</file>
			<file type="D">org.jboss.as.clustering.infinispan.invoker.BatchCacheInvoker.java</file>
			<file type="M">org.wildfly.clustering.web.infinispan.sso.InfinispanSSOManager.java</file>
			<file type="M">org.wildfly.clustering.ejb.infinispan.InfinispanBatcherTestCase.java</file>
			<file type="M">org.wildfly.clustering.web.undertow.session.DistributableSessionManagerTestCase.java</file>
			<file type="M">org.wildfly.clustering.web.infinispan.session.SessionCacheConfigurationService.java</file>
			<file type="M">org.wildfly.clustering.web.undertow.sso.DistributableSingleSignOnManager.java</file>
			<file type="M">org.jboss.as.ejb3.cache.distributable.DistributableCacheFactoryBuilderService.java</file>
			<file type="M">org.wildfly.clustering.web.infinispan.CacheEntryMutatorTestCase.java</file>
			<file type="M">org.wildfly.clustering.web.infinispan.session.SessionEvictionCommand.java</file>
			<file type="M">org.wildfly.clustering.web.undertow.sso.DistributableSingleSignOnManagerFactory.java</file>
			<file type="M">org.wildfly.clustering.server.provider.CacheServiceProviderRegistrationFactoryConfiguration.java</file>
			<file type="M">org.wildfly.clustering.ejb.infinispan.InfinispanBeanManagerFactoryBuilderProvider.java</file>
			<file type="D">org.wildfly.clustering.ejb.BatchContext.java</file>
			<file type="M">org.wildfly.clustering.ejb.infinispan.BeanEvictionContext.java</file>
			<file type="M">org.wildfly.clustering.ejb.infinispan.BeanEvictionCommand.java</file>
			<file type="M">org.jboss.as.clustering.infinispan.DefaultCacheContainer.java</file>
			<file type="D">org.wildfly.clustering.web.Batch.java</file>
			<file type="M">org.wildfly.clustering.web.infinispan.session.SessionExpirationScheduler.java</file>
		</fixedFiles>
		<links>
			<link type="Related" description="relates to">599</link>
		</links>
	</bug>
	<bug id="3023" opendate="2014-02-26 02:42:33" fixdate="2014-09-03 21:44:52" resolution="Done">
		<buginformation>
			<summary>JDR CommandLineMain defaults to port 9999</summary>
			<description>If the user doesn&amp;amp;apos;t provide a port, CommandLineMain defaults to 9999, but with protocol http-remoting. That combo won&amp;amp;apos;t work. It should use 9990 since that will be the default management port.</description>
			<version>8.0.0.Final</version>
			<fixedVersion></fixedVersion>
			<type>Bug</type>
		</buginformation>
		<fixedFiles>
			<file type="M">org.jboss.as.jdr.CommandLineMain.java</file>
			<file type="M">org.jboss.as.jdr.JdrReportService.java</file>
		</fixedFiles>
	</bug>
	<bug id="3738" opendate="2014-08-15 19:03:45" fixdate="2014-09-04 01:12:55" resolution="Done">
		<buginformation>
			<summary>Secured JavaEE appclient hangs on invalid login</summary>
			<description>See attached sample EAR file: it contains a secured EJB and a JavaEE application client. When running the JavaEE application client, you are prompted to enter a user/password, which causes an authentication against a security domain (the prompt to enter login/password does not work correctly, so enter username when nothing more happens, press enter, enter password when nothing more happens and press enter ). 
If you enter valid credentials (e.g. "admin/admin" or "kunde/kunde"), everything is fine. But if you enter e.g. an invalid password, the app client container does not exit. It hangs at the step 
"20:39:28,649 INFO  [org.jboss.as] (MSC service thread 1-2) JBAS015950: WildFly 8.1.0.Final "Kenny" stopped in 339ms"
To reproduce:
a) modify "standalone.xml":
a.1) I need a custom realm:
            &amp;lt;security-realm name="KnaufRealm"&amp;gt;
                &amp;lt;authentication&amp;gt;
                    &amp;lt;jaas name="knaufsecurity"/&amp;gt;
                &amp;lt;/authentication&amp;gt;
            &amp;lt;/security-realm&amp;gt;
a.2) add this security domain:
                &amp;lt;security-domain name="knaufsecurity" cache-type="default"&amp;gt;
                    &amp;lt;authentication&amp;gt;
                        &amp;lt;login-module code="Database" flag="required"&amp;gt;
                            &amp;lt;module-option name="dsJndiName" value="java:jboss/datasources/ExampleDS"/&amp;gt;
                            &amp;lt;module-option name="principalsQuery" value="SELECT PASSWORT FROM BENUTZER WHERE LOGIN=?"/&amp;gt;
                            &amp;lt;module-option name="rolesQuery" value="SELECT R.ROLLE, &amp;amp;apos;Roles&amp;amp;apos; FROM ROLLE AS R, BENUTZER_ROLLE AS BR, BENUTZER AS B WHERE B.LOGIN=? AND BR.ROLLEN_ID = R.ID AND BR.BENUTZER_ID = B.ID"/&amp;gt;
                            &amp;lt;module-option name="unauthenticatedIdentity" value="gast"/&amp;gt;
                        &amp;lt;/login-module&amp;gt;
                    &amp;lt;/authentication&amp;gt;
                &amp;lt;/security-domain&amp;gt;
a.3) point the remoting connector to my own security realm:
        &amp;lt;subsystem xmlns="urn:jboss:domain:remoting:2.0"&amp;gt;
            &amp;lt;endpoint worker="default"/&amp;gt;
            &amp;lt;http-connector name="http-remoting-connector" connector-ref="default" security-realm="KnaufRealm"/&amp;gt;
        &amp;lt;/subsystem&amp;gt;
b) deploy attached EAR file to the server
c) run JavaEE application client: %WILDFLY_HOME%\bin\appclient.bat c:\path_to\Security.ear#SecurityClient.jar</description>
			<version>8.1.0.Final</version>
			<fixedVersion>9.0.0.Alpha1</fixedVersion>
			<type>Bug</type>
		</buginformation>
		<fixedFiles>
			<file type="M">org.jboss.as.appclient.service.LazyConnectionContextSelector.java</file>
		</fixedFiles>
	</bug>
	<bug id="3731" opendate="2014-08-13 15:01:26" fixdate="2014-09-05 10:41:08" resolution="Done">
		<buginformation>
			<summary>org.jboss.as.ejb3.component.stateful.StatefulSessionSynchronizationInterceptor should not register a Synchronization if the transaction was rolled back</summary>
			<description>http://fpaste.org/125252/ shows what happens when the transaction has already been rolled back ().  

WFLYEJB0458: Failure in caller transaction.: java.lang.IllegalStateException: No transaction is running
        at com.arjuna.ats.internal.jta.transaction.arjunacore.TransactionSynchronizationRegistryImple.getTransactionImple(TransactionSynchronizationRegistryImple.java:228)

09:02:13,666 INFO  [stdout] (default task-1) about to create entity 3253
09:02:13,666 INFO  [org.jboss.as.jpa] (default task-1) tx.status = 0
09:02:13,666 WARN  [com.arjuna.ats.arjuna] (Transaction Reaper) ARJUNA012117: TransactionReaper::check timeout for TX 0:ffff7f000001:11d28655:53eb58d3:87 in state  RUN
09:02:13,666 INFO  [org.jboss.as.jpa] (default task-1) tx.status = 0
09:02:13,667 INFO  [stdout] (default task-1) repeating invocation, count=3253
09:02:13,667 INFO  [stdout] (default task-1) about to create entity 3254
09:02:13,667 WARN  [com.arjuna.ats.arjuna] (Transaction Reaper Worker 0) ARJUNA012095: Abort of action id 0:ffff7f000001:11d28655:53eb58d3:87 invoked while multiple threads active within it.
09:02:13,667 WARN  [com.arjuna.ats.arjuna] (Transaction Reaper Worker 0) ARJUNA012108: CheckedAction::check - atomic action 0:ffff7f000001:11d28655:53eb58d3:87 aborting with 1 threads active!
09:02:13,667 INFO  [org.jboss.as.jpa] (default task-1) tx.status = 0
09:02:13,668 INFO  [org.jboss.as.jpa] (default task-1) tx.status = 4
09:02:13,668 INFO  [stdout] (default task-1) repeating invocation, count=3254
09:02:13,668 INFO  [stdout] (default task-1) about to create entity 3255
09:02:13,668 INFO  [org.jboss.as.jpa] (default task-1) tx.status = 4
09:02:13,668 INFO  [org.jboss.as.jpa] (default task-1) tx.status = 4
09:02:13,668 INFO  [stdout] (default task-1) repeating invocation, count=3255
09:02:13,668 INFO  [stdout] (default task-1) about to create entity 3256
09:02:13,669 INFO  [org.jboss.as.jpa] (default task-1) tx.status = 4
09:02:13,669 INFO  [org.jboss.as.jpa] (default task-1) tx.status = 4
09:02:13,669 INFO  [stdout] (default task-1) repeating invocation, count=3256
09:02:13,669 INFO  [stdout] (default task-1) about to create entity 3257
09:02:13,669 INFO  [org.jboss.as.jpa] (default task-1) tx.status = 4
09:02:13,669 INFO  [org.jboss.as.jpa] (default task-1) tx.status = 4
09:02:13,669 INFO  [stdout] (default task-1) repeating invocation, count=3257
09:02:13,669 INFO  [stdout] (default task-1) about to create entity 3258
09:02:13,670 INFO  [org.jboss.as.jpa] (default task-1) tx.status = 4
09:02:13,670 INFO  [org.jboss.as.jpa] (default task-1) tx.status = 4
09:02:13,670 INFO  [stdout] (default task-1) repeating invocation, count=3258
09:02:13,670 INFO  [stdout] (default task-1) about to create entity 3259
09:02:13,670 INFO  [org.jboss.as.jpa] (default task-1) tx.status = 4
09:02:13,670 INFO  [org.jboss.as.jpa] (default task-1) tx.status = 4
09:02:13,670 INFO  [stdout] (default task-1) repeating invocation, count=3259
09:02:13,670 INFO  [stdout] (default task-1) about to create entity 3260
09:02:13,671 INFO  [org.jboss.as.jpa] (default task-1) tx.status = 4
09:02:13,671 INFO  [org.jboss.as.jpa] (default task-1) tx.status = 4
09:02:13,671 INFO  [stdout] (default task-1) repeating invocation, count=3260
09:02:13,671 INFO  [stdout] (default task-1) about to create entity 3261
09:02:13,671 INFO  [org.jboss.as.jpa] (default task-1) tx.status = 4
09:02:13,671 INFO  [org.jboss.as.jpa] (default task-1) tx.status = 4
09:02:13,671 INFO  [stdout] (default task-1) repeating invocation, count=3261
09:02:13,671 INFO  [stdout] (default task-1) about to create entity 3262
09:02:13,672 INFO  [org.jboss.as.jpa] (default task-1) tx.status = 4
09:02:13,672 WARN  [com.arjuna.ats.arjuna] (Transaction Reaper Worker 0) ARJUNA012121: TransactionReaper::doCancellations worker Thread[Transaction Reaper Worker 0,5,main] successfully canceled TX 0:ffff7f000001:11d28655:53eb58d3:87
09:02:13,672 INFO  [org.jboss.as.jpa] (default task-1) tx.status = 4
09:02:13,673 INFO  [stdout] (default task-1) repeating invocation, count=3262
09:02:13,673 INFO  [stdout] (default task-1) about to create entity 3263
09:02:13,675 ERROR [org.jboss.as.ejb3] (default task-1) WFLYEJB0458: Failure in caller transaction.: java.lang.IllegalStateException: No transaction is running
        at com.arjuna.ats.internal.jta.transaction.arjunacore.TransactionSynchronizationRegistryImple.getTransactionImple(TransactionSynchronizationRegistryImple.java:228)
        at com.arjuna.ats.internal.jta.transaction.arjunacore.TransactionSynchronizationRegistryImple.registerInterposedSynchronization(TransactionSynchronizationRegistryImple.java:136)
        at org.jboss.as.ejb3.component.stateful.StatefulSessionSynchronizationInterceptor.processInvocation(StatefulSessionSynchronizationInterceptor.java:111) [wildfly-ejb3-9.0.0.Alpha1-SNAPSHOT.jar:9.0.0.Alpha1-SNAPSHOT]
        at org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:309)
        at org.jboss.invocation.InterceptorContext$Invocation.proceed(InterceptorContext.java:407)
        at org.jboss.weld.ejb.AbstractEJBRequestScopeActivationInterceptor.aroundInvoke(AbstractEJBRequestScopeActivationInterceptor.java:46) [weld-core-impl-2.2.3.Final.jar:2014-07-07 07:39]
        at org.jboss.as.weld.ejb.EjbRequestScopeActivationInterceptor.processInvocation(EjbRequestScopeActivationInterceptor.java:83) [wildfly-weld-9.0.0.Alpha1-SNAPSHOT.jar:9.0.0.Alpha1-SNAPSHOT]
        at org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:309)
        at org.jboss.as.ee.concurrent.ConcurrentContextInterceptor.processInvocation(ConcurrentContextInterceptor.java:45) [wildfly-ee-9.0.0.Alpha1-SNAPSHOT.jar:9.0.0.Alpha1-SNAPSHOT]
        at org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:309)
        at org.jboss.invocation.InitialInterceptor.processInvocation(InitialInterceptor.java:21)
        at org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:309)
        at org.jboss.invocation.ChainedInterceptor.processInvocation(ChainedInterceptor.java:61)
        at org.jboss.as.ee.component.interceptors.ComponentDispatcherInterceptor.processInvocation(ComponentDispatcherInterceptor.java:52)
        at org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:309)
        at org.jboss.as.ejb3.component.stateful.StatefulComponentInstanceInterceptor.processInvocation(StatefulComponentInstanceInterceptor.java:65) [wildfly-ejb3-9.0.0.Alpha1-SNAPSHOT.jar:9.0.0.Alpha1-SNAPSHOT]
        at org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:309)
        at org.jboss.as.ejb3.tx.CMTTxInterceptor.invokeInCallerTx(CMTTxInterceptor.java:252) [wildfly-ejb3-9.0.0.Alpha1-SNAPSHOT.jar:9.0.0.Alpha1-SNAPSHOT]
        at org.jboss.as.ejb3.tx.CMTTxInterceptor.required(CMTTxInterceptor.java:343) [wildfly-ejb3-9.0.0.Alpha1-SNAPSHOT.jar:9.0.0.Alpha1-SNAPSHOT]
        at org.jboss.as.ejb3.tx.CMTTxInterceptor.processInvocation(CMTTxInterceptor.java:240) [wildfly-ejb3-9.0.0.Alpha1-SNAPSHOT.jar:9.0.0.Alpha1-SNAPSHOT]
        at org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:309)
        at org.jboss.as.ejb3.component.interceptors.CurrentInvocationContextInterceptor.processInvocation(CurrentInvocationContextInterceptor.java:41) [wildfly-ejb3-9.0.0.Alpha1-SNAPSHOT.jar:9.0.0.Alpha1-SNAPSHOT]
        at org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:309)
        at org.jboss.as.ejb3.component.invocationmetrics.WaitTimeInterceptor.processInvocation(WaitTimeInterceptor.java:43) [wildfly-ejb3-9.0.0.Alpha1-SNAPSHOT.jar:9.0.0.Alpha1-SNAPSHOT]
        at org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:309)
        at org.jboss.as.ejb3.security.SecurityContextInterceptor.processInvocation(SecurityContextInterceptor.java:100) [wildfly-ejb3-9.0.0.Alpha1-SNAPSHOT.jar:9.0.0.Alpha1-SNAPSHOT]
        at org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:309)
        at org.jboss.as.ejb3.component.interceptors.ShutDownInterceptorFactory$1.processInvocation(ShutDownInterceptorFactory.java:64) [wildfly-ejb3-9.0.0.Alpha1-SNAPSHOT.jar:9.0.0.Alpha1-SNAPSHOT]
        at org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:309)
        at org.jboss.as.ejb3.component.interceptors.LoggingInterceptor.processInvocation(LoggingInterceptor.java:59) [wildfly-ejb3-9.0.0.Alpha1-SNAPSHOT.jar:9.0.0.Alpha1-SNAPSHOT]
        at org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:309)
        at org.jboss.as.ee.component.NamespaceContextInterceptor.processInvocation(NamespaceContextInterceptor.java:50)
        at org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:309)
        at org.jboss.as.ejb3.component.interceptors.AdditionalSetupInterceptor.processInvocation(AdditionalSetupInterceptor.java:55) [wildfly-ejb3-9.0.0.Alpha1-SNAPSHOT.jar:9.0.0.Alpha1-SNAPSHOT]
        at org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:309)
        at org.jboss.invocation.ContextClassLoaderInterceptor.processInvocation(ContextClassLoaderInterceptor.java:64)
        at org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:309)
        at org.jboss.invocation.InterceptorContext.run(InterceptorContext.java:326)
        at org.wildfly.security.manager.WildFlySecurityManager.doChecked(WildFlySecurityManager.java:448) [wildfly-security-manager-1.0.0.Final.jar:1.0.0.Final]
        at org.jboss.invocation.AccessCheckingInterceptor.processInvocation(AccessCheckingInterceptor.java:61)
        at org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:309)
        at org.jboss.invocation.InterceptorContext.run(InterceptorContext.java:326)
        at org.jboss.invocation.PrivilegedWithCombinerInterceptor.processInvocation(PrivilegedWithCombinerInterceptor.java:80)
        at org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:309)
        at org.jboss.invocation.ChainedInterceptor.processInvocation(ChainedInterceptor.java:61)
        at org.jboss.as.ee.component.ViewService$View.invoke(ViewService.java:185)
        at org.jboss.as.ee.component.ViewDescription$1.processInvocation(ViewDescription.java:182)
        at org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:309)
        at org.jboss.invocation.ChainedInterceptor.processInvocation(ChainedInterceptor.java:61)
        at org.jboss.as.ee.component.ProxyInvocationHandler.invoke(ProxyInvocationHandler.java:73)
        at org.jboss.as.test.integration.jpa.txtimeout.SFSB1$$$view1.createEmployee(Unknown Source) [classes:]
        at org.jboss.as.test.integration.jpa.txtimeout.SimpleServlet.doGet(SimpleServlet.java:72) [classes:]
        at javax.servlet.http.HttpServlet.service(HttpServlet.java:687) [jboss-servlet-api_3.1_spec-1.0.0.Final.jar:1.0.0.Final]
        at javax.servlet.http.HttpServlet.service(HttpServlet.java:790) [jboss-servlet-api_3.1_spec-1.0.0.Final.jar:1.0.0.Final]
        at io.undertow.servlet.handlers.ServletHandler.handleRequest(ServletHandler.java:85) [undertow-servlet-1.1.0.Beta5.jar:1.1.0.Beta5]
        at io.undertow.servlet.handlers.security.ServletSecurityRoleHandler.handleRequest(ServletSecurityRoleHandler.java:61) [undertow-servlet-1.1.0.Beta5.jar:1.1.0.Beta5]
        at io.undertow.servlet.handlers.ServletDispatchingHandler.handleRequest(ServletDispatchingHandler.java:36) [undertow-servlet-1.1.0.Beta5.jar:1.1.0.Beta5]
        at org.wildfly.extension.undertow.security.SecurityContextAssociationHandler.handleRequest(SecurityContextAssociationHandler.java:78)
        at io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43) [undertow-core-1.1.0.Beta5.jar:1.1.0.Beta5]
        at io.undertow.servlet.handlers.security.SSLInformationAssociationHandler.handleRequest(SSLInformationAssociationHandler.java:131) [undertow-servlet-1.1.0.Beta5.jar:1.1.0.Beta5]
        at io.undertow.servlet.handlers.security.ServletAuthenticationCallHandler.handleRequest(ServletAuthenticationCallHandler.java:56) [undertow-servlet-1.1.0.Beta5.jar:1.1.0.Beta5]
        at io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43) [undertow-core-1.1.0.Beta5.jar:1.1.0.Beta5]
        at io.undertow.security.handlers.AbstractConfidentialityHandler.handleRequest(AbstractConfidentialityHandler.java:45) [undertow-core-1.1.0.Beta5.jar:1.1.0.Beta5]
        at io.undertow.servlet.handlers.security.ServletConfidentialityConstraintHandler.handleRequest(ServletConfidentialityConstraintHandler.java:61) [undertow-servlet-1.1.0.Beta5.jar:1.1.0.Beta5]
        at io.undertow.security.handlers.AuthenticationMechanismsHandler.handleRequest(AuthenticationMechanismsHandler.java:58) [undertow-core-1.1.0.Beta5.jar:1.1.0.Beta5]
        at io.undertow.servlet.handlers.security.CachedAuthenticatedSessionHandler.handleRequest(CachedAuthenticatedSessionHandler.java:70) [undertow-servlet-1.1.0.Beta5.jar:1.1.0.Beta5]
        at io.undertow.security.handlers.SecurityInitialHandler.handleRequest(SecurityInitialHandler.java:76) [undertow-core-1.1.0.Beta5.jar:1.1.0.Beta5]
        at io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43) [undertow-core-1.1.0.Beta5.jar:1.1.0.Beta5]
        at org.wildfly.extension.undertow.security.jacc.JACCContextIdHandler.handleRequest(JACCContextIdHandler.java:61)
        at io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43) [undertow-core-1.1.0.Beta5.jar:1.1.0.Beta5]
        at io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43) [undertow-core-1.1.0.Beta5.jar:1.1.0.Beta5]
        at io.undertow.servlet.handlers.ServletInitialHandler.handleFirstRequest(ServletInitialHandler.java:247) [undertow-servlet-1.1.0.Beta5.jar:1.1.0.Beta5]
        at io.undertow.servlet.handlers.ServletInitialHandler.dispatchRequest(ServletInitialHandler.java:234) [undertow-servlet-1.1.0.Beta5.jar:1.1.0.Beta5]
        at io.undertow.servlet.handlers.ServletInitialHandler.access$000(ServletInitialHandler.java:76) [undertow-servlet-1.1.0.Beta5.jar:1.1.0.Beta5]
        at io.undertow.servlet.handlers.ServletInitialHandler$1.handleRequest(ServletInitialHandler.java:153) [undertow-servlet-1.1.0.Beta5.jar:1.1.0.Beta5]
        at io.undertow.server.Connectors.executeRootHandler(Connectors.java:197) [undertow-core-1.1.0.Beta5.jar:1.1.0.Beta5]
        at io.undertow.server.HttpServerExchange$1.run(HttpServerExchange.java:737) [undertow-core-1.1.0.Beta5.jar:1.1.0.Beta5]
        at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1145) [rt.jar:1.7.0_60]
        at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:615) [rt.jar:1.7.0_60]
        at java.lang.Thread.run(Thread.java:745) [rt.jar:1.7.0_60]
09:02:13,681 ERROR [org.jboss.as.ejb3.invocation] (default task-1) WFLYEJB0034: EJB Invocation failed on component SFSB1 for method public void org.jboss.as.test.integration.jpa.txtimeout.SFSB1.createEmployee(java.lang.String,java.lang.String,int): javax.ejb.EJBTransactionRolledbackException: No transaction is running
        at org.jboss.as.ejb3.tx.CMTTxInterceptor.handleInCallerTx(CMTTxInterceptor.java:161) [wildfly-ejb3-9.0.0.Alpha1-SNAPSHOT.jar:9.0.0.Alpha1-SNAPSHOT]
        at org.jboss.as.ejb3.tx.CMTTxInterceptor.invokeInCallerTx(CMTTxInterceptor.java:254) [wildfly-ejb3-9.0.0.Alpha1-SNAPSHOT.jar:9.0.0.Alpha1-SNAPSHOT]
        at org.jboss.as.ejb3.tx.CMTTxInterceptor.required(CMTTxInterceptor.java:343) [wildfly-ejb3-9.0.0.Alpha1-SNAPSHOT.jar:9.0.0.Alpha1-SNAPSHOT]
        at org.jboss.as.ejb3.tx.CMTTxInterceptor.processInvocation(CMTTxInterceptor.java:240) [wildfly-ejb3-9.0.0.Alpha1-SNAPSHOT.jar:9.0.0.Alpha1-SNAPSHOT]
        at org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:309)
        at org.jboss.as.ejb3.component.interceptors.CurrentInvocationContextInterceptor.processInvocation(CurrentInvocationContextInterceptor.java:41) [wildfly-ejb3-9.0.0.Alpha1-SNAPSHOT.jar:9.0.0.Alpha1-SNAPSHOT]
        at org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:309)
        at org.jboss.as.ejb3.component.invocationmetrics.WaitTimeInterceptor.processInvocation(WaitTimeInterceptor.java:43) [wildfly-ejb3-9.0.0.Alpha1-SNAPSHOT.jar:9.0.0.Alpha1-SNAPSHOT]
        at org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:309)
        at org.jboss.as.ejb3.security.SecurityContextInterceptor.processInvocation(SecurityContextInterceptor.java:100) [wildfly-ejb3-9.0.0.Alpha1-SNAPSHOT.jar:9.0.0.Alpha1-SNAPSHOT]
        at org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:309)
        at org.jboss.as.ejb3.component.interceptors.ShutDownInterceptorFactory$1.processInvocation(ShutDownInterceptorFactory.java:64) [wildfly-ejb3-9.0.0.Alpha1-SNAPSHOT.jar:9.0.0.Alpha1-SNAPSHOT]
        at org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:309)
        at org.jboss.as.ejb3.component.interceptors.LoggingInterceptor.processInvocation(LoggingInterceptor.java:59) [wildfly-ejb3-9.0.0.Alpha1-SNAPSHOT.jar:9.0.0.Alpha1-SNAPSHOT]
        at org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:309)
        at org.jboss.as.ee.component.NamespaceContextInterceptor.processInvocation(NamespaceContextInterceptor.java:50)
        at org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:309)
        at org.jboss.as.ejb3.component.interceptors.AdditionalSetupInterceptor.processInvocation(AdditionalSetupInterceptor.java:55) [wildfly-ejb3-9.0.0.Alpha1-SNAPSHOT.jar:9.0.0.Alpha1-SNAPSHOT]
        at org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:309)
        at org.jboss.invocation.ContextClassLoaderInterceptor.processInvocation(ContextClassLoaderInterceptor.java:64)
        at org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:309)
        at org.jboss.invocation.InterceptorContext.run(InterceptorContext.java:326)
        at org.wildfly.security.manager.WildFlySecurityManager.doChecked(WildFlySecurityManager.java:448) [wildfly-security-manager-1.0.0.Final.jar:1.0.0.Final]
        at org.jboss.invocation.AccessCheckingInterceptor.processInvocation(AccessCheckingInterceptor.java:61)
        at org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:309)
        at org.jboss.invocation.InterceptorContext.run(InterceptorContext.java:326)
        at org.jboss.invocation.PrivilegedWithCombinerInterceptor.processInvocation(PrivilegedWithCombinerInterceptor.java:80)
        at org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:309)
        at org.jboss.invocation.ChainedInterceptor.processInvocation(ChainedInterceptor.java:61)
        at org.jboss.as.ee.component.ViewService$View.invoke(ViewService.java:185)
        at org.jboss.as.ee.component.ViewDescription$1.processInvocation(ViewDescription.java:182)
        at org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:309)
        at org.jboss.invocation.ChainedInterceptor.processInvocation(ChainedInterceptor.java:61)
        at org.jboss.as.ee.component.ProxyInvocationHandler.invoke(ProxyInvocationHandler.java:73)
        at org.jboss.as.test.integration.jpa.txtimeout.SFSB1$$$view1.createEmployee(Unknown Source) [classes:]
        at org.jboss.as.test.integration.jpa.txtimeout.SimpleServlet.doGet(SimpleServlet.java:72) [classes:]
        at javax.servlet.http.HttpServlet.service(HttpServlet.java:687) [jboss-servlet-api_3.1_spec-1.0.0.Final.jar:1.0.0.Final]
        at javax.servlet.http.HttpServlet.service(HttpServlet.java:790) [jboss-servlet-api_3.1_spec-1.0.0.Final.jar:1.0.0.Final]
        at io.undertow.servlet.handlers.ServletHandler.handleRequest(ServletHandler.java:85) [undertow-servlet-1.1.0.Beta5.jar:1.1.0.Beta5]
        at io.undertow.servlet.handlers.security.ServletSecurityRoleHandler.handleRequest(ServletSecurityRoleHandler.java:61) [undertow-servlet-1.1.0.Beta5.jar:1.1.0.Beta5]
        at io.undertow.servlet.handlers.ServletDispatchingHandler.handleRequest(ServletDispatchingHandler.java:36) [undertow-servlet-1.1.0.Beta5.jar:1.1.0.Beta5]
        at org.wildfly.extension.undertow.security.SecurityContextAssociationHandler.handleRequest(SecurityContextAssociationHandler.java:78)
        at io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43) [undertow-core-1.1.0.Beta5.jar:1.1.0.Beta5]
        at io.undertow.servlet.handlers.security.SSLInformationAssociationHandler.handleRequest(SSLInformationAssociationHandler.java:131) [undertow-servlet-1.1.0.Beta5.jar:1.1.0.Beta5]
        at io.undertow.servlet.handlers.security.ServletAuthenticationCallHandler.handleRequest(ServletAuthenticationCallHandler.java:56) [undertow-servlet-1.1.0.Beta5.jar:1.1.0.Beta5]
        at io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43) [undertow-core-1.1.0.Beta5.jar:1.1.0.Beta5]
        at io.undertow.security.handlers.AbstractConfidentialityHandler.handleRequest(AbstractConfidentialityHandler.java:45) [undertow-core-1.1.0.Beta5.jar:1.1.0.Beta5]
        at io.undertow.servlet.handlers.security.ServletConfidentialityConstraintHandler.handleRequest(ServletConfidentialityConstraintHandler.java:61) [undertow-servlet-1.1.0.Beta5.jar:1.1.0.Beta5]
        at io.undertow.security.handlers.AuthenticationMechanismsHandler.handleRequest(AuthenticationMechanismsHandler.java:58) [undertow-core-1.1.0.Beta5.jar:1.1.0.Beta5]
        at io.undertow.servlet.handlers.security.CachedAuthenticatedSessionHandler.handleRequest(CachedAuthenticatedSessionHandler.java:70) [undertow-servlet-1.1.0.Beta5.jar:1.1.0.Beta5]
        at io.undertow.security.handlers.SecurityInitialHandler.handleRequest(SecurityInitialHandler.java:76) [undertow-core-1.1.0.Beta5.jar:1.1.0.Beta5]
        at io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43) [undertow-core-1.1.0.Beta5.jar:1.1.0.Beta5]
        at org.wildfly.extension.undertow.security.jacc.JACCContextIdHandler.handleRequest(JACCContextIdHandler.java:61)
        at io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43) [undertow-core-1.1.0.Beta5.jar:1.1.0.Beta5]
        at io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43) [undertow-core-1.1.0.Beta5.jar:1.1.0.Beta5]
        at io.undertow.servlet.handlers.ServletInitialHandler.handleFirstRequest(ServletInitialHandler.java:247) [undertow-servlet-1.1.0.Beta5.jar:1.1.0.Beta5]
        at io.undertow.servlet.handlers.ServletInitialHandler.dispatchRequest(ServletInitialHandler.java:234) [undertow-servlet-1.1.0.Beta5.jar:1.1.0.Beta5]
        at io.undertow.servlet.handlers.ServletInitialHandler.access$000(ServletInitialHandler.java:76) [undertow-servlet-1.1.0.Beta5.jar:1.1.0.Beta5]
        at io.undertow.servlet.handlers.ServletInitialHandler$1.handleRequest(ServletInitialHandler.java:153) [undertow-servlet-1.1.0.Beta5.jar:1.1.0.Beta5]
        at io.undertow.server.Connectors.executeRootHandler(Connectors.java:197) [undertow-core-1.1.0.Beta5.jar:1.1.0.Beta5]
        at io.undertow.server.HttpServerExchange$1.run(HttpServerExchange.java:737) [undertow-core-1.1.0.Beta5.jar:1.1.0.Beta5]
        at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1145) [rt.jar:1.7.0_60]
        at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:615) [rt.jar:1.7.0_60]
        at java.lang.Thread.run(Thread.java:745) [rt.jar:1.7.0_60]
Caused by: java.lang.IllegalStateException: No transaction is running
        at com.arjuna.ats.internal.jta.transaction.arjunacore.TransactionSynchronizationRegistryImple.getTransactionImple(TransactionSynchronizationRegistryImple.java:228)
        at com.arjuna.ats.internal.jta.transaction.arjunacore.TransactionSynchronizationRegistryImple.registerInterposedSynchronization(TransactionSynchronizationRegistryImple.java:136)
        at org.jboss.as.ejb3.component.stateful.StatefulSessionSynchronizationInterceptor.processInvocation(StatefulSessionSynchronizationInterceptor.java:111) [wildfly-ejb3-9.0.0.Alpha1-SNAPSHOT.jar:9.0.0.Alpha1-SNAPSHOT]
        at org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:309)
        at org.jboss.invocation.InterceptorContext$Invocation.proceed(InterceptorContext.java:407)
        at org.jboss.weld.ejb.AbstractEJBRequestScopeActivationInterceptor.aroundInvoke(AbstractEJBRequestScopeActivationInterceptor.java:46) [weld-core-impl-2.2.3.Final.jar:2014-07-07 07:39]
        at org.jboss.as.weld.ejb.EjbRequestScopeActivationInterceptor.processInvocation(EjbRequestScopeActivationInterceptor.java:83) [wildfly-weld-9.0.0.Alpha1-SNAPSHOT.jar:9.0.0.Alpha1-SNAPSHOT]
        at org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:309)
        at org.jboss.as.ee.concurrent.ConcurrentContextInterceptor.processInvocation(ConcurrentContextInterceptor.java:45) [wildfly-ee-9.0.0.Alpha1-SNAPSHOT.jar:9.0.0.Alpha1-SNAPSHOT]
        at org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:309)
        at org.jboss.invocation.InitialInterceptor.processInvocation(InitialInterceptor.java:21)
        at org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:309)
        at org.jboss.invocation.ChainedInterceptor.processInvocation(ChainedInterceptor.java:61)
        at org.jboss.as.ee.component.interceptors.ComponentDispatcherInterceptor.processInvocation(ComponentDispatcherInterceptor.java:52)
        at org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:309)
        at org.jboss.as.ejb3.component.stateful.StatefulComponentInstanceInterceptor.processInvocation(StatefulComponentInstanceInterceptor.java:65) [wildfly-ejb3-9.0.0.Alpha1-SNAPSHOT.jar:9.0.0.Alpha1-SNAPSHOT]
        at org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:309)
        at org.jboss.as.ejb3.tx.CMTTxInterceptor.invokeInCallerTx(CMTTxInterceptor.java:252) [wildfly-ejb3-9.0.0.Alpha1-SNAPSHOT.jar:9.0.0.Alpha1-SNAPSHOT]
        ... 62 more
Test case is available via https://github.com/scottmarlow/wildfly/tree/transactiontimeout_clientut</description>
			<version>JBoss AS7 7.2.0.Final</version>
			<fixedVersion>8.2.0.Final, 9.0.0.Beta1</fixedVersion>
			<type>Bug</type>
		</buginformation>
		<fixedFiles>
			<file type="M">org.jboss.as.ejb3.component.stateful.StatefulSessionSynchronizationInterceptor.java</file>
		</fixedFiles>
		<links>
			<link type="Related" description="relates to">3730</link>
		</links>
	</bug>
	<bug id="3534" opendate="2014-06-20 19:51:41" fixdate="2014-09-08 15:00:05" resolution="Done">
		<buginformation>
			<summary>Transaction is not being shared by different operations within the same thread</summary>
			<description>When injecting a JPA-based PartitionManager configuration in a EJB as follows:






    @Resource(mappedName = "picketlink/JPADSBasedPartitionManager")




    private PartitionManager jpaDSBasedPartitionManager;






The IDM operations are executed without share the same EntityManager instance. This causes some strange behaviors such as not being able to retrieve data stored from a previous operation  during a method execution.
</description>
			<version>9.0.0.Alpha1</version>
			<fixedVersion>9.0.0.Alpha1</fixedVersion>
			<type>Bug</type>
		</buginformation>
		<fixedFiles>
			<file type="M">org.wildfly.extension.picketlink.idm.model.PartitionManagerAddHandler.java</file>
			<file type="M">org.wildfly.extension.picketlink.logging.PicketLinkLogger.java</file>
			<file type="M">org.wildfly.extension.picketlink.idm.service.JPAIdentityStoreService.java</file>
		</fixedFiles>
		<links>
			<link type="Related" description="is related to">347</link>
		</links>
	</bug>
	<bug id="3492" opendate="2014-06-13 11:15:31" fixdate="2014-09-11 12:33:54" resolution="Done">
		<buginformation>
			<summary>JSSE configuration in security domain wrongly acceptes empty parameters</summary>
			<description>Description from https://bugzilla.redhat.com/show_bug.cgi?id=1080069:






When adding a jsse configuration in security domain through CLI, it&amp;amp;apos;s not persisted correctly.









Steps to reproduce:




* Run CLI (./jboss-cli.sh -c) and use this commands to configure new security domain:




/subsystem=security/security-domain=trust-domain:add




/subsystem=security/security-domain=trust-domain/jsse=classic:add(truststore=&amp;gt;{password=1234test,url=/home/jcacek/projects/ocsp-check/build/trusted-clients.jks})




reload




* check standalone.xml, where should be sth. like




&amp;lt;security-domain name="trust-domain"&amp;gt;




	&amp;lt;jsse truststore-password="1234test" truststore-url="/home/jcacek/projects/ocsp-check/build/trusted-clients.jks"/&amp;gt;




&amp;lt;/security-domain&amp;gt;









But there is:




&amp;lt;security-domain name="trust-domain"&amp;gt;




	&amp;lt;jsse/&amp;gt;




&amp;lt;/security-domain&amp;gt;












I had a mistake in the second command, it should be:




/subsystem=security/security-domain=trust-domain/jsse=classic:add(truststore={password=&amp;gt;1234test,url=&amp;gt;/home/jcacek/projects/ocsp-check/build/trusted-clients.jks}) 









Then it works.









Nevertheless it&amp;amp;apos;s probably still a bug, when the original command returns:




{




    "outcome" =&amp;gt; "success",




    "response-headers" =&amp;gt; {




        "operation-requires-reload" =&amp;gt; true,




        "process-state" =&amp;gt; "reload-required"




    }




}





</description>
			<version>8.1.0.Final</version>
			<fixedVersion>8.2.0.Final</fixedVersion>
			<type>Bug</type>
		</buginformation>
		<fixedFiles>
			<file type="M">org.jboss.as.security.logging.SecurityLogger.java</file>
			<file type="M">org.jboss.as.security.ComplexAttributes.java</file>
		</fixedFiles>
		<links>
			<link type="Related" description="is related to">90</link>
		</links>
	</bug>
	<bug id="3823" opendate="2014-09-06 10:29:33" fixdate="2014-09-12 00:28:58" resolution="Done">
		<buginformation>
			<summary>Memory leak with EJB Timer service</summary>
			<description>There is a memory leak during undeploy (redeploy) when there is a timer used in EJB bean.
When the timer is created (using @Schedule or programmatically), it is put in queue on Timer thread. According to JDK sources (http://grepcode.com/file/repository.grepcode.com/java/root/jdk/openjdk/7u40-b43/java/util/Timer.java#Timer line 552) The queue is processed if new timer is created or the next timer task is due to be run and the reference to last timer is retained on stack (line 521). Therefore after the module undeploy there is still a reference to TimerTask from the module.
It is not a true memory leak, because the reference will be removed when the task is due, but in environment with many redeploys (development and continuous integration) will soon hit the java.lang.OutOfMemoryError: PermGen space.
One workaround is to have another Scheduler, which will schedule job for every second. This way, the timer thread will process the queue and throw away the reference to last timerTask.</description>
			<version>8.1.0.Final</version>
			<fixedVersion>9.0.0.Alpha1</fixedVersion>
			<type>Bug</type>
		</buginformation>
		<fixedFiles>
			<file type="M">org.jboss.as.ejb3.timerservice.TimerServiceImpl.java</file>
		</fixedFiles>
	</bug>
	<bug id="3733" opendate="2014-08-14 08:05:41" fixdate="2014-09-12 22:24:38" resolution="Done">
		<buginformation>
			<summary>ChannelInstanceResourceDefinition doesn&amp;apos;t expose non-primitive fields and any of @ManagedAttribute methods</summary>
			<description>It seems to me that org.jboss.as.clustering.jgroups.subsystem.ChannelInstanceResourceDefinition#getProtocolMetricResourceDefinition 
doesnt expose ManagedAttributes that would have to be registred as strings
org/jboss/as/clustering/jgroups/subsystem/ChannelInstanceResourceDefinition.java:213
and doesnt expose any of the annotated methods
org/jboss/as/clustering/jgroups/subsystem/ChannelInstanceResourceDefinition.java:208</description>
			<version>8.1.0.Final</version>
			<fixedVersion>9.0.0.Alpha1</fixedVersion>
			<type>Bug</type>
		</buginformation>
		<fixedFiles>
			<file type="M">org.jboss.as.clustering.jgroups.subsystem.ChannelInstanceResourceDefinition.java</file>
			<file type="M">org.jboss.as.clustering.jgroups.logging.JGroupsLogger.java</file>
			<file type="M">org.jboss.as.clustering.jgroups.subsystem.ProtocolMetricsHandler.java</file>
		</fixedFiles>
	</bug>
	<bug id="2515" opendate="2013-11-15 11:09:13" fixdate="2014-09-15 08:03:14" resolution="Done">
		<buginformation>
			<summary>JBAS014249 if a fire and forget asynchronous ejb call is made</summary>
			<description>If an ejb method 
@Asynchronous void fireAndForget(...)
is called remote and the client disconnect an Exception JBAS014249 will be thrown if the async method return.






ERROR [org.jboss.as.ejb3] (EJB default - 1) JBAS014249: Error invoking method public abstract void org.jboss.as.quickstarts.ejb.asynchronous.AsynchronousAccess.fireAndForget(long) on bean named AsynchronousAccessBean for appname  modulename jboss-as-ejb-asynchronous-ejb distinctname : java.lang.NullPointerException




	at org.jboss.as.ejb3.remote.protocol.versionone.MethodInvocationMessageHandler.invokeMethod(MethodInvocationMessageHandler.java:322)




	at org.jboss.as.ejb3.remote.protocol.versionone.MethodInvocationMessageHandler.access$100(MethodInvocationMessageHandler.java:70)




	at org.jboss.as.ejb3.remote.protocol.versionone.MethodInvocationMessageHandler$1.run(MethodInvocationMessageHandler.java:203)




	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:471) [rt.jar:1.7.0_25]




	at java.util.concurrent.FutureTask$Sync.innerRun(FutureTask.java:334) [rt.jar:1.7.0_25]




	at java.util.concurrent.FutureTask.run(FutureTask.java:166) [rt.jar:1.7.0_25]




	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1145) [rt.jar:1.7.0_25]




	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:615) [rt.jar:1.7.0_25]




	at java.lang.Thread.run(Thread.java:724) [rt.jar:1.7.0_25]




	at org.jboss.threads.JBossThread.run(JBossThread.java:122)









11:30:20,242 ERROR [org.jboss.as.ejb3] (EJB default - 1) JBAS014250: Could not write method invocation failure for method public abstract void org.jboss.as.quickstarts.ejb.asynchronous.AsynchronousAccess.fireAndForget(long) on bean named AsynchronousAccessBean for appname  modulename jboss-as-ejb-asynchronous-ejb distinctname  due to: java.io.IOException: JBAS014560: Could not open message outputstream for writing to Channel




	at org.jboss.as.ejb3.remote.protocol.AbstractMessageHandler.writeException(AbstractMessageHandler.java:102)




	at org.jboss.as.ejb3.remote.protocol.versionone.MethodInvocationMessageHandler.access$400(MethodInvocationMessageHandler.java:70)




	at org.jboss.as.ejb3.remote.protocol.versionone.MethodInvocationMessageHandler$1.run(MethodInvocationMessageHandler.java:213)




	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:471) [rt.jar:1.7.0_25]




	at java.util.concurrent.FutureTask$Sync.innerRun(FutureTask.java:334) [rt.jar:1.7.0_25]




	at java.util.concurrent.FutureTask.run(FutureTask.java:166) [rt.jar:1.7.0_25]




	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1145) [rt.jar:1.7.0_25]




	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:615) [rt.jar:1.7.0_25]




	at java.lang.Thread.run(Thread.java:724) [rt.jar:1.7.0_25]




	at org.jboss.threads.JBossThread.run(JBossThread.java:122)




Caused by: org.jboss.remoting3.NotOpenException: Writes closed




	at org.jboss.remoting3.remote.RemoteConnectionChannel.openOutboundMessage(RemoteConnectionChannel.java:112)




	at org.jboss.remoting3.remote.RemoteConnectionChannel.writeMessage(RemoteConnectionChannel.java:301)




	at org.jboss.as.ejb3.remote.protocol.versionone.ChannelAssociation.acquireChannelMessageOutputStream(ChannelAssociation.java:68)




	at org.jboss.as.ejb3.remote.protocol.AbstractMessageHandler.writeException(AbstractMessageHandler.java:100)




	... 9 more





</description>
			<version>8.0.0.Beta1</version>
			<fixedVersion></fixedVersion>
			<type>Bug</type>
		</buginformation>
		<fixedFiles>
			<file type="M">org.jboss.as.ejb3.remote.protocol.versionone.MethodInvocationMessageHandler.java</file>
		</fixedFiles>
	</bug>
	<bug id="3847" opendate="2014-09-11 13:18:17" fixdate="2014-09-15 08:08:03" resolution="Done">
		<buginformation>
			<summary>AS7BindingRegistry does not respect the SPI contract</summary>
			<description>The implementation of AS7BindingRegistry#lookup always return null.
This method is called by HornetQ when JNDI entries for its resources
are updated using its own management API.
We advise against using it in WildFly (and use WildFly own management API) but we must still respect the SPI contract for this method.</description>
			<version>8.1.0.Final</version>
			<fixedVersion>9.0.0.Alpha1</fixedVersion>
			<type>Bug</type>
		</buginformation>
		<fixedFiles>
			<file type="M">org.jboss.as.messaging.jms.AS7BindingRegistry.java</file>
		</fixedFiles>
	</bug>
	<bug id="3348" opendate="2014-05-13 14:08:00" fixdate="2014-09-16 14:15:29" resolution="Done">
		<buginformation>
			<summary>DeploySingleServerGroupTestCase regularly fails on Windows</summary>
			<description>See http://brontes.lab.eng.brq.redhat.com/viewLog.html?buildId=15206&amp;amp;tab=buildResultsDiv&amp;amp;buildTypeId=WF_MasterIgnoreWindows for an example  this fails repeatedly in the windows runs.
The @After method in the test asserts that the deployment file the test creates is successfully deleted. That may just be a bogus/unnecessary assertion, but rather than just removing it I thought it was better to check a bit first whether the CLI process is holding the file open. It shouldn&amp;amp;apos;t need to once upload of the deployment to the server is complete.</description>
			<version>8.1.0.CR2</version>
			<fixedVersion>8.2.0.Final, 9.0.0.Beta1</fixedVersion>
			<type>Bug</type>
		</buginformation>
		<fixedFiles>
			<file type="M">org.jboss.as.test.integration.domain.management.cli.DeploySingleServerGroupTestCase.java</file>
		</fixedFiles>
	</bug>
	<bug id="3846" opendate="2014-09-11 10:03:50" fixdate="2014-09-18 07:29:16" resolution="Done">
		<buginformation>
			<summary>JMS resources allows duplicate JNDI entries</summary>
			<description>The JMS resources that can be stored in JNDI (connection-factory, pooled-connection-factory, jms-queue, jms-topic) does not check whether their list of JNDI entries contains duplicates.
At runtime, duplicates are eliminated but this introduces a difference between the resource model with duplicate entries and its runtime state (without duplicates).
The attribute definitions for their JNDI entries should validate at the MODEL stage that their value does not contain duplicate elements.</description>
			<version>8.1.0.Final</version>
			<fixedVersion>9.0.0.Beta1</fixedVersion>
			<type>Bug</type>
		</buginformation>
		<fixedFiles>
			<file type="M">org.jboss.as.messaging.jms.ConnectionFactoryAttributes.java</file>
			<file type="M">org.jboss.as.messaging.jms.PooledConnectionFactoryDefinition.java</file>
			<file type="M">org.jboss.as.messaging.CommonAttributes.java</file>
			<file type="M">org.jboss.as.messaging.logging.MessagingLogger.java</file>
		</fixedFiles>
	</bug>
	<bug id="3844" opendate="2014-09-11 03:35:08" fixdate="2014-09-22 00:17:04" resolution="Done">
		<buginformation>
			<summary>Authentication cache is not flushed on logout</summary>
			<description>This means that if a users details are changed even if they log in and out then these details will not be reflected when the user logs in again.</description>
			<version>8.1.0.Final</version>
			<fixedVersion>9.0.0.Beta1</fixedVersion>
			<type>Bug</type>
		</buginformation>
		<fixedFiles>
			<file type="M">org.wildfly.extension.undertow.deployment.UndertowDeploymentInfoService.java</file>
		</fixedFiles>
		<links>
			<link type="Related" description="relates to">3221</link>
		</links>
	</bug>
	<bug id="3221" opendate="2014-04-04 21:50:05" fixdate="2014-09-22 00:17:06" resolution="Done">
		<buginformation>
			<summary>flushOnSessionInvalidation attribute in jboss-web.xml does not flush user credentials</summary>
			<description>The attribute flushOnSessionInvalidation  does not flush the user credentials when the session is invalidated or when it times out. If the password or roles change for the user, the only way to get the new changes is by restarting the server.
I tried removing "cache-type=default" from the standalone-full.xml and it works, but for every action made on the site, the login method in the authentication module is called.</description>
			<version>8.0.0.Final</version>
			<fixedVersion>9.0.0.Beta1</fixedVersion>
			<type>Bug</type>
		</buginformation>
		<fixedFiles>
			<file type="M">org.wildfly.extension.undertow.deployment.UndertowDeploymentInfoService.java</file>
			<file type="M">org.wildfly.extension.undertow.deployment.CacheInvalidationNotificationReceiver.java</file>
		</fixedFiles>
		<links>
			<link type="Related" description="relates to">5546</link>
			<link type="Related" description="is related to">3844</link>
		</links>
	</bug>
	<bug id="3875" opendate="2014-09-19 14:09:23" fixdate="2014-09-25 05:41:49" resolution="Done">
		<buginformation>
			<summary>HTTPSession sharing between wars delivered in an EAR failure in standalone-ha.xml</summary>
			<description>Deploying two Web applications within an EAR achive with the following jboss-all.xml, leads to a failure in deployment when using standalone-ha.xml configuration: 
&amp;lt;jboss umlns="urn:jboss:1.0"&amp;gt;
    &amp;lt;shared-session-config xmlns="urn:jboss:shared-session-config:1.0"&amp;gt;
        &amp;lt;session-config&amp;gt;
            &amp;lt;cookie-config&amp;gt;
                &amp;lt;path&amp;gt;/&amp;lt;/path&amp;gt;
            &amp;lt;/cookie-config&amp;gt;
        &amp;lt;/session-config&amp;gt;
    &amp;lt;/shared-session-config&amp;gt;
&amp;lt;/jboss&amp;gt;
Exception raised:
15:58:52,160 ERROR [org.jboss.as.controller.management-operation] (DeploymentScanner-threads - 2) WFLYCTL0013: Operation ("deploy") failed - address: ([("deployment" =&amp;gt; "ear1.ear")]) - failure description: 
{"WFLYCTL0180: Services with missing/unavailable dependencies" =&amp;gt; [
    "jboss.undertow.deployment.default-server.default-host./webapp1.codec.locator is missing [jboss.clustering.web.locator.\"ear1.ear.webapp1.war\"]",
    "jboss.undertow.deployment.default-server.default-host./webapp2.codec.locator is missing [jboss.clustering.web.locator.\"ear1.ear.webapp2.war\"]"
]}
15:58:52,227 INFO  [org.jboss.as.server] (DeploymentScanner-threads - 2) WFLYSRV0010: Deployed "ear1.ear" (runtime-name : "ear1.ear")
15:58:52,230 INFO  [org.jboss.as.controller] (DeploymentScanner-threads - 2) WFLYCTL0183: Service status report
WFLYCTL0184:    New missing/unsatisfied dependencies:
      service jboss.clustering.web.locator."ear1.ear.webapp1.war" (missing) dependents: [service jboss.undertow.deployment.default-server.default-host./webapp1.codec.locator]
      service jboss.clustering.web.locator."ear1.ear.webapp2.war" (missing) dependents: [service jboss.undertow.deployment.default-server.default-host./webapp2.
codec.locator]</description>
			<version>9.0.0.Alpha1</version>
			<fixedVersion>9.0.0.Beta1</fixedVersion>
			<type>Bug</type>
		</buginformation>
		<fixedFiles>
			<file type="M">org.wildfly.extension.undertow.session.SharedSessionManagerConfig.java</file>
			<file type="M">org.wildfly.extension.undertow.deployment.SharedSessionManagerDeploymentProcessor.java</file>
			<file type="M">org.wildfly.extension.undertow.deployment.UndertowDeploymentProcessor.java</file>
		</fixedFiles>
	</bug>
	<bug id="3719" opendate="2014-08-07 07:52:28" fixdate="2014-09-25 10:31:07" resolution="Done">
		<buginformation>
			<summary>Missing &lt;uri&gt; in the tld files causes NullPointerException during deployment on WildFly</summary>
			<description>
If The TLD file has missing &amp;lt;uri&amp;gt; tag in it then rather than validating WildFly throws NullPointerException.

WEB-INF/custom.tld






&amp;lt;taglib&amp;gt;




  &amp;lt;tlib-version&amp;gt;1.0&amp;lt;/tlib-version&amp;gt;




  &amp;lt;jsp-version&amp;gt;2.0&amp;lt;/jsp-version&amp;gt;




  &amp;lt;!--uri&amp;gt;test&amp;lt;/uri--&amp;gt;




  &amp;lt;short-name&amp;gt;Example TLD with Body&amp;lt;/short-name&amp;gt;




  &amp;lt;tag&amp;gt;




    &amp;lt;name&amp;gt;Hello&amp;lt;/name&amp;gt;




    &amp;lt;tag-class&amp;gt;tags.HelloTag&amp;lt;/tag-class&amp;gt;




    &amp;lt;body-content&amp;gt;scriptless&amp;lt;/body-content&amp;gt;




  &amp;lt;/tag&amp;gt;




&amp;lt;/taglib&amp;gt;







During deployment of a war containing above TLD causes following NullPointerException on WildFly:






13:15:25,857 ERROR [org.jboss.msc.service.fail] (MSC service thread 1-2) MSC000001: Failed to start service jboss.undertow.deployment.default-server.default-host./TagClassDemo.UndertowDeploymentInfoService: org.jboss.msc.service.StartException in service jboss.undertow.deployment.default-server.default-host./TagClassDemo.UndertowDeploymentInfoService: Failed to start service




	at org.jboss.msc.service.ServiceControllerImpl$StartTask.run(ServiceControllerImpl.java:1904) [jboss-msc-1.2.2.Final.jar:1.2.2.Final]




	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1145) [rt.jar:1.7.0_51]




	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:615) [rt.jar:1.7.0_51]




	at java.lang.Thread.run(Thread.java:744) [rt.jar:1.7.0_51]




Caused by: java.lang.NullPointerException




	at org.wildfly.extension.undertow.deployment.UndertowDeploymentInfoService.createTldsInfo(UndertowDeploymentInfoService.java:1028)




	at org.wildfly.extension.undertow.deployment.UndertowDeploymentInfoService.createServletConfig(UndertowDeploymentInfoService.java:552)




	at org.wildfly.extension.undertow.deployment.UndertowDeploymentInfoService.start(UndertowDeploymentInfoService.java:252)




	at org.jboss.msc.service.ServiceControllerImpl$StartTask.startService(ServiceControllerImpl.java:1948) [jboss-msc-1.2.2.Final.jar:1.2.2.Final]




	at org.jboss.msc.service.ServiceControllerImpl$StartTask.run(ServiceControllerImpl.java:1881) [jboss-msc-1.2.2.Final.jar:1.2.2.Final]




	... 3 more









13:15:25,865 ERROR [org.jboss.as.controller.management-operation] (DeploymentScanner-threads - 1) WFLYCTL0013: Operation ("full-replace-deployment") failed - address: ([]) - failure description: {"WFLYCTL0080: Failed services" =&amp;gt; {"jboss.undertow.deployment.default-server.default-host./TagClassDemo.UndertowDeploymentInfoService" =&amp;gt; "org.jboss.msc.service.StartException in service jboss.undertow.deployment.default-server.default-host./TagClassDemo.UndertowDeploymentInfoService: Failed to start service




    Caused by: java.lang.NullPointerException"}}







</description>
			<version>9.0.0.Alpha1</version>
			<fixedVersion>8.2.0.Final, 9.0.0.Alpha1</fixedVersion>
			<type>Bug</type>
		</buginformation>
		<fixedFiles>
			<file type="M">org.wildfly.extension.undertow.deployment.UndertowDeploymentInfoService.java</file>
		</fixedFiles>
	</bug>
	<bug id="3260" opendate="2014-04-15 10:39:59" fixdate="2014-09-30 23:19:55" resolution="Done">
		<buginformation>
			<summary>Fix WSTestCase</summary>
			<description>Package org.jboss.as.test.smoke.webservices contains SimpleStatelessSessionBean with several @WebServiceRef injection points.
SimpleStatelessSessionBean is injected into SimpleServlet. However, SimpleServlet is never initialized and an instance of SimpleStatelessSessionBean is never created. Therefore, no @WebServiceRef injection is tested here.</description>
			<version>8.1.0.CR1</version>
			<fixedVersion>9.0.0.Alpha1</fixedVersion>
			<type>Bug</type>
		</buginformation>
		<fixedFiles>
			<file type="M">org.jboss.as.test.smoke.webservices.WSTestCase.java</file>
			<file type="D">org.jboss.as.test.smoke.webservices.SimpleServlet.java</file>
			<file type="D">org.jboss.as.test.smoke.webservices.SimpleStatelessSessionBean.java</file>
			<file type="D">org.jboss.as.test.smoke.webservices.SimpleStatelessSessionLocal.java</file>
			<file type="M">org.jboss.as.test.smoke.webservices.EndpointService.java</file>
		</fixedFiles>
	</bug>
	<bug id="3900" opendate="2014-09-25 17:19:11" fixdate="2014-10-07 07:40:40" resolution="Done">
		<buginformation>
			<summary>Unable to inject EJB Context into CDI Interceptor</summary>
			<description>CDI Interceptor cannot inject EJB session context.
If the Interceptor is changed to EJB interceptor by removing the @Interceptor on the interceptor and removing it from the beans.xml, and adding @Interceptors(...) to the EJB, then it is able to inject.
See attached reproducer with source and log file.
private @Resource SessionContext sessionContext;
Caused by: javax.naming.NameNotFoundException: env/test.ServiceLoggedInterceptor/sessionContext  service jboss.naming.context.java.comp.inject-ejb-context-into-cdi-interceptor.inject-ejb-context-into-cdi-interceptor.HelloEJB.env."test.ServiceLoggedInterceptor".sessionContext
	at org.jboss.as.naming.ServiceBasedNamingStore.lookup(ServiceBasedNamingStore.java:106) [wildfly-naming-9.0.0.Alpha1.jar:9.0.0.Alpha1]
	at org.jboss.as.naming.NamingContext.lookup(NamingContext.java:202) [wildfly-naming-9.0.0.Alpha1.jar:9.0.0.Alpha1]
	at org.jboss.as.naming.NamingContext.lookup(NamingContext.java:179) [wildfly-naming-9.0.0.Alpha1.jar:9.0.0.Alpha1]
	at org.jboss.as.naming.InitialContext$DefaultInitialContext.lookup(InitialContext.java:235) [wildfly-naming-9.0.0.Alpha1.jar:9.0.0.Alpha1]
	at org.jboss.as.naming.NamingContext.lookup(NamingContext.java:188) [wildfly-naming-9.0.0.Alpha1.jar:9.0.0.Alpha1]
	at org.jboss.as.naming.NamingContext.lookup(NamingContext.java:184) [wildfly-naming-9.0.0.Alpha1.jar:9.0.0.Alpha1]
	at javax.naming.InitialContext.lookup(InitialContext.java:411) [rt.jar:1.7.0_51]
	at javax.naming.InitialContext.lookup(InitialContext.java:411) [rt.jar:1.7.0_51]
	at org.jboss.as.weld.services.bootstrap.WeldResourceInjectionServices.resolveResource(WeldResourceInjectionServices.java:185)
	... 127 more
</description>
			<version>9.0.0.Alpha1</version>
			<fixedVersion>9.0.0.Beta1</fixedVersion>
			<type>Bug</type>
		</buginformation>
		<fixedFiles>
			<file type="M">org.jboss.as.weld.services.bootstrap.WeldResourceInjectionServices.java</file>
		</fixedFiles>
		<links>
			<link type="Cloners" description="cloned to">4487</link>
		</links>
	</bug>
	<bug id="3913" opendate="2014-09-29 18:02:59" fixdate="2014-10-07 13:25:37" resolution="Done">
		<buginformation>
			<summary>HTTPS socket-binding definition always needed</summary>
			<description>When removing HTTPS socket-binding from the standalone.xml file, the server start&amp;amp;apos;s in errors.
The errors are the following:











    13:55:32,002 ERROR [org.jboss.as.controller.management-operation] (Controller Boot Thread) JBAS014613: Operation ("add") failed - address: ([




        ("subsystem" =&amp;gt; "undertow"),




        ("server" =&amp;gt; "default-server"),




        ("http-listener" =&amp;gt; "default")




    ]) - failure description: {"JBAS014771: Services with missing/unavailable dependencies" =&amp;gt; ["jboss.undertow.listener.default is missing [jboss.binding.https]"]}




    13:55:32,005 ERROR [org.jboss.as.controller.management-operation] (Controller Boot Thread) JBAS014613: Operation ("add") failed - address: ([("subsystem" =&amp;gt; "webservices")]) - failure description: {"JBAS014879: One or more services were unable to start due to one or more indirect dependencies not being available." =&amp;gt; {




        "Services that were unable to start:" =&amp;gt; ["jboss.ws.config"],




        "Services that may be the cause:" =&amp;gt; [




            "jboss.binding.https",




            "jboss.remoting.remotingConnectorInfoService.http-remoting-connector"




        ]




    }}




    13:55:32,007 ERROR [org.jboss.as.controller.management-operation] (Controller Boot Thread) JBAS014613: Operation ("add") failed - address: ([




        ("subsystem" =&amp;gt; "ejb3"),




        ("service" =&amp;gt; "remote")




    ]) - failure description: {"JBAS014771: Services with missing/unavailable dependencies" =&amp;gt; ["jboss.ejb3.connector is missing [jboss.remoting.remotingConnectorInfoService.http-remoting-connector]"]}




    13:55:32,074 INFO  [org.jboss.as.controller] (Controller Boot Thread) JBAS014774: Service status report




    JBAS014775:    New missing/unsatisfied dependencies:




          service jboss.binding.https (missing) dependents: [service jboss.undertow.listener.default]




          service jboss.remoting.remotingConnectorInfoService.http-remoting-connector (missing) dependents: [service jboss.ejb3.connector]




     




    13:55:32,085 ERROR [org.jboss.as] (Controller Boot Thread) JBAS015875: WildFly 8.1.0.Final "Kenny" started (with errors) in 3475ms - Started 197 of 252 services (3 services failed or missing dependencies, 78 services are lazy, passive or on-demand










</description>
			<version>8.1.0.Final</version>
			<fixedVersion>9.0.0.CR1</fixedVersion>
			<type>Bug</type>
		</buginformation>
		<fixedFiles>
			<file type="M">org.wildfly.extension.undertow.AjpListenerAdd.java</file>
			<file type="M">org.wildfly.extension.undertow.ListenerResourceDefinition.java</file>
			<file type="M">org.wildfly.extension.undertow.HttpListenerAdd.java</file>
			<file type="M">org.wildfly.extension.undertow.deployment.UndertowDeploymentInfoService.java</file>
			<file type="M">org.wildfly.extension.undertow.Server.java</file>
		</fixedFiles>
		<links>
			<link type="Related" description="is related to">4728</link>
		</links>
	</bug>
	<bug id="3905" opendate="2014-09-26 23:55:00" fixdate="2014-10-10 05:52:05" resolution="Done">
		<buginformation>
			<summary>POJO JAX-WS endpoints should not be processed if packaged in EJB-jar</summary>
			<description>If a POJO is defined like this in an EJB-jar:






package com.redhat.gss.ws; 









@javax.jws.WebService 




public class HelloService { 




  public String sayHello() { 




    return "Hello World!"; 




  } 




}






Deployment structure:






klape@localhost ws-java.jar$ tree




.




 com




  redhat




      gss




          ws




              HelloService.java




 META-INF




     MANIFEST.MF









5 directories, 2 files




klape@localhost ws-java.jar$






Upon deployment, you get this in the log:






16:52:51,372 INFO  [org.jboss.ws.cxf.metadata] (MSC service thread 1-7) JBWS024061: Adding service endpoint metadata: id=com.redhat.gss.ws.HelloService




 address=http://localhost:8080/ws-java/HelloService




 implementor=com.redhat.gss.ws.HelloService




 serviceName={http://ws.gss.redhat.com/}HelloServiceService




 portName={http://ws.gss.redhat.com/}HelloServicePort




 annotationWsdlLocation=null




 wsdlLocationOverride=null




 mtomEnabled=false




16:52:51,571 INFO  [org.apache.cxf.service.factory.ReflectionServiceFactoryBean] (MSC service thread 1-7) Creating Service {http://ws.gss.redhat.com/}HelloServiceService from class com.redhat.gss.ws.HelloService




16:52:51,879 INFO  [org.apache.cxf.endpoint.ServerImpl] (MSC service thread 1-7) Setting the server&amp;amp;apos;s publish address to be http://localhost:8080/ws-java/HelloService




16:52:51,925 INFO  [org.jboss.ws.cxf.deployment] (MSC service thread 1-7) JBWS024074: WSDL published to: file:/home/remote/klape/work/archives/wildfly-8.1.0.Final/standalone/data/wsdl/ws-java.jar/HelloServiceService.wsdl






Yet when you try to get the WSDL at http://localhost:8080/ws-java/HelloService?wsdl (pulled from the metadata in the log), you get a 404 error.
JBossWS should not be trying to deploy the POJO endpoint from within an EJB-jar.</description>
			<version>9.0.0.Alpha1</version>
			<fixedVersion>9.0.0.Beta1</fixedVersion>
			<type>Bug</type>
		</buginformation>
		<fixedFiles>
			<file type="M">org.jboss.as.webservices.deployers.WSIntegrationProcessorJAXWS_POJO.java</file>
		</fixedFiles>
	</bug>
	<bug id="3942" opendate="2014-10-07 12:51:28" fixdate="2014-10-10 10:46:46" resolution="Done">
		<buginformation>
			<summary>Race condition with clean shutdown and mod_cluster session draining</summary>
			<description>Probably same issue exists in WF as well, I will revalidate the logic for race conditions.
https://issues.jboss.org/browse/MODCLUSTER-399
https://bugzilla.redhat.com/show_bug.cgi?id=1083563</description>
			<version>8.0.0.Final</version>
			<fixedVersion>9.0.0.Beta1</fixedVersion>
			<type>Bug</type>
		</buginformation>
		<fixedFiles>
			<file type="M">org.wildfly.mod_cluster.undertow.metric.UndertowBoottimeHandler.java</file>
			<file type="D">org.wildfly.mod_cluster.undertow.metric.MetricDeploymentProcessor.java</file>
		</fixedFiles>
		<links>
			<link type="Related" description="relates to">399</link>
			<link type="Related" description="is related to">3810</link>
		</links>
	</bug>
	<bug id="3957" opendate="2014-10-08 22:35:41" fixdate="2014-10-10 13:11:30" resolution="Done">
		<buginformation>
			<summary>Non-distributable session manager ignores max-active-sessions from jboss-web.xml</summary>
			<description>InMemorySessionManagerFactory already has a constructor that accepts the maximum session size, we just need to utilize it.</description>
			<version>9.0.0.Alpha1</version>
			<fixedVersion>9.0.0.Beta1</fixedVersion>
			<type>Bug</type>
		</buginformation>
		<fixedFiles>
			<file type="M">org.wildfly.extension.undertow.deployment.UndertowDeploymentProcessor.java</file>
		</fixedFiles>
	</bug>
	<bug id="918" opendate="2012-04-10 13:38:52" fixdate="2014-10-12 21:15:24" resolution="Done">
		<buginformation>
			<summary>Web deployment metrics missing</summary>
			<description>The following web deployment metrics are missing from AS7 when compared to AS5 exposed metrics:
Clustered - True if this web application context is clustered
Virtual Host - the virtual host with which this context is associated
Response Time - the minimum, maximum, and average response times for requests serviced by this webapp
Currently Active Sessions - the number of sessions that are currently active for this WAR
Maximum Active Sessions	- the maximum number of sessions that have been active for this WAR
Created Sessions - the number of sessions created for this WAR
Created Sessions per Minute - the number of sessions created for this WAR
Expired Sessions - the number of expired sessions for this WAR
Expired Sessions per Minute - the number of expired sessions for this WAR
Rejected Sessions - the number of sessions rejected for this WAR
Rejected Sessions per Minute - the number of sessions rejected for this WAR
Average Session Alive Time - the average alive time of sessions for this WAR
Max Session Alive Time - the maximum alive time of sessions for this WAR</description>
			<version>8.0.0.Alpha1</version>
			<fixedVersion>9.0.0.Beta1</fixedVersion>
			<type>Bug</type>
		</buginformation>
		<fixedFiles>
			<file type="M">org.wildfly.extension.undertow.deployment.UndertowDeploymentInfoService.java</file>
			<file type="M">org.wildfly.extension.undertow.ListenerService.java</file>
			<file type="M">org.wildfly.extension.undertow.HttpListenerService.java</file>
			<file type="M">org.wildfly.extension.undertow.UndertowService.java</file>
			<file type="M">org.wildfly.extension.undertow.Server.java</file>
			<file type="M">org.wildfly.extension.undertow.ListenerResourceDefinition.java</file>
			<file type="M">org.wildfly.extension.undertow.AjpListenerService.java</file>
			<file type="M">org.wildfly.extension.undertow.HostAdd.java</file>
			<file type="M">org.wildfly.extension.undertow.HostDefinition.java</file>
			<file type="M">org.wildfly.extension.undertow.deployment.UndertowDeploymentService.java</file>
			<file type="M">org.wildfly.extension.undertow.errorhandler.ErrorPageDefinition.java</file>
			<file type="M">org.wildfly.extension.undertow.Host.java</file>
			<file type="M">org.wildfly.extension.undertow.UndertowSubsystemParser_1_0.java</file>
			<file type="M">org.wildfly.mod_cluster.undertow.TestUndertowService.java</file>
			<file type="M">org.wildfly.extension.undertow.UndertowSubsystemAdd.java</file>
			<file type="M">org.wildfly.extension.undertow.UndertowExtension.java</file>
			<file type="M">org.wildfly.extension.undertow.DeploymentDefinition.java</file>
			<file type="M">org.wildfly.extension.undertow.deployment.UndertowDeploymentProcessor.java</file>
			<file type="M">org.wildfly.extension.undertow.DeploymentServletDefinition.java</file>
			<file type="M">org.wildfly.extension.undertow.UndertowRootDefinition.java</file>
			<file type="M">org.wildfly.extension.undertow.filters.FilterService.java</file>
		</fixedFiles>
		<links>
			<link type="Related" description="relates to">3835</link>
		</links>
	</bug>
	<bug id="3968" opendate="2014-10-10 17:01:16" fixdate="2014-10-14 06:40:34" resolution="Done">
		<buginformation>
			<summary>access log doesn&amp;apos;t support %{r,xxx}</summary>
			<description>AccessLogHandler&amp;amp;apos;s javadoc mentions:

%{r,xxx} xxx is an attribute in the ServletRequest
But adding the following to access log pattern






%{r,javax.servlet.error.status_code}






results in a server log message:






19:55:55,432 ERROR [undertow] (MSC service thread 1-6) UT005017: Unknown variable %{r,javax.servlet.error.status_code}





</description>
			<version>8.1.0.Final</version>
			<fixedVersion>8.2.0.Final, 9.0.0.Beta1</fixedVersion>
			<type>Bug</type>
		</buginformation>
		<fixedFiles>
			<file type="M">org.wildfly.extension.undertow.AccessLogService.java</file>
		</fixedFiles>
	</bug>
	<bug id="3986" opendate="2014-10-16 20:26:01" fixdate="2014-10-17 22:45:32" resolution="Done">
		<buginformation>
			<summary>Enhance message WFLYEJB0463 with the name of the defining class</summary>
			<description>When deploying my ear package now I get messages about wrong transaction attribute for lifecycle methods (see below).
Unfortunately the name of the class where these methods are in is not given.
This should be added to the message for easier locating the problems.
16.10. 22:20:28,180 WARN  org.jboss.as.ejb3#create WFLYEJB0463: Invalid transaction attribute type REQUIRED on SFSB lifecycle method Method afterActivation(), valid types are REQUIRES_NEW and NOT_SUPPORTED. Method will be treated as NOT_SUPPORTED.
16.10. 22:20:28,183 WARN  org.jboss.as.ejb3#create WFLYEJB0463: Invalid transaction attribute type REQUIRED on SFSB lifecycle method Method beforePassivate(), valid types are REQUIRES_NEW and NOT_SUPPORTED. Method will be treated as NOT_SUPPORTED.
16.10. 22:20:28,185 WARN  org.jboss.as.ejb3#create WFLYEJB0463: Invalid transaction attribute type REQUIRED on SFSB lifecycle method Method afterActivation(), valid types are REQUIRES_NEW and NOT_SUPPORTED. Method will be treated as NOT_SUPPORTED.
16.10. 22:20:28,190 WARN  org.jboss.as.ejb3#create WFLYEJB0463: Invalid transaction attribute type REQUIRED on SFSB lifecycle method Method init(), valid types are REQUIRES_NEW and NOT_SUPPORTED. Method will be treated as NOT_SUPPORTED.
16.10. 22:20:28,191 WARN  org.jboss.as.ejb3#create WFLYEJB0463: Invalid transaction attribute type REQUIRED on SFSB lifecycle method Method preDestroy(), valid types are REQUIRES_NEW and NOT_SUPPORTED. Method will be treated as NOT_SUPPORTED.
16.10. 22:20:28,193 WARN  org.jboss.as.ejb3#create WFLYEJB0463: Invalid transaction attribute type REQUIRED on SFSB lifecycle method Method prePassivate(), valid types are REQUIRES_NEW and NOT_SUPPORTED. Method will be treated as NOT_SUPPORTED.
16.10. 22:20:28,194 WARN  org.jboss.as.ejb3#create WFLYEJB0463: Invalid transaction attribute type REQUIRED on SFSB lifecycle method Method init(), valid types are REQUIRES_NEW and NOT_SUPPORTED. Method will be treated as NOT_SUPPORTED.</description>
			<version>9.0.0.Beta1</version>
			<fixedVersion>9.0.0.Beta1</fixedVersion>
			<type>Bug</type>
		</buginformation>
		<fixedFiles>
			<file type="M">org.jboss.as.ejb3.logging.EjbLogger.java</file>
			<file type="M">org.jboss.as.ejb3.tx.LifecycleCMTTxInterceptor.java</file>
		</fixedFiles>
	</bug>
	<bug id="3989" opendate="2014-10-17 07:50:50" fixdate="2014-10-23 04:24:35" resolution="Done">
		<buginformation>
			<summary>TCCL in constructor of MDB is ModuleClassLoader for Module "org.hornetq.ra:main"</summary>
			<description>The spec mandates that the TCCL be the application&amp;amp;apos;s classloader when the component is invoked (even during construction), but I&amp;amp;apos;m getting it as 
TCCL in constructor of MDB is ModuleClassLoader for Module "org.hornetq.ra:main" from local module loader
</description>
			<version>8.1.0.Final</version>
			<fixedVersion>9.0.0.Beta1</fixedVersion>
			<type>Bug</type>
		</buginformation>
		<fixedFiles>
			<file type="M">org.jboss.as.ejb3.inflow.JBossMessageEndpointFactory.java</file>
			<file type="M">org.jboss.as.ee.component.ViewService.java</file>
			<file type="M">org.jboss.as.test.integration.ejb.mdb.DDBasedMDB.java</file>
		</fixedFiles>
	</bug>
	<bug id="4007" opendate="2014-10-22 16:18:45" fixdate="2014-10-23 08:16:23" resolution="Done">
		<buginformation>
			<summary>HornetQService doesn&amp;apos;t account for source port offset/fixation</summary>
			<description>org/jboss/as/messaging/HornetQService.java:202</description>
			<version>8.0.0.Final</version>
			<fixedVersion>9.0.0.Beta1</fixedVersion>
			<type>Bug</type>
		</buginformation>
		<fixedFiles>
			<file type="M">org.jboss.as.messaging.HornetQService.java</file>
		</fixedFiles>
	</bug>
	<bug id="3939" opendate="2014-10-07 06:51:40" fixdate="2014-10-23 09:31:25" resolution="Done">
		<buginformation>
			<summary>jndiView operation from JConsole returns void</summary>
			<description>When I press "jndiView" operation button (navigate jboss.as / naming / Operations in MBeans tab of JConsole), an info dialog box returns with message "Method successfully invoked".  The contents of JNDI view is not printed anywhere.  It should return that as String or dump the contents into stdout.</description>
			<version>8.1.0.Final</version>
			<fixedVersion>8.2.0.Final, 9.0.0.Beta1</fixedVersion>
			<type>Bug</type>
		</buginformation>
		<fixedFiles>
			<file type="M">org.jboss.as.naming.subsystem.NamingSubsystemRootResourceDefinition.java</file>
		</fixedFiles>
	</bug>
	<bug id="3972" opendate="2014-10-13 12:52:04" fixdate="2014-10-24 15:04:34" resolution="Done">
		<buginformation>
			<summary>Missing security domain dependency</summary>
			<description>Only DataSourceEnable appears to have a dependency defined against the security domain used (SecurityDomainService).
Also any security domain used in recovery needs a dependency.
Likewise for resource adapter deployments.</description>
			<version>8.1.0.Final</version>
			<fixedVersion>8.2.0.Final, 9.0.0.CR1</fixedVersion>
			<type>Bug</type>
		</buginformation>
		<fixedFiles>
			<file type="M">org.jboss.as.connector.subsystems.datasources.DataSourceEnable.java</file>
			<file type="M">org.jboss.as.connector.subsystems.resourceadapters.RaOperationUtil.java</file>
		</fixedFiles>
		<links>
			<link type="Related" description="is related to">3928</link>
		</links>
	</bug>
	<bug id="3881" opendate="2014-09-22 05:50:31" fixdate="2014-11-04 01:28:37" resolution="Done">
		<buginformation>
			<summary>User shouldn&amp;apos;t be able to use empty JNDI name (&amp;apos;java:/&amp;apos; or &amp;apos;java:jboss/&amp;apos;)</summary>
			<description>https://bugzilla.redhat.com/show_bug.cgi?id=1019260
Description of problem:
 Currently the only validation for JNDI names is: JNDI name has to start with &amp;amp;apos;java:/&amp;amp;apos; or &amp;amp;apos;java:jboss/&amp;amp;apos;. But user is able to enter just &amp;amp;apos;java:/&amp;amp;apos; or &amp;amp;apos;java:jboss/&amp;amp;apos; as JNDI name. Using this JNDI name for eg. data-source will lead to java.lang.IllegalArgumentException: Empty name segment is not allowed for jboss. </description>
			<version>9.0.0.Alpha1</version>
			<fixedVersion>9.0.0.Beta1</fixedVersion>
			<type>Bug</type>
		</buginformation>
		<fixedFiles>
			<file type="M">org.jboss.as.connector.logging.ConnectorLogger.java</file>
			<file type="M">org.jboss.as.connector.subsystems.datasources.Constants.java</file>
		</fixedFiles>
	</bug>
	<bug id="3830" opendate="2014-09-09 09:51:59" fixdate="2014-11-04 16:08:31" resolution="Done">
		<buginformation>
			<summary>Use external-context for remote TIBCO ems lookup</summary>
			<description>If an users uses the generic JMS RA with the TIBCO EMS messaging server, he has to duplicate all the JNDI parameters in the MDB annotations.
Instead, he should be able to use a naming&amp;amp;apos;s external-context to connect to the Remote TIBCO server with the following configuration:






            &amp;lt;bindings&amp;gt;




                &amp;lt;external-context name="java:global/tibco" module="com.tibco" class="javax.naming.InitialContext"&amp;gt;




                    &amp;lt;environment&amp;gt;




                        &amp;lt;property name="java.naming.factory.initial" value="com.tibco.tibjms.naming.TibjmsInitialContextFactory"/&amp;gt;




                        &amp;lt;property name="java.naming.provider.url" value="tcp://&amp;lt;tibco_server&amp;gt;:&amp;lt;tibco_port&amp;gt;"/&amp;gt;




                        &amp;lt;property name="java.naming.factory.url.pkgs" value="com.tibco.tibjms.naming"/&amp;gt;




                    &amp;lt;/environment&amp;gt;




                &amp;lt;/external-context&amp;gt;




            &amp;lt;/bindings&amp;gt;






With these settings, the user only needs to pass the expected connection factory and destination lookup in the MDB:






        @ActivationConfigProperty(propertyName = "connectionFactory", propertyValue = "java:global/tibco/XACF"),




        @ActivationConfigProperty(propertyName = "destination", propertyValue = "java:global/tibco/Q1"),






The local JNDI lookup "java:global/tibco/Q1" will then use the external context (bound to "java:global/tibco") to lookup the "Q1" name on the TIBCO EMS.
There are a few bugs in the ExternalObjectFactory that prevents to use this configuration with a regular javax.naming.InitialContext to build the external context.</description>
			<version>8.1.0.Final</version>
			<fixedVersion>9.0.0.Beta1</fixedVersion>
			<type>Bug</type>
		</buginformation>
		<fixedFiles>
			<file type="M">org.jboss.as.naming.ExternalContextObjectFactory.java</file>
		</fixedFiles>
	</bug>
	<bug id="3429" opendate="2014-06-02 13:12:48" fixdate="2014-11-05 08:36:04" resolution="Done">
		<buginformation>
			<summary>Classloader leak in JBossCachedAuthenticationManager</summary>
			<description>When using a security domain with cache-type="default", then the ModuleClassLoader instances related to deployments leak through JBossCachedAuthenticationManager.
The problematic piece of code is the domainCache member variable which in the DomainInfo value holds a LoginContext instance. This LoginContext has member contextClassLoader which causes the leak. (It points to the ModuleClassLoader of the deployment).
One option to solve this issue could be to remove the cache entries which are related to the undeployed application.</description>
			<version>8.1.0.Final</version>
			<fixedVersion>9.0.0.CR1</fixedVersion>
			<type>Bug</type>
		</buginformation>
		<fixedFiles>
			<file type="M">org.wildfly.extension.undertow.deployment.UndertowDeploymentInfoService.java</file>
		</fixedFiles>
		<links>
			<link type="Dependency" description="is blocked by">845</link>
		</links>
	</bug>
	<bug id="2376" opendate="2013-10-24 14:15:15" fixdate="2014-11-11 14:47:40" resolution="Done">
		<buginformation>
			<summary>DataSource properties are not persisting via CLI</summary>
			<description>
The CLI command show that there are some valid configuration properties available like following while configuring DataSources, However those properties never get persisted in the DataSource configuration:


 ./jboss-cli.sh  --user=admin --password=admin@123 -c --controller=remote://localhost:9999  command="/subsystem=datasources/data-source=testpool:read-resource-description(recursive=true)" 
            "stale-connection-checker-properties" =&amp;gt; 
Unknown macro: {
                "type" =&amp;gt; OBJECT,
                "description" =&amp;gt; "The stale connection checker properties",
                "expressions-allowed" =&amp;gt; true,
                "nillable" =&amp;gt; true,
                "value-type" =&amp;gt; STRING,
                "access-type" =&amp;gt; "read-write",
                "storage" =&amp;gt; "configuration",
                "restart-required" =&amp;gt; "no-services"
            } 
,
            "reauth-plugin-properties" =&amp;gt; 
Unknown macro: {
                "type" =&amp;gt; OBJECT,
                "description" =&amp;gt; "The properties for the reauthentication plugin",
                "expressions-allowed" =&amp;gt; true,
                "nillable" =&amp;gt; true,
                "value-type" =&amp;gt; STRING,
                "access-type" =&amp;gt; "read-write",
                "storage" =&amp;gt; "configuration",
                "restart-required" =&amp;gt; "no-services"
            } 
,
            "exception-sorter-properties" =&amp;gt; 
Unknown macro: {
                "type" =&amp;gt; OBJECT,
                "description" =&amp;gt; "The exception sorter properties",
                "expressions-allowed" =&amp;gt; true,
                "nillable" =&amp;gt; true,
                "value-type" =&amp;gt; STRING,
                "access-type" =&amp;gt; "read-write",
                "storage" =&amp;gt; "configuration",
                "restart-required" =&amp;gt; "no-services"
            } 
,

Following command never complains about any issue and the following command executed without any issue but the above properties are not persisted in the DataSource.

 ./jboss-cli.sh --user=admin --password=admin@123 -c --controller=remote://localhost:9999 command="/subsystem=datasources/data-source=testpool:add(jndi-name=\"java:jboss/TestDS\",driver-name=\"ojdbc6.jar\",connection-url=\"jdbc:oracle:thin:@DBHostName:1521:DBName\",user-name=\"user\",password=\"pass\",new-connection-sql=\"select 1 from dual\", check-valid-connection-sql=\"select 2 from dual\",valid-connection-checker-class-name=\"org.jboss.resource.adapter.jdbc.vendor.OracleValidConnectionChecker\",exception-sorter-properties=
{\"prop1\"=&amp;gt;\"value1\"}
,reauth-plugin-properties=
{\"reauthProp1\"=&amp;gt;\"reauthValue1\"}
,exception-sorter-properties=
{\"exceptionSorterProp1\"=&amp;gt;\"exceptionSorterValue1\"}
)"

The Generated DataSource looks like following:

$
                &amp;lt;datasource jndi-name="java:jboss/TestDS" pool-name="testpool" enabled="true"&amp;gt;
                    &amp;lt;connection-url&amp;gt;jdbc:oracle:thin:@DBHostName:1521:DBName&amp;lt;/connection-url&amp;gt;
                    &amp;lt;driver&amp;gt;ojdbc6.jar&amp;lt;/driver&amp;gt;
                    &amp;lt;new-connection-sql&amp;gt;select 1 from dual&amp;lt;/new-connection-sql&amp;gt;
                    &amp;lt;security&amp;gt;
                        &amp;lt;user-name&amp;gt;user&amp;lt;/user-name&amp;gt;
                        &amp;lt;password&amp;gt;pass&amp;lt;/password&amp;gt;
                    &amp;lt;/security&amp;gt;
                    &amp;lt;validation&amp;gt;
                        &amp;lt;valid-connection-checker class-name="org.jboss.resource.adapter.jdbc.vendor.OracleValidConnectionChecker"/&amp;gt;
                        &amp;lt;check-valid-connection-sql&amp;gt;select 2 from dual&amp;lt;/check-valid-connection-sql&amp;gt;
                    &amp;lt;/validation&amp;gt;
                &amp;lt;/datasource&amp;gt;
$</description>
			<version>8.0.0.Beta1</version>
			<fixedVersion>9.0.0.Beta1</fixedVersion>
			<type>Bug</type>
		</buginformation>
		<fixedFiles>
			<file type="M">org.jboss.as.connector.subsystems.datasources.Constants.java</file>
		</fixedFiles>
		<links>
			<link type="Dependency" description="is blocked by">216</link>
		</links>
	</bug>
	<bug id="3419" opendate="2014-05-30 09:32:50" fixdate="2014-11-12 00:28:27" resolution="Done">
		<buginformation>
			<summary>beans in module jars are not discovered except the first jar in module</summary>
			<description>CDI does not scan module with multiple jars. Only first jar is scanned.
Workaround is to package everything in single jar file.
To reproduce:






#download attached files




#download and unzip wildfly




cd wildfly-9.0.0.Alpha1-SNAPSHOT #or other version &amp;gt; 8.0.0




unzip ../module.multiplejars.zip




cp ../servlet-cdi-test3.war standalone/deployments/




./bin/standalone.sh




# observe deployment fails




# stop server




unzip ../module.ok.zip




./bin/standalone.sh




# observe deployment succeeds






The same scenario succeeds in both cases on EAP 6.2.x.
module.ok.zip was created from module.multiplejars.zip by merging jar files into single one</description>
			<version>8.0.0.Final</version>
			<fixedVersion>8.2.0.Final, 9.0.0.Beta1</fixedVersion>
			<type>Bug</type>
		</buginformation>
		<fixedFiles>
			<file type="M">org.jboss.as.weld.deployment.processors.ExternalBeanArchiveProcessor.java</file>
		</fixedFiles>
		<links>
			<link type="Dependency" description="blocks">4009</link>
		</links>
	</bug>
	<bug id="4093" opendate="2014-11-18 12:18:37" fixdate="2014-11-19 23:47:32" resolution="Done">
		<buginformation>
			<summary>Changing IOR settings should require restart of jacorb subsystem</summary>
			<description>When using management operations to add IOR settings, the settings don&amp;amp;apos;t get reflected in the IORSecConfigMetaDataService until a server reload. The management operations should mark that the jacorb subsystem needs to be restarted.</description>
			<version>9.0.0.Alpha1</version>
			<fixedVersion>9.0.0.Beta1</fixedVersion>
			<type>Bug</type>
		</buginformation>
		<fixedFiles>
			<file type="M">org.jboss.as.ejb3.iiop.EjbIIOPService.java</file>
			<file type="M">org.jboss.as.jacorb.IORSASContextDefinition.java</file>
			<file type="M">org.jboss.as.jacorb.IORASContextDefinition.java</file>
			<file type="M">org.jboss.as.jacorb.IORSettingsDefinition.java</file>
			<file type="M">org.jboss.as.jacorb.IORTransportConfigDefinition.java</file>
		</fixedFiles>
	</bug>
	<bug id="4089" opendate="2014-11-16 23:16:32" fixdate="2014-11-20 04:27:22" resolution="Done">
		<buginformation>
			<summary>ServletContainerInitializerDeploymentProcessor does not handle comments</summary>
			<description>ServletContainerInitializerDeploymentProcessor.loadSci() has code to read the service file, rather than using the JDK-provided mechanisms, and it does not handle comments.
The API documentation at https://docs.oracle.com/javase/7/docs/api/java/util/ServiceLoader.html says that the # symbols and all following characters on the line should be ignored. It also notes the file must be UTF-8 encoded, and ServletContainerInitializerDeploymentProcessor does not appear to force that either.
Log4j 2.1 triggers this bug (https://issues.apache.org/jira/browse/LOG4J2-890)</description>
			<version>9.0.0.Alpha1</version>
			<fixedVersion>9.0.0.Beta1</fixedVersion>
			<type>Bug</type>
		</buginformation>
		<fixedFiles>
			<file type="M">org.wildfly.extension.undertow.deployment.ServletContainerInitializerDeploymentProcessor.java</file>
		</fixedFiles>
	</bug>
	<bug id="4067" opendate="2014-11-10 14:31:49" fixdate="2014-11-20 22:36:43" resolution="Done">
		<buginformation>
			<summary>DummyTransaction exception during session.invalidate with started conversation</summary>
			<description>A DummyTransaction-IllegalStateException is thrown while invalidating a httpSession wit a started javax.enterprise.context.Converation.
We are working in "full-ha" with session distribution enabled (&amp;lt;distributable/&amp;gt; in web.xml)
Under https://ci.jboss.org/hudson/job/WildFly-latest-master/1334/ everything is working fine. No exception is thrown
The exception is thrown starting with version https://ci.jboss.org/hudson/job/WildFly-latest-master/1340 to the latest now (#1475)</description>
			<version>9.0.0.Alpha1</version>
			<fixedVersion>9.0.0.Beta1</fixedVersion>
			<type>Bug</type>
		</buginformation>
		<fixedFiles>
			<file type="M">org.wildfly.clustering.web.undertow.session.DistributableSessionTestCase.java</file>
			<file type="M">org.wildfly.clustering.ee.Batch.java</file>
			<file type="M">org.wildfly.clustering.web.undertow.session.DistributableSession.java</file>
			<file type="M">org.wildfly.clustering.ee.infinispan.AbstractTransactionBatch.java</file>
		</fixedFiles>
	</bug>
	<bug id="4074" opendate="2014-11-12 16:48:32" fixdate="2014-11-24 15:40:59" resolution="Done">
		<buginformation>
			<summary>pop3 mail session throws a NoSuchProviderException</summary>
			<description>When configuring a pop3 server in standalone.xml as, the following exception is thrown when reading the mailbox:






Caused by: javax.mail.NoSuchProviderException: Invalid protocol: null




	at javax.mail.Session.getProvider(Session.java:440) [mail-1.4.5-redhat-1.jar:1.4.5-redhat-1]




	at javax.mail.Session.getStore(Session.java:539) [mail-1.4.5-redhat-1.jar:1.4.5-redhat-1] 





</description>
			<version>8.1.0.Final</version>
			<fixedVersion>9.0.0.Beta1</fixedVersion>
			<type>Bug</type>
		</buginformation>
		<fixedFiles>
			<file type="M">org.jboss.as.mail.extension.SessionProviderFactory.java</file>
			<file type="M">org.jboss.as.mail.extension.MailSessionService.java</file>
		</fixedFiles>
	</bug>
	<bug id="4129" opendate="2014-11-26 17:37:17" fixdate="2014-11-27 14:56:56" resolution="Done">
		<buginformation>
			<summary>The RemotingLoginModule should first check if there is already a RealmUser</summary>
			<description>The reason is because the realm may have actually already substituted in a different name for the user.</description>
			<version>9.0.0.Alpha1</version>
			<fixedVersion>9.0.0.Beta1</fixedVersion>
			<type>Bug</type>
		</buginformation>
		<fixedFiles>
			<file type="M">org.jboss.as.security.remoting.RemotingLoginModule.java</file>
		</fixedFiles>
	</bug>
	<bug id="3683" opendate="2014-07-28 23:44:21" fixdate="2014-11-27 17:20:16" resolution="Done">
		<buginformation>
			<summary>ScheduledFuture#cancel(boolean) failing to cancel tasks on bean PreDestroy</summary>
			<description>Calls to ScheduledFuture#cancel on bean cleanup are failing to cancel subsequent tasks. 
NOTE This only occurs when using the Trigger functionality. I tested the same code with scheduleAtFixedRate, and it works as expected.
The following bean demonstrates the bug:






Executor.java






import java.util.ArrayList;




import java.util.Collections;




import java.util.Date;




import java.util.Iterator;




import java.util.List;




import java.util.concurrent.ScheduledFuture;




import java.util.concurrent.TimeUnit;









import javax.annotation.PostConstruct;




import javax.annotation.PreDestroy;




import javax.annotation.Resource;




import javax.ejb.Singleton;




import javax.ejb.Startup;




import javax.enterprise.concurrent.LastExecution;




import javax.enterprise.concurrent.ManagedScheduledExecutorService;




import javax.enterprise.concurrent.Trigger;









import org.slf4j.Logger;




import org.slf4j.LoggerFactory;









/**




 * Session Bean implementation class DataRecorderManagerBean




 */




@Singleton




@Startup




public class ExecutorBug {




    private static final Logger LOGGER = LoggerFactory.getLogger(ExecutorBug.class);









    @Resource




    private ManagedScheduledExecutorService executorService;









    private List&amp;lt;ScheduledFuture&amp;lt;?&amp;gt;&amp;gt; scheduledTasks;









    /**




     * Default constructor.




     */




    public ExecutorBug() {




    }









    @PostConstruct




    void intialize() {




        this.scheduledTasks = Collections.synchronizedList(new ArrayList&amp;lt;ScheduledFuture&amp;lt;?&amp;gt;&amp;gt;());









        // Schedule the device task.




        PeriodicTrigger trigger = new PeriodicTrigger(0, 10, TimeUnit.SECONDS);




        ScheduledFuture&amp;lt;?&amp;gt; future = this.executorService.schedule(new LogRunner(), trigger);









        // Create the scheduled task and add it to the map.




        this.scheduledTasks.add(future);




    }









    @PreDestroy




    void cleanup() {




        // Cancel any scheduled tasks, ensuring that the map is locked.




        synchronized (this.scheduledTasks) {




            Iterator&amp;lt;ScheduledFuture&amp;lt;?&amp;gt;&amp;gt; i = this.scheduledTasks.iterator();









            while (i.hasNext()) {




                ScheduledFuture&amp;lt;?&amp;gt; future = i.next();




                // Cancel the task.




                future.cancel(true);




            }




        }




        this.scheduledTasks.clear();




        this.scheduledTasks = null;




    }









    private class LogRunner implements Runnable {




        public LogRunner() {




        }









        @Override




        public void run() {




            LOGGER.info("I am running");




        }




    }









    private class PeriodicTrigger implements Trigger {




        private final long periodMillis;




        private Date startTime;









        /**




         * Creates and executes a periodic action that becomes enabled first after the given initial delay, and subsequently with the given period; that is executions will commence after initialDelay




         * then initialDelay+period, then initialDelay + 2 * period, and so on.




         * 




         * @param initialDelay the time to delay first execution




         * @param period the period between successive executions




         * @param unit the time unit of the initialDelay and period parameters




         */




        public PeriodicTrigger(final long initialDelay, final long period, final TimeUnit unit) {




            this.periodMillis = TimeUnit.MILLISECONDS.convert(period, unit);









            // Calculate the start time.




            Date now = new Date();




            long millis = TimeUnit.MILLISECONDS.convert(initialDelay, unit);




            this.startTime = new Date(now.getTime() + millis);




        }














        @Override




        public Date getNextRunTime(final LastExecution lastExecutionInfo, final Date taskScheduledTime) {




            if (lastExecutionInfo == null) {




                return this.startTime;




            }




            else {




                return new Date(lastExecutionInfo.getScheduledStart().getTime() + this.periodMillis);




            }




        }









        @Override




        public boolean skipRun(final LastExecution lastExecutionInfo, final Date scheduledRunTime) {




            return false;




        }




    }




}






Steps:

Deploy bean in Wildfly 8.1.0-Final using maven deploy goal.
Verify log statement is output.
Un-deploy bean from admin console.

Expected
Log statement is no longer called
Actual
Log statement continues to output after bean is destroyed.</description>
			<version>8.1.0.Final</version>
			<fixedVersion>9.0.0.Beta1</fixedVersion>
			<type>Bug</type>
		</buginformation>
		<fixedFiles>
			<file type="M">org.jboss.as.ee.concurrent.service.ManagedScheduledExecutorServiceService.java</file>
		</fixedFiles>
	</bug>
	<bug id="4106" opendate="2014-11-20 18:25:01" fixdate="2014-12-01 22:44:40" resolution="Done">
		<buginformation>
			<summary>jsp-file directive prevents RequestDispatcher#forward to work correctly</summary>
			<description>When there is a servlet specified like:






&amp;lt;servlet&amp;gt;




        &amp;lt;servlet-name&amp;gt;index&amp;lt;/servlet-name&amp;gt;




        &amp;lt;jsp-file&amp;gt;/index.jsp&amp;lt;/jsp-file&amp;gt;




    &amp;lt;/servlet&amp;gt;




    &amp;lt;servlet-mapping&amp;gt;




        &amp;lt;servlet-name&amp;gt;index&amp;lt;/servlet-name&amp;gt;




        &amp;lt;url-pattern&amp;gt;/index&amp;lt;/url-pattern&amp;gt;




    &amp;lt;/servlet-mapping&amp;gt;






and the backing JSP uses RequestDispatcher#forward pointing to a different JSP file, the JspServlet will unfortunately try to render the first JSP again, resulting in StackOverflowError in most of the time.
When investigating this issue with the debugger by making a sample request to /index, it appeared that JspFileHandler sets the request attribute Constants.JSP_FILE, and that will have the value of the JSP file from the &amp;lt;jsp-file&amp;gt; directive. This is great, until the JSP itself tries to call RequestDispatcher#forward using a path on the servletcontext, such as /hello.jsp. In this scenario, JspFileHandler no longer gets invoked, because simply that JSP isn&amp;amp;apos;t bound to a servlet, so the request attribute remain the old value and JspServlet just simply grabs the value from the request attribute again and displays the /index.jsp again, and again, and again.
This looks to be a bug in Jastow, but I&amp;amp;apos;m not really sure how to fix it. I would assume that using dispatcher#forward from a JSP to call an another JSP (even indirectly, i.e. through dispatching the request to a servlet, which then would dispatch the request to a JSP) should be within the bounds of the servlet spec, but let me know if I&amp;amp;apos;m violating the spec with my application in any ways.</description>
			<version>8.2.0.Final</version>
			<fixedVersion>9.0.0.Beta1</fixedVersion>
			<type>Bug</type>
		</buginformation>
		<fixedFiles>
			<file type="M">org.wildfly.extension.undertow.deployment.UndertowDeploymentInfoService.java</file>
		</fixedFiles>
		<links>
			<link type="Duplicate" description="is duplicated by">4690</link>
		</links>
	</bug>
	<bug id="4132" opendate="2014-11-27 12:47:16" fixdate="2014-12-03 20:18:32" resolution="Done">
		<buginformation>
			<summary>Transaction subsystem does not initialise the recovery store correctly</summary>
			<description>The initialisation code in the transaction subsystem sets the transaction log directory on the wrong instance (https://github.com/wildfly/wildfly/blob/master/transactions/src/main/java/org/jboss/as/txn/service/ArjunaObjectStoreEnvironmentService.java#L78). The code should pass in the null string for the instance name to get the default instance.
The bug arises because we recently fixed JBTM-2207 in order to avoid string comparison with the default name and the reason this is not a backwards compatibility issue is that com.arjuna.common.internal.util.propertyservice.BeanPopulator is internal code that the app server is using.</description>
			<version>9.0.0.Alpha1</version>
			<fixedVersion>9.0.0.Beta1</fixedVersion>
			<type>Bug</type>
		</buginformation>
		<fixedFiles>
			<file type="M">org.jboss.as.txn.service.ArjunaObjectStoreEnvironmentService.java</file>
		</fixedFiles>
	</bug>
	<bug id="4151" opendate="2014-12-03 21:10:09" fixdate="2014-12-03 21:32:30" resolution="Duplicate Issue">
		<buginformation>
			<summary>Spring Security with Active Directory Provider throwing Wrapped NamingException</summary>
			<description>There is a bug logged against Spring Security for this issue as well https://jira.spring.io/browse/SEC-2754
Providing the ActiveDirectoryLdapAuthenticationProvider with incorrect credentials causes internal server error when running on JBoss.
This is because ActiveDirectoryLdapAuthenticationProvider only considers top-level LdapExceptions, whereas JBoss seems to wrap exceptions thrown by InitialLdapContext into a top-level NamingException.
The issue does provide a suggested patch to spring security however I don&amp;amp;apos;t understand why Wildfly is wrapping the LdapExceptions when it did not appear to do this as late as JBoss EAP 6.2.0.GA</description>
			<version>8.2.0.Final</version>
			<fixedVersion></fixedVersion>
			<type>Bug</type>
		</buginformation>
		<fixedFiles>
			<file type="M">org.jboss.as.naming.InitialContext.java</file>
		</fixedFiles>
		<links>
			<link type="Duplicate" description="duplicates">4149</link>
		</links>
	</bug>
	<bug id="4153" opendate="2014-12-04 08:39:06" fixdate="2014-12-05 12:17:00" resolution="Done">
		<buginformation>
			<summary>Incorrect interface definition in ejb-jar.xml for entity beans shows just NullPointer exception</summary>
			<description>





In case that you specify interface type for entity bean in ejb-jar.xml that does not correspond with definition in the class of the bean then just Null Pointer exception is shown without any other info what&amp;amp;apos;s happening.









I mean when you define bean through interface as remote and the ejb-jar.xml describes bean interfaces as local




{code}




public interface SomeBean extends EJBObject {




...




}




public interface SomeBeanHome extends EJBHome {




...




}




{code}




and the ejb-jar.xml looks like




{code}




&amp;lt;ejb-jar xmlns="http://java.sun.com/xml/ns/javaee"




  xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"




  xsi:schemaLocation="http://java.sun.com/xml/ns/javaee http://java.sun.com/xml/ns/javaee/ejb-jar_3_1.xsd" version="3.1"&amp;gt;




  &amp;lt;enterprise-beans&amp;gt;




    &amp;lt;entity&amp;gt;




      &amp;lt;ejb-name&amp;gt;SomeBean&amp;lt;/ejb-name&amp;gt;




      &amp;lt;local-home&amp;gt;package.SomeBeanHome&amp;lt;/local-home&amp;gt;




      &amp;lt;local&amp;gt;package.SomeBean&amp;lt;/local&amp;gt;




      &amp;lt;ejb-class&amp;gt;package.SomeBeanBean&amp;lt;/ejb-class&amp;gt;




      &amp;lt;persistence-type&amp;gt;Bean&amp;lt;/persistence-type&amp;gt;




      &amp;lt;prim-key-class&amp;gt;java.lang.Integer&amp;lt;/prim-key-class&amp;gt;




      &amp;lt;reentrant&amp;gt;true&amp;lt;/reentrant&amp;gt;




    &amp;lt;/entity&amp;gt;




  &amp;lt;/enterprise-beans&amp;gt;




&amp;lt;/ejb-jar&amp;gt;




{code}









then NullPointerException is thrown




{code}




ERROR [org.jboss.msc.service.fail] (MSC service thread 1-5) MSC00001: Failed to start service jboss.deployment.unit."entitybeanbmp.jar".INSTALL: org.jboss.msc.service.StartException in service jboss.deployment.unit."entitybeanbmp.jar".INSTALL: JBAS018733: Failed to process phase INSTALL of deployment "entitybeanbmp.jar"                                      




  at org.jboss.as.server.deployment.DeploymentUnitPhaseService.start(DeploymentUnitPhaseService.java:123) [jboss-as-server-7.2.0.Alpha1-SNAPSHOT.jar:7.2.0.Alpha1-SNAPSHOT]                  




  at org.jboss.msc.service.ServiceControllerImpl$StartTask.startService(ServiceControllerImpl.java:1811) [jboss-msc-1.0.2.GA.jar:1.0.2.GA]                           




  at org.jboss.msc.service.ServiceControllerImpl$StartTask.run(ServiceControllerImpl.java:1746) [jboss-msc-1.0.2.GA.jar:1.0.2.GA]                              




  at java.util.concurrent.ThreadPoolExecutor$Worker.runTask(ThreadPoolExecutor.java:886) [rt.jar:1.6.0_23]                                   




  at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:908) [rt.jar:1.6.0_23]                                       




  at java.lang.Thread.run(Thread.java:662) [rt.jar:1.6.0_23]                                             




Caused by: org.jboss.as.server.deployment.DeploymentUnitProcessingException: JBAS011058: Failed to install component SimpleBMPBean                             




  at org.jboss.as.ee.component.deployers.ComponentInstallProcessor.deploy(ComponentInstallProcessor.java:102)                                




  at org.jboss.as.server.deployment.DeploymentUnitPhaseService.start(DeploymentUnitPhaseService.java:116) [jboss-as-server-7.2.0.Alpha1-SNAPSHOT.jar:7.2.0.Alpha1-SNAPSHOT]                  




  ... 5 more




Caused by: java.lang.NullPointerException                                                    




  at org.jboss.as.ejb3.component.entity.EntityBeanObjectViewConfigurator$2.configureDependency(EntityBeanObjectViewConfigurator.java:108)                            




  at org.jboss.as.ejb3.component.entity.EntityBeanObjectViewConfigurator$2.configureDependency(EntityBeanObjectViewConfigurator.java:105)                            




  at org.jboss.as.ee.component.deployers.ComponentInstallProcessor.deployComponent(ComponentInstallProcessor.java:139)                                   




  at org.jboss.as.ee.component.deployers.ComponentInstallProcessor.deploy(ComponentInstallProcessor.java:95)                                 




  ... 6 more 




{code}









instead of some informative one.





</description>
			<version>9.0.0.Alpha1</version>
			<fixedVersion></fixedVersion>
			<type>Bug</type>
		</buginformation>
		<fixedFiles>
			<file type="M">org.jboss.as.ejb3.component.session.SessionBeanObjectViewConfigurator.java</file>
			<file type="M">org.jboss.as.ejb3.component.entity.EntityBeanObjectViewConfigurator.java</file>
		</fixedFiles>
	</bug>
	<bug id="4101" opendate="2014-11-20 03:35:34" fixdate="2014-12-06 12:54:00" resolution="Done">
		<buginformation>
			<summary>JAAS logout not called if cache-type is set to a value different than "default"</summary>
			<description>Currently HttpServletRequest.logout() and Session.invalidate() rely on the AuthenticationManager.flushCache() method to perform the JAAS logout. Internally, flushCache() removes the cache entry and a cache listener takes care of the JAAS logout upon eviction.
However, this is only true for cache-type="default". If the "inifinspan" cache is configured, no such eviction listener exists and thus no JAAS logout is carried upon entry removal. Similarly, a JAAS logout is never carried if the security domain doesn&amp;amp;apos;t use a cache at all. Only the presence of a cache with a special eviction listener will result in logout being called on the login module, which is obviously a faulty design.
Latest PicketBox version adds a logout(Principal, Subject) method to the AuthenticationManager interface. The default implementation used by WildFly takes care of flushing the cache if needed and performs the JAAS logout independently of the cache policy being used. The code that is currently calling AuthenticationManager.flushCache() must be changed so that logout() is called instead.</description>
			<version>9.0.0.Alpha1</version>
			<fixedVersion>9.0.0.Beta1</fixedVersion>
			<type>Bug</type>
		</buginformation>
		<fixedFiles>
			<file type="M">org.wildfly.extension.undertow.deployment.UndertowDeploymentInfoService.java</file>
			<file type="D">org.wildfly.extension.undertow.deployment.CacheInvalidationNotificationReceiver.java</file>
			<file type="D">org.wildfly.extension.undertow.deployment.CacheInvalidationSessionListener.java</file>
		</fixedFiles>
	</bug>
	<bug id="4008" opendate="2014-10-22 16:40:38" fixdate="2014-12-06 13:16:25" resolution="Done">
		<buginformation>
			<summary>MBean deployment causes  javax.naming.NameNotFoundException: java:comp/BeanManager</summary>
			<description>If you create an MBean in your EJB and deploy the EJB.
&amp;lt;pre&amp;gt;
@SuppressWarnings("serial")
public class Monitor implements MonitorMXBean, Serializable {
	private static final Logger log = LoggerFactory.getLogger(Monitor.class);
	private Boolean enabled = Boolean.FALSE;
	private Long valueOne;
	public Monitor() 
{
		log.debug("CTOR");
	}

	@Override
	public Boolean isEnabled() 
{
		return enabled;
	}
	@Override
	public void setEnabled(Boolean enabled) 
{
		this.enabled = enabled;
	}

	@Override
	public Long getValueOne() 
{
		return valueOne;
	}
	@Override
	public void setValueOne(Long valueOne) 
{
		this.valueOne = valueOne;
	}

}
&amp;lt;/pre&amp;gt;
And JMX MXBean
&amp;lt;pre&amp;gt;
import javax.management.MXBean;
@MXBean
public interface MonitorMXBean 
{

	void setEnabled(Boolean enabled);
	Boolean isEnabled();

	void setValueOne(Long valueOne);
	Long getValueOne();

}

&amp;lt;/pre&amp;gt;
17:34:42,455 ERROR [org.jboss.as.weld] (MSC service thread 1-1) JBAS016001: Failed to tear down Weld contexts: javax.naming.NameNotFoundException: java:comp/BeanManager
	at org.jboss.as.naming.InitialContext$DefaultInitialContext.findContext(InitialContext.java:187)
	at org.jboss.as.naming.InitialContext$DefaultInitialContext.lookup(InitialContext.java:231)
	at org.jboss.as.naming.NamingContext.lookup(NamingContext.java:188)
	at org.jboss.as.naming.NamingContext.lookup(NamingContext.java:184)
	at javax.naming.InitialContext.lookup(InitialContext.java:417) [rt.jar:1.8.0_25]
	at javax.naming.InitialContext.lookup(InitialContext.java:417) [rt.jar:1.8.0_25]
	at org.jboss.as.weld.arquillian.WeldContextSetup.teardown(WeldContextSetup.java:108)
	at org.jboss.as.jmx.MBeanRegistrationService.stop(MBeanRegistrationService.java:132) [wildfly-jmx-8.1.0.Final.jar:8.1.0.Final]
	at org.jboss.msc.service.ServiceControllerImpl$StopTask.stopService(ServiceControllerImpl.java:2056) [jboss-msc-1.2.2.Final.jar:1.2.2.Final]
	at org.jboss.msc.service.ServiceControllerImpl$StopTask.run(ServiceControllerImpl.java:2017) [jboss-msc-1.2.2.Final.jar:1.2.2.Final]
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142) [rt.jar:1.8.0_25]
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617) [rt.jar:1.8.0_25]
	at java.lang.Thread.run(Thread.java:745) [rt.jar:1.8.0_25]
Is this related to: https://issues.jboss.org/browse/WFLY-822 ?</description>
			<version>8.1.0.Final</version>
			<fixedVersion>9.0.0.Beta1</fixedVersion>
			<type>Bug</type>
		</buginformation>
		<fixedFiles>
			<file type="M">org.jboss.as.service.AbstractService.java</file>
		</fixedFiles>
		<links>
			<link type="Causality" description="is caused by">449</link>
			<link type="Related" description="is related to">2288</link>
		</links>
	</bug>
	<bug id="4050" opendate="2014-11-04 13:53:02" fixdate="2014-12-06 13:17:28" resolution="Done">
		<buginformation>
			<summary>data-source:enable is broken</summary>
			<description>Enabling a disabled datasource using the operation :enable() is broken. It remains disabled. </description>
			<version>8.0.0.Final</version>
			<fixedVersion>9.0.0.Beta1</fixedVersion>
			<type>Bug</type>
		</buginformation>
		<fixedFiles>
			<file type="M">org.jboss.as.connector.subsystems.datasources.DataSourceEnable.java</file>
		</fixedFiles>
		<links>
			<link type="Dependency" description="blocks">510</link>
			<link type="Related" description="relates to">2986</link>
			<link type="Related" description="relates to">3166</link>
			<link type="Related" description="relates to">2833</link>
		</links>
	</bug>
	<bug id="4149" opendate="2014-12-03 13:50:40" fixdate="2014-12-11 14:50:06" resolution="Done">
		<buginformation>
			<summary>NamingExceptions not properly handled in InitialContext</summary>
			<description>The change in https://github.com/jbossas/jboss-eap/commit/db525bf1d90a40eb909c8f915fca787d55f4e7e5#diff-833175ffb151a3398216d6422dadeeeeR112 catches all Exception and rewraps them with NamingException.  This behavior is undesirable if the original exception was already a NamingException.  Catch and re-throw that exception type as-is before wrapping other exceptions.</description>
			<version>8.2.0.Final</version>
			<fixedVersion>9.0.0.Beta1</fixedVersion>
			<type>Bug</type>
		</buginformation>
		<fixedFiles>
			<file type="M">org.jboss.as.naming.InitialContext.java</file>
		</fixedFiles>
		<links>
			<link type="Duplicate" description="is duplicated by">4151</link>
		</links>
	</bug>
	<bug id="4139" opendate="2014-11-28 10:11:18" fixdate="2014-12-15 19:14:42" resolution="Done">
		<buginformation>
			<summary>Batch module dependencies not configured for valid deployments</summary>
			<description>In BatchEnvironmentProcessor the Batch subsystem only adds a dependency on wildfly&amp;amp;apos;s transaction manager and bean manager if some marker files are detected. (See here)
https://github.com/wildfly/wildfly/blob/bfc41360196f5183a005101bf7ac2d7bfa1389c0/batch/extension/src/main/java/org/wildfly/extension/batch/deployment/BatchEnvironmentProcessor.java#L73
If they are not detected an unhelpful exception is thrown when instantiating the JobOperator:






01:18:25,442 INFO  [org.jboss.as.server] (management-handler-thread - 2) WFLYSRV0009: Undeployed "test.war" (runtime-name: "test.war")




Tests run: 1, Failures: 0, Errors: 1, Skipped: 0, Time elapsed: 248.119 sec &amp;lt;&amp;lt;&amp;lt; FAILURE! - in io.machinecode.chainlink.ee.wildfly.WildFlyTest




testGlassfish(io.machinecode.chainlink.ee.wildfly.WildFlyTest)  Time elapsed: 0.336 sec  &amp;lt;&amp;lt;&amp;lt; ERROR!




java.util.ServiceConfigurationError: javax.batch.operations.JobOperator: Provider org.jberet.operations.JobOperatorImpl could not be instantiated




	at org.wildfly.jberet.services.BatchEnvironmentService$WildFlyBatchEnvironment.getArtifactFactory(BatchEnvironmentService.java:123)




	at org.wildfly.jberet.DelegatingBatchEnvironment.getArtifactFactory(DelegatingBatchEnvironment.java:52)




	at org.jberet.operations.JobOperatorImpl.&amp;lt;init&amp;gt;(JobOperatorImpl.java:89)




	at sun.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)




	at sun.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:62)




	at sun.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45)




	at java.lang.reflect.Constructor.newInstance(Constructor.java:408)




	at java.lang.Class.newInstance(Class.java:438)




	at java.util.ServiceLoader$LazyIterator.nextService(ServiceLoader.java:380)




	at java.util.ServiceLoader$LazyIterator.next(ServiceLoader.java:404)




	at java.util.ServiceLoader$1.next(ServiceLoader.java:480)




	at javax.batch.runtime.BatchRuntime.getJobOperator(BatchRuntime.java:57)




	at io.machinecode.chainlink.ee.wildfly.WildFlyTest.testGlassfish(WildFlyTest.java:36)






There are valid reasons that these marker files may not be in the deployment, an example being that the deployment might only read metadata from jobs started by other deployments from the configured repository. This check also does not take into account jars in a war&amp;amp;apos;s lib dir (for example if you try and run a test using arquillian) or in an ear, which should be allowed.
I think there should be two changes. Firstly, those dependencies should be added unconditionally as there are cases where these marker will not be present and they will still be required. Secondly, the exception thrown because the beanManager has not been configured should be thrown earlier in the lifecycle where it will generate a real error message (perhaps in BatchEnvironmentService#start before creating the WildFlyBatchEnvironment where it can first be detected):
https://github.com/wildfly/wildfly/blob/bfc41360196f5183a005101bf7ac2d7bfa1389c0/batch/jberet/src/main/java/org/wildfly/jberet/services/BatchEnvironmentService.java#L71</description>
			<version>8.2.0.Final</version>
			<fixedVersion>9.0.0.Beta1</fixedVersion>
			<type>Bug</type>
		</buginformation>
		<fixedFiles>
			<file type="M">org.wildfly.jberet._private.WildFlyBatchLogger.java</file>
			<file type="M">org.wildfly.jberet.WildFlyArtifactFactory.java</file>
			<file type="M">org.wildfly.jberet.services.BatchEnvironmentService.java</file>
			<file type="M">org.wildfly.extension.batch.deployment.BatchEnvironmentProcessor.java</file>
		</fixedFiles>
	</bug>
	<bug id="4167" opendate="2014-12-09 22:45:41" fixdate="2014-12-15 19:22:15" resolution="Done">
		<buginformation>
			<summary>AS7Plugin dump-services command is failing</summary>
			<description>Run JDR, the dump-services.json is always empty.  This is because the operation is not being set when JDR tries to invoke the operation.</description>
			<version>9.0.0.Alpha1</version>
			<fixedVersion>9.0.0.Beta1</fixedVersion>
			<type>Bug</type>
		</buginformation>
		<fixedFiles>
			<file type="M">org.jboss.as.jdr.plugins.AS7Plugin.java</file>
		</fixedFiles>
	</bug>
	<bug id="4133" opendate="2014-11-27 16:28:38" fixdate="2014-12-15 22:27:08" resolution="Done">
		<buginformation>
			<summary>Hanging EJB threads because of a persistent timer and failed deployment </summary>
			<description>When there is a time service with pending timeouts a bad redeploy can hang worker threads in the server.</description>
			<version>9.0.0.Alpha1</version>
			<fixedVersion>9.0.0.Beta1</fixedVersion>
			<type>Bug</type>
		</buginformation>
		<fixedFiles>
			<file type="M">org.jboss.as.ejb3.timerservice.TimerServiceImpl.java</file>
			<file type="M">org.jboss.as.ejb3.component.EJBComponent.java</file>
		</fixedFiles>
	</bug>
	<bug id="3718" opendate="2014-07-30 06:58:59" fixdate="2014-12-16 16:44:22" resolution="Done">
		<buginformation>
			<summary>UT005023: Exception handling request to /frontend/images/favicon.ico: java.lang.NullPointerException</summary>
			<description>2014-07-30 02:12:30,088 ERROR [io.undertow.request] (default task-15) UT005023: Exception handling request to /frontend/images/favicon.ico: java.lang.NullPointerException
        at org.wildfly.clustering.web.infinispan.session.coarse.CoarseImmutableSessionAttributes.getAttributeNames(CoarseImmutableSessionAttributes.java:51)
        at org.wildfly.clustering.web.infinispan.session.InfinispanSessionManager.findListeners(InfinispanSessionManager.java:320)
        at org.wildfly.clustering.web.infinispan.session.InfinispanSessionManager.triggerPostActivationEvents(InfinispanSessionManager.java:309)
        at org.wildfly.clustering.web.infinispan.session.InfinispanSessionManager.findSession(InfinispanSessionManager.java:164)
        at org.wildfly.clustering.web.undertow.session.DistributableSessionManager.getSession(DistributableSessionManager.java:115)
        at io.undertow.servlet.spec.ServletContextImpl.getSession(ServletContextImpl.java:677) [undertow-servlet-1.0.15.Final.jar:1.0.15.Final]
        at io.undertow.servlet.spec.ServletContextImpl.getSession(ServletContextImpl.java:707) [undertow-servlet-1.0.15.Final.jar:1.0.15.Final]
        at io.undertow.servlet.handlers.security.CachedAuthenticatedSessionHandler.handleRequest(CachedAuthenticatedSessionHandler.java:62) [undertow-servlet-1.0.15.Final.jar:1.0.15.Final]
        at io.undertow.security.handlers.SecurityInitialHandler.handleRequest(SecurityInitialHandler.java:76) [undertow-core-1.0.15.Final.jar:1.0.15.Final]
        at io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:25) [undertow-core-1.0.15.Final.jar:1.0.15.Final]
        at org.wildfly.extension.undertow.security.jacc.JACCContextIdHandler.handleRequest(JACCContextIdHandler.java:61)
        at io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:25) [undertow-core-1.0.15.Final.jar:1.0.15.Final]
        at io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:25) [undertow-core-1.0.15.Final.jar:1.0.15.Final]
        at io.undertow.servlet.handlers.ServletInitialHandler.handleFirstRequest(ServletInitialHandler.java:240) [undertow-servlet-1.0.15.Final.jar:1.0.15.Final]
        at io.undertow.servlet.handlers.ServletInitialHandler.dispatchRequest(ServletInitialHandler.java:227) [undertow-servlet-1.0.15.Final.jar:1.0.15.Final]
        at io.undertow.servlet.handlers.ServletInitialHandler.access$000(ServletInitialHandler.java:73) [undertow-servlet-1.0.15.Final.jar:1.0.15.Final]
        at io.undertow.servlet.handlers.ServletInitialHandler$1.handleRequest(ServletInitialHandler.java:146) [undertow-servlet-1.0.15.Final.jar:1.0.15.Final]
        at io.undertow.server.Connectors.executeRootHandler(Connectors.java:177) [undertow-core-1.0.15.Final.jar:1.0.15.Final]
        at io.undertow.server.HttpServerExchange$1.run(HttpServerExchange.java:727) [undertow-core-1.0.15.Final.jar:1.0.15.Final]
        at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142) [rt.jar:1.8.0_11]
        at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617) [rt.jar:1.8.0_11]
        at java.lang.Thread.run(Thread.java:745) [rt.jar:1.8.0_11]
2014-07-30 02:12:30,786 ERROR [io.undertow.request] (default task-15) Blocking request failed HttpServerExchange
{ GET /frontend/images/favicon.ico}
: java.lang.NullPointerException
        at org.wildfly.clustering.web.infinispan.session.coarse.CoarseImmutableSessionAttributes.getAttributeNames(CoarseImmutableSessionAttributes.java:51)
        at org.wildfly.clustering.web.infinispan.session.InfinispanSessionManager.findListeners(InfinispanSessionManager.java:320)
        at org.wildfly.clustering.web.infinispan.session.InfinispanSessionManager.triggerPostActivationEvents(InfinispanSessionManager.java:309)
        at org.wildfly.clustering.web.infinispan.session.InfinispanSessionManager.findSession(InfinispanSessionManager.java:164)
        at org.wildfly.clustering.web.undertow.session.DistributableSessionManager.getSession(DistributableSessionManager.java:115)
        at io.undertow.servlet.spec.ServletContextImpl.getSession(ServletContextImpl.java:677)
        at io.undertow.servlet.spec.ServletContextImpl.getSession(ServletContextImpl.java:707)
        at io.undertow.servlet.spec.ServletContextImpl.updateSessionAccessTime(ServletContextImpl.java:711)
        at io.undertow.servlet.spec.HttpServletResponseImpl.responseDone(HttpServletResponseImpl.java:522)
        at io.undertow.servlet.spec.HttpServletResponseImpl.sendError(HttpServletResponseImpl.java:137)
        at io.undertow.servlet.spec.HttpServletResponseImpl.sendError(HttpServletResponseImpl.java:142)
        at io.undertow.servlet.handlers.ServletInitialHandler.handleFirstRequest(ServletInitialHandler.java:273)
        at io.undertow.servlet.handlers.ServletInitialHandler.dispatchRequest(ServletInitialHandler.java:227)
        at io.undertow.servlet.handlers.ServletInitialHandler.access$000(ServletInitialHandler.java:73)
        at io.undertow.servlet.handlers.ServletInitialHandler$1.handleRequest(ServletInitialHandler.java:146)
        at io.undertow.server.Connectors.executeRootHandler(Connectors.java:177)
        at io.undertow.server.HttpServerExchange$1.run(HttpServerExchange.java:727)
        at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142) [rt.jar:1.8.0_11]
        at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617) [rt.jar:1.8.0_11]
        at java.lang.Thread.run(Thread.java:745) [rt.jar:1.8.0_11]</description>
			<version>8.1.0.Final</version>
			<fixedVersion>9.0.0.Beta1</fixedVersion>
			<type>Bug</type>
		</buginformation>
		<fixedFiles>
			<file type="M">org.wildfly.clustering.web.infinispan.session.InfinispanSessionManager.java</file>
			<file type="M">org.wildfly.clustering.web.infinispan.session.coarse.CoarseSessionFactory.java</file>
		</fixedFiles>
	</bug>
	<bug id="4013" opendate="2014-10-24 09:40:18" fixdate="2014-12-17 14:49:13" resolution="Done">
		<buginformation>
			<summary>The value of the bound attribute in socket-binding-group messaging is always false</summary>
			<description>The value of bound attribute in messaging socket group is always false.






/socket-binding-group=standard-sockets/socket-binding=messaging:read-resource(include-runtime=true, recursive=true)




{




    "outcome" =&amp;gt; "success",




    "result" =&amp;gt; {




        "bound" =&amp;gt; false,




        "bound-address" =&amp;gt; undefined,




        "bound-port" =&amp;gt; undefined,




        "client-mappings" =&amp;gt; undefined,




        "fixed-port" =&amp;gt; false,




        "interface" =&amp;gt; undefined,




        "multicast-address" =&amp;gt; undefined,




        "multicast-port" =&amp;gt; undefined,




        "name" =&amp;gt; "messaging",




        "port" =&amp;gt; 5445




    }





</description>
			<version>JBoss AS7 7.2.0.Final</version>
			<fixedVersion>9.0.0.Beta1</fixedVersion>
			<type>Bug</type>
		</buginformation>
		<fixedFiles>
			<file type="M">org.jboss.as.messaging.HornetQService.java</file>
		</fixedFiles>
	</bug>
	<bug id="4210" opendate="2014-12-30 21:59:18" fixdate="2015-01-07 02:05:48" resolution="Done">
		<buginformation>
			<summary>Very Slow performance for larger JSF 2 pages.</summary>
			<description>Very slow page performance using JSF 2 and Wildfly 8.2.0 for larger pages.  I am migrating a large application from JBoss AS 7.1.1 to Wildfly 8.2.0 and page performance on loads and posts is very slow.  I created a large JSF 2 test page and took timings for JBoss 7.1.1, Wildfly 8.2.0 and Tomcat 7.x using the same Mojarra 2.2.8 implementation as Wildfly.  
The attached war file contains mojarra 2.2.8 jars for tomcat.  The attached ear file is for JBoss deployments and does not contain mojarra jars.  
Example test URL for attached ear and war.
http://localhost:8080/testAppWeb/jsp/AjaxTest.jsf
JBoss 7.1.1 Timings
Page Load: 4.0 Seconds  
Post:  4.5 Seconds
Ajax:  4.0 Seconds 
Wildfly 8.2.0 Timings
Page Load: 55.0 Seconds
Post:  50 Seconds
Ajax:  7 Seconds 
Tomcat 7.x with 2.2.8 Mojarra
Page Load 1.0 Seconds
Post:  0.75 Seconds
Ajax:  0.3  Seconds
</description>
			<version>8.2.0.Final</version>
			<fixedVersion>9.0.0.Beta1</fixedVersion>
			<type>Bug</type>
		</buginformation>
		<fixedFiles>
			<file type="M">org.jboss.as.jsf.injection.weld.WeldApplication.java</file>
		</fixedFiles>
	</bug>
	<bug id="4185" opendate="2014-12-16 13:26:42" fixdate="2015-01-08 03:04:42" resolution="Done">
		<buginformation>
			<summary>Using annotated servlet listeners from modules</summary>
			<description>PicketLink provides support for Http Security. Basically, it consists of an API to define security policies to the paths or resources of an application and a security filter (servlet filter) that is responsible to enforce those policies for every single request.
The security filter is installed from a specific ServletContextListener (org.picketlink.http.internal.PicketLinkServletContextListener) that checks if the application has defined any security policy in order to decide if the filter must be installed or not.
PicketLink also defines a ServletRequestListener (org.picketlink.http.internal.HttpServletRequestListener) that is used to produce a decorated HttpServletRequest instance. This decorated instance provides full integration between PL and the HttpServletRequest security methods plus some other goodies for PL users such as URL rewriting, etc.
Both listeners (servletcontext and request) are CDI beans with injection points and/or producer methods. 
When using PL from modules, the producer method of org.picketlink.http.internal.HttpServletRequestListener#produce is not being recognized. And that makes impossible to use PL from modules.
The same code works if you use PL jars inside the deployment.
Another interesting behavior is that EAP and WildFly are behaving differently. In EAP (latest build), the ServletContextListener is only recognized as a CDI bean if you define it in the web.xml. While in WildFly this is not necessary.
Also, in EAP the producer method of HttpServletRequestListener is properly recognized and everything works fine.
I&amp;amp;apos;ve created a branch [1] to test this issue. The test case is 





org.wildfly.test.integration.security.picketlink.core.http.ServletListenerFromModuleTestCase





.
[1] https://github.com/pedroigor/wildfly/tree/WFLY-4185</description>
			<version>9.0.0.Alpha1</version>
			<fixedVersion>9.0.0.Beta1</fixedVersion>
			<type>Bug</type>
		</buginformation>
		<fixedFiles>
			<file type="M">org.jboss.as.weld.deployment.processors.ExternalBeanArchiveProcessor.java</file>
		</fixedFiles>
		<links>
			<link type="Causality" description="causes">4353</link>
		</links>
	</bug>
	<bug id="3548" opendate="2014-06-25 12:15:14" fixdate="2015-01-08 09:28:43" resolution="Done">
		<buginformation>
			<summary>JTA synchronization for a distributed transaction called with incorrect TCCL</summary>
			<description>It seems the RequestProcessor which is processing JTA synchronizations
does not have the right TCCL set.
As a result, during synchronization invocation:

NameNotFoundException is thrown for a JNDI lookup of "java:comp/UserTransaction"
if we try to acccess org.jboss.weld.Container by means of org.jboss.as.weld.services.ModuleGroupSingletonProvider.TCCLSingleton, we get ISE: "Singleton not set....This means that you are trying to access a weld deployment with a Thread Context ClassLoader that is not associated with the deployment."

</description>
			<version>8.1.0.Final</version>
			<fixedVersion>9.0.0.Beta1</fixedVersion>
			<type>Bug</type>
		</buginformation>
		<fixedFiles>
			<file type="M">org.jboss.as.weld.WeldSubsystemAdd.java</file>
			<file type="M">org.jboss.as.weld.services.bootstrap.WeldTransactionServices.java</file>
			<file type="M">org.jboss.as.weld.deployment.processors.WeldDeploymentProcessor.java</file>
		</fixedFiles>
		<links>
			<link type="Dependency" description="is blocked by">2272</link>
		</links>
	</bug>
	<bug id="4247" opendate="2015-01-13 22:56:05" fixdate="2015-01-20 05:36:21" resolution="Done">
		<buginformation>
			<summary>Deployment fails if a web-fragment.xml references fragment name that&amp;apos;s not present</summary>
			<description>If you deploy a web application which has a web fragment with a relative ordering referring to a non-existent fragment, it will fail. This was reported for old JBossAS as JBAS-8767, Remy said the spec was not clear so he would ask, and them it was fixed for AS 6.0.
The reproducer WAR from JBAS-8767 fails to deploy on WildFly as well. I am unsure as to the result of the spec clarification on whether it should work, but since we fixed it for AS 6 it should probably be fixed in WF too.</description>
			<version>9.0.0.Alpha1</version>
			<fixedVersion>9.0.0.Beta1</fixedVersion>
			<type>Bug</type>
		</buginformation>
		<fixedFiles>
			<file type="M">org.wildfly.extension.undertow.logging.UndertowLogger.java</file>
			<file type="M">org.wildfly.extension.undertow.deployment.WarMetaDataProcessor.java</file>
		</fixedFiles>
		<links>
			<link type="Related" description="relates to">8767</link>
			<link type="Sequence" description="is followed up by">6552</link>
		</links>
	</bug>
	<bug id="3904" opendate="2014-09-26 22:03:01" fixdate="2015-01-21 11:30:33" resolution="Done">
		<buginformation>
			<summary>Unable to enable statistics via configuration for resource adapters</summary>
			<description>The statistics for  resource adapters are hard-coded to be disabled at startup:
https://github.com/wildfly/wildfly/blob/47830b44d1bd48c4fcdc2489cecaa3971c45c209/connector/src/main/java/org/jboss/as/connector/deployers/ra/processors/AbstractResourceAdapterDeploymentServiceListener.java#L91
It&amp;amp;apos;s not possible to enable the statistics in a persistent way - it needs to be done each time the servers starts e.g. via jmx.
Ideally there&amp;amp;apos;d be a "statistics-enabled" attribute on the "&amp;lt;connection-definition&amp;gt;" element in the configuration file in the same way that there is on "&amp;lt;datasource&amp;gt;".</description>
			<version>8.1.0.Final</version>
			<fixedVersion></fixedVersion>
			<type>Bug</type>
		</buginformation>
		<fixedFiles>
			<file type="M">org.jboss.as.connector.subsystems.resourceadapters.RaOperationUtil.java</file>
			<file type="M">org.jboss.as.connector.util.RaServicesFactory.java</file>
			<file type="M">org.jboss.as.connector.deployers.ra.processors.AbstractResourceAdapterDeploymentServiceListener.java</file>
			<file type="M">org.jboss.as.connector.deployers.ra.processors.ParsedRaDeploymentProcessor.java</file>
			<file type="M">org.jboss.as.connector.subsystems.resourceadapters.ResourceAdaptersSubsystemTestCase.java</file>
			<file type="M">org.jboss.as.connector.subsystems.resourceadapters.ResourceAdapterParser.java</file>
			<file type="M">org.jboss.as.connector.deployers.ra.processors.RaXmlDeploymentProcessor.java</file>
			<file type="M">org.jboss.as.connector.subsystems.resourceadapters.RaRemove.java</file>
			<file type="M">org.jboss.as.connector.subsystems.resourceadapters.Constants.java</file>
			<file type="M">org.jboss.as.connector.subsystems.resourceadapters.ResourceAdapterSubsystemParser.java</file>
			<file type="M">org.jboss.as.connector.subsystems.resourceadapters.CommonAttributes.java</file>
			<file type="M">org.jboss.as.connector.subsystems.resourceadapters.RaActivate.java</file>
			<file type="M">org.jboss.as.connector.subsystems.resourceadapters.ResourceAdapterResourceDefinition.java</file>
			<file type="M">org.jboss.as.connector.subsystems.resourceadapters.RaAdd.java</file>
		</fixedFiles>
	</bug>
	<bug id="4249" opendate="2015-01-14 04:27:27" fixdate="2015-01-21 18:58:22" resolution="Done">
		<buginformation>
			<summary>When a node left and rejoined the cluster, the authentication failed to sync.</summary>
			<description>Hi there,
When I try to use cluster features, I got an issue.
With SSO enabled, when a node left and rejoined the cluster, the authentication failed to sync.
I enabled SSO in standalone-ha.xml
&amp;lt;single-sign-on/&amp;gt;
Node 3:
$JBOSS_HOME/bin/standalone.sh -c standalone-ha.xml -b=10.0.0.120 -u 230.0.0.4 -Djboss.node.name=node3 -Djboss.socket.binding.port-offset=100
Node 4:
$JBOSS_HOME/bin/standalone.sh -c standalone-ha.xml -b=10.0.0.120 -u 230.0.0.4 -Djboss.node.name=node4 -Djboss.socket.binding.port-offset=200
I first started both nodes and logged in. Then I shut down node 3, and refresh the page. Everything worked fine until now. After this, I started node 3 again but I found I was logged out. When I shut down the node3, it worked again.
I also tried different versions of WildFly, 8.1, 8.2 and 9.0 and it failed in all versions.
The log from node 4 below happens sometimes but NOT always.
14:56:44,874 INFO  [org.infinispan.remoting.transport.jgroups.JGroupsTransport] (Incoming-18,shared=udp) ISPN000094: Received new cluster view: [node4/web|3] (2) [node4/web, node3/web]
14:56:45,117 ERROR [org.infinispan.statetransfer.OutboundTransferTask] (transport-thread-12) Failed to send entries to node node3/web : ISPN000217: Received exception from node3/web, see cause for remote stack trace: org.infinispan.remoting.RemoteException: ISPN000217: Received exception from node3/web, see cause for remote stack trace
	at org.infinispan.remoting.transport.AbstractTransport.checkResponse(AbstractTransport.java:41)
	at org.infinispan.remoting.transport.jgroups.CommandAwareRpcDispatcher.processSingleCall(CommandAwareRpcDispatcher.java:362)
	at org.infinispan.remoting.transport.jgroups.CommandAwareRpcDispatcher.invokeRemoteCommand(CommandAwareRpcDispatcher.java:167)
	at org.infinispan.remoting.transport.jgroups.JGroupsTransport.invokeRemotely(JGroupsTransport.java:521)
	at org.infinispan.remoting.rpc.RpcManagerImpl.invokeRemotely(RpcManagerImpl.java:281)
	at org.infinispan.statetransfer.OutboundTransferTask.sendEntries(OutboundTransferTask.java:233)
	at org.infinispan.statetransfer.OutboundTransferTask.run(OutboundTransferTask.java:174)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:471) [rt.jar:1.7.0_45]
	at java.util.concurrent.FutureTask.run(FutureTask.java:262) [rt.jar:1.7.0_45]
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:471) [rt.jar:1.7.0_45]
	at java.util.concurrent.FutureTask.run(FutureTask.java:262) [rt.jar:1.7.0_45]
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1145) [rt.jar:1.7.0_45]
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:615) [rt.jar:1.7.0_45]
	at java.lang.Thread.run(Thread.java:744) [rt.jar:1.7.0_45]
Caused by: org.infinispan.commons.CacheException: Problems invoking command.
	at org.infinispan.remoting.transport.jgroups.CommandAwareRpcDispatcher.handle(CommandAwareRpcDispatcher.java:221)
	at org.jgroups.blocks.RequestCorrelator.handleRequest(RequestCorrelator.java:460)
	at org.jgroups.blocks.RequestCorrelator.receiveMessage(RequestCorrelator.java:377)
	at org.jgroups.blocks.RequestCorrelator.receive(RequestCorrelator.java:247)
	at org.jgroups.blocks.MessageDispatcher$ProtocolAdapter.up(MessageDispatcher.java:667)
	at org.jgroups.blocks.mux.MuxUpHandler.up(MuxUpHandler.java:130)
	at org.jgroups.JChannel.up(JChannel.java:708)
	at org.jgroups.stack.ProtocolStack.up(ProtocolStack.java:1015)
	at org.jgroups.protocols.RSVP.up(RSVP.java:171)
	at org.jgroups.protocols.FRAG2.up(FRAG2.java:165)
	at org.jgroups.protocols.FlowControl.up(FlowControl.java:381)
	at org.jgroups.protocols.FlowControl.up(FlowControl.java:370)
	at org.jgroups.protocols.pbcast.GMS.up(GMS.java:1010)
	at org.jgroups.protocols.pbcast.STABLE.up(STABLE.java:234)
	at org.jgroups.protocols.UNICAST3.handleDataReceived(UNICAST3.java:695)
	at org.jgroups.protocols.UNICAST3.up(UNICAST3.java:382)
	at org.jgroups.protocols.pbcast.NAKACK2.up(NAKACK2.java:600)
	at org.jgroups.protocols.VERIFY_SUSPECT.up(VERIFY_SUSPECT.java:147)
	at org.jgroups.protocols.FD_ALL.up(FD_ALL.java:185)
	at org.jgroups.protocols.FD_SOCK.up(FD_SOCK.java:301)
	at org.jgroups.protocols.MERGE3.up(MERGE3.java:303)
	at org.jgroups.protocols.Discovery.up(Discovery.java:379)
	at org.jgroups.protocols.TP$ProtocolAdapter.up(TP.java:2622)
	at org.jgroups.protocols.TP.passMessageUp(TP.java:1412)
	at org.jgroups.protocols.TP$MyHandler.run(TP.java:1598)
	... 3 more
Caused by: java.io.InvalidClassException: com.britensw.nyx.core.security.NyxPrincipal; Module load failed
	at org.jboss.marshalling.ModularClassResolver.resolveClass(ModularClassResolver.java:104) [jboss-marshalling-1.4.8.Final.jar:1.4.8.Final]
	at org.jboss.marshalling.river.RiverUnmarshaller.doReadClassDescriptor(RiverUnmarshaller.java:949)
	at org.jboss.marshalling.river.RiverUnmarshaller.doReadNewObject(RiverUnmarshaller.java:1256)
	at org.jboss.marshalling.river.RiverUnmarshaller.doReadObject(RiverUnmarshaller.java:276)
	at org.jboss.marshalling.river.RiverUnmarshaller.doReadObject(RiverUnmarshaller.java:224)
	at org.jboss.marshalling.river.RiverUnmarshaller.readFields(RiverUnmarshaller.java:1746)
	at org.jboss.marshalling.river.RiverUnmarshaller.doInitSerializable(RiverUnmarshaller.java:1659)
	at org.jboss.marshalling.river.RiverUnmarshaller.doReadNewObject(RiverUnmarshaller.java:1286)
	at org.jboss.marshalling.river.RiverUnmarshaller.doReadObject(RiverUnmarshaller.java:276)
	at org.jboss.marshalling.river.RiverUnmarshaller.doReadObject(RiverUnmarshaller.java:224)
	at org.jboss.marshalling.river.RiverUnmarshaller.readFields(RiverUnmarshaller.java:1746)
	at org.jboss.marshalling.river.RiverUnmarshaller.doInitSerializable(RiverUnmarshaller.java:1659)
	at org.jboss.marshalling.river.RiverUnmarshaller.doReadNewObject(RiverUnmarshaller.java:1286)
	at org.jboss.marshalling.river.RiverUnmarshaller.doReadObject(RiverUnmarshaller.java:276)
	at org.jboss.marshalling.river.RiverUnmarshaller.doReadObject(RiverUnmarshaller.java:209)
	at org.jboss.marshalling.AbstractObjectInput.readObject(AbstractObjectInput.java:41) [jboss-marshalling-1.4.8.Final.jar:1.4.8.Final]
	at org.wildfly.clustering.web.infinispan.sso.coarse.CoarseAuthenticationEntryExternalizer.readObject(CoarseAuthenticationEntryExternalizer.java:57)
	at org.wildfly.clustering.web.infinispan.sso.coarse.CoarseAuthenticationEntryExternalizer.readObject(CoarseAuthenticationEntryExternalizer.java:36)
	at org.infinispan.marshall.core.ExternalizerTable$ExternalizerAdapter.readObject(ExternalizerTable.java:389)
	at org.infinispan.marshall.core.ExternalizerTable.readObject(ExternalizerTable.java:205)
	at org.infinispan.marshall.core.JBossMarshaller$ExternalizerTableProxy.readObject(JBossMarshaller.java:152)
	at org.jboss.marshalling.river.RiverUnmarshaller.doReadObject(RiverUnmarshaller.java:355)
	at org.jboss.marshalling.river.RiverUnmarshaller.doReadObject(RiverUnmarshaller.java:209)
	at org.jboss.marshalling.AbstractObjectInput.readObject(AbstractObjectInput.java:41) [jboss-marshalling-1.4.8.Final.jar:1.4.8.Final]
	at org.infinispan.container.entries.ImmortalCacheEntry$Externalizer.readObject(ImmortalCacheEntry.java:152)
	at org.infinispan.container.entries.ImmortalCacheEntry$Externalizer.readObject(ImmortalCacheEntry.java:142)
	at org.infinispan.marshall.core.ExternalizerTable$ExternalizerAdapter.readObject(ExternalizerTable.java:389)
	at org.infinispan.marshall.core.ExternalizerTable.readObject(ExternalizerTable.java:205)
	at org.infinispan.marshall.core.JBossMarshaller$ExternalizerTableProxy.readObject(JBossMarshaller.java:152)
	at org.jboss.marshalling.river.RiverUnmarshaller.doReadObject(RiverUnmarshaller.java:355)
	at org.jboss.marshalling.river.RiverUnmarshaller.doReadObject(RiverUnmarshaller.java:209)
	at org.jboss.marshalling.AbstractObjectInput.readObject(AbstractObjectInput.java:41) [jboss-marshalling-1.4.8.Final.jar:1.4.8.Final]
	at org.infinispan.marshall.exts.ListExternalizer.readObject(ListExternalizer.java:62)
	at org.infinispan.marshall.exts.ListExternalizer.readObject(ListExternalizer.java:26)
	at org.infinispan.marshall.core.ExternalizerTable$ExternalizerAdapter.readObject(ExternalizerTable.java:389)
	at org.infinispan.marshall.core.ExternalizerTable.readObject(ExternalizerTable.java:205)
	at org.infinispan.marshall.core.JBossMarshaller$ExternalizerTableProxy.readObject(JBossMarshaller.java:152)
	at org.jboss.marshalling.river.RiverUnmarshaller.doReadObject(RiverUnmarshaller.java:355)
	at org.jboss.marshalling.river.RiverUnmarshaller.doReadObject(RiverUnmarshaller.java:209)
	at org.jboss.marshalling.AbstractObjectInput.readObject(AbstractObjectInput.java:41) [jboss-marshalling-1.4.8.Final.jar:1.4.8.Final]
	at org.infinispan.statetransfer.StateChunk$Externalizer.readObject(StateChunk.java:88)
	at org.infinispan.statetransfer.StateChunk$Externalizer.readObject(StateChunk.java:65)
	at org.infinispan.marshall.core.ExternalizerTable$ExternalizerAdapter.readObject(ExternalizerTable.java:389)
	at org.infinispan.marshall.core.ExternalizerTable.readObject(ExternalizerTable.java:205)
	at org.infinispan.marshall.core.JBossMarshaller$ExternalizerTableProxy.readObject(JBossMarshaller.java:152)
	at org.jboss.marshalling.river.RiverUnmarshaller.doReadObject(RiverUnmarshaller.java:355)
	at org.jboss.marshalling.river.RiverUnmarshaller.doReadObject(RiverUnmarshaller.java:209)
	at org.jboss.marshalling.AbstractObjectInput.readObject(AbstractObjectInput.java:41) [jboss-marshalling-1.4.8.Final.jar:1.4.8.Final]
	at org.infinispan.marshall.exts.ListExternalizer.readObject(ListExternalizer.java:62)
	at org.infinispan.marshall.exts.ListExternalizer.readObject(ListExternalizer.java:26)
	at org.infinispan.marshall.core.ExternalizerTable$ExternalizerAdapter.readObject(ExternalizerTable.java:389)
	at org.infinispan.marshall.core.ExternalizerTable.readObject(ExternalizerTable.java:205)
	at org.infinispan.marshall.core.JBossMarshaller$ExternalizerTableProxy.readObject(JBossMarshaller.java:152)
	at org.jboss.marshalling.river.RiverUnmarshaller.doReadObject(RiverUnmarshaller.java:355)
	at org.jboss.marshalling.river.RiverUnmarshaller.doReadObject(RiverUnmarshaller.java:209)
	at org.jboss.marshalling.AbstractObjectInput.readObject(AbstractObjectInput.java:41) [jboss-marshalling-1.4.8.Final.jar:1.4.8.Final]
	at org.infinispan.marshall.exts.ReplicableCommandExternalizer.readParameters(ReplicableCommandExternalizer.java:100)
	at org.infinispan.marshall.exts.CacheRpcCommandExternalizer.readObject(CacheRpcCommandExternalizer.java:146)
	at org.infinispan.marshall.exts.CacheRpcCommandExternalizer.readObject(CacheRpcCommandExternalizer.java:59)
	at org.infinispan.marshall.core.ExternalizerTable$ExternalizerAdapter.readObject(ExternalizerTable.java:389)
	at org.infinispan.marshall.core.ExternalizerTable.readObject(ExternalizerTable.java:205)
	at org.infinispan.marshall.core.JBossMarshaller$ExternalizerTableProxy.readObject(JBossMarshaller.java:152)
	at org.jboss.marshalling.river.RiverUnmarshaller.doReadObject(RiverUnmarshaller.java:355)
	at org.jboss.marshalling.river.RiverUnmarshaller.doReadObject(RiverUnmarshaller.java:209)
	at org.jboss.marshalling.AbstractObjectInput.readObject(AbstractObjectInput.java:41) [jboss-marshalling-1.4.8.Final.jar:1.4.8.Final]
	at org.infinispan.commons.marshall.jboss.AbstractJBossMarshaller.objectFromObjectStream(AbstractJBossMarshaller.java:136)
	at org.infinispan.marshall.core.VersionAwareMarshaller.objectFromByteBuffer(VersionAwareMarshaller.java:101)
	at org.infinispan.commons.marshall.AbstractDelegatingMarshaller.objectFromByteBuffer(AbstractDelegatingMarshaller.java:80)
	at org.infinispan.remoting.transport.jgroups.MarshallerAdapter.objectFromBuffer(MarshallerAdapter.java:28)
	at org.infinispan.remoting.transport.jgroups.CommandAwareRpcDispatcher.handle(CommandAwareRpcDispatcher.java:206)
	... 27 more
Caused by: org.jboss.modules.ModuleNotFoundException: deployment.nyx.war:main
	at org.jboss.modules.ModuleLoader.loadModule(ModuleLoader.java:240) [jboss-modules.jar:1.3.4.Final]
	at org.jboss.marshalling.ModularClassResolver.resolveClass(ModularClassResolver.java:102) [jboss-marshalling-1.4.8.Final.jar:1.4.8.Final]
	... 96 more
Caused by: an exception which occurred:
	in field principal
	in object of type org.wildfly.extension.undertow.security.AccountImpl
	in field account
	in object of type io.undertow.security.api.AuthenticatedSessionManager$AuthenticatedSession
14:56:49,679 INFO  [org.infinispan.remoting.transport.jgroups.JGroupsTransport] (Incoming-1,shared=udp) ISPN000094: Received new cluster view: [node4/ejb|3] (2) [node4/ejb, node3/ejb]
14:56:51,515 INFO  [org.infinispan.remoting.transport.jgroups.JGroupsTransport] (Incoming-15,shared=udp) ISPN000094: Received new cluster view: [node4/hibernate|3] (2) [node4/hibernate, node3/hibernate]
Apache configuration:
&amp;lt;&amp;lt;mod_cluster.conf&amp;gt;&amp;gt;
 LoadModule proxy_module modules/mod_proxy.so
 LoadModule proxy_http_module modules/mod_proxy_http.so
 LoadModule proxy_ajp_module modules/mod_proxy_ajp.so
 LoadModule slotmem_module       modules/mod_slotmem.so
 LoadModule manager_module       modules/mod_manager.so
 LoadModule proxy_cluster_module modules/mod_proxy_cluster.so
 LoadModule advertise_module     modules/mod_advertise.so
 MemManagerFile /var/cache/httpd
&amp;lt;&amp;lt;cluster.conf&amp;gt;&amp;gt;
Listen 10001
&amp;lt;VirtualHost *:10001&amp;gt;
 	ServerAdmin             root@example.com
    	ServerName              localhost
	&amp;lt;Directory /&amp;gt;
	        Require all granted
	&amp;lt;/Directory&amp;gt;
	&amp;lt;Location /mod_cluster_manager&amp;gt;
	        SetHandler mod_cluster-manager
	        Require all granted
	&amp;lt;/Location&amp;gt;
	AdvertiseFrequency 5
	KeepAliveTimeout 60
	MaxKeepAliveRequests 0
	AllowDisplay On
	ManagerBalancerName mycluster
	ServerAdvertise On
	EnableMCPMReceive
	ErrorLog                /var/log/httpd/error_log
	TransferLog             /var/log/httpd/access_log
&amp;lt;/VirtualHost&amp;gt;</description>
			<version>8.1.0.Final</version>
			<fixedVersion>9.0.0.Beta1</fixedVersion>
			<type>Bug</type>
		</buginformation>
		<fixedFiles>
			<file type="M">org.wildfly.clustering.ejb.infinispan.BeanGroupFactory.java</file>
			<file type="D">org.wildfly.clustering.web.infinispan.sso.Authenticator.java</file>
			<file type="M">org.wildfly.clustering.web.infinispan.session.fine.FineSessionFactory.java</file>
			<file type="M">org.wildfly.clustering.web.infinispan.sso.coarse.CoarseSessionsKeyExternalizer.java</file>
			<file type="M">org.wildfly.clustering.web.infinispan.session.coarse.CoarseSessionFactory.java</file>
			<file type="M">org.wildfly.clustering.ejb.infinispan.BeanFactory.java</file>
			<file type="M">org.wildfly.clustering.web.infinispan.sso.coarse.CoarseSSOEntry.java</file>
			<file type="M">org.wildfly.clustering.web.infinispan.sso.coarse.CoarseAuthenticationEntry.java</file>
			<file type="M">org.wildfly.clustering.ee.infinispan.Creator.java</file>
			<file type="M">org.wildfly.clustering.ejb.infinispan.InfinispanBeanManager.java</file>
			<file type="D">org.wildfly.clustering.web.infinispan.session.SessionAttributeMarshaller.java</file>
			<file type="M">org.wildfly.clustering.web.infinispan.sso.SSOFactory.java</file>
			<file type="M">org.wildfly.clustering.ejb.infinispan.bean.InfinispanBeanFactory.java</file>
			<file type="M">org.wildfly.clustering.web.infinispan.session.InfinispanSessionManager.java</file>
			<file type="M">org.wildfly.clustering.web.infinispan.sso.coarse.CoarseAuthenticationEntryExternalizer.java</file>
			<file type="M">org.wildfly.clustering.web.infinispan.sso.InfinispanSSOManagerFactoryConfiguration.java</file>
			<file type="M">org.wildfly.clustering.web.infinispan.sso.InfinispanSSOManagerFactoryBuilder.java</file>
			<file type="M">org.wildfly.clustering.ejb.infinispan.group.InfinispanBeanGroupFactory.java</file>
			<file type="M">org.wildfly.clustering.web.infinispan.session.SessionFactory.java</file>
			<file type="M">org.wildfly.clustering.web.infinispan.session.fine.FineImmutableSessionAttributes.java</file>
			<file type="M">org.wildfly.clustering.web.infinispan.session.InfinispanSessionManagerFactory.java</file>
			<file type="M">org.wildfly.clustering.web.infinispan.sso.coarse.CoarseSSOFactory.java</file>
			<file type="M">org.wildfly.clustering.web.infinispan.sso.InfinispanSSOManager.java</file>
			<file type="D">org.wildfly.clustering.web.infinispan.session.InvalidSerializedFormException.java</file>
			<file type="D">org.wildfly.clustering.web.sso.SSOManagerConfiguration.java</file>
			<file type="M">org.wildfly.clustering.web.infinispan.logging.InfinispanWebLogger.java</file>
			<file type="M">org.wildfly.clustering.web.infinispan.sso.InfinispanSSOManagerFactory.java</file>
			<file type="M">org.wildfly.clustering.web.infinispan.session.fine.FineSessionAttributes.java</file>
			<file type="D">org.wildfly.clustering.web.infinispan.session.MarshalledValueSessionAttributeMarshaller.java</file>
		</fixedFiles>
	</bug>
	<bug id="4273" opendate="2015-01-20 15:17:30" fixdate="2015-01-22 14:00:15" resolution="Done">
		<buginformation>
			<summary>EJBClient message "Unsupported message received with header 0xffffffff" generated when reconnecting to a non-clustered server</summary>
			<description>The EJBClient protocol handler on the server side, org.jboss.as.ejb3.remote.protocol.versionone.VersionOneProtocolChannelReceiver, will send out a full cluster topology report to a connecting EJBClient. This will happen in particular when the client reconnects after a server which was initially up went down and came up again.
If the server is not clustered, the report gets sent out anyway, and erroneously with an empty message body. This message gets processed on the client side by org.jboss.ejb.client.remoting.ChannelAssociation.processResponse() which cannot recognize the message header. The exception results.
One way to fix this is to only send out the cluster topology message if the node is actually clustered.
</description>
			<version>8.0.0.Final</version>
			<fixedVersion>9.0.0.Beta1</fixedVersion>
			<type>Bug</type>
		</buginformation>
		<fixedFiles>
			<file type="M">org.jboss.as.ejb3.remote.protocol.versionone.VersionOneProtocolChannelReceiver.java</file>
		</fixedFiles>
	</bug>
	<bug id="4263" opendate="2015-01-19 11:04:42" fixdate="2015-01-22 23:20:17" resolution="Done">
		<buginformation>
			<summary>IIOP Subsystem: Invalid logger category creation</summary>
			<description>Frank Langelage wrote:

Now with wildfly.iiop in place, I see DEBUG messages, although category "org.wildfly" is set to INFO. To get rid of the debug messages a category with name "package org.wildfly.iiop" needs to be defined.
I think the Logger creation
IIOPLogger ROOT_LOGGER = Logger.getMessageLogger(IIOPLogger.class, IIOPLogger.class.getPackage().toString());
in
iiop-openjdk/src/main/java/org/wildfly/iiop/openjdk/logging/IIOPLogger.java
should be changed, aligned with those in other subsystems.</description>
			<version>9.0.0.Alpha1</version>
			<fixedVersion></fixedVersion>
			<type>Bug</type>
		</buginformation>
		<fixedFiles>
			<file type="M">org.wildfly.iiop.openjdk.logging.IIOPLogger.java</file>
		</fixedFiles>
	</bug>
	<bug id="4205" opendate="2014-12-29 19:00:04" fixdate="2015-01-26 16:19:33" resolution="Done">
		<buginformation>
			<summary>Undertow not detecting @HandlesTypes If the implentation class is inside EAR/lib</summary>
			<description>Hi,
    I have spring mvc enabled web apps (20+ web apps) packaged as an EAR deployment. All my spring mvc related jar&amp;amp;apos;s are in  my EAR/lib, i&amp;amp;apos;m using SpringServletContainerInitializer (implementation of ServletContainerInitializer ) code as follows






@HandlesTypes(WebApplicationInitializer.class)




public class SpringServletContainerInitializer implements ServletContainerInitializer {









	@Override




	public void onStartup(Set&amp;lt;Class&amp;lt;?&amp;gt;&amp;gt; webAppInitializerClasses, ServletContext servletContext)




			throws ServletException {









		List&amp;lt;WebApplicationInitializer&amp;gt; initializers = new LinkedList&amp;lt;WebApplicationInitializer&amp;gt;();









		if (webAppInitializerClasses != null) {




			for (Class&amp;lt;?&amp;gt; waiClass : webAppInitializerClasses) {




				// Be defensive: Some servlet containers provide us with invalid classes,




				// no matter what @HandlesTypes says...




				if (!waiClass.isInterface() &amp;amp;&amp;amp; !Modifier.isAbstract(waiClass.getModifiers()) &amp;amp;&amp;amp;




						WebApplicationInitializer.class.isAssignableFrom(waiClass)) {




					try {




						initializers.add((WebApplicationInitializer) waiClass.newInstance());




					}




					catch (Throwable ex) {




						throw new ServletException("Failed to instantiate WebApplicationInitializer class", ex);




					}




				}




			}




		}









		if (initializers.isEmpty()) {




			servletContext.log("No Spring WebApplicationInitializer types detected on classpath");




			return;




		}









		AnnotationAwareOrderComparator.sort(initializers);




		servletContext.log("Spring WebApplicationInitializers detected on classpath: " + initializers);









		for (WebApplicationInitializer initializer : initializers) {




			initializer.onStartup(servletContext);




		}




	}









}











But the @HandlesTypes(WebApplicationInitializer.class) are not getting detected from the EAR/lib
Even i have tried adding the extracted the SPI from spring-web jar and added inside my war&amp;amp;apos;s WEB-INF/lib as a jar
 WEB-INF/lib/web-init-spi.jar which contains
META-INF/services/javax.servlet.ServletContainerIntializer file with org.springframework.web.SpringServletContainerInitializer as an entry. This time its detecting SpringServletContainerInitializer but not detecting what defined in @HandlesTypes
Its only working If i package all those spring mvc jars inside WEB-INF/lib then everything started working. 
I have no idea this is how the servlet specification works or its a wildfly issue but i see it as a problem for those who depends on Wildfly or similar EE Servers with an EAR deployment structure. 
</description>
			<version>8.2.0.Final</version>
			<fixedVersion>9.0.0.Beta1</fixedVersion>
			<type>Bug</type>
		</buginformation>
		<fixedFiles>
			<file type="M">org.wildfly.extension.undertow.deployment.ServletContainerInitializerDeploymentProcessor.java</file>
		</fixedFiles>
	</bug>
	<bug id="4250" opendate="2015-01-14 10:43:26" fixdate="2015-01-28 08:00:39" resolution="Done">
		<buginformation>
			<summary>Manually created CDI producer methods in the Extension are not injected</summary>
			<description>Issue description:
During migration from Wildfly 8.1 to 8.2 (Weld 2.1.2.Final -&amp;gt; 2.2.6.Final) in Infinispan we discovered a problem with injecting beans created programmatically in Infinispan-cdi integration module. The problem appeared in GreetingServiceIT and GreetingCacheManagerIT test. Both those tests use the following modules integrated into Wildfly:

org.infinispan.cdi (slot: ispn-7.1, which has dependency to "org.infinispan" slot="ispn-7.1" export="true")
org.infinispan.jcache (slot: ispn-7.1, which has dependency to "org.infinispan" slot="ispn-7.1" and "org.infinispan.cdi" slot="ispn-7.1" services="import")

Infinispan&amp;amp;apos;s CDI Extension invokes embeddedExtension.registerCacheBeans(event, beanManager), which registers custom Cache and AdvancedCache producer beans. Those beans are being successfully added to BeanManager but are never chosen for injection. All tests fail because of unsatisfied dependencies for Cache&amp;lt;CacheKey, String&amp;gt; with qualifiers @GreetingCache.
Steps to reproduce:

Download and unzip https://github.com/slaskawi/infinispan/archive/upgrade_to_wf_8_2_failed_test.zip
Run ./build.sh clean install -pl cdi,as-modules/embedded,integrationtests/as-integration-embedded -am -DskipTests
Modify Arquillian xml if breakpoint is needed ./integrationtests/as-integration-embedded/src/test/resources/arquillian.xml
Run test (using IDE or Maven: ./build.sh test -pl integrationtests/as-integration-embedded -Dtest=GreetingServiceIT)

Finding during debugging:
At first I would suggest creating conditional breakpoints:

org.jboss.weld.bootstrap.Validator line 370 (WF 8.2) or 366 (WF 8.1), condition "[BackedAnnotatedField] @Inject @GreetingCache private org.infinispan.test.integration.as.cdi.GreetingServiceIT.greetingCache".equals(ij.toString()) - this will stop debugger when validating injection points for {GreetingCache.
org.jboss.weld.resolution.TypeSafeResolver.ResolvableToBeanCollection line 51, condition from.toString().startsWith("Types: [org.infinispan.Cache&amp;lt;javax.cache.annotation.CacheKey, java.lang.String&amp;gt;]") || from.toString().contains("org.infinispan.Cache") - this stops debugger on loading Cache producer methods (created in Infinispan CDI Extension) to resolved Loading Cache in Wildfly 8.1.

During debugging session we discovered that the beans from Infinispan&amp;amp;apos;s CDI Extension are created but never used for injection. This is because beanManager.getBeans(ij) in Validator.java always return empty list. In Wildfly 8.1 beans are properly resolved using ResolvableToBeanCollection#load method, but for some reason it never happens in Wildfly 8.2, because those beans are already preset in resolved Loading Cache with empty collection value. Unfortunately we couldn&amp;amp;apos;t find answer why.
Workaround:
In order to fix CDI Producer Beans accessibility we need to add a new dependency to our test: META-INF/MANIFEST.MF: Dependencies: org.infinispan:ispn-7.1.</description>
			<version>8.2.0.Final</version>
			<fixedVersion>9.0.0.Beta1</fixedVersion>
			<type>Bug</type>
		</buginformation>
		<fixedFiles>
			<file type="M">org.jboss.as.weld.deployment.BeanDeploymentArchiveImpl.java</file>
		</fixedFiles>
		<links>
			<link type="Dependency" description="blocks">5148</link>
		</links>
	</bug>
	<bug id="3711" opendate="2014-08-05 14:50:16" fixdate="2015-01-29 16:47:16" resolution="Done">
		<buginformation>
			<summary>Topology updates of EJBClient ClusterContexts not being processed correctly after failover</summary>
			<description>ClusterContexts are used by EJBClient to keep track of the current set of nodes in a cluster, so that if an EJBClient invocation fails on one node, it may failover to another node in the same cluster. The ClusterContext is made up of ClusterNodeManagers which are responsible for setting up the connections between the EJBClient and the nodes in the cluster.
Cluster topology updates are sent to registered EJBClients whenever the cluster topology changes (nodes join, nodes leave a cluster). Thse topology updates are processed on the client side by ClusterTopologyUpdateHandler and are used to update the current contents of the associated ClusterContext held on the client.
The current implementation of the handling of topology updates does not correctly handle the addition/removal of ClusterNodeManagers from the cluster context - namely, rather than check whether or not a new ClusterNodeManager really needs to be added, ClusterNodeManagers are added for every node in the received topology update, leading to many unnecessary EJBReceivers and their channels being created.
The logs show that up to 18 cluster node manager instances may be created, have their EJBReceivers registered and channels to the remote node created, when only one node has been added to the cluster.
</description>
			<version>9.0.0.Alpha1</version>
			<fixedVersion>9.0.0.Alpha1</fixedVersion>
			<type>Bug</type>
		</buginformation>
		<fixedFiles>
			<file type="M">org.jboss.as.ejb3.remote.protocol.versionone.VersionOneProtocolChannelReceiver.java</file>
		</fixedFiles>
		<links>
			<link type="Dependency" description="is blocked by">110</link>
			<link type="Superset" description="incorporates">111</link>
		</links>
	</bug>
	<bug id="3384" opendate="2014-05-20 22:34:56" fixdate="2015-02-02 13:30:51" resolution="Done">
		<buginformation>
			<summary>Problem with ServiceBasedNamingStore and JNDIView.</summary>
			<description>Some of the registered services are bound to the JNDI using the BinderService and the dependency mechanism to run the binder as soon as the main service runs. At this point everything works like a harm; services are registered and started successfully. But there is a little inconsistency, at least from the JNDI point of view which leads to a specific problem.
Let&amp;amp;apos;s take a look at the following services:

jboss.clustering.group.ejb.dist@a59ab61 State: UP (Uses: BinderService =&amp;gt; JNDI: jboss.naming.context.java.jboss.clustering.group.ejb.dist)
jboss.clustering.group.ejb@60e172ee State: DOWN (Uses: BinderService =&amp;gt; JNDI: jboss.naming.context.java.jboss.clustering.group.ejb)
As you can see they share the same path in the naming context (jboss.naming.context.java.jboss.clustering.group.ejb.dist). The second service jboss.naming.context.java.jboss.clustering.group.ejb is a parent naming context to the first one: jboss.naming.context.java.jboss.clustering.group.ejb.dist. To make matters worse they do not depend on themselves, so when jboss.clustering.group.ejb.dist is requested to be started (for instance by jboss.clustering.providers.ejb.dist service) it starts immediately but jboss.clustering.group.ejb is left in the WAITING state (It&amp;amp;apos;s ON_DEMAND service.). It leads to a situation where only the jboss.clustering.group.ejb.dist service is registered in the naming context, but both services exist in the service registry.
Such naming conflict can be a problem when for example we have to traverse through the naming context using ServiceBasedNamingStore as a naming provider. (JNDIView is a good example here, but I also managed to reproduce the problem when I messed up something with the remoting configuration. I don&amp;amp;apos;t remember details now.) 
JNDIView uses Context.list("") method in order to get the first level from the naming context. So in case of the jboss.clustering.group.ejb.dist service the traverse path would be as follows:
context.list("") -&amp;gt; returns "clustering"
context.lookup( "clustering" ) returns NamingContext("clustering") because there is no service "jboss.clustering".
NamingContext("clustering").list("") -&amp;gt; returns "group"
NamingContext("clustering").lookup( "group" ) returns NamingContext("clustering/group") because there is no service "jboss.clustering.group".
NamingContext("clustering/group").list("") -&amp;gt; returns "ejb"
NamingContext("clustering/group").lookup("ejb") -&amp;gt; Fails!
It fails with an NameNotFoundException simply because the first thing the ServiceBasedNamingStore component does is to check if there is the jboss.naming.context.java.jboss.clustering.group.ejb service in the service registry. It is available in the registry so ServiceBasedNamingStore decides to get the destination service instance the BinderService (jboss.naming.context.java.jboss.clustering.group.ejb) should point to. Service jboss.clustering.group.ejb hasn&amp;amp;apos;t been started yet so its dependant the BinderService (jboss.naming.context.java.jboss.clustering.group.ejb.dist) couldn&amp;amp;apos;t resolve the injections and as so the BinderService does not point to the destination jboss.clustering.group.ejb service instance. In the result, it ends with the exception because ServiceBasedNamingStore is not able to return the reference to the service the JNDI name jboss.naming.context.java.jboss.clustering.group.ejb should point to. Notice that everything would be OK if there weren&amp;amp;apos;t running jboss.naming.context.java.jboss.clustering.group.ejb.dist service, because Context.list("") ignores the jboss.naming.context.java.jboss.clustering.group.ejb service as an unbound one.
Anyway even if the service jboss.naming.context.java.jboss.clustering.group.ejb was started properly and the naming context pointed to the jboss.clustering.group.ejb service, it would lead to a different problem. The name jboss.naming.context.java.jboss.clustering.group.ejb.dist wouldn&amp;amp;apos;t be found at all, because the jboss.naming.context.java.jboss.clustering.group.ejb name would be treated as the end of the path while traversing using the Context.list("") method.
It&amp;amp;apos;s probably a problem with the service naming convention, but anyway it is not an isolated case. There are a lot of services that follow the same naming rules but fortunately they are not registered in the naming context (yet?). For instance:

jboss.clustering.group.hibernate.entity
jboss.clustering.group.hibernate.timestamps
jboss.clustering.group.hibernate
Introducing something like a value aware NamingContext would also do the trick, but it&amp;amp;apos;s not natural for the JNDI. 
Anyway, it can be fixed in many ways, so for now I decided just to ignore such problematic services in the JNDIViewOperation just to avoid the exception.
If anyone needs a workaround:
Class: org.jboss.as.naming.management.JndiViewOperation
jar: wildflay-naming-8.0.0.Final.jar
Before (Line: 134):






org.jboss.as.naming.management.JndiViewOperation.java






final Object value;




if(context instanceof NamingContext) {




	value = ((NamingContext)context).lookup(pair.getName(), false);




} else {




	value = context.lookup(pair.getName());




}






After:






org.jboss.as.naming.management.JndiViewOperation.java






Object value;




try {




	if(context instanceof NamingContext) {




		value = ((NamingContext)context).lookup(pair.getName(), false);




	} else {




		value = context.lookup(pair.getName());




	}




} catch( NameNotFoundException exc ) {




	value = null;




}






It is the original exception:






23:44:29,133 ERROR [stderr] (XNIO-1 task-8) javax.naming.NameNotFoundException: Error looking up clustering/group/ejb, service service jboss.naming.context.java.jboss.clustering.group.ejb is not started




23:44:29,133 ERROR [stderr] (XNIO-1 task-8)     at org.jboss.as.naming.ServiceBasedNamingStore.lookup(ServiceBasedNamingStore.java:133)




23:44:29,133 ERROR [stderr] (XNIO-1 task-8)     at org.jboss.as.naming.ServiceBasedNamingStore.lookup(ServiceBasedNamingStore.java:81)




23:44:29,134 ERROR [stderr] (XNIO-1 task-8)     at org.jboss.as.naming.NamingContext.lookup(NamingContext.java:202)




23:44:29,134 ERROR [stderr] (XNIO-1 task-8)     at org.jboss.as.naming.NamingContext.lookup(NamingContext.java:188)




23:44:29,134 ERROR [stderr] (XNIO-1 task-8)     at org.jboss.as.naming.management.JndiViewOperation.addEntries(JndiViewOperation.java:136)




23:44:29,134 ERROR [stderr] (XNIO-1 task-8)     at org.jboss.as.naming.management.JndiViewOperation.addEntries(JndiViewOperation.java:144)




23:44:29,135 ERROR [stderr] (XNIO-1 task-8)     at org.jboss.as.naming.management.JndiViewOperation.addEntries(JndiViewOperation.java:144)




23:44:29,135 ERROR [stderr] (XNIO-1 task-8)     at org.jboss.as.naming.management.JndiViewOperation.access$0(JndiViewOperation.java:125)




23:44:29,135 ERROR [stderr] (XNIO-1 task-8)     at org.jboss.as.naming.management.JndiViewOperation$1.execute(JndiViewOperation.java:75)




23:44:29,135 ERROR [stderr] (XNIO-1 task-8)     at org.jboss.as.controller.AbstractOperationContext.executeStep(AbstractOperationContext.java:591)




23:44:29,136 ERROR [stderr] (XNIO-1 task-8)     at org.jboss.as.controller.AbstractOperationContext.doCompleteStep(AbstractOperationContext.java:469)




23:44:29,136 ERROR [stderr] (XNIO-1 task-8)     at org.jboss.as.controller.AbstractOperationContext.completeStepInternal(AbstractOperationContext.java:273)




23:44:29,142 ERROR [stderr] (XNIO-1 task-8)     at org.jboss.as.controller.AbstractOperationContext.executeOperation(AbstractOperationContext.java:268)




23:44:29,142 ERROR [stderr] (XNIO-1 task-8)     at org.jboss.as.controller.ModelControllerImpl.internalExecute(ModelControllerImpl.java:272)




23:44:29,143 ERROR [stderr] (XNIO-1 task-8)     at org.jboss.as.controller.ModelControllerImpl.execute(ModelControllerImpl.java:146)




23:44:29,145 ERROR [stderr] (XNIO-1 task-8)     at org.jboss.as.domain.http.server.DomainApiHandler.handleRequest(DomainApiHandler.java:169)




23:44:29,147 ERROR [stderr] (XNIO-1 task-8)     at org.jboss.as.domain.http.server.security.SubjectDoAsHandler$1.run(SubjectDoAsHandler.java:72)




23:44:29,150 ERROR [stderr] (XNIO-1 task-8)     at org.jboss.as.domain.http.server.security.SubjectDoAsHandler$1.run(SubjectDoAsHandler.java:68)




23:44:29,151 ERROR [stderr] (XNIO-1 task-8)     at java.security.AccessController.doPrivileged(Native Method)




23:44:29,151 ERROR [stderr] (XNIO-1 task-8)     at javax.security.auth.Subject.doAs(Subject.java:422)




23:44:29,151 ERROR [stderr] (XNIO-1 task-8)     at org.jboss.as.controller.AccessAuditContext.doAs(AccessAuditContext.java:94)




23:44:29,152 ERROR [stderr] (XNIO-1 task-8)     at org.jboss.as.domain.http.server.security.SubjectDoAsHandler.handleRequest(SubjectDoAsHandler.java:68)




23:44:29,152 ERROR [stderr] (XNIO-1 task-8)     at org.jboss.as.domain.http.server.security.SubjectDoAsHandler.handleRequest(SubjectDoAsHandler.java:63)




23:44:29,153 ERROR [stderr] (XNIO-1 task-8)     at io.undertow.server.handlers.BlockingHandler.handleRequest(BlockingHandler.java:50)




23:44:29,153 ERROR [stderr] (XNIO-1 task-8)     at org.jboss.as.domain.http.server.DomainApiCheckHandler.handleRequest(DomainApiCheckHandler.java:77)




23:44:29,154 ERROR [stderr] (XNIO-1 task-8)     at io.undertow.security.handlers.AuthenticationCallHandler.handleRequest(AuthenticationCallHandler.java:52)




23:44:29,154 ERROR [stderr] (XNIO-1 task-8)     at io.undertow.server.Connectors.executeRootHandler(Connectors.java:168)




23:44:29,156 ERROR [stderr] (XNIO-1 task-8)     at io.undertow.server.HttpServerExchange$1.run(HttpServerExchange.java:687)




23:44:29,157 ERROR [stderr] (XNIO-1 task-8)     at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)




...





</description>
			<version>8.0.0.Final</version>
			<fixedVersion>9.0.0.Beta1</fixedVersion>
			<type>Bug</type>
		</buginformation>
		<fixedFiles>
			<file type="M">org.wildfly.clustering.spi.LocalGroupBuilderProvider.java</file>
			<file type="M">org.jboss.as.clustering.infinispan.subsystem.CacheContainerAddHandler.java</file>
			<file type="M">org.jboss.as.clustering.infinispan.subsystem.InfinispanSubsystemAddHandler.java</file>
			<file type="M">org.wildfly.clustering.server.group.CacheGroupBuilderProvider.java</file>
		</fixedFiles>
		<links>
			<link type="Causality" description="causes">541</link>
		</links>
	</bug>
	<bug id="3512" opendate="2014-06-17 09:36:22" fixdate="2015-02-06 15:53:48" resolution="Done">
		<buginformation>
			<summary>Removing a data-source that is used by a deployment breaks the deployment</summary>
			<description>Use case: a Web app which depends on a data-source resource configured in the datasources subsystem (and not in the deployment)
I used the bmp quickstart and move the datasource-definition from the -ds.xml file to the standalone-full.xml configuration file.
1. Start the server 






11:31:38,279 INFO  [org.jboss.as.connector.subsystems.datasources] (MSC service thread 1-9) WFLYJCA0001: Bound data source [java:jboss/datasources/BMTQuickstartDS]






1. Deploy the web app






11:32:33,664 INFO  [org.jboss.as.server.deployment] (MSC service thread 1-16) WFLYSRV0027: Starting deployment of "wildfly-bmt.war" (runtime-name: "wildfly-bmt.war")




...




11:32:35,976 INFO  [org.wildfly.extension.undertow] (MSC service thread 1-4) WFLYUT0021: Registered web context: /wildfly-bmt




11:32:36,020 INFO  [org.jboss.as.server] (management-handler-thread - 1) WFLYSRV0010: Deployed "wildfly-bmt.war" (runtime-name : "wildfly-bmt.war")






2. check the web app works
3. Remove the data-source from the CLI






[standalone@localhost:9990 /] /subsystem=datasources/data-source=bmt-quickstart:remove




{




    "outcome" =&amp;gt; "failed",




    "failure-description" =&amp;gt; "WFLYCTL0171: Removing services has lead to unsatisfied dependencies:




Service jboss.naming.context.java.jboss.datasources.BMTQuickstartDS was depended upon by service jboss.persistenceunit.\"wildfly-bmt.war#primary\".__FIRST_PHASE__",




    "rolled-back" =&amp;gt; true




}






=&amp;gt; the operation failed.
but the web context has been unregistered by the server:
















11:33:33,345 INFO  [org.wildfly.extension.undertow] (MSC service thread 1-2) WFLYUT0022: Unregistered web context: /wildfly-bmt




11:33:33,354 INFO  [org.jboss.as.jpa] (ServerService Thread Pool -- 71) WFLYJPA0011: Stopping Persistence Unit (phase 2 of 2) Service &amp;amp;apos;wildfly-bmt.war#primary&amp;amp;apos;




11:33:33,355 INFO  [org.hibernate.tool.hbm2ddl.SchemaExport] (ServerService Thread Pool -- 71) HHH000227: Running hbm2ddl schema export




11:33:33,356 INFO  [stdout] (ServerService Thread Pool -- 71) Hibernate: drop table BMT_KVPair if exists




11:33:33,358 INFO  [org.hibernate.tool.hbm2ddl.SchemaExport] (ServerService Thread Pool -- 71) HHH000230: Schema export complete




11:33:33,360 INFO  [org.jboss.weld.deployer] (MSC service thread 1-5) WFLYWELD0010: Stopping weld service for deployment wildfly-bmt.war




11:33:33,378 INFO  [org.jboss.as.jpa] (ServerService Thread Pool -- 71) WFLYJPA0011: Stopping Persistence Unit (phase 1 of 2) Service &amp;amp;apos;wildfly-bmt.war#primary&amp;amp;apos;




11:33:33,379 INFO  [org.jboss.as.connector.subsystems.datasources] (MSC service thread 1-11) WFLYJCA0010: Unbound data source [java:jboss/datasources/BMTQuickstartDS]




11:33:33,383 INFO  [org.jboss.as.controller] (management-handler-thread - 1) WFLYCTL0183: Service status report




WFLYCTL0184:    New missing/unsatisfied dependencies:




      service jboss.naming.context.java.jboss.datasources.BMTQuickstartDS (missing) dependents: [service jboss.persistenceunit."wildfly-bmt.war#primary".__FIRST_PHASE__]






and the web app no longer works (it returns a 404 error).
At this point, the data-source resource is still present but its corresponding JNDI binding is not. If I try to redeploy the web app it fails:











11:35:48,736 INFO  [org.jboss.as.repository] (management-handler-thread - 1) WFLYDR0001: Content added at location /Users/jmesnil/Developer/wildfly/dist/target/wildfly-9.0.0.Alpha1-SNAPSHOT/standalone/data/content/ff/2df0dc4b7d9d1e04a88448deba520c2b714b8b/content




11:35:48,748 INFO  [org.jboss.as.server.deployment] (MSC service thread 1-4) WFLYSRV0028: Stopped deployment wildfly-bmt.war (runtime-name: wildfly-bmt.war) in 9ms




11:35:48,749 INFO  [org.jboss.as.server.deployment] (MSC service thread 1-5) WFLYSRV0027: Starting deployment of "wildfly-bmt.war" (runtime-name: "wildfly-bmt.war")




11:35:48,775 INFO  [org.jboss.as.jpa] (MSC service thread 1-6) WFLYJPA0002: Read persistence.xml for primary




11:35:48,786 INFO  [org.jboss.as.server.deployment] (MSC service thread 1-2) WFLYSRV0028: Stopped deployment wildfly-bmt.war (runtime-name: wildfly-bmt.war) in 36ms




11:35:48,787 INFO  [org.jboss.as.server.deployment] (MSC service thread 1-16) WFLYSRV0027: Starting deployment of "wildfly-bmt.war" (runtime-name: "wildfly-bmt.war")




11:35:48,815 INFO  [org.jboss.as.jpa] (MSC service thread 1-13) WFLYJPA0002: Read persistence.xml for primary




11:35:48,829 ERROR [org.jboss.as.controller.management-operation] (management-handler-thread - 1) WFLYCTL0013: Operation ("redeploy") failed - address: ([("deployment" =&amp;gt; "wildfly-bmt.war")]) - failure description: {"WFLYCTL0180: Services with missing/unavailable dependencies" =&amp;gt; ["jboss.persistenceunit.\"wildfly-bmt.war#primary\".__FIRST_PHASE__ is missing [jboss.naming.context.java.jboss.datasources.BMTQuickstartDS]"]}




11:35:48,830 ERROR [org.jboss.as.server] (management-handler-thread - 1) WFLYSRV0011: Redeploy of deployment "wildfly-bmt.war" was rolled back with the following failure message: {"WFLYCTL0180: Services with missing/unavailable dependencies" =&amp;gt; ["jboss.persistenceunit.\"wildfly-bmt.war#primary\".__FIRST_PHASE__ is missing [jboss.naming.context.java.jboss.datasources.BMTQuickstartDS]"]}




11:35:48,835 INFO  [org.jboss.as.server.deployment] (MSC service thread 1-11) WFLYSRV0028: Stopped deployment wildfly-bmt.war (runtime-name: wildfly-bmt.war) in 4ms




11:35:48,836 INFO  [org.jboss.as.controller] (management-handler-thread - 1) WFLYCTL0183: Service status report




WFLYCTL0184:    New missing/unsatisfied dependencies:




      service jboss.persistenceunit."wildfly-bmt.war#primary".__FIRST_PHASE__ (missing) dependents: [service jboss.deployment.unit."wildfly-bmt.war".POST_MODULE]









11:35:48,836 INFO  [org.jboss.as.repository] (management-handler-thread - 1) WFLYDR0002: Content removed from location /Users/jmesnil/Developer/wildfly/dist/target/wildfly-9.0.0.Alpha1-SNAPSHOT/standalone/data/content/ff/2df0dc4b7d9d1e04a88448deba520c2b714b8b/content





</description>
			<version>8.1.0.Final</version>
			<fixedVersion>9.0.0.Beta1</fixedVersion>
			<type>Bug</type>
		</buginformation>
		<fixedFiles>
			<file type="M">org.jboss.as.connector.subsystems.datasources.AbstractDataSourceRemove.java</file>
			<file type="M">org.jboss.as.connector.subsystems.datasources.DataSourceRemove.java</file>
			<file type="M">org.wildfly.extension.undertow.deployment.UndertowJSRWebSocketDeploymentProcessor.java</file>
			<file type="M">org.jboss.as.test.integration.ee.injection.support.websocket.WebSocketInjectionSupportTestCase.java</file>
			<file type="M">org.jboss.as.connector.subsystems.datasources.AbstractDataSourceAdd.java</file>
			<file type="M">org.jboss.as.connector.subsystems.datasources.XaDataSourceRemove.java</file>
			<file type="M">org.jboss.as.test.integration.web.websocket.WebSocketTestCase.java</file>
		</fixedFiles>
	</bug>
	<bug id="4323" opendate="2015-02-05 20:44:54" fixdate="2015-02-09 14:17:59" resolution="Done">
		<buginformation>
			<summary>Transaction metrics all zero</summary>
			<description>Hello, I have enabled the transactions metrics in standalone.xml on my Wildfly 8.2.0 as below but the transactions metrics are always zero, even though I have many projects deployed using transactions. Probably something trivial is missing, could some one tell me what is wrong? I&amp;amp;apos;m using the Spring Framework 4.1.2 and Hibernate as installed in the Wildfly modules.
I started this as a question on the forum but got no answer. Please note that the exact same configuration on the same server gives Transaction statistics with the same deployments on JBoss 7.1.1
  Thanks for any help, Tim Mickelson
    	&amp;lt;subsystem xmlns="urn:jboss:domain:transactions:2.0"&amp;gt;
        	&amp;lt;core-environment&amp;gt;
            	&amp;lt;process-id&amp;gt;
                	&amp;lt;uuid/&amp;gt;
            	&amp;lt;/process-id&amp;gt;
        	&amp;lt;/core-environment&amp;gt;
        	&amp;lt;recovery-environment socket-binding="txn-recovery-environment" status-socket-binding="txn-status-manager"/&amp;gt;
        	&amp;lt;coordinator-environment default-timeout="300" statistics-enabled="true"/&amp;gt;
    	&amp;lt;/subsystem&amp;gt;
The datasource is configured as (with jta true):
            	&amp;lt;datasource jta="true" jndi-name="java:/youconnect" pool-name="youconnect_Pool" enabled="true" use-java-context="true" use-ccm="true"&amp;gt;
                	&amp;lt;connection-url&amp;gt;jdbc:postgresql://127.0.0.1:5432/youconnect&amp;lt;/connection-url&amp;gt;
                	&amp;lt;driver-class&amp;gt;org.postgresql.Driver&amp;lt;/driver-class&amp;gt;
                	&amp;lt;driver&amp;gt;ps&amp;lt;/driver&amp;gt;
                	&amp;lt;pool&amp;gt;
                    	&amp;lt;min-pool-size&amp;gt;10&amp;lt;/min-pool-size&amp;gt;
                    	&amp;lt;max-pool-size&amp;gt;30&amp;lt;/max-pool-size&amp;gt;
                    	&amp;lt;prefill&amp;gt;true&amp;lt;/prefill&amp;gt;
                    	&amp;lt;flush-strategy&amp;gt;IdleConnections&amp;lt;/flush-strategy&amp;gt;
                	&amp;lt;/pool&amp;gt;
                	&amp;lt;security&amp;gt;
                    	&amp;lt;user-name&amp;gt;yyyy&amp;lt;/user-name&amp;gt;
                    	&amp;lt;password&amp;gt;xxxxx&amp;lt;/password&amp;gt;
                	&amp;lt;/security&amp;gt;
            	&amp;lt;/datasource&amp;gt;</description>
			<version>8.2.0.Final</version>
			<fixedVersion>9.0.0.Beta1</fixedVersion>
			<type>Bug</type>
		</buginformation>
		<fixedFiles>
			<file type="M">org.jboss.as.txn.subsystem.TransactionSubsystemAdd.java</file>
		</fixedFiles>
	</bug>
	<bug id="4310" opendate="2015-02-04 08:16:18" fixdate="2015-02-11 01:34:00" resolution="Done">
		<buginformation>
			<summary>Race condition registering resource adapters at startup</summary>
			<description>Upstream Jira of https://bugzilla.redhat.com/show_bug.cgi?id=1184610
Please see bugzilla description for details and reproducer






Description of problem:




During startup of JBoss, the following occurs randomly (not on every start):









java.lang.IllegalStateException: JBAS014666: Duplicate resource resource-adapters














Version-Release number of selected component (if applicable):




jboss-as-connector-7.4.2.Final-redhat-2.jar:














How reproducible:




Random - it&amp;amp;apos;s a race condition but adding Byteman which slows execution (due to synchronous logging) of the code in which the race takes place seems to increase the frequency at which the failure occurs.














Steps to Reproduce:




1. Copy a resource adapter archive to standalone/deployments




2. Configure the standalone.xml with two adapter configs specified (single RAR)




3. Start JBoss (a few restarts may be required as it doesn&amp;amp;apos;t always happen)














Actual results:




The server.log shows the exception below (and I suspect at least one of the adapter configs is not deployed - though I didn&amp;amp;apos;t confirm the latter).









12:40:44,463 ERROR [org.jboss.msc.service] (MSC service thread 1-12) MSC000002: Invocation of listener "org.jboss.as.connector.util.RaServicesFactory$1@5fc7026f" failed: java.lang.IllegalStateException: JBAS014666: Duplicate




resource resource-adapters




        at org.jboss.as.controller.registry.AbstractModelResource$DefaultResourceProvider.register(AbstractModelResource.java:225) [jboss-as-controller-7.4.2.Final-redhat-2.jar:7.4.2.Final-redhat-2]




        at org.jboss.as.controller.registry.AbstractModelResource.registerChild(AbstractModelResource.java:135) [jboss-as-controller-7.4.2.Final-redhat-2.jar:7.4.2.Final-redhat-2]




        at org.jboss.as.connector.deployers.ra.processors.AbstractResourceAdapterDeploymentServiceListener.transition(AbstractResourceAdapterDeploymentServiceListener.java:122) [jboss-as-connector-7.4.2.Final-redhat-2.jar:7.4




.2.Final-redhat-2]




        at org.jboss.msc.service.ServiceControllerImpl.invokeListener(ServiceControllerImpl.java:1565) [jboss-msc-1.1.5.Final-redhat-1.jar:1.1.5.Final-redhat-1]




        at org.jboss.msc.service.ServiceControllerImpl.access$2800(ServiceControllerImpl.java:52) [jboss-msc-1.1.5.Final-redhat-1.jar:1.1.5.Final-redhat-1]




        at org.jboss.msc.service.ServiceControllerImpl$ListenerTask.run(ServiceControllerImpl.java:2131) [jboss-msc-1.1.5.Final-redhat-1.jar:1.1.5.Final-redhat-1]




        at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1145) [rt.jar:1.7.0_71]




        at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:615) [rt.jar:1.7.0_71]




        at java.lang.Thread.run(Thread.java:745) [rt.jar:1.7.0_71]














Expected results:




No exception should be raised














Additional info:














Document URL: 









Section Number and Name: 









Describe the issue: 




It appears that where there are multiple adapter configurations, registering of the adapters is done on different threads and sometimes two threads check to see if the resource-adapters "subsystem" (I think that is what is being created) exists ... it is possible for two threads to be told it doesn&amp;amp;apos;t exist - in which case both threads will try to create it.









I think the code at issue is found in lines 120 and 122 of ./connector/src/main/java/org/jboss/as/connector/deployers/ra/processors/AbstractResourceAdapterDeploymentServiceListener.java









At line 120, we check if the path exists ... and if it does not try to create it at line 122 ... but it possible that between the two lines one thread is executing, another thread may do the same - one will "win the race" and the other will fail with the exception.









I did note that the entire block is wrapped in a synchronization block - synchronized on &amp;amp;apos;this&amp;amp;apos; - so there must be multiple instances of the AbstractResourceAdapterDeploymentServiceListener class since the logging shows interleaved execution of the check and register calls across multiple threads.














Suggestions for improvement: 









Additional information:




Attached an archive containing a simple adapter (generated using the Ironjacamar generation tool), an excerpt of the standalone.xml configuration used as well as an excerpt of the log file and a byteman script used to produce the stack traces in the log excerpt.





</description>
			<version>9.0.0.Alpha1</version>
			<fixedVersion>9.0.0.Beta1</fixedVersion>
			<type>Bug</type>
		</buginformation>
		<fixedFiles>
			<file type="M">org.jboss.as.connector.deployers.ra.processors.AbstractResourceAdapterDeploymentServiceListener.java</file>
		</fixedFiles>
	</bug>
	<bug id="2081" opendate="2013-09-16 13:24:11" fixdate="2015-02-11 23:14:00" resolution="Done">
		<buginformation>
			<summary>IronJacamarResourceCreator Throws ConcurrentModificationException</summary>
			<description>Recent wildfly-8.0.0.Beta1-SNAPSHOT (IronJacamar 1.1.0.Final) throws following error intermittently when there are multiple RARs in an EAR:
13:12:34,710 ERROR [org.jboss.msc.service] (MSC service thread 1-10) MSC000002: Invocation of listener "org.jboss.as.connector.deployers.ra.processors.ParsedRaDeploymentProcessor$1@e7b3aee" failed: java.util.ConcurrentModificationException
at java.util.HashMap$HashIterator.nextEntry(HashMap.java:894) [rt.jar:1.7.0_25]
at java.util.HashMap$KeyIterator.next(HashMap.java:928) [rt.jar:1.7.0_25]
at org.jboss.as.connector.subsystems.resourceadapters.IronJacamarResourceCreator.getIronJacamarResource(IronJacamarResourceCreator.java:335) [wildfly-connector-8.0.0.Beta1-SNAPSHOT.jar:8.0.0.Beta1-SNAPSHOT]
at org.jboss.as.connector.subsystems.resourceadapters.IronJacamarResourceCreator.execute(IronJacamarResourceCreator.java:350) [wildfly-connector-8.0.0.Beta1-SNAPSHOT.jar:8.0.0.Beta1-SNAPSHOT]
at org.jboss.as.connector.deployers.ra.processors.ParsedRaDeploymentProcessor$1.registerIronjacamar(ParsedRaDeploymentProcessor.java:145) [wildfly-connector-8.0.0.Beta1-SNAPSHOT.jar:8.0.0.Beta1-SNAPSHOT]
at org.jboss.as.connector.deployers.ra.processors.AbstractResourceAdapterDeploymentServiceListener.transition(AbstractResourceAdapterDeploymentServiceListener.java:244) [wildfly-connector-8.0.0.Beta1-SNAPSHOT.jar:8.0.0.Beta1-SNAPSHOT]
at org.jboss.msc.service.ServiceControllerImpl.invokeListener(ServiceControllerImpl.java:1533) [jboss-msc-1.2.0.Beta2.jar:1.2.0.Beta2]
at org.jboss.msc.service.ServiceControllerImpl.access$2800(ServiceControllerImpl.java:51) [jboss-msc-1.2.0.Beta2.jar:1.2.0.Beta2]
at org.jboss.msc.service.ServiceControllerImpl$ListenerTask.run(ServiceControllerImpl.java:2095) [jboss-msc-1.2.0.Beta2.jar:1.2.0.Beta2]
at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1145) [rt.jar:1.7.0_25]
at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:615) [rt.jar:1.7.0_25]
at java.lang.Thread.run(Thread.java:724) [rt.jar:1.7.0_25]
Older versions had a similar problem as detailed in JBJCA-933 (which also shows interleaving example with 3 RARs).</description>
			<version>8.0.0.Alpha4</version>
			<fixedVersion>9.0.0.Beta1</fixedVersion>
			<type>Bug</type>
		</buginformation>
		<fixedFiles>
			<file type="M">org.jboss.as.connector.services.mdr.AS7MetadataRepositoryImpl.java</file>
		</fixedFiles>
	</bug>
	<bug id="4341" opendate="2015-02-12 17:46:46" fixdate="2015-02-17 02:24:31" resolution="Done">
		<buginformation>
			<summary>CVE-2014-7853 JacORB Subsystem: Information disclosure via incorrect sensitivity classification of attribute</summary>
			<description>It was discovered that the JacORB subsystem incorrectly assigned socket-binding-ref sensitivity classification for the security-domain attribute. An authenticated user with a role that has access to attributes with socket-binding-ref and not security-domain-ref sensitivity classification could use this flaw to access sensitive information present in the security-domain attribute.</description>
			<version>8.0.0.Final</version>
			<fixedVersion>9.0.0.Beta1</fixedVersion>
			<type>Bug</type>
		</buginformation>
		<fixedFiles>
			<file type="M">org.jboss.as.jacorb.JacORBSubsystemDefinitions.java</file>
			<file type="M">org.wildfly.iiop.openjdk.SecurityDefinition.java</file>
		</fixedFiles>
		<links>
			<link type="Cloners" description="cloned to">4944</link>
		</links>
	</bug>
	<bug id="4347" opendate="2015-02-13 16:47:08" fixdate="2015-02-22 16:06:08" resolution="Done">
		<buginformation>
			<summary>NullPointerException in WebServerService.getListenerMap</summary>
			<description>While deploying a SLSB annotated with WebService causes NullPointerException in WebServerService.getListenerMap






org.jboss.msc.service.StartException in service jboss.deployment.subunit."myTest.ear"."myTest.jar".INSTALL: JBAS018733: Failed to process phase INSTALL of subdeployment "myTest.jar" of deployment "myTest.ear"




at org.jboss.as.server.deployment.DeploymentUnitPhaseService.start(DeploymentUnitPhaseService.java:166)




at org.jboss.msc.service.ServiceControllerImpl$StartTask.startService(ServiceControllerImpl.java:1948)




at org.jboss.msc.service.ServiceControllerImpl$StartTask.run(ServiceControllerImpl.java:1881)




at java.util.concurrent.ThreadPoolExecutor.runWorker(Unknown Source)




at java.util.concurrent.ThreadPoolExecutor$Worker.run(Unknown Source)




at java.lang.Thread.run(Unknown Source)




Caused by: java.lang.NullPointerException




at java.util.LinkedList$ListItr.next(Unknown Source)




at org.wildfly.extension.undertow.WebServerService.getListenerMap(WebServerService.java:73)




at org.wildfly.extension.undertow.WebServerService.getPort(WebServerService.java:49)




at org.jboss.as.webservices.config.WebServerInfoImpl.getPort(WebServerInfoImpl.java:36)




at org.jboss.ws.common.management.AbstractServerConfig.getConnectorPort(AbstractServerConfig.java:207)




at org.jboss.ws.common.management.AbstractServerConfig.getWebServicePort(AbstractServerConfig.java:170)




at org.jboss.ws.common.deployment.EndpointAddressDeploymentAspect$PortValue.getPortValue(EndpointAddressDeploymentAspect.java:198)




at org.jboss.ws.common.deployment.EndpointAddressDeploymentAspect$PortValue.getValue(EndpointAddressDeploymentAspect.java:191)




at org.jboss.ws.common.deployment.EndpointAddressDeploymentAspect.start(EndpointAddressDeploymentAspect.java:77)




at org.jboss.as.webservices.deployers.AspectDeploymentProcessor.deploy(AspectDeploymentProcessor.java:75)




at org.jboss.as.server.deployment.DeploymentUnitPhaseService.start(DeploymentUnitPhaseService.java:159)






Upon looking into the source code, I found that the the collection used to hold registered listeners in org.wildfly.extension.undertow.Server class is LinkedList. 
What I understand from the code is that this list is getting accessed by two threads at some moment of time and causes the NullPointerException
plz. refer http://stackoverflow.com/questions/18055024/nullpointer-exception-in-linkedlist-while-using-for-each-loop.
I think one should use ConcurrentHashSet to avoid such situations.</description>
			<version>8.1.0.Final</version>
			<fixedVersion>9.0.0.Beta1</fixedVersion>
			<type>Bug</type>
		</buginformation>
		<fixedFiles>
			<file type="M">org.wildfly.extension.undertow.Server.java</file>
		</fixedFiles>
	</bug>
	<bug id="4285" opendate="2015-01-23 10:16:31" fixdate="2015-02-25 16:37:43" resolution="Done">
		<buginformation>
			<summary>NullPointerException in InfinispanBatcher.createBatch</summary>
			<description>When changing transaction mode to "NONE" for the cache containter "web" in standalone-ha.xml, starting the standalone server in the HA mode and deploying the "clusterbench" application (see the attachments), a NullPointerException occurs.
Clusterbench git repo:
https://github.com/clusterbench/clusterbench
Stacktrace:






11:13:17,546 INFO  [org.jboss.as.clustering.infinispan] (ServerService Thread Pool -- 63) WFLYCLINF0002: Started clusterbench-ee7.ear.clusterbench-ee7-web-passivating.war cache from web container




11:13:17,546 INFO  [org.jboss.as.clustering.infinispan] (ServerService Thread Pool -- 65) WFLYCLINF0002: Started clusterbench-ee7.ear.clusterbench-ee7-web-default.war cache from web container




11:13:17,546 INFO  [org.jboss.as.clustering.infinispan] (ServerService Thread Pool -- 66) WFLYCLINF0002: Started dist cache from ejb container




11:13:17,546 INFO  [org.jboss.as.clustering.infinispan] (ServerService Thread Pool -- 64) WFLYCLINF0002: Started dist cache from web container




11:13:17,554 ERROR [org.jboss.msc.service.fail] (ServerService Thread Pool -- 66) MSC000001: Failed to start service jboss.clustering.registry.web.default: org.jboss.msc.service.StartException in service jboss.clustering.registry.web.default: java.lang.NullPointerException




        at org.wildfly.clustering.service.AsynchronousServiceBuilder$1.run(AsynchronousServiceBuilder.java:107)




        at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1145)




        at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:615)




        at java.lang.Thread.run(Thread.java:745)




        at org.jboss.threads.JBossThread.run(JBossThread.java:320)




Caused by: java.lang.NullPointerException




        at org.wildfly.clustering.ee.infinispan.InfinispanBatcher.createBatch(InfinispanBatcher.java:64)




        at org.wildfly.clustering.ee.infinispan.InfinispanBatcher.createBatch(InfinispanBatcher.java:41)




        at org.wildfly.clustering.server.registry.CacheRegistry.getLocalEntry(CacheRegistry.java:128)




        at org.wildfly.clustering.server.registry.CacheRegistry.&amp;lt;init&amp;gt;(CacheRegistry.java:76)




        at org.wildfly.clustering.server.registry.CacheRegistryFactory$1.&amp;lt;init&amp;gt;(CacheRegistryFactory.java:53)




        at org.wildfly.clustering.server.registry.CacheRegistryFactory.createRegistry(CacheRegistryFactory.java:53)




        at org.wildfly.clustering.server.registry.RegistryBuilder.start(RegistryBuilder.java:83)




        at org.wildfly.clustering.service.AsynchronousServiceBuilder$1.run(AsynchronousServiceBuilder.java:102)




        ... 4 more









11:13:17,586 INFO  [org.infinispan.configuration.cache.EvictionConfigurationBuilder] (ServerService Thread Pool -- 65) ISPN000152: Passivation configured without an eviction policy being selected. Only manually evicted entities will be passivated.




11:13:17,587 INFO  [org.infinispan.configuration.cache.EvictionConfigurationBuilder] (ServerService Thread Pool -- 65) ISPN000152: Passivation configured without an eviction policy being selected. Only manually evicted entities will be passivated.




11:13:17,601 INFO  [org.jboss.as.clustering.infinispan] (ServerService Thread Pool -- 65) WFLYCLINF0002: Started clusterbench-ee7.ear/clusterbench-ee7-ejb.jar cache from ejb container




11:13:18,102 ERROR [org.jboss.as.controller.management-operation] (Controller Boot Thread) WFLYCTL0013: Operation ("add") failed - address: ([




    ("subsystem" =&amp;gt; "infinispan"),




    ("cache-container" =&amp;gt; "web")




]) - failure description: {"WFLYCTL0080: Failed services" =&amp;gt; {"jboss.clustering.registry.web.default" =&amp;gt; "org.jboss.msc.service.StartException in service jboss.clustering.registry.web.default: java.lang.NullPointerException




    Caused by: java.lang.NullPointerException"}}




11:13:18,125 INFO  [org.jboss.as.server] (ServerService Thread Pool -- 36) WFLYSRV0010: Deployed "clusterbench-ee7.ear" (runtime-name : "clusterbench-ee7.ear")




11:13:18,125 INFO  [org.jboss.as.server] (ServerService Thread Pool -- 36) WFLYSRV0010: Deployed "sample.war" (runtime-name : "sample.war")




11:13:18,126 INFO  [org.jboss.as.controller] (Controller Boot Thread) WFLYCTL0183: Service status report




WFLYCTL0186:   Services which failed to start:      service jboss.clustering.registry.web.default: org.jboss.msc.service.StartException in service jboss.clustering.registry.web.default: java.lang.NullPointerException









11:13:18,146 INFO  [org.jboss.as] (Controller Boot Thread) WFLYSRV0060: Http management interface listening on http://127.0.0.1:9990/management




11:13:18,147 INFO  [org.jboss.as] (Controller Boot Thread) WFLYSRV0051: Admin console listening on http://127.0.0.1:9990




11:13:18,147 ERROR [org.jboss.as] (Controller Boot Thread) WFLYSRV0026: WildFly Full 9.0.0.Alpha2-SNAPSHOT (WildFly Core 1.0.0.Alpha15) started (with errors) in 6312ms - Started 769 of 960 services (12 services failed or missing dependencies, 333 services are lazy, passive or on-demand)











</description>
			<version>9.0.0.Alpha1</version>
			<fixedVersion></fixedVersion>
			<type>Bug</type>
		</buginformation>
		<fixedFiles>
			<file type="M">org.wildfly.clustering.ee.infinispan.InfinispanBatcher.java</file>
		</fixedFiles>
	</bug>
	<bug id="4354" opendate="2015-02-16 15:27:53" fixdate="2015-03-02 13:01:03" resolution="Done">
		<buginformation>
			<summary>EJBs can&amp;apos;t inherit a JDK8 default method</summary>
			<description>If an EJB bean inherits a default method from an interface and doesn&amp;amp;apos;t override it, attempt to call this method fails with:






org.jboss.invocation.CannotProceedException: INV000002: Invocation cannot proceed (end of interceptor chain has been hit)





</description>
			<version>9.0.0.Alpha1</version>
			<fixedVersion>9.0.0.Alpha1</fixedVersion>
			<type>Bug</type>
		</buginformation>
		<fixedFiles>
			<file type="M">org.jboss.as.ee.component.ViewDescription.java</file>
		</fixedFiles>
	</bug>
	<bug id="4388" opendate="2015-02-26 07:44:36" fixdate="2015-03-06 09:32:51" resolution="Done">
		<buginformation>
			<summary>Weld starts also for deployments with "bean-discovery-mode=none".</summary>
			<description>This seems to me at least unneccessary.</description>
			<version>8.2.0.Final</version>
			<fixedVersion>9.0.0.Beta1</fixedVersion>
			<type>Bug</type>
		</buginformation>
		<fixedFiles>
			<file type="M">org.jboss.as.weld.deployment.processors.BeansXmlProcessor.java</file>
			<file type="M">org.jboss.as.weld.deployment.processors.WeldImplicitDeploymentProcessor.java</file>
		</fixedFiles>
		<links>
			<link type="Related" description="is related to">1879</link>
		</links>
	</bug>
	<bug id="3657" opendate="2014-07-22 20:23:26" fixdate="2015-03-06 09:38:06" resolution="Done">
		<buginformation>
			<summary>Injection not working on JAXWS handlers specified with @HandlerChain on service endpoint interfaces</summary>
			<description>According to the JavaEE spec JAXWS-handlers should support injection (@Inject, @EJB), @PostConstruct and @PreDestroy.
In my test case (top-down approach, handler class is defined within *_handler.xml) @PostCunstruct works, but managed beans (CDI, EJB) are not injected via @Inject or @EJB. 
Possible workaround for EJBs: manual JNDI-lookup within @PostConstruct method. For CDI-managed beans you have to lookup the BeanManager and load the desired bean yourself.
It seems, that this issue should have been addressed by WFLY-2362. But it is still does not work.</description>
			<version>8.1.0.Final</version>
			<fixedVersion>9.0.0.Beta1</fixedVersion>
			<type>Bug</type>
		</buginformation>
		<fixedFiles>
			<file type="M">org.jboss.as.webservices.injection.WSHandlerChainAnnotationProcessor.java</file>
			<file type="M">org.jboss.as.webservices.util.ASHelper.java</file>
		</fixedFiles>
	</bug>
	<bug id="4331" opendate="2015-02-09 19:06:44" fixdate="2015-03-09 05:15:46" resolution="Done">
		<buginformation>
			<summary>EJB Asynchronous pass POJO by reference leading to ClassCastException errors in remote invocations</summary>
			<description>When invoking EJB asynchronous in different deployments and returning a POJO object, which will be retrieved using future.get, we have ClassCastException error.






12:53:50,147 ERROR [io.undertow.request] (default task-2) UT005023: Exception handling request to /testejb-web/async: java.lang.ClassCastException: rh.test.ReturnObject cannot be cast to rh.test.ReturnObject




	at rh.test.AsyncServlet.doGet(AsyncServlet.java:29) [classes:]




	at javax.servlet.http.HttpServlet.service(HttpServlet.java:687) [jboss-servlet-api_3.1_spec-1.0.0.Final.jar:1.0.0.Final]




	at javax.servlet.http.HttpServlet.service(HttpServlet.java:790) [jboss-servlet-api_3.1_spec-1.0.0.Final.jar:1.0.0.Final]




	at io.undertow.servlet.handlers.ServletHandler.handleRequest(ServletHandler.java:85) [undertow-servlet-1.1.0.Beta7.jar:1.1.0.Beta7]




	at io.undertow.servlet.handlers.security.ServletSecurityRoleHandler.handleRequest(ServletSecurityRoleHandler.java:61) [undertow-servlet-1.1.0.Beta7.jar:1.1.0.Beta7]




	at io.undertow.servlet.handlers.ServletDispatchingHandler.handleRequest(ServletDispatchingHandler.java:36) [undertow-servlet-1.1.0.Beta7.jar:1.1.0.Beta7]




	at org.wildfly.extension.undertow.security.SecurityContextAssociationHandler.handleRequest(SecurityContextAssociationHandler.java:78)




	at io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43) [undertow-core-1.1.0.Beta7.jar:1.1.0.Beta7]




	at io.undertow.servlet.handlers.security.SSLInformationAssociationHandler.handleRequest(SSLInformationAssociationHandler.java:131) [undertow-servlet-1.1.0.Beta7.jar:1.1.0.Beta7]




	at io.undertow.servlet.handlers.security.ServletAuthenticationCallHandler.handleRequest(ServletAuthenticationCallHandler.java:56) [undertow-servlet-1.1.0.Beta7.jar:1.1.0.Beta7]




	at io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43) [undertow-core-1.1.0.Beta7.jar:1.1.0.Beta7]




	at io.undertow.security.handlers.AbstractConfidentialityHandler.handleRequest(AbstractConfidentialityHandler.java:45) [undertow-core-1.1.0.Beta7.jar:1.1.0.Beta7]




	at io.undertow.servlet.handlers.security.ServletConfidentialityConstraintHandler.handleRequest(ServletConfidentialityConstraintHandler.java:61) [undertow-servlet-1.1.0.Beta7.jar:1.1.0.Beta7]




	at io.undertow.security.handlers.AuthenticationMechanismsHandler.handleRequest(AuthenticationMechanismsHandler.java:58) [undertow-core-1.1.0.Beta7.jar:1.1.0.Beta7]




	at io.undertow.servlet.handlers.security.CachedAuthenticatedSessionHandler.handleRequest(CachedAuthenticatedSessionHandler.java:70) [undertow-servlet-1.1.0.Beta7.jar:1.1.0.Beta7]




	at io.undertow.security.handlers.SecurityInitialHandler.handleRequest(SecurityInitialHandler.java:76) [undertow-core-1.1.0.Beta7.jar:1.1.0.Beta7]




	at io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43) [undertow-core-1.1.0.Beta7.jar:1.1.0.Beta7]




	at org.wildfly.extension.undertow.security.jacc.JACCContextIdHandler.handleRequest(JACCContextIdHandler.java:61)




	at io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43) [undertow-core-1.1.0.Beta7.jar:1.1.0.Beta7]




	at io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43) [undertow-core-1.1.0.Beta7.jar:1.1.0.Beta7]




	at io.undertow.servlet.handlers.ServletInitialHandler.handleFirstRequest(ServletInitialHandler.java:259) [undertow-servlet-1.1.0.Beta7.jar:1.1.0.Beta7]




	at io.undertow.servlet.handlers.ServletInitialHandler.dispatchRequest(ServletInitialHandler.java:246) [undertow-servlet-1.1.0.Beta7.jar:1.1.0.Beta7]




	at io.undertow.servlet.handlers.ServletInitialHandler.access$000(ServletInitialHandler.java:75) [undertow-servlet-1.1.0.Beta7.jar:1.1.0.Beta7]




	at io.undertow.servlet.handlers.ServletInitialHandler$1.handleRequest(ServletInitialHandler.java:165) [undertow-servlet-1.1.0.Beta7.jar:1.1.0.Beta7]




	at io.undertow.server.Connectors.executeRootHandler(Connectors.java:197) [undertow-core-1.1.0.Beta7.jar:1.1.0.Beta7]




	at io.undertow.server.HttpServerExchange$1.run(HttpServerExchange.java:737) [undertow-core-1.1.0.Beta7.jar:1.1.0.Beta7]




	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1145) [rt.jar:1.7.0_51]




	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:615) [rt.jar:1.7.0_51]




	at java.lang.Thread.run(Thread.java:744) [rt.jar:1.7.0_51]





</description>
			<version>9.0.0.Alpha1</version>
			<fixedVersion>9.0.0.Beta1</fixedVersion>
			<type>Bug</type>
		</buginformation>
		<fixedFiles>
			<file type="M">org.jboss.as.ejb3.remote.LocalEjbReceiver.java</file>
		</fixedFiles>
	</bug>
	<bug id="4409" opendate="2015-03-06 08:49:43" fixdate="2015-03-10 01:51:35" resolution="Done">
		<buginformation>
			<summary>java.lang.ArrayStoreException: sun.reflect.annotation.TypeNotPresentExceptionProxy. It&amp;apos;s not clear what&amp;apos;s the reason of the problem from the log</summary>
			<description>In the log during the application server startup we see in the log file:






[0m[31m15:10:25,997 ERROR [org.jboss.msc.service.fail] (MSC service thread 1-1) MSC000001: Failed to start service jboss.deployment.subunit."mms.ear"."webservices.jar".POST_MODULE: org.jboss.msc.service.StartException in service jboss.deployment.subunit."mms.ear"."webservices.jar".POST_MODULE: JBAS018733: Failed to process phase POST_MODULE of subdeployment "webservices.jar" of deployment "mms.ear"




	at org.jboss.as.server.deployment.DeploymentUnitPhaseService.start(DeploymentUnitPhaseService.java:166) [wildfly-server-8.2.0.Final.jar:8.2.0.Final]




	at org.jboss.msc.service.ServiceControllerImpl$StartTask.startService(ServiceControllerImpl.java:1948) [jboss-msc-1.2.2.Final.jar:1.2.2.Final]




	at org.jboss.msc.service.ServiceControllerImpl$StartTask.run(ServiceControllerImpl.java:1881) [jboss-msc-1.2.2.Final.jar:1.2.2.Final]




	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142) [rt.jar:1.8.0_25]




	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617) [rt.jar:1.8.0_25]




	at java.lang.Thread.run(Thread.java:745) [rt.jar:1.8.0_25]




Caused by: java.lang.ArrayStoreException: sun.reflect.annotation.TypeNotPresentExceptionProxy




	at sun.reflect.annotation.AnnotationParser.parseClassArray(AnnotationParser.java:724) [rt.jar:1.8.0_25]




	at sun.reflect.annotation.AnnotationParser.parseArray(AnnotationParser.java:531) [rt.jar:1.8.0_25]




	at sun.reflect.annotation.AnnotationParser.parseMemberValue(AnnotationParser.java:355) [rt.jar:1.8.0_25]




	at sun.reflect.annotation.AnnotationParser.parseAnnotation2(AnnotationParser.java:286) [rt.jar:1.8.0_25]




	at sun.reflect.annotation.AnnotationParser.parseAnnotations2(AnnotationParser.java:120) [rt.jar:1.8.0_25]




	at sun.reflect.annotation.AnnotationParser.parseAnnotations(AnnotationParser.java:72) [rt.jar:1.8.0_25]




	at java.lang.Class.createAnnotationData(Class.java:3513) [rt.jar:1.8.0_25]




	at java.lang.Class.annotationData(Class.java:3502) [rt.jar:1.8.0_25]




	at java.lang.Class.getAnnotation(Class.java:3407) [rt.jar:1.8.0_25]




	at org.jboss.as.ejb3.deployment.processors.BusinessViewAnnotationProcessor.getRemoteBusinessInterfaces(BusinessViewAnnotationProcessor.java:148)




	at org.jboss.as.ejb3.deployment.processors.BusinessViewAnnotationProcessor.processViewAnnotations(BusinessViewAnnotationProcessor.java:116)




	at org.jboss.as.ejb3.deployment.processors.BusinessViewAnnotationProcessor.deploy(BusinessViewAnnotationProcessor.java:90)




	at org.jboss.as.server.deployment.DeploymentUnitPhaseService.start(DeploymentUnitPhaseService.java:159) [wildfly-server-8.2.0.Final.jar:8.2.0.Final]




	... 5 more




...




[0m[31m15:10:27,315 ERROR [org.jboss.as.controller.management-operation] (management-handler-thread - 4) JBAS014613: Operation ("deploy") failed - address: ([("deployment" =&amp;gt; "mms.ear")]) - failure description: {




    "JBAS014671: Failed services" =&amp;gt; {"jboss.deployment.subunit.\"mms.ear\".\"webservices.jar\".POST_MODULE" =&amp;gt; "org.jboss.msc.service.StartException in service jboss.deployment.subunit.\"mms.ear\".\"webservices.jar\".POST_MODULE: JBAS018733: Failed to process phase POST_MODULE of subdeployment \"webservices.jar\" of deployment \"mms.ear\"




    Caused by: java.lang.ArrayStoreException: sun.reflect.annotation.TypeNotPresentExceptionProxy"},




    "JBAS014771: Services with missing/unavailable dependencies" =&amp;gt; [




        "jboss.deployment.unit.\"mms.ear\".weld.weldClassIntrospector is missing [jboss.deployment.unit.\"mms.ear\".beanmanager]",




        "jboss.naming.context.java.comp.mms.wp.TemplateVariableService.Validator is missing [jboss.naming.context.java.comp.mms.wp.TemplateVariableService]",




        "jboss.naming.context.java.comp.mms.configuration.GenericDao.InAppClientContainer is missing [jboss.naming.context.java.comp.mms.configuration.GenericDao]",




        "jboss.naming.context.java.comp.mms.mmsServiceEJB.MMSMagnoliaSSOService.ORB is missing [jboss.naming.context.java.comp.mms.mmsServiceEJB.MMSMagnoliaSSOService]",




...






From this  output it&amp;amp;apos;s not clear what exactly is absent in the ear file. 
Could you refactor logging for this error. In order to display which exactly annotation was not found.</description>
			<version>8.2.0.Final</version>
			<fixedVersion>9.0.0.Beta1</fixedVersion>
			<type>Bug</type>
		</buginformation>
		<fixedFiles>
			<file type="M">org.jboss.as.ejb3.logging.EjbLogger.java</file>
			<file type="M">org.jboss.as.ejb3.deployment.processors.BusinessViewAnnotationProcessor.java</file>
		</fixedFiles>
	</bug>
	<bug id="2129" opendate="2013-09-23 11:07:28" fixdate="2015-03-16 05:27:04" resolution="Done">
		<buginformation>
			<summary>@WebContext on EJB, results in Web Service endpoints that doesn&amp;apos;t honor neither method-level authorization nor general authorization configuration</summary>
			<description>Using @WebContext on EJB Web service endpoints results in the following two "bugs":

Normal EJB security annotations on methods are not honored
The EJB container does not get a chance to honor the &amp;amp;apos;missing-method-permissions-deny-access&amp;amp;apos; element in jboss-ejb3.xml, standalone.xml (etc)

A simple EJB with a Web service view can illustrate the first problem: 






@Stateless 




@WebService 




@SecurityDomain("other")




@org.jboss.ws.api.annotation.WebContext(contextRoot = "/greeterCtx", urlPattern = "/Greeter", authMethod = "BASIC", secureWSDLAccess = false))




public class Greeter {









	@PermitAll // &amp;lt;-- This doesn&amp;amp;apos;t work




	//@RolesAllowed("SECRET_CLIENT_ROLE") // &amp;lt;-- Neither does this!




	// &amp;lt;--- unless you put them on class level 




    public String sayHello(String name) {




        System.out.println("******** Greeter.sayHello(" + name + ")");




        return "Hello " + name;




    }




}






So the problem here is that you are not allowed to invoke the Web Service operation (sayHello). Add to that a completely silent behavior. No stack traces. No trace logging. Nothing.
Now if you take this EJB and remove the @PermitAll (and @RolesAllowed if any) annotation. And if you specify &amp;amp;apos;false&amp;amp;apos; in jboss-ejb3.xml#missing-method-permissions-deny-access. Then you are not allowed to call the EJB either.
These are my observations obtained from browsing through the source and playing around with the debugger:

When you add the @WebContext(authMethod = "BASIC") annotation on an EJB, you effectively enable authorization logic in addition to authentication logic. This authorization code lives in Web container code (in code from the "jboss web" project). Not in the EJB container - which otherwise is responsible for honoring the @PermitAll,@DenyAll,@RolesAllowed annotations in addition to the &amp;amp;apos;missing-method-permissions-deny-access&amp;amp;apos; element.
This web layer code, silently rejects access to methods exposed through the EJB web service view, if there is no security annotations on the EJB bean class
You can put @RolesAllowed or @PermitAll on your EJB&amp;amp;apos;s web service view methods - but they are never honored by JBoss AS
	
...But: if you put these annotations on your bean class, then access is granted as expected


You can set &amp;amp;apos;missing-method-permissions-deny-access&amp;amp;apos; to false (in JBoss AS&amp;amp;apos; profile configuration file or the JBoss AS specific module DD file) - but it is never used by JBoss AS

Proposed solution:
If the upper Web container layer correctly can propagate the method invocation to the EJB container - then appropriate authorizations check will follow - and ultimately fixing these issues.</description>
			<version>8.0.0.Alpha4</version>
			<fixedVersion></fixedVersion>
			<type>Bug</type>
		</buginformation>
		<fixedFiles>
			<file type="M">org.jboss.as.webservices.deployers.WSIntegrationProcessorJAXWS_EJB.java</file>
		</fixedFiles>
	</bug>
	<bug id="3988" opendate="2014-10-16 21:43:03" fixdate="2015-03-16 05:28:50" resolution="Done">
		<buginformation>
			<summary>Authorization denied for authenticated users when @PermitAll is used on EJB JAX-WS endpoint</summary>
			<description>Given this endpoint:






@Stateless




@WebService(endpointInterface="com.redhat.gss.SecureEndpoint")




@DeclareRoles({"a","b"})




@WebContext(contextRoot="/endpoint",urlPattern="/e",authMethod="BASIC")




public class SecureEndpointE implements SecureEndpoint {




  @RolesAllowed({"a"})




  public String a() {




    return "Success";




  }









  @RolesAllowed({"b"})




  public String b() {




    return "Success";




  }









  @PermitAll




  public String c() {




    return "Success";




  }




}






One would expect any authenticated user to be able to invoke c(), but only users with a role found in @DelareRoles can invoke it.</description>
			<version>8.1.0.Final</version>
			<fixedVersion>9.0.0.Beta1</fixedVersion>
			<type>Bug</type>
		</buginformation>
		<fixedFiles>
			<file type="M">org.jboss.as.webservices.deployers.WSIntegrationProcessorJAXWS_EJB.java</file>
		</fixedFiles>
		<links>
			<link type="Related" description="is related to">5784</link>
		</links>
	</bug>
	<bug id="3619" opendate="2014-07-14 08:48:49" fixdate="2015-03-16 09:39:11" resolution="Done">
		<buginformation>
			<summary>XA END / un-enlist for database connection called before all persistence units have performed database updates</summary>
			<description>While trying to port an EE application from JBoss5 to WF8 the following problem occurred:
EJBs (@Required) using JPA to do some data changes.
Some changes get already written to the database, others reside in the session cache.
After the top EJB call returns, a Hibernate Session flush is triggered in beforeCompletion.
Then more changes are flushed to the database, but I run in a reproduceable database locking problem.
After some time an update of a row fails with lock wait timeout. This row has been inserted prior during the EJB call.
There should be exactly one xa transaction active processing all data changes.
But the database shows two active session, one is an xa transaction with sessionId -2 (orphaned), the other session is a local transaction.
After analyzing all database communication with the help of the JDBC driver logging I found the following behaviour:

a connection is enlisted and xa start called
the same connection is used for several select / insert / update statements
after return of the top EJB call on the same connection xa end and connection un-enlist is called
the same connection is used for session flush (beforeCompletion) but with local transaction because the connection is no longer associated with the xa transaction, so locks can be expected.

Shouldn&amp;amp;apos;t xa end be called AFTER beforeCompletion / session flush!?!</description>
			<version>8.0.0.Final</version>
			<fixedVersion>9.0.0.Beta1</fixedVersion>
			<type>Bug</type>
		</buginformation>
		<fixedFiles>
			<file type="M">org.jboss.as.connector.subsystems.jca.JcaExtension.java</file>
			<file type="M">org.jboss.as.txn.logging.TransactionLogger.java</file>
			<file type="M">org.jboss.as.txn.service.ArjunaTransactionManagerService.java</file>
		</fixedFiles>
		<links>
			<link type="Related" description="relates to">3912</link>
			<link type="Related" description="is related to">2259</link>
		</links>
	</bug>
	<bug id="4423" opendate="2015-03-12 16:17:39" fixdate="2015-03-16 09:59:30" resolution="Done">
		<buginformation>
			<summary>ClassNotFoundException: org.jboss.naming.remote.client.InitialContextFactory</summary>
			<description>To reproduce this issue follow the steps:

setup JMS bridge between two WildFly instances
once JMS bridge is running, login into jboss-cli and stop the bridge
restart the bridge fro jboss-cli

The following exception appears in the serve log file.
10:12:59,414 INFO  [org.hornetq.jms.server] (pool-9-thread-1) HQ121000: Failed to set up JMS bridge connections. Most probably the source or target servers are unavailable. Will retry after a pause of 60,000 ms
10:13:59,416 WARN  [org.hornetq.jms.server] (pool-9-thread-1) HQ122010: Failed to connect JMS Bridge: javax.naming.NamingException: JBAS011843: Failed instantiate InitialContextFactory org.jboss.naming.remote.client.InitialContextFactory from classloader ModuleClassLoader for Module "org.jboss.as.controller:main" from local module loader @543a2dec (finder: local module finder @379d0c27 (roots: /Volumes/RedHat/Work/JBoss/EAP/JBoss-6/current/home/modules,/Volumes/RedHat/Work/JBoss/EAP/JBoss-6/current/home/modules/system/layers/base)) [Root exception is java.lang.ClassNotFoundException: org.jboss.naming.remote.client.InitialContextFactory from [Module "org.jboss.as.controller:main" from local module loader @543a2dec (finder: local module finder @379d0c27 (roots: /Volumes/RedHat/Work/JBoss/EAP/JBoss-6/current/home/modules,/Volumes/RedHat/Work/JBoss/EAP/JBoss-6/current/home/modules/system/layers/base))]]
	at org.jboss.as.naming.InitialContext.getDefaultInitCtx(InitialContext.java:126)
	at org.jboss.as.naming.InitialContext.init(InitialContext.java:107)
	at javax.naming.ldap.InitialLdapContext.&amp;lt;init&amp;gt;(InitialLdapContext.java:153) [rt.jar:1.7.0_75]
	at org.jboss.as.naming.InitialContext.&amp;lt;init&amp;gt;(InitialContext.java:98)
	at org.jboss.as.naming.InitialContextFactory.getInitialContext(InitialContextFactory.java:44)
	at javax.naming.spi.NamingManager.getInitialContext(NamingManager.java:684) [rt.jar:1.7.0_75]
	at javax.naming.InitialContext.getDefaultInitCtx(InitialContext.java:307) [rt.jar:1.7.0_75]
	at javax.naming.InitialContext.init(InitialContext.java:242) [rt.jar:1.7.0_75]
	at javax.naming.InitialContext.&amp;lt;init&amp;gt;(InitialContext.java:216) [rt.jar:1.7.0_75]
	at org.hornetq.jms.bridge.impl.JNDIFactorySupport.createObject(JNDIFactorySupport.java:55)
	at org.hornetq.jms.bridge.impl.JNDIDestinationFactory.createDestination(JNDIDestinationFactory.java:40)
	at org.hornetq.jms.bridge.impl.JMSBridgeImpl.setupJMSObjects(JMSBridgeImpl.java:1236)
	at org.hornetq.jms.bridge.impl.JMSBridgeImpl.setupJMSObjectsWithRetry(JMSBridgeImpl.java:1474)
	at org.hornetq.jms.bridge.impl.JMSBridgeImpl.access$2200(JMSBridgeImpl.java:79)
	at org.hornetq.jms.bridge.impl.JMSBridgeImpl$FailureHandler.run(JMSBridgeImpl.java:2082)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1145) [rt.jar:1.7.0_75]
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:615) [rt.jar:1.7.0_75]
	at java.lang.Thread.run(Thread.java:745) [rt.jar:1.7.0_75]
Caused by: java.lang.ClassNotFoundException: org.jboss.naming.remote.client.InitialContextFactory from [Module "org.jboss.as.controller:main" from local module loader @543a2dec (finder: local module finder @379d0c27 (roots: /Volumes/RedHat/Work/JBoss/EAP/JBoss-6/current/home/modules,/Volumes/RedHat/Work/JBoss/EAP/JBoss-6/current/home/modules/system/layers/base))]
	at org.jboss.modules.ModuleClassLoader.findClass(ModuleClassLoader.java:213) [jboss-modules.jar:1.3.5.Final-redhat-1]
	at org.jboss.modules.ConcurrentClassLoader.performLoadClassUnchecked(ConcurrentClassLoader.java:459) [jboss-modules.jar:1.3.5.Final-redhat-1]
	at org.jboss.modules.ConcurrentClassLoader.performLoadClassChecked(ConcurrentClassLoader.java:408) [jboss-modules.jar:1.3.5.Final-redhat-1]
	at org.jboss.modules.ConcurrentClassLoader.performLoadClass(ConcurrentClassLoader.java:389) [jboss-modules.jar:1.3.5.Final-redhat-1]
	at org.jboss.modules.ConcurrentClassLoader.loadClass(ConcurrentClassLoader.java:134) [jboss-modules.jar:1.3.5.Final-redhat-1]
	at java.lang.Class.forName0(Native Method) [rt.jar:1.7.0_75]
	at java.lang.Class.forName(Class.java:274) [rt.jar:1.7.0_75]
	at org.jboss.as.naming.InitialContext.getDefaultInitCtx(InitialContext.java:121)
	... 17 more</description>
			<version>9.0.0.Alpha1</version>
			<fixedVersion>9.0.0.Beta1</fixedVersion>
			<type>Bug</type>
		</buginformation>
		<fixedFiles>
			<file type="M">org.wildfly.extension.messaging.activemq.jms.bridge.JMSBridgeService.java</file>
			<file type="M">org.jboss.as.messaging.jms.bridge.JMSBridgeService.java</file>
		</fixedFiles>
	</bug>
	<bug id="4426" opendate="2015-03-13 14:27:37" fixdate="2015-03-18 13:12:01" resolution="Done">
		<buginformation>
			<summary>do not revertReloadRequired unless reload was required</summary>
			<description>HornetQReloadRequiredHandlers will call context.reloadRequired() if there performRuntime method is called and a HornetQ server service is installed.
In turn, it calls context.revertReloadRequired() in their rollbackRuntime if a HornetQ server service is installed.
However it is possible that at boot time, there is not HornetQ server installed when the performRuntime is installed (so context.reloadRequired is not called).
Then if an operation fails at boot time and the HornetQReloadRequiredHandlers op is rolled back, there will then be an installed HornetQ server and  context.revertReloadRequired() will be called.
This generated a NPE before  WFCORE-591 but it is also a programming error to call context.revertReloadRequired() in a OSH if context.reloadRequired() has not been called beforehands</description>
			<version>9.0.0.Alpha1</version>
			<fixedVersion>9.0.0.Beta1</fixedVersion>
			<type>Bug</type>
		</buginformation>
		<fixedFiles>
			<file type="M">org.wildfly.extension.messaging.activemq.ActiveMQReloadRequiredHandlers.java</file>
			<file type="M">org.jboss.as.messaging.HornetQReloadRequiredHandlers.java</file>
		</fixedFiles>
	</bug>
	<bug id="4447" opendate="2015-03-19 13:37:33" fixdate="2015-03-20 10:51:48" resolution="Done">
		<buginformation>
			<summary>Configuring transport thread pool results in NPE</summary>
			<description>One line fix to use correct builder method.






/extension=org.jboss.as.threads:add




/subsystem=threads:add




/subsystem=threads/bounded-queue-thread-pool=transport:add(max-threads=20,queue-length=1000)




/subsystem=infinispan/cache-container=web/transport=TRANSPORT:write-attribute(name=executor,value=transport)




deploy /home/rhusar/git/clusterbench/clusterbench-ee7-ear/target/clusterbench-ee7.ear






yields 






12:37:30,142 ERROR [org.jboss.msc.service.fail] (MSC service thread 1-1) MSC000001: Failed to start service jboss.infinispan.web.config: org.jboss.msc.service.StartException in service jboss.infinispan.web.config: Failed to start service




	at org.jboss.msc.service.ServiceControllerImpl$StartTask.run(ServiceControllerImpl.java:1904)




	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)




	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)




	at java.lang.Thread.run(Thread.java:745)




Caused by: java.lang.NullPointerException




	at org.jboss.as.clustering.infinispan.subsystem.CacheContainerConfigurationBuilder.getValue(CacheContainerConfigurationBuilder.java:144)




	at org.jboss.as.clustering.infinispan.subsystem.CacheContainerConfigurationBuilder.getValue(CacheContainerConfigurationBuilder.java:65)




	at org.jboss.msc.service.ValueService.start(ValueService.java:49)




	at org.jboss.msc.service.ServiceControllerImpl$StartTask.startService(ServiceControllerImpl.java:1948)




	at org.jboss.msc.service.ServiceControllerImpl$StartTask.run(ServiceControllerImpl.java:1881)




	... 3 more





</description>
			<version>9.0.0.Alpha1</version>
			<fixedVersion>9.0.0.Beta1</fixedVersion>
			<type>Bug</type>
		</buginformation>
		<fixedFiles>
			<file type="M">org.jboss.as.clustering.infinispan.subsystem.CacheContainerConfigurationBuilder.java</file>
		</fixedFiles>
	</bug>
	<bug id="4320" opendate="2015-02-05 14:09:10" fixdate="2015-03-25 09:40:49" resolution="Done">
		<buginformation>
			<summary> add-&gt;activate-&gt;remove-&gt;add-&gt;activate fails for Resource Adapter</summary>
			<description> add-&amp;gt;activate-&amp;gt;remove-&amp;gt;add-&amp;gt;activate fails for Resource Adapter
[1]
[jolee@jolee540 jboss-eap-6.3.x]$ bin/jboss-cli.sh --connect
[standalone@localhost:9999 /] deploy /home/jolee/amq.rar
[standalone@localhost:9999 /] /subsystem=resource-adapters/resource-adapter=amq:add(archive=amq.rar,transaction-support=XATransaction)
{"outcome" =&amp;gt; "success"}
[standalone@localhost:9999 /] /subsystem=resource-adapters/resource-adapter=amq:activate{"outcome" =&amp;gt; "success"}

[standalone@localhost:9999 /] /subsystem=resource-adapters/resource-adapter=amq:remove
{"outcome" =&amp;gt; "success"}

[standalone@localhost:9999 /] /subsystem=resource-adapters/resource-adapter=amq:add(archive=amq.rar,transaction-support=XATransaction){"outcome" =&amp;gt; "success"}
[standalone@localhost:9999 /] /subsystem=resource-adapters/resource-adapter=amq:activate
{
    "outcome" =&amp;gt; "failed",
    "failure-description" =&amp;gt; "JBAS014749: Operation handler failed: Service jboss.ra.deployment.amq is already registered",
    "rolled-back" =&amp;gt; true
}


TRACE from failure
15:15:53,732 TRACE [org.jboss.as.connector.logging] (management-handler-thread - 10) ConnectorServices: getDeploymentServiceName(amq,&amp;lt;resource-adapter&amp;gt;&amp;lt;archive&amp;gt;amq.rar&amp;lt;/archive&amp;gt;&amp;lt;transaction-support&amp;gt;XATransaction&amp;lt;/transaction-support&amp;gt;&amp;lt;/resource-adapter&amp;gt;) -&amp;gt; service jboss.ra.deployment.amq
15:15:53,733 ERROR [org.jboss.as.controller.management-operation] (management-handler-thread - 10) JBAS014612: Operation ("activate") failed - address: ([
    ("subsystem" =&amp;gt; "resource-adapters"),
    ("resource-adapter" =&amp;gt; "amq")
]): org.jboss.msc.service.DuplicateServiceException: Service jboss.ra.deployment.amq is already registered
    at org.jboss.msc.service.ServiceRegistrationImpl.setInstance(ServiceRegistrationImpl.java:158) [jboss-msc-1.1.5.Final-redhat-1.jar:1.1.5.Final-redhat-1]
    at org.jboss.msc.service.ServiceControllerImpl.startInstallation(ServiceControllerImpl.java:236) [jboss-msc-1.1.5.Final-redhat-1.jar:1.1.5.Final-redhat-1]
    at org.jboss.msc.service.ServiceContainerImpl.install(ServiceContainerImpl.java:742) [jboss-msc-1.1.5.Final-redhat-1.jar:1.1.5.Final-redhat-1]
    at org.jboss.msc.service.ServiceTargetImpl.install(ServiceTargetImpl.java:243) [jboss-msc-1.1.5.Final-redhat-1.jar:1.1.5.Final-redhat-1]
    at org.jboss.msc.service.ServiceControllerImpl$ChildServiceTarget.install(ServiceControllerImpl.java:2433) [jboss-msc-1.1.5.Final-redhat-1.jar:1.1.5.Final-redhat-1]
    at org.jboss.msc.service.ServiceTargetImpl.install(ServiceTargetImpl.java:243) [jboss-msc-1.1.5.Final-redhat-1.jar:1.1.5.Final-redhat-1]
    at org.jboss.msc.service.ServiceControllerImpl$ChildServiceTarget.install(ServiceControllerImpl.java:2433) [jboss-msc-1.1.5.Final-redhat-1.jar:1.1.5.Final-redhat-1]
    at org.jboss.msc.service.ServiceBuilderImpl.install(ServiceBuilderImpl.java:345) [jboss-msc-1.1.5.Final-redhat-1.jar:1.1.5.Final-redhat-1]
    at org.jboss.as.connector.util.RaServicesFactory.createDeploymentService(RaServicesFactory.java:104)
    at org.jboss.as.connector.subsystems.resourceadapters.RaOperationUtil.activate(RaOperationUtil.java:320)
    at org.jboss.as.connector.subsystems.resourceadapters.RaActivate$1.execute(RaActivate.java:57)
    at org.jboss.as.controller.AbstractOperationContext.executeStep(AbstractOperationContext.java:611) [jboss-as-controller-7.4.3.Final-redhat-SNAPSHOT.jar:7.4.3.Final-redhat-SNAPSHOT]
    at org.jboss.as.controller.AbstractOperationContext.doCompleteStep(AbstractOperationContext.java:489) [jboss-as-controller-7.4.3.Final-redhat-SNAPSHOT.jar:7.4.3.Final-redhat-SNAPSHOT]
    at org.jboss.as.controller.AbstractOperationContext.completeStepInternal(AbstractOperationContext.java:290) [jboss-as-controller-7.4.3.Final-redhat-SNAPSHOT.jar:7.4.3.Final-redhat-SNAPSHOT]
    at org.jboss.as.controller.AbstractOperationContext.executeOperation(AbstractOperationContext.java:285) [jboss-as-controller-7.4.3.Final-redhat-SNAPSHOT.jar:7.4.3.Final-redhat-SNAPSHOT]
    at org.jboss.as.controller.OperationContextImpl.executeOperation(OperationContextImpl.java:1132) [jboss-as-controller-7.4.3.Final-redhat-SNAPSHOT.jar:7.4.3.Final-redhat-SNAPSHOT]
    at org.jboss.as.controller.ModelControllerImpl.internalExecute(ModelControllerImpl.java:251) [jboss-as-controller-7.4.3.Final-redhat-SNAPSHOT.jar:7.4.3.Final-redhat-SNAPSHOT]
    at org.jboss.as.controller.ModelControllerImpl.execute(ModelControllerImpl.java:152) [jboss-as-controller-7.4.3.Final-redhat-SNAPSHOT.jar:7.4.3.Final-redhat-SNAPSHOT]
    at org.jboss.as.controller.remote.ModelControllerClientOperationHandler$ExecuteRequestHandler.doExecute(ModelControllerClientOperationHandler.java:203) [jboss-as-controller-7.4.3.Final-redhat-SNAPSHOT.jar:7.4.3.Final-redhat-SNAPSHOT]
    at org.jboss.as.controller.remote.ModelControllerClientOperationHandler$ExecuteRequestHandler.access$300(ModelControllerClientOperationHandler.java:132) [jboss-as-controller-7.4.3.Final-redhat-SNAPSHOT.jar:7.4.3.Final-redhat-SNAPSHOT]
    at org.jboss.as.controller.remote.ModelControllerClientOperationHandler$ExecuteRequestHandler$1$1.run(ModelControllerClientOperationHandler.java:153) [jboss-as-controller-7.4.3.Final-redhat-SNAPSHOT.jar:7.4.3.Final-redhat-SNAPSHOT]
    at org.jboss.as.controller.remote.ModelControllerClientOperationHandler$ExecuteRequestHandler$1$1.run(ModelControllerClientOperationHandler.java:149) [jboss-as-controller-7.4.3.Final-redhat-SNAPSHOT.jar:7.4.3.Final-redhat-SNAPSHOT]
    at java.security.AccessController.doPrivileged(Native Method) [rt.jar:1.6.0_45]
    at javax.security.auth.Subject.doAs(Subject.java:396) [rt.jar:1.6.0_45]
    at org.jboss.as.controller.AccessAuditContext.doAs(AccessAuditContext.java:94) [jboss-as-controller-7.4.3.Final-redhat-SNAPSHOT.jar:7.4.3.Final-redhat-SNAPSHOT]
    at org.jboss.as.controller.remote.ModelControllerClientOperationHandler$ExecuteRequestHandler$1.execute(ModelControllerClientOperationHandler.java:149) [jboss-as-controller-7.4.3.Final-redhat-SNAPSHOT.jar:7.4.3.Final-redhat-SNAPSHOT]
    at org.jboss.as.protocol.mgmt.AbstractMessageHandler$2$1.doExecute(AbstractMessageHandler.java:298) [jboss-as-protocol-7.4.3.Final-redhat-SNAPSHOT.jar:7.4.3.Final-redhat-SNAPSHOT]
    at org.jboss.as.protocol.mgmt.AbstractMessageHandler$AsyncTaskRunner.run(AbstractMessageHandler.java:537) [jboss-as-protocol-7.4.3.Final-redhat-SNAPSHOT.jar:7.4.3.Final-redhat-SNAPSHOT]
    at java.util.concurrent.ThreadPoolExecutor$Worker.runTask(ThreadPoolExecutor.java:895) [rt.jar:1.6.0_45]
    at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:918) [rt.jar:1.6.0_45]
    at java.lang.Thread.run(Thread.java:662) [rt.jar:1.6.0_45]
    at org.jboss.threads.JBossThread.run(JBossThread.java:122) [jboss-threads-2.1.1.Final-redhat-1.jar:2.1.1.Final-redhat-1]</description>
			<version>8.2.0.Final</version>
			<fixedVersion>9.0.0.Beta1</fixedVersion>
			<type>Bug</type>
		</buginformation>
		<fixedFiles>
			<file type="M">org.jboss.as.test.integration.jca.moduledeployment.TwoRaFlatTestCase.java</file>
			<file type="M">org.jboss.as.test.integration.jca.moduledeployment.TwoRaJarTestCase.java</file>
			<file type="M">org.jboss.as.test.integration.jca.moduledeployment.AbstractModuleDeploymentTestCaseSetup.java</file>
			<file type="M">org.jboss.as.test.integration.jca.moduledeployment.TwoModulesOfDifferentTypeTestCase.java</file>
			<file type="M">org.jboss.as.test.integration.jca.moduledeployment.TwoModulesJarTestCase.java</file>
			<file type="M">org.jboss.as.test.integration.jca.moduledeployment.TwoModulesFlatTestCase.java</file>
			<file type="M">org.jboss.as.connector.subsystems.resourceadapters.RaRemove.java</file>
			<file type="M">org.jboss.as.connector.subsystems.resourceadapters.RaActivate.java</file>
			<file type="M">org.jboss.as.connector.subsystems.resourceadapters.RaOperationUtil.java</file>
		</fixedFiles>
	</bug>
	<bug id="4443" opendate="2015-03-18 19:01:33" fixdate="2015-03-25 10:05:54" resolution="Done">
		<buginformation>
			<summary>Regression in 2PC</summary>
			<description>I compiled the latest WildFly snapshot and now have a regression compared with the snapshot
from March 13. Maybe it is related to https://github.com/wildfly/wildfly/commit/dae2b07610205264fb85c0021684b1f9d563773c
which was merged on March 13.
Using Hibernate I&amp;amp;apos;m persisting a simple object into an XA datasource (there is another 2nd XA datasource in
standalone.xml which isn&amp;amp;apos;t used during the failing transaction). This new Java object
doesn&amp;amp;apos;t reference another object, and isn&amp;amp;apos;t referenced by any other object. Invoking
EntityManager.persist() via Hibernate works fine. However, during Commit (via @Transactional
as a CDI interceptor) I&amp;amp;apos;m getting the following exception and stacktrace:






2015-03-18 19:44:29,267 WARN  [com.arjuna.ats.arjuna] ARJUNA012125: TwoPhaseCoordinator.beforeCompletion - failed for SynchronizationImple&amp;lt; 0:ffffc0a83801:3620239c:5509c313:57, org.jboss.as.txn.service.internal.tsr.JCAOrderedLastSynchronizationList@6112018f &amp;gt;: java.util.ConcurrentModificationException




	at java.util.ArrayList$Itr.checkForComodification(ArrayList.java:901)




	at java.util.ArrayList$Itr.next(ArrayList.java:851)




	at org.jboss.as.txn.service.internal.tsr.JCAOrderedLastSynchronizationList.beforeCompletion(JCAOrderedLastSynchronizationList.java:90)




	at com.arjuna.ats.internal.jta.resources.arjunacore.SynchronizationImple.beforeCompletion(SynchronizationImple.java:76)




	at com.arjuna.ats.arjuna.coordinator.TwoPhaseCoordinator.beforeCompletion(TwoPhaseCoordinator.java:371)




	at com.arjuna.ats.arjuna.coordinator.TwoPhaseCoordinator.end(TwoPhaseCoordinator.java:91)




	at com.arjuna.ats.arjuna.AtomicAction.commit(AtomicAction.java:162)




	at com.arjuna.ats.internal.jta.transaction.arjunacore.TransactionImple.commitAndDisassociate(TransactionImple.java:1200)




	at com.arjuna.ats.internal.jta.transaction.arjunacore.BaseTransaction.commit(BaseTransaction.java:126)




	at com.arjuna.ats.jbossatx.BaseTransactionManagerDelegate.commit(BaseTransactionManagerDelegate.java:75)




	at org.jboss.tm.usertx.client.ServerVMClientUserTransaction.commit(ServerVMClientUserTransaction.java:173)




	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)




	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)




	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)




	at java.lang.reflect.Method.invoke(Method.java:497)




	at org.jboss.weld.util.reflection.Reflections.invokeAndUnwrap(Reflections.java:434)




	at org.jboss.weld.bean.builtin.CallableMethodHandler.invoke(CallableMethodHandler.java:42)




	at org.jboss.weld.bean.proxy.EnterpriseTargetBeanInstance.invoke(EnterpriseTargetBeanInstance.java:56)




	at org.jboss.weld.bean.proxy.ProxyMethodHandler.invoke(ProxyMethodHandler.java:100)




	at org.jboss.weldx.transaction.UserTransaction$215414646$Proxy$_$$_Weld$Proxy$.commit(Unknown Source)




	at de.shop.artikelverwaltung.business.ArtikelBrokerTest.save(ArtikelBrokerTest.java:78)




	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)




	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)




	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)




	at java.lang.reflect.Method.invoke(Method.java:497)




	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:50)




	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)




	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:47)




	at org.jboss.arquillian.junit.Arquillian$8$1.invoke(Arquillian.java:370)




	at org.jboss.arquillian.container.test.impl.execution.LocalTestExecuter.execute(LocalTestExecuter.java:60)




	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)




	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)




	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)




	at java.lang.reflect.Method.invoke(Method.java:497)




	at org.jboss.arquillian.core.impl.ObserverImpl.invoke(ObserverImpl.java:94)




	at org.jboss.arquillian.core.impl.EventContextImpl.invokeObservers(EventContextImpl.java:99)




	at org.jboss.arquillian.core.impl.EventContextImpl.proceed(EventContextImpl.java:81)




	at org.jboss.arquillian.core.impl.ManagerImpl.fire(ManagerImpl.java:145)




	at org.jboss.arquillian.core.impl.ManagerImpl.fire(ManagerImpl.java:116)




	at org.jboss.arquillian.core.impl.EventImpl.fire(EventImpl.java:67)




	at org.jboss.arquillian.container.test.impl.execution.ContainerTestExecuter.execute(ContainerTestExecuter.java:38)




	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)




	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)




	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)




	at java.lang.reflect.Method.invoke(Method.java:497)




	at org.jboss.arquillian.core.impl.ObserverImpl.invoke(ObserverImpl.java:94)




	at org.jboss.arquillian.core.impl.EventContextImpl.invokeObservers(EventContextImpl.java:99)




	at org.jboss.arquillian.core.impl.EventContextImpl.proceed(EventContextImpl.java:81)




	at org.jboss.arquillian.test.impl.TestContextHandler.createTestContext(TestContextHandler.java:130)




	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)




	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)




	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)




	at java.lang.reflect.Method.invoke(Method.java:497)




	at org.jboss.arquillian.core.impl.ObserverImpl.invoke(ObserverImpl.java:94)




	at org.jboss.arquillian.core.impl.EventContextImpl.proceed(EventContextImpl.java:88)




	at org.jboss.arquillian.test.impl.TestContextHandler.createClassContext(TestContextHandler.java:92)




	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)




	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)




	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)




	at java.lang.reflect.Method.invoke(Method.java:497)




	at org.jboss.arquillian.core.impl.ObserverImpl.invoke(ObserverImpl.java:94)




	at org.jboss.arquillian.core.impl.EventContextImpl.proceed(EventContextImpl.java:88)




	at org.jboss.arquillian.test.impl.TestContextHandler.createSuiteContext(TestContextHandler.java:73)




	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)




	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)




	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)




	at java.lang.reflect.Method.invoke(Method.java:497)




	at org.jboss.arquillian.core.impl.ObserverImpl.invoke(ObserverImpl.java:94)




	at org.jboss.arquillian.core.impl.EventContextImpl.proceed(EventContextImpl.java:88)




	at org.jboss.arquillian.core.impl.ManagerImpl.fire(ManagerImpl.java:145)




	at org.jboss.arquillian.test.impl.EventTestRunnerAdaptor.test(EventTestRunnerAdaptor.java:136)




	at org.jboss.arquillian.junit.Arquillian$8.evaluate(Arquillian.java:363)




	at org.jboss.arquillian.junit.Arquillian$4.evaluate(Arquillian.java:245)




	at org.jboss.arquillian.junit.Arquillian.multiExecute(Arquillian.java:422)




	at org.jboss.arquillian.junit.Arquillian.access$200(Arquillian.java:54)




	at org.jboss.arquillian.junit.Arquillian$5.evaluate(Arquillian.java:259)




	at org.jboss.arquillian.junit.Arquillian$7$1.invoke(Arquillian.java:315)




	at org.jboss.arquillian.container.test.impl.execution.BeforeLifecycleEventExecuter.on(BeforeLifecycleEventExecuter.java:35)




	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)




	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)




	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)




	at java.lang.reflect.Method.invoke(Method.java:497)




	at org.jboss.arquillian.core.impl.ObserverImpl.invoke(ObserverImpl.java:94)




	at org.jboss.arquillian.core.impl.EventContextImpl.invokeObservers(EventContextImpl.java:99)




	at org.jboss.arquillian.core.impl.EventContextImpl.proceed(EventContextImpl.java:81)




	at org.jboss.arquillian.test.impl.TestContextHandler.createTestContext(TestContextHandler.java:130)




	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)




	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)




	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)




	at java.lang.reflect.Method.invoke(Method.java:497)




	at org.jboss.arquillian.core.impl.ObserverImpl.invoke(ObserverImpl.java:94)




	at org.jboss.arquillian.core.impl.EventContextImpl.proceed(EventContextImpl.java:88)




	at org.jboss.arquillian.test.impl.TestContextHandler.createClassContext(TestContextHandler.java:92)




	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)




	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)




	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)




	at java.lang.reflect.Method.invoke(Method.java:497)




	at org.jboss.arquillian.core.impl.ObserverImpl.invoke(ObserverImpl.java:94)




	at org.jboss.arquillian.core.impl.EventContextImpl.proceed(EventContextImpl.java:88)




	at org.jboss.arquillian.test.impl.TestContextHandler.createSuiteContext(TestContextHandler.java:73)




	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)




	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)




	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)




	at java.lang.reflect.Method.invoke(Method.java:497)




	at org.jboss.arquillian.core.impl.ObserverImpl.invoke(ObserverImpl.java:94)




	at org.jboss.arquillian.core.impl.EventContextImpl.proceed(EventContextImpl.java:88)




	at org.jboss.arquillian.core.impl.ManagerImpl.fire(ManagerImpl.java:145)




	at org.jboss.arquillian.core.impl.ManagerImpl.fire(ManagerImpl.java:116)




	at org.jboss.arquillian.test.impl.EventTestRunnerAdaptor.fireCustomLifecycle(EventTestRunnerAdaptor.java:159)




	at org.jboss.arquillian.junit.Arquillian$7.evaluate(Arquillian.java:311)




	at org.junit.runners.ParentRunner.runLeaf(ParentRunner.java:325)




	at org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:78)




	at org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:57)




	at org.junit.runners.ParentRunner$3.run(ParentRunner.java:290)




	at org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:71)




	at org.junit.runners.ParentRunner.runChildren(ParentRunner.java:288)




	at org.junit.runners.ParentRunner.access$000(ParentRunner.java:58)




	at org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:268)




	at org.jboss.arquillian.junit.Arquillian$2.evaluate(Arquillian.java:204)




	at org.jboss.arquillian.junit.Arquillian.multiExecute(Arquillian.java:422)




	at org.jboss.arquillian.junit.Arquillian.access$200(Arquillian.java:54)




	at org.jboss.arquillian.junit.Arquillian$3.evaluate(Arquillian.java:218)




	at org.junit.runners.ParentRunner.run(ParentRunner.java:363)




	at org.jboss.arquillian.junit.Arquillian.run(Arquillian.java:166)




	at org.junit.runner.JUnitCore.run(JUnitCore.java:137)




	at org.junit.runner.JUnitCore.run(JUnitCore.java:115)




	at org.jboss.arquillian.junit.container.JUnitTestRunner.execute(JUnitTestRunner.java:66)




	at org.jboss.arquillian.protocol.servlet.runner.ServletTestRunner.executeTest(ServletTestRunner.java:159)




	at org.jboss.arquillian.protocol.servlet.runner.ServletTestRunner$Proxy$_$$_WeldSubclass.executeTest(Unknown Source)




	at org.jboss.arquillian.protocol.servlet.runner.ServletTestRunner.execute(ServletTestRunner.java:125)




	at org.jboss.arquillian.protocol.servlet.runner.ServletTestRunner$Proxy$_$$_WeldSubclass.execute(Unknown Source)




	at org.jboss.arquillian.protocol.servlet.runner.ServletTestRunner.doGet(ServletTestRunner.java:89)




	at org.jboss.arquillian.protocol.servlet.runner.ServletTestRunner$Proxy$_$$_WeldSubclass.doGet(Unknown Source)




	at javax.servlet.http.HttpServlet.service(HttpServlet.java:687)




	at org.jboss.arquillian.protocol.servlet.runner.ServletTestRunner$Proxy$_$$_WeldSubclass.service(Unknown Source)




	at javax.servlet.http.HttpServlet.service(HttpServlet.java:790)




	at org.jboss.arquillian.protocol.servlet.runner.ServletTestRunner$Proxy$_$$_WeldSubclass.service$$super(Unknown Source)




	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)




	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)




	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)




	at java.lang.reflect.Method.invoke(Method.java:497)




	at org.jboss.weld.interceptor.proxy.TerminalAroundInvokeInvocationContext.proceedInternal(TerminalAroundInvokeInvocationContext.java:51)




	at org.jboss.weld.interceptor.proxy.AroundInvokeInvocationContext.proceed(AroundInvokeInvocationContext.java:79)




	at org.jboss.weld.probe.InvocationMonitor.monitor(InvocationMonitor.java:105)




	at sun.reflect.GeneratedMethodAccessor125.invoke(Unknown Source)




	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)




	at java.lang.reflect.Method.invoke(Method.java:497)




	at org.jboss.weld.interceptor.reader.SimpleInterceptorInvocation$SimpleMethodInvocation.invoke(SimpleInterceptorInvocation.java:73)




	at org.jboss.weld.interceptor.proxy.InterceptorMethodHandler.executeAroundInvoke(InterceptorMethodHandler.java:86)




	at org.jboss.weld.interceptor.proxy.InterceptorMethodHandler.executeInterception(InterceptorMethodHandler.java:74)




	at org.jboss.weld.interceptor.proxy.InterceptorMethodHandler.invoke(InterceptorMethodHandler.java:58)




	at org.jboss.weld.bean.proxy.CombinedInterceptorAndDecoratorStackMethodHandler.invoke(CombinedInterceptorAndDecoratorStackMethodHandler.java:79)




	at org.jboss.weld.bean.proxy.CombinedInterceptorAndDecoratorStackMethodHandler.invoke(CombinedInterceptorAndDecoratorStackMethodHandler.java:68)




	at org.jboss.arquillian.protocol.servlet.runner.ServletTestRunner$Proxy$_$$_WeldSubclass.service(Unknown Source)




	at io.undertow.servlet.handlers.ServletHandler.handleRequest(ServletHandler.java:86)




	at io.undertow.servlet.handlers.FilterHandler$FilterChainImpl.doFilter(FilterHandler.java:130)




	at io.undertow.websockets.jsr.JsrWebSocketFilter.doFilter(JsrWebSocketFilter.java:151)




	at io.undertow.servlet.core.ManagedFilter.doFilter(ManagedFilter.java:60)




	at io.undertow.servlet.handlers.FilterHandler$FilterChainImpl.doFilter(FilterHandler.java:132)




	at io.undertow.servlet.handlers.FilterHandler.handleRequest(FilterHandler.java:85)




	at io.undertow.servlet.handlers.security.ServletSecurityRoleHandler.handleRequest(ServletSecurityRoleHandler.java:62)




	at io.undertow.servlet.handlers.ServletDispatchingHandler.handleRequest(ServletDispatchingHandler.java:36)




	at org.wildfly.extension.undertow.security.SecurityContextAssociationHandler.handleRequest(SecurityContextAssociationHandler.java:78)




	at io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43)




	at io.undertow.servlet.handlers.security.SSLInformationAssociationHandler.handleRequest(SSLInformationAssociationHandler.java:131)




	at io.undertow.servlet.handlers.security.ServletAuthenticationCallHandler.handleRequest(ServletAuthenticationCallHandler.java:57)




	at io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43)




	at io.undertow.security.handlers.AbstractConfidentialityHandler.handleRequest(AbstractConfidentialityHandler.java:46)




	at io.undertow.servlet.handlers.security.ServletConfidentialityConstraintHandler.handleRequest(ServletConfidentialityConstraintHandler.java:64)




	at io.undertow.security.handlers.AuthenticationMechanismsHandler.handleRequest(AuthenticationMechanismsHandler.java:58)




	at io.undertow.servlet.handlers.security.CachedAuthenticatedSessionHandler.handleRequest(CachedAuthenticatedSessionHandler.java:70)




	at io.undertow.security.handlers.NotificationReceiverHandler.handleRequest(NotificationReceiverHandler.java:50)




	at io.undertow.security.handlers.SecurityInitialHandler.handleRequest(SecurityInitialHandler.java:76)




	at io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43)




	at org.wildfly.extension.undertow.security.jacc.JACCContextIdHandler.handleRequest(JACCContextIdHandler.java:61)




	at io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43)




	at io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43)




	at io.undertow.servlet.handlers.ServletInitialHandler.handleFirstRequest(ServletInitialHandler.java:278)




	at io.undertow.servlet.handlers.ServletInitialHandler.dispatchRequest(ServletInitialHandler.java:255)




	at io.undertow.servlet.handlers.ServletInitialHandler.access$000(ServletInitialHandler.java:80)




	at io.undertow.servlet.handlers.ServletInitialHandler$1.handleRequest(ServletInitialHandler.java:174)




	at io.undertow.server.Connectors.executeRootHandler(Connectors.java:199)




	at io.undertow.server.HttpServerExchange$1.run(HttpServerExchange.java:774)




	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)




	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)




	at java.lang.Thread.run(Thread.java:745)





</description>
			<version>9.0.0.Beta1</version>
			<fixedVersion></fixedVersion>
			<type>Bug</type>
		</buginformation>
		<fixedFiles>
			<file type="M">org.jboss.as.txn.service.internal.tsr.JCAOrderedLastSynchronizationList.java</file>
			<file type="M">org.jboss.as.txn.logging.TransactionLogger.java</file>
			<file type="M">org.jboss.as.txn.service.internal.tsr.TransactionSynchronizationRegistryWrapper.java</file>
		</fixedFiles>
	</bug>
	<bug id="4277" opendate="2015-01-21 19:48:52" fixdate="2015-03-26 14:26:14" resolution="Duplicate Issue">
		<buginformation>
			<summary>Support annotation-property-replacement option in @JMSConnectionFactory, @JMSPasswordCredential</summary>
			<description>See org.jboss.as.messaging.deployment.JMSContextProducer, getJMSContext. Currently the values in JMSConnectionFactory and JMSPasswordCredential are do not go through the property replacement process. Doing so would be nice in order to externalize configuration settings, e.g.






@Inject




@JMSConnectionFactory("${remoteConnectionFactoryName}")




private JMSContext context;





</description>
			<version>8.2.0.Final</version>
			<fixedVersion></fixedVersion>
			<type>Feature Request</type>
		</buginformation>
		<fixedFiles>
			<file type="M">org.jboss.as.test.integration.messaging.jms.context.InjectedJMSContextTestCase.java</file>
			<file type="M">org.jboss.as.messaging.deployment.JMSContextProducer.java</file>
			<file type="M">org.jboss.as.messaging.deployment.CDIDeploymentProcessor.java</file>
			<file type="M">org.jboss.as.messaging.deployment.JMSCDIExtension.java</file>
		</fixedFiles>
		<links>
			<link type="Duplicate" description="duplicates">3475</link>
		</links>
	</bug>
	<bug id="2480" opendate="2013-11-08 20:08:21" fixdate="2015-03-27 03:00:28" resolution="Done">
		<buginformation>
			<summary>Investigate Infinispan test XML files do not validate against XSD yet are parsed ok</summary>
			<description>So one or the other should to change.
cvc-complex-type.2.4.a: Invalid content was found starting with element &amp;amp;apos;store&amp;amp;apos;. One of &amp;amp;apos;
{"urn:jboss:domain:infinispan:2.0":backups, "urn:jboss:domain:infinispan:2.0":backup-for}
&amp;amp;apos; is expected.
cvc-complex-type.2.4.a: Invalid content was found starting with element &amp;amp;apos;mixed-keyed-jdbc-store&amp;amp;apos;. One of &amp;amp;apos;
{"urn:jboss:domain:infinispan:2.0":backups, "urn:jboss:domain:infinispan:2.0":backup-for}
&amp;amp;apos; is expected.
cvc-complex-type.2.4.d: Invalid content was found starting with element &amp;amp;apos;binary-keyed-table&amp;amp;apos;. No child element is expected at this point.</description>
			<version>8.0.0.CR1</version>
			<fixedVersion>9.0.0.Beta1</fixedVersion>
			<type>Bug</type>
		</buginformation>
		<fixedFiles>
			<file type="M">org.jboss.as.clustering.infinispan.subsystem.InfinispanSubsystemXMLWriter.java</file>
		</fixedFiles>
	</bug>
	<bug id="4275" opendate="2015-01-21 13:03:19" fixdate="2015-03-29 02:01:11" resolution="Done">
		<buginformation>
			<summary>Implicit EE component attached to a root implicit bean archive recognized as implicit bean</summary>
			<description>This is no longer necessary (see also WELD-1612).  Furhtermore, it&amp;amp;apos;s producing confusing results. For example, an ProcessBeanAttributes event is fired for com.sun.faces.config.ConfigureListener, org.jboss.weld.servlet.WeldInitialListener and other implicitly added EE components for a WAR deployment with bean-discovery-mode="annotated".</description>
			<version>9.0.0.Alpha1</version>
			<fixedVersion>9.0.0.Beta2</fixedVersion>
			<type>Bug</type>
		</buginformation>
		<fixedFiles>
			<file type="M">org.jboss.as.weld.deployment.processors.BeanArchiveProcessor.java</file>
		</fixedFiles>
	</bug>
	<bug id="4234" opendate="2015-01-08 20:00:39" fixdate="2015-03-30 04:59:08" resolution="Done">
		<buginformation>
			<summary>EjbSuspendInterceptor doesn&amp;apos;t play well with undeploy </summary>
			<description>The scenario is performing undeployment of an EJB application in the presence of incoming requests. 
If my understanding of the suspend/resume mechanism is correct, in the ideal case, performing an undeployment should disable invocations arriving after undeployment has been initiated, and also allow requests active at undeployment initiation some time to complete.
In the clustering integration test RemoteFailoverTestCase, I am seeing failures in which the foloowing sequence of events occurs:

an EJB invocation on EJB SFSB X gets past the EJBSuspendInterceptor
undeployment is initiated and suspend is called on the ControlPoint for X
undeployment proceeds, removing certain resources required for the invocation
the active invocation fails due to resources not being available

Here is one such example (I have added some of my own tracing to identify ControlPoint activities.). 
This is a log from the test in which invocations are arriving from an EJB client during undeployment. The request with input value 2 starts and at about the same time, undeployment is called. The invocation gets past the interceptor but never gets a chance to finish.






[0m14:22:04,459 INFO  [org.jboss.ejb.client] (main) JBoss EJB Client version 2.0.1.Final




14:22:04,485 INFO  [org.jboss.ejb.client.remoting] (Remoting "config-based-ejb-client-endpoint" task-5) EJBCLIENT000017: Received server version 2 and marshalling strategies [river]




14:22:04,492 INFO  [org.jboss.ejb.client.remoting] (main) EJBCLIENT000013: Successful version handshake completed for receiver context EJBReceiverContext{clientContext=org.jboss.ejb.client.EJBClientContext@2ba6ac4c, receiver=Remoting connection EJB receiver [connection=org.jboss.ejb.client.remoting.ConnectionPool$PooledConnection@4b79c7f7,channel=jboss.ejb,nodename=node-0]} on channel Channel ID ad5ee733 (outbound) of Remoting connection 29cd434b to /127.0.0.1:8080




14:22:04,500 INFO  [stdout] (EJB default - 1) ControlPoint: beginRequest called




14:22:04,529 INFO  [org.jboss.ejb.client.remoting] (Remoting "config-based-ejb-client-endpoint" task-15) EJBCLIENT000017: Received server version 2 and marshalling strategies [river]




14:22:04,530 INFO  [org.jboss.ejb.client.remoting] (ejb-client-cluster-node-connection-creation-3-thread-2) EJBCLIENT000013: Successful version handshake completed for receiver context EJBReceiverContext{clientContext=org.jboss.ejb.client.EJBClientContext@2ba6ac4c, receiver=Remoting connection EJB receiver [connection=org.jboss.ejb.client.remoting.ConnectionPool$PooledConnection@74f6ab8a,channel=jboss.ejb,nodename=node-1]} on channel Channel ID d24c9830 (outbound) of Remoting connection 759d3b52 to /127.0.0.1:8180




14:22:04,542 INFO  [org.jboss.ejb.client] (EJB default - 1) JBoss EJB Client version 2.0.1.Final




14:22:04,560 INFO  [stdout] (EJB default - 1) ControlPoint: requestComplete called




14:22:09,682 INFO  [stdout] (EJB default - 2) ControlPoint: beginRequest called




14:22:09,702 INFO  [stdout] (EJB default - 2) ControlPoint: requestComplete called




CLIENT: making invocation on bean: value = 1




14:22:09,710 INFO  [stdout] (EJB default - 3) ControlPoint: beginRequest called




14:22:09,715 INFO  [stdout] (EJB default - 3) ControlPoint: requestComplete called




CLIENT: made invocation on bean [ node-0 ]: new value = 2




14:22:09,717 INFO  [org.jboss.as.test.clustering.NodeUtil] (main) Undeploying deployment=deployment-0




CLIENT: making invocation on bean: value = 2




14:22:09,728 INFO  [stdout] (EJB default - 4) ControlPoint: beginRequest called




14:22:09,730 INFO  [stdout] (ServerService Thread Pool -- 29) EJBComponent: stopping remote-failover-test:remote-failover-test:SlowToDestroyStatefulIncrementorBean




14:22:09,730 INFO  [stdout] (ServerService Thread Pool -- 31) EJBComponent: stopping remote-failover-test:remote-failover-test:StatefulIncrementorBean




14:22:09,730 INFO  [stdout] (ServerService Thread Pool -- 67) EJBComponent: stopping remote-failover-test:remote-failover-test:SecureStatelessIncrementorBean




14:22:09,730 INFO  [stdout] (ServerService Thread Pool -- 31) ControlPoint: pause called




14:22:09,730 INFO  [stdout] (ServerService Thread Pool -- 4) EJBComponent: stopping remote-failover-test:remote-failover-test:StatelessIncrementorBean




14:22:09,731 INFO  [stdout] (ServerService Thread Pool -- 29) ControlPoint: pause called




14:22:09,731 INFO  [stdout] (ServerService Thread Pool -- 11) EJBComponent: stopping remote-failover-test:remote-failover-test:ClientIncrementorBean




14:22:09,731 INFO  [stdout] (ServerService Thread Pool -- 4) ControlPoint: pause called




14:22:09,732 INFO  [stdout] (ServerService Thread Pool -- 67) ControlPoint: pause called




14:22:09,732 INFO  [stdout] (ServerService Thread Pool -- 11) ControlPoint: pause called




14:22:09,733 INFO  [org.infinispan.eviction.impl.PassivationManagerImpl] (ServerService Thread Pool -- 29) ISPN000029: Passivating all entries to disk




14:22:09,735 INFO  [stdout] (EJB default - 4) ControlPoint: requestComplete called




14:22:09,735 ERROR [org.jboss.as.ejb3] (EJB default - 4) WFLYEJB0150: Could not write method invocation failure for method public abstract org.jboss.as.test.clustering.cluster.ejb.remote.bean.Result org.jboss.as.test.clustering.cluster.ejb.remote.bean.Incrementor.increment() on bean named SlowToDestroyStatefulIncrementorBean for appname  modulename remote-failover-test distinctname  due to: java.lang.NullPointerException




	at org.jboss.as.ejb3.remote.protocol.versionone.MethodInvocationMessageHandler.getWeakAffinity(MethodInvocationMessageHandler.java:269)




	at org.jboss.as.ejb3.remote.protocol.versionone.MethodInvocationMessageHandler.access$500(MethodInvocationMessageHandler.java:69)




	at org.jboss.as.ejb3.remote.protocol.versionone.MethodInvocationMessageHandler$1.run(MethodInvocationMessageHandler.java:237)




	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:471)




	at java.util.concurrent.FutureTask.run(FutureTask.java:262)




	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1145)




	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:615)




	at java.lang.Thread.run(Thread.java:744)




	at org.jboss.threads.JBossThread.run(JBossThread.java:320)









14:22:09,736 INFO  [org.infinispan.eviction.impl.PassivationManagerImpl] (ServerService Thread Pool -- 29) ISPN000030: Passivated 2 entries in 2 milliseconds




14:22:09,736 INFO  [org.jboss.ejb.client.remoting] (Remoting "config-based-ejb-client-endpoint" task-5) EJBCLIENT000016: Channel Channel ID ad5ee733 (outbound) of Remoting connection 29cd434b to /127.0.0.1:8080 can no longer process messages




14:22:09,738 INFO  [org.jboss.weld.deployer] (MSC service thread 1-2) WFLYWELD0010: Stopping weld service for deployment remote-failover-test.jar




14:22:09,740 INFO  [org.jboss.as.clustering.infinispan] (ServerService Thread Pool -- 29) WFLYCLINF0003: Stopped remote-failover-test.jar cache from ejb container




14:22:09,760 INFO  [org.infinispan.eviction.impl.PassivationManagerImpl] (ServerService Thread Pool -- 29) ISPN000029: Passivating all entries to disk




14:22:09,761 INFO  [org.infinispan.eviction.impl.PassivationManagerImpl] (ServerService Thread Pool -- 29) ISPN000030: Passivated 1 entries in 0 milliseconds




14:22:09,762 INFO  [org.jboss.as.server.deployment] (MSC service thread 1-5) WFLYSRV0028: Stopped deployment remote-failover-test.jar (runtime-name: remote-failover-test.jar) in 36ms




14:22:09,764 INFO  [org.jboss.as.clustering.infinispan] (ServerService Thread Pool -- 29) WFLYCLINF0003: Stopped dist cache from ejb container




14:22:09,766 INFO  [org.infinispan.remoting.transport.jgroups.JGroupsTransport] (MSC service thread 1-12) ISPN000080: Disconnecting JGroups channel ejb




14:22:09,766 INFO  [org.infinispan.remoting.transport.jgroups.JGroupsTransport] (MSC service thread 1-12) ISPN000082: Stopping the RpcDispatcher for channel ejb




14:22:09,772 INFO  [org.infinispan.remoting.transport.jgroups.JGroupsTransport] (Incoming-4,ee,node-1) ISPN000094: Received new cluster view for channel ejb: [node-1|2] (1) [node-1]




14:22:09,807 INFO  [org.jboss.as.repository] (management-handler-thread - 1) WFLYDR0002: Content removed from location /home/nrla/projects/wildfly-git-repo/testsuite/integration/clustering/target/wildfly-SYNC-tcp-0/standalone/data/content/66/642dea2bc32c3ba888dd173db2b91d18b848b0/content




14:22:09,807 INFO  [org.jboss.as.server] (management-handler-thread - 1) WFLYSRV0009: Undeployed "remote-failover-test.jar" (runtime-name: "remote-failover-test.jar")











Looking at the use of ControlPoints within EJBs, it seems that on undeployment, the EJBComponent.stop() method calls ControlPoint.pause() only which will cause the interceptor to block any future invocations but also not prevent the undeployment from continuing, despite the fact that a request is active.
In this case, it seems that once the EJB components have been stopped, the cache entries for their state have been passivated before the invocation has completed.
Do we need more mechanism for such cases? Like calling some thing on undeployment which will case the control points to be paused as well as allowing active requests to finish, subject to some timeout?
</description>
			<version>9.0.0.Alpha1</version>
			<fixedVersion>9.0.0.CR1</fixedVersion>
			<type>Bug</type>
		</buginformation>
		<fixedFiles>
			<file type="M">org.jboss.as.ejb3.logging.EjbLogger.java</file>
			<file type="M">org.jboss.as.ejb3.component.EJBComponentDescription.java</file>
			<file type="M">org.jboss.as.ejb3.deployment.processors.EJBComponentSuspendDeploymentUnitProcessor.java</file>
			<file type="M">org.jboss.as.ejb3.component.EJBComponent.java</file>
			<file type="M">org.jboss.as.ejb3.component.EJBComponentCreateService.java</file>
		</fixedFiles>
		<links>
			<link type="Related" description="relates to">3532</link>
		</links>
	</bug>
	<bug id="4438" opendate="2015-03-03 09:57:32" fixdate="2015-03-30 05:10:44" resolution="Done">
		<buginformation>
			<summary>Singleton EJB constructor called per method invocation</summary>
			<description>@Singleton EJB constructor and @PostConstruct method call not once.</description>
			<version>8.2.0.Final</version>
			<fixedVersion>9.0.0.Beta1</fixedVersion>
			<type>Bug</type>
		</buginformation>
		<fixedFiles>
			<file type="M">org.jboss.as.weld.ejb.SessionObjectReferenceImpl.java</file>
			<file type="M">org.jboss.as.weld.ejb.StatefulSessionObjectReferenceImpl.java</file>
		</fixedFiles>
	</bug>
	<bug id="4470" opendate="2015-03-30 10:24:17" fixdate="2015-03-31 02:21:32" resolution="Done">
		<buginformation>
			<summary>Duplicate message deliveries when start an MDB twice via CLI </summary>
			<description>Description of problem:
A singleton MDB delivers duplicate messages when start-delivery() is invoked twice while the message being delivered
Steps to Reproduce:
1. Create a producer, which keeps sending messages for every second
2. Deploy a singleton consumer MDB
3. Invoke start-delivery() method on the MDB while the messages being delivered
Actual results:
MDB delivers duplicate messages
Expected results:
MDB needs to ignore start-delivery() call if the MDB has already been started.
Additional info:</description>
			<version>9.0.0.Beta2</version>
			<fixedVersion>9.0.0.CR1</fixedVersion>
			<type>Bug</type>
		</buginformation>
		<fixedFiles>
			<file type="M">org.jboss.as.ejb3.component.messagedriven.MessageDrivenComponent.java</file>
			<file type="M">org.jboss.as.test.integration.ejb.mdb.deliveryactive.MDBTestCase.java</file>
		</fixedFiles>
		<links>
			<link type="Sequence" description="is followed up by">5596</link>
		</links>
	</bug>
	<bug id="4475" opendate="2015-03-31 13:42:34" fixdate="2015-04-02 12:08:39" resolution="Done">
		<buginformation>
			<summary>Replicate AuthenticatedSession when using custom authentication mechanisms</summary>
			<description>Not replicating the authenticated session is just an optimization or BASIC, DIGEST, and CERT mechanisms.  We should treat custom authentication mechanisms the same way we treat FORM mechanisms.</description>
			<version>9.0.0.Beta2</version>
			<fixedVersion>9.0.0.CR1</fixedVersion>
			<type>Bug</type>
		</buginformation>
		<fixedFiles>
			<file type="M">org.wildfly.clustering.web.undertow.session.DistributableSessionTestCase.java</file>
			<file type="M">org.wildfly.clustering.web.undertow.session.DistributableSession.java</file>
		</fixedFiles>
	</bug>
	<bug id="2542" opendate="2013-11-20 05:15:15" fixdate="2015-04-02 15:49:27" resolution="Done">
		<buginformation>
			<summary>Groovy class implementing javax.jms.MessageListener error</summary>
			<description>A Groovy class implementing the MessageListener interface (Message Drive Beans) returns an error at the deployment.
org.jboss.as.server.deployment.DeploymentUnitProcessingException: JBAS014194: EJB 3.1 FR 5.4.2 MessageDrivenBean com.filipeferraz.service.MDBGroovyService does not implement 1 interface nor specifies message listener interface
I have tested with a Java version of the class and works fine, the problem appers only when using a groovy class to implements the MessageListener interface.</description>
			<version>8.0.0.Beta1</version>
			<fixedVersion>8.0.0.CR1</fixedVersion>
			<type>Bug</type>
		</buginformation>
		<fixedFiles>
			<file type="M">org.jboss.as.ejb3.deployment.processors.ViewInterfaces.java</file>
		</fixedFiles>
	</bug>
	<bug id="4441" opendate="2015-03-18 10:34:09" fixdate="2015-04-03 09:40:24" resolution="Done">
		<buginformation>
			<summary>web.xml parser process cannot handle exception for xml file which does not have the encoding attribute</summary>
			<description>Description copied from https://bugzilla.redhat.com/show_bug.cgi?id=1184292
Description of problem:
When XMLStreamException occurs by web.xml parser process for xml file which does not have the encoding attribute, e.getLocation()[1] is null. We cannot find cause of exception by NullPointerException.
[1]

org.jboss.as.web.deployment.WebParsingDeploymentProcessor.java
#115            } catch (XMLStreamException e) 
{
-&amp;gt; #116                throw new DeploymentUnitProcessingException(MESSAGES.failToParseXMLDescriptor(webXml, e.getLocation().getLineNumber(), e.getLocation().getColumnNumber()), e);
#117            }
 catch (IOException e) 
{
#118                throw new DeploymentUnitProcessingException(MESSAGES.failToParseXMLDescriptor(webXml), e);
#119            }
 

Version-Release number of selected component (if applicable):
EAP 6.3.2
How reproducible:
Attached web.xml for reproducing.
Steps to Reproduce:
1. Create war application using attached web.xml.
2. Deploy war to EAP.
3. Start EAP.
Actual results:
You can confirm NullPointerException.
15:56:23,190 ERROR [org.jboss.msc.service.fail] (MSC service thread 1-2) MSC000001: Failed to start service jboss.deployment.unit."test.war".PARSE: org.jboss.msc.service.StartException in service jboss.deployment.unit."test.war".PARSE: JBAS018733: Failed to process phase PARSE of deployment "test.war"
	at org.jboss.as.server.deployment.DeploymentUnitPhaseService.start(DeploymentUnitPhaseService.java:166) [jboss-as-server-7.4.2.Final-redhat-2.jar:7.4.2.Final-redhat-2]
	at org.jboss.msc.service.ServiceControllerImpl$StartTask.startService(ServiceControllerImpl.java:1980) [jboss-msc-1.1.5.Final-redhat-1.jar:1.1.5.Final-redhat-1]
	at org.jboss.msc.service.ServiceControllerImpl$StartTask.run(ServiceControllerImpl.java:1913) [jboss-msc-1.1.5.Final-redhat-1.jar:1.1.5.Final-redhat-1]
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1145) [rt.jar:1.7.0_71]
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:615) [rt.jar:1.7.0_71]
	at java.lang.Thread.run(Thread.java:745) [rt.jar:1.7.0_71]
Caused by: java.lang.NullPointerException
	at org.jboss.as.web.deployment.WebParsingDeploymentProcessor.deploy(WebParsingDeploymentProcessor.java:116)
	at org.jboss.as.server.deployment.DeploymentUnitPhaseService.start(DeploymentUnitPhaseService.java:159) [jboss-as-server-7.4.2.Final-redhat-2.jar:7.4.2.Final-redhat-2]
	... 5 more</description>
			<version>9.0.0.Alpha1</version>
			<fixedVersion></fixedVersion>
			<type>Bug</type>
		</buginformation>
		<fixedFiles>
			<file type="M">org.wildfly.extension.undertow.deployment.WebParsingDeploymentProcessor.java</file>
			<file type="M">org.wildfly.extension.undertow.logging.UndertowLogger.java</file>
		</fixedFiles>
	</bug>
	<bug id="4451" opendate="2015-03-20 20:36:58" fixdate="2015-04-06 17:12:25" resolution="Done">
		<buginformation>
			<summary>Security ModuleClassLoaderLocator.CombinedClassLoader does not implement getResources</summary>
			<description>org.jboss.as.security.plugins.ModuleClassLoaderLocator.CombinedClassLoader does not implement getResources.  This classloader combines a module classloader with the thread context classloader.  It implements loadClass, getResource &amp;amp; getResourceAsStream and checks the module classloader first and if it finds it returns it else checks the TCCL.
It does not implement getResources which causes custom security login modules to not be able to locate resources via getResources.</description>
			<version>9.0.0.Alpha1</version>
			<fixedVersion>9.0.0.Beta2</fixedVersion>
			<type>Bug</type>
		</buginformation>
		<fixedFiles>
			<file type="M">org.jboss.as.security.plugins.ModuleClassLoaderLocator.java</file>
		</fixedFiles>
	</bug>
	<bug id="4173" opendate="2014-12-10 22:50:41" fixdate="2015-04-07 11:26:37" resolution="Done">
		<buginformation>
			<summary>Server side EJB Handler not compression response</summary>
			<description>When compression is enabled for request/response, the jboss-ejb-client is sending a compressed request, but the application server is responding with an uncompressed response.
On the server enabling TRACE on org.jboss.as.ejb3, we can see the server receives a compressed request
TRACE [org.jboss.as.ejb3] (default task-5) Got message with header 0x1b on channel Channel ID 56b01772 (inbound) of Remoting connection TRACE [org.jboss.as.ejb3.invocation] (default task-5) Received a compressed message stream
Client side, Enabling TRACE on the client side for org.jboss.ejb.client we see it is 0x5 where it should be 0x1b
TRACE org.jboss.ejb.client.remoting.ChannelAssociation - Received message with header 0x5</description>
			<version>9.0.0.Alpha1</version>
			<fixedVersion></fixedVersion>
			<type>Bug</type>
		</buginformation>
		<fixedFiles>
			<file type="M">org.jboss.as.ejb3.remote.protocol.versiontwo.VersionTwoProtocolChannelReceiver.java</file>
			<file type="M">org.jboss.as.ejb3.remote.protocol.versionone.MethodInvocationMessageHandler.java</file>
		</fixedFiles>
		<links>
			<link type="Related" description="relates to">1332</link>
		</links>
	</bug>
	<bug id="4483" opendate="2015-04-02 12:57:40" fixdate="2015-04-07 23:29:29" resolution="Done">
		<buginformation>
			<summary>Resteasy+Spring integration can result in double VFS mount if deployment fails</summary>
			<description>I have a spring MVC war that failed during deployment because of some external resource missing ( a cassandra keyspace).
When I tried to deploy the war again after fixing the issue (through the web console) I got :
Caused by: java.io.IOException: VFS000017: Filesystem already mounted at mount point \"\"/wildfly/modules/system/layers/base/org/jboss/resteasy/resteasy-spring/main/bundled/resteasy-spring-jar/resteasy-spring-3.0.11.Final.jar
It looks like we are trying to mount the file again while the service managing the mounthandle hasn&amp;amp;apos;t stopped.</description>
			<version>9.0.0.Beta2</version>
			<fixedVersion>9.0.0.CR1</fixedVersion>
			<type>Bug</type>
		</buginformation>
		<fixedFiles>
			<file type="M">org.jboss.as.jaxrs.deployment.JaxrsSpringProcessor.java</file>
		</fixedFiles>
	</bug>
	<bug id="4489" opendate="2015-04-08 06:21:55" fixdate="2015-04-08 21:14:25" resolution="Done">
		<buginformation>
			<summary>NPE on missing name of &lt;distributed-workmanager&gt;</summary>
			<description>When the name attribute of &amp;lt;distributed-workmanager&amp;gt; is missing instead of a descriptive log message you get a NullPointerException. The issue is that the StringBuilder constructor is called with the value of the name attribute instead of the name of the name attribute ("name").
Something like this:






&amp;lt;subsystem xmlns="urn:jboss:domain:jca:2.0"&amp;gt;




    &amp;lt;distributed-workmanager/&amp;gt;




&amp;lt;/subsystem&amp;gt;






Will produce a stack trace like this:






[org.jboss.as.server] (Controller Boot Thread) WFLYSRV0055: Caught exception during boot: org.jboss.as.controller.persistence.ConfigurationPersistenceException: WFLYCTL0085: Failed to parse configuration




	at org.jboss.as.controller.persistence.XmlConfigurationPersister.load(XmlConfigurationPersister.java:131)




	at org.jboss.as.server.ServerService.boot(ServerService.java:347)




	at org.jboss.as.controller.AbstractControllerService$1.run(AbstractControllerService.java:271)




	at java.lang.Thread.run(Thread.java:745)




Caused by: java.lang.NullPointerException




	at java.lang.StringBuilder.&amp;lt;init&amp;gt;(StringBuilder.java:112)




	at org.jboss.as.connector.subsystems.jca.JcaExtension$ConnectorSubsystemParser.parseDistributedWorkManager(JcaExtension.java:560)




	at org.jboss.as.connector.subsystems.jca.JcaExtension$ConnectorSubsystemParser.readElement(JcaExtension.java:367)




	at org.jboss.as.connector.subsystems.jca.JcaExtension$ConnectorSubsystemParser.readElement(JcaExtension.java:119)




	at org.jboss.staxmapper.XMLMapperImpl.processNested(XMLMapperImpl.java:110)




	at org.jboss.staxmapper.XMLExtendedStreamReaderImpl.handleAny(XMLExtendedStreamReaderImpl.java:69)




	at org.jboss.as.server.parsing.StandaloneXml.parseServerProfile(StandaloneXml.java:1199)




	at org.jboss.as.server.parsing.StandaloneXml.readServerElement_1_4(StandaloneXml.java:457)




	at org.jboss.as.server.parsing.StandaloneXml.readElement(StandaloneXml.java:144)




	at org.jboss.as.server.parsing.StandaloneXml.readElement(StandaloneXml.java:106)




	at org.jboss.staxmapper.XMLMapperImpl.processNested(XMLMapperImpl.java:110)




	at org.jboss.staxmapper.XMLMapperImpl.parseDocument(XMLMapperImpl.java:69)




	at org.jboss.as.controller.persistence.XmlConfigurationPersister.load(XmlConfigurationPersister.java:123)






After the patch the stack trace looks like this:






org.jboss.as.server] (Controller Boot Thread) WFLYSRV0055: Caught exception during boot: org.jboss.as.controller.persistence.ConfigurationPersistenceException: WFLYCTL0085: Failed to parse configuration




	at org.jboss.as.controller.persistence.XmlConfigurationPersister.load(XmlConfigurationPersister.java:131) [wildfly-controller-1.0.0.Beta2.jar:1.0.0.Beta2]




	at org.jboss.as.server.ServerService.boot(ServerService.java:347) [wildfly-server-1.0.0.Beta2.jar:1.0.0.Beta2]




	at org.jboss.as.controller.AbstractControllerService$1.run(AbstractControllerService.java:271) [wildfly-controller-1.0.0.Beta2.jar:1.0.0.Beta2]




	at java.lang.Thread.run(Thread.java:745) [rt.jar:1.8.0_40]




Caused by: javax.xml.stream.XMLStreamException: ParseError at [row,col]:[274,13]




Message: WFLYCTL0133: Missing required attribute(s): name




	at org.jboss.as.connector.subsystems.jca.JcaExtension$ConnectorSubsystemParser.parseDistributedWorkManager(JcaExtension.java:563)




	at org.jboss.as.connector.subsystems.jca.JcaExtension$ConnectorSubsystemParser.readElement(JcaExtension.java:368)




	at org.jboss.as.connector.subsystems.jca.JcaExtension$ConnectorSubsystemParser.readElement(JcaExtension.java:120)




	at org.jboss.staxmapper.XMLMapperImpl.processNested(XMLMapperImpl.java:110) [staxmapper-1.2.0.Beta1.jar:1.2.0.Beta1]




	at org.jboss.staxmapper.XMLExtendedStreamReaderImpl.handleAny(XMLExtendedStreamReaderImpl.java:69) [staxmapper-1.2.0.Beta1.jar:1.2.0.Beta1]




	at org.jboss.as.server.parsing.StandaloneXml.parseServerProfile(StandaloneXml.java:1199) [wildfly-server-1.0.0.Beta2.jar:1.0.0.Beta2]




	at org.jboss.as.server.parsing.StandaloneXml.readServerElement_1_4(StandaloneXml.java:457) [wildfly-server-1.0.0.Beta2.jar:1.0.0.Beta2]




	at org.jboss.as.server.parsing.StandaloneXml.readElement(StandaloneXml.java:144) [wildfly-server-1.0.0.Beta2.jar:1.0.0.Beta2]




	at org.jboss.as.server.parsing.StandaloneXml.readElement(StandaloneXml.java:106) [wildfly-server-1.0.0.Beta2.jar:1.0.0.Beta2]




	at org.jboss.staxmapper.XMLMapperImpl.processNested(XMLMapperImpl.java:110) [staxmapper-1.2.0.Beta1.jar:1.2.0.Beta1]




	at org.jboss.staxmapper.XMLMapperImpl.parseDocument(XMLMapperImpl.java:69) [staxmapper-1.2.0.Beta1.jar:1.2.0.Beta1]




	at org.jboss.as.controller.persistence.XmlConfigurationPersister.load(XmlConfigurationPersister.java:123) [wildfly-controller-1.0.0.Beta2.jar:1.0.0.Beta2]





</description>
			<version>9.0.0.Beta2</version>
			<fixedVersion>9.0.0.CR1</fixedVersion>
			<type>Bug</type>
		</buginformation>
		<fixedFiles>
			<file type="M">org.jboss.as.connector.subsystems.jca.JcaExtension.java</file>
		</fixedFiles>
	</bug>
	<bug id="4498" opendate="2015-04-10 11:00:11" fixdate="2015-04-17 12:26:50" resolution="Done">
		<buginformation>
			<summary>Resource Adapters subsystem transformers for model version 2.0.0 are not registered</summary>
			<description>Due to a typo the transformers of ResourceAdapters subsystem for the model version 2.0.0 are not registered.</description>
			<version>9.0.0.Beta2</version>
			<fixedVersion>9.0.0.CR1</fixedVersion>
			<type>Bug</type>
		</buginformation>
		<fixedFiles>
			<file type="M">org.jboss.as.connector.subsystems.resourceadapters.ResourceAdaptersRootResourceDefinition.java</file>
		</fixedFiles>
	</bug>
	<bug id="4100" opendate="2014-11-19 23:02:18" fixdate="2015-04-17 18:12:57" resolution="Done">
		<buginformation>
			<summary>Intermittent failure in org.jboss.as.test.integration.ejb.stateful.passivation.PassivationTestCase</summary>
			<description>Seems to be a transactional issue with Infinispan eviction.






javax.ejb.EJBException: java.lang.IllegalStateException: WFLYCLEJBINF0008: Stateful session bean {[-89, -53, -3, -58, 52, -115, 78, 79, -106, -9, -119, 3, 0, 35, -10, -106]} refers to an invalid bean group 6c5836ab-086a-464c-8ae9-29e1a79a8254




    at org.wildfly.clustering.ejb.infinispan.bean.InfinispanBeanFactory.createBean(InfinispanBeanFactory.java:75)




    at org.wildfly.clustering.ejb.infinispan.InfinispanBeanManager.findBean(InfinispanBeanManager.java:266)




    at org.jboss.as.ejb3.cache.distributable.DistributableCache.get(DistributableCache.java:115)




    at org.jboss.as.ejb3.component.stateful.StatefulComponentInstanceInterceptor.processInvocation(StatefulComponentInstanceInterceptor.java:58)




    at org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:309)




    at org.jboss.as.ejb3.tx.CMTTxInterceptor.invokeInOurTx(CMTTxInterceptor.java:280)




    at org.jboss.as.ejb3.tx.CMTTxInterceptor.required(CMTTxInterceptor.java:345)




    at org.jboss.as.ejb3.tx.CMTTxInterceptor.processInvocation(CMTTxInterceptor.java:243)




    at org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:309)




    at org.jboss.as.ejb3.remote.EJBRemoteTransactionPropagatingInterceptor.processInvocation(EJBRemoteTransactionPropagatingInterceptor.java:79)




    at org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:309)




    at org.jboss.as.ejb3.component.interceptors.CurrentInvocationContextInterceptor.processInvocation(CurrentInvocationContextInterceptor.java:41)




    at org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:309)




    at org.jboss.as.ejb3.component.invocationmetrics.WaitTimeInterceptor.processInvocation(WaitTimeInterceptor.java:43)




    at org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:309)




    at org.jboss.as.ejb3.security.SecurityContextInterceptor.processInvocation(SecurityContextInterceptor.java:100)




    at org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:309)




    at org.jboss.as.ejb3.deployment.processors.EjbSuspendInterceptor.processInvocation(EjbSuspendInterceptor.java:44)




    at org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:309)




    at org.jboss.as.ejb3.component.interceptors.LoggingInterceptor.processInvocation(LoggingInterceptor.java:59)




    at org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:309)




    at org.jboss.as.ee.component.NamespaceContextInterceptor.processInvocation(NamespaceContextInterceptor.java:50)




    at org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:309)




    at org.jboss.as.ejb3.component.interceptors.AdditionalSetupInterceptor.processInvocation(AdditionalSetupInterceptor.java:55)




    at org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:309)




    at org.jboss.invocation.ContextClassLoaderInterceptor.processInvocation(ContextClassLoaderInterceptor.java:64)




    at org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:309)




    at org.jboss.invocation.InterceptorContext.run(InterceptorContext.java:326)




    at org.wildfly.security.manager.WildFlySecurityManager.doChecked(WildFlySecurityManager.java:622)




    at org.jboss.invocation.AccessCheckingInterceptor.processInvocation(AccessCheckingInterceptor.java:61)




    at org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:309)




    at org.jboss.invocation.InterceptorContext.run(InterceptorContext.java:326)




    at org.jboss.invocation.PrivilegedWithCombinerInterceptor.processInvocation(PrivilegedWithCombinerInterceptor.java:80)




    at org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:309)




    at org.jboss.invocation.ChainedInterceptor.processInvocation(ChainedInterceptor.java:61)




    at org.jboss.as.ee.component.ViewService$View.invoke(ViewService.java:195)




    at org.jboss.as.ejb3.remote.LocalEjbReceiver.processInvocation(LocalEjbReceiver.java:243)




    at org.jboss.ejb.client.EJBClientInvocationContext.sendRequest(EJBClientInvocationContext.java:184)




    at org.jboss.ejb.client.EJBObjectInterceptor.handleInvocation(EJBObjectInterceptor.java:58)




    at org.jboss.ejb.client.EJBClientInvocationContext.sendRequest(EJBClientInvocationContext.java:186)




    at org.jboss.ejb.client.EJBHomeInterceptor.handleInvocation(EJBHomeInterceptor.java:83)




    at org.jboss.ejb.client.EJBClientInvocationContext.sendRequest(EJBClientInvocationContext.java:186)




    at org.jboss.ejb.client.TransactionInterceptor.handleInvocation(TransactionInterceptor.java:42)




    at org.jboss.ejb.client.EJBClientInvocationContext.sendRequest(EJBClientInvocationContext.java:186)




    at org.jboss.as.test.integration.ejb.remote.client.api.interceptor.SimpleEJBClientInterceptor.handleInvocation(SimpleEJBClientInterceptor.java:48)




    at org.jboss.ejb.client.EJBClientInvocationContext.sendRequest(EJBClientInvocationContext.java:186)




    at org.jboss.ejb.client.ReceiverInterceptor.handleInvocation(ReceiverInterceptor.java:125)




    at org.jboss.ejb.client.EJBClientInvocationContext.sendRequest(EJBClientInvocationContext.java:186)




    at org.jboss.ejb.client.EJBInvocationHandler.sendRequestWithPossibleRetries(EJBInvocationHandler.java:253)




    at org.jboss.ejb.client.EJBInvocationHandler.doInvoke(EJBInvocationHandler.java:198)




    at org.jboss.ejb.client.EJBInvocationHandler.doInvoke(EJBInvocationHandler.java:181)




    at org.jboss.ejb.client.EJBInvocationHandler.invoke(EJBInvocationHandler.java:144)




    at com.sun.proxy.$Proxy328.getManagedBeanMessage(Unknown Source)




    at org.jboss.as.test.integration.ejb.stateful.passivation.PassivationTestCase.testPassivationMaxSize(PassivationTestCase.java:103)





</description>
			<version>9.0.0.Alpha1</version>
			<fixedVersion>9.0.0.CR1</fixedVersion>
			<type>Bug</type>
		</buginformation>
		<fixedFiles>
			<file type="M">org.jboss.as.clustering.infinispan.subsystem.AdvancedCacheConfigurationBuilder.java</file>
		</fixedFiles>
	</bug>
	<bug id="4511" opendate="2015-04-14 05:48:01" fixdate="2015-04-19 05:50:18" resolution="Done">
		<buginformation>
			<summary>CMTTxInterceptor.invokeInOurTx contains stale code handling ApplicationDeadlockException</summary>
			<description>Description of problem:

git://git.app.eng.bos.redhat.com/jbossas/jboss-as.git
ejb3/src/main/java/org/jboss/as/ejb3/tx/CMTTxInterceptor.java

There is stale code catching ApplicationDeadlockException and attempting to retry the transaction. This results in a failure if the exception is raised and retry does not occur.
Version-Release number of selected component (if applicable):
How reproducible:
Consistently
Steps to Reproduce:

Visual Inspection
OR
Register a transaction Synchronization object which raises the exception during beforeCompletion()

Note that EAP no longer raises this exception. The catch block code handling ApplicationDeadlockException seems to be an artifact of EAP 4 and should simply be removed.
Actual results:
Retry does not occur
Expected results:
Retry should not be attempted by this code</description>
			<version>9.0.0.Beta2</version>
			<fixedVersion>9.0.0.CR1</fixedVersion>
			<type>Bug</type>
		</buginformation>
		<fixedFiles>
			<file type="M">org.jboss.as.ejb3.tx.CMTTxInterceptor.java</file>
		</fixedFiles>
	</bug>
	<bug id="4487" opendate="2015-04-07 08:26:03" fixdate="2015-04-24 12:47:28" resolution="Done">
		<buginformation>
			<summary>Unable to inject Web Service Context into CDI Interceptor</summary>
			<description>CDI Interceptor cannot inject Web Service context.
When trying to inject WebServiceContext in CDI Interceptor using @Resource annotation but it fails with: NameNotFoundException: env/org.example.MyInterceptor/webServiceContext</description>
			<version>9.0.0.Alpha1</version>
			<fixedVersion>9.0.0.Beta1</fixedVersion>
			<type>Bug</type>
		</buginformation>
		<fixedFiles>
			<file type="M">org.jboss.as.weld.services.bootstrap.WeldResourceInjectionServices.java</file>
		</fixedFiles>
		<links>
			<link type="Cloners" description="cloned from">3900</link>
		</links>
	</bug>
	<bug id="2881" opendate="2014-02-08 13:01:43" fixdate="2015-04-27 08:51:24" resolution="Done">
		<buginformation>
			<summary>org.jboss.as.ejb3.timer.schedule.CalendarBasedTimeoutTestCase#testCalendarBasedTimeout</summary>
			<description>Running build with smoke tests on current github sources I get failure in this test case.
HOUR_OF_DAY is not 0 as expected but 1.
I changed the Assert in the test case to print out firstTimeout.toString() instead of only timeZoneDisplayName.
See attached files for more.</description>
			<version>9.0.0.Beta2</version>
			<fixedVersion>8.1.0.CR1, 8.1.0.Final, 9.0.0.Beta2</fixedVersion>
			<type>Bug</type>
		</buginformation>
		<fixedFiles>
			<file type="M">org.jboss.as.ejb3.timerservice.schedule.CalendarBasedTimeout.java</file>
			<file type="M">org.jboss.as.ejb3.timer.schedule.CalendarBasedTimeoutTestCase.java</file>
		</fixedFiles>
		<links>
			<link type="Duplicate" description="is duplicated by">2887</link>
		</links>
	</bug>
	<bug id="2807" opendate="2014-01-23 21:24:19" fixdate="2015-04-30 01:30:40" resolution="Done">
		<buginformation>
			<summary>Messaging subsystem runtime-queue resource is not registered as "runtime-only"</summary>
			<description>The runtime-queue resource only exists at runtime but isn&amp;amp;apos;t registered as such. I noticed this as ManagementClient does a recursive read-resource of the entire tree, but with include-runtime=false, but a CI run showed a failure reading one of these resources anyway:
```
21:01:01,754 ERROR [org.jboss.as.controller.management-operation] (management-handler-thread - 4) JBAS014613: Operation ("read-attribute") failed - address: ([
    ("subsystem" =&amp;gt; "messaging"),
    ("hornetq-server" =&amp;gt; "default"),
    ("runtime-queue" =&amp;gt; "jms.tempqueue.661a6b15-7863-4d6c-b4b1-f8d62d294ea5")
]) - failure description: "JBAS011676: No resource exists at address [
    (\"subsystem\" =&amp;gt; \"messaging\"),
    (\"hornetq-server\" =&amp;gt; \"default\"),
    (\"runtime-queue\" =&amp;gt; \"jms.tempqueue.661a6b15-7863-4d6c-b4b1-f8d62d294ea5\")
]"
```
Doing read-resource with these is a bit problematic in any case, since a bunch of read-attribute calls get executed as steps (that&amp;amp;apos;s what the above was) but the resource can disappear in the middle. But that&amp;amp;apos;s a separate problem. </description>
			<version>8.0.0.CR1</version>
			<fixedVersion>9.0.0.CR1</fixedVersion>
			<type>Bug</type>
		</buginformation>
		<fixedFiles>
			<file type="M">org.jboss.as.messaging.MessagingExtension.java</file>
			<file type="M">org.jboss.as.test.integration.messaging.jms.definitions.JMSResourceManagementTestCase.java</file>
			<file type="M">org.jboss.as.messaging.HornetQServerResourceDefinition.java</file>
		</fixedFiles>
	</bug>
	<bug id="4580" opendate="2015-05-04 09:11:36" fixdate="2015-05-05 02:18:55" resolution="Done">
		<buginformation>
			<summary>Lifecycle interceptors do not work</summary>
			<description>I&amp;amp;apos;ve been trying to use lifecycle interceptors (intercepting PostConstruct and PreDestroy, see https://issues.jboss.org/browse/WELD-1346 for reference) in my project and those do not seem to work at all (nor on enterprise managed beans nor on regular CDI managed beans).
I tried on both JBoss AS 7.1.1 and Wildfly 8.2.0 but lifecycle interceptors are never called while other interceptors (AroundInvoke) are.
I tested the same code on OpenEJB and it works.</description>
			<version>JBoss AS7 7.1.1.Final</version>
			<fixedVersion></fixedVersion>
			<type>Bug</type>
		</buginformation>
		<fixedFiles>
			<file type="M">org.jboss.as.test.integration.weld.interceptor.packaging.SimpleEjb2.java</file>
			<file type="M">org.jboss.as.test.integration.weld.interceptor.packaging.InterceptorPackagingTestCase.java</file>
			<file type="M">org.jboss.as.test.integration.weld.interceptor.packaging.SimpleInterceptor.java</file>
		</fixedFiles>
	</bug>
	<bug id="4579" opendate="2015-05-04 08:10:17" fixdate="2015-05-05 20:02:43" resolution="Done">
		<buginformation>
			<summary>BeanManager method getBeans() is not available during application initialization</summary>
			<description>Deployment of an EAR fails because of this exception:
09:34:30,854 INFO  [org.jboss.weld.deployer] (MSC service thread 1-2) JBAS016002: Processing weld deployment Project-ejb.jar
09:34:30,862 INFO  [org.jboss.as.ejb3.deployment.processors.EjbJndiBindingsDeploymentUnitProcessor] (MSC service thread 1-2) JNDI bindings for session bean named ModelContext in deployment unit subdeployment "Project-ejb.jar" of deployment "Project-ear-0.1.0-SNAPSHOT.ear" are as follows:
        java:global/Project-ear-0.1.0-SNAPSHOT/Project-ejb/ModelContext!simulator.ModelContext
        java:app/Project-ejb/ModelContext!simulator.ModelContext
        java:module/ModelContext!simulator.ModelContext
        java:global/Project-ear-0.1.0-SNAPSHOT/Project-ejb/ModelContext
        java:app/Project-ejb/ModelContext
        java:module/ModelContext
09:34:30,863 INFO  [org.jboss.as.ejb3.deployment.processors.EjbJndiBindingsDeploymentUnitProcessor] (MSC service thread 1-2) JNDI bindings for session bean named AccountsBean in deployment unit subdeployment "Project-ejb.jar" of deployment "Project-ear-0.1.0-SNAPSHOT.ear" are as follows:
        java:global/Project-ear-0.1.0-SNAPSHOT/Project-ejb/AccountsBean!simulator.AccountsBean
        java:app/Project-ejb/AccountsBean!simulator.AccountsBean
        java:module/AccountsBean!simulator.AccountsBean
        java:global/Project-ear-0.1.0-SNAPSHOT/Project-ejb/AccountsBean
        java:app/Project-ejb/AccountsBean
        java:module/AccountsBean
09:34:30,864 INFO  [org.jboss.as.ejb3.deployment.processors.EjbJndiBindingsDeploymentUnitProcessor] (MSC service thread 1-2) JNDI bindings for session bean named ContactsBean in deployment unit subdeployment "Project-ejb.jar" of deployment "Project-ear-0.1.0-SNAPSHOT.ear" are as follows:
        java:global/Project-ear-0.1.0-SNAPSHOT/Project-ejb/ContactsBean!simulator.ContactsBean
        java:app/Project-ejb/ContactsBean!simulator.ContactsBean
        java:module/ContactsBean!simulator.ContactsBean
        java:global/Project-ear-0.1.0-SNAPSHOT/Project-ejb/ContactsBean
        java:app/Project-ejb/ContactsBean
        java:module/ContactsBean
09:34:30,892 INFO  [org.jboss.weld.deployer] (MSC service thread 1-1) JBAS016002: Processing weld deployment Project-webapp.war
09:34:30,954 INFO  [org.jboss.weld.deployer] (MSC service thread 1-1) JBAS016005: Starting Services for CDI deployment: Project-ear-0.1.0-SNAPSHOT.ear
09:34:31,016 INFO  [org.jboss.weld.Version] (MSC service thread 1-1) WELD-000900: 2.2.6 (Final)
09:34:31,169 INFO  [org.jboss.weld.deployer] (MSC service thread 1-3) JBAS016008: Starting weld service for deployment Project-ear-0.1.0-SNAPSHOT.ear
09:34:32,203 INFO  [javax.enterprise.resource.webcontainer.jsf.config] (MSC service thread 1-1) Mojarra 2.2.8-jbossorg-1 20140822-1131 fr Kontext &amp;amp;apos;/v1&amp;amp;apos; wird initialisiert.
09:34:33,738 SEVERE [javax.enterprise.resource.webcontainer.jsf.config] (MSC service thread 1-1) Critical error during deployment: : org.jboss.weld.exceptions.IllegalStateException: WELD-001332: BeanManager method getBeans() is not available during application initialization
        at org.jboss.weld.bean.builtin.BeanManagerProxy.checkContainerState(BeanManagerProxy.java:246) [weld-core-impl-2.2.6.Final.jar:2014-10-03 10:05]
        at org.jboss.weld.bean.builtin.BeanManagerProxy.checkContainerState(BeanManagerProxy.java:251) [weld-core-impl-2.2.6.Final.jar:2014-10-03 10:05]
        at org.jboss.weld.bean.builtin.BeanManagerProxy.getBeans(BeanManagerProxy.java:100) [weld-core-impl-2.2.6.Final.jar:2014-10-03 10:05]
        at com.sun.faces.application.JavaFlowLoaderHelper.loadFlows(JavaFlowLoaderHelper.java:66) [jsf-impl-2.2.8-jbossorg-1.jar:]
        at com.sun.faces.application.ApplicationAssociate$PostConstructApplicationListener.processEvent(ApplicationAssociate.java:298) [jsf-impl-2.2.8-jbossorg-1.jar:]
        at javax.faces.event.SystemEvent.processListener(SystemEvent.java:108) [jboss-jsf-api_2.2_spec-2.2.8.jar:2.2.8]
        at com.sun.faces.application.ApplicationImpl.processListeners(ApplicationImpl.java:2190) [jsf-impl-2.2.8-jbossorg-1.jar:]
        at com.sun.faces.application.ApplicationImpl.invokeListenersFor(ApplicationImpl.java:2163) [jsf-impl-2.2.8-jbossorg-1.jar:]
        at com.sun.faces.application.ApplicationImpl.publishEvent(ApplicationImpl.java:296) [jsf-impl-2.2.8-jbossorg-1.jar:]
        at org.jboss.as.jsf.injection.weld.ForwardingApplication.publishEvent(ForwardingApplication.java:294) [wildfly-jsf-injection-8.2.0.Final.jar:8.2.0.Final]
        at com.sun.faces.config.ConfigManager.publishPostConfigEvent(ConfigManager.java:692) [jsf-impl-2.2.8-jbossorg-1.jar:]
        at com.sun.faces.config.ConfigureListener.contextInitialized(ConfigureListener.java:260) [jsf-impl-2.2.8-jbossorg-1.jar:]
        at io.undertow.servlet.core.ApplicationListeners.contextInitialized(ApplicationListeners.java:173) [undertow-servlet-1.1.0.Final.jar:1.1.0.Final]
        at io.undertow.servlet.core.DeploymentManagerImpl.deploy(DeploymentManagerImpl.java:193) [undertow-servlet-1.1.0.Final.jar:1.1.0.Final]
        at org.wildfly.extension.undertow.deployment.UndertowDeploymentService.startContext(UndertowDeploymentService.java:87)
        at org.wildfly.extension.undertow.deployment.UndertowDeploymentService.start(UndertowDeploymentService.java:72)
        at org.jboss.msc.service.ServiceControllerImpl$StartTask.startService(ServiceControllerImpl.java:1948)
        at org.jboss.msc.service.ServiceControllerImpl$StartTask.run(ServiceControllerImpl.java:1881)
        at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142) [rt.jar:1.8.0_31]
        at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617) [rt.jar:1.8.0_31]
        at java.lang.Thread.run(Thread.java:745) [rt.jar:1.8.0_31]
09:34:33,938 ERROR [org.jboss.msc.service.fail] (MSC service thread 1-1) MSC000001: Failed to start service jboss.undertow.deployment.default-server.default-host./v1: org.jboss.msc.service.StartException in service jboss.undertow.deployment.default-server.default-host./v1: Failed to start service
        at org.jboss.msc.service.ServiceControllerImpl$StartTask.run(ServiceControllerImpl.java:1904) [jboss-msc-1.2.2.Final.jar:1.2.2.Final]
        at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142) [rt.jar:1.8.0_31]
        at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617) [rt.jar:1.8.0_31]
        at java.lang.Thread.run(Thread.java:745) [rt.jar:1.8.0_31]
Caused by: java.lang.RuntimeException: java.lang.RuntimeException: org.jboss.weld.exceptions.IllegalStateException: WELD-001332: BeanManager method getBeans() is not available during application initialization
        at io.undertow.servlet.core.DeploymentManagerImpl.deploy(DeploymentManagerImpl.java:222)
        at org.wildfly.extension.undertow.deployment.UndertowDeploymentService.startContext(UndertowDeploymentService.java:87)
        at org.wildfly.extension.undertow.deployment.UndertowDeploymentService.start(UndertowDeploymentService.java:72)
        at org.jboss.msc.service.ServiceControllerImpl$StartTask.startService(ServiceControllerImpl.java:1948) [jboss-msc-1.2.2.Final.jar:1.2.2.Final]
        at org.jboss.msc.service.ServiceControllerImpl$StartTask.run(ServiceControllerImpl.java:1881) [jboss-msc-1.2.2.Final.jar:1.2.2.Final]
        ... 3 more
Caused by: java.lang.RuntimeException: org.jboss.weld.exceptions.IllegalStateException: WELD-001332: BeanManager method getBeans() is not available during application initialization
        at com.sun.faces.config.ConfigureListener.contextInitialized(ConfigureListener.java:280)
        at io.undertow.servlet.core.ApplicationListeners.contextInitialized(ApplicationListeners.java:173)
        at io.undertow.servlet.core.DeploymentManagerImpl.deploy(DeploymentManagerImpl.java:193)
        ... 7 more
Caused by: org.jboss.weld.exceptions.IllegalStateException: WELD-001332: BeanManager method getBeans() is not available during application initialization
        at org.jboss.weld.bean.builtin.BeanManagerProxy.checkContainerState(BeanManagerProxy.java:246)
        at org.jboss.weld.bean.builtin.BeanManagerProxy.checkContainerState(BeanManagerProxy.java:251)
        at org.jboss.weld.bean.builtin.BeanManagerProxy.getBeans(BeanManagerProxy.java:100)
        at com.sun.faces.application.JavaFlowLoaderHelper.loadFlows(JavaFlowLoaderHelper.java:66)
        at com.sun.faces.application.ApplicationAssociate$PostConstructApplicationListener.processEvent(ApplicationAssociate.java:298)
        at javax.faces.event.SystemEvent.processListener(SystemEvent.java:108)
        at com.sun.faces.application.ApplicationImpl.processListeners(ApplicationImpl.java:2190)
        at com.sun.faces.application.ApplicationImpl.invokeListenersFor(ApplicationImpl.java:2163)
        at com.sun.faces.application.ApplicationImpl.publishEvent(ApplicationImpl.java:296)
        at org.jboss.as.jsf.injection.weld.ForwardingApplication.publishEvent(ForwardingApplication.java:294)
        at com.sun.faces.config.ConfigManager.publishPostConfigEvent(ConfigManager.java:692)
        at com.sun.faces.config.ConfigureListener.contextInitialized(ConfigureListener.java:260)
        ... 9 more
09:34:34,099 ERROR [org.jboss.as.controller.management-operation] (DeploymentScanner-threads - 2) JBAS014613: Operation ("deploy") failed - address: ([("deployment" =&amp;gt; "Project-ear-0.1.0-SNAPSHOT.ear")]) - failure description: {"JBAS014671: Failed services" =&amp;gt; {"jboss.undertow.deployment.default-server.default-host./v1" =&amp;gt; "org.jboss.msc.service.StartException in service jboss.undertow.deployment.default-server.default-host./v1: Failed to start service
    Caused by: java.lang.RuntimeException: java.lang.RuntimeException: org.jboss.weld.exceptions.IllegalStateException: WELD-001332: BeanManager method getBeans() is not available during application initialization
    Caused by: java.lang.RuntimeException: org.jboss.weld.exceptions.IllegalStateException: WELD-001332: BeanManager method getBeans() is not available during application initialization
    Caused by: org.jboss.weld.exceptions.IllegalStateException: WELD-001332: BeanManager method getBeans() is not available during application initialization"}}
09:34:34,188 INFO  [org.jboss.as.server] (DeploymentScanner-threads - 2) JBAS018559: Deployed "Project-ear-0.1.0-SNAPSHOT.ear" (runtime-name : "Project-ear-0.1.0-SNAPSHOT.ear")
09:34:34,188 INFO  [org.jboss.as.controller] (DeploymentScanner-threads - 2) JBAS014774: Service status report
JBAS014777:   Services which failed to start:
service jboss.undertow.deployment.default-server.default-host./v1: org.jboss.msc.service.StartException in service jboss.undertow.deployment.default-server.default-host./v1: Failed to start service
The EAR contains:
 1.) An EJB JAR
 2.) An WepApp WAR
The webapp uses JSF and JAX-RS.
None of our code seesm to be involved.
The EAR can succesfully deployet on an Weblogic AS.
When I start the WildFly AS with --debug mode and halt at BeanManagerProxy.getBeans() and directly continue the thread exectuion. the deployment of the EAR file works correctly. Feels like some race condition..
Any ideas how to fix this?</description>
			<version>8.2.0.Final</version>
			<fixedVersion>9.0.0.CR2, 10.0.0.Alpha1</fixedVersion>
			<type>Bug</type>
		</buginformation>
		<fixedFiles>
			<file type="M">org.jboss.as.weld.deployment.processors.WeldDeploymentProcessor.java</file>
		</fixedFiles>
	</bug>
	<bug id="4590" opendate="2015-05-05 14:02:15" fixdate="2015-05-06 08:08:00" resolution="Done">
		<buginformation>
			<summary>l1-lifespan attribute in distributed cache configuration does not enable l1 cache</summary>
			<description>l1-lifespan attribute in distributed cache configuration is not honored. If set to a non-zero value it just sets the underlying cache config parameter, but does not explicitly enable l1 which is by default disabled.</description>
			<version>9.0.0.CR1</version>
			<fixedVersion></fixedVersion>
			<type>Bug</type>
		</buginformation>
		<fixedFiles>
			<file type="M">org.jboss.as.clustering.infinispan.subsystem.DistributedCacheAddHandler.java</file>
		</fixedFiles>
	</bug>
	<bug id="3518" opendate="2014-06-18 22:00:19" fixdate="2015-05-08 19:09:17" resolution="Done">
		<buginformation>
			<summary>JASPIAuthenticationMechanism#authenticate doesn&amp;apos;t check if AuthenticatedSession is null</summary>
			<description>In org.wildfly.extension.undertow.security.jaspi.JASPIAuthenticationMechanism#authenticate the variable authSession in the fragment below is frequently null, leading to null pointer exceptions:






  if (sessionManager != null) {




            AuthenticatedSessionManager.AuthenticatedSession authSession = sessionManager.lookupSession(exchange);




            cachedAccount = authSession.getAccount(); // NPE HAPPENS HERE




            // if there is a cached account we set it in the security context so that the principal is available to




            // SAM modules via request.getUserPrincipal().




            if (cachedAccount !=  null) {




                jaspicSecurityContext.setCachedAuthenticatedAccount(cachedAccount);




            }




        }






At another place in Undertow where AuthenticatedSession is used, there&amp;amp;apos;s an extra null check (See io.undertow.security.impl.CachedAuthenticatedSessionMechanism#runCached).
I patched the code locally to add an extra null check:






        if (sessionManager != null) {




            AuthenticatedSessionManager.AuthenticatedSession authSession = sessionManager.lookupSession(exchange);




            cachedAccount = authSession == null? null : authSession.getAccount();




            // if there is a cached account we set it in the security context so that the principal is available to




            // SAM modules via request.getUserPrincipal().




            if (cachedAccount !=  null) {




                jaspicSecurityContext.setCachedAuthenticatedAccount(cachedAccount);




            }




        }






After a short amount of testing everything seems to be okay with that extra check.</description>
			<version>8.1.0.Final</version>
			<fixedVersion>9.0.0.CR2, 10.0.0.Alpha1</fixedVersion>
			<type>Bug</type>
		</buginformation>
		<fixedFiles>
			<file type="M">org.wildfly.extension.undertow.security.jaspi.JASPIAuthenticationMechanism.java</file>
		</fixedFiles>
	</bug>
	<bug id="4602" opendate="2015-05-06 14:14:35" fixdate="2015-05-08 19:10:59" resolution="Done">
		<buginformation>
			<summary>HttpServletRequest#logout doesn&amp;apos;t fully clear security context</summary>
			<description>After having authenticated (via JASPIC or otherwise), calling HttpServletRequest#logout and then requesting the caller/user principal (all within the same request), Undertow (via e.g. WildFly 8.2 or 9.0rc1) will correctly clear out the principal for the web context, but will NOT clear out the principal for the EJB context.
The problem seems to be that io.undertow.security.impl.SecurityContextImpl.logout() doesn&amp;amp;apos;t do anything with the security context that is used by the EJB container among others.
It now just contains the following:






this.account = null;




this.mechanismName = null;




this.authenticationState = AuthenticationState.NOT_ATTEMPTED;






Added the following code just before this seems to work:






// Clear old context




SecurityContextAssociation.clearSecurityContext();




SecurityRolesAssociation.setSecurityRoles(null);




	            		




// Set a new one in case re-authentication is done within the same thread




SecurityContext securityContext = SecurityContextFactory.createSecurityContext("other");




exchange.putAttachment(SECURITY_CONTEXT_ATTACHMENT, securityContext);









SecurityContextAssociation.setSecurityContext(securityContext);









// (existing clearing code)




this.account = null;




this.mechanismName = null;




this.authenticationState = AuthenticationState.NOT_ATTEMPTED;






Do note that this code uses the hardcoded domain "other". Except by using reflection I couldn&amp;amp;apos;t obtain the actual domain name at this point. The reflective code I used was:






String securityDomain = "other";









if (identityManager instanceof JAASIdentityManagerImpl) {




    try {




        Field securityDomainContextField = JAASIdentityManagerImpl.class.getDeclaredField("securityDomainContext");




        securityDomainContextField.setAccessible(true);




        SecurityDomainContext securityDomainContext = (SecurityDomainContext) securityDomainContextField.get(identityManager);









        securityDomain = securityDomainContext.getAuthenticationManager().getSecurityDomain();









    } catch (NoSuchFieldException | SecurityException | IllegalArgumentException | IllegalAccessException e) {




        logger.log(Level.SEVERE, "Can&amp;amp;apos;t obtain name of security domain, using &amp;amp;apos;other&amp;amp;apos; now", e);




    }




}





</description>
			<version>9.0.0.CR1</version>
			<fixedVersion>9.0.0.CR2, 10.0.0.Alpha1</fixedVersion>
			<type>Bug</type>
		</buginformation>
		<fixedFiles>
			<file type="M">org.wildfly.extension.undertow.deployment.UndertowDeploymentInfoService.java</file>
			<file type="D">org.wildfly.extension.undertow.deployment.LogoutNotificationReceiver.java</file>
			<file type="M">org.wildfly.extension.undertow.security.SecurityActions.java</file>
		</fixedFiles>
	</bug>
	<bug id="4604" opendate="2015-05-07 08:06:54" fixdate="2015-05-12 15:10:55" resolution="Done">
		<buginformation>
			<summary>Smoke testsuite fails when running under security manager on JDK8</summary>
			<description>see http://brontes.lab.eng.brq.redhat.com/viewLog.html?buildId=52198&amp;amp;tab=buildResultsDiv&amp;amp;buildTypeId=WF_PullRequest_LinuxSm
failed tests:






org.jboss.as.test.integration.jsp.JspTagTestCase.test 	




org.jboss.as.test.integration.web.jsp.taglib.external.ExternalTagLibTestCase.testExternalAndInternalTagLib 




org.jboss.as.test.integration.web.jsp.taglib.external.ExternalTagLibTestCase.testExternalTagLibOnly












Caused by: java.security.AccessControlException: WFSM000001: Permission check failed (permission "("java.lang.RuntimePermission" "accessDeclaredMembers")" in code source "(file:/opt/buildAgent/work/a31d203e70e89f90/testsuite/integration/web/target/jbossas/standalone/tmp/external-dependency-only.war/ &amp;lt;no signer certificates&amp;gt;)" of "org.apache.jasper.servlet.JasperLoader@1b8fd02")




    at org.wildfly.security.manager.WildFlySecurityManager.checkPermission(WildFlySecurityManager.java:270)




    at org.wildfly.security.manager.WildFlySecurityManager.checkPermission(WildFlySecurityManager.java:172)




    at java.lang.Class.checkMemberAccess(Class.java:2348)




    at java.lang.Class.getDeclaredConstructor(Class.java:2177)




    at org.jboss.as.ee.component.ReflectiveClassIntrospector.createFactory(ReflectiveClassIntrospector.java:22)




    at org.jboss.as.ee.component.ComponentRegistry.createInstanceFactory(ComponentRegistry.java:76)




    at org.jboss.as.web.common.WebInjectionContainer.newInstance(WebInjectionContainer.java:67)




    at org.wildfly.extension.undertow.deployment.UndertowJSPInstanceManager.newInstance(UndertowJSPInstanceManager.java:67)




    at org.apache.jsp.test_jsp._jspx_meth_e_005ftest_005f0(test_jsp.java:83)




    at org.apache.jsp.test_jsp._jspService(test_jsp.java:61)




    at org.apache.jasper.runtime.HttpJspBase.service(HttpJspBase.java:69)





</description>
			<version>9.0.0.CR1</version>
			<fixedVersion>9.0.0.CR2, 10.0.0.Alpha1</fixedVersion>
			<type>Bug</type>
		</buginformation>
		<fixedFiles>
			<file type="M">org.jboss.as.ee.component.ReflectiveClassIntrospector.java</file>
		</fixedFiles>
	</bug>
	<bug id="4624" opendate="2015-05-11 19:28:47" fixdate="2015-05-16 10:12:52" resolution="Done">
		<buginformation>
			<summary>JGroups protocol properties are not applied</summary>
			<description>Protocol properties are never applied, the check for applying properties is done on the legacy resource that only registers operation tranformation on old the old property address.
Original report:

When the JGroups subsystem is configured to use TCPPING, the following error occurs when deploying a distributable app:






14:50:11,930 ERROR [org.jboss.msc.service.fail] (MSC service thread 1-1) MSC000001: Failed to start service jboss.jgroups.channel.ee: org.jboss.msc.service.StartException in service jboss.jgroups.channel.ee: java.security.PrivilegedActionException: java.lang.Exception: Property assignment of initial_hosts in TCPPING with original property value null and converted to null could not be assigned




	at org.wildfly.clustering.jgroups.spi.service.ChannelBuilder.start(ChannelBuilder.java:79)




	at org.jboss.msc.service.ServiceControllerImpl$StartTask.startService(ServiceControllerImpl.java:1948)




	at org.jboss.msc.service.ServiceControllerImpl$StartTask.run(ServiceControllerImpl.java:1881)




	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)




	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)




	at java.lang.Thread.run(Thread.java:745)




Caused by: java.security.PrivilegedActionException: java.lang.Exception: Property assignment of initial_hosts in TCPPING with original property value null and converted to null could not be assigned




	at org.wildfly.security.manager.WildFlySecurityManager.doChecked(WildFlySecurityManager.java:638)




	at org.jboss.as.clustering.jgroups.JChannelFactory.createChannel(JChannelFactory.java:99)




	at org.wildfly.clustering.jgroups.spi.service.ChannelBuilder.start(ChannelBuilder.java:77)




	... 5 more




Caused by: java.lang.Exception: Property assignment of initial_hosts in TCPPING with original property value null and converted to null could not be assigned




	at org.jgroups.stack.Configurator.resolveAndAssignField(Configurator.java:1153)




	at org.jgroups.stack.Configurator.createLayer(Configurator.java:444)




	at org.jgroups.stack.Configurator.createProtocols(Configurator.java:398)




	at org.jgroups.stack.Configurator.setupProtocolStack(Configurator.java:90)




	at org.jgroups.stack.Configurator.setupProtocolStack(Configurator.java:57)




	at org.jgroups.stack.ProtocolStack.setup(ProtocolStack.java:477)




	at org.jgroups.JChannel.init(JChannel.java:854)




	at org.jgroups.JChannel.&amp;lt;init&amp;gt;(JChannel.java:159)




	at org.jboss.as.clustering.jgroups.JChannelFactory$1.run(JChannelFactory.java:96)




	at org.jboss.as.clustering.jgroups.JChannelFactory$1.run(JChannelFactory.java:93)




	at org.wildfly.security.manager.WildFlySecurityManager.doChecked(WildFlySecurityManager.java:634)




	... 7 more




Caused by: java.lang.Exception: Conversion of initial_hosts in TCPPING with original property value null failed




	at org.jgroups.conf.PropertyHelper.getConvertedValue(PropertyHelper.java:84)




	at org.jgroups.stack.Configurator.resolveAndAssignField(Configurator.java:1147)




	... 17 more




Caused by: java.lang.NullPointerException




	at java.util.StringTokenizer.&amp;lt;init&amp;gt;(StringTokenizer.java:199)




	at java.util.StringTokenizer.&amp;lt;init&amp;gt;(StringTokenizer.java:221)




	at org.jgroups.util.Util.parseCommaDelimitedHosts(Util.java:2650)




	at org.jgroups.conf.PropertyConverters$InitialHosts.convert(PropertyConverters.java:67)




	at org.jgroups.conf.PropertyHelper.getConvertedValue(PropertyHelper.java:81)




	... 18 more





</description>
			<version>9.0.0.CR1</version>
			<fixedVersion>9.0.0.CR2, 10.0.0.Alpha1</fixedVersion>
			<type>Bug</type>
		</buginformation>
		<fixedFiles>
			<file type="M">org.jboss.as.clustering.infinispan.subsystem.StorePropertyResourceDefinition.java</file>
			<file type="M">org.jboss.as.clustering.jgroups.subsystem.PropertyResourceDefinition.java</file>
			<file type="M">org.jboss.as.clustering.jgroups.subsystem.StackAddHandler.java</file>
		</fixedFiles>
	</bug>
	<bug id="4088" opendate="2014-11-15 17:59:28" fixdate="2015-05-18 02:05:03" resolution="Done">
		<buginformation>
			<summary>NPE when changing scheduled service</summary>
			<description>If I modify or remove a (persistent) scheduled service, I get the following stack trace:
Caused by: java.lang.NullPointerException
	at org.jboss.as.ejb3.timerservice.TimerServiceImpl.doesTimeoutMethodMatch(TimerServiceImpl.java:959)
	at org.jboss.as.ejb3.timerservice.TimerServiceImpl.restoreTimers(TimerServiceImpl.java:710)
	at org.jboss.as.ejb3.timerservice.TimerServiceImpl.start(TimerServiceImpl.java:202)
	at org.jboss.msc.service.ServiceControllerImpl$StartTask.startService(ServiceControllerImpl.java:1948) [jboss-msc-1.2.0.Final.jar:1.2.0.Final]
	at org.jboss.msc.service.ServiceControllerImpl$StartTask.run(ServiceControllerImpl.java:1881) [jboss-msc-1.2.0.Final.jar:1.2.0.Final]
	... 3 more
Another user is reporting the same thing on 8.1.0 Final, see:
http://stackoverflow.com/questions/25988818/deploying-java-schedule-with-wildfly-8-1-0-final
Is there any way using the CLI to delete persistent scheduled services?</description>
			<version>8.0.0.Final</version>
			<fixedVersion>9.0.0.Beta1</fixedVersion>
			<type>Bug</type>
		</buginformation>
		<fixedFiles>
			<file type="M">org.jboss.as.ejb3.logging.EjbLogger.java</file>
			<file type="M">org.jboss.as.ejb3.timerservice.persistence.filestore.EjbTimerXmlParser_1_0.java</file>
			<file type="M">org.jboss.as.ejb3.timerservice.persistence.database.DatabaseTimerPersistence.java</file>
		</fixedFiles>
	</bug>
	<bug id="3623" opendate="2014-07-14 15:58:32" fixdate="2015-05-18 02:10:10" resolution="Done">
		<buginformation>
			<summary>Spurious ":" in @Resource annotation &amp;apos;name&amp;apos; value results in invalid binding but no deployment error</summary>
			<description>See attached jar for a reproducer. Just deploy it. The jar includes it&amp;amp;apos;s own source.
An @Resource annotation with a spurious ":" in the name attribute value results in an incorrect binding but no deployment failure:






@Resources({




	@Resource(




//			name="java:jboss/ResourceTestEJB", // ==&amp;gt; this works fine 




			name="java:jboss:/ResourceTestEJB",  // ==&amp;gt; this will not bind the JNDI correctly, and there is no error on deploying EJB




			




			type=com.test.ResourceEJB.class,




			lookup="java:global/01134324/ResourceEJBImpl")




})






There is no error reported in the log.
Using jndi-view op in the CLI, I see:






[standalone@localhost:9990 subsystem=naming] :jndi-view




{




    "outcome" =&amp;gt; "success",




    "result" =&amp;gt; {




        "java: contexts" =&amp;gt; {




            .....            




            "java:jboss" =&amp;gt; {




                ....




                "java:jboss:" =&amp;gt; {"class-name" =&amp;gt; "javax.naming.Context"},




             }




    }




    ....




}






Any time the jndi-view op is run, the following is logged in the server.log:






10:52:02,985 ERROR [org.jboss.as.naming] (management-handler-thread - 5) WFLYNAM0013: Failed to obtain jndi view value for entry java:jboss:.: javax.naming.NameNotFoundException: jboss: -- service jboss.naming.context.java.jboss.jboss:




	at org.jboss.as.naming.ServiceBasedNamingStore.lookup(ServiceBasedNamingStore.java:106) [wildfly-naming-9.0.0.Alpha1-SNAPSHOT.jar:9.0.0.Alpha1-SNAPSHOT]




	at org.jboss.as.naming.NamingContext.lookup(NamingContext.java:202) [wildfly-naming-9.0.0.Alpha1-SNAPSHOT.jar:9.0.0.Alpha1-SNAPSHOT]




	at org.jboss.as.naming.NamingContext.lookup(NamingContext.java:188) [wildfly-naming-9.0.0.Alpha1-SNAPSHOT.jar:9.0.0.Alpha1-SNAPSHOT]




	at org.jboss.as.naming.management.JndiViewOperation.addEntries(JndiViewOperation.java:132) [wildfly-naming-9.0.0.Alpha1-SNAPSHOT.jar:9.0.0.Alpha1-SNAPSHOT]




	at org.jboss.as.naming.management.JndiViewOperation.access$000(JndiViewOperation.java:47) [wildfly-naming-9.0.0.Alpha1-SNAPSHOT.jar:9.0.0.Alpha1-SNAPSHOT]




	at org.jboss.as.naming.management.JndiViewOperation$1.execute(JndiViewOperation.java:72) [wildfly-naming-9.0.0.Alpha1-SNAPSHOT.jar:9.0.0.Alpha1-SNAPSHOT]




	at org.jboss.as.controller.AbstractOperationContext.executeStep(AbstractOperationContext.java:603) [wildfly-controller-1.0.0.Alpha2.jar:1.0.0.Alpha2]




	at org.jboss.as.controller.AbstractOperationContext.doCompleteStep(AbstractOperationContext.java:481) [wildfly-controller-1.0.0.Alpha2.jar:1.0.0.Alpha2]




	at org.jboss.as.controller.AbstractOperationContext.completeStepInternal(AbstractOperationContext.java:282) [wildfly-controller-1.0.0.Alpha2.jar:1.0.0.Alpha2]




	at org.jboss.as.controller.AbstractOperationContext.executeOperation(AbstractOperationContext.java:277) [wildfly-controller-1.0.0.Alpha2.jar:1.0.0.Alpha2]




	at org.jboss.as.controller.OperationContextImpl.executeOperation(OperationContextImpl.java:1060) [wildfly-controller-1.0.0.Alpha2.jar:1.0.0.Alpha2]




	at org.jboss.as.controller.ModelControllerImpl.internalExecute(ModelControllerImpl.java:296) [wildfly-controller-1.0.0.Alpha2.jar:1.0.0.Alpha2]




	at org.jboss.as.controller.ModelControllerImpl.execute(ModelControllerImpl.java:165) [wildfly-controller-1.0.0.Alpha2.jar:1.0.0.Alpha2]




	at org.jboss.as.controller.remote.ModelControllerClientOperationHandler$ExecuteRequestHandler.doExecute(ModelControllerClientOperationHandler.java:204) [wildfly-controller-1.0.0.Alpha2.jar:1.0.0.Alpha2]




	at org.jboss.as.controller.remote.ModelControllerClientOperationHandler$ExecuteRequestHandler.access$300(ModelControllerClientOperationHandler.java:133) [wildfly-controller-1.0.0.Alpha2.jar:1.0.0.Alpha2]




	at org.jboss.as.controller.remote.ModelControllerClientOperationHandler$ExecuteRequestHandler$1$1.run(ModelControllerClientOperationHandler.java:154) [wildfly-controller-1.0.0.Alpha2.jar:1.0.0.Alpha2]




	at org.jboss.as.controller.remote.ModelControllerClientOperationHandler$ExecuteRequestHandler$1$1.run(ModelControllerClientOperationHandler.java:150) [wildfly-controller-1.0.0.Alpha2.jar:1.0.0.Alpha2]




	at java.security.AccessController.doPrivileged(Native Method) [rt.jar:1.7.0_45]




	at javax.security.auth.Subject.doAs(Subject.java:415) [rt.jar:1.7.0_45]




	at org.jboss.as.controller.AccessAuditContext.doAs(AccessAuditContext.java:94) [wildfly-controller-1.0.0.Alpha2.jar:1.0.0.Alpha2]




	at org.jboss.as.controller.remote.ModelControllerClientOperationHandler$ExecuteRequestHandler$1.execute(ModelControllerClientOperationHandler.java:150) [wildfly-controller-1.0.0.Alpha2.jar:1.0.0.Alpha2]




	at org.jboss.as.protocol.mgmt.AbstractMessageHandler$2$1.doExecute(AbstractMessageHandler.java:297)




	at org.jboss.as.protocol.mgmt.AbstractMessageHandler$AsyncTaskRunner.run(AbstractMessageHandler.java:536)




	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1145) [rt.jar:1.7.0_45]




	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:615) [rt.jar:1.7.0_45]




	at java.lang.Thread.run(Thread.java:744) [rt.jar:1.7.0_45]




	at org.jboss.threads.JBossThread.run(JBossThread.java:122) [jboss-threads-2.1.1.Final.jar:2.1.1.Final]






If a proper binding can&amp;amp;apos;t be done per the annotation value, there should be an exception thrown triggering deployment rollback.
I&amp;amp;apos;ll attach an MSC service dump in case it&amp;amp;apos;s useful.</description>
			<version>JBoss AS7 7.2.0.Final</version>
			<fixedVersion>9.0.0.CR1</fixedVersion>
			<type>Bug</type>
		</buginformation>
		<fixedFiles>
			<file type="M">org.jboss.as.naming.logging.NamingLogger.java</file>
			<file type="M">org.jboss.as.naming.deployment.ContextNames.java</file>
		</fixedFiles>
	</bug>
	<bug id="3903" opendate="2014-09-26 21:35:16" fixdate="2015-05-18 02:15:42" resolution="Done">
		<buginformation>
			<summary> IORSecConfigMetaDataService is not used by the CSIv2IORInterceptor</summary>
			<description> IORSecConfigMetaDataService is not used by the CSIv2IORInterceptor</description>
			<version>9.0.0.Alpha1</version>
			<fixedVersion>9.0.0.Beta1</fixedVersion>
			<type>Bug</type>
		</buginformation>
		<fixedFiles>
			<file type="M">org.jboss.as.iiop.openjdk.csiv2.CSIv2IORInterceptor.java</file>
			<file type="M">org.jboss.as.iiop.openjdk.service.IORSecConfigMetaDataService.java</file>
			<file type="M">org.jboss.as.jacorb.service.IORSecConfigMetaDataService.java</file>
			<file type="M">org.jboss.as.jacorb.csiv2.CSIv2IORInterceptor.java</file>
			<file type="M">org.jboss.as.jacorb.JacORBSubsystemAdd.java</file>
		</fixedFiles>
		<links>
			<link type="Related" description="relates to">2968</link>
		</links>
	</bug>
	<bug id="4016" opendate="2014-10-24 19:38:31" fixdate="2015-05-18 02:17:46" resolution="Done">
		<buginformation>
			<summary>Memory leak on undeploy caused by ejb client</summary>
			<description>EJB client application deployed with jboss-ejb-client.xml, when undeployed the classloader is not being released leading to a memory leak.</description>
			<version>9.0.0.Alpha1</version>
			<fixedVersion>9.0.0.Beta1</fixedVersion>
			<type>Bug</type>
		</buginformation>
		<fixedFiles>
			<file type="M">org.jboss.as.ejb3.remote.DescriptorBasedEJBClientContextService.java</file>
			<file type="M">org.jboss.as.ejb3.remote.LocalEjbReceiver.java</file>
			<file type="M">org.jboss.as.ejb3.subsystem.EJB3SubsystemAdd.java</file>
			<file type="M">org.jboss.as.ejb3.deployment.processors.EjbClientContextSetupProcessor.java</file>
			<file type="M">org.jboss.as.ejb3.remote.TCCLEJBClientContextSelectorService.java</file>
			<file type="M">org.jboss.as.ejb3.deployment.processors.EJBClientDescriptorMetaDataProcessor.java</file>
		</fixedFiles>
		<links>
			<link type="Related" description="relates to">119</link>
		</links>
	</bug>
	<bug id="4075" opendate="2014-11-13 08:20:32" fixdate="2015-05-18 02:18:45" resolution="Done">
		<buginformation>
			<summary>Setting "org.jboss.as.jaxrs.enableSpringIntegration" to "true" causes JaxrsSpringProcessor to throw NullPointerException </summary>
			<description>
When an application containing Spring + Rest Integration is deployed on Wildfly then it causes NullPointerException as following:







13:43:19,830 INFO  [org.jboss.as.server.deployment] (MSC service thread 1-5) WFLYSRV0027: Starting deployment of "RESTfulExample.war" (runtime-name: "RESTfulExample.war")




13:43:20,313 ERROR [org.wildfly.extension.undertow] (MSC service thread 1-4) Could not find tld /WEB-INF/tld/spring-form.tld




13:43:20,313 ERROR [org.wildfly.extension.undertow] (MSC service thread 1-4) Could not find tld /WEB-INF/tld/spring.tld




13:43:20,370 ERROR [org.jboss.msc.service.fail] (MSC service thread 1-8) MSC000001: Failed to start service jboss.deployment.unit."RESTfulExample.war".DEPENDENCIES: org.jboss.msc.service.StartException in service jboss.deployment.unit."RESTfulExample.war".DEPENDENCIES: WFLYSRV0153: Failed to process phase DEPENDENCIES of deployment "RESTfulExample.war"




	at org.jboss.as.server.deployment.DeploymentUnitPhaseService.start(DeploymentUnitPhaseService.java:163) [wildfly-server-1.0.0.Alpha8.jar:1.0.0.Alpha8]




	at org.jboss.msc.service.ServiceControllerImpl$StartTask.startService(ServiceControllerImpl.java:1948) [jboss-msc-1.2.2.Final.jar:1.2.2.Final]




	at org.jboss.msc.service.ServiceControllerImpl$StartTask.run(ServiceControllerImpl.java:1881) [jboss-msc-1.2.2.Final.jar:1.2.2.Final]




	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1145) [rt.jar:1.7.0_65]




	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:615) [rt.jar:1.7.0_65]




	at java.lang.Thread.run(Thread.java:745) [rt.jar:1.7.0_65]




Caused by: org.jboss.as.server.deployment.DeploymentUnitProcessingException: org.jboss.as.server.deployment.DeploymentUnitProcessingException: java.lang.NullPointerException




	at org.jboss.as.jaxrs.deployment.JaxrsSpringProcessor.deploy(JaxrsSpringProcessor.java:203)




	at org.jboss.as.server.deployment.DeploymentUnitPhaseService.start(DeploymentUnitPhaseService.java:156) [wildfly-server-1.0.0.Alpha8.jar:1.0.0.Alpha8]




	... 5 more




Caused by: org.jboss.as.server.deployment.DeploymentUnitProcessingException: java.lang.NullPointerException




	at org.jboss.as.jaxrs.deployment.JaxrsSpringProcessor.getResteasySpringVirtualFile(JaxrsSpringProcessor.java:133)




	at org.jboss.as.jaxrs.deployment.JaxrsSpringProcessor.deploy(JaxrsSpringProcessor.java:199)




	... 6 more




Caused by: java.lang.NullPointerException




	at org.jboss.as.jaxrs.deployment.JaxrsSpringProcessor.getResteasySpringVirtualFile(JaxrsSpringProcessor.java:103)




	... 7 more









13:43:20,374 ERROR [org.jboss.as.controller.management-operation] (DeploymentScanner-threads - 1) WFLYCTL0013: Operation ("deploy") failed - address: ([("deployment" =&amp;gt; "RESTfulExample.war")]) - failure description: {"WFLYCTL0080: Failed services" =&amp;gt; {"jboss.deployment.unit.\"RESTfulExample.war\".DEPENDENCIES" =&amp;gt; "org.jboss.msc.service.StartException in service jboss.deployment.unit.\"RESTfulExample.war\".DEPENDENCIES: WFLYSRV0153: Failed to process phase DEPENDENCIES of deployment \"RESTfulExample.war\"




    Caused by: org.jboss.as.server.deployment.DeploymentUnitProcessingException: org.jboss.as.server.deployment.DeploymentUnitProcessingException: java.lang.NullPointerException




    Caused by: org.jboss.as.server.deployment.DeploymentUnitProcessingException: java.lang.NullPointerException




    Caused by: java.lang.NullPointerException"}}





</description>
			<version>9.0.0.Alpha1</version>
			<fixedVersion>9.0.0.Beta1</fixedVersion>
			<type>Bug</type>
		</buginformation>
		<fixedFiles>
			<file type="M">org.jboss.as.jaxrs.deployment.JaxrsSpringProcessor.java</file>
		</fixedFiles>
	</bug>
	<bug id="4168" opendate="2014-12-09 22:55:24" fixdate="2015-05-18 02:19:19" resolution="Done">
		<buginformation>
			<summary>jdr.sh CommandLineMain does not run jdr on the application server</summary>
			<description>jdr.sh CommandLineMain does not run jdr on the application server
JDR run via the CLI / Managemenet API -  runs the JDR report in the Application Server&amp;amp;apos;s JVM
/subsystem=jdr:generate-jdr-report()
Running jdr.sh / jdr.bat runs the JDR report in the JDR JVM
jdr.sh / jdr.bat should run the JDR report in the Application Server&amp;amp;apos;s JVM if it is running.  If it is not running, then it should just collect the files that are available.</description>
			<version>9.0.0.Alpha1</version>
			<fixedVersion>9.0.0.Beta1</fixedVersion>
			<type>Bug</type>
		</buginformation>
		<fixedFiles>
			<file type="M">org.jboss.as.jdr.CommandLineMain.java</file>
			<file type="M">org.jboss.as.jdr.commands.JdrEnvironment.java</file>
			<file type="M">org.jboss.as.jdr.JdrRunner.java</file>
			<file type="M">org.jboss.as.jdr.JdrReportService.java</file>
		</fixedFiles>
	</bug>
	<bug id="4391" opendate="2015-02-18 11:53:35" fixdate="2015-05-18 02:26:31" resolution="Done">
		<buginformation>
			<summary>When testing with WildFly Full, the WSTestCase is randomly unstable</summary>
			<description>Sometimes the WSTestCase will fail without any reason.</description>
			<version>9.0.0.Alpha1</version>
			<fixedVersion>9.0.0.Beta1</fixedVersion>
			<type>Bug</type>
		</buginformation>
		<fixedFiles>
			<file type="M">org.jboss.as.test.smoke.webservices.WSTestCase.java</file>
		</fixedFiles>
	</bug>
	<bug id="4464" opendate="2015-03-25 14:26:35" fixdate="2015-05-18 02:28:27" resolution="Done">
		<buginformation>
			<summary>JDBC driver module-slot is not persisted in domain mode</summary>
			<description>The module-slot of jdbc-driver is NOT persisted in domain mode, but it is persisted in standalone mode.
After debugging, I found that the performRuntime() method of JdbcDriverAdd.java is not called in domain mode, but is called in standalone mode.
For more information about the issue, please refer to the thread: https://developer.jboss.org/thread/253654</description>
			<version>8.2.0.Final</version>
			<fixedVersion>9.0.0.CR1</fixedVersion>
			<type>Bug</type>
		</buginformation>
		<fixedFiles>
			<file type="M">org.jboss.as.connector.subsystems.complextestcases.ComplexDatasourceSubsystemTestCase.java</file>
			<file type="M">org.jboss.as.connector.subsystems.datasources.JdbcDriverAdd.java</file>
			<file type="M">org.jboss.as.connector.subsystems.datasources.DataSourcesExtension.java</file>
			<file type="M">org.jboss.as.connector.subsystems.datasources.DsParser.java</file>
		</fixedFiles>
	</bug>
	<bug id="4660" opendate="2015-05-21 21:33:32" fixdate="2015-05-28 12:01:52" resolution="Done">
		<buginformation>
			<summary>Infinispan cache store properties are not applied</summary>
			<description></description>
			<version>9.0.0.CR1</version>
			<fixedVersion>9.0.0.CR2, 10.0.0.Alpha2</fixedVersion>
			<type>Bug</type>
		</buginformation>
		<fixedFiles>
			<file type="M">org.jboss.as.clustering.infinispan.subsystem.StorePropertyResourceDefinition.java</file>
			<file type="M">org.jboss.as.clustering.jgroups.subsystem.PropertyResourceDefinition.java</file>
			<file type="M">org.jboss.as.clustering.infinispan.subsystem.CacheAddHandler.java</file>
		</fixedFiles>
	</bug>
	<bug id="3095" opendate="2014-03-10 13:50:14" fixdate="2015-05-29 06:22:58" resolution="Done">
		<buginformation>
			<summary>Weld subsystem exposes way too much dependancies to user deployment</summary>
			<description>module org.jboss.as.weld should not be added as dependency to user deployment.
It has way too much dependencies and some of them export their dependencies which than end up in user deployment.
We should probably have extra module for stuff that is exposed to deployment.
Also lots of dependencies that weld subsystem has should be optional as we shouldn&amp;amp;apos;t be required to have dependency to almost every single subsystem we have as required.</description>
			<version>8.0.0.Final</version>
			<fixedVersion>10.0.0.Alpha2</fixedVersion>
			<type>Bug</type>
		</buginformation>
		<fixedFiles>
			<file type="M">org.jboss.as.weld.deployment.processors.WeldDependencyProcessor.java</file>
			<file type="M">org.jboss.as.weld.injection.WeldInjectionContext.java</file>
		</fixedFiles>
	</bug>
	<bug id="4670" opendate="2015-05-25 09:29:25" fixdate="2015-05-29 20:14:36" resolution="Done">
		<buginformation>
			<summary>Term &amp;apos;jacorb&amp;apos; is part of xml configuration file despite of fact being replaced by IIOP orb</summary>
			<description>Implementation of ORB - JacORB is replaced by JDK ORB in WildFly 10. Neverhteless server xml configuration files contain term &amp;amp;apos;jacorb&amp;amp;apos; at several places.
Should not be word &amp;amp;apos;jacorb&amp;amp;apos; removed from xml configuration and replaced by term &amp;amp;apos;iiop orb&amp;amp;apos;?
Examples of occurrence






        &amp;lt;!-- TODO - only show this if the jacorb subsystem is added  --&amp;gt;




        &amp;lt;interface name="unsecure"&amp;gt;




            &amp;lt;!--




              ~  Used for IIOP sockets in the standard configuration.




              ~                  To secure JacORB you need to setup SSL 




              --&amp;gt;




            &amp;lt;inet-address value="${jboss.bind.address.unsecure:127.0.0.1}"/&amp;gt;




        &amp;lt;/interface&amp;gt;












            &amp;lt;logger category="jacorb"&amp;gt;




                &amp;lt;level name="WARN"/&amp;gt;




            &amp;lt;/logger&amp;gt;




            &amp;lt;logger category="jacorb.config"&amp;gt;




                &amp;lt;level name="ERROR"/&amp;gt;




            &amp;lt;/logger&amp;gt;





</description>
			<version>10.0.0.Alpha1</version>
			<fixedVersion>10.0.0.Alpha2</fixedVersion>
			<type>Bug</type>
		</buginformation>
		<fixedFiles>
			<file type="M">org.jboss.as.ejb3.iiop.EjbIIOPService.java</file>
		</fixedFiles>
		<links>
			<link type="Cloners" description="cloned from">161</link>
			<link type="Related" description="relates to">1231</link>
		</links>
	</bug>
	<bug id="4690" opendate="2015-05-27 14:47:29" fixdate="2015-06-01 15:14:45" resolution="Out of Date">
		<buginformation>
			<summary>Include in Jsp cause StackOverflow</summary>
			<description>When i made an include in a jsp an other jsp, I get a stackoverflow.
I think that wildfly don&amp;amp;apos;t include the seconde jsp but the first and cause a infinity loop 
I also try to update the version of undertown to the latest jar found (undertow-core-1.1.4.Final, undertow-servlet-1.1.4.Final, undertow-websockets-jsr-1.1.4.Final) 
And a stuck of the stacktrace 






	at org.apache.jsp.WEB_002dINF.jsp.templates.OneColumn_jsp._jspx_meth_c_005fotherwise_005f1(OneColumn_jsp.java:726)




	at org.apache.jsp.WEB_002dINF.jsp.templates.OneColumn_jsp._jspx_meth_c_005fchoose_005f2(OneColumn_jsp.java:671)




	at org.apache.jsp.WEB_002dINF.jsp.templates.OneColumn_jsp._jspx_meth_c_005fif_005f2(OneColumn_jsp.java:639)




	at org.apache.jsp.WEB_002dINF.jsp.templates.OneColumn_jsp._jspService(OneColumn_jsp.java:239)




	at org.apache.jasper.runtime.HttpJspBase.service(HttpJspBase.java:69)




	at javax.servlet.http.HttpServlet.service(HttpServlet.java:790)




	at org.apache.jasper.servlet.JspServletWrapper.service(JspServletWrapper.java:366)




	at org.apache.jasper.servlet.JspServlet.serviceJspFile(JspServlet.java:326)




	at org.apache.jasper.servlet.JspServlet.service(JspServlet.java:259)




	at javax.servlet.http.HttpServlet.service(HttpServlet.java:790)




	at io.undertow.servlet.handlers.ServletHandler.handleRequest(ServletHandler.java:85)




	at io.undertow.servlet.handlers.security.ServletSecurityRoleHandler.handleRequest(ServletSecurityRoleHandler.java:61)




	at io.undertow.servlet.handlers.ServletDispatchingHandler.handleRequest(ServletDispatchingHandler.java:36)




	at io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43)




	at io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43)




	at io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43)




	at io.undertow.servlet.handlers.ServletInitialHandler.dispatchRequest(ServletInitialHandler.java:249)




	at io.undertow.servlet.handlers.ServletInitialHandler.dispatchToServlet(ServletInitialHandler.java:198)




	at io.undertow.servlet.spec.RequestDispatcherImpl.include(RequestDispatcherImpl.java:279)




	at org.apache.jasper.runtime.JspRuntimeLibrary.include(JspRuntimeLibrary.java:940)




	at org.apache.jsp.WEB_002dINF.jsp.templates.OneColumn_jsp._jspx_meth_c_005fotherwise_005f1(OneColumn_jsp.java:726)




	at org.apache.jsp.WEB_002dINF.jsp.templates.OneColumn_jsp._jspx_meth_c_005fchoose_005f2(OneColumn_jsp.java:671)




	at org.apache.jsp.WEB_002dINF.jsp.templates.OneColumn_jsp._jspx_meth_c_005fif_005f2(OneColumn_jsp.java:639)




	at org.apache.jsp.WEB_002dINF.jsp.templates.OneColumn_jsp._jspService(OneColumn_jsp.java:239)




	at org.apache.jasper.runtime.HttpJspBase.service(HttpJspBase.java:69)




	at javax.servlet.http.HttpServlet.service(HttpServlet.java:790)




	at org.apache.jasper.servlet.JspServletWrapper.service(JspServletWrapper.java:366)




	at org.apache.jasper.servlet.JspServlet.serviceJspFile(JspServlet.java:326)




	at org.apache.jasper.servlet.JspServlet.service(JspServlet.java:259)




	at javax.servlet.http.HttpServlet.service(HttpServlet.java:790)




	at io.undertow.servlet.handlers.ServletHandler.handleRequest(ServletHandler.java:85)




	at io.undertow.servlet.handlers.security.ServletSecurityRoleHandler.handleRequest(ServletSecurityRoleHandler.java:61)




	at io.undertow.servlet.handlers.ServletDispatchingHandler.handleRequest(ServletDispatchingHandler.java:36)




	at io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43)




	at io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43)




	at io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43)




	at io.undertow.servlet.handlers.ServletInitialHandler.dispatchRequest(ServletInitialHandler.java:249)




	at io.undertow.servlet.handlers.ServletInitialHandler.dispatchToServlet(ServletInitialHandler.java:198)




	at io.undertow.servlet.spec.RequestDispatcherImpl.include(RequestDispatcherImpl.java:279)




	at org.apache.jasper.runtime.JspRuntimeLibrary.include(JspRuntimeLibrary.java:940)




	at org.apache.jsp.WEB_002dINF.jsp.templates.OneColumn_jsp._jspx_meth_c_005fotherwise_005f1(OneColumn_jsp.java:726)




	at org.apache.jsp.WEB_002dINF.jsp.templates.OneColumn_jsp._jspx_meth_c_005fchoose_005f2(OneColumn_jsp.java:671)




	at org.apache.jsp.WEB_002dINF.jsp.templates.OneColumn_jsp._jspx_meth_c_005fif_005f2(OneColumn_jsp.java:639)




	at org.apache.jsp.WEB_002dINF.jsp.templates.OneColumn_jsp._jspService(OneColumn_jsp.java:239)





</description>
			<version>8.2.0.Final</version>
			<fixedVersion></fixedVersion>
			<type>Bug</type>
		</buginformation>
		<fixedFiles>
			<file type="M">org.wildfly.extension.undertow.deployment.UndertowDeploymentInfoService.java</file>
		</fixedFiles>
		<links>
			<link type="Duplicate" description="duplicates">4106</link>
			<link type="Related" description="is related to">457</link>
		</links>
	</bug>
	<bug id="4548" opendate="2015-04-22 09:32:58" fixdate="2015-06-01 21:31:42" resolution="Done">
		<buginformation>
			<summary>Error messages on server shutdown when JTS is used</summary>
			<description>During time of shutting down WFLY server when JTS transactions are enabled I experience these two [1] [2] errors/exceptions being shown in server log/console.
The first one [1] is shown each time when JTS is configured and server is put to be stopped.
The second one [2] is intermittent and probably it could be shown when JTA is under use as well.
[1]






WARNING [javax.enterprise.resource.corba._INITIALIZING_.rpc.presentation] (Thread-84) "IOP01210228: (BAD_OPERATION) This ORB instance has been destroyed, so no operations can be performed on it": org.omg.CORBA.BAD_OPERATION:   vmcid: SUN  minor code: 228  completed: No




 at com.sun.corba.se.impl.logging.ORBUtilSystemException.orbDestroyed(ORBUtilSystemException.java:586)




 at com.sun.corba.se.impl.logging.ORBUtilSystemException.orbDestroyed(ORBUtilSystemException.java:608)




 at com.sun.corba.se.impl.orb.ORBImpl.checkShutdownState(ORBImpl.java:1329)




 at com.sun.corba.se.impl.orb.ORBImpl.isDuringDispatch(ORBImpl.java:1340)




 at com.sun.corba.se.impl.oa.poa.POAImpl.destroy(POAImpl.java:959)




 at com.arjuna.orbportability.internal.orbspecific.oa.implementations.POABase.destroyRootPOA(POABase.java:68)




 at com.arjuna.orbportability.oa.core.OA.destroyRootPOA(OA.java:97)




 at com.arjuna.orbportability.RootOA.destroy(RootOA.java:91)




 at com.arjuna.ats.internal.jts.orbspecific.javaidl.recoverycoordinators.ORBRunner.run(ORBRunner.java:59) 






[2]






INFO  [com.arjuna.ats.jbossatx] (MSC service thread 1-5) ARJUNA032018: Destroying TransactionManagerService




INFO  [com.arjuna.ats.jbossatx] (MSC service thread 1-1) ARJUNA032014: Stopping transaction recovery manager




ERROR [stderr] (Thread-98) Exception in thread "Thread-98" java.lang.NullPointerException




ERROR [stderr] (Thread-98)         at com.sun.corba.se.impl.oa.poa.POAImpl$DestroyThread.run(POAImpl.java:566) 





</description>
			<version>9.0.0.Beta2</version>
			<fixedVersion>9.0.0.CR2</fixedVersion>
			<type>Bug</type>
		</buginformation>
		<fixedFiles>
			<file type="M">org.wildfly.iiop.openjdk.service.CorbaPOAService.java</file>
		</fixedFiles>
		<links>
			<link type="Cloners" description="cloned from">160</link>
			<link type="Related" description="relates to">4894</link>
			<link type="Related" description="relates to">2423</link>
			<link type="Superset" description="is incorporated by">4655</link>
			<link type="Superset" description="is incorporated by">4708</link>
		</links>
	</bug>
	<bug id="4549" opendate="2015-04-22 11:11:03" fixdate="2015-06-01 21:33:29" resolution="Done">
		<buginformation>
			<summary>Not possible to reload server when JTS transactions are active</summary>
			<description>Reloading WFLY server with active JTS transactions fails.
I have tried to run reload operation just after server started and when some attribute which needs reload was changed (e.g. /subsystem=datasources/data-source=ExampleDS:write-attribute(name=spy, value=true)) and in both cases server was started with errors






WARN  [com.arjuna.ats.jts] (MSC service thread 1-4) ARJUNA022083: JacOrbRCServiceInit - Failed to start RC service: java.lang.NullPointerException




 at com.sun.corba.se.impl.orb.ORBImpl.checkShutdownState(ORBImpl.java:1329)




 at com.sun.corba.se.impl.orb.ORBImpl.getCorbaContactInfoListFactory(ORBImpl.java:1889)




 at com.sun.corba.se.impl.orbutil.ORBUtility.makeClientDelegate(ORBUtility.java:678)




 at com.sun.corba.se.impl.orbutil.ORBUtility.makeObjectReference(ORBUtility.java:687)




 at com.sun.corba.se.impl.ior.ObjectReferenceProducerBase.make_object(ObjectReferenceProducerBase.java:60)




 at com.sun.corba.se.spi.oa.ObjectAdapterBase.makeObject(ObjectAdapterBase.java:142)




 at com.sun.corba.se.impl.oa.poa.POAImpl.create_reference_with_id(POAImpl.java:1353)




 at com.arjuna.ats.internal.jts.orbspecific.javaidl.recoverycoordinators.JavaIdlRCServiceInit.startRCservice(JavaIdlRCServiceInit.java:195)




 at com.arjuna.ats.internal.jts.orbspecific.recovery.RecoveryEnablement.startRCservice(RecoveryEnablement.java:141)




 at com.arjuna.ats.internal.arjuna.recovery.RecActivatorLoader.startRecoveryActivators(RecActivatorLoader.java:66)




 at com.arjuna.ats.internal.arjuna.recovery.RecoveryManagerImple.&amp;lt;init&amp;gt;(RecoveryManagerImple.java:102)




 at com.arjuna.ats.arjuna.recovery.RecoveryManager.initialize(RecoveryManager.java:226)




 at com.arjuna.ats.jbossatx.jta.RecoveryManagerService.start(RecoveryManagerService.java:65)




 at org.jboss.as.txn.service.ArjunaRecoveryManagerService.start(ArjunaRecoveryManagerService.java:145)




 at org.jboss.msc.service.ServiceControllerImpl$StartTask.startService(ServiceControllerImpl.java:1948)




 at org.jboss.msc.service.ServiceControllerImpl$StartTask.run(ServiceControllerImpl.java:1881)




 at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1145)




 at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:615)




 at java.lang.Thread.run(Thread.java:745)









ERROR [org.jboss.msc.service.fail] (MSC service thread 1-4) MSC000001: Failed to start service jboss.txn.ArjunaRecoveryManager: org.jboss.msc.service.StartException in service jboss.txn.ArjunaRecoveryManager: WFLYTX0005: Recovery manager create failed




 at org.jboss.as.txn.service.ArjunaRecoveryManagerService.start(ArjunaRecoveryManagerService.java:148)




 at org.jboss.msc.service.ServiceControllerImpl$StartTask.startService(ServiceControllerImpl.java:1948)




 at org.jboss.msc.service.ServiceControllerImpl$StartTask.run(ServiceControllerImpl.java:1881)




 at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1145)




 at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:615)




 at java.lang.Thread.run(Thread.java:745)




Caused by: java.lang.RuntimeException: ARJUNA012364: RecoveryActivator init failed for com.arjuna.ats.internal.jts.orbspecific.recovery.RecoveryEnablement




 at com.arjuna.ats.internal.arjuna.recovery.RecActivatorLoader.startRecoveryActivators(RecActivatorLoader.java:67)




 at com.arjuna.ats.internal.arjuna.recovery.RecoveryManagerImple.&amp;lt;init&amp;gt;(RecoveryManagerImple.java:102)




 at com.arjuna.ats.arjuna.recovery.RecoveryManager.initialize(RecoveryManager.java:226)




 at com.arjuna.ats.jbossatx.jta.RecoveryManagerService.start(RecoveryManagerService.java:65)




 at org.jboss.as.txn.service.ArjunaRecoveryManagerService.start(ArjunaRecoveryManagerService.java:145)




 ... 5 more





</description>
			<version>9.0.0.Beta2</version>
			<fixedVersion>9.0.0.CR2</fixedVersion>
			<type>Bug</type>
		</buginformation>
		<fixedFiles>
			<file type="M">org.wildfly.iiop.openjdk.service.CorbaPOAService.java</file>
		</fixedFiles>
		<links>
			<link type="Cloners" description="cloned from">159</link>
			<link type="Related" description="relates to">5261</link>
			<link type="Superset" description="is incorporated by">4655</link>
		</links>
	</bug>
	<bug id="4668" opendate="2015-05-25 08:33:44" fixdate="2015-06-02 08:38:50" resolution="Done">
		<buginformation>
			<summary>mod-cluster configure via CLI may end with msg: Failed to start service Caused by: java.lang.NullPointerException"</summary>
			<description>When setting up mod-cluster via CLI then msg Failed to start service Caused by: java.lang.NullPointerException" may appear.
Particular file where exception is thrown is: ModClusterService.java, line 90 . Reason for exception is that advertise socket binding has to have set multicast address also (mod cluster just expect it is set it does not check it). In case multicat address is set then adding mod-cluster filter is successful.
I would expect that more reasonable message is print to user instead of generic NPE.</description>
			<version>9.0.0.CR1</version>
			<fixedVersion>10.0.0.Alpha3</fixedVersion>
			<type>Bug</type>
		</buginformation>
		<fixedFiles>
			<file type="M">org.wildfly.extension.undertow.logging.UndertowLogger.java</file>
			<file type="M">org.wildfly.extension.undertow.filters.ModClusterService.java</file>
		</fixedFiles>
		<links>
			<link type="Cloners" description="cloned from">157</link>
		</links>
	</bug>
	<bug id="4435" opendate="2015-03-16 20:20:23" fixdate="2015-06-02 12:25:52" resolution="Done">
		<buginformation>
			<summary>Booting profile with infinispan/jgroups pre-3_0 subsystems fails with "Resource ... cannot be created until all ancestor resources have been added"</summary>
			<description>The same problem happens when attempting to use 2_0 version of these  subsystems in current configuration.






[Host Controller] [0m[0m15:33:41,155 INFO  [org.jboss.as.controller.management-deprecated] (Controller Boot Thread) WFLYCTL0028: Attribute enabled is deprecated, and it might be removed in future version![0m




[Host Controller] [0m[0m15:33:41,161 INFO  [org.jboss.as.controller.management-deprecated] (Controller Boot Thread) WFLYCTL0028: Attribute default-clustered-sfsb-cache is deprecated, and it might be removed in future version![0m




[Host Controller] [0m[31m15:33:41,174 ERROR [org.jboss.as.controller.management-operation] (Controller Boot Thread) WFLYCTL0013: Operation ("add") failed - address: ([[0m




[Host Controller] [31m    ("profile" =&amp;gt; "full-ha"),[0m




[Host Controller] [31m    ("subsystem" =&amp;gt; "jgroups"),[0m




[Host Controller] [31m    ("channel" =&amp;gt; "server")[0m




[Host Controller] [31m]) - failure description: "WFLYCTL0175: Resource [[0m




[Host Controller] [31m    (\"profile\" =&amp;gt; \"full-ha\"),[0m




[Host Controller] [31m    (\"subsystem\" =&amp;gt; \"jgroups\")[0m




[Host Controller] [31m] does not exist; a resource at address [[0m




[Host Controller] [31m    (\"profile\" =&amp;gt; \"full-ha\"),[0m




[Host Controller] [31m    (\"subsystem\" =&amp;gt; \"jgroups\"),[0m




[Host Controller] [31m    (\"channel\" =&amp;gt; \"server\")[0m




[Host Controller] [31m] cannot be created until all ancestor resources have been added"[0m




[Host Controller] [31m[0m[31m15:33:41,183 FATAL [org.jboss.as.host.controller] (Controller Boot Thread) WFLYHC0034: Host Controller boot has failed in an unrecoverable manner; exiting. See previous messages for details.[0m





</description>
			<version>9.0.0.Alpha1</version>
			<fixedVersion>9.0.0.CR2, 10.0.0.Alpha3</fixedVersion>
			<type>Bug</type>
		</buginformation>
		<fixedFiles>
			<file type="M">org.jboss.as.clustering.infinispan.subsystem.InfinispanProfileParsingCompletionHandler.java</file>
			<file type="M">org.jboss.as.clustering.infinispan.subsystem.SubsystemParsingTestCase.java</file>
			<file type="M">org.jboss.as.clustering.infinispan.subsystem.InfinispanExtension.java</file>
		</fixedFiles>
		<links>
			<link type="Dependency" description="blocks">4515</link>
			<link type="Related" description="relates to">5483</link>
		</links>
	</bug>
	<bug id="4120" opendate="2014-11-24 13:58:51" fixdate="2015-06-03 06:47:21" resolution="Done">
		<buginformation>
			<summary>JAX-WS: HandlerChain-Annotation referencing file outside Java Archive causes JBAS015507</summary>
			<description>Regarding JSR 109, chapter 6.3 the "handler chain file can also be packaged and specified in the annotation such that, it is accessible as a resource from the ClassPath. At runtime, container providers must first try to access the handler chain file as per the locations specified in JSR-181 specification. Failing that, they must try to access it as a resource from the ClassPath."
The JBoss AS Documentation states that "The war is considered to be a single module, so classes defined in WEB-INF/lib are treated the same as classes in WEB-INF/classes. All classes packaged in the war will be loaded with the same class loader" (https://docs.jboss.org/author/display/AS71/Class+Loading+in+AS7).
Following this statements I think it should be fine to have a HandlerChain-annnotated Webservice within a JAR inside a WAR (WEB-INF/lib) referencing a handler chain file that ist not part of the JAR but resides in WEB-INF/classes. However this situation results in 






Internal Server Error




{




    "outcome" =&amp;gt; "failed",




    "failure-description" =&amp;gt; {"JBAS014671: Failed services" =&amp;gt; {"jboss.deployment.unit.\"testjsr109.war\".PARSE" =&amp;gt; "org.jboss.msc.service.StartException in service jboss.deployment.unit.\"testjsr109.war\".PARSE: JBAS018733: Failed to process phase PARSE of deployment \"testjsr109.war\"




    Caused by: javax.xml.ws.WebServiceException: JBAS015507: Handler chain config file handlerchain.xml not found in ResourceRoot [root=\"/D:/tools/wildfly-8.2.0.Final/bin/content/testjsr109.war/WEB-INF/lib/testjsr109.jar\"]"}},




    "rolled-back" =&amp;gt; true




}






The implementation of org.jboss.as.webservices.injection.WSHandlerChainAnnotationProcessor seems to expect, that the handler chain file is always part of the ResourceRoot the annotated WebService lives in. With respect to JSR 109 I think that this expectation is wrong and that a handler chain file outside the JAR is a valid scenario. </description>
			<version>8.2.0.Final</version>
			<fixedVersion>10.0.0.Alpha3</fixedVersion>
			<type>Bug</type>
		</buginformation>
		<fixedFiles>
			<file type="M">org.jboss.as.webservices.injection.WSHandlerChainAnnotationProcessor.java</file>
		</fixedFiles>
	</bug>
	<bug id="4644" opendate="2015-05-18 15:08:38" fixdate="2015-06-03 09:17:29" resolution="Done">
		<buginformation>
			<summary>enabling access-log for virtual server is not effective before server reload but CLI does not require that</summary>
			<description>When access-log is enabled for virtual host via CLI it does not want to perform server reload. But until server reload is executed logging is not enabled. When server reload is performed then logging works OK.</description>
			<version>9.0.0.CR1</version>
			<fixedVersion>10.0.0.Alpha3</fixedVersion>
			<type>Bug</type>
		</buginformation>
		<fixedFiles>
			<file type="M">org.wildfly.extension.undertow.HostAdd.java</file>
			<file type="M">org.wildfly.extension.undertow.AccessLogService.java</file>
			<file type="M">org.wildfly.extension.undertow.Host.java</file>
			<file type="M">org.wildfly.extension.undertow.AccessLogAdd.java</file>
		</fixedFiles>
		<links>
			<link type="Causality" description="causes">138</link>
		</links>
	</bug>
	<bug id="4657" opendate="2015-05-21 14:34:25" fixdate="2015-06-04 07:14:47" resolution="Done">
		<buginformation>
			<summary>EJB timer blocked after trigger+suspend+activate operations and JDBC storage</summary>
			<description>Scenario:

The AS is configured to use a JDBC storage for EJB timers (using the H2 ExampleDS is sufficient for reproduction)
There is a persistent calendar timer going off every few seconds
The &amp;amp;apos;trigger&amp;amp;apos; management operation is called on that timer
The timer goes off one time extra, as expected
The &amp;amp;apos;suspend&amp;amp;apos; management operation is called on that timer
After a few seconds, the &amp;amp;apos;activate&amp;amp;apos; operation is called on that timer
The timer will never go off again (not even by invoking &amp;amp;apos;trigger&amp;amp;apos; operation)

The cause:

Each time the timer goes off, a new java.util.TimerTask is scheduled to handle the next alarm
When the &amp;amp;apos;trigger&amp;amp;apos; operation is invoked, the TimerServiceImpl computes the timestamp of the next alarm and schedules a new TimerTask
The problem is that this new TimerTask overwrites the one currently registered in the TimerServiceImpl, because the TimerServiceImpl assigns TimerTasks to Timers using a map: https://github.com/wildfly/wildfly/blob/10.0.0.Alpha1/ejb3/src/main/java/org/jboss/as/ejb3/timerservice/TimerServiceImpl.java#L905 - the TimerServiceImpl loses the reference to the previously registered TimerTask and doesn&amp;amp;apos;t cancel it
From now on, each new alarm registers the next TimerTask, but makes TimerServiceImpl forget the previous one
After some time, when the &amp;amp;apos;suspend&amp;amp;apos; operation is called, the TimerServiceImpl cancels its stored TimerTask. However, it doesn&amp;amp;apos;t know that there is another scheduled elsewhere
The TimerTask goes off during the time when the timer is suspended.
DatabaseTimerPersistence checks whether the TimerTask can run and sets the Timer&amp;amp;apos;s state to IN_TIMEOUT if yes (https://github.com/wildfly/wildfly/blob/10.0.0.Alpha1/ejb3/src/main/java/org/jboss/as/ejb3/timerservice/persistence/database/DatabaseTimerPersistence.java#L395). However, this is done BEFORE checking whether the timer is suspended. DatabaseTimerPersistence commits this change. Then comes the mentioned check (https://github.com/wildfly/wildfly/blob/10.0.0.Alpha1/ejb3/src/main/java/org/jboss/as/ejb3/timerservice/task/TimerTask.java#L141) and it fails, so the Timer will not go off, but the Timer state remains IN_TIMEOUT forever!
With every next invocation, as the timer&amp;amp;apos;s state remains IN_TIMEOUT, all invocations are skipped.

</description>
			<version>10.0.0.Alpha1</version>
			<fixedVersion>10.0.0.Alpha2</fixedVersion>
			<type>Bug</type>
		</buginformation>
		<fixedFiles>
			<file type="M">org.jboss.as.ejb3.subsystem.deployment.TimerResourceDefinition.java</file>
			<file type="M">org.jboss.as.test.integration.ejb.timerservice.mgmt.AbstractTimerManagementTestCase.java</file>
			<file type="D">org.jboss.as.ejb3.timerservice.task.CalendarTimerTask.java</file>
			<file type="M">org.jboss.as.ejb3.timerservice.TimerImpl.java</file>
			<file type="M">org.jboss.as.test.integration.ejb.timerservice.database.DatabaseTimerServiceTestCase.java</file>
			<file type="D">org.jboss.as.ejb3.timerservice.task.TimerTask.java</file>
			<file type="M">org.jboss.as.ejb3.timerservice.TimerServiceImpl.java</file>
			<file type="M">org.jboss.as.ejb3.timerservice.CalendarTimer.java</file>
			<file type="M">org.jboss.as.ejb3.logging.EjbLogger.java</file>
			<file type="M">org.jboss.as.test.integration.ejb.timerservice.mgmt.AbstractTimerBean.java</file>
		</fixedFiles>
		<links>
			<link type="Cloners" description="cloned from">147</link>
		</links>
	</bug>
	<bug id="4736" opendate="2015-06-03 13:34:45" fixdate="2015-06-04 09:38:48" resolution="Done">
		<buginformation>
			<summary>UndertowDeploymentService starts web components in MSC thread</summary>
			<description>The UndertowDeploymentService triggers web components&amp;amp;apos; start and stop lifecycle within the MSC thread which can lead to the server blocking during deployment. This was an issue with the older JBoss Web version of the Service too which was fixed as part of https://issues.jboss.org/browse/AS7-5969 (https://github.com/wildfly/wildfly/pull/3455). The same needs to be ported to this UndertowDeploymentService.
Here&amp;amp;apos;s an example where a user deployment ends up being blocked https://developer.jboss.org/message/932681#932681</description>
			<version>9.0.0.CR1</version>
			<fixedVersion>9.0.0.CR2, 10.0.0.Alpha3</fixedVersion>
			<type>Bug</type>
		</buginformation>
		<fixedFiles>
			<file type="M">org.wildfly.extension.undertow.deployment.UndertowDeploymentService.java</file>
			<file type="M">org.wildfly.extension.undertow.deployment.UndertowDeploymentProcessor.java</file>
		</fixedFiles>
	</bug>
	<bug id="4720" opendate="2015-06-02 09:38:07" fixdate="2015-06-05 00:01:36" resolution="Done">
		<buginformation>
			<summary>DuplicateServiceException when adding a new FORK channel</summary>
			<description>





[standalone@localhost:9990 /] /subsystem=jgroups/channel=ee/fork=myfork:add




{




    "outcome" =&amp;gt; "failed",




    "failure-description" =&amp;gt; "WFLYCTL0158: Operation handler failed: org.jboss.msc.service.DuplicateServiceException: Service jboss.jgroups.factory.ee is already registered",




    "rolled-back" =&amp;gt; true




}






the problem is fixed in org.jboss.as.clustering.jgroups.subsystem.ForkAddHandler#installRuntimeServices
</description>
			<version>9.0.0.CR1</version>
			<fixedVersion>9.0.0.CR2, 10.0.0.Alpha3</fixedVersion>
			<type>Bug</type>
		</buginformation>
		<fixedFiles>
			<file type="M">org.jboss.as.clustering.jgroups.subsystem.ForkAddHandler.java</file>
		</fixedFiles>
		<links>
			<link type="Related" description="is related to">4721</link>
			<link type="Sequence" description="follows up on">4680</link>
		</links>
	</bug>
	<bug id="4730" opendate="2015-05-30 15:51:01" fixdate="2015-06-05 13:05:54" resolution="Done">
		<buginformation>
			<summary>Undertow mod_cluster proxy does not offer any Client HTTPS configuration</summary>
			<description>Undertow mod_cluster proxy acts both as a server and as a client in relation to its workers.
While the server configuration is quite straightforward:






+++




&amp;lt;system-properties&amp;gt;




    &amp;lt;property name="javax.net.ssl.trustStore" value="/vault/ca-cert.jks"/&amp;gt;




    &amp;lt;property name="javax.net.ssl.trustStorePassword" value="tomcat"/&amp;gt;




&amp;lt;/system-properties&amp;gt;




+++




&amp;lt;security-realm name="UndertowRealm"&amp;gt;




    &amp;lt;server-identities&amp;gt;




        &amp;lt;ssl&amp;gt;




            &amp;lt;keystore path="/vault/server-cert-key.jks"  keystore-password="tomcat" alias="javaserver" key-password="tomcat"/&amp;gt;




        &amp;lt;/ssl&amp;gt;




    &amp;lt;/server-identities&amp;gt;




&amp;lt;/security-realm&amp;gt;




+++




&amp;lt;https-listener name="https" socket-binding="https" security-realm="UndertowRealm"/&amp;gt;




+++






with having management-socket-binding="https" and advertise-protocol="https" set; it seems there is no way to configure certs and keys for the client role of the Undertow mod_cluster proxy implementation.
With the current implementation, worker can connect to the Undertow mod_cluster proxy, i.e. it can send CONFIG and STATUS MCMP messages, but when the Undertow mod_cluster proxy needs to act as a client, sending STATUS-RSP message to the worker, it does not have the necessary HTTPS setup:






DEBUG [io.undertow] (default I/O-5) UT005055: HttpClientPingTask run for connection: https://192.168.0.122:8544/?#




DEBUG [io.undertow.server.handlers.proxy.ProxyHandler] (default I/O-5) No proxy target for request to https://192.168.0.122:8443/




DEBUG [io.undertow] (default task-7) UT005056: Received node load in STATUS message, node jvmRoute: worker-1, load: 80




DEBUG [io.undertow.request] (default I/O-5) Failed to connect: java.io.IOException: UT000065: SSL must be specified to connect to a https URL




    at io.undertow.client.http.HttpClientProvider.connect(HttpClientProvider.java:93)




    at io.undertow.client.UndertowClient.connect(UndertowClient.java:158)




    at io.undertow.server.handlers.proxy.ProxyConnectionPool.openConnection(ProxyConnectionPool.java:233)




    at io.undertow.server.handlers.proxy.ProxyConnectionPool.connect(ProxyConnectionPool.java:446)




    at io.undertow.server.handlers.proxy.mod_cluster.NodePingUtil$1.run(NodePingUtil.java:140)




    at org.xnio.nio.WorkerThread.safeRun(WorkerThread.java:560)




    at org.xnio.nio.WorkerThread.run(WorkerThread.java:462)






The HTTPS communication between Undertow mod_cluster proxy and its workers needs to be bidirectional.
If I&amp;amp;apos;m just missing any obvious configuration option, please, shout, throw rocks and close this JIRA 
Thank you for your time looking into it.</description>
			<version>9.0.0.CR1</version>
			<fixedVersion>10.0.0.Alpha3</fixedVersion>
			<type>Bug</type>
		</buginformation>
		<fixedFiles>
			<file type="M">org.wildfly.extension.undertow.UndertowSubsystemParser_3_0.java</file>
			<file type="M">org.wildfly.extension.undertow.filters.ModClusterDefinition.java</file>
			<file type="M">org.wildfly.extension.undertow.handlers.ReverseProxyHandlerHost.java</file>
			<file type="M">org.wildfly.extension.undertow.filters.ModClusterService.java</file>
		</fixedFiles>
		<links>
			<link type="Cloners" description="cloned from">217</link>
		</links>
	</bug>
	<bug id="4732" opendate="2015-06-03 11:11:19" fixdate="2015-06-08 05:26:11" resolution="Done">
		<buginformation>
			<summary>Potential race in test suite where ops can execute before server has reloaded</summary>
			<description></description>
			<version>10.0.0.Alpha2</version>
			<fixedVersion>9.0.0.CR2, 10.0.0.Alpha3</fixedVersion>
			<type>Bug</type>
		</buginformation>
		<fixedFiles>
			<file type="M">org.jboss.as.test.manualmode.ws.ReloadRequiringChangesTestCase.java</file>
			<file type="M">org.jboss.as.test.integration.jca.moduledeployment.AbstractModuleDeploymentTestCaseSetup.java</file>
		</fixedFiles>
	</bug>
	<bug id="4746" opendate="2015-06-04 13:05:55" fixdate="2015-06-08 17:52:15" resolution="Done">
		<buginformation>
			<summary>SSO cookie-name attribute is ignored</summary>
			<description></description>
			<version>9.0.0.CR1</version>
			<fixedVersion>9.0.0.CR2, 10.0.0.Alpha3</fixedVersion>
			<type>Bug</type>
		</buginformation>
		<fixedFiles>
			<file type="M">org.wildfly.extension.undertow.SingleSignOnService.java</file>
		</fixedFiles>
	</bug>
	<bug id="4751" opendate="2015-06-06 15:16:57" fixdate="2015-06-11 03:50:55" resolution="Done">
		<buginformation>
			<summary>JNDI lookups of JMS topics/queues can lead to null return values due to a missing service dependency</summary>
			<description>The HornetQ subsystem allows for defining jms-topic(s) and jms-queus(s) for a hornetq-server. The jms-topic(s) and jms-queue(s) allow for JNDI names to be specified for each of those JMS destinations. For each of these jms-topic(s) and jms-queues(s) the HornetQ subsystem does the following:

Set up JMSTopicService and JMSQueueService depending on the destination type.
These services in their start method use HornetQ APIs to create the destinations. Note that JNDI binding of these destinations is not
			done at this point via the HornetQ APIs and instead (is rightly) left for the (WildFly) BinderService(s) to take care off.
The getValue() method of these services return the Topic/Queue that was created by the services&amp;amp;apos; start using HornetQ API


For each of the destinations, the HornetQ subsystem sets up a BinderService each for the JNDI names specified for those destinations. The BinderService is configured to fetch the bound value via the JMSTopicService/JMSQueueService (i.e. they use ValueManagedReferenceFactory which ultimately ends up in a call to getValue() of those services).

 Looks fine, except that the BinderService(s) have not been setup to "depend" on the JMSTopicService/JMSQueueService.
 As a result, in theory (and I suspect in reality here https://developer.jboss.org/thread/259981?start=0&amp;amp;tstart=0) JNDI lookups for the topic/queue (even when proper dependencies are setup between the deployments and the BinderService) can end up returning null values, since although the BinderService is up and running, the backing JMSTopicService or JMSQueueService which are responsible for providing the bound value are not yet started and the topic/queue hasn&amp;amp;apos;t yet been created.
P.S: I don&amp;amp;apos;t have a way to reproduce this, since it all depends on the service startup timings. I however do suspect that this is what is causing those issues in that thread. </description>
			<version>9.0.0.CR1</version>
			<fixedVersion>9.0.0.CR2, 10.0.0.Alpha3</fixedVersion>
			<type>Bug</type>
		</buginformation>
		<fixedFiles>
			<file type="M">org.wildfly.extension.messaging.activemq.BinderServiceUtil.java</file>
			<file type="M">org.wildfly.extension.messaging.activemq.jms.JMSQueueAdd.java</file>
			<file type="M">org.wildfly.extension.messaging.activemq.jms.JMSTopicAdd.java</file>
			<file type="M">org.jboss.as.messaging.jms.JMSTopicAdd.java</file>
			<file type="M">org.jboss.as.messaging.jms.JMSQueueAdd.java</file>
			<file type="M">org.jboss.as.messaging.BinderServiceUtil.java</file>
		</fixedFiles>
	</bug>
	<bug id="4635" opendate="2015-05-14 12:47:05" fixdate="2015-06-11 20:41:31" resolution="Done">
		<buginformation>
			<summary>@TransactionAttribute ignored on non-public SFSB PostActivate and PrePassivate lifecycle callbacks</summary>
			<description>Non-public PostActivate and PrePassivate SFSB are not supposed to be lifecycle methods by WFLY-4127 which leads to a situation where transactional attributes on them are ignored. Public methods work as expected.</description>
			<version>9.0.0.CR1</version>
			<fixedVersion>10.0.0.Alpha3</fixedVersion>
			<type>Bug</type>
		</buginformation>
		<fixedFiles>
			<file type="M">org.jboss.as.ee.component.DefaultComponentConfigurator.java</file>
		</fixedFiles>
	</bug>
	<bug id="4715" opendate="2015-06-01 19:51:09" fixdate="2015-06-13 02:53:41" resolution="Done">
		<buginformation>
			<summary>Webservices subsystem requires reload when it does not actually need to</summary>
			<description>When trying undefining and already undefined attribute of the webservices subsystem of a WildFly container on which at least a WS deployment is active, the operation requires reload if the attribute has a default value.
See http://lists.jboss.org/pipermail/wildfly-dev/2015-June/004013.html for further details.</description>
			<version>9.0.0.CR1</version>
			<fixedVersion>10.0.0.Alpha3</fixedVersion>
			<type>Bug</type>
		</buginformation>
		<fixedFiles>
			<file type="M">org.jboss.as.webservices.dmr.WSServerConfigAttributeHandler.java</file>
		</fixedFiles>
		<links>
			<link type="Cloners" description="cloned to">234</link>
		</links>
	</bug>
	<bug id="4654" opendate="2015-05-21 11:27:50" fixdate="2015-06-15 16:34:26" resolution="Done">
		<buginformation>
			<summary>JGroups transport type can&amp;apos;t be set</summary>
			<description>I&amp;amp;apos;m trying to set transport type for JGroups UDP transport. After successful setting via CLI (or model node) and reload, this value is reverted back to undefined.
[standalone@localhost:9990 transport=UDP] :write-attribute(name="type" ,value="TUNNEL")
{
    "outcome" =&amp;gt; "success",
    "response-headers" =&amp;gt; 
{
        "operation-requires-reload" =&amp;gt; true,
        "process-state" =&amp;gt; "reload-required"
    }
}
[standalone@localhost:9990 transport=UDP] ls
property                              diagnostics-socket-binding=undefined  oob-executor=undefined                shared=false                          thread-factory=undefined              
thread-pool                           machine=undefined                     properties=[]                         site=undefined                        timer-executor=undefined              
default-executor=undefined            module=org.jgroups                    rack=undefined                        socket-binding=jgroups-udp            type=undefined   </description>
			<version>10.0.0.Alpha1</version>
			<fixedVersion>10.0.0.Alpha3</fixedVersion>
			<type>Bug</type>
		</buginformation>
		<fixedFiles>
			<file type="M">org.jboss.as.clustering.jgroups.subsystem.StackResourceDefinition.java</file>
			<file type="M">org.jboss.as.clustering.jgroups.subsystem.TransportResourceDefinition.java</file>
			<file type="M">org.jboss.as.clustering.controller.transform.SimpleAddOperationTransformer.java</file>
			<file type="M">org.jboss.as.clustering.jgroups.subsystem.PropertyResourceDefinition.java</file>
			<file type="M">org.jboss.as.clustering.jgroups.subsystem.OperationsTestCase.java</file>
			<file type="M">org.jboss.as.clustering.jgroups.subsystem.ProtocolResourceDefinition.java</file>
		</fixedFiles>
		<links>
			<link type="Cloners" description="cloned from">131</link>
		</links>
	</bug>
	<bug id="4777" opendate="2015-06-12 15:27:14" fixdate="2015-06-16 20:54:53" resolution="Done">
		<buginformation>
			<summary>Multiple params not working properly in webservices tag</summary>
			<description>I configured webservices to use a rewrite of the soap endpoint.  The following attributes don&amp;amp;apos;t seem to work correctly
1. Adding this entry does not work.  I need the value for protocol to be configurable






&amp;lt;wsdl-uri-scheme&amp;gt;${wsdl.protocol:http}&amp;lt;/wsdl-uri-scheme&amp;gt;






With error

Message: "WFLYCTL0248: Invalid value ${wsdl.protocol:http} for wsdl-uri-scheme; legal values are [http, https]"
2. wsdl-port is not leveraged properly.  I manually changed to https, based on the above limitation.  I set this:






&amp;lt;wsdl-uri-scheme&amp;gt;https&amp;lt;/wsdl-uri-scheme&amp;gt;




&amp;lt;wsdl-port&amp;gt;${wsdl.port:443}&amp;lt;/wsdl-port&amp;gt;






However, the reported URL includes 8443 not my configured 443 value.
In addition, if I manually set the values






            &amp;lt;wsdl-uri-scheme&amp;gt;https&amp;lt;/wsdl-uri-scheme&amp;gt;




            &amp;lt;wsdl-port&amp;gt;443&amp;lt;/wsdl-port&amp;gt;






I still get 8443.</description>
			<version>9.0.0.CR2</version>
			<fixedVersion>9.0.0.Final</fixedVersion>
			<type>Bug</type>
		</buginformation>
		<fixedFiles>
			<file type="M">org.jboss.as.webservices.dmr.Attributes.java</file>
		</fixedFiles>
	</bug>
	<bug id="4757" opendate="2015-06-08 13:11:40" fixdate="2015-06-18 08:39:13" resolution="Done">
		<buginformation>
			<summary>ConfigurationPersistenceException when persisting mod_cluster subsystem&amp;apos;s "proxies" attribute</summary>
			<description>If one takes a vanilla EAP 7 DR build and starts it with ./standalone.sh -c standalone.ha, i.e. with mod_cluster subsystem loaded, but without any static proxies configuration directives, the server registers with mod_cluster load balancers and accepts hot deployments without any error.
If one sets a static proxy configuration, e.g.:






+++




&amp;lt;mod-cluster-config advertise-socket="modcluster" connector="ajp" proxies="my-proxy-one"&amp;gt;




+++




&amp;lt;outbound-socket-binding name="my-proxy-one"&amp;gt;




    &amp;lt;remote-destination host="10.40.4.50" port="6666"/&amp;gt;




&amp;lt;/outbound-socket-binding&amp;gt;




+++






then the server processes hot deployments only as long as it&amp;amp;apos;s not registered with any mod_cluster load balancer. As soon as it registers with a load balancer, any hot deployment causes the following exception:






14:39:13,475 INFO  [org.jboss.as.server.deployment.scanner] (DeploymentScanner-threads - 1) WFLYDS0004: Found simplecontext.war in deployment directory. To trigger deployment create a file called simplecontext.war.dodeploy




14:39:13,520 INFO  [org.jboss.as.server.deployment] (MSC service thread 1-3) WFLYSRV0027: Starting deployment of "simplecontext.war" (runtime-name: "simplecontext.war")




14:39:14,028 INFO  [org.wildfly.extension.undertow] (MSC service thread 1-2) WFLYUT0021: Registered web context: /simplecontext




14:39:14,080 ERROR [org.jboss.as.controller.management-operation] (DeploymentScanner-threads - 2) WFLYCTL0008: Failed to persist configuration change: org.jboss.as.controller.persistence.ConfigurationPersistenceException: WFLYCTL0084: Failed to marshal configuration




    at org.jboss.as.controller.persistence.AbstractFilePersistenceResource.&amp;lt;init&amp;gt;(AbstractFilePersistenceResource.java:49)




    at org.jboss.as.controller.persistence.ConfigurationFilePersistenceResource.&amp;lt;init&amp;gt;(ConfigurationFilePersistenceResource.java:45)




    at org.jboss.as.controller.persistence.BackupXmlConfigurationPersister.store(BackupXmlConfigurationPersister.java:109)




    at org.jboss.as.controller.ModelControllerImpl.writeModel(ModelControllerImpl.java:738)




    at org.jboss.as.controller.OperationContextImpl.createPersistenceResource(OperationContextImpl.java:403)




    at org.jboss.as.controller.AbstractOperationContext.doCompleteStep(AbstractOperationContext.java:643)




    at org.jboss.as.controller.AbstractOperationContext.completeStepInternal(AbstractOperationContext.java:354)




    at org.jboss.as.controller.AbstractOperationContext.finishStep(AbstractOperationContext.java:918)




    at org.jboss.as.controller.AbstractOperationContext.executeStep(AbstractOperationContext.java:885)




    at org.jboss.as.controller.AbstractOperationContext.doCompleteStep(AbstractOperationContext.java:601)




    at org.jboss.as.controller.AbstractOperationContext.completeStepInternal(AbstractOperationContext.java:354)




    at org.jboss.as.controller.AbstractOperationContext.executeOperation(AbstractOperationContext.java:330)




    at org.jboss.as.controller.OperationContextImpl.executeOperation(OperationContextImpl.java:1170)




    at org.jboss.as.controller.ModelControllerImpl.internalExecute(ModelControllerImpl.java:363)




    at org.jboss.as.controller.ModelControllerImpl.execute(ModelControllerImpl.java:219)




    at org.jboss.as.controller.ModelControllerImpl$3$1$1.run(ModelControllerImpl.java:716)




    at org.jboss.as.controller.ModelControllerImpl$3$1$1.run(ModelControllerImpl.java:710)




    at java.security.AccessController.doPrivileged(Native Method)




    at org.jboss.as.controller.ModelControllerImpl$3$1.run(ModelControllerImpl.java:710)




    at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)




    at java.util.concurrent.FutureTask.run(FutureTask.java:266)




    at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.access$201(ScheduledThreadPoolExecutor.java:180)




    at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:293)




    at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)




    at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)




    at java.lang.Thread.run(Thread.java:745)




    at org.jboss.threads.JBossThread.run(JBossThread.java:320)




Caused by: org.jboss.as.controller.persistence.ConfigurationPersistenceException: WFLYCTL0089: Failed to write configuration




    at org.jboss.as.controller.persistence.AbstractConfigurationPersister.marshallAsXml(AbstractConfigurationPersister.java:100)




    at org.jboss.as.controller.persistence.AbstractFilePersistenceResource.&amp;lt;init&amp;gt;(AbstractFilePersistenceResource.java:42)




    ... 26 more




Caused by: java.lang.reflect.UndeclaredThrowableException




    at org.jboss.staxmapper.FormattingXMLStreamWriter$4.run(FormattingXMLStreamWriter.java:249)




    at org.jboss.staxmapper.FormattingXMLStreamWriter.runAttrQueue(FormattingXMLStreamWriter.java:221)




    at org.jboss.staxmapper.FormattingXMLStreamWriter.writeStartElement(FormattingXMLStreamWriter.java:96)




    at org.wildfly.extension.mod_cluster.ModClusterSubsystemXMLWriter.writeDynamicLoadProvider(ModClusterSubsystemXMLWriter.java:104)




    at org.wildfly.extension.mod_cluster.ModClusterSubsystemXMLWriter.writeModClusterConfig(ModClusterSubsystemXMLWriter.java:69)




    at org.wildfly.extension.mod_cluster.ModClusterSubsystemXMLWriter.writeContent(ModClusterSubsystemXMLWriter.java:51)




    at org.wildfly.extension.mod_cluster.ModClusterSubsystemXMLWriter.writeContent(ModClusterSubsystemXMLWriter.java:42)




    at org.jboss.as.server.parsing.StandaloneXml_4.writeServerProfile(StandaloneXml_4.java:695)




    at org.jboss.as.server.parsing.StandaloneXml_4.writeContent(StandaloneXml_4.java:613)




    at org.jboss.as.server.parsing.StandaloneXml.writeContent(StandaloneXml.java:77)




    at org.jboss.as.server.parsing.StandaloneXml.writeContent(StandaloneXml.java:47)




    at org.jboss.staxmapper.XMLMapperImpl.doDeparse(XMLMapperImpl.java:88)




    at org.jboss.staxmapper.XMLMapperImpl.deparseDocument(XMLMapperImpl.java:83)




    at org.jboss.as.controller.persistence.AbstractConfigurationPersister.marshallAsXml(AbstractConfigurationPersister.java:94)




    ... 27 more




Caused by: javax.xml.stream.XMLStreamException: Trying to write an attribute when there is no open start element.




    at com.ctc.wstx.sw.BaseStreamWriter.throwOutputError(BaseStreamWriter.java:1537)




    at com.ctc.wstx.sw.BaseStreamWriter.reportNwfStructure(BaseStreamWriter.java:1566)




    at com.ctc.wstx.sw.BaseNsStreamWriter.writeAttribute(BaseNsStreamWriter.java:226)




    at org.jboss.staxmapper.FormattingXMLStreamWriter$4.run(FormattingXMLStreamWriter.java:247)




    ... 40 more









14:39:14,085 ERROR [org.jboss.as.server] (DeploymentScanner-threads - 2) WFLYSRV0021: Deploy of deployment "simplecontext.war" was rolled back with the following failure message: "WFLYCTL0086: Failed to persist configuration change: WFLYCTL0084: Failed to marshal configuration"




14:39:14,095 INFO  [org.jboss.modcluster] (MSC service thread 1-3) MODCLUSTER000021: All pending requests drained from default-host:/simplecontext in 0.0 seconds




14:39:14,098 INFO  [org.wildfly.extension.undertow] (MSC service thread 1-3) WFLYUT0022: Unregistered web context: /simplecontext




14:39:14,142 INFO  [org.hibernate.validator.internal.util.Version] (MSC service thread 1-8) HV000001: Hibernate Validator 5.1.3.Final




14:39:14,177 INFO  [org.jboss.as.server.deployment] (MSC service thread 1-2) WFLYSRV0028: Stopped deployment simplecontext.war (runtime-name: simplecontext.war) in 92ms






The problem is IMHO related to the new configuration attribute WFLY-457.
Note that this issue affects hot deployments only. If the server starts with deployments already present, no exception is thrown and everything works as expected. I find this issue being of critical severity, because it breaks core functionality of the application server  hot deployments.</description>
			<version>9.0.0.CR1</version>
			<fixedVersion>9.0.0.Final, 10.0.0.Alpha4</fixedVersion>
			<type>Bug</type>
		</buginformation>
		<fixedFiles>
			<file type="M">org.wildfly.extension.mod_cluster.CommonAttributes.java</file>
			<file type="M">org.wildfly.extension.mod_cluster.ModClusterSubsystemXMLWriter.java</file>
			<file type="M">org.wildfly.extension.mod_cluster.ModClusterConfigResourceDefinition.java</file>
		</fixedFiles>
		<links>
			<link type="Cloners" description="cloned from">281</link>
			<link type="Related" description="relates to">4779</link>
			<link type="Related" description="relates to">4721</link>
		</links>
	</bug>
	<bug id="4684" opendate="2015-05-27 11:57:14" fixdate="2015-06-22 12:09:01" resolution="Done">
		<buginformation>
			<summary>EE Subsystem doesn&amp;apos;t check some value of params when creating Concurrency utilities resources</summary>
			<description>EE Subsystem doesn&amp;amp;apos;t check some value of params when creating Concurrency utilities resources






[standalone@localhost:9990 /] /subsystem=ee/managed-executor-service=other:add(jndi-name=java\:jboss\/ee\/executor\/other, core-threads=2, keepalive-time=-20)




{




    "outcome" =&amp;gt; "failed",




    "failure-description" =&amp;gt; {"WFLYCTL0080: Failed services" =&amp;gt; {"jboss.concurrent.ee.executor.other" =&amp;gt; "org.jboss.msc.service.StartException in service jboss.concurrent.ee.executor.other: Failed to start service




    Caused by: java.lang.IllegalArgumentException"}},




    "rolled-back" =&amp;gt; true,




    "response-headers" =&amp;gt; {"process-state" =&amp;gt; "reload-required"}




}









[standalone@localhost:9990 /] /subsystem=ee/managed-executor-service=other:add(jndi-name=java\:jboss\/ee\/executor\/other, core-threads=2, hung-task-threshold=-10









Resources will be created.










</description>
			<version>10.0.0.Alpha1</version>
			<fixedVersion></fixedVersion>
			<type>Bug</type>
		</buginformation>
		<fixedFiles>
			<file type="M">org.jboss.as.ee.subsystem.ManagedExecutorServiceResourceDefinition.java</file>
			<file type="M">org.jboss.as.ee.subsystem.ManagedScheduledExecutorServiceResourceDefinition.java</file>
		</fixedFiles>
		<links>
			<link type="Cloners" description="cloned from">185</link>
		</links>
	</bug>
	<bug id="4800" opendate="2015-06-17 15:26:04" fixdate="2015-06-25 12:53:44" resolution="Done">
		<buginformation>
			<summary>No reload required when add mime-mapping to servlet-container</summary>
			<description>When mime-mapping is added to servlet container then no reload of server is required, although change takes effect after server restart is performed.
Expected behaivour is either that change takes effect immediatelly after configuration is changed or that server reload is required in response message and result of the operation.</description>
			<version>10.0.0.Alpha3</version>
			<fixedVersion>10.0.0.Alpha4</fixedVersion>
			<type>Bug</type>
		</buginformation>
		<fixedFiles>
			<file type="M">org.wildfly.extension.undertow.MimeMappingDefinition.java</file>
			<file type="M">org.wildfly.extension.undertow.WelcomeFileDefinition.java</file>
			<file type="M">org.jboss.as.clustering.controller.ReloadRequiredAddStepHandler.java</file>
		</fixedFiles>
		<links>
			<link type="Cloners" description="cloned from">342</link>
		</links>
	</bug>
	<bug id="4801" opendate="2015-06-18 04:35:36" fixdate="2015-06-27 03:31:55" resolution="Done">
		<buginformation>
			<summary> When expression is used in jndi name attribute of datasource then test-connection-in-pool operation is not working</summary>
			<description>





Description of problem:




========================









- Expression is added in the datasource JNDI name attribute as below:




-----




  &amp;lt;datasource jndi-name="${ds}" pool-name="ExampleDS" enabled="true" use-java-context="true"&amp;gt;




-----









- Value for the expression is passed to the JBoss server during the JBoss startup as below:




-----




  ./standalone.sh -Dds=java:jboss/datasources/ExampleDS




-----









- In the server.log file below is the information regarding the datasource.




-----




  INFO  [org.jboss.as.connector.subsystems.datasources] (MSC service thread 1-3) JBAS010400: Bound data source [${ds}]




----- 









- Test the datasource using the below command and here is the result:




----




[standalone@localhost:9999 /] /subsystem=datasources/data-source=ExampleDS:test-connection-in-pool()




{




    "outcome" =&amp;gt; "failed",




    "failure-description" =&amp;gt; "JBAS010440: failed to invoke operation: JBAS010442: failed to match pool. Check JndiName: java:/${ds}",




    "rolled-back" =&amp;gt; true




}




----









- Here is the information regarding the JNDI name attribute:




----




[standalone@localhost:9999 /] /subsystem=datasources/data-source=ExampleDS:read-resource-description(recursive=true)




{




    "outcome" =&amp;gt; "success",




    "result" =&amp;gt; {




        	  :




            "jndi-name" =&amp;gt; {




                "type" =&amp;gt; STRING,




                "description" =&amp;gt; "Specifies the JNDI name for the datasource",




                "expressions-allowed" =&amp;gt; true,




                "nillable" =&amp;gt; false,




                "access-type" =&amp;gt; "read-write",




                "storage" =&amp;gt; "configuration",




                "restart-required" =&amp;gt; "no-services"




            },




		  :




}




-----





</description>
			<version>10.0.0.Alpha3</version>
			<fixedVersion>9.0.0.Final, 10.0.0.Alpha4</fixedVersion>
			<type>Bug</type>
		</buginformation>
		<fixedFiles>
			<file type="M">org.jboss.as.connector.subsystems.common.pool.PoolOperations.java</file>
			<file type="M">org.jboss.as.connector.subsystems.datasources.DataSourceDisable.java</file>
			<file type="M">org.jboss.as.connector.subsystems.datasources.DataSourceEnable.java</file>
			<file type="M">org.jboss.as.connector.subsystems.datasources.Util.java</file>
			<file type="M">org.jboss.as.connector.subsystems.datasources.AbstractDataSourceAdd.java</file>
			<file type="M">org.jboss.as.connector.subsystems.datasources.AbstractDataSourceRemove.java</file>
		</fixedFiles>
	</bug>
	<bug id="4754" opendate="2015-06-08 10:00:36" fixdate="2015-06-27 03:34:18" resolution="Done">
		<buginformation>
			<summary>NPE is thrown if @LocalBean is used on a WebService</summary>
			<description>If you create a WebService without interface and use @LocalBean on it, during deploy you get:
(stacktrace for 9 CR1)






15:26:18,439 ERROR [org.jboss.msc.service.fail] (MSC service thread 1-2) MSC000001: Failed to start service jboss.deployment.subunit."mms.ear"."rvm.jar".INSTALL: org.jboss.msc.service.StartException in service jboss.deployment.subunit."mms.ear"."rvm.jar".INSTALL: WFLYSRV0153: Failed to process phase INSTALL of subdeployment "rvm.jar" of deployment "mms.ear"




	at org.jboss.as.server.deployment.DeploymentUnitPhaseService.start(DeploymentUnitPhaseService.java:163)




	at org.jboss.msc.service.ServiceControllerImpl$StartTask.startService(ServiceControllerImpl.java:1948)




	at org.jboss.msc.service.ServiceControllerImpl$StartTask.run(ServiceControllerImpl.java:1881)




	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1145)




	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:615)




	at java.lang.Thread.run(Thread.java:745)




Caused by: org.jboss.as.server.deployment.DeploymentUnitProcessingException: WFLYEE0024: Could not configure component ReviewManagerSoapService




	at org.jboss.as.ee.component.deployers.EEModuleConfigurationProcessor.deploy(EEModuleConfigurationProcessor.java:95)




	at org.jboss.as.server.deployment.DeploymentUnitPhaseService.start(DeploymentUnitPhaseService.java:156)




	... 5 more




Caused by: java.lang.NullPointerException




	at org.jboss.as.ejb3.security.EJBSecurityViewConfigurator.handlePermissions(EJBSecurityViewConfigurator.java:215)




	at org.jboss.as.ejb3.security.EJBSecurityViewConfigurator.configure(EJBSecurityViewConfigurator.java:123)




	at org.jboss.as.ee.component.DefaultComponentViewConfigurator.configure(DefaultComponentViewConfigurator.java:67)




	at org.jboss.as.ee.component.deployers.EEModuleConfigurationProcessor.deploy(EEModuleConfigurationProcessor.java:81)




	... 6 more






The same issue in EAP: JBEAP-66</description>
			<version>8.2.0.Final</version>
			<fixedVersion>10.0.0.Alpha4</fixedVersion>
			<type>Bug</type>
		</buginformation>
		<fixedFiles>
			<file type="M">org.jboss.as.ejb3.security.EJBSecurityViewConfigurator.java</file>
		</fixedFiles>
		<links>
			<link type="Related" description="is related to">66</link>
		</links>
	</bug>
	<bug id="4697" opendate="2015-05-28 15:39:07" fixdate="2015-06-27 03:34:45" resolution="Done">
		<buginformation>
			<summary>EJBClient access to SFSBs does not play well with clean shutdown</summary>
			<description>The clean shutdown mechanism allows EJB and web applications to make use of shutdown interceptors to allow the application server to refuse requests when a server is in the process of shutting down. These interceptors are tied to the processing of EJB invocations and web requests.
In the case of EJBCLient invocations, they arrive at the remoting connector, and undergo some preliminary processing before being sent to the EJB interface in question. When a server is shutting down, EJBCLient invocations can arrive at the RemoteConnector and start processing, even when the EJB interface has been locked down, so to speak.
I am seeing various types of exceptions arising from this preliminary processing (e.g. NPE on DeploymentRepository lookups) and these get returned to the client as exceptions on the SFSB invocation, before even reaching the SFSB interceptors.
If the EJBCLient is running in a managed transaction context, these returned exceptions will case the SFSB to be discarded (as the SFSB invocation is considered failed with the exception returned) and the transaction will attempt to rollback. If the rollback processing fails (because the original node in the transaction is down the bean gets removed anyway. The SFSB session state is lost, even if there is another node in the cluster which can support the invocation.
In short, it looks as though the clean shutdown mechanism needs to be used to also lock down the processing of EJBCLient invocations in some way.
</description>
			<version>10.0.0.Alpha1</version>
			<fixedVersion>10.0.0.Alpha4</fixedVersion>
			<type>Bug</type>
		</buginformation>
		<fixedFiles>
			<file type="M">org.jboss.as.test.clustering.cluster.ejb.remote.RemoteFailoverTestCase.java</file>
			<file type="M">org.jboss.as.clustering.infinispan.subsystem.TransactionResourceDefinition.java</file>
			<file type="M">org.jboss.as.ejb3.remote.protocol.versionone.VersionOneProtocolChannelReceiver.java</file>
			<file type="M">org.jboss.as.ejb3.subsystem.EJB3RemoteServiceAdd.java</file>
			<file type="M">org.jboss.as.ejb3.remote.protocol.versiontwo.VersionTwoProtocolChannelReceiver.java</file>
			<file type="M">org.jboss.as.ejb3.remote.EJBRemoteConnectorService.java</file>
		</fixedFiles>
		<links>
			<link type="Dependency" description="blocks">4853</link>
			<link type="Dependency" description="blocks">3532</link>
		</links>
	</bug>
	<bug id="4686" opendate="2015-05-27 12:29:31" fixdate="2015-06-27 03:35:04" resolution="Done">
		<buginformation>
			<summary>Operation list-delivering-messages is missing in CLI</summary>
			<description>There is missing operation list-delivering-messages on runtime-queue:






[standalone@localhost:9990 /] /subsystem=messaging-activemq/server=default/runtime-queue=jms.queue.testQueue:list-




list-add                              list-get                              list-message-counter-history-as-html  list-messages-as-json                 list-scheduled-messages-as-json       




list-clear                            list-message-counter-as-html          list-message-counter-history-as-json  list-remove                           




list-consumers-as-json                list-message-counter-as-json          list-messages                         list-scheduled-messages    






This was hit on Wildfly 9 with ActiveMQ (built from Jeff&amp;amp;apos;s branch)</description>
			<version>10.0.0.Alpha1</version>
			<fixedVersion>10.0.0.Alpha4</fixedVersion>
			<type>Bug</type>
		</buginformation>
		<fixedFiles>
			<file type="M">org.wildfly.extension.messaging.activemq.QueueControlHandler.java</file>
			<file type="M">org.wildfly.extension.messaging.activemq.jms.JMSQueueControlHandler.java</file>
			<file type="M">org.wildfly.extension.messaging.activemq.AbstractQueueControlHandler.java</file>
		</fixedFiles>
	</bug>
	<bug id="4612" opendate="2015-05-07 19:04:28" fixdate="2015-06-27 03:37:30" resolution="Done">
		<buginformation>
			<summary>EjbJndiBindingsDeploymentUnitProcessor logs non-i18n message at INFO</summary>
			<description>ejb3/src/main/java/org/jboss/as/ejb3/deployment/processors/EjbJndiBindingsDeploymentUnitProcessor.java






jndiBindingsLogMessage.append("JNDI bindings for session bean named " + sessionBean.getEJBName() + " in deployment unit " + deploymentUnit + " are as follows:\n\n");






That eventually gets logged at INFO.</description>
			<version>9.0.0.CR1</version>
			<fixedVersion>10.0.0.Alpha4</fixedVersion>
			<type>Bug</type>
		</buginformation>
		<fixedFiles>
			<file type="M">org.jboss.as.ejb3.logging.EjbLogger.java</file>
			<file type="M">org.jboss.as.ejb3.deployment.processors.EjbJndiBindingsDeploymentUnitProcessor.java</file>
		</fixedFiles>
	</bug>
	<bug id="4645" opendate="2015-05-20 10:32:55" fixdate="2015-07-01 19:21:45" resolution="Done">
		<buginformation>
			<summary>access log rotates even when rotation is disabled by "rotate" attribute</summary>
			<description>When I disable access log rotation by setting "rotate" attribute to false:






/subsystem=undertow/server=default-server/host=default-host/setting=access-log/:write-attribute(name=rotate,value=false)






The logfile keeps rotating - how tested in "Steps to Reproduce" section.</description>
			<version>10.0.0.Alpha1</version>
			<fixedVersion>10.0.0.Alpha5</fixedVersion>
			<type>Bug</type>
		</buginformation>
		<fixedFiles>
			<file type="M">org.wildfly.extension.undertow.AccessLogService.java</file>
			<file type="M">org.wildfly.extension.undertow.AccessLogAdd.java</file>
			<file type="M">org.wildfly.extension.undertow.UndertowSubsystemTestCase.java</file>
		</fixedFiles>
		<links>
			<link type="Causality" description="causes">140</link>
			<link type="Cloners" description="cloned from">441</link>
		</links>
	</bug>
	<bug id="2885" opendate="2014-02-09 16:34:00" fixdate="2015-07-02 13:12:46" resolution="Done">
		<buginformation>
			<summary>HttpListenerService start doesn&amp;apos;t clean up if start fails</summary>
			<description>HttpListenerService.prestart() does some registration stuff that doesn&amp;amp;apos;t get cleaned up if start() fails later on.
I noticed this in the logs while debugging RolloutPlanTestCase failures on JDK8. Probably unrelated to those failures; just an FYI to give context.
What happens in the test is it does an http-listener=xxx:add that is deliberately meant to fail in Stage.RUNTIME (due to a port conflict.) Later on the test does the same thing again. It&amp;amp;apos;s meant to fail there too, but I noticed in the logs that it failed for the wrong reason, before the port conflict:






[Server:main-one] 10:13:44,128 ERROR [org.jboss.msc.service.fail] (MSC service thread 1-3) MSC000001: Failed to start service jboss.undertow.listener.maxFailOnePlan: org.jboss.msc.service.StartException in service jboss.undertow.listener.maxFailOnePlan: Failed to start service




[Server:main-one]       at org.jboss.msc.service.ServiceControllerImpl$StartTask.run(ServiceControllerImpl.java:1904) [jboss-msc-1.2.0.Final.jar:1.2.0.Final]




[Server:main-one]       at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142) [rt.jar:1.8.0]




[Server:main-one]       at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617) [rt.jar:1.8.0]




[Server:main-one]       at java.lang.Thread.run(Thread.java:744) [rt.jar:1.8.0]




[Server:main-one] Caused by: java.lang.IllegalArgumentException: UT000053: Listener maxFailOnePlan already registered




[Server:main-one]       at io.undertow.server.ListenerRegistry.addListener(ListenerRegistry.java:32) [undertow-core-1.0.0.CR5.jar:1.0.0.CR5]




[Server:main-one]       at org.wildfly.extension.undertow.HttpListenerService.preStart(HttpListenerService.java:107)




[Server:main-one]       at org.wildfly.extension.undertow.ListenerService.start(ListenerService.java:121)




[Server:main-one]       at org.jboss.msc.service.ServiceControllerImpl$StartTask.startService(ServiceControllerImpl.java:1948) [jboss-msc-1.2.0.Final.jar:1.2.0.Final]




[Server:main-one]       at org.jboss.msc.service.ServiceControllerImpl$StartTask.run(ServiceControllerImpl.java:1881) [jboss-msc-1.2.0.Final.jar:1.2.0.Final]




[Server:main-one]       ... 3 more






The error ^^^ will continue to happen until the server is restarted, even if the port conflict situation was fixed. It&amp;amp;apos;s because the ListenerRegistry.addListener call from the first attempt was never cleaned up.
Cleaning up would have to be done in a catch block in ListenerService.start(). The code in stop() that normally does the cleanup does not get called if service start has failed.
I expect we have this kind of problem in many places in the WF code.</description>
			<version>8.0.0.CR1</version>
			<fixedVersion>10.0.0.Alpha5</fixedVersion>
			<type>Bug</type>
		</buginformation>
		<fixedFiles>
			<file type="M">org.wildfly.extension.undertow.ListenerService.java</file>
			<file type="M">org.wildfly.extension.undertow.AjpListenerService.java</file>
			<file type="M">org.wildfly.extension.undertow.HttpListenerService.java</file>
		</fixedFiles>
	</bug>
	<bug id="4735" opendate="2015-06-03 12:50:41" fixdate="2015-07-03 08:14:55" resolution="Done">
		<buginformation>
			<summary> Example configuration standalone-hornetq-colocated.xml is not correct</summary>
			<description>Example configuration standalone-hornetq-colocated.xml is not correct. This file is located in $JBOSS_HOME/docs/examples/configs
Delete this file and replace it with correct configuration file for WildFly.</description>
			<version>10.0.0.Alpha1</version>
			<fixedVersion>10.0.0.Alpha5</fixedVersion>
			<type>Bug</type>
		</buginformation>
		<fixedFiles>
			<file type="M">org.jboss.as.test.manualmode.parse.ParseAndMarshalModelsTestCase.java</file>
		</fixedFiles>
		<links>
			<link type="Cloners" description="cloned from">247</link>
			<link type="Duplicate" description="is duplicated by">5096</link>
		</links>
	</bug>
	<bug id="4815" opendate="2015-06-22 10:26:25" fixdate="2015-07-03 09:33:20" resolution="Done">
		<buginformation>
			<summary> AdvancedLdapLoginModuleTestCase fails on RHEL5 and IBM JDK</summary>
			<description>Upstream of https://bugzilla.redhat.com/show_bug.cgi?id=1206177</description>
			<version>10.0.0.Alpha3</version>
			<fixedVersion>10.0.0.Alpha5</fixedVersion>
			<type>Bug</type>
		</buginformation>
		<fixedFiles>
			<file type="M">org.jboss.as.test.integration.security.picketlink.SAML2KerberosAuthenticationTestCase.java</file>
			<file type="M">org.jboss.as.test.integration.security.common.Utils.java</file>
			<file type="M">org.jboss.as.test.integration.security.picketlink.PicketLinkTestBase.java</file>
			<file type="M">org.jboss.as.test.integration.security.loginmodules.negotiation.GSSTestServer.java</file>
			<file type="M">org.jboss.as.test.integration.security.common.Krb5LoginConfiguration.java</file>
		</fixedFiles>
	</bug>
	<bug id="4861" opendate="2015-07-02 13:37:38" fixdate="2015-07-08 11:44:54" resolution="Done">
		<buginformation>
			<summary>Unable to establish HTTP/2 connection via plain http (non https)</summary>
			<description>HTTP/2 doesn&amp;amp;apos;t work over plain http (non-https) even when http-listener&amp;amp;apos;s enable-http2 option is set to true, see [1].
I am using Http2 client from netty for trying whether it is possible to establish HHTP/2 connection via upgrade.
[1] 






 &amp;lt;server name="default-server"&amp;gt;




                &amp;lt;http-listener name="default" socket-binding="http" enable-http2="true" redirect-socket="https"/&amp;gt;




                &amp;lt;https-listener name="https" socket-binding="https" security-realm="https" enable-http2="true"/&amp;gt;




                &amp;lt;host name="default-host" alias="localhost"&amp;gt;




                    &amp;lt;location name="/" handler="welcome-content"/&amp;gt;




                    &amp;lt;filter-ref name="server-header"/&amp;gt;




                    &amp;lt;filter-ref name="x-powered-by-header"/&amp;gt;




                &amp;lt;/host&amp;gt;




            &amp;lt;/server&amp;gt;










</description>
			<version>10.0.0.Alpha4</version>
			<fixedVersion>10.0.0.Alpha5</fixedVersion>
			<type>Bug</type>
		</buginformation>
		<fixedFiles>
			<file type="M">org.wildfly.extension.undertow.HttpListenerService.java</file>
		</fixedFiles>
		<links>
			<link type="Cloners" description="cloned from">395</link>
		</links>
	</bug>
	<bug id="4869" opendate="2015-07-06 09:56:00" fixdate="2015-07-09 14:03:14" resolution="Done">
		<buginformation>
			<summary>Failed to start statistics service for datasources</summary>
			<description>11:45:40,471 INFO  [org.jboss.as.connector.subsystems.datasources] (MSC service thread 1-7) WFLYJCA0001: Bound data source [java:jboss/datasources/rmclientdb]
11:45:40,472 ERROR [org.jboss.msc.service.fail] (MSC service thread 1-6) MSC000001: Failed to start service jboss.data-source.java:jboss/datasources/rmclientdb.statistics: org.jboss.msc.service.StartException in service jboss.data-source.java:jboss/datasources/rmclientdb.statistics: Failed to start service
	at org.jboss.msc.service.ServiceControllerImpl$StartTask.run(ServiceControllerImpl.java:1904)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)
	at java.lang.Thread.run(Thread.java:745)
Caused by: java.lang.IllegalArgumentException: WFLYCTL0218: A node is already registered at &amp;amp;apos;/deployment=/subsystem=datasources/data-source=/statistics=jdbc&amp;amp;apos;
	at org.jboss.as.controller.registry.NodeSubregistry.register(NodeSubregistry.java:86)
	at org.jboss.as.controller.registry.ConcreteResourceRegistration.registerSubModel(ConcreteResourceRegistration.java:176)
	at org.jboss.as.connector.services.datasources.statistics.DataSourceStatisticsService.start(DataSourceStatisticsService.java:83)
	at org.jboss.msc.service.ServiceControllerImpl$StartTask.startService(ServiceControllerImpl.java:1948)
	at org.jboss.msc.service.ServiceControllerImpl$StartTask.run(ServiceControllerImpl.java:1881)
	... 3 more
reproducible w/ attached deployment</description>
			<version>10.0.0.Alpha4</version>
			<fixedVersion>10.0.0.Alpha5</fixedVersion>
			<type>Bug</type>
		</buginformation>
		<fixedFiles>
			<file type="M">org.jboss.as.connector.services.datasources.statistics.DataSourceStatisticsService.java</file>
		</fixedFiles>
		<links>
			<link type="Related" description="relates to">5030</link>
		</links>
	</bug>
	<bug id="3334" opendate="2014-02-26 11:29:43" fixdate="2015-07-13 01:26:58" resolution="Done">
		<buginformation>
			<summary>Event with qualifier @Initialized not raised if no webapp is deployed</summary>
			<description>As stated in the CDI-specification (section 6.7.3. Application context lifecycle)

An event with qualifier @Initialized(ApplicationScoped.class) is fired when the application context is initialized and an event with qualifier @Destroyed(ApplicationScoped.class) is fired when the application is destroyed. 
But in my environment this is only true, if the deployed application (packaged in an EAR) contains a webapplication (as WAR inside the EAR). If there is no webapplication, the event is not raised and observer-methods are not called at all.</description>
			<version>8.1.0.CR1</version>
			<fixedVersion>10.0.0.Alpha5</fixedVersion>
			<type>Bug</type>
		</buginformation>
		<fixedFiles>
			<file type="M">org.jboss.as.weld.deployment.processors.BeanArchiveProcessor.java</file>
			<file type="M">org.jboss.as.weld.deployment.WeldDeployment.java</file>
			<file type="M">org.jboss.as.weld.deployment.BeanDeploymentModule.java</file>
			<file type="M">org.jboss.as.weld.util.Utils.java</file>
			<file type="M">org.jboss.as.weld.deployment.processors.WeldDeploymentProcessor.java</file>
			<file type="M">org.jboss.as.weld.deployment.processors.ExternalBeanArchiveProcessor.java</file>
		</fixedFiles>
		<links>
			<link type="Dependency" description="is blocked by">1821</link>
		</links>
	</bug>
	<bug id="4917" opendate="2015-07-13 19:50:18" fixdate="2015-07-14 16:19:49" resolution="Done">
		<buginformation>
			<summary>Invalid context set up for batch threads</summary>
			<description>Batch tasks incorrectly set-up the contexts needed for the executed tasks. The task needs to be set-up outside the new thread.</description>
			<version>10.0.0.Alpha5</version>
			<fixedVersion>10.0.0.Alpha6</fixedVersion>
			<type>Bug</type>
		</buginformation>
		<fixedFiles>
			<file type="M">org.wildfly.jberet.services.BatchEnvironmentService.java</file>
		</fixedFiles>
	</bug>
	<bug id="4748" opendate="2015-06-05 08:22:28" fixdate="2015-07-14 17:59:51" resolution="Done">
		<buginformation>
			<summary>Singleton service fails to start after repetitive cluster split with "Failed to reach quorum of 1"</summary>
			<description>When cluster of two nodes with deployed singleton service (f.i. cluster-ha-singleton quickstart app) splits, merges, and splits again, one of the nodes fails to run the singleton service with error message "WFLYCLSV0006: Failed to reach quorum of 1 for jboss.quickstart.ha.singleton.default2 service. No singleton master will be elected." - note the "quorum of 1".
This only happens after the second and other successive splits. After the first split both nodes execute the service correctly.
After analysis, it appears that nodes are never being added back to service providers cache upon cluster merge, because CacheServiceProviderRegistrationFactory#membershipChanged() is never called with &amp;amp;apos;merged&amp;amp;apos; attribute set to &amp;amp;apos;true&amp;amp;apos;.
I presume that call should come from ChannelCommandDispatcherFactory#viewAccepted():






public void viewAccepted(View view) {




    // ...




    for (Listener listener: this.listeners) {




        listener.membershipChanged(oldNodes, newNodes, view instanceof MergeView);




    }




}






This method gets called, but the problem is that the &amp;amp;apos;listeners&amp;amp;apos; list is empty, so no listener is actually notified.</description>
			<version>9.0.0.CR1</version>
			<fixedVersion>10.0.0.Alpha6</fixedVersion>
			<type>Bug</type>
		</buginformation>
		<fixedFiles>
			<file type="M">org.wildfly.clustering.server.group.CacheGroup.java</file>
		</fixedFiles>
		<links>
			<link type="Dependency" description="blocks">4724</link>
		</links>
	</bug>
	<bug id="4198" opendate="2014-12-22 16:30:27" fixdate="2015-07-14 23:10:14" resolution="Done">
		<buginformation>
			<summary>NullPointerException in LogDiagnosticContextRecoveryInterceptor when calling an asynchronous EJB</summary>
			<description>When trying to call an asynchronous EJB in a Web application using slf4j (1.7.5+) &amp;amp; logback(1.0.13+) for logging the following NullPointerException occurs (see below).
The problem is in the line 67 of LogDiagnosticContextRecoveryInterceptor class, when it tries to access MDC map, which is null. According to SLF4J API the copy of MDC map may be null: see the javadoc of org.slf4j.MDC#getCopyOfContextMap.
So LogDiagnosticContextRecoveryInterceptor or org.jboss.logging.Slf4jLoggerProvider have to check the map for null.
Currently there is no workaround for that .






Caused by: java.lang.NullPointerException




	at org.jboss.as.ejb3.component.interceptors.LogDiagnosticContextRecoveryInterceptor.processInvocation(LogDiagnosticContextRecoveryInterceptor.java:67)




	at org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:309)




	at org.jboss.as.ejb3.component.interceptors.AsyncFutureInterceptorFactory$1$2.runInvocation(AsyncFutureInterceptorFactory.java:97)




	at org.jboss.as.ejb3.component.interceptors.AsyncInvocationTask.run(AsyncInvocationTask.java:73)




	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1145)




	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:615)




	at java.lang.Thread.run(Thread.java:744)




	at org.jboss.threads.JBossThread.run(JBossThread.java:122)





</description>
			<version>8.2.0.Final</version>
			<fixedVersion>10.0.0.Alpha6</fixedVersion>
			<type>Bug</type>
		</buginformation>
		<fixedFiles>
			<file type="M">org.jboss.as.ejb3.component.interceptors.LogDiagnosticContextStorageInterceptor.java</file>
			<file type="M">org.jboss.as.ejb3.component.interceptors.LogDiagnosticContextRecoveryInterceptor.java</file>
		</fixedFiles>
	</bug>
	<bug id="4925" opendate="2015-07-15 01:12:35" fixdate="2015-07-15 18:38:14" resolution="Done">
		<buginformation>
			<summary>Admin in Monitor role can execute test-connection-in-pool op</summary>
			<description>This should not work, as the Monitor role is not allowed to do anything that modifies any state:






[standalone@localhost:9990 data-source=ExampleDS] :test-connection-in-pool{roles=Monitor}




{




    "outcome" =&amp;gt; "success",




    "result" =&amp;gt; [true]




}






I believe the problem is PoolOperations L75:






final ServiceController&amp;lt;?&amp;gt; managementRepoService = context.getServiceRegistry(false).getService(




        ConnectorServices.MANAGEMENT_REPOSITORY_SERVICE);






The parameter to context.getServiceRegistry(...) must be &amp;amp;apos;true&amp;amp;apos; if the operation is going to use the returned service registry to perform any form of state modification. So I believe all the PoolOperation subclasses should provide a param to PoolOperation&amp;amp;apos;s constructor that can be used to set this value. I believe in all subclasses except DumpQueuedThreadInPool this param should be &amp;amp;apos;true&amp;amp;apos;.</description>
			<version>10.0.0.Alpha5</version>
			<fixedVersion>10.0.0.Alpha6</fixedVersion>
			<type>Bug</type>
		</buginformation>
		<fixedFiles>
			<file type="M">org.jboss.as.connector.subsystems.common.pool.PoolOperations.java</file>
		</fixedFiles>
	</bug>
	<bug id="4647" opendate="2015-05-20 15:00:08" fixdate="2015-07-20 17:19:54" resolution="Done">
		<buginformation>
			<summary>RemoteOutboundConnectionReconnectTestCase, EJBClientReconnectionTestCase configured as clustered test cases</summary>
			<description>In the Wildfly integration testsuite,  manual mode section, there are two test cases which are running in a clustered environment when they should not be:

RemoteOutboundConnectionReconnectTestCase
EJBClientReconnectionTestCase

These two cases test outbound connections from one server A to another server B, and connection from a client to a server A when the server is stopped and started. There is no clustering functionality being tested.
Two problems with this situation:

exceptions are generated in the logs which result from the fact that the test cases are not being run in the correct environment
the fact that the environment is incorrectly configured may also be preventing real bugs from otherwise being detected

</description>
			<version>10.0.0.Alpha1</version>
			<fixedVersion></fixedVersion>
			<type>Bug</type>
		</buginformation>
		<fixedFiles>
			<file type="M">org.jboss.as.test.manualmode.ejb.client.outbound.connection.RemoteOutboundConnectionReconnectTestCase.java</file>
			<file type="M">org.jboss.as.test.manualmode.ejb.client.reconnect.EJBClientReconnectionTestCase.java</file>
		</fixedFiles>
	</bug>
	<bug id="4844" opendate="2015-06-29 18:21:46" fixdate="2015-07-20 23:16:31" resolution="Done">
		<buginformation>
			<summary>When Wildfly EJB timer finishes, the transaction is not fully committed. </summary>
			<description>When a Singleton EJB timer finishes, if the next run has already started but waiting on the write lock of Singleton EJB, the next run won&amp;amp;apos;t see the changes committed by the current run. So I assume when the EJB timers finishes, the transaction is not fully committed, or it&amp;amp;apos;s the next run that starts too early.
Here is a test case that should be able to reproduce the issue we are facing. 
https://github.com/xiaodong-xie/wildfly-singleton-timer
Here is my analysis of this issue: 
The CMTTxInterceptor is applied before ContainerManagedConcurrencyInterceptor. 
So when waiting for the write lock of EJBReadWriteLock, we&amp;amp;apos;ve already started the transaction, which IMHO is earlier than necessary. 
</description>
			<version>8.2.0.Final</version>
			<fixedVersion>10.0.0.Alpha6</fixedVersion>
			<type>Bug</type>
		</buginformation>
		<fixedFiles>
			<file type="M">org.jboss.as.ejb3.component.singleton.SingletonComponent.java</file>
			<file type="M">org.jboss.as.ejb3.concurrency.ContainerManagedConcurrencyInterceptorFactory.java</file>
			<file type="M">org.jboss.as.ejb3.concurrency.LockableComponent.java</file>
			<file type="M">org.jboss.as.ejb3.component.singleton.SingletonComponentDescription.java</file>
			<file type="M">org.jboss.as.ee.component.interceptors.InterceptorOrder.java</file>
		</fixedFiles>
	</bug>
	<bug id="4977" opendate="2015-07-21 12:06:40" fixdate="2015-07-22 07:40:58" resolution="Done">
		<buginformation>
			<summary>excluded-connectors attribute in replicated colocated topology is mandatory</summary>
			<description>excluded-connectors attribute is mandatory when replicated colocated topology is defined. Attribute should be optional.</description>
			<version>10.0.0.Alpha5</version>
			<fixedVersion>10.0.0.Alpha6</fixedVersion>
			<type>Bug</type>
		</buginformation>
		<fixedFiles>
			<file type="M">org.wildfly.extension.messaging.activemq.ha.HAAttributes.java</file>
		</fixedFiles>
		<links>
			<link type="Cloners" description="cloned from">487</link>
		</links>
	</bug>
	<bug id="4978" opendate="2015-07-21 12:14:58" fixdate="2015-07-22 07:41:13" resolution="Done">
		<buginformation>
			<summary> unable to define excluded-connectors attribute for colocated replicated HA topology</summary>
			<description>When list of connectors is defined in excluded-connectors atribute EAP throws this exception:
WFLYCTL0013: Operation ("add") failed - address: ([
    ("subsystem" =&amp;gt; "messaging-activemq"),
    ("server" =&amp;gt; "default")
]): java.lang.IllegalArgumentException
	at org.jboss.dmr.ModelValue.getKeys(ModelValue.java:136) [jboss-dmr-1.3.0.Final.jar:1.3.0.Final]
	at org.jboss.dmr.ModelNode.keys(ModelNode.java:1373) [jboss-dmr-1.3.0.Final.jar:1.3.0.Final]
	at org.wildfly.extension.messaging.activemq.ha.ReplicationColocatedDefinition.buildConfiguration(ReplicationColocatedDefinition.java:114)
	at org.wildfly.extension.messaging.activemq.ha.HAPolicyConfigurationBuilder.addHAPolicyConfiguration(HAPolicyConfigurationBuilder.java:71)
	at org.wildfly.extension.messaging.activemq.ServerAdd.transformConfig(ServerAdd.java:390)
	at org.wildfly.extension.messaging.activemq.ServerAdd.access$100(ServerAdd.java:139)
	at org.wildfly.extension.messaging.activemq.ServerAdd$3.execute(ServerAdd.java:195)
	at org.jboss.as.controller.AbstractOperationContext.executeStep(AbstractOperationContext.java:820) [wildfly-controller-2.0.0.Alpha9.jar:2.0.0.Alpha9]
	at org.jboss.as.controller.AbstractOperationContext.processStages(AbstractOperationContext.java:611) [wildfly-controller-2.0.0.Alpha9.jar:2.0.0.Alpha9]
	at org.jboss.as.controller.AbstractOperationContext.executeOperation(AbstractOperationContext.java:355) [wildfly-controller-2.0.0.Alpha9.jar:2.0.0.Alpha9]
	at org.jboss.as.controller.ParallelBootOperationStepHandler$ParallelBootTask.run(ParallelBootOperationStepHandler.java:359) [wildfly-controller-2.0.0.Alpha9.jar:2.0.0.Alpha9]
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142) [rt.jar:1.8.0_05]
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617) [rt.jar:1.8.0_05]
	at java.lang.Thread.run(Thread.java:745) [rt.jar:1.8.0_05]
	at org.jboss.threads.JBossThread.run(JBossThread.java:320) [jboss-threads-2.2.1.Final.jar:2.2.1.Final]
cli command: ":write-attribute(name=excluded-connectors, value=["http-connector"])"</description>
			<version>10.0.0.Alpha5</version>
			<fixedVersion>10.0.0.Alpha6</fixedVersion>
			<type>Bug</type>
		</buginformation>
		<fixedFiles>
			<file type="M">org.wildfly.extension.messaging.activemq.ha.HAAttributes.java</file>
			<file type="M">org.wildfly.extension.messaging.activemq.ha.ReplicationColocatedDefinition.java</file>
		</fixedFiles>
		<links>
			<link type="Cloners" description="cloned from">488</link>
		</links>
	</bug>
	<bug id="4880" opendate="2015-07-07 12:43:40" fixdate="2015-07-22 14:21:42" resolution="Done">
		<buginformation>
			<summary>Permission names are not persisted in the domain model</summary>
			<description>Permission names used in the security-manager subsystem model are not persisted. It can simply lead to non-bootable server configuration.
Expected behavior:
The names used for permission model nodes are persisted in the model (e.g. in an alias attribute).</description>
			<version>10.0.0.Alpha4</version>
			<fixedVersion>10.0.0.Alpha6</fixedVersion>
			<type>Bug</type>
		</buginformation>
		<fixedFiles>
			<file type="D">org.wildfly.extension.security.manager.PermissionResourceDefinition.java</file>
			<file type="M">org.wildfly.extension.security.manager.SecurityManagerExtension.java</file>
			<file type="D">org.wildfly.extension.security.manager.PermissionSetResourceDefinition.java</file>
			<file type="M">org.wildfly.extension.security.manager.SecurityManagerSubsystemAdd.java</file>
			<file type="M">org.wildfly.extension.security.manager.SecurityManagerSubsystemParser.java</file>
			<file type="M">org.wildfly.extension.security.manager.DeploymentPermissionsResourceDefinition.java</file>
			<file type="M">org.wildfly.extension.security.manager.Constants.java</file>
		</fixedFiles>
		<links>
			<link type="Cloners" description="cloned from">407</link>
			<link type="Related" description="relates to">4898</link>
		</links>
	</bug>
	<bug id="3918" opendate="2014-09-30 16:47:11" fixdate="2015-07-24 14:03:23" resolution="Done">
		<buginformation>
			<summary>Cannot disable ConsoleRedirectService</summary>
			<description>Wildfly Undertow (via org.wildfly.extension.undertow.HostAdd and org.wildfly.extension.undertow.ConsoleRedirectService) redirects all /console/... URL requests (on port 8080/8443) to /console on port 9990.  
This prevents developing or porting applications that themselves need to serve /console/... URLs.
There needs to be a way to disable (in the undertow subsystem configuration) the adding of ConsoleRedirectService by HostAdd.</description>
			<version>8.1.0.Final</version>
			<fixedVersion>10.0.0.Alpha6</fixedVersion>
			<type>Bug</type>
		</buginformation>
		<fixedFiles>
			<file type="M">org.wildfly.extension.undertow.HostAdd.java</file>
			<file type="M">org.wildfly.extension.undertow.UndertowSubsystemParser_3_0.java</file>
			<file type="M">org.wildfly.extension.undertow.HostDefinition.java</file>
		</fixedFiles>
	</bug>
	<bug id="5004" opendate="2015-07-24 09:59:51" fixdate="2015-07-24 14:05:15" resolution="Done">
		<buginformation>
			<summary>Messaging migration does not work in domain mode</summary>
			<description>The :migrate operation of the legacy messaging subsystem does not work in domain mode. 
The addresses returned by the describe handler starts with /subsystem while in domain mode, the subsystem configuration are under /profile=XXX
The :migrate operation must prepend the operation parent address (EMPTY_ADDRESS in standalone mode, /profile=XXX in domain mode) for the operation to be successful.</description>
			<version>10.0.0.Alpha5</version>
			<fixedVersion>10.0.0.Alpha6</fixedVersion>
			<type>Bug</type>
		</buginformation>
		<fixedFiles>
			<file type="M">org.jboss.as.messaging.MigrateOperation.java</file>
		</fixedFiles>
		<links>
			<link type="Related" description="relates to">4587</link>
		</links>
	</bug>
	<bug id="4961" opendate="2015-07-17 21:12:09" fixdate="2015-07-27 01:43:28" resolution="Done">
		<buginformation>
			<summary>CommandDispatcherFactory.getGroup().getNodes() returns empty list until 1st view change</summary>
			<description></description>
			<version>10.0.0.Alpha5</version>
			<fixedVersion></fixedVersion>
			<type>Bug</type>
		</buginformation>
		<fixedFiles>
			<file type="M">org.wildfly.clustering.server.dispatcher.ChannelCommandDispatcherFactory.java</file>
		</fixedFiles>
	</bug>
	<bug id="4905" opendate="2015-07-11 22:56:29" fixdate="2015-07-27 01:47:32" resolution="Done">
		<buginformation>
			<summary>CacheRemoveHandler can&amp;apos;t run in same op as remove of parent cache-container</summary>
			<description>CacheRemoveHandler tries to read its parent resource in Stage.RUNTIME, which means it can&amp;amp;apos;t run in the same op (say a composite) with a remove of the parent, as the parent resource will be gone by RUNTIME.
This will also interfere with the WFCORE-808 improvement.
Easy fix, as the read of the parent resource looks to be cruft; the data is never used.</description>
			<version>10.0.0.Alpha4</version>
			<fixedVersion></fixedVersion>
			<type>Bug</type>
		</buginformation>
		<fixedFiles>
			<file type="M">org.jboss.as.clustering.infinispan.subsystem.CacheContainerRemoveHandler.java</file>
			<file type="M">org.jboss.as.clustering.infinispan.subsystem.CacheRemoveHandler.java</file>
			<file type="M">org.jboss.as.clustering.infinispan.subsystem.CacheAddHandler.java</file>
			<file type="M">org.jboss.as.clustering.infinispan.subsystem.OperationSequencesTestCase.java</file>
		</fixedFiles>
	</bug>
	<bug id="5006" opendate="2015-07-24 12:07:00" fixdate="2015-07-28 13:24:24" resolution="Done">
		<buginformation>
			<summary>support for extended persistence context with SynchronizationType.UNSYNCHRONIZED</summary>
			<description>org.jboss.as.jpa.injectors.PersistenceContextInjectionSource handles injection of a persistence context into EE components.  PersistenceContextInjectionSource is not properly handling SynchronizationType.UNSYNCHRONIZED when injecting an extended persistence context.  I&amp;amp;apos;m not sure why this failure only appeared with Hibernate ORM 5.
If SynchronizationType is UNSYNCHRONIZED, we should call 
EntityManagerFactory.createEntityManager(SynchronizationType synchronizationType, Map map), instead of EntityManagerFactory.createEntityManager(Map map).</description>
			<version>8.1.0.Final</version>
			<fixedVersion>10.0.0.Beta1</fixedVersion>
			<type>Bug</type>
		</buginformation>
		<fixedFiles>
			<file type="M">org.jboss.as.jpa.container.TransactionScopedEntityManager.java</file>
			<file type="M">org.jboss.as.jpa.injectors.PersistenceContextInjectionSource.java</file>
		</fixedFiles>
	</bug>
	<bug id="4904" opendate="2015-07-10 15:49:25" fixdate="2015-07-29 15:31:03" resolution="Done">
		<buginformation>
			<summary>DuplicateServiceException for datasources</summary>
			<description>





2015-07-10 01:30:56,916 INFO  [org.jboss.as.ejb3.deployment] (MSC service thread 1-3) WFLYEJB0473: JNDI bindings for session bean named &amp;amp;apos;DataSourceBean&amp;amp;apos; in deployment unit &amp;amp;apos;deployment "ejblite_packaging_war_datasource_singleton_ejblitejsp_vehicle_web.war"&amp;amp;apos; are as follows:









	java:global/ejblite_packaging_war_datasource_singleton_ejblitejsp_vehicle_web/DataSourceBean!com.sun.ts.tests.ejb30.lite.packaging.war.datasource.common.DataSourceIF




	java:app/ejblite_packaging_war_datasource_singleton_ejblitejsp_vehicle_web/DataSourceBean!com.sun.ts.tests.ejb30.lite.packaging.war.datasource.common.DataSourceIF




	java:module/DataSourceBean!com.sun.ts.tests.ejb30.lite.packaging.war.datasource.common.DataSourceIF




	java:global/ejblite_packaging_war_datasource_singleton_ejblitejsp_vehicle_web/DataSourceBean




	java:app/ejblite_packaging_war_datasource_singleton_ejblitejsp_vehicle_web/DataSourceBean




	java:module/DataSourceBean









2015-07-10 01:30:56,949 ERROR [org.jboss.msc.service.fail] (MSC service thread 1-2) MSC000001: Failed to start service jboss.deployment.unit."ejblite_packaging_war_datasource_singleton_ejblitejsp_vehicle_web.war".INSTALL: org.jboss.msc.service.StartException in service jboss.deployment.unit."ejblite_packaging_war_datasource_singleton_ejblitejsp_vehicle_web.war".INSTALL: WFLYSRV0153: Failed to process phase INSTALL of deployment "ejblite_packaging_war_datasource_singleton_ejblitejsp_vehicle_web.war"




	at org.jboss.as.server.deployment.DeploymentUnitPhaseService.start(DeploymentUnitPhaseService.java:163) [wildfly-server-2.0.0.Alpha6.jar:2.0.0.Alpha6]




	at org.jboss.msc.service.ServiceControllerImpl$StartTask.startService(ServiceControllerImpl.java:1948) [jboss-msc-1.2.6.Final.jar:1.2.6.Final]




	at org.jboss.msc.service.ServiceControllerImpl$StartTask.run(ServiceControllerImpl.java:1881) [jboss-msc-1.2.6.Final.jar:1.2.6.Final]




	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142) [rt.jar:1.8.0_40]




	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617) [rt.jar:1.8.0_40]




	at java.lang.Thread.run(Thread.java:745) [rt.jar:1.8.0_40]




Caused by: org.jboss.as.server.deployment.DeploymentUnitProcessingException: org.jboss.msc.service.DuplicateServiceException: Service jboss.data-source.java:comp/env/compds2 is already registered




	at org.jboss.as.connector.deployers.datasource.DataSourceDefinitionInjectionSource.getResourceValue(DataSourceDefinitionInjectionSource.java:175)




	at org.jboss.as.ee.component.deployers.ModuleJndiBindingProcessor.addJndiBinding(ModuleJndiBindingProcessor.java:211)




	at org.jboss.as.ee.component.deployers.ModuleJndiBindingProcessor$1.handle(ModuleJndiBindingProcessor.java:182)




	at org.jboss.as.ee.component.ClassDescriptionTraversal.run(ClassDescriptionTraversal.java:54)




	at org.jboss.as.ee.component.deployers.ModuleJndiBindingProcessor.processClassConfigurations(ModuleJndiBindingProcessor.java:186)




	at org.jboss.as.ee.component.deployers.ModuleJndiBindingProcessor.deploy(ModuleJndiBindingProcessor.java:143)




	at org.jboss.as.server.deployment.DeploymentUnitPhaseService.start(DeploymentUnitPhaseService.java:156) [wildfly-server-2.0.0.Alpha6.jar:2.0.0.Alpha6]




	... 5 more




Caused by: org.jboss.msc.service.DuplicateServiceException: Service jboss.data-source.java:comp/env/compds2 is already registered




	at org.jboss.msc.service.ServiceRegistrationImpl.setInstance(ServiceRegistrationImpl.java:158) [jboss-msc-1.2.6.Final.jar:1.2.6.Final]




	at org.jboss.msc.service.ServiceControllerImpl.startInstallation(ServiceControllerImpl.java:235) [jboss-msc-1.2.6.Final.jar:1.2.6.Final]




	at org.jboss.msc.service.ServiceContainerImpl.install(ServiceContainerImpl.java:768) [jboss-msc-1.2.6.Final.jar:1.2.6.Final]




	at org.jboss.msc.service.ServiceTargetImpl.install(ServiceTargetImpl.java:223) [jboss-msc-1.2.6.Final.jar:1.2.6.Final]




	at org.jboss.msc.service.ServiceControllerImpl$ChildServiceTarget.install(ServiceControllerImpl.java:2401) [jboss-msc-1.2.6.Final.jar:1.2.6.Final]




	at org.jboss.msc.service.ServiceTargetImpl.install(ServiceTargetImpl.java:223) [jboss-msc-1.2.6.Final.jar:1.2.6.Final]




	at org.jboss.msc.service.ServiceControllerImpl$ChildServiceTarget.install(ServiceControllerImpl.java:2401) [jboss-msc-1.2.6.Final.jar:1.2.6.Final]




	at org.jboss.msc.service.ServiceBuilderImpl.install(ServiceBuilderImpl.java:317) [jboss-msc-1.2.6.Final.jar:1.2.6.Final]




	at org.jboss.as.connector.deployers.datasource.DataSourceDefinitionInjectionSource.startDataSource(DataSourceDefinitionInjectionSource.java:274)




	at org.jboss.as.connector.deployers.datasource.DataSourceDefinitionInjectionSource.getResourceValue(DataSourceDefinitionInjectionSource.java:171)




	... 11 more





</description>
			<version>10.0.0.Alpha4</version>
			<fixedVersion>10.0.0.Beta1</fixedVersion>
			<type>Bug</type>
		</buginformation>
		<fixedFiles>
			<file type="M">org.jboss.as.connector.subsystems.datasources.XaDataSourceAdd.java</file>
			<file type="M">org.jboss.as.connector.subsystems.datasources.LocalDataSourceService.java</file>
			<file type="M">org.jboss.as.connector.subsystems.datasources.DataSourceDisable.java</file>
			<file type="M">org.jboss.as.connector.subsystems.datasources.DataSourceEnable.java</file>
			<file type="M">org.jboss.as.connector.subsystems.datasources.AbstractDataSourceService.java</file>
			<file type="M">org.jboss.as.connector.subsystems.datasources.CommonDeploymentService.java</file>
			<file type="M">org.jboss.as.jpa.processor.PersistenceUnitServiceHandler.java</file>
			<file type="M">org.jboss.as.connector.subsystems.datasources.AbstractDataSourceAdd.java</file>
			<file type="M">org.jboss.as.connector.subsystems.datasources.XaDataSourceService.java</file>
			<file type="M">org.jboss.as.connector.subsystems.datasources.DataSourceAdd.java</file>
			<file type="M">org.jboss.as.connector.deployers.datasource.DataSourceDefinitionInjectionSource.java</file>
			<file type="M">org.jboss.as.connector.deployers.ds.processors.DsXmlDeploymentInstallProcessor.java</file>
			<file type="M">org.jboss.as.connector.subsystems.datasources.AbstractDataSourceRemove.java</file>
		</fixedFiles>
	</bug>
	<bug id="4792" opendate="2015-06-16 15:14:46" fixdate="2015-07-29 21:42:03" resolution="Done">
		<buginformation>
			<summary>Undertow deployment-level session statistics not available for distributable webapp</summary>
			<description>org.wildfly.clustering.web.infinispan.session.InfinispanSessionManager which is used by default even for non-HA configurations in WildFly 9.0.0.CR2 (e.g. standalone.xml in app server distribution) does not implement io.undertow.server.session.SessionManagerStatistics and so no stats except for activeSessions are available. </description>
			<version>9.0.0.CR2</version>
			<fixedVersion>10.0.0.Beta1</fixedVersion>
			<type>Bug</type>
		</buginformation>
		<fixedFiles>
			<file type="M">org.wildfly.clustering.web.infinispan.session.Time.java</file>
			<file type="M">org.wildfly.clustering.web.infinispan.session.InfinispanSessionTestCase.java</file>
			<file type="M">org.wildfly.clustering.web.infinispan.session.SimpleSessionMetaDataExternalizer.java</file>
			<file type="M">org.jboss.as.test.clustering.cluster.web.authentication.WebSecurityDomainSetup.java</file>
			<file type="M">org.wildfly.clustering.web.undertow.session.DistributableSessionManagerTestCase.java</file>
			<file type="M">org.wildfly.clustering.web.infinispan.session.InfinispanSessionManager.java</file>
			<file type="M">org.wildfly.clustering.web.session.SessionManager.java</file>
			<file type="M">org.wildfly.clustering.web.infinispan.session.InfinispanSession.java</file>
			<file type="M">org.wildfly.clustering.web.infinispan.session.InfinispanSessionManagerConfiguration.java</file>
			<file type="M">org.wildfly.clustering.web.infinispan.session.InfinispanSessionManagerFactory.java</file>
			<file type="M">org.wildfly.clustering.web.session.SessionManagerFactory.java</file>
			<file type="M">org.wildfly.clustering.web.undertow.session.DistributableSessionManager.java</file>
			<file type="M">org.wildfly.clustering.web.undertow.session.DistributableSessionManagerFactory.java</file>
			<file type="M">org.wildfly.extension.undertow.DeploymentDefinition.java</file>
			<file type="M">org.wildfly.clustering.web.infinispan.session.SessionExpirationScheduler.java</file>
		</fixedFiles>
		<links>
			<link type="Sequence" description="follows up on">3835</link>
		</links>
	</bug>
	<bug id="5032" opendate="2015-07-29 18:18:15" fixdate="2015-07-29 21:43:57" resolution="Done">
		<buginformation>
			<summary>Authentication token in session triggers replication of session each request</summary>
			<description>If an authentication token exists in the web session, and the user is using FORM or a custom authentication mechanism, then that token is read from the session each request.  The token is treated as a mutable object by the clustering code and triggers replication of the session on each request.
Annotating this with @Immutable will fix the problem.</description>
			<version>10.0.0.Alpha6</version>
			<fixedVersion>10.0.0.Beta1</fixedVersion>
			<type>Bug</type>
		</buginformation>
		<fixedFiles>
			<file type="M">org.wildfly.clustering.web.undertow.session.DistributableSessionTestCase.java</file>
			<file type="M">org.wildfly.clustering.web.undertow.session.DistributableSession.java</file>
		</fixedFiles>
	</bug>
	<bug id="4983" opendate="2015-07-21 11:59:37" fixdate="2015-07-31 09:02:51" resolution="Done">
		<buginformation>
			<summary>Undertow mod_cluster CLI: Display node&amp;apos;s protocol://hostname:port</summary>
			<description>As a follow up to JBEAP-215, this bug report is a member of a series addressing crucial CLI management capabilities.
Display node&amp;amp;apos;s protocol://hostname:port
At the moment, this is all there is to see:






"balancer" =&amp;gt; {




    "qa_balancer" =&amp;gt; {"node" =&amp;gt; {"worker-2" =&amp;gt; {




        "load" =&amp;gt; 89,




        "status" =&amp;gt; "NODE_UP",




        "context" =&amp;gt; {"/clusterbench" =&amp;gt; {




            "requests" =&amp;gt; 0,




            "status" =&amp;gt; "enabled"




        }}




    }}},




...






Call to action
We need to display node&amp;amp;apos;s connection details, e.g. ajp://karm.brq.redhat.com:8019 or https://192.168.1.100:8009.
I set Blocker priority, because without this information available, it is impossible to test anything more than rudimentary smoke-test scenarios. From the user&amp;amp;apos;s perspective, inability to identify JVMRoutes (node names) with their connection strings renders any larger enterprise setup very hard to manage and maintain.</description>
			<version>10.0.0.Alpha5</version>
			<fixedVersion>10.0.0.Beta1</fixedVersion>
			<type>Bug</type>
		</buginformation>
		<fixedFiles>
			<file type="M">org.wildfly.extension.undertow.filters.ModClusterNodeDefinition.java</file>
			<file type="M">org.wildfly.extension.undertow.Constants.java</file>
		</fixedFiles>
		<links>
			<link type="Cloners" description="cloned from">470</link>
			<link type="Related" description="is related to">452</link>
		</links>
	</bug>
	<bug id="3355" opendate="2014-05-14 14:17:41" fixdate="2015-08-04 12:39:41" resolution="Done">
		<buginformation>
			<summary>MDB fails to deploy on reload</summary>
			<description>When an MDB is deployed and a :reload command is issues, the application server fails to deploy this MDB.
Stacktrace:






2014-05-14 16:11:22,284 ERROR [org.jboss.msc.service.fail] (ServerService Thread Pool -- 57) MSC000001: Failed to start service jboss.deployment.unit."wildfly-helloworld-mdb.war".component.HelloWorldQueueMDB.START: org.jboss.msc.service.StartException in service jboss.deployment.unit."wildfly-helloworld-mdb.war".component.HelloWorldQueueMDB.START: java.lang.RuntimeException: javax.resource.spi.work.WorkRejectedException: IJ000263: WorkManager is shutting down




	at org.jboss.as.ee.component.ComponentStartService$1.run(ComponentStartService.java:57) [wildfly-ee-8.1.0.CR2.jar:8.1.0.CR2]




	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:471) [rt.jar:1.7.0_55]




	at java.util.concurrent.FutureTask.run(FutureTask.java:262) [rt.jar:1.7.0_55]




	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1145) [rt.jar:1.7.0_55]




	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:615) [rt.jar:1.7.0_55]




	at java.lang.Thread.run(Thread.java:745) [rt.jar:1.7.0_55]




	at org.jboss.threads.JBossThread.run(JBossThread.java:122) [jboss-threads-2.1.1.Final.jar:2.1.1.Final]




Caused by: java.lang.RuntimeException: javax.resource.spi.work.WorkRejectedException: IJ000263: WorkManager is shutting down




	at org.jboss.as.ejb3.component.messagedriven.MessageDrivenComponent.activate(MessageDrivenComponent.java:215)




	at org.jboss.as.ejb3.component.messagedriven.MessageDrivenComponent.start(MessageDrivenComponent.java:186)




	at org.jboss.as.ee.component.ComponentStartService$1.run(ComponentStartService.java:54) [wildfly-ee-8.1.0.CR2.jar:8.1.0.CR2]




	... 6 more




Caused by: javax.resource.spi.work.WorkRejectedException: IJ000263: WorkManager is shutting down




	at org.jboss.jca.core.workmanager.WorkManagerImpl.doFirstChecks(WorkManagerImpl.java:776) [ironjacamar-core-impl-1.1.5.Final.jar:1.1.5.Final]




	at org.jboss.jca.core.workmanager.WorkManagerImpl.scheduleWork(WorkManagerImpl.java:617) [ironjacamar-core-impl-1.1.5.Final.jar:1.1.5.Final]




	at org.jboss.jca.core.workmanager.WorkManagerImpl.scheduleWork(WorkManagerImpl.java:602) [ironjacamar-core-impl-1.1.5.Final.jar:1.1.5.Final]




	at org.hornetq.ra.inflow.HornetQActivation.start(HornetQActivation.java:264) [hornetq-ra-2.4.1.Final.jar:]




	at org.hornetq.ra.HornetQResourceAdapter.endpointActivation(HornetQResourceAdapter.java:166) [hornetq-ra-2.4.1.Final.jar:]




	at org.jboss.jca.core.rar.EndpointImpl.activate(EndpointImpl.java:191) [ironjacamar-core-impl-1.1.5.Final.jar:1.1.5.Final]




	at org.jboss.as.ejb3.component.messagedriven.MessageDrivenComponent.activate(MessageDrivenComponent.java:213)




	... 8 more





</description>
			<version>10.0.0.Alpha4</version>
			<fixedVersion>10.0.0.Beta1</fixedVersion>
			<type>Bug</type>
		</buginformation>
		<fixedFiles>
			<file type="M">org.jboss.as.connector.services.resourceadapters.deployment.AbstractResourceAdapterDeploymentService.java</file>
			<file type="M">org.wildfly.extension.messaging.activemq.jms.PooledConnectionFactoryService.java</file>
		</fixedFiles>
		<links>
			<link type="Cloners" description="cloned to">545</link>
			<link type="Duplicate" description="duplicates">2308</link>
		</links>
	</bug>
	<bug id="5051" opendate="2015-08-03 16:50:01" fixdate="2015-08-04 19:37:05" resolution="Done">
		<buginformation>
			<summary>Requests for persistent sessions always trigger replication</summary>
			<description>For persistent sessions, we trigger session session activation events after a successful SessionManager.findSession(...).  However, this is currently triggered using a Session instance, instead of an ImmutableSession instance, which causes iteration over session attributes to trigger replication of the session at the end of the request - even when the user does not access any mutable session attributes.
The same is true for Session.close() (via session passivation event).</description>
			<version>10.0.0.Alpha6</version>
			<fixedVersion>10.0.0.Beta1</fixedVersion>
			<type>Bug</type>
		</buginformation>
		<fixedFiles>
			<file type="M">org.wildfly.clustering.web.infinispan.session.InfinispanSessionManager.java</file>
		</fixedFiles>
	</bug>
	<bug id="5030" opendate="2015-07-29 17:31:16" fixdate="2015-08-05 14:24:59" resolution="Done">
		<buginformation>
			<summary>Intermittent failure of deployment containing two datasources in -ds.xml</summary>
			<description>Running smoke runs of JBossWS in EAP7, I occasionally hit test failure of WSRMStoreFeatureTestCase (from JBossWS testsuite). The testcase uses deployment that should add some datasources, but deploying ends up with:






org.jboss.msc.service.StartException in service jboss.data-source.java:jboss/datasources/rmclientdb.statistics: Failed to start service




	at org.jboss.msc.service.ServiceControllerImpl$StartTask.run(ServiceControllerImpl.java:1904)




	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)




	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)




	at java.lang.Thread.run(Thread.java:745)




Caused by: java.lang.IllegalArgumentException: WFLYCTL0218: A node is already registered at &amp;amp;apos;/deployment=*/subsystem=datasources/data-source=*/statistics=jdbc&amp;amp;apos;




	at org.jboss.as.controller.registry.NodeSubregistry.register(NodeSubregistry.java:86)




	at org.jboss.as.controller.registry.ConcreteResourceRegistration.registerSubModel(ConcreteResourceRegistration.java:180)




	at org.jboss.as.connector.services.datasources.statistics.DataSourceStatisticsService.start(DataSourceStatisticsService.java:85)




	at org.jboss.msc.service.ServiceControllerImpl$StartTask.startService(ServiceControllerImpl.java:1948)




	at org.jboss.msc.service.ServiceControllerImpl$StartTask.run(ServiceControllerImpl.java:1881)




	... 3 more






After some debugging, the problematic scenario seems to be:
1) there is a deployment (jar/war, doesn&amp;amp;apos;t matter) containing -ds.xml configuration file
2) this file contains definition of at least two datasources to be added
</description>
			<version>10.0.0.Beta1</version>
			<fixedVersion></fixedVersion>
			<type>Bug</type>
		</buginformation>
		<fixedFiles>
			<file type="M">org.jboss.as.connector.services.datasources.statistics.DataSourceStatisticsService.java</file>
		</fixedFiles>
		<links>
			<link type="Cloners" description="cloned from">542</link>
			<link type="Related" description="is related to">4869</link>
			<link type="Related" description="is related to">5023</link>
		</links>
	</bug>
	<bug id="1565" opendate="2013-06-20 17:40:50" fixdate="2015-08-05 15:33:26" resolution="Duplicate Issue">
		<buginformation>
			<summary>Test failure observed in EJBClientClusterConfigurationTestCase</summary>
			<description>The failed test was EJBClientClusterConfigurationTestCase.testServerToServerClusterFormation with this log:






javax.ejb.EJBException: java.lang.IllegalStateException: EJBCLIENT000028: No EJB receiver contexts available in cluster ejb




    at org.jboss.as.ejb3.tx.CMTTxInterceptor.handleExceptionInOurTx(CMTTxInterceptor.java:190)




    at org.jboss.as.ejb3.tx.CMTTxInterceptor.invokeInOurTx(CMTTxInterceptor.java:275)




    at org.jboss.as.ejb3.tx.CMTTxInterceptor.required(CMTTxInterceptor.java:340)




    at org.jboss.as.ejb3.tx.CMTTxInterceptor.processInvocation(CMTTxInterceptor.java:239)




    at org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:289)




    at org.jboss.as.ejb3.remote.EJBRemoteTransactionPropagatingInterceptor.processInvocation(EJBRemoteTransactionPropagatingInterceptor.java:79)




    at org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:289)




    at org.jboss.as.ejb3.component.interceptors.CurrentInvocationContextInterceptor.processInvocation(CurrentInvocationContextInterceptor.java:41)




    at org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:289)




    at org.jboss.as.ejb3.component.invocationmetrics.WaitTimeInterceptor.processInvocation(WaitTimeInterceptor.java:43)




    at org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:289)




    at org.jboss.as.ejb3.security.SecurityContextInterceptor.processInvocation(SecurityContextInterceptor.java:90)




    at org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:289)




    at org.jboss.as.ejb3.component.interceptors.ShutDownInterceptorFactory$1.processInvocation(ShutDownInterceptorFactory.java:64)




    at org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:289)




    at org.jboss.as.ejb3.component.interceptors.LoggingInterceptor.processInvocation(LoggingInterceptor.java:59)




    at org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:289)




    at org.jboss.as.ee.component.NamespaceContextInterceptor.processInvocation(NamespaceContextInterceptor.java:50)




    at org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:289)




    at org.jboss.as.ejb3.component.interceptors.AdditionalSetupInterceptor.processInvocation(AdditionalSetupInterceptor.java:55)




    at org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:289)




    at org.jboss.invocation.ContextClassLoaderInterceptor.processInvocation(ContextClassLoaderInterceptor.java:55)




    at org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:289)




    at org.jboss.invocation.InterceptorContext.run(InterceptorContext.java:305)




    at org.wildfly.security.manager.WildFlySecurityManager.doChecked(WildFlySecurityManager.java:428)




    at org.wildfly.security.manager.AccessCheckingInterceptor.processInvocation(AccessCheckingInterceptor.java:63)




    at org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:289)




    at org.jboss.invocation.InterceptorContext.run(InterceptorContext.java:305)




    at java.security.AccessController.doPrivileged(Native Method)




    at org.jboss.invocation.PrivilegedInterceptor.processInvocation(PrivilegedInterceptor.java:65)




    at org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:289)




    at org.jboss.invocation.ChainedInterceptor.processInvocation(ChainedInterceptor.java:61)




    at org.jboss.as.ee.component.ViewService$View.invoke(ViewService.java:165)




    at org.jboss.as.ejb3.remote.protocol.versionone.MethodInvocationMessageHandler.invokeMethod(MethodInvocationMessageHandler.java:329)




    at org.jboss.as.ejb3.remote.protocol.versionone.MethodInvocationMessageHandler.access$100(MethodInvocationMessageHandler.java:70)




    at org.jboss.as.ejb3.remote.protocol.versionone.MethodInvocationMessageHandler$1.run(MethodInvocationMessageHandler.java:203)




    at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:471)




    at java.util.concurrent.FutureTask$Sync.innerRun(FutureTask.java:334)




    at java.util.concurrent.FutureTask.run(FutureTask.java:166)




    at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1145)




    at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:615)




    at java.lang.Thread.run(Thread.java:722)




    at org.jboss.threads.JBossThread.run(JBossThread.java:122)




    at ...asynchronous invocation...(Unknown Source)




    at org.jboss.ejb.client.remoting.InvocationExceptionResponseHandler$MethodInvocationExceptionResultProducer.getResult(InvocationExceptionResponseHandler.java:99)




    at org.jboss.ejb.client.EJBClientInvocationContext.getResult(EJBClientInvocationContext.java:272)




    at org.jboss.ejb.client.EJBObjectInterceptor.handleInvocationResult(EJBObjectInterceptor.java:64)




    at org.jboss.ejb.client.EJBClientInvocationContext.getResult(EJBClientInvocationContext.java:274)




    at org.jboss.ejb.client.EJBHomeInterceptor.handleInvocationResult(EJBHomeInterceptor.java:88)




    at org.jboss.ejb.client.EJBClientInvocationContext.getResult(EJBClientInvocationContext.java:274)




    at org.jboss.ejb.client.TransactionInterceptor.handleInvocationResult(TransactionInterceptor.java:46)




    at org.jboss.ejb.client.EJBClientInvocationContext.getResult(EJBClientInvocationContext.java:274)




    at org.jboss.ejb.client.ReceiverInterceptor.handleInvocationResult(ReceiverInterceptor.java:129)




    at org.jboss.ejb.client.EJBClientInvocationContext.getResult(EJBClientInvocationContext.java:262)




    at org.jboss.ejb.client.EJBClientInvocationContext.awaitResponse(EJBClientInvocationContext.java:437)




    at org.jboss.ejb.client.EJBInvocationHandler.doInvoke(EJBInvocationHandler.java:202)




    at org.jboss.ejb.client.EJBInvocationHandler.doInvoke(EJBInvocationHandler.java:181)




    at org.jboss.ejb.client.EJBInvocationHandler.invoke(EJBInvocationHandler.java:144)




    at sun.proxy.$Proxy21.getNodeName(Unknown Source)




    at org.jboss.as.test.manualmode.ejb.client.cluster.EJBClientClusterConfigurationTestCase.testServerToServerClusterFormation(EJBClientClusterConfigurationTestCase.java:160)




    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)




    at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:57)




    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)




    at java.lang.reflect.Method.invoke(Method.java:601)




    at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:47)




    at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)




    at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:44)




    at org.jboss.arquillian.junit.Arquillian$6$1.invoke(Arquillian.java:270)




    at org.jboss.arquillian.container.test.impl.execution.LocalTestExecuter.execute(LocalTestExecuter.java:60)




    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)




    at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:57)




    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)




    at java.lang.reflect.Method.invoke(Method.java:601)




    at org.jboss.arquillian.core.impl.ObserverImpl.invoke(ObserverImpl.java:94)




    at org.jboss.arquillian.core.impl.EventContextImpl.invokeObservers(EventContextImpl.java:99)




    at org.jboss.arquillian.core.impl.EventContextImpl.proceed(EventContextImpl.java:81)




    at org.jboss.arquillian.core.impl.ManagerImpl.fire(ManagerImpl.java:135)




    at org.jboss.arquillian.core.impl.ManagerImpl.fire(ManagerImpl.java:115)




    at org.jboss.arquillian.core.impl.EventImpl.fire(EventImpl.java:67)




    at org.jboss.arquillian.container.test.impl.execution.ClientTestExecuter.execute(ClientTestExecuter.java:53)




    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)




    at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:57)




    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)




    at java.lang.reflect.Method.invoke(Method.java:601)




    at org.jboss.arquillian.core.impl.ObserverImpl.invoke(ObserverImpl.java:94)




    at org.jboss.arquillian.core.impl.EventContextImpl.invokeObservers(EventContextImpl.java:99)




    at org.jboss.arquillian.core.impl.EventContextImpl.proceed(EventContextImpl.java:81)




    at org.jboss.arquillian.container.test.impl.client.ContainerEventController.createContext(ContainerEventController.java:142)




    at org.jboss.arquillian.container.test.impl.client.ContainerEventController.createTestContext(ContainerEventController.java:129)




    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)




    at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:57)




    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)




    at java.lang.reflect.Method.invoke(Method.java:601)




    at org.jboss.arquillian.core.impl.ObserverImpl.invoke(ObserverImpl.java:94)




    at org.jboss.arquillian.core.impl.EventContextImpl.proceed(EventContextImpl.java:88)




    at org.jboss.arquillian.test.impl.TestContextHandler.createTestContext(TestContextHandler.java:89)




    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)




    at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:57)




    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)




    at java.lang.reflect.Method.invoke(Method.java:601)




    at org.jboss.arquillian.core.impl.ObserverImpl.invoke(ObserverImpl.java:94)




    at org.jboss.arquillian.core.impl.EventContextImpl.proceed(EventContextImpl.java:88)




    at org.jboss.arquillian.test.impl.TestContextHandler.createClassContext(TestContextHandler.java:75)




    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)




    at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:57)




    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)




    at java.lang.reflect.Method.invoke(Method.java:601)




    at org.jboss.arquillian.core.impl.ObserverImpl.invoke(ObserverImpl.java:94)




    at org.jboss.arquillian.core.impl.EventContextImpl.proceed(EventContextImpl.java:88)




    at org.jboss.arquillian.test.impl.TestContextHandler.createSuiteContext(TestContextHandler.java:60)




    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)




    at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:57)




    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)




    at java.lang.reflect.Method.invoke(Method.java:601)




    at org.jboss.arquillian.core.impl.ObserverImpl.invoke(ObserverImpl.java:94)




    at org.jboss.arquillian.core.impl.EventContextImpl.proceed(EventContextImpl.java:88)




    at org.jboss.arquillian.core.impl.ManagerImpl.fire(ManagerImpl.java:135)




    at org.jboss.arquillian.test.impl.EventTestRunnerAdaptor.test(EventTestRunnerAdaptor.java:111)




    at org.jboss.arquillian.junit.Arquillian$6.evaluate(Arquillian.java:263)




    at org.jboss.arquillian.junit.Arquillian$4.evaluate(Arquillian.java:226)




    at org.jboss.arquillian.junit.Arquillian.multiExecute(Arquillian.java:314)




    at org.jboss.arquillian.junit.Arquillian.access$100(Arquillian.java:46)




    at org.jboss.arquillian.junit.Arquillian$5.evaluate(Arquillian.java:240)




    at org.junit.runners.ParentRunner.runLeaf(ParentRunner.java:271)




    at org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:70)




    at org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:50)




    at org.junit.runners.ParentRunner$3.run(ParentRunner.java:238)




    at org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:63)




    at org.junit.runners.ParentRunner.runChildren(ParentRunner.java:236)




    at org.junit.runners.ParentRunner.access$000(ParentRunner.java:53)




    at org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:229)




    at org.jboss.arquillian.junit.Arquillian$2.evaluate(Arquillian.java:185)




    at org.jboss.arquillian.junit.Arquillian.multiExecute(Arquillian.java:314)




    at org.jboss.arquillian.junit.Arquillian.access$100(Arquillian.java:46)




    at org.jboss.arquillian.junit.Arquillian$3.evaluate(Arquillian.java:199)




    at org.junit.runners.ParentRunner.run(ParentRunner.java:309)




    at org.jboss.arquillian.junit.Arquillian.run(Arquillian.java:147)




    at org.apache.maven.surefire.junit4.JUnit4Provider.execute(JUnit4Provider.java:234)




    at org.apache.maven.surefire.junit4.JUnit4Provider.executeTestSet(JUnit4Provider.java:133)




    at org.apache.maven.surefire.junit4.JUnit4Provider.invoke(JUnit4Provider.java:114)




    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)




    at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:57)




    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)




    at java.lang.reflect.Method.invoke(Method.java:601)




    at org.apache.maven.surefire.util.ReflectionUtils.invokeMethodWithArray(ReflectionUtils.java:188)




    at org.apache.maven.surefire.booter.ProviderFactory$ProviderProxy.invoke(ProviderFactory.java:166)




    at org.apache.maven.surefire.booter.ProviderFactory.invokeProvider(ProviderFactory.java:86)




    at org.apache.maven.surefire.booter.ForkedBooter.runSuitesInProcess(ForkedBooter.java:101)




    at org.apache.maven.surefire.booter.ForkedBooter.main(ForkedBooter.java:74)




Caused by: java.lang.IllegalStateException: EJBCLIENT000028: No EJB receiver contexts available in cluster ejb




    at org.jboss.ejb.client.EJBClientContext.requireClusterEJBReceiverContext(EJBClientContext.java:983)




    at org.jboss.ejb.client.ReceiverInterceptor.handleInvocation(ReceiverInterceptor.java:84)




    at org.jboss.ejb.client.EJBClientInvocationContext.sendRequest(EJBClientInvocationContext.java:183)




    at org.jboss.ejb.client.EJBInvocationHandler.sendRequestWithPossibleRetries(EJBInvocationHandler.java:253)




    at org.jboss.ejb.client.EJBInvocationHandler.doInvoke(EJBInvocationHandler.java:198)




    at org.jboss.ejb.client.EJBInvocationHandler.doInvoke(EJBInvocationHandler.java:181)




    at org.jboss.ejb.client.EJBInvocationHandler.invoke(EJBInvocationHandler.java:144)




    at sun.proxy.$Proxy30.getNodeName(Unknown Source)




    at org.jboss.as.test.manualmode.ejb.client.cluster.NonClusteredStatefulNodeNameEcho.getNodeName(NonClusteredStatefulNodeNameEcho.java:47)




    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)




    at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:57)




    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)




    at java.lang.reflect.Method.invoke(Method.java:601)




    at org.jboss.as.ee.component.ManagedReferenceMethodInterceptorFactory$ManagedReferenceMethodInterceptor.processInvocation(ManagedReferenceMethodInterceptorFactory.java:72)




    at org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:289)




    at org.jboss.invocation.WeavedInterceptor.processInvocation(WeavedInterceptor.java:53)




    at org.jboss.as.ee.component.interceptors.UserInterceptorFactory$1.processInvocation(UserInterceptorFactory.java:63)




    at org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:289)




    at org.jboss.invocation.WeavedInterceptor.processInvocation(WeavedInterceptor.java:53)




    at org.jboss.as.ee.component.interceptors.UserInterceptorFactory$1.processInvocation(UserInterceptorFactory.java:63)




    at org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:289)




    at org.jboss.as.ejb3.component.invocationmetrics.ExecutionTimeInterceptor.processInvocation(ExecutionTimeInterceptor.java:43)




    at org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:289)




    at org.jboss.as.jpa.interceptor.SBInvocationInterceptor.processInvocation(SBInvocationInterceptor.java:47)




    at org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:289)




    at org.jboss.as.jpa.interceptor.SFSBInvocationInterceptor.processInvocation(SFSBInvocationInterceptor.java:58)




    at org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:289)




    at org.jboss.as.ejb3.component.stateful.StatefulSessionSynchronizationInterceptor.processInvocation(StatefulSessionSynchronizationInterceptor.java:156)




    at org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:289)




    at org.jboss.invocation.InitialInterceptor.processInvocation(InitialInterceptor.java:21)




    at org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:289)




    at org.jboss.invocation.ChainedInterceptor.processInvocation(ChainedInterceptor.java:61)




    at org.jboss.as.ee.component.interceptors.ComponentDispatcherInterceptor.processInvocation(ComponentDispatcherInterceptor.java:53)




    at org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:289)




    at org.jboss.as.ejb3.component.stateful.StatefulComponentInstanceInterceptor.processInvocation(StatefulComponentInstanceInterceptor.java:66)




    at org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:289)




    at org.jboss.as.ejb3.tx.CMTTxInterceptor.invokeInOurTx(CMTTxInterceptor.java:273)




    at org.jboss.as.ejb3.tx.CMTTxInterceptor.required(CMTTxInterceptor.java:340)




    at org.jboss.as.ejb3.tx.CMTTxInterceptor.processInvocation(CMTTxInterceptor.java:239)




    at org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:289)




    at org.jboss.as.ejb3.remote.EJBRemoteTransactionPropagatingInterceptor.processInvocation(EJBRemoteTransactionPropagatingInterceptor.java:79)




    at org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:289)




    at org.jboss.as.ejb3.component.interceptors.CurrentInvocationContextInterceptor.processInvocation(CurrentInvocationContextInterceptor.java:41)




    at org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:289)




    at org.jboss.as.ejb3.component.invocationmetrics.WaitTimeInterceptor.processInvocation(WaitTimeInterceptor.java:43)




    at org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:289)




    at org.jboss.as.ejb3.security.SecurityContextInterceptor.processInvocation(SecurityContextInterceptor.java:90)




    at org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:289)




    at org.jboss.as.ejb3.component.interceptors.ShutDownInterceptorFactory$1.processInvocation(ShutDownInterceptorFactory.java:64)




    at org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:289)




    at org.jboss.as.ejb3.component.interceptors.LoggingInterceptor.processInvocation(LoggingInterceptor.java:59)




    at org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:289)




    at org.jboss.as.ee.component.NamespaceContextInterceptor.processInvocation(NamespaceContextInterceptor.java:50)




    at org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:289)




    at org.jboss.as.ejb3.component.interceptors.AdditionalSetupInterceptor.processInvocation(AdditionalSetupInterceptor.java:55)




    at org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:289)




    at org.jboss.invocation.ContextClassLoaderInterceptor.processInvocation(ContextClassLoaderInterceptor.java:55)




    at org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:289)




    at org.jboss.invocation.InterceptorContext.run(InterceptorContext.java:305)




    at org.wildfly.security.manager.WildFlySecurityManager.doChecked(WildFlySecurityManager.java:428)




    at org.wildfly.security.manager.AccessCheckingInterceptor.processInvocation(AccessCheckingInterceptor.java:63)




    at org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:289)




    at org.jboss.invocation.InterceptorContext.run(InterceptorContext.java:305)




    at java.security.AccessController.doPrivileged(Native Method)




    at org.jboss.invocation.PrivilegedInterceptor.processInvocation(PrivilegedInterceptor.java:65)




    at org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:289)




    at org.jboss.invocation.ChainedInterceptor.processInvocation(ChainedInterceptor.java:61)




    at org.jboss.as.ee.component.ViewService$View.invoke(ViewService.java:165)




    at org.jboss.as.ejb3.remote.protocol.versionone.MethodInvocationMessageHandler.invokeMethod(MethodInvocationMessageHandler.java:329)




    at org.jboss.as.ejb3.remote.protocol.versionone.MethodInvocationMessageHandler.access$100(MethodInvocationMessageHandler.java:70)




    at org.jboss.as.ejb3.remote.protocol.versionone.MethodInvocationMessageHandler$1.run(MethodInvocationMessageHandler.java:203)




    at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:471)




    at java.util.concurrent.FutureTask$Sync.innerRun(FutureTask.java:334)




    at java.util.concurrent.FutureTask.run(FutureTask.java:166)




    at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1145)




    at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:615)




    at java.lang.Thread.run(Thread.java:722)




    at org.jboss.threads.JBossThread.run(JBossThread.java:122)




------- Stdout: -------




17:47:04,420 INFO  [org.xnio] (main) XNIO Version 3.1.0.CR3




17:47:04,428 INFO  [org.xnio.nio] (main) XNIO NIO Implementation Version 3.1.0.CR3




17:47:05,105 INFO  [org.jboss.remoting] (main) JBoss Remoting version 4.0.0.Beta1




17:47:10,668 WARN  [org.jboss.ejb.client.remoting.ConfigBasedEJBClientContextSelector] (main) Could not register a EJB receiver for connection to 127.0.0.1:4447: java.lang.RuntimeException: Operation failed with status WAITING




    at org.jboss.ejb.client.remoting.IoFutureHelper.get(IoFutureHelper.java:93)




    at org.jboss.ejb.client.remoting.ConnectionPool.getConnection(ConnectionPool.java:75)




    at org.jboss.ejb.client.remoting.RemotingConnectionManager.getConnection(RemotingConnectionManager.java:51)




    at org.jboss.ejb.client.remoting.ConfigBasedEJBClientContextSelector.setupEJBReceivers(ConfigBasedEJBClientContextSelector.java:130)




    at org.jboss.ejb.client.remoting.ConfigBasedEJBClientContextSelector.&amp;lt;init&amp;gt;(ConfigBasedEJBClientContextSelector.java:100)




    at org.jboss.ejb.client.remoting.ConfigBasedEJBClientContextSelector.&amp;lt;init&amp;gt;(ConfigBasedEJBClientContextSelector.java:68)




    at org.jboss.ejb.client.EJBClientContext.&amp;lt;clinit&amp;gt;(EJBClientContext.java:81)




    at org.jboss.ejb.client.remoting.ConfigBasedEJBClientContextSelector.&amp;lt;init&amp;gt;(ConfigBasedEJBClientContextSelector.java:85)




    at org.jboss.ejb.client.remoting.ConfigBasedEJBClientContextSelector.&amp;lt;init&amp;gt;(ConfigBasedEJBClientContextSelector.java:68)




    at org.jboss.as.test.manualmode.ejb.client.cluster.EJBClientClusterConfigurationTestCase.setupEJBClientContextSelector(EJBClientClusterConfigurationTestCase.java:197)




    at org.jboss.as.test.manualmode.ejb.client.cluster.EJBClientClusterConfigurationTestCase.beforeClass(EJBClientClusterConfigurationTestCase.java:95)




    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)




    at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:57)




    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)




    at java.lang.reflect.Method.invoke(Method.java:601)




    at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:47)




    at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)




    at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:44)




    at org.junit.internal.runners.statements.RunBefores.evaluate(RunBefores.java:24)




    at org.jboss.arquillian.junit.Arquillian$StatementLifecycleExecutor.invoke(Arquillian.java:351)




    at org.jboss.arquillian.container.test.impl.execution.ClientBeforeAfterLifecycleEventExecuter.execute(ClientBeforeAfterLifecycleEventExecuter.java:99)




    at org.jboss.arquillian.container.test.impl.execution.ClientBeforeAfterLifecycleEventExecuter.on(ClientBeforeAfterLifecycleEventExecuter.java:60)




    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)




    at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:57)




    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)




    at java.lang.reflect.Method.invoke(Method.java:601)




    at org.jboss.arquillian.core.impl.ObserverImpl.invoke(ObserverImpl.java:94)




    at org.jboss.arquillian.core.impl.EventContextImpl.invokeObservers(EventContextImpl.java:99)




    at org.jboss.arquillian.core.impl.EventContextImpl.proceed(EventContextImpl.java:81)




    at org.jboss.arquillian.test.impl.TestContextHandler.createClassContext(TestContextHandler.java:75)




    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)




    at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:57)




    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)




    at java.lang.reflect.Method.invoke(Method.java:601)




    at org.jboss.arquillian.core.impl.ObserverImpl.invoke(ObserverImpl.java:94)




    at org.jboss.arquillian.core.impl.EventContextImpl.proceed(EventContextImpl.java:88)




    at org.jboss.arquillian.test.impl.TestContextHandler.createSuiteContext(TestContextHandler.java:60)




    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)




    at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:57)




    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)




    at java.lang.reflect.Method.invoke(Method.java:601)




    at org.jboss.arquillian.core.impl.ObserverImpl.invoke(ObserverImpl.java:94)




    at org.jboss.arquillian.core.impl.EventContextImpl.proceed(EventContextImpl.java:88)




    at org.jboss.arquillian.core.impl.ManagerImpl.fire(ManagerImpl.java:135)




    at org.jboss.arquillian.core.impl.ManagerImpl.fire(ManagerImpl.java:115)




    at org.jboss.arquillian.test.impl.EventTestRunnerAdaptor.beforeClass(EventTestRunnerAdaptor.java:80)




    at org.jboss.arquillian.junit.Arquillian$2.evaluate(Arquillian.java:182)




    at org.jboss.arquillian.junit.Arquillian.multiExecute(Arquillian.java:314)




    at org.jboss.arquillian.junit.Arquillian.access$100(Arquillian.java:46)




    at org.jboss.arquillian.junit.Arquillian$3.evaluate(Arquillian.java:199)




    at org.junit.runners.ParentRunner.run(ParentRunner.java:309)




    at org.jboss.arquillian.junit.Arquillian.run(Arquillian.java:147)




    at org.apache.maven.surefire.junit4.JUnit4Provider.execute(JUnit4Provider.java:234)




    at org.apache.maven.surefire.junit4.JUnit4Provider.executeTestSet(JUnit4Provider.java:133)




    at org.apache.maven.surefire.junit4.JUnit4Provider.invoke(JUnit4Provider.java:114)




    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)




    at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:57)




    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)




    at java.lang.reflect.Method.invoke(Method.java:601)




    at org.apache.maven.surefire.util.ReflectionUtils.invokeMethodWithArray(ReflectionUtils.java:188)




    at org.apache.maven.surefire.booter.ProviderFactory$ProviderProxy.invoke(ProviderFactory.java:166)




    at org.apache.maven.surefire.booter.ProviderFactory.invokeProvider(ProviderFactory.java:86)




    at org.apache.maven.surefire.booter.ForkedBooter.runSuitesInProcess(ForkedBooter.java:101)




    at org.apache.maven.surefire.booter.ForkedBooter.main(ForkedBooter.java:74)









17:47:15,866 WARN  [org.jboss.ejb.client.remoting.ConfigBasedEJBClientContextSelector] (main) Could not register a EJB receiver for connection to 127.0.0.1:4547: java.lang.RuntimeException: Operation failed with status WAITING




    at org.jboss.ejb.client.remoting.IoFutureHelper.get(IoFutureHelper.java:93)




    at org.jboss.ejb.client.remoting.ConnectionPool.getConnection(ConnectionPool.java:75)




    at org.jboss.ejb.client.remoting.RemotingConnectionManager.getConnection(RemotingConnectionManager.java:51)




    at org.jboss.ejb.client.remoting.ConfigBasedEJBClientContextSelector.setupEJBReceivers(ConfigBasedEJBClientContextSelector.java:130)




    at org.jboss.ejb.client.remoting.ConfigBasedEJBClientContextSelector.&amp;lt;init&amp;gt;(ConfigBasedEJBClientContextSelector.java:100)




    at org.jboss.ejb.client.remoting.ConfigBasedEJBClientContextSelector.&amp;lt;init&amp;gt;(ConfigBasedEJBClientContextSelector.java:68)




    at org.jboss.as.test.manualmode.ejb.client.cluster.EJBClientClusterConfigurationTestCase.setupEJBClientContextSelector(EJBClientClusterConfigurationTestCase.java:197)




    at org.jboss.as.test.manualmode.ejb.client.cluster.EJBClientClusterConfigurationTestCase.beforeClass(EJBClientClusterConfigurationTestCase.java:95)




    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)




    at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:57)




    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)




    at java.lang.reflect.Method.invoke(Method.java:601)




    at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:47)




    at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)




    at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:44)




    at org.junit.internal.runners.statements.RunBefores.evaluate(RunBefores.java:24)




    at org.jboss.arquillian.junit.Arquillian$StatementLifecycleExecutor.invoke(Arquillian.java:351)




    at org.jboss.arquillian.container.test.impl.execution.ClientBeforeAfterLifecycleEventExecuter.execute(ClientBeforeAfterLifecycleEventExecuter.java:99)




    at org.jboss.arquillian.container.test.impl.execution.ClientBeforeAfterLifecycleEventExecuter.on(ClientBeforeAfterLifecycleEventExecuter.java:60)




    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)




    at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:57)




    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)




    at java.lang.reflect.Method.invoke(Method.java:601)




    at org.jboss.arquillian.core.impl.ObserverImpl.invoke(ObserverImpl.java:94)




    at org.jboss.arquillian.core.impl.EventContextImpl.invokeObservers(EventContextImpl.java:99)




    at org.jboss.arquillian.core.impl.EventContextImpl.proceed(EventContextImpl.java:81)




    at org.jboss.arquillian.test.impl.TestContextHandler.createClassContext(TestContextHandler.java:75)




    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)




    at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:57)




    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)




    at java.lang.reflect.Method.invoke(Method.java:601)




    at org.jboss.arquillian.core.impl.ObserverImpl.invoke(ObserverImpl.java:94)




    at org.jboss.arquillian.core.impl.EventContextImpl.proceed(EventContextImpl.java:88)




    at org.jboss.arquillian.test.impl.TestContextHandler.createSuiteContext(TestContextHandler.java:60)




    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)




    at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:57)




    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)




    at java.lang.reflect.Method.invoke(Method.java:601)




    at org.jboss.arquillian.core.impl.ObserverImpl.invoke(ObserverImpl.java:94)




    at org.jboss.arquillian.core.impl.EventContextImpl.proceed(EventContextImpl.java:88)




    at org.jboss.arquillian.core.impl.ManagerImpl.fire(ManagerImpl.java:135)




    at org.jboss.arquillian.core.impl.ManagerImpl.fire(ManagerImpl.java:115)




    at org.jboss.arquillian.test.impl.EventTestRunnerAdaptor.beforeClass(EventTestRunnerAdaptor.java:80)




    at org.jboss.arquillian.junit.Arquillian$2.evaluate(Arquillian.java:182)




    at org.jboss.arquillian.junit.Arquillian.multiExecute(Arquillian.java:314)




    at org.jboss.arquillian.junit.Arquillian.access$100(Arquillian.java:46)




    at org.jboss.arquillian.junit.Arquillian$3.evaluate(Arquillian.java:199)




    at org.junit.runners.ParentRunner.run(ParentRunner.java:309)




    at org.jboss.arquillian.junit.Arquillian.run(Arquillian.java:147)




    at org.apache.maven.surefire.junit4.JUnit4Provider.execute(JUnit4Provider.java:234)




    at org.apache.maven.surefire.junit4.JUnit4Provider.executeTestSet(JUnit4Provider.java:133)




    at org.apache.maven.surefire.junit4.JUnit4Provider.invoke(JUnit4Provider.java:114)




    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)




    at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:57)




    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)




    at java.lang.reflect.Method.invoke(Method.java:601)




    at org.apache.maven.surefire.util.ReflectionUtils.invokeMethodWithArray(ReflectionUtils.java:188)




    at org.apache.maven.surefire.booter.ProviderFactory$ProviderProxy.invoke(ProviderFactory.java:166)




    at org.apache.maven.surefire.booter.ProviderFactory.invokeProvider(ProviderFactory.java:86)




    at org.apache.maven.surefire.booter.ForkedBooter.runSuitesInProcess(ForkedBooter.java:101)




    at org.apache.maven.surefire.booter.ForkedBooter.main(ForkedBooter.java:74)









17:47:16,285 INFO  [org.jboss.arquillian.container.test.impl.client.container.ClientContainerController] (main) Manual starting of a server instance




17:47:17,499 INFO  [org.jboss.as.arquillian.container.managed.ManagedDeployableContainer] (main) Starting container with: [C:\workspace\Java\jdk1.7.0_13\bin\java, -Xmx512m, -XX:MaxPermSize=256m, -Djboss.dist=C:\BuildAgent\work\1943cb9aa6e69362\testsuite\integration\manualmode/../../../build/target/wildfly-8.0.0.Alpha2-SNAPSHOT, -Djava.net.preferIPv4Stack=true, -Djava.net.preferIPv6Addresses=false, -server, -Dts.timeout.factor=100, -Dnode0=127.0.0.1, -Dnode1=127.0.0.1, -Dmcast=230.0.0.4, -Djbossas.ts.submodule.dir=C:\BuildAgent\work\1943cb9aa6e69362\testsuite\integration\manualmode, -Djbossas.ts.integ.dir=C:\BuildAgent\work\1943cb9aa6e69362\testsuite\integration\manualmode/.., -Djbossas.ts.dir=C:\BuildAgent\work\1943cb9aa6e69362\testsuite\integration\manualmode/../.., -Djbossas.project.dir=C:\BuildAgent\work\1943cb9aa6e69362\testsuite\integration\manualmode/../../.., -Djboss.dist=C:\BuildAgent\work\1943cb9aa6e69362\testsuite\integration\manualmode/../../../build/target/wildfly-8.0.0.Alpha2-SNAPSHOT, -Djboss.inst=C:\BuildAgent\work\1943cb9aa6e69362\testsuite\integration\manualmode/target/jbossas, -Djboss.node.name=default-jbossas, -ea, -Djboss.home.dir=C:\BuildAgent\work\1943cb9aa6e69362\testsuite\integration\manualmode/target/jbossas, -Dorg.jboss.boot.log.file=C:\BuildAgent\work\1943cb9aa6e69362\testsuite\integration\manualmode\target\jbossas\standalone\log\boot.log, -Dlogging.configuration=file:/C:/BuildAgent/work/1943cb9aa6e69362/testsuite/integration/manualmode/target/jbossas/standalone/configuration/logging.properties, -Djboss.bundles.dir=C:\BuildAgent\work\1943cb9aa6e69362\testsuite\integration\manualmode/../../../build/target/wildfly-8.0.0.Alpha2-SNAPSHOT/bundles, -jar, C:\BuildAgent\work\1943cb9aa6e69362\testsuite\integration\manualmode\target\jbossas\jboss-modules.jar, -mp, C:\BuildAgent\work\1943cb9aa6e69362\testsuite\integration\manualmode/../../../build/target/wildfly-8.0.0.Alpha2-SNAPSHOT/modules;C:\BuildAgent\work\1943cb9aa6e69362\testsuite\integration\manualmode/target/modules, org.jboss.as.standalone, -server-config, standalone-ha.xml]




17:47:18,354 INFO  [org.jboss.modules] (main) JBoss Modules version 1.2.2.Final




17:47:19,196 INFO  [org.jboss.msc] (main) JBoss MSC version 1.2.0.Beta1




17:47:19,281 INFO  [org.jboss.as] (MSC service thread 1-2) JBAS015899: WildFly 8.0.0.Alpha2-SNAPSHOT "WildFly" starting




17:47:23,556 INFO  [org.jboss.as.server] (Controller Boot Thread) JBAS015888: Creating http management service using socket-binding (management-http)




17:47:24,017 INFO  [org.jboss.as.webservices] (ServerService Thread Pool -- 52) JBAS015537: Activating WebServices Extension




17:47:24,023 INFO  [org.wildfly.extension.undertow] (ServerService Thread Pool -- 51) JBAS017502: Undertow 1.0.0.Alpha20 starting




17:47:24,170 INFO  [org.jboss.as.security] (ServerService Thread Pool -- 48) JBAS013171: Activating Security Subsystem




17:47:24,195 INFO  [org.xnio] (MSC service thread 1-1) XNIO Version 3.1.0.CR3




17:47:24,215 INFO  [org.xnio.nio] (MSC service thread 1-1) XNIO NIO Implementation Version 3.1.0.CR3




17:47:24,240 INFO  [org.jboss.remoting] (MSC service thread 1-1) JBoss Remoting version 4.0.0.Beta1




17:47:24,257 INFO  [org.jboss.as.naming] (ServerService Thread Pool -- 43) JBAS011800: Activating Naming Subsystem




17:47:24,878 INFO  [org.jboss.as.jsf] (ServerService Thread Pool -- 40) JBAS012605: Activated the following JSF Implementations: [main]




17:47:24,973 INFO  [org.jboss.as.clustering.jgroups] (ServerService Thread Pool -- 37) JBAS010260: Activating JGroups subsystem.




17:47:25,012 INFO  [org.jboss.as.clustering.infinispan] (ServerService Thread Pool -- 33) JBAS010280: Activating Infinispan subsystem.




17:47:25,302 INFO  [org.wildfly.extension.undertow] (ServerService Thread Pool -- 51) JBAS017527: Creating file handler for path C:\BuildAgent\work\1943cb9aa6e69362\testsuite\integration\manualmode\target\jbossas/welcome-content




17:47:27,063 INFO  [org.jboss.as.connector.subsystems.datasources] (ServerService Thread Pool -- 28) JBAS010403: Deploying JDBC-compliant driver class org.h2.Driver (version 1.3)




17:47:27,623 INFO  [org.infinispan.configuration.cache.EvictionConfigurationBuilder] (ServerService Thread Pool -- 33) ISPN000152: Passivation configured without an eviction policy being selected. Only manually evicted entities will be passivated.




17:47:27,629 INFO  [org.infinispan.configuration.cache.EvictionConfigurationBuilder] (ServerService Thread Pool -- 33) ISPN000152: Passivation configured without an eviction policy being selected. Only manually evicted entities will be passivated.




17:47:28,617 INFO  [org.wildfly.extension.undertow] (MSC service thread 1-2) JBAS017502: Undertow 1.0.0.Alpha20 starting




17:47:28,633 INFO  [org.jboss.as.security] (MSC service thread 1-2) JBAS013170: Current PicketBox version=4.0.17.Final




17:47:28,643 INFO  [org.jboss.as.naming] (MSC service thread 1-2) JBAS011802: Starting Naming Service




17:47:28,650 INFO  [org.jboss.as.connector.logging] (MSC service thread 1-2) JBAS010408: Starting JCA Subsystem (IronJacamar 1.0.17.Final)




17:47:28,688 INFO  [org.wildfly.extension.undertow] (MSC service thread 1-2) JBAS017525: Started http handler io.undertow.server.handlers.resource.ResourceHandler@10e6e5f.




17:47:29,263 INFO  [org.jboss.as.connector.deployers.jdbc] (MSC service thread 1-2) JBAS010417: Started Driver service with driver-name = h2




17:47:29,296 INFO  [org.jboss.ws.common.management] (MSC service thread 1-2) JBWS022052: Starting JBoss Web Services - Stack CXF Server 4.2.0.CR1




17:47:29,310 INFO  [org.jboss.as.server.deployment.scanner] (MSC service thread 1-2) JBAS015012: Started FileSystemDeploymentService for directory C:\BuildAgent\work\1943cb9aa6e69362\testsuite\integration\manualmode\target\jbossas\standalone\deployments




17:47:29,310 INFO  [org.jboss.as.mail.extension] (MSC service thread 1-2) JBAS015400: Bound mail session [java:jboss/mail/Default]




17:47:29,311 INFO  [org.wildfly.extension.undertow] (MSC service thread 1-2) Starting server server service: service jboss.undertow.server.default-server




17:47:29,314 INFO  [org.wildfly.extension.undertow] (MSC service thread 1-2) Starting host default-host




17:47:29,319 INFO  [org.wildfly.extension.undertow] (MSC service thread 1-2) JBAS017528: registering handler io.undertow.server.handlers.resource.ResourceHandler@10e6e5f under path &amp;amp;apos;/&amp;amp;apos;




17:47:29,378 INFO  [org.wildfly.extension.undertow] (MSC service thread 1-1) JBAS017519: Undertow HTTP listener default listening on /127.0.0.1:8080




17:47:29,599 INFO  [org.jboss.as.remoting] (MSC service thread 1-2) JBAS017100: Listening on 127.0.0.1:9999




17:47:29,637 INFO  [org.wildfly.extension.undertow] (MSC service thread 1-2) JBAS017519: Undertow AJP listener ajp-connector listening on /127.0.0.1:8009




17:47:29,654 INFO  [org.jboss.as.remoting] (MSC service thread 1-1) JBAS017100: Listening on 127.0.0.1:4447




17:47:30,243 INFO  [org.jboss.as.connector.subsystems.datasources] (MSC service thread 1-2) JBAS010400: Bound data source [java:jboss/datasources/ExampleDS]




17:47:30,249 ERROR [org.jboss.as.controller.management-operation] (Controller Boot Thread) JBAS014613: Operation ("add") failed - address: ([("subsystem" =&amp;gt; "modcluster")]) - failure description: {"JBAS014771: Services with missing/unavailable dependencies" =&amp;gt; ["jboss.mod-cluster is missing [jboss.web.connector.ajp, jboss.web]"]}




17:47:30,369 INFO  [org.jboss.as.controller] (Controller Boot Thread) JBAS014774: Service status report




JBAS014775:    New missing/unsatisfied dependencies:




      service jboss.web (missing) dependents: [service jboss.mod-cluster] 




      service jboss.web.connector.ajp (missing) dependents: [service jboss.mod-cluster] 









17:47:30,432 INFO  [org.jboss.as] (Controller Boot Thread) JBAS015961: Http management interface listening on http://127.0.0.1:9990/management




17:47:30,439 INFO  [org.jboss.as] (Controller Boot Thread) JBAS015951: Admin console listening on http://127.0.0.1:9990




17:47:30,440 ERROR [org.jboss.as] (Controller Boot Thread) JBAS015875: WildFly 8.0.0.Alpha2-SNAPSHOT "WildFly" started (with errors) in 12756ms - Started 156 of 250 services (1 services failed or missing dependencies, 115 services are lazy, passive or on-demand)




17:47:32,577 INFO  [org.jboss.as.repository] (management-handler-thread - 2) JBAS014900: Content added at location C:\BuildAgent\work\1943cb9aa6e69362\testsuite\integration\manualmode\target\jbossas\standalone\data\content\57\ef1f6cb625fb992628a0511dee1d1967e804f0\content




17:47:32,592 INFO  [org.jboss.as.server.deployment] (MSC service thread 1-1) JBAS015876: Starting deployment of "server-to-server-clustered-ejb-invocation.jar" (runtime-name: "server-to-server-clustered-ejb-invocation.jar")




17:47:33,035 INFO  [org.jboss.as.ejb3.deployment.processors.EjbJndiBindingsDeploymentUnitProcessor] (MSC service thread 1-1) JNDI bindings for session bean named ClusteredStatefulNodeNameEcho in deployment unit deployment "server-to-server-clustered-ejb-invocation.jar" are as follows:









    java:global/server-to-server-clustered-ejb-invocation/ClusteredStatefulNodeNameEcho!org.jboss.as.test.manualmode.ejb.client.cluster.NodeNameEcho




    java:app/server-to-server-clustered-ejb-invocation/ClusteredStatefulNodeNameEcho!org.jboss.as.test.manualmode.ejb.client.cluster.NodeNameEcho




    java:module/ClusteredStatefulNodeNameEcho!org.jboss.as.test.manualmode.ejb.client.cluster.NodeNameEcho




    java:jboss/exported/server-to-server-clustered-ejb-invocation/ClusteredStatefulNodeNameEcho!org.jboss.as.test.manualmode.ejb.client.cluster.NodeNameEcho




    java:global/server-to-server-clustered-ejb-invocation/ClusteredStatefulNodeNameEcho




    java:app/server-to-server-clustered-ejb-invocation/ClusteredStatefulNodeNameEcho




    java:module/ClusteredStatefulNodeNameEcho









17:47:35,597 INFO  [org.infinispan.remoting.transport.jgroups.JGroupsTransport] (ServerService Thread Pool -- 3) ISPN000078: Starting JGroups Channel




17:47:35,612 INFO  [stdout] (ServerService Thread Pool -- 3) 




17:47:35,612 INFO  [stdout] (ServerService Thread Pool -- 3) -------------------------------------------------------------------




17:47:35,612 INFO  [stdout] (ServerService Thread Pool -- 3) GMS: address=default-jbossas/ejb, cluster=ejb, physical address=127.0.0.1:55200




17:47:35,613 INFO  [stdout] (ServerService Thread Pool -- 3) -------------------------------------------------------------------









17:47:37,637 INFO  [org.infinispan.remoting.transport.jgroups.JGroupsTransport] (ServerService Thread Pool -- 3) ISPN000094: Received new cluster view: [default-jbossas/ejb|0] [default-jbossas/ejb]




17:47:37,798 INFO  [org.infinispan.remoting.transport.jgroups.JGroupsTransport] (ServerService Thread Pool -- 3) ISPN000079: Cache local address is default-jbossas/ejb, physical addresses are [127.0.0.1:55200]




17:47:37,805 INFO  [org.infinispan.factories.GlobalComponentRegistry] (ServerService Thread Pool -- 3) ISPN000128: Infinispan version: Infinispan &amp;amp;apos;Tactical Nuclear Penguin&amp;amp;apos; 5.3.0.CR1




17:47:37,835 INFO  [org.infinispan.factories.TransactionManagerFactory] (ServerService Thread Pool -- 2) ISPN000161: Using a batchMode transaction manager




17:47:38,053 INFO  [org.infinispan.jmx.CacheJmxRegistration] (ServerService Thread Pool -- 2) ISPN000031: MBeans were successfully registered to the platform MBean server.




17:47:38,062 INFO  [org.jboss.as.clustering.infinispan] (ServerService Thread Pool -- 2) JBAS010281: Started remote-connector-client-mappings cache from ejb container




17:47:38,087 INFO  [org.infinispan.factories.TransactionManagerFactory] (ServerService Thread Pool -- 3) ISPN000161: Using a batchMode transaction manager




17:47:38,340 INFO  [org.infinispan.jmx.CacheJmxRegistration] (ServerService Thread Pool -- 3) ISPN000031: MBeans were successfully registered to the platform MBean server.




17:47:38,342 INFO  [org.jboss.as.clustering.infinispan] (ServerService Thread Pool -- 3) JBAS010281: Started repl cache from ejb container




17:47:38,350 INFO  [org.jboss.as.clustering] (MSC service thread 1-2) JBAS010238: Number of cluster members: 1




17:47:38,378 INFO  [org.infinispan.factories.TransactionManagerFactory] (MSC service thread 1-2) ISPN000161: Using a batchMode transaction manager




17:47:38,390 INFO  [org.infinispan.jmx.CacheJmxRegistration] (MSC service thread 1-2) ISPN000031: MBeans were successfully registered to the platform MBean server.




17:47:38,392 INFO  [org.jboss.as.clustering.infinispan] (MSC service thread 1-2) JBAS010281: Started org.jboss.as.test.manualmode.ejb.client.cluster.ClusteredStatefulNodeNameEcho cache from ejb container




17:47:38,459 INFO  [org.jboss.as.server] (management-handler-thread - 2) JBAS018559: Deployed "server-to-server-clustered-ejb-invocation.jar" (runtime-name : "server-to-server-clustered-ejb-invocation.jar")




17:47:40,405 INFO  [org.jboss.arquillian.container.test.impl.client.container.ClientContainerController] (main) Manual starting of a server instance




17:47:41,533 INFO  [org.jboss.as.arquillian.container.managed.ManagedDeployableContainer] (main) Starting container with: [C:\workspace\Java\jdk1.7.0_13\bin\java, -Xmx512m, -XX:MaxPermSize=256m, -Djboss.dist=C:\BuildAgent\work\1943cb9aa6e69362\testsuite\integration\manualmode/../../../build/target/wildfly-8.0.0.Alpha2-SNAPSHOT, -Djava.net.preferIPv4Stack=true, -Djava.net.preferIPv6Addresses=false, -server, -Dts.timeout.factor=100, -Dnode0=127.0.0.1, -Dnode1=127.0.0.1, -Dmcast=230.0.0.4, -Djbossas.ts.submodule.dir=C:\BuildAgent\work\1943cb9aa6e69362\testsuite\integration\manualmode, -Djbossas.ts.integ.dir=C:\BuildAgent\work\1943cb9aa6e69362\testsuite\integration\manualmode/.., -Djbossas.ts.dir=C:\BuildAgent\work\1943cb9aa6e69362\testsuite\integration\manualmode/../.., -Djbossas.project.dir=C:\BuildAgent\work\1943cb9aa6e69362\testsuite\integration\manualmode/../../.., -Djboss.dist=C:\BuildAgent\work\1943cb9aa6e69362\testsuite\integration\manualmode/../../../build/target/wildfly-8.0.0.Alpha2-SNAPSHOT, -Djboss.inst=C:\BuildAgent\work\1943cb9aa6e69362\testsuite\integration\manualmode/target/jbossas-with-remote-outbound-connection, -Djboss.node.name=jbossas-with-remote-outbound-connection, -ea, -Djboss.home.dir=C:\BuildAgent\work\1943cb9aa6e69362\testsuite\integration\manualmode/target/jbossas-with-remote-outbound-connection, -Dorg.jboss.boot.log.file=C:\BuildAgent\work\1943cb9aa6e69362\testsuite\integration\manualmode\target\jbossas-with-remote-outbound-connection\standalone\log\boot.log, -Dlogging.configuration=file:/C:/BuildAgent/work/1943cb9aa6e69362/testsuite/integration/manualmode/target/jbossas-with-remote-outbound-connection/standalone/configuration/logging.properties, -Djboss.bundles.dir=C:\BuildAgent\work\1943cb9aa6e69362\testsuite\integration\manualmode/../../../build/target/wildfly-8.0.0.Alpha2-SNAPSHOT/bundles, -jar, C:\BuildAgent\work\1943cb9aa6e69362\testsuite\integration\manualmode\target\jbossas-with-remote-outbound-connection\jboss-modules.jar, -mp, C:\BuildAgent\work\1943cb9aa6e69362\testsuite\integration\manualmode/../../../build/target/wildfly-8.0.0.Alpha2-SNAPSHOT/modules;C:\BuildAgent\work\1943cb9aa6e69362\testsuite\integration\manualmode/target/modules, org.jboss.as.standalone, -server-config, standalone-ha.xml]




17:47:42,791 INFO  [org.jboss.modules] (main) JBoss Modules version 1.2.2.Final




17:47:44,437 INFO  [org.jboss.msc] (main) JBoss MSC version 1.2.0.Beta1




17:47:44,582 INFO  [org.jboss.as] (MSC service thread 1-2) JBAS015899: WildFly 8.0.0.Alpha2-SNAPSHOT "WildFly" starting




17:47:50,729 INFO  [org.jboss.as.server] (Controller Boot Thread) JBAS015888: Creating http management service using socket-binding (management-http)




17:47:50,803 INFO  [org.jboss.as.connector.subsystems.datasources] (ServerService Thread Pool -- 2) JBAS010403: Deploying JDBC-compliant driver class org.h2.Driver (version 1.3)




17:47:51,246 INFO  [org.xnio] (MSC service thread 1-2) XNIO Version 3.1.0.CR3




17:47:51,261 INFO  [org.jboss.as.webservices] (ServerService Thread Pool -- 52) JBAS015537: Activating WebServices Extension




17:47:51,277 INFO  [org.wildfly.extension.undertow] (ServerService Thread Pool -- 51) JBAS017502: Undertow 1.0.0.Alpha20 starting




17:47:51,309 INFO  [org.jboss.as.security] (ServerService Thread Pool -- 48) JBAS013171: Activating Security Subsystem




17:47:51,380 INFO  [org.xnio.nio] (MSC service thread 1-2) XNIO NIO Implementation Version 3.1.0.CR3




17:47:51,389 INFO  [org.jboss.remoting] (MSC service thread 1-2) JBoss Remoting version 4.0.0.Beta1




17:47:51,484 INFO  [org.jboss.as.naming] (ServerService Thread Pool -- 43) JBAS011800: Activating Naming Subsystem




17:47:51,516 INFO  [org.jboss.as.jsf] (ServerService Thread Pool -- 40) JBAS012605: Activated the following JSF Implementations: [main]




17:47:51,560 INFO  [org.wildfly.extension.undertow] (ServerService Thread Pool -- 51) JBAS017527: Creating file handler for path C:\BuildAgent\work\1943cb9aa6e69362\testsuite\integration\manualmode\target\jbossas-with-remote-outbound-connection/welcome-content




17:47:52,492 INFO  [org.jboss.as.clustering.infinispan] (ServerService Thread Pool -- 33) JBAS010280: Activating Infinispan subsystem.




17:47:52,944 INFO  [org.jboss.as.clustering.jgroups] (ServerService Thread Pool -- 37) JBAS010260: Activating JGroups subsystem.




17:47:54,723 INFO  [org.infinispan.configuration.cache.EvictionConfigurationBuilder] (ServerService Thread Pool -- 33) ISPN000152: Passivation configured without an eviction policy being selected. Only manually evicted entities will be passivated.




17:47:54,733 INFO  [org.infinispan.configuration.cache.EvictionConfigurationBuilder] (ServerService Thread Pool -- 33) ISPN000152: Passivation configured without an eviction policy being selected. Only manually evicted entities will be passivated.




17:47:55,833 INFO  [org.wildfly.extension.undertow] (MSC service thread 1-1) JBAS017502: Undertow 1.0.0.Alpha20 starting




17:47:55,919 INFO  [org.jboss.as.connector.logging] (MSC service thread 1-1) JBAS010408: Starting JCA Subsystem (IronJacamar 1.0.17.Final)




17:47:56,306 INFO  [org.jboss.as.naming] (MSC service thread 1-1) JBAS011802: Starting Naming Service




17:47:56,307 INFO  [org.jboss.as.security] (MSC service thread 1-1) JBAS013170: Current PicketBox version=4.0.17.Final




17:47:56,315 INFO  [org.wildfly.extension.undertow] (MSC service thread 1-1) JBAS017525: Started http handler io.undertow.server.handlers.resource.ResourceHandler@1f3bc38.




17:47:56,325 INFO  [org.wildfly.extension.undertow] (MSC service thread 1-1) Starting server server service: service jboss.undertow.server.default-server




17:47:56,355 INFO  [org.jboss.ws.common.management] (MSC service thread 1-1) JBWS022052: Starting JBoss Web Services - Stack CXF Server 4.2.0.CR1




17:47:56,357 INFO  [org.jboss.as.connector.deployers.jdbc] (MSC service thread 1-1) JBAS010417: Started Driver service with driver-name = h2




17:47:56,569 INFO  [org.jboss.as.server.deployment.scanner] (MSC service thread 1-1) JBAS015012: Started FileSystemDeploymentService for directory C:\BuildAgent\work\1943cb9aa6e69362\testsuite\integration\manualmode\target\jbossas-with-remote-outbound-connection\standalone\deployments




17:47:56,570 INFO  [org.jboss.as.mail.extension] (MSC service thread 1-1) JBAS015400: Bound mail session [java:jboss/mail/Default]




17:47:56,571 INFO  [org.wildfly.extension.undertow] (MSC service thread 1-1) Starting host default-host




17:47:56,573 INFO  [org.wildfly.extension.undertow] (MSC service thread 1-1) JBAS017528: registering handler io.undertow.server.handlers.resource.ResourceHandler@1f3bc38 under path &amp;amp;apos;/&amp;amp;apos;




17:47:56,594 INFO  [org.jboss.as.remoting] (MSC service thread 1-2) JBAS017100: Listening on 127.0.0.1:10099




17:47:56,610 INFO  [org.wildfly.extension.undertow] (MSC service thread 1-2) JBAS017519: Undertow HTTP listener default listening on /127.0.0.1:8180




17:47:56,612 INFO  [org.wildfly.extension.undertow] (MSC service thread 1-2) JBAS017519: Undertow AJP listener ajp-connector listening on /127.0.0.1:8109




17:47:56,612 INFO  [org.jboss.as.remoting] (MSC service thread 1-2) JBAS017100: Listening on 127.0.0.1:4547




17:47:57,479 INFO  [org.jboss.as.connector.subsystems.datasources] (MSC service thread 1-2) JBAS010400: Bound data source [java:jboss/datasources/ExampleDS]




17:47:57,484 ERROR [org.jboss.as.controller.management-operation] (Controller Boot Thread) JBAS014613: Operation ("add") failed - address: ([("subsystem" =&amp;gt; "modcluster")]) - failure description: {"JBAS014771: Services with missing/unavailable dependencies" =&amp;gt; ["jboss.mod-cluster is missing [jboss.web.connector.ajp, jboss.web]"]}




17:47:57,529 INFO  [org.jboss.as.controller] (Controller Boot Thread) JBAS014774: Service status report




JBAS014775:    New missing/unsatisfied dependencies:




      service jboss.web (missing) dependents: [service jboss.mod-cluster] 




      service jboss.web.connector.ajp (missing) dependents: [service jboss.mod-cluster] 









17:47:57,599 INFO  [org.jboss.as] (Controller Boot Thread) JBAS015961: Http management interface listening on http://127.0.0.1:10090/management




17:47:57,599 INFO  [org.jboss.as] (Controller Boot Thread) JBAS015951: Admin console listening on http://127.0.0.1:10090




17:47:57,600 ERROR [org.jboss.as] (Controller Boot Thread) JBAS015875: WildFly 8.0.0.Alpha2-SNAPSHOT "WildFly" started (with errors) in 15948ms - Started 160 of 254 services (1 services failed or missing dependencies, 117 services are lazy, passive or on-demand)




17:48:01,241 INFO  [org.jboss.as.repository] (management-handler-thread - 2) JBAS014900: Content added at location C:\BuildAgent\work\1943cb9aa6e69362\testsuite\integration\manualmode\target\jbossas-with-remote-outbound-connection\standalone\data\content\e0\8b25b6eed5c6f2df04ba76fd92ab3c469cfc0d\content




17:48:01,459 INFO  [org.jboss.as.server.deployment] (MSC service thread 1-2) JBAS015876: Starting deployment of "server-to-server-clustered-ejb-invocation.jar" (runtime-name: "server-to-server-clustered-ejb-invocation.jar")




17:48:01,693 INFO  [org.jboss.as.ejb3.deployment.processors.EjbJndiBindingsDeploymentUnitProcessor] (MSC service thread 1-2) JNDI bindings for session bean named ClusteredStatefulNodeNameEcho in deployment unit deployment "server-to-server-clustered-ejb-invocation.jar" are as follows:









    java:global/server-to-server-clustered-ejb-invocation/ClusteredStatefulNodeNameEcho!org.jboss.as.test.manualmode.ejb.client.cluster.NodeNameEcho




    java:app/server-to-server-clustered-ejb-invocation/ClusteredStatefulNodeNameEcho!org.jboss.as.test.manualmode.ejb.client.cluster.NodeNameEcho




    java:module/ClusteredStatefulNodeNameEcho!org.jboss.as.test.manualmode.ejb.client.cluster.NodeNameEcho




    java:jboss/exported/server-to-server-clustered-ejb-invocation/ClusteredStatefulNodeNameEcho!org.jboss.as.test.manualmode.ejb.client.cluster.NodeNameEcho




    java:global/server-to-server-clustered-ejb-invocation/ClusteredStatefulNodeNameEcho




    java:app/server-to-server-clustered-ejb-invocation/ClusteredStatefulNodeNameEcho




    java:module/ClusteredStatefulNodeNameEcho









17:48:01,694 INFO  [org.jboss.as.ejb3.deployment.processors.EjbJndiBindingsDeploymentUnitProcessor] (MSC service thread 1-2) JNDI bindings for session bean named NonClusteredStatefulNodeNameEcho in deployment unit deployment "server-to-server-clustered-ejb-invocation.jar" are as follows:









    java:global/server-to-server-clustered-ejb-invocation/NonClusteredStatefulNodeNameEcho!org.jboss.as.test.manualmode.ejb.client.cluster.NodeNameEcho




    java:app/server-to-server-clustered-ejb-invocation/NonClusteredStatefulNodeNameEcho!org.jboss.as.test.manualmode.ejb.client.cluster.NodeNameEcho




    java:module/NonClusteredStatefulNodeNameEcho!org.jboss.as.test.manualmode.ejb.client.cluster.NodeNameEcho




    java:jboss/exported/server-to-server-clustered-ejb-invocation/NonClusteredStatefulNodeNameEcho!org.jboss.as.test.manualmode.ejb.client.cluster.NodeNameEcho




    java:global/server-to-server-clustered-ejb-invocation/NonClusteredStatefulNodeNameEcho




    java:app/server-to-server-clustered-ejb-invocation/NonClusteredStatefulNodeNameEcho




    java:module/NonClusteredStatefulNodeNameEcho









17:48:02,356 INFO  [org.jboss.ejb.client.remoting] (Remoting "jbossas-with-remote-outbound-connection" task-6) EJBCLIENT000017: Received server version 2 and marshalling strategies [river]




17:48:02,368 INFO  [org.jboss.ejb.client.remoting] (MSC service thread 1-2) EJBCLIENT000013: Successful version handshake completed for receiver context EJBReceiverContext{clientContext=org.jboss.ejb.client.EJBClientContext@150eaef, receiver=Remoting connection EJB receiver [connection=Remoting connection &amp;lt;5b49a4&amp;gt;,channel=jboss.ejb,nodename=default-jbossas]} on channel Channel ID 8785ee03 (outbound) of Remoting connection 00a2e892 to 127.0.0.1/127.0.0.1:4447




17:48:04,511 INFO  [org.infinispan.remoting.transport.jgroups.JGroupsTransport] (ServerService Thread Pool -- 12) ISPN000078: Starting JGroups Channel




17:48:04,525 INFO  [stdout] (ServerService Thread Pool -- 12) 




17:48:04,525 INFO  [stdout] (ServerService Thread Pool -- 12) -------------------------------------------------------------------




17:48:04,526 INFO  [stdout] (ServerService Thread Pool -- 12) GMS: address=jbossas-with-remote-outbound-connection/ejb, cluster=ejb, physical address=127.0.0.1:55300




17:48:04,526 INFO  [stdout] (ServerService Thread Pool -- 12) -------------------------------------------------------------------









17:48:05,038 INFO  [org.jboss.as.clustering] (Incoming-1,shared=udp) JBAS010225: New cluster view for partition ejb (id: 1, delta: 1, merge: false) : [default-jbossas/ejb, jbossas-with-remote-outbound-connection/ejb]




17:48:05,039 INFO  [org.infinispan.remoting.transport.jgroups.JGroupsTransport] (Incoming-1,shared=udp) ISPN000094: Received new cluster view: [default-jbossas/ejb|1] [default-jbossas/ejb, jbossas-with-remote-outbound-connection/ejb]




17:48:05,052 INFO  [org.infinispan.remoting.transport.jgroups.JGroupsTransport] (ServerService Thread Pool -- 12) ISPN000094: Received new cluster view: [default-jbossas/ejb|1] [default-jbossas/ejb, jbossas-with-remote-outbound-connection/ejb]




17:48:05,307 INFO  [org.infinispan.remoting.transport.jgroups.JGroupsTransport] (ServerService Thread Pool -- 12) ISPN000079: Cache local address is jbossas-with-remote-outbound-connection/ejb, physical addresses are [127.0.0.1:55300]




17:48:05,311 INFO  [org.infinispan.factories.GlobalComponentRegistry] (ServerService Thread Pool -- 12) ISPN000128: Infinispan version: Infinispan &amp;amp;apos;Tactical Nuclear Penguin&amp;amp;apos; 5.3.0.CR1




17:48:05,339 INFO  [org.infinispan.factories.TransactionManagerFactory] (ServerService Thread Pool -- 12) ISPN000161: Using a batchMode transaction manager




17:48:05,464 INFO  [org.infinispan.factories.TransactionManagerFactory] (ServerService Thread Pool -- 9) ISPN000161: Using a batchMode transaction manager




17:48:06,047 INFO  [org.infinispan.jmx.CacheJmxRegistration] (ServerService Thread Pool -- 12) ISPN000031: MBeans were successfully registered to the platform MBean server.




17:48:06,626 INFO  [org.infinispan.jmx.CacheJmxRegistration] (ServerService Thread Pool -- 9) ISPN000031: MBeans were successfully registered to the platform MBean server.




17:48:06,905 INFO  [org.jboss.as.clustering.infinispan] (ServerService Thread Pool -- 12) JBAS010281: Started remote-connector-client-mappings cache from ejb container




17:48:06,929 INFO  [org.jboss.as.clustering.infinispan] (ServerService Thread Pool -- 9) JBAS010281: Started repl cache from ejb container




17:48:06,937 INFO  [org.jboss.as.clustering] (MSC service thread 1-1) JBAS010238: Number of cluster members: 2




17:48:07,020 INFO  [org.infinispan.factories.TransactionManagerFactory] (MSC service thread 1-1) ISPN000161: Using a batchMode transaction manager




17:48:07,031 INFO  [org.infinispan.jmx.CacheJmxRegistration] (MSC service thread 1-1) ISPN000031: MBeans were successfully registered to the platform MBean server.




17:48:07,516 INFO  [org.jboss.as.clustering.infinispan] (MSC service thread 1-1) JBAS010281: Started org.jboss.as.test.manualmode.ejb.client.cluster.ClusteredStatefulNodeNameEcho cache from ejb container




17:48:07,638 INFO  [org.jboss.as.server] (management-handler-thread - 2) JBAS018559: Deployed "server-to-server-clustered-ejb-invocation.jar" (runtime-name : "server-to-server-clustered-ejb-invocation.jar")




17:48:09,577 INFO  [org.jboss.ejb.client] (main) JBoss EJB Client version 1.0.21.Final




17:48:09,606 INFO  [org.jboss.ejb.client.remoting] (Remoting "config-based-ejb-client-endpoint" task-5) EJBCLIENT000017: Received server version 2 and marshalling strategies [river]




17:48:09,657 INFO  [org.jboss.ejb.client.remoting] (ejb-client-context-tasks-2-thread-1) EJBCLIENT000013: Successful version handshake completed for receiver context EJBReceiverContext{clientContext=org.jboss.ejb.client.EJBClientContext@19699dd, receiver=Remoting connection EJB receiver [connection=org.jboss.ejb.client.remoting.ConnectionPool$PooledConnection@ae4d15,channel=jboss.ejb,nodename=jbossas-with-remote-outbound-connection]} on channel Channel ID ce12ca12 (outbound) of Remoting connection 0000cc80 to /127.0.0.1:4547




17:48:10,245 INFO  [org.jboss.ejb.client.remoting] (Remoting "config-based-ejb-client-endpoint" task-15) EJBCLIENT000017: Received server version 2 and marshalling strategies [river]




17:48:10,252 INFO  [org.jboss.ejb.client.remoting] (ejb-client-cluster-node-connection-creation-3-thread-2) EJBCLIENT000013: Successful version handshake completed for receiver context EJBReceiverContext{clientContext=org.jboss.ejb.client.EJBClientContext@19699dd, receiver=Remoting connection EJB receiver [connection=org.jboss.ejb.client.remoting.ConnectionPool$PooledConnection@2bee08,channel=jboss.ejb,nodename=default-jbossas]} on channel Channel ID bbe7440a (outbound) of Remoting connection 000f67e9 to /127.0.0.1:4447




17:48:10,547 INFO  [org.jboss.ejb.client] (EJB default - 2) JBoss EJB Client version 1.0.21.Final




17:48:10,945 INFO  [org.jboss.ejb.client] (EJB default - 1) JBoss EJB Client version 1.0.21.Final




17:48:11,181 INFO  [org.jboss.arquillian.container.test.impl.client.container.ClientContainerController] (main) Manual stopping of a server instance




17:48:11,240 INFO  [org.wildfly.extension.undertow] (MSC service thread 1-2) JBAS017521: Undertow AJP listener ajp-connector suspending




17:48:11,241 INFO  [org.wildfly.extension.undertow] (MSC service thread 1-2) JBAS017520: Undertow AJP listener ajp-connector stopped, was bound to /127.0.0.1:8009




17:48:11,305 INFO  [org.wildfly.extension.undertow] (MSC service thread 1-2) JBAS017521: Undertow HTTP listener default suspending




17:48:11,311 INFO  [org.wildfly.extension.undertow] (MSC service thread 1-2) JBAS017520: Undertow HTTP listener default stopped, was bound to /127.0.0.1:8080




17:48:11,312 INFO  [org.jboss.as.connector.subsystems.datasources] (MSC service thread 1-2) JBAS010409: Unbound data source [java:jboss/datasources/ExampleDS]




17:48:11,318 INFO  [org.wildfly.extension.undertow] (MSC service thread 1-2) Stopping host default-host




17:48:11,333 INFO  [org.jboss.as.connector.deployers.jdbc] (MSC service thread 1-2) JBAS010418: Stopped Driver service with driver-name = h2




17:48:11,333 INFO  [org.wildfly.extension.undertow] (MSC service thread 1-2) JBAS017506: Undertow 1.0.0.Alpha20 stopping




17:48:11,349 INFO  [org.infinispan.eviction.PassivationManagerImpl] (ServerService Thread Pool -- 55) ISPN000029: Passivating all entries to disk




17:48:11,353 INFO  [org.infinispan.eviction.PassivationManagerImpl] (ServerService Thread Pool -- 55) ISPN000030: Passivated 1 entries in 4 milliseconds




17:48:11,390 INFO  [org.jboss.as.clustering.infinispan] (ServerService Thread Pool -- 55) JBAS010282: Stopped org.jboss.as.test.manualmode.ejb.client.cluster.ClusteredStatefulNodeNameEcho cache from ejb container




17:48:11,796 INFO  [org.infinispan.eviction.PassivationManagerImpl] (MSC service thread 1-1) ISPN000029: Passivating all entries to disk




17:48:11,796 INFO  [org.infinispan.eviction.PassivationManagerImpl] (MSC service thread 1-1) ISPN000030: Passivated 0 entries in 0 milliseconds




17:48:11,826 INFO  [org.jboss.as.clustering.infinispan] (MSC service thread 1-1) JBAS010282: Stopped repl cache from ejb container




17:48:11,829 INFO  [org.jboss.as.server.deployment] (MSC service thread 1-1) JBAS015877: Stopped deployment server-to-server-clustered-ejb-invocation.jar (runtime-name: server-to-server-clustered-ejb-invocation.jar) in 623ms




17:48:11,959 INFO  [org.jboss.ejb.client.remoting] (Remoting "config-based-ejb-client-endpoint" task-5) EJBCLIENT000016: Channel Channel ID bbe7440a (outbound) of Remoting connection 000f67e9 to null can no longer process messages




17:48:11,977 INFO  [org.jboss.ejb.client.remoting] (Remoting "jbossas-with-remote-outbound-connection" task-9) EJBCLIENT000016: Channel Channel ID 8785ee03 (outbound) of Remoting connection 00a2e892 to null can no longer process messages




17:48:12,099 INFO  [org.jboss.as.clustering.infinispan] (MSC service thread 1-2) JBAS010282: Stopped remote-connector-client-mappings cache from ejb container




17:48:12,100 INFO  [org.infinispan.remoting.transport.jgroups.JGroupsTransport] (MSC service thread 1-2) ISPN000080: Disconnecting and closing JGroups Channel




17:48:12,493 INFO  [org.jboss.as.clustering] (Incoming-7,shared=udp) JBAS010225: New cluster view for partition ejb (id: 2, delta: -1, merge: false) : [jbossas-with-remote-outbound-connection/ejb]




17:48:12,495 INFO  [org.infinispan.remoting.transport.jgroups.JGroupsTransport] (Incoming-7,shared=udp) ISPN000094: Received new cluster view: [jbossas-with-remote-outbound-connection/ejb|2] [jbossas-with-remote-outbound-connection/ejb]




17:48:12,504 INFO  [org.infinispan.remoting.transport.jgroups.JGroupsTransport] (MSC service thread 1-2) ISPN000082: Stopping the RpcDispatcher




17:48:12,513 INFO  [org.jboss.as] (MSC service thread 1-1) JBAS015950: WildFly 8.0.0.Alpha2-SNAPSHOT "WildFly" stopped in 1301ms




17:48:37,707 INFO  [org.jboss.ejb.client.remoting.RemotingConnectionClusterNodeManager] (EJB default - 3) Could not create a connection for cluster node ClusterNode{clusterName=&amp;amp;apos;ejb&amp;amp;apos;, nodeName=&amp;amp;apos;default-jbossas&amp;amp;apos;, clientMappings=[ClientMapping{sourceNetworkAddress=/0:0:0:0:0:0:0:0, sourceNetworkMaskBits=0, destinationAddress=&amp;amp;apos;127.0.0.1&amp;amp;apos;, destinationPort=4447}], resolvedDestination=[Destination address=127.0.0.1, destination port=4447]} in cluster ejb: java.lang.RuntimeException: Operation failed with status WAITING




    at org.jboss.ejb.client.remoting.IoFutureHelper.get(IoFutureHelper.java:93) [jboss-ejb-client-1.0.21.Final.jar:1.0.21.Final]




    at org.jboss.ejb.client.remoting.ConnectionPool.getConnection(ConnectionPool.java:75) [jboss-ejb-client-1.0.21.Final.jar:1.0.21.Final]




    at org.jboss.ejb.client.remoting.RemotingConnectionManager.getConnection(RemotingConnectionManager.java:51) [jboss-ejb-client-1.0.21.Final.jar:1.0.21.Final]




    at org.jboss.ejb.client.remoting.RemotingConnectionClusterNodeManager.getEJBReceiver(RemotingConnectionClusterNodeManager.java:77) [jboss-ejb-client-1.0.21.Final.jar:1.0.21.Final]




    at org.jboss.ejb.client.ClusterContext.getEJBReceiverContext(ClusterContext.java:167) [jboss-ejb-client-1.0.21.Final.jar:1.0.21.Final]




    at org.jboss.ejb.client.ClusterContext.getEJBReceiverContext(ClusterContext.java:93) [jboss-ejb-client-1.0.21.Final.jar:1.0.21.Final]




    at org.jboss.ejb.client.EJBClientContext.getClusterEJBReceiverContext(EJBClientContext.java:930) [jboss-ejb-client-1.0.21.Final.jar:1.0.21.Final]




    at org.jboss.ejb.client.EJBClientContext.getClusterEJBReceiverContext(EJBClientContext.java:915) [jboss-ejb-client-1.0.21.Final.jar:1.0.21.Final]




    at org.jboss.ejb.client.EJBClientContext.requireClusterEJBReceiverContext(EJBClientContext.java:981) [jboss-ejb-client-1.0.21.Final.jar:1.0.21.Final]




    at org.jboss.ejb.client.ReceiverInterceptor.handleInvocation(ReceiverInterceptor.java:84) [jboss-ejb-client-1.0.21.Final.jar:1.0.21.Final]




    at org.jboss.ejb.client.EJBClientInvocationContext.sendRequest(EJBClientInvocationContext.java:183) [jboss-ejb-client-1.0.21.Final.jar:1.0.21.Final]




    at org.jboss.ejb.client.EJBInvocationHandler.sendRequestWithPossibleRetries(EJBInvocationHandler.java:253) [jboss-ejb-client-1.0.21.Final.jar:1.0.21.Final]




    at org.jboss.ejb.client.EJBInvocationHandler.doInvoke(EJBInvocationHandler.java:198) [jboss-ejb-client-1.0.21.Final.jar:1.0.21.Final]




    at org.jboss.ejb.client.EJBInvocationHandler.doInvoke(EJBInvocationHandler.java:181) [jboss-ejb-client-1.0.21.Final.jar:1.0.21.Final]




    at org.jboss.ejb.client.EJBInvocationHandler.invoke(EJBInvocationHandler.java:144) [jboss-ejb-client-1.0.21.Final.jar:1.0.21.Final]




    at sun.proxy.$Proxy30.getNodeName(Unknown Source)




    at org.jboss.as.test.manualmode.ejb.client.cluster.NonClusteredStatefulNodeNameEcho.getNodeName(NonClusteredStatefulNodeNameEcho.java:47) [server-to-server-clustered-ejb-invocation.jar:]




    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) [rt.jar:1.7.0_13]




    at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:57) [rt.jar:1.7.0_13]




    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) [rt.jar:1.7.0_13]




    at java.lang.reflect.Method.invoke(Method.java:601) [rt.jar:1.7.0_13]




    at org.jboss.as.ee.component.ManagedReferenceMethodInterceptorFactory$ManagedReferenceMethodInterceptor.processInvocation(ManagedReferenceMethodInterceptorFactory.java:72)




    at org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:289)




    at org.jboss.invocation.WeavedInterceptor.processInvocation(WeavedInterceptor.java:53)




    at org.jboss.as.ee.component.interceptors.UserInterceptorFactory$1.processInvocation(UserInterceptorFactory.java:63)




    at org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:289)




    at org.jboss.invocation.WeavedInterceptor.processInvocation(WeavedInterceptor.java:53)




    at org.jboss.as.ee.component.interceptors.UserInterceptorFactory$1.processInvocation(UserInterceptorFactory.java:63)




    at org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:289)




    at org.jboss.as.ejb3.component.invocationmetrics.ExecutionTimeInterceptor.processInvocation(ExecutionTimeInterceptor.java:43) [wildfly-ejb3-8.0.0.Alpha2-SNAPSHOT.jar:8.0.0.Alpha2-SNAPSHOT]




    at org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:289)




    at org.jboss.as.jpa.interceptor.SBInvocationInterceptor.processInvocation(SBInvocationInterceptor.java:47)




    at org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:289)




    at org.jboss.as.jpa.interceptor.SFSBInvocationInterceptor.processInvocation(SFSBInvocationInterceptor.java:58)




    at org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:289)




    at org.jboss.as.ejb3.component.stateful.StatefulSessionSynchronizationInterceptor.processInvocation(StatefulSessionSynchronizationInterceptor.java:156) [wildfly-ejb3-8.0.0.Alpha2-SNAPSHOT.jar:8.0.0.Alpha2-SNAPSHOT]




    at org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:289)




    at org.jboss.invocation.InitialInterceptor.processInvocation(InitialInterceptor.java:21)




    at org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:289)




    at org.jboss.invocation.ChainedInterceptor.processInvocation(ChainedInterceptor.java:61)




    at org.jboss.as.ee.component.interceptors.ComponentDispatcherInterceptor.processInvocation(ComponentDispatcherInterceptor.java:53)




    at org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:289)




    at org.jboss.as.ejb3.component.stateful.StatefulComponentInstanceInterceptor.processInvocation(StatefulComponentInstanceInterceptor.java:66) [wildfly-ejb3-8.0.0.Alpha2-SNAPSHOT.jar:8.0.0.Alpha2-SNAPSHOT]




    at org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:289)




    at org.jboss.as.ejb3.tx.CMTTxInterceptor.invokeInOurTx(CMTTxInterceptor.java:273) [wildfly-ejb3-8.0.0.Alpha2-SNAPSHOT.jar:8.0.0.Alpha2-SNAPSHOT]




    at org.jboss.as.ejb3.tx.CMTTxInterceptor.required(CMTTxInterceptor.java:340) [wildfly-ejb3-8.0.0.Alpha2-SNAPSHOT.jar:8.0.0.Alpha2-SNAPSHOT]




    at org.jboss.as.ejb3.tx.CMTTxInterceptor.processInvocation(CMTTxInterceptor.java:239) [wildfly-ejb3-8.0.0.Alpha2-SNAPSHOT.jar:8.0.0.Alpha2-SNAPSHOT]




    at org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:289)




    at org.jboss.as.ejb3.remote.EJBRemoteTransactionPropagatingInterceptor.processInvocation(EJBRemoteTransactionPropagatingInterceptor.java:79) [wildfly-ejb3-8.0.0.Alpha2-SNAPSHOT.jar:8.0.0.Alpha2-SNAPSHOT]




    at org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:289)




    at org.jboss.as.ejb3.component.interceptors.CurrentInvocationContextInterceptor.processInvocation(CurrentInvocationContextInterceptor.java:41) [wildfly-ejb3-8.0.0.Alpha2-SNAPSHOT.jar:8.0.0.Alpha2-SNAPSHOT]




    at org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:289)




    at org.jboss.as.ejb3.component.invocationmetrics.WaitTimeInterceptor.processInvocation(WaitTimeInterceptor.java:43) [wildfly-ejb3-8.0.0.Alpha2-SNAPSHOT.jar:8.0.0.Alpha2-SNAPSHOT]




    at org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:289)




    at org.jboss.as.ejb3.security.SecurityContextInterceptor.processInvocation(SecurityContextInterceptor.java:90) [wildfly-ejb3-8.0.0.Alpha2-SNAPSHOT.jar:8.0.0.Alpha2-SNAPSHOT]




    at org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:289)




    at org.jboss.as.ejb3.component.interceptors.ShutDownInterceptorFactory$1.processInvocation(ShutDownInterceptorFactory.java:64) [wildfly-ejb3-8.0.0.Alpha2-SNAPSHOT.jar:8.0.0.Alpha2-SNAPSHOT]




    at org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:289)




    at org.jboss.as.ejb3.component.interceptors.LoggingInterceptor.processInvocation(LoggingInterceptor.java:59) [wildfly-ejb3-8.0.0.Alpha2-SNAPSHOT.jar:8.0.0.Alpha2-SNAPSHOT]




    at org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:289)




    at org.jboss.as.ee.component.NamespaceContextInterceptor.processInvocation(NamespaceContextInterceptor.java:50)




    at org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:289)




    at org.jboss.as.ejb3.component.interceptors.AdditionalSetupInterceptor.processInvocation(AdditionalSetupInterceptor.java:55) [wildfly-ejb3-8.0.0.Alpha2-SNAPSHOT.jar:8.0.0.Alpha2-SNAPSHOT]




    at org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:289)




    at org.jboss.invocation.ContextClassLoaderInterceptor.processInvocation(ContextClassLoaderInterceptor.java:55)




    at org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:289)




    at org.jboss.invocation.InterceptorContext.run(InterceptorContext.java:305)




    at org.wildfly.security.manager.WildFlySecurityManager.doChecked(WildFlySecurityManager.java:428)




    at org.wildfly.security.manager.AccessCheckingInterceptor.processInvocation(AccessCheckingInterceptor.java:63)




    at org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:289)




    at org.jboss.invocation.InterceptorContext.run(InterceptorContext.java:305)




    at java.security.AccessController.doPrivileged(Native Method) [rt.jar:1.7.0_13]




    at org.jboss.invocation.PrivilegedInterceptor.processInvocation(PrivilegedInterceptor.java:65)




    at org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:289)




    at org.jboss.invocation.ChainedInterceptor.processInvocation(ChainedInterceptor.java:61)




    at org.jboss.as.ee.component.ViewService$View.invoke(ViewService.java:165)




    at org.jboss.as.ejb3.remote.protocol.versionone.MethodInvocationMessageHandler.invokeMethod(MethodInvocationMessageHandler.java:329) [wildfly-ejb3-8.0.0.Alpha2-SNAPSHOT.jar:8.0.0.Alpha2-SNAPSHOT]




    at org.jboss.as.ejb3.remote.protocol.versionone.MethodInvocationMessageHandler.access$100(MethodInvocationMessageHandler.java:70) [wildfly-ejb3-8.0.0.Alpha2-SNAPSHOT.jar:8.0.0.Alpha2-SNAPSHOT]




    at org.jboss.as.ejb3.remote.protocol.versionone.MethodInvocationMessageHandler$1.run(MethodInvocationMessageHandler.java:203) [wildfly-ejb3-8.0.0.Alpha2-SNAPSHOT.jar:8.0.0.Alpha2-SNAPSHOT]




    at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:471) [rt.jar:1.7.0_13]




    at java.util.concurrent.FutureTask$Sync.innerRun(FutureTask.java:334) [rt.jar:1.7.0_13]




    at java.util.concurrent.FutureTask.run(FutureTask.java:166) [rt.jar:1.7.0_13]




    at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1145) [rt.jar:1.7.0_13]




    at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:615) [rt.jar:1.7.0_13]




    at java.lang.Thread.run(Thread.java:722) [rt.jar:1.7.0_13]




    at org.jboss.threads.JBossThread.run(JBossThread.java:122)









17:49:02,887 INFO  [org.jboss.ejb.client.remoting.RemotingConnectionClusterNodeManager] (EJB default - 3) Could not create a connection for cluster node ClusterNode{clusterName=&amp;amp;apos;ejb&amp;amp;apos;, nodeName=&amp;amp;apos;default-jbossas&amp;amp;apos;, clientMappings=[ClientMapping{sourceNetworkAddress=/0:0:0:0:0:0:0:0, sourceNetworkMaskBits=0, destinationAddress=&amp;amp;apos;127.0.0.1&amp;amp;apos;, destinationPort=4447}], resolvedDestination=[Destination address=127.0.0.1, destination port=4447]} in cluster ejb: java.lang.RuntimeException: Operation failed with status WAITING




    at org.jboss.ejb.client.remoting.IoFutureHelper.get(IoFutureHelper.java:93) [jboss-ejb-client-1.0.21.Final.jar:1.0.21.Final]




    at org.jboss.ejb.client.remoting.ConnectionPool.getConnection(ConnectionPool.java:75) [jboss-ejb-client-1.0.21.Final.jar:1.0.21.Final]




    at org.jboss.ejb.client.remoting.RemotingConnectionManager.getConnection(RemotingConnectionManager.java:51) [jboss-ejb-client-1.0.21.Final.jar:1.0.21.Final]




    at org.jboss.ejb.client.remoting.RemotingConnectionClusterNodeManager.getEJBReceiver(RemotingConnectionClusterNodeManager.java:77) [jboss-ejb-client-1.0.21.Final.jar:1.0.21.Final]




    at org.jboss.ejb.client.ClusterContext.getEJBReceiverContext(ClusterContext.java:167) [jboss-ejb-client-1.0.21.Final.jar:1.0.21.Final]




    at org.jboss.ejb.client.ClusterContext.getEJBReceiverContext(ClusterContext.java:93) [jboss-ejb-client-1.0.21.Final.jar:1.0.21.Final]




    at org.jboss.ejb.client.EJBClientContext.getClusterEJBReceiverContext(EJBClientContext.java:930) [jboss-ejb-client-1.0.21.Final.jar:1.0.21.Final]




    at org.jboss.ejb.client.EJBClientContext.getClusterEJBReceiverContext(EJBClientContext.java:937) [jboss-ejb-client-1.0.21.Final.jar:1.0.21.Final]




    at org.jboss.ejb.client.EJBClientContext.getClusterEJBReceiverContext(EJBClientContext.java:915) [jboss-ejb-client-1.0.21.Final.jar:1.0.21.Final]




    at org.jboss.ejb.client.EJBClientContext.requireClusterEJBReceiverContext(EJBClientContext.java:981) [jboss-ejb-client-1.0.21.Final.jar:1.0.21.Final]




    at org.jboss.ejb.client.ReceiverInterceptor.handleInvocation(ReceiverInterceptor.java:84) [jboss-ejb-client-1.0.21.Final.jar:1.0.21.Final]




    at org.jboss.ejb.client.EJBClientInvocationContext.sendRequest(EJBClientInvocationContext.java:183) [jboss-ejb-client-1.0.21.Final.jar:1.0.21.Final]




    at org.jboss.ejb.client.EJBInvocationHandler.sendRequestWithPossibleRetries(EJBInvocationHandler.java:253) [jboss-ejb-client-1.0.21.Final.jar:1.0.21.Final]




    at org.jboss.ejb.client.EJBInvocationHandler.doInvoke(EJBInvocationHandler.java:198) [jboss-ejb-client-1.0.21.Final.jar:1.0.21.Final]




    at org.jboss.ejb.client.EJBInvocationHandler.doInvoke(EJBInvocationHandler.java:181) [jboss-ejb-client-1.0.21.Final.jar:1.0.21.Final]




    at org.jboss.ejb.client.EJBInvocationHandler.invoke(EJBInvocationHandler.java:144) [jboss-ejb-client-1.0.21.Final.jar:1.0.21.Final]




    at sun.proxy.$Proxy30.getNodeName(Unknown Source)




    at org.jboss.as.test.manualmode.ejb.client.cluster.NonClusteredStatefulNodeNameEcho.getNodeName(NonClusteredStatefulNodeNameEcho.java:47) [server-to-server-clustered-ejb-invocation.jar:]




    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) [rt.jar:1.7.0_13]




    at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:57) [rt.jar:1.7.0_13]




    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) [rt.jar:1.7.0_13]




    at java.lang.reflect.Method.invoke(Method.java:601) [rt.jar:1.7.0_13]




    at org.jboss.as.ee.component.ManagedReferenceMethodInterceptorFactory$ManagedReferenceMethodInterceptor.processInvocation(ManagedReferenceMethodInterceptorFactory.java:72)




    at org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:289)




    at org.jboss.invocation.WeavedInterceptor.processInvocation(WeavedInterceptor.java:53)




    at org.jboss.as.ee.component.interceptors.UserInterceptorFactory$1.processInvocation(UserInterceptorFactory.java:63)




    at org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:289)




    at org.jboss.invocation.WeavedInterceptor.processInvocation(WeavedInterceptor.java:53)




    at org.jboss.as.ee.component.interceptors.UserInterceptorFactory$1.processInvocation(UserInterceptorFactory.java:63)




    at org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:289)




    at org.jboss.as.ejb3.component.invocationmetrics.ExecutionTimeInterceptor.processInvocation(ExecutionTimeInterceptor.java:43) [wildfly-ejb3-8.0.0.Alpha2-SNAPSHOT.jar:8.0.0.Alpha2-SNAPSHOT]




    at org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:289)




    at org.jboss.as.jpa.interceptor.SBInvocationInterceptor.processInvocation(SBInvocationInterceptor.java:47)




    at org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:289)




    at org.jboss.as.jpa.interceptor.SFSBInvocationInterceptor.processInvocation(SFSBInvocationInterceptor.java:58)




    at org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:289)




    at org.jboss.as.ejb3.component.stateful.StatefulSessionSynchronizationInterceptor.processInvocation(StatefulSessionSynchronizationInterceptor.java:156) [wildfly-ejb3-8.0.0.Alpha2-SNAPSHOT.jar:8.0.0.Alpha2-SNAPSHOT]




    at org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:289)




    at org.jboss.invocation.InitialInterceptor.processInvocation(InitialInterceptor.java:21)




    at org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:289)




    at org.jboss.invocation.ChainedInterceptor.processInvocation(ChainedInterceptor.java:61)




    at org.jboss.as.ee.component.interceptors.ComponentDispatcherInterceptor.processInvocation(ComponentDispatcherInterceptor.java:53)




    at org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:289)




    at org.jboss.as.ejb3.component.stateful.StatefulComponentInstanceInterceptor.processInvocation(StatefulComponentInstanceInterceptor.java:66) [wildfly-ejb3-8.0.0.Alpha2-SNAPSHOT.jar:8.0.0.Alpha2-SNAPSHOT]




    at org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:289)




    at org.jboss.as.ejb3.tx.CMTTxInterceptor.invokeInOurTx(CMTTxInterceptor.java:273) [wildfly-ejb3-8.0.0.Alpha2-SNAPSHOT.jar:8.0.0.Alpha2-SNAPSHOT]




    at org.jboss.as.ejb3.tx.CMTTxInterceptor.required(CMTTxInterceptor.java:340) [wildfly-ejb3-8.0.0.Alpha2-SNAPSHOT.jar:8.0.0.Alpha2-SNAPSHOT]




    at org.jboss.as.ejb3.tx.CMTTxInterceptor.processInvocation(CMTTxInterceptor.java:239) [wildfly-ejb3-8.0.0.Alpha2-SNAPSHOT.jar:8.0.0.Alpha2-SNAPSHOT]




    at org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:289)




    at org.jboss.as.ejb3.remote.EJBRemoteTransactionPropagatingInterceptor.processInvocation(EJBRemoteTransactionPropagatingInterceptor.java:79) [wildfly-ejb3-8.0.0.Alpha2-SNAPSHOT.jar:8.0.0.Alpha2-SNAPSHOT]




    at org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:289)




    at org.jboss.as.ejb3.component.interceptors.CurrentInvocationContextInterceptor.processInvocation(CurrentInvocationContextInterceptor.java:41) [wildfly-ejb3-8.0.0.Alpha2-SNAPSHOT.jar:8.0.0.Alpha2-SNAPSHOT]




    at org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:289)




    at org.jboss.as.ejb3.component.invocationmetrics.WaitTimeInterceptor.processInvocation(WaitTimeInterceptor.java:43) [wildfly-ejb3-8.0.0.Alpha2-SNAPSHOT.jar:8.0.0.Alpha2-SNAPSHOT]




    at org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:289)




    at org.jboss.as.ejb3.security.SecurityContextInterceptor.processInvocation(SecurityContextInterceptor.java:90) [wildfly-ejb3-8.0.0.Alpha2-SNAPSHOT.jar:8.0.0.Alpha2-SNAPSHOT]




    at org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:289)




    at org.jboss.as.ejb3.component.interceptors.ShutDownInterceptorFactory$1.processInvocation(ShutDownInterceptorFactory.java:64) [wildfly-ejb3-8.0.0.Alpha2-SNAPSHOT.jar:8.0.0.Alpha2-SNAPSHOT]




    at org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:289)




    at org.jboss.as.ejb3.component.interceptors.LoggingInterceptor.processInvocation(LoggingInterceptor.java:59) [wildfly-ejb3-8.0.0.Alpha2-SNAPSHOT.jar:8.0.0.Alpha2-SNAPSHOT]




    at org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:289)




    at org.jboss.as.ee.component.NamespaceContextInterceptor.processInvocation(NamespaceContextInterceptor.java:50)




    at org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:289)




    at org.jboss.as.ejb3.component.interceptors.AdditionalSetupInterceptor.processInvocation(AdditionalSetupInterceptor.java:55) [wildfly-ejb3-8.0.0.Alpha2-SNAPSHOT.jar:8.0.0.Alpha2-SNAPSHOT]




    at org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:289)




    at org.jboss.invocation.ContextClassLoaderInterceptor.processInvocation(ContextClassLoaderInterceptor.java:55)




    at org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:289)




    at org.jboss.invocation.InterceptorContext.run(InterceptorContext.java:305)




    at org.wildfly.security.manager.WildFlySecurityManager.doChecked(WildFlySecurityManager.java:428)




    at org.wildfly.security.manager.AccessCheckingInterceptor.processInvocation(AccessCheckingInterceptor.java:63)




    at org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:289)




    at org.jboss.invocation.InterceptorContext.run(InterceptorContext.java:305)




    at java.security.AccessController.doPrivileged(Native Method) [rt.jar:1.7.0_13]




    at org.jboss.invocation.PrivilegedInterceptor.processInvocation(PrivilegedInterceptor.java:65)




    at org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:289)




    at org.jboss.invocation.ChainedInterceptor.processInvocation(ChainedInterceptor.java:61)




    at org.jboss.as.ee.component.ViewService$View.invoke(ViewService.java:165)




    at org.jboss.as.ejb3.remote.protocol.versionone.MethodInvocationMessageHandler.invokeMethod(MethodInvocationMessageHandler.java:329) [wildfly-ejb3-8.0.0.Alpha2-SNAPSHOT.jar:8.0.0.Alpha2-SNAPSHOT]




    at org.jboss.as.ejb3.remote.protocol.versionone.MethodInvocationMessageHandler.access$100(MethodInvocationMessageHandler.java:70) [wildfly-ejb3-8.0.0.Alpha2-SNAPSHOT.jar:8.0.0.Alpha2-SNAPSHOT]




    at org.jboss.as.ejb3.remote.protocol.versionone.MethodInvocationMessageHandler$1.run(MethodInvocationMessageHandler.java:203) [wildfly-ejb3-8.0.0.Alpha2-SNAPSHOT.jar:8.0.0.Alpha2-SNAPSHOT]




    at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:471) [rt.jar:1.7.0_13]




    at java.util.concurrent.FutureTask$Sync.innerRun(FutureTask.java:334) [rt.jar:1.7.0_13]




    at java.util.concurrent.FutureTask.run(FutureTask.java:166) [rt.jar:1.7.0_13]




    at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1145) [rt.jar:1.7.0_13]




    at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:615) [rt.jar:1.7.0_13]




    at java.lang.Thread.run(Thread.java:722) [rt.jar:1.7.0_13]




    at org.jboss.threads.JBossThread.run(JBossThread.java:122)









17:49:02,921 ERROR [org.jboss.as.ejb3.invocation] (EJB default - 3) JBAS014134: EJB Invocation failed on component NonClusteredStatefulNodeNameEcho for method public abstract java.lang.String org.jboss.as.test.manualmode.ejb.client.cluster.NodeNameEcho.getNodeName(boolean): javax.ejb.EJBException: java.lang.IllegalStateException: EJBCLIENT000028: No EJB receiver contexts available in cluster ejb




    at org.jboss.as.ejb3.tx.CMTTxInterceptor.handleExceptionInOurTx(CMTTxInterceptor.java:190) [wildfly-ejb3-8.0.0.Alpha2-SNAPSHOT.jar:8.0.0.Alpha2-SNAPSHOT]




    at org.jboss.as.ejb3.tx.CMTTxInterceptor.invokeInOurTx(CMTTxInterceptor.java:275) [wildfly-ejb3-8.0.0.Alpha2-SNAPSHOT.jar:8.0.0.Alpha2-SNAPSHOT]




    at org.jboss.as.ejb3.tx.CMTTxInterceptor.required(CMTTxInterceptor.java:340) [wildfly-ejb3-8.0.0.Alpha2-SNAPSHOT.jar:8.0.0.Alpha2-SNAPSHOT]




    at org.jboss.as.ejb3.tx.CMTTxInterceptor.processInvocation(CMTTxInterceptor.java:239) [wildfly-ejb3-8.0.0.Alpha2-SNAPSHOT.jar:8.0.0.Alpha2-SNAPSHOT]




    at org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:289)




    at org.jboss.as.ejb3.remote.EJBRemoteTransactionPropagatingInterceptor.processInvocation(EJBRemoteTransactionPropagatingInterceptor.java:79) [wildfly-ejb3-8.0.0.Alpha2-SNAPSHOT.jar:8.0.0.Alpha2-SNAPSHOT]




    at org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:289)




    at org.jboss.as.ejb3.component.interceptors.CurrentInvocationContextInterceptor.processInvocation(CurrentInvocationContextInterceptor.java:41) [wildfly-ejb3-8.0.0.Alpha2-SNAPSHOT.jar:8.0.0.Alpha2-SNAPSHOT]




    at org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:289)




    at org.jboss.as.ejb3.component.invocationmetrics.WaitTimeInterceptor.processInvocation(WaitTimeInterceptor.java:43) [wildfly-ejb3-8.0.0.Alpha2-SNAPSHOT.jar:8.0.0.Alpha2-SNAPSHOT]




    at org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:289)




    at org.jboss.as.ejb3.security.SecurityContextInterceptor.processInvocation(SecurityContextInterceptor.java:90) [wildfly-ejb3-8.0.0.Alpha2-SNAPSHOT.jar:8.0.0.Alpha2-SNAPSHOT]




    at org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:289)




    at org.jboss.as.ejb3.component.interceptors.ShutDownInterceptorFactory$1.processInvocation(ShutDownInterceptorFactory.java:64) [wildfly-ejb3-8.0.0.Alpha2-SNAPSHOT.jar:8.0.0.Alpha2-SNAPSHOT]




    at org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:289)




    at org.jboss.as.ejb3.component.interceptors.LoggingInterceptor.processInvocation(LoggingInterceptor.java:59) [wildfly-ejb3-8.0.0.Alpha2-SNAPSHOT.jar:8.0.0.Alpha2-SNAPSHOT]




    at org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:289)




    at org.jboss.as.ee.component.NamespaceContextInterceptor.processInvocation(NamespaceContextInterceptor.java:50)




    at org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:289)




    at org.jboss.as.ejb3.component.interceptors.AdditionalSetupInterceptor.processInvocation(AdditionalSetupInterceptor.java:55) [wildfly-ejb3-8.0.0.Alpha2-SNAPSHOT.jar:8.0.0.Alpha2-SNAPSHOT]




    at org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:289)




    at org.jboss.invocation.ContextClassLoaderInterceptor.processInvocation(ContextClassLoaderInterceptor.java:55)




    at org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:289)




    at org.jboss.invocation.InterceptorContext.run(InterceptorContext.java:305)




    at org.wildfly.security.manager.WildFlySecurityManager.doChecked(WildFlySecurityManager.java:428)




    at org.wildfly.security.manager.AccessCheckingInterceptor.processInvocation(AccessCheckingInterceptor.java:63)




    at org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:289)




    at org.jboss.invocation.InterceptorContext.run(InterceptorContext.java:305)




    at java.security.AccessController.doPrivileged(Native Method) [rt.jar:1.7.0_13]




    at org.jboss.invocation.PrivilegedInterceptor.processInvocation(PrivilegedInterceptor.java:65)




    at org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:289)




    at org.jboss.invocation.ChainedInterceptor.processInvocation(ChainedInterceptor.java:61)




    at org.jboss.as.ee.component.ViewService$View.invoke(ViewService.java:165)




    at org.jboss.as.ejb3.remote.protocol.versionone.MethodInvocationMessageHandler.invokeMethod(MethodInvocationMessageHandler.java:329) [wildfly-ejb3-8.0.0.Alpha2-SNAPSHOT.jar:8.0.0.Alpha2-SNAPSHOT]




    at org.jboss.as.ejb3.remote.protocol.versionone.MethodInvocationMessageHandler.access$100(MethodInvocationMessageHandler.java:70) [wildfly-ejb3-8.0.0.Alpha2-SNAPSHOT.jar:8.0.0.Alpha2-SNAPSHOT]




    at org.jboss.as.ejb3.remote.protocol.versionone.MethodInvocationMessageHandler$1.run(MethodInvocationMessageHandler.java:203) [wildfly-ejb3-8.0.0.Alpha2-SNAPSHOT.jar:8.0.0.Alpha2-SNAPSHOT]




    at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:471) [rt.jar:1.7.0_13]




    at java.util.concurrent.FutureTask$Sync.innerRun(FutureTask.java:334) [rt.jar:1.7.0_13]




    at java.util.concurrent.FutureTask.run(FutureTask.java:166) [rt.jar:1.7.0_13]




    at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1145) [rt.jar:1.7.0_13]




    at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:615) [rt.jar:1.7.0_13]




    at java.lang.Thread.run(Thread.java:722) [rt.jar:1.7.0_13]




    at org.jboss.threads.JBossThread.run(JBossThread.java:122)




Caused by: java.lang.IllegalStateException: EJBCLIENT000028: No EJB receiver contexts available in cluster ejb




    at org.jboss.ejb.client.EJBClientContext.requireClusterEJBReceiverContext(EJBClientContext.java:983) [jboss-ejb-client-1.0.21.Final.jar:1.0.21.Final]




    at org.jboss.ejb.client.ReceiverInterceptor.handleInvocation(ReceiverInterceptor.java:84) [jboss-ejb-client-1.0.21.Final.jar:1.0.21.Final]




    at org.jboss.ejb.client.EJBClientInvocationContext.sendRequest(EJBClientInvocationContext.java:183) [jboss-ejb-client-1.0.21.Final.jar:1.0.21.Final]




    at org.jboss.ejb.client.EJBInvocationHandler.sendRequestWithPossibleRetries(EJBInvocationHandler.java:253) [jboss-ejb-client-1.0.21.Final.jar:1.0.21.Final]




    at org.jboss.ejb.client.EJBInvocationHandler.doInvoke(EJBInvocationHandler.java:198) [jboss-ejb-client-1.0.21.Final.jar:1.0.21.Final]




    at org.jboss.ejb.client.EJBInvocationHandler.doInvoke(EJBInvocationHandler.java:181) [jboss-ejb-client-1.0.21.Final.jar:1.0.21.Final]




    at org.jboss.ejb.client.EJBInvocationHandler.invoke(EJBInvocationHandler.java:144) [jboss-ejb-client-1.0.21.Final.jar:1.0.21.Final]




    at sun.proxy.$Proxy30.getNodeName(Unknown Source)




    at org.jboss.as.test.manualmode.ejb.client.cluster.NonClusteredStatefulNodeNameEcho.getNodeName(NonClusteredStatefulNodeNameEcho.java:47) [server-to-server-clustered-ejb-invocation.jar:]




    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) [rt.jar:1.7.0_13]




    at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:57) [rt.jar:1.7.0_13]




    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) [rt.jar:1.7.0_13]




    at java.lang.reflect.Method.invoke(Method.java:601) [rt.jar:1.7.0_13]




    at org.jboss.as.ee.component.ManagedReferenceMethodInterceptorFactory$ManagedReferenceMethodInterceptor.processInvocation(ManagedReferenceMethodInterceptorFactory.java:72)




    at org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:289)




    at org.jboss.invocation.WeavedInterceptor.processInvocation(WeavedInterceptor.java:53)




    at org.jboss.as.ee.component.interceptors.UserInterceptorFactory$1.processInvocation(UserInterceptorFactory.java:63)




    at org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:289)




    at org.jboss.invocation.WeavedInterceptor.processInvocation(WeavedInterceptor.java:53)




    at org.jboss.as.ee.component.interceptors.UserInterceptorFactory$1.processInvocation(UserInterceptorFactory.java:63)




    at org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:289)




    at org.jboss.as.ejb3.component.invocationmetrics.ExecutionTimeInterceptor.processInvocation(ExecutionTimeInterceptor.java:43) [wildfly-ejb3-8.0.0.Alpha2-SNAPSHOT.jar:8.0.0.Alpha2-SNAPSHOT]




    at org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:289)




    at org.jboss.as.jpa.interceptor.SBInvocationInterceptor.processInvocation(SBInvocationInterceptor.java:47)




    at org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:289)




    at org.jboss.as.jpa.interceptor.SFSBInvocationInterceptor.processInvocation(SFSBInvocationInterceptor.java:58)




    at org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:289)




    at org.jboss.as.ejb3.component.stateful.StatefulSessionSynchronizationInterceptor.processInvocation(StatefulSessionSynchronizationInterceptor.java:156) [wildfly-ejb3-8.0.0.Alpha2-SNAPSHOT.jar:8.0.0.Alpha2-SNAPSHOT]




    at org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:289)




    at org.jboss.invocation.InitialInterceptor.processInvocation(InitialInterceptor.java:21)




    at org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:289)




    at org.jboss.invocation.ChainedInterceptor.processInvocation(ChainedInterceptor.java:61)




    at org.jboss.as.ee.component.interceptors.ComponentDispatcherInterceptor.processInvocation(ComponentDispatcherInterceptor.java:53)




    at org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:289)




    at org.jboss.as.ejb3.component.stateful.StatefulComponentInstanceInterceptor.processInvocation(StatefulComponentInstanceInterceptor.java:66) [wildfly-ejb3-8.0.0.Alpha2-SNAPSHOT.jar:8.0.0.Alpha2-SNAPSHOT]




    at org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:289)




    at org.jboss.as.ejb3.tx.CMTTxInterceptor.invokeInOurTx(CMTTxInterceptor.java:273) [wildfly-ejb3-8.0.0.Alpha2-SNAPSHOT.jar:8.0.0.Alpha2-SNAPSHOT]




    ... 41 more









17:49:02,974 INFO  [org.infinispan.eviction.PassivationManagerImpl] (ServerService Thread Pool -- 54) ISPN000029: Passivating all entries to disk




17:49:02,977 INFO  [org.infinispan.eviction.PassivationManagerImpl] (ServerService Thread Pool -- 54) ISPN000030: Passivated 1 entries in 2 milliseconds




17:49:02,979 INFO  [org.jboss.as.clustering.infinispan] (ServerService Thread Pool -- 54) JBAS010282: Stopped org.jboss.as.test.manualmode.ejb.client.cluster.ClusteredStatefulNodeNameEcho cache from ejb container




17:49:02,992 INFO  [org.jboss.as.clustering.infinispan] (MSC service thread 1-2) JBAS010282: Stopped remote-connector-client-mappings cache from ejb container




17:49:02,996 INFO  [org.jboss.as.server.deployment] (MSC service thread 1-2) JBAS015877: Stopped deployment server-to-server-clustered-ejb-invocation.jar (runtime-name: server-to-server-clustered-ejb-invocation.jar) in 26ms




17:49:02,999 INFO  [org.infinispan.eviction.PassivationManagerImpl] (MSC service thread 1-1) ISPN000029: Passivating all entries to disk




17:49:02,999 INFO  [org.infinispan.eviction.PassivationManagerImpl] (MSC service thread 1-1) ISPN000030: Passivated 0 entries in 0 milliseconds




17:49:03,056 INFO  [org.jboss.as.clustering.infinispan] (MSC service thread 1-1) JBAS010282: Stopped repl cache from ejb container




17:49:03,058 INFO  [org.infinispan.remoting.transport.jgroups.JGroupsTransport] (MSC service thread 1-1) ISPN000080: Disconnecting and closing JGroups Channel




17:49:03,072 INFO  [org.infinispan.remoting.transport.jgroups.JGroupsTransport] (MSC service thread 1-1) ISPN000082: Stopping the RpcDispatcher




17:49:03,093 INFO  [org.jboss.as.repository] (management-handler-thread - 2) JBAS014901: Content removed from location C:\BuildAgent\work\1943cb9aa6e69362\testsuite\integration\manualmode\target\jbossas-with-remote-outbound-connection\standalone\data\content\e0\8b25b6eed5c6f2df04ba76fd92ab3c469cfc0d\content




17:49:03,094 INFO  [org.jboss.as.server] (management-handler-thread - 2) JBAS018558: Undeployed "server-to-server-clustered-ejb-invocation.jar" (runtime-name: "server-to-server-clustered-ejb-invocation.jar")




17:49:03,096 INFO  [org.jboss.arquillian.container.test.impl.client.container.ClientContainerController] (main) Manual stopping of a server instance




17:49:03,147 INFO  [org.wildfly.extension.undertow] (MSC service thread 1-1) JBAS017521: Undertow AJP listener ajp-connector suspending




17:49:03,148 INFO  [org.wildfly.extension.undertow] (MSC service thread 1-1) JBAS017520: Undertow AJP listener ajp-connector stopped, was bound to /127.0.0.1:8109




17:49:03,153 INFO  [org.wildfly.extension.undertow] (MSC service thread 1-1) JBAS017521: Undertow HTTP listener default suspending




17:49:03,153 INFO  [org.wildfly.extension.undertow] (MSC service thread 1-1) JBAS017520: Undertow HTTP listener default stopped, was bound to /127.0.0.1:8180




17:49:03,155 INFO  [org.jboss.as.connector.subsystems.datasources] (MSC service thread 1-1) JBAS010409: Unbound data source [java:jboss/datasources/ExampleDS]




17:49:03,160 INFO  [org.wildfly.extension.undertow] (MSC service thread 1-1) Stopping host default-host




17:49:03,173 INFO  [org.jboss.as.connector.deployers.jdbc] (MSC service thread 1-1) JBAS010418: Stopped Driver service with driver-name = h2




17:49:03,174 INFO  [org.wildfly.extension.undertow] (MSC service thread 1-1) JBAS017506: Undertow 1.0.0.Alpha20 stopping




17:49:03,205 INFO  [org.jboss.ejb.client.remoting] (Remoting "config-based-ejb-client-endpoint" task-11) EJBCLIENT000016: Channel Channel ID ce12ca12 (outbound) of Remoting connection 0000cc80 to null can no longer process messages




17:49:03,217 INFO  [org.jboss.as] (MSC service thread 1-2) JBAS015950: WildFly 8.0.0.Alpha2-SNAPSHOT "WildFly" stopped in 84ms





</description>
			<version>9.0.0.Alpha1</version>
			<fixedVersion></fixedVersion>
			<type>Bug</type>
		</buginformation>
		<fixedFiles>
			<file type="M">org.jboss.as.test.manualmode.ejb.client.cluster.EJBClientClusterConfigurationTestCase.java</file>
		</fixedFiles>
		<links>
			<link type="Duplicate" description="duplicates">4421</link>
		</links>
	</bug>
	<bug id="4340" opendate="2015-02-11 17:59:08" fixdate="2015-08-06 11:49:00" resolution="Done">
		<buginformation>
			<summary>use-try-lock exposed for &lt;connection-definition&gt;</summary>
			<description>&amp;lt;connection-definition&amp;gt; DMR:






use-try-lock                    undefined                                               LONG






which should be removed</description>
			<version>8.2.0.Final</version>
			<fixedVersion>10.0.0.Beta1</fixedVersion>
			<type>Bug</type>
		</buginformation>
		<fixedFiles>
			<file type="M">org.jboss.as.connector.subsystems.resourceadapters.CommonAttributes.java</file>
		</fixedFiles>
	</bug>
	<bug id="4931" opendate="2015-07-15 15:17:23" fixdate="2015-08-06 12:42:50" resolution="Done">
		<buginformation>
			<summary>allow loading of Hibernate PersistenceProvider classes that are not listed in META-INF/services/javax.persistence.spi.PersistenceProvider</summary>
			<description>Deprecated PersistenceProviders were removed from services - META-INF/services/javax.persistence.spi.PersistenceProvider
https://hibernate.atlassian.net/browse/HHH-9141
https://github.com/hibernate/hibernate-orm/commit/6a6a7c322861d230e124d79d746266aee937c1a6
With respect to backward compatibility we need load deprecated providers too.
https://github.com/wildfly/wildfly/blob/master/jpa/subsystem/src/main/java/org/jboss/as/jpa/persistenceprovider/PersistenceProviderLoader.java</description>
			<version>10.0.0.Alpha5</version>
			<fixedVersion></fixedVersion>
			<type>Bug</type>
		</buginformation>
		<fixedFiles>
			<file type="M">org.jboss.as.jpa.processor.PersistenceUnitServiceHandler.java</file>
		</fixedFiles>
		<links>
			<link type="Cloners" description="cloned from">437</link>
		</links>
	</bug>
	<bug id="2160" opendate="2013-09-25 22:43:45" fixdate="2015-08-06 13:08:50" resolution="Done">
		<buginformation>
			<summary>Allow Expression for datasource subsystem enabled property</summary>
			<description>Currently the datasource sub system does not allow expressions. I would like to be able to do this: &amp;lt;datasource jta="true" jndi-name="java:/ds1DS" pool-name="ds1DS" enabled="$
{ds1.enabled}
" use-java-context="true" use-ccm="true"&amp;gt; and set the ds1.enabled property via a properties file.</description>
			<version>8.0.0.Alpha4</version>
			<fixedVersion>10.0.0.Beta1</fixedVersion>
			<type>Bug</type>
		</buginformation>
		<fixedFiles>
			<file type="M">org.jboss.as.connector.subsystems.datasources.Constants.java</file>
			<file type="M">org.jboss.as.connector.subsystems.datasources.AbstractDataSourceAdd.java</file>
		</fixedFiles>
		<links>
			<link type="Causality" description="causes">4408</link>
			<link type="Related" description="relates to">2833</link>
		</links>
	</bug>
	<bug id="2308" opendate="2013-10-04 12:57:31" fixdate="2015-08-06 13:11:20" resolution="Duplicate Issue">
		<buginformation>
			<summary>Leak of WorkManager and BootstrapContext</summary>
			<description>There seems to be a leak of WorkManager and BootstrapContext clones. 
NOTE: The clones are not standalone, for instance WorkManagerImpl.shutdown reference is shared among all clones, if one is shutdown, all of them are.
The coordinators have an internal map of name/id -&amp;gt; [ BootstrapContext | WorkManager ]. They keep clones of default instance in it. In IJ code, deployers invoke coordinator.remove() method to keep it clean. However this does not happen in WFLY/AS7 ( only create is called ). 
Here is a step by step scenario( more or less ):
1. WFLY boots
2. WorkManagerService is created( along with WorkManager instance, the default used in WMCoordinator )
3. RA is deployed/activated
4. IJ checks if there is BootstrapContext/WorkManager under "X", there is none, IJ creates clone of WM from #2 and BootstrapContext,  its stored under "X" in coordinators
5. Normal operations, msgs exchange, etc.
6. WFLY reload is called
7. WM from #2 shutdown() is called, this renders the clone stored under "X" as shutdown as well.
8. WFLY boots again
9. new WorkManagerService is created( along with WorkManager instance, the default used in WMCoordinator )
10. RA is deployed/activate
11. IJ checks if there is BootstrapContext/WorkManager under "X", there is, this instance is returned. 
#11 old instance, which is shutdown since #7, is passed as WorkManager. This explodes:






ERROR [org.jboss.msc.service.fail] (ServerService Thread Pool -- 29) MSC000001: Failed to start service jboss.deployment.unit."mdb.jar".component.MDBLifecycleCallback.START: org.jboss.msc.service.StartException in service jboss.deployment.unit."mdb.jar".component.MDBLifecycleCallback.START: java.lang.RuntimeException: javax.resource.spi.work.WorkRejectedException: IJ000263: WorkManager is shutting down




	at org.jboss.as.ee.component.ComponentStartService$1.run(ComponentStartService.java:57)




	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:471) [rt.jar:1.7.0_25]




	at java.util.concurrent.FutureTask$Sync.innerRun(FutureTask.java:334) [rt.jar:1.7.0_25]




	at java.util.concurrent.FutureTask.run(FutureTask.java:166) [rt.jar:1.7.0_25]




	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1145) [rt.jar:1.7.0_25]




	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:615) [rt.jar:1.7.0_25]




	at java.lang.Thread.run(Thread.java:724) [rt.jar:1.7.0_25]




	at org.jboss.threads.JBossThread.run(JBossThread.java:122) [jboss-threads-2.1.1.Final.jar:2.1.1.Final]




Caused by: java.lang.RuntimeException: javax.resource.spi.work.WorkRejectedException: IJ000263: WorkManager is shutting down




	at org.jboss.as.ejb3.component.messagedriven.MessageDrivenComponent.activate(MessageDrivenComponent.java:218)




	at org.jboss.as.ejb3.component.messagedriven.MessageDrivenComponent.start(MessageDrivenComponent.java:189)




	at org.jboss.as.ee.component.ComponentStartService$1.run(ComponentStartService.java:54)




	... 7 more




Caused by: javax.resource.spi.work.WorkRejectedException: IJ000263: WorkManager is shutting down




	at org.jboss.jca.core.workmanager.WorkManagerImpl.doFirstChecks(WorkManagerImpl.java:776)




	at org.jboss.jca.core.workmanager.WorkManagerImpl.scheduleWork(WorkManagerImpl.java:617)




	at org.jboss.jca.core.workmanager.WorkManagerImpl.scheduleWork(WorkManagerImpl.java:602)




	at org.hornetq.ra.inflow.HornetQActivation.start(HornetQActivation.java:259)




	at org.hornetq.ra.HornetQResourceAdapter.endpointActivation(HornetQResourceAdapter.java:167)




	at org.jboss.jca.core.rar.EndpointImpl.activate(EndpointImpl.java:191)




	at org.jboss.as.ejb3.component.messagedriven.MessageDrivenComponent.activate(MessageDrivenComponent.java:216)




	... 9 more






Steps to reproduce:
1. Setup an adapter deployment
2. reload
3. deploy MDB
The reload OP has small bug, this branch (https://github.com/baranowb/wildfly/tree/WFLY-2217) has it fixed.
Example test set: 






mvn clean install -DallTest -Dtest=CustomBootstrapContextTestCase,GetCallerPrincipalTestCase





</description>
			<version>8.0.0.Beta1</version>
			<fixedVersion></fixedVersion>
			<type>Bug</type>
		</buginformation>
		<fixedFiles>
			<file type="M">org.jboss.as.connector.services.resourceadapters.deployment.AbstractResourceAdapterDeploymentService.java</file>
			<file type="M">org.wildfly.extension.messaging.activemq.jms.PooledConnectionFactoryService.java</file>
		</fixedFiles>
		<links>
			<link type="Dependency" description="blocks">2217</link>
			<link type="Duplicate" description="is duplicated by">3355</link>
			<link type="Duplicate" description="is duplicated by">545</link>
			<link type="Related" description="is related to">2215</link>
		</links>
	</bug>
	<bug id="5035" opendate="2015-07-30 10:06:59" fixdate="2015-08-09 04:24:45" resolution="Done">
		<buginformation>
			<summary>ClusteredMessagingTestCase.testClusteredQueue fails intermittently</summary>
			<description>Originally opened as https://issues.jboss.org/browse/WFLY-4936 but these failures are also to be seen on Linux thus we can rule out ttl problems.
The problem indeed is in using udp stack in CI, we can get reliable results using the tcp stack.</description>
			<version>10.0.0.Alpha6</version>
			<fixedVersion>10.0.0.Beta1</fixedVersion>
			<type>Bug</type>
		</buginformation>
		<fixedFiles>
			<file type="M">org.jboss.as.test.clustering.messaging.ClusteredMessagingTestCase.java</file>
			<file type="M">org.jboss.as.test.clustering.ClusteringTestConstants.java</file>
		</fixedFiles>
		<links>
			<link type="Sequence" description="follows up on">4936</link>
		</links>
	</bug>
	<bug id="5005" opendate="2015-07-24 10:18:03" fixdate="2015-08-09 04:27:08" resolution="Done">
		<buginformation>
			<summary>jacorb migration does not work in standalone mode</summary>
			<description>I was checking the messaging migration (for WFLY-5004) and I was wondering whether the jacorb migration was also working in domain mode.
It fails with an error but it also happens in standalone mode.
Steps to reproduce:
1. edit the wildfly standalone-full.xml and replace the iiop-openjdk configuration from the template in legacy/jacorb resources (with the socket-bindings too):






   &amp;lt;subsystem xmlns="urn:jboss:domain:jacorb:2.0"&amp;gt;




       &amp;lt;orb persistent-server-id="1" socket-binding="jacorb" ssl-socket-binding="jacorb-ssl"&amp;gt;




           &amp;lt;initializers transactions="spec" security="identity"/&amp;gt;




       &amp;lt;/orb&amp;gt;




       &amp;lt;naming root-context="JBoss/Naming/root" export-corbaloc="on"/&amp;gt;




   &amp;lt;/subsystem&amp;gt;






2. start the server in admin-only
3.  perform the migration 






/subsystem=jacorb:migrate




{




    "outcome" =&amp;gt; "success",




    "result" =&amp;gt; [("iiop-openjdk" =&amp;gt; "1.0.0")]




}






4. reload the server in normal mode. 
=&amp;gt; it fails with the error:






12:09:24,138 INFO  [org.wildfly.iiop.openjdk] (ServerService Thread Pool -- 63) WFLYIIOP0001: Activating IIOP Subsystem




12:09:24,138 INFO  [org.wildfly.extension.undertow] (MSC service thread 1-8) WFLYUT0003: Undertow 1.3.0.Beta4 starting




12:09:24,144 ERROR [org.jboss.msc.service.fail] (MSC service thread 1-4) MSC000001: Failed to start service jboss.iiop-openjdk.orb-service: org.jboss.msc.service.StartException in service jboss.iiop-openjdk.orb-service: java.lang.NumberFormatException: For input string: "undefined"




        at org.wildfly.iiop.openjdk.service.CorbaORBService.start(CorbaORBService.java:142)




        at org.jboss.msc.service.ServiceControllerImpl$StartTask.startService(ServiceControllerImpl.java:1948)




        at org.jboss.msc.service.ServiceControllerImpl$StartTask.run(ServiceControllerImpl.java:1881)




        at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)




        at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)




        at java.lang.Thread.run(Thread.java:745)




Caused by: java.lang.NumberFormatException: For input string: "undefined"




        at java.lang.NumberFormatException.forInputString(NumberFormatException.java:65)




        at java.lang.Integer.parseInt(Integer.java:580)




        at java.lang.Integer.&amp;lt;init&amp;gt;(Integer.java:867)




        at com.sun.corba.se.spi.orb.OperationFactory$IntegerAction.operate(OperationFactory.java:224)




        at com.sun.corba.se.spi.orb.OperationFactory$ListAction.operate(OperationFactory.java:397)




        at com.sun.corba.se.spi.orb.OperationFactory$ComposeAction.operate(OperationFactory.java:475)




        at com.sun.corba.se.impl.orb.NormalParserAction.apply(NormalParserAction.java:47)




        at com.sun.corba.se.spi.orb.PropertyParser.parse(PropertyParser.java:70)




        at com.sun.corba.se.spi.orb.ParserImplBase.init(ParserImplBase.java:74)




        at com.sun.corba.se.impl.orb.ORBDataParserImpl.&amp;lt;init&amp;gt;(ORBDataParserImpl.java:408)




        at com.sun.corba.se.impl.orb.ORBImpl.postInit(ORBImpl.java:456)




        at com.sun.corba.se.impl.orb.ORBImpl.set_parameters(ORBImpl.java:543)




        at org.omg.CORBA.ORB.init(ORB.java:353)




        at org.wildfly.iiop.openjdk.service.CorbaORBService.start(CorbaORBService.java:126)




        ... 5 more






The giop-version in  XML configuration after migration looks indeed wrong:






        &amp;lt;subsystem xmlns="urn:jboss:domain:iiop-openjdk:1.0"&amp;gt;




            &amp;lt;orb ssl-socket-binding="jacorb-ssl" socket-binding="jacorb" giop-version="1.undefined"/&amp;gt;




            &amp;lt;initializers transactions="spec" security="identity"/&amp;gt;




            &amp;lt;security add-component-via-interceptor="false"/&amp;gt;




        &amp;lt;/subsystem&amp;gt;





</description>
			<version>10.0.0.Alpha5</version>
			<fixedVersion>10.0.0.Beta2</fixedVersion>
			<type>Bug</type>
		</buginformation>
		<fixedFiles>
			<file type="M">org.jboss.as.jacorb.TransformUtils.java</file>
		</fixedFiles>
		<links>
			<link type="Duplicate" description="is duplicated by">5060</link>
		</links>
	</bug>
	<bug id="4999" opendate="2015-07-23 16:39:03" fixdate="2015-08-09 04:27:59" resolution="Done">
		<buginformation>
			<summary>XSiteBackupForTestCase tests fail on Windows with IPv6</summary>
			<description>See http://brontes.lab.eng.brq.redhat.com/project.html?projectId=WF_PullRequest&amp;amp;testNameId=1140899232324454378&amp;amp;tab=testDetails</description>
			<version>10.0.0.Alpha6</version>
			<fixedVersion>10.0.0.Beta1</fixedVersion>
			<type>Bug</type>
		</buginformation>
		<fixedFiles>
			<file type="M">org.jboss.as.test.clustering.xsite.XSiteBackupForTestCase.java</file>
		</fixedFiles>
	</bug>
	<bug id="5021" opendate="2015-07-28 11:36:22" fixdate="2015-08-10 11:05:39" resolution="Duplicate Issue">
		<buginformation>
			<summary>XSiteSimpleTestCase fails with -Dnode{0,1}</summary>
			<description>Running org.jboss.as.test.clustering.xsite.XSiteSimpleTestCase fails once -Dnode{0,1} are used
Jenkins job results:
https://url.corp.redhat.com/0a0bdfe






./integration-tests.sh -Dtest=XSiteSimpleTestCase  -Dts.noSmoke -Dts.clustering




Running org.jboss.as.test.clustering.xsite.XSiteSimpleTestCase




Tests run: 2, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 45.535 sec - in org.jboss.as.test.clustering.xsite.XSiteSimpleTestCase












./integration-tests.sh -Dtest=XSiteSimpleTestCase  -Dts.noSmoke -Dts.clustering -Dnode0=$MYTESTIP_1 -Dnode1=MYTESTIP_2




Running org.jboss.as.test.clustering.xsite.XSiteSimpleTestCase




Tests run: 2, Failures: 0, Errors: 2, Skipped: 0, Time elapsed: 132.392 sec &amp;lt;&amp;lt;&amp;lt; FAILURE! - in org.jboss.as.test.clustering.xsite.XSiteSimpleTestCase





</description>
			<version>10.0.0.Alpha6</version>
			<fixedVersion></fixedVersion>
			<type>Bug</type>
		</buginformation>
		<fixedFiles>
			<file type="M">org.jboss.as.test.http.util.TestHttpClientUtils.java</file>
			<file type="M">org.jboss.as.test.clustering.cluster.web.ReplicationForNegotiationAuthenticatorTestCase.java</file>
			<file type="M">org.jboss.as.test.clustering.cluster.web.context.InvalidateConversationTestCase.java</file>
			<file type="M">org.jboss.as.test.clustering.cluster.sso.ClusteredSingleSignOnTestCase.java</file>
			<file type="M">org.jboss.as.test.clustering.xsite.XSiteBackupForTestCase.java</file>
			<file type="M">org.jboss.as.test.clustering.cluster.web.authentication.FormAuthenticationWebFailoverTestCase.java</file>
			<file type="M">org.jboss.as.test.clustering.cluster.web.ClusteredWebSimpleTestCase.java</file>
			<file type="M">org.jboss.as.test.clustering.xsite.XSiteSimpleTestCase.java</file>
			<file type="M">org.jboss.as.test.clustering.cluster.ejb.xpc.StatefulWithXPCFailoverTestCase.java</file>
			<file type="M">org.jboss.as.test.clustering.cluster.ClusterAbstractTestCase.java</file>
			<file type="M">org.jboss.as.test.integration.web.sharedsession.SharedSessionTestCase.java</file>
			<file type="M">org.jboss.as.test.clustering.cluster.cdi.CdiFailoverTestCase.java</file>
			<file type="M">org.jboss.as.test.clustering.cluster.ejb.stateful.StatefulTimeoutTestCase.java</file>
			<file type="M">org.jboss.as.test.clustering.extended.ejb2.stateful.passivation.ClusterPassivationTestBase.java</file>
			<file type="M">org.jboss.as.test.clustering.cluster.web.expiration.SessionExpirationTestCase.java</file>
			<file type="M">org.jboss.as.test.clustering.single.web.SimpleWebTestCase.java</file>
			<file type="M">org.jboss.as.test.clustering.cluster.web.authentication.BasicAuthenticationWebFailoverTestCase.java</file>
			<file type="M">org.jboss.as.test.clustering.cluster.web.shared.SharedSessionFailoverTestCase.java</file>
			<file type="M">org.jboss.as.test.clustering.cluster.singleton.SingletonDeploymentTestCase.java</file>
			<file type="M">org.jboss.as.test.clustering.cluster.jsf.JSFFailoverTestCase.java</file>
			<file type="M">org.jboss.as.test.integration.web.sso.SSOTestBase.java</file>
			<file type="M">org.jboss.as.test.clustering.cluster.web.NonDistributableTestCase.java</file>
			<file type="M">org.jboss.as.test.clustering.cluster.web.async.AsyncServletTestCase.java</file>
			<file type="M">org.jboss.as.test.clustering.cluster.web.ClusteredWebFailoverAbstractCase.java</file>
			<file type="M">org.jboss.as.test.integration.management.api.web.ListenerTestCase.java</file>
			<file type="M">org.jboss.as.test.integration.web.security.tg.TransportGuaranteeTestCase.java</file>
			<file type="M">org.jboss.as.test.clustering.cluster.ejb.stateful.StatefulFailoverTestCase.java</file>
			<file type="M">org.jboss.as.test.clustering.cluster.singleton.SingletonServiceTestCase.java</file>
			<file type="D">org.jboss.as.test.http.util.HttpClientUtils.java</file>
			<file type="M">org.jboss.as.test.clustering.cluster.web.context.ConversationServlet.java</file>
			<file type="M">org.jboss.as.test.clustering.extended.ejb2.stateless.RemoteStatelessFailoverTestCase.java</file>
			<file type="M">org.jboss.as.test.clustering.cluster.web.NonHaWebSessionPersistenceTestCase.java</file>
			<file type="M">org.jboss.as.test.clustering.cluster.web.passivation.SessionPassivationTestCase.java</file>
			<file type="M">org.jboss.as.test.clustering.single.singleton.SingletonServiceTestCase.java</file>
			<file type="M">org.jboss.as.test.clustering.ClusterHttpClientUtil.java</file>
			<file type="M">org.jboss.as.test.clustering.single.web.SimpleServlet.java</file>
		</fixedFiles>
		<links>
			<link type="Cloners" description="cloned from">516</link>
			<link type="Duplicate" description="duplicates">4786</link>
		</links>
	</bug>
	<bug id="5060" opendate="2015-08-05 12:48:08" fixdate="2015-08-11 14:20:43" resolution="Duplicate Issue">
		<buginformation>
			<summary>Migrate management operation JacORB to IIOP JDK orb fails on reload with NumberFormatException</summary>
			<description>When I tried a simple migration of JacORB subsystem to IIOP OpenJDK with operation /subsystem=jacorb:migrate() server started with errors of not having successfully migrated attribute because of [1].
I&amp;amp;apos;ve consulted the dev discussion here
http://lists.jboss.org/pipermail/wildfly-dev/2015-April/003855.html
and what I understand it&amp;amp;apos;s fine that migrate operation succeed but if the migrate is able to find out that there is some trouble it should be shown as error/warning to console for user could fix the issue before going to live with reload() operation after migration.
In this particular case the JacORB subsystem worked with value undefined which IIOP OpenJDK orb doesn&amp;amp;apos;t. I expect that such difference is possible to be detected during migrate operation and inform user about it.
I believe that run operation as success and then failed during server startup is not right. Plus if you check the exception [1] you can see there is no much information what parameter is wrongly set. That would be fine to add some more info there as well.
[1]






ERROR [org.jboss.msc.service.fail] (MSC service thread 1-7) MSC000001: Failed to start service jboss.iiop-openjdk.orb-service: org.jboss.msc.service.StartException in service jboss.iiop-openjdk.orb-service: java.lang.NumberFormatException: For input string: "undefined"




 at org.wildfly.iiop.openjdk.service.CorbaORBService.start(CorbaORBService.java:142)




 at org.jboss.msc.service.ServiceControllerImpl$StartTask.startService(ServiceControllerImpl.java:1948)




 at org.jboss.msc.service.ServiceControllerImpl$StartTask.run(ServiceControllerImpl.java:1881)




 at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)




 at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)




 at java.lang.Thread.run(Thread.java:745)




Caused by: java.lang.NumberFormatException: For input string: "undefined"




 at java.lang.NumberFormatException.forInputString(NumberFormatException.java:65)




 at java.lang.Integer.parseInt(Integer.java:580)




 at java.lang.Integer.&amp;lt;init&amp;gt;(Integer.java:867)




 at com.sun.corba.se.spi.orb.OperationFactory$IntegerAction.operate(OperationFactory.java:224)




 at com.sun.corba.se.spi.orb.OperationFactory$ListAction.operate(OperationFactory.java:397)




 at com.sun.corba.se.spi.orb.OperationFactory$ComposeAction.operate(OperationFactory.java:475)




 at com.sun.corba.se.impl.orb.NormalParserAction.apply(NormalParserAction.java:47)




 at com.sun.corba.se.spi.orb.PropertyParser.parse(PropertyParser.java:70)




 at com.sun.corba.se.spi.orb.ParserImplBase.init(ParserImplBase.java:74)




 at com.sun.corba.se.impl.orb.ORBDataParserImpl.&amp;lt;init&amp;gt;(ORBDataParserImpl.java:408)




 at com.sun.corba.se.impl.orb.ORBImpl.postInit(ORBImpl.java:456)




 at com.sun.corba.se.impl.orb.ORBImpl.set_parameters(ORBImpl.java:543)




 at org.omg.CORBA.ORB.init(ORB.java:353)




 at org.wildfly.iiop.openjdk.service.CorbaORBService.start(CorbaORBService.java:126)




 ... 5 more




...




ERROR [org.jboss.as.controller.management-operation] (Controller Boot Thread) WFLYCTL0013: Operation ("add") failed - address: ([("subsystem" =&amp;gt; "iiop-openjdk")]) - failure description: {"WFLYCTL0080: Failed services" =&amp;gt; {"jboss.iiop-openjdk.orb-service" =&amp;gt; "org.jboss.msc.service.StartException in service jboss.iiop-openjdk.orb-service: java.lang.NumberFormatException: For input string: \"undefined\"




    Caused by: java.lang.NumberFormatException: For input string: \"undefined\""}}




INFO  [org.jboss.as.controller] (Controller Boot Thread) WFLYCTL0183: Service status report




WFLYCTL0186:   Services which failed to start:      service jboss.iiop-openjdk.orb-service: org.jboss.msc.service.StartException in service jboss.iiop-openjdk.orb-service: java.lang.NumberFormatException: For input string: "undefined"




...




ERROR [org.jboss.as] (Controller Boot Thread) WFLYSRV0026: EAP 7.0.0.Alpha1 (WildFly Core 2.0.0.Alpha11) started (with errors) in 690ms - Started 231 of 478 services (5 services failed or missing dependencies, 





</description>
			<version>10.0.0.Alpha5</version>
			<fixedVersion></fixedVersion>
			<type>Bug</type>
		</buginformation>
		<fixedFiles>
			<file type="M">org.jboss.as.jacorb.TransformUtils.java</file>
		</fixedFiles>
		<links>
			<link type="Cloners" description="cloned from">603</link>
			<link type="Duplicate" description="duplicates">5005</link>
		</links>
	</bug>
	<bug id="5070" opendate="2015-08-07 13:59:17" fixdate="2015-08-12 05:38:48" resolution="Done">
		<buginformation>
			<summary>@WebServlet.loadOnStartup=0 doesn&amp;apos;t startup the servlet</summary>
			<description>Servlet is autostarted only with loadOnStartup value &amp;gt; 0. Specification says value can be &amp;gt;= 0.</description>
			<version>10.0.0.Alpha6</version>
			<fixedVersion>10.0.0.Beta2</fixedVersion>
			<type>Bug</type>
		</buginformation>
		<fixedFiles>
			<file type="M">org.wildfly.extension.undertow.deployment.WarAnnotationDeploymentProcessor.java</file>
		</fixedFiles>
	</bug>
	<bug id="5045" opendate="2015-08-03 06:44:57" fixdate="2015-08-13 08:11:45" resolution="Done">
		<buginformation>
			<summary>Undertow mod_cluster CLI: IllegalArgumentException: value is null on modcluster:read-resource</summary>
			<description>Undertow 1.3.0.Beta3, EAP 7.0.0.DR6 worked perfectly with modcluster:read-resource recursive operations:
Setup

Add socker binding: /socket-binding-group=standard-sockets/socket-binding=mod-cluster-adv:add(multicast-address=224.0.1.105,port=65530)
Configure mod_cluster proxy: /subsystem=undertow/configuration=filter/mod-cluster=modcluster:add(advertise-frequency=10000,advertise-path=/,advertise-protocol=http,advertise-socket-binding=mod-cluster-adv,management-socket-binding=http,management-access-predicate=undefined,broken-node-timeout=10,cached-connections-per-thread=5,connection-idle-timeout=60,connections-per-thread=10,health-check-interval=10000,max-request-time=-1,request-queue-size=10,security-key=undefined,security-realm=undefined,worker=default)
Add mod_cluster filter: /subsystem=undertow/server=default-server/host=default-host/filter-ref=modcluster:add()
As soon as worker connects: 





UT005053: Registering node localhost, connection: ajp://karm.brq.redhat.com:8019/?#




UT005045: Registering context /clusterbench, for node localhost





, we try to list the configuration:
List configuration including runtime recursively: /subsystem=undertow/configuration=filter/mod-cluster=modcluster:read-resource(include-runtime=true, recursive=true, recursive-depth=100)

Error
The output of the last aforementioned command with EAP 7.0.0.DR6, Undertow 1.3.0.Beta3 is:





{




    "outcome" =&amp;gt; "success",




    "result" =&amp;gt; {




        "advertise-frequency" =&amp;gt; 10000,




        "advertise-path" =&amp;gt; "/",




        "advertise-protocol" =&amp;gt; "http",




        "advertise-socket-binding" =&amp;gt; "mod-cluster-adv",




        "broken-node-timeout" =&amp;gt; 10,




        "cached-connections-per-thread" =&amp;gt; 5,




        "connection-idle-timeout" =&amp;gt; 60,




        "connections-per-thread" =&amp;gt; 10,




        "health-check-interval" =&amp;gt; 10000,




        "management-access-predicate" =&amp;gt; undefined,




        "management-socket-binding" =&amp;gt; "http",




        "max-request-time" =&amp;gt; -1,




        "request-queue-size" =&amp;gt; 10,




        "security-key" =&amp;gt; undefined,




        "security-realm" =&amp;gt; undefined,




        "worker" =&amp;gt; "default",




        "balancer" =&amp;gt; {"mycluster" =&amp;gt; {"node" =&amp;gt; {"localhost" =&amp;gt; {




            "load" =&amp;gt; 81,




            "status" =&amp;gt; "NODE_UP",




            "context" =&amp;gt; {"/clusterbench" =&amp;gt; {




                "requests" =&amp;gt; 0,




                "status" =&amp;gt; "enabled"




            }}




        }}}}




    }




}





 whereas with EAP 7.0.0.DR7, Undertow 1.3.0.Beta4; it is: 





ERROR [org.jboss.as.controller.management-operation] (management-handler-thread - 6) WFLYCTL0013: Operation ("read-attribute") failed - address: ([




    ("subsystem" =&amp;gt; "undertow"),




    ("configuration" =&amp;gt; "filter"),




    ("mod-cluster" =&amp;gt; "modcluster"),




    ("balancer" =&amp;gt; "mycluster")




]): java.lang.IllegalArgumentException: value is null




    at org.jboss.dmr.ModelNode.&amp;lt;init&amp;gt;(ModelNode.java:162)




    at org.wildfly.extension.undertow.filters.ModClusterBalancerDefinition$3.handleNode(ModClusterBalancerDefinition.java:117)




    at org.wildfly.extension.undertow.filters.ModClusterBalancerDefinition$AbstractBalancerOperation.execute(ModClusterBalancerDefinition.java:173)




    at org.jboss.as.controller.operations.global.ReadAttributeHandler.doExecuteInternal(ReadAttributeHandler.java:174)




    at org.jboss.as.controller.operations.global.ReadAttributeHandler.doExecute(ReadAttributeHandler.java:137)




    at org.jboss.as.controller.operations.global.GlobalOperationHandlers$AbstractMultiTargetHandler.execute(GlobalOperationHandlers.java:248)




    at org.jboss.as.controller.operations.global.GlobalOperationHandlers$AvailableResponseWrapper.execute(GlobalOperationHandlers.java:701)




    at org.jboss.as.controller.AbstractOperationContext.executeStep(AbstractOperationContext.java:841)




    at org.jboss.as.controller.AbstractOperationContext.processStages(AbstractOperationContext.java:632)




    at org.jboss.as.controller.AbstractOperationContext.executeOperation(AbstractOperationContext.java:357)




    at org.jboss.as.controller.OperationContextImpl.executeOperation(OperationContextImpl.java:1235)




    at org.jboss.as.controller.ModelControllerImpl.internalExecute(ModelControllerImpl.java:392)




    at org.jboss.as.controller.ModelControllerImpl.execute(ModelControllerImpl.java:223)




    at org.jboss.as.controller.remote.ModelControllerClientOperationHandler$ExecuteRequestHandler.doExecute(ModelControllerClientOperationHandler.java:207)




    at org.jboss.as.controller.remote.ModelControllerClientOperationHandler$ExecuteRequestHandler.access$300(ModelControllerClientOperationHandler.java:129)




    at org.jboss.as.controller.remote.ModelControllerClientOperationHandler$ExecuteRequestHandler$1$1.run(ModelControllerClientOperationHandler.java:151)




    at org.jboss.as.controller.remote.ModelControllerClientOperationHandler$ExecuteRequestHandler$1$1.run(ModelControllerClientOperationHandler.java:147)




    at java.security.AccessController.doPrivileged(Native Method)




    at javax.security.auth.Subject.doAs(Subject.java:422)




    at org.jboss.as.controller.AccessAuditContext.doAs(AccessAuditContext.java:92)




    at org.jboss.as.controller.remote.ModelControllerClientOperationHandler$ExecuteRequestHandler$1.execute(ModelControllerClientOperationHandler.java:147)




    at org.jboss.as.protocol.mgmt.AbstractMessageHandler$2$1.doExecute(AbstractMessageHandler.java:298)




    at org.jboss.as.protocol.mgmt.AbstractMessageHandler$AsyncTaskRunner.run(AbstractMessageHandler.java:518)




    at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)




    at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)




    at java.lang.Thread.run(Thread.java:745)




    at org.jboss.threads.JBossThread.run(JBossThread.java:320)





It is noteworthy that until any worker joins the balancer, the operation works just fine (DR7, Beta4): 





{




    "outcome" =&amp;gt; "success",




    "result" =&amp;gt; {




        "advertise-frequency" =&amp;gt; 10000,




        "advertise-path" =&amp;gt; "/",




        "advertise-protocol" =&amp;gt; "http",




        "advertise-socket-binding" =&amp;gt; "mod-cluster-adv",




        "broken-node-timeout" =&amp;gt; 10,




        "cached-connections-per-thread" =&amp;gt; 5,




        "connection-idle-timeout" =&amp;gt; 60,




        "connections-per-thread" =&amp;gt; 10,




        "health-check-interval" =&amp;gt; 10000,




        "management-access-predicate" =&amp;gt; undefined,




        "management-socket-binding" =&amp;gt; "http",




        "max-request-time" =&amp;gt; -1,




        "request-queue-size" =&amp;gt; 10,




        "security-key" =&amp;gt; undefined,




        "security-realm" =&amp;gt; undefined,




        "use-alias" =&amp;gt; true,




        "worker" =&amp;gt; "default",




        "balancer" =&amp;gt; undefined




    }




}






I see this issue as a Blocker, because it not only breaks all current test automation but also renders the Undertow mod_cluster proxy CLI hardly usable for any administration.</description>
			<version>10.0.0.Alpha6</version>
			<fixedVersion>10.0.0.Beta2</fixedVersion>
			<type>Bug</type>
		</buginformation>
		<fixedFiles>
			<file type="M">org.wildfly.extension.undertow.filters.ModClusterNodeDefinition.java</file>
			<file type="M">org.wildfly.extension.undertow.filters.ModClusterBalancerDefinition.java</file>
		</fixedFiles>
		<links>
			<link type="Cloners" description="cloned from">562</link>
		</links>
	</bug>
	<bug id="5107" opendate="2015-08-14 16:41:27" fixdate="2015-08-14 16:59:14" resolution="Duplicate Issue">
		<buginformation>
			<summary>WFLYCTL0028: Attribute &amp;apos;default-stack&amp;apos; in the resource at address &amp;apos;/subsystem=jgroups&amp;apos; is deprecated, and may be removed in future version.</summary>
			<description>I noticed this message below in the server.log.  Is this message intended or a bug?
INFO  [org.jboss.as.controller.management-deprecated] (ServerService Thread Pool  27) WFLYCTL0028: Attribute &amp;amp;apos;default-stack&amp;amp;apos; in the resource at address &amp;amp;apos;/subsystem=jgroups&amp;amp;apos; is deprecated, and may be removed in future version.</description>
			<version>10.0.0.Beta1</version>
			<fixedVersion>10.0.0.Beta2</fixedVersion>
			<type>Bug</type>
		</buginformation>
		<fixedFiles>
			<file type="M">org.jboss.as.connector.subsystems.jca.DistributedWorkManagerAdd.java</file>
			<file type="M">org.jboss.as.clustering.jgroups.subsystem.JGroupsSubsystemXMLReader.java</file>
			<file type="M">org.jboss.as.clustering.jgroups.subsystem.JGroupsSubsystemInitialization.java</file>
			<file type="M">org.jboss.as.clustering.jgroups.subsystem.JGroupsSchema.java</file>
			<file type="M">org.jboss.as.clustering.jgroups.subsystem.JGroupsModel.java</file>
			<file type="M">org.wildfly.clustering.jgroups.spi.service.ProtocolStackServiceNameFactory.java</file>
			<file type="M">org.jboss.as.clustering.jgroups.subsystem.ChannelResourceDefinition.java</file>
			<file type="M">org.jboss.as.clustering.jgroups.subsystem.OperationsTestCase.java</file>
			<file type="M">org.jboss.as.clustering.jgroups.subsystem.JGroupsSubsystemServiceHandler.java</file>
			<file type="M">org.jboss.as.clustering.jgroups.subsystem.ChannelServiceHandler.java</file>
			<file type="M">org.wildfly.clustering.jgroups.spi.service.ProtocolStackServiceName.java</file>
			<file type="M">org.jboss.as.clustering.jgroups.subsystem.SubsystemParsingTestCase.java</file>
		</fixedFiles>
		<links>
			<link type="Duplicate" description="duplicates">4918</link>
		</links>
	</bug>
	<bug id="4918" opendate="2015-07-13 21:09:38" fixdate="2015-08-14 16:59:49" resolution="Done">
		<buginformation>
			<summary>Remove default-stack usage and make stack required/explicit per channel</summary>
			<description>We discussed with Paul earlier today to go the way of making this explicit per channel, since currently there is a info when booting the default ha profiles:
18:06:44,039 INFO  [org.jboss.as.controller.management-deprecated] (ServerService Thread Pool  21) WFLYCTL0028: Attribute &amp;amp;apos;default-stack&amp;amp;apos; in the resource at address &amp;amp;apos;/subsystem=jgroups&amp;amp;apos; is deprecated, and may be removed in future version. See the attribute description in the output of the read-resource-description operation to learn more about the deprecation.</description>
			<version>10.0.0.Alpha5</version>
			<fixedVersion>10.0.0.Beta2</fixedVersion>
			<type>Bug</type>
		</buginformation>
		<fixedFiles>
			<file type="M">org.jboss.as.connector.subsystems.jca.DistributedWorkManagerAdd.java</file>
			<file type="M">org.jboss.as.clustering.jgroups.subsystem.JGroupsSubsystemXMLReader.java</file>
			<file type="M">org.jboss.as.clustering.jgroups.subsystem.JGroupsSubsystemInitialization.java</file>
			<file type="M">org.jboss.as.clustering.jgroups.subsystem.JGroupsSchema.java</file>
			<file type="M">org.jboss.as.clustering.jgroups.subsystem.JGroupsModel.java</file>
			<file type="M">org.wildfly.clustering.jgroups.spi.service.ProtocolStackServiceNameFactory.java</file>
			<file type="M">org.jboss.as.clustering.jgroups.subsystem.ChannelResourceDefinition.java</file>
			<file type="M">org.jboss.as.clustering.jgroups.subsystem.OperationsTestCase.java</file>
			<file type="M">org.jboss.as.clustering.jgroups.subsystem.JGroupsSubsystemServiceHandler.java</file>
			<file type="M">org.jboss.as.clustering.jgroups.subsystem.ChannelServiceHandler.java</file>
			<file type="M">org.wildfly.clustering.jgroups.spi.service.ProtocolStackServiceName.java</file>
			<file type="M">org.jboss.as.clustering.jgroups.subsystem.SubsystemParsingTestCase.java</file>
		</fixedFiles>
		<links>
			<link type="Duplicate" description="is duplicated by">5107</link>
		</links>
	</bug>
	<bug id="5022" opendate="2015-07-28 11:49:29" fixdate="2015-08-17 06:09:15" resolution="Done">
		<buginformation>
			<summary>The server requires JASPI authentication even if no security-constraint is defined</summary>
			<description>If JASPI authentication is configured in security domain, then the server requires authentication even if no security-constraint is defined for web application which uses the security domain.
With the classic authentication is the behavior correct.</description>
			<version>10.0.0.Alpha6</version>
			<fixedVersion>10.0.0.Beta2</fixedVersion>
			<type>Bug</type>
		</buginformation>
		<fixedFiles>
			<file type="M">org.wildfly.extension.undertow.UndertowSubsystemParser_3_0.java</file>
			<file type="M">org.wildfly.extension.undertow.deployment.UndertowDeploymentInfoService.java</file>
			<file type="M">org.wildfly.extension.undertow.ServletContainerDefinition.java</file>
			<file type="M">org.wildfly.extension.undertow.Constants.java</file>
			<file type="M">org.wildfly.extension.undertow.ServletContainerService.java</file>
			<file type="M">org.jboss.as.test.integration.security.jaspi.JASPIHttpSchemeServerAuthModelTestCase.java</file>
			<file type="M">org.jboss.as.test.manualmode.web.ssl.DatabaseCertLoginModuleTestCase.java</file>
			<file type="M">org.wildfly.extension.undertow.ServletContainerAdd.java</file>
			<file type="M">org.jboss.as.test.manualmode.web.ssl.CertificateRolesLoginModuleTestCase.java</file>
			<file type="M">org.jboss.as.test.manualmode.web.ssl.HTTPSWebConnectorTestCase.java</file>
		</fixedFiles>
		<links>
			<link type="Cloners" description="cloned from">518</link>
			<link type="Related" description="is related to">4618</link>
		</links>
	</bug>
	<bug id="4954" opendate="2015-07-17 08:28:46" fixdate="2015-08-18 02:57:32" resolution="Done">
		<buginformation>
			<summary>Undertow mod_cluster proxy enforces aliases checks a.k.a. UseAlias:true</summary>
			<description>If one uses hostnames and a worker registers itself e.g. as Host=karm.brq.redhat.com the Undertow mod_cluster proxy enforces exact alias matching, which corresponds to Apache HTTP Server mod_cluster module implementation directive UseAlias being set to 1 (enforcing).
Symptoms
Thus registered worker&amp;amp;apos;s context:






INFO  [io.undertow] (default task-3) registering context /clusterbench, for node worker-1, 




with aliases [default-host, localhost]





 causes HTTP 404 errors both while trying to access the context on IP address or hostname.
This worker: 





INFO  [io.undertow] (default task-20) registering context /clusterbench, for node worker-1, 




with aliases [default-host, karm.brq.redhat.com]





, with one of its aliases being karm.brq.redhat.com could be accessed via the Undertow mod_cluster proxy without problems.
Call to action
We need to decide whether this difference in default behaviour is desirable or not and act accordingly.
WDYT? 
</description>
			<version>10.0.0.Alpha4</version>
			<fixedVersion>10.0.0.Beta2</fixedVersion>
			<type>Bug</type>
		</buginformation>
		<fixedFiles>
			<file type="M">org.wildfly.extension.undertow.filters.ModClusterDefinition.java</file>
		</fixedFiles>
		<links>
			<link type="Causality" description="causes">221</link>
			<link type="Cloners" description="cloned from">455</link>
		</links>
	</bug>
	<bug id="3872" opendate="2014-09-19 01:43:51" fixdate="2015-08-18 19:04:30" resolution="Done">
		<buginformation>
			<summary>Recurring failure of EJBSignEncryptMultipleClientsTestCase.encryptedAndSignedRequestFromJohn</summary>
			<description>Since https://github.com/wildfly/wildfly/pull/6660 was submitted, EJBSignEncryptMultipleClientsTestCase.encryptedAndSignedRequestFromJohn is failing regularly. Not every time but very often.
Alessio, you mentioned seeing some error logging from XAResourceRecoveryImpl, but that&amp;amp;apos;s in the logs on successful runs as well, and occurs prior to the test as well. That&amp;amp;apos;s a period background task from the transaction manager trying to perform recovery of some previous transaction. I don&amp;amp;apos;t see why it would have any impact on this test.</description>
			<version>9.0.0.Alpha1</version>
			<fixedVersion>10.0.0.Beta2</fixedVersion>
			<type>Bug</type>
		</buginformation>
		<fixedFiles>
			<file type="M">org.jboss.as.test.integration.ws.wsse.signencrypt.EJBSignEncryptMultipleClientsTestCase.java</file>
		</fixedFiles>
		<links>
			<link type="Related" description="relates to">4901</link>
		</links>
	</bug>
	<bug id="4839" opendate="2015-06-29 09:09:07" fixdate="2015-08-19 02:44:35" resolution="Done">
		<buginformation>
			<summary>annotation must be scanned regardless of the version of web.xml unless metadata-complete is explicitly set to true</summary>
			<description>





### Description of problem:









Annotation must be scanned regardless of the version of web.xml unless metadata-complete is explicitly set to true.









Note that Servlet 3.0 specification clearly states the following:









~~~




1.6.2 Processing annotations




In Servlet 2.5, metadata-complete only affected the scanning of annotations at




deployment time. The notion of web-fragments did not exist in servlet 2.5. However




in servlet 3.0 metadata-complete affects scanning of all annotations and web-




fragments at deployment time. The version of the descriptor MUST not affect which




annotations you scan for in a web application. An implementation of a particular




version of the specification MUST scan for all annotations supported in that




configuration, unless metadata-complete is specified.




~~~














### How reproducible:









Anytime














### Steps to Reproduce:









1. Create a library jar which contains a servlet filter using @WebFilter 




2. Put the jar under WEB-INF/lib of the web application which web.xml version is 2.3 or 2.4




3. Start JBoss EAP 6




4. Access the web application and see if the servlet filter works














### Actual results:









The servlet filter is not invoked














### Expected results:









The servlet filter is invoked














### Additional info:









It works when the version of web.xml is 2.5 or 3.0









[reply] []




Private




Comment 1 Masafumi Miura 2015-06-25 07:18:17 EDT




RED HAT CONFIDENTIAL









It looks metadata-complete is always set to true when the version of web.xml is 2.3 or 2.4 at the line 96 of web/src/main/java/org/jboss/as/web/deployment/WarMetaDataProcessor.java.









Though Servlet 2.3/2.3 specification does not have metadata-complete attribute, Servlet 3.0 specification states the following. I think it means that the metadata-complete attribute default to false if it is not specified.









~~~




8.1 Annotations and pluggability




if the metadata-complete attribute is not specified or is set to "false", the




deployment tool must examine the class files of the application for annotations, and




scan for web fragments.




~~~









 * web/src/main/java/org/jboss/as/web/deployment/WarMetaDataProcessor.java









 76 public class WarMetaDataProcessor implements DeploymentUnitProcessor {




 77 




 78     @Override




 79     public void deploy(DeploymentPhaseContext phaseContext) throws DeploymentUnitProcessingException {




...




 87         boolean isComplete = false;




 88         WebMetaData specMetaData = warMetaData.getWebMetaData();




 89         if (specMetaData != null) {




 90             if (specMetaData instanceof Web25MetaData) {




 91                 isComplete |= ((Web25MetaData) specMetaData).isMetadataComplete();




 92             } else if (specMetaData instanceof Web30MetaData) {




 93                 isComplete |= ((Web30MetaData) specMetaData).isMetadataComplete();




 94             } else {




 95                 // Any web.xml 2.4 or earlier deployment is metadata complete




 96                 isComplete = true;




 97             }




 98         }




 99





</description>
			<version>10.0.0.Alpha4</version>
			<fixedVersion>10.0.0.Beta2</fixedVersion>
			<type>Bug</type>
		</buginformation>
		<fixedFiles>
			<file type="M">org.wildfly.extension.undertow.deployment.WarMetaDataProcessor.java</file>
		</fixedFiles>
	</bug>
	<bug id="5014" opendate="2015-07-27 14:28:28" fixdate="2015-08-19 06:50:06" resolution="Done">
		<buginformation>
			<summary>jms-bridge source and target context properties can not be parsed</summary>
			<description></description>
			<version>10.0.0.Alpha6</version>
			<fixedVersion>10.0.0.Beta2</fixedVersion>
			<type>Bug</type>
		</buginformation>
		<fixedFiles>
			<file type="M">org.wildfly.extension.messaging.activemq.jms.bridge.JMSBridgeDefinition.java</file>
		</fixedFiles>
		<links>
			<link type="Causality" description="is caused by">691</link>
			<link type="Cloners" description="cloned to">736</link>
		</links>
	</bug>
	<bug id="5085" opendate="2015-08-12 10:48:32" fixdate="2015-08-19 07:24:22" resolution="Done">
		<buginformation>
			<summary>[Migration operation] If connector has set factory-class org.hornetq.core.remoting.impl.netty.NettyConnectorFactory then migration operation does not translate it to Artemis equivalent</summary>
			<description>We should migrate configuration like:






&amp;lt;connector name="myconnector"&amp;gt;




...




                &amp;lt;factory-class&amp;gt;org.hornetq.core.remoting.impl.netty.NettyConnectorFactory&amp;lt;/factory-class&amp;gt;




            &amp;lt;/connector&amp;gt;






to:






                &amp;lt;connector name="myconnector" factory-class="org.apache.activemq.artemis.core.remoting.impl.netty.NettyConnector"&amp;gt;




...






and not to:






                          &amp;lt;connector name="myconnector" factory-class="org.hornetq.core.remoting.impl.netty.NettyConnectorFactory"&amp;gt;




...






The same holds for InVMConnector.</description>
			<version>10.0.0.Alpha6</version>
			<fixedVersion>10.0.0.Beta2</fixedVersion>
			<type>Bug</type>
		</buginformation>
		<fixedFiles>
			<file type="M">org.jboss.as.messaging.MessagingXMLWriter.java</file>
			<file type="M">org.jboss.as.messaging.MigrateOperation.java</file>
		</fixedFiles>
		<links>
			<link type="Cloners" description="cloned from">638</link>
		</links>
	</bug>
	<bug id="5088" opendate="2015-08-12 10:49:44" fixdate="2015-08-19 07:24:32" resolution="Done">
		<buginformation>
			<summary>[Migration operation] If acceptor has set factory-class org.hornetq.core.remoting.impl.netty.NettyAcceptorFactory then migration operation does not translate it to Artemis equivalent</summary>
			<description>This is the same problem as reported with connectors in JBEAP-638.
org.hornetq.core.remoting.impl.netty.NettyAcceptorFactory should be migrated to equivalent org.apache.activemq.artemis.core.remoting.impl.netty.NettyAcceptorFactory.</description>
			<version>10.0.0.Alpha6</version>
			<fixedVersion>10.0.0.Beta2</fixedVersion>
			<type>Bug</type>
		</buginformation>
		<fixedFiles>
			<file type="M">org.jboss.as.messaging.MessagingXMLWriter.java</file>
			<file type="M">org.jboss.as.messaging.MigrateOperation.java</file>
		</fixedFiles>
		<links>
			<link type="Cloners" description="cloned from">641</link>
		</links>
	</bug>
	<bug id="5105" opendate="2015-08-14 14:05:33" fixdate="2015-08-19 07:26:57" resolution="Done">
		<buginformation>
			<summary>[Migration operation] Attribute discovery-group in cluster-connection is not migrated</summary>
			<description>Attribute discovery-group-ref in cluster-connection is not migrated. For example:






            &amp;lt;cluster-connection name="cc3"&amp;gt;




                &amp;lt;address&amp;gt;cc3-address&amp;lt;/address&amp;gt;




                &amp;lt;connector-ref&amp;gt;netty&amp;lt;/connector-ref&amp;gt;




                &amp;lt;discovery-group-ref discovery-group-name="groupC"/&amp;gt;




            &amp;lt;/cluster-connection&amp;gt;






migrates as:






&amp;lt;cluster-connection name="cc3" connector-name="netty" address="cc3-address"/&amp;gt;






I&amp;amp;apos;m setting higher priority as discovery group is by default in configuration in EAP 6.</description>
			<version>10.0.0.Beta1</version>
			<fixedVersion>10.0.0.Beta2</fixedVersion>
			<type>Bug</type>
		</buginformation>
		<fixedFiles>
			<file type="M">org.jboss.as.messaging.MigrateOperation.java</file>
		</fixedFiles>
		<links>
			<link type="Cloners" description="cloned from">707</link>
		</links>
	</bug>
	<bug id="5108" opendate="2015-08-14 17:59:08" fixdate="2015-08-23 14:10:13" resolution="Done">
		<buginformation>
			<summary>SingletonService can start multiple master nodes if election policies are not identical</summary>
			<description>Currently, the the singleton master election occurs on every node, and nodes that detect if they have won the election will start the service.  If the election policy is non-deterministic, or not identical on every node, then there is a possibility that multiple singleton services could start.</description>
			<version>10.0.0.Beta1</version>
			<fixedVersion>10.0.0.Beta2</fixedVersion>
			<type>Bug</type>
		</buginformation>
		<fixedFiles>
			<file type="M">org.wildfly.clustering.server.provider.CacheServiceProviderRegistry.java</file>
			<file type="D">org.wildfly.clustering.server.singleton.StopSingletonCommand.java</file>
			<file type="M">org.wildfly.clustering.server.singleton.SingletonContext.java</file>
			<file type="M">org.wildfly.clustering.server.singleton.SingletonClassTableContributor.java</file>
			<file type="M">org.jboss.as.test.clustering.cluster.singleton.service.MyServiceServlet.java</file>
			<file type="M">org.wildfly.clustering.server.singleton.CacheSingletonServiceBuilder.java</file>
			<file type="M">org.wildfly.clustering.provider.ServiceProviderRegistration.java</file>
		</fixedFiles>
	</bug>
	<bug id="4339" opendate="2015-02-11 17:33:17" fixdate="2015-08-23 14:48:42" resolution="Done">
		<buginformation>
			<summary>NPE when deployment contains a *-ds.xml in domain</summary>
			<description>If you build the kitchen-sink quickstart and attempt to deploy to domain servers you&amp;amp;apos;ll see the following error. Same deployment works fine in standalone.






[Server:server-one] 09:25:06,563 ERROR [org.jboss.msc.service.fail] (MSC service thread 1-14) MSC000001: Failed to start service jboss.data-source.java:jboss/datasources/KitchensinkQuickstartDS: org.jboss.msc.service.StartException in service jboss.data-source.java:jboss/datasources/KitchensinkQuickstartDS: WFLYJCA0033: Error during the deployment of java:jboss/datasources/KitchensinkQuickstartDS




[Server:server-one] 	at org.jboss.as.connector.subsystems.datasources.AbstractDataSourceService.start(AbstractDataSourceService.java:142)




[Server:server-two] 09:25:06,563 ERROR [org.jboss.msc.service.fail] (MSC service thread 1-7) MSC000001: Failed to start service jboss.data-source.java:jboss/datasources/KitchensinkQuickstartDS: org.jboss.msc.service.StartException in service jboss.data-source.java:jboss/datasources/KitchensinkQuickstartDS: WFLYJCA0033: Error during the deployment of java:jboss/datasources/KitchensinkQuickstartDS




[Server:server-two] 	at org.jboss.as.connector.subsystems.datasources.AbstractDataSourceService.start(AbstractDataSourceService.java:142)




[Server:server-two] 	at org.jboss.msc.service.ServiceControllerImpl$StartTask.startService(ServiceControllerImpl.java:1948)




[Server:server-two] 	at org.jboss.msc.service.ServiceControllerImpl$StartTask.run(ServiceControllerImpl.java:1881)




[Server:server-two] 	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)




[Server:server-two] 	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)




[Server:server-two] 	at java.lang.Thread.run(Thread.java:745)




[Server:server-two] Caused by: java.lang.NullPointerException




[Server:server-two] 	at org.jboss.as.connector.services.driver.registry.DriverRegistryImpl.getInstalledDriver(DriverRegistryImpl.java:93)




[Server:server-two] 	at org.jboss.as.connector.subsystems.datasources.AbstractDataSourceService$AS7DataSourceDeployer.deploy(AbstractDataSourceService.java:324)




[Server:server-two] 	at org.jboss.as.connector.subsystems.datasources.AbstractDataSourceService.start(AbstractDataSourceService.java:135)




[Server:server-two] 	... 5 more




[Server:server-two] 




[Server:server-one] 	at org.jboss.msc.service.ServiceControllerImpl$StartTask.startService(ServiceControllerImpl.java:1948)




[Server:server-one] 	at org.jboss.msc.service.ServiceControllerImpl$StartTask.run(ServiceControllerImpl.java:1881)




[Server:server-one] 	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)




[Server:server-one] 	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)




[Server:server-one] 	at java.lang.Thread.run(Thread.java:745)




[Server:server-one] Caused by: java.lang.NullPointerException




[Server:server-one] 	at org.jboss.as.connector.services.driver.registry.DriverRegistryImpl.getInstalledDriver(DriverRegistryImpl.java:93)




[Server:server-one] 	at org.jboss.as.connector.subsystems.datasources.AbstractDataSourceService$AS7DataSourceDeployer.deploy(AbstractDataSourceService.java:324)




[Server:server-one] 	at org.jboss.as.connector.subsystems.datasources.AbstractDataSourceService.start(AbstractDataSourceService.java:135)




[Server:server-one] 	... 5 more





</description>
			<version>8.2.0.Final</version>
			<fixedVersion>10.0.0.Beta2</fixedVersion>
			<type>Bug</type>
		</buginformation>
		<fixedFiles>
			<file type="M">org.jboss.as.connector.services.driver.registry.DriverRegistryImpl.java</file>
			<file type="M">org.jboss.as.connector.logging.ConnectorLogger.java</file>
		</fixedFiles>
	</bug>
	<bug id="5083" opendate="2015-08-12 10:46:38" fixdate="2015-08-23 15:02:42" resolution="Done">
		<buginformation>
			<summary>[Migration operation] group-address/group-port/local-bind-address/local-bind-port in broadcast-group are not migrated</summary>
			<description>If broadcast group with local-bind-address,local-bind-port, group-address and group-port then those parameters are not migrated properly:
For example HornetQ configuration:






 &amp;lt;broadcast-group name="groupA"&amp;gt;




                &amp;lt;local-bind-address&amp;gt;localhost&amp;lt;/local-bind-address&amp;gt;




                &amp;lt;local-bind-port&amp;gt;12345&amp;lt;/local-bind-port&amp;gt;




                &amp;lt;group-address&amp;gt;224.0.1.105&amp;lt;/group-address&amp;gt;




                &amp;lt;group-port&amp;gt;23456&amp;lt;/group-port&amp;gt;




                &amp;lt;broadcast-period&amp;gt;${broadcast.period:2500}&amp;lt;/broadcast-period&amp;gt;




                &amp;lt;connector-ref&amp;gt;netty&amp;lt;/connector-ref&amp;gt;




                &amp;lt;connector-ref&amp;gt;netty-throughput&amp;lt;/connector-ref&amp;gt;




            &amp;lt;/broadcast-group&amp;gt;






is migrated to Artemis like:






                &amp;lt;broadcast-group name="groupA" connectors="netty netty-throughput" broadcast-period="${broadcast.period:2500}"/&amp;gt;






With such a configuration server cannot be started. There is no warning pointing to this problem.</description>
			<version>10.0.0.Beta1</version>
			<fixedVersion></fixedVersion>
			<type>Bug</type>
		</buginformation>
		<fixedFiles>
			<file type="M">org.jboss.as.messaging.test.MigrateTestCase.java</file>
			<file type="M">org.jboss.as.messaging.logging.MessagingLogger.java</file>
			<file type="M">org.jboss.as.messaging.MigrateOperation.java</file>
		</fixedFiles>
		<links>
			<link type="Cloners" description="cloned from">636</link>
		</links>
	</bug>
	<bug id="5192" opendate="2015-08-24 15:31:10" fixdate="2015-08-24 18:49:19" resolution="Done">
		<buginformation>
			<summary>XTSSubsystemDefinition says HOST attribute doesn&amp;apos;t allow null, but it should</summary>
			<description>The xsd for the xts subsystem says the "host" element is not required, and the parser behaves accordingly, but the HOST attribute in XTSSubsystemDefinition says the attribute doesn&amp;amp;apos;t allow null, while simultaneously configuring a default value for it.
Setting a default value for an attribute is pointless if it doesn&amp;amp;apos;t allow null; the default value is what the runtime services will use if the persistent config value is null.
This situation prevents booting of legacy xml configs using schema versions that predate the "host element. (Specifically, EAP 6 configs.) The boot validates the entire config to ensure that required attributes are configured, and that validation fails. Booting configs that conform to the current schema would fail too if "host" was not present.
This should be a simple one line change.</description>
			<version>10.0.0.Beta2</version>
			<fixedVersion>10.0.0.CR1</fixedVersion>
			<type>Bug</type>
		</buginformation>
		<fixedFiles>
			<file type="M">org.jboss.as.xts.XTSSubsystemDefinition.java</file>
		</fixedFiles>
		<links>
			<link type="Dependency" description="blocks">5138</link>
		</links>
	</bug>
	<bug id="5140" opendate="2015-08-20 07:56:21" fixdate="2015-08-26 13:25:00" resolution="Done">
		<buginformation>
			<summary>NoClassDefFoundError in ha configuration</summary>
			<description>When testing our app with JMeter (5 concurrent users) plenty (hundreds in single request, no kidding) NoClassDefFoundErrors occur. From the client side they are visible as 500 - internal server errors. Unfortunately those errors are not easily reproducible. Not every test run is affected. Actually, I was not able to reproduce them in manual tests, just in JMeter. 
The cluster consists of three servers in HA profile.
Stacktrace example:
2015-08-20 09:42:17,966 ERROR [org.infinispan.interceptors.InvocationContextInterceptor] (default task-236) ISPN000136: Execution error: java.lang.NoClassDefFoundError: Could not initialize class org.infinispan.commands.remote.recovery.TxCompletionNotificationCommand
	at org.infinispan.commands.CommandsFactoryImpl.buildTxCompletionNotificationCommand(CommandsFactoryImpl.java:542)
	at org.infinispan.interceptors.locking.PessimisticLockingInterceptor.releaseLocksOnFailureBeforePrepare(PessimisticLockingInterceptor.java:252)
	at org.infinispan.interceptors.locking.PessimisticLockingInterceptor.visitDataWriteCommand(PessimisticLockingInterceptor.java:138)
	at org.infinispan.interceptors.locking.AbstractLockingInterceptor.visitRemoveCommand(AbstractLockingInterceptor.java:65)
	at org.infinispan.commands.write.RemoveCommand.acceptVisitor(RemoveCommand.java:58)
	at org.infinispan.interceptors.base.CommandInterceptor.invokeNextInterceptor(CommandInterceptor.java:97)
	at org.infinispan.interceptors.base.CommandInterceptor.handleDefault(CommandInterceptor.java:111)
	at org.infinispan.commands.AbstractVisitor.visitRemoveCommand(AbstractVisitor.java:49)
	at org.infinispan.commands.write.RemoveCommand.acceptVisitor(RemoveCommand.java:58)
	at org.infinispan.interceptors.base.CommandInterceptor.invokeNextInterceptor(CommandInterceptor.java:97)
	at org.infinispan.interceptors.TxInterceptor.enlistWriteAndInvokeNext(TxInterceptor.java:367)
	at org.infinispan.interceptors.TxInterceptor.visitRemoveCommand(TxInterceptor.java:273)
	at org.infinispan.commands.write.RemoveCommand.acceptVisitor(RemoveCommand.java:58)
	at org.infinispan.interceptors.base.CommandInterceptor.invokeNextInterceptor(CommandInterceptor.java:97)
	at org.infinispan.interceptors.base.CommandInterceptor.handleDefault(CommandInterceptor.java:111)
	at org.infinispan.commands.AbstractVisitor.visitRemoveCommand(AbstractVisitor.java:49)
	at org.infinispan.commands.write.RemoveCommand.acceptVisitor(RemoveCommand.java:58)
	at org.infinispan.interceptors.base.CommandInterceptor.invokeNextInterceptor(CommandInterceptor.java:97)
	at org.infinispan.statetransfer.StateTransferInterceptor.handleTxWriteCommand(StateTransferInterceptor.java:265)
	at org.infinispan.statetransfer.StateTransferInterceptor.handleWriteCommand(StateTransferInterceptor.java:247)
	at org.infinispan.statetransfer.StateTransferInterceptor.visitRemoveCommand(StateTransferInterceptor.java:123)
	at org.infinispan.commands.write.RemoveCommand.acceptVisitor(RemoveCommand.java:58)
	at org.infinispan.interceptors.base.CommandInterceptor.invokeNextInterceptor(CommandInterceptor.java:97)
	at org.infinispan.interceptors.CacheMgmtInterceptor.visitRemoveCommand(CacheMgmtInterceptor.java:209)
	at org.infinispan.commands.write.RemoveCommand.acceptVisitor(RemoveCommand.java:58)
	at org.infinispan.interceptors.base.CommandInterceptor.invokeNextInterceptor(CommandInterceptor.java:97)
	at org.infinispan.interceptors.InvocationContextInterceptor.handleAll(InvocationContextInterceptor.java:102)
	at org.infinispan.interceptors.InvocationContextInterceptor.handleDefault(InvocationContextInterceptor.java:71)
	at org.infinispan.commands.AbstractVisitor.visitRemoveCommand(AbstractVisitor.java:49)
	at org.infinispan.commands.write.RemoveCommand.acceptVisitor(RemoveCommand.java:58)
	at org.infinispan.interceptors.InterceptorChain.invoke(InterceptorChain.java:336)
	at org.infinispan.cache.impl.CacheImpl.executeCommandAndCommitIfNeeded(CacheImpl.java:1617)
	at org.infinispan.cache.impl.CacheImpl.removeInternal(CacheImpl.java:579)
	at org.infinispan.cache.impl.CacheImpl.remove(CacheImpl.java:572)
	at org.infinispan.cache.impl.DecoratedCache.remove(DecoratedCache.java:442)
	at org.infinispan.cache.impl.AbstractDelegatingCache.remove(AbstractDelegatingCache.java:297)
	at org.wildfly.clustering.web.infinispan.session.coarse.CoarseSessionFactory.remove(CoarseSessionFactory.java:140)
	at org.wildfly.clustering.web.infinispan.session.coarse.CoarseSessionFactory.findValue(CoarseSessionFactory.java:133)
	at org.wildfly.clustering.web.infinispan.session.coarse.CoarseSessionFactory.findValue(CoarseSessionFactory.java:56)
	at org.wildfly.clustering.web.infinispan.session.InfinispanSessionManager.removed(InfinispanSessionManager.java:317)
	at sun.reflect.GeneratedMethodAccessor109.invoke(Unknown Source) [:1.8.0_60]
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) [rt.jar:1.8.0_60]
	at java.lang.reflect.Method.invoke(Method.java:497) [rt.jar:1.8.0_60]
	at org.infinispan.notifications.impl.AbstractListenerImpl$ListenerInvocationImpl$1.run(AbstractListenerImpl.java:286)
	at org.infinispan.util.concurrent.WithinThreadExecutor.execute(WithinThreadExecutor.java:22)
	at org.infinispan.notifications.impl.AbstractListenerImpl$ListenerInvocationImpl.invoke(AbstractListenerImpl.java:309)
	at org.infinispan.notifications.cachelistener.CacheNotifierImpl$BaseCacheEntryListenerInvocation.doRealInvocation(CacheNotifierImpl.java:1212)
	at org.infinispan.notifications.cachelistener.CacheNotifierImpl$BaseCacheEntryListenerInvocation.invokeNoChecks(CacheNotifierImpl.java:1207)
	at org.infinispan.notifications.cachelistener.CacheNotifierImpl$BaseCacheEntryListenerInvocation.invoke(CacheNotifierImpl.java:1184)
	at org.infinispan.notifications.cachelistener.CacheNotifierImpl.notifyCacheEntryRemoved(CacheNotifierImpl.java:356)
	at org.infinispan.commands.write.RemoveCommand.notify(RemoveCommand.java:97)
	at org.infinispan.commands.write.RemoveCommand.performRemove(RemoveCommand.java:208)
	at org.infinispan.commands.write.RemoveCommand.perform(RemoveCommand.java:93)
	at org.infinispan.interceptors.CallInterceptor.handleDefault(CallInterceptor.java:124)
	at org.infinispan.commands.AbstractVisitor.visitRemoveCommand(AbstractVisitor.java:49)
	at org.infinispan.commands.write.RemoveCommand.acceptVisitor(RemoveCommand.java:58)
	at org.infinispan.interceptors.base.CommandInterceptor.invokeNextInterceptor(CommandInterceptor.java:97)
	at org.infinispan.interceptors.distribution.TxDistributionInterceptor.handleTxWriteCommand(TxDistributionInterceptor.java:306)
	at org.infinispan.interceptors.distribution.TxDistributionInterceptor.visitRemoveCommand(TxDistributionInterceptor.java:86)
	at org.infinispan.commands.write.RemoveCommand.acceptVisitor(RemoveCommand.java:58)
	at org.infinispan.interceptors.base.CommandInterceptor.invokeNextInterceptor(CommandInterceptor.java:97)
	at org.infinispan.interceptors.CacheLoaderInterceptor.visitDataCommand(CacheLoaderInterceptor.java:150)
	at org.infinispan.interceptors.CacheLoaderInterceptor.visitRemoveCommand(CacheLoaderInterceptor.java:135)
	at org.infinispan.commands.write.RemoveCommand.acceptVisitor(RemoveCommand.java:58)
	at org.infinispan.interceptors.base.CommandInterceptor.invokeNextInterceptor(CommandInterceptor.java:97)
	at org.infinispan.interceptors.EntryWrappingInterceptor.invokeNextAndApplyChanges(EntryWrappingInterceptor.java:388)
	at org.infinispan.interceptors.EntryWrappingInterceptor.setSkipRemoteGetsAndInvokeNextForDataCommand(EntryWrappingInterceptor.java:453)
	at org.infinispan.interceptors.EntryWrappingInterceptor.visitRemoveCommand(EntryWrappingInterceptor.java:252)
	at org.infinispan.commands.write.RemoveCommand.acceptVisitor(RemoveCommand.java:58)
	at org.infinispan.interceptors.base.CommandInterceptor.invokeNextInterceptor(CommandInterceptor.java:97)
	at org.infinispan.interceptors.base.CommandInterceptor.handleDefault(CommandInterceptor.java:111)
	at org.infinispan.commands.AbstractVisitor.visitRemoveCommand(AbstractVisitor.java:49)
	at org.infinispan.commands.write.RemoveCommand.acceptVisitor(RemoveCommand.java:58)
	at org.infinispan.interceptors.base.CommandInterceptor.invokeNextInterceptor(CommandInterceptor.java:97)
	at org.infinispan.interceptors.locking.PessimisticLockingInterceptor.visitDataWriteCommand(PessimisticLockingInterceptor.java:133)
	at org.infinispan.interceptors.locking.AbstractLockingInterceptor.visitRemoveCommand(AbstractLockingInterceptor.java:65)
	at org.infinispan.commands.write.RemoveCommand.acceptVisitor(RemoveCommand.java:58)
	at org.infinispan.interceptors.base.CommandInterceptor.invokeNextInterceptor(CommandInterceptor.java:97)
	at org.infinispan.interceptors.base.CommandInterceptor.handleDefault(CommandInterceptor.java:111)
	at org.infinispan.commands.AbstractVisitor.visitRemoveCommand(AbstractVisitor.java:49)
	at org.infinispan.commands.write.RemoveCommand.acceptVisitor(RemoveCommand.java:58)
	at org.infinispan.interceptors.base.CommandInterceptor.invokeNextInterceptor(CommandInterceptor.java:97)
	at org.infinispan.interceptors.TxInterceptor.enlistWriteAndInvokeNext(TxInterceptor.java:367)
	at org.infinispan.interceptors.TxInterceptor.visitRemoveCommand(TxInterceptor.java:273)
	at org.infinispan.commands.write.RemoveCommand.acceptVisitor(RemoveCommand.java:58)
	at org.infinispan.interceptors.base.CommandInterceptor.invokeNextInterceptor(CommandInterceptor.java:97)
	at org.infinispan.interceptors.base.CommandInterceptor.handleDefault(CommandInterceptor.java:111)
	at org.infinispan.commands.AbstractVisitor.visitRemoveCommand(AbstractVisitor.java:49)
	at org.infinispan.commands.write.RemoveCommand.acceptVisitor(RemoveCommand.java:58)
	at org.infinispan.interceptors.base.CommandInterceptor.invokeNextInterceptor(CommandInterceptor.java:97)
	at org.infinispan.statetransfer.StateTransferInterceptor.handleTxWriteCommand(StateTransferInterceptor.java:265)
	at org.infinispan.statetransfer.StateTransferInterceptor.handleWriteCommand(StateTransferInterceptor.java:247)
	at org.infinispan.statetransfer.StateTransferInterceptor.visitRemoveCommand(StateTransferInterceptor.java:123)
	at org.infinispan.commands.write.RemoveCommand.acceptVisitor(RemoveCommand.java:58)
	at org.infinispan.interceptors.base.CommandInterceptor.invokeNextInterceptor(CommandInterceptor.java:97)
	at org.infinispan.interceptors.CacheMgmtInterceptor.visitRemoveCommand(CacheMgmtInterceptor.java:209)
	at org.infinispan.commands.write.RemoveCommand.acceptVisitor(RemoveCommand.java:58)
	at org.infinispan.interceptors.base.CommandInterceptor.invokeNextInterceptor(CommandInterceptor.java:97)
	at org.infinispan.interceptors.InvocationContextInterceptor.handleAll(InvocationContextInterceptor.java:102)
	at org.infinispan.interceptors.InvocationContextInterceptor.handleDefault(InvocationContextInterceptor.java:71)
	at org.infinispan.commands.AbstractVisitor.visitRemoveCommand(AbstractVisitor.java:49)
	at org.infinispan.commands.write.RemoveCommand.acceptVisitor(RemoveCommand.java:58)
	at org.infinispan.interceptors.InterceptorChain.invoke(InterceptorChain.java:336)
	at org.infinispan.cache.impl.CacheImpl.executeCommandAndCommitIfNeeded(CacheImpl.java:1617)
	at org.infinispan.cache.impl.CacheImpl.removeInternal(CacheImpl.java:579)
	at org.infinispan.cache.impl.CacheImpl.remove(CacheImpl.java:572)
	at org.infinispan.cache.impl.DecoratedCache.remove(DecoratedCache.java:442)
	at org.infinispan.cache.impl.AbstractDelegatingCache.remove(AbstractDelegatingCache.java:297)
	at org.wildfly.clustering.web.infinispan.session.coarse.CoarseSessionFactory.remove(CoarseSessionFactory.java:140)
	at org.wildfly.clustering.web.infinispan.session.coarse.CoarseSessionFactory.findValue(CoarseSessionFactory.java:133)
	at org.wildfly.clustering.web.infinispan.session.coarse.CoarseSessionFactory.findValue(CoarseSessionFactory.java:56)
	at org.wildfly.clustering.web.infinispan.session.InfinispanSessionManager.removed(InfinispanSessionManager.java:317)
	at sun.reflect.GeneratedMethodAccessor109.invoke(Unknown Source) [:1.8.0_60]
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) [rt.jar:1.8.0_60]
	at java.lang.reflect.Method.invoke(Method.java:497) [rt.jar:1.8.0_60]
	at org.infinispan.notifications.impl.AbstractListenerImpl$ListenerInvocationImpl$1.run(AbstractListenerImpl.java:286)
	at org.infinispan.util.concurrent.WithinThreadExecutor.execute(WithinThreadExecutor.java:22)
	at org.infinispan.notifications.impl.AbstractListenerImpl$ListenerInvocationImpl.invoke(AbstractListenerImpl.java:309)
	at org.infinispan.notifications.cachelistener.CacheNotifierImpl$BaseCacheEntryListenerInvocation.doRealInvocation(CacheNotifierImpl.java:1212)
	at org.infinispan.notifications.cachelistener.CacheNotifierImpl$BaseCacheEntryListenerInvocation.invokeNoChecks(CacheNotifierImpl.java:1207)
	at org.infinispan.notifications.cachelistener.CacheNotifierImpl$BaseCacheEntryListenerInvocation.invoke(CacheNotifierImpl.java:1184)
	at org.infinispan.notifications.cachelistener.CacheNotifierImpl.notifyCacheEntryRemoved(CacheNotifierImpl.java:356)
	at org.infinispan.commands.write.RemoveCommand.notify(RemoveCommand.java:97)
	at org.infinispan.commands.write.RemoveCommand.performRemove(RemoveCommand.java:208)
	at org.infinispan.commands.write.RemoveCommand.perform(RemoveCommand.java:93)
	at org.infinispan.interceptors.CallInterceptor.handleDefault(CallInterceptor.java:124)
	at org.infinispan.commands.AbstractVisitor.visitRemoveCommand(AbstractVisitor.java:49)
	at org.infinispan.commands.write.RemoveCommand.acceptVisitor(RemoveCommand.java:58)
	at org.infinispan.interceptors.base.CommandInterceptor.invokeNextInterceptor(CommandInterceptor.java:97)
	at org.infinispan.interceptors.distribution.TxDistributionInterceptor.handleTxWriteCommand(TxDistributionInterceptor.java:306)
	at org.infinispan.interceptors.distribution.TxDistributionInterceptor.visitRemoveCommand(TxDistributionInterceptor.java:86)
	at org.infinispan.commands.write.RemoveCommand.acceptVisitor(RemoveCommand.java:58)
	at org.infinispan.interceptors.base.CommandInterceptor.invokeNextInterceptor(CommandInterceptor.java:97)
	at org.infinispan.interceptors.CacheLoaderInterceptor.visitDataCommand(CacheLoaderInterceptor.java:150)
	at org.infinispan.interceptors.CacheLoaderInterceptor.visitRemoveCommand(CacheLoaderInterceptor.java:135)
	at org.infinispan.commands.write.RemoveCommand.acceptVisitor(RemoveCommand.java:58)
	at org.infinispan.interceptors.base.CommandInterceptor.invokeNextInterceptor(CommandInterceptor.java:97)
	at org.infinispan.interceptors.EntryWrappingInterceptor.invokeNextAndApplyChanges(EntryWrappingInterceptor.java:388)
	at org.infinispan.interceptors.EntryWrappingInterceptor.setSkipRemoteGetsAndInvokeNextForDataCommand(EntryWrappingInterceptor.java:453)
	at org.infinispan.interceptors.EntryWrappingInterceptor.visitRemoveCommand(EntryWrappingInterceptor.java:252)
	at org.infinispan.commands.write.RemoveCommand.acceptVisitor(RemoveCommand.java:58)
	at org.infinispan.interceptors.base.CommandInterceptor.invokeNextInterceptor(CommandInterceptor.java:97)
	at org.infinispan.interceptors.base.CommandInterceptor.handleDefault(CommandInterceptor.java:111)
	at org.infinispan.commands.AbstractVisitor.visitRemoveCommand(AbstractVisitor.java:49)
	at org.infinispan.commands.write.RemoveCommand.acceptVisitor(RemoveCommand.java:58)
	at org.infinispan.interceptors.base.CommandInterceptor.invokeNextInterceptor(CommandInterceptor.java:97)
	at org.infinispan.interceptors.locking.PessimisticLockingInterceptor.visitDataWriteCommand(PessimisticLockingInterceptor.java:133)
	at org.infinispan.interceptors.locking.AbstractLockingInterceptor.visitRemoveCommand(AbstractLockingInterceptor.java:65)
	at org.infinispan.commands.write.RemoveCommand.acceptVisitor(RemoveCommand.java:58)
	at org.infinispan.interceptors.base.CommandInterceptor.invokeNextInterceptor(CommandInterceptor.java:97)
	at org.infinispan.interceptors.base.CommandInterceptor.handleDefault(CommandInterceptor.java:111)
	at org.infinispan.commands.AbstractVisitor.visitRemoveCommand(AbstractVisitor.java:49)
	at org.infinispan.commands.write.RemoveCommand.acceptVisitor(RemoveCommand.java:58)
	at org.infinispan.interceptors.base.CommandInterceptor.invokeNextInterceptor(CommandInterceptor.java:97)
	at org.infinispan.interceptors.TxInterceptor.enlistWriteAndInvokeNext(TxInterceptor.java:367)
	at org.infinispan.interceptors.TxInterceptor.visitRemoveCommand(TxInterceptor.java:273)
	at org.infinispan.commands.write.RemoveCommand.acceptVisitor(RemoveCommand.java:58)
	at org.infinispan.interceptors.base.CommandInterceptor.invokeNextInterceptor(CommandInterceptor.java:97)
	at org.infinispan.interceptors.base.CommandInterceptor.handleDefault(CommandInterceptor.java:111)
	at org.infinispan.commands.AbstractVisitor.visitRemoveCommand(AbstractVisitor.java:49)
	at org.infinispan.commands.write.RemoveCommand.acceptVisitor(RemoveCommand.java:58)
	at org.infinispan.interceptors.base.CommandInterceptor.invokeNextInterceptor(CommandInterceptor.java:97)
	at org.infinispan.statetransfer.StateTransferInterceptor.handleTxWriteCommand(StateTransferInterceptor.java:265)
	at org.infinispan.statetransfer.StateTransferInterceptor.handleWriteCommand(StateTransferInterceptor.java:247)
	at org.infinispan.statetransfer.StateTransferInterceptor.visitRemoveCommand(StateTransferInterceptor.java:123)
	at org.infinispan.commands.write.RemoveCommand.acceptVisitor(RemoveCommand.java:58)
	at org.infinispan.interceptors.base.CommandInterceptor.invokeNextInterceptor(CommandInterceptor.java:97)
	at org.infinispan.interceptors.CacheMgmtInterceptor.visitRemoveCommand(CacheMgmtInterceptor.java:209)
	at org.infinispan.commands.write.RemoveCommand.acceptVisitor(RemoveCommand.java:58)
	at org.infinispan.interceptors.base.CommandInterceptor.invokeNextInterceptor(CommandInterceptor.java:97)
	at org.infinispan.interceptors.InvocationContextInterceptor.handleAll(InvocationContextInterceptor.java:102)
	at org.infinispan.interceptors.InvocationContextInterceptor.handleDefault(InvocationContextInterceptor.java:71)
	at org.infinispan.commands.AbstractVisitor.visitRemoveCommand(AbstractVisitor.java:49)
	at org.infinispan.commands.write.RemoveCommand.acceptVisitor(RemoveCommand.java:58)
	at org.infinispan.interceptors.InterceptorChain.invoke(InterceptorChain.java:336)
	at org.infinispan.cache.impl.CacheImpl.executeCommandAndCommitIfNeeded(CacheImpl.java:1617)
	at org.infinispan.cache.impl.CacheImpl.removeInternal(CacheImpl.java:579)
	at org.infinispan.cache.impl.CacheImpl.remove(CacheImpl.java:572)
	at org.infinispan.cache.impl.DecoratedCache.remove(DecoratedCache.java:442)
	at org.infinispan.cache.impl.AbstractDelegatingCache.remove(AbstractDelegatingCache.java:297)
	at org.wildfly.clustering.web.infinispan.session.coarse.CoarseSessionFactory.remove(CoarseSessionFactory.java:140)
	at org.wildfly.clustering.web.infinispan.session.coarse.CoarseSessionFactory.findValue(CoarseSessionFactory.java:133)
	at org.wildfly.clustering.web.infinispan.session.coarse.CoarseSessionFactory.findValue(CoarseSessionFactory.java:56)
	at org.wildfly.clustering.web.infinispan.session.InfinispanSessionManager.removed(InfinispanSessionManager.java:317)
	at sun.reflect.GeneratedMethodAccessor109.invoke(Unknown Source) [:1.8.0_60]
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) [rt.jar:1.8.0_60]
	at java.lang.reflect.Method.invoke(Method.java:497) [rt.jar:1.8.0_60]
	at org.infinispan.notifications.impl.AbstractListenerImpl$ListenerInvocationImpl$1.run(AbstractListenerImpl.java:286)
	at org.infinispan.util.concurrent.WithinThreadExecutor.execute(WithinThreadExecutor.java:22)
	at org.infinispan.notifications.impl.AbstractListenerImpl$ListenerInvocationImpl.invoke(AbstractListenerImpl.java:309)
	at org.infinispan.notifications.cachelistener.CacheNotifierImpl$BaseCacheEntryListenerInvocation.doRealInvocation(CacheNotifierImpl.java:1212)
	at org.infinispan.notifications.cachelistener.CacheNotifierImpl$BaseCacheEntryListenerInvocation.invokeNoChecks(CacheNotifierImpl.java:1207)
	at org.infinispan.notifications.cachelistener.CacheNotifierImpl$BaseCacheEntryListenerInvocation.invoke(CacheNotifierImpl.java:1184)
	at org.infinispan.notifications.cachelistener.CacheNotifierImpl.notifyCacheEntryRemoved(CacheNotifierImpl.java:356)
	at org.infinispan.commands.write.RemoveCommand.notify(RemoveCommand.java:97)
	at org.infinispan.commands.write.RemoveCommand.performRemove(RemoveCommand.java:208)
	at org.infinispan.commands.write.RemoveCommand.perform(RemoveCommand.java:93)
	at org.infinispan.interceptors.CallInterceptor.handleDefault(CallInterceptor.java:124)
	at org.infinispan.commands.AbstractVisitor.visitRemoveCommand(AbstractVisitor.java:49)
	at org.infinispan.commands.write.RemoveCommand.acceptVisitor(RemoveCommand.java:58)
	at org.infinispan.interceptors.base.CommandInterceptor.invokeNextInterceptor(CommandInterceptor.java:97)
	at org.infinispan.interceptors.distribution.TxDistributionInterceptor.handleTxWriteCommand(TxDistributionInterceptor.java:306)
	at org.infinispan.interceptors.distribution.TxDistributionInterceptor.visitRemoveCommand(TxDistributionInterceptor.java:86)
	at org.infinispan.commands.write.RemoveCommand.acceptVisitor(RemoveCommand.java:58)
	at org.infinispan.interceptors.base.CommandInterceptor.invokeNextInterceptor(CommandInterceptor.java:97)
	at org.infinispan.interceptors.CacheLoaderInterceptor.visitDataCommand(CacheLoaderInterceptor.java:150)
	at org.infinispan.interceptors.CacheLoaderInterceptor.visitRemoveCommand(CacheLoaderInterceptor.java:135)
	at org.infinispan.commands.write.RemoveCommand.acceptVisitor(RemoveCommand.java:58)
	at org.infinispan.interceptors.base.CommandInterceptor.invokeNextInterceptor(CommandInterceptor.java:97)
	at org.infinispan.interceptors.EntryWrappingInterceptor.invokeNextAndApplyChanges(EntryWrappingInterceptor.java:388)
	at org.infinispan.interceptors.EntryWrappingInterceptor.setSkipRemoteGetsAndInvokeNextForDataCommand(EntryWrappingInterceptor.java:453)
	at org.infinispan.interceptors.EntryWrappingInterceptor.visitRemoveCommand(EntryWrappingInterceptor.java:252)
	at org.infinispan.commands.write.RemoveCommand.acceptVisitor(RemoveCommand.java:58)
	at org.infinispan.interceptors.base.CommandInterceptor.invokeNextInterceptor(CommandInterceptor.java:97)
	at org.infinispan.interceptors.base.CommandInterceptor.handleDefault(CommandInterceptor.java:111)
	at org.infinispan.commands.AbstractVisitor.visitRemoveCommand(AbstractVisitor.java:49)
	at org.infinispan.commands.write.RemoveCommand.acceptVisitor(RemoveCommand.java:58)
	at org.infinispan.interceptors.base.CommandInterceptor.invokeNextInterceptor(CommandInterceptor.java:97)
	at org.infinispan.interceptors.locking.PessimisticLockingInterceptor.visitDataWriteCommand(PessimisticLockingInterceptor.java:133)
	at org.infinispan.interceptors.locking.AbstractLockingInterceptor.visitRemoveCommand(AbstractLockingInterceptor.java:65)
	at org.infinispan.commands.write.RemoveCommand.acceptVisitor(RemoveCommand.java:58)
	at org.infinispan.interceptors.base.CommandInterceptor.invokeNextInterceptor(CommandInterceptor.java:97)
	at org.infinispan.interceptors.base.CommandInterceptor.handleDefault(CommandInterceptor.java:111)
	at org.infinispan.commands.AbstractVisitor.visitRemoveCommand(AbstractVisitor.java:49)
	at org.infinispan.commands.write.RemoveCommand.acceptVisitor(RemoveCommand.java:58)
	at org.infinispan.interceptors.base.CommandInterceptor.invokeNextInterceptor(CommandInterceptor.java:97)
	at org.infinispan.interceptors.TxInterceptor.enlistWriteAndInvokeNext(TxInterceptor.java:367)
	at org.infinispan.interceptors.TxInterceptor.visitRemoveCommand(TxInterceptor.java:273)
	at org.infinispan.commands.write.RemoveCommand.acceptVisitor(RemoveCommand.java:58)
	at org.infinispan.interceptors.base.CommandInterceptor.invokeNextInterceptor(CommandInterceptor.java:97)
	at org.infinispan.interceptors.base.CommandInterceptor.handleDefault(CommandInterceptor.java:111)
	at org.infinispan.commands.AbstractVisitor.visitRemoveCommand(AbstractVisitor.java:49)
	at org.infinispan.commands.write.RemoveCommand.acceptVisitor(RemoveCommand.java:58)
	at org.infinispan.interceptors.base.CommandInterceptor.invokeNextInterceptor(CommandInterceptor.java:97)
	at org.infinispan.statetransfer.StateTransferInterceptor.handleTxWriteCommand(StateTransferInterceptor.java:265)
	at org.infinispan.statetransfer.StateTransferInterceptor.handleWriteCommand(StateTransferInterceptor.java:247)
	at org.infinispan.statetransfer.StateTransferInterceptor.visitRemoveCommand(StateTransferInterceptor.java:123)
	at org.infinispan.commands.write.RemoveCommand.acceptVisitor(RemoveCommand.java:58)
	at org.infinispan.interceptors.base.CommandInterceptor.invokeNextInterceptor(CommandInterceptor.java:97)
	at org.infinispan.interceptors.CacheMgmtInterceptor.visitRemoveCommand(CacheMgmtInterceptor.java:209)
	at org.infinispan.commands.write.RemoveCommand.acceptVisitor(RemoveCommand.java:58)
	at org.infinispan.interceptors.base.CommandInterceptor.invokeNextInterceptor(CommandInterceptor.java:97)
	at org.infinispan.interceptors.InvocationContextInterceptor.handleAll(InvocationContextInterceptor.java:102)
	at org.infinispan.interceptors.InvocationContextInterceptor.handleDefault(InvocationContextInterceptor.java:71)
	at org.infinispan.commands.AbstractVisitor.visitRemoveCommand(AbstractVisitor.java:49)
	at org.infinispan.commands.write.RemoveCommand.acceptVisitor(RemoveCommand.java:58)
	at org.infinispan.interceptors.InterceptorChain.invoke(InterceptorChain.java:336)
	at org.infinispan.cache.impl.CacheImpl.executeCommandAndCommitIfNeeded(CacheImpl.java:1617)
	at org.infinispan.cache.impl.CacheImpl.removeInternal(CacheImpl.java:579)
	at org.infinispan.cache.impl.CacheImpl.remove(CacheImpl.java:572)
	at org.infinispan.cache.impl.DecoratedCache.remove(DecoratedCache.java:442)
	at org.infinispan.cache.impl.AbstractDelegatingCache.remove(AbstractDelegatingCache.java:297)
	at org.wildfly.clustering.web.infinispan.session.coarse.CoarseSessionFactory.remove(CoarseSessionFactory.java:140)
	at org.wildfly.clustering.web.infinispan.session.coarse.CoarseSessionFactory.findValue(CoarseSessionFactory.java:133)
	at org.wildfly.clustering.web.infinispan.session.coarse.CoarseSessionFactory.findValue(CoarseSessionFactory.java:56)
	at org.wildfly.clustering.web.infinispan.session.InfinispanSessionManager.removed(InfinispanSessionManager.java:317)
	at sun.reflect.GeneratedMethodAccessor109.invoke(Unknown Source) [:1.8.0_60]
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) [rt.jar:1.8.0_60]
	at java.lang.reflect.Method.invoke(Method.java:497) [rt.jar:1.8.0_60]
	at org.infinispan.notifications.impl.AbstractListenerImpl$ListenerInvocationImpl$1.run(AbstractListenerImpl.java:286)
	at org.infinispan.util.concurrent.WithinThreadExecutor.execute(WithinThreadExecutor.java:22)
	at org.infinispan.notifications.impl.AbstractListenerImpl$ListenerInvocationImpl.invoke(AbstractListenerImpl.java:309)
	at org.infinispan.notifications.cachelistener.CacheNotifierImpl$BaseCacheEntryListenerInvocation.doRealInvocation(CacheNotifierImpl.java:1212)
	at org.infinispan.notifications.cachelistener.CacheNotifierImpl$BaseCacheEntryListenerInvocation.invokeNoChecks(CacheNotifierImpl.java:1207)
	at org.infinispan.notifications.cachelistener.CacheNotifierImpl$BaseCacheEntryListenerInvocation.invoke(CacheNotifierImpl.java:1184)
	at org.infinispan.notifications.cachelistener.CacheNotifierImpl.notifyCacheEntryRemoved(CacheNotifierImpl.java:356)
	at org.infinispan.commands.write.RemoveCommand.notify(RemoveCommand.java:97)
	at org.infinispan.commands.write.RemoveCommand.performRemove(RemoveCommand.java:208)
	at org.infinispan.commands.write.RemoveCommand.perform(RemoveCommand.java:93)
	at org.infinispan.interceptors.CallInterceptor.handleDefault(CallInterceptor.java:124)
	at org.infinispan.commands.AbstractVisitor.visitRemoveCommand(AbstractVisitor.java:49)
	at org.infinispan.commands.write.RemoveCommand.acceptVisitor(RemoveCommand.java:58)
	at org.infinispan.interceptors.base.CommandInterceptor.invokeNextInterceptor(CommandInterceptor.java:97)
	at org.infinispan.interceptors.distribution.TxDistributionInterceptor.handleTxWriteCommand(TxDistributionInterceptor.java:306)
	at org.infinispan.interceptors.distribution.TxDistributionInterceptor.visitRemoveCommand(TxDistributionInterceptor.java:86)
	at org.infinispan.commands.write.RemoveCommand.acceptVisitor(RemoveCommand.java:58)
	at org.infinispan.interceptors.base.CommandInterceptor.invokeNextInterceptor(CommandInterceptor.java:97)
	at org.infinispan.interceptors.CacheLoaderInterceptor.visitDataCommand(CacheLoaderInterceptor.java:150)
	at org.infinispan.interceptors.CacheLoaderInterceptor.visitRemoveCommand(CacheLoaderInterceptor.java:135)
	at org.infinispan.commands.write.RemoveCommand.acceptVisitor(RemoveCommand.java:58)
	at org.infinispan.interceptors.base.CommandInterceptor.invokeNextInterceptor(CommandInterceptor.java:97)
	at org.infinispan.interceptors.EntryWrappingInterceptor.invokeNextAndApplyChanges(EntryWrappingInterceptor.java:388)
	at org.infinispan.interceptors.EntryWrappingInterceptor.setSkipRemoteGetsAndInvokeNextForDataCommand(EntryWrappingInterceptor.java:453)
	at org.infinispan.interceptors.EntryWrappingInterceptor.visitRemoveCommand(EntryWrappingInterceptor.java:252)
	at org.infinispan.commands.write.RemoveCommand.acceptVisitor(RemoveCommand.java:58)
	at org.infinispan.interceptors.base.CommandInterceptor.invokeNextInterceptor(CommandInterceptor.java:97)
	at org.infinispan.interceptors.base.CommandInterceptor.handleDefault(CommandInterceptor.java:111)
	at org.infinispan.commands.AbstractVisitor.visitRemoveCommand(AbstractVisitor.java:49)
	at org.infinispan.commands.write.RemoveCommand.acceptVisitor(RemoveCommand.java:58)
	at org.infinispan.interceptors.base.CommandInterceptor.invokeNextInterceptor(CommandInterceptor.java:97)
	at org.infinispan.interceptors.locking.PessimisticLockingInterceptor.visitDataWriteCommand(PessimisticLockingInterceptor.java:133)
	at org.infinispan.interceptors.locking.AbstractLockingInterceptor.visitRemoveCommand(AbstractLockingInterceptor.java:65)
	at org.infinispan.commands.write.RemoveCommand.acceptVisitor(RemoveCommand.java:58)
	at org.infinispan.interceptors.base.CommandInterceptor.invokeNextInterceptor(CommandInterceptor.java:97)
	at org.infinispan.interceptors.base.CommandInterceptor.handleDefault(CommandInterceptor.java:111)
	at org.infinispan.commands.AbstractVisitor.visitRemoveCommand(AbstractVisitor.java:49)
	at org.infinispan.commands.write.RemoveCommand.acceptVisitor(RemoveCommand.java:58)
	at org.infinispan.interceptors.base.CommandInterceptor.invokeNextInterceptor(CommandInterceptor.java:97)
	at org.infinispan.interceptors.TxInterceptor.enlistWriteAndInvokeNext(TxInterceptor.java:367)
	at org.infinispan.interceptors.TxInterceptor.visitRemoveCommand(TxInterceptor.java:273)
	at org.infinispan.commands.write.RemoveCommand.acceptVisitor(RemoveCommand.java:58)
	at org.infinispan.interceptors.base.CommandInterceptor.invokeNextInterceptor(CommandInterceptor.java:97)
	at org.infinispan.interceptors.base.CommandInterceptor.handleDefault(CommandInterceptor.java:111)
	at org.infinispan.commands.AbstractVisitor.visitRemoveCommand(AbstractVisitor.java:49)
	at org.infinispan.commands.write.RemoveCommand.acceptVisitor(RemoveCommand.java:58)
	at org.infinispan.interceptors.base.CommandInterceptor.invokeNextInterceptor(CommandInterceptor.java:97)
	at org.infinispan.statetransfer.StateTransferInterceptor.handleTxWriteCommand(StateTransferInterceptor.java:265)
	at org.infinispan.statetransfer.StateTransferInterceptor.handleWriteCommand(StateTransferInterceptor.java:247)
	at org.infinispan.statetransfer.StateTransferInterceptor.visitRemoveCommand(StateTransferInterceptor.java:123)
	at org.infinispan.commands.write.RemoveCommand.acceptVisitor(RemoveCommand.java:58)
	at org.infinispan.interceptors.base.CommandInterceptor.invokeNextInterceptor(CommandInterceptor.java:97)
	at org.infinispan.interceptors.CacheMgmtInterceptor.visitRemoveCommand(CacheMgmtInterceptor.java:209)
	at org.infinispan.commands.write.RemoveCommand.acceptVisitor(RemoveCommand.java:58)
	at org.infinispan.interceptors.base.CommandInterceptor.invokeNextInterceptor(CommandInterceptor.java:97)
	at org.infinispan.interceptors.InvocationContextInterceptor.handleAll(InvocationContextInterceptor.java:102)
	at org.infinispan.interceptors.InvocationContextInterceptor.handleDefault(InvocationContextInterceptor.java:71)
	at org.infinispan.commands.AbstractVisitor.visitRemoveCommand(AbstractVisitor.java:49)
	at org.infinispan.commands.write.RemoveCommand.acceptVisitor(RemoveCommand.java:58)
	at org.infinispan.interceptors.InterceptorChain.invoke(InterceptorChain.java:336)
	at org.infinispan.cache.impl.CacheImpl.executeCommandAndCommitIfNeeded(CacheImpl.java:1617)
	at org.infinispan.cache.impl.CacheImpl.removeInternal(CacheImpl.java:579)
	at org.infinispan.cache.impl.CacheImpl.remove(CacheImpl.java:572)
	at org.infinispan.cache.impl.DecoratedCache.remove(DecoratedCache.java:442)
	at org.infinispan.cache.impl.AbstractDelegatingCache.remove(AbstractDelegatingCache.java:297)
	at org.wildfly.clustering.web.infinispan.session.coarse.CoarseSessionFactory.remove(CoarseSessionFactory.java:140)
	at org.wildfly.clustering.web.infinispan.session.coarse.CoarseSessionFactory.findValue(CoarseSessionFactory.java:133)
	at org.wildfly.clustering.web.infinispan.session.coarse.CoarseSessionFactory.findValue(CoarseSessionFactory.java:56)
	at org.wildfly.clustering.web.infinispan.session.InfinispanSessionManager.removed(InfinispanSessionManager.java:317)
	at sun.reflect.GeneratedMethodAccessor109.invoke(Unknown Source) [:1.8.0_60]
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) [rt.jar:1.8.0_60]
	at java.lang.reflect.Method.invoke(Method.java:497) [rt.jar:1.8.0_60]
	at org.infinispan.notifications.impl.AbstractListenerImpl$ListenerInvocationImpl$1.run(AbstractListenerImpl.java:286)
	at org.infinispan.util.concurrent.WithinThreadExecutor.execute(WithinThreadExecutor.java:22)
	at org.infinispan.notifications.impl.AbstractListenerImpl$ListenerInvocationImpl.invoke(AbstractListenerImpl.java:309)
	at org.infinispan.notifications.cachelistener.CacheNotifierImpl$BaseCacheEntryListenerInvocation.doRealInvocation(CacheNotifierImpl.java:1212)
	at org.infinispan.notifications.cachelistener.CacheNotifierImpl$BaseCacheEntryListenerInvocation.invokeNoChecks(CacheNotifierImpl.java:1207)
	at org.infinispan.notifications.cachelistener.CacheNotifierImpl$BaseCacheEntryListenerInvocation.invoke(CacheNotifierImpl.java:1184)
	at org.infinispan.notifications.cachelistener.CacheNotifierImpl.notifyCacheEntryRemoved(CacheNotifierImpl.java:356)
	at org.infinispan.commands.write.RemoveCommand.notify(RemoveCommand.java:97)
	at org.infinispan.commands.write.RemoveCommand.performRemove(RemoveCommand.java:208)
	at org.infinispan.commands.write.RemoveCommand.perform(RemoveCommand.java:93)
	at org.infinispan.interceptors.CallInterceptor.handleDefault(CallInterceptor.java:124)
	at org.infinispan.commands.AbstractVisitor.visitRemoveCommand(AbstractVisitor.java:49)
	at org.infinispan.commands.write.RemoveCommand.acceptVisitor(RemoveCommand.java:58)
	at org.infinispan.interceptors.base.CommandInterceptor.invokeNextInterceptor(CommandInterceptor.java:97)
	at org.infinispan.interceptors.distribution.TxDistributionInterceptor.handleTxWriteCommand(TxDistributionInterceptor.java:306)
	at org.infinispan.interceptors.distribution.TxDistributionInterceptor.visitRemoveCommand(TxDistributionInterceptor.java:86)
	at org.infinispan.commands.write.RemoveCommand.acceptVisitor(RemoveCommand.java:58)
	at org.infinispan.interceptors.base.CommandInterceptor.invokeNextInterceptor(CommandInterceptor.java:97)
	at org.infinispan.interceptors.CacheLoaderInterceptor.visitDataCommand(CacheLoaderInterceptor.java:150)
	at org.infinispan.interceptors.CacheLoaderInterceptor.visitRemoveCommand(CacheLoaderInterceptor.java:135)
	at org.infinispan.commands.write.RemoveCommand.acceptVisitor(RemoveCommand.java:58)
	at org.infinispan.interceptors.base.CommandInterceptor.invokeNextInterceptor(CommandInterceptor.java:97)
	at org.infinispan.interceptors.EntryWrappingInterceptor.invokeNextAndApplyChanges(EntryWrappingInterceptor.java:388)
	at org.infinispan.interceptors.EntryWrappingInterceptor.setSkipRemoteGetsAndInvokeNextForDataCommand(EntryWrappingInterceptor.java:453)
	at org.infinispan.interceptors.EntryWrappingInterceptor.visitRemoveCommand(EntryWrappingInterceptor.java:252)
	at org.infinispan.commands.write.RemoveCommand.acceptVisitor(RemoveCommand.java:58)
	at org.infinispan.interceptors.base.CommandInterceptor.invokeNextInterceptor(CommandInterceptor.java:97)
	at org.infinispan.interceptors.base.CommandInterceptor.handleDefault(CommandInterceptor.java:111)
	at org.infinispan.commands.AbstractVisitor.visitRemoveCommand(AbstractVisitor.java:49)
	at org.infinispan.commands.write.RemoveCommand.acceptVisitor(RemoveCommand.java:58)
	at org.infinispan.interceptors.base.CommandInterceptor.invokeNextInterceptor(CommandInterceptor.java:97)
	at org.infinispan.interceptors.locking.PessimisticLockingInterceptor.visitDataWriteCommand(PessimisticLockingInterceptor.java:133)
	at org.infinispan.interceptors.locking.AbstractLockingInterceptor.visitRemoveCommand(AbstractLockingInterceptor.java:65)
	at org.infinispan.commands.write.RemoveCommand.acceptVisitor(RemoveCommand.java:58)
	at org.infinispan.interceptors.base.CommandInterceptor.invokeNextInterceptor(CommandInterceptor.java:97)
	at org.infinispan.interceptors.base.CommandInterceptor.handleDefault(CommandInterceptor.java:111)
	at org.infinispan.commands.AbstractVisitor.visitRemoveCommand(AbstractVisitor.java:49)
	at org.infinispan.commands.write.RemoveCommand.acceptVisitor(RemoveCommand.java:58)
	at org.infinispan.interceptors.base.CommandInterceptor.invokeNextInterceptor(CommandInterceptor.java:97)
	at org.infinispan.interceptors.TxInterceptor.enlistWriteAndInvokeNext(TxInterceptor.java:367)
	at org.infinispan.interceptors.TxInterceptor.visitRemoveCommand(TxInterceptor.java:273)
	at org.infinispan.commands.write.RemoveCommand.acceptVisitor(RemoveCommand.java:58)
	at org.infinispan.interceptors.base.CommandInterceptor.invokeNextInterceptor(CommandInterceptor.java:97)
	at org.infinispan.interceptors.base.CommandInterceptor.handleDefault(CommandInterceptor.java:111)
	at org.infinispan.commands.AbstractVisitor.visitRemoveCommand(AbstractVisitor.java:49)
	at org.infinispan.commands.write.RemoveCommand.acceptVisitor(RemoveCommand.java:58)
	at org.infinispan.interceptors.base.CommandInterceptor.invokeNextInterceptor(CommandInterceptor.java:97)
	at org.infinispan.statetransfer.StateTransferInterceptor.handleTxWriteCommand(StateTransferInterceptor.java:265)
	at org.infinispan.statetransfer.StateTransferInterceptor.handleWriteCommand(StateTransferInterceptor.java:247)
	at org.infinispan.statetransfer.StateTransferInterceptor.visitRemoveCommand(StateTransferInterceptor.java:123)
	at org.infinispan.commands.write.RemoveCommand.acceptVisitor(RemoveCommand.java:58)
	at org.infinispan.interceptors.base.CommandInterceptor.invokeNextInterceptor(CommandInterceptor.java:97)
	at org.infinispan.interceptors.CacheMgmtInterceptor.visitRemoveCommand(CacheMgmtInterceptor.java:209)
	at org.infinispan.commands.write.RemoveCommand.acceptVisitor(RemoveCommand.java:58)
	at org.infinispan.interceptors.base.CommandInterceptor.invokeNextInterceptor(CommandInterceptor.java:97)
	at org.infinispan.interceptors.InvocationContextInterceptor.handleAll(InvocationContextInterceptor.java:102)
	at org.infinispan.interceptors.InvocationContextInterceptor.handleDefault(InvocationContextInterceptor.java:71)
	at org.infinispan.commands.AbstractVisitor.visitRemoveCommand(AbstractVisitor.java:49)
	at org.infinispan.commands.write.RemoveCommand.acceptVisitor(RemoveCommand.java:58)
	at org.infinispan.interceptors.InterceptorChain.invoke(InterceptorChain.java:336)
	at org.infinispan.cache.impl.CacheImpl.executeCommandAndCommitIfNeeded(CacheImpl.java:1617)
	at org.infinispan.cache.impl.CacheImpl.removeInternal(CacheImpl.java:579)
	at org.infinispan.cache.impl.CacheImpl.remove(CacheImpl.java:572)
	at org.infinispan.cache.impl.DecoratedCache.remove(DecoratedCache.java:442)
	at org.infinispan.cache.impl.AbstractDelegatingCache.remove(AbstractDelegatingCache.java:297)
	at org.wildfly.clustering.web.infinispan.session.coarse.CoarseSessionFactory.remove(CoarseSessionFactory.java:140)
	at org.wildfly.clustering.web.infinispan.session.coarse.CoarseSessionFactory.findValue(CoarseSessionFactory.java:133)
	at org.wildfly.clustering.web.infinispan.session.coarse.CoarseSessionFactory.findValue(CoarseSessionFactory.java:56)
	at org.wildfly.clustering.web.infinispan.session.InfinispanSessionManager.removed(InfinispanSessionManager.java:317)
	at sun.reflect.GeneratedMethodAccessor109.invoke(Unknown Source) [:1.8.0_60]
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) [rt.jar:1.8.0_60]
	at java.lang.reflect.Method.invoke(Method.java:497) [rt.jar:1.8.0_60]
	at org.infinispan.notifications.impl.AbstractListenerImpl$ListenerInvocationImpl$1.run(AbstractListenerImpl.java:286)
	at org.infinispan.util.concurrent.WithinThreadExecutor.execute(WithinThreadExecutor.java:22)
	at org.infinispan.notifications.impl.AbstractListenerImpl$ListenerInvocationImpl.invoke(AbstractListenerImpl.java:309)
	at org.infinispan.notifications.cachelistener.CacheNotifierImpl$BaseCacheEntryListenerInvocation.doRealInvocation(CacheNotifierImpl.java:1212)
	at org.infinispan.notifications.cachelistener.CacheNotifierImpl$BaseCacheEntryListenerInvocation.invokeNoChecks(CacheNotifierImpl.java:1207)
	at org.infinispan.notifications.cachelistener.CacheNotifierImpl$BaseCacheEntryListenerInvocation.invoke(CacheNotifierImpl.java:1184)
	at org.infinispan.notifications.cachelistener.CacheNotifierImpl.notifyCacheEntryRemoved(CacheNotifierImpl.java:356)
	at org.infinispan.commands.write.RemoveCommand.notify(RemoveCommand.java:97)
	at org.infinispan.commands.write.RemoveCommand.performRemove(RemoveCommand.java:208)
	at org.infinispan.commands.write.RemoveCommand.perform(RemoveCommand.java:93)
	at org.infinispan.interceptors.CallInterceptor.handleDefault(CallInterceptor.java:124)
	at org.infinispan.commands.AbstractVisitor.visitRemoveCommand(AbstractVisitor.java:49)
	at org.infinispan.commands.write.RemoveCommand.acceptVisitor(RemoveCommand.java:58)
	at org.infinispan.interceptors.base.CommandInterceptor.invokeNextInterceptor(CommandInterceptor.java:97)
	at org.infinispan.interceptors.distribution.TxDistributionInterceptor.handleTxWriteCommand(TxDistributionInterceptor.java:306)
	at org.infinispan.interceptors.distribution.TxDistributionInterceptor.visitRemoveCommand(TxDistributionInterceptor.java:86)
	at org.infinispan.commands.write.RemoveCommand.acceptVisitor(RemoveCommand.java:58)
	at org.infinispan.interceptors.base.CommandInterceptor.invokeNextInterceptor(CommandInterceptor.java:97)
	at org.infinispan.interceptors.CacheLoaderInterceptor.visitDataCommand(CacheLoaderInterceptor.java:150)
	at org.infinispan.interceptors.CacheLoaderInterceptor.visitRemoveCommand(CacheLoaderInterceptor.java:135)
	at org.infinispan.commands.write.RemoveCommand.acceptVisitor(RemoveCommand.java:58)
	at org.infinispan.interceptors.base.CommandInterceptor.invokeNextInterceptor(CommandInterceptor.java:97)
	at org.infinispan.interceptors.EntryWrappingInterceptor.invokeNextAndApplyChanges(EntryWrappingInterceptor.java:388)
	at org.infinispan.interceptors.EntryWrappingInterceptor.setSkipRemoteGetsAndInvokeNextForDataCommand(EntryWrappingInterceptor.java:453)
	at org.infinispan.interceptors.EntryWrappingInterceptor.visitRemoveCommand(EntryWrappingInterceptor.java:252)
	at org.infinispan.commands.write.RemoveCommand.acceptVisitor(RemoveCommand.java:58)
	at org.infinispan.interceptors.base.CommandInterceptor.invokeNextInterceptor(CommandInterceptor.java:97)
	at org.infinispan.interceptors.base.CommandInterceptor.handleDefault(CommandInterceptor.java:111)
	at org.infinispan.commands.AbstractVisitor.visitRemoveCommand(AbstractVisitor.java:49)
	at org.infinispan.commands.write.RemoveCommand.acceptVisitor(RemoveCommand.java:58)
	at org.infinispan.interceptors.base.CommandInterceptor.invokeNextInterceptor(CommandInterceptor.java:97)
	at org.infinispan.interceptors.locking.PessimisticLockingInterceptor.visitDataWriteCommand(PessimisticLockingInterceptor.java:133)
	at org.infinispan.interceptors.locking.AbstractLockingInterceptor.visitRemoveCommand(AbstractLockingInterceptor.java:65)
	at org.infinispan.commands.write.RemoveCommand.acceptVisitor(RemoveCommand.java:58)
	at org.infinispan.interceptors.base.CommandInterceptor.invokeNextInterceptor(CommandInterceptor.java:97)
	at org.infinispan.interceptors.base.CommandInterceptor.handleDefault(CommandInterceptor.java:111)
	at org.infinispan.commands.AbstractVisitor.visitRemoveCommand(AbstractVisitor.java:49)
	at org.infinispan.commands.write.RemoveCommand.acceptVisitor(RemoveCommand.java:58)
	at org.infinispan.interceptors.base.CommandInterceptor.invokeNextInterceptor(CommandInterceptor.java:97)
	at org.infinispan.interceptors.TxInterceptor.enlistWriteAndInvokeNext(TxInterceptor.java:367)
	at org.infinispan.interceptors.TxInterceptor.visitRemoveCommand(TxInterceptor.java:273)
	at org.infinispan.commands.write.RemoveCommand.acceptVisitor(RemoveCommand.java:58)
	at org.infinispan.interceptors.base.CommandInterceptor.invokeNextInterceptor(CommandInterceptor.java:97)
	at org.infinispan.interceptors.base.CommandInterceptor.handleDefault(CommandInterceptor.java:111)
	at org.infinispan.commands.AbstractVisitor.visitRemoveCommand(AbstractVisitor.java:49)
	at org.infinispan.commands.write.RemoveCommand.acceptVisitor(RemoveCommand.java:58)
	at org.infinispan.interceptors.base.CommandInterceptor.invokeNextInterceptor(CommandInterceptor.java:97)
	at org.infinispan.statetransfer.StateTransferInterceptor.handleTxWriteCommand(StateTransferInterceptor.java:265)
	at org.infinispan.statetransfer.StateTransferInterceptor.handleWriteCommand(StateTransferInterceptor.java:247)
	at org.infinispan.statetransfer.StateTransferInterceptor.visitRemoveCommand(StateTransferInterceptor.java:123)
	at org.infinispan.commands.write.RemoveCommand.acceptVisitor(RemoveCommand.java:58)
	at org.infinispan.interceptors.base.CommandInterceptor.invokeNextInterceptor(CommandInterceptor.java:97)
	at org.infinispan.interceptors.CacheMgmtInterceptor.visitRemoveCommand(CacheMgmtInterceptor.java:209)
	at org.infinispan.commands.write.RemoveCommand.acceptVisitor(RemoveCommand.java:58)
	at org.infinispan.interceptors.base.CommandInterceptor.invokeNextInterceptor(CommandInterceptor.java:97)
	at org.infinispan.interceptors.InvocationContextInterceptor.handleAll(InvocationContextInterceptor.java:102)
	at org.infinispan.interceptors.InvocationContextInterceptor.handleDefault(InvocationContextInterceptor.java:71)
	at org.infinispan.commands.AbstractVisitor.visitRemoveCommand(AbstractVisitor.java:49)
	at org.infinispan.commands.write.RemoveCommand.acceptVisitor(RemoveCommand.java:58)
	at org.infinispan.interceptors.InterceptorChain.invoke(InterceptorChain.java:336)
	at org.infinispan.cache.impl.CacheImpl.executeCommandAndCommitIfNeeded(CacheImpl.java:1617)
	at org.infinispan.cache.impl.CacheImpl.removeInternal(CacheImpl.java:579)
	at org.infinispan.cache.impl.CacheImpl.remove(CacheImpl.java:572)
	at org.infinispan.cache.impl.DecoratedCache.remove(DecoratedCache.java:442)
	at org.infinispan.cache.impl.AbstractDelegatingCache.remove(AbstractDelegatingCache.java:297)
	at org.wildfly.clustering.web.infinispan.session.coarse.CoarseSessionFactory.remove(CoarseSessionFactory.java:140)
	at org.wildfly.clustering.web.infinispan.session.coarse.CoarseSessionFactory.findValue(CoarseSessionFactory.java:133)
	at org.wildfly.clustering.web.infinispan.session.coarse.CoarseSessionFactory.findValue(CoarseSessionFactory.java:56)
	at org.wildfly.clustering.web.infinispan.session.InfinispanSessionManager.removed(InfinispanSessionManager.java:317)
	at sun.reflect.GeneratedMethodAccessor109.invoke(Unknown Source) [:1.8.0_60]
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) [rt.jar:1.8.0_60]
	at java.lang.reflect.Method.invoke(Method.java:497) [rt.jar:1.8.0_60]
	at org.infinispan.notifications.impl.AbstractListenerImpl$ListenerInvocationImpl$1.run(AbstractListenerImpl.java:286)
	at org.infinispan.util.concurrent.WithinThreadExecutor.execute(WithinThreadExecutor.java:22)
	at org.infinispan.notifications.impl.AbstractListenerImpl$ListenerInvocationImpl.invoke(AbstractListenerImpl.java:309)
	at org.infinispan.notifications.cachelistener.CacheNotifierImpl$BaseCacheEntryListenerInvocation.doRealInvocation(CacheNotifierImpl.java:1212)
	at org.infinispan.notifications.cachelistener.CacheNotifierImpl$BaseCacheEntryListenerInvocation.invokeNoChecks(CacheNotifierImpl.java:1207)
	at org.infinispan.notifications.cachelistener.CacheNotifierImpl$BaseCacheEntryListenerInvocation.invoke(CacheNotifierImpl.java:1184)
	at org.infinispan.notifications.cachelistener.CacheNotifierImpl.notifyCacheEntryRemoved(CacheNotifierImpl.java:356)
	at org.infinispan.commands.write.RemoveCommand.notify(RemoveCommand.java:97)
	at org.infinispan.commands.write.RemoveCommand.performRemove(RemoveCommand.java:208)
	at org.infinispan.commands.write.RemoveCommand.perform(RemoveCommand.java:93)
	at org.infinispan.interceptors.CallInterceptor.handleDefault(CallInterceptor.java:124)
	at org.infinispan.commands.AbstractVisitor.visitRemoveCommand(AbstractVisitor.java:49)
	at org.infinispan.commands.write.RemoveCommand.acceptVisitor(RemoveCommand.java:58)
	at org.infinispan.interceptors.base.CommandInterceptor.invokeNextInterceptor(CommandInterceptor.java:97)
	at org.infinispan.interceptors.distribution.TxDistributionInterceptor.handleTxWriteCommand(TxDistributionInterceptor.java:306)
	at org.infinispan.interceptors.distribution.TxDistributionInterceptor.visitRemoveCommand(TxDistributionInterceptor.java:86)
	at org.infinispan.commands.write.RemoveCommand.acceptVisitor(RemoveCommand.java:58)
	at org.infinispan.interceptors.base.CommandInterceptor.invokeNextInterceptor(CommandInterceptor.java:97)
	at org.infinispan.interceptors.CacheLoaderInterceptor.visitDataCommand(CacheLoaderInterceptor.java:150)
	at org.infinispan.interceptors.CacheLoaderInterceptor.visitRemoveCommand(CacheLoaderInterceptor.java:135)
	at org.infinispan.commands.write.RemoveCommand.acceptVisitor(RemoveCommand.java:58)
	at org.infinispan.interceptors.base.CommandInterceptor.invokeNextInterceptor(CommandInterceptor.java:97)
	at org.infinispan.interceptors.EntryWrappingInterceptor.invokeNextAndApplyChanges(EntryWrappingInterceptor.java:388)
	at org.infinispan.interceptors.EntryWrappingInterceptor.setSkipRemoteGetsAndInvokeNextForDataCommand(EntryWrappingInterceptor.java:453)
	at org.infinispan.interceptors.EntryWrappingInterceptor.visitRemoveCommand(EntryWrappingInterceptor.java:252)
	at org.infinispan.commands.write.RemoveCommand.acceptVisitor(RemoveCommand.java:58)
	at org.infinispan.interceptors.base.CommandInterceptor.invokeNextInterceptor(CommandInterceptor.java:97)
	at org.infinispan.interceptors.base.CommandInterceptor.handleDefault(CommandInterceptor.java:111)
	at org.infinispan.commands.AbstractVisitor.visitRemoveCommand(AbstractVisitor.java:49)
	at org.infinispan.commands.write.RemoveCommand.acceptVisitor(RemoveCommand.java:58)
	at org.infinispan.interceptors.base.CommandInterceptor.invokeNextInterceptor(CommandInterceptor.java:97)
	at org.infinispan.interceptors.locking.PessimisticLockingInterceptor.visitDataWriteCommand(PessimisticLockingInterceptor.java:133)
	at org.infinispan.interceptors.locking.AbstractLockingInterceptor.visitRemoveCommand(AbstractLockingInterceptor.java:65)
	at org.infinispan.commands.write.RemoveCommand.acceptVisitor(RemoveCommand.java:58)
	at org.infinispan.interceptors.base.CommandInterceptor.invokeNextInterceptor(CommandInterceptor.java:97)
	at org.infinispan.interceptors.base.CommandInterceptor.handleDefault(CommandInterceptor.java:111)
	at org.infinispan.commands.AbstractVisitor.visitRemoveCommand(AbstractVisitor.java:49)
	at org.infinispan.commands.write.RemoveCommand.acceptVisitor(RemoveCommand.java:58)
	at org.infinispan.interceptors.base.CommandInterceptor.invokeNextInterceptor(CommandInterceptor.java:97)
	at org.infinispan.interceptors.TxInterceptor.enlistWriteAndInvokeNext(TxInterceptor.java:367)
	at org.infinispan.interceptors.TxInterceptor.visitRemoveCommand(TxInterceptor.java:273)
	at org.infinispan.commands.write.RemoveCommand.acceptVisitor(RemoveCommand.java:58)
	at org.infinispan.interceptors.base.CommandInterceptor.invokeNextInterceptor(CommandInterceptor.java:97)
	at org.infinispan.interceptors.base.CommandInterceptor.handleDefault(CommandInterceptor.java:111)
	at org.infinispan.commands.AbstractVisitor.visitRemoveCommand(AbstractVisitor.java:49)
	at org.infinispan.commands.write.RemoveCommand.acceptVisitor(RemoveCommand.java:58)
	at org.infinispan.interceptors.base.CommandInterceptor.invokeNextInterceptor(CommandInterceptor.java:97)
	at org.infinispan.statetransfer.StateTransferInterceptor.handleTxWriteCommand(StateTransferInterceptor.java:265)
	at org.infinispan.statetransfer.StateTransferInterceptor.handleWriteCommand(StateTransferInterceptor.java:247)
	at org.infinispan.statetransfer.StateTransferInterceptor.visitRemoveCommand(StateTransferInterceptor.java:123)
	at org.infinispan.commands.write.RemoveCommand.acceptVisitor(RemoveCommand.java:58)
	at org.infinispan.interceptors.base.CommandInterceptor.invokeNextInterceptor(CommandInterceptor.java:97)
	at org.infinispan.interceptors.CacheMgmtInterceptor.visitRemoveCommand(CacheMgmtInterceptor.java:209)
	at org.infinispan.commands.write.RemoveCommand.acceptVisitor(RemoveCommand.java:58)
	at org.infinispan.interceptors.base.CommandInterceptor.invokeNextInterceptor(CommandInterceptor.java:97)
	at org.infinispan.interceptors.InvocationContextInterceptor.handleAll(InvocationContextInterceptor.java:102)
	at org.infinispan.interceptors.InvocationContextInterceptor.handleDefault(InvocationContextInterceptor.java:71)
	at org.infinispan.commands.AbstractVisitor.visitRemoveCommand(AbstractVisitor.java:49)
	at org.infinispan.commands.write.RemoveCommand.acceptVisitor(RemoveCommand.java:58)
	at org.infinispan.interceptors.InterceptorChain.invoke(InterceptorChain.java:336)
	at org.infinispan.cache.impl.CacheImpl.executeCommandAndCommitIfNeeded(CacheImpl.java:1617)
	at org.infinispan.cache.impl.CacheImpl.removeInternal(CacheImpl.java:579)
	at org.infinispan.cache.impl.CacheImpl.remove(CacheImpl.java:572)
	at org.infinispan.cache.impl.DecoratedCache.remove(DecoratedCache.java:442)
	at org.infinispan.cache.impl.AbstractDelegatingCache.remove(AbstractDelegatingCache.java:297)
	at org.wildfly.clustering.web.infinispan.session.coarse.CoarseSessionFactory.remove(CoarseSessionFactory.java:140)
	at org.wildfly.clustering.web.infinispan.session.coarse.CoarseSessionFactory.findValue(CoarseSessionFactory.java:133)
	at org.wildfly.clustering.web.infinispan.session.coarse.CoarseSessionFactory.findValue(CoarseSessionFactory.java:56)
	at org.wildfly.clustering.web.infinispan.session.InfinispanSessionManager.removed(InfinispanSessionManager.java:317)
	at sun.reflect.GeneratedMethodAccessor109.invoke(Unknown Source) [:1.8.0_60]
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) [rt.jar:1.8.0_60]
	at java.lang.reflect.Method.invoke(Method.java:497) [rt.jar:1.8.0_60]
	at org.infinispan.notifications.impl.AbstractListenerImpl$ListenerInvocationImpl$1.run(AbstractListenerImpl.java:286)
	at org.infinispan.util.concurrent.WithinThreadExecutor.execute(WithinThreadExecutor.java:22)
	at org.infinispan.notifications.impl.AbstractListenerImpl$ListenerInvocationImpl.invoke(AbstractListenerImpl.java:309)
	at org.infinispan.notifications.cachelistener.CacheNotifierImpl$BaseCacheEntryListenerInvocation.doRealInvocation(CacheNotifierImpl.java:1212)
	at org.infinispan.notifications.cachelistener.CacheNotifierImpl$BaseCacheEntryListenerInvocation.invokeNoChecks(CacheNotifierImpl.java:1207)
	at org.infinispan.notifications.cachelistener.CacheNotifierImpl$BaseCacheEntryListenerInvocation.invoke(CacheNotifierImpl.java:1184)
	at org.infinispan.notifications.cachelistener.CacheNotifierImpl.notifyCacheEntryRemoved(CacheNotifierImpl.java:356)
	at org.infinispan.commands.write.RemoveCommand.notify(RemoveCommand.java:97)
	at org.infinispan.commands.write.RemoveCommand.performRemove(RemoveCommand.java:208)
	at org.infinispan.commands.write.RemoveCommand.perform(RemoveCommand.java:93)
	at org.infinispan.interceptors.CallInterceptor.handleDefault(CallInterceptor.java:124)
	at org.infinispan.commands.AbstractVisitor.visitRemoveCommand(AbstractVisitor.java:49)
	at org.infinispan.commands.write.RemoveCommand.acceptVisitor(RemoveCommand.java:58)
	at org.infinispan.interceptors.base.CommandInterceptor.invokeNextInterceptor(CommandInterceptor.java:97)
	at org.infinispan.interceptors.distribution.TxDistributionInterceptor.handleTxWriteCommand(TxDistributionInterceptor.java:306)
	at org.infinispan.interceptors.distribution.TxDistributionInterceptor.visitRemoveCommand(TxDistributionInterceptor.java:86)
	at org.infinispan.commands.write.RemoveCommand.acceptVisitor(RemoveCommand.java:58)
	at org.infinispan.interceptors.base.CommandInterceptor.invokeNextInterceptor(CommandInterceptor.java:97)
	at org.infinispan.interceptors.CacheLoaderInterceptor.visitDataCommand(CacheLoaderInterceptor.java:150)
	at org.infinispan.interceptors.CacheLoaderInterceptor.visitRemoveCommand(CacheLoaderInterceptor.java:135)
	at org.infinispan.commands.write.RemoveCommand.acceptVisitor(RemoveCommand.java:58)
	at org.infinispan.interceptors.base.CommandInterceptor.invokeNextInterceptor(CommandInterceptor.java:97)
	at org.infinispan.interceptors.EntryWrappingInterceptor.invokeNextAndApplyChanges(EntryWrappingInterceptor.java:388)
	at org.infinispan.interceptors.EntryWrappingInterceptor.setSkipRemoteGetsAndInvokeNextForDataCommand(EntryWrappingInterceptor.java:453)
	at org.infinispan.interceptors.EntryWrappingInterceptor.visitRemoveCommand(EntryWrappingInterceptor.java:252)
	at org.infinispan.commands.write.RemoveCommand.acceptVisitor(RemoveCommand.java:58)
	at org.infinispan.interceptors.base.CommandInterceptor.invokeNextInterceptor(CommandInterceptor.java:97)
	at org.infinispan.interceptors.base.CommandInterceptor.handleDefault(CommandInterceptor.java:111)
	at org.infinispan.commands.AbstractVisitor.visitRemoveCommand(AbstractVisitor.java:49)
	at org.infinispan.commands.write.RemoveCommand.acceptVisitor(RemoveCommand.java:58)
	at org.infinispan.interceptors.base.CommandInterceptor.invokeNextInterceptor(CommandInterceptor.java:97)
	at org.infinispan.interceptors.locking.PessimisticLockingInterceptor.visitDataWriteCommand(PessimisticLockingInterceptor.java:133)
	at org.infinispan.interceptors.locking.AbstractLockingInterceptor.visitRemoveCommand(AbstractLockingInterceptor.java:65)
	at org.infinispan.commands.write.RemoveCommand.acceptVisitor(RemoveCommand.java:58)
	at org.infinispan.interceptors.base.CommandInterceptor.invokeNextInterceptor(CommandInterceptor.java:97)
	at org.infinispan.interceptors.base.CommandInterceptor.handleDefault(CommandInterceptor.java:111)
	at org.infinispan.commands.AbstractVisitor.visitRemoveCommand(AbstractVisitor.java:49)
	at org.infinispan.commands.write.RemoveCommand.acceptVisitor(RemoveCommand.java:58)
	at org.infinispan.interceptors.base.CommandInterceptor.invokeNextInterceptor(CommandInterceptor.java:97)
	at org.infinispan.interceptors.TxInterceptor.enlistWriteAndInvokeNext(TxInterceptor.java:367)
	at org.infinispan.interceptors.TxInterceptor.visitRemoveCommand(TxInterceptor.java:273)
	at org.infinispan.commands.write.RemoveCommand.acceptVisitor(RemoveCommand.java:58)
	at org.infinispan.interceptors.base.CommandInterceptor.invokeNextInterceptor(CommandInterceptor.java:97)
	at org.infinispan.interceptors.base.CommandInterceptor.handleDefault(CommandInterceptor.java:111)
	at org.infinispan.commands.AbstractVisitor.visitRemoveCommand(AbstractVisitor.java:49)
	at org.infinispan.commands.write.RemoveCommand.acceptVisitor(RemoveCommand.java:58)
	at org.infinispan.interceptors.base.CommandInterceptor.invokeNextInterceptor(CommandInterceptor.java:97)
	at org.infinispan.statetransfer.StateTransferInterceptor.handleTxWriteCommand(StateTransferInterceptor.java:265)
	at org.infinispan.statetransfer.StateTransferInterceptor.handleWriteCommand(StateTransferInterceptor.java:247)
	at org.infinispan.statetransfer.StateTransferInterceptor.visitRemoveCommand(StateTransferInterceptor.java:123)
	at org.infinispan.commands.write.RemoveCommand.acceptVisitor(RemoveCommand.java:58)
	at org.infinispan.interceptors.base.CommandInterceptor.invokeNextInterceptor(CommandInterceptor.java:97)
	at org.infinispan.interceptors.CacheMgmtInterceptor.visitRemoveCommand(CacheMgmtInterceptor.java:209)
	at org.infinispan.commands.write.RemoveCommand.acceptVisitor(RemoveCommand.java:58)
	at org.infinispan.interceptors.base.CommandInterceptor.invokeNextInterceptor(CommandInterceptor.java:97)
	at org.infinispan.interceptors.InvocationContextInterceptor.handleAll(InvocationContextInterceptor.java:102)
	at org.infinispan.interceptors.InvocationContextInterceptor.handleDefault(InvocationContextInterceptor.java:71)
	at org.infinispan.commands.AbstractVisitor.visitRemoveCommand(AbstractVisitor.java:49)
	at org.infinispan.commands.write.RemoveCommand.acceptVisitor(RemoveCommand.java:58)
	at org.infinispan.interceptors.InterceptorChain.invoke(InterceptorChain.java:336)
	at org.infinispan.cache.impl.CacheImpl.executeCommandAndCommitIfNeeded(CacheImpl.java:1617)
	at org.infinispan.cache.impl.CacheImpl.removeInternal(CacheImpl.java:579)
	at org.infinispan.cache.impl.CacheImpl.remove(CacheImpl.java:572)
	at org.infinispan.cache.impl.DecoratedCache.remove(DecoratedCache.java:442)
	at org.infinispan.cache.impl.AbstractDelegatingCache.remove(AbstractDelegatingCache.java:297)
	at org.wildfly.clustering.web.infinispan.session.coarse.CoarseSessionFactory.remove(CoarseSessionFactory.java:140)
	at org.wildfly.clustering.web.infinispan.session.coarse.CoarseSessionFactory.findValue(CoarseSessionFactory.java:133)
	at org.wildfly.clustering.web.infinispan.session.coarse.CoarseSessionFactory.findValue(CoarseSessionFactory.java:56)
	at org.wildfly.clustering.web.infinispan.session.InfinispanSessionManager.removed(InfinispanSessionManager.java:317)
	at sun.reflect.GeneratedMethodAccessor109.invoke(Unknown Source) [:1.8.0_60]
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) [rt.jar:1.8.0_60]
	at java.lang.reflect.Method.invoke(Method.java:497) [rt.jar:1.8.0_60]
	at org.infinispan.notifications.impl.AbstractListenerImpl$ListenerInvocationImpl$1.run(AbstractListenerImpl.java:286)
	at org.infinispan.util.concurrent.WithinThreadExecutor.execute(WithinThreadExecutor.java:22)
	at org.infinispan.notifications.impl.AbstractListenerImpl$ListenerInvocationImpl.invoke(AbstractListenerImpl.java:309)
	at org.infinispan.notifications.cachelistener.CacheNotifierImpl$BaseCacheEntryListenerInvocation.doRealInvocation(CacheNotifierImpl.java:1212)
	at org.infinispan.notifications.cachelistener.CacheNotifierImpl$BaseCacheEntryListenerInvocation.invokeNoChecks(CacheNotifierImpl.java:1207)
	at org.infinispan.notifications.cachelistener.CacheNotifierImpl$BaseCacheEntryListenerInvocation.invoke(CacheNotifierImpl.java:1184)
	at org.infinispan.notifications.cachelistener.CacheNotifierImpl.notifyCacheEntryRemoved(CacheNotifierImpl.java:356)
	at org.infinispan.commands.write.RemoveCommand.notify(RemoveCommand.java:97)
	at org.infinispan.commands.write.RemoveCommand.performRemove(RemoveCommand.java:208)
	at org.infinispan.commands.write.RemoveCommand.perform(RemoveCommand.java:93)
	at org.infinispan.interceptors.CallInterceptor.handleDefault(CallInterceptor.java:124)
	at org.infinispan.commands.AbstractVisitor.visitRemoveCommand(AbstractVisitor.java:49)
	at org.infinispan.commands.write.RemoveCommand.acceptVisitor(RemoveCommand.java:58)
	at org.infinispan.interceptors.base.CommandInterceptor.invokeNextInterceptor(CommandInterceptor.java:97)
	at org.infinispan.interceptors.distribution.TxDistributionInterceptor.handleTxWriteCommand(TxDistributionInterceptor.java:306)
	at org.infinispan.interceptors.distribution.TxDistributionInterceptor.visitRemoveCommand(TxDistributionInterceptor.java:86)
	at org.infinispan.commands.write.RemoveCommand.acceptVisitor(RemoveCommand.java:58)
	at org.infinispan.interceptors.base.CommandInterceptor.invokeNextInterceptor(CommandInterceptor.java:97)
	at org.infinispan.interceptors.CacheLoaderInterceptor.visitDataCommand(CacheLoaderInterceptor.java:150)
	at org.infinispan.interceptors.CacheLoaderInterceptor.visitRemoveCommand(CacheLoaderInterceptor.java:135)
	at org.infinispan.commands.write.RemoveCommand.acceptVisitor(RemoveCommand.java:58)
	at org.infinispan.interceptors.base.CommandInterceptor.invokeNextInterceptor(CommandInterceptor.java:97)
	at org.infinispan.interceptors.EntryWrappingInterceptor.invokeNextAndApplyChanges(EntryWrappingInterceptor.java:388)
	at org.infinispan.interceptors.EntryWrappingInterceptor.setSkipRemoteGetsAndInvokeNextForDataCommand(EntryWrappingInterceptor.java:453)
	at org.infinispan.interceptors.EntryWrappingInterceptor.visitRemoveCommand(EntryWrappingInterceptor.java:252)
	at org.infinispan.commands.write.RemoveCommand.acceptVisitor(RemoveCommand.java:58)
	at org.infinispan.interceptors.base.CommandInterceptor.invokeNextInterceptor(CommandInterceptor.java:97)
	at org.infinispan.interceptors.base.CommandInterceptor.handleDefault(CommandInterceptor.java:111)
	at org.infinispan.commands.AbstractVisitor.visitRemoveCommand(AbstractVisitor.java:49)
	at org.infinispan.commands.write.RemoveCommand.acceptVisitor(RemoveCommand.java:58)
	at org.infinispan.interceptors.base.CommandInterceptor.invokeNextInterceptor(CommandInterceptor.java:97)
	at org.infinispan.interceptors.locking.PessimisticLockingInterceptor.visitDataWriteCommand(PessimisticLockingInterceptor.java:133)
	at org.infinispan.interceptors.locking.AbstractLockingInterceptor.visitRemoveCommand(AbstractLockingInterceptor.java:65)
	at org.infinispan.commands.write.RemoveCommand.acceptVisitor(RemoveCommand.java:58)
	at org.infinispan.interceptors.base.CommandInterceptor.invokeNextInterceptor(CommandInterceptor.java:97)
	at org.infinispan.interceptors.base.CommandInterceptor.handleDefault(CommandInterceptor.java:111)
	at org.infinispan.commands.AbstractVisitor.visitRemoveCommand(AbstractVisitor.java:49)
	at org.infinispan.commands.write.RemoveCommand.acceptVisitor(RemoveCommand.java:58)
	at org.infinispan.interceptors.base.CommandInterceptor.invokeNextInterceptor(CommandInterceptor.java:97)
	at org.infinispan.interceptors.TxInterceptor.enlistWriteAndInvokeNext(TxInterceptor.java:367)
	at org.infinispan.interceptors.TxInterceptor.visitRemoveCommand(TxInterceptor.java:273)
	at org.infinispan.commands.write.RemoveCommand.acceptVisitor(RemoveCommand.java:58)
	at org.infinispan.interceptors.base.CommandInterceptor.invokeNextInterceptor(CommandInterceptor.java:97)
	at org.infinispan.interceptors.base.CommandInterceptor.handleDefault(CommandInterceptor.java:111)
	at org.infinispan.commands.AbstractVisitor.visitRemoveCommand(AbstractVisitor.java:49)
	at org.infinispan.commands.write.RemoveCommand.acceptVisitor(RemoveCommand.java:58)
	at org.infinispan.interceptors.base.CommandInterceptor.invokeNextInterceptor(CommandInterceptor.java:97)
	at org.infinispan.statetransfer.StateTransferInterceptor.handleTxWriteCommand(StateTransferInterceptor.java:265)
	at org.infinispan.statetransfer.StateTransferInterceptor.handleWriteCommand(StateTransferInterceptor.java:247)
	at org.infinispan.statetransfer.StateTransferInterceptor.visitRemoveCommand(StateTransferInterceptor.java:123)
	at org.infinispan.commands.write.RemoveCommand.acceptVisitor(RemoveCommand.java:58)
	at org.infinispan.interceptors.base.CommandInterceptor.invokeNextInterceptor(CommandInterceptor.java:97)
	at org.infinispan.interceptors.CacheMgmtInterceptor.visitRemoveCommand(CacheMgmtInterceptor.java:209)
	at org.infinispan.commands.write.RemoveCommand.acceptVisitor(RemoveCommand.java:58)
	at org.infinispan.interceptors.base.CommandInterceptor.invokeNextInterceptor(CommandInterceptor.java:97)
	at org.infinispan.interceptors.InvocationContextInterceptor.handleAll(InvocationContextInterceptor.java:102)
	at org.infinispan.interceptors.InvocationContextInterceptor.handleDefault(InvocationContextInterceptor.java:71)
	at org.infinispan.commands.AbstractVisitor.visitRemoveCommand(AbstractVisitor.java:49)
	at org.infinispan.commands.write.RemoveCommand.acceptVisitor(RemoveCommand.java:58)
	at org.infinispan.interceptors.InterceptorChain.invoke(InterceptorChain.java:336)
	at org.infinispan.cache.impl.CacheImpl.executeCommandAndCommitIfNeeded(CacheImpl.java:1617)
	at org.infinispan.cache.impl.CacheImpl.removeInternal(CacheImpl.java:579)
	at org.infinispan.cache.impl.CacheImpl.remove(CacheImpl.java:572)
	at org.infinispan.cache.impl.DecoratedCache.remove(DecoratedCache.java:442)
	at org.infinispan.cache.impl.AbstractDelegatingCache.remove(AbstractDelegatingCache.java:297)
	at org.wildfly.clustering.web.infinispan.session.coarse.CoarseSessionFactory.remove(CoarseSessionFactory.java:140)
	at org.wildfly.clustering.web.infinispan.session.coarse.CoarseSessionFactory.findValue(CoarseSessionFactory.java:133)
	at org.wildfly.clustering.web.infinispan.session.coarse.CoarseSessionFactory.findValue(CoarseSessionFactory.java:56)
	at org.wildfly.clustering.web.infinispan.session.InfinispanSessionManager.removed(InfinispanSessionManager.java:317)
	at sun.reflect.GeneratedMethodAccessor109.invoke(Unknown Source) [:1.8.0_60]
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) [rt.jar:1.8.0_60]
	at java.lang.reflect.Method.invoke(Method.java:497) [rt.jar:1.8.0_60]
	at org.infinispan.notifications.impl.AbstractListenerImpl$ListenerInvocationImpl$1.run(AbstractListenerImpl.java:286)
	at org.infinispan.util.concurrent.WithinThreadExecutor.execute(WithinThreadExecutor.java:22)
	at org.infinispan.notifications.impl.AbstractListenerImpl$ListenerInvocationImpl.invoke(AbstractListenerImpl.java:309)
	at org.infinispan.notifications.cachelistener.CacheNotifierImpl$BaseCacheEntryListenerInvocation.doRealInvocation(CacheNotifierImpl.java:1212)
	at org.infinispan.notifications.cachelistener.CacheNotifierImpl$BaseCacheEntryListenerInvocation.invokeNoChecks(CacheNotifierImpl.java:1207)
	at org.infinispan.notifications.cachelistener.CacheNotifierImpl$BaseCacheEntryListenerInvocation.invoke(CacheNotifierImpl.java:1184)
	at org.infinispan.notifications.cachelistener.CacheNotifierImpl.notifyCacheEntryRemoved(CacheNotifierImpl.java:356)
	at org.infinispan.commands.write.RemoveCommand.notify(RemoveCommand.java:97)
	at org.infinispan.commands.write.RemoveCommand.performRemove(RemoveCommand.java:208)
	at org.infinispan.commands.write.RemoveCommand.perform(RemoveCommand.java:93)
	at org.infinispan.interceptors.CallInterceptor.handleDefault(CallInterceptor.java:124)
	at org.infinispan.commands.AbstractVisitor.visitRemoveCommand(AbstractVisitor.java:49)
	at org.infinispan.commands.write.RemoveCommand.acceptVisitor(RemoveCommand.java:58)
	at org.infinispan.interceptors.base.CommandInterceptor.invokeNextInterceptor(CommandInterceptor.java:97)
	at org.infinispan.interceptors.distribution.TxDistributionInterceptor.handleTxWriteCommand(TxDistributionInterceptor.java:306)
	at org.infinispan.interceptors.distribution.TxDistributionInterceptor.visitRemoveCommand(TxDistributionInterceptor.java:86)
	at org.infinispan.commands.write.RemoveCommand.acceptVisitor(RemoveCommand.java:58)
	at org.infinispan.interceptors.base.CommandInterceptor.invokeNextInterceptor(CommandInterceptor.java:97)
	at org.infinispan.interceptors.CacheLoaderInterceptor.visitDataCommand(CacheLoaderInterceptor.java:150)
	at org.infinispan.interceptors.CacheLoaderInterceptor.visitRemoveCommand(CacheLoaderInterceptor.java:135)
	at org.infinispan.commands.write.RemoveCommand.acceptVisitor(RemoveCommand.java:58)
	at org.infinispan.interceptors.base.CommandInterceptor.invokeNextInterceptor(CommandInterceptor.java:97)
	at org.infinispan.interceptors.EntryWrappingInterceptor.invokeNextAndApplyChanges(EntryWrappingInterceptor.java:388)
	at org.infinispan.interceptors.EntryWrappingInterceptor.setSkipRemoteGetsAndInvokeNextForDataCommand(EntryWrappingInterceptor.java:453)
	at org.infinispan.interceptors.EntryWrappingInterceptor.visitRemoveCommand(EntryWrappingInterceptor.java:252)
	at org.infinispan.commands.write.RemoveCommand.acceptVisitor(RemoveCommand.java:58)
	at org.infinispan.interceptors.base.CommandInterceptor.invokeNextInterceptor(CommandInterceptor.java:97)
	at org.infinispan.interceptors.base.CommandInterceptor.handleDefault(CommandInterceptor.java:111)
	at org.infinispan.commands.AbstractVisitor.visitRemoveCommand(AbstractVisitor.java:49)
	at org.infinispan.commands.write.RemoveCommand.acceptVisitor(RemoveCommand.java:58)
	at org.infinispan.interceptors.base.CommandInterceptor.invokeNextInterceptor(CommandInterceptor.java:97)
	at org.infinispan.interceptors.locking.PessimisticLockingInterceptor.visitDataWriteCommand(PessimisticLockingInterceptor.java:133)
	at org.infinispan.interceptors.locking.AbstractLockingInterceptor.visitRemoveCommand(AbstractLockingInterceptor.java:65)
	at org.infinispan.commands.write.RemoveCommand.acceptVisitor(RemoveCommand.java:58)
	at org.infinispan.interceptors.base.CommandInterceptor.invokeNextInterceptor(CommandInterceptor.java:97)
	at org.infinispan.interceptors.base.CommandInterceptor.handleDefault(CommandInterceptor.java:111)
	at org.infinispan.commands.AbstractVisitor.visitRemoveCommand(AbstractVisitor.java:49)
	at org.infinispan.commands.write.RemoveCommand.acceptVisitor(RemoveCommand.java:58)
	at org.infinispan.interceptors.base.CommandInterceptor.invokeNextInterceptor(CommandInterceptor.java:97)
	at org.infinispan.interceptors.TxInterceptor.enlistWriteAndInvokeNext(TxInterceptor.java:367)
	at org.infinispan.interceptors.TxInterceptor.visitRemoveCommand(TxInterceptor.java:273)
	at org.infinispan.commands.write.RemoveCommand.acceptVisitor(RemoveCommand.java:58)
	at org.infinispan.interceptors.base.CommandInterceptor.invokeNextInterceptor(CommandInterceptor.java:97)
	at org.infinispan.interceptors.base.CommandInterceptor.handleDefault(CommandInterceptor.java:111)
	at org.infinispan.commands.AbstractVisitor.visitRemoveCommand(AbstractVisitor.java:49)
	at org.infinispan.commands.write.RemoveCommand.acceptVisitor(RemoveCommand.java:58)
	at org.infinispan.interceptors.base.CommandInterceptor.invokeNextInterceptor(CommandInterceptor.java:97)
	at org.infinispan.statetransfer.StateTransferInterceptor.handleTxWriteCommand(StateTransferInterceptor.java:265)
	at org.infinispan.statetransfer.StateTransferInterceptor.handleWriteCommand(StateTransferInterceptor.java:247)
	at org.infinispan.statetransfer.StateTransferInterceptor.visitRemoveCommand(StateTransferInterceptor.java:123)
	at org.infinispan.commands.write.RemoveCommand.acceptVisitor(RemoveCommand.java:58)
	at org.infinispan.interceptors.base.CommandInterceptor.invokeNextInterceptor(CommandInterceptor.java:97)
	at org.infinispan.interceptors.CacheMgmtInterceptor.visitRemoveCommand(CacheMgmtInterceptor.java:209)
	at org.infinispan.commands.write.RemoveCommand.acceptVisitor(RemoveCommand.java:58)
	at org.infinispan.interceptors.base.CommandInterceptor.invokeNextInterceptor(CommandInterceptor.java:97)
	at org.infinispan.interceptors.InvocationContextInterceptor.handleAll(InvocationContextInterceptor.java:102)
	at org.infinispan.interceptors.InvocationContextInterceptor.handleDefault(InvocationContextInterceptor.java:71)
	at org.infinispan.commands.AbstractVisitor.visitRemoveCommand(AbstractVisitor.java:49)
	at org.infinispan.commands.write.RemoveCommand.acceptVisitor(RemoveCommand.java:58)
	at org.infinispan.interceptors.InterceptorChain.invoke(InterceptorChain.java:336)
	at org.infinispan.cache.impl.CacheImpl.executeCommandAndCommitIfNeeded(CacheImpl.java:1617)
	at org.infinispan.cache.impl.CacheImpl.removeInternal(CacheImpl.java:579)
	at org.infinispan.cache.impl.CacheImpl.remove(CacheImpl.java:572)
	at org.infinispan.cache.impl.DecoratedCache.remove(DecoratedCache.java:442)
	at org.infinispan.cache.impl.AbstractDelegatingCache.remove(AbstractDelegatingCache.java:297)
	at org.wildfly.clustering.web.infinispan.session.coarse.CoarseSessionFactory.remove(CoarseSessionFactory.java:140)
	at org.wildfly.clustering.web.infinispan.session.coarse.CoarseSessionFactory.findValue(CoarseSessionFactory.java:133)
	at org.wildfly.clustering.web.infinispan.session.coarse.CoarseSessionFactory.findValue(CoarseSessionFactory.java:56)
	at org.wildfly.clustering.web.infinispan.session.InfinispanSessionManager.removed(InfinispanSessionManager.java:317)
	at sun.reflect.GeneratedMethodAccessor109.invoke(Unknown Source) [:1.8.0_60]
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) [rt.jar:1.8.0_60]
	at java.lang.reflect.Method.invoke(Method.java:497) [rt.jar:1.8.0_60]
	at org.infinispan.notifications.impl.AbstractListenerImpl$ListenerInvocationImpl$1.run(AbstractListenerImpl.java:286)
	at org.infinispan.util.concurrent.WithinThreadExecutor.execute(WithinThreadExecutor.java:22)
	at org.infinispan.notifications.impl.AbstractListenerImpl$ListenerInvocationImpl.invoke(AbstractListenerImpl.java:309)
	at org.infinispan.notifications.cachelistener.CacheNotifierImpl$BaseCacheEntryListenerInvocation.doRealInvocation(CacheNotifierImpl.java:1212)
	at org.infinispan.notifications.cachelistener.CacheNotifierImpl$BaseCacheEntryListenerInvocation.invokeNoChecks(CacheNotifierImpl.java:1207)
	at org.infinispan.notifications.cachelistener.CacheNotifierImpl$BaseCacheEntryListenerInvocation.invoke(CacheNotifierImpl.java:1184)
	at org.infinispan.notifications.cachelistener.CacheNotifierImpl.notifyCacheEntryRemoved(CacheNotifierImpl.java:356)
	at org.infinispan.commands.write.RemoveCommand.notify(RemoveCommand.java:97)
	at org.infinispan.commands.write.RemoveCommand.performRemove(RemoveCommand.java:208)
	at org.infinispan.commands.write.RemoveCommand.perform(RemoveCommand.java:93)
	at org.infinispan.interceptors.CallInterceptor.handleDefault(CallInterceptor.java:124)
	at org.infinispan.commands.AbstractVisitor.visitRemoveCommand(AbstractVisitor.java:49)
	at org.infinispan.commands.write.RemoveCommand.acceptVisitor(RemoveCommand.java:58)
	at org.infinispan.interceptors.base.CommandInterceptor.invokeNextInterceptor(CommandInterceptor.java:97)
	at org.infinispan.interceptors.distribution.TxDistributionInterceptor.handleTxWriteCommand(TxDistributionInterceptor.java:306)
	at org.infinispan.interceptors.distribution.TxDistributionInterceptor.visitRemoveCommand(TxDistributionInterceptor.java:86)
	at org.infinispan.commands.write.RemoveCommand.acceptVisitor(RemoveCommand.java:58)
	at org.infinispan.interceptors.base.CommandInterceptor.invokeNextInterceptor(CommandInterceptor.java:97)
	at org.infinispan.interceptors.CacheLoaderInterceptor.visitDataCommand(CacheLoaderInterceptor.java:150)
	at org.infinispan.interceptors.CacheLoaderInterceptor.visitRemoveCommand(CacheLoaderInterceptor.java:135)
	at org.infinispan.commands.write.RemoveCommand.acceptVisitor(RemoveCommand.java:58)
	at org.infinispan.interceptors.base.CommandInterceptor.invokeNextInterceptor(CommandInterceptor.java:97)
	at org.infinispan.interceptors.EntryWrappingInterceptor.invokeNextAndApplyChanges(EntryWrappingInterceptor.java:388)
	at org.infinispan.interceptors.EntryWrappingInterceptor.setSkipRemoteGetsAndInvokeNextForDataCommand(EntryWrappingInterceptor.java:453)
	at org.infinispan.interceptors.EntryWrappingInterceptor.visitRemoveCommand(EntryWrappingInterceptor.java:252)
	at org.infinispan.commands.write.RemoveCommand.acceptVisitor(RemoveCommand.java:58)
	at org.infinispan.interceptors.base.CommandInterceptor.invokeNextInterceptor(CommandInterceptor.java:97)
	at org.infinispan.interceptors.base.CommandInterceptor.handleDefault(CommandInterceptor.java:111)
	at org.infinispan.commands.AbstractVisitor.visitRemoveCommand(AbstractVisitor.java:49)
	at org.infinispan.commands.write.RemoveCommand.acceptVisitor(RemoveCommand.java:58)
	at org.infinispan.interceptors.base.CommandInterceptor.invokeNextInterceptor(CommandInterceptor.java:97)
	at org.infinispan.interceptors.locking.PessimisticLockingInterceptor.visitDataWriteCommand(PessimisticLockingInterceptor.java:133)
	at org.infinispan.interceptors.locking.AbstractLockingInterceptor.visitRemoveCommand(AbstractLockingInterceptor.java:65)
	at org.infinispan.commands.write.RemoveCommand.acceptVisitor(RemoveCommand.java:58)
	at org.infinispan.interceptors.base.CommandInterceptor.invokeNextInterceptor(CommandInterceptor.java:97)
	at org.infinispan.interceptors.base.CommandInterceptor.handleDefault(CommandInterceptor.java:111)
	at org.infinispan.commands.AbstractVisitor.visitRemoveCommand(AbstractVisitor.java:49)
	at org.infinispan.commands.write.RemoveCommand.acceptVisitor(RemoveCommand.java:58)
	at org.infinispan.interceptors.base.CommandInterceptor.invokeNextInterceptor(CommandInterceptor.java:97)
	at org.infinispan.interceptors.TxInterceptor.enlistWriteAndInvokeNext(TxInterceptor.java:367)
	at org.infinispan.interceptors.TxInterceptor.visitRemoveCommand(TxInterceptor.java:273)
	at org.infinispan.commands.write.RemoveCommand.acceptVisitor(RemoveCommand.java:58)
	at org.infinispan.interceptors.base.CommandInterceptor.invokeNextInterceptor(CommandInterceptor.java:97)
	at org.infinispan.interceptors.base.CommandInterceptor.handleDefault(CommandInterceptor.java:111)
	at org.infinispan.commands.AbstractVisitor.visitRemoveCommand(AbstractVisitor.java:49)
	at org.infinispan.commands.write.RemoveCommand.acceptVisitor(RemoveCommand.java:58)
	at org.infinispan.interceptors.base.CommandInterceptor.invokeNextInterceptor(CommandInterceptor.java:97)
	at org.infinispan.statetransfer.StateTransferInterceptor.handleTxWriteCommand(StateTransferInterceptor.java:265)
	at org.infinispan.statetransfer.StateTransferInterceptor.handleWriteCommand(StateTransferInterceptor.java:247)
	at org.infinispan.statetransfer.StateTransferInterceptor.visitRemoveCommand(StateTransferInterceptor.java:123)
	at org.infinispan.commands.write.RemoveCommand.acceptVisitor(RemoveCommand.java:58)
	at org.infinispan.interceptors.base.CommandInterceptor.invokeNextInterceptor(CommandInterceptor.java:97)
	at org.infinispan.interceptors.CacheMgmtInterceptor.visitRemoveCommand(CacheMgmtInterceptor.java:209)
	at org.infinispan.commands.write.RemoveCommand.acceptVisitor(RemoveCommand.java:58)
	at org.infinispan.interceptors.base.CommandInterceptor.invokeNextInterceptor(CommandInterceptor.java:97)
	at org.infinispan.interceptors.InvocationContextInterceptor.handleAll(InvocationContextInterceptor.java:102)
	at org.infinispan.interceptors.InvocationContextInterceptor.handleDefault(InvocationContextInterceptor.java:71)
	at org.infinispan.commands.AbstractVisitor.visitRemoveCommand(AbstractVisitor.java:49)
	at org.infinispan.commands.write.RemoveCommand.acceptVisitor(RemoveCommand.java:58)
	at org.infinispan.interceptors.InterceptorChain.invoke(InterceptorChain.java:336)
	at org.infinispan.cache.impl.CacheImpl.executeCommandAndCommitIfNeeded(CacheImpl.java:1617)
	at org.infinispan.cache.impl.CacheImpl.removeInternal(CacheImpl.java:579)
	at org.infinispan.cache.impl.CacheImpl.remove(CacheImpl.java:572)
	at org.infinispan.cache.impl.DecoratedCache.remove(DecoratedCache.java:442)
	at org.infinispan.cache.impl.AbstractDelegatingCache.remove(AbstractDelegatingCache.java:297)
	at org.wildfly.clustering.web.infinispan.session.coarse.CoarseSessionFactory.remove(CoarseSessionFactory.java:140)
	at org.wildfly.clustering.web.infinispan.session.coarse.CoarseSessionFactory.findValue(CoarseSessionFactory.java:133)
	at org.wildfly.clustering.web.infinispan.session.coarse.CoarseSessionFactory.findValue(CoarseSessionFactory.java:56)
	at org.wildfly.clustering.web.infinispan.session.InfinispanSessionManager.removed(InfinispanSessionManager.java:317)
	at sun.reflect.GeneratedMethodAccessor109.invoke(Unknown Source) [:1.8.0_60]
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) [rt.jar:1.8.0_60]
	at java.lang.reflect.Method.invoke(Method.java:497) [rt.jar:1.8.0_60]
	at org.infinispan.notifications.impl.AbstractListenerImpl$ListenerInvocationImpl$1.run(AbstractListenerImpl.java:286)
	at org.infinispan.util.concurrent.WithinThreadExecutor.execute(WithinThreadExecutor.java:22)
	at org.infinispan.notifications.impl.AbstractListenerImpl$ListenerInvocationImpl.invoke(AbstractListenerImpl.java:309)
	at org.infinispan.notifications.cachelistener.CacheNotifierImpl$BaseCacheEntryListenerInvocation.doRealInvocation(CacheNotifierImpl.java:1212)
	at org.infinispan.notifications.cachelistener.CacheNotifierImpl$BaseCacheEntryListenerInvocation.invokeNoChecks(CacheNotifierImpl.java:1207)
	at org.infinispan.notifications.cachelistener.CacheNotifierImpl$BaseCacheEntryListenerInvocation.invoke(CacheNotifierImpl.java:1184)
	at org.infinispan.notifications.cachelistener.CacheNotifierImpl.notifyCacheEntryRemoved(CacheNotifierImpl.java:356)
	at org.infinispan.commands.write.RemoveCommand.notify(RemoveCommand.java:97)
	at org.infinispan.commands.write.RemoveCommand.performRemove(RemoveCommand.java:208)
	at org.infinispan.commands.write.RemoveCommand.perform(RemoveCommand.java:93)
	at org.infinispan.interceptors.CallInterceptor.handleDefault(CallInterceptor.java:124)
	at org.infinispan.commands.AbstractVisitor.visitRemoveCommand(AbstractVisitor.java:49)
	at org.infinispan.commands.write.RemoveCommand.acceptVisitor(RemoveCommand.java:58)
	at org.infinispan.interceptors.base.CommandInterceptor.invokeNextInterceptor(CommandInterceptor.java:97)
	at org.infinispan.interceptors.distribution.TxDistributionInterceptor.handleTxWriteCommand(TxDistributionInterceptor.java:306)
	at org.infinispan.interceptors.distribution.TxDistributionInterceptor.visitRemoveCommand(TxDistributionInterceptor.java:86)
	at org.infinispan.commands.write.RemoveCommand.acceptVisitor(RemoveCommand.java:58)
	at org.infinispan.interceptors.base.CommandInterceptor.invokeNextInterceptor(CommandInterceptor.java:97)
	at org.infinispan.interceptors.CacheLoaderInterceptor.visitDataCommand(CacheLoaderInterceptor.java:150)
	at org.infinispan.interceptors.CacheLoaderInterceptor.visitRemoveCommand(CacheLoaderInterceptor.java:135)
	at org.infinispan.commands.write.RemoveCommand.acceptVisitor(RemoveCommand.java:58)
	at org.infinispan.interceptors.base.CommandInterceptor.invokeNextInterceptor(CommandInterceptor.java:97)
	at org.infinispan.interceptors.EntryWrappingInterceptor.invokeNextAndApplyChanges(EntryWrappingInterceptor.java:388)
	at org.infinispan.interceptors.EntryWrappingInterceptor.setSkipRemoteGetsAndInvokeNextForDataCommand(EntryWrappingInterceptor.java:453)
	at org.infinispan.interceptors.EntryWrappingInterceptor.visitRemoveCommand(EntryWrappingInterceptor.java:252)
	at org.infinispan.commands.write.RemoveCommand.acceptVisitor(RemoveCommand.java:58)
	at org.infinispan.interceptors.base.CommandInterceptor.invokeNextInterceptor(CommandInterceptor.java:97)
	at org.infinispan.interceptors.base.CommandInterceptor.handleDefault(CommandInterceptor.java:111)
	at org.infinispan.commands.AbstractVisitor.visitRemoveCommand(AbstractVisitor.java:49)
	at org.infinispan.commands.write.RemoveCommand.acceptVisitor(RemoveCommand.java:58)
	at org.infinispan.interceptors.base.CommandInterceptor.invokeNextInterceptor(CommandInterceptor.java:97)
	at org.infinispan.interceptors.locking.PessimisticLockingInterceptor.visitDataWriteCommand(PessimisticLockingInterceptor.java:133)
	at org.infinispan.interceptors.locking.AbstractLockingInterceptor.visitRemoveCommand(AbstractLockingInterceptor.java:65)
	at org.infinispan.commands.write.RemoveCommand.acceptVisitor(RemoveCommand.java:58)
	at org.infinispan.interceptors.base.CommandInterceptor.invokeNextInterceptor(CommandInterceptor.java:97)
	at org.infinispan.interceptors.base.CommandInterceptor.handleDefault(CommandInterceptor.java:111)
	at org.infinispan.commands.AbstractVisitor.visitRemoveCommand(AbstractVisitor.java:49)
	at org.infinispan.commands.write.RemoveCommand.acceptVisitor(RemoveCommand.java:58)
	at org.infinispan.interceptors.base.CommandInterceptor.invokeNextInterceptor(CommandInterceptor.java:97)
	at org.infinispan.interceptors.TxInterceptor.enlistWriteAndInvokeNext(TxInterceptor.java:367)
	at org.infinispan.interceptors.TxInterceptor.visitRemoveCommand(TxInterceptor.java:273)
	at org.infinispan.commands.write.RemoveCommand.acceptVisitor(RemoveCommand.java:58)
	at org.infinispan.interceptors.base.CommandInterceptor.invokeNextInterceptor(CommandInterceptor.java:97)
	at org.infinispan.interceptors.base.CommandInterceptor.handleDefault(CommandInterceptor.java:111)
	at org.infinispan.commands.AbstractVisitor.visitRemoveCommand(AbstractVisitor.java:49)
	at org.infinispan.commands.write.RemoveCommand.acceptVisitor(RemoveCommand.java:58)
	at org.infinispan.interceptors.base.CommandInterceptor.invokeNextInterceptor(CommandInterceptor.java:97)
	at org.infinispan.statetransfer.StateTransferInterceptor.handleTxWriteCommand(StateTransferInterceptor.java:265)
	at org.infinispan.statetransfer.StateTransferInterceptor.handleWriteCommand(StateTransferInterceptor.java:247)
	at org.infinispan.statetransfer.StateTransferInterceptor.visitRemoveCommand(StateTransferInterceptor.java:123)
	at org.infinispan.commands.write.RemoveCommand.acceptVisitor(RemoveCommand.java:58)
	at org.infinispan.interceptors.base.CommandInterceptor.invokeNextInterceptor(CommandInterceptor.java:97)
	at org.infinispan.interceptors.CacheMgmtInterceptor.visitRemoveCommand(CacheMgmtInterceptor.java:209)
	at org.infinispan.commands.write.RemoveCommand.acceptVisitor(RemoveCommand.java:58)
	at org.infinispan.interceptors.base.CommandInterceptor.invokeNextInterceptor(CommandInterceptor.java:97)
	at org.infinispan.interceptors.InvocationContextInterceptor.handleAll(InvocationContextInterceptor.java:102)
	at org.infinispan.interceptors.InvocationContextInterceptor.handleDefault(InvocationContextInterceptor.java:71)
	at org.infinispan.commands.AbstractVisitor.visitRemoveCommand(AbstractVisitor.java:49)
	at org.infinispan.commands.write.RemoveCommand.acceptVisitor(RemoveCommand.java:58)
	at org.infinispan.interceptors.InterceptorChain.invoke(InterceptorChain.java:336)
	at org.infinispan.cache.impl.CacheImpl.executeCommandAndCommitIfNeeded(CacheImpl.java:1617)
	at org.infinispan.cache.impl.CacheImpl.removeInternal(CacheImpl.java:579)
	at org.infinispan.cache.impl.CacheImpl.remove(CacheImpl.java:572)
	at org.infinispan.cache.impl.DecoratedCache.remove(DecoratedCache.java:442)
	at org.infinispan.cache.impl.AbstractDelegatingCache.remove(AbstractDelegatingCache.java:297)
	at org.wildfly.clustering.web.infinispan.session.coarse.CoarseSessionFactory.remove(CoarseSessionFactory.java:140)
	at org.wildfly.clustering.web.infinispan.session.coarse.CoarseSessionFactory.findValue(CoarseSessionFactory.java:133)
	at org.wildfly.clustering.web.infinispan.session.coarse.CoarseSessionFactory.findValue(CoarseSessionFactory.java:56)
	at org.wildfly.clustering.web.infinispan.session.InfinispanSessionManager.removed(InfinispanSessionManager.java:317)
	at sun.reflect.GeneratedMethodAccessor109.invoke(Unknown Source) [:1.8.0_60]
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) [rt.jar:1.8.0_60]
	at java.lang.reflect.Method.invoke(Method.java:497) [rt.jar:1.8.0_60]
	at org.infinispan.notifications.impl.AbstractListenerImpl$ListenerInvocationImpl$1.run(AbstractListenerImpl.java:286)
	at org.infinispan.util.concurrent.WithinThreadExecutor.execute(WithinThreadExecutor.java:22)
	at org.infinispan.notifications.impl.AbstractListenerImpl$ListenerInvocationImpl.invoke(AbstractListenerImpl.java:309)
	at org.infinispan.notifications.cachelistener.CacheNotifierImpl$BaseCacheEntryListenerInvocation.doRealInvocation(CacheNotifierImpl.java:1212)
	at org.infinispan.notifications.cachelistener.CacheNotifierImpl$BaseCacheEntryListenerInvocation.invokeNoChecks(CacheNotifierImpl.java:1207)
	at org.infinispan.notifications.cachelistener.CacheNotifierImpl$BaseCacheEntryListenerInvocation.invoke(CacheNotifierImpl.java:1184)
	at org.infinispan.notifications.cachelistener.CacheNotifierImpl.notifyCacheEntryRemoved(CacheNotifierImpl.java:356)
	at org.infinispan.commands.write.RemoveCommand.notify(RemoveCommand.java:97)
	at org.infinispan.commands.write.RemoveCommand.performRemove(RemoveCommand.java:208)
	at org.infinispan.commands.write.RemoveCommand.perform(RemoveCommand.java:93)
	at org.infinispan.interceptors.CallInterceptor.handleDefault(CallInterceptor.java:124)
	at org.infinispan.commands.AbstractVisitor.visitRemoveCommand(AbstractVisitor.java:49)
	at org.infinispan.commands.write.RemoveCommand.acceptVisitor(RemoveCommand.java:58)
	at org.infinispan.interceptors.base.CommandInterceptor.invokeNextInterceptor(CommandInterceptor.java:97)
	at org.infinispan.interceptors.distribution.TxDistributionInterceptor.handleTxWriteCommand(TxDistributionInterceptor.java:306)
	at org.infinispan.interceptors.distribution.TxDistributionInterceptor.visitRemoveCommand(TxDistributionInterceptor.java:86)
	at org.infinispan.commands.write.RemoveCommand.acceptVisitor(RemoveCommand.java:58)
	at org.infinispan.interceptors.base.CommandInterceptor.invokeNextInterceptor(CommandInterceptor.java:97)
	at org.infinispan.interceptors.CacheLoaderInterceptor.visitDataCommand(CacheLoaderInterceptor.java:150)
	at org.infinispan.interceptors.CacheLoaderInterceptor.visitRemoveCommand(CacheLoaderInterceptor.java:135)
	at org.infinispan.commands.write.RemoveCommand.acceptVisitor(RemoveCommand.java:58)
	at org.infinispan.interceptors.base.CommandInterceptor.invokeNextInterceptor(CommandInterceptor.java:97)
	at org.infinispan.interceptors.EntryWrappingInterceptor.invokeNextAndApplyChanges(EntryWrappingInterceptor.java:388)
	at org.infinispan.interceptors.EntryWrappingInterceptor.setSkipRemoteGetsAndInvokeNextForDataCommand(EntryWrappingInterceptor.java:453)
	at org.infinispan.interceptors.EntryWrappingInterceptor.visitRemoveCommand(EntryWrappingInterceptor.java:252)
	at org.infinispan.commands.write.RemoveCommand.acceptVisitor(RemoveCommand.java:58)
	at org.infinispan.interceptors.base.CommandInterceptor.invokeNextInterceptor(CommandInterceptor.java:97)
	at org.infinispan.interceptors.base.CommandInterceptor.handleDefault(CommandInterceptor.java:111)
	at org.infinispan.commands.AbstractVisitor.visitRemoveCommand(AbstractVisitor.java:49)
	at org.infinispan.commands.write.RemoveCommand.acceptVisitor(RemoveCommand.java:58)
	at org.infinispan.interceptors.base.CommandInterceptor.invokeNextInterceptor(CommandInterceptor.java:97)
	at org.infinispan.interceptors.locking.PessimisticLockingInterceptor.visitDataWriteCommand(PessimisticLockingInterceptor.java:133)
	at org.infinispan.interceptors.locking.AbstractLockingInterceptor.visitRemoveCommand(AbstractLockingInterceptor.java:65)
	at org.infinispan.commands.write.RemoveCommand.acceptVisitor(RemoveCommand.java:58)
	at org.infinispan.interceptors.base.CommandInterceptor.invokeNextInterceptor(CommandInterceptor.java:97)
	at org.infinispan.interceptors.base.CommandInterceptor.handleDefault(CommandInterceptor.java:111)
	at org.infinispan.commands.AbstractVisitor.visitRemoveCommand(AbstractVisitor.java:49)
	at org.infinispan.commands.write.RemoveCommand.acceptVisitor(RemoveCommand.java:58)
	at org.infinispan.interceptors.base.CommandInterceptor.invokeNextInterceptor(CommandInterceptor.java:97)
	at org.infinispan.interceptors.TxInterceptor.enlistWriteAndInvokeNext(TxInterceptor.java:367)
	at org.infinispan.interceptors.TxInterceptor.visitRemoveCommand(TxInterceptor.java:273)
	at org.infinispan.commands.write.RemoveCommand.acceptVisitor(RemoveCommand.java:58)
	at org.infinispan.interceptors.base.CommandInterceptor.invokeNextInterceptor(CommandInterceptor.java:97)
	at org.infinispan.interceptors.base.CommandInterceptor.handleDefault(CommandInterceptor.java:111)
	at org.infinispan.commands.AbstractVisitor.visitRemoveCommand(AbstractVisitor.java:49)
	at org.infinispan.commands.write.RemoveCommand.acceptVisitor(RemoveCommand.java:58)
	at org.infinispan.interceptors.base.CommandInterceptor.invokeNextInterceptor(CommandInterceptor.java:97)
	at org.infinispan.statetransfer.StateTransferInterceptor.handleTxWriteCommand(StateTransferInterceptor.java:265)
	at org.infinispan.statetransfer.StateTransferInterceptor.handleWriteCommand(StateTransferInterceptor.java:247)
	at org.infinispan.statetransfer.StateTransferInterceptor.visitRemoveCommand(StateTransferInterceptor.java:123)
	at org.infinispan.commands.write.RemoveCommand.acceptVisitor(RemoveCommand.java:58)
	at org.infinispan.interceptors.base.CommandInterceptor.invokeNextInterceptor(CommandInterceptor.java:97)
	at org.infinispan.interceptors.CacheMgmtInterceptor.visitRemoveCommand(CacheMgmtInterceptor.java:209)
	at org.infinispan.commands.write.RemoveCommand.acceptVisitor(RemoveCommand.java:58)
	at org.infinispan.interceptors.base.CommandInterceptor.invokeNextInterceptor(CommandInterceptor.java:97)
	at org.infinispan.interceptors.InvocationContextInterceptor.handleAll(InvocationContextInterceptor.java:102)
	at org.infinispan.interceptors.InvocationContextInterceptor.handleDefault(InvocationContextInterceptor.java:71)
	at org.infinispan.commands.AbstractVisitor.visitRemoveCommand(AbstractVisitor.java:49)
	at org.infinispan.commands.write.RemoveCommand.acceptVisitor(RemoveCommand.java:58)
	at org.infinispan.interceptors.InterceptorChain.invoke(InterceptorChain.java:336)
	at org.infinispan.cache.impl.CacheImpl.executeCommandAndCommitIfNeeded(CacheImpl.java:1617)
	at org.infinispan.cache.impl.CacheImpl.removeInternal(CacheImpl.java:579)
	at org.infinispan.cache.impl.CacheImpl.remove(CacheImpl.java:572)
	at org.infinispan.cache.impl.DecoratedCache.remove(DecoratedCache.java:442)
	at org.infinispan.cache.impl.AbstractDelegatingCache.remove(AbstractDelegatingCache.java:297)
	at org.wildfly.clustering.web.infinispan.session.coarse.CoarseSessionFactory.remove(CoarseSessionFactory.java:140)
	at org.wildfly.clustering.web.infinispan.session.coarse.CoarseSessionFactory.findValue(CoarseSessionFactory.java:133)
	at org.wildfly.clustering.web.infinispan.session.coarse.CoarseSessionFactory.findValue(CoarseSessionFactory.java:56)
	at org.wildfly.clustering.web.infinispan.session.InfinispanSessionManager.removed(InfinispanSessionManager.java:317)
	at sun.reflect.GeneratedMethodAccessor109.invoke(Unknown Source) [:1.8.0_60]
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) [rt.jar:1.8.0_60]
	at java.lang.reflect.Method.invoke(Method.java:497) [rt.jar:1.8.0_60]
	at org.infinispan.notifications.impl.AbstractListenerImpl$ListenerInvocationImpl$1.run(AbstractListenerImpl.java:286)
	at org.infinispan.util.concurrent.WithinThreadExecutor.execute(WithinThreadExecutor.java:22)
	at org.infinispan.notifications.impl.AbstractListenerImpl$ListenerInvocationImpl.invoke(AbstractListenerImpl.java:309)
	at org.infinispan.notifications.cachelistener.CacheNotifierImpl$BaseCacheEntryListenerInvocation.doRealInvocation(CacheNotifierImpl.java:1212)
	at org.infinispan.notifications.cachelistener.CacheNotifierImpl$BaseCacheEntryListenerInvocation.invokeNoChecks(CacheNotifierImpl.java:1207)
	at org.infinispan.notifications.cachelistener.CacheNotifierImpl$BaseCacheEntryListenerInvocation.invoke(CacheNotifierImpl.java:1184)
	at org.infinispan.notifications.cachelistener.CacheNotifierImpl.notifyCacheEntryRemoved(CacheNotifierImpl.java:356)
	at org.infinispan.commands.write.RemoveCommand.notify(RemoveCommand.java:97)
	at org.infinispan.commands.write.RemoveCommand.performRemove(RemoveCommand.java:208)
	at org.infinispan.commands.write.RemoveCommand.perform(RemoveCommand.java:93)
	at org.infinispan.interceptors.CallInterceptor.handleDefault(CallInterceptor.java:124)
	at org.infinispan.commands.AbstractVisitor.visitRemoveCommand(AbstractVisitor.java:49)
	at org.infinispan.commands.write.RemoveCommand.acceptVisitor(RemoveCommand.java:58)
	at org.infinispan.interceptors.base.CommandInterceptor.invokeNextInterceptor(CommandInterceptor.java:97)
	at org.infinispan.interceptors.distribution.TxDistributionInterceptor.handleTxWriteCommand(TxDistributionInterceptor.java:306)
	at org.infinispan.interceptors.distribution.TxDistributionInterceptor.visitRemoveCommand(TxDistributionInterceptor.java:86)
	at org.infinispan.commands.write.RemoveCommand.acceptVisitor(RemoveCommand.java:58)
	at org.infinispan.interceptors.base.CommandInterceptor.invokeNextInterceptor(CommandInterceptor.java:97)
	at org.infinispan.interceptors.CacheLoaderInterceptor.visitDataCommand(CacheLoaderInterceptor.java:150)
	at org.infinispan.interceptors.CacheLoaderInterceptor.visitRemoveCommand(CacheLoaderInterceptor.java:135)
	at org.infinispan.commands.write.RemoveCommand.acceptVisitor(RemoveCommand.java:58)
	at org.infinispan.interceptors.base.CommandInterceptor.invokeNextInterceptor(CommandInterceptor.java:97)
	at org.infinispan.interceptors.EntryWrappingInterceptor.invokeNextAndApplyChanges(EntryWrappingInterceptor.java:388)
	at org.infinispan.interceptors.EntryWrappingInterceptor.setSkipRemoteGetsAndInvokeNextForDataCommand(EntryWrappingInterceptor.java:453)
	at org.infinispan.interceptors.EntryWrappingInterceptor.visitRemoveCommand(EntryWrappingInterceptor.java:252)
	at org.infinispan.commands.write.RemoveCommand.acceptVisitor(RemoveCommand.java:58)
	at org.infinispan.interceptors.base.CommandInterceptor.invokeNextInterceptor(CommandInterceptor.java:97)
	at org.infinispan.interceptors.base.CommandInterceptor.handleDefault(CommandInterceptor.java:111)
	at org.infinispan.commands.AbstractVisitor.visitRemoveCommand(AbstractVisitor.java:49)
	at org.infinispan.commands.write.RemoveCommand.acceptVisitor(RemoveCommand.java:58)
	at org.infinispan.interceptors.base.CommandInterceptor.invokeNextInterceptor(CommandInterceptor.java:97)
	at org.infinispan.interceptors.locking.PessimisticLockingInterceptor.visitDataWriteCommand(PessimisticLockingInterceptor.java:133)
	at org.infinispan.interceptors.locking.AbstractLockingInterceptor.visitRemoveCommand(AbstractLockingInterceptor.java:65)
	at org.infinispan.commands.write.RemoveCommand.acceptVisitor(RemoveCommand.java:58)
	at org.infinispan.interceptors.base.CommandInterceptor.invokeNextInterceptor(CommandInterceptor.java:97)
	at org.infinispan.interceptors.base.CommandInterceptor.handleDefault(CommandInterceptor.java:111)
	at org.infinispan.commands.AbstractVisitor.visitRemoveCommand(AbstractVisitor.java:49)
	at org.infinispan.commands.write.RemoveCommand.acceptVisitor(RemoveCommand.java:58)
	at org.infinispan.interceptors.base.CommandInterceptor.invokeNextInterceptor(CommandInterceptor.java:97)
	at org.infinispan.interceptors.TxInterceptor.enlistWriteAndInvokeNext(TxInterceptor.java:367)
	at org.infinispan.interceptors.TxInterceptor.visitRemoveCommand(TxInterceptor.java:273)
	at org.infinispan.commands.write.RemoveCommand.acceptVisitor(RemoveCommand.java:58)
	at org.infinispan.interceptors.base.CommandInterceptor.invokeNextInterceptor(CommandInterceptor.java:97)
	at org.infinispan.interceptors.base.CommandInterceptor.handleDefault(CommandInterceptor.java:111)
	at org.infinispan.commands.AbstractVisitor.visitRemoveCommand(AbstractVisitor.java:49)
2015-08-20 09:42:18,011 ERROR [org.infinispan.interceptors.InvocationContextInterceptor] (default task-236) ISPN000136: Execution error: java.lang.NoClassDefFoundError: Could not initialize class org.infinispan.commands.remote.recovery.TxCompletionNotificationCommand
	at org.infinispan.commands.CommandsFactoryImpl.buildTxCompletionNotificationCommand(CommandsFactoryImpl.java:542)
	at org.infinispan.interceptors.locking.PessimisticLockingInterceptor.releaseLocksOnFailureBeforePrepare(PessimisticLockingInterceptor.java:252)
	at org.infinispan.interceptors.locking.PessimisticLockingInterceptor.visitDataWriteCommand(PessimisticLockingInterceptor.java:138)
	at org.infinispan.interceptors.locking.AbstractLockingInterceptor.visitRemoveCommand(AbstractLockingInterceptor.java:65)
	at org.infinispan.commands.write.RemoveCommand.acceptVisitor(RemoveCommand.java:58)
	at org.infinispan.interceptors.base.CommandInterceptor.invokeNextInterceptor(CommandInterceptor.java:97)
	at org.infinispan.interceptors.base.CommandInterceptor.handleDefault(CommandInterceptor.java:111)
	at org.infinispan.commands.AbstractVisitor.visitRemoveCommand(AbstractVisitor.java:49)
	at org.infinispan.commands.write.RemoveCommand.acceptVisitor(RemoveCommand.java:58)
	at org.infinispan.interceptors.base.CommandInterceptor.invokeNextInterceptor(CommandInterceptor.java:97)
	at org.infinispan.interceptors.TxInterceptor.enlistWriteAndInvokeNext(TxInterceptor.java:367)
	at org.infinispan.interceptors.TxInterceptor.visitRemoveCommand(TxInterceptor.java:273)
	at org.infinispan.commands.write.RemoveCommand.acceptVisitor(RemoveCommand.java:58)
	at org.infinispan.interceptors.base.CommandInterceptor.invokeNextInterceptor(CommandInterceptor.java:97)
	at org.infinispan.interceptors.base.CommandInterceptor.handleDefault(CommandInterceptor.java:111)
	at org.infinispan.commands.AbstractVisitor.visitRemoveCommand(AbstractVisitor.java:49)
	at org.infinispan.commands.write.RemoveCommand.acceptVisitor(RemoveCommand.java:58)
	at org.infinispan.interceptors.base.CommandInterceptor.invokeNextInterceptor(CommandInterceptor.java:97)
	at org.infinispan.statetransfer.StateTransferInterceptor.handleTxWriteCommand(StateTransferInterceptor.java:265)
	at org.infinispan.statetransfer.StateTransferInterceptor.handleWriteCommand(StateTransferInterceptor.java:247)
	at org.infinispan.statetransfer.StateTransferInterceptor.visitRemoveCommand(StateTransferInterceptor.java:123)
	at org.infinispan.commands.write.RemoveCommand.acceptVisitor(RemoveCommand.java:58)
	at org.infinispan.interceptors.base.CommandInterceptor.invokeNextInterceptor(CommandInterceptor.java:97)
	at org.infinispan.interceptors.CacheMgmtInterceptor.visitRemoveCommand(CacheMgmtInterceptor.java:209)
	at org.infinispan.commands.write.RemoveCommand.acceptVisitor(RemoveCommand.java:58)
	at org.infinispan.interceptors.base.CommandInterceptor.invokeNextInterceptor(CommandInterceptor.java:97)
	at org.infinispan.interceptors.InvocationContextInterceptor.handleAll(InvocationContextInterceptor.java:102)
	at org.infinispan.interceptors.InvocationContextInterceptor.handleDefault(InvocationContextInterceptor.java:71)
	at org.infinispan.commands.AbstractVisitor.visitRemoveCommand(AbstractVisitor.java:49)
	at org.infinispan.commands.write.RemoveCommand.acceptVisitor(RemoveCommand.java:58)
	at org.infinispan.interceptors.InterceptorChain.invoke(InterceptorChain.java:336)
	at org.infinispan.cache.impl.CacheImpl.executeCommandAndCommitIfNeeded(CacheImpl.java:1617)
	at org.infinispan.cache.impl.CacheImpl.removeInternal(CacheImpl.java:579)
	at org.infinispan.cache.impl.CacheImpl.remove(CacheImpl.java:572)
	at org.infinispan.cache.impl.DecoratedCache.remove(DecoratedCache.java:442)
	at org.infinispan.cache.impl.AbstractDelegatingCache.remove(AbstractDelegatingCache.java:297)
	at org.wildfly.clustering.web.infinispan.session.coarse.CoarseSessionFactory.remove(CoarseSessionFactory.java:140)
	at org.wildfly.clustering.web.infinispan.session.coarse.CoarseSessionFactory.findValue(CoarseSessionFactory.java:133)
	at org.wildfly.clustering.web.infinispan.session.coarse.CoarseSessionFactory.findValue(CoarseSessionFactory.java:56)
	at org.wildfly.clustering.web.infinispan.session.InfinispanSessionManager.removed(InfinispanSessionManager.java:317)
	at sun.reflect.GeneratedMethodAccessor109.invoke(Unknown Source) [:1.8.0_60]
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) [rt.jar:1.8.0_60]
	at java.lang.reflect.Method.invoke(Method.java:497) [rt.jar:1.8.0_60]
	at org.infinispan.notifications.impl.AbstractListenerImpl$ListenerInvocationImpl$1.run(AbstractListenerImpl.java:286)
	at org.infinispan.util.concurrent.WithinThreadExecutor.execute(WithinThreadExecutor.java:22)
	at org.infinispan.notifications.impl.AbstractListenerImpl$ListenerInvocationImpl.invoke(AbstractListenerImpl.java:309)
	at org.infinispan.notifications.cachelistener.CacheNotifierImpl$BaseCacheEntryListenerInvocation.doRealInvocation(CacheNotifierImpl.java:1212)
	at org.infinispan.notifications.cachelistener.CacheNotifierImpl$BaseCacheEntryListenerInvocation.invokeNoChecks(CacheNotifierImpl.java:1207)
	at org.infinispan.notifications.cachelistener.CacheNotifierImpl$BaseCacheEntryListenerInvocation.invoke(CacheNotifierImpl.java:1184)
	at org.infinispan.notifications.cachelistener.CacheNotifierImpl.notifyCacheEntryRemoved(CacheNotifierImpl.java:356)
	at org.infinispan.commands.write.RemoveCommand.notify(RemoveCommand.java:97)
	at org.infinispan.commands.write.RemoveCommand.performRemove(RemoveCommand.java:208)
	at org.infinispan.commands.write.RemoveCommand.perform(RemoveCommand.java:93)
	at org.infinispan.interceptors.CallInterceptor.handleDefault(CallInterceptor.java:124)
	at org.infinispan.commands.AbstractVisitor.visitRemoveCommand(AbstractVisitor.java:49)
	at org.infinispan.commands.write.RemoveCommand.acceptVisitor(RemoveCommand.java:58)
	at org.infinispan.interceptors.base.CommandInterceptor.invokeNextInterceptor(CommandInterceptor.java:97)
	at org.infinispan.interceptors.distribution.TxDistributionInterceptor.handleTxWriteCommand(TxDistributionInterceptor.java:306)
	at org.infinispan.interceptors.distribution.TxDistributionInterceptor.visitRemoveCommand(TxDistributionInterceptor.java:86)
	at org.infinispan.commands.write.RemoveCommand.acceptVisitor(RemoveCommand.java:58)
	at org.infinispan.interceptors.base.CommandInterceptor.invokeNextInterceptor(CommandInterceptor.java:97)
	at org.infinispan.interceptors.CacheLoaderInterceptor.visitDataCommand(CacheLoaderInterceptor.java:150)
	at org.infinispan.interceptors.CacheLoaderInterceptor.visitRemoveCommand(CacheLoaderInterceptor.java:135)
	at org.infinispan.commands.write.RemoveCommand.acceptVisitor(RemoveCommand.java:58)
	at org.infinispan.interceptors.base.CommandInterceptor.invokeNextInterceptor(CommandInterceptor.java:97)
	at org.infinispan.interceptors.EntryWrappingInterceptor.invokeNextAndApplyChanges(EntryWrappingInterceptor.java:388)
	at org.infinispan.interceptors.EntryWrappingInterceptor.setSkipRemoteGetsAndInvokeNextForDataCommand(EntryWrappingInterceptor.java:453)
	at org.infinispan.interceptors.EntryWrappingInterceptor.visitRemoveCommand(EntryWrappingInterceptor.java:252)
	at org.infinispan.commands.write.RemoveCommand.acceptVisitor(RemoveCommand.java:58)
	at org.infinispan.interceptors.base.CommandInterceptor.invokeNextInterceptor(CommandInterceptor.java:97)
	at org.infinispan.interceptors.base.CommandInterceptor.handleDefault(CommandInterceptor.java:111)
	at org.infinispan.commands.AbstractVisitor.visitRemoveCommand(AbstractVisitor.java:49)
	at org.infinispan.commands.write.RemoveCommand.acceptVisitor(RemoveCommand.java:58)
	at org.infinispan.interceptors.base.CommandInterceptor.invokeNextInterceptor(CommandInterceptor.java:97)
	at org.infinispan.interceptors.locking.PessimisticLockingInterceptor.visitDataWriteCommand(PessimisticLockingInterceptor.java:133)
	at org.infinispan.interceptors.locking.AbstractLockingInterceptor.visitRemoveCommand(AbstractLockingInterceptor.java:65)
	at org.infinispan.commands.write.RemoveCommand.acceptVisitor(RemoveCommand.java:58)
	at org.infinispan.interceptors.base.CommandInterceptor.invokeNextInterceptor(CommandInterceptor.java:97)
	at org.infinispan.interceptors.base.CommandInterceptor.handleDefault(CommandInterceptor.java:111)
	at org.infinispan.commands.AbstractVisitor.visitRemoveCommand(AbstractVisitor.java:49)
	at org.infinispan.commands.write.RemoveCommand.acceptVisitor(RemoveCommand.java:58)
	at org.infinispan.interceptors.base.CommandInterceptor.invokeNextInterceptor(CommandInterceptor.java:97)
	at org.infinispan.interceptors.TxInterceptor.enlistWriteAndInvokeNext(TxInterceptor.java:367)
	at org.infinispan.interceptors.TxInterceptor.visitRemoveCommand(TxInterceptor.java:273)
	at org.infinispan.commands.write.RemoveCommand.acceptVisitor(RemoveCommand.java:58)
	at org.infinispan.interceptors.base.CommandInterceptor.invokeNextInterceptor(CommandInterceptor.java:97)
	at org.infinispan.interceptors.base.CommandInterceptor.handleDefault(CommandInterceptor.java:111)
	at org.infinispan.commands.AbstractVisitor.visitRemoveCommand(AbstractVisitor.java:49)
	at org.infinispan.commands.write.RemoveCommand.acceptVisitor(RemoveCommand.java:58)
	at org.infinispan.interceptors.base.CommandInterceptor.invokeNextInterceptor(CommandInterceptor.java:97)
	at org.infinispan.statetransfer.StateTransferInterceptor.handleTxWriteCommand(StateTransferInterceptor.java:265)
	at org.infinispan.statetransfer.StateTransferInterceptor.handleWriteCommand(StateTransferInterceptor.java:247)
	at org.infinispan.statetransfer.StateTransferInterceptor.visitRemoveCommand(StateTransferInterceptor.java:123)
	at org.infinispan.commands.write.RemoveCommand.acceptVisitor(RemoveCommand.java:58)
	at org.infinispan.interceptors.base.CommandInterceptor.invokeNextInterceptor(CommandInterceptor.java:97)
	at org.infinispan.interceptors.CacheMgmtInterceptor.visitRemoveCommand(CacheMgmtInterceptor.java:209)
	at org.infinispan.commands.write.RemoveCommand.acceptVisitor(RemoveCommand.java:58)
	at org.infinispan.interceptors.base.CommandInterceptor.invokeNextInterceptor(CommandInterceptor.java:97)
	at org.infinispan.interceptors.InvocationContextInterceptor.handleAll(InvocationContextInterceptor.java:102)
	at org.infinispan.interceptors.InvocationContextInterceptor.handleDefault(InvocationContextInterceptor.java:71)
	at org.infinispan.commands.AbstractVisitor.visitRemoveCommand(AbstractVisitor.java:49)
	at org.infinispan.commands.write.RemoveCommand.acceptVisitor(RemoveCommand.java:58)
	at org.infinispan.interceptors.InterceptorChain.invoke(InterceptorChain.java:336)
	at org.infinispan.cache.impl.CacheImpl.executeCommandAndCommitIfNeeded(CacheImpl.java:1617)
	at org.infinispan.cache.impl.CacheImpl.removeInternal(CacheImpl.java:579)
	at org.infinispan.cache.impl.CacheImpl.remove(CacheImpl.java:572)
	at org.infinispan.cache.impl.DecoratedCache.remove(DecoratedCache.java:442)
	at org.infinispan.cache.impl.AbstractDelegatingCache.remove(AbstractDelegatingCache.java:297)
	at org.wildfly.clustering.web.infinispan.session.coarse.CoarseSessionFactory.remove(CoarseSessionFactory.java:140)
	at org.wildfly.clustering.web.infinispan.session.coarse.CoarseSessionFactory.findValue(CoarseSessionFactory.java:133)
	at org.wildfly.clustering.web.infinispan.session.coarse.CoarseSessionFactory.findValue(CoarseSessionFactory.java:56)
	at org.wildfly.clustering.web.infinispan.session.InfinispanSessionManager.removed(InfinispanSessionManager.java:317)
	at sun.reflect.GeneratedMethodAccessor109.invoke(Unknown Source) [:1.8.0_60]
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) [rt.jar:1.8.0_60]
	at java.lang.reflect.Method.invoke(Method.java:497) [rt.jar:1.8.0_60]
	at org.infinispan.notifications.impl.AbstractListenerImpl$ListenerInvocationImpl$1.run(AbstractListenerImpl.java:286)
	at org.infinispan.util.concurrent.WithinThreadExecutor.execute(WithinThreadExecutor.java:22)
	at org.infinispan.notifications.impl.AbstractListenerImpl$ListenerInvocationImpl.invoke(AbstractListenerImpl.java:309)
	at org.infinispan.notifications.cachelistener.CacheNotifierImpl$BaseCacheEntryListenerInvocation.doRealInvocation(CacheNotifierImpl.java:1212)
	at org.infinispan.notifications.cachelistener.CacheNotifierImpl$BaseCacheEntryListenerInvocation.invokeNoChecks(CacheNotifierImpl.java:1207)
	at org.infinispan.notifications.cachelistener.CacheNotifierImpl$BaseCacheEntryListenerInvocation.invoke(CacheNotifierImpl.java:1184)
	at org.infinispan.notifications.cachelistener.CacheNotifierImpl.notifyCacheEntryRemoved(CacheNotifierImpl.java:356)
	at org.infinispan.commands.write.RemoveCommand.notify(RemoveCommand.java:97)
	at org.infinispan.commands.write.RemoveCommand.performRemove(RemoveCommand.java:208)
	at org.infinispan.commands.write.RemoveCommand.perform(RemoveCommand.java:93)
	at org.infinispan.interceptors.CallInterceptor.handleDefault(CallInterceptor.java:124)
	at org.infinispan.commands.AbstractVisitor.visitRemoveCommand(AbstractVisitor.java:49)
	at org.infinispan.commands.write.RemoveCommand.acceptVisitor(RemoveCommand.java:58)
	at org.infinispan.interceptors.base.CommandInterceptor.invokeNextInterceptor(CommandInterceptor.java:97)
	at org.infinispan.interceptors.distribution.TxDistributionInterceptor.handleTxWriteCommand(TxDistributionInterceptor.java:306)
	at org.infinispan.interceptors.distribution.TxDistributionInterceptor.visitRemoveCommand(TxDistributionInterceptor.java:86)
	at org.infinispan.commands.write.RemoveCommand.acceptVisitor(RemoveCommand.java:58)
	at org.infinispan.interceptors.base.CommandInterceptor.invokeNextInterceptor(CommandInterceptor.java:97)
	at org.infinispan.interceptors.CacheLoaderInterceptor.visitDataCommand(CacheLoaderInterceptor.java:150)
	at org.infinispan.interceptors.CacheLoaderInterceptor.visitRemoveCommand(CacheLoaderInterceptor.java:135)
	at org.infinispan.commands.write.RemoveCommand.acceptVisitor(RemoveCommand.java:58)
	at org.infinispan.interceptors.base.CommandInterceptor.invokeNextInterceptor(CommandInterceptor.java:97)
	at org.infinispan.interceptors.EntryWrappingInterceptor.invokeNextAndApplyChanges(EntryWrappingInterceptor.java:388)
	at org.infinispan.interceptors.EntryWrappingInterceptor.setSkipRemoteGetsAndInvokeNextForDataCommand(EntryWrappingInterceptor.java:453)
	at org.infinispan.interceptors.EntryWrappingInterceptor.visitRemoveCommand(EntryWrappingInterceptor.java:252)
	at org.infinispan.commands.write.RemoveCommand.acceptVisitor(RemoveCommand.java:58)
	at org.infinispan.interceptors.base.CommandInterceptor.invokeNextInterceptor(CommandInterceptor.java:97)
	at org.infinispan.interceptors.base.CommandInterceptor.handleDefault(CommandInterceptor.java:111)
	at org.infinispan.commands.AbstractVisitor.visitRemoveCommand(AbstractVisitor.java:49)
	at org.infinispan.commands.write.RemoveCommand.acceptVisitor(RemoveCommand.java:58)
	at org.infinispan.interceptors.base.CommandInterceptor.invokeNextInterceptor(CommandInterceptor.java:97)
	at org.infinispan.interceptors.locking.PessimisticLockingInterceptor.visitDataWriteCommand(PessimisticLockingInterceptor.java:133)
	at org.infinispan.interceptors.locking.AbstractLockingInterceptor.visitRemoveCommand(AbstractLockingInterceptor.java:65)
	at org.infinispan.commands.write.RemoveCommand.acceptVisitor(RemoveCommand.java:58)
	at org.infinispan.interceptors.base.CommandInterceptor.invokeNextInterceptor(CommandInterceptor.java:97)
	at org.infinispan.interceptors.base.CommandInterceptor.handleDefault(CommandInterceptor.java:111)
	at org.infinispan.commands.AbstractVisitor.visitRemoveCommand(AbstractVisitor.java:49)
	at org.infinispan.commands.write.RemoveCommand.acceptVisitor(RemoveCommand.java:58)
	at org.infinispan.interceptors.base.CommandInterceptor.invokeNextInterceptor(CommandInterceptor.java:97)
	at org.infinispan.interceptors.TxInterceptor.enlistWriteAndInvokeNext(TxInterceptor.java:367)
	at org.infinispan.interceptors.TxInterceptor.visitRemoveCommand(TxInterceptor.java:273)
	at org.infinispan.commands.write.RemoveCommand.acceptVisitor(RemoveCommand.java:58)
	at org.infinispan.interceptors.base.CommandInterceptor.invokeNextInterceptor(CommandInterceptor.java:97)
	at org.infinispan.interceptors.base.CommandInterceptor.handleDefault(CommandInterceptor.java:111)
	at org.infinispan.commands.AbstractVisitor.visitRemoveCommand(AbstractVisitor.java:49)
	at org.infinispan.commands.write.RemoveCommand.acceptVisitor(RemoveCommand.java:58)
	at org.infinispan.interceptors.base.CommandInterceptor.invokeNextInterceptor(CommandInterceptor.java:97)
	at org.infinispan.statetransfer.StateTransferInterceptor.handleTxWriteCommand(StateTransferInterceptor.java:265)
	at org.infinispan.statetransfer.StateTransferInterceptor.handleWriteCommand(StateTransferInterceptor.java:247)
	at org.infinispan.statetransfer.StateTransferInterceptor.visitRemoveCommand(StateTransferInterceptor.java:123)
	at org.infinispan.commands.write.RemoveCommand.acceptVisitor(RemoveCommand.java:58)
	at org.infinispan.interceptors.base.CommandInterceptor.invokeNextInterceptor(CommandInterceptor.java:97)
	at org.infinispan.interceptors.CacheMgmtInterceptor.visitRemoveCommand(CacheMgmtInterceptor.java:209)
	at org.infinispan.commands.write.RemoveCommand.acceptVisitor(RemoveCommand.java:58)
	at org.infinispan.interceptors.base.CommandInterceptor.invokeNextInterceptor(CommandInterceptor.java:97)
	at org.infinispan.interceptors.InvocationContextInterceptor.handleAll(InvocationContextInterceptor.java:102)
	at org.infinispan.interceptors.InvocationContextInterceptor.handleDefault(InvocationContextInterceptor.java:71)
	at org.infinispan.commands.AbstractVisitor.visitRemoveCommand(AbstractVisitor.java:49)
	at org.infinispan.commands.write.RemoveCommand.acceptVisitor(RemoveCommand.java:58)
	at org.infinispan.interceptors.InterceptorChain.invoke(InterceptorChain.java:336)
	at org.infinispan.cache.impl.CacheImpl.executeCommandAndCommitIfNeeded(CacheImpl.java:1617)
	at org.infinispan.cache.impl.CacheImpl.removeInternal(CacheImpl.java:579)
	at org.infinispan.cache.impl.CacheImpl.remove(CacheImpl.java:572)
	at org.infinispan.cache.impl.DecoratedCache.remove(DecoratedCache.java:442)
	at org.infinispan.cache.impl.AbstractDelegatingCache.remove(AbstractDelegatingCache.java:297)
	at org.wildfly.clustering.web.infinispan.session.coarse.CoarseSessionFactory.remove(CoarseSessionFactory.java:140)
	at org.wildfly.clustering.web.infinispan.session.coarse.CoarseSessionFactory.findValue(CoarseSessionFactory.java:133)
	at org.wildfly.clustering.web.infinispan.session.coarse.CoarseSessionFactory.findValue(CoarseSessionFactory.java:56)
	at org.wildfly.clustering.web.infinispan.session.InfinispanSessionManager.removed(InfinispanSessionManager.java:317)
	at sun.reflect.GeneratedMethodAccessor109.invoke(Unknown Source) [:1.8.0_60]
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) [rt.jar:1.8.0_60]
	at java.lang.reflect.Method.invoke(Method.java:497) [rt.jar:1.8.0_60]
	at org.infinispan.notifications.impl.AbstractListenerImpl$ListenerInvocationImpl$1.run(AbstractListenerImpl.java:286)
	at org.infinispan.util.concurrent.WithinThreadExecutor.execute(WithinThreadExecutor.java:22)
	at org.infinispan.notifications.impl.AbstractListenerImpl$ListenerInvocationImpl.invoke(AbstractListenerImpl.java:309)
	at org.infinispan.notifications.cachelistener.CacheNotifierImpl$BaseCacheEntryListenerInvocation.doRealInvocation(CacheNotifierImpl.java:1212)
	at org.infinispan.notifications.cachelistener.CacheNotifierImpl$BaseCacheEntryListenerInvocation.invokeNoChecks(CacheNotifierImpl.java:1207)
	at org.infinispan.notifications.cachelistener.CacheNotifierImpl$BaseCacheEntryListenerInvocation.invoke(CacheNotifierImpl.java:1184)
	at org.infinispan.notifications.cachelistener.CacheNotifierImpl.notifyCacheEntryRemoved(CacheNotifierImpl.java:356)
	at org.infinispan.commands.write.RemoveCommand.notify(RemoveCommand.java:97)
	at org.infinispan.commands.write.RemoveCommand.performRemove(RemoveCommand.java:208)
	at org.infinispan.commands.write.RemoveCommand.perform(RemoveCommand.java:93)
	at org.infinispan.interceptors.CallInterceptor.handleDefault(CallInterceptor.java:124)
	at org.infinispan.commands.AbstractVisitor.visitRemoveCommand(AbstractVisitor.java:49)
	at org.infinispan.commands.write.RemoveCommand.acceptVisitor(RemoveCommand.java:58)
	at org.infinispan.interceptors.base.CommandInterceptor.invokeNextInterceptor(CommandInterceptor.java:97)
	at org.infinispan.interceptors.distribution.TxDistributionInterceptor.handleTxWriteCommand(TxDistributionInterceptor.java:306)
	at org.infinispan.interceptors.distribution.TxDistributionInterceptor.visitRemoveCommand(TxDistributionInterceptor.java:86)
	at org.infinispan.commands.write.RemoveCommand.acceptVisitor(RemoveCommand.java:58)
	at org.infinispan.interceptors.base.CommandInterceptor.invokeNextInterceptor(CommandInterceptor.java:97)
	at org.infinispan.interceptors.CacheLoaderInterceptor.visitDataCommand(CacheLoaderInterceptor.java:150)
	at org.infinispan.interceptors.CacheLoaderInterceptor.visitRemoveCommand(CacheLoaderInterceptor.java:135)
	at org.infinispan.commands.write.RemoveCommand.acceptVisitor(RemoveCommand.java:58)
	at org.infinispan.interceptors.base.CommandInterceptor.invokeNextInterceptor(CommandInterceptor.java:97)
	at org.infinispan.interceptors.EntryWrappingInterceptor.invokeNextAndApplyChanges(EntryWrappingInterceptor.java:388)
	at org.infinispan.interceptors.EntryWrappingInterceptor.setSkipRemoteGetsAndInvokeNextForDataCommand(EntryWrappingInterceptor.java:453)
	at org.infinispan.interceptors.EntryWrappingInterceptor.visitRemoveCommand(EntryWrappingInterceptor.java:252)
	at org.infinispan.commands.write.RemoveCommand.acceptVisitor(RemoveCommand.java:58)
	at org.infinispan.interceptors.base.CommandInterceptor.invokeNextInterceptor(CommandInterceptor.java:97)
	at org.infinispan.interceptors.base.CommandInterceptor.handleDefault(CommandInterceptor.java:111)
	at org.infinispan.commands.AbstractVisitor.visitRemoveCommand(AbstractVisitor.java:49)
	at org.infinispan.commands.write.RemoveCommand.acceptVisitor(RemoveCommand.java:58)
	at org.infinispan.interceptors.base.CommandInterceptor.invokeNextInterceptor(CommandInterceptor.java:97)
	at org.infinispan.interceptors.locking.PessimisticLockingInterceptor.visitDataWriteCommand(PessimisticLockingInterceptor.java:133)
	at org.infinispan.interceptors.locking.AbstractLockingInterceptor.visitRemoveCommand(AbstractLockingInterceptor.java:65)
	at org.infinispan.commands.write.RemoveCommand.acceptVisitor(RemoveCommand.java:58)
	at org.infinispan.interceptors.base.CommandInterceptor.invokeNextInterceptor(CommandInterceptor.java:97)
	at org.infinispan.interceptors.base.CommandInterceptor.handleDefault(CommandInterceptor.java:111)
	at org.infinispan.commands.AbstractVisitor.visitRemoveCommand(AbstractVisitor.java:49)
	at org.infinispan.commands.write.RemoveCommand.acceptVisitor(RemoveCommand.java:58)
	at org.infinispan.interceptors.base.CommandInterceptor.invokeNextInterceptor(CommandInterceptor.java:97)
	at org.infinispan.interceptors.TxInterceptor.enlistWriteAndInvokeNext(TxInterceptor.java:367)
	at org.infinispan.interceptors.TxInterceptor.visitRemoveCommand(TxInterceptor.java:273)
	at org.infinispan.commands.write.RemoveCommand.acceptVisitor(RemoveCommand.java:58)
	at org.infinispan.interceptors.base.CommandInterceptor.invokeNextInterceptor(CommandInterceptor.java:97)
	at org.infinispan.interceptors.base.CommandInterceptor.handleDefault(CommandInterceptor.java:111)
	at org.infinispan.commands.AbstractVisitor.visitRemoveCommand(AbstractVisitor.java:49)
	at org.infinispan.commands.write.RemoveCommand.acceptVisitor(RemoveCommand.java:58)
	at org.infinispan.interceptors.base.CommandInterceptor.invokeNextInterceptor(CommandInterceptor.java:97)
	at org.infinispan.statetransfer.StateTransferInterceptor.handleTxWriteCommand(StateTransferInterceptor.java:265)
	at org.infinispan.statetransfer.StateTransferInterceptor.handleWriteCommand(StateTransferInterceptor.java:247)
	at org.infinispan.statetransfer.StateTransferInterceptor.visitRemoveCommand(StateTransferInterceptor.java:123)
	at org.infinispan.commands.write.RemoveCommand.acceptVisitor(RemoveCommand.java:58)
	at org.infinispan.interceptors.base.CommandInterceptor.invokeNextInterceptor(CommandInterceptor.java:97)
	at org.infinispan.interceptors.CacheMgmtInterceptor.visitRemoveCommand(CacheMgmtInterceptor.java:209)
	at org.infinispan.commands.write.RemoveCommand.acceptVisitor(RemoveCommand.java:58)
	at org.infinispan.interceptors.base.CommandInterceptor.invokeNextInterceptor(CommandInterceptor.java:97)
	at org.infinispan.interceptors.InvocationContextInterceptor.handleAll(InvocationContextInterceptor.java:102)
	at org.infinispan.interceptors.InvocationContextInterceptor.handleDefault(InvocationContextInterceptor.java:71)
	at org.infinispan.commands.AbstractVisitor.visitRemoveCommand(AbstractVisitor.java:49)
	at org.infinispan.commands.write.RemoveCommand.acceptVisitor(RemoveCommand.java:58)
	at org.infinispan.interceptors.InterceptorChain.invoke(InterceptorChain.java:336)
	at org.infinispan.cache.impl.CacheImpl.executeCommandAndCommitIfNeeded(CacheImpl.java:1617)
	at org.infinispan.cache.impl.CacheImpl.removeInternal(CacheImpl.java:579)
	at org.infinispan.cache.impl.CacheImpl.remove(CacheImpl.java:572)
	at org.infinispan.cache.impl.DecoratedCache.remove(DecoratedCache.java:442)
	at org.infinispan.cache.impl.AbstractDelegatingCache.remove(AbstractDelegatingCache.java:297)
	at org.wildfly.clustering.web.infinispan.session.coarse.CoarseSessionFactory.remove(CoarseSessionFactory.java:140)
	at org.wildfly.clustering.web.infinispan.session.coarse.CoarseSessionFactory.findValue(CoarseSessionFactory.java:133)
	at org.wildfly.clustering.web.infinispan.session.coarse.CoarseSessionFactory.findValue(CoarseSessionFactory.java:56)
	at org.wildfly.clustering.web.infinispan.session.InfinispanSessionManager.removed(InfinispanSessionManager.java:317)
	at sun.reflect.GeneratedMethodAccessor109.invoke(Unknown Source) [:1.8.0_60]
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) [rt.jar:1.8.0_60]
	at java.lang.reflect.Method.invoke(Method.java:497) [rt.jar:1.8.0_60]
	at org.infinispan.notifications.impl.AbstractListenerImpl$ListenerInvocationImpl$1.run(AbstractListenerImpl.java:286)
	at org.infinispan.util.concurrent.WithinThreadExecutor.execute(WithinThreadExecutor.java:22)
	at org.infinispan.notifications.impl.AbstractListenerImpl$ListenerInvocationImpl.invoke(AbstractListenerImpl.java:309)
	at org.infinispan.notifications.cachelistener.CacheNotifierImpl$BaseCacheEntryListenerInvocation.doRealInvocation(CacheNotifierImpl.java:1212)
	at org.infinispan.notifications.cachelistener.CacheNotifierImpl$BaseCacheEntryListenerInvocation.invokeNoChecks(CacheNotifierImpl.java:1207)
	at org.infinispan.notifications.cachelistener.CacheNotifierImpl$BaseCacheEntryListenerInvocation.invoke(CacheNotifierImpl.java:1184)
	at org.infinispan.notifications.cachelistener.CacheNotifierImpl.notifyCacheEntryRemoved(CacheNotifierImpl.java:356)
	at org.infinispan.commands.write.RemoveCommand.notify(RemoveCommand.java:97)
	at org.infinispan.commands.write.RemoveCommand.performRemove(RemoveCommand.java:208)
	at org.infinispan.commands.write.RemoveCommand.perform(RemoveCommand.java:93)
	at org.infinispan.interceptors.CallInterceptor.handleDefault(CallInterceptor.java:124)
	at org.infinispan.commands.AbstractVisitor.visitRemoveCommand(AbstractVisitor.java:49)
	at org.infinispan.commands.write.RemoveCommand.acceptVisitor(RemoveCommand.java:58)
	at org.infinispan.interceptors.base.CommandInterceptor.invokeNextInterceptor(CommandInterceptor.java:97)
	at org.infinispan.interceptors.distribution.TxDistributionInterceptor.handleTxWriteCommand(TxDistributionInterceptor.java:306)
	at org.infinispan.interceptors.distribution.TxDistributionInterceptor.visitRemoveCommand(TxDistributionInterceptor.java:86)
	at org.infinispan.commands.write.RemoveCommand.acceptVisitor(RemoveCommand.java:58)
	at org.infinispan.interceptors.base.CommandInterceptor.invokeNextInterceptor(CommandInterceptor.java:97)
	at org.infinispan.interceptors.CacheLoaderInterceptor.visitDataCommand(CacheLoaderInterceptor.java:150)
	at org.infinispan.interceptors.CacheLoaderInterceptor.visitRemoveCommand(CacheLoaderInterceptor.java:135)
	at org.infinispan.commands.write.RemoveCommand.acceptVisitor(RemoveCommand.java:58)
	at org.infinispan.interceptors.base.CommandInterceptor.invokeNextInterceptor(CommandInterceptor.java:97)
	at org.infinispan.interceptors.EntryWrappingInterceptor.invokeNextAndApplyChanges(EntryWrappingInterceptor.java:388)
	at org.infinispan.interceptors.EntryWrappingInterceptor.setSkipRemoteGetsAndInvokeNextForDataCommand(EntryWrappingInterceptor.java:453)
	at org.infinispan.interceptors.EntryWrappingInterceptor.visitRemoveCommand(EntryWrappingInterceptor.java:252)
	at org.infinispan.commands.write.RemoveCommand.acceptVisitor(RemoveCommand.java:58)
	at org.infinispan.interceptors.base.CommandInterceptor.invokeNextInterceptor(CommandInterceptor.java:97)
	at org.infinispan.interceptors.base.CommandInterceptor.handleDefault(CommandInterceptor.java:111)
	at org.infinispan.commands.AbstractVisitor.visitRemoveCommand(AbstractVisitor.java:49)
	at org.infinispan.commands.write.RemoveCommand.acceptVisitor(RemoveCommand.java:58)
	at org.infinispan.interceptors.base.CommandInterceptor.invokeNextInterceptor(CommandInterceptor.java:97)
	at org.infinispan.interceptors.locking.PessimisticLockingInterceptor.visitDataWriteCommand(PessimisticLockingInterceptor.java:133)
	at org.infinispan.interceptors.locking.AbstractLockingInterceptor.visitRemoveCommand(AbstractLockingInterceptor.java:65)
	at org.infinispan.commands.write.RemoveCommand.acceptVisitor(RemoveCommand.java:58)
	at org.infinispan.interceptors.base.CommandInterceptor.invokeNextInterceptor(CommandInterceptor.java:97)
	at org.infinispan.interceptors.base.CommandInterceptor.handleDefault(CommandInterceptor.java:111)
	at org.infinispan.commands.AbstractVisitor.visitRemoveCommand(AbstractVisitor.java:49)
	at org.infinispan.commands.write.RemoveCommand.acceptVisitor(RemoveCommand.java:58)
	at org.infinispan.interceptors.base.CommandInterceptor.invokeNextInterceptor(CommandInterceptor.java:97)
	at org.infinispan.interceptors.TxInterceptor.enlistWriteAndInvokeNext(TxInterceptor.java:367)
	at org.infinispan.interceptors.TxInterceptor.visitRemoveCommand(TxInterceptor.java:273)
	at org.infinispan.commands.write.RemoveCommand.acceptVisitor(RemoveCommand.java:58)
	at org.infinispan.interceptors.base.CommandInterceptor.invokeNextInterceptor(CommandInterceptor.java:97)
	at org.infinispan.interceptors.base.CommandInterceptor.handleDefault(CommandInterceptor.java:111)
	at org.infinispan.commands.AbstractVisitor.visitRemoveCommand(AbstractVisitor.java:49)
	at org.infinispan.commands.write.RemoveCommand.acceptVisitor(RemoveCommand.java:58)
	at org.infinispan.interceptors.base.CommandInterceptor.invokeNextInterceptor(CommandInterceptor.java:97)
	at org.infinispan.statetransfer.StateTransferInterceptor.handleTxWriteCommand(StateTransferInterceptor.java:265)
	at org.infinispan.statetransfer.StateTransferInterceptor.handleWriteCommand(StateTransferInterceptor.java:247)
	at org.infinispan.statetransfer.StateTransferInterceptor.visitRemoveCommand(StateTransferInterceptor.java:123)
	at org.infinispan.commands.write.RemoveCommand.acceptVisitor(RemoveCommand.java:58)
	at org.infinispan.interceptors.base.CommandInterceptor.invokeNextInterceptor(CommandInterceptor.java:97)
	at org.infinispan.interceptors.CacheMgmtInterceptor.visitRemoveCommand(CacheMgmtInterceptor.java:209)
	at org.infinispan.commands.write.RemoveCommand.acceptVisitor(RemoveCommand.java:58)
	at org.infinispan.interceptors.base.CommandInterceptor.invokeNextInterceptor(CommandInterceptor.java:97)
	at org.infinispan.interceptors.InvocationContextInterceptor.handleAll(InvocationContextInterceptor.java:102)
	at org.infinispan.interceptors.InvocationContextInterceptor.handleDefault(InvocationContextInterceptor.java:71)
	at org.infinispan.commands.AbstractVisitor.visitRemoveCommand(AbstractVisitor.java:49)
	at org.infinispan.commands.write.RemoveCommand.acceptVisitor(RemoveCommand.java:58)
	at org.infinispan.interceptors.InterceptorChain.invoke(InterceptorChain.java:336)
	at org.infinispan.cache.impl.CacheImpl.executeCommandAndCommitIfNeeded(CacheImpl.java:1617)
	at org.infinispan.cache.impl.CacheImpl.removeInternal(CacheImpl.java:579)
	at org.infinispan.cache.impl.CacheImpl.remove(CacheImpl.java:572)
	at org.infinispan.cache.impl.DecoratedCache.remove(DecoratedCache.java:442)
	at org.infinispan.cache.impl.AbstractDelegatingCache.remove(AbstractDelegatingCache.java:297)
	at org.wildfly.clustering.web.infinispan.session.coarse.CoarseSessionFactory.remove(CoarseSessionFactory.java:140)
	at org.wildfly.clustering.web.infinispan.session.coarse.CoarseSessionFactory.findValue(CoarseSessionFactory.java:133)
	at org.wildfly.clustering.web.infinispan.session.coarse.CoarseSessionFactory.findValue(CoarseSessionFactory.java:56)
	at org.wildfly.clustering.web.infinispan.session.InfinispanSessionManager.removed(InfinispanSessionManager.java:317)
	at sun.reflect.GeneratedMethodAccessor109.invoke(Unknown Source) [:1.8.0_60]
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) [rt.jar:1.8.0_60]
	at java.lang.reflect.Method.invoke(Method.java:497) [rt.jar:1.8.0_60]
	at org.infinispan.notifications.impl.AbstractListenerImpl$ListenerInvocationImpl$1.run(AbstractListenerImpl.java:286)
	at org.infinispan.util.concurrent.WithinThreadExecutor.execute(WithinThreadExecutor.java:22)
	at org.infinispan.notifications.impl.AbstractListenerImpl$ListenerInvocationImpl.invoke(AbstractListenerImpl.java:309)
	at org.infinispan.notifications.cachelistener.CacheNotifierImpl$BaseCacheEntryListenerInvocation.doRealInvocation(CacheNotifierImpl.java:1212)
	at org.infinispan.notifications.cachelistener.CacheNotifierImpl$BaseCacheEntryListenerInvocation.invokeNoChecks(CacheNotifierImpl.java:1207)
	at org.infinispan.notifications.cachelistener.CacheNotifierImpl$BaseCacheEntryListenerInvocation.invoke(CacheNotifierImpl.java:1184)
	at org.infinispan.notifications.cachelistener.CacheNotifierImpl.notifyCacheEntryRemoved(CacheNotifierImpl.java:356)
	at org.infinispan.commands.write.RemoveCommand.notify(RemoveCommand.java:97)
	at org.infinispan.commands.write.RemoveCommand.performRemove(RemoveCommand.java:208)
	at org.infinispan.commands.write.RemoveCommand.perform(RemoveCommand.java:93)
	at org.infinispan.interceptors.CallInterceptor.handleDefault(CallInterceptor.java:124)
	at org.infinispan.commands.AbstractVisitor.visitRemoveCommand(AbstractVisitor.java:49)
	at org.infinispan.commands.write.RemoveCommand.acceptVisitor(RemoveCommand.java:58)
	at org.infinispan.interceptors.base.CommandInterceptor.invokeNextInterceptor(CommandInterceptor.java:97)
	at org.infinispan.interceptors.distribution.TxDistributionInterceptor.handleTxWriteCommand(TxDistributionInterceptor.java:306)
	at org.infinispan.interceptors.distribution.TxDistributionInterceptor.visitRemoveCommand(TxDistributionInterceptor.java:86)
	at org.infinispan.commands.write.RemoveCommand.acceptVisitor(RemoveCommand.java:58)
	at org.infinispan.interceptors.base.CommandInterceptor.invokeNextInterceptor(CommandInterceptor.java:97)
	at org.infinispan.interceptors.CacheLoaderInterceptor.visitDataCommand(CacheLoaderInterceptor.java:150)
	at org.infinispan.interceptors.CacheLoaderInterceptor.visitRemoveCommand(CacheLoaderInterceptor.java:135)
	at org.infinispan.commands.write.RemoveCommand.acceptVisitor(RemoveCommand.java:58)
	at org.infinispan.interceptors.base.CommandInterceptor.invokeNextInterceptor(CommandInterceptor.java:97)
	at org.infinispan.interceptors.EntryWrappingInterceptor.invokeNextAndApplyChanges(EntryWrappingInterceptor.java:388)
	at org.infinispan.interceptors.EntryWrappingInterceptor.setSkipRemoteGetsAndInvokeNextForDataCommand(EntryWrappingInterceptor.java:453)
	at org.infinispan.interceptors.EntryWrappingInterceptor.visitRemoveCommand(EntryWrappingInterceptor.java:252)
	at org.infinispan.commands.write.RemoveCommand.acceptVisitor(RemoveCommand.java:58)
	at org.infinispan.interceptors.base.CommandInterceptor.invokeNextInterceptor(CommandInterceptor.java:97)
	at org.infinispan.interceptors.base.CommandInterceptor.handleDefault(CommandInterceptor.java:111)
	at org.infinispan.commands.AbstractVisitor.visitRemoveCommand(AbstractVisitor.java:49)
	at org.infinispan.commands.write.RemoveCommand.acceptVisitor(RemoveCommand.java:58)
	at org.infinispan.interceptors.base.CommandInterceptor.invokeNextInterceptor(CommandInterceptor.java:97)
	at org.infinispan.interceptors.locking.PessimisticLockingInterceptor.visitDataWriteCommand(PessimisticLockingInterceptor.java:133)
	at org.infinispan.interceptors.locking.AbstractLockingInterceptor.visitRemoveCommand(AbstractLockingInterceptor.java:65)
	at org.infinispan.commands.write.RemoveCommand.acceptVisitor(RemoveCommand.java:58)
	at org.infinispan.interceptors.base.CommandInterceptor.invokeNextInterceptor(CommandInterceptor.java:97)
	at org.infinispan.interceptors.base.CommandInterceptor.handleDefault(CommandInterceptor.java:111)
	at org.infinispan.commands.AbstractVisitor.visitRemoveCommand(AbstractVisitor.java:49)
	at org.infinispan.commands.write.RemoveCommand.acceptVisitor(RemoveCommand.java:58)
	at org.infinispan.interceptors.base.CommandInterceptor.invokeNextInterceptor(CommandInterceptor.java:97)
	at org.infinispan.interceptors.TxInterceptor.enlistWriteAndInvokeNext(TxInterceptor.java:367)
	at org.infinispan.interceptors.TxInterceptor.visitRemoveCommand(TxInterceptor.java:273)
	at org.infinispan.commands.write.RemoveCommand.acceptVisitor(RemoveCommand.java:58)
	at org.infinispan.interceptors.base.CommandInterceptor.invokeNextInterceptor(CommandInterceptor.java:97)
	at org.infinispan.interceptors.base.CommandInterceptor.handleDefault(CommandInterceptor.java:111)
	at org.infinispan.commands.AbstractVisitor.visitRemoveCommand(AbstractVisitor.java:49)
	at org.infinispan.commands.write.RemoveCommand.acceptVisitor(RemoveCommand.java:58)
	at org.infinispan.interceptors.base.CommandInterceptor.invokeNextInterceptor(CommandInterceptor.java:97)
	at org.infinispan.statetransfer.StateTransferInterceptor.handleTxWriteCommand(StateTransferInterceptor.java:265)
	at org.infinispan.statetransfer.StateTransferInterceptor.handleWriteCommand(StateTransferInterceptor.java:247)
	at org.infinispan.statetransfer.StateTransferInterceptor.visitRemoveCommand(StateTransferInterceptor.java:123)
	at org.infinispan.commands.write.RemoveCommand.acceptVisitor(RemoveCommand.java:58)
	at org.infinispan.interceptors.base.CommandInterceptor.invokeNextInterceptor(CommandInterceptor.java:97)
	at org.infinispan.interceptors.CacheMgmtInterceptor.visitRemoveCommand(CacheMgmtInterceptor.java:209)
	at org.infinispan.commands.write.RemoveCommand.acceptVisitor(RemoveCommand.java:58)
	at org.infinispan.interceptors.base.CommandInterceptor.invokeNextInterceptor(CommandInterceptor.java:97)
	at org.infinispan.interceptors.InvocationContextInterceptor.handleAll(InvocationContextInterceptor.java:102)
	at org.infinispan.interceptors.InvocationContextInterceptor.handleDefault(InvocationContextInterceptor.java:71)
	at org.infinispan.commands.AbstractVisitor.visitRemoveCommand(AbstractVisitor.java:49)
	at org.infinispan.commands.write.RemoveCommand.acceptVisitor(RemoveCommand.java:58)
	at org.infinispan.interceptors.InterceptorChain.invoke(InterceptorChain.java:336)
	at org.infinispan.cache.impl.CacheImpl.executeCommandAndCommitIfNeeded(CacheImpl.java:1617)
	at org.infinispan.cache.impl.CacheImpl.removeInternal(CacheImpl.java:579)
	at org.infinispan.cache.impl.CacheImpl.remove(CacheImpl.java:572)
	at org.infinispan.cache.impl.DecoratedCache.remove(DecoratedCache.java:442)
	at org.infinispan.cache.impl.AbstractDelegatingCache.remove(AbstractDelegatingCache.java:297)
	at org.wildfly.clustering.web.infinispan.session.coarse.CoarseSessionFactory.remove(CoarseSessionFactory.java:140)
	at org.wildfly.clustering.web.infinispan.session.coarse.CoarseSessionFactory.findValue(CoarseSessionFactory.java:133)
	at org.wildfly.clustering.web.infinispan.session.coarse.CoarseSessionFactory.findValue(CoarseSessionFactory.java:56)
	at org.wildfly.clustering.web.infinispan.session.InfinispanSessionManager.removed(InfinispanSessionManager.java:317)
	at sun.reflect.GeneratedMethodAccessor109.invoke(Unknown Source) [:1.8.0_60]
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) [rt.jar:1.8.0_60]
	at java.lang.reflect.Method.invoke(Method.java:497) [rt.jar:1.8.0_60]
	at org.infinispan.notifications.impl.AbstractListenerImpl$ListenerInvocationImpl$1.run(AbstractListenerImpl.java:286)
	at org.infinispan.util.concurrent.WithinThreadExecutor.execute(WithinThreadExecutor.java:22)
	at org.infinispan.notifications.impl.AbstractListenerImpl$ListenerInvocationImpl.invoke(AbstractListenerImpl.java:309)
	at org.infinispan.notifications.cachelistener.CacheNotifierImpl$BaseCacheEntryListenerInvocation.doRealInvocation(CacheNotifierImpl.java:1212)
	at org.infinispan.notifications.cachelistener.CacheNotifierImpl$BaseCacheEntryListenerInvocation.invokeNoChecks(CacheNotifierImpl.java:1207)
	at org.infinispan.notifications.cachelistener.CacheNotifierImpl$BaseCacheEntryListenerInvocation.invoke(CacheNotifierImpl.java:1184)
	at org.infinispan.notifications.cachelistener.CacheNotifierImpl.notifyCacheEntryRemoved(CacheNotifierImpl.java:356)
	at org.infinispan.commands.write.RemoveCommand.notify(RemoveCommand.java:97)
	at org.infinispan.commands.write.RemoveCommand.performRemove(RemoveCommand.java:208)
	at org.infinispan.commands.write.RemoveCommand.perform(RemoveCommand.java:93)
	at org.infinispan.interceptors.CallInterceptor.handleDefault(CallInterceptor.java:124)
	at org.infinispan.commands.AbstractVisitor.visitRemoveCommand(AbstractVisitor.java:49)
	at org.infinispan.commands.write.RemoveCommand.acceptVisitor(RemoveCommand.java:58)
	at org.infinispan.interceptors.base.CommandInterceptor.invokeNextInterceptor(CommandInterceptor.java:97)
	at org.infinispan.interceptors.distribution.TxDistributionInterceptor.handleTxWriteCommand(TxDistributionInterceptor.java:306)
	at org.infinispan.interceptors.distribution.TxDistributionInterceptor.visitRemoveCommand(TxDistributionInterceptor.java:86)
	at org.infinispan.commands.write.RemoveCommand.acceptVisitor(RemoveCommand.java:58)
	at org.infinispan.interceptors.base.CommandInterceptor.invokeNextInterceptor(CommandInterceptor.java:97)
	at org.infinispan.interceptors.CacheLoaderInterceptor.visitDataCommand(CacheLoaderInterceptor.java:150)
	at org.infinispan.interceptors.CacheLoaderInterceptor.visitRemoveCommand(CacheLoaderInterceptor.java:135)
	at org.infinispan.commands.write.RemoveCommand.acceptVisitor(RemoveCommand.java:58)
	at org.infinispan.interceptors.base.CommandInterceptor.invokeNextInterceptor(CommandInterceptor.java:97)
	at org.infinispan.interceptors.EntryWrappingInterceptor.invokeNextAndApplyChanges(EntryWrappingInterceptor.java:388)
	at org.infinispan.interceptors.EntryWrappingInterceptor.setSkipRemoteGetsAndInvokeNextForDataCommand(EntryWrappingInterceptor.java:453)
	at org.infinispan.interceptors.EntryWrappingInterceptor.visitRemoveCommand(EntryWrappingInterceptor.java:252)
	at org.infinispan.commands.write.RemoveCommand.acceptVisitor(RemoveCommand.java:58)
	at org.infinispan.interceptors.base.CommandInterceptor.invokeNextInterceptor(CommandInterceptor.java:97)
	at org.infinispan.interceptors.base.CommandInterceptor.handleDefault(CommandInterceptor.java:111)
	at org.infinispan.commands.AbstractVisitor.visitRemoveCommand(AbstractVisitor.java:49)
	at org.infinispan.commands.write.RemoveCommand.acceptVisitor(RemoveCommand.java:58)
	at org.infinispan.interceptors.base.CommandInterceptor.invokeNextInterceptor(CommandInterceptor.java:97)
	at org.infinispan.interceptors.locking.PessimisticLockingInterceptor.visitDataWriteCommand(PessimisticLockingInterceptor.java:133)
	at org.infinispan.interceptors.locking.AbstractLockingInterceptor.visitRemoveCommand(AbstractLockingInterceptor.java:65)
	at org.infinispan.commands.write.RemoveCommand.acceptVisitor(RemoveCommand.java:58)
	at org.infinispan.interceptors.base.CommandInterceptor.invokeNextInterceptor(CommandInterceptor.java:97)
	at org.infinispan.interceptors.base.CommandInterceptor.handleDefault(CommandInterceptor.java:111)
	at org.infinispan.commands.AbstractVisitor.visitRemoveCommand(AbstractVisitor.java:49)
	at org.infinispan.commands.write.RemoveCommand.acceptVisitor(RemoveCommand.java:58)
	at org.infinispan.interceptors.base.CommandInterceptor.invokeNextInterceptor(CommandInterceptor.java:97)
	at org.infinispan.interceptors.TxInterceptor.enlistWriteAndInvokeNext(TxInterceptor.java:367)
	at org.infinispan.interceptors.TxInterceptor.visitRemoveCommand(TxInterceptor.java:273)
	at org.infinispan.commands.write.RemoveCommand.acceptVisitor(RemoveCommand.java:58)
	at org.infinispan.interceptors.base.CommandInterceptor.invokeNextInterceptor(CommandInterceptor.java:97)
	at org.infinispan.interceptors.base.CommandInterceptor.handleDefault(CommandInterceptor.java:111)
	at org.infinispan.commands.AbstractVisitor.visitRemoveCommand(AbstractVisitor.java:49)
	at org.infinispan.commands.write.RemoveCommand.acceptVisitor(RemoveCommand.java:58)
	at org.infinispan.interceptors.base.CommandInterceptor.invokeNextInterceptor(CommandInterceptor.java:97)
	at org.infinispan.statetransfer.StateTransferInterceptor.handleTxWriteCommand(StateTransferInterceptor.java:265)
	at org.infinispan.statetransfer.StateTransferInterceptor.handleWriteCommand(StateTransferInterceptor.java:247)
	at org.infinispan.statetransfer.StateTransferInterceptor.visitRemoveCommand(StateTransferInterceptor.java:123)
	at org.infinispan.commands.write.RemoveCommand.acceptVisitor(RemoveCommand.java:58)
	at org.infinispan.interceptors.base.CommandInterceptor.invokeNextInterceptor(CommandInterceptor.java:97)
	at org.infinispan.interceptors.CacheMgmtInterceptor.visitRemoveCommand(CacheMgmtInterceptor.java:209)
	at org.infinispan.commands.write.RemoveCommand.acceptVisitor(RemoveCommand.java:58)
	at org.infinispan.interceptors.base.CommandInterceptor.invokeNextInterceptor(CommandInterceptor.java:97)
	at org.infinispan.interceptors.InvocationContextInterceptor.handleAll(InvocationContextInterceptor.java:102)
	at org.infinispan.interceptors.InvocationContextInterceptor.handleDefault(InvocationContextInterceptor.java:71)
	at org.infinispan.commands.AbstractVisitor.visitRemoveCommand(AbstractVisitor.java:49)
	at org.infinispan.commands.write.RemoveCommand.acceptVisitor(RemoveCommand.java:58)
	at org.infinispan.interceptors.InterceptorChain.invoke(InterceptorChain.java:336)
	at org.infinispan.cache.impl.CacheImpl.executeCommandAndCommitIfNeeded(CacheImpl.java:1617)
	at org.infinispan.cache.impl.CacheImpl.removeInternal(CacheImpl.java:579)
	at org.infinispan.cache.impl.CacheImpl.remove(CacheImpl.java:572)
	at org.infinispan.cache.impl.DecoratedCache.remove(DecoratedCache.java:442)
	at org.infinispan.cache.impl.AbstractDelegatingCache.remove(AbstractDelegatingCache.java:297)
	at org.wildfly.clustering.web.infinispan.session.coarse.CoarseSessionFactory.remove(CoarseSessionFactory.java:140)
	at org.wildfly.clustering.web.infinispan.session.coarse.CoarseSessionFactory.findValue(CoarseSessionFactory.java:133)
	at org.wildfly.clustering.web.infinispan.session.coarse.CoarseSessionFactory.findValue(CoarseSessionFactory.java:56)
	at org.wildfly.clustering.web.infinispan.session.InfinispanSessionManager.removed(InfinispanSessionManager.java:317)
	at sun.reflect.GeneratedMethodAccessor109.invoke(Unknown Source) [:1.8.0_60]
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) [rt.jar:1.8.0_60]
	at java.lang.reflect.Method.invoke(Method.java:497) [rt.jar:1.8.0_60]
	at org.infinispan.notifications.impl.AbstractListenerImpl$ListenerInvocationImpl$1.run(AbstractListenerImpl.java:286)
	at org.infinispan.util.concurrent.WithinThreadExecutor.execute(WithinThreadExecutor.java:22)
	at org.infinispan.notifications.impl.AbstractListenerImpl$ListenerInvocationImpl.invoke(AbstractListenerImpl.java:309)
	at org.infinispan.notifications.cachelistener.CacheNotifierImpl$BaseCacheEntryListenerInvocation.doRealInvocation(CacheNotifierImpl.java:1212)
	at org.infinispan.notifications.cachelistener.CacheNotifierImpl$BaseCacheEntryListenerInvocation.invokeNoChecks(CacheNotifierImpl.java:1207)
	at org.infinispan.notifications.cachelistener.CacheNotifierImpl$BaseCacheEntryListenerInvocation.invoke(CacheNotifierImpl.java:1184)
	at org.infinispan.notifications.cachelistener.CacheNotifierImpl.notifyCacheEntryRemoved(CacheNotifierImpl.java:356)
	at org.infinispan.commands.write.RemoveCommand.notify(RemoveCommand.java:97)
	at org.infinispan.commands.write.RemoveCommand.performRemove(RemoveCommand.java:208)
	at org.infinispan.commands.write.RemoveCommand.perform(RemoveCommand.java:93)
	at org.infinispan.interceptors.CallInterceptor.handleDefault(CallInterceptor.java:124)
	at org.infinispan.commands.AbstractVisitor.visitRemoveCommand(AbstractVisitor.java:49)
	at org.infinispan.commands.write.RemoveCommand.acceptVisitor(RemoveCommand.java:58)
	at org.infinispan.interceptors.base.CommandInterceptor.invokeNextInterceptor(CommandInterceptor.java:97)
	at org.infinispan.interceptors.distribution.TxDistributionInterceptor.handleTxWriteCommand(TxDistributionInterceptor.java:306)
	at org.infinispan.interceptors.distribution.TxDistributionInterceptor.visitRemoveCommand(TxDistributionInterceptor.java:86)
	at org.infinispan.commands.write.RemoveCommand.acceptVisitor(RemoveCommand.java:58)
	at org.infinispan.interceptors.base.CommandInterceptor.invokeNextInterceptor(CommandInterceptor.java:97)
	at org.infinispan.interceptors.CacheLoaderInterceptor.visitDataCommand(CacheLoaderInterceptor.java:150)
	at org.infinispan.interceptors.CacheLoaderInterceptor.visitRemoveCommand(CacheLoaderInterceptor.java:135)
	at org.infinispan.commands.write.RemoveCommand.acceptVisitor(RemoveCommand.java:58)
	at org.infinispan.interceptors.base.CommandInterceptor.invokeNextInterceptor(CommandInterceptor.java:97)
	at org.infinispan.interceptors.EntryWrappingInterceptor.invokeNextAndApplyChanges(EntryWrappingInterceptor.java:388)
	at org.infinispan.interceptors.EntryWrappingInterceptor.setSkipRemoteGetsAndInvokeNextForDataCommand(EntryWrappingInterceptor.java:453)
	at org.infinispan.interceptors.EntryWrappingInterceptor.visitRemoveCommand(EntryWrappingInterceptor.java:252)
	at org.infinispan.commands.write.RemoveCommand.acceptVisitor(RemoveCommand.java:58)
	at org.infinispan.interceptors.base.CommandInterceptor.invokeNextInterceptor(CommandInterceptor.java:97)
	at org.infinispan.interceptors.base.CommandInterceptor.handleDefault(CommandInterceptor.java:111)
	at org.infinispan.commands.AbstractVisitor.visitRemoveCommand(AbstractVisitor.java:49)
	at org.infinispan.commands.write.RemoveCommand.acceptVisitor(RemoveCommand.java:58)
	at org.infinispan.interceptors.base.CommandInterceptor.invokeNextInterceptor(CommandInterceptor.java:97)
	at org.infinispan.interceptors.locking.PessimisticLockingInterceptor.visitDataWriteCommand(PessimisticLockingInterceptor.java:133)
	at org.infinispan.interceptors.locking.AbstractLockingInterceptor.visitRemoveCommand(AbstractLockingInterceptor.java:65)
	at org.infinispan.commands.write.RemoveCommand.acceptVisitor(RemoveCommand.java:58)
	at org.infinispan.interceptors.base.CommandInterceptor.invokeNextInterceptor(CommandInterceptor.java:97)
	at org.infinispan.interceptors.base.CommandInterceptor.handleDefault(CommandInterceptor.java:111)
	at org.infinispan.commands.AbstractVisitor.visitRemoveCommand(AbstractVisitor.java:49)
	at org.infinispan.commands.write.RemoveCommand.acceptVisitor(RemoveCommand.java:58)
	at org.infinispan.interceptors.base.CommandInterceptor.invokeNextInterceptor(CommandInterceptor.java:97)
	at org.infinispan.interceptors.TxInterceptor.enlistWriteAndInvokeNext(TxInterceptor.java:367)
	at org.infinispan.interceptors.TxInterceptor.visitRemoveCommand(TxInterceptor.java:273)
	at org.infinispan.commands.write.RemoveCommand.acceptVisitor(RemoveCommand.java:58)
	at org.infinispan.interceptors.base.CommandInterceptor.invokeNextInterceptor(CommandInterceptor.java:97)
	at org.infinispan.interceptors.base.CommandInterceptor.handleDefault(CommandInterceptor.java:111)
	at org.infinispan.commands.AbstractVisitor.visitRemoveCommand(AbstractVisitor.java:49)
	at org.infinispan.commands.write.RemoveCommand.acceptVisitor(RemoveCommand.java:58)
	at org.infinispan.interceptors.base.CommandInterceptor.invokeNextInterceptor(CommandInterceptor.java:97)
	at org.infinispan.statetransfer.StateTransferInterceptor.handleTxWriteCommand(StateTransferInterceptor.java:265)
	at org.infinispan.statetransfer.StateTransferInterceptor.handleWriteCommand(StateTransferInterceptor.java:247)
	at org.infinispan.statetransfer.StateTransferInterceptor.visitRemoveCommand(StateTransferInterceptor.java:123)
	at org.infinispan.commands.write.RemoveCommand.acceptVisitor(RemoveCommand.java:58)
	at org.infinispan.interceptors.base.CommandInterceptor.invokeNextInterceptor(CommandInterceptor.java:97)
	at org.infinispan.interceptors.CacheMgmtInterceptor.visitRemoveCommand(CacheMgmtInterceptor.java:209)
	at org.infinispan.commands.write.RemoveCommand.acceptVisitor(RemoveCommand.java:58)
	at org.infinispan.interceptors.base.CommandInterceptor.invokeNextInterceptor(CommandInterceptor.java:97)
	at org.infinispan.interceptors.InvocationContextInterceptor.handleAll(InvocationContextInterceptor.java:102)
	at org.infinispan.interceptors.InvocationContextInterceptor.handleDefault(InvocationContextInterceptor.java:71)
	at org.infinispan.commands.AbstractVisitor.visitRemoveCommand(AbstractVisitor.java:49)
	at org.infinispan.commands.write.RemoveCommand.acceptVisitor(RemoveCommand.java:58)
	at org.infinispan.interceptors.InterceptorChain.invoke(InterceptorChain.java:336)
	at org.infinispan.cache.impl.CacheImpl.executeCommandAndCommitIfNeeded(CacheImpl.java:1617)
	at org.infinispan.cache.impl.CacheImpl.removeInternal(CacheImpl.java:579)
	at org.infinispan.cache.impl.CacheImpl.remove(CacheImpl.java:572)
	at org.infinispan.cache.impl.DecoratedCache.remove(DecoratedCache.java:442)
	at org.infinispan.cache.impl.AbstractDelegatingCache.remove(AbstractDelegatingCache.java:297)
	at org.wildfly.clustering.web.infinispan.session.coarse.CoarseSessionFactory.remove(CoarseSessionFactory.java:140)
	at org.wildfly.clustering.web.infinispan.session.coarse.CoarseSessionFactory.findValue(CoarseSessionFactory.java:133)
	at org.wildfly.clustering.web.infinispan.session.coarse.CoarseSessionFactory.findValue(CoarseSessionFactory.java:56)
	at org.wildfly.clustering.web.infinispan.session.InfinispanSessionManager.removed(InfinispanSessionManager.java:317)
	at sun.reflect.GeneratedMethodAccessor109.invoke(Unknown Source) [:1.8.0_60]
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) [rt.jar:1.8.0_60]
	at java.lang.reflect.Method.invoke(Method.java:497) [rt.jar:1.8.0_60]
	at org.infinispan.notifications.impl.AbstractListenerImpl$ListenerInvocationImpl$1.run(AbstractListenerImpl.java:286)
	at org.infinispan.util.concurrent.WithinThreadExecutor.execute(WithinThreadExecutor.java:22)
	at org.infinispan.notifications.impl.AbstractListenerImpl$ListenerInvocationImpl.invoke(AbstractListenerImpl.java:309)
	at org.infinispan.notifications.cachelistener.CacheNotifierImpl$BaseCacheEntryListenerInvocation.doRealInvocation(CacheNotifierImpl.java:1212)
	at org.infinispan.notifications.cachelistener.CacheNotifierImpl$BaseCacheEntryListenerInvocation.invokeNoChecks(CacheNotifierImpl.java:1207)
	at org.infinispan.notifications.cachelistener.CacheNotifierImpl$BaseCacheEntryListenerInvocation.invoke(CacheNotifierImpl.java:1184)
	at org.infinispan.notifications.cachelistener.CacheNotifierImpl.notifyCacheEntryRemoved(CacheNotifierImpl.java:356)
	at org.infinispan.commands.write.RemoveCommand.notify(RemoveCommand.java:97)
	at org.infinispan.commands.write.RemoveCommand.performRemove(RemoveCommand.java:208)
	at org.infinispan.commands.write.RemoveCommand.perform(RemoveCommand.java:93)
	at org.infinispan.interceptors.CallInterceptor.handleDefault(CallInterceptor.java:124)
	at org.infinispan.commands.AbstractVisitor.visitRemoveCommand(AbstractVisitor.java:49)
	at org.infinispan.commands.write.RemoveCommand.acceptVisitor(RemoveCommand.java:58)
	at org.infinispan.interceptors.base.CommandInterceptor.invokeNextInterceptor(CommandInterceptor.java:97)
	at org.infinispan.interceptors.distribution.TxDistributionInterceptor.handleTxWriteCommand(TxDistributionInterceptor.java:306)
	at org.infinispan.interceptors.distribution.TxDistributionInterceptor.visitRemoveCommand(TxDistributionInterceptor.java:86)
	at org.infinispan.commands.write.RemoveCommand.acceptVisitor(RemoveCommand.java:58)
	at org.infinispan.interceptors.base.CommandInterceptor.invokeNextInterceptor(CommandInterceptor.java:97)
	at org.infinispan.interceptors.CacheLoaderInterceptor.visitDataCommand(CacheLoaderInterceptor.java:150)
	at org.infinispan.interceptors.CacheLoaderInterceptor.visitRemoveCommand(CacheLoaderInterceptor.java:135)
	at org.infinispan.commands.write.RemoveCommand.acceptVisitor(RemoveCommand.java:58)
	at org.infinispan.interceptors.base.CommandInterceptor.invokeNextInterceptor(CommandInterceptor.java:97)
	at org.infinispan.interceptors.EntryWrappingInterceptor.invokeNextAndApplyChanges(EntryWrappingInterceptor.java:388)
	at org.infinispan.interceptors.EntryWrappingInterceptor.setSkipRemoteGetsAndInvokeNextForDataCommand(EntryWrappingInterceptor.java:453)
	at org.infinispan.interceptors.EntryWrappingInterceptor.visitRemoveCommand(EntryWrappingInterceptor.java:252)
	at org.infinispan.commands.write.RemoveCommand.acceptVisitor(RemoveCommand.java:58)
	at org.infinispan.interceptors.base.CommandInterceptor.invokeNextInterceptor(CommandInterceptor.java:97)
	at org.infinispan.interceptors.base.CommandInterceptor.handleDefault(CommandInterceptor.java:111)
	at org.infinispan.commands.AbstractVisitor.visitRemoveCommand(AbstractVisitor.java:49)
	at org.infinispan.commands.write.RemoveCommand.acceptVisitor(RemoveCommand.java:58)
	at org.infinispan.interceptors.base.CommandInterceptor.invokeNextInterceptor(CommandInterceptor.java:97)
	at org.infinispan.interceptors.locking.PessimisticLockingInterceptor.visitDataWriteCommand(PessimisticLockingInterceptor.java:133)
	at org.infinispan.interceptors.locking.AbstractLockingInterceptor.visitRemoveCommand(AbstractLockingInterceptor.java:65)
	at org.infinispan.commands.write.RemoveCommand.acceptVisitor(RemoveCommand.java:58)
	at org.infinispan.interceptors.base.CommandInterceptor.invokeNextInterceptor(CommandInterceptor.java:97)
	at org.infinispan.interceptors.base.CommandInterceptor.handleDefault(CommandInterceptor.java:111)
	at org.infinispan.commands.AbstractVisitor.visitRemoveCommand(AbstractVisitor.java:49)
	at org.infinispan.commands.write.RemoveCommand.acceptVisitor(RemoveCommand.java:58)
	at org.infinispan.interceptors.base.CommandInterceptor.invokeNextInterceptor(CommandInterceptor.java:97)
	at org.infinispan.interceptors.TxInterceptor.enlistWriteAndInvokeNext(TxInterceptor.java:367)
	at org.infinispan.interceptors.TxInterceptor.visitRemoveCommand(TxInterceptor.java:273)
	at org.infinispan.commands.write.RemoveCommand.acceptVisitor(RemoveCommand.java:58)
	at org.infinispan.interceptors.base.CommandInterceptor.invokeNextInterceptor(CommandInterceptor.java:97)
	at org.infinispan.interceptors.base.CommandInterceptor.handleDefault(CommandInterceptor.java:111)
	at org.infinispan.commands.AbstractVisitor.visitRemoveCommand(AbstractVisitor.java:49)
	at org.infinispan.commands.write.RemoveCommand.acceptVisitor(RemoveCommand.java:58)
	at org.infinispan.interceptors.base.CommandInterceptor.invokeNextInterceptor(CommandInterceptor.java:97)
	at org.infinispan.statetransfer.StateTransferInterceptor.handleTxWriteCommand(StateTransferInterceptor.java:265)
	at org.infinispan.statetransfer.StateTransferInterceptor.handleWriteCommand(StateTransferInterceptor.java:247)
	at org.infinispan.statetransfer.StateTransferInterceptor.visitRemoveCommand(StateTransferInterceptor.java:123)
	at org.infinispan.commands.write.RemoveCommand.acceptVisitor(RemoveCommand.java:58)
	at org.infinispan.interceptors.base.CommandInterceptor.invokeNextInterceptor(CommandInterceptor.java:97)
	at org.infinispan.interceptors.CacheMgmtInterceptor.visitRemoveCommand(CacheMgmtInterceptor.java:209)
	at org.infinispan.commands.write.RemoveCommand.acceptVisitor(RemoveCommand.java:58)
	at org.infinispan.interceptors.base.CommandInterceptor.invokeNextInterceptor(CommandInterceptor.java:97)
	at org.infinispan.interceptors.InvocationContextInterceptor.handleAll(InvocationContextInterceptor.java:102)
	at org.infinispan.interceptors.InvocationContextInterceptor.handleDefault(InvocationContextInterceptor.java:71)
	at org.infinispan.commands.AbstractVisitor.visitRemoveCommand(AbstractVisitor.java:49)
	at org.infinispan.commands.write.RemoveCommand.acceptVisitor(RemoveCommand.java:58)
	at org.infinispan.interceptors.InterceptorChain.invoke(InterceptorChain.java:336)
	at org.infinispan.cache.impl.CacheImpl.executeCommandAndCommitIfNeeded(CacheImpl.java:1617)
	at org.infinispan.cache.impl.CacheImpl.removeInternal(CacheImpl.java:579)
	at org.infinispan.cache.impl.CacheImpl.remove(CacheImpl.java:572)
	at org.infinispan.cache.impl.DecoratedCache.remove(DecoratedCache.java:442)
	at org.infinispan.cache.impl.AbstractDelegatingCache.remove(AbstractDelegatingCache.java:297)
	at org.wildfly.clustering.web.infinispan.session.coarse.CoarseSessionFactory.remove(CoarseSessionFactory.java:140)
	at org.wildfly.clustering.web.infinispan.session.coarse.CoarseSessionFactory.findValue(CoarseSessionFactory.java:133)
	at org.wildfly.clustering.web.infinispan.session.coarse.CoarseSessionFactory.findValue(CoarseSessionFactory.java:56)
	at org.wildfly.clustering.web.infinispan.session.InfinispanSessionManager.removed(InfinispanSessionManager.java:317)
	at sun.reflect.GeneratedMethodAccessor109.invoke(Unknown Source) [:1.8.0_60]
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) [rt.jar:1.8.0_60]
	at java.lang.reflect.Method.invoke(Method.java:497) [rt.jar:1.8.0_60]
	at org.infinispan.notifications.impl.AbstractListenerImpl$ListenerInvocationImpl$1.run(AbstractListenerImpl.java:286)
	at org.infinispan.util.concurrent.WithinThreadExecutor.execute(WithinThreadExecutor.java:22)
	at org.infinispan.notifications.impl.AbstractListenerImpl$ListenerInvocationImpl.invoke(AbstractListenerImpl.java:309)
	at org.infinispan.notifications.cachelistener.CacheNotifierImpl$BaseCacheEntryListenerInvocation.doRealInvocation(CacheNotifierImpl.java:1212)
	at org.infinispan.notifications.cachelistener.CacheNotifierImpl$BaseCacheEntryListenerInvocation.invokeNoChecks(CacheNotifierImpl.java:1207)
	at org.infinispan.notifications.cachelistener.CacheNotifierImpl$BaseCacheEntryListenerInvocation.invoke(CacheNotifierImpl.java:1184)
	at org.infinispan.notifications.cachelistener.CacheNotifierImpl.notifyCacheEntryRemoved(CacheNotifierImpl.java:356)
	at org.infinispan.commands.write.RemoveCommand.notify(RemoveCommand.java:97)
	at org.infinispan.commands.write.RemoveCommand.performRemove(RemoveCommand.java:208)
	at org.infinispan.commands.write.RemoveCommand.perform(RemoveCommand.java:93)
	at org.infinispan.interceptors.CallInterceptor.handleDefault(CallInterceptor.java:124)
	at org.infinispan.commands.AbstractVisitor.visitRemoveCommand(AbstractVisitor.java:49)
	at org.infinispan.commands.write.RemoveCommand.acceptVisitor(RemoveCommand.java:58)
	at org.infinispan.interceptors.base.CommandInterceptor.invokeNextInterceptor(CommandInterceptor.java:97)
	at org.infinispan.interceptors.distribution.TxDistributionInterceptor.handleTxWriteCommand(TxDistributionInterceptor.java:306)
	at org.infinispan.interceptors.distribution.TxDistributionInterceptor.visitRemoveCommand(TxDistributionInterceptor.java:86)
	at org.infinispan.commands.write.RemoveCommand.acceptVisitor(RemoveCommand.java:58)
	at org.infinispan.interceptors.base.CommandInterceptor.invokeNextInterceptor(CommandInterceptor.java:97)
	at org.infinispan.interceptors.CacheLoaderInterceptor.visitDataCommand(CacheLoaderInterceptor.java:150)
	at org.infinispan.interceptors.CacheLoaderInterceptor.visitRemoveCommand(CacheLoaderInterceptor.java:135)
	at org.infinispan.commands.write.RemoveCommand.acceptVisitor(RemoveCommand.java:58)
	at org.infinispan.interceptors.base.CommandInterceptor.invokeNextInterceptor(CommandInterceptor.java:97)
	at org.infinispan.interceptors.EntryWrappingInterceptor.invokeNextAndApplyChanges(EntryWrappingInterceptor.java:388)
	at org.infinispan.interceptors.EntryWrappingInterceptor.setSkipRemoteGetsAndInvokeNextForDataCommand(EntryWrappingInterceptor.java:453)
	at org.infinispan.interceptors.EntryWrappingInterceptor.visitRemoveCommand(EntryWrappingInterceptor.java:252)
	at org.infinispan.commands.write.RemoveCommand.acceptVisitor(RemoveCommand.java:58)
	at org.infinispan.interceptors.base.CommandInterceptor.invokeNextInterceptor(CommandInterceptor.java:97)
	at org.infinispan.interceptors.base.CommandInterceptor.handleDefault(CommandInterceptor.java:111)
	at org.infinispan.commands.AbstractVisitor.visitRemoveCommand(AbstractVisitor.java:49)
	at org.infinispan.commands.write.RemoveCommand.acceptVisitor(RemoveCommand.java:58)
	at org.infinispan.interceptors.base.CommandInterceptor.invokeNextInterceptor(CommandInterceptor.java:97)
	at org.infinispan.interceptors.locking.PessimisticLockingInterceptor.visitDataWriteCommand(PessimisticLockingInterceptor.java:133)
	at org.infinispan.interceptors.locking.AbstractLockingInterceptor.visitRemoveCommand(AbstractLockingInterceptor.java:65)
	at org.infinispan.commands.write.RemoveCommand.acceptVisitor(RemoveCommand.java:58)
	at org.infinispan.interceptors.base.CommandInterceptor.invokeNextInterceptor(CommandInterceptor.java:97)
	at org.infinispan.interceptors.base.CommandInterceptor.handleDefault(CommandInterceptor.java:111)
	at org.infinispan.commands.AbstractVisitor.visitRemoveCommand(AbstractVisitor.java:49)
	at org.infinispan.commands.write.RemoveCommand.acceptVisitor(RemoveCommand.java:58)
	at org.infinispan.interceptors.base.CommandInterceptor.invokeNextInterceptor(CommandInterceptor.java:97)
	at org.infinispan.interceptors.TxInterceptor.enlistWriteAndInvokeNext(TxInterceptor.java:367)
	at org.infinispan.interceptors.TxInterceptor.visitRemoveCommand(TxInterceptor.java:273)
	at org.infinispan.commands.write.RemoveCommand.acceptVisitor(RemoveCommand.java:58)
	at org.infinispan.interceptors.base.CommandInterceptor.invokeNextInterceptor(CommandInterceptor.java:97)
	at org.infinispan.interceptors.base.CommandInterceptor.handleDefault(CommandInterceptor.java:111)
	at org.infinispan.commands.AbstractVisitor.visitRemoveCommand(AbstractVisitor.java:49)
	at org.infinispan.commands.write.RemoveCommand.acceptVisitor(RemoveCommand.java:58)
	at org.infinispan.interceptors.base.CommandInterceptor.invokeNextInterceptor(CommandInterceptor.java:97)
	at org.infinispan.statetransfer.StateTransferInterceptor.handleTxWriteCommand(StateTransferInterceptor.java:265)
	at org.infinispan.statetransfer.StateTransferInterceptor.handleWriteCommand(StateTransferInterceptor.java:247)
	at org.infinispan.statetransfer.StateTransferInterceptor.visitRemoveCommand(StateTransferInterceptor.java:123)
	at org.infinispan.commands.write.RemoveCommand.acceptVisitor(RemoveCommand.java:58)
	at org.infinispan.interceptors.base.CommandInterceptor.invokeNextInterceptor(CommandInterceptor.java:97)
	at org.infinispan.interceptors.CacheMgmtInterceptor.visitRemoveCommand(CacheMgmtInterceptor.java:209)
	at org.infinispan.commands.write.RemoveCommand.acceptVisitor(RemoveCommand.java:58)
	at org.infinispan.interceptors.base.CommandInterceptor.invokeNextInterceptor(CommandInterceptor.java:97)
	at org.infinispan.interceptors.InvocationContextInterceptor.handleAll(InvocationContextInterceptor.java:102)
	at org.infinispan.interceptors.InvocationContextInterceptor.handleDefault(InvocationContextInterceptor.java:71)
	at org.infinispan.commands.AbstractVisitor.visitRemoveCommand(AbstractVisitor.java:49)
	at org.infinispan.commands.write.RemoveCommand.acceptVisitor(RemoveCommand.java:58)
	at org.infinispan.interceptors.InterceptorChain.invoke(InterceptorChain.java:336)
	at org.infinispan.cache.impl.CacheImpl.executeCommandAndCommitIfNeeded(CacheImpl.java:1617)
	at org.infinispan.cache.impl.CacheImpl.removeInternal(CacheImpl.java:579)
	at org.infinispan.cache.impl.CacheImpl.remove(CacheImpl.java:572)
	at org.infinispan.cache.impl.DecoratedCache.remove(DecoratedCache.java:442)
	at org.infinispan.cache.impl.AbstractDelegatingCache.remove(AbstractDelegatingCache.java:297)
	at org.wildfly.clustering.web.infinispan.session.coarse.CoarseSessionFactory.remove(CoarseSessionFactory.java:140)
	at org.wildfly.clustering.web.infinispan.session.coarse.CoarseSessionFactory.findValue(CoarseSessionFactory.java:133)
	at org.wildfly.clustering.web.infinispan.session.coarse.CoarseSessionFactory.findValue(CoarseSessionFactory.java:56)
	at org.wildfly.clustering.web.infinispan.session.InfinispanSessionManager.removed(InfinispanSessionManager.java:317)
	at sun.reflect.GeneratedMethodAccessor109.invoke(Unknown Source) [:1.8.0_60]
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) [rt.jar:1.8.0_60]
	at java.lang.reflect.Method.invoke(Method.java:497) [rt.jar:1.8.0_60]
	at org.infinispan.notifications.impl.AbstractListenerImpl$ListenerInvocationImpl$1.run(AbstractListenerImpl.java:286)
	at org.infinispan.util.concurrent.WithinThreadExecutor.execute(WithinThreadExecutor.java:22)
	at org.infinispan.notifications.impl.AbstractListenerImpl$ListenerInvocationImpl.invoke(AbstractListenerImpl.java:309)
	at org.infinispan.notifications.cachelistener.CacheNotifierImpl$BaseCacheEntryListenerInvocation.doRealInvocation(CacheNotifierImpl.java:1212)
	at org.infinispan.notifications.cachelistener.CacheNotifierImpl$BaseCacheEntryListenerInvocation.invokeNoChecks(CacheNotifierImpl.java:1207)
	at org.infinispan.notifications.cachelistener.CacheNotifierImpl$BaseCacheEntryListenerInvocation.invoke(CacheNotifierImpl.java:1184)
	at org.infinispan.notifications.cachelistener.CacheNotifierImpl.notifyCacheEntryRemoved(CacheNotifierImpl.java:356)
	at org.infinispan.commands.write.RemoveCommand.notify(RemoveCommand.java:97)
	at org.infinispan.commands.write.RemoveCommand.performRemove(RemoveCommand.java:208)
	at org.infinispan.commands.write.RemoveCommand.perform(RemoveCommand.java:93)
	at org.infinispan.interceptors.CallInterceptor.handleDefault(CallInterceptor.java:124)
	at org.infinispan.commands.AbstractVisitor.visitRemoveCommand(AbstractVisitor.java:49)
	at org.infinispan.commands.write.RemoveCommand.acceptVisitor(RemoveCommand.java:58)
	at org.infinispan.interceptors.base.CommandInterceptor.invokeNextInterceptor(CommandInterceptor.java:97)
	at org.infinispan.interceptors.distribution.TxDistributionInterceptor.handleTxWriteCommand(TxDistributionInterceptor.java:306)
	at org.infinispan.interceptors.distribution.TxDistributionInterceptor.visitRemoveCommand(TxDistributionInterceptor.java:86)
	at org.infinispan.commands.write.RemoveCommand.acceptVisitor(RemoveCommand.java:58)
	at org.infinispan.interceptors.base.CommandInterceptor.invokeNextInterceptor(CommandInterceptor.java:97)
	at org.infinispan.interceptors.CacheLoaderInterceptor.visitDataCommand(CacheLoaderInterceptor.java:150)
	at org.infinispan.interceptors.CacheLoaderInterceptor.visitRemoveCommand(CacheLoaderInterceptor.java:135)
	at org.infinispan.commands.write.RemoveCommand.acceptVisitor(RemoveCommand.java:58)
	at org.infinispan.interceptors.base.CommandInterceptor.invokeNextInterceptor(CommandInterceptor.java:97)
	at org.infinispan.interceptors.EntryWrappingInterceptor.invokeNextAndApplyChanges(EntryWrappingInterceptor.java:388)
	at org.infinispan.interceptors.EntryWrappingInterceptor.setSkipRemoteGetsAndInvokeNextForDataCommand(EntryWrappingInterceptor.java:453)
	at org.infinispan.interceptors.EntryWrappingInterceptor.visitRemoveCommand(EntryWrappingInterceptor.java:252)
	at org.infinispan.commands.write.RemoveCommand.acceptVisitor(RemoveCommand.java:58)
	at org.infinispan.interceptors.base.CommandInterceptor.invokeNextInterceptor(CommandInterceptor.java:97)
	at org.infinispan.interceptors.base.CommandInterceptor.handleDefault(CommandInterceptor.java:111)
	at org.infinispan.commands.AbstractVisitor.visitRemoveCommand(AbstractVisitor.java:49)
	at org.infinispan.commands.write.RemoveCommand.acceptVisitor(RemoveCommand.java:58)
	at org.infinispan.interceptors.base.CommandInterceptor.invokeNextInterceptor(CommandInterceptor.java:97)
	at org.infinispan.interceptors.locking.PessimisticLockingInterceptor.visitDataWriteCommand(PessimisticLockingInterceptor.java:133)
	at org.infinispan.interceptors.locking.AbstractLockingInterceptor.visitRemoveCommand(AbstractLockingInterceptor.java:65)
	at org.infinispan.commands.write.RemoveCommand.acceptVisitor(RemoveCommand.java:58)
	at org.infinispan.interceptors.base.CommandInterceptor.invokeNextInterceptor(CommandInterceptor.java:97)
	at org.infinispan.interceptors.base.CommandInterceptor.handleDefault(CommandInterceptor.java:111)
	at org.infinispan.commands.AbstractVisitor.visitRemoveCommand(AbstractVisitor.java:49)
	at org.infinispan.commands.write.RemoveCommand.acceptVisitor(RemoveCommand.java:58)
	at org.infinispan.interceptors.base.CommandInterceptor.invokeNextInterceptor(CommandInterceptor.java:97)
	at org.infinispan.interceptors.TxInterceptor.enlistWriteAndInvokeNext(TxInterceptor.java:367)
	at org.infinispan.interceptors.TxInterceptor.visitRemoveCommand(TxInterceptor.java:273)
	at org.infinispan.commands.write.RemoveCommand.acceptVisitor(RemoveCommand.java:58)
	at org.infinispan.interceptors.base.CommandInterceptor.invokeNextInterceptor(CommandInterceptor.java:97)
	at org.infinispan.interceptors.base.CommandInterceptor.handleDefault(CommandInterceptor.java:111)
	at org.infinispan.commands.AbstractVisitor.visitRemoveCommand(AbstractVisitor.java:49)
	at org.infinispan.commands.write.RemoveCommand.acceptVisitor(RemoveCommand.java:58)
	at org.infinispan.interceptors.base.CommandInterceptor.invokeNextInterceptor(CommandInterceptor.java:97)
	at org.infinispan.statetransfer.StateTransferInterceptor.handleTxWriteCommand(StateTransferInterceptor.java:265)
	at org.infinispan.statetransfer.StateTransferInterceptor.handleWriteCommand(StateTransferInterceptor.java:247)
	at org.infinispan.statetransfer.StateTransferInterceptor.visitRemoveCommand(StateTransferInterceptor.java:123)
	at org.infinispan.commands.write.RemoveCommand.acceptVisitor(RemoveCommand.java:58)
	at org.infinispan.interceptors.base.CommandInterceptor.invokeNextInterceptor(CommandInterceptor.java:97)
	at org.infinispan.interceptors.CacheMgmtInterceptor.visitRemoveCommand(CacheMgmtInterceptor.java:209)
	at org.infinispan.commands.write.RemoveCommand.acceptVisitor(RemoveCommand.java:58)
	at org.infinispan.interceptors.base.CommandInterceptor.invokeNextInterceptor(CommandInterceptor.java:97)
	at org.infinispan.interceptors.InvocationContextInterceptor.handleAll(InvocationContextInterceptor.java:102)
	at org.infinispan.interceptors.InvocationContextInterceptor.handleDefault(InvocationContextInterceptor.java:71)
	at org.infinispan.commands.AbstractVisitor.visitRemoveCommand(AbstractVisitor.java:49)
	at org.infinispan.commands.write.RemoveCommand.acceptVisitor(RemoveCommand.java:58)
	at org.infinispan.interceptors.InterceptorChain.invoke(InterceptorChain.java:336)
	at org.infinispan.cache.impl.CacheImpl.executeCommandAndCommitIfNeeded(CacheImpl.java:1617)
	at org.infinispan.cache.impl.CacheImpl.removeInternal(CacheImpl.java:579)
	at org.infinispan.cache.impl.CacheImpl.remove(CacheImpl.java:572)
	at org.infinispan.cache.impl.DecoratedCache.remove(DecoratedCache.java:442)
	at org.infinispan.cache.impl.AbstractDelegatingCache.remove(AbstractDelegatingCache.java:297)
	at org.wildfly.clustering.web.infinispan.session.coarse.CoarseSessionFactory.remove(CoarseSessionFactory.java:140)
	at org.wildfly.clustering.web.infinispan.session.coarse.CoarseSessionFactory.findValue(CoarseSessionFactory.java:133)
	at org.wildfly.clustering.web.infinispan.session.coarse.CoarseSessionFactory.findValue(CoarseSessionFactory.java:56)
	at org.wildfly.clustering.web.infinispan.session.InfinispanSessionManager.removed(InfinispanSessionManager.java:317)
	at sun.reflect.GeneratedMethodAccessor109.invoke(Unknown Source) [:1.8.0_60]
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) [rt.jar:1.8.0_60]
	at java.lang.reflect.Method.invoke(Method.java:497) [rt.jar:1.8.0_60]
	at org.infinispan.notifications.impl.AbstractListenerImpl$ListenerInvocationImpl$1.run(AbstractListenerImpl.java:286)
	at org.infinispan.util.concurrent.WithinThreadExecutor.execute(WithinThreadExecutor.java:22)
	at org.infinispan.notifications.impl.AbstractListenerImpl$ListenerInvocationImpl.invoke(AbstractListenerImpl.java:309)
	at org.infinispan.notifications.cachelistener.CacheNotifierImpl$BaseCacheEntryListenerInvocation.doRealInvocation(CacheNotifierImpl.java:1212)
	at org.infinispan.notifications.cachelistener.CacheNotifierImpl$BaseCacheEntryListenerInvocation.invokeNoChecks(CacheNotifierImpl.java:1207)
	at org.infinispan.notifications.cachelistener.CacheNotifierImpl$BaseCacheEntryListenerInvocation.invoke(CacheNotifierImpl.java:1184)
	at org.infinispan.notifications.cachelistener.CacheNotifierImpl.notifyCacheEntryRemoved(CacheNotifierImpl.java:356)
	at org.infinispan.commands.write.RemoveCommand.notify(RemoveCommand.java:97)
	at org.infinispan.commands.write.RemoveCommand.performRemove(RemoveCommand.java:208)
	at org.infinispan.commands.write.RemoveCommand.perform(RemoveCommand.java:93)
	at org.infinispan.interceptors.CallInterceptor.handleDefault(CallInterceptor.java:124)
	at org.infinispan.commands.AbstractVisitor.visitRemoveCommand(AbstractVisitor.java:49)
	at org.infinispan.commands.write.RemoveCommand.acceptVisitor(RemoveCommand.java:58)
	at org.infinispan.interceptors.base.CommandInterceptor.invokeNextInterceptor(CommandInterceptor.java:97)
	at org.infinispan.interceptors.distribution.TxDistributionInterceptor.handleTxWriteCommand(TxDistributionInterceptor.java:306)
	at org.infinispan.interceptors.distribution.TxDistributionInterceptor.visitRemoveCommand(TxDistributionInterceptor.java:86)
	at org.infinispan.commands.write.RemoveCommand.acceptVisitor(RemoveCommand.java:58)
	at org.infinispan.interceptors.base.CommandInterceptor.invokeNextInterceptor(CommandInterceptor.java:97)
	at org.infinispan.interceptors.CacheLoaderInterceptor.visitDataCommand(CacheLoaderInterceptor.java:150)
	at org.infinispan.interceptors.CacheLoaderInterceptor.visitRemoveCommand(CacheLoaderInterceptor.java:135)
	at org.infinispan.commands.write.RemoveCommand.acceptVisitor(RemoveCommand.java:58)
	at org.infinispan.interceptors.base.CommandInterceptor.invokeNextInterceptor(CommandInterceptor.java:97)
	at org.infinispan.interceptors.EntryWrappingInterceptor.invokeNextAndApplyChanges(EntryWrappingInterceptor.java:388)
	at org.infinispan.interceptors.EntryWrappingInterceptor.setSkipRemoteGetsAndInvokeNextForDataCommand(EntryWrappingInterceptor.java:453)
	at org.infinispan.interceptors.EntryWrappingInterceptor.visitRemoveCommand(EntryWrappingInterceptor.java:252)
	at org.infinispan.commands.write.RemoveCommand.acceptVisitor(RemoveCommand.java:58)
	at org.infinispan.interceptors.base.CommandInterceptor.invokeNextInterceptor(CommandInterceptor.java:97)
	at org.infinispan.interceptors.base.CommandInterceptor.handleDefault(CommandInterceptor.java:111)
	at org.infinispan.commands.AbstractVisitor.visitRemoveCommand(AbstractVisitor.java:49)
	at org.infinispan.commands.write.RemoveCommand.acceptVisitor(RemoveCommand.java:58)
	at org.infinispan.interceptors.base.CommandInterceptor.invokeNextInterceptor(CommandInterceptor.java:97)
	at org.infinispan.interceptors.locking.PessimisticLockingInterceptor.visitDataWriteCommand(PessimisticLockingInterceptor.java:133)
	at org.infinispan.interceptors.locking.AbstractLockingInterceptor.visitRemoveCommand(AbstractLockingInterceptor.java:65)
	at org.infinispan.commands.write.RemoveCommand.acceptVisitor(RemoveCommand.java:58)
	at org.infinispan.interceptors.base.CommandInterceptor.invokeNextInterceptor(CommandInterceptor.java:97)
	at org.infinispan.interceptors.base.CommandInterceptor.handleDefault(CommandInterceptor.java:111)
	at org.infinispan.commands.AbstractVisitor.visitRemoveCommand(AbstractVisitor.java:49)
	at org.infinispan.commands.write.RemoveCommand.acceptVisitor(RemoveCommand.java:58)
	at org.infinispan.interceptors.base.CommandInterceptor.invokeNextInterceptor(CommandInterceptor.java:97)
	at org.infinispan.interceptors.TxInterceptor.enlistWriteAndInvokeNext(TxInterceptor.java:367)
	at org.infinispan.interceptors.TxInterceptor.visitRemoveCommand(TxInterceptor.java:273)
	at org.infinispan.commands.write.RemoveCommand.acceptVisitor(RemoveCommand.java:58)
	at org.infinispan.interceptors.base.CommandInterceptor.invokeNextInterceptor(CommandInterceptor.java:97)
	at org.infinispan.interceptors.base.CommandInterceptor.handleDefault(CommandInterceptor.java:111)
	at org.infinispan.commands.AbstractVisitor.visitRemoveCommand(AbstractVisitor.java:49)
	at org.infinispan.commands.write.RemoveCommand.acceptVisitor(RemoveCommand.java:58)
	at org.infinispan.interceptors.base.CommandInterceptor.invokeNextInterceptor(CommandInterceptor.java:97)
	at org.infinispan.statetransfer.StateTransferInterceptor.handleTxWriteCommand(StateTransferInterceptor.java:265)
	at org.infinispan.statetransfer.StateTransferInterceptor.handleWriteCommand(StateTransferInterceptor.java:247)
	at org.infinispan.statetransfer.StateTransferInterceptor.visitRemoveCommand(StateTransferInterceptor.java:123)
	at org.infinispan.commands.write.RemoveCommand.acceptVisitor(RemoveCommand.java:58)
	at org.infinispan.interceptors.base.CommandInterceptor.invokeNextInterceptor(CommandInterceptor.java:97)
	at org.infinispan.interceptors.CacheMgmtInterceptor.visitRemoveCommand(CacheMgmtInterceptor.java:209)
	at org.infinispan.commands.write.RemoveCommand.acceptVisitor(RemoveCommand.java:58)
	at org.infinispan.interceptors.base.CommandInterceptor.invokeNextInterceptor(CommandInterceptor.java:97)
	at org.infinispan.interceptors.InvocationContextInterceptor.handleAll(InvocationContextInterceptor.java:102)
	at org.infinispan.interceptors.InvocationContextInterceptor.handleDefault(InvocationContextInterceptor.java:71)
	at org.infinispan.commands.AbstractVisitor.visitRemoveCommand(AbstractVisitor.java:49)
	at org.infinispan.commands.write.RemoveCommand.acceptVisitor(RemoveCommand.java:58)
	at org.infinispan.interceptors.InterceptorChain.invoke(InterceptorChain.java:336)
	at org.infinispan.cache.impl.CacheImpl.executeCommandAndCommitIfNeeded(CacheImpl.java:1617)
	at org.infinispan.cache.impl.CacheImpl.removeInternal(CacheImpl.java:579)
	at org.infinispan.cache.impl.CacheImpl.remove(CacheImpl.java:572)
	at org.infinispan.cache.impl.DecoratedCache.remove(DecoratedCache.java:442)
	at org.infinispan.cache.impl.AbstractDelegatingCache.remove(AbstractDelegatingCache.java:297)
	at org.wildfly.clustering.web.infinispan.session.coarse.CoarseSessionFactory.remove(CoarseSessionFactory.java:140)
	at org.wildfly.clustering.web.infinispan.session.coarse.CoarseSessionFactory.findValue(CoarseSessionFactory.java:133)
	at org.wildfly.clustering.web.infinispan.session.coarse.CoarseSessionFactory.findValue(CoarseSessionFactory.java:56)
	at org.wildfly.clustering.web.infinispan.session.InfinispanSessionManager.removed(InfinispanSessionManager.java:317)
	at sun.reflect.GeneratedMethodAccessor109.invoke(Unknown Source) [:1.8.0_60]
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) [rt.jar:1.8.0_60]
	at java.lang.reflect.Method.invoke(Method.java:497) [rt.jar:1.8.0_60]
	at org.infinispan.notifications.impl.AbstractListenerImpl$ListenerInvocationImpl$1.run(AbstractListenerImpl.java:286)
	at org.infinispan.util.concurrent.WithinThreadExecutor.execute(WithinThreadExecutor.java:22)
	at org.infinispan.notifications.impl.AbstractListenerImpl$ListenerInvocationImpl.invoke(AbstractListenerImpl.java:309)
	at org.infinispan.notifications.cachelistener.CacheNotifierImpl$BaseCacheEntryListenerInvocation.doRealInvocation(CacheNotifierImpl.java:1212)
	at org.infinispan.notifications.cachelistener.CacheNotifierImpl$BaseCacheEntryListenerInvocation.invokeNoChecks(CacheNotifierImpl.java:1207)
	at org.infinispan.notifications.cachelistener.CacheNotifierImpl$BaseCacheEntryListenerInvocation.invoke(CacheNotifierImpl.java:1184)
	at org.infinispan.notifications.cachelistener.CacheNotifierImpl.notifyCacheEntryRemoved(CacheNotifierImpl.java:356)
	at org.infinispan.commands.write.RemoveCommand.notify(RemoveCommand.java:97)
	at org.infinispan.commands.write.RemoveCommand.performRemove(RemoveCommand.java:208)
	at org.infinispan.commands.write.RemoveCommand.perform(RemoveCommand.java:93)
	at org.infinispan.interceptors.CallInterceptor.handleDefault(CallInterceptor.java:124)
	at org.infinispan.commands.AbstractVisitor.visitRemoveCommand(AbstractVisitor.java:49)
	at org.infinispan.commands.write.RemoveCommand.acceptVisitor(RemoveCommand.java:58)
	at org.infinispan.interceptors.base.CommandInterceptor.invokeNextInterceptor(CommandInterceptor.java:97)
	at org.infinispan.interceptors.distribution.TxDistributionInterceptor.handleTxWriteCommand(TxDistributionInterceptor.java:306)
	at org.infinispan.interceptors.distribution.TxDistributionInterceptor.visitRemoveCommand(TxDistributionInterceptor.java:86)
	at org.infinispan.commands.write.RemoveCommand.acceptVisitor(RemoveCommand.java:58)
	at org.infinispan.interceptors.base.CommandInterceptor.invokeNextInterceptor(CommandInterceptor.java:97)
	at org.infinispan.interceptors.CacheLoaderInterceptor.visitDataCommand(CacheLoaderInterceptor.java:150)
	at org.infinispan.interceptors.CacheLoaderInterceptor.visitRemoveCommand(CacheLoaderInterceptor.java:135)
	at org.infinispan.commands.write.RemoveCommand.acceptVisitor(RemoveCommand.java:58)
	at org.infinispan.interceptors.base.CommandInterceptor.invokeNextInterceptor(CommandInterceptor.java:97)
	at org.infinispan.interceptors.EntryWrappingInterceptor.invokeNextAndApplyChanges(EntryWrappingInterceptor.java:388)
	at org.infinispan.interceptors.EntryWrappingInterceptor.setSkipRemoteGetsAndInvokeNextForDataCommand(EntryWrappingInterceptor.java:453)
	at org.infinispan.interceptors.EntryWrappingInterceptor.visitRemoveCommand(EntryWrappingInterceptor.java:252)
	at org.infinispan.commands.write.RemoveCommand.acceptVisitor(RemoveCommand.java:58)
	at org.infinispan.interceptors.base.CommandInterceptor.invokeNextInterceptor(CommandInterceptor.java:97)
	at org.infinispan.interceptors.base.CommandInterceptor.handleDefault(CommandInterceptor.java:111)
	at org.infinispan.commands.AbstractVisitor.visitRemoveCommand(AbstractVisitor.java:49)
	at org.infinispan.commands.write.RemoveCommand.acceptVisitor(RemoveCommand.java:58)
	at org.infinispan.interceptors.base.CommandInterceptor.invokeNextInterceptor(CommandInterceptor.java:97)
	at org.infinispan.interceptors.locking.PessimisticLockingInterceptor.visitDataWriteCommand(PessimisticLockingInterceptor.java:133)
	at org.infinispan.interceptors.locking.AbstractLockingInterceptor.visitRemoveCommand(AbstractLockingInterceptor.java:65)
	at org.infinispan.commands.write.RemoveCommand.acceptVisitor(RemoveCommand.java:58)
	at org.infinispan.interceptors.base.CommandInterceptor.invokeNextInterceptor(CommandInterceptor.java:97)
	at org.infinispan.interceptors.base.CommandInterceptor.handleDefault(CommandInterceptor.java:111)
	at org.infinispan.commands.AbstractVisitor.visitRemoveCommand(AbstractVisitor.java:49)
	at org.infinispan.commands.write.RemoveCommand.acceptVisitor(RemoveCommand.java:58)
	at org.infinispan.interceptors.base.CommandInterceptor.invokeNextInterceptor(CommandInterceptor.java:97)
	at org.infinispan.interceptors.TxInterceptor.enlistWriteAndInvokeNext(TxInterceptor.java:367)
	at org.infinispan.interceptors.TxInterceptor.visitRemoveCommand(TxInterceptor.java:273)
	at org.infinispan.commands.write.RemoveCommand.acceptVisitor(RemoveCommand.java:58)
	at org.infinispan.interceptors.base.CommandInterceptor.invokeNextInterceptor(CommandInterceptor.java:97)
	at org.infinispan.interceptors.base.CommandInterceptor.handleDefault(CommandInterceptor.java:111)
	at org.infinispan.commands.AbstractVisitor.visitRemoveCommand(AbstractVisitor.java:49)
	at org.infinispan.commands.write.RemoveCommand.acceptVisitor(RemoveCommand.java:58)
	at org.infinispan.interceptors.base.CommandInterceptor.invokeNextInterceptor(CommandInterceptor.java:97)
	at org.infinispan.statetransfer.StateTransferInterceptor.handleTxWriteCommand(StateTransferInterceptor.java:265)
	at org.infinispan.statetransfer.StateTransferInterceptor.handleWriteCommand(StateTransferInterceptor.java:247)
	at org.infinispan.statetransfer.StateTransferInterceptor.visitRemoveCommand(StateTransferInterceptor.java:123)
	at org.infinispan.commands.write.RemoveCommand.acceptVisitor(RemoveCommand.java:58)
	at org.infinispan.interceptors.base.CommandInterceptor.invokeNextInterceptor(CommandInterceptor.java:97)
	at org.infinispan.interceptors.CacheMgmtInterceptor.visitRemoveCommand(CacheMgmtInterceptor.java:209)
	at org.infinispan.commands.write.RemoveCommand.acceptVisitor(RemoveCommand.java:58)
	at org.infinispan.interceptors.base.CommandInterceptor.invokeNextInterceptor(CommandInterceptor.java:97)
	at org.infinispan.interceptors.InvocationContextInterceptor.handleAll(InvocationContextInterceptor.java:102)
	at org.infinispan.interceptors.InvocationContextInterceptor.handleDefault(InvocationContextInterceptor.java:71)
	at org.infinispan.commands.AbstractVisitor.visitRemoveCommand(AbstractVisitor.java:49)
	at org.infinispan.commands.write.RemoveCommand.acceptVisitor(RemoveCommand.java:58)
	at org.infinispan.interceptors.InterceptorChain.invoke(InterceptorChain.java:336)
	at org.infinispan.cache.impl.CacheImpl.executeCommandAndCommitIfNeeded(CacheImpl.java:1617)
	at org.infinispan.cache.impl.CacheImpl.removeInternal(CacheImpl.java:579)
	at org.infinispan.cache.impl.CacheImpl.remove(CacheImpl.java:572)
	at org.infinispan.cache.impl.DecoratedCache.remove(DecoratedCache.java:442)
	at org.infinispan.cache.impl.AbstractDelegatingCache.remove(AbstractDelegatingCache.java:297)
	at org.wildfly.clustering.web.infinispan.session.coarse.CoarseSessionFactory.remove(CoarseSessionFactory.java:140)
	at org.wildfly.clustering.web.infinispan.session.coarse.CoarseSessionFactory.findValue(CoarseSessionFactory.java:133)
	at org.wildfly.clustering.web.infinispan.session.coarse.CoarseSessionFactory.findValue(CoarseSessionFactory.java:56)
	at org.wildfly.clustering.web.infinispan.session.InfinispanSessionManager.removed(InfinispanSessionManager.java:317)
	at sun.reflect.GeneratedMethodAccessor109.invoke(Unknown Source) [:1.8.0_60]
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) [rt.jar:1.8.0_60]
	at java.lang.reflect.Method.invoke(Method.java:497) [rt.jar:1.8.0_60]
	at org.infinispan.notifications.impl.AbstractListenerImpl$ListenerInvocationImpl$1.run(AbstractListenerImpl.java:286)
	at org.infinispan.util.concurrent.WithinThreadExecutor.execute(WithinThreadExecutor.java:22)
	at org.infinispan.notifications.impl.AbstractListenerImpl$ListenerInvocationImpl.invoke(AbstractListenerImpl.java:309)
	at org.infinispan.notifications.cachelistener.CacheNotifierImpl$BaseCacheEntryListenerInvocation.doRealInvocation(CacheNotifierImpl.java:1212)
	at org.infinispan.notifications.cachelistener.CacheNotifierImpl$BaseCacheEntryListenerInvocation.invokeNoChecks(CacheNotifierImpl.java:1207)
	at org.infinispan.notifications.cachelistener.CacheNotifierImpl$BaseCacheEntryListenerInvocation.invoke(CacheNotifierImpl.java:1184)
	at org.infinispan.notifications.cachelistener.CacheNotifierImpl.notifyCacheEntryRemoved(CacheNotifierImpl.java:356)
	at org.infinispan.commands.write.RemoveCommand.notify(RemoveCommand.java:97)
	at org.infinispan.commands.write.RemoveCommand.performRemove(RemoveCommand.java:208)
	at org.infinispan.commands.write.RemoveCommand.perform(RemoveCommand.java:93)
	at org.infinispan.interceptors.CallInterceptor.handleDefault(CallInterceptor.java:124)
	at org.infinispan.commands.AbstractVisitor.visitRemoveCommand(AbstractVisitor.java:49)
	at org.infinispan.commands.write.RemoveCommand.acceptVisitor(RemoveCommand.java:58)
	at org.infinispan.interceptors.base.CommandInterceptor.invokeNextInterceptor(CommandInterceptor.java:97)
	at org.infinispan.interceptors.distribution.TxDistributionInterceptor.handleTxWriteCommand(TxDistributionInterceptor.java:306)
	at org.infinispan.interceptors.distribution.TxDistributionInterceptor.visitRemoveCommand(TxDistributionInterceptor.java:86)
	at org.infinispan.commands.write.RemoveCommand.acceptVisitor(RemoveCommand.java:58)
	at org.infinispan.interceptors.base.CommandInterceptor.invokeNextInterceptor(CommandInterceptor.java:97)
	at org.infinispan.interceptors.CacheLoaderInterceptor.visitDataCommand(CacheLoaderInterceptor.java:150)
	at org.infinispan.interceptors.CacheLoaderInterceptor.visitRemoveCommand(CacheLoaderInterceptor.java:135)
	at org.infinispan.commands.write.RemoveCommand.acceptVisitor(RemoveCommand.java:58)
	at org.infinispan.interceptors.base.CommandInterceptor.invokeNextInterceptor(CommandInterceptor.java:97)
	at org.infinispan.interceptors.EntryWrappingInterceptor.invokeNextAndApplyChanges(EntryWrappingInterceptor.java:388)
	at org.infinispan.interceptors.EntryWrappingInterceptor.setSkipRemoteGetsAndInvokeNextForDataCommand(EntryWrappingInterceptor.java:453)
	at org.infinispan.interceptors.EntryWrappingInterceptor.visitRemoveCommand(EntryWrappingInterceptor.java:252)
	at org.infinispan.commands.write.RemoveCommand.acceptVisitor(RemoveCommand.java:58)
	at org.infinispan.interceptors.base.CommandInterceptor.invokeNextInterceptor(CommandInterceptor.java:97)
	at org.infinispan.interceptors.base.CommandInterceptor.handleDefault(CommandInterceptor.java:111)
	at org.infinispan.commands.AbstractVisitor.visitRemoveCommand(AbstractVisitor.java:49)
	at org.infinispan.commands.write.RemoveCommand.acceptVisitor(RemoveCommand.java:58)
	at org.infinispan.interceptors.base.CommandInterceptor.invokeNextInterceptor(CommandInterceptor.java:97)
	at org.infinispan.interceptors.locking.PessimisticLockingInterceptor.visitDataWriteCommand(PessimisticLockingInterceptor.java:133)
	at org.infinispan.interceptors.locking.AbstractLockingInterceptor.visitRemoveCommand(AbstractLockingInterceptor.java:65)
	at org.infinispan.commands.write.RemoveCommand.acceptVisitor(RemoveCommand.java:58)
	at org.infinispan.interceptors.base.CommandInterceptor.invokeNextInterceptor(CommandInterceptor.java:97)
	at org.infinispan.interceptors.base.CommandInterceptor.handleDefault(CommandInterceptor.java:111)
	at org.infinispan.commands.AbstractVisitor.visitRemoveCommand(AbstractVisitor.java:49)
	at org.infinispan.commands.write.RemoveCommand.acceptVisitor(RemoveCommand.java:58)
	at org.infinispan.interceptors.base.CommandInterceptor.invokeNextInterceptor(CommandInterceptor.java:97)
	at org.infinispan.interceptors.TxInterceptor.enlistWriteAndInvokeNext(TxInterceptor.java:367)
	at org.infinispan.interceptors.TxInterceptor.visitRemoveCommand(TxInterceptor.java:273)
	at org.infinispan.commands.write.RemoveCommand.acceptVisitor(RemoveCommand.java:58)
	at org.infinispan.interceptors.base.CommandInterceptor.invokeNextInterceptor(CommandInterceptor.java:97)
	at org.infinispan.interceptors.base.CommandInterceptor.handleDefault(CommandInterceptor.java:111)
	at org.infinispan.commands.AbstractVisitor.visitRemoveCommand(AbstractVisitor.java:49)
	at org.infinispan.commands.write.RemoveCommand.acceptVisitor(RemoveCommand.java:58)
	at org.infinispan.interceptors.base.CommandInterceptor.invokeNextInterceptor(CommandInterceptor.java:97)
	at org.infinispan.statetransfer.StateTransferInterceptor.handleTxWriteCommand(StateTransferInterceptor.java:265)
	at org.infinispan.statetransfer.StateTransferInterceptor.handleWriteCommand(StateTransferInterceptor.java:247)
	at org.infinispan.statetransfer.StateTransferInterceptor.visitRemoveCommand(StateTransferInterceptor.java:123)
	at org.infinispan.commands.write.RemoveCommand.acceptVisitor(RemoveCommand.java:58)
	at org.infinispan.interceptors.base.CommandInterceptor.invokeNextInterceptor(CommandInterceptor.java:97)
	at org.infinispan.interceptors.CacheMgmtInterceptor.visitRemoveCommand(CacheMgmtInterceptor.java:209)
	at org.infinispan.commands.write.RemoveCommand.acceptVisitor(RemoveCommand.java:58)
	at org.infinispan.interceptors.base.CommandInterceptor.invokeNextInterceptor(CommandInterceptor.java:97)
	at org.infinispan.interceptors.InvocationContextInterceptor.handleAll(InvocationContextInterceptor.java:102)
	at org.infinispan.interceptors.InvocationContextInterceptor.handleDefault(InvocationContextInterceptor.java:71)
	at org.infinispan.commands.AbstractVisitor.visitRemoveCommand(AbstractVisitor.java:49)
	at org.infinispan.commands.write.RemoveCommand.acceptVisitor(RemoveCommand.java:58)
	at org.infinispan.interceptors.InterceptorChain.invoke(InterceptorChain.java:336)
	at org.infinispan.cache.impl.CacheImpl.executeCommandAndCommitIfNeeded(CacheImpl.java:1617)
	at org.infinispan.cache.impl.CacheImpl.removeInternal(CacheImpl.java:579)
	at org.infinispan.cache.impl.CacheImpl.remove(CacheImpl.java:572)
	at org.infinispan.cache.impl.DecoratedCache.remove(DecoratedCache.java:442)
	at org.infinispan.cache.impl.AbstractDelegatingCache.remove(AbstractDelegatingCache.java:297)
	at org.wildfly.clustering.web.infinispan.session.coarse.CoarseSessionFactory.remove(CoarseSessionFactory.java:140)
	at org.wildfly.clustering.web.infinispan.session.coarse.CoarseSessionFactory.findValue(CoarseSessionFactory.java:133)
	at org.wildfly.clustering.web.infinispan.session.coarse.CoarseSessionFactory.findValue(CoarseSessionFactory.java:56)
	at org.wildfly.clustering.web.infinispan.session.InfinispanSessionManager.removed(InfinispanSessionManager.java:317)
	at sun.reflect.GeneratedMethodAccessor109.invoke(Unknown Source) [:1.8.0_60]
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) [rt.jar:1.8.0_60]
	at java.lang.reflect.Method.invoke(Method.java:497) [rt.jar:1.8.0_60]
	at org.infinispan.notifications.impl.AbstractListenerImpl$ListenerInvocationImpl$1.run(AbstractListenerImpl.java:286)
	at org.infinispan.util.concurrent.WithinThreadExecutor.execute(WithinThreadExecutor.java:22)
	at org.infinispan.notifications.impl.AbstractListenerImpl$ListenerInvocationImpl.invoke(AbstractListenerImpl.java:309)
	at org.infinispan.notifications.cachelistener.CacheNotifierImpl$BaseCacheEntryListenerInvocation.doRealInvocation(CacheNotifierImpl.java:1212)
	at org.infinispan.notifications.cachelistener.CacheNotifierImpl$BaseCacheEntryListenerInvocation.invokeNoChecks(CacheNotifierImpl.java:1207)
	at org.infinispan.notifications.cachelistener.CacheNotifierImpl$BaseCacheEntryListenerInvocation.invoke(CacheNotifierImpl.java:1184)
	at org.infinispan.notifications.cachelistener.CacheNotifierImpl.notifyCacheEntryRemoved(CacheNotifierImpl.java:356)
	at org.infinispan.commands.write.RemoveCommand.notify(RemoveCommand.java:97)
	at org.infinispan.commands.write.RemoveCommand.performRemove(RemoveCommand.java:208)
	at org.infinispan.commands.write.RemoveCommand.perform(RemoveCommand.java:93)
	at org.infinispan.interceptors.CallInterceptor.handleDefault(CallInterceptor.java:124)
	at org.infinispan.commands.AbstractVisitor.visitRemoveCommand(AbstractVisitor.java:49)
	at org.infinispan.commands.write.RemoveCommand.acceptVisitor(RemoveCommand.java:58)
	at org.infinispan.interceptors.base.CommandInterceptor.invokeNextInterceptor(CommandInterceptor.java:97)
	at org.infinispan.interceptors.distribution.TxDistributionInterceptor.handleTxWriteCommand(TxDistributionInterceptor.java:306)
	at org.infinispan.interceptors.distribution.TxDistributionInterceptor.visitRemoveCommand(TxDistributionInterceptor.java:86)
	at org.infinispan.commands.write.RemoveCommand.acceptVisitor(RemoveCommand.java:58)
	at org.infinispan.interceptors.base.CommandInterceptor.invokeNextInterceptor(CommandInterceptor.java:97)
	at org.infinispan.interceptors.CacheLoaderInterceptor.visitDataCommand(CacheLoaderInterceptor.java:150)
	at org.infinispan.interceptors.CacheLoaderInterceptor.visitRemoveCommand(CacheLoaderInterceptor.java:135)
	at org.infinispan.commands.write.RemoveCommand.acceptVisitor(RemoveCommand.java:58)
	at org.infinispan.interceptors.base.CommandInterceptor.invokeNextInterceptor(CommandInterceptor.java:97)
	at org.infinispan.interceptors.EntryWrappingInterceptor.invokeNextAndApplyChanges(EntryWrappingInterceptor.java:388)
	at org.infinispan.interceptors.EntryWrappingInterceptor.setSkipRemoteGetsAndInvokeNextForDataCommand(EntryWrappingInterceptor.java:453)
	at org.infinispan.interceptors.EntryWrappingInterceptor.visitRemoveCommand(EntryWrappingInterceptor.java:252)
	at org.infinispan.commands.write.RemoveCommand.acceptVisitor(RemoveCommand.java:58)
	at org.infinispan.interceptors.base.CommandInterceptor.invokeNextInterceptor(CommandInterceptor.java:97)
	at org.infinispan.interceptors.base.CommandInterceptor.handleDefault(CommandInterceptor.java:111)
	at org.infinispan.commands.AbstractVisitor.visitRemoveCommand(AbstractVisitor.java:49)
	at org.infinispan.commands.write.RemoveCommand.acceptVisitor(RemoveCommand.java:58)
	at org.infinispan.interceptors.base.CommandInterceptor.invokeNextInterceptor(CommandInterceptor.java:97)
	at org.infinispan.interceptors.locking.PessimisticLockingInterceptor.visitDataWriteCommand(PessimisticLockingInterceptor.java:133)
	at org.infinispan.interceptors.locking.AbstractLockingInterceptor.visitRemoveCommand(AbstractLockingInterceptor.java:65)
	at org.infinispan.commands.write.RemoveCommand.acceptVisitor(RemoveCommand.java:58)
	at org.infinispan.interceptors.base.CommandInterceptor.invokeNextInterceptor(CommandInterceptor.java:97)
	at org.infinispan.interceptors.base.CommandInterceptor.handleDefault(CommandInterceptor.java:111)
	at org.infinispan.commands.AbstractVisitor.visitRemoveCommand(AbstractVisitor.java:49)
	at org.infinispan.commands.write.RemoveCommand.acceptVisitor(RemoveCommand.java:58)
	at org.infinispan.interceptors.base.CommandInterceptor.invokeNextInterceptor(CommandInterceptor.java:97)
	at org.infinispan.interceptors.TxInterceptor.enlistWriteAndInvokeNext(TxInterceptor.java:367)
	at org.infinispan.interceptors.TxInterceptor.visitRemoveCommand(TxInterceptor.java:273)
	at org.infinispan.commands.write.RemoveCommand.acceptVisitor(RemoveCommand.java:58)
	at org.infinispan.interceptors.base.CommandInterceptor.invokeNextInterceptor(CommandInterceptor.java:97)
	at org.infinispan.interceptors.base.CommandInterceptor.handleDefault(CommandInterceptor.java:111)
	at org.infinispan.commands.AbstractVisitor.visitRemoveCommand(AbstractVisitor.java:49)</description>
			<version>9.0.1.Final</version>
			<fixedVersion>10.0.0.CR1</fixedVersion>
			<type>Bug</type>
		</buginformation>
		<fixedFiles>
			<file type="M">org.wildfly.clustering.web.infinispan.sso.coarse.CoarseSSOFactory.java</file>
			<file type="M">org.wildfly.clustering.web.infinispan.session.coarse.CoarseSessionFactory.java</file>
		</fixedFiles>
		<links>
			<link type="Cloners" description="cloned to">860</link>
			<link type="Related" description="is related to">5697</link>
		</links>
	</bug>
	<bug id="5184" opendate="2015-08-24 12:24:09" fixdate="2015-08-27 08:12:05" resolution="Done">
		<buginformation>
			<summary>Read-attribute on an EJB timer fails if there are no more timeouts</summary>
			<description>When a read-attribute operation is invoked on an EJB timer that has no timeouts remaining, the operation fails without returning any useful information to the client:






 {




    "outcome" : "failed",




    "rolled-back" : true




}






It is because a NoMoreTimeoutException is thrown from the TimerServiceImpl and this exception is not handled by the read-attribute handler. This occurs in the server log:






ERROR [org.jboss.as.controller.management-operation] (management-handler-thread - 1) WFLYCTL0013: Operation ("read-attribute") failed - address: ([




    ("deployment" =&amp;gt; "ejb-mgmt-timers.jar"),




    ("subsystem" =&amp;gt; "ejb3"),




    ("stateless-session-bean" =&amp;gt; "TimerBean"),




    ("service" =&amp;gt; "timer-service"),




    ("timer" =&amp;gt; "9a93b559-3526-4b72-95e7-760c5bc50484")




]): javax.ejb.NoMoreTimeoutsException: WFLYEJB0328: No more timeouts for timer [id=9a93b559-3526-4b72-95e7-760c5bc50484 timedObjectId=ejb-mgmt-timers.ejb-mgmt-timers.TimerBean auto-timer?:false persistent?:true timerService=org.jboss.as.ejb3.timerservice.TimerServiceImpl@72e447ae initialExpiration=Mon Aug 24 13:38:37 CEST 2015 intervalDuration(in milli sec)=0 nextExpiration=null timerState=IN_TIMEOUT info=PersistentIntervalTimerCLITestCase]




        at org.jboss.as.ejb3.timerservice.TimerImpl.getNextTimeout(TimerImpl.java:256)




        at org.jboss.as.ejb3.subsystem.deployment.TimerResourceDefinition$6.readAttribute(TimerResourceDefinition.java:240)




        at org.jboss.as.ejb3.subsystem.deployment.TimerResourceDefinition$AbstractReadAttributeHandler.executeRuntime(TimerResourceDefinition.java:376)




        at org.jboss.as.ejb3.subsystem.deployment.TimerResourceDefinition$AbstractTimerHandler$1.execute(TimerResourceDefinition.java:340)




        at org.jboss.as.controller.AbstractOperationContext.executeStep(AbstractOperationContext.java:846)




        at org.jboss.as.controller.AbstractOperationContext.processStages(AbstractOperationContext.java:637)




        at org.jboss.as.controller.AbstractOperationContext.executeOperation(AbstractOperationContext.java:362)




        at org.jboss.as.controller.OperationContextImpl.executeOperation(OperationContextImpl.java:1272)




        at org.jboss.as.controller.ModelControllerImpl.internalExecute(ModelControllerImpl.java:394)




        at org.jboss.as.controller.ModelControllerImpl.execute(ModelControllerImpl.java:225)




        at org.jboss.as.controller.remote.ModelControllerClientOperationHandler$ExecuteRequestHandler.doExecute(ModelControllerClientOperationHandler.java:207)




        at org.jboss.as.controller.remote.ModelControllerClientOperationHandler$ExecuteRequestHandler.access$300(ModelControllerClientOperationHandler.java:129)




        at org.jboss.as.controller.remote.ModelControllerClientOperationHandler$ExecuteRequestHandler$1$1.run(ModelControllerClientOperationHandler.java:151)




        at org.jboss.as.controller.remote.ModelControllerClientOperationHandler$ExecuteRequestHandler$1$1.run(ModelControllerClientOperationHandler.java:147)




        at java.security.AccessController.doPrivileged(Native Method)




        at javax.security.auth.Subject.doAs(Subject.java:422)




        at org.jboss.as.controller.AccessAuditContext.doAs(AccessAuditContext.java:92)




        at org.jboss.as.controller.remote.ModelControllerClientOperationHandler$ExecuteRequestHandler$1.execute(ModelControllerClientOperationHandler.java:147)




        at org.jboss.as.protocol.mgmt.AbstractMessageHandler$2$1.doExecute(AbstractMessageHandler.java:298)




        at org.jboss.as.protocol.mgmt.AbstractMessageHandler$AsyncTaskRunner.run(AbstractMessageHandler.java:518)




        at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)                                                                                                                                                   




        at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)




        at java.lang.Thread.run(Thread.java:745)




        at org.jboss.threads.JBossThread.run(JBossThread.java:320)






I think the read-attribute handler should rather catch this exception, log it, and leave the next-timeout and time-remaining attributes undefined in this case.</description>
			<version>10.0.0.Beta2</version>
			<fixedVersion>10.0.0.CR1</fixedVersion>
			<type>Bug</type>
		</buginformation>
		<fixedFiles>
			<file type="M">org.jboss.as.ejb3.subsystem.deployment.TimerResourceDefinition.java</file>
		</fixedFiles>
		<links>
			<link type="Cloners" description="cloned from">845</link>
		</links>
	</bug>
	<bug id="5200" opendate="2015-08-25 15:34:02" fixdate="2015-08-27 16:21:42" resolution="Done">
		<buginformation>
			<summary>Reading transport protocol metrics fails with "Protocol UDP not found in current stack"</summary>
			<description>





[standalone@localhost:9990 /] /subsystem=jgroups/channel=ee/protocol=UDP:read-attribute(name=timer-queue_max_size




{




    "outcome" =&amp;gt; "failed",




    "failure-description" =&amp;gt; "WFLYCLJG0019: Protocol UDP not found in current stack",




    "rolled-back" =&amp;gt; true




}





</description>
			<version>10.0.0.Beta2</version>
			<fixedVersion>10.0.0.CR1</fixedVersion>
			<type>Bug</type>
		</buginformation>
		<fixedFiles>
			<file type="M">org.jboss.as.clustering.jgroups.subsystem.ForkProtocolResourceRegistrationHandler.java</file>
			<file type="M">org.jboss.as.clustering.jgroups.subsystem.ProtocolResourceRegistrationHandler.java</file>
		</fixedFiles>
	</bug>
	<bug id="5195" opendate="2015-08-25 08:40:23" fixdate="2015-08-27 23:31:55" resolution="Done">
		<buginformation>
			<summary>Persistent timers sometimes remain IN_TIMEOUT in database and don&amp;apos;t ever activate again</summary>
			<description>The scenario:
A persistent timer goes off right before its application gets undeployed






&amp;amp;amp#27;[0m&amp;amp;amp#27;[32m08:43:38,086 DEBUG [org.jboss.as.ejb3] (EJB default - 1) Timer task invoked at: Tue Aug 25 08:43:38 CEST 2015 for timer [id=d563c5b3-c98c-44c9-87f6-04a492280a67 timedObjectId=testTimerServiceSerialization.a.TimerServiceSerializationBean auto-timer?:false persistent?:true timerService=org.jboss.as.ejb3.timerservice.TimerServiceImpl@43ca0624 initialExpiration=Tue Aug 25 08:43:35 CEST 2015 intervalDuration(in milli sec)=100 nextExpiration=Tue Aug 25 08:43:38 CEST 2015 timerState=ACTIVE info=org.jboss.as.test.integration.ejb.timerservice.serialization.InfoA@1ce85ecb]






The timer changes its state to IN_TIMEOUT and persists this into the database.
It fails to invoke the bean method, because the application is no longer available






&amp;amp;amp#27;[0m&amp;amp;amp#27;[31m08:43:38,515 ERROR [org.jboss.as.ejb3] (EJB default - 1) WFLYEJB0020: Error invoking timeout for timer: [id=d563c5b3-c98c-44c9-87f6-04a492280a67 timedObjectId=testTimerServiceSerialization.a.TimerServiceSerializationBean auto-timer?:false persistent?:true timerService=org.jboss.as.ejb3.timerservice.TimerServiceImpl@43ca0624 initialExpiration=Tue Aug 25 08:43:35 CEST 2015 intervalDuration(in milli sec)=100 nextExpiration=Tue Aug 25 08:43:38 CEST 2015 timerState=IN_TIMEOUT info=org.jboss.as.test.integration.ejb.timerservice.serialization.InfoA@1ce85ecb]: java.lang.IllegalStateException




        at org.jboss.msc.value.InjectedValue.getValue(InjectedValue.java:47)




        at org.jboss.as.ejb3.timerservice.TimerServiceImpl.getInvoker(TimerServiceImpl.java:564)




        at org.jboss.as.ejb3.timerservice.TimerTask.invokeBeanMethod(TimerTask.java:188)




        at org.jboss.as.ejb3.timerservice.TimerTask.callTimeout(TimerTask.java:184)




        at org.jboss.as.ejb3.timerservice.TimerTask.run(TimerTask.java:157)




        at org.jboss.as.ejb3.timerservice.TimerServiceImpl$Task$1.run(TimerServiceImpl.java:1224)




        at org.wildfly.extension.requestcontroller.RequestController$QueuedTask$1.run(RequestController.java:497)




        at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)




        at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)




        at java.lang.Thread.run(Thread.java:745)




        at org.jboss.threads.JBossThread.run(JBossThread.java:320)






It considers retrying, but then it doesn&amp;amp;apos;t retry, because the state is IN_TIMEOUT






08:43:38,515 INFO  [org.jboss.as.ejb3] (EJB default - 1) WFLYEJB0021: Timer: [id=d563c5b3-c98c-44c9-87f6-04a492280a67 timedObjectId=testTimerServiceSerialization.a.TimerServiceSerializationBean auto-timer?:false persistent?:true timerService=org.jboss.as.ejb3.timerservice.TimerServiceImpl@43ca0624 initialExpiration=Tue Aug 25 08:43:35 CEST 2015 intervalDuration(in milli sec)=100 nextExpiration=Tue Aug 25 08:43:38 CEST 2015 timerState=IN_TIMEOUT info=org.jboss.as.test.integration.ejb.timerservice.serialization.InfoA@1ce85ecb] will be retried                                                                                                                                               




08:43:38,515 INFO  [org.jboss.as.ejb3] (EJB default - 1) WFLYEJB0024: Timer is not active, skipping retry of timer: [id=d563c5b3-c98c-44c9-87f6-04a492280a67 timedObjectId=testTimerServiceSerialization.a.TimerServiceSerializationBean auto-timer?:false persistent?:true timerService=org.jboss.as.ejb3.timerservice.TimerServiceImpl@43ca0624 initialExpiration=Tue Aug 25 08:43:35 CEST 2015 intervalDuration(in milli sec)=100 nextExpiration=Tue Aug 25 08:43:38 CEST 2015 timerState=IN_TIMEOUT info=org.jboss.as.test.integration.ejb.timerservice.serialization.InfoA@1ce85ecb]






It gives up and tries to persist the state back to ACTIVE, but it fails, because the DatabaseTimerPersistence service is no longer available






08:43:38,516 WARN  [org.jboss.as.ejb3] (EJB default - 1) WFLYEJB0016: Timer persistence is not enabled, persistent timers will not survive JVM restarts






So the state remains IN_TIMEOUT in the database. When the application is redeployed, it is initialized with this state and it never goes off again.
This happens with a JDBC storage in a database that is slow enough so that the update of state to IN_TIMEOUT proceeds correctly, but the actual bean method invocation fails already.
Attaching a reproducer which simulates a slow database using Byteman, so it can be run even with the ExampleDS.</description>
			<version>10.0.0.Beta2</version>
			<fixedVersion>10.0.0.CR1</fixedVersion>
			<type>Bug</type>
		</buginformation>
		<fixedFiles>
			<file type="M">org.jboss.as.ejb3.logging.EjbLogger.java</file>
			<file type="M">org.jboss.as.ejb3.timerservice.persistence.database.DatabaseTimerPersistence.java</file>
		</fixedFiles>
		<links>
			<link type="Cloners" description="cloned from">855</link>
		</links>
	</bug>
	<bug id="5197" opendate="2015-08-25 10:02:45" fixdate="2015-08-28 02:43:26" resolution="Done">
		<buginformation>
			<summary>Intermittent javax.ejb.EJBException: Do not call non-public methods on EJB&amp;apos;s</summary>
			<description>It&amp;amp;apos;s intermittently failing in CDI TCK in org.jboss.cdi.tck.interceptors.tests.contract.lifecycleCallback.LifecycleCallbackInterceptorTest. There is:






@Stateful




@Interceptors(CatInterceptor.class)




public class Cat extends Animal {




 ...









    @Override




    public void foo() {




    }




 ...




}






and:






public abstract class Animal {




 




 ...




    void foo() {




    }




 ....




}






There is check in org.jboss.as.ejb3.component.session.SessionBeanComponentDescription#addNoInterfaceView whether method is public. This check is sometimes called for Animal.foo() and sometimes for Cat.foo(). I think only Cat.foo() should be checked. 
Stacktrace is:






javax.ejb.EJBException: WFLYEJB0224: Not a business method void org.jboss.cdi.tck.interceptors.tests.contract.lifecycleCallback.Animal.foo(). Do not call non-public methods on EJB&amp;amp;apos;s




	at org.jboss.as.ejb3.component.session.NotBusinessMethodInterceptor.processInvocation(NotBusinessMethodInterceptor.java:43)




	at org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:340)




	at org.jboss.invocation.ChainedInterceptor.processInvocation(ChainedInterceptor.java:61)




	at org.jboss.as.ee.component.ProxyInvocationHandler.invoke(ProxyInvocationHandler.java:73)




	at org.jboss.cdi.tck.interceptors.tests.contract.lifecycleCallback.Cat$$$view2.foo(Unknown Source)




	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)




	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)




	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)




	at java.lang.reflect.Method.invoke(Method.java:483)




	at org.jboss.weld.util.reflection.Reflections.invokeAndUnwrap(Reflections.java:436)




	at org.jboss.weld.bean.proxy.EnterpriseBeanProxyMethodHandler.invoke(EnterpriseBeanProxyMethodHandler.java:127)




	at org.jboss.weld.bean.proxy.EnterpriseTargetBeanInstance.invoke(EnterpriseTargetBeanInstance.java:56)




	at org.jboss.weld.bean.proxy.ProxyMethodHandler.invoke(ProxyMethodHandler.java:100)




	at org.jboss.cdi.tck.interceptors.tests.contract.lifecycleCallback.Cat$Proxy$_$$_Weld$EnterpriseProxy$.foo(Unknown Source)




	at org.jboss.cdi.tck.interceptors.tests.contract.lifecycleCallback.LifecycleCallbackInterceptorTest.createAndDestroyInstance(LifecycleCallbackInterceptorTest.java:87)




	at org.jboss.cdi.tck.interceptors.tests.contract.lifecycleCallback.LifecycleCallbackInterceptorTest.testLifecycleCallbackInterceptorTransactionContext(LifecycleCallbackInterceptorTest.java:137)





</description>
			<version>10.0.0.Beta2</version>
			<fixedVersion>10.0.0.CR1</fixedVersion>
			<type>Bug</type>
		</buginformation>
		<fixedFiles>
			<file type="M">org.jboss.as.test.integration.ejb.view.basic.BusinessViewAnnotationProcessorTestCase.java</file>
			<file type="M">org.jboss.as.test.integration.ejb.view.basic.ImplicitNoInterfaceBean.java</file>
			<file type="M">org.jboss.as.ejb3.component.session.SessionBeanComponentDescription.java</file>
		</fixedFiles>
	</bug>
	<bug id="5203" opendate="2015-08-26 00:10:04" fixdate="2015-08-28 02:44:36" resolution="Done">
		<buginformation>
			<summary>mod_cluster read-resource can result in NPE if service is not started yet</summary>
			<description></description>
			<version>10.0.0.Beta2</version>
			<fixedVersion>10.0.0.CR1</fixedVersion>
			<type>Bug</type>
		</buginformation>
		<fixedFiles>
			<file type="M">org.wildfly.extension.undertow.filters.ModClusterResource.java</file>
		</fixedFiles>
	</bug>
	<bug id="5215" opendate="2015-08-26 14:50:42" fixdate="2015-08-28 03:13:22" resolution="Done">
		<buginformation>
			<summary>[Migration operation] [Web to Undertow] Scheme attribute of ajp connector is not migrated</summary>
			<description>Scheme attribute of AJP connector is not migrated.
Web AJP configuration






&amp;lt;connector name="ajp" protocol="AJP/1.3" scheme="http" socket-binding="ajp"/&amp;gt;






should be migrated to






&amp;lt;ajp-listener name="ajp" socket-binding="ajp" scheme="http"/&amp;gt;





</description>
			<version>10.0.0.Beta2</version>
			<fixedVersion>10.0.0.CR1</fixedVersion>
			<type>Bug</type>
		</buginformation>
		<fixedFiles>
			<file type="M">org.jboss.as.web.WebMigrateOperation.java</file>
		</fixedFiles>
		<links>
			<link type="Cloners" description="cloned from">884</link>
		</links>
	</bug>
	<bug id="5086" opendate="2015-08-12 10:49:49" fixdate="2015-08-28 08:30:54" resolution="Done">
		<buginformation>
			<summary>[Migration operation] HA configuration is not migrated</summary>
			<description>HA configuration is not migrated.
For example:






                &amp;lt;shared-store&amp;gt;true&amp;lt;/shared-store&amp;gt;






does not have equivalent config in in migrated configuration.
Customer with HA configuration for HornetQ will not have this configuration after migration.</description>
			<version>10.0.0.Alpha6</version>
			<fixedVersion>10.0.0.CR1</fixedVersion>
			<type>Bug</type>
		</buginformation>
		<fixedFiles>
			<file type="M">org.jboss.as.messaging.test.MigrateTestCase.java</file>
			<file type="M">org.jboss.as.messaging.logging.MessagingLogger.java</file>
			<file type="M">org.jboss.as.messaging.MigrateOperation.java</file>
		</fixedFiles>
		<links>
			<link type="Cloners" description="cloned from">643</link>
		</links>
	</bug>
	<bug id="5143" opendate="2015-08-20 12:29:04" fixdate="2015-08-28 22:51:31" resolution="Done">
		<buginformation>
			<summary>JGroups subsystem parser should not allow thread pool to be defined per protocol</summary>
			<description>In this case, the parser does not match the schemas.  There are 3 issues here:

Thread pool elements should only be parsed for schema version &amp;gt;= 3.0
Thread pool elements are only valid children of a &amp;lt;transport/&amp;gt; element, but are currently accepted as children of a &amp;lt;protocol/&amp;gt; element.
We should always create thread pool resources, even if xml is undefined - that way the thread pool parameters, as applied to the runtime, are expressed in the model.

</description>
			<version>10.0.0.Beta1</version>
			<fixedVersion>10.0.0.CR1</fixedVersion>
			<type>Bug</type>
		</buginformation>
		<fixedFiles>
			<file type="M">org.jboss.as.clustering.jgroups.subsystem.JGroupsSubsystemXMLReader.java</file>
			<file type="M">org.jboss.as.clustering.jgroups.subsystem.SubsystemParsingTestCase.java</file>
			<file type="M">org.jboss.as.clustering.jgroups.subsystem.ThreadPoolResourceDefinition.java</file>
			<file type="M">org.jboss.as.clustering.jgroups.subsystem.JGroupsSubsystemXMLWriter.java</file>
		</fixedFiles>
	</bug>
	<bug id="5123" opendate="2015-08-18 08:28:03" fixdate="2015-08-28 22:56:18" resolution="Done">
		<buginformation>
			<summary>Execution error: org.infinispan.util.concurrent.TimeoutException: Timed out waiting for topology</summary>
			<description>Seen regularly in basically every failover test (no matter what failover type/cache used). 
Setup: 4 node cluster, one node at time is shutdown, while standalone clients keep calling the application.
After failing one node(failover type: jvmkill/shutdown/undeploy) - perf20 in this case, perf21 logged the following error message:






[JBossINF] [0m[31m12:57:35,029 ERROR [org.infinispan.interceptors.InvocationContextInterceptor] (transport-thread--p7-t10) ISPN000136: Execution error: org.infinispan.util.concurrent.TimeoutException: Timed out waiting for topology 20




[JBossINF] 	at org.infinispan.statetransfer.StateTransferLockImpl.waitForTransactionData(StateTransferLockImpl.java:92)




[JBossINF] 	at org.infinispan.interceptors.base.BaseStateTransferInterceptor.waitForTransactionData(BaseStateTransferInterceptor.java:96)




[JBossINF] 	at org.infinispan.statetransfer.StateTransferInterceptor.handleTxWriteCommand(StateTransferInterceptor.java:274)




[JBossINF] 	at org.infinispan.statetransfer.StateTransferInterceptor.handleWriteCommand(StateTransferInterceptor.java:243)




[JBossINF] 	at org.infinispan.statetransfer.StateTransferInterceptor.visitRemoveCommand(StateTransferInterceptor.java:119)




[JBossINF] 	at org.infinispan.commands.write.RemoveCommand.acceptVisitor(RemoveCommand.java:58)




[JBossINF] 	at org.infinispan.interceptors.base.CommandInterceptor.invokeNextInterceptor(CommandInterceptor.java:97)




[JBossINF] 	at org.infinispan.interceptors.CacheMgmtInterceptor.visitRemoveCommand(CacheMgmtInterceptor.java:209)




[JBossINF] 	at org.infinispan.commands.write.RemoveCommand.acceptVisitor(RemoveCommand.java:58)




[JBossINF] 	at org.infinispan.interceptors.base.CommandInterceptor.invokeNextInterceptor(CommandInterceptor.java:97)




[JBossINF] 	at org.infinispan.interceptors.InvocationContextInterceptor.handleAll(InvocationContextInterceptor.java:102)




[JBossINF] 	at org.infinispan.interceptors.InvocationContextInterceptor.handleDefault(InvocationContextInterceptor.java:71)




[JBossINF] 	at org.infinispan.commands.AbstractVisitor.visitRemoveCommand(AbstractVisitor.java:49)




[JBossINF] 	at org.infinispan.commands.write.RemoveCommand.acceptVisitor(RemoveCommand.java:58)




[JBossINF] 	at org.infinispan.interceptors.InterceptorChain.invoke(InterceptorChain.java:336)




[JBossINF] 	at org.infinispan.cache.impl.CacheImpl.executeCommandAndCommitIfNeeded(CacheImpl.java:1613)




[JBossINF] 	at org.infinispan.cache.impl.CacheImpl.removeInternal(CacheImpl.java:579)




[JBossINF] 	at org.infinispan.cache.impl.CacheImpl.remove(CacheImpl.java:572)




[JBossINF] 	at org.infinispan.cache.impl.DecoratedCache.remove(DecoratedCache.java:442)




[JBossINF] 	at org.infinispan.cache.impl.AbstractDelegatingCache.remove(AbstractDelegatingCache.java:297)




[JBossINF] 	at org.wildfly.clustering.server.registry.CacheRegistry.topologyChanged(CacheRegistry.java:152)




[JBossINF] 	at sun.reflect.GeneratedMethodAccessor20.invoke(Unknown Source)




[JBossINF] 	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)




[JBossINF] 	at java.lang.reflect.Method.invoke(Method.java:497)




[JBossINF] 	at org.infinispan.notifications.impl.AbstractListenerImpl$ListenerInvocationImpl$1.run(AbstractListenerImpl.java:286)




[JBossINF] 	at org.infinispan.util.concurrent.WithinThreadExecutor.execute(WithinThreadExecutor.java:22)




[JBossINF] 	at org.infinispan.notifications.impl.AbstractListenerImpl$ListenerInvocationImpl.invoke(AbstractListenerImpl.java:309)




[JBossINF] 	at org.infinispan.notifications.cachelistener.CacheNotifierImpl$BaseCacheEntryListenerInvocation.doRealInvocation(CacheNotifierImpl.java:1212)




[JBossINF] 	at org.infinispan.notifications.cachelistener.CacheNotifierImpl$BaseCacheEntryListenerInvocation.invoke(CacheNotifierImpl.java:1170)




[JBossINF] 	at org.infinispan.notifications.cachelistener.CacheNotifierImpl$BaseCacheEntryListenerInvocation.invoke(CacheNotifierImpl.java:1135)




[JBossINF] 	at org.infinispan.notifications.cachelistener.CacheNotifierImpl.notifyTopologyChanged(CacheNotifierImpl.java:590)




[JBossINF] 	at org.infinispan.statetransfer.StateTransferManagerImpl.doTopologyUpdate(StateTransferManagerImpl.java:203)




[JBossINF] 	at org.infinispan.statetransfer.StateTransferManagerImpl.access$000(StateTransferManagerImpl.java:47)




[JBossINF] 	at org.infinispan.statetransfer.StateTransferManagerImpl$1.updateConsistentHash(StateTransferManagerImpl.java:115)




[JBossINF] 	at org.infinispan.topology.LocalTopologyManagerImpl.doHandleTopologyUpdate(LocalTopologyManagerImpl.java:282)




[JBossINF] 	at org.infinispan.topology.LocalTopologyManagerImpl$1.run(LocalTopologyManagerImpl.java:217)




[JBossINF] 	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)




[JBossINF] 	at java.util.concurrent.FutureTask.run(FutureTask.java:266)




[JBossINF] 	at org.infinispan.executors.SemaphoreCompletionService$QueueingTask.runInternal(SemaphoreCompletionService.java:173)




[JBossINF] 	at org.infinispan.executors.SemaphoreCompletionService$QueueingTask.run(SemaphoreCompletionService.java:151)




[JBossINF] 	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)




[JBossINF] 	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)




[JBossINF] 	at java.lang.Thread.run(Thread.java:745)




[JBossINF] 






Server log:
http://jenkins.mw.lab.eng.bos.redhat.com/hudson/job/eap-7x-failover-ejb-ejbremote-shutdown-dist-async/3/console-perf21/
This error sometimes occur just before the server shuts down, as can be seen here:
http://jenkins.mw.lab.eng.bos.redhat.com/hudson/job/eap-7x-failover-ejb-ejbremote-shutdown-dist-async/3/console-perf19/
See also: JBEAP-505#comment-13098103
This issue is also related to: WFLY-4697#comment-13083024</description>
			<version>10.0.0.Alpha6</version>
			<fixedVersion>10.0.0.CR1</fixedVersion>
			<type>Bug</type>
		</buginformation>
		<fixedFiles>
			<file type="M">org.wildfly.clustering.server.registry.CacheRegistryFactoryBuilder.java</file>
			<file type="M">org.wildfly.clustering.server.logging.ClusteringServerLogger.java</file>
			<file type="M">org.wildfly.clustering.server.registry.CacheRegistryFactoryConfiguration.java</file>
			<file type="M">org.wildfly.clustering.server.registry.CacheRegistry.java</file>
		</fixedFiles>
		<links>
			<link type="Cloners" description="cloned from">735</link>
		</links>
	</bug>
	<bug id="5204" opendate="2015-08-26 00:11:05" fixdate="2015-08-31 01:21:15" resolution="Done">
		<buginformation>
			<summary>Setting mod_cluster advertise frequency to zero does not disable advertise</summary>
			<description></description>
			<version>10.0.0.Beta2</version>
			<fixedVersion>10.0.0.CR1</fixedVersion>
			<type>Bug</type>
		</buginformation>
		<fixedFiles>
			<file type="M">org.wildfly.extension.undertow.filters.ModClusterService.java</file>
		</fixedFiles>
	</bug>
	<bug id="5084" opendate="2015-08-12 10:47:43" fixdate="2015-09-01 07:48:22" resolution="Done">
		<buginformation>
			<summary>[Migration operation] group-address/group-port/local-bind-address in discovery-group are not migrated</summary>
			<description>During migration of discovery group with local-bind-address, group-address and group-port, those parameters are not migrated properly:
For example HornetQ configuration:






&amp;lt;discovery-group name="groupC"&amp;gt;




                &amp;lt;local-bind-address&amp;gt;localhost&amp;lt;/local-bind-address&amp;gt;




                &amp;lt;group-address&amp;gt;224.0.1.105&amp;lt;/group-address&amp;gt;




                &amp;lt;group-port&amp;gt;45678&amp;lt;/group-port&amp;gt;




                &amp;lt;refresh-timeout&amp;gt;${refresh.timeout:3500}&amp;lt;/refresh-timeout&amp;gt;




                &amp;lt;initial-wait-timeout&amp;gt;${initial.wait.timeout:7500}&amp;lt;/initial-wait-timeout&amp;gt;




            &amp;lt;/discovery-group&amp;gt;






is migrated to Artemis like:






                &amp;lt;discovery-group name="groupC" initial-wait-timeout="${initial.wait.timeout:7500}" refresh-timeout="${refresh.timeout:3500}"/&amp;gt;





</description>
			<version>10.0.0.Alpha6</version>
			<fixedVersion>10.0.0.CR1</fixedVersion>
			<type>Bug</type>
		</buginformation>
		<fixedFiles>
			<file type="M">org.jboss.as.messaging.test.MigrateTestCase.java</file>
			<file type="M">org.jboss.as.messaging.logging.MessagingLogger.java</file>
			<file type="M">org.jboss.as.messaging.MigrateOperation.java</file>
		</fixedFiles>
		<links>
			<link type="Cloners" description="cloned from">637</link>
		</links>
	</bug>
	<bug id="5188" opendate="2015-08-24 14:49:59" fixdate="2015-09-02 02:09:24" resolution="Done">
		<buginformation>
			<summary>DistributedWorkManager needs to handle unknown fork responses.</summary>
			<description>The JGroupsTransport employed by the DistributedWorkManager uses synchronous multicasting via the RpcDispatcher.  Since the JCA default configuration was modified to use fork channels, we need to ensure that it handles an exception case specific for fork channels, i.e. the case where a message is received by a node on which no such DWM exists.
As I see it, there are 2 ways we can fix this:

Configure the RpcDispatcher with a custom response marshaller capable of recognizing unknown fork responses
Implement a transport that leverages CommandDispatcher, which already handles this exception case.

#1 is the easiest.  The only hiccup is that the RpcDispatcher field in JGroupsTransport is private, which requires reflection to access from a subclass.
#2 is probably the ideal long term solution.  The DistributedWorkManager already employs a command pattern, so using CommandDispatcher is a natural fit.  Using the CommandDispatcher will also simplifies marshalling/unmarshalling of the transport parameters.  Additionally, using the public clustering API allows us to remove the direct dependency on org.jgroups module from the connector subsystems.  The only hiccup here is that in order to optimize the marshalling of the command objects, requires the use of the marshalling API introduced as part of WFLY-5091, which, at the time of this writing, has not yet been merged into WF master.
Given the above, I suggest a 2 phase solution, where we implement #1 for now, and #2 when the missing pieces are in place.</description>
			<version>10.0.0.Beta2</version>
			<fixedVersion>10.0.0.CR1</fixedVersion>
			<type>Bug</type>
		</buginformation>
		<fixedFiles>
			<file type="M">org.jboss.as.connector.subsystems.jca.DistributedWorkManagerAdd.java</file>
			<file type="M">org.jboss.as.connector.services.workmanager.DistributedWorkManagerService.java</file>
		</fixedFiles>
		<links>
			<link type="Dependency" description="is blocked by">5191</link>
			<link type="Related" description="relates to">1289</link>
		</links>
	</bug>
	<bug id="5091" opendate="2015-08-12 14:10:47" fixdate="2015-09-02 02:15:22" resolution="Done">
		<buginformation>
			<summary>User supplied externalizers are ignored by web/ejb clustering code</summary>
			<description>Several users were surprised to find that their custom Infinispan externalizers are not used when marshalling of objects placed in the web session or used as fields in their SFSB.  Without this functionality, users cannot use non-serializable objects in their web session or SFSB.
There are a few reasons why this does not currently work:

The cache in which user objects is placed does not scan the application classloader for externalizers.
In both the web and ejb case, user objects are stored within a MarshalledValue - the serialization of which is done by JBoss Marshalling directly, not via Infinispan&amp;amp;apos;s marshaller.
Neither the org.infinispan.commons (containing org.infinispan.commons.marshall.AdvancedExternalizer) nor org.jboss.marshalling (containing org.jboss.marshalling.Externalizer) modules are exported to the application classpath.

Clearly, we need a common, public mechanism that bridges these two APIs so that users can register custom externalizers without needing to know the specific marshalling framework to which to adhere.</description>
			<version>10.0.0.Beta1</version>
			<fixedVersion>10.0.0.CR1</fixedVersion>
			<type>Bug</type>
		</buginformation>
		<fixedFiles>
			<file type="M">org.wildfly.clustering.ejb.infinispan.group.InfinispanBeanGroupEntryExternalizer.java</file>
			<file type="M">org.jboss.as.clustering.infinispan.subsystem.GlobalConfigurationBuilder.java</file>
			<file type="D">org.wildfly.clustering.marshalling.SimpleMarshalledValueFactoryTestCase.java</file>
			<file type="M">org.wildfly.clustering.ejb.infinispan.ClientMappingExternalizer.java</file>
			<file type="D">org.wildfly.clustering.marshalling.HashableMarshalledValueFactoryTestCase.java</file>
			<file type="D">org.wildfly.clustering.web.infinispan.session.SessionAttributeMarshallingContext.java</file>
			<file type="M">org.wildfly.clustering.web.infinispan.sso.coarse.CoarseAuthenticationEntry.java</file>
			<file type="M">org.wildfly.clustering.web.infinispan.session.SimpleSessionMetaDataExternalizer.java</file>
			<file type="M">org.jboss.as.ejb3.component.stateful.SerializableEJBProxyWithEJBClientContextIdentifier.java</file>
			<file type="M">org.wildfly.clustering.web.infinispan.session.fine.FineSessionFactory.java</file>
			<file type="D">org.wildfly.clustering.infinispan.spi.io.SimpleMarshalledValueExternalizer.java</file>
			<file type="M">org.wildfly.clustering.web.infinispan.session.coarse.CoarseSessionCacheEntryExternalizer.java</file>
			<file type="D">org.wildfly.clustering.marshalling.HashableMarshalledValueFactory.java</file>
			<file type="M">org.wildfly.clustering.web.infinispan.session.coarse.CoarseSessionFactory.java</file>
			<file type="M">org.wildfly.clustering.ejb.infinispan.group.InfinispanBeanGroupEntry.java</file>
			<file type="D">org.wildfly.clustering.marshalling.ClassTableContributor.java</file>
			<file type="M">org.wildfly.clustering.web.undertow.session.DistributableSession.java</file>
			<file type="M">org.wildfly.clustering.web.infinispan.session.fine.FineSessionCacheEntryExternalizer.java</file>
			<file type="D">org.wildfly.clustering.marshalling.MarshalledValueMarshaller.java</file>
			<file type="M">org.wildfly.clustering.ejb.infinispan.InfinispanBeanManagerFactoryConfiguration.java</file>
			<file type="M">org.jboss.as.ejb3.component.stateful.EJBClientContextIdentifierObjectTable.java</file>
			<file type="M">org.wildfly.clustering.server.dispatcher.CommandResponseMarshaller.java</file>
			<file type="D">org.wildfly.clustering.marshalling.MarshallingContextFactory.java</file>
			<file type="D">org.wildfly.clustering.marshalling.SimpleMarshalledValue.java</file>
			<file type="M">org.wildfly.clustering.server.singleton.SingletonClassTableContributor.java</file>
			<file type="D">org.wildfly.clustering.marshalling.SimpleClassTable.java</file>
			<file type="M">org.wildfly.clustering.ejb.infinispan.InfinispanBeanManagerFactoryBuilder.java</file>
			<file type="M">org.wildfly.clustering.server.dispatcher.ChannelCommandDispatcherFactoryConfiguration.java</file>
			<file type="D">org.wildfly.clustering.infinispan.spi.io.SimpleExternalizer.java</file>
			<file type="D">org.wildfly.clustering.infinispan.spi.io.ServiceNameExternalizer.java</file>
			<file type="D">org.wildfly.clustering.marshalling.HashableMarshalledValue.java</file>
			<file type="M">org.wildfly.clustering.ejb.infinispan.bean.InfinispanBeanKeyExternalizer.java</file>
			<file type="D">org.wildfly.clustering.marshalling.MarshalledValue.java</file>
			<file type="M">org.wildfly.clustering.web.infinispan.session.fine.SessionAttributeCacheKeyExternalizer.java</file>
			<file type="D">org.wildfly.clustering.infinispan.spi.io.AbstractSimpleExternalizer.java</file>
			<file type="D">org.wildfly.clustering.marshalling.MarshalledValueFactory.java</file>
			<file type="M">org.wildfly.clustering.server.dispatcher.ChannelCommandDispatcherFactoryBuilder.java</file>
			<file type="M">org.wildfly.clustering.ejb.infinispan.SessionIDExternalizer.java</file>
			<file type="D">org.wildfly.clustering.marshalling.DynamicClassTable.java</file>
			<file type="D">org.wildfly.clustering.marshalling.SimpleMarshallingContextFactory.java</file>
			<file type="M">org.wildfly.clustering.web.infinispan.sso.coarse.CoarseAuthenticationEntryExternalizer.java</file>
			<file type="M">org.jboss.as.clustering.infinispan.deployment.ClusteringDependencyProcessor.java</file>
			<file type="M">org.wildfly.clustering.server.dispatcher.ChannelCommandDispatcherFactory.java</file>
			<file type="M">org.jboss.as.ejb3.deployment.processors.CacheDependenciesProcessor.java</file>
			<file type="M">org.wildfly.clustering.web.infinispan.session.InfinispanSessionManagerFactory.java</file>
			<file type="M">org.wildfly.clustering.server.dispatcher.CommandDispatcherClassTableContributor.java</file>
			<file type="D">org.wildfly.clustering.marshalling.SimpleMarshallingContext.java</file>
			<file type="D">org.wildfly.clustering.marshalling.VersionedMarshallingConfiguration.java</file>
			<file type="D">org.wildfly.clustering.infinispan.spi.io.HashableMarshalledValueExternalizer.java</file>
			<file type="D">org.wildfly.clustering.marshalling.MarshallingContext.java</file>
			<file type="D">org.jboss.as.ejb3.component.stateful.VersionedMarshallingConfigurationService.java</file>
			<file type="M">org.wildfly.clustering.ejb.infinispan.InfinispanBeanManagerFactory.java</file>
			<file type="M">org.wildfly.clustering.web.infinispan.session.coarse.SessionAttributesCacheKeyExternalizer.java</file>
			<file type="M">org.wildfly.clustering.ejb.infinispan.group.InfinispanBeanGroupFactory.java</file>
			<file type="M">org.wildfly.clustering.web.infinispan.sso.InfinispanSSOManagerFactory.java</file>
			<file type="M">org.wildfly.clustering.server.provider.ServiceProviderRegistryClassTableContributor.java</file>
			<file type="M">org.wildfly.clustering.web.infinispan.sso.coarse.CoarseSessionsKeyExternalizer.java</file>
			<file type="D">org.wildfly.clustering.infinispan.spi.io.ExternalizableExternalizer.java</file>
			<file type="M">org.wildfly.clustering.web.infinispan.session.fine.FineImmutableSessionAttributes.java</file>
			<file type="M">org.wildfly.clustering.ejb.infinispan.group.InfinispanBeanGroup.java</file>
			<file type="M">org.wildfly.clustering.server.group.AddressableNodeExternalizer.java</file>
			<file type="M">org.wildfly.clustering.web.infinispan.session.coarse.CoarseSessionAttributes.java</file>
			<file type="M">org.jboss.as.ejb3.component.stateful.StatefulSessionBeanClassTable.java</file>
			<file type="D">org.wildfly.clustering.marshalling.InvalidSerializedFormException.java</file>
			<file type="M">org.wildfly.clustering.ejb.infinispan.group.InfinispanBeanGroupTestCase.java</file>
			<file type="M">org.wildfly.clustering.ejb.infinispan.BeanGroupEntry.java</file>
			<file type="D">org.wildfly.clustering.infinispan.spi.io.UUIDExternalizer.java</file>
			<file type="M">org.wildfly.clustering.ejb.infinispan.bean.InfinispanBeanEntryExternalizer.java</file>
			<file type="D">org.wildfly.clustering.marshalling.Marshaller.java</file>
			<file type="D">org.wildfly.clustering.marshalling.SimpleMarshalledValueFactory.java</file>
			<file type="M">org.wildfly.clustering.web.infinispan.session.fine.FineSessionAttributes.java</file>
			<file type="M">org.wildfly.clustering.web.infinispan.sso.coarse.CoarseSSOFactory.java</file>
			<file type="D">org.wildfly.clustering.web.infinispan.sso.AuthenticationMarshallingContext.java</file>
		</fixedFiles>
	</bug>
	<bug id="5231" opendate="2015-08-28 14:00:19" fixdate="2015-09-02 05:48:12" resolution="Done">
		<buginformation>
			<summary>[Migration operation] [Web to Undertow] Web - access-log and its directory attributes are not migrated</summary>
			<description>When migrating access-log via :migrate and access-log contains directory definition, the properties relative-to and path are not migrated.
Web subsystem snippet:






&amp;lt;subsystem xmlns="urn:jboss:domain:web:2.2" default-virtual-server="default" native="false"&amp;gt;




    &amp;lt;virtual-server name="default" enable-welcome-root="true"&amp;gt;




        &amp;lt;alias name="localhost"/&amp;gt;




        &amp;lt;alias name="example.com"/&amp;gt;




        &amp;lt;access-log resolve-hosts="true" prefix="test" rotate="false"&amp;gt;




            &amp;lt;directory relative-to="jboss.server.log.dir" path="testvs/vs"/&amp;gt;




        &amp;lt;/access-log&amp;gt;




    &amp;lt;/virtual-server&amp;gt;




&amp;lt;/subsystem&amp;gt;






access log part expected to be migrated as 






&amp;lt;access-log rotate="false" prefix="test" directory="testvs/vs" relative-to="jboss.server.log.dir" /&amp;gt;






instead it is migrated without the directory and relative-to attributes:
&amp;lt;access-log rotate="false" prefix="test"/&amp;gt;
</description>
			<version>10.0.0.Beta2</version>
			<fixedVersion>10.0.0.CR1</fixedVersion>
			<type>Bug</type>
		</buginformation>
		<fixedFiles>
			<file type="M">org.jboss.as.web.test.WebMigrateTestCase.java</file>
			<file type="M">org.jboss.as.web.WebMigrateOperation.java</file>
		</fixedFiles>
		<links>
			<link type="Cloners" description="cloned from">935</link>
		</links>
	</bug>
	<bug id="5199" opendate="2015-08-25 14:34:54" fixdate="2015-09-02 05:55:01" resolution="Done">
		<buginformation>
			<summary>On MariaDB 5.3+ and MySQL 5.6.4+, EJB timers in a JDBC storage don&amp;apos;t work correctly due to timestamp rounding</summary>
			<description>EJB timers don&amp;amp;apos;t execute, because the DatabaseTimerPersistence.shouldRun method returns false for them, because it is unable to SELECT them from the database using a java.sql.Timestamp.
On MariaDB 5.3+ and MySQL 5.6.4+, the behavior of the DATETIME type has changed compared to MySQL 5.5 and older.
In previous versions, it was possible to insert into DATETIME columns with JDBC using a java.sql.Timestamp which contained fractional seconds, the fraction was truncated/rounded and a subsequent SELECT statement with the same java.sql.Timestamp returned such rows, because the fraction was truncated/rounded from the queried Timestamp too.
On MySQL 5.6.4+ and MariaDB 5.3+, when a java.sql.Timestamp including a fractional second is inserted into a DATETIME, attempting to SELECT with the same Timestamp doesn&amp;amp;apos;t return the row, because the DATETIME type now defaults to DATETIME(0) which truncates/rounds to whole seconds, and the queried Timestamp no longer gets truncated/rounded during the query execution. It would only work if the column was declared as DATETIME(6), which ensures that inserted values don&amp;amp;apos;t get truncated/rounded. Documentation: https://dev.mysql.com/doc/refman/5.7/en/fractional-seconds.html
MySQL rounds the timestamp, MariaDB truncates it (always rounds down).
However, declaring DATETIME(6) is not possible in older versions of MySQL or MariaDB, so to support both new and old versions, we have probably these options:
1. introduce a new DDL file(s) for MySQL 5.6.4+ and MariaDB 5.3+ and use it depending on the detected version - this DDL would use DATETIME(6) instead of DATETIME
2. change the DatabaseTimerPersistence implementation so that it will not insert fractional seconds into the database at all (EJB timers don&amp;amp;apos;t support timing with higher precision than whole seconds anyway)
3. same as option 2, but only for MariaDB/MySQL dialects 
4. any other idea?
I personally like number 3 the best, it is the least risky and introduces only minimal changes.. but it&amp;amp;apos;s still somewhat ugly.
This seems to resolve it for me (implementation suggestion of option 3): https://github.com/jmartisk/wildfly/commits/mysql-mariadb-timer-suggestion</description>
			<version>10.0.0.Beta2</version>
			<fixedVersion>10.0.0.CR1</fixedVersion>
			<type>Bug</type>
		</buginformation>
		<fixedFiles>
			<file type="M">org.jboss.as.ejb3.timerservice.persistence.database.DatabaseTimerPersistence.java</file>
		</fixedFiles>
		<links>
			<link type="Cloners" description="cloned from">859</link>
		</links>
	</bug>
	<bug id="5260" opendate="2015-09-02 09:38:03" fixdate="2015-09-03 07:32:25" resolution="Done">
		<buginformation>
			<summary>Cannot inject TransactionSynchronizationRegistry into CDI bean</summary>
			<description>It&amp;amp;apos;s not possible to inject TransactionSynchronizationRegistry to CDI bean as follows:






@ApplicationScoped




public class CdiBean {









    @Resource




    TransactionSynchronizationRegistry transactionSynchronizationRegistry;




}






This results to:






java.lang.IllegalArgumentException: WFLYWELD0049: Error injecting resource into CDI managed bean. Can&amp;amp;apos;t find a resource named java:comp/env/org.jboss.as.test.integration.weld.jta.CdiBean/transactionSynchronizationRegistry defined on javax.transaction.TransactionSynchronizationRegistry org.jboss.as.test.integration.weld.jta.CdiBean.transactionSynchronizationRegistry




	at org.jboss.as.naming.ServiceBasedNamingStore.lookup(ServiceBasedNamingStore.java:106)




	at org.jboss.as.naming.NamingContext.lookup(NamingContext.java:207)




	at org.jboss.as.naming.NamingContext.lookup(NamingContext.java:184)




	at org.jboss.as.naming.InitialContext$DefaultInitialContext.lookup(InitialContext.java:237)




	at org.jboss.as.naming.NamingContext.lookup(NamingContext.java:193)




	at org.jboss.as.naming.NamingContext.lookup(NamingContext.java:189)




	at javax.naming.InitialContext.lookup(InitialContext.java:417)




	at javax.naming.InitialContext.lookup(InitialContext.java:417)




	at org.jboss.as.weld.services.bootstrap.WeldResourceInjectionServices.resolveResource(WeldResourceInjectionServices.java:210)




	at org.jboss.as.weld.services.bootstrap.WeldResourceInjectionServices$1.createResource(WeldResourceInjectionServices.java:158)




	at org.jboss.weld.injection.AbstractResourceInjection.getResourceReference(AbstractResourceInjection.java:44)




	at org.jboss.weld.injection.AbstractResourceInjection.injectResourceReference(AbstractResourceInjection.java:53)




	at org.jboss.weld.util.Beans.injectEEFields(Beans.java:351)




	at org.jboss.weld.injection.producer.ResourceInjector$1.proceed(ResourceInjector.java:69)




	at org.jboss.weld.injection.InjectionContextImpl.run(InjectionContextImpl.java:48)




	at org.jboss.weld.injection.producer.ResourceInjector.inject(ResourceInjector.java:72)




	at org.jboss.weld.injection.producer.BasicInjectionTarget.inject(BasicInjectionTarget.java:121)




	at org.jboss.weld.bean.ManagedBean.create(ManagedBean.java:159)




	at org.jboss.weld.context.AbstractContext.get(AbstractContext.java:96)




	at org.jboss.weld.bean.ContextualInstanceStrategy$DefaultContextualInstanceStrategy.get(ContextualInstanceStrategy.java:101)




	at org.jboss.weld.bean.ContextualInstanceStrategy$ApplicationScopedContextualInstanceStrategy.get(ContextualInstanceStrategy.java:141)




	at org.jboss.weld.bean.ContextualInstance.get(ContextualInstance.java:50)




	at org.jboss.weld.bean.proxy.ContextBeanInstance.getInstance(ContextBeanInstance.java:99)




	at org.jboss.weld.bean.proxy.ProxyMethodHandler.getInstance(ProxyMethodHandler.java:125)




	at org.jboss.as.test.integration.weld.jta.CdiBean$Proxy$_$$_WeldClientProxy.isTransactionSynchronizationRegistryInjected(Unknown Source)




	at org.jboss.as.test.integration.weld.jta.TransactionSynchronizationRegistryInjectionTestCase.testTransactionSynchronizationRegistryIsInjected(TransactionSynchronizationRegistryInjectionTestCase.java:30)





</description>
			<version>10.0.0.Beta2</version>
			<fixedVersion>10.0.0.CR1</fixedVersion>
			<type>Bug</type>
		</buginformation>
		<fixedFiles>
			<file type="M">org.jboss.as.weld.services.bootstrap.WeldResourceInjectionServices.java</file>
		</fixedFiles>
	</bug>
	<bug id="4308" opendate="2015-02-03 13:56:44" fixdate="2015-09-03 09:56:39" resolution="Done">
		<buginformation>
			<summary>Proxies created via ContextService.createContextualProxy(...) are not Serializable</summary>
			<description>Setting priority to critical since, I believe, this is a matter of compliance with the concurrency utilities specification.
Section 3.3.4 of the specification states that:
"All invocation handlers for the contextual proxy implementation must implement java.io.Serializable."
While the invocation handler of the generated proxy does indeed implement Serializable, it contains a reference to org.jboss.as.server.moduleservice.ServiceModuleLoader (among others), which is not serializable, thus attempts to serialize the proxies generated via ContextService.createContextualProxy(...) via JBoss Marshalling throw a org.infinispan.commons.marshall.NotSerializableException: org.jboss.as.server.moduleservice.ServiceModuleLoader</description>
			<version>9.0.0.Alpha1</version>
			<fixedVersion>10.0.0.CR1</fixedVersion>
			<type>Bug</type>
		</buginformation>
		<fixedFiles>
			<file type="M">org.jboss.as.test.integration.ee.concurrent.DefaultContextServiceServletTestCase.java</file>
			<file type="M">org.jboss.as.security.service.SimpleSecurityManagerService.java</file>
			<file type="M">org.jboss.as.security.SecuritySubsystemRootResourceDefinition.java</file>
			<file type="M">org.jboss.as.security.service.JaasConfigurationService.java</file>
			<file type="M">org.jboss.as.security.service.SecurityManagementService.java</file>
			<file type="M">org.jboss.as.test.integration.ee.concurrent.DefaultContextServiceTestServlet.java</file>
			<file type="M">org.jboss.as.test.integration.ee.concurrent.TestServletRunnable.java</file>
		</fixedFiles>
		<links>
			<link type="Dependency" description="is blocked by">902</link>
		</links>
	</bug>
	<bug id="5283" opendate="2015-09-04 14:25:01" fixdate="2015-09-06 10:16:40" resolution="Done">
		<buginformation>
			<summary>[Migration operation] [Web to Undertow] Connector&amp;apos;s protocol names via FQCN are not recognized as migratable</summary>
			<description>In Web subsystem there is possible to define protocol either via its API name (e.g. HTTP/1.1, where it is taken default implementation of given API) or via FQCN.
In case of HTTP/1.1 there are several implementations:
JIO =&amp;gt; org.apache.coyote.http11.Http11Protocol - default protocol
NIO2 =&amp;gt; org.apache.coyote.http11.Http11NioProtocol - required to be used to be able to use WebSockets
APR (default with natives) =&amp;gt; org.apache.coyote.http11.Http11AprProtocol
The :migrate operation should also recognize these FQCN as valid HTTP/HTTPS protocols and migrate them correctly.
Note: in case of AJP there are these FQCN:
org.apache.coyote.ajp.AjpAprProtocol - AJP with natives enabled
org.apache.coyote.ajp.AjpProtocol AJP without natives</description>
			<version>10.0.0.Beta2</version>
			<fixedVersion>10.0.0.CR1</fixedVersion>
			<type>Bug</type>
		</buginformation>
		<fixedFiles>
			<file type="M">org.jboss.as.web.WebMigrateOperation.java</file>
		</fixedFiles>
		<links>
			<link type="Cloners" description="cloned from">1000</link>
		</links>
	</bug>
	<bug id="5280" opendate="2015-09-04 12:32:18" fixdate="2015-09-07 02:30:51" resolution="Done">
		<buginformation>
			<summary>Connector attribute max-save-post-size is neither migrated nor migration writing is shown</summary>
			<description>When migrating http connector, which has defined attribute max-save-post-size no warning that it is not possible to migrate the max-save-post-size is printed.</description>
			<version>10.0.0.Beta2</version>
			<fixedVersion>10.0.0.CR1</fixedVersion>
			<type>Bug</type>
		</buginformation>
		<fixedFiles>
			<file type="M">org.wildfly.extension.undertow.ListenerResourceDefinition.java</file>
			<file type="M">org.wildfly.extension.undertow.Constants.java</file>
			<file type="M">org.jboss.as.web.WebMigrateOperation.java</file>
		</fixedFiles>
		<links>
			<link type="Cloners" description="cloned from">997</link>
		</links>
	</bug>
	<bug id="5263" opendate="2015-07-27 14:53:48" fixdate="2015-09-07 09:18:47" resolution="Done">
		<buginformation>
			<summary>MBeanServer returns MBean names that do not match filter</summary>
			<description>This code






            MBeanServer server = ManagementFactory.getPlatformMBeanServer();




            for (ObjectName oname : server.queryNames(new ObjectName("*:type=context,*"), null)) {




                System.out.println(oname);




            }






gives 






16:51:25,842 INFO  [stdout] (pool-3-thread-1) org.apache.camel:context=swagger-test,type=context,name="swagger-test"




16:51:25,842 INFO  [stdout] (pool-3-thread-1) jboss.jsr77:j2eeType=J2EEServer,name=default




16:51:25,843 INFO  [stdout] (pool-3-thread-1) jboss.jsr77:j2eeType=JVM,name=default,J2EEServer=default




16:51:25,843 INFO  [stdout] (pool-3-thread-1) jboss.jsr77:j2eeType=J2EEDomain,name=jboss.jsr77





</description>
			<version>10.0.0.Beta2</version>
			<fixedVersion>10.0.0.CR1</fixedVersion>
			<type>Bug</type>
		</buginformation>
		<fixedFiles>
			<file type="M">org.jboss.as.jsr77.managedobject.ManagedObjectHandlerRegistry.java</file>
		</fixedFiles>
		<links>
			<link type="Related" description="is related to">2793</link>
		</links>
	</bug>
	<bug id="5078" opendate="2015-08-12 08:24:21" fixdate="2015-09-07 12:17:53" resolution="Done">
		<buginformation>
			<summary>Transaction subsystem attribute &amp;apos;hornetq-store-enable-async-io&amp;apos; should be renamed for journal</summary>
			<description>If hornetq/artemismq journal should be used for saving txn log then transaction subsystem defines if async io libraries (if available) should be used. By default the native libraries are not used and user needs to switch for it by setting it in xml or via cli.






/subsystem=transactions:write-attribute(name=hornetq-store-enable-async-io, value=true)






For EAP7 the hornetq is going to be replaced with ActiveMQ Artemis and so artemis object store will be used instead. The attribute name should be renamed appropriately.</description>
			<version>10.0.0.Beta1</version>
			<fixedVersion>10.0.0.CR1</fixedVersion>
			<type>Bug</type>
		</buginformation>
		<fixedFiles>
			<file type="M">org.jboss.as.txn.subsystem.TransactionSubsystemRootResourceDefinition.java</file>
			<file type="M">org.jboss.as.txn.subsystem.TransactionSubsystemAdd.java</file>
			<file type="M">org.jboss.as.txn.subsystem.TransactionSubsystem30Parser.java</file>
			<file type="M">org.jboss.as.txn.TransactionSubsystemTestCase.java</file>
			<file type="M">org.jboss.as.txn.subsystem.TransactionSubsystemXMLPersister.java</file>
			<file type="M">org.jboss.as.txn.logging.TransactionLogger.java</file>
			<file type="M">org.jboss.as.txn.subsystem.TransactionExtension.java</file>
			<file type="M">org.jboss.as.txn.subsystem.Element.java</file>
			<file type="M">org.jboss.as.txn.subsystem.TransactionSubsystem13Parser.java</file>
			<file type="M">org.jboss.as.txn.subsystem.TransactionSubsystem15Parser.java</file>
			<file type="M">org.jboss.as.txn.subsystem.CommonAttributes.java</file>
			<file type="M">org.jboss.as.test.integration.domain.ExpressionSupportSmokeTestCase.java</file>
			<file type="M">org.jboss.as.txn.subsystem.TransactionSubsystem12Parser.java</file>
			<file type="M">org.jboss.as.txn.service.ArjunaObjectStoreEnvironmentService.java</file>
			<file type="M">org.jboss.as.txn.subsystem.TransactionSubsystem14Parser.java</file>
		</fixedFiles>
		<links>
			<link type="Cloners" description="cloned from">647</link>
			<link type="Related" description="relates to">5100</link>
		</links>
	</bug>
	<bug id="5253" opendate="2015-09-01 14:46:30" fixdate="2015-09-09 01:10:36" resolution="Done">
		<buginformation>
			<summary>[Migration operation] [Web to Undertow] Protocol attribute in ssl configuration of https connector is not properly migrated</summary>
			<description>In Web protocol attribute of https ssl configuration is used for defining ssl protocols such as TLSv1.2. This attribute isn&amp;amp;apos;t properly migrated. Migrate operation defines enabled-protocols in https-listener based on Web&amp;amp;apos;s ssl-protocol which is incorrect as ssl-protocol in Web stands for name of custom ssl protocol provider.</description>
			<version>10.0.0.Beta2</version>
			<fixedVersion>10.0.0.CR1</fixedVersion>
			<type>Bug</type>
		</buginformation>
		<fixedFiles>
			<file type="M">org.jboss.as.web.WebMigrateOperation.java</file>
		</fixedFiles>
		<links>
			<link type="Cloners" description="cloned from">969</link>
		</links>
	</bug>
	<bug id="5242" opendate="2015-09-01 03:19:05" fixdate="2015-09-09 01:11:07" resolution="Done">
		<buginformation>
			<summary>Inconsistent format for IPv6 addresses in server log</summary>
			<description>Description of problem:
When IPv6 is used, square brackets for IPv6 addresses are missed in some of log entries. Specifically, the address format from Undertow logs is different from those "WFLYSRV" logs.
How reproducible:
Always
Steps to Reproduce:
1. Config IPv6 (example: https://docs.jboss.org/author/display/WFLY10/Interfaces+and+ports)
2. Start WildFly and check the log
Actual results:
----------------------------------------
2015-08-31 12:51:47,812 INFO  [org.wildfly.extension.undertow] (MSC service thread 1-4) WFLYUT0006: Undertow HTTP listener default listening on /0:0:0:0:0:0:0:1:8080
......
2015-08-31 12:51:48,431 INFO  [org.jboss.as] (Controller Boot Thread) WFLYSRV0060: Http management interface listening on http://[::1]:9993/management
2015-08-31 12:51:48,432 INFO  [org.jboss.as] (Controller Boot Thread) WFLYSRV0051: Admin console listening on http://[::1]:9993
----------------------------------------
In Undertow logs it&amp;amp;apos;s like "/0:0:0:0:0:0:0:1:8080" but in WildFly server logs "http://[::1]:9993/management"
Expected results:
Consistent format should be used for IPv6 address across different components and the address is enclosed in square brackets [ ].</description>
			<version>10.0.0.Beta2</version>
			<fixedVersion>10.0.0.CR1</fixedVersion>
			<type>Bug</type>
		</buginformation>
		<fixedFiles>
			<file type="M">org.wildfly.extension.undertow.HttpsListenerService.java</file>
			<file type="M">org.wildfly.extension.undertow.AjpListenerService.java</file>
			<file type="M">org.wildfly.extension.undertow.logging.UndertowLogger.java</file>
			<file type="M">org.wildfly.extension.undertow.HttpListenerService.java</file>
		</fixedFiles>
	</bug>
	<bug id="5308" opendate="2015-09-09 12:40:34" fixdate="2015-09-12 16:07:40" resolution="Done">
		<buginformation>
			<summary> Failed to start service due to IllegalStateException: Duplicate key during application deployment </summary>
			<description>EAP 7.0.0.DR9
Scenario: failover-ejb-ejbremote-undeploy-dist-async
During application deployment (after failover), perf20 logged this error:






[JBossINF] [0m[0m15:36:10,604 INFO  [org.jboss.as.clustering.infinispan] (ServerService Thread Pool -- 85) WFLYCLINF0002: Started dist cache from ejb container




[JBossINF] [0m[0m15:36:10,608 INFO  [org.jboss.as.clustering.infinispan] (ServerService Thread Pool -- 86) WFLYCLINF0002: Started clusterbench-ee7.ear.clusterbench-ee7-web-default.war cache from web container




[JBossINF] [0m[0m15:36:10,611 INFO  [org.jboss.as.clustering.infinispan] (ServerService Thread Pool -- 84) WFLYCLINF0002: Started dist cache from web container




[JBossINF] [0m[0m15:36:10,612 INFO  [org.jboss.as.clustering.infinispan] (ServerService Thread Pool -- 87) WFLYCLINF0002: Started clusterbench-ee7.ear.clusterbench-ee7-web-passivating.war cache from web container




[JBossINF] [0m[31m15:36:10,613 ERROR [org.jboss.msc.service.fail] (MSC service thread 1-4) MSC000001: Failed to start service jboss.ejb.remoting.connector.client-mappings.installer: org.jboss.msc.service.StartException in service jboss.ejb.remoting.connector.client-mappings.installer: Failed to start service




[JBossINF] 	at org.jboss.msc.service.ServiceControllerImpl$StartTask.run(ServiceControllerImpl.java:1904)




[JBossINF] 	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)




[JBossINF] 	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)




[JBossINF] 	at java.lang.Thread.run(Thread.java:745)




[JBossINF] Caused by: java.lang.IllegalStateException: Duplicate key [org.jboss.as.network.ClientMapping@44b990d8]




[JBossINF] 	at java.util.stream.Collectors.lambda$throwingMerger$152(Collectors.java:133)




[JBossINF] 	at java.util.stream.Collectors$$Lambda$58/796953906.apply(Unknown Source)




[JBossINF] 	at java.util.HashMap.merge(HashMap.java:1245)




[JBossINF] 	at java.util.stream.Collectors.lambda$toMap$210(Collectors.java:1320)




[JBossINF] 	at java.util.stream.Collectors$$Lambda$60/415494469.accept(Unknown Source)




[JBossINF] 	at java.util.stream.ReduceOps$3ReducingSink.accept(ReduceOps.java:169)




[JBossINF] 	at java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:193)




[JBossINF] 	at java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:175)




[JBossINF] 	at java.util.Iterator.forEachRemaining(Iterator.java:116)




[JBossINF] 	at org.infinispan.stream.impl.spliterators.IteratorAsSpliterator.forEachRemaining(IteratorAsSpliterator.java:150)




[JBossINF] 	at java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:512)




[JBossINF] 	at java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:502)




[JBossINF] 	at java.util.stream.ReduceOps$ReduceOp.evaluateSequential(ReduceOps.java:708)




[JBossINF] 	at java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:234)




[JBossINF] 	at java.util.stream.ReferencePipeline.collect(ReferencePipeline.java:499)




[JBossINF] 	at org.infinispan.stream.impl.local.AbstractLocalCacheStream.collect(AbstractLocalCacheStream.java:256)




[JBossINF] 	at org.infinispan.stream.impl.TerminalFunctions$CollectorFunction.apply(TerminalFunctions.java:1035)




[JBossINF] 	at org.infinispan.stream.impl.TerminalFunctions$CollectorFunction.apply(TerminalFunctions.java:1025)




[JBossINF] 	at org.infinispan.stream.impl.termop.SegmentRetryingOperation.innerPerformOperation(SegmentRetryingOperation.java:68)




[JBossINF] 	at org.infinispan.stream.impl.termop.SegmentRetryingOperation.performOperation(SegmentRetryingOperation.java:79)




[JBossINF] 	at org.infinispan.stream.impl.AbstractCacheStream.performOperationRehashAware(AbstractCacheStream.java:306)




[JBossINF] 	at org.infinispan.stream.impl.AbstractCacheStream.performOperation(AbstractCacheStream.java:252)




[JBossINF] 	at org.infinispan.stream.impl.DistributedCacheStream.collect(DistributedCacheStream.java:324)




[JBossINF] 	at org.wildfly.clustering.server.registry.CacheRegistry.getEntries(CacheRegistry.java:110)




[JBossINF] 	at org.jboss.as.ejb3.remote.LocalEjbReceiver.registryAdded(LocalEjbReceiver.java:447)




[JBossINF] 	at org.jboss.as.ejb3.remote.RegistryCollectorService.add(RegistryCollectorService.java:54)




[JBossINF] 	at org.jboss.as.ejb3.remote.RegistryInstallerService.start(RegistryInstallerService.java:60)




[JBossINF] 	at org.jboss.msc.service.ServiceControllerImpl$StartTask.startService(ServiceControllerImpl.java:1948)




[JBossINF] 	at org.jboss.msc.service.ServiceControllerImpl$StartTask.run(ServiceControllerImpl.java:1881)




[JBossINF] 	... 3 more




[JBossINF] 




[JBossINF] [0m[31m15:36:10,625 ERROR [org.jboss.as.controller.management-operation] (management-handler-thread - 2) WFLYCTL0013: Operation ("deploy") failed - address: ([("deployment" =&amp;gt; "clusterbench-ee7.ear")]) - failure description: {"WFLYCTL0180: Services with missing/unavailable dependencies" =&amp;gt; [




[JBossINF]     "jboss.deployment.subunit.\"clusterbench-ee7.ear\".\"clusterbench-ee7-ejb.jar\".component.LocalStatefulSB.START is missing [jboss.deployment.subunit.\"clusterbench-ee7.ear\".\"clusterbench-ee7-ejb.jar\".component.LocalStatefulSB.cache]",




[JBossINF]     "jboss.deployment.subunit.\"clusterbench-ee7.ear\".\"clusterbench-ee7-ejb.jar\".component.RemoteStatefulSBImpl.START is missing [jboss.deployment.subunit.\"clusterbench-ee7.ear\".\"clusterbench-ee7-ejb.jar\".component.RemoteStatefulSBImpl.cache]"




[JBossINF] ]}




[JBossINF] [0m[31m15:36:10,627 ERROR [org.jboss.as.server] (management-handler-thread - 2) WFLYSRV0021: Deploy of deployment "clusterbench-ee7.ear" was rolled back with the following failure message: 




[JBossINF] {"WFLYCTL0180: Services with missing/unavailable dependencies" =&amp;gt; [




[JBossINF]     "jboss.deployment.subunit.\"clusterbench-ee7.ear\".\"clusterbench-ee7-ejb.jar\".component.LocalStatefulSB.START is missing [jboss.deployment.subunit.\"clusterbench-ee7.ear\".\"clusterbench-ee7-ejb.jar\".component.LocalStatefulSB.cache]",




[JBossINF]     "jboss.deployment.subunit.\"clusterbench-ee7.ear\".\"clusterbench-ee7-ejb.jar\".component.RemoteStatefulSBImpl.START is missing [jboss.deployment.subunit.\"clusterbench-ee7.ear\".\"clusterbench-ee7-ejb.jar\".component.RemoteStatefulSBImpl.cache]"




[JBossINF] ]}






Which ends up with WFLYSRV0021: Deploy of deployment "clusterbench-ee7.ear" was rolled back.
In this very same testrun, there was another issue with application deployment on perf18, may be related: JBEAP-1041 
Server log:
http://jenkins.mw.lab.eng.bos.redhat.com/hudson/job/eap-7x-failover-ejb-ejbremote-undeploy-dist-async/5/console-perf20/</description>
			<version>10.0.0.Beta1</version>
			<fixedVersion>10.0.0.CR1</fixedVersion>
			<type>Bug</type>
		</buginformation>
		<fixedFiles>
			<file type="M">org.wildfly.clustering.server.registry.CacheRegistry.java</file>
		</fixedFiles>
		<links>
			<link type="Cloners" description="cloned from">1043</link>
		</links>
	</bug>
	<bug id="5298" opendate="2015-09-08 21:35:01" fixdate="2015-09-14 02:20:36" resolution="Done">
		<buginformation>
			<summary>JASPIC verifyResponse is not called if proactive authentication is not in use</summary>
			<description></description>
			<version>10.0.0.Beta2</version>
			<fixedVersion>10.0.0.CR1</fixedVersion>
			<type>Bug</type>
		</buginformation>
		<fixedFiles>
			<file type="M">org.wildfly.extension.undertow.deployment.UndertowDeploymentInfoService.java</file>
			<file type="M">org.wildfly.extension.undertow.security.jaspi.JASPIAuthenticationMechanism.java</file>
			<file type="M">org.wildfly.extension.undertow.security.jaspi.modules.HTTPSchemeServerAuthModule.java</file>
		</fixedFiles>
	</bug>
	<bug id="5153" opendate="2015-08-21 08:07:22" fixdate="2015-09-14 12:48:35" resolution="Done">
		<buginformation>
			<summary>IIOP migrate operation does not translate ior-settings</summary>
			<description>Ior-settings is not migrated in current time despite the fact that their values seem to be valid for migration.
If I have JacORB configuration like






&amp;lt;subsystem xmlns="urn:jboss:domain:jacorb:1.4"&amp;gt;




    &amp;lt;orb socket-binding="jacorb" ssl-socket-binding="jacorb-ssl"&amp;gt;




        &amp;lt;initializers security="identity" transactions="on"/&amp;gt;




    &amp;lt;/orb&amp;gt;




    &amp;lt;security client-requires="ServerAuth" server-supports="ServerAuth" server-requires="ServerAuth"/&amp;gt;




    &amp;lt;ior-settings&amp;gt;




        &amp;lt;transport-config integrity="required" confidentiality="supported" trust-in-client="required" trust-in-target="supported" "




            detect-replay="required" detect-misordering="required"/&amp;gt;




        &amp;lt;as-context auth-method="none"/&amp;gt;




        &amp;lt;sas-context caller-propagation="supported"/&amp;gt;




    &amp;lt;/ior-settings&amp;gt;




&amp;lt;/subsystem&amp;gt;






The migration output will be 






        &amp;lt;subsystem xmlns="urn:jboss:domain:iiop-openjdk:1.0"&amp;gt;




            &amp;lt;orb ssl-socket-binding="jacorb-ssl" socket-binding="jacorb"/&amp;gt;




            &amp;lt;initializers transactions="full" security="identity"/&amp;gt;




            &amp;lt;security server-requires="ServerAuth" server-supports="ServerAuth" client-requires="ServerAuth"/&amp;gt;




        &amp;lt;/subsystem&amp;gt;






but I would rather expect output like






&amp;lt;subsystem xmlns="urn:jboss:domain:iiop-openjdk:1.0"&amp;gt;




    &amp;lt;orb ssl-socket-binding="jacorb-ssl" socket-binding="jacorb"/&amp;gt;




    &amp;lt;initializers transactions="full" security="identity"/&amp;gt;




    &amp;lt;security server-requires="ServerAuth" server-supports="ServerAuth" client-requires="ServerAuth" client-supports="ServerAuth"/&amp;gt;




    &amp;lt;transport-config detect-misordering="required" detect-replay="required" trust-in-client="required" trust-in-target="supported" confidentiality="supported" integrity="required"/&amp;gt;




    &amp;lt;as-context auth-method="none"/&amp;gt;




&amp;lt;/subsystem&amp;gt;





</description>
			<version>10.0.0.Beta1</version>
			<fixedVersion>10.0.0.CR1</fixedVersion>
			<type>Bug</type>
		</buginformation>
		<fixedFiles>
			<file type="M">org.jboss.as.jacorb.TransformUtils.java</file>
			<file type="M">org.jboss.as.jacorb.JacORBMigrateTestCase.java</file>
			<file type="M">org.jboss.as.jacorb.JacORBSubsystemAdd.java</file>
		</fixedFiles>
		<links>
			<link type="Cloners" description="cloned from">789</link>
		</links>
	</bug>
	<bug id="5340" opendate="2015-09-14 16:58:20" fixdate="2015-09-15 17:01:23" resolution="Done">
		<buginformation>
			<summary>Unable to specify module when specifying custom JACC policy class.</summary>
			<description>It is currently possible to specify the &amp;amp;apos;javax.security.jacc.policy.provider&amp;amp;apos; system property, however it is not possible to specify a module.
From the JACC specification: -
_For each JRE of a J2EE 1.4 or later version Java EE application server, if the 
system property 
javax.security.jacc.policy.provider
 is defined, 
the application server must construct an 
instance of the class identified by the 
system property, confirm that the 
resulting object is an instance of 
java.security.Policy, 
and set, by calling the 
java.security.Policy.setPolicy
 method, the resulting object as the 
corresponding Policy object u
sed by the JRE. _
The specification only specifies that the system property identifies the class, it does not specify how.  
In it&amp;amp;apos;s simplest form we should assume this is just a class name, in a more complex form we should allow the module to be specified.</description>
			<version>10.0.0.Beta2</version>
			<fixedVersion>10.0.0.CR1</fixedVersion>
			<type>Bug</type>
		</buginformation>
		<fixedFiles>
			<file type="M">org.jboss.as.security.service.SecurityActions.java</file>
			<file type="M">org.jboss.as.security.service.SecurityBootstrapService.java</file>
			<file type="M">org.jboss.as.security.service.JaccService.java</file>
		</fixedFiles>
	</bug>
	<bug id="5337" opendate="2015-09-14 14:29:30" fixdate="2015-09-15 18:27:23" resolution="Done">
		<buginformation>
			<summary>NPE when restarting Infinispan transport</summary>
			<description>This is actually due to a bug in Infinispan.  Infinispan&amp;amp;apos;s JGroupsTransport inappropriately sets its channel to null during stop(), even if a channel was provided to the constructor.






10:10:34,923 ERROR [org.jboss.msc.service.fail] (ServerService Thread Pool -- 71) MSC000001: Failed to start service jboss.infinispan.server.default: org.jboss.msc.service.StartException in service jboss.infinispan.server.default: org.infinispan.manager.EmbeddedCacheManagerStartupException: org.infinispan.commons.CacheException: Unable to invoke method public void org.infinispan.remoting.transport.jgroups.JGroupsTransport.start() on object of type ChannelTransport




	at org.wildfly.clustering.service.AsynchronousServiceBuilder$1.run(AsynchronousServiceBuilder.java:107)




	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)




	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)




	at java.lang.Thread.run(Thread.java:745)




	at org.jboss.threads.JBossThread.run(JBossThread.java:320)




Caused by: org.infinispan.manager.EmbeddedCacheManagerStartupException: org.infinispan.commons.CacheException: Unable to invoke method public void org.infinispan.remoting.transport.jgroups.JGroupsTransport.start() on object of type ChannelTransport




	at org.infinispan.factories.GlobalComponentRegistry.start(GlobalComponentRegistry.java:248)




	at org.infinispan.manager.DefaultCacheManager.wireAndStartCache(DefaultCacheManager.java:618)




	at org.infinispan.manager.DefaultCacheManager.createCache(DefaultCacheManager.java:580)




	at org.infinispan.manager.DefaultCacheManager.getCache(DefaultCacheManager.java:445)




	at org.infinispan.manager.DefaultCacheManager.getCache(DefaultCacheManager.java:464)




	at org.infinispan.manager.DefaultCacheManager.getCache(DefaultCacheManager.java:455)




	at org.jboss.as.clustering.infinispan.DefaultCacheContainer.getCache(DefaultCacheContainer.java:120)




	at org.jboss.as.clustering.infinispan.DefaultCacheContainer.getCache(DefaultCacheContainer.java:111)




	at org.wildfly.clustering.infinispan.spi.service.CacheBuilder.start(CacheBuilder.java:80)




	at org.wildfly.clustering.service.AsynchronousServiceBuilder$1.run(AsynchronousServiceBuilder.java:102)




	... 4 more




Caused by: org.infinispan.commons.CacheException: Unable to invoke method public void org.infinispan.remoting.transport.jgroups.JGroupsTransport.start() on object of type ChannelTransport




	at org.infinispan.commons.util.ReflectionUtil.invokeAccessibly(ReflectionUtil.java:172)




	at org.infinispan.factories.AbstractComponentRegistry$PrioritizedMethod.invoke(AbstractComponentRegistry.java:869)




	at org.infinispan.factories.AbstractComponentRegistry.invokeStartMethods(AbstractComponentRegistry.java:638)




	at org.infinispan.factories.AbstractComponentRegistry.internalStart(AbstractComponentRegistry.java:627)




	at org.infinispan.factories.AbstractComponentRegistry.start(AbstractComponentRegistry.java:530)




	at org.infinispan.factories.GlobalComponentRegistry.start(GlobalComponentRegistry.java:226)




	... 13 more




Caused by: java.lang.NullPointerException




	at org.jboss.as.clustering.infinispan.ChannelTransport.initChannel(ChannelTransport.java:84)




	at org.infinispan.remoting.transport.jgroups.JGroupsTransport.initChannelAndRPCDispatcher(JGroupsTransport.java:350)




	at org.infinispan.remoting.transport.jgroups.JGroupsTransport.start(JGroupsTransport.java:188)




	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)




	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)




	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)




	at java.lang.reflect.Method.invoke(Method.java:497)




	at org.infinispan.commons.util.ReflectionUtil.invokeAccessibly(ReflectionUtil.java:168)




	... 18 more





</description>
			<version>10.0.0.Beta2</version>
			<fixedVersion>10.0.0.CR1</fixedVersion>
			<type>Bug</type>
		</buginformation>
		<fixedFiles>
			<file type="M">org.jboss.as.clustering.infinispan.ChannelTransport.java</file>
		</fixedFiles>
	</bug>
	<bug id="5145" opendate="2015-08-20 13:07:20" fixdate="2015-09-15 21:04:32" resolution="Done">
		<buginformation>
			<summary>Jacorb subsystem does not contain operation "describe-migration"</summary>
			<description>As part of the migrate functionality for moving from JacORB to IIOP OpenJDK the old subsystem should contain operation describe-migration






/subsystem=jacorb:describe-migration()






for user gets information about following steps.
But JacORB subsystem does not contain any such operation






/subsystem=jacorb:read-operation-names()




{




    "outcome" =&amp;gt; "success",




    "result" =&amp;gt; [




        "add",




        "list-add",




        "list-clear",




        "list-get",




        "list-remove",




        "map-clear",




        "map-get",




        "map-put",




        "map-remove",




        "migrate",




        "query",




        "read-attribute",




        "read-attribute-group",




        "read-attribute-group-names",




        "read-children-names",




        "read-children-resources",




        "read-children-types",




        "read-operation-description",




        "read-operation-names",




        "read-resource",




        "read-resource-description",




        "remove",




        "undefine-attribute",




        "whoami",




        "write-attribute"




    ]




}





</description>
			<version>10.0.0.Beta1</version>
			<fixedVersion>10.0.0.CR1</fixedVersion>
			<type>Bug</type>
		</buginformation>
		<fixedFiles>
			<file type="M">org.jboss.as.jacorb.MigrateOperation.java</file>
			<file type="M">org.jboss.as.jacorb.TransformUtils.java</file>
			<file type="M">org.jboss.as.jacorb.JacORBSubsystemAdd.java</file>
			<file type="M">org.jboss.as.jacorb.TransformUtilsTestCase.java</file>
			<file type="M">org.jboss.as.jacorb.logging.JacORBLogger.java</file>
			<file type="M">org.jboss.as.jacorb.JacORBMigrateTestCase.java</file>
			<file type="M">org.jboss.as.jacorb.JacORBSubsystemConstants.java</file>
		</fixedFiles>
		<links>
			<link type="Cloners" description="cloned from">781</link>
		</links>
	</bug>
	<bug id="5323" opendate="2015-09-10 23:02:30" fixdate="2015-09-17 05:49:14" resolution="Done">
		<buginformation>
			<summary>Undertow&amp;apos;s session-id-length setting is ignored in clustered configurations </summary>
			<description></description>
			<version>10.0.0.Beta2</version>
			<fixedVersion>10.0.0.CR1</fixedVersion>
			<type>Bug</type>
		</buginformation>
		<fixedFiles>
			<file type="M">org.wildfly.clustering.web.undertow.sso.DistributableSingleSignOnManagerFactory.java</file>
			<file type="M">org.wildfly.clustering.web.undertow.IdentifierFactoryAdapterTestCase.java</file>
			<file type="M">org.wildfly.clustering.web.undertow.session.DistributableSessionManagerFactory.java</file>
			<file type="M">org.wildfly.clustering.web.undertow.IdentifierFactoryAdapter.java</file>
		</fixedFiles>
	</bug>
	<bug id="3290" opendate="2014-04-25 17:13:27" fixdate="2015-09-17 12:44:45" resolution="Done">
		<buginformation>
			<summary>Cannot use a cluster name other than "ejb"</summary>
			<description>When deploying a clustered session bean the cluster will form only if the cluster name is "ejb".   If the standalone-ha.xml is modified to use a different cluster name then the cluster will not form.</description>
			<version>8.0.0.Final</version>
			<fixedVersion>10.0.0.CR1</fixedVersion>
			<type>Bug</type>
		</buginformation>
		<fixedFiles>
			<file type="M">org.jboss.as.ejb3.subsystem.MdbDeliveryGroupResourceDefinition.java</file>
			<file type="M">org.jboss.as.ejb3.subsystem.EJB3RemoteResourceDefinition.java</file>
			<file type="M">org.jboss.as.ejb3.subsystem.EJB3SubsystemRootResourceDefinition.java</file>
			<file type="M">org.jboss.as.ejb3.subsystem.Ejb3SubsystemUnitTestCase.java</file>
			<file type="M">org.jboss.as.ejb3.remote.EJBRemotingConnectorClientMappingsEntryProviderService.java</file>
			<file type="M">org.jboss.as.ejb3.remote.RegistryInstallerService.java</file>
			<file type="M">org.jboss.as.ejb3.subsystem.EJB3RemoteServiceAdd.java</file>
			<file type="M">org.jboss.as.ejb3.subsystem.EJB3SubsystemModel.java</file>
			<file type="M">org.jboss.as.ejb3.subsystem.EJB3Extension.java</file>
			<file type="D">org.jboss.as.ejb3.subsystem.EJB3Subsystem31Parser.java</file>
			<file type="M">org.jboss.as.ejb3.subsystem.EJB3SubsystemXMLPersister.java</file>
			<file type="M">org.jboss.as.ejb3.subsystem.EJB3SubsystemXMLAttribute.java</file>
			<file type="M">org.jboss.as.ejb3.subsystem.EJB3SubsystemNamespace.java</file>
		</fixedFiles>
		<links>
			<link type="Dependency" description="blocks">4853</link>
		</links>
	</bug>
	<bug id="5363" opendate="2015-09-18 10:33:48" fixdate="2015-09-22 04:50:25" resolution="Done">
		<buginformation>
			<summary>[Migration operation] [Web to Undertow] Default value for access-log extended attribute differs</summary>
			<description>When migrating access-log without defined extended attribute results in undertow without defined extended attribute, but the default values differ causing that even though in Web subsystem extended format wasn&amp;amp;apos;t used, in Undertow it is expected logging to use extended format.
Ideally the defaults should be the same or the migrate operation needs to define the extended attribute to false if it wasn&amp;amp;apos;t defined in Web.</description>
			<version>10.0.0.CR1</version>
			<fixedVersion>10.0.0.CR2</fixedVersion>
			<type>Bug</type>
		</buginformation>
		<fixedFiles>
			<file type="M">org.wildfly.extension.undertow.AccessLogDefinition.java</file>
		</fixedFiles>
		<links>
			<link type="Cloners" description="cloned from">1107</link>
		</links>
	</bug>
	<bug id="5236" opendate="2015-08-30 23:40:18" fixdate="2015-09-23 01:08:08" resolution="Done">
		<buginformation>
			<summary>[Migration operation] [Web to Undertow] SSL configuration - verify client attribute value is not properly migrated</summary>
			<description>In web there exists different options for verify-client attribute of ssl configuration [1] than values which are allowed to be defined as part of https-listener (REQUIRED, REQUESTED, NOT_REQUESTED).
Currently the migration operation fails as the value isn&amp;amp;apos;t converted to equivalent value accepted by Undertow.
[1]






 &amp;lt;xs:attribute name="verify-client" default="none"&amp;gt;




            &amp;lt;xs:annotation&amp;gt;




                &amp;lt;xs:documentation&amp;gt;




                    that is OpenSSL SSLVerifyClient (optional,require,optionalNoCA,none) and clientAuth (true=require/false=none)




                &amp;lt;/xs:documentation&amp;gt;




            &amp;lt;/xs:annotation&amp;gt;




        &amp;lt;/xs:attribute&amp;gt;





</description>
			<version>10.0.0.Beta2</version>
			<fixedVersion>10.0.0.CR2</fixedVersion>
			<type>Bug</type>
		</buginformation>
		<fixedFiles>
			<file type="M">org.jboss.as.web.WebMigrateOperation.java</file>
			<file type="M">org.jboss.as.web.WebLogger.java</file>
			<file type="M">org.jboss.as.web.test.WebMigrateTestCase.java</file>
		</fixedFiles>
		<links>
			<link type="Cloners" description="cloned from">923</link>
		</links>
	</bug>
	<bug id="5359" opendate="2015-09-18 06:38:31" fixdate="2015-09-23 06:38:35" resolution="Done">
		<buginformation>
			<summary>[Migration operation] [Web to Undertow] Incorectly printed warning for unable to migrate resource in case of migrating ssl configuration</summary>
			<description>When migrating https connector with SSL configuration, the SSL configuration is migrated as part of the https connector migration. Still there is migration warning that :migrate operation isn&amp;amp;apos;t able to migrate the ssl configuration even though it was successfully migrated.</description>
			<version>10.0.0.CR1</version>
			<fixedVersion>10.0.0.CR2</fixedVersion>
			<type>Bug</type>
		</buginformation>
		<fixedFiles>
			<file type="M">org.jboss.as.web.WebMigrateOperation.java</file>
		</fixedFiles>
		<links>
			<link type="Cloners" description="cloned from">1101</link>
		</links>
	</bug>
	<bug id="5380" opendate="2015-09-22 10:11:08" fixdate="2015-09-23 07:51:53" resolution="Done">
		<buginformation>
			<summary>[Migration operation] Do not create legacy connection factory for connection factories with in-vm connector</summary>
			<description>If connection factory contains in-vm connector and legacy connection factory is created by migration operation then server won&amp;amp;apos;t start and fails with:






12:51:16,267 ERROR [org.jboss.msc.service.fail] (MSC service thread 1-1) MSC000001: Failed to start service jboss.messaging-activemq.default.jms.connection-factory.legacy.InVmConnectionFactory: org.jboss.msc.service.StartException in service jboss.messaging-activemq.default.jms.connection-factory.legacy.InVmConnectionFactory: WFLYMSGAMQ0082: Unsupported type of connector factory for legacy resource: java.lang.String




	at org.wildfly.extension.messaging.activemq.jms.legacy.LegacyConnectionFactoryService.translateFactoryClassName(LegacyConnectionFactoryService.java:311)




	at org.wildfly.extension.messaging.activemq.jms.legacy.LegacyConnectionFactoryService.translateTransportGroupConfigurations(LegacyConnectionFactoryService.java:294)




	at org.wildfly.extension.messaging.activemq.jms.legacy.LegacyConnectionFactoryService.start(LegacyConnectionFactoryService.java:183)




	at org.jboss.msc.service.ServiceControllerImpl$StartTask.startService(ServiceControllerImpl.java:1948) [jboss-msc-1.2.6.Final.jar:1.2.6.Final]




	at org.jboss.msc.service.ServiceControllerImpl$StartTask.run(ServiceControllerImpl.java:1881) [jboss-msc-1.2.6.Final.jar:1.2.6.Final]




	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142) [rt.jar:1.8.0_51]




	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617) [rt.jar:1.8.0_51]




	at java.lang.Thread.run(Thread.java:745) [rt.jar:1.8.0_51]






Configuration of connection factory and in-vm connector:






&amp;lt;in-vm-connector name="in-vm" server-id="${my.server-id:0}"/&amp;gt;




&amp;lt;legacy-connection-factory name="InVmConnectionFactory" connectors="in-vm" entries="${connection-factory.entries.entry:java:/ConnectionFactory}"/&amp;gt;






Problem seems to be that HornetQ connection factory does not accept Artemis InVMConnectorFactory class. 
As legacy connection factories with in-vm connector cannot be used by standalone JMS client (not serializable) then there is no reason to create them by migration operation.</description>
			<version>10.0.0.CR1</version>
			<fixedVersion>10.0.0.CR2</fixedVersion>
			<type>Bug</type>
		</buginformation>
		<fixedFiles>
			<file type="M">org.jboss.as.messaging.test.MigrateTestCase.java</file>
			<file type="M">org.jboss.as.messaging.logging.MessagingLogger.java</file>
			<file type="M">org.jboss.as.messaging.MigrateOperation.java</file>
		</fixedFiles>
		<links>
			<link type="Cloners" description="cloned from">1039</link>
		</links>
	</bug>
	<bug id="5370" opendate="2015-09-18 18:27:19" fixdate="2015-09-23 18:19:41" resolution="Done">
		<buginformation>
			<summary>NPE during undeploy due to asynchronous cache listeners</summary>
			<description>This issue lies outside the bounds of traditional clean shutdown, since the initiating events are driven by activity by other nodes, or asynchronous events driven by local node activity.  Essentially, we need a simple mechanism for blocking shutdown until active listeners complete.






[JBossINF] [0m[31m04:43:50,274 ERROR [org.infinispan.remoting.rpc.RpcManagerImpl] (transport-thread--p7-t21) ISPN000073: Unexpected error while replicating: java.lang.NullPointerException




[JBossINF] 	at org.infinispan.remoting.transport.jgroups.JGroupsTransport.invokeRemotelyAsync(JGroupsTransport.java:568)




[JBossINF] 	at org.infinispan.remoting.rpc.RpcManagerImpl.invokeRemotelyAsync(RpcManagerImpl.java:170)




[JBossINF] 	at org.infinispan.remoting.rpc.RpcManagerImpl.invokeRemotely(RpcManagerImpl.java:212)




[JBossINF] 	at org.infinispan.transaction.impl.AbstractEnlistmentAdapter.removeTransactionInfoRemotely(AbstractEnlistmentAdapter.java:93)




[JBossINF] 	at org.infinispan.transaction.impl.AbstractEnlistmentAdapter.releaseLocksForCompletedTransaction(AbstractEnlistmentAdapter.java:83)




[JBossINF] 	at org.infinispan.transaction.xa.TransactionXaAdapter.forgetSuccessfullyCompletedTransaction(TransactionXaAdapter.java:230)




[JBossINF] 	at org.infinispan.transaction.xa.TransactionXaAdapter.commit(TransactionXaAdapter.java:116)




[JBossINF] 	at org.infinispan.transaction.tm.DummyTransaction.finishResource(DummyTransaction.java:371)




[JBossINF] 	at org.infinispan.transaction.tm.DummyTransaction.commitResources(DummyTransaction.java:417)




[JBossINF] 	at org.infinispan.transaction.tm.DummyTransaction.runCommit(DummyTransaction.java:301)




[JBossINF] 	at org.infinispan.transaction.tm.DummyTransaction.commit(DummyTransaction.java:104)




[JBossINF] 	at org.infinispan.transaction.tm.DummyBaseTransactionManager.commit(DummyBaseTransactionManager.java:73)




[JBossINF] 	at org.wildfly.clustering.ee.infinispan.ActiveTransactionBatch.close(ActiveTransactionBatch.java:48)




[JBossINF] 	at org.wildfly.clustering.server.registry.CacheRegistry.topologyChanged(CacheRegistry.java:154)




[JBossINF] 	at sun.reflect.GeneratedMethodAccessor25.invoke(Unknown Source)




[JBossINF] 	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)




[JBossINF] 	at java.lang.reflect.Method.invoke(Method.java:497)




[JBossINF] 	at org.infinispan.notifications.impl.AbstractListenerImpl$ListenerInvocationImpl$1.run(AbstractListenerImpl.java:286)




[JBossINF] 	at org.infinispan.util.concurrent.WithinThreadExecutor.execute(WithinThreadExecutor.java:21)




[JBossINF] 	at org.infinispan.notifications.impl.AbstractListenerImpl$ListenerInvocationImpl.invoke(AbstractListenerImpl.java:309)




[JBossINF] 	at org.infinispan.notifications.cachelistener.CacheNotifierImpl$BaseCacheEntryListenerInvocation.doRealInvocation(CacheNotifierImpl.java:1185)




[JBossINF] 	at org.infinispan.notifications.cachelistener.CacheNotifierImpl$BaseCacheEntryListenerInvocation.invoke(CacheNotifierImpl.java:1143)




[JBossINF] 	at org.infinispan.notifications.cachelistener.CacheNotifierImpl$BaseCacheEntryListenerInvocation.invoke(CacheNotifierImpl.java:1108)




[JBossINF] 	at org.infinispan.notifications.cachelistener.CacheNotifierImpl.notifyTopologyChanged(CacheNotifierImpl.java:557)




[JBossINF] 	at org.infinispan.statetransfer.StateTransferManagerImpl.doTopologyUpdate(StateTransferManagerImpl.java:203)




[JBossINF] 	at org.infinispan.statetransfer.StateTransferManagerImpl.access$000(StateTransferManagerImpl.java:47)




[JBossINF] 	at org.infinispan.statetransfer.StateTransferManagerImpl$1.updateConsistentHash(StateTransferManagerImpl.java:115)




[JBossINF] 	at org.infinispan.topology.LocalTopologyManagerImpl.resetLocalTopologyBeforeRebalance(LocalTopologyManagerImpl.java:328)




[JBossINF] 	at org.infinispan.topology.LocalTopologyManagerImpl.doHandleRebalance(LocalTopologyManagerImpl.java:408)




[JBossINF] 	at org.infinispan.topology.LocalTopologyManagerImpl$3.run(LocalTopologyManagerImpl.java:377)




[JBossINF] 	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)




[JBossINF] 	at java.util.concurrent.FutureTask.run(FutureTask.java:266)




[JBossINF] 	at org.infinispan.executors.SemaphoreCompletionService$QueueingTask.runInternal(SemaphoreCompletionService.java:173)




[JBossINF] 	at org.infinispan.executors.SemaphoreCompletionService$QueueingTask.run(SemaphoreCompletionService.java:151)




[JBossINF] 	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)




[JBossINF] 	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)




[JBossINF] 	at java.lang.Thread.run(Thread.java:745)





</description>
			<version>10.0.0.CR1</version>
			<fixedVersion>10.0.0.CR2</fixedVersion>
			<type>Bug</type>
		</buginformation>
		<fixedFiles>
			<file type="M">org.wildfly.clustering.server.provider.CacheServiceProviderRegistry.java</file>
			<file type="M">org.wildfly.clustering.web.infinispan.session.InfinispanSessionManager.java</file>
			<file type="M">org.wildfly.clustering.server.registry.CacheRegistry.java</file>
			<file type="M">org.wildfly.clustering.server.dispatcher.CommandResponseMarshaller.java</file>
			<file type="M">org.wildfly.clustering.ejb.infinispan.InfinispanBeanManager.java</file>
			<file type="M">org.wildfly.clustering.server.group.CacheGroup.java</file>
		</fixedFiles>
	</bug>
	<bug id="5331" opendate="2015-09-14 09:25:19" fixdate="2015-09-23 18:22:47" resolution="Done">
		<buginformation>
			<summary>ConcurrentModificationException in InfinispanSessionManager.findListeners</summary>
			<description>Configuration - standalone-ha.xml:






            &amp;lt;cache-container name="web" default-cache="repl" module="org.wildfly.clustering.web.infinispan"&amp;gt;




                &amp;lt;transport lock-timeout="60000"/&amp;gt;




                &amp;lt;replicated-cache name="repl" mode="ASYNC"&amp;gt;




                    &amp;lt;locking isolation="READ_COMMITTED"/&amp;gt;




                    &amp;lt;transaction locking="OPTIMISTIC"/&amp;gt;




                    &amp;lt;file-store/&amp;gt;




                &amp;lt;/replicated-cache&amp;gt;




            &amp;lt;/cache-container&amp;gt;






After user is logged out, we invalidate session and show login page. Problem is, that sometimes server crashed with ConcurrentModificationException.






2015-09-10 08:55:24,571 ERROR [io.undertow.request] (default task-10) UT005023: Exception handling request to /blabla/login: java.util.ConcurrentModificationException




	at java.util.HashMap$HashIterator.nextNode(HashMap.java:1429)




	at java.util.HashMap$KeyIterator.next(HashMap.java:1453)




	at org.wildfly.clustering.web.infinispan.session.InfinispanSessionManager.findListeners(InfinispanSessionManager.java:400)




	at org.wildfly.clustering.web.infinispan.session.InfinispanSessionManager.triggerPostActivationEvents(InfinispanSessionManager.java:387)




	at org.wildfly.clustering.web.infinispan.session.InfinispanSessionManager.findSession(InfinispanSessionManager.java:245)




	at org.wildfly.clustering.web.undertow.session.DistributableSessionManager.getSession(DistributableSessionManager.java:115)




	at io.undertow.servlet.spec.ServletContextImpl.getSession(ServletContextImpl.java:723)




	at io.undertow.servlet.spec.ServletContextImpl.getSession(ServletContextImpl.java:753)




	at io.undertow.servlet.handlers.security.CachedAuthenticatedSessionHandler.handleRequest(CachedAuthenticatedSessionHandler.java:64)




	at io.undertow.security.handlers.NotificationReceiverHandler.handleRequest(NotificationReceiverHandler.java:50)




	at io.undertow.security.handlers.SecurityInitialHandler.handleRequest(SecurityInitialHandler.java:76)




	at io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43)




	at org.wildfly.extension.undertow.security.jacc.JACCContextIdHandler.handleRequest(JACCContextIdHandler.java:61)




	at io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43)




	at io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43)




	at io.undertow.servlet.handlers.ServletInitialHandler.handleFirstRequest(ServletInitialHandler.java:282)




	at io.undertow.servlet.handlers.ServletInitialHandler.dispatchRequest(ServletInitialHandler.java:261)




	at io.undertow.servlet.handlers.ServletInitialHandler.access$000(ServletInitialHandler.java:80)




	at io.undertow.servlet.handlers.ServletInitialHandler$1.handleRequest(ServletInitialHandler.java:172)




	at io.undertow.server.Connectors.executeRootHandler(Connectors.java:199)




	at io.undertow.server.HttpServerExchange$1.run(HttpServerExchange.java:774)




	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)




	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)




	at java.lang.Thread.run(Thread.java:745)









2015-09-10 08:55:24,574 ERROR [cz.blabla.portal.error.ErrorHelper] (default task-10) HTTP error code 500 -&amp;gt; redirecting to default ERROR PAGE. Cause: null: java.util.ConcurrentModificationException




	at java.util.HashMap$HashIterator.nextNode(HashMap.java:1429)




	at java.util.HashMap$KeyIterator.next(HashMap.java:1453)




	at org.wildfly.clustering.web.infinispan.session.InfinispanSessionManager.findListeners(InfinispanSessionManager.java:400)




	at org.wildfly.clustering.web.infinispan.session.InfinispanSessionManager.triggerPostActivationEvents(InfinispanSessionManager.java:387)




	at org.wildfly.clustering.web.infinispan.session.InfinispanSessionManager.findSession(InfinispanSessionManager.java:245)




	at org.wildfly.clustering.web.undertow.session.DistributableSessionManager.getSession(DistributableSessionManager.java:115)




	at io.undertow.servlet.spec.ServletContextImpl.getSession(ServletContextImpl.java:723)




	at io.undertow.servlet.spec.ServletContextImpl.getSession(ServletContextImpl.java:753)




	at io.undertow.servlet.handlers.security.CachedAuthenticatedSessionHandler.handleRequest(CachedAuthenticatedSessionHandler.java:64)




	at io.undertow.security.handlers.NotificationReceiverHandler.handleRequest(NotificationReceiverHandler.java:50)




	at io.undertow.security.handlers.SecurityInitialHandler.handleRequest(SecurityInitialHandler.java:76)






I think, that problem is in method InfinispanSessionManager.findListeners.
We have fix it with not very nice try - catch, maybe better way is to copy collection of names and iterate over it... I know it is not very nice and to be honest, I don&amp;amp;apos;t know if it is "right", but better then error page after logout .






    private static List&amp;lt;HttpSessionActivationListener&amp;gt; findListeners(ImmutableSession session) {




    	List&amp;lt;HttpSessionActivationListener&amp;gt; listeners = new ArrayList&amp;lt;&amp;gt;();        




        try {




	        ImmutableSessionAttributes attributes = session.getAttributes();




	        Set&amp;lt;String&amp;gt; names = attributes.getAttributeNames();




	        if (names != null &amp;amp;&amp;amp; !names.isEmpty()) {




			    for (String name: names) {




			        Object attribute = attributes.getAttribute(name);




			        if (attribute instanceof HttpSessionActivationListener) {




			            listeners.add((HttpSessionActivationListener) attribute);




			        }




			    }




	        }




        } catch (Exception e) {




        	InfinispanWebLogger.ROOT_LOGGER.tracef("No session attributes found.", e);




        }




        return listeners;




    }






</description>
			<version>9.0.1.Final</version>
			<fixedVersion>10.0.0.CR2</fixedVersion>
			<type>Bug</type>
		</buginformation>
		<fixedFiles>
			<file type="M">org.wildfly.clustering.marshalling.jboss.IndexExternalizerTestCase.java</file>
			<file type="M">org.wildfly.clustering.web.infinispan.session.coarse.CoarseSessionFactory.java</file>
			<file type="M">org.wildfly.clustering.web.infinispan.sso.coarse.CoarseSSOFactory.java</file>
		</fixedFiles>
	</bug>
	<bug id="5355" opendate="2015-09-16 18:45:13" fixdate="2015-09-23 20:31:19" resolution="Done">
		<buginformation>
			<summary>CacheServiceProviderRegistry close() not entirely thread-safe</summary>
			<description>CacheServiceProviderRegistry.close() first does a cache lookup of the nodes providing a service, then attempts to modify the resulting set.  However, if another node either creates or removes a new service provider registration for the same service, the resulting set of nodes can be inconsistent.</description>
			<version>10.0.0.Beta2</version>
			<fixedVersion>10.0.0.CR2</fixedVersion>
			<type>Bug</type>
		</buginformation>
		<fixedFiles>
			<file type="M">org.wildfly.clustering.server.provider.CacheServiceProviderRegistry.java</file>
		</fixedFiles>
	</bug>
	<bug id="5354" opendate="2015-09-16 18:40:51" fixdate="2015-09-23 20:31:28" resolution="Done">
		<buginformation>
			<summary>CacheServiceProviderRegistry creates unnecessary tx on new member join</summary>
			<description></description>
			<version>10.0.0.Beta2</version>
			<fixedVersion>10.0.0.CR2</fixedVersion>
			<type>Bug</type>
		</buginformation>
		<fixedFiles>
			<file type="M">org.wildfly.clustering.server.provider.CacheServiceProviderRegistry.java</file>
		</fixedFiles>
	</bug>
	<bug id="5372" opendate="2015-09-19 21:42:54" fixdate="2015-09-23 22:51:24" resolution="Done">
		<buginformation>
			<summary>Infinispan&amp;apos;s jdbc store creates incorrect service name for datasource dependency</summary>
			<description>fails with
23:36:38,116 ERROR [org.jboss.as.controller.management-operation] (Controller Boot Thread) WFLYCTL0013: Operation ("deploy") failed - address: ([("deployment" =&amp;gt; "clusterbench-ee7.ear")]) - failure description: {"WFLYCTL0288: One or more services were unable to start due to one or more indirect dependencies not being available." =&amp;gt; {
    "Services that were unable to start:" =&amp;gt; [
        "jboss.clustering.web.\"clusterbench-ee7.ear.clusterbench-ee7-web-default.war\"",
        "jboss.clustering.web.\"clusterbench-ee7.ear.clusterbench-ee7-web-passivating.war\"",
        "jboss.clustering.web.locator.\"clusterbench-ee7.ear.clusterbench-ee7-web-default.war\"",
        "jboss.clustering.web.locator.\"clusterbench-ee7.ear.clusterbench-ee7-web-passivating.war\"",
        "jboss.deployment.subunit.\"clusterbench-ee7.ear\".\"clusterbench-ee7-web-default.war\".deploymentCompleteService",
        "jboss.deployment.subunit.\"clusterbench-ee7.ear\".\"clusterbench-ee7-web-passivating.war\".deploymentCompleteService",
        "jboss.deployment.unit.\"clusterbench-ee7.ear\".deploymentCompleteService",
        "jboss.infinispan.web.\"clusterbench-ee7.ear.clusterbench-ee7-web-default.war\"",
        "jboss.infinispan.web.\"clusterbench-ee7.ear.clusterbench-ee7-web-default.war\".config",
        "jboss.infinispan.web.\"clusterbench-ee7.ear.clusterbench-ee7-web-passivating.war\"",
        "jboss.infinispan.web.\"clusterbench-ee7.ear.clusterbench-ee7-web-passivating.war\".config",
        "jboss.undertow.deployment.default-server.default-host./clusterbench",
        "jboss.undertow.deployment.default-server.default-host./clusterbench.UndertowDeploymentInfoService",
        "jboss.undertow.deployment.default-server.default-host./clusterbench.codec",
        "jboss.undertow.deployment.default-server.default-host./clusterbench.session",
        "jboss.undertow.deployment.default-server.default-host./clusterbench-passivating",
        "jboss.undertow.deployment.default-server.default-host./clusterbench-passivating.UndertowDeploymentInfoService",
        "jboss.undertow.deployment.default-server.default-host./clusterbench-passivating.codec",
        "jboss.undertow.deployment.default-server.default-host./clusterbench-passivating.session"
    ],
    "Services that may be the cause:" =&amp;gt; ["jboss.data-source.java:jboss/datasources/ExampleDS"]
}}
23:36:38,119 ERROR [org.jboss.as.controller.management-operation] (Controller Boot Thread) WFLYCTL0013: Operation ("add") failed - address: ([
    ("subsystem" =&amp;gt; "infinispan"),
    ("cache-container" =&amp;gt; "web")
]) - failure description: {"WFLYCTL0288: One or more services were unable to start due to one or more indirect dependencies not being available." =&amp;gt; 
{
    "Services that were unable to start:" =&amp;gt; [
        "jboss.clustering.registry.web.default",
        "jboss.infinispan.web.default.config"
    ],
    "Services that may be the cause:" =&amp;gt; ["jboss.data-source.java:jboss/datasources/ExampleDS"]
}
}</description>
			<version>10.0.0.CR1</version>
			<fixedVersion>10.0.0.CR2</fixedVersion>
			<type>Bug</type>
		</buginformation>
		<fixedFiles>
			<file type="M">org.jboss.as.clustering.jgroups.subsystem.JGroupsSubsystemInitialization.java</file>
			<file type="M">org.jboss.as.clustering.controller.RequiredCapability.java</file>
			<file type="M">org.jboss.as.clustering.infinispan.subsystem.MixedKeyedJDBCStoreResourceDefinition.java</file>
			<file type="M">org.jboss.as.clustering.infinispan.subsystem.XMLAttribute.java</file>
			<file type="M">org.jboss.as.clustering.infinispan.subsystem.InfinispanSubsystemXMLReader.java</file>
			<file type="M">org.jboss.as.clustering.infinispan.InfinispanLogger.java</file>
			<file type="M">org.jboss.as.clustering.infinispan.subsystem.BinaryKeyedJDBCStoreResourceDefinition.java</file>
			<file type="M">org.jboss.as.clustering.infinispan.subsystem.SubsystemParsingTestCase.java</file>
			<file type="M">org.jboss.as.clustering.infinispan.subsystem.OperationsTestCase.java</file>
			<file type="M">org.jboss.as.clustering.infinispan.subsystem.JDBCStoreBuilder.java</file>
			<file type="M">org.jboss.as.clustering.infinispan.subsystem.StringKeyedJDBCStoreResourceDefinition.java</file>
			<file type="M">org.jboss.as.clustering.infinispan.subsystem.JDBCStoreResourceDefinition.java</file>
			<file type="M">org.jboss.as.clustering.infinispan.subsystem.OperationTestCaseBase.java</file>
		</fixedFiles>
	</bug>
	<bug id="5384" opendate="2015-09-22 14:15:50" fixdate="2015-09-24 08:21:50" resolution="Done">
		<buginformation>
			<summary>Validate Artemis parameters </summary>
			<description>Artemis changed the naming convention to use CamelCase for its acceptor and connector parameters keys.
Validation of the parameters was discarded when the messaging-activemq subsystem was created.
This means that the current template for the messaging-activemq subsystem is not correct (the parameters will not be taken into account by Artemis).
The server-id parameter for in-vm connector has also be renamed to serverId. </description>
			<version>10.0.0.CR1</version>
			<fixedVersion>10.0.0.CR2</fixedVersion>
			<type>Bug</type>
		</buginformation>
		<fixedFiles>
			<file type="M">org.wildfly.extension.messaging.activemq.HTTPUpgradeService.java</file>
			<file type="M">org.wildfly.extension.messaging.activemq.MessagingSubsystemParser_1_0.java</file>
			<file type="M">org.wildfly.extension.messaging.activemq.HTTPConnectorDefinition.java</file>
			<file type="M">org.jboss.as.messaging.MigrateOperation.java</file>
			<file type="M">org.wildfly.extension.messaging.activemq.TransportConfigOperationHandlers.java</file>
		</fixedFiles>
		<links>
			<link type="Dependency" description="blocks">163</link>
		</links>
	</bug>
	<bug id="3659" opendate="2014-07-23 11:11:55" fixdate="2015-09-24 09:48:13" resolution="Done">
		<buginformation>
			<summary>DIGEST authentication method throws javax.security.auth.callback.UnsupportedCallbackException</summary>
			<description>Password encryption in database login module with wildfly digest login config throws javax.security.auth.callback.UnsupportedCallbackException. These are sources.






web.xml






&amp;lt;security-role&amp;gt;




      &amp;lt;role-name&amp;gt;administrator&amp;lt;/role-name&amp;gt;




&amp;lt;/security-role&amp;gt;









&amp;lt;login-config&amp;gt;




      &amp;lt;auth-method&amp;gt;DIGEST&amp;lt;/auth-method&amp;gt;




      &amp;lt;realm-name&amp;gt;WildFly8DigestRealm&amp;lt;/realm-name&amp;gt;




&amp;lt;/login-config&amp;gt;












jboss-web.xml






&amp;lt;jboss-web&amp;gt;




    &amp;lt;security-domain&amp;gt;java:/jaas/my_secure_domain&amp;lt;/security-domain&amp;gt;




&amp;lt;/jboss-web&amp;gt;












standalone.xml






&amp;lt;security-domain name="my_secure_domain" cache-type="default"&amp;gt;




     &amp;lt;authentication&amp;gt;




          &amp;lt;login-module code="Database" flag="required"&amp;gt;




               &amp;lt;module-option name="dsJndiName" value="java:jboss/datasources/MySqlDS"/&amp;gt;




               &amp;lt;module-option name="principalsQuery" value="select password from credential where uid=?"/&amp;gt;




               &amp;lt;module-option name="rolesQuery" value="select urole, &amp;amp;apos;Roles&amp;amp;apos; from credential where uid=?"/&amp;gt;




               &amp;lt;module-option name="hashAlgorithm" value="MD5"/&amp;gt;




               &amp;lt;module-option name="hashEncoding" value="RFC2617"/&amp;gt;




               &amp;lt;module-option name="hashUserPassword" value="false"/&amp;gt;




               &amp;lt;module-option name="hashStorePassword" value="true"/&amp;gt;




               &amp;lt;module-option name="passwordIsA1Hash" value="true"/&amp;gt;




               &amp;lt;module-option name="digestCallback" value="org.jboss.security.auth.callback.DigestCallbackHandler"/&amp;gt;




               &amp;lt;module-option name="storeDigestCallback" value="org.jboss.security.auth.callback.RFC2617Digest"/&amp;gt;




          &amp;lt;/login-module&amp;gt;




     &amp;lt;/authentication&amp;gt;




&amp;lt;/security-domain&amp;gt;






Password is encrypted with below codes






EncryptPassword.java






package com.aaa.encrypt;









import org.jboss.crypto.CryptoUtil;









public class EncryptPassword {









    public static void main(String[] args) {




        // TODO Auto-generated method stub




        String userName="admin"; 




        String realmName="WildFly8DigestRealm"; 




        String password="passwd123"; 









        String clearTextPassword=userName+":"+realmName+":"+password;  




        String hashedPassword=CryptoUtil.createPasswordHash("MD5", "RFC2617", null, null, clearTextPassword); 




        System.out.println("clearTextPassword: "+clearTextPassword); 




        System.out.println("hashedPassword: "+hashedPassword); 




    }




}






But login failed! The log shows the folowing exceptions :






2014-07-18 21:37:45,246 TRACE [org.jboss.security] (default task-3) PBOX000236: Begin initialize method




2014-07-18 21:37:45,246 DEBUG [org.jboss.security] (default task-3) PBOX000281: Password hashing activated, algorithm: MD5, encoding: RFC2617, charset: null, callback: org.jboss.security.auth.callback.DigestCallbackHandler, storeCallBack: org.jboss.security.auth.callback.RFC2617Digest




2014-07-18 21:37:45,247 TRACE [org.jboss.security] (default task-3) PBOX000262: Module options [dsJndiName: java:jboss/datasources/MySqlDS, principalsQuery: select password from credential where uid=?, rolesQuery: select urole, &amp;amp;apos;Roles&amp;amp;apos; from credential where uid=?, suspendResume: true]




2014-07-18 21:37:45,247 TRACE [org.jboss.security] (default task-3) PBOX000240: Begin login method




2014-07-18 21:37:45,249 TRACE [org.jboss.security] (default task-3) PBOX000263: Executing query select password from credential where uid=? with username admin




2014-07-18 21:37:45,251 TRACE [org.jboss.security] (default task-3) PBOX000284: Created DigestCallback org.jboss.security.auth.callback.RFC2617Digest




2014-07-18 21:37:45,252 TRACE [org.jboss.security] (default task-3) PBOX000244: Begin abort method




2014-07-18 21:37:45,252 DEBUG [org.jboss.security] (default task-3) PBOX000206: Login failure: javax.security.auth.login.LoginException: PBOX000055: Failed to invoke CallbackHandler




 at org.jboss.security.auth.spi.UsernamePasswordLoginModule.createPasswordHash(UsernamePasswordLoginModule.java:444) [picketbox-4.0.21.Beta1.jar:4.0.21.Beta1]




 at org.jboss.security.auth.spi.UsernamePasswordLoginModule.login(UsernamePasswordLoginModule.java:280) [picketbox-4.0.21.Beta1.jar:4.0.21.Beta1]




 at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) [rt.jar:1.7.0_60]




 at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:57) [rt.jar:1.7.0_60]




 at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) [rt.jar:1.7.0_60]




 at java.lang.reflect.Method.invoke(Method.java:606) [rt.jar:1.7.0_60]




 at javax.security.auth.login.LoginContext.invoke(LoginContext.java:762) [rt.jar:1.7.0_60]




 at javax.security.auth.login.LoginContext.access$000(LoginContext.java:203) [rt.jar:1.7.0_60]




 at javax.security.auth.login.LoginContext$4.run(LoginContext.java:690) [rt.jar:1.7.0_60]




 at javax.security.auth.login.LoginContext$4.run(LoginContext.java:688) [rt.jar:1.7.0_60]




 at java.security.AccessController.doPrivileged(Native Method) [rt.jar:1.7.0_60]




 at javax.security.auth.login.LoginContext.invokePriv(LoginContext.java:687) [rt.jar:1.7.0_60]




 at javax.security.auth.login.LoginContext.login(LoginContext.java:595) [rt.jar:1.7.0_60]




 at org.jboss.security.authentication.JBossCachedAuthenticationManager.defaultLogin(JBossCachedAuthenticationManager.java:408) [picketbox-infinispan-4.0.21.Beta1.jar:4.0.21.Beta1]




 at org.jboss.security.authentication.JBossCachedAuthenticationManager.proceedWithJaasLogin(JBossCachedAuthenticationManager.java:345) [picketbox-infinispan-4.0.21.Beta1.jar:4.0.21.Beta1]




 at org.jboss.security.authentication.JBossCachedAuthenticationManager.authenticate(JBossCachedAuthenticationManager.java:333) [picketbox-infinispan-4.0.21.Beta1.jar:4.0.21.Beta1]




 at org.jboss.security.authentication.JBossCachedAuthenticationManager.isValid(JBossCachedAuthenticationManager.java:146) [picketbox-infinispan-4.0.21.Beta1.jar:4.0.21.Beta1]




 at org.wildfly.extension.undertow.security.JAASIdentityManagerImpl.verifyCredential(JAASIdentityManagerImpl.java:111)




 at org.wildfly.extension.undertow.security.JAASIdentityManagerImpl.verify(JAASIdentityManagerImpl.java:77)




 at io.undertow.security.impl.DigestAuthenticationMechanism.handleDigestHeader(DigestAuthenticationMechanism.java:265) [undertow-core-1.0.15.Final.jar:1.0.15.Final]




 at io.undertow.security.impl.DigestAuthenticationMechanism.authenticate(DigestAuthenticationMechanism.java:149) [undertow-core-1.0.15.Final.jar:1.0.15.Final]




 at io.undertow.security.impl.SecurityContextImpl$AuthAttempter.transition(SecurityContextImpl.java:281) [undertow-core-1.0.15.Final.jar:1.0.15.Final]




 at io.undertow.security.impl.SecurityContextImpl$AuthAttempter.transition(SecurityContextImpl.java:298) [undertow-core-1.0.15.Final.jar:1.0.15.Final]




 at io.undertow.security.impl.SecurityContextImpl$AuthAttempter.access$100(SecurityContextImpl.java:268) [undertow-core-1.0.15.Final.jar:1.0.15.Final]




 at io.undertow.security.impl.SecurityContextImpl.attemptAuthentication(SecurityContextImpl.java:131) [undertow-core-1.0.15.Final.jar:1.0.15.Final]




 at io.undertow.security.impl.SecurityContextImpl.authTransition(SecurityContextImpl.java:106) [undertow-core-1.0.15.Final.jar:1.0.15.Final]




 at io.undertow.security.impl.SecurityContextImpl.authenticate(SecurityContextImpl.java:99) [undertow-core-1.0.15.Final.jar:1.0.15.Final]




 at io.undertow.servlet.handlers.security.ServletAuthenticationCallHandler.handleRequest(ServletAuthenticationCallHandler.java:54) [undertow-servlet-1.0.15.Final.jar:1.0.15.Final]




 at io.undertow.server.handlers.DisableCacheHandler.handleRequest(DisableCacheHandler.java:27) [undertow-core-1.0.15.Final.jar:1.0.15.Final]




 at io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:25) [undertow-core-1.0.15.Final.jar:1.0.15.Final]




 at io.undertow.security.handlers.AuthenticationConstraintHandler.handleRequest(AuthenticationConstraintHandler.java:51) [undertow-core-1.0.15.Final.jar:1.0.15.Final]




 at io.undertow.security.handlers.AbstractConfidentialityHandler.handleRequest(AbstractConfidentialityHandler.java:45) [undertow-core-1.0.15.Final.jar:1.0.15.Final]




 at io.undertow.servlet.handlers.security.ServletConfidentialityConstraintHandler.handleRequest(ServletConfidentialityConstraintHandler.java:61) [undertow-servlet-1.0.15.Final.jar:1.0.15.Final]




 at io.undertow.servlet.handlers.security.ServletSecurityConstraintHandler.handleRequest(ServletSecurityConstraintHandler.java:56) [undertow-servlet-1.0.15.Final.jar:1.0.15.Final]




 at io.undertow.security.handlers.AuthenticationMechanismsHandler.handleRequest(AuthenticationMechanismsHandler.java:58) [undertow-core-1.0.15.Final.jar:1.0.15.Final]




 at io.undertow.servlet.handlers.security.CachedAuthenticatedSessionHandler.handleRequest(CachedAuthenticatedSessionHandler.java:70) [undertow-servlet-1.0.15.Final.jar:1.0.15.Final]




 at io.undertow.security.handlers.SecurityInitialHandler.handleRequest(SecurityInitialHandler.java:76) [undertow-core-1.0.15.Final.jar:1.0.15.Final]




 at io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:25) [undertow-core-1.0.15.Final.jar:1.0.15.Final]




 at org.wildfly.extension.undertow.security.jacc.JACCContextIdHandler.handleRequest(JACCContextIdHandler.java:61)




 at io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:25) [undertow-core-1.0.15.Final.jar:1.0.15.Final]




 at io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:25) [undertow-core-1.0.15.Final.jar:1.0.15.Final]




 at io.undertow.servlet.handlers.ServletInitialHandler.handleFirstRequest(ServletInitialHandler.java:240) [undertow-servlet-1.0.15.Final.jar:1.0.15.Final]




 at io.undertow.servlet.handlers.ServletInitialHandler.dispatchRequest(ServletInitialHandler.java:227) [undertow-servlet-1.0.15.Final.jar:1.0.15.Final]




 at io.undertow.servlet.handlers.ServletInitialHandler.access$000(ServletInitialHandler.java:73) [undertow-servlet-1.0.15.Final.jar:1.0.15.Final]




 at io.undertow.servlet.handlers.ServletInitialHandler$1.handleRequest(ServletInitialHandler.java:146) [undertow-servlet-1.0.15.Final.jar:1.0.15.Final]




 at io.undertow.server.Connectors.executeRootHandler(Connectors.java:177) [undertow-core-1.0.15.Final.jar:1.0.15.Final]




 at io.undertow.server.HttpServerExchange$1.run(HttpServerExchange.java:727) [undertow-core-1.0.15.Final.jar:1.0.15.Final]




 at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1145) [rt.jar:1.7.0_60]




 at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:615) [rt.jar:1.7.0_60]




 at java.lang.Thread.run(Thread.java:745) [rt.jar:1.7.0_60]









Caused by: javax.security.auth.callback.UnsupportedCallbackException




 at org.jboss.security.auth.callback.JBossCallbackHandler.handleCallBack(JBossCallbackHandler.java:138) [picketbox-4.0.21.Beta1.jar:4.0.21.Beta1]




 at org.jboss.security.auth.callback.JBossCallbackHandler.handle(JBossCallbackHandler.java:87) [picketbox-4.0.21.Beta1.jar:4.0.21.Beta1]




 at javax.security.auth.login.LoginContext$SecureCallbackHandler$1.run(LoginContext.java:947) [rt.jar:1.7.0_60]




 at javax.security.auth.login.LoginContext$SecureCallbackHandler$1.run(LoginContext.java:944) [rt.jar:1.7.0_60]




 at java.security.AccessController.doPrivileged(Native Method) [rt.jar:1.7.0_60]




 at javax.security.auth.login.LoginContext$SecureCallbackHandler.handle(LoginContext.java:943) [rt.jar:1.7.0_60]




 at org.jboss.security.auth.spi.UsernamePasswordLoginModule.createPasswordHash(UsernamePasswordLoginModule.java:434) [picketbox-4.0.21.Beta1.jar:4.0.21.Beta1]




 ... 49 more






This cofiguration worked well in JBoss AS 7.</description>
			<version>8.1.0.Final</version>
			<fixedVersion>10.0.0.CR2</fixedVersion>
			<type>Bug</type>
		</buginformation>
		<fixedFiles>
			<file type="M">org.wildfly.extension.undertow.security.digest.DigestAuthenticationMechanism.java</file>
			<file type="M">org.wildfly.extension.undertow.ServletContainerAdd.java</file>
			<file type="M">org.wildfly.extension.undertow.security.JAASIdentityManagerImpl.java</file>
		</fixedFiles>
		<links>
			<link type="Related" description="relates to">1105</link>
		</links>
	</bug>
	<bug id="5322" opendate="2015-09-10 18:05:03" fixdate="2015-09-24 15:54:31" resolution="Done">
		<buginformation>
			<summary>Singleton deployment fails to automatically start on second node</summary>
			<description>After stopping the node on which the singleton deployment is active, the deployment will fail to automatically start on another node under these conditions:
1. Simple election policy with applied name preferences is used:






&amp;lt;simple-election-policy&amp;gt;




    &amp;lt;name-preferences&amp;gt;node1 node2&amp;lt;/name-preferences&amp;gt;




&amp;lt;/simple-election-policy&amp;gt;






2. The server named "node2" starts first, so that singleton deployment is active for a while on this node, then server named "node1" is started.
3. The server named "node1" stops.
Server "node1" stops without error, however server "node2" gets NPE during the automatic re-deployment. 
The same issue occurs when trying with latest wildfly upstream/master bits. 
Server logs:






Server 1 log






[mvinkler@localhost jboss-eap-7.0_1]$ ./bin/standalone.sh -c standalone-ha.xml -Djboss.node.name=node1




=========================================================================









  JBoss Bootstrap Environment









  JBOSS_HOME: /usr/work/eap/tmp2/jboss-eap-7.0_1









  JAVA: /usr/work/java/jdk1.8.0_45/bin/java









  JAVA_OPTS:  -server -verbose:gc -Xloggc:"/usr/work/eap/tmp2/jboss-eap-7.0_1/standalone/log/gc.log" -XX:+PrintGCDetails -XX:+PrintGCDateStamps -XX:+UseGCLogFileRotation -XX:NumberOfGCLogFiles=5 -XX:GCLogFileSize=3M -XX:-TraceClassUnloading -Xms64m -Xmx512m -Djava.net.preferIPv4Stack=true -Djboss.modules.system.pkgs=org.jboss.byteman -Djava.awt.headless=true









=========================================================================









15:24:51,402 INFO  [org.jboss.modules] (main) JBoss Modules version 1.4.3.Final




15:24:51,667 INFO  [org.jboss.msc] (main) JBoss MSC version 1.2.6.Final




15:24:51,718 INFO  [org.jboss.as] (MSC service thread 1-6) WFLYSRV0049: EAP 7.0.0.Alpha1 (WildFly Core 2.0.0.Beta4) starting




15:24:52,542 INFO  [org.jboss.as.controller.management-deprecated] (ServerService Thread Pool -- 16) WFLYCTL0028: Attribute &amp;amp;apos;enabled&amp;amp;apos; in the resource at address &amp;amp;apos;/subsystem=datasources/data-source=ExampleDS&amp;amp;apos; is deprecated, and may be removed in future version. See the attribute description in the output of the read-resource-description operation to learn more about the deprecation.




15:24:52,574 INFO  [org.jboss.as.repository] (ServerService Thread Pool -- 21) WFLYDR0001: Content added at location /usr/work/eap/tmp2/jboss-eap-7.0_1/standalone/data/content/bd/6880bc84b90171ef3d37078e2c222b47647c13/content




15:24:52,643 INFO  [org.jboss.as.server] (Controller Boot Thread) WFLYSRV0039: Creating http management service using socket-binding (management-http)




15:24:52,659 INFO  [org.xnio] (MSC service thread 1-7) XNIO version 3.4.0.Beta1




15:24:52,670 INFO  [org.xnio.nio] (MSC service thread 1-7) XNIO NIO Implementation Version 3.4.0.Beta1




15:24:52,694 INFO  [org.jboss.remoting] (MSC service thread 1-7) JBoss Remoting version 4.0.9.Final




15:24:52,791 INFO  [org.jboss.as.clustering.jgroups] (ServerService Thread Pool -- 45) WFLYCLJG0001: Activating JGroups subsystem.




15:24:52,795 INFO  [org.jboss.as.jsf] (ServerService Thread Pool -- 48) WFLYJSF0007: Activated the following JSF Implementations: [main]




15:24:52,799 INFO  [org.jboss.as.clustering.infinispan] (ServerService Thread Pool -- 41) WFLYCLINF0001: Activating Infinispan subsystem.




15:24:52,812 INFO  [org.wildfly.extension.io] (ServerService Thread Pool -- 40) WFLYIO001: Worker &amp;amp;apos;default&amp;amp;apos; has auto-configured to 16 core threads with 128 task threads based on your 8 available processors




15:24:52,817 INFO  [org.jboss.as.security] (ServerService Thread Pool -- 58) WFLYSEC0002: Activating Security Subsystem




15:24:52,823 WARN  [org.jboss.as.txn] (ServerService Thread Pool -- 60) WFLYTX0013: Node identifier property is set to the default value. Please make sure it is unique.




15:24:52,826 INFO  [org.jboss.as.naming] (ServerService Thread Pool -- 51) WFLYNAM0001: Activating Naming Subsystem




15:24:52,834 INFO  [org.jboss.as.security] (MSC service thread 1-7) WFLYSEC0001: Current PicketBox version=4.9.3.Final




15:24:52,857 INFO  [org.jboss.as.webservices] (ServerService Thread Pool -- 62) WFLYWS0002: Activating WebServices Extension




15:24:52,867 INFO  [org.jboss.as.connector] (MSC service thread 1-4) WFLYJCA0009: Starting JCA Subsystem (IronJacamar 1.2.5.Final)




15:24:52,869 INFO  [org.jboss.as.connector.subsystems.datasources] (ServerService Thread Pool -- 36) WFLYJCA0004: Deploying JDBC-compliant driver class org.h2.Driver (version 1.3)




15:24:52,872 INFO  [org.jboss.as.naming] (MSC service thread 1-8) WFLYNAM0003: Starting Naming Service




15:24:52,873 INFO  [org.jboss.as.mail.extension] (MSC service thread 1-2) WFLYMAIL0001: Bound mail session [java:jboss/mail/Default]




15:24:52,874 INFO  [org.jboss.as.connector.deployers.jdbc] (MSC service thread 1-8) WFLYJCA0018: Started Driver service with driver-name = h2




15:24:52,880 INFO  [org.wildfly.extension.undertow] (MSC service thread 1-1) WFLYUT0003: Undertow 1.3.0.Beta9 starting




15:24:52,883 INFO  [org.wildfly.extension.undertow] (ServerService Thread Pool -- 61) WFLYUT0003: Undertow 1.3.0.Beta9 starting




15:24:53,014 INFO  [org.wildfly.extension.undertow] (ServerService Thread Pool -- 61) WFLYUT0014: Creating file handler for path &amp;amp;apos;/usr/work/eap/tmp2/jboss-eap-7.0_1/welcome-content&amp;amp;apos; with options [directory-listing: &amp;amp;apos;false&amp;amp;apos;, follow-symlink: &amp;amp;apos;false&amp;amp;apos;, case-sensitive: &amp;amp;apos;true&amp;amp;apos;, safe-symlink-paths: &amp;amp;apos;[]&amp;amp;apos;]




15:24:53,019 INFO  [org.wildfly.extension.undertow] (MSC service thread 1-4) WFLYUT0012: Started server default-server.




15:24:53,025 INFO  [org.wildfly.extension.undertow] (MSC service thread 1-1) WFLYUT0018: Host default-host starting




15:24:53,083 INFO  [org.wildfly.extension.undertow] (MSC service thread 1-4) WFLYUT0006: Undertow AJP listener ajp listening on /127.0.0.1:8009




15:24:53,083 INFO  [org.wildfly.extension.undertow] (MSC service thread 1-3) WFLYUT0006: Undertow HTTP listener default listening on /127.0.0.1:8080




15:24:53,087 INFO  [org.jboss.modcluster] (ServerService Thread Pool -- 63) MODCLUSTER000001: Initializing mod_cluster version 1.3.1.Final




15:24:53,104 INFO  [org.jboss.modcluster] (ServerService Thread Pool -- 63) MODCLUSTER000032: Listening to proxy advertisements on /224.0.1.105:23364




15:24:53,192 INFO  [org.jboss.as.connector.subsystems.datasources] (MSC service thread 1-2) WFLYJCA0001: Bound data source [java:jboss/datasources/ExampleDS]




15:24:53,233 INFO  [org.jboss.as.server.deployment] (MSC service thread 1-8) WFLYSRV0027: Starting deployment of "singleton-deployment-descriptor.war" (runtime-name: "singleton-deployment-descriptor.war")




15:24:53,241 INFO  [org.jboss.as.server.deployment.scanner] (MSC service thread 1-3) WFLYDS0013: Started FileSystemDeploymentService for directory /usr/work/eap/tmp2/jboss-eap-7.0_1/standalone/deployments




15:24:53,350 INFO  [org.jboss.ws.common.management] (MSC service thread 1-6) JBWS022052: Starting JBoss Web Services - Stack CXF Server 5.1.0.Beta1




15:24:53,683 WARNING [org.jgroups.protocols.UDP] (MSC service thread 1-6) JGRP000015: the send buffer of socket DatagramSocket was set to 1MB, but the OS only allocated 212.99KB. This might lead to performance problems. Please set your max send buffer in the OS correctly (e.g. net.core.wmem_max on Linux)




15:24:53,684 WARNING [org.jgroups.protocols.UDP] (MSC service thread 1-6) JGRP000015: the receive buffer of socket DatagramSocket was set to 20MB, but the OS only allocated 212.99KB. This might lead to performance problems. Please set your max receive buffer in the OS correctly (e.g. net.core.rmem_max on Linux)




15:24:53,684 WARNING [org.jgroups.protocols.UDP] (MSC service thread 1-6) JGRP000015: the send buffer of socket MulticastSocket was set to 1MB, but the OS only allocated 212.99KB. This might lead to performance problems. Please set your max send buffer in the OS correctly (e.g. net.core.wmem_max on Linux)




15:24:53,684 WARNING [org.jgroups.protocols.UDP] (MSC service thread 1-6) JGRP000015: the receive buffer of socket MulticastSocket was set to 25MB, but the OS only allocated 212.99KB. This might lead to performance problems. Please set your max receive buffer in the OS correctly (e.g. net.core.rmem_max on Linux)




15:24:54,079 INFO  [org.infinispan.remoting.transport.jgroups.JGroupsTransport] (ServerService Thread Pool -- 63) ISPN000078: Starting JGroups channel server




15:24:54,088 INFO  [org.infinispan.remoting.transport.jgroups.JGroupsTransport] (ServerService Thread Pool -- 63) ISPN000094: Received new cluster view for channel server: [node2|1] (2) [node2, node1]




15:24:54,091 INFO  [org.infinispan.remoting.transport.jgroups.JGroupsTransport] (ServerService Thread Pool -- 63) ISPN000079: Channel server local address is node1, physical addresses are [127.0.0.1:55200]




15:24:54,140 INFO  [org.infinispan.factories.GlobalComponentRegistry] (ServerService Thread Pool -- 63) ISPN000128: Infinispan version: Infinispan &amp;amp;apos;Infinite Darkness&amp;amp;apos; 8.0.0.CR1




15:24:54,315 INFO  [org.jboss.as.clustering.infinispan] (ServerService Thread Pool -- 63) WFLYCLINF0002: Started default cache from server container




15:24:54,618 INFO  [org.wildfly.extension.undertow] (ServerService Thread Pool -- 66) WFLYUT0021: Registered web context: /singleton-deployment-descriptor




15:24:54,657 INFO  [org.jboss.as.server] (ServerService Thread Pool -- 37) WFLYSRV0010: Deployed "singleton-deployment-descriptor.war" (runtime-name : "singleton-deployment-descriptor.war")




15:24:54,743 INFO  [org.jboss.as] (Controller Boot Thread) WFLYSRV0060: Http management interface listening on http://127.0.0.1:9990/management




15:24:54,743 INFO  [org.jboss.as] (Controller Boot Thread) WFLYSRV0051: Admin console listening on http://127.0.0.1:9990




15:24:54,744 INFO  [org.jboss.as] (Controller Boot Thread) WFLYSRV0025: EAP 7.0.0.Alpha1 (WildFly Core 2.0.0.Beta4) started in 3611ms - Started 353 of 608 services (366 services are lazy, passive or on-demand)




^C15:25:04,667 INFO  [org.jboss.as.server] (Thread-2) WFLYSRV0220: Server shutdown has been requested.




15:25:04,680 INFO  [org.wildfly.extension.undertow] (ServerService Thread Pool -- 21) WFLYUT0022: Unregistered web context: /singleton-deployment-descriptor




15:25:04,686 INFO  [org.wildfly.extension.undertow] (MSC service thread 1-4) WFLYUT0019: Host default-host stopping




15:25:04,686 INFO  [org.jboss.modcluster] (ServerService Thread Pool -- 23) MODCLUSTER000002: Initiating mod_cluster shutdown




15:25:04,687 INFO  [org.jboss.as.connector.subsystems.datasources] (MSC service thread 1-6) WFLYJCA0010: Unbound data source [java:jboss/datasources/ExampleDS]




15:25:04,689 INFO  [org.jboss.as.connector.deployers.jdbc] (MSC service thread 1-1) WFLYJCA0019: Stopped Driver service with driver-name = h2




15:25:04,698 INFO  [org.hibernate.validator.internal.util.Version] (MSC service thread 1-2) HV000001: Hibernate Validator 5.2.1.Final




15:25:04,739 INFO  [org.wildfly.extension.undertow] (MSC service thread 1-4) WFLYUT0008: Undertow HTTP listener default suspending




15:25:04,739 INFO  [org.jboss.as.server.deployment] (MSC service thread 1-1) WFLYSRV0028: Stopped deployment singleton-deployment-descriptor.war (runtime-name: singleton-deployment-descriptor.war) in 69ms




15:25:04,739 INFO  [org.wildfly.extension.undertow] (MSC service thread 1-5) WFLYUT0008: Undertow AJP listener ajp suspending




15:25:04,740 INFO  [org.wildfly.extension.undertow] (MSC service thread 1-4) WFLYUT0007: Undertow HTTP listener default stopped, was bound to /127.0.0.1:8080




15:25:04,740 INFO  [org.wildfly.extension.undertow] (MSC service thread 1-5) WFLYUT0007: Undertow AJP listener ajp stopped, was bound to /127.0.0.1:8009




15:25:04,741 INFO  [org.wildfly.extension.undertow] (MSC service thread 1-3) WFLYUT0004: Undertow 1.3.0.Beta9 stopping




15:25:04,744 INFO  [org.jboss.as.clustering.infinispan] (ServerService Thread Pool -- 63) WFLYCLINF0003: Stopped default cache from server container




15:25:04,745 INFO  [org.infinispan.remoting.transport.jgroups.JGroupsTransport] (MSC service thread 1-6) ISPN000080: Disconnecting JGroups channel server




15:25:04,746 INFO  [org.infinispan.remoting.transport.jgroups.JGroupsTransport] (MSC service thread 1-6) ISPN000082: Stopping the RpcDispatcher for channel server




15:25:04,810 INFO  [org.jboss.as] (MSC service thread 1-5) WFLYSRV0050: EAP 7.0.0.Alpha1 (WildFly Core 2.0.0.Beta4) stopped in 138ms












Server 2 log






[mvinkler@localhost jboss-eap-7.0_2]$ ./bin/standalone.sh -c standalone-ha.xml -Djboss.node.name=node2 -Djboss.socket.binding.port-offset=100




=========================================================================









  JBoss Bootstrap Environment









  JBOSS_HOME: /usr/work/eap/tmp2/jboss-eap-7.0_2









  JAVA: /usr/work/java/jdk1.8.0_45/bin/java









  JAVA_OPTS:  -server -verbose:gc -Xloggc:"/usr/work/eap/tmp2/jboss-eap-7.0_2/standalone/log/gc.log" -XX:+PrintGCDetails -XX:+PrintGCDateStamps -XX:+UseGCLogFileRotation -XX:NumberOfGCLogFiles=5 -XX:GCLogFileSize=3M -XX:-TraceClassUnloading -Xms64m -Xmx512m -Djava.net.preferIPv4Stack=true -Djboss.modules.system.pkgs=org.jboss.byteman -Djava.awt.headless=true









=========================================================================









15:24:45,219 INFO  [org.jboss.modules] (main) JBoss Modules version 1.4.3.Final




15:24:45,386 INFO  [org.jboss.msc] (main) JBoss MSC version 1.2.6.Final




15:24:45,435 INFO  [org.jboss.as] (MSC service thread 1-6) WFLYSRV0049: EAP 7.0.0.Alpha1 (WildFly Core 2.0.0.Beta4) starting




15:24:46,261 INFO  [org.jboss.as.controller.management-deprecated] (ServerService Thread Pool -- 25) WFLYCTL0028: Attribute &amp;amp;apos;enabled&amp;amp;apos; in the resource at address &amp;amp;apos;/subsystem=datasources/data-source=ExampleDS&amp;amp;apos; is deprecated, and may be removed in future version. See the attribute description in the output of the read-resource-description operation to learn more about the deprecation.




15:24:46,296 INFO  [org.jboss.as.repository] (ServerService Thread Pool -- 23) WFLYDR0001: Content added at location /usr/work/eap/tmp2/jboss-eap-7.0_2/standalone/data/content/bd/6880bc84b90171ef3d37078e2c222b47647c13/content




15:24:46,373 INFO  [org.jboss.as.server] (Controller Boot Thread) WFLYSRV0039: Creating http management service using socket-binding (management-http)




15:24:46,388 INFO  [org.xnio] (MSC service thread 1-6) XNIO version 3.4.0.Beta1




15:24:46,396 INFO  [org.xnio.nio] (MSC service thread 1-6) XNIO NIO Implementation Version 3.4.0.Beta1




15:24:46,431 INFO  [org.jboss.as.clustering.infinispan] (ServerService Thread Pool -- 41) WFLYCLINF0001: Activating Infinispan subsystem.




15:24:46,431 INFO  [org.wildfly.extension.io] (ServerService Thread Pool -- 40) WFLYIO001: Worker &amp;amp;apos;default&amp;amp;apos; has auto-configured to 16 core threads with 128 task threads based on your 8 available processors




15:24:46,456 INFO  [org.jboss.as.clustering.jgroups] (ServerService Thread Pool -- 45) WFLYCLJG0001: Activating JGroups subsystem.




15:24:46,458 INFO  [org.jboss.as.jsf] (ServerService Thread Pool -- 48) WFLYJSF0007: Activated the following JSF Implementations: [main]




15:24:46,531 INFO  [org.jboss.as.naming] (ServerService Thread Pool -- 51) WFLYNAM0001: Activating Naming Subsystem




15:24:46,535 WARN  [org.jboss.as.txn] (ServerService Thread Pool -- 60) WFLYTX0013: Node identifier property is set to the default value. Please make sure it is unique.




15:24:46,545 INFO  [org.jboss.as.connector.subsystems.datasources] (ServerService Thread Pool -- 36) WFLYJCA0004: Deploying JDBC-compliant driver class org.h2.Driver (version 1.3)




15:24:46,576 INFO  [org.jboss.as.webservices] (ServerService Thread Pool -- 62) WFLYWS0002: Activating WebServices Extension




15:24:46,579 INFO  [org.jboss.as.connector] (MSC service thread 1-3) WFLYJCA0009: Starting JCA Subsystem (IronJacamar 1.2.5.Final)




15:24:46,580 INFO  [org.jboss.as.connector.deployers.jdbc] (MSC service thread 1-7) WFLYJCA0018: Started Driver service with driver-name = h2




15:24:46,586 INFO  [org.jboss.as.security] (ServerService Thread Pool -- 58) WFLYSEC0002: Activating Security Subsystem




15:24:46,590 INFO  [org.jboss.remoting] (MSC service thread 1-6) JBoss Remoting version 4.0.9.Final




15:24:46,599 INFO  [org.jboss.as.naming] (MSC service thread 1-1) WFLYNAM0003: Starting Naming Service




15:24:46,602 INFO  [org.jboss.as.security] (MSC service thread 1-3) WFLYSEC0001: Current PicketBox version=4.9.3.Final




15:24:46,605 INFO  [org.jboss.as.mail.extension] (MSC service thread 1-7) WFLYMAIL0001: Bound mail session [java:jboss/mail/Default]




15:24:46,642 INFO  [org.wildfly.extension.undertow] (MSC service thread 1-5) WFLYUT0003: Undertow 1.3.0.Beta9 starting




15:24:46,642 INFO  [org.wildfly.extension.undertow] (ServerService Thread Pool -- 61) WFLYUT0003: Undertow 1.3.0.Beta9 starting




15:24:46,767 INFO  [org.wildfly.extension.undertow] (ServerService Thread Pool -- 61) WFLYUT0014: Creating file handler for path &amp;amp;apos;/usr/work/eap/tmp2/jboss-eap-7.0_2/welcome-content&amp;amp;apos; with options [directory-listing: &amp;amp;apos;false&amp;amp;apos;, follow-symlink: &amp;amp;apos;false&amp;amp;apos;, case-sensitive: &amp;amp;apos;true&amp;amp;apos;, safe-symlink-paths: &amp;amp;apos;[]&amp;amp;apos;]




15:24:46,785 INFO  [org.wildfly.extension.undertow] (MSC service thread 1-2) WFLYUT0012: Started server default-server.




15:24:46,788 INFO  [org.wildfly.extension.undertow] (MSC service thread 1-4) WFLYUT0018: Host default-host starting




15:24:46,832 INFO  [org.wildfly.extension.undertow] (MSC service thread 1-2) WFLYUT0006: Undertow HTTP listener default listening on /127.0.0.1:8180




15:24:46,835 INFO  [org.wildfly.extension.undertow] (MSC service thread 1-8) WFLYUT0006: Undertow AJP listener ajp listening on /127.0.0.1:8109




15:24:46,838 INFO  [org.jboss.modcluster] (ServerService Thread Pool -- 64) MODCLUSTER000001: Initializing mod_cluster version 1.3.1.Final




15:24:46,846 INFO  [org.jboss.modcluster] (ServerService Thread Pool -- 64) MODCLUSTER000032: Listening to proxy advertisements on /224.0.1.105:23364




15:24:46,966 INFO  [org.jboss.as.connector.subsystems.datasources] (MSC service thread 1-7) WFLYJCA0001: Bound data source [java:jboss/datasources/ExampleDS]




15:24:46,980 INFO  [org.jboss.as.server.deployment.scanner] (MSC service thread 1-8) WFLYDS0013: Started FileSystemDeploymentService for directory /usr/work/eap/tmp2/jboss-eap-7.0_2/standalone/deployments




15:24:47,001 INFO  [org.jboss.as.server.deployment] (MSC service thread 1-1) WFLYSRV0027: Starting deployment of "singleton-deployment-descriptor.war" (runtime-name: "singleton-deployment-descriptor.war")




15:24:47,128 INFO  [org.jboss.ws.common.management] (MSC service thread 1-2) JBWS022052: Starting JBoss Web Services - Stack CXF Server 5.1.0.Beta1




15:24:47,436 WARNING [org.jgroups.protocols.UDP] (MSC service thread 1-2) JGRP000015: the send buffer of socket DatagramSocket was set to 1MB, but the OS only allocated 212.99KB. This might lead to performance problems. Please set your max send buffer in the OS correctly (e.g. net.core.wmem_max on Linux)




15:24:47,437 WARNING [org.jgroups.protocols.UDP] (MSC service thread 1-2) JGRP000015: the receive buffer of socket DatagramSocket was set to 20MB, but the OS only allocated 212.99KB. This might lead to performance problems. Please set your max receive buffer in the OS correctly (e.g. net.core.rmem_max on Linux)




15:24:47,437 WARNING [org.jgroups.protocols.UDP] (MSC service thread 1-2) JGRP000015: the send buffer of socket MulticastSocket was set to 1MB, but the OS only allocated 212.99KB. This might lead to performance problems. Please set your max send buffer in the OS correctly (e.g. net.core.wmem_max on Linux)




15:24:47,437 WARNING [org.jgroups.protocols.UDP] (MSC service thread 1-2) JGRP000015: the receive buffer of socket MulticastSocket was set to 25MB, but the OS only allocated 212.99KB. This might lead to performance problems. Please set your max receive buffer in the OS correctly (e.g. net.core.rmem_max on Linux)




15:24:50,836 INFO  [org.infinispan.remoting.transport.jgroups.JGroupsTransport] (ServerService Thread Pool -- 64) ISPN000078: Starting JGroups channel server




15:24:50,848 INFO  [org.infinispan.remoting.transport.jgroups.JGroupsTransport] (ServerService Thread Pool -- 64) ISPN000094: Received new cluster view for channel server: [node2|0] (1) [node2]




15:24:50,851 INFO  [org.infinispan.remoting.transport.jgroups.JGroupsTransport] (ServerService Thread Pool -- 64) ISPN000079: Channel server local address is node2, physical addresses are [127.0.0.1:55300]




15:24:50,854 INFO  [org.infinispan.factories.GlobalComponentRegistry] (ServerService Thread Pool -- 64) ISPN000128: Infinispan version: Infinispan &amp;amp;apos;Infinite Darkness&amp;amp;apos; 8.0.0.CR1




15:24:50,967 INFO  [org.jboss.as.clustering.infinispan] (ServerService Thread Pool -- 64) WFLYCLINF0002: Started default cache from server container




15:24:50,999 INFO  [org.wildfly.clustering.server] (ServerService Thread Pool -- 64) WFLYCLSV0003: node2 elected as the singleton provider of the jboss.deployment.unit."singleton-deployment-descriptor.war".FIRST_MODULE_USE service




15:24:51,286 INFO  [org.wildfly.extension.undertow] (ServerService Thread Pool -- 68) WFLYUT0021: Registered web context: /singleton-deployment-descriptor




15:24:51,326 INFO  [org.jboss.as.server] (ServerService Thread Pool -- 37) WFLYSRV0010: Deployed "singleton-deployment-descriptor.war" (runtime-name : "singleton-deployment-descriptor.war")




15:24:51,423 INFO  [org.jboss.as] (Controller Boot Thread) WFLYSRV0060: Http management interface listening on http://127.0.0.1:10090/management




15:24:51,423 INFO  [org.jboss.as] (Controller Boot Thread) WFLYSRV0051: Admin console listening on http://127.0.0.1:10090




15:24:51,424 INFO  [org.jboss.as] (Controller Boot Thread) WFLYSRV0025: EAP 7.0.0.Alpha1 (WildFly Core 2.0.0.Beta4) started in 6404ms - Started 353 of 608 services (366 services are lazy, passive or on-demand)




15:24:53,753 INFO  [org.infinispan.remoting.transport.jgroups.JGroupsTransport] (Incoming-2,ee,node2) ISPN000094: Received new cluster view for channel server: [node2|1] (2) [node2, node1]




15:24:54,251 INFO  [org.infinispan.CLUSTER] (remote-thread--p2-t1) ISPN000310: Starting cluster-wide rebalance for cache default, topology CacheTopology{id=1, rebalanceId=1, currentCH=ReplicatedConsistentHash{ns = 60, owners = (1)[node2: 60]}, pendingCH=ReplicatedConsistentHash{ns = 60, owners = (2)[node2: 30, node1: 30]}, unionCH=null, actualMembers=[node2, node1]}




15:24:54,312 INFO  [org.infinispan.CLUSTER] (remote-thread--p2-t1) ISPN000336: Finished cluster-wide rebalance for cache default, topology id = 1




15:24:54,347 INFO  [org.wildfly.clustering.server] (remote-thread--p2-t1) WFLYCLSV0003: node1 elected as the singleton provider of the jboss.deployment.unit."singleton-deployment-descriptor.war".FIRST_MODULE_USE service




15:24:54,376 INFO  [org.wildfly.extension.undertow] (ServerService Thread Pool -- 64) WFLYUT0022: Unregistered web context: /singleton-deployment-descriptor




15:24:54,393 INFO  [org.hibernate.validator.internal.util.Version] (MSC service thread 1-4) HV000001: Hibernate Validator 5.2.1.Final




15:25:04,674 INFO  [org.wildfly.clustering.server] (remote-thread--p2-t1) WFLYCLSV0003: node2 elected as the singleton provider of the jboss.deployment.unit."singleton-deployment-descriptor.war".FIRST_MODULE_USE service




15:25:04,733 ERROR [org.jboss.msc.service.fail] (MSC service thread 1-7) MSC000001: Failed to start service jboss.deployment.unit."singleton-deployment-descriptor.war".FIRST_MODULE_USE.service: org.jboss.msc.service.StartException in service jboss.deployment.unit."singleton-deployment-descriptor.war".FIRST_MODULE_USE.service: WFLYSRV0153: Failed to process phase FIRST_MODULE_USE of deployment "singleton-deployment-descriptor.war"




        at org.jboss.as.server.deployment.DeploymentUnitPhaseService.start(DeploymentUnitPhaseService.java:154)




        at org.jboss.msc.service.ServiceControllerImpl$StartTask.startService(ServiceControllerImpl.java:1948)




        at org.jboss.msc.service.ServiceControllerImpl$StartTask.run(ServiceControllerImpl.java:1881)




        at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)




        at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)




        at java.lang.Thread.run(Thread.java:745)




Caused by: java.lang.NullPointerException




        at org.jboss.as.jpa.processor.JPAInterceptorProcessor.deploy(JPAInterceptorProcessor.java:52)




        at org.jboss.as.server.deployment.DeploymentUnitPhaseService.start(DeploymentUnitPhaseService.java:147)




        ... 5 more









15:25:04,735 ERROR [org.wildfly.clustering.server] (remote-thread--p2-t1) WFLYCLSV0005: Failed to start jboss.deployment.unit."singleton-deployment-descriptor.war".FIRST_MODULE_USE.service service: org.jboss.msc.service.StartException in service jboss.deployment.unit."singleton-deployment-descriptor.war".FIRST_MODULE_USE.service: WFLYSRV0153: Failed to process phase FIRST_MODULE_USE of deployment "singleton-deployment-descriptor.war"




        at org.jboss.as.server.deployment.DeploymentUnitPhaseService.start(DeploymentUnitPhaseService.java:154)




        at org.jboss.msc.service.ServiceControllerImpl$StartTask.startService(ServiceControllerImpl.java:1948)




        at org.jboss.msc.service.ServiceControllerImpl$StartTask.run(ServiceControllerImpl.java:1881)




        at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)




        at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)




        at java.lang.Thread.run(Thread.java:745)




Caused by: java.lang.NullPointerException




        at org.jboss.as.jpa.processor.JPAInterceptorProcessor.deploy(JPAInterceptorProcessor.java:52)




        at org.jboss.as.server.deployment.DeploymentUnitPhaseService.start(DeploymentUnitPhaseService.java:147)




        ... 5 more









15:25:04,807 INFO  [org.infinispan.remoting.transport.jgroups.JGroupsTransport] (Incoming-1,ee,node2) ISPN000094: Received new cluster view for channel server: [node2|2] (1) [node2]





</description>
			<version>10.0.0.Beta2</version>
			<fixedVersion>10.0.0.CR2</fixedVersion>
			<type>Bug</type>
		</buginformation>
		<fixedFiles>
			<file type="M">org.wildfly.extension.clustering.singleton.deployment.SingletonDeploymentDependencyProcessor.java</file>
		</fixedFiles>
		<links>
			<link type="Cloners" description="cloned from">1017</link>
		</links>
	</bug>
	<bug id="5391" opendate="2015-09-23 12:08:54" fixdate="2015-09-25 00:44:56" resolution="Done">
		<buginformation>
			<summary>Access logging doesn&amp;apos;t recognize common pattern</summary>
			<description>When having defined default access logging (just changing extended attribute to false), instead of logging according to common pattern (the default pattern), only the word "common" is logged per each request.
Marking as critical as this is behaviour with default access-log configuration.</description>
			<version>10.0.0.CR1</version>
			<fixedVersion>10.0.0.CR2</fixedVersion>
			<type>Bug</type>
		</buginformation>
		<fixedFiles>
			<file type="M">org.wildfly.extension.undertow.AccessLogService.java</file>
		</fixedFiles>
		<links>
			<link type="Cloners" description="cloned from">1133</link>
		</links>
	</bug>
	<bug id="5404" opendate="2015-09-24 15:26:19" fixdate="2015-09-25 02:15:38" resolution="Done">
		<buginformation>
			<summary>WF 10.0.0.CR2 with standalone.xml from WF 9 crashes on war deploy</summary>
			<description>As I understand it Wildfly 10 wants to maintain configuration compatibility with Wildfly 9.
It looks lake some of the compatibility was broken with CR1 (worked with Betas). </description>
			<version>10.0.0.CR1</version>
			<fixedVersion>10.0.0.CR2</fixedVersion>
			<type>Bug</type>
		</buginformation>
		<fixedFiles>
			<file type="M">org.wildfly.extension.batch.BatchSubsystemDefinition.java</file>
		</fixedFiles>
		<links>
			<link type="Causality" description="causes">1875</link>
		</links>
	</bug>
	<bug id="5394" opendate="2015-09-23 14:11:11" fixdate="2015-09-25 02:16:09" resolution="Done">
		<buginformation>
			<summary>Generic acceptor/connector is ignoring its socket-binding</summary>
			<description>If netty acceptor is configured then port is not opened:






&amp;lt;acceptor name="netty" factory-class="org.apache.activemq.artemis.core.remoting.impl.netty.NettyAcceptorFactory" socket-binding="messaging"/&amp;gt;






after server is started. Setting higher priority because it&amp;amp;apos;s core functionality.</description>
			<version>10.0.0.CR1</version>
			<fixedVersion>10.0.0.CR2</fixedVersion>
			<type>Bug</type>
		</buginformation>
		<fixedFiles>
			<file type="M">org.wildfly.extension.messaging.activemq.TransportConfigOperationHandlers.java</file>
			<file type="M">org.wildfly.extension.messaging.activemq.GenericTransportDefinition.java</file>
		</fixedFiles>
		<links>
			<link type="Cloners" description="cloned from">1137</link>
			<link type="Duplicate" description="is duplicated by">5970</link>
		</links>
	</bug>
	<bug id="5360" opendate="2015-09-18 08:17:28" fixdate="2015-09-25 02:16:59" resolution="Done">
		<buginformation>
			<summary>[Migration operation] [Web to Undertow] Migrating https connector in domain fails</summary>
			<description>When trying to migrate https connector in domain, it fails during creation of security realm, as the operation assumes that security realms are set in domain also under /core-service=management/ but they are set specifically for host =&amp;gt; in case of host master it is /host=master/core-service=management/</description>
			<version>10.0.0.CR1</version>
			<fixedVersion>10.0.0.CR2</fixedVersion>
			<type>Bug</type>
		</buginformation>
		<fixedFiles>
			<file type="M">org.jboss.as.web.WebMigrateOperation.java</file>
		</fixedFiles>
		<links>
			<link type="Cloners" description="cloned from">1103</link>
		</links>
	</bug>
	<bug id="5421" opendate="2015-09-28 16:41:03" fixdate="2015-09-29 19:46:28" resolution="Done">
		<buginformation>
			<summary>UnsupportedOperationException during singleton service view change</summary>
			<description>





2015-09-28 10:32:03,355 WARN  [org.infinispan.notifications.cachelistener.CacheNotifierImpl] (notification-thread--p4-t1) ISPN000331: Unable to invoke method public void org.wildfly.clustering.server.group.CacheGroup.topologyChanged(org.infinispan.notifications.cachelistener.event.TopologyChangedEvent) on Object instance org.wildfly.clustering.server.group.CacheGroup@5bcbba4a : java.lang.UnsupportedOperationException: Not supported in this implementation since additional locking is required and cannot directly be delegated to multiple calls to ConcurrentHashMap




	at org.infinispan.util.concurrent.ConcurrentHashSet.removeAll(ConcurrentHashSet.java:110)




	at org.wildfly.clustering.server.provider.CacheServiceProviderRegistry.lambda$membershipChanged$7(CacheServiceProviderRegistry.java:161)




	at org.wildfly.clustering.service.concurrent.StampedLockServiceExecutor.execute(StampedLockServiceExecutor.java:42)




	at org.wildfly.clustering.server.provider.CacheServiceProviderRegistry.membershipChanged(CacheServiceProviderRegistry.java:150)




	at org.wildfly.clustering.server.group.CacheGroup.lambda$topologyChanged$9(CacheGroup.java:134)




	at org.wildfly.clustering.service.concurrent.StampedLockServiceExecutor.execute(StampedLockServiceExecutor.java:42)




	at org.wildfly.clustering.server.group.CacheGroup.topologyChanged(CacheGroup.java:120)




	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)




	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)




	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)




	at java.lang.reflect.Method.invoke(Method.java:497)




	at org.infinispan.notifications.impl.AbstractListenerImpl$ListenerInvocationImpl$1.run(AbstractListenerImpl.java:286)




	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)




	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)




	at java.lang.Thread.run(Thread.java:745)





</description>
			<version>10.0.0.CR2</version>
			<fixedVersion>10.0.0.CR4</fixedVersion>
			<type>Bug</type>
		</buginformation>
		<fixedFiles>
			<file type="M">org.wildfly.clustering.server.provider.CacheServiceProviderRegistry.java</file>
		</fixedFiles>
	</bug>
	<bug id="5433" opendate="2015-09-30 16:34:27" fixdate="2015-09-30 21:18:07" resolution="Done">
		<buginformation>
			<summary>CommandDispatcher can throw InvalidClassException if command class is not available</summary>
			<description>When CommandDispatcher is used by a deployment, the command class might not be available if the deployment is not deployed.  Normally, this is prevented by returning a NoSuchService response if the service is unknown, however, this happens after the command is unmarshalled.  This check should happen before we attempt to unmarshall the command, avoiding unnecessary InvalidClassException.</description>
			<version>10.0.0.CR2</version>
			<fixedVersion>10.0.0.CR4</fixedVersion>
			<type>Bug</type>
		</buginformation>
		<fixedFiles>
			<file type="M">org.wildfly.clustering.server.dispatcher.ChannelCommandDispatcherFactory.java</file>
		</fixedFiles>
	</bug>
	<bug id="5426" opendate="2015-09-29 17:48:09" fixdate="2015-10-07 15:30:35" resolution="Done">
		<buginformation>
			<summary>Data sources other than h2 cannot be added to domain servers</summary>
			<description>This seems to work okay with the h2 driver, but adding a postgres driver add operations fail.
The driver is deployed and is on the main-server-group which defaults to the full profile.






[domain@localhost:9990 /] /server-group=main-server-group:read-children-resources(child-type=deployment,recursive=true,include-runtime=true)




{




    "outcome" =&amp;gt; "success",




    "result" =&amp;gt; {"postgresql-9.4-1201.jdbc41.jar" =&amp;gt; {




        "enabled" =&amp;gt; true,




        "name" =&amp;gt; "postgresql-9.4-1201.jdbc41.jar",




        "runtime-name" =&amp;gt; "postgresql-9.4-1201.jdbc41.jar"




    }}




}






Attempting to add the data source results in the following error:






[domain@localhost:9990 /] /profile=full/subsystem=datasources/data-source=test-pg:add(driver-name=postgresql-9.4-1201.jdbc41.jar, connection-url=jdbc:postgresql://localhost:test,user-name=user,password=password, jndi-name=java:jboss/datasources/test-pg)




{




    "outcome" =&amp;gt; "failed",




    "result" =&amp;gt; undefined,




    "failure-description" =&amp;gt; {"WFLYDC0074: Operation failed or was rolled back on all servers. Server failures:" =&amp;gt; {"server-group" =&amp;gt; {"main-server-group" =&amp;gt; {"host" =&amp;gt; {"master" =&amp;gt; {




        "server-one" =&amp;gt; {"WFLYCTL0080: Failed services" =&amp;gt; {"jboss.data-source.java:jboss/datasources/test-pg" =&amp;gt; "org.jboss.msc.service.StartException in service jboss.data-source.java:jboss/datasources/test-pg: WFLYJCA0033: Error during the deployment of test-pg




    Caused by: org.jboss.msc.service.StartException in anonymous service: WFLYJCA0032: Unable to start the ds because it generated more than one cf"}},




        "server-two" =&amp;gt; {"WFLYCTL0080: Failed services" =&amp;gt; {"jboss.data-source.java:jboss/datasources/test-pg" =&amp;gt; "org.jboss.msc.service.StartException in service jboss.data-source.java:jboss/datasources/test-pg: WFLYJCA0033: Error during the deployment of test-pg




    Caused by: org.jboss.msc.service.StartException in anonymous service: WFLYJCA0032: Unable to start the ds because it generated more than one cf"}}




    }}}}}},




    "rolled-back" =&amp;gt; true,




    "server-groups" =&amp;gt; {"main-server-group" =&amp;gt; {"host" =&amp;gt; {"master" =&amp;gt; {




        "server-one" =&amp;gt; {"response" =&amp;gt; {




            "outcome" =&amp;gt; "failed",




            "failure-description" =&amp;gt; {"WFLYCTL0080: Failed services" =&amp;gt; {"jboss.data-source.java:jboss/datasources/test-pg" =&amp;gt; "org.jboss.msc.service.StartException in service jboss.data-source.java:jboss/datasources/test-pg: WFLYJCA0033: Error during the deployment of test-pg




    Caused by: org.jboss.msc.service.StartException in anonymous service: WFLYJCA0032: Unable to start the ds because it generated more than one cf"}},




            "rolled-back" =&amp;gt; true




        }},




        "server-two" =&amp;gt; {"response" =&amp;gt; {




            "outcome" =&amp;gt; "failed",




            "failure-description" =&amp;gt; {"WFLYCTL0080: Failed services" =&amp;gt; {"jboss.data-source.java:jboss/datasources/test-pg" =&amp;gt; "org.jboss.msc.service.StartException in service jboss.data-source.java:jboss/datasources/test-pg: WFLYJCA0033: Error during the deployment of test-pg




    Caused by: org.jboss.msc.service.StartException in anonymous service: WFLYJCA0032: Unable to start the ds because it generated more than one cf"}},




            "rolled-back" =&amp;gt; true




        }}




    }}}}




}





</description>
			<version>9.0.0.Final</version>
			<fixedVersion>10.0.0.CR3</fixedVersion>
			<type>Bug</type>
		</buginformation>
		<fixedFiles>
			<file type="M">org.jboss.as.test.integration.domain.management.cli.DataSourceTestCase.java</file>
			<file type="M">org.jboss.as.connector.services.driver.registry.DriverRegistryImpl.java</file>
		</fixedFiles>
		<links>
			<link type="Causality" description="is caused by">3634</link>
			<link type="Cloners" description="cloned to">1203</link>
			<link type="Sequence" description="is followed up by">5584</link>
		</links>
	</bug>
	<bug id="5132" opendate="2015-08-19 08:40:39" fixdate="2015-10-08 13:52:20" resolution="Done">
		<buginformation>
			<summary>Authorization does not work correctly for remoting EJB when kerberos is only authentication module in security realm</summary>
			<description>Authorization does not work correctly for remoting secured EJB when Kerberos is only authentication module in security realm. If any another authentication module is used, then authorization works fine. Access is also granted when nonsecured EJB is used.
Use following settings:

only kerberos as authentication module in security realm
properties as authorization module in security realm which adds kerberos user needed role
secured EJB deployed on server (grant access for mentioned above role)
standalone application invoking this secured EJB method

In case when user with valid kerberos ticket runs this application, following exception is thrown:






javax.ejb.EJBAccessException: WFLYSEC0027: Invalid User




	at org.jboss.as.ejb3.security.SecurityContextInterceptor$1.run(SecurityContextInterceptor.java:69)




	at org.jboss.as.ejb3.security.SecurityContextInterceptor$1.run(SecurityContextInterceptor.java:49)




	at org.jboss.as.ejb3.security.SecurityContextInterceptor.processInvocation(SecurityContextInterceptor.java:97)




	at org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:340)




	at org.jboss.as.ejb3.component.interceptors.ShutDownInterceptorFactory$1.processInvocation(ShutDownInterceptorFactory.java:64)




	at org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:340)




	at org.jboss.as.ejb3.deployment.processors.EjbSuspendInterceptor.processInvocation(EjbSuspendInterceptor.java:53)




	at org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:340)




	at org.jboss.as.ejb3.component.interceptors.LoggingInterceptor.processInvocation(LoggingInterceptor.java:66)




	at org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:340)




	at org.jboss.as.ee.component.NamespaceContextInterceptor.processInvocation(NamespaceContextInterceptor.java:50)




	at org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:340)




	at org.jboss.as.ejb3.component.interceptors.AdditionalSetupInterceptor.processInvocation(AdditionalSetupInterceptor.java:54)




	at org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:340)




	at org.jboss.invocation.ContextClassLoaderInterceptor.processInvocation(ContextClassLoaderInterceptor.java:64)




	at org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:340)




	at org.jboss.invocation.InterceptorContext.run(InterceptorContext.java:356)




	at org.wildfly.security.manager.WildFlySecurityManager.doChecked(WildFlySecurityManager.java:636)




	at org.jboss.invocation.AccessCheckingInterceptor.processInvocation(AccessCheckingInterceptor.java:61)




	at org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:340)




	at org.jboss.invocation.InterceptorContext.run(InterceptorContext.java:356)




	at org.jboss.invocation.PrivilegedWithCombinerInterceptor.processInvocation(PrivilegedWithCombinerInterceptor.java:80)




	at org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:340)




	at org.jboss.invocation.ChainedInterceptor.processInvocation(ChainedInterceptor.java:61)




	at org.jboss.as.ee.component.ViewService$View.invoke(ViewService.java:195)




	at org.jboss.as.ejb3.remote.protocol.versionone.MethodInvocationMessageHandler.invokeMethod(MethodInvocationMessageHandler.java:331)




	at org.jboss.as.ejb3.remote.protocol.versionone.MethodInvocationMessageHandler.access$100(MethodInvocationMessageHandler.java:69)




	at org.jboss.as.ejb3.remote.protocol.versionone.MethodInvocationMessageHandler$1.run(MethodInvocationMessageHandler.java:202)




	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)




	at java.util.concurrent.FutureTask.run(FutureTask.java:266)




	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)




	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)




	at java.lang.Thread.run(Thread.java:745)




	at org.jboss.threads.JBossThread.run(JBossThread.java:320)





</description>
			<version>10.0.0.Beta1</version>
			<fixedVersion>10.0.0.CR3</fixedVersion>
			<type>Bug</type>
		</buginformation>
		<fixedFiles>
			<file type="M">org.jboss.as.security.logging.SecurityLogger.java</file>
			<file type="M">org.jboss.as.security.RealmDirectLoginModule.java</file>
		</fixedFiles>
		<links>
			<link type="Cloners" description="cloned from">752</link>
		</links>
	</bug>
	<bug id="5461" opendate="2015-10-02 13:55:12" fixdate="2015-10-09 12:10:13" resolution="Done">
		<buginformation>
			<summary>Getting "Attribute &amp;apos;enabled&amp;apos; in the resource at address ... is deprecated" when creating a datasource</summary>
			<description>Following message&amp;amp;apos;s are seen while adding datasource via Management console:
~~~
INFO  [org.jboss.as.controller.management-deprecated] (ServerService Thread Pool  25) JBAS014627: Attribute &amp;amp;apos;enabled&amp;amp;apos; in the resource at address &amp;amp;apos;/subsystem=datasources/xa-data-source=xyz&amp;amp;apos; is deprecated
, and may be removed in future version. See the attribute description in the output of the read-resource-description operation to learn more about the deprecation.
~~~</description>
			<version>10.0.0.CR2</version>
			<fixedVersion>10.0.0.CR3</fixedVersion>
			<type>Bug</type>
		</buginformation>
		<fixedFiles>
			<file type="M">org.jboss.as.connector.subsystems.datasources.Constants.java</file>
		</fixedFiles>
	</bug>
	<bug id="5502" opendate="2015-10-09 13:44:58" fixdate="2015-10-14 12:12:18" resolution="Done">
		<buginformation>
			<summary>Don&amp;apos;t require marshallable session attributes if the cache does not require it</summary>
			<description>The distributed session manager implementation requires its session attributes to be marshallable.  However, if the cache is not clustered or persistent, this enforcement is unnecessary and puts unreasonable constraints on an application.</description>
			<version>10.0.0.CR2</version>
			<fixedVersion>10.0.0.CR3</fixedVersion>
			<type>Bug</type>
		</buginformation>
		<fixedFiles>
			<file type="M">org.wildfly.clustering.web.infinispan.session.fine.FineSessionAttributes.java</file>
			<file type="M">org.wildfly.clustering.web.infinispan.session.InfinispanSessionManagerFactory.java</file>
			<file type="M">org.wildfly.clustering.web.infinispan.session.coarse.CoarseSessionAttributes.java</file>
			<file type="M">org.wildfly.clustering.web.infinispan.session.coarse.CoarseSessionFactory.java</file>
			<file type="M">org.wildfly.clustering.web.infinispan.session.fine.FineSessionFactory.java</file>
		</fixedFiles>
	</bug>
	<bug id="5503" opendate="2015-10-09 14:36:52" fixdate="2015-10-14 12:12:44" resolution="Done">
		<buginformation>
			<summary>Invalidation cache should not trigger passivation/activation events per request</summary>
			<description></description>
			<version>10.0.0.CR2</version>
			<fixedVersion>10.0.0.CR3</fixedVersion>
			<type>Bug</type>
		</buginformation>
		<fixedFiles>
			<file type="M">org.wildfly.clustering.web.infinispan.session.InfinispanSessionManager.java</file>
		</fixedFiles>
	</bug>
	<bug id="5189" opendate="2015-08-24 15:17:41" fixdate="2015-10-14 12:13:23" resolution="Done">
		<buginformation>
			<summary>Eliminate "discarding discovery request for cluster=X from Y; our cluster name is Z" WARN messages</summary>
			<description>These WARN messages are due to the fact that WF no longer uses a shared transport for its jgroups channels (JGroups recently deprecated shared transport in favor of fork channels).  While these messages are harmless - they are quite annoying - and are the subject of several forum posts.
Currently, the messaging-activemq subsystem uses JChannels configured from a specific protocol stack.  We should modify the default configuration to use a ChannelFactory from the default channel, which will use a new fork of the default "ee" channel.  In xml/dmr terms, this corresponds not providing a value for jgroups-stack.
N.B. At the moment, this change will introduce new annoying WARN log messages until JGroups is upgraded to 3.6.5.Final, hence the jira dependency.</description>
			<version>10.0.0.Beta2</version>
			<fixedVersion>10.0.0.CR3</fixedVersion>
			<type>Bug</type>
		</buginformation>
		<fixedFiles>
			<file type="M">org.jboss.as.clustering.infinispan.subsystem.GlobalConfigurationBuilder.java</file>
			<file type="D">org.jboss.as.clustering.infinispan.subsystem.ComponentConfigurationBuilder.java</file>
			<file type="M">org.jboss.as.clustering.infinispan.ChannelTransport.java</file>
			<file type="M">org.jboss.as.clustering.jgroups.subsystem.ForkChannelFactoryBuilder.java</file>
			<file type="M">org.wildfly.clustering.jgroups.spi.service.ChannelServiceNameFactory.java</file>
			<file type="M">org.jboss.as.clustering.infinispan.subsystem.CacheContainerComponentBuilder.java</file>
			<file type="M">org.jboss.as.clustering.jgroups.subsystem.ProtocolResourceDefinition.java</file>
			<file type="M">org.jboss.as.clustering.infinispan.subsystem.SiteBuilder.java</file>
			<file type="M">org.wildfly.clustering.jgroups.spi.service.ChannelServiceName.java</file>
			<file type="M">org.wildfly.clustering.server.dispatcher.ChannelCommandDispatcherFactoryBuilder.java</file>
			<file type="M">org.jboss.as.clustering.jgroups.subsystem.JGroupsSubsystemServiceHandler.java</file>
			<file type="M">org.jboss.as.clustering.infinispan.subsystem.ScheduledThreadPoolBuilder.java</file>
			<file type="M">org.wildfly.extension.messaging.activemq.DiscoveryGroupAdd.java</file>
			<file type="M">org.wildfly.clustering.jgroups.spi.service.ProtocolStackServiceNameFactory.java</file>
			<file type="M">org.jboss.as.clustering.infinispan.subsystem.CacheContainerBuilder.java</file>
			<file type="M">org.wildfly.clustering.jgroups.spi.service.ProtocolStackServiceName.java</file>
			<file type="M">org.wildfly.extension.messaging.activemq.ServerAdd.java</file>
			<file type="M">org.jboss.as.clustering.jgroups.subsystem.TransportConfigurationBuilder.java</file>
			<file type="M">org.jboss.as.clustering.infinispan.subsystem.JGroupsTransportServiceHandler.java</file>
			<file type="M">org.wildfly.clustering.server.group.ChannelNodeFactoryBuilder.java</file>
			<file type="M">org.wildfly.extension.messaging.activemq.BroadcastGroupAdd.java</file>
			<file type="M">org.jboss.as.clustering.jgroups.JChannelFactory.java</file>
			<file type="M">org.jboss.as.clustering.infinispan.subsystem.ThreadPoolBuilder.java</file>
			<file type="M">org.jboss.as.clustering.infinispan.subsystem.CacheComponentBuilder.java</file>
		</fixedFiles>
		<links>
			<link type="Dependency" description="is blocked by">5190</link>
			<link type="Related" description="is related to">5459</link>
		</links>
	</bug>
	<bug id="5526" opendate="2015-10-14 13:00:00" fixdate="2015-10-19 07:20:13" resolution="Done">
		<buginformation>
			<summary>[Migration operation] Attribute forward-when-no-consumers is not migrated properly</summary>
			<description>Attribute forward-when-no-consumers should be migrated to message-load-balancing-type in the following way:
STRICT is like setting the legacy forward-when-no-consumers parameter to true
ON_DEMAND is like setting the legacy forward-when-no-consumers parameter to false
</description>
			<version>10.0.0.CR2</version>
			<fixedVersion>10.0.0.CR3</fixedVersion>
			<type>Bug</type>
		</buginformation>
		<fixedFiles>
			<file type="M">org.jboss.as.messaging.test.MigrateTestCase.java</file>
			<file type="M">org.jboss.as.messaging.logging.MessagingLogger.java</file>
			<file type="M">org.jboss.as.messaging.MigrateOperation.java</file>
		</fixedFiles>
		<links>
			<link type="Cloners" description="cloned from">1461</link>
		</links>
	</bug>
	<bug id="5015" opendate="2015-07-27 14:42:35" fixdate="2015-10-20 04:33:35" resolution="Done">
		<buginformation>
			<summary>RunAs in servlet doesn&amp;apos;t work</summary>
			<description>RunAs for servlets doesn&amp;amp;apos;t work in Undertow. 
I have unprotected @RunAs-annotated servlet which calls protected EJB method. The call should succeed, but it throws javax.ejb.EJBAccessException.</description>
			<version>10.0.0.Alpha6</version>
			<fixedVersion>10.0.0.CR3</fixedVersion>
			<type>Bug</type>
		</buginformation>
		<fixedFiles>
			<file type="M">org.jboss.as.ejb3.component.EJBComponentDescription.java</file>
			<file type="M">org.wildfly.extension.undertow.deployment.UndertowDeploymentInfoService.java</file>
			<file type="M">org.wildfly.extension.undertow.deployment.UndertowDeploymentProcessor.java</file>
		</fixedFiles>
		<links>
			<link type="Cloners" description="cloned from">512</link>
		</links>
	</bug>
	<bug id="5513" opendate="2015-10-12 13:08:38" fixdate="2015-10-20 21:31:24" resolution="Done">
		<buginformation>
			<summary>EAP7 missing jboss logging internationalization</summary>
			<description>It is required for EAP7 to contain all features from EAP6.
Per https://issues.jboss.org/browse/ANDIAMO-7, in EAP6 every serious log message (warn, error, fatal) should have a unique code that can be used to identify it.
However, we found 160 serious log messages in EAP7.0.0.DR11 without id.
List of serious log messages without id from a smoke test (link to Jenkins run will be provided when the automated test case is finished):






        /jboss-eap-7.0-src/ejb3/src/main/java/org/jboss/as/ejb3/remote/protocol/versionone/VersionOneProtocolChannelReceiver.java:318 EjbLogger.REMOTE_LOGGER.warn("Could not send a cluster removal message for cluster: " + registry.getGroup() + " to the client on channel " + channelAssociation.getChannel(), ioe);




        /jboss-eap-7.0-src/jpa/eclipselink/src/main/java/org/jipijapa/eclipselink/JBossLogger.java:86 getLoggerForCategory("logging").warnv("Received message for log level {0}, but no such level is defined in SessionLog! Logging at INFO level...", level);




        /jboss-eap-7.0-src/connector/src/main/java/org/jboss/as/connector/services/resourceadapters/deployment/AbstractResourceAdapterDeploymentService.java:178 DEPLOYMENT_CONNECTOR_LOGGER.error("Error during recovery shutdown", e);




        /jboss-eap-7.0-src/connector/src/main/java/org/jboss/as/connector/services/resourceadapters/deployment/AbstractResourceAdapterDeploymentService.java:199 DEPLOYMENT_CONNECTOR_LOGGER.warn("Exception during stopping resource adapter", nfe);




        /jboss-eap-7.0-src/connector/src/main/java/org/jboss/as/connector/subsystems/datasources/XaDataSourceService.java:64 ConnectorLogger.SUBSYSTEM_DATASOURCES_LOGGER.error("Error during recovery shutdown", e);






Giving blocker priority as this issue blocks RFE verification.</description>
			<version>10.0.0.CR2</version>
			<fixedVersion>10.0.0.CR4</fixedVersion>
			<type>Bug</type>
		</buginformation>
		<fixedFiles>
			<file type="M">org.jboss.as.connector.services.resourceadapters.deployment.AbstractResourceAdapterDeploymentService.java</file>
			<file type="M">org.jboss.as.ejb3.logging.EjbLogger.java</file>
			<file type="M">org.jboss.as.ejb3.remote.protocol.versionone.VersionOneProtocolChannelReceiver.java</file>
			<file type="M">org.jboss.as.connector.logging.ConnectorLogger.java</file>
			<file type="M">org.jboss.as.connector.subsystems.datasources.XaDataSourceService.java</file>
		</fixedFiles>
		<links>
			<link type="Cloners" description="cloned from">1408</link>
		</links>
	</bug>
	<bug id="5548" opendate="2015-10-20 14:28:26" fixdate="2015-10-21 08:13:45" resolution="Done">
		<buginformation>
			<summary>[Migration operation] Attribute backup-group-name is not migrated</summary>
			<description>If server is configured with HA policy for replicated journal and messaging subsystem contains attribute:






        &amp;lt;backup-group-name&amp;gt;firstPair&amp;lt;/backup-group-name&amp;gt;






then new messaging-activemq subsytem should contain something like:






        &amp;lt;replication-master ... group-name="firstPair" /&amp;gt;





</description>
			<version>10.0.0.CR3</version>
			<fixedVersion>10.0.0.CR4</fixedVersion>
			<type>Bug</type>
		</buginformation>
		<fixedFiles>
			<file type="M">org.jboss.as.connector.subsystems.datasources.JdbcDriverRemove.java</file>
			<file type="M">org.jboss.as.connector.services.driver.registry.DriverRegistryImpl.java</file>
			<file type="M">org.jboss.as.connector.subsystems.datasources.DataSourceModelNodeUtil.java</file>
			<file type="M">org.jboss.as.connector.subsystems.datasources.ModifiableXaDataSource.java</file>
			<file type="M">org.jboss.as.connector.subsystems.datasources.GetInstalledDriverOperationHandler.java</file>
			<file type="M">org.jboss.as.connector.subsystems.datasources.AbstractDataSourceService.java</file>
			<file type="M">org.jboss.as.connector.services.driver.InstalledDriver.java</file>
			<file type="M">org.jboss.as.connector.deployers.ds.processors.DriverProcessor.java</file>
			<file type="M">org.jboss.as.connector.services.driver.registry.DriverRegistry.java</file>
			<file type="M">org.jboss.as.connector.subsystems.datasources.Constants.java</file>
			<file type="M">org.jboss.as.connector.subsystems.datasources.XaDataSourceService.java</file>
			<file type="M">org.jboss.as.connector.subsystems.datasources.ModifiableDataSource.java</file>
			<file type="M">org.jboss.as.connector.deployers.datasource.DataSourceDefinitionInjectionSource.java</file>
			<file type="M">org.jboss.as.connector.deployers.ds.processors.DsXmlDeploymentInstallProcessor.java</file>
			<file type="M">org.jboss.as.connector.subsystems.datasources.LocalDataSourceService.java</file>
			<file type="M">org.jboss.as.connector.subsystems.datasources.JdbcDriverAdd.java</file>
			<file type="M">org.jboss.as.connector.subsystems.datasources.InstalledDriversListOperationHandler.java</file>
			<file type="M">org.jboss.as.messaging.test.MigrateTestCase.java</file>
			<file type="M">org.jboss.as.messaging.MigrateOperation.java</file>
		</fixedFiles>
		<links>
			<link type="Cloners" description="cloned from">1452</link>
		</links>
	</bug>
	<bug id="5458" opendate="2015-10-02 12:53:34" fixdate="2015-10-22 08:17:35" resolution="Done">
		<buginformation>
			<summary>jgroups-stack &amp; jgroups-channel attributes should not allow expressions</summary>
			<description>This attribute is a model reference, and therefore should not allow expressions.</description>
			<version>10.0.0.CR2</version>
			<fixedVersion>10.0.0.CR4</fixedVersion>
			<type>Bug</type>
		</buginformation>
		<fixedFiles>
			<file type="M">org.wildfly.extension.messaging.activemq.CommonAttributes.java</file>
		</fixedFiles>
		<links>
			<link type="Related" description="is related to">6166</link>
		</links>
	</bug>
	<bug id="5079" opendate="2015-08-12 10:06:08" fixdate="2015-10-22 10:49:15" resolution="Done">
		<buginformation>
			<summary>Removing non existent mail server with standard name (via CLI) doesn&amp;apos;t fail even though it should</summary>
			<description>Removing non-existent mail server (which is named smtp or pop3 or imap) via CLI operation doesn&amp;amp;apos;t fail even though it should.






/subsystem=mail/mail-session=java\:jboss\/mail\/test1439373303651:add(jndi-name=java\:jboss\/mail\/test1439373303651)




{"outcome" =&amp;gt; "success"}









 /subsystem=mail/mail-session=java\:jboss\/mail\/test1439373303651:read-children-names(child-type=server)




{




    "outcome" =&amp;gt; "success",




    "result" =&amp;gt; []




}




[standalone@localhost:9990 /] /subsystem=mail/mail-session=java\:jboss\/mail\/test1439373303651/server=smtp:remove




{




    "outcome" =&amp;gt; "success",




    "response-headers" =&amp;gt; {




        "operation-requires-reload" =&amp;gt; true,




        "process-state" =&amp;gt; "reload-required"




    }




}






Note: trying to remove non-existent server named e.g. xxx correctly fails see






/subsystem=mail/mail-session=java\:jboss\/mail\/test1439373303651/server=xxx:remove




{




    "outcome" =&amp;gt; "failed",




    "failure-description" =&amp;gt; "WFLYCTL0030: No resource definition is registered for address [




    (\"subsystem\" =&amp;gt; \"mail\"),




    (\"mail-session\" =&amp;gt; \"java:jboss/mail/test1439373303651\"),




    (\"server\" =&amp;gt; \"xxx\")




]",




    "rolled-back" =&amp;gt; true,




    "response-headers" =&amp;gt; {"process-state" =&amp;gt; "reload-required"}




}





</description>
			<version>10.0.0.Beta1</version>
			<fixedVersion>10.0.0.CR4</fixedVersion>
			<type>Bug</type>
		</buginformation>
		<fixedFiles>
			<file type="M">org.jboss.as.mail.extension.MailServerDefinition.java</file>
			<file type="M">org.jboss.as.mail.extension.MailSubsystem20TestCase.java</file>
		</fixedFiles>
		<links>
			<link type="Cloners" description="cloned from">649</link>
		</links>
	</bug>
	<bug id="5527" opendate="2015-10-14 13:36:58" fixdate="2015-10-22 12:41:39" resolution="Done">
		<buginformation>
			<summary>"WFLYCTL0171 unsatisfied dependencies" when removing an xa-datasource-properties resource</summary>
			<description>Steps to reproduce, same fro WF 9.0.1.Final and 10.0.0.CR2:
(1) create an XA Datasource:






{




    "operation" =&amp;gt; "composite",




    "address" =&amp;gt; [],




    "steps" =&amp;gt; [




        {




            "operation" =&amp;gt; "add",




            "address" =&amp;gt; [




                ("subsystem" =&amp;gt; "datasources"),




                ("xa-data-source" =&amp;gt; "testXaDs")




            ],




            "jndi-name" =&amp;gt; "java:/testXaDs",




            "driver-name" =&amp;gt; "h2",




            "xa-datasource-class" =&amp;gt; "org.h2.jdbcx.JdbcDataSource",




            "user-name" =&amp;gt; "sa",




            "password" =&amp;gt; "sa",




            "new-connection-sql" =&amp;gt; undefined,




            "url-delimiter" =&amp;gt; undefined,




            "url-selector-strategy-class-name" =&amp;gt; undefined,




            "use-java-context" =&amp;gt; undefined,




            "max-pool-size" =&amp;gt; undefined,




            "min-pool-size" =&amp;gt; undefined,




            "initial-pool-size" =&amp;gt; undefined,




            "pool-prefill" =&amp;gt; undefined,




            "pool-use-strict-min" =&amp;gt; undefined,




            "interleaving" =&amp;gt; undefined,




            "capacity-incrementer-class" =&amp;gt; undefined,




            "capacity-decrementer-class" =&amp;gt; undefined,




            "no-tx-separate-pool" =&amp;gt; undefined,




            "pad-xid" =&amp;gt; undefined,




            "same-rm-override" =&amp;gt; undefined,




            "wrap-xa-resource" =&amp;gt; undefined,




            "security-domain" =&amp;gt; undefined,




            "reauth-plugin-class-name" =&amp;gt; undefined,




            "flush-strategy" =&amp;gt; undefined,




            "allow-multiple-users" =&amp;gt; undefined,




            "connection-listener-class" =&amp;gt; undefined,




            "prepared-statements-cache-size" =&amp;gt; undefined,




            "share-prepared-statements" =&amp;gt; undefined,




            "track-statements" =&amp;gt; undefined,




            "allocation-retry" =&amp;gt; undefined,




            "allocation-retry-wait-millis" =&amp;gt; undefined,




            "blocking-timeout-wait-millis" =&amp;gt; undefined,




            "idle-timeout-minutes" =&amp;gt; undefined,




            "query-timeout" =&amp;gt; undefined,




            "use-try-lock" =&amp;gt; undefined,




            "set-tx-query-timeout" =&amp;gt; undefined,




            "transaction-isolation" =&amp;gt; undefined,




            "check-valid-connection-sql" =&amp;gt; undefined,




            "exception-sorter-class-name" =&amp;gt; undefined,




            "stale-connection-checker-class-name" =&amp;gt; undefined,




            "valid-connection-checker-class-name" =&amp;gt; undefined,




            "background-validation-millis" =&amp;gt; undefined,




            "background-validation" =&amp;gt; undefined,




            "use-fast-fail" =&amp;gt; undefined,




            "validate-on-match" =&amp;gt; undefined,




            "xa-resource-timeout" =&amp;gt; undefined,




            "spy" =&amp;gt; undefined,




            "use-ccm" =&amp;gt; undefined,




            "enabled" =&amp;gt; undefined,




            "connectable" =&amp;gt; undefined,




            "statistics-enabled" =&amp;gt; undefined,




            "tracking" =&amp;gt; undefined,




            "recovery-username" =&amp;gt; undefined,




            "recovery-password" =&amp;gt; undefined,




            "recovery-security-domain" =&amp;gt; undefined,




            "recovery-plugin-class-name" =&amp;gt; undefined,




            "no-recovery" =&amp;gt; undefined,




            "url-property" =&amp;gt; undefined,




            "reauth-plugin-properties" =&amp;gt; undefined,




            "exception-sorter-properties" =&amp;gt; undefined,




            "stale-connection-checker-properties" =&amp;gt; undefined,




            "valid-connection-checker-properties" =&amp;gt; undefined,




            "recovery-plugin-properties" =&amp;gt; undefined,




            "connection-listener-property" =&amp;gt; undefined,




            "capacity-incrementer-properties" =&amp;gt; undefined,




            "capacity-decrementer-properties" =&amp;gt; undefined




        },




        {




            "operation" =&amp;gt; "add",




            "address" =&amp;gt; [




                ("subsystem" =&amp;gt; "datasources"),




                ("xa-data-source" =&amp;gt; "testXaDs"),




                ("xa-datasource-properties" =&amp;gt; "URL")




            ],




            "value" =&amp;gt; "jdbc:h2:mem:test"




        },




        {




            "operation" =&amp;gt; "add",




            "address" =&amp;gt; [




                ("subsystem" =&amp;gt; "datasources"),




                ("xa-data-source" =&amp;gt; "testXaDs"),




                ("xa-datasource-properties" =&amp;gt; "xaProp2")




            ],




            "value" =&amp;gt; "xaVal2"




        }




    ]




}






(2) Update or remove any of the xa-datasource-properties:






{




    "operation" =&amp;gt; "composite",




    "address" =&amp;gt; [],




    "steps" =&amp;gt; [




        {




            "operation" =&amp;gt; "remove",




            "address" =&amp;gt; [




                ("subsystem" =&amp;gt; "datasources"),




                ("xa-data-source" =&amp;gt; "testXaDs"),




                ("xa-datasource-properties" =&amp;gt; "URL")




            ]




        },




        {




            "operation" =&amp;gt; "add",




            "address" =&amp;gt; [




                ("subsystem" =&amp;gt; "datasources"),




                ("xa-data-source" =&amp;gt; "testXaDs"),




                ("xa-datasource-properties" =&amp;gt; "URL")




            ],




            "value" =&amp;gt; "jdbc:h2:mem:test;DB_CLOSE_DELAY=5000"




        },




        {




            "operation" =&amp;gt; "remove",




            "address" =&amp;gt; [




                ("subsystem" =&amp;gt; "datasources"),




                ("xa-data-source" =&amp;gt; "testXaDs"),




                ("xa-datasource-properties" =&amp;gt; "xaProp2")




            ]




        },




        {




            "operation" =&amp;gt; "add",




            "address" =&amp;gt; [




                ("subsystem" =&amp;gt; "datasources"),




                ("xa-data-source" =&amp;gt; "testXaDs"),




                ("xa-datasource-properties" =&amp;gt; "xaProp3")




            ],




            "value" =&amp;gt; "xaVal3"




        }




    ]




}






(3) NOT OK: the composite operation fails






{




    "outcome" =&amp;gt; "failed",




    "result" =&amp;gt; {




        "step-1" =&amp;gt; {




            "outcome" =&amp;gt; "failed",




            "failure-description" =&amp;gt; "WFLYCTL0171: Removing services has lead to unsatisfied dependencies:




Service jboss.xa-data-source-config.testXaDs.xa-datasource-properties.URL was depended upon by service jboss.xa-data-source-config.testXaDs",




            "rolled-back" =&amp;gt; true




        },




        "step-2" =&amp;gt; {




            "outcome" =&amp;gt; "failed",




            "response-headers" =&amp;gt; {"operation-requires-reload" =&amp;gt; true},




            "rolled-back" =&amp;gt; true




        },




        "step-3" =&amp;gt; {




            "outcome" =&amp;gt; "failed",




            "failure-description" =&amp;gt; "WFLYCTL0171: Removing services has lead to unsatisfied dependencies:




Service jboss.xa-data-source-config.testXaDs.xa-datasource-properties.xaProp2 was depended upon by service jboss.xa-data-source-config.testXaDs",




            "rolled-back" =&amp;gt; true




        },




        "step-4" =&amp;gt; {




            "outcome" =&amp;gt; "failed",




            "response-headers" =&amp;gt; {"operation-requires-reload" =&amp;gt; true},




            "rolled-back" =&amp;gt; true




        }




    },




    "failure-description" =&amp;gt; {"WFLYCTL0062: Composite operation failed and was rolled back. Steps that failed:" =&amp;gt; {




        "Operation step-7" =&amp;gt; "WFLYCTL0171: Removing services has lead to unsatisfied dependencies:




Service jboss.xa-data-source-config.testXaDs.xa-datasource-properties.URL was depended upon by service jboss.xa-data-source-config.testXaDs",




        "Operation step-9" =&amp;gt; "WFLYCTL0171: Removing services has lead to unsatisfied dependencies:




Service jboss.xa-data-source-config.testXaDs.xa-datasource-properties.xaProp2 was depended upon by service jboss.xa-data-source-config.testXaDs"




    }},




    "rolled-back" =&amp;gt; true,




    "response-headers" =&amp;gt; {"process-state" =&amp;gt; "reload-required"}




}






EXPECTED: the operation should succeed
Workaround: When the same request is sent once again, the second invocation succeeds.</description>
			<version>9.0.1.Final</version>
			<fixedVersion></fixedVersion>
			<type>Bug</type>
		</buginformation>
		<fixedFiles>
			<file type="M">org.jboss.as.connector.subsystems.datasources.ConnectionPropertyDefinition.java</file>
			<file type="D">org.jboss.as.connector.subsystems.datasources.XaDataSourcePropertyRemove.java</file>
			<file type="D">org.jboss.as.connector.subsystems.datasources.ConnectionPropertyRemove.java</file>
			<file type="M">org.jboss.as.connector.subsystems.datasources.XaDataSourcePropertyDefinition.java</file>
		</fixedFiles>
		<links>
			<link type="Related" description="relates to">5528</link>
		</links>
	</bug>
	<bug id="5528" opendate="2015-10-14 14:44:58" fixdate="2015-10-22 12:41:46" resolution="Done">
		<buginformation>
			<summary>"WFLYCTL0171: unsatisfied dependencies" when removing a modified XA datasource</summary>
			<description>Please note that the present scenario ends with a similar error message and has the same workaround as WFLY-5527.
Steps to reproduce:
(1) Create an XA Datasource:






{




    "operation" =&amp;gt; "composite",




    "address" =&amp;gt; [],




    "steps" =&amp;gt; [




        {




            "operation" =&amp;gt; "add",




            "address" =&amp;gt; [




                ("subsystem" =&amp;gt; "datasources"),




                ("xa-data-source" =&amp;gt; "testXaDs")




            ],




            "jndi-name" =&amp;gt; "java:/testXaDs",




            "driver-name" =&amp;gt; "h2",




            "xa-datasource-class" =&amp;gt; "org.h2.jdbcx.JdbcDataSource",




            "user-name" =&amp;gt; "sa",




            "password" =&amp;gt; "sa",




            "new-connection-sql" =&amp;gt; undefined,




            "url-delimiter" =&amp;gt; undefined,




            "url-selector-strategy-class-name" =&amp;gt; undefined,




            "use-java-context" =&amp;gt; undefined,




            "max-pool-size" =&amp;gt; undefined,




            "min-pool-size" =&amp;gt; undefined,




            "initial-pool-size" =&amp;gt; undefined,




            "pool-prefill" =&amp;gt; undefined,




            "pool-use-strict-min" =&amp;gt; undefined,




            "interleaving" =&amp;gt; undefined,




            "capacity-incrementer-class" =&amp;gt; undefined,




            "capacity-decrementer-class" =&amp;gt; undefined,




            "no-tx-separate-pool" =&amp;gt; undefined,




            "pad-xid" =&amp;gt; undefined,




            "same-rm-override" =&amp;gt; undefined,




            "wrap-xa-resource" =&amp;gt; undefined,




            "security-domain" =&amp;gt; undefined,




            "reauth-plugin-class-name" =&amp;gt; undefined,




            "flush-strategy" =&amp;gt; undefined,




            "allow-multiple-users" =&amp;gt; undefined,




            "connection-listener-class" =&amp;gt; undefined,




            "prepared-statements-cache-size" =&amp;gt; undefined,




            "share-prepared-statements" =&amp;gt; undefined,




            "track-statements" =&amp;gt; undefined,




            "allocation-retry" =&amp;gt; undefined,




            "allocation-retry-wait-millis" =&amp;gt; undefined,




            "blocking-timeout-wait-millis" =&amp;gt; undefined,




            "idle-timeout-minutes" =&amp;gt; undefined,




            "query-timeout" =&amp;gt; undefined,




            "use-try-lock" =&amp;gt; undefined,




            "set-tx-query-timeout" =&amp;gt; undefined,




            "transaction-isolation" =&amp;gt; undefined,




            "check-valid-connection-sql" =&amp;gt; undefined,




            "exception-sorter-class-name" =&amp;gt; undefined,




            "stale-connection-checker-class-name" =&amp;gt; undefined,




            "valid-connection-checker-class-name" =&amp;gt; undefined,




            "background-validation-millis" =&amp;gt; undefined,




            "background-validation" =&amp;gt; undefined,




            "use-fast-fail" =&amp;gt; undefined,




            "validate-on-match" =&amp;gt; undefined,




            "xa-resource-timeout" =&amp;gt; undefined,




            "spy" =&amp;gt; undefined,




            "use-ccm" =&amp;gt; undefined,




            "enabled" =&amp;gt; undefined,




            "connectable" =&amp;gt; undefined,




            "statistics-enabled" =&amp;gt; undefined,




            "tracking" =&amp;gt; undefined,




            "recovery-username" =&amp;gt; undefined,




            "recovery-password" =&amp;gt; undefined,




            "recovery-security-domain" =&amp;gt; undefined,




            "recovery-plugin-class-name" =&amp;gt; undefined,




            "no-recovery" =&amp;gt; undefined,




            "url-property" =&amp;gt; undefined,




            "reauth-plugin-properties" =&amp;gt; undefined,




            "exception-sorter-properties" =&amp;gt; undefined,




            "stale-connection-checker-properties" =&amp;gt; undefined,




            "valid-connection-checker-properties" =&amp;gt; undefined,




            "recovery-plugin-properties" =&amp;gt; undefined,




            "connection-listener-property" =&amp;gt; undefined,




            "capacity-incrementer-properties" =&amp;gt; undefined,




            "capacity-decrementer-properties" =&amp;gt; undefined




        },




        {




            "operation" =&amp;gt; "add",




            "address" =&amp;gt; [




                ("subsystem" =&amp;gt; "datasources"),




                ("xa-data-source" =&amp;gt; "testXaDs"),




                ("xa-datasource-properties" =&amp;gt; "URL")




            ],




            "value" =&amp;gt; "jdbc:h2:mem:test"




        }




    ]




}






(2) Update its "jndi-name"






{




    "operation" =&amp;gt; "composite",




    "address" =&amp;gt; [],




    "steps" =&amp;gt; [




        {




            "operation" =&amp;gt; "write-attribute",




            "address" =&amp;gt; [




                ("subsystem" =&amp;gt; "datasources"),




                ("xa-data-source" =&amp;gt; "testXaDs")




            ],




            "name" =&amp;gt; "jndi-name",




            "value" =&amp;gt; "java:/testXaDs_changed"




        }




    ]




}






This composite operation succeeds.
(3) Remove the XA Datasource:






{




    "operation" =&amp;gt; "remove",




    "address" =&amp;gt; [




        ("subsystem" =&amp;gt; "datasources"),




        ("xa-data-source" =&amp;gt; "testXaDs")




    ]




}






NOT OK: the operation fails: 






{




    "outcome" =&amp;gt; "failed",




    "failure-description" =&amp;gt; "WFLYCTL0171: Removing services has lead to unsatisfied dependencies:




Service jboss.data-source.reference-factory.testXaDs was depended upon by service jboss.naming.context.java.testXaDs




Service jboss.xa-data-source-config.testXaDs was depended upon by service jboss.data-source.java:/testXaDs",




    "rolled-back" =&amp;gt; true,




    "response-headers" =&amp;gt; {"process-state" =&amp;gt; "reload-required"}




}






EXPECTED: the operation should succeed
Workaround: When the same request is sent once again, the second invocation succeeds.</description>
			<version>9.0.1.Final</version>
			<fixedVersion></fixedVersion>
			<type>Bug</type>
		</buginformation>
		<fixedFiles>
			<file type="M">org.jboss.as.test.multinode.ejb.timer.database.DatabaseTimerServiceMultiNodeExecutionDisabledTestCase.java</file>
			<file type="D">org.jboss.as.test.integration.jca.datasource.remove.RemoveDsBeanRemote.java</file>
			<file type="M">org.jboss.as.test.smoke.mgmt.datasource.DataSourceOperationsUnitTestCase.java</file>
			<file type="D">org.jboss.as.test.integration.jca.datasource.remove.AbstractDsRemove.java</file>
			<file type="D">org.jboss.as.test.integration.jca.datasource.remove.RemoveDsServlet.java</file>
			<file type="M">org.jboss.as.test.manualmode.security.SecuredDataSourceTestCase.java</file>
			<file type="D">org.jboss.as.connector.subsystems.datasources.DataSourceRemove.java</file>
			<file type="M">org.jboss.as.connector.subsystems.datasources.DataSourceDefinition.java</file>
			<file type="M">org.jboss.as.test.integration.management.cli.DataSourceTestCase.java</file>
			<file type="D">org.jboss.as.test.integration.jca.datasource.remove.WebAppDsRemoveTestCase.java</file>
			<file type="M">org.jboss.as.test.integration.management.jca.DsMgmtTestBase.java</file>
			<file type="M">org.jboss.as.test.integration.domain.management.cli.DataSourceTestCase.java</file>
			<file type="M">org.jboss.as.connector.subsystems.datasources.XaDataSourceDefinition.java</file>
			<file type="D">org.jboss.as.test.integration.jca.datasource.remove.RemoveDsBean.java</file>
			<file type="D">org.jboss.as.connector.subsystems.datasources.XaDataSourceRemove.java</file>
			<file type="M">org.jboss.as.test.integration.jca.statistics.DataSourcePoolStatisticsTestCase.java</file>
			<file type="M">org.jboss.as.test.integration.jca.statistics.DataSourceJdbcStatisticsTestCase.java</file>
			<file type="D">org.jboss.as.connector.subsystems.datasources.AbstractDataSourceRemove.java</file>
			<file type="D">org.jboss.as.test.integration.jca.datasource.remove.EjbAppDsRemoveTestCase.java</file>
		</fixedFiles>
		<links>
			<link type="Related" description="is related to">5527</link>
		</links>
	</bug>
	<bug id="5186" opendate="2015-08-24 13:47:07" fixdate="2015-10-22 21:05:58" resolution="Done">
		<buginformation>
			<summary>TimeoutException: Unable to acquire lock after 15 seconds</summary>
			<description>Seen in these scenarios:
ejb-ejbservlet-shutdown-repl-async
ejb-ejbservlet-jvmkill-repl-async
http-session-shutdown-repl-async-tcpStack
http-session-undeploy-dist-sync
With no obvious connection to failover of the nodes, usually all the 4 servers log this error few times during the testrun (each server different time):






[JBossINF] [0m[31m17:21:36,562 ERROR [org.infinispan.interceptors.InvocationContextInterceptor] (remote-thread--p4-t1) ISPN000136: Execution error: org.infinispan.util.concurrent.TimeoutException: ISPN000299: Unable to acquire lock after 15 seconds for key D89rThGoUJDT6kuJ-MV7w_4TeNsSpQvBoL2wKi0l and requestor GlobalTransaction:&amp;lt;perf20&amp;gt;:56262:remote. Lock is held by GlobalTransaction:&amp;lt;perf20&amp;gt;:51723:remote, while request came from perf20




[JBossINF] 	at org.infinispan.util.concurrent.locks.LockManagerImpl.lock(LockManagerImpl.java:198)




[JBossINF] 	at org.infinispan.util.concurrent.locks.LockManagerImpl.acquireLock(LockManagerImpl.java:171)




[JBossINF] 	at org.infinispan.interceptors.locking.AbstractTxLockingInterceptor.lockKeyAndCheckOwnership(AbstractTxLockingInterceptor.java:180)




[JBossINF] 	at org.infinispan.interceptors.locking.AbstractTxLockingInterceptor.lockAndRegisterBackupLock(AbstractTxLockingInterceptor.java:118)




[JBossINF] 	at org.infinispan.interceptors.locking.PessimisticLockingInterceptor.visitLockControlCommand(PessimisticLockingInterceptor.java:200)




[JBossINF] 	at org.infinispan.commands.control.LockControlCommand.acceptVisitor(LockControlCommand.java:110)




[JBossINF] 	at org.infinispan.interceptors.base.CommandInterceptor.invokeNextInterceptor(CommandInterceptor.java:97)




[JBossINF] 	at org.infinispan.interceptors.base.CommandInterceptor.handleDefault(CommandInterceptor.java:111)




[JBossINF] 	at org.infinispan.commands.AbstractVisitor.visitLockControlCommand(AbstractVisitor.java:174)




[JBossINF] 	at org.infinispan.commands.control.LockControlCommand.acceptVisitor(LockControlCommand.java:110)




[JBossINF] 	at org.infinispan.interceptors.base.CommandInterceptor.invokeNextInterceptor(CommandInterceptor.java:97)




[JBossINF] 	at org.infinispan.interceptors.TxInterceptor.invokeNextInterceptorAndVerifyTransaction(TxInterceptor.java:141)




[JBossINF] 	at org.infinispan.interceptors.TxInterceptor.visitLockControlCommand(TxInterceptor.java:199)




[JBossINF] 	at org.infinispan.commands.control.LockControlCommand.acceptVisitor(LockControlCommand.java:110)




[JBossINF] 	at org.infinispan.interceptors.base.CommandInterceptor.invokeNextInterceptor(CommandInterceptor.java:97)




[JBossINF] 	at org.infinispan.interceptors.base.CommandInterceptor.handleDefault(CommandInterceptor.java:111)




[JBossINF] 	at org.infinispan.commands.AbstractVisitor.visitLockControlCommand(AbstractVisitor.java:174)




[JBossINF] 	at org.infinispan.statetransfer.TransactionSynchronizerInterceptor.visitLockControlCommand(TransactionSynchronizerInterceptor.java:75)




[JBossINF] 	at org.infinispan.commands.control.LockControlCommand.acceptVisitor(LockControlCommand.java:110)




[JBossINF] 	at org.infinispan.interceptors.base.CommandInterceptor.invokeNextInterceptor(CommandInterceptor.java:97)




[JBossINF] 	at org.infinispan.statetransfer.StateTransferInterceptor.handleTxCommand(StateTransferInterceptor.java:196)




[JBossINF] 	at org.infinispan.statetransfer.StateTransferInterceptor.visitLockControlCommand(StateTransferInterceptor.java:99)




[JBossINF] 	at org.infinispan.commands.control.LockControlCommand.acceptVisitor(LockControlCommand.java:110)




[JBossINF] 	at org.infinispan.interceptors.base.CommandInterceptor.invokeNextInterceptor(CommandInterceptor.java:97)




[JBossINF] 	at org.infinispan.interceptors.base.CommandInterceptor.handleDefault(CommandInterceptor.java:111)




[JBossINF] 	at org.infinispan.commands.AbstractVisitor.visitLockControlCommand(AbstractVisitor.java:174)




[JBossINF] 	at org.infinispan.commands.control.LockControlCommand.acceptVisitor(LockControlCommand.java:110)




[JBossINF] 	at org.infinispan.interceptors.base.CommandInterceptor.invokeNextInterceptor(CommandInterceptor.java:97)




[JBossINF] 	at org.infinispan.interceptors.InvocationContextInterceptor.handleAll(InvocationContextInterceptor.java:102)




[JBossINF] 	at org.infinispan.interceptors.InvocationContextInterceptor.visitLockControlCommand(InvocationContextInterceptor.java:76)




[JBossINF] 	at org.infinispan.commands.control.LockControlCommand.acceptVisitor(LockControlCommand.java:110)




[JBossINF] 	at org.infinispan.interceptors.InterceptorChain.invoke(InterceptorChain.java:336)




[JBossINF] 	at org.infinispan.commands.control.LockControlCommand.perform(LockControlCommand.java:129)




[JBossINF] 	at org.infinispan.remoting.inboundhandler.BasePerCacheInboundInvocationHandler.invokePerform(BasePerCacheInboundInvocationHandler.java:85)




[JBossINF] 	at org.infinispan.remoting.inboundhandler.BaseBlockingRunnable.run(BaseBlockingRunnable.java:34)




[JBossINF] 	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)




[JBossINF] 	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)




[JBossINF] 	at java.lang.Thread.run(Thread.java:745)






The error is usually followed by a warning: 






[JBossINF] [0m[33m17:21:36,563 WARN  [org.infinispan.remoting.inboundhandler.NonTotalOrderPerCacheInboundInvocationHandler] (remote-thread--p4-t1) ISPN000071: Caught exception when handling command LockControlCommand{cache=clusterbench-ee7.ear.clusterbench-ee7-web-default.war, keys=[D89rThGoUJDT6kuJ-MV7w_4TeNsSpQvBoL2wKi0l], flags=[IGNORE_RETURN_VALUES], unlock=false, gtx=GlobalTransaction:&amp;lt;perf20&amp;gt;:56262:remote}: org.infinispan.util.concurrent.TimeoutException: ISPN000299: Unable to acquire lock after 15 seconds for key D89rThGoUJDT6kuJ-MV7w_4TeNsSpQvBoL2wKi0l and requestor GlobalTransaction:&amp;lt;perf20&amp;gt;:56262:remote. Lock is held by GlobalTransaction:&amp;lt;perf20&amp;gt;:51723:remote, while request came from perf20




[JBossINF] 	at org.infinispan.util.concurrent.locks.LockManagerImpl.lock(LockManagerImpl.java:198)




[JBossINF] 	at org.infinispan.util.concurrent.locks.LockManagerImpl.acquireLock(LockManagerImpl.java:171)




[JBossINF] 	at org.infinispan.interceptors.locking.AbstractTxLockingInterceptor.lockKeyAndCheckOwnership(AbstractTxLockingInterceptor.java:180)




[JBossINF] 	at org.infinispan.interceptors.locking.AbstractTxLockingInterceptor.lockAndRegisterBackupLock(AbstractTxLockingInterceptor.java:118)




[JBossINF] 	at org.infinispan.interceptors.locking.PessimisticLockingInterceptor.visitLockControlCommand(PessimisticLockingInterceptor.java:200)




[JBossINF] 	at org.infinispan.commands.control.LockControlCommand.acceptVisitor(LockControlCommand.java:110)




[JBossINF] 	at org.infinispan.interceptors.base.CommandInterceptor.invokeNextInterceptor(CommandInterceptor.java:97)




[JBossINF] 	at org.infinispan.interceptors.base.CommandInterceptor.handleDefault(CommandInterceptor.java:111)




[JBossINF] 	at org.infinispan.commands.AbstractVisitor.visitLockControlCommand(AbstractVisitor.java:174)




[JBossINF] 	at org.infinispan.commands.control.LockControlCommand.acceptVisitor(LockControlCommand.java:110)




[JBossINF] 	at org.infinispan.interceptors.base.CommandInterceptor.invokeNextInterceptor(CommandInterceptor.java:97)




[JBossINF] 	at org.infinispan.interceptors.TxInterceptor.invokeNextInterceptorAndVerifyTransaction(TxInterceptor.java:141)




[JBossINF] 	at org.infinispan.interceptors.TxInterceptor.visitLockControlCommand(TxInterceptor.java:199)




[JBossINF] 	at org.infinispan.commands.control.LockControlCommand.acceptVisitor(LockControlCommand.java:110)




[JBossINF] 	at org.infinispan.interceptors.base.CommandInterceptor.invokeNextInterceptor(CommandInterceptor.java:97)




[JBossINF] 	at org.infinispan.interceptors.base.CommandInterceptor.handleDefault(CommandInterceptor.java:111)




[JBossINF] 	at org.infinispan.commands.AbstractVisitor.visitLockControlCommand(AbstractVisitor.java:174)




[JBossINF] 	at org.infinispan.statetransfer.TransactionSynchronizerInterceptor.visitLockControlCommand(TransactionSynchronizerInterceptor.java:75)




[JBossINF] 	at org.infinispan.commands.control.LockControlCommand.acceptVisitor(LockControlCommand.java:110)




[JBossINF] 	at org.infinispan.interceptors.base.CommandInterceptor.invokeNextInterceptor(CommandInterceptor.java:97)




[JBossINF] 	at org.infinispan.statetransfer.StateTransferInterceptor.handleTxCommand(StateTransferInterceptor.java:196)




[JBossINF] 	at org.infinispan.statetransfer.StateTransferInterceptor.visitLockControlCommand(StateTransferInterceptor.java:99)




[JBossINF] 	at org.infinispan.commands.control.LockControlCommand.acceptVisitor(LockControlCommand.java:110)




[JBossINF] 	at org.infinispan.interceptors.base.CommandInterceptor.invokeNextInterceptor(CommandInterceptor.java:97)




[JBossINF] 	at org.infinispan.interceptors.base.CommandInterceptor.handleDefault(CommandInterceptor.java:111)




[JBossINF] 	at org.infinispan.commands.AbstractVisitor.visitLockControlCommand(AbstractVisitor.java:174)




[JBossINF] 	at org.infinispan.commands.control.LockControlCommand.acceptVisitor(LockControlCommand.java:110)




[JBossINF] 	at org.infinispan.interceptors.base.CommandInterceptor.invokeNextInterceptor(CommandInterceptor.java:97)




[JBossINF] 	at org.infinispan.interceptors.InvocationContextInterceptor.handleAll(InvocationContextInterceptor.java:102)




[JBossINF] 	at org.infinispan.interceptors.InvocationContextInterceptor.visitLockControlCommand(InvocationContextInterceptor.java:76)




[JBossINF] 	at org.infinispan.commands.control.LockControlCommand.acceptVisitor(LockControlCommand.java:110)




[JBossINF] 	at org.infinispan.interceptors.InterceptorChain.invoke(InterceptorChain.java:336)




[JBossINF] 	at org.infinispan.commands.control.LockControlCommand.perform(LockControlCommand.java:129)




[JBossINF] 	at org.infinispan.remoting.inboundhandler.BasePerCacheInboundInvocationHandler.invokePerform(BasePerCacheInboundInvocationHandler.java:85)




[JBossINF] 	at org.infinispan.remoting.inboundhandler.BaseBlockingRunnable.run(BaseBlockingRunnable.java:34)




[JBossINF] 	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)




[JBossINF] 	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)




[JBossINF] 	at java.lang.Thread.run(Thread.java:745)






While the error was logged 15 times by all servers in this particular run, the warning message was logged 505 times.
Server log:
http://jenkins.mw.lab.eng.bos.redhat.com/hudson/job/eap-7x-failover-ejb-ejbservlet-shutdown-repl-async/6/console-perf19/ 
The same error with different stacktrace:






[JBossINF] [0m[31m17:21:16,585 ERROR [org.infinispan.interceptors.InvocationContextInterceptor] (default task-45) ISPN000136: Execution error: org.infinispan.util.concurrent.TimeoutException: ISPN000299: Unable to acquire lock after 15 seconds for key UnknownSessionID [5365576765655250685155485253536866686865666767514850676951495057] and requestor GlobalTransaction:&amp;lt;perf20&amp;gt;:52228:local. Lock is held by GlobalTransaction:&amp;lt;perf20&amp;gt;:49990:local, while request came from local




[JBossINF] 	at org.infinispan.util.concurrent.locks.LockManagerImpl.lock(LockManagerImpl.java:198)




[JBossINF] 	at org.infinispan.util.concurrent.locks.LockManagerImpl.acquireLock(LockManagerImpl.java:171)




[JBossINF] 	at org.infinispan.interceptors.locking.AbstractTxLockingInterceptor.lockKeyAndCheckOwnership(AbstractTxLockingInterceptor.java:180)




[JBossINF] 	at org.infinispan.interceptors.locking.PessimisticLockingInterceptor.lockAndRegisterBackupLock(PessimisticLockingInterceptor.java:261)




[JBossINF] 	at org.infinispan.interceptors.locking.PessimisticLockingInterceptor.visitDataWriteCommand(PessimisticLockingInterceptor.java:131)




[JBossINF] 	at org.infinispan.interceptors.locking.AbstractLockingInterceptor.visitReplaceCommand(AbstractLockingInterceptor.java:60)




[JBossINF] 	at org.infinispan.commands.write.ReplaceCommand.acceptVisitor(ReplaceCommand.java:55)




[JBossINF] 	at org.infinispan.interceptors.base.CommandInterceptor.invokeNextInterceptor(CommandInterceptor.java:97)




[JBossINF] 	at org.infinispan.interceptors.base.CommandInterceptor.handleDefault(CommandInterceptor.java:111)




[JBossINF] 	at org.infinispan.commands.AbstractVisitor.visitReplaceCommand(AbstractVisitor.java:54)




[JBossINF] 	at org.infinispan.commands.write.ReplaceCommand.acceptVisitor(ReplaceCommand.java:55)




[JBossINF] 	at org.infinispan.interceptors.base.CommandInterceptor.invokeNextInterceptor(CommandInterceptor.java:97)




[JBossINF] 	at org.infinispan.interceptors.TxInterceptor.enlistWriteAndInvokeNext(TxInterceptor.java:308)




[JBossINF] 	at org.infinispan.interceptors.TxInterceptor.visitReplaceCommand(TxInterceptor.java:219)




[JBossINF] 	at org.infinispan.commands.write.ReplaceCommand.acceptVisitor(ReplaceCommand.java:55)




[JBossINF] 	at org.infinispan.interceptors.base.CommandInterceptor.invokeNextInterceptor(CommandInterceptor.java:97)




[JBossINF] 	at org.infinispan.interceptors.base.CommandInterceptor.handleDefault(CommandInterceptor.java:111)




[JBossINF] 	at org.infinispan.commands.AbstractVisitor.visitReplaceCommand(AbstractVisitor.java:54)




[JBossINF] 	at org.infinispan.commands.write.ReplaceCommand.acceptVisitor(ReplaceCommand.java:55)




[JBossINF] 	at org.infinispan.interceptors.base.CommandInterceptor.invokeNextInterceptor(CommandInterceptor.java:97)




[JBossINF] 	at org.infinispan.statetransfer.StateTransferInterceptor.handleTxWriteCommand(StateTransferInterceptor.java:261)




[JBossINF] 	at org.infinispan.statetransfer.StateTransferInterceptor.handleWriteCommand(StateTransferInterceptor.java:243)




[JBossINF] 	at org.infinispan.statetransfer.StateTransferInterceptor.visitReplaceCommand(StateTransferInterceptor.java:124)




[JBossINF] 	at org.infinispan.commands.write.ReplaceCommand.acceptVisitor(ReplaceCommand.java:55)




[JBossINF] 	at org.infinispan.interceptors.base.CommandInterceptor.invokeNextInterceptor(CommandInterceptor.java:97)




[JBossINF] 	at org.infinispan.interceptors.CacheMgmtInterceptor.updateStoreStatistics(CacheMgmtInterceptor.java:191)




[JBossINF] 	at org.infinispan.interceptors.CacheMgmtInterceptor.visitReplaceCommand(CacheMgmtInterceptor.java:182)




[JBossINF] 	at org.infinispan.commands.write.ReplaceCommand.acceptVisitor(ReplaceCommand.java:55)




[JBossINF] 	at org.infinispan.interceptors.base.CommandInterceptor.invokeNextInterceptor(CommandInterceptor.java:97)




[JBossINF] 	at org.infinispan.interceptors.InvocationContextInterceptor.handleAll(InvocationContextInterceptor.java:102)




[JBossINF] 	at org.infinispan.interceptors.InvocationContextInterceptor.handleDefault(InvocationContextInterceptor.java:71)




[JBossINF] 	at org.infinispan.commands.AbstractVisitor.visitReplaceCommand(AbstractVisitor.java:54)




[JBossINF] 	at org.infinispan.commands.write.ReplaceCommand.acceptVisitor(ReplaceCommand.java:55)




[JBossINF] 	at org.infinispan.interceptors.InterceptorChain.invoke(InterceptorChain.java:336)




[JBossINF] 	at org.infinispan.cache.impl.CacheImpl.executeCommandAndCommitIfNeeded(CacheImpl.java:1613)




[JBossINF] 	at org.infinispan.cache.impl.CacheImpl.replaceInternal(CacheImpl.java:1158)




[JBossINF] 	at org.infinispan.cache.impl.CacheImpl.replace(CacheImpl.java:1151)




[JBossINF] 	at org.infinispan.cache.impl.DecoratedCache.replace(DecoratedCache.java:502)




[JBossINF] 	at org.infinispan.cache.impl.AbstractDelegatingCache.replace(AbstractDelegatingCache.java:262)




[JBossINF] 	at org.wildfly.clustering.ee.infinispan.CacheEntryMutator.mutate(CacheEntryMutator.java:52)




[JBossINF] 	at org.wildfly.clustering.ejb.infinispan.bean.InfinispanBean.close(InfinispanBean.java:113)




[JBossINF] 	at org.wildfly.clustering.ejb.infinispan.InfinispanBeanManager$SchedulableBean.close(InfinispanBeanManager.java:406)




[JBossINF] 	at org.jboss.as.ejb3.cache.distributable.DistributableCache.release(DistributableCache.java:136)




[JBossINF] 	at org.jboss.as.ejb3.component.stateful.StatefulSessionSynchronizationInterceptor.releaseInstance(StatefulSessionSynchronizationInterceptor.java:168)




[JBossINF] 	at org.jboss.as.ejb3.component.stateful.StatefulSessionSynchronizationInterceptor$StatefulSessionSynchronization.afterCompletion(StatefulSessionSynchronizationInterceptor.java:250)




[JBossINF] 	at org.jboss.as.txn.service.internal.tsr.JCAOrderedLastSynchronizationList.afterCompletion(JCAOrderedLastSynchronizationList.java:147)




[JBossINF] 	at com.arjuna.ats.internal.jta.resources.arjunacore.SynchronizationImple.afterCompletion(SynchronizationImple.java:96)




[JBossINF] 	at com.arjuna.ats.arjuna.coordinator.TwoPhaseCoordinator.afterCompletion(TwoPhaseCoordinator.java:545)




[JBossINF] 	at com.arjuna.ats.arjuna.coordinator.TwoPhaseCoordinator.end(TwoPhaseCoordinator.java:101)




[JBossINF] 	at com.arjuna.ats.arjuna.AtomicAction.commit(AtomicAction.java:162)




[JBossINF] 	at com.arjuna.ats.internal.jta.transaction.arjunacore.TransactionImple.commitAndDisassociate(TransactionImple.java:1200)




[JBossINF] 	at com.arjuna.ats.internal.jta.transaction.arjunacore.BaseTransaction.commit(BaseTransaction.java:126)




[JBossINF] 	at com.arjuna.ats.jbossatx.BaseTransactionManagerDelegate.commit(BaseTransactionManagerDelegate.java:89)




[JBossINF] 	at org.jboss.as.ejb3.tx.CMTTxInterceptor.endTransaction(CMTTxInterceptor.java:91)




[JBossINF] 	at org.jboss.as.ejb3.tx.CMTTxInterceptor.invokeInOurTx(CMTTxInterceptor.java:279)




[JBossINF] 	at org.jboss.as.ejb3.tx.CMTTxInterceptor.required(CMTTxInterceptor.java:327)




[JBossINF] 	at org.jboss.as.ejb3.tx.CMTTxInterceptor.processInvocation(CMTTxInterceptor.java:239)




[JBossINF] 	at org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:340)




[JBossINF] 	at org.jboss.as.ejb3.component.interceptors.CurrentInvocationContextInterceptor.processInvocation(CurrentInvocationContextInterceptor.java:41)




[JBossINF] 	at org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:340)




[JBossINF] 	at org.jboss.as.ejb3.component.invocationmetrics.WaitTimeInterceptor.processInvocation(WaitTimeInterceptor.java:43)




[JBossINF] 	at org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:340)




[JBossINF] 	at org.jboss.as.ejb3.security.SecurityContextInterceptor.processInvocation(SecurityContextInterceptor.java:100)




[JBossINF] 	at org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:340)




[JBossINF] 	at org.jboss.as.ejb3.component.interceptors.ShutDownInterceptorFactory$1.processInvocation(ShutDownInterceptorFactory.java:64)




[JBossINF] 	at org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:340)




[JBossINF] 	at org.jboss.as.ejb3.component.interceptors.LoggingInterceptor.processInvocation(LoggingInterceptor.java:66)




[JBossINF] 	at org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:340)




[JBossINF] 	at org.jboss.as.ee.component.NamespaceContextInterceptor.processInvocation(NamespaceContextInterceptor.java:50)




[JBossINF] 	at org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:340)




[JBossINF] 	at org.jboss.as.ejb3.component.interceptors.AdditionalSetupInterceptor.processInvocation(AdditionalSetupInterceptor.java:54)




[JBossINF] 	at org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:340)




[JBossINF] 	at org.jboss.invocation.ContextClassLoaderInterceptor.processInvocation(ContextClassLoaderInterceptor.java:64)




[JBossINF] 	at org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:340)




[JBossINF] 	at org.jboss.invocation.InterceptorContext.run(InterceptorContext.java:356)




[JBossINF] 	at org.wildfly.security.manager.WildFlySecurityManager.doChecked(WildFlySecurityManager.java:636)




[JBossINF] 	at org.jboss.invocation.AccessCheckingInterceptor.processInvocation(AccessCheckingInterceptor.java:61)




[JBossINF] 	at org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:340)




[JBossINF] 	at org.jboss.invocation.InterceptorContext.run(InterceptorContext.java:356)




[JBossINF] 	at org.jboss.invocation.PrivilegedWithCombinerInterceptor.processInvocation(PrivilegedWithCombinerInterceptor.java:80)




[JBossINF] 	at org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:340)




[JBossINF] 	at org.jboss.invocation.ChainedInterceptor.processInvocation(ChainedInterceptor.java:61)




[JBossINF] 	at org.jboss.as.ee.component.ViewService$View.invoke(ViewService.java:195)




[JBossINF] 	at org.jboss.as.ee.component.ViewDescription$1.processInvocation(ViewDescription.java:185)




[JBossINF] 	at org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:340)




[JBossINF] 	at org.jboss.invocation.ChainedInterceptor.processInvocation(ChainedInterceptor.java:61)




[JBossINF] 	at org.jboss.as.ee.component.ProxyInvocationHandler.invoke(ProxyInvocationHandler.java:73)




[JBossINF] 	at org.jboss.test.clusterbench.ejb.stateful.LocalStatefulSB$$$view3.getSerialAndIncrement(Unknown Source)




[JBossINF] 	at sun.reflect.GeneratedMethodAccessor22.invoke(Unknown Source)




[JBossINF] 	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)




[JBossINF] 	at java.lang.reflect.Method.invoke(Method.java:497)




[JBossINF] 	at org.jboss.weld.util.reflection.Reflections.invokeAndUnwrap(Reflections.java:434)




[JBossINF] 	at org.jboss.weld.bean.proxy.EnterpriseBeanProxyMethodHandler.invoke(EnterpriseBeanProxyMethodHandler.java:127)




[JBossINF] 	at org.jboss.weld.bean.proxy.EnterpriseTargetBeanInstance.invoke(EnterpriseTargetBeanInstance.java:56)




[JBossINF] 	at org.jboss.weld.bean.proxy.ProxyMethodHandler.invoke(ProxyMethodHandler.java:100)




[JBossINF] 	at org.jboss.test.clusterbench.ejb.stateful.LocalStatefulSB$Proxy$_$$_Weld$EnterpriseProxy$.getSerialAndIncrement(Unknown Source)




[JBossINF] 	at org.jboss.test.clusterbench.ejb.stateful.LocalStatefulSB$Proxy$_$$_WeldClientProxy.getSerialAndIncrement(Unknown Source)




[JBossINF] 	at org.jboss.test.clusterbench.web.ejb.LocalEjbServlet.doGet(LocalEjbServlet.java:38)




[JBossINF] 	at javax.servlet.http.HttpServlet.service(HttpServlet.java:687)




[JBossINF] 	at javax.servlet.http.HttpServlet.service(HttpServlet.java:790)




[JBossINF] 	at io.undertow.servlet.handlers.ServletHandler.handleRequest(ServletHandler.java:86)




[JBossINF] 	at io.undertow.servlet.handlers.security.ServletSecurityRoleHandler.handleRequest(ServletSecurityRoleHandler.java:62)




[JBossINF] 	at io.undertow.servlet.handlers.ServletDispatchingHandler.handleRequest(ServletDispatchingHandler.java:36)




[JBossINF] 	at org.wildfly.extension.undertow.security.SecurityContextAssociationHandler.handleRequest(SecurityContextAssociationHandler.java:78)




[JBossINF] 	at io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43)




[JBossINF] 	at io.undertow.servlet.handlers.security.SSLInformationAssociationHandler.handleRequest(SSLInformationAssociationHandler.java:131)




[JBossINF] 	at io.undertow.servlet.handlers.security.ServletAuthenticationCallHandler.handleRequest(ServletAuthenticationCallHandler.java:57)




[JBossINF] 	at io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43)




[JBossINF] 	at io.undertow.security.handlers.AbstractConfidentialityHandler.handleRequest(AbstractConfidentialityHandler.java:46)




[JBossINF] 	at io.undertow.servlet.handlers.security.ServletConfidentialityConstraintHandler.handleRequest(ServletConfidentialityConstraintHandler.java:64)




[JBossINF] 	at io.undertow.security.handlers.AuthenticationMechanismsHandler.handleRequest(AuthenticationMechanismsHandler.java:60)




[JBossINF] 	at io.undertow.servlet.handlers.security.CachedAuthenticatedSessionHandler.handleRequest(CachedAuthenticatedSessionHandler.java:72)




[JBossINF] 	at io.undertow.security.handlers.NotificationReceiverHandler.handleRequest(NotificationReceiverHandler.java:50)




[JBossINF] 	at io.undertow.security.handlers.AbstractSecurityContextAssociationHandler.handleRequest(AbstractSecurityContextAssociationHandler.java:43)




[JBossINF] 	at io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43)




[JBossINF] 	at org.wildfly.extension.undertow.security.jacc.JACCContextIdHandler.handleRequest(JACCContextIdHandler.java:61)




[JBossINF] 	at io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43)




[JBossINF] 	at io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43)




[JBossINF] 	at io.undertow.servlet.handlers.ServletInitialHandler.handleFirstRequest(ServletInitialHandler.java:282)




[JBossINF] 	at io.undertow.servlet.handlers.ServletInitialHandler.dispatchRequest(ServletInitialHandler.java:261)




[JBossINF] 	at io.undertow.servlet.handlers.ServletInitialHandler.access$000(ServletInitialHandler.java:80)




[JBossINF] 	at io.undertow.servlet.handlers.ServletInitialHandler$1.handleRequest(ServletInitialHandler.java:172)




[JBossINF] 	at io.undertow.server.Connectors.executeRootHandler(Connectors.java:199)




[JBossINF] 	at io.undertow.server.HttpServerExchange$1.run(HttpServerExchange.java:778)




[JBossINF] 	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)




[JBossINF] 	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)




[JBossINF] 	at java.lang.Thread.run(Thread.java:745)






Server log:
http://jenkins.mw.lab.eng.bos.redhat.com/hudson/job/eap-7x-failover-ejb-ejbservlet-shutdown-repl-async/6/console-perf20/
The timeout stated in the exception is sometimes not exactly 15 seconds, so far I have seen these variants: 14.99 seconds, 14.97 seconds, and also only few milliseconds , see this server log:
http://jenkins.mw.lab.eng.bos.redhat.com/hudson/job/eap-7x-failover-http-session-undeploy-dist-sync/5/console-perf18/
</description>
			<version>10.0.0.Beta1</version>
			<fixedVersion>10.0.0.CR3</fixedVersion>
			<type>Bug</type>
		</buginformation>
		<fixedFiles>
			<file type="M">org.wildfly.clustering.web.infinispan.session.InfinispanSessionManagerFactory.java</file>
			<file type="M">org.wildfly.clustering.web.infinispan.session.InfinispanSessionManager.java</file>
			<file type="M">org.wildfly.clustering.web.infinispan.session.ScheduleSchedulerCommand.java</file>
			<file type="M">org.wildfly.clustering.web.infinispan.session.SessionEvictionScheduler.java</file>
			<file type="M">org.wildfly.clustering.web.infinispan.session.SessionExpirationSchedulerTestCase.java</file>
			<file type="M">org.wildfly.clustering.web.infinispan.session.ExpiredSessionRemover.java</file>
			<file type="M">org.wildfly.clustering.web.infinispan.session.SessionExpirationScheduler.java</file>
			<file type="M">org.wildfly.clustering.web.infinispan.session.SessionEvictionSchedulerTestCase.java</file>
			<file type="M">org.wildfly.clustering.web.infinispan.session.SessionFactory.java</file>
			<file type="D">org.wildfly.clustering.web.infinispan.session.MockImmutableSession.java</file>
			<file type="D">org.wildfly.clustering.web.infinispan.session.coarse.CoarseSessionEntry.java</file>
			<file type="D">org.wildfly.clustering.web.infinispan.session.fine.FineSessionFactory.java</file>
			<file type="D">org.wildfly.clustering.web.infinispan.session.coarse.CoarseSessionFactory.java</file>
			<file type="M">org.wildfly.clustering.web.infinispan.session.ExpiredSessionRemoverTestCase.java</file>
			<file type="M">org.wildfly.clustering.web.infinispan.session.Scheduler.java</file>
			<file type="D">org.wildfly.clustering.web.infinispan.session.fine.FineSessionEntry.java</file>
			<file type="M">org.wildfly.clustering.web.infinispan.session.SessionCreationMetaDataEntry.java</file>
		</fixedFiles>
		<links>
			<link type="Causality" description="causes">5009</link>
			<link type="Cloners" description="cloned from">849</link>
			<link type="Related" description="relates to">5809</link>
		</links>
	</bug>
	<bug id="5517" opendate="2015-10-12 15:12:10" fixdate="2015-10-23 10:26:16" resolution="Done">
		<buginformation>
			<summary>Tests from RTS module fails with security manager</summary>
			<description>Description of problem:
Tests from RTS module fails with security manager
How reproducible:
Always
Steps to Reproduce:

./integration-tests.sh -Dmaven.repo.local=$MAVEN_REPO_LOCAL -fae -Dmaven.test.failure.ignore=true -Dnode0=$MYTESTIP_1 -Dnode1=$MYTESTIP_2 -Dmcast=$MCAST_ADDR -Djboss.dist=$JBOSS_DIST -Dsecurity.manager -Dts.rts

Actual results:
See attached file
Expected results:
No errors</description>
			<version>10.0.0.CR2</version>
			<fixedVersion></fixedVersion>
			<type>Bug</type>
		</buginformation>
		<fixedFiles>
			<file type="M">org.wildfly.test.extension.rts.CoordinatorTestCase.java</file>
			<file type="M">org.wildfly.test.extension.rts.ParticipantTestCase.java</file>
		</fixedFiles>
		<links>
			<link type="Cloners" description="cloned from">1423</link>
		</links>
	</bug>
	<bug id="5518" opendate="2015-10-12 15:37:40" fixdate="2015-10-23 12:33:05" resolution="Done">
		<buginformation>
			<summary>Tests from XTS module fails with security manager</summary>
			<description>Description of problem:
Tests from XTS module fails with security manager. BAParticipantCompletionTestCase fails on maven timeout [ERROR] There was a timeout or other error in the fork
How reproducible:
Always
Steps to Reproduce:

./integration-tests.sh -Dmaven.repo.local=$MAVEN_REPO_LOCAL -fae -Dmaven.test.failure.ignore=true -Dnode0=$MYTESTIP_1 -Dnode1=$MYTESTIP_2 -Dmcast=$MCAST_ADDR -Djboss.dist=$JBOSS_DIST -Dsecurity.manager -Dts.xts

Actual results:
See attached file
Expected results:
No errors</description>
			<version>10.0.0.CR2</version>
			<fixedVersion>10.0.0.CR4</fixedVersion>
			<type>Bug</type>
		</buginformation>
		<fixedFiles>
			<file type="M">org.jboss.as.test.xts.wsat.client.ATTestCase.java</file>
			<file type="M">org.jboss.as.test.xts.annotation.client.TransactionalTestCase.java</file>
			<file type="M">org.jboss.as.test.xts.annotation.client.CompensatableTestCase.java</file>
			<file type="M">org.jboss.as.test.xts.wsba.coordinatorcompletion.client.BACoordinatorCompletionTestCase.java</file>
			<file type="M">org.jboss.as.test.xts.annotation.compensationScoped.CompensationScopedTestCase.java</file>
			<file type="M">org.jboss.as.test.xts.wsba.participantcompletion.client.BAParticipantCompletionTestCase.java</file>
		</fixedFiles>
		<links>
			<link type="Cloners" description="cloned from">1426</link>
			<link type="Dependency" description="is blocked by">2519</link>
			<link type="Dependency" description="is blocked by">5559</link>
		</links>
	</bug>
	<bug id="5530" opendate="2015-10-14 22:03:32" fixdate="2015-10-23 17:32:28" resolution="Done">
		<buginformation>
			<summary>embed-server .cli script - data source enable no longer work</summary>
			<description>First time I report a problem, not sure if the specified the correct components....
Seems like a regression from Version 9; I have a .cli script to configure wildfly using embed-server, and enabling a datasource doesn&amp;amp;apos;t work anymore.</description>
			<version>10.0.0.CR2</version>
			<fixedVersion>10.0.0.CR4</fixedVersion>
			<type>Bug</type>
		</buginformation>
		<fixedFiles>
			<file type="M">org.jboss.as.connector.subsystems.datasources.DataSourceEnableDisable.java</file>
			<file type="M">org.jboss.as.connector.logging.ConnectorLogger.java</file>
			<file type="D">org.jboss.as.connector.subsystems.datasources.DataSourceEnable.java</file>
			<file type="M">org.jboss.as.connector.subsystems.datasources.XaDataSourceDefinition.java</file>
			<file type="D">org.jboss.as.connector.subsystems.datasources.DataSourceDisable.java</file>
			<file type="M">org.jboss.as.connector.subsystems.datasources.DataSourceDefinition.java</file>
		</fixedFiles>
	</bug>
	<bug id="5495" opendate="2015-10-08 13:18:35" fixdate="2015-10-23 17:33:03" resolution="Done">
		<buginformation>
			<summary>Can&amp;apos;t configure ID/data/timestamp columns of JDBC-based cache stores</summary>
			<description>When I&amp;amp;apos;m trying to configure a JDBC-based cache store for an "offload" Infinispan cache, configuration for the ID/data/timestamp columns is not applied. I found that this is the case by writing:






&amp;lt;replicated-cache name="offload" mode="SYNC"&amp;gt;




    &amp;lt;transaction mode="BATCH"/&amp;gt;




    &amp;lt;binary-keyed-jdbc-store data-source="testDS" passivation="false" preload="true" purge="false" shared="true"&amp;gt;




        &amp;lt;binary-keyed-table prefix="b"&amp;gt;




            &amp;lt;id-column name="id" type="VARCHAR(255)"/&amp;gt;




            &amp;lt;data-column name="datum" type="VARBINARY(10000)"/&amp;gt;




            &amp;lt;timestamp-column name="ver" type="BIGINT"/&amp;gt;




        &amp;lt;/binary-keyed-table&amp;gt;




    &amp;lt;/binary-keyed-jdbc-store&amp;gt;




&amp;lt;/replicated-cache&amp;gt;






and getting the following error:






15:12:44,254 ERROR [org.infinispan.persistence.jdbc.TableManipulation] (ServerService Thread Pool -- 65) ISPN008011: Error while creating table; used DDL statement: &amp;amp;apos;CREATE TABLE `b_clusterbench_ee7_ear_clusterbench_ee7_web_offload_war`(id VARCHAR NOT NULL, datum BINARY, version BIGINT, PRIMARY KEY (id))&amp;amp;apos;: com.mysql.jdbc.exceptions.jdbc4.MySQLSyntaxErrorException: You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near &amp;amp;apos;NOT NULL, datum BINARY, version BIGINT, PRIMARY KEY (id))&amp;amp;apos; at line 1






Clearly, the configuration isn&amp;amp;apos;t applied, because the SQL statement cited in the error message uses default column names and types, which are different from what was configured.</description>
			<version>10.0.0.CR2</version>
			<fixedVersion>10.0.0.CR4</fixedVersion>
			<type>Bug</type>
		</buginformation>
		<fixedFiles>
			<file type="M">org.jboss.as.clustering.infinispan.subsystem.TableBuilder.java</file>
		</fixedFiles>
		<links>
			<link type="Cloners" description="cloned from">1320</link>
		</links>
	</bug>
	<bug id="5455" opendate="2015-10-02 10:30:59" fixdate="2015-10-23 17:34:16" resolution="Done">
		<buginformation>
			<summary>[Migration operation] [Web to Undertow] migration of access-log prefix attribute doesn&amp;apos;t take into account default value resulting in incosistent result.</summary>
			<description>Access log prefix in web subsystem is by default access-log., in Undertow subsystem it is access-log. Note the difference, there is "." at the end in case of Web.
There is inconsistency of migrate operation when migrating prefix attribute. When prefix is not explicitly defined in Web (=&amp;gt; default is used =&amp;gt; access-log., note the dot at the end. It is migrated to default Undertow prefix, which is access-log (missing "." at the end). 
In case of having explicitely set prefix="access-log.", it is the same value as the default value in Web and in this case this is migrated to access-log. (the "." is there).
=&amp;gt; two equivalent Web subsystem configuration of access-log result in two different configurations in Undertow, which is not expected behaviour.
As this impacts only access-log naming, I am considering this only as minor issue.</description>
			<version>10.0.0.CR2</version>
			<fixedVersion>10.0.0.CR4</fixedVersion>
			<type>Bug</type>
		</buginformation>
		<fixedFiles>
			<file type="M">org.wildfly.extension.undertow.AccessLogDefinition.java</file>
		</fixedFiles>
		<links>
			<link type="Cloners" description="cloned from">1211</link>
		</links>
	</bug>
	<bug id="5452" opendate="2015-10-02 08:18:15" fixdate="2015-10-23 17:34:28" resolution="Done">
		<buginformation>
			<summary>Sometimes the calling javax.security.auth.login.Configuration.getConfiguration() fails with SecurityException in our tests</summary>
			<description>Sometimes the calling javax.security.auth.login.Configuration.getConfiguration() fails with SecurityException in our tests.</description>
			<version>10.0.0.CR2</version>
			<fixedVersion>10.0.0.CR4</fixedVersion>
			<type>Bug</type>
		</buginformation>
		<fixedFiles>
			<file type="M">org.jboss.as.test.integration.security.common.Utils.java</file>
		</fixedFiles>
	</bug>
	<bug id="5418" opendate="2015-09-28 12:48:57" fixdate="2015-10-23 17:35:26" resolution="Done">
		<buginformation>
			<summary>start-delivery/stop-delivery operations descriptions are missing from MDB deployment in domain mode</summary>
			<description>It is possible to start/stop delivery of messages to MDB in standalone mode using operations
start-delivery() and stop-delivery() on MDB deployment. 
Those operations are available in domain mode but their descriptions are missing (preventing CLI autocompletion to work as expected).</description>
			<version>JBoss AS7 7.2.0.Final</version>
			<fixedVersion>10.0.0.CR4</fixedVersion>
			<type>Bug</type>
		</buginformation>
		<fixedFiles>
			<file type="M">org.jboss.as.ejb3.subsystem.deployment.MessageDrivenBeanResourceDefinition.java</file>
		</fixedFiles>
		<links>
			<link type="Related" description="relates to">1111</link>
		</links>
	</bug>
	<bug id="5555" opendate="2015-10-21 08:25:14" fixdate="2015-10-29 09:28:46" resolution="Done">
		<buginformation>
			<summary>JMS Bridge ambiguous error reporting on module load failure </summary>
			<description>If JMS bridge depends on module that for some reason cant be loaded, log will show cryptic message:
10:21:26,173 ERROR [org.jboss.as.controller.management-operation] (ServerService Thread Pool  51) WFLYCTL0013: Operation ("add") failed - address: ([
    ("subsystem" =&amp;gt; "messaging-activemq"),
    ("jms-bridge" =&amp;gt; "a-to-c-bridge")
]) - failure description: "org.hornetq:main"
1. Failure description does not describe a thing
2. it points to HQ module, rather than custom module used in bridge conf.
Exception is thrown at JMSBridgeAdd:155</description>
			<version>10.0.0.CR4</version>
			<fixedVersion>10.0.0.CR5</fixedVersion>
			<type>Bug</type>
		</buginformation>
		<fixedFiles>
			<file type="M">org.wildfly.extension.messaging.activemq.jms.bridge.JMSBridgeAdd.java</file>
			<file type="M">org.wildfly.extension.messaging.activemq.logging.MessagingLogger.java</file>
		</fixedFiles>
		<links>
			<link type="Cloners" description="cloned to">1578</link>
		</links>
	</bug>
	<bug id="5604" opendate="2015-10-29 13:05:05" fixdate="2015-10-30 07:01:30" resolution="Done">
		<buginformation>
			<summary>Weld deployment services not cleaned up properly if a deployment fails</summary>
			<description>The cleanup is currently only performed as a part of org.jboss.as.weld.WeldStartService.stop(StopContext) invocation. However, if WeldStartService.start() fails (e.g. because of a validation error) the stop method is never invoked. Some Weld bootstrap services need to clean up resources even if the deployment fails, e.g. org.jboss.weld.bootstrap.events.ContainerLifecycleEvents (deactivable optimization) maintains a separate thread pool and so the referenced ExecutorService is never shut down explicitly and the only hope to free resources is the GC and finalizers whose execution is deferred and may never even occur.
We&amp;amp;apos;ve run into this problem when executing Weld and CDI TCK test suites on a specific HP-UX machine. Both test suites contain a lot of scenarios where the deployment fails. HP-UX jvm cannot handle this load and the test suite fails with "java.lang.OutOfMemoryError: unable to create new native thread".</description>
			<version>10.0.0.CR4</version>
			<fixedVersion>10.0.0.CR5</fixedVersion>
			<type>Bug</type>
		</buginformation>
		<fixedFiles>
			<file type="M">org.jboss.as.weld.deployment.processors.WeldDeploymentProcessor.java</file>
			<file type="M">org.jboss.as.weld.WeldBootstrapService.java</file>
		</fixedFiles>
		<links>
			<link type="Sequence" description="is followed up by">6031</link>
		</links>
	</bug>
	<bug id="5605" opendate="2015-10-29 17:19:29" fixdate="2015-10-30 15:03:12" resolution="Done">
		<buginformation>
			<summary>DataSourceDefinition is registering capabilities for deployment tree resources</summary>
			<description>The same DataSourceDefinition class is used for registering the MRR for the subsystem=data-sources/(xa-)data-source=* resources and for their equivalents in the /deployment=* tree. In both cases the registerCapabilities() method is recording the datasource capability.
The deployment resources are not actually able to provide the capability[1], so it shouldn&amp;amp;apos;t be registered in that case. I believe the DataSourceDefinition.deployed field can be used to turn this off.
[1] Capabilities are management model concepts and can&amp;amp;apos;t be provided by services and runtime-only resources. The /deployment=/subsystem= resources are runtime-only.</description>
			<version>10.0.0.CR4</version>
			<fixedVersion>10.0.0.CR5</fixedVersion>
			<type>Bug</type>
		</buginformation>
		<fixedFiles>
			<file type="M">org.jboss.as.connector.subsystems.datasources.DataSourceDefinition.java</file>
		</fixedFiles>
	</bug>
	<bug id="5594" opendate="2015-10-27 18:28:37" fixdate="2015-10-30 16:40:30" resolution="Done">
		<buginformation>
			<summary>ISE when configuring web/ejb clustering with invalidation cache</summary>
			<description>Both the web and ejb clustering modules use a key affinity service to generate session IDs for replication and distribution mode - however, they currently attempt to use a key affinity service with invalidation mode as well, which throws an ISE.  Neither LOCAL nor INVALIDATION caches should attempt to use a key affinity service.</description>
			<version>10.0.0.CR4</version>
			<fixedVersion>10.0.0.CR5</fixedVersion>
			<type>Bug</type>
		</buginformation>
		<fixedFiles>
			<file type="M">org.jboss.as.clustering.infinispan.subsystem.KeyAffinityServiceFactoryBuilder.java</file>
		</fixedFiles>
	</bug>
	<bug id="4938" opendate="2015-07-16 10:44:48" fixdate="2015-10-30 16:40:49" resolution="Done">
		<buginformation>
			<summary>NullPointerException at org.wildfly.clustering.server.registry.CacheRegistry.removed</summary>
			<description>Seen in our failover tests for remote stateful EJBs (but will be probably present in other scenarios as well).
This error is present in each server log in each test we have run so far. 
NullPointerException at at org.wildfly.clustering.server.registry.CacheRegistry.removed(CacheRegistry.java:178) occurs in a server log when some other server is shutting down/artefact is undeployed on the other server. 
It comes in these variants:






[JBossINF] [0m[31m14:12:09,106 ERROR [org.infinispan.interceptors.InvocationContextInterceptor] (remote-thread--p5-t15) ISPN000136: Execution error: org.infinispan.commons.CacheListenerException: ISPN000280: Caught exception [java.lang.NullPointerException] while invoking method [public void org.wildfly.clustering.server.registry.CacheRegistry.removed(org.infinispan.notifications.cachelistener.event.CacheEntryRemovedEvent)] on listener instance: org.wildfly.clustering.server.registry.CacheRegistryFactory$1@5e33069d




[JBossINF] 	at org.infinispan.notifications.impl.AbstractListenerImpl$ListenerInvocationImpl$1.run(AbstractListenerImpl.java:291)




[JBossINF] 	at org.infinispan.util.concurrent.WithinThreadExecutor.execute(WithinThreadExecutor.java:22)




[JBossINF] 	at org.infinispan.notifications.impl.AbstractListenerImpl$ListenerInvocationImpl.invoke(AbstractListenerImpl.java:309)




[JBossINF] 	at org.infinispan.notifications.cachelistener.CacheNotifierImpl$BaseCacheEntryListenerInvocation.doRealInvocation(CacheNotifierImpl.java:1212)




[JBossINF] 	at org.infinispan.notifications.cachelistener.CacheNotifierImpl$BaseCacheEntryListenerInvocation.invokeNoChecks(CacheNotifierImpl.java:1207)




[JBossINF] 	at org.infinispan.notifications.cachelistener.CacheNotifierImpl$BaseCacheEntryListenerInvocation.invoke(CacheNotifierImpl.java:1184)




[JBossINF] 	at org.infinispan.notifications.cachelistener.CacheNotifierImpl.notifyCacheEntryRemoved(CacheNotifierImpl.java:356)




[JBossINF] 	at org.infinispan.interceptors.locking.ClusteringDependentLogic$AbstractClusteringDependentLogic.notifyCommitEntry(ClusteringDependentLogic.java:132)




[JBossINF] 	at org.infinispan.interceptors.locking.ClusteringDependentLogic$InvalidationLogic.commitSingleEntry(ClusteringDependentLogic.java:331)




[JBossINF] 	at org.infinispan.interceptors.locking.ClusteringDependentLogic$ReplicationLogic.commitSingleEntry(ClusteringDependentLogic.java:372)




[JBossINF] 	at org.infinispan.interceptors.locking.ClusteringDependentLogic$AbstractClusteringDependentLogic.commitEntry(ClusteringDependentLogic.java:108)




[JBossINF] 	at org.infinispan.interceptors.EntryWrappingInterceptor.commitContextEntry(EntryWrappingInterceptor.java:371)




[JBossINF] 	at org.infinispan.interceptors.EntryWrappingInterceptor.commitEntryIfNeeded(EntryWrappingInterceptor.java:549)




[JBossINF] 	at org.infinispan.interceptors.EntryWrappingInterceptor.commitContextEntries(EntryWrappingInterceptor.java:357)




[JBossINF] 	at org.infinispan.interceptors.EntryWrappingInterceptor.visitPrepareCommand(EntryWrappingInterceptor.java:104)




[JBossINF] 	at org.infinispan.commands.tx.PrepareCommand.acceptVisitor(PrepareCommand.java:123)




[JBossINF] 	at org.infinispan.interceptors.base.CommandInterceptor.invokeNextInterceptor(CommandInterceptor.java:97)




[JBossINF] 	at org.infinispan.interceptors.locking.AbstractTxLockingInterceptor.invokeNextAndCommitIf1Pc(AbstractTxLockingInterceptor.java:96)




[JBossINF] 	at org.infinispan.interceptors.locking.PessimisticLockingInterceptor.visitPrepareCommand(PessimisticLockingInterceptor.java:99)




[JBossINF] 	at org.infinispan.commands.tx.PrepareCommand.acceptVisitor(PrepareCommand.java:123)




[JBossINF] 	at org.infinispan.interceptors.base.CommandInterceptor.invokeNextInterceptor(CommandInterceptor.java:97)




[JBossINF] 	at org.infinispan.interceptors.NotificationInterceptor.visitPrepareCommand(NotificationInterceptor.java:36)




[JBossINF] 	at org.infinispan.commands.tx.PrepareCommand.acceptVisitor(PrepareCommand.java:123)




[JBossINF] 	at org.infinispan.interceptors.base.CommandInterceptor.invokeNextInterceptor(CommandInterceptor.java:97)




[JBossINF] 	at org.infinispan.interceptors.TxInterceptor.invokeNextInterceptorAndVerifyTransaction(TxInterceptor.java:138)




[JBossINF] 	at org.infinispan.interceptors.TxInterceptor.visitPrepareCommand(TxInterceptor.java:125)




[JBossINF] 	at org.infinispan.commands.tx.PrepareCommand.acceptVisitor(PrepareCommand.java:123)




[JBossINF] 	at org.infinispan.interceptors.base.CommandInterceptor.invokeNextInterceptor(CommandInterceptor.java:97)




[JBossINF] 	at org.infinispan.interceptors.base.CommandInterceptor.handleDefault(CommandInterceptor.java:111)




[JBossINF] 	at org.infinispan.commands.AbstractVisitor.visitPrepareCommand(AbstractVisitor.java:123)




[JBossINF] 	at org.infinispan.statetransfer.TransactionSynchronizerInterceptor.visitPrepareCommand(TransactionSynchronizerInterceptor.java:39)




[JBossINF] 	at org.infinispan.commands.tx.PrepareCommand.acceptVisitor(PrepareCommand.java:123)




[JBossINF] 	at org.infinispan.interceptors.base.CommandInterceptor.invokeNextInterceptor(CommandInterceptor.java:97)




[JBossINF] 	at org.infinispan.statetransfer.StateTransferInterceptor.handleTxCommand(StateTransferInterceptor.java:200)




[JBossINF] 	at org.infinispan.statetransfer.StateTransferInterceptor.visitPrepareCommand(StateTransferInterceptor.java:88)




[JBossINF] 	at org.infinispan.commands.tx.PrepareCommand.acceptVisitor(PrepareCommand.java:123)




[JBossINF] 	at org.infinispan.interceptors.base.CommandInterceptor.invokeNextInterceptor(CommandInterceptor.java:97)




[JBossINF] 	at org.infinispan.interceptors.base.CommandInterceptor.handleDefault(CommandInterceptor.java:111)




[JBossINF] 	at org.infinispan.commands.AbstractVisitor.visitPrepareCommand(AbstractVisitor.java:123)




[JBossINF] 	at org.infinispan.commands.tx.PrepareCommand.acceptVisitor(PrepareCommand.java:123)




[JBossINF] 	at org.infinispan.interceptors.base.CommandInterceptor.invokeNextInterceptor(CommandInterceptor.java:97)




[JBossINF] 	at org.infinispan.interceptors.InvocationContextInterceptor.handleAll(InvocationContextInterceptor.java:102)




[JBossINF] 	at org.infinispan.interceptors.InvocationContextInterceptor.handleDefault(InvocationContextInterceptor.java:71)




[JBossINF] 	at org.infinispan.commands.AbstractVisitor.visitPrepareCommand(AbstractVisitor.java:123)




[JBossINF] 	at org.infinispan.commands.tx.PrepareCommand.acceptVisitor(PrepareCommand.java:123)




[JBossINF] 	at org.infinispan.interceptors.InterceptorChain.invoke(InterceptorChain.java:336)




[JBossINF] 	at org.infinispan.commands.tx.PrepareCommand.perform(PrepareCommand.java:113)




[JBossINF] 	at org.infinispan.remoting.inboundhandler.BasePerCacheInboundInvocationHandler.invokePerform(BasePerCacheInboundInvocationHandler.java:85)




[JBossINF] 	at org.infinispan.remoting.inboundhandler.BaseBlockingRunnable.run(BaseBlockingRunnable.java:32)




[JBossINF] 	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)




[JBossINF] 	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)




[JBossINF] 	at java.lang.Thread.run(Thread.java:745)




[JBossINF] Caused by: java.lang.NullPointerException




[JBossINF] 	at org.wildfly.clustering.server.registry.CacheRegistry.notifyListeners(CacheRegistry.java:183)




[JBossINF] 	at org.wildfly.clustering.server.registry.CacheRegistry.removed(CacheRegistry.java:178)




[JBossINF] 	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)




[JBossINF] 	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)




[JBossINF] 	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)




[JBossINF] 	at java.lang.reflect.Method.invoke(Method.java:497)




[JBossINF] 	at org.infinispan.notifications.impl.AbstractListenerImpl$ListenerInvocationImpl$1.run(AbstractListenerImpl.java:286)




[JBossINF] 	... 51 more






http://jenkins.mw.lab.eng.bos.redhat.com/hudson/job/eap-7x-failover-ejb-ejbremote-shutdown-repl-sync/2/console-perf20/






[JBossINF] [0m[31m14:05:17,107 ERROR [org.infinispan.interceptors.InvocationContextInterceptor] (transport-thread--p4-t5) ISPN000136: Execution error: org.infinispan.remoting.RemoteException: ISPN000217: Received exception from perf21, see cause for remote stack trace




[JBossINF] 	at org.infinispan.remoting.transport.AbstractTransport.checkResponse(AbstractTransport.java:46)




[JBossINF] 	at org.infinispan.remoting.transport.AbstractTransport.parseResponseAndAddToResponseList(AbstractTransport.java:71)




[JBossINF] 	at org.infinispan.remoting.transport.jgroups.JGroupsTransport.invokeRemotely(JGroupsTransport.java:586)




[JBossINF] 	at org.infinispan.remoting.rpc.RpcManagerImpl.invokeRemotely(RpcManagerImpl.java:287)




[JBossINF] 	at org.infinispan.interceptors.distribution.TxDistributionInterceptor.prepareOnAffectedNodes(TxDistributionInterceptor.java:222)




[JBossINF] 	at org.infinispan.interceptors.distribution.TxDistributionInterceptor.visitPrepareCommand(TxDistributionInterceptor.java:206)




[JBossINF] 	at org.infinispan.commands.tx.PrepareCommand.acceptVisitor(PrepareCommand.java:123)




[JBossINF] 	at org.infinispan.interceptors.base.CommandInterceptor.invokeNextInterceptor(CommandInterceptor.java:97)




[JBossINF] 	at org.infinispan.interceptors.base.CommandInterceptor.handleDefault(CommandInterceptor.java:111)




[JBossINF] 	at org.infinispan.commands.AbstractVisitor.visitPrepareCommand(AbstractVisitor.java:123)




[JBossINF] 	at org.infinispan.commands.tx.PrepareCommand.acceptVisitor(PrepareCommand.java:123)




[JBossINF] 	at org.infinispan.interceptors.base.CommandInterceptor.invokeNextInterceptor(CommandInterceptor.java:97)




[JBossINF] 	at org.infinispan.interceptors.EntryWrappingInterceptor.visitPrepareCommand(EntryWrappingInterceptor.java:102)




[JBossINF] 	at org.infinispan.commands.tx.PrepareCommand.acceptVisitor(PrepareCommand.java:123)




[JBossINF] 	at org.infinispan.interceptors.base.CommandInterceptor.invokeNextInterceptor(CommandInterceptor.java:97)




[JBossINF] 	at org.infinispan.interceptors.locking.AbstractTxLockingInterceptor.invokeNextAndCommitIf1Pc(AbstractTxLockingInterceptor.java:96)




[JBossINF] 	at org.infinispan.interceptors.locking.PessimisticLockingInterceptor.visitPrepareCommand(PessimisticLockingInterceptor.java:99)




[JBossINF] 	at org.infinispan.commands.tx.PrepareCommand.acceptVisitor(PrepareCommand.java:123)




[JBossINF] 	at org.infinispan.interceptors.base.CommandInterceptor.invokeNextInterceptor(CommandInterceptor.java:97)




[JBossINF] 	at org.infinispan.interceptors.NotificationInterceptor.visitPrepareCommand(NotificationInterceptor.java:36)




[JBossINF] 	at org.infinispan.commands.tx.PrepareCommand.acceptVisitor(PrepareCommand.java:123)




[JBossINF] 	at org.infinispan.interceptors.base.CommandInterceptor.invokeNextInterceptor(CommandInterceptor.java:97)




[JBossINF] 	at org.infinispan.interceptors.TxInterceptor.invokeNextInterceptorAndVerifyTransaction(TxInterceptor.java:138)




[JBossINF] 	at org.infinispan.interceptors.TxInterceptor.visitPrepareCommand(TxInterceptor.java:125)




[JBossINF] 	at org.infinispan.commands.tx.PrepareCommand.acceptVisitor(PrepareCommand.java:123)




[JBossINF] 	at org.infinispan.interceptors.base.CommandInterceptor.invokeNextInterceptor(CommandInterceptor.java:97)




[JBossINF] 	at org.infinispan.interceptors.base.CommandInterceptor.handleDefault(CommandInterceptor.java:111)




[JBossINF] 	at org.infinispan.commands.AbstractVisitor.visitPrepareCommand(AbstractVisitor.java:123)




[JBossINF] 	at org.infinispan.statetransfer.TransactionSynchronizerInterceptor.visitPrepareCommand(TransactionSynchronizerInterceptor.java:42)




[JBossINF] 	at org.infinispan.commands.tx.PrepareCommand.acceptVisitor(PrepareCommand.java:123)




[JBossINF] 	at org.infinispan.interceptors.base.CommandInterceptor.invokeNextInterceptor(CommandInterceptor.java:97)




[JBossINF] 	at org.infinispan.statetransfer.StateTransferInterceptor.handleTxCommand(StateTransferInterceptor.java:200)




[JBossINF] 	at org.infinispan.statetransfer.StateTransferInterceptor.visitPrepareCommand(StateTransferInterceptor.java:88)




[JBossINF] 	at org.infinispan.commands.tx.PrepareCommand.acceptVisitor(PrepareCommand.java:123)




[JBossINF] 	at org.infinispan.interceptors.base.CommandInterceptor.invokeNextInterceptor(CommandInterceptor.java:97)




[JBossINF] 	at org.infinispan.interceptors.base.CommandInterceptor.handleDefault(CommandInterceptor.java:111)




[JBossINF] 	at org.infinispan.commands.AbstractVisitor.visitPrepareCommand(AbstractVisitor.java:123)




[JBossINF] 	at org.infinispan.commands.tx.PrepareCommand.acceptVisitor(PrepareCommand.java:123)




[JBossINF] 	at org.infinispan.interceptors.base.CommandInterceptor.invokeNextInterceptor(CommandInterceptor.java:97)




[JBossINF] 	at org.infinispan.interceptors.InvocationContextInterceptor.handleAll(InvocationContextInterceptor.java:102)




[JBossINF] 	at org.infinispan.interceptors.InvocationContextInterceptor.handleDefault(InvocationContextInterceptor.java:71)




[JBossINF] 	at org.infinispan.commands.AbstractVisitor.visitPrepareCommand(AbstractVisitor.java:123)




[JBossINF] 	at org.infinispan.commands.tx.PrepareCommand.acceptVisitor(PrepareCommand.java:123)




[JBossINF] 	at org.infinispan.interceptors.InterceptorChain.invoke(InterceptorChain.java:336)




[JBossINF] 	at org.infinispan.transaction.impl.TransactionCoordinator.commit(TransactionCoordinator.java:157)




[JBossINF] 	at org.infinispan.transaction.xa.TransactionXaAdapter.commit(TransactionXaAdapter.java:112)




[JBossINF] 	at org.infinispan.transaction.tm.DummyTransaction.finishResource(DummyTransaction.java:367)




[JBossINF] 	at org.infinispan.transaction.tm.DummyTransaction.commitResources(DummyTransaction.java:413)




[JBossINF] 	at org.infinispan.transaction.tm.DummyTransaction.runCommit(DummyTransaction.java:303)




[JBossINF] 	at org.infinispan.transaction.tm.DummyTransaction.commit(DummyTransaction.java:104)




[JBossINF] 	at org.infinispan.transaction.tm.DummyBaseTransactionManager.commit(DummyBaseTransactionManager.java:73)




[JBossINF] 	at org.wildfly.clustering.ee.infinispan.ActiveTransactionBatch.close(ActiveTransactionBatch.java:48)




[JBossINF] 	at org.wildfly.clustering.server.registry.CacheRegistry.topologyChanged(CacheRegistry.java:157)




[JBossINF] 	at sun.reflect.GeneratedMethodAccessor25.invoke(Unknown Source)




[JBossINF] 	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)




[JBossINF] 	at java.lang.reflect.Method.invoke(Method.java:497)




[JBossINF] 	at org.infinispan.notifications.impl.AbstractListenerImpl$ListenerInvocationImpl$1.run(AbstractListenerImpl.java:286)




[JBossINF] 	at org.infinispan.util.concurrent.WithinThreadExecutor.execute(WithinThreadExecutor.java:22)




[JBossINF] 	at org.infinispan.notifications.impl.AbstractListenerImpl$ListenerInvocationImpl.invoke(AbstractListenerImpl.java:309)




[JBossINF] 	at org.infinispan.notifications.cachelistener.CacheNotifierImpl$BaseCacheEntryListenerInvocation.doRealInvocation(CacheNotifierImpl.java:1212)




[JBossINF] 	at org.infinispan.notifications.cachelistener.CacheNotifierImpl$BaseCacheEntryListenerInvocation.invoke(CacheNotifierImpl.java:1170)




[JBossINF] 	at org.infinispan.notifications.cachelistener.CacheNotifierImpl$BaseCacheEntryListenerInvocation.invoke(CacheNotifierImpl.java:1135)




[JBossINF] 	at org.infinispan.notifications.cachelistener.CacheNotifierImpl.notifyTopologyChanged(CacheNotifierImpl.java:590)




[JBossINF] 	at org.infinispan.statetransfer.StateTransferManagerImpl.doTopologyUpdate(StateTransferManagerImpl.java:201)




[JBossINF] 	at org.infinispan.statetransfer.StateTransferManagerImpl.access$000(StateTransferManagerImpl.java:45)




[JBossINF] 	at org.infinispan.statetransfer.StateTransferManagerImpl$1.updateConsistentHash(StateTransferManagerImpl.java:113)




[JBossINF] 	at org.infinispan.topology.LocalTopologyManagerImpl.doHandleTopologyUpdate(LocalTopologyManagerImpl.java:285)




[JBossINF] 	at org.infinispan.topology.LocalTopologyManagerImpl$1.run(LocalTopologyManagerImpl.java:218)




[JBossINF] 	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)




[JBossINF] 	at java.util.concurrent.FutureTask.run(FutureTask.java:266)




[JBossINF] 	at org.infinispan.executors.SemaphoreCompletionService$QueueingTask.runInternal(SemaphoreCompletionService.java:173)




[JBossINF] 	at org.infinispan.executors.SemaphoreCompletionService$QueueingTask.run(SemaphoreCompletionService.java:151)




[JBossINF] 	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)




[JBossINF] 	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)




[JBossINF] 	at java.lang.Thread.run(Thread.java:745)




[JBossINF] Caused by: org.infinispan.commons.CacheListenerException: ISPN000280: Caught exception [java.lang.NullPointerException] while invoking method [public void org.wildfly.clustering.server.registry.CacheRegistry.removed(org.infinispan.notifications.cachelistener.event.CacheEntryRemovedEvent)] on listener instance: org.wildfly.clustering.server.registry.CacheRegistryFactory$1@79a3bffa




[JBossINF] 	at org.infinispan.notifications.impl.AbstractListenerImpl$ListenerInvocationImpl$1.run(AbstractListenerImpl.java:291)




[JBossINF] 	at org.infinispan.util.concurrent.WithinThreadExecutor.execute(WithinThreadExecutor.java:22)




[JBossINF] 	at org.infinispan.notifications.impl.AbstractListenerImpl$ListenerInvocationImpl.invoke(AbstractListenerImpl.java:309)




[JBossINF] 	at org.infinispan.notifications.cachelistener.CacheNotifierImpl$BaseCacheEntryListenerInvocation.doRealInvocation(CacheNotifierImpl.java:1212)




[JBossINF] 	at org.infinispan.notifications.cachelistener.CacheNotifierImpl$BaseCacheEntryListenerInvocation.invokeNoChecks(CacheNotifierImpl.java:1207)




[JBossINF] 	at org.infinispan.notifications.cachelistener.CacheNotifierImpl$BaseCacheEntryListenerInvocation.invoke(CacheNotifierImpl.java:1184)




[JBossINF] 	at org.infinispan.notifications.cachelistener.CacheNotifierImpl.notifyCacheEntryRemoved(CacheNotifierImpl.java:356)




[JBossINF] 	at org.infinispan.interceptors.locking.ClusteringDependentLogic$AbstractClusteringDependentLogic.notifyCommitEntry(ClusteringDependentLogic.java:132)




[JBossINF] 	at org.infinispan.interceptors.locking.ClusteringDependentLogic$InvalidationLogic.commitSingleEntry(ClusteringDependentLogic.java:331)




[JBossINF] 	at org.infinispan.interceptors.locking.ClusteringDependentLogic$ReplicationLogic.commitSingleEntry(ClusteringDependentLogic.java:372)




[JBossINF] 	at org.infinispan.interceptors.locking.ClusteringDependentLogic$AbstractClusteringDependentLogic.commitEntry(ClusteringDependentLogic.java:108)




[JBossINF] 	at org.infinispan.interceptors.EntryWrappingInterceptor.commitContextEntry(EntryWrappingInterceptor.java:371)




[JBossINF] 	at org.infinispan.interceptors.EntryWrappingInterceptor.commitEntryIfNeeded(EntryWrappingInterceptor.java:549)




[JBossINF] 	at org.infinispan.interceptors.EntryWrappingInterceptor.commitContextEntries(EntryWrappingInterceptor.java:357)




[JBossINF] 	at org.infinispan.interceptors.EntryWrappingInterceptor.visitPrepareCommand(EntryWrappingInterceptor.java:104)




[JBossINF] 	at org.infinispan.commands.tx.PrepareCommand.acceptVisitor(PrepareCommand.java:123)




[JBossINF] 	at org.infinispan.interceptors.base.CommandInterceptor.invokeNextInterceptor(CommandInterceptor.java:97)




[JBossINF] 	at org.infinispan.interceptors.locking.AbstractTxLockingInterceptor.invokeNextAndCommitIf1Pc(AbstractTxLockingInterceptor.java:96)




[JBossINF] 	at org.infinispan.interceptors.locking.PessimisticLockingInterceptor.visitPrepareCommand(PessimisticLockingInterceptor.java:99)




[JBossINF] 	at org.infinispan.commands.tx.PrepareCommand.acceptVisitor(PrepareCommand.java:123)




[JBossINF] 	at org.infinispan.interceptors.base.CommandInterceptor.invokeNextInterceptor(CommandInterceptor.java:97)




[JBossINF] 	at org.infinispan.interceptors.NotificationInterceptor.visitPrepareCommand(NotificationInterceptor.java:36)




[JBossINF] 	at org.infinispan.commands.tx.PrepareCommand.acceptVisitor(PrepareCommand.java:123)




[JBossINF] 	at org.infinispan.interceptors.base.CommandInterceptor.invokeNextInterceptor(CommandInterceptor.java:97)




[JBossINF] 	at org.infinispan.interceptors.TxInterceptor.invokeNextInterceptorAndVerifyTransaction(TxInterceptor.java:138)




[JBossINF] 	at org.infinispan.interceptors.TxInterceptor.visitPrepareCommand(TxInterceptor.java:125)




[JBossINF] 	at org.infinispan.commands.tx.PrepareCommand.acceptVisitor(PrepareCommand.java:123)




[JBossINF] 	at org.infinispan.interceptors.base.CommandInterceptor.invokeNextInterceptor(CommandInterceptor.java:97)




[JBossINF] 	at org.infinispan.interceptors.base.CommandInterceptor.handleDefault(CommandInterceptor.java:111)




[JBossINF] 	at org.infinispan.commands.AbstractVisitor.visitPrepareCommand(AbstractVisitor.java:123)




[JBossINF] 	at org.infinispan.statetransfer.TransactionSynchronizerInterceptor.visitPrepareCommand(TransactionSynchronizerInterceptor.java:39)




[JBossINF] 	at org.infinispan.commands.tx.PrepareCommand.acceptVisitor(PrepareCommand.java:123)




[JBossINF] 	at org.infinispan.interceptors.base.CommandInterceptor.invokeNextInterceptor(CommandInterceptor.java:97)




[JBossINF] 	at org.infinispan.statetransfer.StateTransferInterceptor.handleTxCommand(StateTransferInterceptor.java:200)




[JBossINF] 	at org.infinispan.statetransfer.StateTransferInterceptor.visitPrepareCommand(StateTransferInterceptor.java:88)




[JBossINF] 	at org.infinispan.commands.tx.PrepareCommand.acceptVisitor(PrepareCommand.java:123)




[JBossINF] 	at org.infinispan.interceptors.base.CommandInterceptor.invokeNextInterceptor(CommandInterceptor.java:97)




[JBossINF] 	at org.infinispan.interceptors.base.CommandInterceptor.handleDefault(CommandInterceptor.java:111)




[JBossINF] 	at org.infinispan.commands.AbstractVisitor.visitPrepareCommand(AbstractVisitor.java:123)




[JBossINF] 	at org.infinispan.commands.tx.PrepareCommand.acceptVisitor(PrepareCommand.java:123)




[JBossINF] 	at org.infinispan.interceptors.base.CommandInterceptor.invokeNextInterceptor(CommandInterceptor.java:97)




[JBossINF] 	at org.infinispan.interceptors.InvocationContextInterceptor.handleAll(InvocationContextInterceptor.java:102)




[JBossINF] 	at org.infinispan.interceptors.InvocationContextInterceptor.handleDefault(InvocationContextInterceptor.java:71)




[JBossINF] 	at org.infinispan.commands.AbstractVisitor.visitPrepareCommand(AbstractVisitor.java:123)




[JBossINF] 	at org.infinispan.commands.tx.PrepareCommand.acceptVisitor(PrepareCommand.java:123)




[JBossINF] 	at org.infinispan.interceptors.InterceptorChain.invoke(InterceptorChain.java:336)




[JBossINF] 	at org.infinispan.commands.tx.PrepareCommand.perform(PrepareCommand.java:113)




[JBossINF] 	at org.infinispan.remoting.inboundhandler.BasePerCacheInboundInvocationHandler.invokePerform(BasePerCacheInboundInvocationHandler.java:85)




[JBossINF] 	at org.infinispan.remoting.inboundhandler.BaseBlockingRunnable.run(BaseBlockingRunnable.java:32)




[JBossINF] 	... 3 more




[JBossINF] Caused by: java.lang.NullPointerException




[JBossINF] 	at org.wildfly.clustering.server.registry.CacheRegistry.notifyListeners(CacheRegistry.java:183)




[JBossINF] 	at org.wildfly.clustering.server.registry.CacheRegistry.removed(CacheRegistry.java:178)




[JBossINF] 	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)




[JBossINF] 	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)




[JBossINF] 	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)




[JBossINF] 	at java.lang.reflect.Method.invoke(Method.java:497)




[JBossINF] 	at org.infinispan.notifications.impl.AbstractListenerImpl$ListenerInvocationImpl$1.run(AbstractListenerImpl.java:286)




[JBossINF] 	... 51 more






http://jenkins.mw.lab.eng.bos.redhat.com/hudson/job/eap-7x-failover-ejb-ejbremote-shutdown-repl-sync/2/console-perf20/






[JBossINF] [0m[33m13:02:07,381 WARN  [org.infinispan.remoting.inboundhandler.NonTotalOrderPerCacheInboundInvocationHandler] (remote-thread--p5-t13) ISPN000071: Caught exception when handling command PrepareCommand {modifications=[RemoveCommand{key=perf21, value=null, flags=[FORCE_SYNCHRONOUS], valueMatcher=MATCH_ALWAYS}], onePhaseCommit=true, gtx=GlobalTransaction:&amp;lt;perf18&amp;gt;:51296:remote, cacheName=&amp;amp;apos;dist&amp;amp;apos;, topologyId=24}: org.infinispan.commons.CacheListenerException: ISPN000280: Caught exception [java.lang.NullPointerException] while invoking method [public void org.wildfly.clustering.server.registry.CacheRegistry.removed(org.infinispan.notifications.cachelistener.event.CacheEntryRemovedEvent)] on listener instance: org.wildfly.clustering.server.registry.CacheRegistryFactory$1@76942caa




[JBossINF] 	at org.infinispan.notifications.impl.AbstractListenerImpl$ListenerInvocationImpl$1.run(AbstractListenerImpl.java:291)




[JBossINF] 	at org.infinispan.util.concurrent.WithinThreadExecutor.execute(WithinThreadExecutor.java:22)




[JBossINF] 	at org.infinispan.notifications.impl.AbstractListenerImpl$ListenerInvocationImpl.invoke(AbstractListenerImpl.java:309)




[JBossINF] 	at org.infinispan.notifications.cachelistener.CacheNotifierImpl$BaseCacheEntryListenerInvocation.doRealInvocation(CacheNotifierImpl.java:1212)




[JBossINF] 	at org.infinispan.notifications.cachelistener.CacheNotifierImpl$BaseCacheEntryListenerInvocation.invokeNoChecks(CacheNotifierImpl.java:1207)




[JBossINF] 	at org.infinispan.notifications.cachelistener.CacheNotifierImpl$BaseCacheEntryListenerInvocation.invoke(CacheNotifierImpl.java:1184)




[JBossINF] 	at org.infinispan.notifications.cachelistener.CacheNotifierImpl.notifyCacheEntryRemoved(CacheNotifierImpl.java:356)




[JBossINF] 	at org.infinispan.interceptors.locking.ClusteringDependentLogic$AbstractClusteringDependentLogic.notifyCommitEntry(ClusteringDependentLogic.java:132)




[JBossINF] 	at org.infinispan.interceptors.locking.ClusteringDependentLogic$DistributionLogic.commitSingleEntry(ClusteringDependentLogic.java:493)




[JBossINF] 	at org.infinispan.interceptors.locking.ClusteringDependentLogic$AbstractClusteringDependentLogic.commitEntry(ClusteringDependentLogic.java:108)




[JBossINF] 	at org.infinispan.interceptors.EntryWrappingInterceptor.commitContextEntry(EntryWrappingInterceptor.java:371)




[JBossINF] 	at org.infinispan.interceptors.EntryWrappingInterceptor.commitEntryIfNeeded(EntryWrappingInterceptor.java:549)




[JBossINF] 	at org.infinispan.interceptors.EntryWrappingInterceptor.commitContextEntries(EntryWrappingInterceptor.java:357)




[JBossINF] 	at org.infinispan.interceptors.EntryWrappingInterceptor.visitPrepareCommand(EntryWrappingInterceptor.java:104)




[JBossINF] 	at org.infinispan.commands.tx.PrepareCommand.acceptVisitor(PrepareCommand.java:123)




[JBossINF] 	at org.infinispan.interceptors.base.CommandInterceptor.invokeNextInterceptor(CommandInterceptor.java:97)




[JBossINF] 	at org.infinispan.interceptors.base.CommandInterceptor.handleDefault(CommandInterceptor.java:111)




[JBossINF] 	at org.infinispan.commands.AbstractVisitor.visitPrepareCommand(AbstractVisitor.java:123)




[JBossINF] 	at org.infinispan.commands.tx.PrepareCommand.acceptVisitor(PrepareCommand.java:123)




[JBossINF] 	at org.infinispan.interceptors.base.CommandInterceptor.invokeNextInterceptor(CommandInterceptor.java:97)




[JBossINF] 	at org.infinispan.interceptors.locking.AbstractTxLockingInterceptor.invokeNextAndCommitIf1Pc(AbstractTxLockingInterceptor.java:96)




[JBossINF] 	at org.infinispan.interceptors.locking.PessimisticLockingInterceptor.visitPrepareCommand(PessimisticLockingInterceptor.java:99)




[JBossINF] 	at org.infinispan.commands.tx.PrepareCommand.acceptVisitor(PrepareCommand.java:123)




[JBossINF] 	at org.infinispan.interceptors.base.CommandInterceptor.invokeNextInterceptor(CommandInterceptor.java:97)




[JBossINF] 	at org.infinispan.interceptors.NotificationInterceptor.visitPrepareCommand(NotificationInterceptor.java:36)




[JBossINF] 	at org.infinispan.commands.tx.PrepareCommand.acceptVisitor(PrepareCommand.java:123)




[JBossINF] 	at org.infinispan.interceptors.base.CommandInterceptor.invokeNextInterceptor(CommandInterceptor.java:97)




[JBossINF] 	at org.infinispan.interceptors.TxInterceptor.invokeNextInterceptorAndVerifyTransaction(TxInterceptor.java:138)




[JBossINF] 	at org.infinispan.interceptors.TxInterceptor.visitPrepareCommand(TxInterceptor.java:125)




[JBossINF] 	at org.infinispan.commands.tx.PrepareCommand.acceptVisitor(PrepareCommand.java:123)




[JBossINF] 	at org.infinispan.interceptors.base.CommandInterceptor.invokeNextInterceptor(CommandInterceptor.java:97)




[JBossINF] 	at org.infinispan.interceptors.base.CommandInterceptor.handleDefault(CommandInterceptor.java:111)




[JBossINF] 	at org.infinispan.commands.AbstractVisitor.visitPrepareCommand(AbstractVisitor.java:123)




[JBossINF] 	at org.infinispan.statetransfer.TransactionSynchronizerInterceptor.visitPrepareCommand(TransactionSynchronizerInterceptor.java:39)




[JBossINF] 	at org.infinispan.commands.tx.PrepareCommand.acceptVisitor(PrepareCommand.java:123)




[JBossINF] 	at org.infinispan.interceptors.base.CommandInterceptor.invokeNextInterceptor(CommandInterceptor.java:97)




[JBossINF] 	at org.infinispan.statetransfer.StateTransferInterceptor.handleTxCommand(StateTransferInterceptor.java:200)




[JBossINF] 	at org.infinispan.statetransfer.StateTransferInterceptor.visitPrepareCommand(StateTransferInterceptor.java:88)




[JBossINF] 	at org.infinispan.commands.tx.PrepareCommand.acceptVisitor(PrepareCommand.java:123)




[JBossINF] 	at org.infinispan.interceptors.base.CommandInterceptor.invokeNextInterceptor(CommandInterceptor.java:97)




[JBossINF] 	at org.infinispan.interceptors.base.CommandInterceptor.handleDefault(CommandInterceptor.java:111)




[JBossINF] 	at org.infinispan.commands.AbstractVisitor.visitPrepareCommand(AbstractVisitor.java:123)




[JBossINF] 	at org.infinispan.commands.tx.PrepareCommand.acceptVisitor(PrepareCommand.java:123)




[JBossINF] 	at org.infinispan.interceptors.base.CommandInterceptor.invokeNextInterceptor(CommandInterceptor.java:97)




[JBossINF] 	at org.infinispan.interceptors.InvocationContextInterceptor.handleAll(InvocationContextInterceptor.java:102)




[JBossINF] 	at org.infinispan.interceptors.InvocationContextInterceptor.handleDefault(InvocationContextInterceptor.java:71)




[JBossINF] 	at org.infinispan.commands.AbstractVisitor.visitPrepareCommand(AbstractVisitor.java:123)




[JBossINF] 	at org.infinispan.commands.tx.PrepareCommand.acceptVisitor(PrepareCommand.java:123)




[JBossINF] 	at org.infinispan.interceptors.InterceptorChain.invoke(InterceptorChain.java:336)




[JBossINF] 	at org.infinispan.commands.tx.PrepareCommand.perform(PrepareCommand.java:113)




[JBossINF] 	at org.infinispan.remoting.inboundhandler.BasePerCacheInboundInvocationHandler.invokePerform(BasePerCacheInboundInvocationHandler.java:85)




[JBossINF] 	at org.infinispan.remoting.inboundhandler.BaseBlockingRunnable.run(BaseBlockingRunnable.java:32)




[JBossINF] 	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)




[JBossINF] 	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)




[JBossINF] 	at java.lang.Thread.run(Thread.java:745)




[JBossINF] Caused by: java.lang.NullPointerException




[JBossINF] 	at org.wildfly.clustering.server.registry.CacheRegistry.notifyListeners(CacheRegistry.java:183)




[JBossINF] 	at org.wildfly.clustering.server.registry.CacheRegistry.removed(CacheRegistry.java:178)




[JBossINF] 	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)




[JBossINF] 	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)




[JBossINF] 	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)




[JBossINF] 	at java.lang.reflect.Method.invoke(Method.java:497)




[JBossINF] 	at org.infinispan.notifications.impl.AbstractListenerImpl$ListenerInvocationImpl$1.run(AbstractListenerImpl.java:286)




[JBossINF] 	... 54 more






http://jenkins.mw.lab.eng.bos.redhat.com/hudson/job/eap-7x-failover-ejb-ejbremote-shutdown-dist-sync/2/console-perf20/
And it also appears in the [stderr] output as described in https://issues.jboss.org/browse/ISPN-5610
</description>
			<version>10.0.0.Alpha5</version>
			<fixedVersion>10.0.0.CR5</fixedVersion>
			<type>Bug</type>
		</buginformation>
		<fixedFiles>
			<file type="M">org.wildfly.clustering.server.registry.CacheRegistry.java</file>
		</fixedFiles>
		<links>
			<link type="Cloners" description="cloned from">443</link>
			<link type="Related" description="relates to">7240</link>
		</links>
	</bug>
	<bug id="5581" opendate="2015-10-26 17:39:57" fixdate="2015-10-30 16:41:03" resolution="Done">
		<buginformation>
			<summary>Routing cache should always use REPL</summary>
			<description>Currently, the cache used for routing information uses the same cache mode as the cache used for web sessions.  On a 4 node cluster, this results in an extra RPC for half of the requests.  The routing cache should always use REPL, if the web session cache is clustered, and should never use a persistent store.</description>
			<version>10.0.0.CR4</version>
			<fixedVersion>10.0.0.CR5</fixedVersion>
			<type>Bug</type>
		</buginformation>
		<fixedFiles>
			<file type="M">org.wildfly.clustering.web.infinispan.session.RouteRegistryEntryProviderBuilder.java</file>
			<file type="M">org.wildfly.clustering.web.infinispan.ServiceLoaderTestCase.java</file>
			<file type="M">org.wildfly.clustering.web.infinispan.session.InfinispanSessionManagerFactoryBuilder.java</file>
			<file type="M">org.wildfly.clustering.web.infinispan.session.InfinispanRouteLocatorBuilder.java</file>
		</fixedFiles>
		<links>
			<link type="Causality" description="causes">5198</link>
			<link type="Cloners" description="cloned to">5591</link>
		</links>
	</bug>
	<bug id="5591" opendate="2015-10-27 14:18:00" fixdate="2015-10-30 16:41:16" resolution="Done">
		<buginformation>
			<summary>Client mappings cache should always use REPL</summary>
			<description>Currently, the cache used for ejb client mappings uses the same cache mode as the cache used for SFSBs.  On a 4 node cluster, this results in an extra RPC for half of the requests.  The client mappings cache should always use REPL, if the SFSB cache is clustered, and should never use a persistent store.</description>
			<version>10.0.0.CR4</version>
			<fixedVersion>10.0.0.CR5</fixedVersion>
			<type>Bug</type>
		</buginformation>
		<fixedFiles>
			<file type="M">org.jboss.as.ejb3.remote.RegistryInstallerService.java</file>
			<file type="M">org.wildfly.clustering.ejb.BeanManagerFactoryBuilderConfiguration.java</file>
			<file type="M">org.jboss.as.ejb3.cache.distributable.DistributableCacheFactoryBuilderService.java</file>
			<file type="M">org.wildfly.clustering.ejb.infinispan.InfinispanBeanManagerFactoryBuilder.java</file>
			<file type="M">org.jboss.as.ejb3.remote.EJBRemotingConnectorClientMappingsEntryProviderService.java</file>
		</fixedFiles>
		<links>
			<link type="Causality" description="causes">5198</link>
			<link type="Cloners" description="cloned from">5581</link>
		</links>
	</bug>
	<bug id="5335" opendate="2015-09-14 13:25:34" fixdate="2015-10-30 16:41:33" resolution="Done">
		<buginformation>
			<summary>Singleton deployment of EAR fails</summary>
			<description>When trying to deploy our clustering test application "clusterbench" as a singleton deployment, server boot fails in an unrecoverable manner.
To identify clusterbench-ee7.ear as a singleton deployment, I added singleton-deployment.xml deployment descriptor into deployment /META-INF/ folder. The modified clusterbench-ee7.ear is attached.
The same issue occurs when trying with latest wildfly upstream/master bits. 
Server logs:






Server 1






[mvinkler@localhost jboss-eap-7.0_1]$ ./bin/standalone.sh -c standalone-ha.xml -Djboss.node.name=node1




=========================================================================









  JBoss Bootstrap Environment









  JBOSS_HOME: /usr/work/eap/tmp2/jboss-eap-7.0_1









  JAVA: /usr/work/java/jdk1.8.0_45/bin/java









  JAVA_OPTS:  -server -verbose:gc -Xloggc:"/usr/work/eap/tmp2/jboss-eap-7.0_1/standalone/log/gc.log" -XX:+PrintGCDetails -XX:+PrintGCDateStamps -XX:+UseGCLogFileRotation -XX:NumberOfGCLogFiles=5 -XX:GCLogFileSize=3M -XX:-TraceClassUnloading -Xms64m -Xmx512m -Djava.net.preferIPv4Stack=true -Djboss.modules.system.pkgs=org.jboss.byteman -Djava.awt.headless=true









=========================================================================









14:49:40,976 INFO  [org.jboss.modules] (main) JBoss Modules version 1.4.3.Final




14:49:41,156 INFO  [org.jboss.msc] (main) JBoss MSC version 1.2.6.Final




14:49:41,204 INFO  [org.jboss.as] (MSC service thread 1-6) WFLYSRV0049: EAP 7.0.0.Alpha1 (WildFly Core 2.0.0.Beta4) starting




14:49:41,957 INFO  [org.jboss.as.controller.management-deprecated] (ServerService Thread Pool -- 2) WFLYCTL0028: Attribute &amp;amp;apos;enabled&amp;amp;apos; in the resource at address &amp;amp;apos;/subsystem=datasources/data-source=ExampleDS&amp;amp;apos; is deprecated, and may be removed in future version. See the attribute description in the output of the read-resource-description operation to learn more about the deprecation.




14:49:41,962 INFO  [org.jboss.as.server.deployment.scanner] (DeploymentScanner-threads - 1) WFLYDS0015: Re-attempting failed deployment clusterbench-ee7.ear




14:49:41,979 INFO  [org.jboss.as.repository] (ServerService Thread Pool -- 30) WFLYDR0001: Content added at location /usr/work/eap/tmp2/jboss-eap-7.0_1/standalone/data/content/b4/8714b2fc6cba3b7ba7fac5e1100c85dc0a36ce/content




14:49:42,052 INFO  [org.jboss.as.server] (Controller Boot Thread) WFLYSRV0039: Creating http management service using socket-binding (management-http)




14:49:42,073 INFO  [org.xnio] (MSC service thread 1-6) XNIO version 3.4.0.Beta1




14:49:42,078 INFO  [org.xnio.nio] (MSC service thread 1-6) XNIO NIO Implementation Version 3.4.0.Beta1




14:49:42,100 INFO  [org.jboss.remoting] (MSC service thread 1-6) JBoss Remoting version 4.0.9.Final




14:49:42,107 INFO  [org.jboss.as.clustering.infinispan] (ServerService Thread Pool -- 41) WFLYCLINF0001: Activating Infinispan subsystem.




14:49:42,111 INFO  [org.wildfly.extension.io] (ServerService Thread Pool -- 40) WFLYIO001: Worker &amp;amp;apos;default&amp;amp;apos; has auto-configured to 16 core threads with 128 task threads based on your 8 available processors




14:49:42,116 INFO  [org.jboss.as.connector.subsystems.datasources] (ServerService Thread Pool -- 36) WFLYJCA0004: Deploying JDBC-compliant driver class org.h2.Driver (version 1.3)




14:49:42,212 INFO  [org.jboss.as.clustering.jgroups] (ServerService Thread Pool -- 45) WFLYCLJG0001: Activating JGroups subsystem.




14:49:42,231 INFO  [org.jboss.as.jsf] (ServerService Thread Pool -- 48) WFLYJSF0007: Activated the following JSF Implementations: [main]




14:49:42,233 WARN  [org.jboss.as.txn] (ServerService Thread Pool -- 60) WFLYTX0013: Node identifier property is set to the default value. Please make sure it is unique.




14:49:42,245 INFO  [org.jboss.as.connector] (MSC service thread 1-5) WFLYJCA0009: Starting JCA Subsystem (IronJacamar 1.2.5.Final)




14:49:42,248 INFO  [org.jboss.as.naming] (ServerService Thread Pool -- 51) WFLYNAM0001: Activating Naming Subsystem




14:49:42,249 INFO  [org.jboss.as.connector.deployers.jdbc] (MSC service thread 1-5) WFLYJCA0018: Started Driver service with driver-name = h2




14:49:42,254 INFO  [org.jboss.as.security] (ServerService Thread Pool -- 58) WFLYSEC0002: Activating Security Subsystem




14:49:42,253 INFO  [org.jboss.as.webservices] (ServerService Thread Pool -- 62) WFLYWS0002: Activating WebServices Extension




14:49:42,264 INFO  [org.jboss.as.security] (MSC service thread 1-1) WFLYSEC0001: Current PicketBox version=4.9.3.Final




14:49:42,310 INFO  [org.wildfly.extension.undertow] (MSC service thread 1-2) WFLYUT0003: Undertow 1.3.0.Beta9 starting




14:49:42,311 INFO  [org.wildfly.extension.undertow] (ServerService Thread Pool -- 61) WFLYUT0003: Undertow 1.3.0.Beta9 starting




14:49:42,339 INFO  [org.jboss.as.mail.extension] (MSC service thread 1-1) WFLYMAIL0001: Bound mail session [java:jboss/mail/Default]




14:49:42,339 INFO  [org.jboss.as.naming] (MSC service thread 1-4) WFLYNAM0003: Starting Naming Service




14:49:42,419 INFO  [org.wildfly.extension.undertow] (ServerService Thread Pool -- 61) WFLYUT0014: Creating file handler for path &amp;amp;apos;/usr/work/eap/tmp2/jboss-eap-7.0_1/welcome-content&amp;amp;apos; with options [directory-listing: &amp;amp;apos;false&amp;amp;apos;, follow-symlink: &amp;amp;apos;false&amp;amp;apos;, case-sensitive: &amp;amp;apos;true&amp;amp;apos;, safe-symlink-paths: &amp;amp;apos;[]&amp;amp;apos;]




14:49:42,429 INFO  [org.wildfly.extension.undertow] (MSC service thread 1-5) WFLYUT0012: Started server default-server.




14:49:42,431 INFO  [org.wildfly.extension.undertow] (MSC service thread 1-7) WFLYUT0018: Host default-host starting




14:49:42,485 INFO  [org.wildfly.extension.undertow] (MSC service thread 1-5) WFLYUT0006: Undertow HTTP listener default listening on /127.0.0.1:8080




14:49:42,487 INFO  [org.wildfly.extension.undertow] (MSC service thread 1-1) WFLYUT0006: Undertow AJP listener ajp listening on /127.0.0.1:8009




14:49:42,490 INFO  [org.jboss.modcluster] (ServerService Thread Pool -- 64) MODCLUSTER000001: Initializing mod_cluster version 1.3.1.Final




14:49:42,511 INFO  [org.jboss.modcluster] (ServerService Thread Pool -- 64) MODCLUSTER000032: Listening to proxy advertisements on /224.0.1.105:23364




14:49:42,597 INFO  [org.jboss.as.connector.subsystems.datasources] (MSC service thread 1-3) WFLYJCA0001: Bound data source [java:jboss/datasources/ExampleDS]




14:49:42,641 INFO  [org.jboss.as.server.deployment.scanner] (MSC service thread 1-1) WFLYDS0013: Started FileSystemDeploymentService for directory /usr/work/eap/tmp2/jboss-eap-7.0_1/standalone/deployments




14:49:42,647 INFO  [org.jboss.as.server.deployment] (MSC service thread 1-7) WFLYSRV0027: Starting deployment of "clusterbench-ee7.ear" (runtime-name: "clusterbench-ee7.ear")




14:49:42,723 INFO  [org.jboss.ws.common.management] (MSC service thread 1-2) JBWS022052: Starting JBoss Web Services - Stack CXF Server 5.1.0.Beta1




14:49:42,726 INFO  [org.jboss.as.server.deployment] (MSC service thread 1-1) WFLYSRV0207: Starting subdeployment (runtime-name: "clusterbench-ee7-web-passivating.war")




14:49:42,726 INFO  [org.jboss.as.server.deployment] (MSC service thread 1-8) WFLYSRV0207: Starting subdeployment (runtime-name: "clusterbench-ee7-ejb.jar")




14:49:42,727 INFO  [org.jboss.as.server.deployment] (MSC service thread 1-5) WFLYSRV0207: Starting subdeployment (runtime-name: "clusterbench-ee7-web-default.war")




14:49:42,847 WARN  [org.jboss.as.dependency.private] (MSC service thread 1-7) WFLYSRV0018: Deployment "deployment.clusterbench-ee7.ear.clusterbench-ee7-web-default.war" is using a private module ("org.infinispan:main") which may be changed or removed in future versions without notice.




14:49:42,852 WARN  [org.jboss.as.dependency.private] (MSC service thread 1-2) WFLYSRV0018: Deployment "deployment.clusterbench-ee7.ear.clusterbench-ee7-web-passivating.war" is using a private module ("org.infinispan:main") which may be changed or removed in future versions without notice.




14:49:43,066 WARNING [org.jgroups.protocols.UDP] (MSC service thread 1-1) JGRP000015: the send buffer of socket DatagramSocket was set to 1MB, but the OS only allocated 212.99KB. This might lead to performance problems. Please set your max send buffer in the OS correctly (e.g. net.core.wmem_max on Linux)




14:49:43,066 WARNING [org.jgroups.protocols.UDP] (MSC service thread 1-1) JGRP000015: the receive buffer of socket DatagramSocket was set to 20MB, but the OS only allocated 212.99KB. This might lead to performance problems. Please set your max receive buffer in the OS correctly (e.g. net.core.rmem_max on Linux)




14:49:43,067 WARNING [org.jgroups.protocols.UDP] (MSC service thread 1-1) JGRP000015: the send buffer of socket MulticastSocket was set to 1MB, but the OS only allocated 212.99KB. This might lead to performance problems. Please set your max send buffer in the OS correctly (e.g. net.core.wmem_max on Linux)




14:49:43,067 WARNING [org.jgroups.protocols.UDP] (MSC service thread 1-1) JGRP000015: the receive buffer of socket MulticastSocket was set to 25MB, but the OS only allocated 212.99KB. This might lead to performance problems. Please set your max receive buffer in the OS correctly (e.g. net.core.rmem_max on Linux)




14:49:46,454 INFO  [org.infinispan.remoting.transport.jgroups.JGroupsTransport] (ServerService Thread Pool -- 64) ISPN000078: Starting JGroups channel server




14:49:46,464 INFO  [org.infinispan.remoting.transport.jgroups.JGroupsTransport] (ServerService Thread Pool -- 64) ISPN000094: Received new cluster view for channel server: [node1|0] (1) [node1]




14:49:46,467 INFO  [org.infinispan.remoting.transport.jgroups.JGroupsTransport] (ServerService Thread Pool -- 64) ISPN000079: Channel server local address is node1, physical addresses are [127.0.0.1:55200]




14:49:46,471 INFO  [org.infinispan.factories.GlobalComponentRegistry] (ServerService Thread Pool -- 64) ISPN000128: Infinispan version: Infinispan &amp;amp;apos;Infinite Darkness&amp;amp;apos; 8.0.0.CR1




14:49:46,595 INFO  [org.jboss.as.clustering.infinispan] (ServerService Thread Pool -- 64) WFLYCLINF0002: Started default cache from server container




14:49:46,625 INFO  [org.wildfly.clustering.server] (ServerService Thread Pool -- 64) WFLYCLSV0003: node1 elected as the singleton provider of the jboss.deployment.unit."clusterbench-ee7.ear".FIRST_MODULE_USE service




14:49:48,948 INFO  [org.infinispan.remoting.transport.jgroups.JGroupsTransport] (Incoming-2,ee,node1) ISPN000094: Received new cluster view for channel server: [node1|1] (2) [node1, node2]




14:49:49,477 INFO  [org.infinispan.CLUSTER] (remote-thread--p2-t1) ISPN000310: Starting cluster-wide rebalance for cache default, topology CacheTopology{id=1, rebalanceId=1, currentCH=ReplicatedConsistentHash{ns = 60, owners = (1)[node1: 60]}, pendingCH=ReplicatedConsistentHash{ns = 60, owners = (2)[node1: 30, node2: 30]}, unionCH=null, actualMembers=[node1, node2]}




14:54:42,636 ERROR [org.jboss.as.controller.management-operation] (Controller Boot Thread) WFLYCTL0348: Timeout after [300] seconds waiting for service container stability. Operation will roll back. Step that first updated the service container was &amp;amp;apos;add&amp;amp;apos; at address &amp;amp;apos;[




    ("core-service" =&amp;gt; "management"),




    ("management-interface" =&amp;gt; "http-interface")




]&amp;amp;apos;




14:54:42,695 INFO  [org.jboss.as.server.deployment] (MSC service thread 1-5) WFLYSRV0208: Stopped subdeployment (runtime-name: clusterbench-ee7-web-passivating.war) in 57ms




14:54:42,695 INFO  [org.jboss.as.server.deployment] (MSC service thread 1-8) WFLYSRV0208: Stopped subdeployment (runtime-name: clusterbench-ee7-web-default.war) in 57ms




14:54:42,695 INFO  [org.infinispan.CLUSTER] (remote-thread--p2-t1) ISPN000336: Finished cluster-wide rebalance for cache default, topology id = 1




14:54:42,698 INFO  [org.jboss.as.clustering.infinispan] (ServerService Thread Pool -- 64) WFLYCLINF0003: Stopped default cache from server container




14:54:42,699 INFO  [org.jboss.as.server.deployment] (MSC service thread 1-2) WFLYSRV0208: Stopped subdeployment (runtime-name: clusterbench-ee7-ejb.jar) in 61ms




14:54:42,701 INFO  [org.infinispan.remoting.transport.jgroups.JGroupsTransport] (MSC service thread 1-8) ISPN000080: Disconnecting JGroups channel server




14:54:42,702 INFO  [org.infinispan.remoting.transport.jgroups.JGroupsTransport] (MSC service thread 1-8) ISPN000082: Stopping the RpcDispatcher for channel server




14:54:42,707 INFO  [org.jboss.as.server.deployment] (MSC service thread 1-2) WFLYSRV0028: Stopped deployment clusterbench-ee7.ear (runtime-name: clusterbench-ee7.ear) in 69ms




14:54:42,716 ERROR [org.jboss.as.server] (ServerService Thread Pool -- 37) WFLYSRV0022: Deploy of deployment "clusterbench-ee7.ear" was rolled back with no failure message




14:54:42,718 INFO  [org.wildfly.extension.undertow] (MSC service thread 1-7) WFLYUT0008: Undertow HTTP listener default suspending




14:54:42,721 INFO  [org.jboss.modcluster] (ServerService Thread Pool -- 39) MODCLUSTER000002: Initiating mod_cluster shutdown




14:54:42,719 INFO  [org.wildfly.extension.undertow] (MSC service thread 1-5) WFLYUT0008: Undertow AJP listener ajp suspending




14:54:42,722 INFO  [org.wildfly.extension.undertow] (MSC service thread 1-7) WFLYUT0007: Undertow HTTP listener default stopped, was bound to /127.0.0.1:8080




14:54:42,723 INFO  [org.jboss.as.connector.subsystems.datasources] (MSC service thread 1-6) WFLYJCA0010: Unbound data source [java:jboss/datasources/ExampleDS]




14:54:42,722 INFO  [org.wildfly.extension.undertow] (MSC service thread 1-5) WFLYUT0007: Undertow AJP listener ajp stopped, was bound to /127.0.0.1:8009




14:54:42,724 INFO  [org.wildfly.extension.undertow] (MSC service thread 1-2) WFLYUT0019: Host default-host stopping




14:54:42,728 INFO  [org.wildfly.extension.undertow] (MSC service thread 1-3) WFLYUT0004: Undertow 1.3.0.Beta9 stopping




14:54:42,728 INFO  [org.jboss.as.connector.deployers.jdbc] (MSC service thread 1-2) WFLYJCA0019: Stopped Driver service with driver-name = h2




14:54:42,747 FATAL [org.jboss.as.server] (Controller Boot Thread) WFLYSRV0056: Server boot has failed in an unrecoverable manner; exiting. See previous messages for details.




14:54:42,752 INFO  [org.jboss.as.server] (Thread-2) WFLYSRV0220: Server shutdown has been requested.




14:54:42,765 INFO  [org.jboss.as] (MSC service thread 1-4) WFLYSRV0050: EAP 7.0.0.Alpha1 (WildFly Core 2.0.0.Beta4) stopped in 9ms












Server 2






[mvinkler@localhost jboss-eap-7.0_2]$ ./bin/standalone.sh -c standalone-ha.xml -Djboss.node.name=node2 -Djboss.socket.binding.port-offset=100




=========================================================================









  JBoss Bootstrap Environment









  JBOSS_HOME: /usr/work/eap/tmp2/jboss-eap-7.0_2









  JAVA: /usr/work/java/jdk1.8.0_45/bin/java









  JAVA_OPTS:  -server -verbose:gc -Xloggc:"/usr/work/eap/tmp2/jboss-eap-7.0_2/standalone/log/gc.log" -XX:+PrintGCDetails -XX:+PrintGCDateStamps -XX:+UseGCLogFileRotation -XX:NumberOfGCLogFiles=5 -XX:GCLogFileSize=3M -XX:-TraceClassUnloading -Xms64m -Xmx512m -Djava.net.preferIPv4Stack=true -Djboss.modules.system.pkgs=org.jboss.byteman -Djava.awt.headless=true









=========================================================================









14:49:46,623 INFO  [org.jboss.modules] (main) JBoss Modules version 1.4.3.Final




14:49:46,835 INFO  [org.jboss.msc] (main) JBoss MSC version 1.2.6.Final




14:49:46,883 INFO  [org.jboss.as] (MSC service thread 1-5) WFLYSRV0049: EAP 7.0.0.Alpha1 (WildFly Core 2.0.0.Beta4) starting




14:49:47,735 INFO  [org.jboss.as.controller.management-deprecated] (ServerService Thread Pool -- 30) WFLYCTL0028: Attribute &amp;amp;apos;enabled&amp;amp;apos; in the resource at address &amp;amp;apos;/subsystem=datasources/data-source=ExampleDS&amp;amp;apos; is deprecated, and may be removed in future version. See the attribute description in the output of the read-resource-description operation to learn more about the deprecation.




14:49:47,851 INFO  [org.jboss.as.server] (Controller Boot Thread) WFLYSRV0039: Creating http management service using socket-binding (management-http)




14:49:47,866 INFO  [org.xnio] (MSC service thread 1-1) XNIO version 3.4.0.Beta1




14:49:47,874 INFO  [org.xnio.nio] (MSC service thread 1-1) XNIO NIO Implementation Version 3.4.0.Beta1




14:49:47,908 INFO  [org.jboss.remoting] (MSC service thread 1-1) JBoss Remoting version 4.0.9.Final




14:49:47,909 INFO  [org.jboss.as.clustering.infinispan] (ServerService Thread Pool -- 41) WFLYCLINF0001: Activating Infinispan subsystem.




14:49:47,916 INFO  [org.wildfly.extension.io] (ServerService Thread Pool -- 40) WFLYIO001: Worker &amp;amp;apos;default&amp;amp;apos; has auto-configured to 16 core threads with 128 task threads based on your 8 available processors




14:49:47,997 INFO  [org.jboss.as.clustering.jgroups] (ServerService Thread Pool -- 45) WFLYCLJG0001: Activating JGroups subsystem.




14:49:47,999 INFO  [org.jboss.as.connector.subsystems.datasources] (ServerService Thread Pool -- 36) WFLYJCA0004: Deploying JDBC-compliant driver class org.h2.Driver (version 1.3)




14:49:48,016 INFO  [org.jboss.as.connector] (MSC service thread 1-5) WFLYJCA0009: Starting JCA Subsystem (IronJacamar 1.2.5.Final)




14:49:48,024 INFO  [org.jboss.as.connector.deployers.jdbc] (MSC service thread 1-5) WFLYJCA0018: Started Driver service with driver-name = h2




14:49:48,027 INFO  [org.jboss.as.naming] (ServerService Thread Pool -- 51) WFLYNAM0001: Activating Naming Subsystem




14:49:48,028 WARN  [org.jboss.as.txn] (ServerService Thread Pool -- 60) WFLYTX0013: Node identifier property is set to the default value. Please make sure it is unique.




14:49:48,034 INFO  [org.jboss.as.jsf] (ServerService Thread Pool -- 48) WFLYJSF0007: Activated the following JSF Implementations: [main]




14:49:48,059 INFO  [org.jboss.as.webservices] (ServerService Thread Pool -- 62) WFLYWS0002: Activating WebServices Extension




14:49:48,079 INFO  [org.jboss.as.security] (ServerService Thread Pool -- 58) WFLYSEC0002: Activating Security Subsystem




14:49:48,085 INFO  [org.wildfly.extension.undertow] (ServerService Thread Pool -- 61) WFLYUT0003: Undertow 1.3.0.Beta9 starting




14:49:48,088 INFO  [org.wildfly.extension.undertow] (MSC service thread 1-3) WFLYUT0003: Undertow 1.3.0.Beta9 starting




14:49:48,111 INFO  [org.jboss.as.security] (MSC service thread 1-4) WFLYSEC0001: Current PicketBox version=4.9.3.Final




14:49:48,123 INFO  [org.jboss.as.naming] (MSC service thread 1-5) WFLYNAM0003: Starting Naming Service




14:49:48,123 INFO  [org.jboss.as.mail.extension] (MSC service thread 1-8) WFLYMAIL0001: Bound mail session [java:jboss/mail/Default]




14:49:48,188 INFO  [org.wildfly.extension.undertow] (ServerService Thread Pool -- 61) WFLYUT0014: Creating file handler for path &amp;amp;apos;/usr/work/eap/tmp2/jboss-eap-7.0_2/welcome-content&amp;amp;apos; with options [directory-listing: &amp;amp;apos;false&amp;amp;apos;, follow-symlink: &amp;amp;apos;false&amp;amp;apos;, case-sensitive: &amp;amp;apos;true&amp;amp;apos;, safe-symlink-paths: &amp;amp;apos;[]&amp;amp;apos;]




14:49:48,191 INFO  [org.wildfly.extension.undertow] (MSC service thread 1-3) WFLYUT0012: Started server default-server.




14:49:48,192 INFO  [org.wildfly.extension.undertow] (MSC service thread 1-6) WFLYUT0018: Host default-host starting




14:49:48,236 INFO  [org.wildfly.extension.undertow] (MSC service thread 1-8) WFLYUT0006: Undertow AJP listener ajp listening on /127.0.0.1:8109




14:49:48,240 INFO  [org.wildfly.extension.undertow] (MSC service thread 1-3) WFLYUT0006: Undertow HTTP listener default listening on /127.0.0.1:8180




14:49:48,243 INFO  [org.jboss.modcluster] (ServerService Thread Pool -- 64) MODCLUSTER000001: Initializing mod_cluster version 1.3.1.Final




14:49:48,256 INFO  [org.jboss.modcluster] (ServerService Thread Pool -- 64) MODCLUSTER000032: Listening to proxy advertisements on /224.0.1.105:23364




14:49:48,358 INFO  [org.jboss.as.connector.subsystems.datasources] (MSC service thread 1-8) WFLYJCA0001: Bound data source [java:jboss/datasources/ExampleDS]




14:49:48,423 INFO  [org.jboss.as.server.deployment.scanner] (MSC service thread 1-2) WFLYDS0013: Started FileSystemDeploymentService for directory /usr/work/eap/tmp2/jboss-eap-7.0_2/standalone/deployments




14:49:48,434 INFO  [org.jboss.as.server.deployment] (MSC service thread 1-8) WFLYSRV0027: Starting deployment of "clusterbench-ee7.ear" (runtime-name: "clusterbench-ee7.ear")




14:49:48,515 INFO  [org.jboss.as.server.deployment] (MSC service thread 1-6) WFLYSRV0207: Starting subdeployment (runtime-name: "clusterbench-ee7-web-passivating.war")




14:49:48,515 INFO  [org.jboss.as.server.deployment] (MSC service thread 1-7) WFLYSRV0207: Starting subdeployment (runtime-name: "clusterbench-ee7-ejb.jar")




14:49:48,515 INFO  [org.jboss.as.server.deployment] (MSC service thread 1-1) WFLYSRV0207: Starting subdeployment (runtime-name: "clusterbench-ee7-web-default.war")




14:49:48,530 INFO  [org.jboss.ws.common.management] (MSC service thread 1-3) JBWS022052: Starting JBoss Web Services - Stack CXF Server 5.1.0.Beta1




14:49:48,661 WARN  [org.jboss.as.dependency.private] (MSC service thread 1-2) WFLYSRV0018: Deployment "deployment.clusterbench-ee7.ear.clusterbench-ee7-web-passivating.war" is using a private module ("org.infinispan:main") which may be changed or removed in future versions without notice.




14:49:48,664 WARN  [org.jboss.as.dependency.private] (MSC service thread 1-4) WFLYSRV0018: Deployment "deployment.clusterbench-ee7.ear.clusterbench-ee7-web-default.war" is using a private module ("org.infinispan:main") which may be changed or removed in future versions without notice.




14:49:48,875 WARNING [org.jgroups.protocols.UDP] (MSC service thread 1-8) JGRP000015: the send buffer of socket DatagramSocket was set to 1MB, but the OS only allocated 212.99KB. This might lead to performance problems. Please set your max send buffer in the OS correctly (e.g. net.core.wmem_max on Linux)




14:49:48,875 WARNING [org.jgroups.protocols.UDP] (MSC service thread 1-8) JGRP000015: the receive buffer of socket DatagramSocket was set to 20MB, but the OS only allocated 212.99KB. This might lead to performance problems. Please set your max receive buffer in the OS correctly (e.g. net.core.rmem_max on Linux)




14:49:48,876 WARNING [org.jgroups.protocols.UDP] (MSC service thread 1-8) JGRP000015: the send buffer of socket MulticastSocket was set to 1MB, but the OS only allocated 212.99KB. This might lead to performance problems. Please set your max send buffer in the OS correctly (e.g. net.core.wmem_max on Linux)




14:49:48,876 WARNING [org.jgroups.protocols.UDP] (MSC service thread 1-8) JGRP000015: the receive buffer of socket MulticastSocket was set to 25MB, but the OS only allocated 212.99KB. This might lead to performance problems. Please set your max receive buffer in the OS correctly (e.g. net.core.rmem_max on Linux)




14:49:49,291 INFO  [org.infinispan.remoting.transport.jgroups.JGroupsTransport] (ServerService Thread Pool -- 64) ISPN000078: Starting JGroups channel server




14:49:49,299 INFO  [org.infinispan.remoting.transport.jgroups.JGroupsTransport] (ServerService Thread Pool -- 64) ISPN000094: Received new cluster view for channel server: [node1|1] (2) [node1, node2]




14:49:49,302 INFO  [org.infinispan.remoting.transport.jgroups.JGroupsTransport] (ServerService Thread Pool -- 64) ISPN000079: Channel server local address is node2, physical addresses are [127.0.0.1:55300]




14:49:49,345 INFO  [org.infinispan.factories.GlobalComponentRegistry] (ServerService Thread Pool -- 64) ISPN000128: Infinispan version: Infinispan &amp;amp;apos;Infinite Darkness&amp;amp;apos; 8.0.0.CR1




14:50:49,523 ERROR [org.jboss.msc.service.fail] (ServerService Thread Pool -- 64) MSC000001: Failed to start service jboss.infinispan.server.default: org.jboss.msc.service.StartException in service jboss.infinispan.server.default: org.infinispan.commons.CacheException: Unable to invoke method public void org.infinispan.statetransfer.StateTransferManagerImpl.waitForInitialStateTransferToComplete() throws java.lang.Exception on object of type StateTransferManagerImpl




        at org.wildfly.clustering.service.AsynchronousServiceBuilder$1.run(AsynchronousServiceBuilder.java:107)




        at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)




        at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)




        at java.lang.Thread.run(Thread.java:745)




        at org.jboss.threads.JBossThread.run(JBossThread.java:320)




Caused by: org.infinispan.commons.CacheException: Unable to invoke method public void org.infinispan.statetransfer.StateTransferManagerImpl.waitForInitialStateTransferToComplete() throws java.lang.Exception on object of type StateTransferManagerImpl




        at org.infinispan.commons.util.ReflectionUtil.invokeAccessibly(ReflectionUtil.java:172)




        at org.infinispan.factories.AbstractComponentRegistry$PrioritizedMethod.invoke(AbstractComponentRegistry.java:869)




        at org.infinispan.factories.AbstractComponentRegistry.invokeStartMethods(AbstractComponentRegistry.java:638)




        at org.infinispan.factories.AbstractComponentRegistry.internalStart(AbstractComponentRegistry.java:627)




        at org.infinispan.factories.AbstractComponentRegistry.start(AbstractComponentRegistry.java:530)




        at org.infinispan.factories.ComponentRegistry.start(ComponentRegistry.java:218)




        at org.infinispan.cache.impl.CacheImpl.start(CacheImpl.java:839)




        at org.infinispan.manager.DefaultCacheManager.wireAndStartCache(DefaultCacheManager.java:629)




        at org.infinispan.manager.DefaultCacheManager.createCache(DefaultCacheManager.java:580)




        at org.infinispan.manager.DefaultCacheManager.getCache(DefaultCacheManager.java:445)




        at org.infinispan.manager.DefaultCacheManager.getCache(DefaultCacheManager.java:464)




        at org.infinispan.manager.DefaultCacheManager.getCache(DefaultCacheManager.java:455)




        at org.jboss.as.clustering.infinispan.DefaultCacheContainer.getCache(DefaultCacheContainer.java:120)




        at org.jboss.as.clustering.infinispan.DefaultCacheContainer.getCache(DefaultCacheContainer.java:111)




        at org.wildfly.clustering.infinispan.spi.service.CacheBuilder.start(CacheBuilder.java:80)




        at org.wildfly.clustering.service.AsynchronousServiceBuilder$1.run(AsynchronousServiceBuilder.java:102)




        ... 4 more




Caused by: org.infinispan.commons.CacheException: Initial state transfer timed out for cache default on node2




        at org.infinispan.statetransfer.StateTransferManagerImpl.waitForInitialStateTransferToComplete(StateTransferManagerImpl.java:225)




        at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)




        at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)




        at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)




        at java.lang.reflect.Method.invoke(Method.java:497)




        at org.infinispan.commons.util.ReflectionUtil.invokeAccessibly(ReflectionUtil.java:168)




        ... 19 more









14:50:49,526 WARN  [org.infinispan.statetransfer.StateConsumerImpl] (transport-thread--p4-t2) ISPN000209: Failed to retrieve transactions for segments [0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24, 25, 26, 27, 28, 29, 30, 31, 32, 33, 34, 35, 36, 37, 38, 39, 40, 41, 42, 43, 44, 45, 46, 47, 48, 49, 50, 51, 52, 53, 54, 55, 56, 57, 58, 59] of cache default from node node1: org.infinispan.util.concurrent.TimeoutException: Replication timeout for node1




        at org.infinispan.remoting.transport.jgroups.JGroupsTransport.checkRsp(JGroupsTransport.java:755)




        at org.infinispan.remoting.transport.jgroups.JGroupsTransport.lambda$invokeRemotelyAsync$79(JGroupsTransport.java:589)




        at org.infinispan.remoting.transport.jgroups.JGroupsTransport$$Lambda$16/514373550.apply(Unknown Source)




        at java.util.concurrent.CompletableFuture.uniApply(CompletableFuture.java:602)




        at java.util.concurrent.CompletableFuture$UniApply.tryFire(CompletableFuture.java:577)




        at java.util.concurrent.CompletableFuture.postComplete(CompletableFuture.java:474)




        at java.util.concurrent.CompletableFuture.complete(CompletableFuture.java:1954)




        at org.infinispan.remoting.transport.jgroups.SingleResponseFuture.call(SingleResponseFuture.java:46)




        at org.infinispan.remoting.transport.jgroups.SingleResponseFuture.call(SingleResponseFuture.java:17)




        at java.util.concurrent.FutureTask.run(FutureTask.java:266)




        at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.access$201(ScheduledThreadPoolExecutor.java:180)




        at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:293)




        at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)




        at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)




        at java.lang.Thread.run(Thread.java:745)









14:50:49,529 ERROR [org.jboss.as.controller.management-operation] (Controller Boot Thread) WFLYCTL0013: Operation ("add") failed - address: ([




    ("subsystem" =&amp;gt; "infinispan"),




    ("cache-container" =&amp;gt; "server"),




    ("replicated-cache" =&amp;gt; "default")




]) - failure description: {"WFLYCTL0080: Failed services" =&amp;gt; {"jboss.infinispan.server.default" =&amp;gt; "org.jboss.msc.service.StartException in service jboss.infinispan.server.default: org.infinispan.commons.CacheException: Unable to invoke method public void org.infinispan.statetransfer.StateTransferManagerImpl.waitForInitialStateTransferToComplete() throws java.lang.Exception on object of type StateTransferManagerImpl




    Caused by: org.infinispan.commons.CacheException: Unable to invoke method public void org.infinispan.statetransfer.StateTransferManagerImpl.waitForInitialStateTransferToComplete() throws java.lang.Exception on object of type StateTransferManagerImpl




    Caused by: org.infinispan.commons.CacheException: Initial state transfer timed out for cache default on node2"}}




14:50:49,557 INFO  [org.jboss.as.server] (ServerService Thread Pool -- 37) WFLYSRV0010: Deployed "clusterbench-ee7.ear" (runtime-name : "clusterbench-ee7.ear")




14:50:49,559 INFO  [org.jboss.as.controller] (Controller Boot Thread) WFLYCTL0183: Service status report




WFLYCTL0186:   Services which failed to start:      service jboss.infinispan.server.default: org.jboss.msc.service.StartException in service jboss.infinispan.server.default: org.infinispan.commons.CacheException: Unable to invoke method public void org.infinispan.statetransfer.StateTransferManagerImpl.waitForInitialStateTransferToComplete() throws java.lang.Exception on object of type StateTransferManagerImpl









14:50:49,642 INFO  [org.jboss.as] (Controller Boot Thread) WFLYSRV0060: Http management interface listening on http://127.0.0.1:10090/management




14:50:49,643 INFO  [org.jboss.as] (Controller Boot Thread) WFLYSRV0051: Admin console listening on http://127.0.0.1:10090




14:50:49,643 ERROR [org.jboss.as] (Controller Boot Thread) WFLYSRV0026: EAP 7.0.0.Alpha1 (WildFly Core 2.0.0.Beta4) started (with errors) in 63233ms - Started 321 of 583 services (7 services failed or missing dependencies, 363 services are lazy, passive or on-demand)




14:51:49,528 WARN  [org.infinispan.statetransfer.StateConsumerImpl] (transport-thread--p4-t2) ISPN000209: Failed to retrieve transactions for segments [0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24, 25, 26, 27, 28, 29, 30, 31, 32, 33, 34, 35, 36, 37, 38, 39, 40, 41, 42, 43, 44, 45, 46, 47, 48, 49, 50, 51, 52, 53, 54, 55, 56, 57, 58, 59] of cache default from node node1: org.infinispan.util.concurrent.TimeoutException: Replication timeout for node1




        at org.infinispan.remoting.transport.jgroups.JGroupsTransport.checkRsp(JGroupsTransport.java:755)




        at org.infinispan.remoting.transport.jgroups.JGroupsTransport.lambda$invokeRemotelyAsync$79(JGroupsTransport.java:589)




        at org.infinispan.remoting.transport.jgroups.JGroupsTransport$$Lambda$16/514373550.apply(Unknown Source)




        at java.util.concurrent.CompletableFuture.uniApply(CompletableFuture.java:602)




        at java.util.concurrent.CompletableFuture$UniApply.tryFire(CompletableFuture.java:577)




        at java.util.concurrent.CompletableFuture.postComplete(CompletableFuture.java:474)




        at java.util.concurrent.CompletableFuture.complete(CompletableFuture.java:1954)




        at org.infinispan.remoting.transport.jgroups.SingleResponseFuture.call(SingleResponseFuture.java:46)




        at org.infinispan.remoting.transport.jgroups.SingleResponseFuture.call(SingleResponseFuture.java:17)




        at java.util.concurrent.FutureTask.run(FutureTask.java:266)




        at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.access$201(ScheduledThreadPoolExecutor.java:180)




        at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:293)




        at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)




        at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)




        at java.lang.Thread.run(Thread.java:745)









14:52:49,529 WARN  [org.infinispan.statetransfer.StateConsumerImpl] (transport-thread--p4-t2) ISPN000209: Failed to retrieve transactions for segments [0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24, 25, 26, 27, 28, 29, 30, 31, 32, 33, 34, 35, 36, 37, 38, 39, 40, 41, 42, 43, 44, 45, 46, 47, 48, 49, 50, 51, 52, 53, 54, 55, 56, 57, 58, 59] of cache default from node node1: org.infinispan.util.concurrent.TimeoutException: Replication timeout for node1




        at org.infinispan.remoting.transport.jgroups.JGroupsTransport.checkRsp(JGroupsTransport.java:755)




        at org.infinispan.remoting.transport.jgroups.JGroupsTransport.lambda$invokeRemotelyAsync$79(JGroupsTransport.java:589)




        at org.infinispan.remoting.transport.jgroups.JGroupsTransport$$Lambda$16/514373550.apply(Unknown Source)




        at java.util.concurrent.CompletableFuture.uniApply(CompletableFuture.java:602)




        at java.util.concurrent.CompletableFuture$UniApply.tryFire(CompletableFuture.java:577)




        at java.util.concurrent.CompletableFuture.postComplete(CompletableFuture.java:474)




        at java.util.concurrent.CompletableFuture.complete(CompletableFuture.java:1954)




        at org.infinispan.remoting.transport.jgroups.SingleResponseFuture.call(SingleResponseFuture.java:46)




        at org.infinispan.remoting.transport.jgroups.SingleResponseFuture.call(SingleResponseFuture.java:17)




        at java.util.concurrent.FutureTask.run(FutureTask.java:266)




        at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.access$201(ScheduledThreadPoolExecutor.java:180)




        at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:293)




        at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)




        at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)




        at java.lang.Thread.run(Thread.java:745)









14:53:49,531 WARN  [org.infinispan.statetransfer.StateConsumerImpl] (transport-thread--p4-t2) ISPN000209: Failed to retrieve transactions for segments [0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24, 25, 26, 27, 28, 29, 30, 31, 32, 33, 34, 35, 36, 37, 38, 39, 40, 41, 42, 43, 44, 45, 46, 47, 48, 49, 50, 51, 52, 53, 54, 55, 56, 57, 58, 59] of cache default from node node1: org.infinispan.util.concurrent.TimeoutException: Replication timeout for node1




        at org.infinispan.remoting.transport.jgroups.JGroupsTransport.checkRsp(JGroupsTransport.java:755)




        at org.infinispan.remoting.transport.jgroups.JGroupsTransport.lambda$invokeRemotelyAsync$79(JGroupsTransport.java:589)




        at org.infinispan.remoting.transport.jgroups.JGroupsTransport$$Lambda$16/514373550.apply(Unknown Source)




        at java.util.concurrent.CompletableFuture.uniApply(CompletableFuture.java:602)




        at java.util.concurrent.CompletableFuture$UniApply.tryFire(CompletableFuture.java:577)




        at java.util.concurrent.CompletableFuture.postComplete(CompletableFuture.java:474)




        at java.util.concurrent.CompletableFuture.complete(CompletableFuture.java:1954)




        at org.infinispan.remoting.transport.jgroups.SingleResponseFuture.call(SingleResponseFuture.java:46)




        at org.infinispan.remoting.transport.jgroups.SingleResponseFuture.call(SingleResponseFuture.java:17)




        at java.util.concurrent.FutureTask.run(FutureTask.java:266)




        at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.access$201(ScheduledThreadPoolExecutor.java:180)




        at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:293)




        at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)




        at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)




        at java.lang.Thread.run(Thread.java:745)









14:54:42,713 INFO  [org.infinispan.remoting.transport.jgroups.JGroupsTransport] (Incoming-2,ee,node2) ISPN000094: Received new cluster view for channel server: [node2|2] (1) [node2]





</description>
			<version>10.0.0.Beta2</version>
			<fixedVersion>10.0.0.CR5</fixedVersion>
			<type>Bug</type>
		</buginformation>
		<fixedFiles>
			<file type="M">org.wildfly.extension.clustering.singleton.deployment.SingletonDeploymentDependencyProcessor.java</file>
			<file type="M">org.jboss.as.test.clustering.cluster.singleton.SingletonDeploymentDescriptorTestCase.java</file>
			<file type="M">org.wildfly.extension.clustering.singleton.deployment.SingletonDeploymentProcessor.java</file>
		</fixedFiles>
		<links>
			<link type="Cloners" description="cloned from">1012</link>
		</links>
	</bug>
	<bug id="5333" opendate="2015-09-14 11:44:41" fixdate="2015-10-30 20:13:32" resolution="Done">
		<buginformation>
			<summary>Happen to se org.omg.CORBA.PolicyError: There is no PolicyFactory time to time</summary>
			<description>I happens to me that I can see time to time error org.omg.CORBA.PolicyError: There is no PolicyFactory Registered for type [1].
I can see this issue during deployment 
Unfortunately it&amp;amp;apos;s intermittent failure that I&amp;amp;apos;m not able to reproduce surely. In most cases the server starts fine (and tests run without any problem).
This happens normally on server which is used as target of iiop call from other server.
Adding the server log for further reference.
[1]






ERROR [org.jboss.msc.service.fail] (MSC service thread 1-7) MSC000001: Failed to start service jboss.deployment.unit."crashrecovery-txpropag-server.jar".component.MultiXACrashBean.EjbIIOPService: org.jboss.msc.service.StartException in service jboss.deployment.unit."crashrecovery-txpropag-server.jar".component.MultiXACrashBean.EjbIIOPService: org.omg.CORBA.PolicyError: There is no PolicyFactory Registered for type -2023406815




 at org.jboss.as.ejb3.iiop.EjbIIOPService.start(EjbIIOPService.java:398)




 at org.jboss.msc.service.ServiceControllerImpl$StartTask.startService(ServiceControllerImpl.java:1948)




 at org.jboss.msc.service.ServiceControllerImpl$StartTask.run(ServiceControllerImpl.java:1881)




 at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)




 at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)




 at java.lang.Thread.run(Thread.java:745)




Caused by: org.omg.CORBA.PolicyError: There is no PolicyFactory Registered for type -2023406815




 at com.sun.corba.se.impl.interceptors.PIHandlerImpl.create_policy(PIHandlerImpl.java:955)




 at com.sun.corba.se.impl.orb.ORBImpl.create_policy(ORBImpl.java:1611)




 at org.jboss.as.ejb3.iiop.EjbIIOPService.start(EjbIIOPService.java:291)




 ... 5 more





</description>
			<version>10.0.0.Beta2</version>
			<fixedVersion>10.0.0.CR5</fixedVersion>
			<type>Bug</type>
		</buginformation>
		<fixedFiles>
			<file type="M">org.wildfly.iiop.openjdk.IIOPSubsystemAdd.java</file>
		</fixedFiles>
		<links>
			<link type="Cloners" description="cloned from">1066</link>
		</links>
	</bug>
	<bug id="5595" opendate="2015-10-27 19:15:44" fixdate="2015-10-30 20:55:57" resolution="Done">
		<buginformation>
			<summary>NPE during serialization of HttpSession metadata when using &lt;transaction mode="NONE"/&gt;</summary>
			<description></description>
			<version>10.0.0.CR4</version>
			<fixedVersion>10.0.0.CR5</fixedVersion>
			<type>Bug</type>
		</buginformation>
		<fixedFiles>
			<file type="M">org.wildfly.clustering.web.infinispan.session.SimpleSessionCreationMetaData.java</file>
		</fixedFiles>
	</bug>
	<bug id="5422" opendate="2015-09-22 12:38:24" fixdate="2015-10-30 20:56:15" resolution="Done">
		<buginformation>
			<summary>SSO is not destroyed after session timeout period of &lt;distributable/&gt; app.</summary>
			<description>Using &amp;lt;distributable/&amp;gt; application cause SSO doesnt destroy after session timeout period. Base on [1], there is still active session, what is probably cause that SSO is not destroyed.
Setting similar in EAP6 requires user to login after session timeout period.
Setting priority to critical because of regression with security impacts.
[1]
[standalone@localhost:9990 /] /deployment=secured-webapp.war/subsystem=undertow:read-attribute(name=active-sessions)
{
    "outcome" =&amp;gt; "success",
    "result" =&amp;gt; 0
}
[2]
[standalone@localhost:9990 /] /deployment=secured-webapp.war/subsystem=undertow:read-attribute(name=active-sessions)
{
    "outcome" =&amp;gt; "success",
    "result" =&amp;gt; 1
}</description>
			<version>10.0.0.CR2</version>
			<fixedVersion>10.0.0.CR5</fixedVersion>
			<type>Bug</type>
		</buginformation>
		<fixedFiles>
			<file type="M">org.wildfly.clustering.web.infinispan.session.InfinispanSessionTestCase.java</file>
			<file type="M">org.wildfly.clustering.web.session.SessionManagerFactoryBuilderProvider.java</file>
			<file type="M">org.wildfly.clustering.web.undertow.session.DistributableSessionManagerFactoryBuilder.java</file>
			<file type="M">org.wildfly.clustering.web.infinispan.session.fine.FineSessionAttributesFactory.java</file>
			<file type="M">org.wildfly.clustering.ee.infinispan.Remover.java</file>
			<file type="M">org.wildfly.clustering.web.undertow.sso.DistributableSingleSignOnTestCase.java</file>
			<file type="M">org.jboss.as.ejb3.cache.distributable.DistributableCache.java</file>
			<file type="M">org.wildfly.clustering.web.infinispan.session.ExpiredSessionRemoverTestCase.java</file>
			<file type="M">org.wildfly.clustering.web.undertow.session.DistributableImmutableSession.java</file>
			<file type="M">org.wildfly.clustering.web.infinispan.session.InfinispanSessionManagerFactoryConfiguration.java</file>
			<file type="M">org.wildfly.clustering.web.infinispan.session.SimpleImmutableSession.java</file>
			<file type="M">org.wildfly.clustering.web.undertow.session.DistributableSessionTestCase.java</file>
			<file type="M">org.jboss.as.test.integration.web.sso.SSOTestBase.java</file>
			<file type="M">org.jboss.as.test.clustering.cluster.sso.ClusteredSingleSignOnTestCase.java</file>
			<file type="M">org.wildfly.clustering.web.undertow.sso.DistributableSingleSignOnManager.java</file>
			<file type="M">org.wildfly.clustering.web.session.ImmutableSession.java</file>
			<file type="M">org.wildfly.clustering.web.infinispan.session.InfinispanSessionManagerConfiguration.java</file>
			<file type="M">org.wildfly.clustering.ee.infinispan.InfinispanBatchContext.java</file>
			<file type="M">org.wildfly.clustering.web.undertow.session.DistributableSession.java</file>
			<file type="M">org.wildfly.clustering.web.session.ImmutableHttpSessionAdapter.java</file>
			<file type="M">org.wildfly.clustering.web.undertow.sso.DistributableSingleSignOn.java</file>
			<file type="M">org.wildfly.clustering.web.undertow.session.DistributableSessionManager.java</file>
			<file type="M">org.wildfly.clustering.web.infinispan.session.InfinispanSessionManagerFactoryBuilder.java</file>
			<file type="M">org.wildfly.clustering.web.infinispan.session.InfinispanSessionMetaDataFactory.java</file>
			<file type="M">org.wildfly.clustering.web.infinispan.session.coarse.CoarseSessionAttributesFactory.java</file>
			<file type="D">org.wildfly.clustering.web.undertow.session.UndertowSessionContext.java</file>
			<file type="D">org.wildfly.clustering.web.session.SessionContext.java</file>
			<file type="M">org.wildfly.clustering.web.infinispan.session.InfinispanSessionManager.java</file>
			<file type="M">org.wildfly.clustering.web.infinispan.session.InfinispanImmutableSession.java</file>
			<file type="M">org.wildfly.clustering.web.infinispan.session.ExpiredSessionRemover.java</file>
			<file type="M">org.wildfly.clustering.web.infinispan.session.InfinispanSessionManagerFactory.java</file>
			<file type="M">org.wildfly.clustering.web.session.SessionManagerFactory.java</file>
			<file type="M">org.wildfly.clustering.server.registry.CacheRegistry.java</file>
			<file type="D">org.wildfly.clustering.web.session.HttpSessionAdapter.java</file>
			<file type="M">org.wildfly.clustering.web.infinispan.session.InfinispanSessionManagerFactoryBuilderProvider.java</file>
			<file type="M">org.wildfly.clustering.ejb.infinispan.group.InfinispanBeanGroupFactory.java</file>
			<file type="M">org.wildfly.clustering.web.infinispan.session.InfinispanSessionFactory.java</file>
			<file type="M">org.wildfly.clustering.web.infinispan.session.SessionFactory.java</file>
			<file type="M">org.wildfly.clustering.web.session.SessionManagerConfiguration.java</file>
			<file type="M">org.wildfly.clustering.web.undertow.sso.DistributableSingleSignOnManagerTestCase.java</file>
			<file type="M">org.wildfly.clustering.ee.infinispan.InfinispanBatcherTestCase.java</file>
			<file type="M">org.wildfly.clustering.web.undertow.session.DistributableSessionManagerTestCase.java</file>
			<file type="M">org.wildfly.clustering.web.infinispan.session.InfinispanSession.java</file>
			<file type="M">org.wildfly.clustering.web.infinispan.session.InfinispanSessionFactoryTestCase.java</file>
			<file type="M">org.wildfly.clustering.web.undertow.session.DistributableSessionManagerFactory.java</file>
			<file type="D">org.wildfly.clustering.web.undertow.session.UndertowSessionContextTestCase.java</file>
			<file type="M">org.wildfly.clustering.web.infinispan.sso.coarse.CoarseSSOFactory.java</file>
			<file type="M">org.wildfly.clustering.web.infinispan.session.SessionExpirationScheduler.java</file>
		</fixedFiles>
		<links>
			<link type="Cloners" description="cloned from">1128</link>
		</links>
	</bug>
	<bug id="5607" opendate="2015-10-29 22:51:14" fixdate="2015-10-30 22:25:38" resolution="Done">
		<buginformation>
			<summary>EJB Server side is needlessly closing remoting channel</summary>
			<description>When an EJB Bean throws a Runtime exception, it is causing the server side to close the remoting channel.  This causes several issues such as performance issue of having to recreate the channel, channel leak on the client side and some occasional EJBCLIENT...25 - no ejb receiver exceptions on the client side.</description>
			<version>10.0.0.CR4</version>
			<fixedVersion>10.0.0.CR5</fixedVersion>
			<type>Bug</type>
		</buginformation>
		<fixedFiles>
			<file type="M">org.jboss.as.ejb3.remote.protocol.versionone.MethodInvocationMessageHandler.java</file>
		</fixedFiles>
	</bug>
	<bug id="5612" opendate="2015-10-30 12:41:05" fixdate="2015-10-31 00:42:06" resolution="Done">
		<buginformation>
			<summary>UnsupportedOperationException on SingletonService.getValue()</summary>
			<description>





java.lang.IllegalStateException: java.lang.UnsupportedOperationException




	at java.util.Collections$1.remove(Collections.java:4684)




	at org.wildfly.clustering.server.singleton.SingletonService$SingletonDispatcher.getValueRef(SingletonService.java:266)




	at org.wildfly.clustering.server.singleton.SingletonService.getValue(SingletonService.java:225)




	at org.wildfly.clustering.server.singleton.SingletonService.getValue(SingletonService.java:69)




	at org.wildfly.clustering.service.AsynchronousServiceBuilder.getValue(AsynchronousServiceBuilder.java:92)




	at org.jboss.msc.service.ServiceControllerImpl.awaitValue(ServiceControllerImpl.java:1166)




	at org.wildfly.camel.test.singleton.SingletonRouteTest.testSingletonService(SingletonRouteTest.java:138)






This is happening when I try to provide a code example for a singleton service like this
CrossRef: https://github.com/wildfly-extras/wildfly-camel/issues/77</description>
			<version>9.0.2.Final</version>
			<fixedVersion>10.0.0.CR5</fixedVersion>
			<type>Bug</type>
		</buginformation>
		<fixedFiles>
			<file type="M">org.wildfly.clustering.server.dispatcher.LocalCommandDispatcher.java</file>
		</fixedFiles>
	</bug>
	<bug id="5449" opendate="2015-10-02 03:22:45" fixdate="2015-11-04 16:10:01" resolution="Done">
		<buginformation>
			<summary>Custom socket factory for JGroups subsystem not set correctly</summary>
			<description>Wildfly&amp;amp;apos;s JChannelFactory tries to set a custom socket factory on the JGroups transport.
This is not the correct API to use, and it gets overwritten when the JGroups channel starts.
A custom socket factory should be set on the JChannel.
The only time the custom socket factory is currently used is if there&amp;amp;apos;s a race condition where two channels are started at the same time, and the custom factory is set just before the other channel uses it.</description>
			<version>10.0.0.CR2</version>
			<fixedVersion>10.0.0.CR4</fixedVersion>
			<type>Bug</type>
		</buginformation>
		<fixedFiles>
			<file type="M">org.jboss.as.clustering.jgroups.JChannelFactory.java</file>
			<file type="M">org.jboss.as.clustering.jgroups.ManagedSocketFactoryTest.java</file>
			<file type="M">org.jboss.as.clustering.jgroups.ManagedSocketFactory.java</file>
		</fixedFiles>
		<links>
			<link type="Dependency" description="is blocked by">1033</link>
			<link type="Sequence" description="is followed up by">1063</link>
			<link type="Sequence" description="is followed up by">1064</link>
		</links>
	</bug>
	<bug id="5617" opendate="2015-11-03 14:59:27" fixdate="2015-11-04 23:03:55" resolution="Done">
		<buginformation>
			<summary>JGroups thread pool properties are never applied</summary>
			<description>Introduced by
fc4c9b37391ac3eec51420b38b5f2a479d3a6a1e</description>
			<version>10.0.0.CR4</version>
			<fixedVersion>10.0.0.CR5</fixedVersion>
			<type>Bug</type>
		</buginformation>
		<fixedFiles>
			<file type="M">org.jboss.as.clustering.jgroups.subsystem.TransportResourceDefinition.java</file>
			<file type="M">org.jboss.as.clustering.jgroups.JChannelFactory.java</file>
			<file type="M">org.jboss.as.clustering.jgroups.subsystem.AbstractProtocolConfigurationBuilder.java</file>
		</fixedFiles>
		<links>
			<link type="Causality" description="causes">5198</link>
			<link type="Causality" description="causes">5642</link>
			<link type="Cloners" description="cloned to">1740</link>
		</links>
	</bug>
	<bug id="5646" opendate="2015-11-06 20:37:33" fixdate="2015-11-07 22:15:22" resolution="Done">
		<buginformation>
			<summary>SingletonServiceTestCase fails intermittently</summary>
			<description></description>
			<version>10.0.0.CR4</version>
			<fixedVersion>10.0.0.CR5</fixedVersion>
			<type>Bug</type>
		</buginformation>
		<fixedFiles>
			<file type="M">org.jboss.as.test.clustering.cluster.singleton.SingletonServiceTestCase.java</file>
			<file type="M">org.jboss.as.test.clustering.cluster.singleton.service.MyServiceServlet.java</file>
		</fixedFiles>
		<links>
			<link type="Cloners" description="cloned to">1786</link>
		</links>
	</bug>
	<bug id="5628" opendate="2015-11-04 14:51:57" fixdate="2015-11-07 22:17:14" resolution="Done">
		<buginformation>
			<summary>Deploying distributable web application starts an unnecessary cache.</summary>
			<description>Deploying a web application should only start 2 caches:

Cache for storing sessions (deployment specific)
Cache for storing routing information (shared)

However, currently, the default cache is also started, even though it is never used.</description>
			<version>10.0.0.CR4</version>
			<fixedVersion>10.0.0.CR5</fixedVersion>
			<type>Bug</type>
		</buginformation>
		<fixedFiles>
			<file type="M">org.wildfly.clustering.web.infinispan.session.InfinispanSessionManagerFactoryBuilder.java</file>
		</fixedFiles>
		<links>
			<link type="Cloners" description="cloned to">1754</link>
		</links>
	</bug>
	<bug id="5665" opendate="2015-11-11 20:39:52" fixdate="2015-11-13 17:57:53" resolution="Done">
		<buginformation>
			<summary>Infinispan enables statistics instrumentation even though statistics-enabled is false</summary>
			<description></description>
			<version>10.0.0.CR4</version>
			<fixedVersion>10.0.0.CR5</fixedVersion>
			<type>Bug</type>
		</buginformation>
		<fixedFiles>
			<file type="M">org.jboss.as.clustering.infinispan.subsystem.CacheConfigurationBuilder.java</file>
		</fixedFiles>
		<links>
			<link type="Cloners" description="cloned to">1880</link>
		</links>
	</bug>
	<bug id="5393" opendate="2015-09-23 13:53:58" fixdate="2015-11-18 02:20:51" resolution="Done">
		<buginformation>
			<summary>Using deprecated attribute use-hornetq-store in CLI does not have any effect being set</summary>
			<description>Attribute use-hornetq-store was deprecated for EAP7 and use-journal-store should be used instead. But even the attribute is deprecated it still should provide its old functionality.
I think that using use-hornetq-store would have the same effect as when use-journal-store is used.
I would think that when one of the attribute is set then the other one should present the same settings.






/subsystem=transactions:read-attribute(name=use-hornetq-store)




{




    "outcome" =&amp;gt; "success",




    "result" =&amp;gt; false




}




/subsystem=transactions:read-attribute(name=use-journal-store)




{




    "outcome" =&amp;gt; "success",




    "result" =&amp;gt; false




}




/subsystem=transactions:write-attribute(name=use-journal-store, value=true)




{




    "outcome" =&amp;gt; "success",




    "response-headers" =&amp;gt; {




        "operation-requires-restart" =&amp;gt; true,




        "process-state" =&amp;gt; "restart-required"




    }




}









:shutdown(restart=true)




{"outcome" =&amp;gt; "success"}









/subsystem=transactions:read-attribute(name=use-journal-store)




{




    "outcome" =&amp;gt; "success",




    "result" =&amp;gt; true




}




 /subsystem=transactions:read-attribute(name=use-hornetq-store)




{




    "outcome" =&amp;gt; "success",




    "result" =&amp;gt; false




}





</description>
			<version>10.0.0.CR1</version>
			<fixedVersion>10.0.0.CR5</fixedVersion>
			<type>Bug</type>
		</buginformation>
		<fixedFiles>
			<file type="M">org.jboss.as.txn.subsystem.TransactionSubsystemRootResourceDefinition.java</file>
			<file type="M">org.jboss.as.test.manualmode.transaction.ObjectStoreTypeTestCase.java</file>
		</fixedFiles>
		<links>
			<link type="Cloners" description="cloned from">1136</link>
		</links>
	</bug>
	<bug id="5683" opendate="2015-11-15 16:15:04" fixdate="2015-11-18 08:52:51" resolution="Done">
		<buginformation>
			<summary>Default jgroups thread pool keep-alive times are much too small</summary>
			<description>This looks like a unit problem.  e.g. 60 sec instead of 60 msec.</description>
			<version>10.0.0.CR4</version>
			<fixedVersion>10.0.0.CR5</fixedVersion>
			<type>Bug</type>
		</buginformation>
		<fixedFiles>
			<file type="M">org.jboss.as.clustering.infinispan.subsystem.ThreadPoolResourceDefinition.java</file>
			<file type="M">org.jboss.as.clustering.jgroups.subsystem.ThreadPoolResourceDefinition.java</file>
		</fixedFiles>
		<links>
			<link type="Cloners" description="cloned from">1917</link>
		</links>
	</bug>
	<bug id="5564" opendate="2015-10-09 10:28:40" fixdate="2015-11-18 10:27:31" resolution="Done">
		<buginformation>
			<summary>Unable to set use-journal-store if use-jdbc-store was set to true before</summary>
			<description>It is impossible to set use-journal-store or use-jdbc-store after other was set. The other has to have its default value, although setting it back to its default value won&amp;amp;apos;t help.</description>
			<version>10.0.0.CR3</version>
			<fixedVersion>10.0.0.CR5</fixedVersion>
			<type>Bug</type>
		</buginformation>
		<fixedFiles>
			<file type="M">org.jboss.as.txn.subsystem.TransactionSubsystemRootResourceDefinition.java</file>
			<file type="M">org.jboss.as.txn.subsystem.TransactionSubsystemAdd.java</file>
			<file type="M">org.jboss.as.txn.logging.TransactionLogger.java</file>
			<file type="D">org.jboss.as.test.manualmode.transaction.ObjectStoreTypeTest.java</file>
		</fixedFiles>
		<links>
			<link type="Cloners" description="cloned to">1354</link>
		</links>
	</bug>
	<bug id="5667" opendate="2015-11-12 11:17:31" fixdate="2015-11-24 10:22:35" resolution="Done">
		<buginformation>
			<summary>[Migration operation] Provide warning that HornetQ connector/acceptor parameters can not be migrated to the new messaging-subsystem</summary>
			<description>The parameters used by remote/http connector/acceptors in HornetQ might not be supported by Artemis.
During migration, the operation should check if the parameters to migrate are allowed by the Artemis resources.
If that&amp;amp;apos;s not the case, they will be removed from the migrated resources and warnings will be added to the :migrate operation outcome.</description>
			<version>10.0.0.CR4</version>
			<fixedVersion>10.0.0.CR5</fixedVersion>
			<type>Bug</type>
		</buginformation>
		<fixedFiles>
			<file type="M">org.jboss.as.messaging.test.MigrateTestCase.java</file>
			<file type="M">org.jboss.as.messaging.logging.MessagingLogger.java</file>
			<file type="M">org.jboss.as.messaging.MigrateOperation.java</file>
		</fixedFiles>
		<links>
			<link type="Cloners" description="cloned from">1860</link>
			<link type="Dependency" description="blocks">1860</link>
		</links>
	</bug>
	<bug id="5648" opendate="2015-11-09 11:25:52" fixdate="2015-11-25 01:40:55" resolution="Done">
		<buginformation>
			<summary>Access log message fails to be written to recreated access log on Windows</summary>
			<description>Undertow fails to write to access-log when the access-log configuration was removed including the access-log file and then the configuration was recreated with [1]. Probably there remains some lock to old file preventing creation of the new one.
Steps to reproduce:
1) deploy some simple web application
2) define access-log =&amp;gt; /subsystem=undertow/server=default-server/host=default-host/setting=access-log:add()
3) reload server
4) access the web application
5) see that the access was logged to access-log
6) remove the access-log =&amp;gt; /subsystem=undertow/server=default-server/host=default-host/setting=access-log:remove()
7) reload the server
8) remove the access-log file
9) define again the access-log =&amp;gt; /subsystem=undertow/server=default-server/host=default-host/setting=access-log:add()
10) access again the web application
11) check both server logs and access-log
[1]






05:49:51,448 ERROR [io.undertow] (default task-2) UT005016: Error writing access log: java.nio.file.AccessDeniedException: W:\workspace\eap-7x-undertow-integration-tests\d07ae7a0\manu-eap-1.1.13\out\UnzipEap_1\workspace\jboss-eap-7.0\standalone\log\access_log.log




	at sun.nio.fs.WindowsException.translateToIOException(WindowsException.java:83)




	at sun.nio.fs.WindowsException.rethrowAsIOException(WindowsException.java:97)




	at sun.nio.fs.WindowsException.rethrowAsIOException(WindowsException.java:102)




	at sun.nio.fs.WindowsFileSystemProvider.newByteChannel(WindowsFileSystemProvider.java:230)




	at java.nio.file.spi.FileSystemProvider.newOutputStream(FileSystemProvider.java:434)




	at java.nio.file.Files.newOutputStream(Files.java:216)




	at java.nio.file.Files.newBufferedWriter(Files.java:2860)




	at io.undertow.server.handlers.accesslog.DefaultAccessLogReceiver.writeMessage(DefaultAccessLogReceiver.java:224)




	at io.undertow.server.handlers.accesslog.DefaultAccessLogReceiver.run(DefaultAccessLogReceiver.java:180)




	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)




	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)




	at java.lang.Thread.run(Thread.java:745)





</description>
			<version>10.0.0.CR4</version>
			<fixedVersion>10.0.0.CR5</fixedVersion>
			<type>Bug</type>
		</buginformation>
		<fixedFiles>
			<file type="M">org.wildfly.extension.undertow.AccessLogService.java</file>
		</fixedFiles>
		<links>
			<link type="Cloners" description="cloned from">1792</link>
		</links>
	</bug>
	<bug id="5690" opendate="2015-11-17 10:56:20" fixdate="2015-11-25 09:11:11" resolution="Done">
		<buginformation>
			<summary>JDBCStoreResourceDefinition.DeprecatedAttribute.DATASOURCE is not transformed</summary>
			<description></description>
			<version>10.0.0.CR4</version>
			<fixedVersion>10.0.0.CR5</fixedVersion>
			<type>Bug</type>
		</buginformation>
		<fixedFiles>
			<file type="M">org.jboss.as.clustering.infinispan.subsystem.JDBCStoreResourceDefinition.java</file>
			<file type="M">org.jboss.as.clustering.infinispan.subsystem.TransformersTestCase.java</file>
		</fixedFiles>
		<links>
			<link type="Cloners" description="cloned to">1941</link>
			<link type="Related" description="is related to">5494</link>
		</links>
	</bug>
	<bug id="5680" opendate="2015-11-13 16:36:23" fixdate="2015-11-25 14:30:12" resolution="Done">
		<buginformation>
			<summary>InfinispanBatchContext trying to resume committed tx</summary>
			<description>When running the test case RemoteFailoverTestCase.testStatefulFailover, the test hangs due to an exception occurring. The exception is the following:






[31m11:24:05,814 ERROR [org.infinispan.interceptors.InvocationContextInterceptor] (EJB default - 3) ISPN000136: Execution error: java.lang.IllegalStateException: Transaction DummyTransaction{xid=DummyXid{id=47}, status=3} is not in a valid state to be invoking cache operations on.






This exception arose some time ago and was linked to incorrect suspend/resume of threads by the InfinispanBatching mechanism. This is just a suggestion as to what might be the root cause.
Attached is a log of the test case run with TRACE logging on DummyTransactionManager which coordinates the suspends and resumes. I have also performed a stack trace dump on every call to suspend and resume to highlight the origin of the call. 
</description>
			<version>10.0.0.CR4</version>
			<fixedVersion>10.0.0.CR5</fixedVersion>
			<type>Bug</type>
		</buginformation>
		<fixedFiles>
			<file type="M">org.jboss.as.ejb3.component.stateful.StatefulSessionComponentInstance.java</file>
			<file type="M">org.wildfly.clustering.web.undertow.session.DistributableSessionManager.java</file>
			<file type="M">org.wildfly.clustering.web.undertow.session.DistributableSessionManagerTestCase.java</file>
			<file type="M">org.jboss.as.ejb3.cache.distributable.DistributableCache.java</file>
		</fixedFiles>
		<links>
			<link type="Cloners" description="cloned to">1954</link>
			<link type="Related" description="relates to">6160</link>
		</links>
	</bug>
	<bug id="5706" opendate="2015-11-19 14:20:24" fixdate="2015-11-25 14:30:43" resolution="Done">
		<buginformation>
			<summary>Failure to commit state shouldn&amp;apos;t trigger response failure</summary>
			<description>We should log a warning instead, ideally commit data to the local node (e.g. AS5/AS7 behavior).
In sync case its too late to propagate to undertow because the response was already commited.</description>
			<version>10.0.0.CR4</version>
			<fixedVersion>10.0.0.CR5</fixedVersion>
			<type>Bug</type>
		</buginformation>
		<fixedFiles>
			<file type="M">org.wildfly.clustering.ee.infinispan.CacheEntryMutator.java</file>
			<file type="M">org.wildfly.clustering.ee.infinispan.CacheEntryMutatorTestCase.java</file>
			<file type="M">org.wildfly.clustering.web.undertow.session.DistributableSession.java</file>
		</fixedFiles>
		<links>
			<link type="Cloners" description="cloned to">1957</link>
		</links>
	</bug>
	<bug id="5711" opendate="2015-11-20 09:10:20" fixdate="2015-11-25 14:31:03" resolution="Done">
		<buginformation>
			<summary>FormAuthenticationWebFailoverTestCase fails against Undertow 1.3.6.Final</summary>
			<description></description>
			<version>10.0.0.CR4</version>
			<fixedVersion>10.0.0.CR5</fixedVersion>
			<type>Bug</type>
		</buginformation>
		<fixedFiles>
			<file type="M">org.jboss.as.test.clustering.cluster.web.authentication.SecureServlet.java</file>
			<file type="M">org.jboss.as.test.clustering.cluster.web.authentication.FormAuthenticationWebFailoverTestCase.java</file>
		</fixedFiles>
		<links>
			<link type="Causality" description="is caused by">579</link>
			<link type="Causality" description="is caused by">1139</link>
			<link type="Cloners" description="cloned to">1965</link>
			<link type="Related" description="relates to">5663</link>
		</links>
	</bug>
	<bug id="5657" opendate="2015-11-10 22:39:25" fixdate="2015-11-25 14:33:47" resolution="Done">
		<buginformation>
			<summary>HttpServletRequest.changeSessionId() doesn&amp;apos;t reassociate session ID with distributed SSO</summary>
			<description>The distributed SSO implementation stores a map of sessions using the session ID.  If the user changes the session ID, this reference is never changed.  Consequently, subsequent calls to SingleSignOn.getSession(SessionManager) will return null.</description>
			<version>10.0.0.CR4</version>
			<fixedVersion>10.0.0.CR5</fixedVersion>
			<type>Bug</type>
		</buginformation>
		<fixedFiles>
			<file type="M">org.wildfly.clustering.web.undertow.sso.DistributableSingleSignOn.java</file>
		</fixedFiles>
		<links>
			<link type="Cloners" description="cloned to">1877</link>
		</links>
	</bug>
	<bug id="5756" opendate="2015-12-01 22:47:06" fixdate="2015-12-04 22:28:49" resolution="Done">
		<buginformation>
			<summary>Unable to exclude root context (/) via excluded-contexts in mod_cluster subsystem</summary>
			<description>





[standalone@localhost:9990 /] /subsystem=modcluster/mod-cluster-config=configuration/:write-attribute(name=excluded-contexts,value="ROOT,/"






but no luck






mod_cluster/1.3.2.Alpha1-SNAPSHOT









Auto Refresh show DUMP output show INFO output




Node localhost (ajp://127.0.0.1:8009):









Enable Contexts Disable Contexts Stop Contexts




Balancer: syrah-cluster,LBGroup: ,Flushpackets: Off,Flushwait: 10000,Ping: 10000000,Smax: 26,Ttl: 60000000,Status: OK,Elected: 0,Read: 0,Transferred: 0,Connected: 0,Load: 77




Virtual Host 1:









Contexts:









/clusterbench-passivating, Status: ENABLED Request: 0 Disable Stop




/, Status: ENABLED Request: 0 Disable Stop




Aliases:









localhost




default-host





</description>
			<version>10.0.0.CR4</version>
			<fixedVersion>10.0.0.CR5</fixedVersion>
			<type>Bug</type>
		</buginformation>
		<fixedFiles>
			<file type="M">org.wildfly.mod_cluster.undertow.UndertowHostTestCase.java</file>
			<file type="M">org.wildfly.mod_cluster.undertow.UndertowContext.java</file>
			<file type="M">org.wildfly.mod_cluster.undertow.UndertowContextTestCase.java</file>
			<file type="M">org.wildfly.mod_cluster.undertow.UndertowHost.java</file>
		</fixedFiles>
		<links>
			<link type="Cloners" description="cloned to">2134</link>
			<link type="Related" description="is related to">473</link>
		</links>
	</bug>
	<bug id="5180" opendate="2015-08-24 10:40:30" fixdate="2015-12-04 22:29:27" resolution="Done">
		<buginformation>
			<summary>Creating cache from user code needs to execute in a privileged block</summary>
			<description>Description of problem:
InfinispanResourceRefTestCase causes NameNotFoundException with security manager.
How reproducible:
Always
Steps to Reproduce:

./build.sh -DskipTests -DallTests -Dts.noSmoke
./integration-tests.sh -fae -Dmaven.test.failure.ignore=true -Dnode0=$MYTESTIP_1 -Dnode1=$MYTESTIP_2  -DfailIfNoTests=false  -Dsecurity.manager -Dts.basic -Dts.noSmoke -Dtest=InfinispanResourceRefTestCase

Actual results:






javax.naming.NameNotFoundException: infinispan




	at org.jboss.as.ee.component.ViewManagedReferenceFactory.getReference(ViewManagedReferenceFactory.java:58)




	at org.jboss.as.naming.ServiceBasedNamingStore$1.run(ServiceBasedNamingStore.java:138)




	at java.security.AccessController.doPrivileged(Native Method)




	at org.jboss.as.naming.ServiceBasedNamingStore.lookup(ServiceBasedNamingStore.java:135)




	at org.jboss.as.naming.ServiceBasedNamingStore.lookup(ServiceBasedNamingStore.java:83)




	at org.jboss.as.naming.NamingContext.lookup(NamingContext.java:207)




	at org.jboss.as.naming.NamingContext.lookup(NamingContext.java:184)




	at org.jboss.as.naming.InitialContext$DefaultInitialContext.lookup(InitialContext.java:237)




	at org.jboss.as.naming.NamingContext.lookup(NamingContext.java:193)




	at org.jboss.as.naming.NamingContext.lookup(NamingContext.java:189)




	at javax.naming.InitialContext.lookup(InitialContext.java:417)




	at javax.naming.InitialContext.lookup(InitialContext.java:417)




	at org.jboss.as.test.integration.ee.injection.resource.infinispan.InfinispanResourceRefTestCase.test(InfinispanResourceRefTestCase.java:64)





</description>
			<version>10.0.0.CR4</version>
			<fixedVersion>10.0.0.CR5</fixedVersion>
			<type>Bug</type>
		</buginformation>
		<fixedFiles>
			<file type="M">org.jboss.as.clustering.infinispan.DefaultCacheContainer.java</file>
		</fixedFiles>
		<links>
			<link type="Cloners" description="cloned from">840</link>
		</links>
	</bug>
	<bug id="5011" opendate="2015-07-27 12:07:51" fixdate="2015-12-05 00:24:59" resolution="Done">
		<buginformation>
			<summary>OutdatedTopologyException: Cache not running on node &lt;node_name&gt;</summary>
			<description>Seen in our HTTP-based failover tests (no matter what failover type: jvmkill/shutdown/undeploy), with distributed cache used. 
Does not occur when replicated cache is used.
Setup: 4 node cluster, one node at time is shutdown, while standalone clients keep calling the application.
After failing one node(failover type: jvmkill/shutdown/undeploy) - perf18 for example, perf19,20,21 log the following error message many times (seems like one error per each session)






[JBossINF] [0m[31m05:48:40,646 ERROR [io.undertow.request] (default task-110) UT005023: Exception handling request to /clusterbench/session: org.infinispan.statetransfer.OutdatedTopologyException: Cache not running on node perf18




[JBossINF] 	at org.infinispan.interceptors.distribution.TxDistributionInterceptor.checkTxCommandResponses(TxDistributionInterceptor.java:274)




[JBossINF] 	at org.infinispan.interceptors.distribution.TxDistributionInterceptor.visitLockControlCommand(TxDistributionInterceptor.java:186)




[JBossINF] 	at org.infinispan.commands.control.LockControlCommand.acceptVisitor(LockControlCommand.java:110)




[JBossINF] 	at org.infinispan.interceptors.base.CommandInterceptor.invokeNextInterceptor(CommandInterceptor.java:97)




[JBossINF] 	at org.infinispan.interceptors.base.CommandInterceptor.handleDefault(CommandInterceptor.java:111)




[JBossINF] 	at org.infinispan.commands.AbstractVisitor.visitLockControlCommand(AbstractVisitor.java:174)




[JBossINF] 	at org.infinispan.commands.control.LockControlCommand.acceptVisitor(LockControlCommand.java:110)




[JBossINF] 	at org.infinispan.interceptors.base.CommandInterceptor.invokeNextInterceptor(CommandInterceptor.java:97)




[JBossINF] 	at org.infinispan.interceptors.base.CommandInterceptor.handleDefault(CommandInterceptor.java:111)




[JBossINF] 	at org.infinispan.commands.AbstractVisitor.visitLockControlCommand(AbstractVisitor.java:174)




[JBossINF] 	at org.infinispan.commands.control.LockControlCommand.acceptVisitor(LockControlCommand.java:110)




[JBossINF] 	at org.infinispan.interceptors.base.CommandInterceptor.invokeNextInterceptor(CommandInterceptor.java:97)




[JBossINF] 	at org.infinispan.interceptors.base.CommandInterceptor.handleDefault(CommandInterceptor.java:111)




[JBossINF] 	at org.infinispan.commands.AbstractVisitor.visitLockControlCommand(AbstractVisitor.java:174)




[JBossINF] 	at org.infinispan.commands.control.LockControlCommand.acceptVisitor(LockControlCommand.java:110)




[JBossINF] 	at org.infinispan.interceptors.base.CommandInterceptor.invokeNextInterceptor(CommandInterceptor.java:97)




[JBossINF] 	at org.infinispan.interceptors.locking.PessimisticLockingInterceptor.acquireRemoteIfNeeded(PessimisticLockingInterceptor.java:238)




[JBossINF] 	at org.infinispan.interceptors.locking.PessimisticLockingInterceptor.visitDataReadCommand(PessimisticLockingInterceptor.java:66)




[JBossINF] 	at org.infinispan.interceptors.locking.AbstractLockingInterceptor.visitGetKeyValueCommand(AbstractLockingInterceptor.java:70)




[JBossINF] 	at org.infinispan.commands.read.GetKeyValueCommand.acceptVisitor(GetKeyValueCommand.java:40)




[JBossINF] 	at org.infinispan.interceptors.base.CommandInterceptor.invokeNextInterceptor(CommandInterceptor.java:97)




[JBossINF] 	at org.infinispan.interceptors.base.CommandInterceptor.handleDefault(CommandInterceptor.java:111)




[JBossINF] 	at org.infinispan.commands.AbstractVisitor.visitGetKeyValueCommand(AbstractVisitor.java:86)




[JBossINF] 	at org.infinispan.commands.read.GetKeyValueCommand.acceptVisitor(GetKeyValueCommand.java:40)




[JBossINF] 	at org.infinispan.interceptors.base.CommandInterceptor.invokeNextInterceptor(CommandInterceptor.java:97)




[JBossINF] 	at org.infinispan.interceptors.TxInterceptor.enlistReadAndInvokeNext(TxInterceptor.java:346)




[JBossINF] 	at org.infinispan.interceptors.TxInterceptor.visitGetKeyValueCommand(TxInterceptor.java:318)




[JBossINF] 	at org.infinispan.commands.read.GetKeyValueCommand.acceptVisitor(GetKeyValueCommand.java:40)




[JBossINF] 	at org.infinispan.interceptors.base.CommandInterceptor.invokeNextInterceptor(CommandInterceptor.java:97)




[JBossINF] 	at org.infinispan.interceptors.base.CommandInterceptor.handleDefault(CommandInterceptor.java:111)




[JBossINF] 	at org.infinispan.commands.AbstractVisitor.visitGetKeyValueCommand(AbstractVisitor.java:86)




[JBossINF] 	at org.infinispan.commands.read.GetKeyValueCommand.acceptVisitor(GetKeyValueCommand.java:40)




[JBossINF] 	at org.infinispan.interceptors.base.CommandInterceptor.invokeNextInterceptor(CommandInterceptor.java:97)




[JBossINF] 	at org.infinispan.statetransfer.StateTransferInterceptor.handleTopologyAffectedCommand(StateTransferInterceptor.java:364)




[JBossINF] 	at org.infinispan.statetransfer.StateTransferInterceptor.handleDefault(StateTransferInterceptor.java:349)




[JBossINF] 	at org.infinispan.commands.AbstractVisitor.visitGetKeyValueCommand(AbstractVisitor.java:86)




[JBossINF] 	at org.infinispan.commands.read.GetKeyValueCommand.acceptVisitor(GetKeyValueCommand.java:40)




[JBossINF] 	at org.infinispan.interceptors.base.CommandInterceptor.invokeNextInterceptor(CommandInterceptor.java:97)




[JBossINF] 	at org.infinispan.interceptors.CacheMgmtInterceptor.visitDataReadCommand(CacheMgmtInterceptor.java:103)




[JBossINF] 	at org.infinispan.interceptors.CacheMgmtInterceptor.visitGetKeyValueCommand(CacheMgmtInterceptor.java:91)




[JBossINF] 	at org.infinispan.commands.read.GetKeyValueCommand.acceptVisitor(GetKeyValueCommand.java:40)




[JBossINF] 	at org.infinispan.interceptors.base.CommandInterceptor.invokeNextInterceptor(CommandInterceptor.java:97)




[JBossINF] 	at org.infinispan.interceptors.InvocationContextInterceptor.handleAll(InvocationContextInterceptor.java:102)




[JBossINF] 	at org.infinispan.interceptors.InvocationContextInterceptor.handleDefault(InvocationContextInterceptor.java:71)




[JBossINF] 	at org.infinispan.commands.AbstractVisitor.visitGetKeyValueCommand(AbstractVisitor.java:86)




[JBossINF] 	at org.infinispan.commands.read.GetKeyValueCommand.acceptVisitor(GetKeyValueCommand.java:40)




[JBossINF] 	at org.infinispan.interceptors.InterceptorChain.invoke(InterceptorChain.java:336)




[JBossINF] 	at org.infinispan.cache.impl.CacheImpl.get(CacheImpl.java:430)




[JBossINF] 	at org.infinispan.cache.impl.DecoratedCache.get(DecoratedCache.java:427)




[JBossINF] 	at org.infinispan.cache.impl.AbstractDelegatingCache.get(AbstractDelegatingCache.java:287)




[JBossINF] 	at org.wildfly.clustering.web.infinispan.session.coarse.CoarseSessionFactory.findValue(CoarseSessionFactory.java:120)




[JBossINF] 	at org.wildfly.clustering.web.infinispan.session.coarse.CoarseSessionFactory.findValue(CoarseSessionFactory.java:56)




[JBossINF] 	at org.wildfly.clustering.web.infinispan.session.InfinispanSessionManager.findSession(InfinispanSessionManager.java:232)




[JBossINF] 	at org.wildfly.clustering.web.undertow.session.DistributableSessionManager.getSession(DistributableSessionManager.java:116)




[JBossINF] 	at io.undertow.servlet.spec.ServletContextImpl.getSession(ServletContextImpl.java:725)




[JBossINF] 	at io.undertow.servlet.spec.HttpServletRequestImpl.getSession(HttpServletRequestImpl.java:367)




[JBossINF] 	at org.jboss.weld.servlet.SessionHolder.requestInitialized(SessionHolder.java:47)




[JBossINF] 	at org.jboss.weld.servlet.HttpContextLifecycle.requestInitialized(HttpContextLifecycle.java:231)




[JBossINF] 	at org.jboss.weld.servlet.WeldInitialListener.requestInitialized(WeldInitialListener.java:152)




[JBossINF] 	at io.undertow.servlet.core.ApplicationListeners.requestInitialized(ApplicationListeners.java:216)




[JBossINF] 	at io.undertow.servlet.handlers.ServletInitialHandler.handleFirstRequest(ServletInitialHandler.java:281)




[JBossINF] 	at io.undertow.servlet.handlers.ServletInitialHandler.dispatchRequest(ServletInitialHandler.java:261)




[JBossINF] 	at io.undertow.servlet.handlers.ServletInitialHandler.access$000(ServletInitialHandler.java:80)




[JBossINF] 	at io.undertow.servlet.handlers.ServletInitialHandler$1.handleRequest(ServletInitialHandler.java:172)




[JBossINF] 	at io.undertow.server.Connectors.executeRootHandler(Connectors.java:199)




[JBossINF] 	at io.undertow.server.HttpServerExchange$1.run(HttpServerExchange.java:774)




[JBossINF] 	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)




[JBossINF] 	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)




[JBossINF] 	at java.lang.Thread.run(Thread.java:745)






Server log:
http://jenkins.mw.lab.eng.bos.redhat.com/hudson/job/eap-7x-failover-http-session-jvmkill-dist-async/3/console-perf19/</description>
			<version>10.0.0.Alpha6</version>
			<fixedVersion>10.0.0.CR5</fixedVersion>
			<type>Bug</type>
		</buginformation>
		<fixedFiles>
			<file type="M">org.wildfly.clustering.ejb.infinispan.bean.InfinispanBeanFactory.java</file>
			<file type="M">org.wildfly.clustering.web.infinispan.sso.coarse.CoarseSSOFactory.java</file>
			<file type="M">org.wildfly.clustering.ejb.infinispan.InfinispanBeanManagerFactory.java</file>
			<file type="M">org.wildfly.clustering.web.infinispan.session.InfinispanSessionMetaDataFactory.java</file>
		</fixedFiles>
		<links>
			<link type="Causality" description="is caused by">6007</link>
			<link type="Cloners" description="cloned from">508</link>
		</links>
	</bug>
	<bug id="5672" opendate="2015-11-12 22:17:16" fixdate="2015-12-05 00:25:23" resolution="Done">
		<buginformation>
			<summary>Implicitly added resources (no transport, thread pools, etc) should be added by parent add operation instead of the parser</summary>
			<description>It looks like in the infinispan subsystem parser some thread pools are explicitly added. This means these resources are not added if adding the subsystem via the add operation. These resources should be added like any other child resource of the subsystem.
If the resources can&amp;amp;apos;t be added like that, e.g. they are truly defaults, the add handler for the parent can add a step to check for children and add any missing ones. This would result in the same behavior, but allow the add operation to work correctly.</description>
			<version>10.0.0.CR4</version>
			<fixedVersion>10.0.0.CR5</fixedVersion>
			<type>Bug</type>
		</buginformation>
		<fixedFiles>
			<file type="M">org.jboss.as.clustering.infinispan.subsystem.FileStoreResourceDefinition.java</file>
			<file type="M">org.jboss.as.clustering.infinispan.subsystem.SubsystemParsingTestCase.java</file>
			<file type="M">org.jboss.as.clustering.infinispan.subsystem.DistributedCacheResourceDefinition.java</file>
			<file type="M">org.jboss.as.clustering.infinispan.subsystem.StringKeyedJDBCStoreResourceDefinition.java</file>
			<file type="M">org.jboss.as.clustering.infinispan.subsystem.CacheContainerResourceDefinition.java</file>
			<file type="M">org.jboss.as.clustering.controller.BoottimeAddStepHandler.java</file>
			<file type="M">org.jboss.as.clustering.infinispan.subsystem.BinaryKeyedJDBCStoreResourceDefinition.java</file>
			<file type="M">org.jboss.as.clustering.controller.AddStepHandlerDescriptor.java</file>
			<file type="M">org.jboss.as.clustering.jgroups.subsystem.JGroupsSubsystemXMLReader.java</file>
			<file type="M">org.jboss.as.clustering.infinispan.subsystem.RemoteStoreResourceDefinition.java</file>
			<file type="M">org.jboss.as.clustering.controller.AddStepHandler.java</file>
			<file type="M">org.jboss.as.clustering.jgroups.subsystem.TransportResourceDefinition.java</file>
			<file type="M">org.jboss.as.clustering.infinispan.subsystem.MixedKeyedJDBCStoreResourceDefinition.java</file>
			<file type="M">org.jboss.as.clustering.infinispan.subsystem.NoStoreResourceDefinition.java</file>
			<file type="M">org.jboss.as.clustering.infinispan.subsystem.CustomStoreResourceDefinition.java</file>
			<file type="M">org.jboss.as.clustering.infinispan.subsystem.ReplicatedCacheResourceDefinition.java</file>
			<file type="M">org.jboss.as.clustering.infinispan.subsystem.SharedStateCacheResourceDefinition.java</file>
			<file type="M">org.jboss.as.clustering.infinispan.subsystem.InvalidationCacheResourceDefinition.java</file>
			<file type="M">org.jboss.as.clustering.jgroups.subsystem.SubsystemParsingTestCase.java</file>
			<file type="M">org.jboss.as.clustering.infinispan.subsystem.TransformersTestCase.java</file>
			<file type="M">org.jboss.as.clustering.infinispan.subsystem.InfinispanSubsystemXMLReader.java</file>
			<file type="M">org.jboss.as.clustering.infinispan.subsystem.LocalCacheResourceDefinition.java</file>
			<file type="D">org.jboss.as.clustering.controller.transform.ImplicitlyAddedResourceDynamicDiscardPolicy.java</file>
			<file type="M">org.jboss.as.clustering.controller.ResourceDescriptor.java</file>
		</fixedFiles>
		<links>
			<link type="Cloners" description="cloned to">1909</link>
		</links>
	</bug>
	<bug id="5777" opendate="2015-12-03 19:16:36" fixdate="2015-12-05 00:29:01" resolution="Done">
		<buginformation>
			<summary>NPE when forming jgroups cluster</summary>
			<description>I just got this NPE when deploying a new application on my Wildfly 10 CR4 domain cluster.
JGRP000027: failed passing message up: java.lang.RuntimeException: java.lang.NullPointerException
        at org.jgroups.blocks.MessageDispatcher$ProtocolAdapter.up(MessageDispatcher.java:689)
        at org.jgroups.JChannel.up(JChannel.java:738)
        at org.jgroups.stack.ProtocolStack.up(ProtocolStack.java:1029)
        at org.jgroups.protocols.FORK.up(FORK.java:133)
        at org.jgroups.protocols.FRAG2.up(FRAG2.java:165)
        at org.jgroups.protocols.FlowControl.up(FlowControl.java:394)
        at org.jgroups.protocols.pbcast.GMS.installView(GMS.java:735)
        at org.jgroups.protocols.pbcast.ParticipantGmsImpl.handleViewChange(ParticipantGmsImpl.java:140)
        at org.jgroups.protocols.pbcast.GMS.up(GMS.java:925)
        at org.jgroups.stack.Protocol.up(Protocol.java:412)
        at org.jgroups.protocols.pbcast.STABLE.up(STABLE.java:294)
        at org.jgroups.protocols.UNICAST3.up(UNICAST3.java:474)
        at org.jgroups.protocols.pbcast.NAKACK2.deliverBatch(NAKACK2.java:982)
        at org.jgroups.protocols.pbcast.NAKACK2.removeAndPassUp(NAKACK2.java:912)
        at org.jgroups.protocols.pbcast.NAKACK2.handleMessage(NAKACK2.java:846)
        at org.jgroups.protocols.pbcast.NAKACK2.up(NAKACK2.java:618)
        at org.jgroups.protocols.VERIFY_SUSPECT.up(VERIFY_SUSPECT.java:155)
        at org.jgroups.protocols.FD.up(FD.java:260)
        at org.jgroups.protocols.FD_SOCK.up(FD_SOCK.java:310)
        at org.jgroups.protocols.MERGE3.up(MERGE3.java:285)
        at org.jgroups.protocols.Discovery.up(Discovery.java:295)
        at org.jgroups.protocols.TP.passMessageUp(TP.java:1577)
        at org.jgroups.protocols.TP$MyHandler.run(TP.java:1796)
        at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)
        at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)
        at java.lang.Thread.run(Thread.java:745)
Caused by: java.lang.NullPointerException
        at org.wildfly.clustering.server.group.ChannelNodeFactory.createNode(ChannelNodeFactory.java:55)
        at org.wildfly.clustering.server.group.ChannelNodeFactory.createNode(ChannelNodeFactory.java:40)
        at org.wildfly.clustering.server.dispatcher.ChannelCommandDispatcherFactory.getNodes(ChannelCommandDispatcherFactory.java:207)
        at org.wildfly.clustering.server.dispatcher.ChannelCommandDispatcherFactory.getNodes(ChannelCommandDispatcherFactory.java:201)
        at org.wildfly.clustering.server.dispatcher.ChannelCommandDispatcherFactory.viewAccepted(ChannelCommandDispatcherFactory.java:216)
        at org.jgroups.blocks.MessageDispatcher.handleUpEvent(MessageDispatcher.java:605)
        at org.jgroups.blocks.MessageDispatcher$ProtocolAdapter.up(MessageDispatcher.java:686)
        ... 25 more
I have already stumbled upon this issue in Wildfly 9: https://developer.jboss.org/thread/265607</description>
			<version>9.0.1.Final</version>
			<fixedVersion>10.0.0.CR5</fixedVersion>
			<type>Bug</type>
		</buginformation>
		<fixedFiles>
			<file type="M">org.wildfly.clustering.server.group.CacheNodeFactory.java</file>
			<file type="M">org.wildfly.clustering.server.group.ChannelNodeFactory.java</file>
		</fixedFiles>
		<links>
			<link type="Cloners" description="cloned to">2192</link>
		</links>
	</bug>
	<bug id="5732" opendate="2015-11-25 15:56:46" fixdate="2015-12-07 08:28:34" resolution="Done">
		<buginformation>
			<summary>CLI operation export-journal does not work with custom journal paths</summary>
			<description>To reproduce the issue run server in stadalone mode with following properties (or you can use attached standalone-full-ha.xml)






&amp;lt;bindings-directory path="/var/tmp/journal/bindings"/&amp;gt;




&amp;lt;journal-directory path="/var/tmp/journal/journal"/&amp;gt;




&amp;lt;large-messages-directory path="/var/tmp/journal/largemessages"/&amp;gt;




&amp;lt;paging-directory path="/var/tmp/journal/paging"/&amp;gt;




&amp;lt;jms-queue name="testQueue" entries="jms/queue/testQueue java:jboss/exported/jms/queue/testQueue"/&amp;gt;






Send some messages into the testQueue with JMSDeliveryMode set to Persistent.






TextMessage textMessage = context.createTextMessage(content);




textMessage.setJMSDeliveryMode(DeliveryMode.PERSISTENT);




context.createProducer().send(destination, textMessage);






Run






./bin/jboss-cli.sh -c ":reload(admin-only=true)"




./bin/jboss-cli.sh -c "/subsystem=messaging-activemq/server=default/:export-journal()"






Expectation: Exported file contains sent messages.
Reality: Exported file contains no message.</description>
			<version>10.0.0.CR4</version>
			<fixedVersion>10.0.0.CR5</fixedVersion>
			<type>Bug</type>
		</buginformation>
		<fixedFiles>
			<file type="M">org.wildfly.extension.messaging.activemq.ExportJournalOperation.java</file>
		</fixedFiles>
		<links>
			<link type="Cloners" description="cloned from">2001</link>
		</links>
	</bug>
	<bug id="5709" opendate="2015-11-19 14:46:40" fixdate="2015-12-07 08:29:25" resolution="Done">
		<buginformation>
			<summary>Fix messaging HA colocated  configuration</summary>
			<description>The HA configuration for the messaging-activemq&amp;amp;apos;s server resource has issues to fix:

the shared-store-colocated configuration creates replication live/backup configuration instead of shared-store ones.
the tailback-delay attribute is deprecated and should be replaced by an attribute backed by initialReplicationSyncTimeout property
live and backup configuration must always be created for colocated configurations.

</description>
			<version>10.0.0.CR4</version>
			<fixedVersion>10.0.0.CR5</fixedVersion>
			<type>Bug</type>
		</buginformation>
		<fixedFiles>
			<file type="M">org.wildfly.extension.messaging.activemq.ha.SharedStoreColocatedDefinition.java</file>
			<file type="M">org.jboss.as.messaging.test.MigrateTestCase.java</file>
			<file type="M">org.wildfly.extension.messaging.activemq.ha.ReplicationSlaveDefinition.java</file>
			<file type="M">org.jboss.as.messaging.MigrateOperation.java</file>
			<file type="M">org.wildfly.extension.messaging.activemq.ha.ReplicationMasterDefinition.java</file>
			<file type="M">org.wildfly.extension.messaging.activemq.ha.SharedStoreMasterDefinition.java</file>
			<file type="M">org.wildfly.extension.messaging.activemq.ha.ReplicationColocatedDefinition.java</file>
			<file type="M">org.wildfly.extension.messaging.activemq.MessagingSubsystemParser_1_0.java</file>
			<file type="M">org.wildfly.extension.messaging.activemq.ha.HAAttributes.java</file>
			<file type="M">org.jboss.as.messaging.logging.MessagingLogger.java</file>
			<file type="M">org.wildfly.extension.messaging.activemq.ha.SharedStoreSlaveDefinition.java</file>
		</fixedFiles>
		<links>
			<link type="Dependency" description="blocks">1797</link>
		</links>
	</bug>
	<bug id="4957" opendate="2015-07-17 12:15:40" fixdate="2015-12-07 08:34:56" resolution="Done">
		<buginformation>
			<summary>After failback backup prints warnings to log</summary>
			<description>15:34:59,123 WARN  [org.wildfly.extension.messaging-activemq] (ServerService Thread Pool  4) WFLYMSGAMQ0004: Failed to destroy queue: ExpiryQueue: java.lang.IllegalStateException: Cannot access JMS Server, core server is not yet active
	at org.apache.activemq.artemis.jms.server.impl.JMSServerManagerImpl.checkInitialised(JMSServerManagerImpl.java:1640)
	at org.apache.activemq.artemis.jms.server.impl.JMSServerManagerImpl.access$1100(JMSServerManagerImpl.java:101)
	at org.apache.activemq.artemis.jms.server.impl.JMSServerManagerImpl$3.runException(JMSServerManagerImpl.java:752)
	at org.apache.activemq.artemis.jms.server.impl.JMSServerManagerImpl.runAfterActive(JMSServerManagerImpl.java:1847)
	at org.apache.activemq.artemis.jms.server.impl.JMSServerManagerImpl.removeQueueFromBindingRegistry(JMSServerManagerImpl.java:741)
	at org.wildfly.extension.messaging.activemq.jms.JMSQueueService$2.run(JMSQueueService.java:101)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)
	at java.lang.Thread.run(Thread.java:745)
	at org.jboss.threads.JBossThread.run(JBossThread.java:320)
15:34:59,123 WARN  [org.wildfly.extension.messaging-activemq] (ServerService Thread Pool  68) WFLYMSGAMQ0004: Failed to destroy queue: AsyncQueue: java.lang.IllegalStateException: Cannot access JMS Server, core server is not yet active
	at org.apache.activemq.artemis.jms.server.impl.JMSServerManagerImpl.checkInitialised(JMSServerManagerImpl.java:1640)
	at org.apache.activemq.artemis.jms.server.impl.JMSServerManagerImpl.access$1100(JMSServerManagerImpl.java:101)
	at org.apache.activemq.artemis.jms.server.impl.JMSServerManagerImpl$3.runException(JMSServerManagerImpl.java:752)
	at org.apache.activemq.artemis.jms.server.impl.JMSServerManagerImpl.runAfterActive(JMSServerManagerImpl.java:1847)
	at org.apache.activemq.artemis.jms.server.impl.JMSServerManagerImpl.removeQueueFromBindingRegistry(JMSServerManagerImpl.java:741)
	at org.wildfly.extension.messaging.activemq.jms.JMSQueueService$2.run(JMSQueueService.java:101)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)
	at java.lang.Thread.run(Thread.java:745)
	at org.jboss.threads.JBossThread.run(JBossThread.java:320)
15:34:59,123 WARN  [org.wildfly.extension.messaging-activemq] (ServerService Thread Pool  9) WFLYMSGAMQ0004: Failed to destroy queue: DLQ: java.lang.IllegalStateException: Cannot access JMS Server, core server is not yet active
	at org.apache.activemq.artemis.jms.server.impl.JMSServerManagerImpl.checkInitialised(JMSServerManagerImpl.java:1640)
	at org.apache.activemq.artemis.jms.server.impl.JMSServerManagerImpl.access$1100(JMSServerManagerImpl.java:101)
	at org.apache.activemq.artemis.jms.server.impl.JMSServerManagerImpl$3.runException(JMSServerManagerImpl.java:752)
	at org.apache.activemq.artemis.jms.server.impl.JMSServerManagerImpl.runAfterActive(JMSServerManagerImpl.java:1847)
	at org.apache.activemq.artemis.jms.server.impl.JMSServerManagerImpl.removeQueueFromBindingRegistry(JMSServerManagerImpl.java:741)
	at org.wildfly.extension.messaging.activemq.jms.JMSQueueService$2.run(JMSQueueService.java:101)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)
	at java.lang.Thread.run(Thread.java:745)
	at org.jboss.threads.JBossThread.run(JBossThread.java:320)</description>
			<version>10.0.0.Alpha5</version>
			<fixedVersion>10.0.0.CR5</fixedVersion>
			<type>Bug</type>
		</buginformation>
		<fixedFiles>
			<file type="M">org.wildfly.extension.messaging.activemq.jms.JMSService.java</file>
		</fixedFiles>
	</bug>
	<bug id="5770" opendate="2015-12-03 14:49:15" fixdate="2015-12-07 09:30:08" resolution="Done">
		<buginformation>
			<summary>Lock TimeoutException on CacheRegistry.close()</summary>
			<description>Just happened on node shutdown when testing locally.






19:22:21,114 INFO [org.wildfly.extension.undertow] (MSC service thread 1-7) WFLYUT0004: Undertow 1.3.7.Final stopping




19:22:21,114 ERROR [stderr] (ServerService Thread Pool -- 82) Exception in thread "ServerService Thread Pool -- 82" org.infinispan.util.concurrent.TimeoutException: Could not acquire lock on node2 in behalf of transaction GlobalTransaction:&amp;lt;node2&amp;gt;:4223:local. Current owner GlobalTransaction:&amp;lt;node2&amp;gt;:4217:local.




19:22:21,115 ERROR [stderr] (ServerService Thread Pool -- 82) at org.infinispan.util.concurrent.locks.impl.DefaultPendingLockManager.timeout(DefaultPendingLockManager.java:224)




19:22:21,115 ERROR [stderr] (ServerService Thread Pool -- 82) at org.infinispan.util.concurrent.locks.impl.DefaultPendingLockManager.checkForPendingLock(DefaultPendingLockManager.java:196)




19:22:21,115 ERROR [stderr] (ServerService Thread Pool -- 82) at org.infinispan.util.concurrent.locks.impl.DefaultPendingLockManager.awaitPendingTransactionsForKey(DefaultPendingLockManager.java:115)




19:22:21,115 ERROR [stderr] (ServerService Thread Pool -- 82) at org.infinispan.interceptors.locking.AbstractTxLockingInterceptor.checkPendingAndLockKey(AbstractTxLockingInterceptor.java:190)




19:22:21,115 ERROR [stderr] (ServerService Thread Pool -- 82) at org.infinispan.interceptors.locking.AbstractTxLockingInterceptor.lockOrRegisterBackupLock(AbstractTxLockingInterceptor.java:115)




19:22:21,115 ERROR [stderr] (ServerService Thread Pool -- 82) at org.infinispan.interceptors.locking.PessimisticLockingInterceptor.visitDataWriteCommand(PessimisticLockingInterceptor.java:121)




19:22:21,115 ERROR [stderr] (ServerService Thread Pool -- 82) at org.infinispan.interceptors.locking.AbstractLockingInterceptor.visitRemoveCommand(AbstractLockingInterceptor.java:71)




19:22:21,115 ERROR [stderr] (ServerService Thread Pool -- 82) at org.infinispan.commands.write.RemoveCommand.acceptVisitor(RemoveCommand.java:59)




19:22:21,115 ERROR [stderr] (ServerService Thread Pool -- 82) at org.infinispan.interceptors.base.CommandInterceptor.invokeNextInterceptor(CommandInterceptor.java:99)




19:22:21,115 ERROR [stderr] (ServerService Thread Pool -- 82) at org.infinispan.interceptors.base.CommandInterceptor.handleDefault(CommandInterceptor.java:113)




19:22:21,115 ERROR [stderr] (ServerService Thread Pool -- 82) at org.infinispan.commands.AbstractVisitor.visitRemoveCommand(AbstractVisitor.java:48)




19:22:21,115 ERROR [stderr] (ServerService Thread Pool -- 82) at org.infinispan.commands.write.RemoveCommand.acceptVisitor(RemoveCommand.java:59)




19:22:21,115 ERROR [stderr] (ServerService Thread Pool -- 82) at org.infinispan.interceptors.base.CommandInterceptor.invokeNextInterceptor(CommandInterceptor.java:99)




19:22:21,116 ERROR [stderr] (ServerService Thread Pool -- 82) at org.infinispan.interceptors.TxInterceptor.enlistWriteAndInvokeNext(TxInterceptor.java:366)




19:22:21,116 ERROR [stderr] (ServerService Thread Pool -- 82) at org.infinispan.interceptors.TxInterceptor.visitRemoveCommand(TxInterceptor.java:230)




19:22:21,116 ERROR [stderr] (ServerService Thread Pool -- 82) at org.infinispan.commands.write.RemoveCommand.acceptVisitor(RemoveCommand.java:59)




19:22:21,116 ERROR [stderr] (ServerService Thread Pool -- 82) at org.infinispan.interceptors.base.CommandInterceptor.invokeNextInterceptor(CommandInterceptor.java:99)




19:22:21,116 ERROR [stderr] (ServerService Thread Pool -- 82) at org.infinispan.interceptors.base.CommandInterceptor.handleDefault(CommandInterceptor.java:113)




19:22:21,116 ERROR [stderr] (ServerService Thread Pool -- 82) at org.infinispan.commands.AbstractVisitor.visitRemoveCommand(AbstractVisitor.java:48)




19:22:21,116 ERROR [stderr] (ServerService Thread Pool -- 82) at org.infinispan.commands.write.RemoveCommand.acceptVisitor(RemoveCommand.java:59)




19:22:21,116 ERROR [stderr] (ServerService Thread Pool -- 82) at org.infinispan.interceptors.base.CommandInterceptor.invokeNextInterceptor(CommandInterceptor.java:99)




19:22:21,116 ERROR [stderr] (ServerService Thread Pool -- 82) at org.infinispan.statetransfer.StateTransferInterceptor.handleTxWriteCommand(StateTransferInterceptor.java:304)




19:22:21,116 ERROR [stderr] (ServerService Thread Pool -- 82) at org.infinispan.statetransfer.StateTransferInterceptor.handleWriteCommand(StateTransferInterceptor.java:286)




19:22:21,116 ERROR [stderr] (ServerService Thread Pool -- 82) at org.infinispan.statetransfer.StateTransferInterceptor.visitRemoveCommand(StateTransferInterceptor.java:123)




19:22:21,116 ERROR [stderr] (ServerService Thread Pool -- 82) at org.infinispan.commands.write.RemoveCommand.acceptVisitor(RemoveCommand.java:59)




19:22:21,116 ERROR [stderr] (ServerService Thread Pool -- 82) at org.infinispan.interceptors.base.CommandInterceptor.invokeNextInterceptor(CommandInterceptor.java:99)




19:22:21,116 ERROR [stderr] (ServerService Thread Pool -- 82) at org.infinispan.interceptors.InvocationContextInterceptor.handleAll(InvocationContextInterceptor.java:102)




19:22:21,116 ERROR [stderr] (ServerService Thread Pool -- 82) at org.infinispan.interceptors.InvocationContextInterceptor.handleDefault(InvocationContextInterceptor.java:71)




19:22:21,116 ERROR [stderr] (ServerService Thread Pool -- 82) at org.infinispan.commands.AbstractVisitor.visitRemoveCommand(AbstractVisitor.java:48)




19:22:21,116 ERROR [stderr] (ServerService Thread Pool -- 82) at org.infinispan.commands.write.RemoveCommand.acceptVisitor(RemoveCommand.java:59)




19:22:21,117 ERROR [stderr] (ServerService Thread Pool -- 82) at org.infinispan.interceptors.InterceptorChain.invoke(InterceptorChain.java:336)




19:22:21,117 ERROR [stderr] (ServerService Thread Pool -- 82) at org.infinispan.cache.impl.CacheImpl.executeCommandAndCommitIfNeeded(CacheImpl.java:1634)




19:22:21,117 ERROR [stderr] (ServerService Thread Pool -- 82) at org.infinispan.cache.impl.CacheImpl.removeInternal(CacheImpl.java:558)




19:22:21,117 ERROR [stderr] (ServerService Thread Pool -- 82) at org.infinispan.cache.impl.CacheImpl.remove(CacheImpl.java:549)




19:22:21,117 ERROR [stderr] (ServerService Thread Pool -- 82) at org.infinispan.cache.impl.DecoratedCache.remove(DecoratedCache.java:452)




19:22:21,117 ERROR [stderr] (ServerService Thread Pool -- 82) at org.infinispan.cache.impl.AbstractDelegatingCache.remove(AbstractDelegatingCache.java:296)




19:22:21,117 ERROR [stderr] (ServerService Thread Pool -- 82) at org.wildfly.clustering.server.registry.CacheRegistry.lambda$close$0(CacheRegistry.java:101)




19:22:21,117 ERROR [stderr] (ServerService Thread Pool -- 82) at org.wildfly.clustering.service.concurrent.StampedLockServiceExecutor.close(StampedLockServiceExecutor.java:55)




19:22:21,117 ERROR [stderr] (ServerService Thread Pool -- 82) at org.wildfly.clustering.server.registry.CacheRegistry.close(CacheRegistry.java:96)




19:22:21,117 ERROR [stderr] (ServerService Thread Pool -- 82) at org.wildfly.clustering.server.registry.CacheRegistryFactory$1.close(CacheRegistryFactory.java:56)




19:22:21,117 ERROR [stderr] (ServerService Thread Pool -- 82) at org.wildfly.clustering.server.registry.RegistryBuilder.stop(RegistryBuilder.java:88)




19:22:21,117 ERROR [stderr] (ServerService Thread Pool -- 82) at org.wildfly.clustering.service.AsynchronousServiceBuilder$2.run(AsynchronousServiceBuilder.java:130)




19:22:21,117 ERROR [stderr] (ServerService Thread Pool -- 82) at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)




19:22:21,118 ERROR [stderr] (ServerService Thread Pool -- 82) at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)




19:22:21,118 ERROR [stderr] (ServerService Thread Pool -- 82) at java.lang.Thread.run(Thread.java:745)




19:22:21,118 ERROR [stderr] (ServerService Thread Pool -- 82) at org.jboss.threads.JBossThread.run(JBossThread.java:320)




19:22:21,118 ERROR [stderr] (ServerService Thread Pool -- 82) Suppressed: org.infinispan.commons.CacheException: javax.transaction.RollbackException: Transaction marked as rollback only.




19:22:21,118 ERROR [stderr] (ServerService Thread Pool -- 82) at org.wildfly.clustering.ee.infinispan.ActiveTransactionBatch.close(ActiveTransactionBatch.java:50)




19:22:21,118 ERROR [stderr] (ServerService Thread Pool -- 82) at org.wildfly.clustering.server.registry.CacheRegistry.lambda$close$0(CacheRegistry.java:102)




19:22:21,118 ERROR [stderr] (ServerService Thread Pool -- 82) ... 9 more




19:22:21,118 ERROR [stderr] (ServerService Thread Pool -- 82) Caused by: javax.transaction.RollbackException: Transaction marked as rollback only.




19:22:21,118 ERROR [stderr] (ServerService Thread Pool -- 82) at org.infinispan.transaction.tm.DummyTransaction.setRollbackOnly(DummyTransaction.java:146)




19:22:21,118 ERROR [stderr] (ServerService Thread Pool -- 82) at org.infinispan.interceptors.TxInterceptor.enlistWriteAndInvokeNext(TxInterceptor.java:374)




19:22:21,118 ERROR [stderr] (ServerService Thread Pool -- 82) at org.infinispan.interceptors.TxInterceptor.visitRemoveCommand(TxInterceptor.java:230)




19:22:21,118 ERROR [stderr] (ServerService Thread Pool -- 82) at org.infinispan.commands.write.RemoveCommand.acceptVisitor(RemoveCommand.java:59)




19:22:21,119 ERROR [stderr] (ServerService Thread Pool -- 82) at org.infinispan.interceptors.base.CommandInterceptor.invokeNextInterceptor(CommandInterceptor.java:99)




19:22:21,119 ERROR [stderr] (ServerService Thread Pool -- 82) at org.infinispan.interceptors.base.CommandInterceptor.handleDefault(CommandInterceptor.java:113)




19:22:21,119 ERROR [stderr] (ServerService Thread Pool -- 82) at org.infinispan.commands.AbstractVisitor.visitRemoveCommand(AbstractVisitor.java:48)




19:22:21,119 ERROR [stderr] (ServerService Thread Pool -- 82) at org.infinispan.commands.write.RemoveCommand.acceptVisitor(RemoveCommand.java:59)




19:22:21,119 ERROR [stderr] (ServerService Thread Pool -- 82) at org.infinispan.interceptors.base.CommandInterceptor.invokeNextInterceptor(CommandInterceptor.java:99)




19:22:21,119 ERROR [stderr] (ServerService Thread Pool -- 82) at org.infinispan.statetransfer.StateTransferInterceptor.handleTxWriteCommand(StateTransferInterceptor.java:304)




19:22:21,119 ERROR [stderr] (ServerService Thread Pool -- 82) at org.infinispan.statetransfer.StateTransferInterceptor.handleWriteCommand(StateTransferInterceptor.java:286)




19:22:21,119 ERROR [stderr] (ServerService Thread Pool -- 82) at org.infinispan.statetransfer.StateTransferInterceptor.visitRemoveCommand(StateTransferInterceptor.java:123)




19:22:21,119 ERROR [stderr] (ServerService Thread Pool -- 82) at org.infinispan.commands.write.RemoveCommand.acceptVisitor(RemoveCommand.java:59)




19:22:21,119 ERROR [stderr] (ServerService Thread Pool -- 82) at org.infinispan.interceptors.base.CommandInterceptor.invokeNextInterceptor(CommandInterceptor.java:99)




19:22:21,119 ERROR [stderr] (ServerService Thread Pool -- 82) at org.infinispan.interceptors.InvocationContextInterceptor.handleAll(InvocationContextInterceptor.java:102)




19:22:21,119 ERROR [stderr] (ServerService Thread Pool -- 82) at org.infinispan.interceptors.InvocationContextInterceptor.handleDefault(InvocationContextInterceptor.java:71)




19:22:21,119 ERROR [stderr] (ServerService Thread Pool -- 82) at org.infinispan.commands.AbstractVisitor.visitRemoveCommand(AbstractVisitor.java:48)




19:22:21,119 ERROR [stderr] (ServerService Thread Pool -- 82) at org.infinispan.commands.write.RemoveCommand.acceptVisitor(RemoveCommand.java:59)




19:22:21,119 ERROR [stderr] (ServerService Thread Pool -- 82) at org.infinispan.interceptors.InterceptorChain.invoke(InterceptorChain.java:336)




19:22:21,119 ERROR [stderr] (ServerService Thread Pool -- 82) at org.infinispan.cache.impl.CacheImpl.executeCommandAndCommitIfNeeded(CacheImpl.java:1634)




19:22:21,119 ERROR [stderr] (ServerService Thread Pool -- 82) at org.infinispan.cache.impl.CacheImpl.removeInternal(CacheImpl.java:558)




19:22:21,120 ERROR [stderr] (ServerService Thread Pool -- 82) at org.infinispan.cache.impl.CacheImpl.remove(CacheImpl.java:549)




19:22:21,120 ERROR [stderr] (ServerService Thread Pool -- 82) at org.infinispan.cache.impl.DecoratedCache.remove(DecoratedCache.java:452)




19:22:21,120 ERROR [stderr] (ServerService Thread Pool -- 82) at org.infinispan.cache.impl.AbstractDelegatingCache.remove(AbstractDelegatingCache.java:296)




19:22:21,120 ERROR [stderr] (ServerService Thread Pool -- 82) at org.wildfly.clustering.server.registry.CacheRegistry.lambda$close$0(CacheRegistry.java:101)




19:22:21,120 ERROR [stderr] (ServerService Thread Pool -- 82) ... 9 more




19:22:31,124 WARN [org.infinispan.transaction.impl.TransactionTable] (ServerService Thread Pool -- 88) ISPN000100: Stopping, but there are 1 local transactions and 0 remote transactions that did not finish in time.




19:22:31,125 INFO [org.jboss.as.clustering.infinispan] (ServerService Thread Pool -- 88) WFLYCLINF0003: Stopped routing cache from web container




19:22:31,128 INFO [org.infinispan.remoting.transport.jgroups.JGroupsTransport] (MSC service thread 1-7) ISPN000080: Disconnecting JGroups channel web




19:22:31,128 INFO [org.infinispan.remoting.transport.jgroups.JGroupsTransport] (MSC service thread 1-7) ISPN000082: Stopping the RpcDispatcher for channel web




19:22:31,141 INFO [org.jboss.as] (MSC service thread 1-5) WFLYSRV0050: WildFly Full 10.0.0.CR5-SNAPSHOT (WildFly Core 2.0.3.Final) stopped in 25086ms





</description>
			<version>10.0.0.CR4</version>
			<fixedVersion>10.0.0.CR5</fixedVersion>
			<type>Bug</type>
		</buginformation>
		<fixedFiles>
			<file type="M">org.wildfly.clustering.server.registry.LocalRegistryFactory.java</file>
			<file type="M">org.jboss.as.test.clustering.cluster.registry.bean.RegistryBean.java</file>
			<file type="M">org.wildfly.clustering.provider.ServiceProviderRegistrationFactory.java</file>
			<file type="M">org.wildfly.clustering.server.registry.CacheRegistry.java</file>
			<file type="M">org.wildfly.clustering.web.infinispan.session.InfinispanRouteLocator.java</file>
			<file type="M">org.wildfly.clustering.ejb.infinispan.InfinispanBeanManager.java</file>
			<file type="M">org.wildfly.clustering.server.registry.LocalRegistry.java</file>
			<file type="M">org.wildfly.clustering.registry.Registry.java</file>
			<file type="M">org.wildfly.clustering.server.provider.ServiceProviderRegistrationFactoryAdapter.java</file>
		</fixedFiles>
		<links>
			<link type="Cloners" description="cloned to">2173</link>
		</links>
	</bug>
	<bug id="5571" opendate="2015-10-23 14:40:22" fixdate="2015-12-16 14:26:55" resolution="Done">
		<buginformation>
			<summary>Intermittent failure in ModelPersistenceTestCase.testSimpleOperation</summary>
			<description>ModelPersistenceTestCase.testSimpleOperation occasionally fails with the following pattern:






java.lang.AssertionError: null




    at org.junit.Assert.fail(Assert.java:86)




    at org.junit.Assert.assertTrue(Assert.java:41)




    at org.junit.Assert.assertTrue(Assert.java:52)




    at org.jboss.as.test.integration.management.api.ModelPersistenceTestCase.testSimpleOperation(ModelPersistenceTestCase.java:119)




------- Stdout: -------




14:06:18,604 ERROR [org.jboss.as.controller.management-operation] (management-handler-thread - 1) org.jboss.as.controller.persistence.ConfigurationPersistenceException: WFLYCTL0081: Failed to back up C:\BuildAgent\work\a31d203e70e89f90\testsuite\integration\basic\target\jbossas\standalone\configuration\standalone.xml: org.jboss.as.controller.persistence.ConfigurationPersistenceException: WFLYCTL0081: Failed to back up C:\BuildAgent\work\a31d203e70e89f90\testsuite\integration\basic\target\jbossas\standalone\configuration\standalone.xml




    at org.jboss.as.controller.persistence.ConfigurationFile.fileWritten(ConfigurationFile.java:552)




    at org.jboss.as.controller.persistence.ConfigurationFilePersistenceResource.doCommit(ConfigurationFilePersistenceResource.java:65)




    at org.jboss.as.controller.persistence.AbstractFilePersistenceResource.commit(AbstractFilePersistenceResource.java:58)




    at org.jboss.as.controller.ModelControllerImpl$4.commit(ModelControllerImpl.java:780)




    at org.jboss.as.controller.AbstractOperationContext.executeDoneStage(AbstractOperationContext.java:743)




    at org.jboss.as.controller.AbstractOperationContext.processStages(AbstractOperationContext.java:680)




    at org.jboss.as.controller.AbstractOperationContext.executeOperation(AbstractOperationContext.java:370)




    at org.jboss.as.controller.OperationContextImpl.executeOperation(OperationContextImpl.java:1336)




    at org.jboss.as.controller.ModelControllerImpl.internalExecute(ModelControllerImpl.java:391)




    at org.jboss.as.controller.ModelControllerImpl.execute(ModelControllerImpl.java:217)




    at org.jboss.as.controller.remote.ModelControllerClientOperationHandler$ExecuteRequestHandler.doExecute(ModelControllerClientOperationHandler.java:207)




    at org.jboss.as.controller.remote.ModelControllerClientOperationHandler$ExecuteRequestHandler.access$300(ModelControllerClientOperationHandler.java:129)




    at org.jboss.as.controller.remote.ModelControllerClientOperationHandler$ExecuteRequestHandler$1$1.run(ModelControllerClientOperationHandler.java:151)




    at org.jboss.as.controller.remote.ModelControllerClientOperationHandler$ExecuteRequestHandler$1$1.run(ModelControllerClientOperationHandler.java:147)




    at java.security.AccessController.doPrivileged(Native Method)




    at javax.security.auth.Subject.doAs(Subject.java:422)




    at org.jboss.as.controller.AccessAuditContext.doAs(AccessAuditContext.java:92)




    at org.jboss.as.controller.remote.ModelControllerClientOperationHandler$ExecuteRequestHandler$1.execute(ModelControllerClientOperationHandler.java:147)




    at org.jboss.as.protocol.mgmt.AbstractMessageHandler$2$1.doExecute(AbstractMessageHandler.java:299)




    at org.jboss.as.protocol.mgmt.AbstractMessageHandler$AsyncTaskRunner.run(AbstractMessageHandler.java:519)




    at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)




    at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)




    at java.lang.Thread.run(Thread.java:745)




    at org.jboss.threads.JBossThread.run(JBossThread.java:320)




Caused by: java.nio.file.FileSystemException: C:\BuildAgent\work\a31d203e70e89f90\testsuite\integration\basic\target\jbossas\standalone\configuration\standalone_xml_history\standalone.last.xml: The process cannot access the file because it is being used by another process.









    at sun.nio.fs.WindowsException.translateToIOException(WindowsException.java:86)




    at sun.nio.fs.WindowsException.rethrowAsIOException(WindowsException.java:97)




    at sun.nio.fs.WindowsException.rethrowAsIOException(WindowsException.java:102)




    at sun.nio.fs.WindowsFileCopy.copy(WindowsFileCopy.java:165)




    at sun.nio.fs.WindowsFileSystemProvider.copy(WindowsFileSystemProvider.java:278)




    at java.nio.file.Files.copy(Files.java:1274)




    at org.jboss.as.controller.persistence.FilePersistenceUtils.copyFile(FilePersistenceUtils.java:73)




    at org.jboss.as.controller.persistence.ConfigurationFile.fileWritten(ConfigurationFile.java:550)




    ... 23 more






The test fails because the standalone.last.xml file isn&amp;amp;apos;t being updated as expected; the file isn&amp;amp;apos;t  updated due to the "The process cannot access the file because it is being used by another process"  IOException.
3 generally possibilities come to mind:
1) There&amp;amp;apos;s some other process on the CI server that really is using the file. Something like antivirus that touches lots of files briefly. (Not suggesting its actually AV.) It&amp;amp;apos;s odd we don&amp;amp;apos;t get other failures though; e.g. failures to persist the main config file.
2) It&amp;amp;apos;s the test driver process that&amp;amp;apos;s holding the file, conflicting with the server process. This is certainly possible. I&amp;amp;apos;ve looked though and the test driver seems to be correct in terms of how it handles the file, reading it to calculate a CRC and then closing the stream used to do that in a finally block. It&amp;amp;apos;s also odd that this would only happen on Windows CI. Still, since we know we have 2 processes, test driver and server, both touching a file and we are getting an exception about 2 processes conflicting over that file, something in this area seems most likely.
3) There&amp;amp;apos;s some flaw in ConfigurationFile itself. But it&amp;amp;apos;s odd that a flaw there would produce an exception talking about how the file "is being used by another process".</description>
			<version>10.0.0.CR3</version>
			<fixedVersion>10.0.0.CR5</fixedVersion>
			<type>Bug</type>
		</buginformation>
		<fixedFiles>
			<file type="M">org.jboss.as.test.integration.management.api.ManagementOnlyModeTestCase.java</file>
			<file type="D">org.jboss.as.test.integration.management.api.ModelPersistenceTestCase.java</file>
		</fixedFiles>
		<links>
			<link type="Cloners" description="cloned to">5858</link>
		</links>
	</bug>
	<bug id="5824" opendate="2015-12-09 15:40:02" fixdate="2015-12-17 09:11:18" resolution="Done">
		<buginformation>
			<summary>Messaging outgoing interceptors are not set</summary>
			<description>In org.wildfly.extension.messaging.activemq.ServerAdd#processOutgoingInterceptors, the interceptors are wrongly added to the incoming interceptors instead of the outgoing interceptors.</description>
			<version>10.0.0.CR4</version>
			<fixedVersion>10.0.0.CR5</fixedVersion>
			<type>Bug</type>
		</buginformation>
		<fixedFiles>
			<file type="M">org.wildfly.extension.messaging.activemq.ServerAdd.java</file>
		</fixedFiles>
		<links>
			<link type="Cloners" description="cloned to">2319</link>
		</links>
	</bug>
	<bug id="5678" opendate="2015-11-13 15:52:31" fixdate="2015-12-17 09:12:29" resolution="Done">
		<buginformation>
			<summary>[Migration operation] :migrate operation should return outcome success when migrating expressions jgroup stack in discovery group</summary>
			<description>If configuration for jgroups stack in discovery group contains expression:






            &amp;lt;discovery-group name="groupU"&amp;gt;




                &amp;lt;jgroups-stack&amp;gt;${jgroups.stack:udp}&amp;lt;/jgroups-stack&amp;gt;




                &amp;lt;jgroups-channel&amp;gt;${jgroups.channel:udp}&amp;lt;/jgroups-channel&amp;gt;




            &amp;lt;/discovery-group&amp;gt;






 then :migrate operation has outcome =&amp;gt; failed:






[standalone@127.0.0.1:9999 /] /subsystem=messaging:migrate




{




    "outcome" =&amp;gt; "failed",




    "result" =&amp;gt; {




        "migration-warnings" =&amp;gt; [],




        "migration-error" =&amp;gt; {




            "operation" =&amp;gt; {




                "jgroups-stack" =&amp;gt; expression "${jgroups.stack:udp}",




                "jgroups-channel" =&amp;gt; expression "${jgroups.channel:udp}",




                "operation" =&amp;gt; "add",




                "address" =&amp;gt; [




                    ("subsystem" =&amp;gt; "messaging-activemq"),




                    ("server" =&amp;gt; "default"),




                    ("discovery-group" =&amp;gt; "groupU")




                ],




                "operation-headers" =&amp;gt; {




                    "caller-type" =&amp;gt; "user",




                    "access-mechanism" =&amp;gt; "NATIVE"




                }




            },




            "result" =&amp;gt; {




                "outcome" =&amp;gt; "failed",




                "failure-description" =&amp;gt; "WFLYCTL0264: jgroups-stack may not be ModelType.EXPRESSION",




                "rolled-back" =&amp;gt; true




            }




        }




    },




    "failure-description" =&amp;gt; "WFLYMSG0081: Migration failed, see results for more details.",




    "rolled-back" =&amp;gt; true




}






Based on my understanding there should be outcome success with warning.</description>
			<version>10.0.0.CR4</version>
			<fixedVersion>10.0.0.CR5</fixedVersion>
			<type>Bug</type>
		</buginformation>
		<fixedFiles>
			<file type="M">org.jboss.as.messaging.logging.MessagingLogger.java</file>
			<file type="M">org.jboss.as.messaging.test.MigrateTestCase.java</file>
			<file type="M">org.jboss.as.messaging.MigrateOperation.java</file>
		</fixedFiles>
		<links>
			<link type="Cloners" description="cloned from">1854</link>
		</links>
	</bug>
	<bug id="5794" opendate="2015-12-07 12:09:19" fixdate="2015-12-17 09:28:07" resolution="Done">
		<buginformation>
			<summary>Handle correctly auto-created Infinispan resources with child redirection </summary>
			<description></description>
			<version>10.0.0.CR4</version>
			<fixedVersion>10.0.0.CR5</fixedVersion>
			<type>Bug</type>
		</buginformation>
		<fixedFiles>
			<file type="M">org.jboss.as.clustering.infinispan.subsystem.TransformersTestCase.java</file>
			<file type="M">org.jboss.as.clustering.infinispan.subsystem.EvictionResourceDefinition.java</file>
			<file type="M">org.jboss.as.clustering.jgroups.subsystem.TransportResourceDefinition.java</file>
			<file type="M">org.jboss.as.clustering.infinispan.subsystem.TransactionResourceDefinition.java</file>
			<file type="M">org.jboss.as.clustering.controller.transform.RequiredChildResourceDiscardPolicy.java</file>
			<file type="M">org.jboss.as.clustering.infinispan.subsystem.ExpirationResourceDefinition.java</file>
			<file type="M">org.jboss.as.clustering.infinispan.subsystem.LockingResourceDefinition.java</file>
			<file type="M">org.jboss.as.clustering.infinispan.subsystem.SharedStateCacheResourceDefinition.java</file>
		</fixedFiles>
		<links>
			<link type="Cloners" description="cloned to">2215</link>
			<link type="Dependency" description="is blocked by">1162</link>
		</links>
	</bug>
	<bug id="5721" opendate="2015-11-23 10:05:53" fixdate="2015-12-17 10:17:51" resolution="Done">
		<buginformation>
			<summary>Some of attributes in datasource subsystem do not allow usage of expressions</summary>
			<description>Some of the properties in datasource subsystem are disabled to be set by expression. It would be good if all attributes could be set by expression if possible.
Namely these are those which sets "expressions-allowed" as false

driver
	
driver-class-name
driver-module-name
driver-xa-datasource-class-name
module-slot
jdbc-compliant
profile


data-source
	
allow-multiple-users



This issue came alongside with testing EAP7-467 which asks for allowing expressions in datasource subsystem, especially for attribute &amp;amp;apos;enabled&amp;amp;apos;.</description>
			<version>10.0.0.CR4</version>
			<fixedVersion>10.0.0.CR5</fixedVersion>
			<type>Bug</type>
		</buginformation>
		<fixedFiles>
			<file type="M">org.jboss.as.connector.subsystems.datasources.DataSourcesSubsystemRootDefinition.java</file>
			<file type="M">org.jboss.as.connector.subsystems.datasources.XaDataSourceDefinition.java</file>
			<file type="M">org.jboss.as.connector.subsystems.datasources.JdbcDriverDefinition.java</file>
			<file type="M">org.jboss.as.connector.subsystems.datasources.Constants.java</file>
			<file type="M">org.jboss.as.connector.subsystems.datasources.DataSourceDefinition.java</file>
		</fixedFiles>
		<links>
			<link type="Cloners" description="cloned from">1972</link>
		</links>
	</bug>
	<bug id="5819" opendate="2015-12-08 23:26:17" fixdate="2015-12-17 12:46:29" resolution="Done">
		<buginformation>
			<summary>EJB clustering 1.1 schema propagates unused clustered attribute</summary>
			<description>Version 1.1 of the ejb clustering schema includes an obsolete "clustered" attribute which should have been removed entirely.</description>
			<version>10.0.0.CR4</version>
			<fixedVersion>10.0.0.CR5</fixedVersion>
			<type>Bug</type>
		</buginformation>
		<fixedFiles>
			<file type="M">org.jboss.as.ejb3.clustering.EJBBoundClusteringMetaDataParser.java</file>
			<file type="M">org.jboss.as.ejb3.deployment.processors.EjbJarParsingDeploymentUnitProcessor.java</file>
			<file type="M">org.jboss.as.ejb3.subsystem.EJB3SubsystemRootResourceDefinition.java</file>
			<file type="D">org.jboss.as.ejb3.clustering.EJBBoundClusteringMetaDataParser11.java</file>
		</fixedFiles>
		<links>
			<link type="Cloners" description="cloned from">2298</link>
		</links>
	</bug>
	<bug id="5813" opendate="2015-12-08 15:38:14" fixdate="2015-12-17 12:47:14" resolution="Done">
		<buginformation>
			<summary>Quick redeploy vulnerable to CacheRegistry entry loss</summary>
			<description>On deploy, CacheRegistry adds its local entry to the cache, and on undeploy removes it entry.  However, we use a topology change listener to remove entries for crashed members (since these nodes will not have removed their local entry).  However, since the listener is triggered asynchronously, it is possible that the topology change fired in response to an undeploy execute after the redeployed CacheRegistry starts - which would cause erroneous removal of the local entry that was added.
This manifests itself as an intermittent failure of the RegistryTestCase as seen in this PR:
https://github.com/wildfly/wildfly/pull/8465
Not surprisingly, this issue only surfaces in the windoze runs, which, according to Tomaz Cerar, execute faster than the linux runs.</description>
			<version>10.0.0.CR4</version>
			<fixedVersion>10.0.0.CR5</fixedVersion>
			<type>Bug</type>
		</buginformation>
		<fixedFiles>
			<file type="M">org.jboss.as.ejb3.cache.distributable.DistributableCache.java</file>
			<file type="M">org.wildfly.clustering.server.provider.CacheServiceProviderRegistry.java</file>
			<file type="M">org.wildfly.clustering.server.registry.CacheRegistry.java</file>
			<file type="M">org.wildfly.clustering.server.registry.CacheRegistryFactoryBuilder.java</file>
			<file type="M">org.wildfly.clustering.server.logging.ClusteringServerLogger.java</file>
			<file type="M">org.wildfly.clustering.server.registry.LocalRegistry.java</file>
			<file type="M">org.wildfly.clustering.server.registry.CacheRegistryFactoryConfiguration.java</file>
		</fixedFiles>
		<links>
			<link type="Cloners" description="cloned to">2294</link>
			<link type="Cloners" description="cloned to">5818</link>
		</links>
	</bug>
	<bug id="5771" opendate="2015-12-03 15:14:34" fixdate="2015-12-21 09:25:41" resolution="Done">
		<buginformation>
			<summary>IIOP operations need SerializablePermission("enableSubclassImplementation")</summary>
			<description>Since JDK 7u25 version org.omg.CORBA_2_3.portable.Output/InputStream classes need extra permissions if Security Manager is enabled. Because of a previous vulnerability, it now checks SerializablePermission("enableSubclassImplementation"). There is a property flag to allow subclass instantiations without the security check (jdk.corba.allowOutputStreamSubclass=true), but this system property is subject to removal in the future Java releases, according to my findings. 
At the moment, our IIOP code fails (can be seen in iiop tests of WildFly testsuite) when running with SM enabled.</description>
			<version>10.0.0.CR4</version>
			<fixedVersion>10.0.0.CR5</fixedVersion>
			<type>Bug</type>
		</buginformation>
		<fixedFiles>
			<file type="M">org.wildfly.iiop.openjdk.csiv2.CSIV2IORToSocketInfo.java</file>
		</fixedFiles>
		<links>
			<link type="Cloners" description="cloned from">2262</link>
			<link type="Related" description="is related to">5521</link>
		</links>
	</bug>
	<bug id="5521" opendate="2015-10-13 10:57:29" fixdate="2015-12-21 09:26:45" resolution="Done">
		<buginformation>
			<summary>Tests from IIOP module fails with security manager</summary>
			<description>Description of problem:
Tests from IIOP module fails with security manager.
How reproducible:
Always
Steps to Reproduce:

./integration-tests.sh -Dmaven.repo.local=$MAVEN_REPO_LOCAL -fae -Dmaven.test.failure.ignore=true -Dnode0=$MYTESTIP_1 -Dnode1=$MYTESTIP_2 -Dmcast=$MCAST_ADDR -Djboss.dist=$JBOSS_DIST -Dsecurity.manager -Dts.IIOP -Dts.noSmoke

Actual results:
See attached file
Expected results:
No errors</description>
			<version>10.0.0.CR2</version>
			<fixedVersion>10.0.0.CR5</fixedVersion>
			<type>Bug</type>
		</buginformation>
		<fixedFiles>
			<file type="M">org.jboss.as.test.iiop.security.IIOPSecurityInvocationTestCase.java</file>
		</fixedFiles>
		<links>
			<link type="Cloners" description="cloned from">1439</link>
			<link type="Related" description="relates to">5771</link>
			<link type="Related" description="relates to">2577</link>
		</links>
	</bug>
	<bug id="5764" opendate="2015-12-02 16:20:10" fixdate="2015-12-21 20:34:54" resolution="Done">
		<buginformation>
			<summary>Remove mod_cluster excluded-context&amp;apos;s default value with outdated contexts</summary>
			<description>The list of current values is useless in the defualt configuration.






"excluded-contexts" =&amp;gt; "ROOT,invoker,jbossws,juddi,console"






I am actually marking this as bug, because if you just want to use the root context, if you undefine the value, the default will be used which exludes root context.
Trying a "" value, results in a failure.






[standalone@localhost:9990 /] /subsystem=modcluster/mod-cluster-config=configuration/:write-attribute(name=excluded-contexts,value=""




{




    "outcome" =&amp;gt; "failed",




    "failure-description" =&amp;gt; "WFLYCTL0113: &amp;amp;apos;&amp;amp;apos; is an invalid value for parameter excluded-contexts. Values must have a minimum length of 1 characters",




    "rolled-back" =&amp;gt; true,




    "response-headers" =&amp;gt; {"process-state" =&amp;gt; "reload-required"}




}






This all comes from legacy stuff.</description>
			<version>10.0.0.CR4</version>
			<fixedVersion>10.0.0.CR5</fixedVersion>
			<type>Bug</type>
		</buginformation>
		<fixedFiles>
			<file type="M">org.wildfly.extension.mod_cluster.ModClusterConfigResourceDefinition.java</file>
			<file type="M">org.wildfly.extension.mod_cluster.ModClusterSubsystemAdd.java</file>
			<file type="M">org.wildfly.extension.mod_cluster.ModClusterModel.java</file>
		</fixedFiles>
		<links>
			<link type="Cloners" description="cloned to">2460</link>
		</links>
	</bug>
	<bug id="5494" opendate="2015-10-08 12:14:02" fixdate="2015-12-21 22:57:45" resolution="Done">
		<buginformation>
			<summary>Fix Infinispan subsystem cache store properties transformations and improve testing</summary>
			<description>Similar to what is done in jgroups, related fixes and move code to common module, etc.</description>
			<version>10.0.0.CR2</version>
			<fixedVersion>10.0.0.CR5</fixedVersion>
			<type>Bug</type>
		</buginformation>
		<fixedFiles>
			<file type="M">org.jboss.as.clustering.infinispan.subsystem.MixedKeyedJDBCStoreResourceDefinition.java</file>
			<file type="M">org.jboss.as.clustering.controller.transform.LegacyPropertyWriteOperationTransformer.java</file>
			<file type="M">org.jboss.as.clustering.jgroups.subsystem.OperationTestCaseBase.java</file>
			<file type="M">org.jboss.as.clustering.infinispan.subsystem.JDBCStoreResourceDefinition.java</file>
			<file type="M">org.jboss.as.clustering.infinispan.subsystem.BinaryKeyedJDBCStoreResourceDefinition.java</file>
			<file type="M">org.jboss.as.clustering.infinispan.subsystem.StoreResourceDefinition.java</file>
			<file type="M">org.jboss.as.clustering.controller.AddStepHandler.java</file>
			<file type="M">org.jboss.as.clustering.infinispan.subsystem.StringKeyedJDBCStoreResourceDefinition.java</file>
			<file type="M">org.jboss.as.clustering.jgroups.subsystem.TransformersTestCase.java</file>
			<file type="M">org.jboss.as.clustering.infinispan.subsystem.OperationTestCaseBase.java</file>
			<file type="M">org.jboss.as.clustering.infinispan.subsystem.TransformersTestCase.java</file>
		</fixedFiles>
		<links>
			<link type="Cloners" description="cloned to">2375</link>
			<link type="Dependency" description="is blocked by">1210</link>
			<link type="Related" description="relates to">5690</link>
			<link type="Related" description="relates to">5692</link>
		</links>
	</bug>
	<bug id="5812" opendate="2015-12-08 14:38:18" fixdate="2015-12-22 01:25:39" resolution="Done">
		<buginformation>
			<summary>HA singleton service shortly unreachable after being started on a node</summary>
			<description>Seen in our failover tests, jvmkill scenario with HA singleton service
Timeline:

perf21 goes down (jvmkill)
perf18 receives new cluster view
perf18 is elected as the singleton provider of the service
the singleton service is started on perf18
EJB Invocation fails few times - see the stacktrace below

Can you please check if the issue is in the TestingSingletonService implementation or in the EAP server?






[JBossINF] [0m[0m22:28:23,791 INFO  [org.wildfly.clustering.server] (notification-thread--p1-t1) WFLYCLSV0003: perf18 elected as the singleton provider of the jboss.test.myservice service




[JBossINF] [0m[0m22:28:23,794 INFO  [org.wildfly.clustering.server] (notification-thread--p1-t1) WFLYCLSV0001: This node will now operate as the singleton provider of the jboss.test.myservice service




[JBossINF] [0m[0m22:28:23,797 INFO  [org.jboss.test.singletonservice.TestingSingletonService] (MSC service thread 1-7) Start service &amp;amp;apos;org.jboss.test.singletonservice.TestingSingletonService&amp;amp;apos;




[JBossINF] [0m[0m22:28:23,798 INFO  [org.jboss.test.singletonservice.TestingSingletonService] (MSC service thread 1-7) Service started on perf18




[JBossINF] [0m[31m22:28:23,824 ERROR [org.jboss.as.ejb3.invocation] (EJB default - 2) WFLYEJB0034: EJB Invocation failed on component ServiceAccessBean for method public abstract java.lang.String org.jboss.test.singletonservice.ServiceAccess.getNodeNameOfService(): javax.ejb.EJBException: java.lang.IllegalStateException: java.util.concurrent.ExecutionException: java.lang.reflect.InvocationTargetException




[JBossINF] 	at org.jboss.as.ejb3.tx.CMTTxInterceptor.handleExceptionInOurTx(CMTTxInterceptor.java:187)




[JBossINF] 	at org.jboss.as.ejb3.tx.CMTTxInterceptor.invokeInOurTx(CMTTxInterceptor.java:277)




[JBossINF] 	at org.jboss.as.ejb3.tx.CMTTxInterceptor.required(CMTTxInterceptor.java:327)




[JBossINF] 	at org.jboss.as.ejb3.tx.CMTTxInterceptor.processInvocation(CMTTxInterceptor.java:239)




[JBossINF] 	at org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:340)




[JBossINF] 	at org.jboss.as.ejb3.remote.EJBRemoteTransactionPropagatingInterceptor.processInvocation(EJBRemoteTransactionPropagatingInterceptor.java:79)




[JBossINF] 	at org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:340)




[JBossINF] 	at org.jboss.as.ejb3.component.interceptors.CurrentInvocationContextInterceptor.processInvocation(CurrentInvocationContextInterceptor.java:41)




[JBossINF] 	at org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:340)




[JBossINF] 	at org.jboss.as.ejb3.component.invocationmetrics.WaitTimeInterceptor.processInvocation(WaitTimeInterceptor.java:43)




[JBossINF] 	at org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:340)




[JBossINF] 	at org.jboss.as.ejb3.security.SecurityContextInterceptor.processInvocation(SecurityContextInterceptor.java:100)




[JBossINF] 	at org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:340)




[JBossINF] 	at org.jboss.as.ejb3.component.interceptors.ShutDownInterceptorFactory$1.processInvocation(ShutDownInterceptorFactory.java:64)




[JBossINF] 	at org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:340)




[JBossINF] 	at org.jboss.as.ejb3.deployment.processors.EjbSuspendInterceptor.processInvocation(EjbSuspendInterceptor.java:53)




[JBossINF] 	at org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:340)




[JBossINF] 	at org.jboss.as.ejb3.component.interceptors.LoggingInterceptor.processInvocation(LoggingInterceptor.java:66)




[JBossINF] 	at org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:340)




[JBossINF] 	at org.jboss.as.ee.component.NamespaceContextInterceptor.processInvocation(NamespaceContextInterceptor.java:50)




[JBossINF] 	at org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:340)




[JBossINF] 	at org.jboss.as.ejb3.component.interceptors.AdditionalSetupInterceptor.processInvocation(AdditionalSetupInterceptor.java:54)




[JBossINF] 	at org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:340)




[JBossINF] 	at org.jboss.invocation.ContextClassLoaderInterceptor.processInvocation(ContextClassLoaderInterceptor.java:64)




[JBossINF] 	at org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:340)




[JBossINF] 	at org.jboss.invocation.InterceptorContext.run(InterceptorContext.java:356)




[JBossINF] 	at org.wildfly.security.manager.WildFlySecurityManager.doChecked(WildFlySecurityManager.java:636)




[JBossINF] 	at org.jboss.invocation.AccessCheckingInterceptor.processInvocation(AccessCheckingInterceptor.java:61)




[JBossINF] 	at org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:340)




[JBossINF] 	at org.jboss.invocation.InterceptorContext.run(InterceptorContext.java:356)




[JBossINF] 	at org.jboss.invocation.PrivilegedWithCombinerInterceptor.processInvocation(PrivilegedWithCombinerInterceptor.java:80)




[JBossINF] 	at org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:340)




[JBossINF] 	at org.jboss.invocation.ChainedInterceptor.processInvocation(ChainedInterceptor.java:61)




[JBossINF] 	at org.jboss.as.ee.component.ViewService$View.invoke(ViewService.java:195)




[JBossINF] 	at org.jboss.as.ejb3.remote.protocol.versionone.MethodInvocationMessageHandler.invokeMethod(MethodInvocationMessageHandler.java:318)




[JBossINF] 	at org.jboss.as.ejb3.remote.protocol.versionone.MethodInvocationMessageHandler.access$100(MethodInvocationMessageHandler.java:68)




[JBossINF] 	at org.jboss.as.ejb3.remote.protocol.versionone.MethodInvocationMessageHandler$1.run(MethodInvocationMessageHandler.java:201)




[JBossINF] 	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)




[JBossINF] 	at java.util.concurrent.FutureTask.run(FutureTask.java:266)




[JBossINF] 	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)




[JBossINF] 	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)




[JBossINF] 	at java.lang.Thread.run(Thread.java:745)




[JBossINF] 	at org.jboss.threads.JBossThread.run(JBossThread.java:320)




[JBossINF] Caused by: java.lang.IllegalStateException: java.util.concurrent.ExecutionException: java.lang.reflect.InvocationTargetException




[JBossINF] 	at org.wildfly.clustering.server.singleton.CacheSingletonServiceBuilder.getRemoteValueRef(CacheSingletonServiceBuilder.java:329)




[JBossINF] 	at org.wildfly.clustering.server.singleton.CacheSingletonServiceBuilder.getValue(CacheSingletonServiceBuilder.java:281)




[JBossINF] 	at org.wildfly.clustering.service.AsynchronousServiceBuilder.getValue(AsynchronousServiceBuilder.java:92)




[JBossINF] 	at org.jboss.msc.service.ServiceControllerImpl.getValue(ServiceControllerImpl.java:1158)




[JBossINF] 	at org.jboss.test.singletonservice.ServiceAccessBean.getNodeNameOfService(ServiceAccessBean.java:20)




[JBossINF] 	at sun.reflect.GeneratedMethodAccessor14.invoke(Unknown Source)




[JBossINF] 	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)




[JBossINF] 	at java.lang.reflect.Method.invoke(Method.java:497)




[JBossINF] 	at org.jboss.as.ee.component.ManagedReferenceMethodInterceptor.processInvocation(ManagedReferenceMethodInterceptor.java:52)




[JBossINF] 	at org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:340)




[JBossINF] 	at org.jboss.invocation.InterceptorContext$Invocation.proceed(InterceptorContext.java:437)




[JBossINF] 	at org.jboss.as.weld.ejb.Jsr299BindingsInterceptor.doMethodInterception(Jsr299BindingsInterceptor.java:82)




[JBossINF] 	at org.jboss.as.weld.ejb.Jsr299BindingsInterceptor.processInvocation(Jsr299BindingsInterceptor.java:93)




[JBossINF] 	at org.jboss.as.ee.component.interceptors.UserInterceptorFactory$1.processInvocation(UserInterceptorFactory.java:63)




[JBossINF] 	at org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:340)




[JBossINF] 	at org.jboss.as.ejb3.component.invocationmetrics.ExecutionTimeInterceptor.processInvocation(ExecutionTimeInterceptor.java:43)




[JBossINF] 	at org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:340)




[JBossINF] 	at org.jboss.as.jpa.interceptor.SBInvocationInterceptor.processInvocation(SBInvocationInterceptor.java:47)




[JBossINF] 	at org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:340)




[JBossINF] 	at org.jboss.invocation.InterceptorContext$Invocation.proceed(InterceptorContext.java:437)




[JBossINF] 	at org.jboss.weld.ejb.AbstractEJBRequestScopeActivationInterceptor.aroundInvoke(AbstractEJBRequestScopeActivationInterceptor.java:73)




[JBossINF] 	at org.jboss.as.weld.ejb.EjbRequestScopeActivationInterceptor.processInvocation(EjbRequestScopeActivationInterceptor.java:83)




[JBossINF] 	at org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:340)




[JBossINF] 	at org.jboss.as.ee.concurrent.ConcurrentContextInterceptor.processInvocation(ConcurrentContextInterceptor.java:45)




[JBossINF] 	at org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:340)




[JBossINF] 	at org.jboss.invocation.InitialInterceptor.processInvocation(InitialInterceptor.java:21)




[JBossINF] 	at org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:340)




[JBossINF] 	at org.jboss.invocation.ChainedInterceptor.processInvocation(ChainedInterceptor.java:61)




[JBossINF] 	at org.jboss.as.ee.component.interceptors.ComponentDispatcherInterceptor.processInvocation(ComponentDispatcherInterceptor.java:52)




[JBossINF] 	at org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:340)




[JBossINF] 	at org.jboss.as.ejb3.component.pool.PooledInstanceInterceptor.processInvocation(PooledInstanceInterceptor.java:51)




[JBossINF] 	at org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:340)




[JBossINF] 	at org.jboss.as.ejb3.tx.CMTTxInterceptor.invokeInOurTx(CMTTxInterceptor.java:275)




[JBossINF] 	... 41 more




[JBossINF] Caused by: java.util.concurrent.ExecutionException: java.lang.reflect.InvocationTargetException




[JBossINF] 	at org.wildfly.clustering.server.dispatcher.SimpleCommandResponse.&amp;lt;init&amp;gt;(SimpleCommandResponse.java:43)




[JBossINF] 	at org.wildfly.clustering.server.dispatcher.ChannelCommandDispatcher.createCommandResponse(ChannelCommandDispatcher.java:206)




[JBossINF] 	at org.wildfly.clustering.server.dispatcher.ChannelCommandDispatcher.executeOnCluster(ChannelCommandDispatcher.java:94)




[JBossINF] 	at org.wildfly.clustering.server.singleton.CacheSingletonServiceBuilder.getRemoteValueRef(CacheSingletonServiceBuilder.java:298)




[JBossINF] 	... 73 more




[JBossINF] Caused by: java.lang.reflect.InvocationTargetException




[JBossINF] 	at org.jgroups.blocks.RequestCorrelator.handleRequest(RequestCorrelator.java:464)




[JBossINF] 	at org.jgroups.blocks.RequestCorrelator.receiveMessage(RequestCorrelator.java:377)




[JBossINF] 	at org.jgroups.blocks.RequestCorrelator.receive(RequestCorrelator.java:250)




[JBossINF] 	at org.jgroups.blocks.MessageDispatcher$ProtocolAdapter.up(MessageDispatcher.java:684)




[JBossINF] 	at org.jgroups.JChannel.up(JChannel.java:738)




[JBossINF] 	at org.jgroups.stack.ProtocolStack.up(ProtocolStack.java:1029)




[JBossINF] 	at org.jgroups.protocols.FORK.up(FORK.java:133)




[JBossINF] 	at org.jgroups.protocols.FRAG2.up(FRAG2.java:165)




[JBossINF] 	at org.jgroups.protocols.FlowControl.up(FlowControl.java:383)




[JBossINF] 	at org.jgroups.protocols.FlowControl.up(FlowControl.java:394)




[JBossINF] 	at org.jgroups.protocols.pbcast.GMS.up(GMS.java:1045)




[JBossINF] 	at org.jgroups.protocols.pbcast.STABLE.up(STABLE.java:234)




[JBossINF] 	at org.jgroups.protocols.UNICAST3.up(UNICAST3.java:435)




[JBossINF] 	at org.jgroups.protocols.pbcast.NAKACK2.deliver(NAKACK2.java:961)




[JBossINF] 	at org.jgroups.protocols.pbcast.NAKACK2.handleMessage(NAKACK2.java:840)




[JBossINF] 	at org.jgroups.protocols.pbcast.NAKACK2.up(NAKACK2.java:618)




[JBossINF] 	at org.jgroups.protocols.VERIFY_SUSPECT.up(VERIFY_SUSPECT.java:155)




[JBossINF] 	at org.jgroups.protocols.FD_ALL.up(FD_ALL.java:200)




[JBossINF] 	at org.jgroups.protocols.FD_SOCK.up(FD_SOCK.java:310)




[JBossINF] 	at org.jgroups.protocols.MERGE3.up(MERGE3.java:285)




[JBossINF] 	at org.jgroups.protocols.Discovery.up(Discovery.java:295)




[JBossINF] 	at org.jgroups.protocols.TP.passMessageUp(TP.java:1577)




[JBossINF] 	at org.jgroups.protocols.TP$3.run(TP.java:1511)




[JBossINF] 	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)




[JBossINF] 	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)




[JBossINF] 	at java.lang.Thread.run(Thread.java:745)




[JBossINF] Caused by: java.lang.IllegalStateException




[JBossINF] 	at org.jboss.test.singletonservice.TestingSingletonService.getValue(TestingSingletonService.java:30)




[JBossINF] 	at org.jboss.test.singletonservice.TestingSingletonService.getValue(TestingSingletonService.java:17)




[JBossINF] 	at org.wildfly.clustering.server.singleton.CacheSingletonServiceBuilder.getValueRef(CacheSingletonServiceBuilder.java:288)




[JBossINF] 	at org.wildfly.clustering.server.singleton.SingletonValueCommand.execute(SingletonValueCommand.java:31)




[JBossINF] 	at org.wildfly.clustering.server.singleton.SingletonValueCommand.execute(SingletonValueCommand.java:26)




[JBossINF] 	at org.wildfly.clustering.server.dispatcher.ChannelCommandDispatcherFactory.handle(ChannelCommandDispatcherFactory.java:120)




[JBossINF] 	at org.jgroups.blocks.MessageDispatcher.handle(MessageDispatcher.java:502)




[JBossINF] 	at org.jgroups.blocks.RequestCorrelator.handleRequest(RequestCorrelator.java:460)




[JBossINF] 	... 25 more






Link:
http://jenkins.mw.lab.eng.bos.redhat.com/hudson/job/eap-7x-failover-jvmkill-ha-ss/11/console-perf18/
Link to source of TestingSingletonService:
https://github.com/Ladicek/SingletonServiceTest-ejb/blob/master/src/main/java/org/jboss/test/singletonservice/TestingSingletonService.java</description>
			<version>10.0.0.CR5</version>
			<fixedVersion>10.0.0.CR5</fixedVersion>
			<type>Bug</type>
		</buginformation>
		<fixedFiles>
			<file type="M">org.wildfly.clustering.server.singleton.CacheSingletonServiceBuilder.java</file>
			<file type="M">org.jboss.as.test.clustering.cluster.singleton.service.MyServiceServlet.java</file>
		</fixedFiles>
		<links>
			<link type="Cloners" description="cloned from">2282</link>
		</links>
	</bug>
	<bug id="5806" opendate="2015-12-08 11:49:15" fixdate="2015-12-22 01:25:54" resolution="Done">
		<buginformation>
			<summary>IllegalStateException during deployment of HA Singleton deployment</summary>
			<description>Seen in failover tests - HA Singleton deployment scenarios - no matter what failover type was used (graceful shutdown, jvmkill, undeploy).
When the node is elected to operate as the singleton provider, sometimes this INFO message is logged: 






INFO  [org.jboss.as.server.deployment] (MSC service thread 1-6) WFLYSRV0070: Deployment restart detected for deployment clusterbench-ee7-singleton-jbossall.ear, performing full redeploy instead.






Then the redeploy will fail:






[JBossINF] [0m[33m05:41:07,118 WARN  [org.jboss.msc.service.fail] (MSC service thread 1-1) MSC000004: Failure during stop of service jboss.deployment.subunit."clusterbench-ee7-singleton-jbossall.ear"."clusterbench-ee7-web-passivating.war".FIRST_MODULE_USE.service: java.lang.IllegalStateException




[JBossINF] 	at org.jboss.msc.value.InjectedValue.getValue(InjectedValue.java:47)




[JBossINF] 	at org.jboss.as.server.deployment.DeploymentUnitPhaseService.stop(DeploymentUnitPhaseService.java:225)




[JBossINF] 	at org.jboss.msc.service.ServiceControllerImpl$StopTask.stopService(ServiceControllerImpl.java:2056)




[JBossINF] 	at org.jboss.msc.service.ServiceControllerImpl$StopTask.run(ServiceControllerImpl.java:2017)




[JBossINF] 	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)




[JBossINF] 	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)




[JBossINF] 	at java.lang.Thread.run(Thread.java:745)






Then these events follows:

This node will no longer operate as the singleton provider
immediately after that the node is re-elected as the singleton provider and the deployment starts successfully

See the full stacktrace:






[JBossINF] [0m[0m05:41:07,109 INFO  [org.wildfly.clustering.server] (OOB-19,ee,perf19) WFLYCLSV0001: This node will now operate as the singleton provider of the jboss.deployment.unit."clusterbench-ee7-singleton-jbossall.ear".FIRST_MODULE_USE service




[JBossINF] [0m[0m05:41:07,112 INFO  [org.jboss.as.server.deployment] (MSC service thread 1-8) WFLYSRV0070: Deployment restart detected for deployment clusterbench-ee7-singleton-jbossall.ear, performing full redeploy instead.




[JBossINF] [0m[0m05:41:07,114 INFO  [org.jboss.as.server.deployment] (MSC service thread 1-8) WFLYSRV0070: Deployment restart detected for deployment clusterbench-ee7-web-passivating.war, performing full redeploy instead.




[JBossINF] [0m[0m05:41:07,114 INFO  [org.jboss.as.server.deployment] (MSC service thread 1-1) WFLYSRV0070: Deployment restart detected for deployment clusterbench-ee7-ejb.jar, performing full redeploy instead.




[JBossINF] [0m[0m05:41:07,114 INFO  [org.jboss.as.server.deployment] (MSC service thread 1-2) WFLYSRV0070: Deployment restart detected for deployment clusterbench-ee7-web-default.war, performing full redeploy instead.




[JBossINF] [0m[33m05:41:07,118 WARN  [org.jboss.msc.service.fail] (MSC service thread 1-1) MSC000004: Failure during stop of service jboss.deployment.subunit."clusterbench-ee7-singleton-jbossall.ear"."clusterbench-ee7-web-passivating.war".FIRST_MODULE_USE.service: java.lang.IllegalStateException




[JBossINF] 	at org.jboss.msc.value.InjectedValue.getValue(InjectedValue.java:47)




[JBossINF] 	at org.jboss.as.server.deployment.DeploymentUnitPhaseService.stop(DeploymentUnitPhaseService.java:225)




[JBossINF] 	at org.jboss.msc.service.ServiceControllerImpl$StopTask.stopService(ServiceControllerImpl.java:2056)




[JBossINF] 	at org.jboss.msc.service.ServiceControllerImpl$StopTask.run(ServiceControllerImpl.java:2017)




[JBossINF] 	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)




[JBossINF] 	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)




[JBossINF] 	at java.lang.Thread.run(Thread.java:745)




[JBossINF] 




[JBossINF] [0m[33m05:41:07,117 WARN  [org.jboss.msc.service.fail] (MSC service thread 1-7) MSC000004: Failure during stop of service jboss.deployment.subunit."clusterbench-ee7-singleton-jbossall.ear"."clusterbench-ee7-web-default.war".FIRST_MODULE_USE.service: java.lang.IllegalStateException




[JBossINF] 	at org.jboss.msc.value.InjectedValue.getValue(InjectedValue.java:47)




[JBossINF] 	at org.jboss.as.server.deployment.DeploymentUnitPhaseService.stop(DeploymentUnitPhaseService.java:225)




[JBossINF] 	at org.jboss.msc.service.ServiceControllerImpl$StopTask.stopService(ServiceControllerImpl.java:2056)




[JBossINF] 	at org.jboss.msc.service.ServiceControllerImpl$StopTask.run(ServiceControllerImpl.java:2017)




[JBossINF] 	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)




[JBossINF] 	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)




[JBossINF] 	at java.lang.Thread.run(Thread.java:745)




[JBossINF] 




[JBossINF] [0m[33m05:41:07,116 WARN  [org.jboss.msc.service.fail] (MSC service thread 1-4) MSC000004: Failure during stop of service jboss.deployment.subunit."clusterbench-ee7-singleton-jbossall.ear"."clusterbench-ee7-ejb.jar".FIRST_MODULE_USE.service: java.lang.IllegalStateException




[JBossINF] 	at org.jboss.msc.value.InjectedValue.getValue(InjectedValue.java:47)




[JBossINF] 	at org.jboss.as.server.deployment.DeploymentUnitPhaseService.stop(DeploymentUnitPhaseService.java:225)




[JBossINF] 	at org.jboss.msc.service.ServiceControllerImpl$StopTask.stopService(ServiceControllerImpl.java:2056)




[JBossINF] 	at org.jboss.msc.service.ServiceControllerImpl$StopTask.run(ServiceControllerImpl.java:2017)




[JBossINF] 	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)




[JBossINF] 	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)




[JBossINF] 	at java.lang.Thread.run(Thread.java:745)




[JBossINF] 




[JBossINF] [0m[0m05:41:07,150 INFO  [org.wildfly.clustering.server] (OOB-19,ee,perf19) WFLYCLSV0002: This node will no longer operate as the singleton provider of the jboss.deployment.unit."clusterbench-ee7-singleton-jbossall.ear".FIRST_MODULE_USE service




[JBossINF] [0m[0m05:41:07,170 INFO  [org.infinispan.remoting.transport.jgroups.JGroupsTransport] (MSC service thread 1-6) ISPN000080: Disconnecting JGroups channel hibernate




[JBossINF] [0m[0m05:41:07,171 INFO  [org.infinispan.remoting.transport.jgroups.JGroupsTransport] (MSC service thread 1-6) ISPN000082: Stopping the RpcDispatcher for channel hibernate




[JBossINF] [0m[0m05:41:07,171 INFO  [org.infinispan.remoting.transport.jgroups.JGroupsTransport] (MSC service thread 1-7) ISPN000080: Disconnecting JGroups channel web




[JBossINF] [0m[0m05:41:07,172 INFO  [org.infinispan.remoting.transport.jgroups.JGroupsTransport] (MSC service thread 1-7) ISPN000082: Stopping the RpcDispatcher for channel web




[JBossINF] [0m[0m05:41:07,172 INFO  [org.jboss.as.server.deployment] (MSC service thread 1-2) WFLYSRV0208: Stopped subdeployment (runtime-name: clusterbench-ee7-ejb.jar) in 58ms




[JBossINF] [0m[0m05:41:07,173 INFO  [org.infinispan.remoting.transport.jgroups.JGroupsTransport] (MSC service thread 1-1) ISPN000080: Disconnecting JGroups channel ejb




[JBossINF] [0m[0m05:41:07,173 INFO  [org.infinispan.remoting.transport.jgroups.JGroupsTransport] (MSC service thread 1-1) ISPN000082: Stopping the RpcDispatcher for channel ejb




[JBossINF] [0m[0m05:41:07,176 INFO  [org.jboss.as.server.deployment] (MSC service thread 1-8) WFLYSRV0208: Stopped subdeployment (runtime-name: clusterbench-ee7-web-default.war) in 62ms




[JBossINF] [0m[0m05:41:07,175 INFO  [org.jboss.as.server.deployment] (MSC service thread 1-4) WFLYSRV0208: Stopped subdeployment (runtime-name: clusterbench-ee7-web-passivating.war) in 61ms




[JBossINF] [0m[0m05:41:07,184 INFO  [org.jboss.as.server.deployment] (MSC service thread 1-4) WFLYSRV0028: Stopped deployment clusterbench-ee7-singleton-jbossall.ear (runtime-name: clusterbench-ee7-singleton-jbossall.ear) in 70ms




[JBossINF] [0m[0m05:41:07,186 INFO  [org.jboss.as.server.deployment] (MSC service thread 1-4) WFLYSRV0027: Starting deployment of "clusterbench-ee7-singleton-jbossall.ear" (runtime-name: "clusterbench-ee7-singleton-jbossall.ear")




[JBossINF] [0m[0m05:41:07,187 INFO  [org.jboss.as.clustering.infinispan] (ServerService Thread Pool -- 82) WFLYCLINF0003: Stopped default cache from server container




[JBossINF] [0m[0m05:41:07,190 INFO  [org.infinispan.remoting.transport.jgroups.JGroupsTransport] (MSC service thread 1-2) ISPN000080: Disconnecting JGroups channel server




[JBossINF] [0m[0m05:41:07,190 INFO  [org.infinispan.remoting.transport.jgroups.JGroupsTransport] (MSC service thread 1-2) ISPN000082: Stopping the RpcDispatcher for channel server




[JBossINF] [0m[0m05:41:07,232 INFO  [org.jboss.as.server.deployment] (MSC service thread 1-1) WFLYSRV0207: Starting subdeployment (runtime-name: "clusterbench-ee7-web-passivating.war")




[JBossINF] [0m[0m05:41:07,232 INFO  [org.jboss.as.server.deployment] (MSC service thread 1-2) WFLYSRV0207: Starting subdeployment (runtime-name: "clusterbench-ee7-web-default.war")




[JBossINF] [0m[0m05:41:07,232 INFO  [org.jboss.as.server.deployment] (MSC service thread 1-5) WFLYSRV0207: Starting subdeployment (runtime-name: "clusterbench-ee7-ejb.jar")




[JBossINF] [0m[33m05:41:07,294 WARN  [org.jboss.as.dependency.private] (MSC service thread 1-8) WFLYSRV0018: Deployment "deployment.clusterbench-ee7-singleton-jbossall.ear.clusterbench-ee7-web-default.war" is using a private module ("org.infinispan:main") which may be changed or removed in future versions without notice.




[JBossINF] [0m[33m05:41:07,295 WARN  [org.jboss.as.dependency.unsupported] (MSC service thread 1-8) WFLYSRV0019: Deployment "deployment.clusterbench-ee7-singleton-jbossall.ear.clusterbench-ee7-web-default.war" is using an unsupported module ("org.jgroups:main") which may be changed or removed in future versions without notice.




[JBossINF] [0m[33m05:41:07,295 WARN  [org.jboss.as.dependency.private] (MSC service thread 1-1) WFLYSRV0018: Deployment "deployment.clusterbench-ee7-singleton-jbossall.ear.clusterbench-ee7-web-passivating.war" is using a private module ("org.infinispan:main") which may be changed or removed in future versions without notice.




[JBossINF] [0m[33m05:41:07,295 WARN  [org.jboss.as.dependency.unsupported] (MSC service thread 1-1) WFLYSRV0019: Deployment "deployment.clusterbench-ee7-singleton-jbossall.ear.clusterbench-ee7-web-passivating.war" is using an unsupported module ("org.jgroups:main") which may be changed or removed in future versions without notice.




[JBossINF] [0m[0m05:41:07,423 INFO  [org.infinispan.remoting.transport.jgroups.JGroupsTransport] (MSC service thread 1-5) ISPN000078: Starting JGroups channel server




[JBossINF] [0m[0m05:41:07,424 INFO  [org.infinispan.remoting.transport.jgroups.JGroupsTransport] (MSC service thread 1-5) ISPN000094: Received new cluster view for channel server: [perf21|13] (4) [perf21, perf18, perf20, perf19]




[JBossINF] [0m[0m05:41:07,424 INFO  [org.infinispan.remoting.transport.jgroups.JGroupsTransport] (MSC service thread 1-5) ISPN000079: Channel server local address is perf19, physical addresses are [172.19.1.3:55200]




[JBossINF] [0m[0m05:41:07,426 INFO  [org.infinispan.remoting.transport.jgroups.JGroupsTransport] (MSC service thread 1-1) ISPN000078: Starting JGroups channel web




[JBossINF] [0m[0m05:41:07,427 INFO  [org.infinispan.remoting.transport.jgroups.JGroupsTransport] (MSC service thread 1-1) ISPN000094: Received new cluster view for channel web: [perf21|13] (4) [perf21, perf18, perf20, perf19]




[JBossINF] [0m[0m05:41:07,427 INFO  [org.infinispan.remoting.transport.jgroups.JGroupsTransport] (MSC service thread 1-1) ISPN000079: Channel web local address is perf19, physical addresses are [172.19.1.3:55200]




[JBossINF] [0m[0m05:41:07,442 INFO  [org.infinispan.remoting.transport.jgroups.JGroupsTransport] (MSC service thread 1-3) ISPN000078: Starting JGroups channel ejb




[JBossINF] [0m[0m05:41:07,444 INFO  [org.infinispan.remoting.transport.jgroups.JGroupsTransport] (MSC service thread 1-3) ISPN000094: Received new cluster view for channel ejb: [perf21|13] (4) [perf21, perf18, perf20, perf19]




[JBossINF] [0m[0m05:41:07,444 INFO  [org.infinispan.remoting.transport.jgroups.JGroupsTransport] (MSC service thread 1-3) ISPN000079: Channel ejb local address is perf19, physical addresses are [172.19.1.3:55200]




[JBossINF] [0m[0m05:41:07,444 INFO  [org.infinispan.remoting.transport.jgroups.JGroupsTransport] (MSC service thread 1-6) ISPN000078: Starting JGroups channel hibernate




[JBossINF] [0m[0m05:41:07,445 INFO  [org.infinispan.remoting.transport.jgroups.JGroupsTransport] (MSC service thread 1-6) ISPN000094: Received new cluster view for channel hibernate: [perf21|13] (4) [perf21, perf18, perf20, perf19]




[JBossINF] [0m[0m05:41:07,446 INFO  [org.infinispan.remoting.transport.jgroups.JGroupsTransport] (MSC service thread 1-6) ISPN000079: Channel hibernate local address is perf19, physical addresses are [172.19.1.3:55200]




[JBossINF] [0m[0m05:41:07,510 INFO  [org.jboss.as.clustering.infinispan] (ServerService Thread Pool -- 82) WFLYCLINF0002: Started default cache from server container




[JBossINF] [0m[0m05:41:10,357 INFO  [org.wildfly.clustering.server] (OOB-20,ee,perf19) WFLYCLSV0001: This node will now operate as the singleton provider of the jboss.deployment.unit."clusterbench-ee7-singleton-jbossall.ear".FIRST_MODULE_USE service




[JBossINF] [0m[0m05:41:10,362 INFO  [org.jboss.weld.deployer] (MSC service thread 1-6) WFLYWELD0003: Processing weld deployment clusterbench-ee7-singleton-jbossall.ear




[JBossINF] [0m[0m05:41:10,384 INFO  [org.jboss.weld.deployer] (MSC service thread 1-6) WFLYWELD0003: Processing weld deployment clusterbench-ee7-ejb.jar




[JBossINF] [0m[0m05:41:10,387 INFO  [org.jboss.as.ejb3.deployment] (MSC service thread 1-6) WFLYEJB0473: JNDI bindings for session bean named &amp;amp;apos;RemoteStatelessSBImpl&amp;amp;apos; in deployment unit &amp;amp;apos;subdeployment "clusterbench-ee7-ejb.jar" of deployment "clusterbench-ee7-singleton-jbossall.ear"&amp;amp;apos; are as follows:




[JBossINF] 




[JBossINF] 	java:global/clusterbench-ee7-singleton-jbossall/clusterbench-ee7-ejb/RemoteStatelessSBImpl!org.jboss.test.clusterbench.ejb.stateless.RemoteStatelessSB




[JBossINF] 	java:app/clusterbench-ee7-ejb/RemoteStatelessSBImpl!org.jboss.test.clusterbench.ejb.stateless.RemoteStatelessSB




[JBossINF] 	java:module/RemoteStatelessSBImpl!org.jboss.test.clusterbench.ejb.stateless.RemoteStatelessSB




[JBossINF] 	java:jboss/exported/clusterbench-ee7-singleton-jbossall/clusterbench-ee7-ejb/RemoteStatelessSBImpl!org.jboss.test.clusterbench.ejb.stateless.RemoteStatelessSB




[JBossINF] 	java:global/clusterbench-ee7-singleton-jbossall/clusterbench-ee7-ejb/RemoteStatelessSBImpl




[JBossINF] 	java:app/clusterbench-ee7-ejb/RemoteStatelessSBImpl




[JBossINF] 	java:module/RemoteStatelessSBImpl




[JBossINF] 




[JBossINF] [0m[0m05:41:10,387 INFO  [org.jboss.as.ejb3.deployment] (MSC service thread 1-6) WFLYEJB0473: JNDI bindings for session bean named &amp;amp;apos;RemoteStatefulSBImpl&amp;amp;apos; in deployment unit &amp;amp;apos;subdeployment "clusterbench-ee7-ejb.jar" of deployment "clusterbench-ee7-singleton-jbossall.ear"&amp;amp;apos; are as follows:




[JBossINF] 




[JBossINF] 	java:global/clusterbench-ee7-singleton-jbossall/clusterbench-ee7-ejb/RemoteStatefulSBImpl!org.jboss.test.clusterbench.ejb.stateful.RemoteStatefulSB




[JBossINF] 	java:app/clusterbench-ee7-ejb/RemoteStatefulSBImpl!org.jboss.test.clusterbench.ejb.stateful.RemoteStatefulSB




[JBossINF] 	java:module/RemoteStatefulSBImpl!org.jboss.test.clusterbench.ejb.stateful.RemoteStatefulSB




[JBossINF] 	java:jboss/exported/clusterbench-ee7-singleton-jbossall/clusterbench-ee7-ejb/RemoteStatefulSBImpl!org.jboss.test.clusterbench.ejb.stateful.RemoteStatefulSB




[JBossINF] 	java:global/clusterbench-ee7-singleton-jbossall/clusterbench-ee7-ejb/RemoteStatefulSBImpl




[JBossINF] 	java:app/clusterbench-ee7-ejb/RemoteStatefulSBImpl




[JBossINF] 	java:module/RemoteStatefulSBImpl




[JBossINF] 




[JBossINF] [0m[0m05:41:10,387 INFO  [org.jboss.as.ejb3.deployment] (MSC service thread 1-6) WFLYEJB0473: JNDI bindings for session bean named &amp;amp;apos;LocalStatefulSB&amp;amp;apos; in deployment unit &amp;amp;apos;subdeployment "clusterbench-ee7-ejb.jar" of deployment "clusterbench-ee7-singleton-jbossall.ear"&amp;amp;apos; are as follows:




[JBossINF] 




[JBossINF] 	java:global/clusterbench-ee7-singleton-jbossall/clusterbench-ee7-ejb/LocalStatefulSB!org.jboss.test.clusterbench.ejb.stateful.LocalStatefulSB




[JBossINF] 	java:app/clusterbench-ee7-ejb/LocalStatefulSB!org.jboss.test.clusterbench.ejb.stateful.LocalStatefulSB




[JBossINF] 	java:module/LocalStatefulSB!org.jboss.test.clusterbench.ejb.stateful.LocalStatefulSB




[JBossINF] 	java:global/clusterbench-ee7-singleton-jbossall/clusterbench-ee7-ejb/LocalStatefulSB




[JBossINF] 	java:app/clusterbench-ee7-ejb/LocalStatefulSB




[JBossINF] 	java:module/LocalStatefulSB




[JBossINF] 






Link:
http://jenkins.mw.lab.eng.bos.redhat.com/hudson/job/eap-7x-failover-singleton-deployment-jvmkill-random-election-policy/5/console-perf19/</description>
			<version>10.0.0.CR4</version>
			<fixedVersion>10.0.0.CR5</fixedVersion>
			<type>Bug</type>
		</buginformation>
		<fixedFiles>
			<file type="D">org.jboss.as.clustering.msc.DelegatingServiceBuilder.java</file>
			<file type="M">org.wildfly.clustering.server.singleton.CacheSingletonServiceBuilder.java</file>
			<file type="D">org.jboss.as.clustering.msc.ServiceControllerFactory.java</file>
		</fixedFiles>
		<links>
			<link type="Cloners" description="cloned from">2254</link>
		</links>
	</bug>
	<bug id="5748" opendate="2015-11-29 19:44:08" fixdate="2015-12-23 06:07:08" resolution="Done">
		<buginformation>
			<summary>IIOP: SSL configuration inconsistence</summary>
			<description>If user configures IOR settings so that SSL connections are required, but there security is not configured properly, then normal socket is opened on iiop-ssl port. In described scenario error should be printed and iiop subsystem should fail to start.</description>
			<version>10.0.0.CR4</version>
			<fixedVersion>10.0.0.CR5</fixedVersion>
			<type>Bug</type>
		</buginformation>
		<fixedFiles>
			<file type="M">org.wildfly.iiop.openjdk.IIOPSubsystemAdd.java</file>
			<file type="M">org.wildfly.iiop.openjdk.logging.IIOPLogger.java</file>
		</fixedFiles>
	</bug>
	<bug id="5735" opendate="2015-11-26 02:49:10" fixdate="2015-12-23 06:07:35" resolution="Done">
		<buginformation>
			<summary>Load balancing does not work when deploy app with root-context &amp;apos;/&amp;apos;</summary>
			<description>Everything work fine follow Stuart&amp;amp;apos;s instruction here https://github.com/stuartwdouglas/modcluster-example
but when I changed the root context of the app to "/"  the load balancing did not work any more, but still you can access to individual server.
I experimented with different root context like "/test", "/root" and I found that, setting any root context for app is OK except "/" (blank)
Best Regards,
Chanras</description>
			<version>10.0.0.CR4</version>
			<fixedVersion>10.0.0.CR5</fixedVersion>
			<type>Bug</type>
		</buginformation>
		<fixedFiles>
			<file type="M">org.wildfly.extension.undertow.filters.ModClusterService.java</file>
		</fixedFiles>
		<links>
			<link type="Cloners" description="cloned to">591</link>
			<link type="Cloners" description="cloned to">2008</link>
		</links>
	</bug>
	<bug id="5596" opendate="2015-10-28 04:19:32" fixdate="2015-12-23 06:09:44" resolution="Done">
		<buginformation>
			<summary>MessageDrivenComponent startDelivery/stopDelivery is not thread safe</summary>
			<description>WFLY-4470 made a change to prevent MDBs being activated or deactivated multiple times, but it is not thread safe. A volatile boolean is used for the flag, but there is no protection against multiple threads invoking the methods simultaneously.
Possible effects include:

activating the endpoint twice, with (probably) only one deactivation later, leading to not de-registering XA resources from the recovery manager properly
activate() and deactivate() running in the wrong order if done by separate threads

Several simple solutions probably will not work correctly. Using an AtomicBoolean would stop multiple activations/deactivations from concurrent calls, but would mean that startDelivery() could return before the activation was one. Using a synchronized block or other exclusive lock would work, however since it involves invoking non-container code (the resource adapter), there could potentially be a deadlock risk if that invoked some related container functionality.</description>
			<version>10.0.0.CR4</version>
			<fixedVersion>10.0.0.CR5</fixedVersion>
			<type>Bug</type>
		</buginformation>
		<fixedFiles>
			<file type="M">org.jboss.as.ejb3.component.messagedriven.MessageDrivenComponent.java</file>
		</fixedFiles>
		<links>
			<link type="Sequence" description="follows up on">4470</link>
			<link type="Superset" description="is incorporated by">2297</link>
		</links>
	</bug>
	<bug id="5580" opendate="2015-10-26 15:19:51" fixdate="2015-12-23 06:10:07" resolution="Done">
		<buginformation>
			<summary>[Migration operation] [Web to Undertow] attribute proxy-binding on connector is neither migrated and neither is migration warning shown.</summary>
			<description>when migrating connector with defined proxy-binding, the proxy-binding is not migrated and neither is warning printed.
Marking as critical as information that one particular attribute wasn&amp;amp;apos;t migrated without notifying user (e.g. via migration-warning) could lead to unpredicted configuration from user&amp;amp;apos;s PoV.</description>
			<version>10.0.0.CR4</version>
			<fixedVersion>10.0.0.CR5</fixedVersion>
			<type>Bug</type>
		</buginformation>
		<fixedFiles>
			<file type="M">org.jboss.as.web.WebMigrateOperation.java</file>
		</fixedFiles>
		<links>
			<link type="Cloners" description="cloned from">1638</link>
		</links>
	</bug>
	<bug id="5516" opendate="2015-10-12 14:50:19" fixdate="2015-12-23 06:10:31" resolution="Done">
		<buginformation>
			<summary>NullPointerException error message when server is going to be shutdown</summary>
			<description>I&amp;amp;apos;m hitting the very similar exception as described at WFLY-4548. It&amp;amp;apos;s






ERROR [stderr] (Thread-182) Exception in thread "Thread-182" java.lang.NullPointerException




ERROR [stderr] (Thread-182) 	at com.sun.corba.se.impl.oa.poa.POAImpl$DestroyThread.run(POAImpl.java:566)






this happens when I&amp;amp;apos;m stopping server which does have defined connection to another server (or at least I&amp;amp;apos;m able to reproduce it with usual periodicity). The full server log is






INFO  [org.jboss.as] (MSC service thread 1-6) WFLYSRV0049: EAP 7.0.0.Alpha1 (WildFly Core 2.0.0.CR5) starting




DEBUG [org.jboss.as.config] (MSC service thread 1-6) Configured system properties:




[Standalone] = 




awt.toolkit = sun.awt.X11.XToolkit




current.module.dir = /home/ochaloup/Transactions/eap-tests-transactions/jbossts




file.encoding = UTF-8




file.encoding.pkg = sun.io




file.separator = /




java.awt.graphicsenv = sun.awt.X11GraphicsEnvironment




java.awt.headless = true




java.awt.printerjob = sun.print.PSPrinterJob




java.class.path = /home/ochaloup/Transactions/eap-tests-transactions/jbossts/target/jbossas-jbossts/jboss-modules.jar:/tmp/btm/byteman.jar




java.class.version = 52.0




java.endorsed.dirs = /usr/lib/jvm/java-1.8.0-openjdk-1.8.0.60-14.b27.fc22.x86_64/jre/lib/endorsed




java.ext.dirs = /usr/lib/jvm/java-1.8.0-openjdk-1.8.0.60-14.b27.fc22.x86_64/jre/lib/ext:/usr/java/packages/lib/ext




java.home = /usr/lib/jvm/java-1.8.0-openjdk-1.8.0.60-14.b27.fc22.x86_64/jre




java.io.tmpdir = /tmp




java.library.path = /usr/java/packages/lib/amd64:/usr/lib64:/lib64:/lib:/usr/lib




java.naming.factory.url.pkgs = org.jboss.as.naming.interfaces:org.jboss.ejb.client.naming




java.net.preferIPv4Stack = true




java.net.preferIPv6Addresses = false




java.runtime.name = OpenJDK Runtime Environment




java.runtime.version = 1.8.0_60-b27




java.security.auth.login.config = jar:file:/home/ochaloup/jboss/jboss-eap-7.0.0.DR11/modules/system/layers/base/org/picketbox/main/picketbox-4.9.3.Final.jar!/auth.conf




java.specification.name = Java Platform API Specification




java.specification.vendor = Oracle Corporation




java.specification.version = 1.8




java.util.logging.manager = org.jboss.logmanager.LogManager




java.vendor = Oracle Corporation




java.vendor.url = http://java.oracle.com/




java.vendor.url.bug = http://bugreport.sun.com/bugreport/




java.version = 1.8.0_60




java.vm.info = mixed mode




java.vm.name = OpenJDK 64-Bit Server VM




java.vm.specification.name = Java Virtual Machine Specification




java.vm.specification.vendor = Oracle Corporation




java.vm.specification.version = 1.8




java.vm.vendor = Oracle Corporation




java.vm.version = 25.60-b23




javax.management.builder.initial = org.jboss.as.jmx.PluggableMBeanServerBuilder




javax.xml.datatype.DatatypeFactory = __redirected.__DatatypeFactory




javax.xml.parsers.DocumentBuilderFactory = __redirected.__DocumentBuilderFactory




javax.xml.parsers.SAXParserFactory = __redirected.__SAXParserFactory




javax.xml.stream.XMLEventFactory = __redirected.__XMLEventFactory




javax.xml.stream.XMLInputFactory = __redirected.__XMLInputFactory




javax.xml.stream.XMLOutputFactory = __redirected.__XMLOutputFactory




javax.xml.transform.TransformerFactory = __redirected.__TransformerFactory




javax.xml.validation.SchemaFactory:http://www.w3.org/2001/XMLSchema = __redirected.__SchemaFactory




javax.xml.xpath.XPathFactory:http://java.sun.com/jaxp/xpath/dom = __redirected.__XPathFactory




jboss.home.dir = /home/ochaloup/Transactions/eap-tests-transactions/jbossts/target/jbossas-jbossts




jboss.host.name = ochaloup




jboss.modules.dir = /home/ochaloup/Transactions/eap-tests-transactions/jbossts/target/jbossas-jbossts/modules




jboss.modules.system.pkgs = org.jboss.byteman,org.jboss.qa.byteman,org.jboss.logmanager,org.jboss.as.cli




jboss.node.name = jbossts




jboss.qualified.host.name = ochaloup




jboss.server.base.dir = /home/ochaloup/Transactions/eap-tests-transactions/jbossts/target/jbossas-jbossts/standalone




jboss.server.config.dir = /home/ochaloup/Transactions/eap-tests-transactions/jbossts/target/jbossas-jbossts/standalone/configuration




jboss.server.data.dir = /home/ochaloup/Transactions/eap-tests-transactions/jbossts/target/jbossas-jbossts/standalone/data




jboss.server.deploy.dir = /home/ochaloup/Transactions/eap-tests-transactions/jbossts/target/jbossas-jbossts/standalone/data/content




jboss.server.log.dir = /home/ochaloup/Transactions/eap-tests-transactions/jbossts/target/jbossas-jbossts/standalone/log




jboss.server.name = ochaloup




jboss.server.persist.config = true




jboss.server.temp.dir = /home/ochaloup/Transactions/eap-tests-transactions/jbossts/target/jbossas-jbossts/standalone/tmp




jbossts.dist = /home/ochaloup/jboss/jboss-eap-7.0.0.DR11




jbossts.module.dir = /home/ochaloup/Transactions/eap-tests-transactions/jbossts




line.separator = 









logging.configuration = file:/home/ochaloup/Transactions/eap-tests-transactions/jbossts/target/jbossas-jbossts/standalone/configuration/logging.properties




mcast = 230.0.0.4




module.path = /home/ochaloup/Transactions/eap-tests-transactions/jbossts/target/jbossas-jbossts/modules:/home/ochaloup/jboss/jboss-eap-7.0.0.DR11/modules:/home/ochaloup/Transactions/eap-tests-transactions/jbossts/target/jbossas-jbossts/modules




node0 = 127.0.0.1




node1 = 127.0.0.1




node2 = 127.0.0.1




org.apache.xml.security.ignoreLineBreaks = true




org.jboss.boot.log.file = /home/ochaloup/Transactions/eap-tests-transactions/jbossts/target/jbossas-jbossts/standalone/log/server.log




org.jboss.byteman.contrib.dtest.rmiregistry.port = 1199




org.jboss.byteman.debug = true




org.jboss.byteman.verbose = true




org.jboss.com.sun.CORBA.ORBUseDynamicStub = true




org.jboss.logmanager.nocolor = true




org.jboss.resolver.warning = true




org.jboss.security.context.ThreadLocal = true




org.omg.CORBA.ORBClass = com.sun.corba.se.impl.orb.ORBImpl




org.omg.CORBA.ORBSingletonClass = com.sun.corba.se.impl.orb.ORBSingleton




org.xml.sax.driver = __redirected.__XMLReaderFactory




os.arch = amd64




os.name = Linux




os.version = 4.1.8-200.fc22.x86_64




path.separator = :




project.root.dir = /home/ochaloup/Transactions/eap-tests-transactions/jbossts/..




sun.arch.data.model = 64




sun.boot.class.path = /home/ochaloup/jboss/jboss-eap-7.0.0.DR11/modules/system/layers/base/org/jboss/logmanager/main/;/tmp/btm/btm-help.jar:/usr/lib/jvm/java-1.8.0-openjdk-1.8.0.60-14.b27.fc22.x86_64/jre/lib/resources.jar:/usr/lib/jvm/java-1.8.0-openjdk-1.8.0.60-14.b27.fc22.x86_64/jre/lib/rt.jar:/usr/lib/jvm/java-1.8.0-openjdk-1.8.0.60-14.b27.fc22.x86_64/jre/lib/sunrsasign.jar:/usr/lib/jvm/java-1.8.0-openjdk-1.8.0.60-14.b27.fc22.x86_64/jre/lib/jsse.jar:/usr/lib/jvm/java-1.8.0-openjdk-1.8.0.60-14.b27.fc22.x86_64/jre/lib/jce.jar:/usr/lib/jvm/java-1.8.0-openjdk-1.8.0.60-14.b27.fc22.x86_64/jre/lib/charsets.jar:/usr/lib/jvm/java-1.8.0-openjdk-1.8.0.60-14.b27.fc22.x86_64/jre/lib/jfr.jar:/usr/lib/jvm/java-1.8.0-openjdk-1.8.0.60-14.b27.fc22.x86_64/jre/classes




sun.boot.library.path = /usr/lib/jvm/java-1.8.0-openjdk-1.8.0.60-14.b27.fc22.x86_64/jre/lib/amd64




sun.cpu.endian = little




sun.cpu.isalist = 




sun.io.unicode.encoding = UnicodeLittle




sun.java.command = /home/ochaloup/Transactions/eap-tests-transactions/jbossts/target/jbossas-jbossts/jboss-modules.jar -mp /home/ochaloup/Transactions/eap-tests-transactions/jbossts/target/jbossas-jbossts/modules:/home/ochaloup/jboss/jboss-eap-7.0.0.DR11/modules:/home/ochaloup/Transactions/eap-tests-transactions/jbossts/target/jbossas-jbossts/modules org.jboss.as.standalone -Djboss.home.dir=/home/ochaloup/Transactions/eap-tests-transactions/jbossts/target/jbossas-jbossts -Djboss.server.base.dir=/home/ochaloup/Transactions/eap-tests-transactions/jbossts/target/jbossas-jbossts/standalone -Djboss.server.log.dir=/home/ochaloup/Transactions/eap-tests-transactions/jbossts/target/jbossas-jbossts/standalone/log -Djboss.server.config.dir=/home/ochaloup/Transactions/eap-tests-transactions/jbossts/target/jbossas-jbossts/standalone/configuration -c=standalone-full.xml




sun.java.launcher = SUN_STANDARD




sun.jnu.encoding = UTF-8




sun.management.compiler = HotSpot 64-Bit Tiered Compilers




sun.nio.ch.bugLevel = 




sun.os.patch.level = unknown




ts.timeout.factor = 100




user.country = US




user.dir = /home/ochaloup/Transactions/eap-tests-transactions/jbossts/target/workdir




user.home = /home/ochaloup




user.language = en




user.name = ochaloup




user.timezone = Europe/Prague




DEBUG [org.jboss.as.config] (MSC service thread 1-6) VM Arguments: -D[Standalone] -Xms64m -Xmx512m -Djava.net.preferIPv4Stack=true -Djava.net.preferIPv4Stack=true -Djava.awt.headless=true -Djboss.modules.system.pkgs=org.jboss.byteman -Djboss.modules.system.pkgs=org.jboss.byteman,org.jboss.qa.byteman,org.jboss.logmanager,org.jboss.as.cli -Xms256m -Xmx2048m -XX:MaxPermSize=256m -Djava.net.preferIPv6Addresses=false -Dts.timeout.factor=100 -Dnode0=127.0.0.1 -Dnode1=127.0.0.1 -Dnode2=127.0.0.1 -Dmcast=230.0.0.4 -Dorg.jboss.logmanager.nocolor=true -Djbossts.dist=/home/ochaloup/jboss/jboss-eap-7.0.0.DR11 -Dcurrent.module.dir=/home/ochaloup/Transactions/eap-tests-transactions/jbossts -Djbossts.module.dir=/home/ochaloup/Transactions/eap-tests-transactions/jbossts -Dproject.root.dir=/home/ochaloup/Transactions/eap-tests-transactions/jbossts/.. -Dorg.jboss.byteman.debug=true -Dorg.jboss.byteman.verbose=true -Dorg.jboss.byteman.contrib.dtest.rmiregistry.port=1199 -Djava.util.logging.manager=org.jboss.logmanager.LogManager -javaagent:/tmp/btm/byteman.jar=address:127.0.0.1,port:9091,listener:true,sys:/tmp/btm/byteman-dtest.jar,sys:/tmp/btm/btm-help.jar -Xbootclasspath/p:/home/ochaloup/jboss/jboss-eap-7.0.0.DR11/modules/system/layers/base/org/jboss/logmanager/main/;/tmp/btm/btm-help.jar -Djboss.node.name=jbossts -ea -Djboss.home.dir=/home/ochaloup/Transactions/eap-tests-transactions/jbossts/target/jbossas-jbossts -Dorg.jboss.boot.log.file=/home/ochaloup/Transactions/eap-tests-transactions/jbossts/target/jbossas-jbossts/standalone/log/server.log -Dlogging.configuration=file:/home/ochaloup/Transactions/eap-tests-transactions/jbossts/target/jbossas-jbossts/standalone/configuration/logging.properties 




INFO  [org.jboss.as.controller.management-deprecated] (ServerService Thread Pool -- 24) WFLYCTL0028: Attribute &amp;amp;apos;enabled&amp;amp;apos; in the resource at address &amp;amp;apos;/subsystem=datasources/data-source=ExampleDS&amp;amp;apos; is deprecated, and may be removed in future version. See the attribute description in the output of the read-resource-description operation to learn more about the deprecation.




INFO  [org.jboss.as.server] (Controller Boot Thread) WFLYSRV0039: Creating http management service using socket-binding (management-http)




INFO  [org.wildfly.iiop.openjdk] (ServerService Thread Pool -- 42) WFLYIIOP0001: Activating IIOP Subsystem




INFO  [org.jboss.as.clustering.infinispan] (ServerService Thread Pool -- 41) WFLYCLINF0001: Activating Infinispan subsystem.




INFO  [org.jboss.as.connector.subsystems.datasources] (ServerService Thread Pool -- 36) WFLYJCA0004: Deploying JDBC-compliant driver class org.h2.Driver (version 1.3)




INFO  [org.jboss.as.connector] (MSC service thread 1-6) WFLYJCA0009: Starting JCA Subsystem (WildFly/IronJacamar 1.3.0.Final)




INFO  [org.jboss.as.connector.deployers.jdbc] (MSC service thread 1-1) WFLYJCA0018: Started Driver service with driver-name = h2




INFO  [org.wildfly.extension.io] (ServerService Thread Pool -- 40) WFLYIO001: Worker &amp;amp;apos;default&amp;amp;apos; has auto-configured to 8 core threads with 64 task threads based on your 4 available processors




INFO  [org.jboss.as.ejb3] (MSC service thread 1-5) WFLYEJB0481: Strict pool slsb-strict-max-pool is using a max instance size of 64 (per class), which is derived from thread worker pool sizing.




INFO  [org.jboss.as.ejb3] (MSC service thread 1-8) WFLYEJB0482: Strict pool mdb-strict-max-pool is using a max instance size of 16 (per class), which is derived from the number of CPUs on this host.




INFO  [org.jboss.as.naming] (ServerService Thread Pool -- 52) WFLYNAM0001: Activating Naming Subsystem




INFO  [org.jboss.as.naming] (MSC service thread 1-8) WFLYNAM0003: Starting Naming Service




INFO  [org.jboss.as.mail.extension] (MSC service thread 1-8) WFLYMAIL0001: Bound mail session [java:jboss/mail/Default]




INFO  [org.jboss.as.security] (ServerService Thread Pool -- 59) WFLYSEC0002: Activating Security Subsystem




INFO  [org.jboss.as.security] (MSC service thread 1-7) WFLYSEC0001: Current PicketBox version=4.9.3.Final




WARN  [org.jboss.as.txn] (ServerService Thread Pool -- 60) WFLYTX0013: Node identifier property is set to the default value. Please make sure it is unique.




INFO  [org.wildfly.extension.undertow] (ServerService Thread Pool -- 61) WFLYUT0003: Undertow 1.3.0.CR2 starting




INFO  [org.jboss.as.webservices] (ServerService Thread Pool -- 62) WFLYWS0002: Activating WebServices Extension




INFO  [org.wildfly.extension.undertow] (ServerService Thread Pool -- 61) WFLYUT0014: Creating file handler for path &amp;amp;apos;/home/ochaloup/Transactions/eap-tests-transactions/jbossts/target/jbossas-jbossts/welcome-content&amp;amp;apos; with options [directory-listing: &amp;amp;apos;false&amp;amp;apos;, follow-symlink: &amp;amp;apos;false&amp;amp;apos;, case-sensitive: &amp;amp;apos;true&amp;amp;apos;, safe-symlink-paths: &amp;amp;apos;[]&amp;amp;apos;]




INFO  [org.wildfly.extension.undertow] (MSC service thread 1-8) WFLYUT0003: Undertow 1.3.0.CR2 starting




INFO  [com.arjuna.ats.jbossatx] (MSC service thread 1-8) ARJUNA032010: JBossTS Recovery Service (tag: abfdf) - JBoss Inc.




INFO  [com.arjuna.ats.jbossatx] (MSC service thread 1-8) ARJUNA032013: Starting transaction recovery manager




INFO  [com.arjuna.ats.arjuna] (MSC service thread 1-8) ARJUNA012324: Start RecoveryActivators




INFO  [org.wildfly.extension.undertow] (MSC service thread 1-2) WFLYUT0012: Started server default-server.




INFO  [org.wildfly.extension.undertow] (MSC service thread 1-2) WFLYUT0018: Host default-host starting




INFO  [org.wildfly.iiop.openjdk] (MSC service thread 1-1) WFLYIIOP0009: CORBA ORB Service started




INFO  [com.arjuna.ats.arjuna] (MSC service thread 1-8) ARJUNA012310: Recovery manager listening on endpoint 127.0.0.1:4712




DEBUG [com.arjuna.ats.arjuna] (MSC service thread 1-8) PeriodicRecovery: starting listener worker thread




DEBUG [com.arjuna.ats.arjuna] (MSC service thread 1-8) ExpiredEntryMonitor - constructed




INFO  [com.arjuna.ats.arjuna] (MSC service thread 1-8) ARJUNA012344: RecoveryManagerImple is ready on port 4712




INFO  [com.arjuna.ats.arjuna] (Transaction Expired Entry Monitor) ARJUNA012296: ExpiredEntryMonitor running at Mon, 12 Oct 2015 16:16:45




TRACE [com.arjuna.ats.arjuna] (MSC service thread 1-8) ObjectStoreDir: /home/ochaloup/Transactions/eap-tests-transactions/jbossts/target/jbossas-jbossts/standalone/data/tx-object-store




DEBUG [com.arjuna.ats.arjuna] (Periodic Recovery) PeriodicRecovery: background thread Status &amp;lt;== SCANNING




DEBUG [com.arjuna.ats.arjuna] (Periodic Recovery) PeriodicRecovery: background thread scanning




INFO  [com.arjuna.ats.jbossatx] (MSC service thread 1-8) ARJUNA032017: JBossTS Transaction Service (JTA version - tag: abfdf) - JBoss Inc.




DEBUG [com.arjuna.ats.arjuna] (Periodic Recovery) Periodic recovery first pass at Mon, 12 Oct 2015 16:16:45




DEBUG [com.arjuna.ats.arjuna] (MSC service thread 1-8) registering bean jboss.jta:type=ObjectStore




TRACE [com.arjuna.ats.arjuna] (Periodic Recovery) CommitMarkableResourceRecordRecoveryModule::periodicWorkFirstPass




TRACE [com.arjuna.ats.arjuna] (Periodic Recovery) InputObjectState::InputObjectState()




TRACE [com.arjuna.ats.arjuna] (Periodic Recovery) FileSystemStore.allObjUids(/StateManager/BasicAction/TwoPhaseCoordinator/AtomicActionConnectable, InputObjectState Uid   : 0:0:0:0:0




InputObjectState Type  : null




InputObjectState Size  : 0




InputObjectState Buffer: , -1)




TRACE [com.arjuna.ats.arjuna] (Periodic Recovery) OutputObjectState::OutputObjectState()




DEBUG [com.arjuna.ats.arjuna] (Periodic Recovery) processing /StateManager/BasicAction/TwoPhaseCoordinator/AtomicAction transactions




TRACE [com.arjuna.ats.arjuna] (Periodic Recovery) InputObjectState::InputObjectState()




TRACE [com.arjuna.ats.arjuna] (Periodic Recovery) FileSystemStore.allObjUids(/StateManager/BasicAction/TwoPhaseCoordinator/AtomicAction, InputObjectState Uid   : 0:0:0:0:0




InputObjectState Type  : null




InputObjectState Size  : 0




InputObjectState Buffer: , -1)




TRACE [com.arjuna.ats.arjuna] (Periodic Recovery) OutputObjectState::OutputObjectState()




DEBUG [com.arjuna.ats.arjuna] (Periodic Recovery)  




TRACE [com.arjuna.ats.arjuna] (Periodic Recovery) InputObjectState::InputObjectState()




DEBUG [com.arjuna.ats.arjuna] (Periodic Recovery) AtomicActionRecoveryModule first pass




TRACE [com.arjuna.ats.arjuna] (Periodic Recovery) FileSystemStore.allObjUids(/StateManager/BasicAction/TwoPhaseCoordinator/AtomicAction, InputObjectState Uid   : 0:0:0:0:0




InputObjectState Type  : null




InputObjectState Size  : 0




InputObjectState Buffer: , -1)




TRACE [com.arjuna.ats.arjuna] (Periodic Recovery) OutputObjectState::OutputObjectState()




DEBUG [com.arjuna.ats.arjuna] (Periodic Recovery) processing /StateManager/BasicAction/TwoPhaseCoordinator/AtomicAction transactions




DEBUG [com.arjuna.ats.arjuna] (Periodic Recovery)  




DEBUG [com.arjuna.ats.txoj] (Periodic Recovery) TORecoveryModule - first pass




TRACE [com.arjuna.ats.arjuna] (Periodic Recovery) InputObjectState::InputObjectState()




TRACE [com.arjuna.ats.arjuna] (Periodic Recovery) FileSystemStore.allTypes(InputObjectState Uid   : 0:0:0:0:0




InputObjectState Type  : null




InputObjectState Size  : 0




InputObjectState Buffer: )




TRACE [com.arjuna.ats.arjuna] (Periodic Recovery) OutputObjectState::OutputObjectState()




DEBUG [com.arjuna.ats.arjuna] (Periodic Recovery)  




DEBUG [com.arjuna.ats.arjuna] (Periodic Recovery)  




INFO  [org.jboss.as.connector.subsystems.datasources] (ServerService Thread Pool -- 36) WFLYJCA0005: Deploying non-JDBC-compliant driver class org.postgresql.Driver (version 9.4)




DEBUG [com.arjuna.ats.arjuna] (Transaction Expired Entry Monitor) ExpiredTransactionStatusManagerScanner - scanning to remove items from before Mon, 12 Oct 2015 04:16:45




INFO  [org.jboss.as.connector.deployers.jdbc] (MSC service thread 1-1) WFLYJCA0018: Started Driver service with driver-name = module_dsdriver.jar




TRACE [com.arjuna.ats.arjuna] (Transaction Expired Entry Monitor) InputObjectState::InputObjectState()




TRACE [com.arjuna.ats.arjuna] (Transaction Expired Entry Monitor) FileSystemStore.allObjUids(/Recovery/TransactionStatusManager, InputObjectState Uid   : 0:0:0:0:0




InputObjectState Type  : null




InputObjectState Size  : 0




InputObjectState Buffer: , -1)




TRACE [com.arjuna.ats.arjuna] (Transaction Expired Entry Monitor) OutputObjectState::OutputObjectState()




DEBUG [com.arjuna.ats.arjuna] (Transaction Expired Entry Monitor)   




INFO  [org.jboss.as.connector.subsystems.datasources] (MSC service thread 1-8) WFLYJCA0001: Bound data source [java:jboss/datasources/ExampleDS]




INFO  [org.wildfly.extension.undertow] (MSC service thread 1-2) WFLYUT0006: Undertow HTTP listener default listening on 127.0.0.1:8080




INFO  [org.jboss.ws.common.management] (MSC service thread 1-4) JBWS022052: Starting JBoss Web Services - Stack CXF Server 5.1.0.Final




INFO  [org.apache.activemq.artemis.core.server] (ServerService Thread Pool -- 64) AMQ221000: live Message Broker is starting with configuration Broker Configuration (clustered=false,journalDirectory=/home/ochaloup/Transactions/eap-tests-transactions/jbossts/target/jbossas-jbossts/standalone/data/activemq/journal,bindingsDirectory=/home/ochaloup/Transactions/eap-tests-transactions/jbossts/target/jbossas-jbossts/standalone/data/activemq/bindings,largeMessagesDirectory=/home/ochaloup/Transactions/eap-tests-transactions/jbossts/target/jbossas-jbossts/standalone/data/activemq/largemessages,pagingDirectory=/home/ochaloup/Transactions/eap-tests-transactions/jbossts/target/jbossas-jbossts/standalone/data/activemq/paging)




INFO  [org.apache.activemq.artemis.core.server] (ServerService Thread Pool -- 64) AMQ221012: Using AIO Journal




INFO  [org.apache.activemq.artemis.core.server] (ServerService Thread Pool -- 64) AMQ221043: Protocol module found: [artemis-server]. Adding protocol support for: CORE




INFO  [org.jboss.as.server.deployment.scanner] (MSC service thread 1-5) WFLYDS0013: Started FileSystemDeploymentService for directory /home/ochaloup/Transactions/eap-tests-transactions/jbossts/target/jbossas-jbossts/standalone/deployments




INFO  [org.apache.activemq.artemis.core.server] (ServerService Thread Pool -- 64) AMQ221043: Protocol module found: [artemis-amqp-protocol]. Adding protocol support for: AMQP




INFO  [org.apache.activemq.artemis.core.server] (ServerService Thread Pool -- 64) AMQ221043: Protocol module found: [artemis-hornetq-protocol]. Adding protocol support for: HORNETQ




INFO  [org.apache.activemq.artemis.core.server] (ServerService Thread Pool -- 64) AMQ221043: Protocol module found: [artemis-stomp-protocol]. Adding protocol support for: STOMP




INFO  [org.wildfly.extension.messaging-activemq] (MSC service thread 1-7) WFLYMSGAMQ0016: Registered HTTP upgrade for activemq-remoting protocol handled by http-acceptor acceptor




INFO  [org.wildfly.extension.messaging-activemq] (MSC service thread 1-2) WFLYMSGAMQ0016: Registered HTTP upgrade for activemq-remoting protocol handled by http-acceptor acceptor




INFO  [org.wildfly.extension.messaging-activemq] (MSC service thread 1-4) WFLYMSGAMQ0016: Registered HTTP upgrade for activemq-remoting protocol handled by http-acceptor-throughput acceptor




INFO  [org.wildfly.extension.messaging-activemq] (MSC service thread 1-8) WFLYMSGAMQ0016: Registered HTTP upgrade for activemq-remoting protocol handled by http-acceptor-throughput acceptor




INFO  [org.apache.activemq.artemis.core.server] (ServerService Thread Pool -- 64) AMQ221007: Server is now live




INFO  [org.apache.activemq.artemis.core.server] (ServerService Thread Pool -- 64) AMQ221001: Apache ActiveMQ Artemis Message Broker version 1.1.0 [nodeID=d8f999f9-70eb-11e5-b4bd-574d43db2219] 




INFO  [org.apache.activemq.artemis.core.server] (ServerService Thread Pool -- 65) AMQ221003: trying to deploy queue jms.queue.crashRecoveryQueue




INFO  [org.jboss.as.connector.deployment] (MSC service thread 1-7) WFLYJCA0007: Registered connection factory java:/JmsXA




INFO  [org.apache.activemq.artemis.core.server] (ServerService Thread Pool -- 69) AMQ221003: trying to deploy queue jms.queue.DLQ




INFO  [org.wildfly.extension.messaging-activemq] (ServerService Thread Pool -- 67) WFLYMSGAMQ0002: Bound messaging object to jndi name java:jboss/exported/jms/RemoteConnectionFactory




INFO  [org.apache.activemq.artemis.core.server] (ServerService Thread Pool -- 70) AMQ221003: trying to deploy queue jms.queue.ExpiryQueue




INFO  [org.wildfly.extension.messaging-activemq] (ServerService Thread Pool -- 68) WFLYMSGAMQ0002: Bound messaging object to jndi name java:/ConnectionFactory




INFO  [org.apache.activemq.artemis.core.server] (ServerService Thread Pool -- 66) AMQ221003: trying to deploy queue jms.queue.MDBTriggerQueue




INFO  [org.apache.activemq.artemis.ra] (MSC service thread 1-7) Resource adaptor started




INFO  [org.jboss.as.connector.services.resourceadapters.ResourceAdapterActivatorService$ResourceAdapterActivator] (MSC service thread 1-7) IJ020002: Deployed: file://RaActivatoractivemq-ra




INFO  [org.jboss.as.connector.deployment] (MSC service thread 1-4) WFLYJCA0002: Bound JCA ConnectionFactory [java:/JmsXA]




INFO  [org.wildfly.extension.messaging-activemq] (MSC service thread 1-1) WFLYMSGAMQ0002: Bound messaging object to jndi name java:jboss/DefaultJMSConnectionFactory




INFO  [org.jboss.as] (Controller Boot Thread) WFLYSRV0060: Http management interface listening on http://127.0.0.1:42042/management




INFO  [org.jboss.as] (Controller Boot Thread) WFLYSRV0051: Admin console listening on http://127.0.0.1:42042




INFO  [org.jboss.as] (Controller Boot Thread) WFLYSRV0025: EAP 7.0.0.Alpha1 (WildFly Core 2.0.0.CR5) started in 779ms - Started 259 of 536 services (335 services are lazy, passive or on-demand)




INFO  [org.jboss.as.repository] (management-handler-thread - 4) WFLYDR0001: Content added at location /home/ochaloup/Transactions/eap-tests-transactions/jbossts/target/jbossas-jbossts/standalone/data/content/da/9c37de616498ab31f4fe9949bb0999a72ab0ae/content




INFO  [org.jboss.as.server.deployment] (MSC service thread 1-6) WFLYSRV0027: Starting deployment of "crashrecovery-txpropag-client.jar" (runtime-name: "crashrecovery-txpropag-client.jar")




WARN  [org.jboss.as.dependency.private] (MSC service thread 1-7) WFLYSRV0018: Deployment "deployment.crashrecovery-txpropag-client.jar" is using a private module ("org.jboss.jts:main") which may be changed or removed in future versions without notice.




WARN  [org.jboss.as.dependency.private] (MSC service thread 1-7) WFLYSRV0018: Deployment "deployment.crashrecovery-txpropag-client.jar" is using a private module ("org.jboss.jboss-transaction-spi:main") which may be changed or removed in future versions without notice.




INFO  [org.jboss.weld.deployer] (MSC service thread 1-2) WFLYWELD0003: Processing weld deployment crashrecovery-txpropag-client.jar




INFO  [org.hibernate.validator.internal.util.Version] (MSC service thread 1-2) HV000001: Hibernate Validator 5.2.1.Final




INFO  [org.jboss.as.ejb3.deployment] (MSC service thread 1-2) WFLYEJB0473: JNDI bindings for session bean named &amp;amp;apos;MessageHelper&amp;amp;apos; in deployment unit &amp;amp;apos;deployment "crashrecovery-txpropag-client.jar"&amp;amp;apos; are as follows:









java:global/crashrecovery-txpropag-client/MessageHelper!org.jboss.as.test.jbossts.crashrec.jms.MessageHelperRemote




java:app/crashrecovery-txpropag-client/MessageHelper!org.jboss.as.test.jbossts.crashrec.jms.MessageHelperRemote




java:module/MessageHelper!org.jboss.as.test.jbossts.crashrec.jms.MessageHelperRemote




java:jboss/exported/crashrecovery-txpropag-client/MessageHelper!org.jboss.as.test.jbossts.crashrec.jms.MessageHelperRemote




java:global/crashrecovery-txpropag-client/MessageHelper




java:app/crashrecovery-txpropag-client/MessageHelper




java:module/MessageHelper









INFO  [org.jboss.as.ejb3.deployment] (MSC service thread 1-2) WFLYEJB0473: JNDI bindings for session bean named &amp;amp;apos;TestXAResourceRecoveryHelper&amp;amp;apos; in deployment unit &amp;amp;apos;deployment "crashrecovery-txpropag-client.jar"&amp;amp;apos; are as follows:









java:global/crashrecovery-txpropag-client/TestXAResourceRecoveryHelper!com.arjuna.ats.jta.recovery.XAResourceRecoveryHelper




java:app/crashrecovery-txpropag-client/TestXAResourceRecoveryHelper!com.arjuna.ats.jta.recovery.XAResourceRecoveryHelper




java:module/TestXAResourceRecoveryHelper!com.arjuna.ats.jta.recovery.XAResourceRecoveryHelper




java:global/crashrecovery-txpropag-client/TestXAResourceRecoveryHelper




java:app/crashrecovery-txpropag-client/TestXAResourceRecoveryHelper




java:module/TestXAResourceRecoveryHelper









INFO  [org.jboss.as.ejb3.deployment] (MSC service thread 1-2) WFLYEJB0473: JNDI bindings for session bean named &amp;amp;apos;JMSCrashBean&amp;amp;apos; in deployment unit &amp;amp;apos;deployment "crashrecovery-txpropag-client.jar"&amp;amp;apos; are as follows:









java:global/crashrecovery-txpropag-client/JMSCrashBean!org.jboss.as.test.jbossts.crashrec.jms.JMSCrashBeanHome




java:app/crashrecovery-txpropag-client/JMSCrashBean!org.jboss.as.test.jbossts.crashrec.jms.JMSCrashBeanHome




java:module/JMSCrashBean!org.jboss.as.test.jbossts.crashrec.jms.JMSCrashBeanHome




java:jboss/exported/crashrecovery-txpropag-client/JMSCrashBean!org.jboss.as.test.jbossts.crashrec.jms.JMSCrashBeanHome




java:global/crashrecovery-txpropag-client/JMSCrashBean!org.jboss.as.test.jbossts.crashrec.jms.JMSCrashBeanRemote




java:app/crashrecovery-txpropag-client/JMSCrashBean!org.jboss.as.test.jbossts.crashrec.jms.JMSCrashBeanRemote




java:module/JMSCrashBean!org.jboss.as.test.jbossts.crashrec.jms.JMSCrashBeanRemote




java:jboss/exported/crashrecovery-txpropag-client/JMSCrashBean!org.jboss.as.test.jbossts.crashrec.jms.JMSCrashBeanRemote









INFO  [org.jboss.as.ejb3.deployment] (MSC service thread 1-2) WFLYEJB0473: JNDI bindings for session bean named &amp;amp;apos;CrashHelperTestXAResource&amp;amp;apos; in deployment unit &amp;amp;apos;deployment "crashrecovery-txpropag-client.jar"&amp;amp;apos; are as follows:









java:global/crashrecovery-txpropag-client/CrashHelperTestXAResource!org.jboss.as.test.jbossts.crashrec.common.CrashHelperRemote




java:app/crashrecovery-txpropag-client/CrashHelperTestXAResource!org.jboss.as.test.jbossts.crashrec.common.CrashHelperRemote




java:module/CrashHelperTestXAResource!org.jboss.as.test.jbossts.crashrec.common.CrashHelperRemote




java:jboss/exported/crashrecovery-txpropag-client/CrashHelperTestXAResource!org.jboss.as.test.jbossts.crashrec.common.CrashHelperRemote




java:global/crashrecovery-txpropag-client/CrashHelperTestXAResource




java:app/crashrecovery-txpropag-client/CrashHelperTestXAResource




java:module/CrashHelperTestXAResource









INFO  [org.jboss.as.ejb3.deployment] (MSC service thread 1-2) WFLYEJB0473: JNDI bindings for session bean named &amp;amp;apos;CrashClientBean&amp;amp;apos; in deployment unit &amp;amp;apos;deployment "crashrecovery-txpropag-client.jar"&amp;amp;apos; are as follows:









java:global/crashrecovery-txpropag-client/CrashClientBean!org.jboss.as.test.jbossts.crashrec.txpropagation.jms.CrashClientBeanRemote




java:app/crashrecovery-txpropag-client/CrashClientBean!org.jboss.as.test.jbossts.crashrec.txpropagation.jms.CrashClientBeanRemote




java:module/CrashClientBean!org.jboss.as.test.jbossts.crashrec.txpropagation.jms.CrashClientBeanRemote




java:jboss/exported/crashrecovery-txpropag-client/CrashClientBean!org.jboss.as.test.jbossts.crashrec.txpropagation.jms.CrashClientBeanRemote




java:global/crashrecovery-txpropag-client/CrashClientBean!org.jboss.as.test.jbossts.crashrec.txpropagation.jms.CrashClientBeanHome




java:app/crashrecovery-txpropag-client/CrashClientBean!org.jboss.as.test.jbossts.crashrec.txpropagation.jms.CrashClientBeanHome




java:module/CrashClientBean!org.jboss.as.test.jbossts.crashrec.txpropagation.jms.CrashClientBeanHome




java:jboss/exported/crashrecovery-txpropag-client/CrashClientBean!org.jboss.as.test.jbossts.crashrec.txpropagation.jms.CrashClientBeanHome









INFO  [org.jboss.as.ejb3.deployment] (MSC service thread 1-2) WFLYEJB0473: JNDI bindings for session bean named &amp;amp;apos;JMSCrashHelper&amp;amp;apos; in deployment unit &amp;amp;apos;deployment "crashrecovery-txpropag-client.jar"&amp;amp;apos; are as follows:









java:global/crashrecovery-txpropag-client/JMSCrashHelper!org.jboss.as.test.jbossts.crashrec.jms.JMSCrashHelperRemote




java:app/crashrecovery-txpropag-client/JMSCrashHelper!org.jboss.as.test.jbossts.crashrec.jms.JMSCrashHelperRemote




java:module/JMSCrashHelper!org.jboss.as.test.jbossts.crashrec.jms.JMSCrashHelperRemote




java:jboss/exported/crashrecovery-txpropag-client/JMSCrashHelper!org.jboss.as.test.jbossts.crashrec.jms.JMSCrashHelperRemote




java:global/crashrecovery-txpropag-client/JMSCrashHelper




java:app/crashrecovery-txpropag-client/JMSCrashHelper




java:module/JMSCrashHelper









INFO  [org.jboss.as.ejb3.deployment] (MSC service thread 1-2) WFLYEJB0473: JNDI bindings for session bean named &amp;amp;apos;TransactionStoreBrowserService&amp;amp;apos; in deployment unit &amp;amp;apos;deployment "crashrecovery-txpropag-client.jar"&amp;amp;apos; are as follows:









java:global/crashrecovery-txpropag-client/TransactionStoreBrowserService!org.jboss.as.test.jbossts.common.TransactionStoreBrowserService




java:app/crashrecovery-txpropag-client/TransactionStoreBrowserService!org.jboss.as.test.jbossts.common.TransactionStoreBrowserService




java:module/TransactionStoreBrowserService!org.jboss.as.test.jbossts.common.TransactionStoreBrowserService




java:global/crashrecovery-txpropag-client/TransactionStoreBrowserService




java:app/crashrecovery-txpropag-client/TransactionStoreBrowserService




java:module/TransactionStoreBrowserService









INFO  [org.jboss.ejb.client.remoting] (default task-5) EJBCLIENT000017: Received server version 2 and marshalling strategies [river]




INFO  [org.jboss.ejb.client.remoting] (MSC service thread 1-2) EJBCLIENT000013: Successful version handshake completed for receiver context EJBReceiverContext{clientContext=org.jboss.ejb.client.EJBClientContext@6ab639e9, receiver=Remoting connection EJB receiver [connection=Remoting connection &amp;lt;4d314cbc&amp;gt;,channel=jboss.ejb,nodename=jbossts2]} on channel Channel ID c3a6574d (outbound) of Remoting connection 3e45a5ec to /127.0.0.1:8180




INFO  [org.jboss.weld.deployer] (MSC service thread 1-2) WFLYWELD0006: Starting Services for CDI deployment: crashrecovery-txpropag-client.jar




INFO  [org.jboss.weld.Version] (MSC service thread 1-2) WELD-000900: 2.3.0 (Final)




INFO  [org.jboss.weld.deployer] (MSC service thread 1-4) WFLYWELD0009: Starting weld service for deployment crashrecovery-txpropag-client.jar




TRACE [com.arjuna.ats.jta] (ServerService Thread Pool -- 27) BaseTransaction.begin




TRACE [com.arjuna.ats.arjuna] (ServerService Thread Pool -- 27) StateManager::StateManager( 2, 0 )




TRACE [com.arjuna.ats.arjuna] (ServerService Thread Pool -- 27) BasicAction::BasicAction()




TRACE [com.arjuna.ats.arjuna] (ServerService Thread Pool -- 27) BasicAction::Begin() for action-id 0:ffff0a28048f:-3f561f30:561bc0c4:10




TRACE [com.arjuna.ats.arjuna] (ServerService Thread Pool -- 27) BasicAction::actionInitialise() for action-id 0:ffff0a28048f:-3f561f30:561bc0c4:10




TRACE [com.arjuna.ats.arjuna] (ServerService Thread Pool -- 27) ActionHierarchy::ActionHierarchy(1)




TRACE [com.arjuna.ats.arjuna] (ServerService Thread Pool -- 27) ActionHierarchy::add(0:ffff0a28048f:-3f561f30:561bc0c4:10, 1)




TRACE [com.arjuna.ats.arjuna] (ServerService Thread Pool -- 27) BasicAction::addChildThread () action 0:ffff0a28048f:-3f561f30:561bc0c4:10 adding Thread[ServerService Thread Pool -- 27,5,ServerService ThreadGroup]




TRACE [com.arjuna.ats.arjuna] (ServerService Thread Pool -- 27) BasicAction::addChildThread () action 0:ffff0a28048f:-3f561f30:561bc0c4:10 adding Thread[ServerService Thread Pool -- 27,5,ServerService ThreadGroup] result = true




TRACE [com.arjuna.ats.arjuna] (ServerService Thread Pool -- 27) TransactionReaper::insert ( BasicAction: 0:ffff0a28048f:-3f561f30:561bc0c4:10 status: ActionStatus.RUNNING, 300 )




TRACE [com.arjuna.ats.arjuna] (ServerService Thread Pool -- 27) ReaperElement::ReaperElement ( BasicAction: 0:ffff0a28048f:-3f561f30:561bc0c4:10 status: ActionStatus.RUNNING, 300 )




TRACE [com.arjuna.ats.jta] (ServerService Thread Pool -- 66) BaseTransaction.begin




TRACE [com.arjuna.ats.arjuna] (ServerService Thread Pool -- 66) StateManager::StateManager( 2, 0 )




TRACE [com.arjuna.ats.arjuna] (ServerService Thread Pool -- 66) BasicAction::BasicAction()




TRACE [com.arjuna.ats.arjuna] (ServerService Thread Pool -- 66) BasicAction::Begin() for action-id 0:ffff0a28048f:-3f561f30:561bc0c4:11




TRACE [com.arjuna.ats.arjuna] (ServerService Thread Pool -- 66) BasicAction::actionInitialise() for action-id 0:ffff0a28048f:-3f561f30:561bc0c4:11




TRACE [com.arjuna.ats.arjuna] (ServerService Thread Pool -- 66) ActionHierarchy::ActionHierarchy(1)




TRACE [com.arjuna.ats.arjuna] (ServerService Thread Pool -- 66) ActionHierarchy::add(0:ffff0a28048f:-3f561f30:561bc0c4:11, 1)




TRACE [com.arjuna.ats.arjuna] (ServerService Thread Pool -- 66) BasicAction::addChildThread () action 0:ffff0a28048f:-3f561f30:561bc0c4:11 adding Thread[ServerService Thread Pool -- 66,5,ServerService ThreadGroup]




TRACE [com.arjuna.ats.arjuna] (ServerService Thread Pool -- 66) BasicAction::addChildThread () action 0:ffff0a28048f:-3f561f30:561bc0c4:11 adding Thread[ServerService Thread Pool -- 66,5,ServerService ThreadGroup] result = true




TRACE [com.arjuna.ats.arjuna] (ServerService Thread Pool -- 66) TransactionReaper::insert ( BasicAction: 0:ffff0a28048f:-3f561f30:561bc0c4:11 status: ActionStatus.RUNNING, 300 )




TRACE [com.arjuna.ats.arjuna] (ServerService Thread Pool -- 66) ReaperElement::ReaperElement ( BasicAction: 0:ffff0a28048f:-3f561f30:561bc0c4:11 status: ActionStatus.RUNNING, 300 )




TRACE [com.arjuna.ats.arjuna] (Transaction Reaper) ReaperThread.run ()




TRACE [com.arjuna.ats.arjuna] (Transaction Reaper) TransactionReaper::check ()




TRACE [com.arjuna.ats.arjuna] (Transaction Reaper) TransactionReaper::check - comparing 1444659710006




TRACE [com.arjuna.ats.arjuna] (Transaction Reaper) Thread Thread[Transaction Reaper,5,main] sleeping for 299997




INFO  [org.jboss.as.test.jbossts.common.TestXAResourceCommon] (ServerService Thread Pool -- 27) TestXAResourceCommon.created()[id=226]




INFO  [org.jboss.as.test.jbossts.common.TestXAResourceRecovered] (ServerService Thread Pool -- 27) TestXAResourceRecovered.created()[id=226]




INFO  [org.jboss.as.test.jbossts.common.TestXAResourceRecoveryHelper] (ServerService Thread Pool -- 27) TestXAResourceRecoveryHelper starting




INFO  [org.jboss.as.test.jbossts.common.TransactionStoreBrowserService] (ServerService Thread Pool -- 66) TransactionStoreBrowserService.start




INFO  [org.jboss.as.test.jbossts.common.TestXAResourceRecoveryHelper] (ServerService Thread Pool -- 27) Using file /home/ochaloup/Transactions/eap-tests-transactions/jbossts/target/jbossas-jbossts/standalone/data/tx-object-store/TestXAResourceStateStore/TestXAResource.ser for saving state of the org.jboss.as.test.jbossts.common.TestXAResource XA resource




INFO  [org.jboss.as.test.jbossts.common.TestXAResourceRecoveryHelper] (ServerService Thread Pool -- 27) file /home/ochaloup/Transactions/eap-tests-transactions/jbossts/target/jbossas-jbossts/standalone/data/tx-object-store/TestXAResourceStateStore/TestXAResource.ser does not exists - no data for recovery




INFO  [stdout] (ServerService Thread Pool -- 66) registering bean jboss.jta:type=com.arjuna.ats.arjuna.tools.osb.api.mbeans.RecoveryStoreBean,name=store1




TRACE [com.arjuna.ats.jta] (ServerService Thread Pool -- 27) TransactionImple.getStatus: javax.transaction.Status.STATUS_ACTIVE




TRACE [com.arjuna.ats.jta] (ServerService Thread Pool -- 27) BaseTransaction.commit




TRACE [com.arjuna.ats.jta] (ServerService Thread Pool -- 27) TransactionImple.commitAndDisassociate




TRACE [com.arjuna.ats.arjuna] (ServerService Thread Pool -- 27) BasicAction::End() for action-id 0:ffff0a28048f:-3f561f30:561bc0c4:10




TRACE [com.arjuna.ats.jta] (ServerService Thread Pool -- 66) TransactionImple.getStatus: javax.transaction.Status.STATUS_ACTIVE




TRACE [com.arjuna.ats.jta] (ServerService Thread Pool -- 66) BaseTransaction.commit




TRACE [com.arjuna.ats.jta] (ServerService Thread Pool -- 66) TransactionImple.commitAndDisassociate




TRACE [com.arjuna.ats.arjuna] (ServerService Thread Pool -- 66) BasicAction::End() for action-id 0:ffff0a28048f:-3f561f30:561bc0c4:11




TRACE [com.arjuna.ats.arjuna] (ServerService Thread Pool -- 66) BasicAction::End() result for action-id (0:ffff0a28048f:-3f561f30:561bc0c4:11) is (TwoPhaseOutcome.PREPARE_OK) node id: (1)




TRACE [com.arjuna.ats.arjuna] (ServerService Thread Pool -- 66) BasicAction::removeChildThread () action 0:ffff0a28048f:-3f561f30:561bc0c4:11 removing TSThread:2




TRACE [com.arjuna.ats.arjuna] (ServerService Thread Pool -- 66) BasicAction::removeChildThread () action 0:ffff0a28048f:-3f561f30:561bc0c4:11 removing TSThread:2 result = true




TRACE [com.arjuna.ats.arjuna] (ServerService Thread Pool -- 66) TransactionReaper::remove ( BasicAction: 0:ffff0a28048f:-3f561f30:561bc0c4:11 status: ActionStatus.COMMITTED )




TRACE [com.arjuna.ats.arjuna] (ServerService Thread Pool -- 27) BasicAction::End() result for action-id (0:ffff0a28048f:-3f561f30:561bc0c4:10) is (TwoPhaseOutcome.PREPARE_OK) node id: (1)




TRACE [com.arjuna.ats.arjuna] (ServerService Thread Pool -- 27) BasicAction::removeChildThread () action 0:ffff0a28048f:-3f561f30:561bc0c4:10 removing TSThread:1




TRACE [com.arjuna.ats.arjuna] (ServerService Thread Pool -- 27) BasicAction::removeChildThread () action 0:ffff0a28048f:-3f561f30:561bc0c4:10 removing TSThread:1 result = true




TRACE [com.arjuna.ats.arjuna] (ServerService Thread Pool -- 27) TransactionReaper::remove ( BasicAction: 0:ffff0a28048f:-3f561f30:561bc0c4:10 status: ActionStatus.COMMITTED )




INFO  [org.jboss.as.server] (management-handler-thread - 4) WFLYSRV0010: Deployed "crashrecovery-txpropag-client.jar" (runtime-name : "crashrecovery-txpropag-client.jar")




INFO  [org.jboss.ejb.client.remoting] (default task-8) EJBCLIENT000016: Channel Channel ID c3a6574d (outbound) of Remoting connection 3e45a5ec to /127.0.0.1:8180 can no longer process messages




DEBUG [com.arjuna.ats.arjuna] (Periodic Recovery) Periodic recovery second pass at Mon, 12 Oct 2015 16:16:55




TRACE [com.arjuna.ats.arjuna] (Periodic Recovery) InputObjectState::InputObjectState()




TRACE [com.arjuna.ats.arjuna] (Periodic Recovery) FileSystemStore.allObjUids(/StateManager/BasicAction/TwoPhaseCoordinator/AtomicAction, InputObjectState Uid   : 0:0:0:0:0




InputObjectState Type  : null




InputObjectState Size  : 0




InputObjectState Buffer: , -1)




TRACE [com.arjuna.ats.arjuna] (Periodic Recovery) OutputObjectState::OutputObjectState()




TRACE [com.arjuna.ats.arjuna] (Periodic Recovery) FileSystemStore.allObjUids(/StateManager/BasicAction/TwoPhaseCoordinator/AtomicActionConnectable, InputObjectState Uid   : 0:0:0:0:0




InputObjectState Type  : null




InputObjectState Size  : 40




InputObjectState Buffer: , -1)




TRACE [com.arjuna.ats.arjuna] (Periodic Recovery) OutputObjectState::OutputObjectState()




DEBUG [com.arjuna.ats.arjuna] (Periodic Recovery)  




DEBUG [com.arjuna.ats.arjuna] (Periodic Recovery) AtomicActionRecoveryModule second pass




DEBUG [com.arjuna.ats.arjuna] (Periodic Recovery)  




DEBUG [com.arjuna.ats.txoj] (Periodic Recovery) TORecoveryModule - second pass




DEBUG [com.arjuna.ats.arjuna] (Periodic Recovery)  




DEBUG [com.arjuna.ats.arjuna] (Periodic Recovery) XARecoveryModule state change BETWEEN_PASSES-&amp;gt;SECOND_PASS









DEBUG [com.arjuna.ats.jta] (Periodic Recovery) Local XARecoveryModule - second pass




DEBUG [com.arjuna.ats.jta] (Periodic Recovery) Local XARecoveryModule.transactionInitiatedRecovery completed




DEBUG [com.arjuna.ats.jta] (Periodic Recovery) Local XARecoveryModule.resourceInitiatedRecovery completed




DEBUG [com.arjuna.ats.arjuna] (Periodic Recovery) XARecoveryModule state change SECOND_PASS-&amp;gt;IDLE









DEBUG [com.arjuna.ats.arjuna] (Periodic Recovery)  




DEBUG [com.arjuna.ats.arjuna] (Periodic Recovery) PeriodicRecovery: background thread Status &amp;lt;== INACTIVE




INFO  [org.jboss.as.server] (management-handler-thread - 1) WFLYSRV0211: Suspending server with 0ms timeout.




DEBUG [com.arjuna.ats.arjuna] (Periodic Recovery) PeriodicRecovery: background thread backing off




INFO  [org.jboss.as.server] (Thread-3) WFLYSRV0220: Server shutdown has been requested.




TRACE [com.arjuna.ats.jta] (ServerService Thread Pool -- 27) BaseTransaction.begin




TRACE [com.arjuna.ats.arjuna] (ServerService Thread Pool -- 27) StateManager::StateManager( 2, 0 )




TRACE [com.arjuna.ats.arjuna] (ServerService Thread Pool -- 27) BasicAction::BasicAction()




TRACE [com.arjuna.ats.arjuna] (ServerService Thread Pool -- 27) BasicAction::Begin() for action-id 0:ffff0a28048f:-3f561f30:561bc0c4:14




TRACE [com.arjuna.ats.arjuna] (ServerService Thread Pool -- 27) BasicAction::actionInitialise() for action-id 0:ffff0a28048f:-3f561f30:561bc0c4:14




TRACE [com.arjuna.ats.arjuna] (ServerService Thread Pool -- 27) ActionHierarchy::ActionHierarchy(1)




TRACE [com.arjuna.ats.arjuna] (ServerService Thread Pool -- 27) ActionHierarchy::add(0:ffff0a28048f:-3f561f30:561bc0c4:14, 1)




TRACE [com.arjuna.ats.arjuna] (ServerService Thread Pool -- 27) BasicAction::addChildThread () action 0:ffff0a28048f:-3f561f30:561bc0c4:14 adding Thread[ServerService Thread Pool -- 27,5,ServerService ThreadGroup]




TRACE [com.arjuna.ats.arjuna] (ServerService Thread Pool -- 27) BasicAction::addChildThread () action 0:ffff0a28048f:-3f561f30:561bc0c4:14 adding Thread[ServerService Thread Pool -- 27,5,ServerService ThreadGroup] result = true




TRACE [com.arjuna.ats.arjuna] (ServerService Thread Pool -- 27) TransactionReaper::insert ( BasicAction: 0:ffff0a28048f:-3f561f30:561bc0c4:14 status: ActionStatus.RUNNING, 300 )




TRACE [com.arjuna.ats.arjuna] (ServerService Thread Pool -- 27) ReaperElement::ReaperElement ( BasicAction: 0:ffff0a28048f:-3f561f30:561bc0c4:14 status: ActionStatus.RUNNING, 300 )




INFO  [org.jboss.as.test.jbossts.common.TransactionStoreBrowserService] (ServerService Thread Pool -- 27) TransactionStoreBrowserService.stop




INFO  [stdout] (ServerService Thread Pool -- 27) unregistering bean jboss.jta:type=com.arjuna.ats.arjuna.tools.osb.api.mbeans.RecoveryStoreBean,name=store1




TRACE [com.arjuna.ats.jta] (ServerService Thread Pool -- 27) TransactionImple.getStatus: javax.transaction.Status.STATUS_ACTIVE




TRACE [com.arjuna.ats.jta] (ServerService Thread Pool -- 27) BaseTransaction.commit




TRACE [com.arjuna.ats.jta] (ServerService Thread Pool -- 27) TransactionImple.commitAndDisassociate




TRACE [com.arjuna.ats.arjuna] (ServerService Thread Pool -- 27) BasicAction::End() for action-id 0:ffff0a28048f:-3f561f30:561bc0c4:14




TRACE [com.arjuna.ats.arjuna] (ServerService Thread Pool -- 27) BasicAction::End() result for action-id (0:ffff0a28048f:-3f561f30:561bc0c4:14) is (TwoPhaseOutcome.PREPARE_OK) node id: (1)




TRACE [com.arjuna.ats.arjuna] (ServerService Thread Pool -- 27) BasicAction::removeChildThread () action 0:ffff0a28048f:-3f561f30:561bc0c4:14 removing TSThread:1




TRACE [com.arjuna.ats.arjuna] (ServerService Thread Pool -- 27) BasicAction::removeChildThread () action 0:ffff0a28048f:-3f561f30:561bc0c4:14 removing TSThread:1 result = true




TRACE [com.arjuna.ats.arjuna] (ServerService Thread Pool -- 27) TransactionReaper::remove ( BasicAction: 0:ffff0a28048f:-3f561f30:561bc0c4:14 status: ActionStatus.COMMITTED )




TRACE [com.arjuna.ats.jta] (ServerService Thread Pool -- 5) BaseTransaction.begin




TRACE [com.arjuna.ats.arjuna] (ServerService Thread Pool -- 5) StateManager::StateManager( 2, 0 )




TRACE [com.arjuna.ats.arjuna] (ServerService Thread Pool -- 5) BasicAction::BasicAction()




TRACE [com.arjuna.ats.arjuna] (ServerService Thread Pool -- 5) BasicAction::Begin() for action-id 0:ffff0a28048f:-3f561f30:561bc0c4:15




TRACE [com.arjuna.ats.arjuna] (ServerService Thread Pool -- 5) BasicAction::actionInitialise() for action-id 0:ffff0a28048f:-3f561f30:561bc0c4:15




TRACE [com.arjuna.ats.arjuna] (ServerService Thread Pool -- 5) ActionHierarchy::ActionHierarchy(1)




TRACE [com.arjuna.ats.arjuna] (ServerService Thread Pool -- 5) ActionHierarchy::add(0:ffff0a28048f:-3f561f30:561bc0c4:15, 1)




TRACE [com.arjuna.ats.arjuna] (ServerService Thread Pool -- 5) BasicAction::addChildThread () action 0:ffff0a28048f:-3f561f30:561bc0c4:15 adding Thread[ServerService Thread Pool -- 5,5,ServerService ThreadGroup]




TRACE [com.arjuna.ats.arjuna] (ServerService Thread Pool -- 5) BasicAction::addChildThread () action 0:ffff0a28048f:-3f561f30:561bc0c4:15 adding Thread[ServerService Thread Pool -- 5,5,ServerService ThreadGroup] result = true




TRACE [com.arjuna.ats.arjuna] (ServerService Thread Pool -- 5) TransactionReaper::insert ( BasicAction: 0:ffff0a28048f:-3f561f30:561bc0c4:15 status: ActionStatus.RUNNING, 300 )




TRACE [com.arjuna.ats.arjuna] (ServerService Thread Pool -- 5) ReaperElement::ReaperElement ( BasicAction: 0:ffff0a28048f:-3f561f30:561bc0c4:15 status: ActionStatus.RUNNING, 300 )




INFO  [org.jboss.as.test.jbossts.common.TestXAResourceRecoveryHelper] (ServerService Thread Pool -- 5) TestXAResourceRecoveryHelper stopping




TRACE [com.arjuna.ats.jta] (ServerService Thread Pool -- 5) TransactionImple.getStatus: javax.transaction.Status.STATUS_ACTIVE




TRACE [com.arjuna.ats.jta] (ServerService Thread Pool -- 5) BaseTransaction.commit




TRACE [com.arjuna.ats.jta] (ServerService Thread Pool -- 5) TransactionImple.commitAndDisassociate




TRACE [com.arjuna.ats.arjuna] (ServerService Thread Pool -- 5) BasicAction::End() for action-id 0:ffff0a28048f:-3f561f30:561bc0c4:15




TRACE [com.arjuna.ats.arjuna] (ServerService Thread Pool -- 5) BasicAction::End() result for action-id (0:ffff0a28048f:-3f561f30:561bc0c4:15) is (TwoPhaseOutcome.PREPARE_OK) node id: (1)




TRACE [com.arjuna.ats.arjuna] (ServerService Thread Pool -- 5) BasicAction::removeChildThread () action 0:ffff0a28048f:-3f561f30:561bc0c4:15 removing TSThread:3




TRACE [com.arjuna.ats.arjuna] (ServerService Thread Pool -- 5) BasicAction::removeChildThread () action 0:ffff0a28048f:-3f561f30:561bc0c4:15 removing TSThread:3 result = true




TRACE [com.arjuna.ats.arjuna] (ServerService Thread Pool -- 5) TransactionReaper::remove ( BasicAction: 0:ffff0a28048f:-3f561f30:561bc0c4:15 status: ActionStatus.COMMITTED )




INFO  [org.jboss.as.connector.deployers.jdbc] (MSC service thread 1-2) WFLYJCA0019: Stopped Driver service with driver-name = module_dsdriver.jar




INFO  [org.wildfly.extension.messaging-activemq] (ServerService Thread Pool -- 5) WFLYMSGAMQ0006: Unbound messaging object to jndi name java:jboss/exported/jms/RemoteConnectionFactory




INFO  [org.jboss.weld.deployer] (MSC service thread 1-1) WFLYWELD0010: Stopping weld service for deployment crashrecovery-txpropag-client.jar




INFO  [org.wildfly.extension.undertow] (MSC service thread 1-5) WFLYUT0019: Host default-host stopping




INFO  [stdout] (Thread-0) TransformListener() : handling connection on port 9091




ERROR [stderr] (Thread-182) Exception in thread "Thread-182" java.lang.NullPointerException




ERROR [stderr] (Thread-182) 	at com.sun.corba.se.impl.oa.poa.POAImpl$DestroyThread.run(POAImpl.java:566)




INFO  [stdout] (Thread-0) TransformListener() : handling connection on port 9091




INFO  [stdout] (Thread-0) TransformListener() : handling connection on port 9091




INFO  [stdout] (Thread-0) TransformListener() : handling connection on port 9091




INFO  [stdout] (Thread-0) TransformListener() : handling connection on port 9091




INFO  [stdout] (Thread-0) TransformListener() : handling connection on port 9091




INFO  [stdout] (Thread-0) TransformListener() : handling connection on port 9091




INFO  [stdout] (Thread-0) TransformListener() : handling connection on port 9091




INFO  [org.jboss.as.connector.subsystems.datasources] (MSC service thread 1-2) WFLYJCA0010: Unbound data source [java:jboss/datasources/ExampleDS]




INFO  [org.wildfly.extension.messaging-activemq] (MSC service thread 1-2) WFLYMSGAMQ0006: Unbound messaging object to jndi name java:jboss/DefaultJMSConnectionFactory




INFO  [org.jboss.as.connector.deployment] (MSC service thread 1-1) WFLYJCA0011: Unbound JCA ConnectionFactory [java:/JmsXA]




INFO  [org.jboss.as.connector.deployers.jdbc] (MSC service thread 1-2) WFLYJCA0019: Stopped Driver service with driver-name = h2




INFO  [org.apache.activemq.artemis.ra] (ServerService Thread Pool -- 66) AMQ151003: resource adaptor stopped




INFO  [com.arjuna.ats.jbossatx] (MSC service thread 1-2) ARJUNA032018: Destroying TransactionManagerService




INFO  [com.arjuna.ats.jbossatx] (MSC service thread 1-3) ARJUNA032014: Stopping transaction recovery manager




DEBUG [com.arjuna.ats.arjuna] (Listener:4712) Recovery listener existing com.arjuna.ats.internal.arjuna.recovery.WorkerService




DEBUG [com.arjuna.ats.arjuna] (MSC service thread 1-3) PeriodicRecovery: Mode &amp;lt;== TERMINATED




DEBUG [com.arjuna.ats.arjuna] (MSC service thread 1-3) PeriodicRecovery: shutdown scan wait complete




INFO  [org.jboss.as.server.deployment] (MSC service thread 1-6) WFLYSRV0028: Stopped deployment crashrecovery-txpropag-client.jar (runtime-name: crashrecovery-txpropag-client.jar) in 164ms




DEBUG [com.arjuna.ats.arjuna] (Periodic Recovery) PeriodicRecovery: background thread exiting




INFO  [org.apache.activemq.artemis.core.server] (ServerService Thread Pool -- 66) AMQ221002: Apache ActiveMQ Artemis Message Broker version 1.1.0 [d8f999f9-70eb-11e5-b4bd-574d43db2219] stopped




INFO  [org.wildfly.extension.undertow] (MSC service thread 1-1) WFLYUT0008: Undertow HTTP listener default suspending




INFO  [stdout] (Thread-0) TransformListener() : handling connection on port 9091




INFO  [org.wildfly.extension.undertow] (MSC service thread 1-1) WFLYUT0007: Undertow HTTP listener default stopped, was bound to 127.0.0.1:8080




INFO  [stdout] (Thread-0) TransformListener() : handling connection on port 9091




INFO  [org.wildfly.extension.undertow] (MSC service thread 1-1) WFLYUT0004: Undertow 1.3.0.CR2 stopping




INFO  [org.jboss.as] (MSC service thread 1-8) WFLYSRV0050: EAP 7.0.0.Alpha1 (WildFly Core 2.0.0.CR5) stopped in 302ms






The thing happens after EJB that is connected via IIOP to the second server is undeployed. The undeploy is interrupted by messages [stdout] (Thread-0) TransformListener() : handling connection on port 9091 which is message from byteman client that I&amp;amp;apos;ve installed on the server for me being able to instrument it. Maybe that has some influence on order of shutdown sequence nevertheless the log should be clean I think.</description>
			<version>10.0.0.CR2</version>
			<fixedVersion>10.0.0.CR5</fixedVersion>
			<type>Bug</type>
		</buginformation>
		<fixedFiles>
			<file type="M">org.jboss.as.ejb3.iiop.POARegistry.java</file>
		</fixedFiles>
		<links>
			<link type="Cloners" description="cloned from">1422</link>
		</links>
	</bug>
	<bug id="5918" opendate="2015-12-30 16:34:16" fixdate="2016-01-05 00:02:26" resolution="Done">
		<buginformation>
			<summary>ServletContext.getResourceAsStream fails on windows</summary>
			<description>Struts 1 ActionServlet fails to initialize with latest Wildfly 10.0.0 CR5 though it was working fine on the previous CR4 release. The failure occurs when Servlet tries to read the /WEB-INF/web.xml inside my web application.
Looking at the struts source code, getServletContext().getResourceAsStream("/WEB-INF/web.xml") returns null during the Servlet initialization. 
problem only occurs when server is started from path that is not case equal to real path on file system.</description>
			<version>10.0.0.CR5</version>
			<fixedVersion>10.0.0.Final</fixedVersion>
			<type>Bug</type>
		</buginformation>
		<fixedFiles>
			<file type="M">org.wildfly.extension.undertow.deployment.ServletResourceManager.java</file>
		</fixedFiles>
		<links>
			<link type="Cloners" description="cloned to">2535</link>
		</links>
	</bug>
	<bug id="5937" opendate="2016-01-05 17:42:13" fixdate="2016-01-08 12:44:58" resolution="Done">
		<buginformation>
			<summary>Potential StackOverflowError during distributed session invalidation</summary>
			<description>





12:01:56,218 ERROR [org.infinispan.interceptors.InvocationContextInterceptor] (default task-3) ISPN000136: Error executing command RemoveCommand, writing keys [Sf8r85DK_NGB_rSVIogBvj6HJ9q5MLL6lf81KEz5]: org.infinispan.commons.CacheListenerException: ISPN000280: Caught exception [java.lang.StackOverflowError] while invoking method [public void org.wildfly.clustering.web.infinispan.session.InfinispanSessionManager.removed(org.infinispan.notifications.cachelistener.event.CacheEntryRemovedEvent)] on listener instance: org.wildfly.clustering.web.infinispan.session.InfinispanSessionManager@15b5cd92




	at org.infinispan.notifications.impl.AbstractListenerImpl$ListenerInvocationImpl$1.run(AbstractListenerImpl.java:291)




	at org.infinispan.util.concurrent.WithinThreadExecutor.execute(WithinThreadExecutor.java:21)




	at org.infinispan.notifications.impl.AbstractListenerImpl$ListenerInvocationImpl.invoke(AbstractListenerImpl.java:309)




	at org.infinispan.notifications.cachelistener.CacheNotifierImpl$BaseCacheEntryListenerInvocation.doRealInvocation(CacheNotifierImpl.java:1234)




	at org.infinispan.notifications.cachelistener.CacheNotifierImpl$BaseCacheEntryListenerInvocation.invokeNoChecks(CacheNotifierImpl.java:1229)




	at org.infinispan.notifications.cachelistener.CacheNotifierImpl$BaseCacheEntryListenerInvocation.invoke(CacheNotifierImpl.java:1206)




	at org.infinispan.notifications.cachelistener.CacheNotifierImpl.notifyCacheEntryRemoved(CacheNotifierImpl.java:354)




	at org.infinispan.commands.write.RemoveCommand.notify(RemoveCommand.java:98)




	at org.infinispan.commands.write.RemoveCommand.performRemove(RemoveCommand.java:215)




	at org.infinispan.commands.write.RemoveCommand.perform(RemoveCommand.java:94)




	at org.infinispan.interceptors.CallInterceptor.handleDefault(CallInterceptor.java:124)




	at org.infinispan.commands.AbstractVisitor.visitRemoveCommand(AbstractVisitor.java:48)




	at org.infinispan.commands.write.RemoveCommand.acceptVisitor(RemoveCommand.java:59)




	at org.infinispan.interceptors.base.CommandInterceptor.invokeNextInterceptor(CommandInterceptor.java:99)




	at org.infinispan.interceptors.distribution.TxDistributionInterceptor.handleTxWriteCommand(TxDistributionInterceptor.java:283)




	at org.infinispan.interceptors.distribution.TxDistributionInterceptor.visitRemoveCommand(TxDistributionInterceptor.java:96)




	at org.infinispan.commands.write.RemoveCommand.acceptVisitor(RemoveCommand.java:59)




	at org.infinispan.interceptors.base.CommandInterceptor.invokeNextInterceptor(CommandInterceptor.java:99)




	at org.infinispan.interceptors.CacheLoaderInterceptor.visitDataCommand(CacheLoaderInterceptor.java:186)




	at org.infinispan.interceptors.CacheLoaderInterceptor.visitRemoveCommand(CacheLoaderInterceptor.java:171)




	at org.infinispan.commands.write.RemoveCommand.acceptVisitor(RemoveCommand.java:59)




	at org.infinispan.interceptors.base.CommandInterceptor.invokeNextInterceptor(CommandInterceptor.java:99)




	at org.infinispan.interceptors.EntryWrappingInterceptor.invokeNextAndApplyChanges(EntryWrappingInterceptor.java:495)




	at org.infinispan.interceptors.EntryWrappingInterceptor.setSkipRemoteGetsAndInvokeNextForDataCommand(EntryWrappingInterceptor.java:560)




	at org.infinispan.interceptors.EntryWrappingInterceptor.visitRemoveCommand(EntryWrappingInterceptor.java:255)




	at org.infinispan.commands.write.RemoveCommand.acceptVisitor(RemoveCommand.java:59)




	at org.infinispan.interceptors.base.CommandInterceptor.invokeNextInterceptor(CommandInterceptor.java:99)




	at org.infinispan.interceptors.base.CommandInterceptor.handleDefault(CommandInterceptor.java:113)




	at org.infinispan.commands.AbstractVisitor.visitRemoveCommand(AbstractVisitor.java:48)




	at org.infinispan.commands.write.RemoveCommand.acceptVisitor(RemoveCommand.java:59)




	at org.infinispan.interceptors.base.CommandInterceptor.invokeNextInterceptor(CommandInterceptor.java:99)




	at org.infinispan.interceptors.base.CommandInterceptor.handleDefault(CommandInterceptor.java:113)




	at org.infinispan.commands.AbstractVisitor.visitRemoveCommand(AbstractVisitor.java:48)




	at org.infinispan.commands.write.RemoveCommand.acceptVisitor(RemoveCommand.java:59)




	at org.infinispan.interceptors.base.CommandInterceptor.invokeNextInterceptor(CommandInterceptor.java:99)




	at org.infinispan.interceptors.locking.PessimisticLockingInterceptor.visitDataWriteCommand(PessimisticLockingInterceptor.java:123)




	at org.infinispan.interceptors.locking.AbstractLockingInterceptor.visitRemoveCommand(AbstractLockingInterceptor.java:72)




	at org.infinispan.commands.write.RemoveCommand.acceptVisitor(RemoveCommand.java:59)




	at org.infinispan.interceptors.base.CommandInterceptor.invokeNextInterceptor(CommandInterceptor.java:99)




	at org.infinispan.interceptors.TxInterceptor.enlistWriteAndInvokeNext(TxInterceptor.java:366)




	at org.infinispan.interceptors.TxInterceptor.visitRemoveCommand(TxInterceptor.java:230)




	at org.infinispan.commands.write.RemoveCommand.acceptVisitor(RemoveCommand.java:59)




	at org.infinispan.interceptors.base.CommandInterceptor.invokeNextInterceptor(CommandInterceptor.java:99)




	at org.infinispan.interceptors.base.CommandInterceptor.handleDefault(CommandInterceptor.java:113)




	at org.infinispan.commands.AbstractVisitor.visitRemoveCommand(AbstractVisitor.java:48)




	at org.infinispan.commands.write.RemoveCommand.acceptVisitor(RemoveCommand.java:59)




	at org.infinispan.interceptors.base.CommandInterceptor.invokeNextInterceptor(CommandInterceptor.java:99)




	at org.infinispan.statetransfer.StateTransferInterceptor.handleTxWriteCommand(StateTransferInterceptor.java:306)




	at org.infinispan.statetransfer.StateTransferInterceptor.handleWriteCommand(StateTransferInterceptor.java:288)




	at org.infinispan.statetransfer.StateTransferInterceptor.visitRemoveCommand(StateTransferInterceptor.java:122)




	at org.infinispan.commands.write.RemoveCommand.acceptVisitor(RemoveCommand.java:59)




	at org.infinispan.interceptors.base.CommandInterceptor.invokeNextInterceptor(CommandInterceptor.java:99)




	at org.infinispan.interceptors.InvocationContextInterceptor.handleAll(InvocationContextInterceptor.java:107)




	at org.infinispan.interceptors.InvocationContextInterceptor.handleDefault(InvocationContextInterceptor.java:76)




	at org.infinispan.commands.AbstractVisitor.visitRemoveCommand(AbstractVisitor.java:48)




	at org.infinispan.commands.write.RemoveCommand.acceptVisitor(RemoveCommand.java:59)




	at org.infinispan.interceptors.base.CommandInterceptor.invokeNextInterceptor(CommandInterceptor.java:99)




	at org.infinispan.interceptors.base.CommandInterceptor.handleDefault(CommandInterceptor.java:113)




	at org.infinispan.commands.AbstractVisitor.visitRemoveCommand(AbstractVisitor.java:48)




	at org.infinispan.commands.write.RemoveCommand.acceptVisitor(RemoveCommand.java:59)




	at org.infinispan.interceptors.InterceptorChain.invoke(InterceptorChain.java:336)




	at org.infinispan.cache.impl.CacheImpl.executeCommandAndCommitIfNeeded(CacheImpl.java:1672)




	at org.infinispan.cache.impl.CacheImpl.removeInternal(CacheImpl.java:557)




	at org.infinispan.cache.impl.CacheImpl.remove(CacheImpl.java:549)




	at org.infinispan.cache.impl.DecoratedCache.remove(DecoratedCache.java:458)




	at org.infinispan.cache.impl.AbstractDelegatingCache.remove(AbstractDelegatingCache.java:296)




	at org.wildfly.clustering.web.infinispan.session.InfinispanSessionMetaDataFactory.remove(InfinispanSessionMetaDataFactory.java:125)




	at org.wildfly.clustering.web.infinispan.session.InfinispanSessionMetaDataFactory.remove(InfinispanSessionMetaDataFactory.java:39)




	at org.wildfly.clustering.web.infinispan.session.InfinispanSessionFactory.findValue(InfinispanSessionFactory.java:68)




	at org.wildfly.clustering.web.infinispan.session.InfinispanSessionFactory.findValue(InfinispanSessionFactory.java:40)




	at org.wildfly.clustering.web.infinispan.session.InfinispanSessionManager.findSession(InfinispanSessionManager.java:234)




	at org.wildfly.clustering.web.undertow.session.DistributableSessionManager.getSession(DistributableSessionManager.java:140)




	at io.undertow.servlet.spec.ServletContextImpl.getSession(ServletContextImpl.java:726)




	at io.undertow.servlet.spec.ServletContextImpl.getSession(ServletContextImpl.java:756)




	at io.undertow.servlet.spec.ServletContextImpl.updateSessionAccessTime(ServletContextImpl.java:760)




	at io.undertow.servlet.spec.HttpServletResponseImpl.responseDone(HttpServletResponseImpl.java:557)




	at io.undertow.servlet.handlers.ServletInitialHandler.handleFirstRequest(ServletInitialHandler.java:331)




	at io.undertow.servlet.handlers.ServletInitialHandler.dispatchRequest(ServletInitialHandler.java:263)




	at io.undertow.servlet.handlers.ServletInitialHandler.access$000(ServletInitialHandler.java:81)




	at io.undertow.servlet.handlers.ServletInitialHandler$1.handleRequest(ServletInitialHandler.java:174)




	at io.undertow.server.Connectors.executeRootHandler(Connectors.java:202)




	at io.undertow.server.HttpServerExchange$1.run(HttpServerExchange.java:793)




	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)




	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)




	at java.lang.Thread.run(Thread.java:745)




Caused by: java.lang.StackOverflowError




	at org.infinispan.commons.util.concurrent.jdk8backported.EquivalentConcurrentHashMapV8.get(EquivalentConcurrentHashMapV8.java:948)




	at org.infinispan.transaction.impl.TransactionTable.getOrCreateLocalTransaction(TransactionTable.java:411)




	at org.infinispan.context.TransactionalInvocationContextFactory.createInvocationContext(TransactionalInvocationContextFactory.java:71)




	at org.infinispan.context.TransactionalInvocationContextFactory.createInvocationContext(TransactionalInvocationContextFactory.java:63)




	at org.infinispan.cache.impl.CacheImpl.getInvocationContextForWrite(CacheImpl.java:738)




	at org.infinispan.cache.impl.CacheImpl.lock(CacheImpl.java:825)




	at org.infinispan.cache.impl.CacheImpl.lock(CacheImpl.java:810)




	at org.infinispan.cache.impl.AbstractDelegatingAdvancedCache.lock(AbstractDelegatingAdvancedCache.java:177)




	at org.wildfly.clustering.web.infinispan.session.InfinispanSessionMetaDataFactory.getValue(InfinispanSessionMetaDataFactory.java:82)




	at org.wildfly.clustering.web.infinispan.session.InfinispanSessionMetaDataFactory.findValue(InfinispanSessionMetaDataFactory.java:67)




	at org.wildfly.clustering.web.infinispan.session.InfinispanSessionMetaDataFactory.findValue(InfinispanSessionMetaDataFactory.java:39)




	at org.wildfly.clustering.web.infinispan.session.InfinispanSessionFactory.findValue(InfinispanSessionFactory.java:61)




	at org.wildfly.clustering.web.infinispan.session.InfinispanSessionFactory.findValue(InfinispanSessionFactory.java:40)




	at org.wildfly.clustering.web.infinispan.session.InfinispanSessionManager.lambda$removed$26(InfinispanSessionManager.java:330)




	at org.wildfly.clustering.service.concurrent.StampedLockServiceExecutor.execute(StampedLockServiceExecutor.java:42)




	at org.wildfly.clustering.web.infinispan.session.InfinispanSessionManager.removed(InfinispanSessionManager.java:327)




	at sun.reflect.GeneratedMethodAccessor36.invoke(Unknown Source)




	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)




	at java.lang.reflect.Method.invoke(Method.java:497)




	at org.infinispan.notifications.impl.AbstractListenerImpl$ListenerInvocationImpl$1.run(AbstractListenerImpl.java:286)




	at org.infinispan.util.concurrent.WithinThreadExecutor.execute(WithinThreadExecutor.java:21)




	at org.infinispan.notifications.impl.AbstractListenerImpl$ListenerInvocationImpl.invoke(AbstractListenerImpl.java:309)




	at org.infinispan.notifications.cachelistener.CacheNotifierImpl$BaseCacheEntryListenerInvocation.doRealInvocation(CacheNotifierImpl.java:1234)




	at org.infinispan.notifications.cachelistener.CacheNotifierImpl$BaseCacheEntryListenerInvocation.invokeNoChecks(CacheNotifierImpl.java:1229)




	at org.infinispan.notifications.cachelistener.CacheNotifierImpl$BaseCacheEntryListenerInvocation.invoke(CacheNotifierImpl.java:1206)




	at org.infinispan.notifications.cachelistener.CacheNotifierImpl.notifyCacheEntryRemoved(CacheNotifierImpl.java:354)




	at org.infinispan.commands.write.RemoveCommand.notify(RemoveCommand.java:98)




	at org.infinispan.commands.write.RemoveCommand.performRemove(RemoveCommand.java:215)




	at org.infinispan.commands.write.RemoveCommand.perform(RemoveCommand.java:94)




	at org.infinispan.interceptors.CallInterceptor.handleDefault(CallInterceptor.java:124)




	at org.infinispan.commands.AbstractVisitor.visitRemoveCommand(AbstractVisitor.java:48)




	at org.infinispan.commands.write.RemoveCommand.acceptVisitor(RemoveCommand.java:59)




	at org.infinispan.interceptors.base.CommandInterceptor.invokeNextInterceptor(CommandInterceptor.java:99)




	at org.infinispan.interceptors.distribution.TxDistributionInterceptor.handleTxWriteCommand(TxDistributionInterceptor.java:283)




	at org.infinispan.interceptors.distribution.TxDistributionInterceptor.visitRemoveCommand(TxDistributionInterceptor.java:96)




	at org.infinispan.commands.write.RemoveCommand.acceptVisitor(RemoveCommand.java:59)




	at org.infinispan.interceptors.base.CommandInterceptor.invokeNextInterceptor(CommandInterceptor.java:99)




	at org.infinispan.interceptors.CacheLoaderInterceptor.visitDataCommand(CacheLoaderInterceptor.java:186)




	at org.infinispan.interceptors.CacheLoaderInterceptor.visitRemoveCommand(CacheLoaderInterceptor.java:171)




	at org.infinispan.commands.write.RemoveCommand.acceptVisitor(RemoveCommand.java:59)




	at org.infinispan.interceptors.base.CommandInterceptor.invokeNextInterceptor(CommandInterceptor.java:99)




	at org.infinispan.interceptors.EntryWrappingInterceptor.invokeNextAndApplyChanges(EntryWrappingInterceptor.java:495)




	at org.infinispan.interceptors.EntryWrappingInterceptor.setSkipRemoteGetsAndInvokeNextForDataCommand(EntryWrappingInterceptor.java:560)




	at org.infinispan.interceptors.EntryWrappingInterceptor.visitRemoveCommand(EntryWrappingInterceptor.java:255)




	at org.infinispan.commands.write.RemoveCommand.acceptVisitor(RemoveCommand.java:59)




	at org.infinispan.interceptors.base.CommandInterceptor.invokeNextInterceptor(CommandInterceptor.java:99)




	at org.infinispan.interceptors.base.CommandInterceptor.handleDefault(CommandInterceptor.java:113)




	at org.infinispan.commands.AbstractVisitor.visitRemoveCommand(AbstractVisitor.java:48)




	at org.infinispan.commands.write.RemoveCommand.acceptVisitor(RemoveCommand.java:59)




	at org.infinispan.interceptors.base.CommandInterceptor.invokeNextInterceptor(CommandInterceptor.java:99)




	at org.infinispan.interceptors.base.CommandInterceptor.handleDefault(CommandInterceptor.java:113)




	at org.infinispan.commands.AbstractVisitor.visitRemoveCommand(AbstractVisitor.java:48)




	at org.infinispan.commands.write.RemoveCommand.acceptVisitor(RemoveCommand.java:59)




	at org.infinispan.interceptors.base.CommandInterceptor.invokeNextInterceptor(CommandInterceptor.java:99)




	at org.infinispan.interceptors.locking.PessimisticLockingInterceptor.visitDataWriteCommand(PessimisticLockingInterceptor.java:123)




	at org.infinispan.interceptors.locking.AbstractLockingInterceptor.visitRemoveCommand(AbstractLockingInterceptor.java:72)




	at org.infinispan.commands.write.RemoveCommand.acceptVisitor(RemoveCommand.java:59)




	at org.infinispan.interceptors.base.CommandInterceptor.invokeNextInterceptor(CommandInterceptor.java:99)




	at org.infinispan.interceptors.TxInterceptor.enlistWriteAndInvokeNext(TxInterceptor.java:366)




	at org.infinispan.interceptors.TxInterceptor.visitRemoveCommand(TxInterceptor.java:230)




	at org.infinispan.commands.write.RemoveCommand.acceptVisitor(RemoveCommand.java:59)




	at org.infinispan.interceptors.base.CommandInterceptor.invokeNextInterceptor(CommandInterceptor.java:99)




	at org.infinispan.interceptors.base.CommandInterceptor.handleDefault(CommandInterceptor.java:113)




	at org.infinispan.commands.AbstractVisitor.visitRemoveCommand(AbstractVisitor.java:48)




	at org.infinispan.commands.write.RemoveCommand.acceptVisitor(RemoveCommand.java:59)




	at org.infinispan.interceptors.base.CommandInterceptor.invokeNextInterceptor(CommandInterceptor.java:99)




	at org.infinispan.statetransfer.StateTransferInterceptor.handleTxWriteCommand(StateTransferInterceptor.java:306)




	at org.infinispan.statetransfer.StateTransferInterceptor.handleWriteCommand(StateTransferInterceptor.java:288)




	at org.infinispan.statetransfer.StateTransferInterceptor.visitRemoveCommand(StateTransferInterceptor.java:122)




	at org.infinispan.commands.write.RemoveCommand.acceptVisitor(RemoveCommand.java:59)




	at org.infinispan.interceptors.base.CommandInterceptor.invokeNextInterceptor(CommandInterceptor.java:99)




	at org.infinispan.interceptors.InvocationContextInterceptor.handleAll(InvocationContextInterceptor.java:107)




	at org.infinispan.interceptors.InvocationContextInterceptor.handleDefault(InvocationContextInterceptor.java:76)




	at org.infinispan.commands.AbstractVisitor.visitRemoveCommand(AbstractVisitor.java:48)




	at org.infinispan.commands.write.RemoveCommand.acceptVisitor(RemoveCommand.java:59)




	at org.infinispan.interceptors.base.CommandInterceptor.invokeNextInterceptor(CommandInterceptor.java:99)




	at org.infinispan.interceptors.base.CommandInterceptor.handleDefault(CommandInterceptor.java:113)




	at org.infinispan.commands.AbstractVisitor.visitRemoveCommand(AbstractVisitor.java:48)




	at org.infinispan.commands.write.RemoveCommand.acceptVisitor(RemoveCommand.java:59)




	at org.infinispan.interceptors.InterceptorChain.invoke(InterceptorChain.java:336)




	at org.infinispan.cache.impl.CacheImpl.executeCommandAndCommitIfNeeded(CacheImpl.java:1672)




	at org.infinispan.cache.impl.CacheImpl.removeInternal(CacheImpl.java:557)




	at org.infinispan.cache.impl.CacheImpl.remove(CacheImpl.java:549)




	at org.infinispan.cache.impl.DecoratedCache.remove(DecoratedCache.java:458)




	at org.infinispan.cache.impl.AbstractDelegatingCache.remove(AbstractDelegatingCache.java:296)




	at org.wildfly.clustering.web.infinispan.session.InfinispanSessionMetaDataFactory.remove(InfinispanSessionMetaDataFactory.java:125)




	at org.wildfly.clustering.web.infinispan.session.InfinispanSessionMetaDataFactory.remove(InfinispanSessionMetaDataFactory.java:39)




	at org.wildfly.clustering.web.infinispan.session.InfinispanSessionFactory.findValue(InfinispanSessionFactory.java:68)




	at org.wildfly.clustering.web.infinispan.session.InfinispanSessionFactory.findValue(InfinispanSessionFactory.java:40)




	at org.wildfly.clustering.web.infinispan.session.InfinispanSessionManager.lambda$removed$26(InfinispanSessionManager.java:330)




	at org.wildfly.clustering.service.concurrent.StampedLockServiceExecutor.execute(StampedLockServiceExecutor.java:42)




	at org.wildfly.clustering.web.infinispan.session.InfinispanSessionManager.removed(InfinispanSessionManager.java:327)




	at sun.reflect.GeneratedMethodAccessor36.invoke(Unknown Source)




	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)




	at java.lang.reflect.Method.invoke(Method.java:497)




	at org.infinispan.notifications.impl.AbstractListenerImpl$ListenerInvocationImpl$1.run(AbstractListenerImpl.java:286)




	at org.infinispan.util.concurrent.WithinThreadExecutor.execute(WithinThreadExecutor.java:21)




	at org.infinispan.notifications.impl.AbstractListenerImpl$ListenerInvocationImpl.invoke(AbstractListenerImpl.java:309)




	at org.infinispan.notifications.cachelistener.CacheNotifierImpl$BaseCacheEntryListenerInvocation.doRealInvocation(CacheNotifierImpl.java:1234)




	at org.infinispan.notifications.cachelistener.CacheNotifierImpl$BaseCacheEntryListenerInvocation.invokeNoChecks(CacheNotifierImpl.java:1229)




	at org.infinispan.notifications.cachelistener.CacheNotifierImpl$BaseCacheEntryListenerInvocation.invoke(CacheNotifierImpl.java:1206)




	at org.infinispan.notifications.cachelistener.CacheNotifierImpl.notifyCacheEntryRemoved(CacheNotifierImpl.java:354)




	at org.infinispan.commands.write.RemoveCommand.notify(RemoveCommand.java:98)




	at org.infinispan.commands.write.RemoveCommand.performRemove(RemoveCommand.java:215)




	at org.infinispan.commands.write.RemoveCommand.perform(RemoveCommand.java:94)




	at org.infinispan.interceptors.CallInterceptor.handleDefault(CallInterceptor.java:124)




	at org.infinispan.commands.AbstractVisitor.visitRemoveCommand(AbstractVisitor.java:48)




	at org.infinispan.commands.write.RemoveCommand.acceptVisitor(RemoveCommand.java:59)




	at org.infinispan.interceptors.base.CommandInterceptor.invokeNextInterceptor(CommandInterceptor.java:99)




	at org.infinispan.interceptors.distribution.TxDistributionInterceptor.handleTxWriteCommand(TxDistributionInterceptor.java:283)




	at org.infinispan.interceptors.distribution.TxDistributionInterceptor.visitRemoveCommand(TxDistributionInterceptor.java:96)




	at org.infinispan.commands.write.RemoveCommand.acceptVisitor(RemoveCommand.java:59)




	at org.infinispan.interceptors.base.CommandInterceptor.invokeNextInterceptor(CommandInterceptor.java:99)




	at org.infinispan.interceptors.CacheLoaderInterceptor.visitDataCommand(CacheLoaderInterceptor.java:186)




	at org.infinispan.interceptors.CacheLoaderInterceptor.visitRemoveCommand(CacheLoaderInterceptor.java:171)




	at org.infinispan.commands.write.RemoveCommand.acceptVisitor(RemoveCommand.java:59)




	at org.infinispan.interceptors.base.CommandInterceptor.invokeNextInterceptor(CommandInterceptor.java:99)




	at org.infinispan.interceptors.EntryWrappingInterceptor.invokeNextAndApplyChanges(EntryWrappingInterceptor.java:495)




	at org.infinispan.interceptors.EntryWrappingInterceptor.setSkipRemoteGetsAndInvokeNextForDataCommand(EntryWrappingInterceptor.java:560)




	at org.infinispan.interceptors.EntryWrappingInterceptor.visitRemoveCommand(EntryWrappingInterceptor.java:255)




	at org.infinispan.commands.write.RemoveCommand.acceptVisitor(RemoveCommand.java:59)




	at org.infinispan.interceptors.base.CommandInterceptor.invokeNextInterceptor(CommandInterceptor.java:99)




	at org.infinispan.interceptors.base.CommandInterceptor.handleDefault(CommandInterceptor.java:113)




	at org.infinispan.commands.AbstractVisitor.visitRemoveCommand(AbstractVisitor.java:48)




	at org.infinispan.commands.write.RemoveCommand.acceptVisitor(RemoveCommand.java:59)




	at org.infinispan.interceptors.base.CommandInterceptor.invokeNextInterceptor(CommandInterceptor.java:99)




	at org.infinispan.interceptors.base.CommandInterceptor.handleDefault(CommandInterceptor.java:113)




	at org.infinispan.commands.AbstractVisitor.visitRemoveCommand(AbstractVisitor.java:48)




	at org.infinispan.commands.write.RemoveCommand.acceptVisitor(RemoveCommand.java:59)




	at org.infinispan.interceptors.base.CommandInterceptor.invokeNextInterceptor(CommandInterceptor.java:99)




	at org.infinispan.interceptors.locking.PessimisticLockingInterceptor.visitDataWriteCommand(PessimisticLockingInterceptor.java:123)




	at org.infinispan.interceptors.locking.AbstractLockingInterceptor.visitRemoveCommand(AbstractLockingInterceptor.java:72)




	at org.infinispan.commands.write.RemoveCommand.acceptVisitor(RemoveCommand.java:59)




	at org.infinispan.interceptors.base.CommandInterceptor.invokeNextInterceptor(CommandInterceptor.java:99)




	at org.infinispan.interceptors.TxInterceptor.enlistWriteAndInvokeNext(TxInterceptor.java:366)




	at org.infinispan.interceptors.TxInterceptor.visitRemoveCommand(TxInterceptor.java:230)




	at org.infinispan.commands.write.RemoveCommand.acceptVisitor(RemoveCommand.java:59)




	at org.infinispan.interceptors.base.CommandInterceptor.invokeNextInterceptor(CommandInterceptor.java:99)




	at org.infinispan.interceptors.base.CommandInterceptor.handleDefault(CommandInterceptor.java:113)




	at org.infinispan.commands.AbstractVisitor.visitRemoveCommand(AbstractVisitor.java:48)




	at org.infinispan.commands.write.RemoveCommand.acceptVisitor(RemoveCommand.java:59)




	at org.infinispan.interceptors.base.CommandInterceptor.invokeNextInterceptor(CommandInterceptor.java:99)




	at org.infinispan.statetransfer.StateTransferInterceptor.handleTxWriteCommand(StateTransferInterceptor.java:306)




	at org.infinispan.statetransfer.StateTransferInterceptor.handleWriteCommand(StateTransferInterceptor.java:288)




	at org.infinispan.statetransfer.StateTransferInterceptor.visitRemoveCommand(StateTransferInterceptor.java:122)




	at org.infinispan.commands.write.RemoveCommand.acceptVisitor(RemoveCommand.java:59)




	at org.infinispan.interceptors.base.CommandInterceptor.invokeNextInterceptor(CommandInterceptor.java:99)




	at org.infinispan.interceptors.InvocationContextInterceptor.handleAll(InvocationContextInterceptor.java:107)




	at org.infinispan.interceptors.InvocationContextInterceptor.handleDefault(InvocationContextInterceptor.java:76)




	at org.infinispan.commands.AbstractVisitor.visitRemoveCommand(AbstractVisitor.java:48)




	at org.infinispan.commands.write.RemoveCommand.acceptVisitor(RemoveCommand.java:59)




	at org.infinispan.interceptors.base.CommandInterceptor.invokeNextInterceptor(CommandInterceptor.java:99)




	at org.infinispan.interceptors.base.CommandInterceptor.handleDefault(CommandInterceptor.java:113)




	at org.infinispan.commands.AbstractVisitor.visitRemoveCommand(AbstractVisitor.java:48)




	at org.infinispan.commands.write.RemoveCommand.acceptVisitor(RemoveCommand.java:59)




	at org.infinispan.interceptors.InterceptorChain.invoke(InterceptorChain.java:336)




	at org.infinispan.cache.impl.CacheImpl.executeCommandAndCommitIfNeeded(CacheImpl.java:1672)




	at org.infinispan.cache.impl.CacheImpl.removeInternal(CacheImpl.java:557)




	at org.infinispan.cache.impl.CacheImpl.remove(CacheImpl.java:549)




	at org.infinispan.cache.impl.DecoratedCache.remove(DecoratedCache.java:458)




	at org.infinispan.cache.impl.AbstractDelegatingCache.remove(AbstractDelegatingCache.java:296)




	at org.wildfly.clustering.web.infinispan.session.InfinispanSessionMetaDataFactory.remove(InfinispanSessionMetaDataFactory.java:125)




	at org.wildfly.clustering.web.infinispan.session.InfinispanSessionMetaDataFactory.remove(InfinispanSessionMetaDataFactory.java:39)




	at org.wildfly.clustering.web.infinispan.session.InfinispanSessionFactory.findValue(InfinispanSessionFactory.java:68)




	at org.wildfly.clustering.web.infinispan.session.InfinispanSessionFactory.findValue(InfinispanSessionFactory.java:40)




	at org.wildfly.clustering.web.infinispan.session.InfinispanSessionManager.lambda$removed$26(InfinispanSessionManager.java:330)




	at org.wildfly.clustering.service.concurrent.StampedLockServiceExecutor.execute(StampedLockServiceExecutor.java:42)




	at org.wildfly.clustering.web.infinispan.session.InfinispanSessionManager.removed(InfinispanSessionManager.java:327)




	at sun.reflect.GeneratedMethodAccessor36.invoke(Unknown Source)




	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)




	at java.lang.reflect.Method.invoke(Method.java:497)




	at org.infinispan.notifications.impl.AbstractListenerImpl$ListenerInvocationImpl$1.run(AbstractListenerImpl.java:286)




	at org.infinispan.util.concurrent.WithinThreadExecutor.execute(WithinThreadExecutor.java:21)




	at org.infinispan.notifications.impl.AbstractListenerImpl$ListenerInvocationImpl.invoke(AbstractListenerImpl.java:309)




	at org.infinispan.notifications.cachelistener.CacheNotifierImpl$BaseCacheEntryListenerInvocation.doRealInvocation(CacheNotifierImpl.java:1234)




	at org.infinispan.notifications.cachelistener.CacheNotifierImpl$BaseCacheEntryListenerInvocation.invokeNoChecks(CacheNotifierImpl.java:1229)




	at org.infinispan.notifications.cachelistener.CacheNotifierImpl$BaseCacheEntryListenerInvocation.invoke(CacheNotifierImpl.java:1206)




	at org.infinispan.notifications.cachelistener.CacheNotifierImpl.notifyCacheEntryRemoved(CacheNotifierImpl.java:354)




	at org.infinispan.commands.write.RemoveCommand.notify(RemoveCommand.java:98)




	at org.infinispan.commands.write.RemoveCommand.performRemove(RemoveCommand.java:215)




	at org.infinispan.commands.write.RemoveCommand.perform(RemoveCommand.java:94)




	at org.infinispan.interceptors.CallInterceptor.handleDefault(CallInterceptor.java:124)




	at org.infinispan.commands.AbstractVisitor.visitRemoveCommand(AbstractVisitor.java:48)




	at org.infinispan.commands.write.RemoveCommand.acceptVisitor(RemoveCommand.java:59)




	at org.infinispan.interceptors.base.CommandInterceptor.invokeNextInterceptor(CommandInterceptor.java:99)




	at org.infinispan.interceptors.distribution.TxDistributionInterceptor.handleTxWriteCommand(TxDistributionInterceptor.java:283)




	at org.infinispan.interceptors.distribution.TxDistributionInterceptor.visitRemoveCommand(TxDistributionInterceptor.java:96)




	at org.infinispan.commands.write.RemoveCommand.acceptVisitor(RemoveCommand.java:59)




	at org.infinispan.interceptors.base.CommandInterceptor.invokeNextInterceptor(CommandInterceptor.java:99)




	at org.infinispan.interceptors.CacheLoaderInterceptor.visitDataCommand(CacheLoaderInterceptor.java:186)




	at org.infinispan.interceptors.CacheLoaderInterceptor.visitRemoveCommand(CacheLoaderInterceptor.java:171)




	at org.infinispan.commands.write.RemoveCommand.acceptVisitor(RemoveCommand.java:59)




	at org.infinispan.interceptors.base.CommandInterceptor.invokeNextInterceptor(CommandInterceptor.java:99)




	at org.infinispan.interceptors.EntryWrappingInterceptor.invokeNextAndApplyChanges(EntryWrappingInterceptor.java:495)




	at org.infinispan.interceptors.EntryWrappingInterceptor.setSkipRemoteGetsAndInvokeNextForDataCommand(EntryWrappingInterceptor.java:560)




	at org.infinispan.interceptors.EntryWrappingInterceptor.visitRemoveCommand(EntryWrappingInterceptor.java:255)




	at org.infinispan.commands.write.RemoveCommand.acceptVisitor(RemoveCommand.java:59)




	at org.infinispan.interceptors.base.CommandInterceptor.invokeNextInterceptor(CommandInterceptor.java:99)




	at org.infinispan.interceptors.base.CommandInterceptor.handleDefault(CommandInterceptor.java:113)




	at org.infinispan.commands.AbstractVisitor.visitRemoveCommand(AbstractVisitor.java:48)




	at org.infinispan.commands.write.RemoveCommand.acceptVisitor(RemoveCommand.java:59)




	at org.infinispan.interceptors.base.CommandInterceptor.invokeNextInterceptor(CommandInterceptor.java:99)




	at org.infinispan.interceptors.base.CommandInterceptor.handleDefault(CommandInterceptor.java:113)




	at org.infinispan.commands.AbstractVisitor.visitRemoveCommand(AbstractVisitor.java:48)




	at org.infinispan.commands.write.RemoveCommand.acceptVisitor(RemoveCommand.java:59)




	at org.infinispan.interceptors.base.CommandInterceptor.invokeNextInterceptor(CommandInterceptor.java:99)




	at org.infinispan.interceptors.locking.PessimisticLockingInterceptor.visitDataWriteCommand(PessimisticLockingInterceptor.java:123)




	at org.infinispan.interceptors.locking.AbstractLockingInterceptor.visitRemoveCommand(AbstractLockingInterceptor.java:72)




	at org.infinispan.commands.write.RemoveCommand.acceptVisitor(RemoveCommand.java:59)




	at org.infinispan.interceptors.base.CommandInterceptor.invokeNextInterceptor(CommandInterceptor.java:99)




	at org.infinispan.interceptors.TxInterceptor.enlistWriteAndInvokeNext(TxInterceptor.java:366)




	at org.infinispan.interceptors.TxInterceptor.visitRemoveCommand(TxInterceptor.java:230)




	at org.infinispan.commands.write.RemoveCommand.acceptVisitor(RemoveCommand.java:59)




	at org.infinispan.interceptors.base.CommandInterceptor.invokeNextInterceptor(CommandInterceptor.java:99)




	at org.infinispan.interceptors.base.CommandInterceptor.handleDefault(CommandInterceptor.java:113)




	at org.infinispan.commands.AbstractVisitor.visitRemoveCommand(AbstractVisitor.java:48)




	at org.infinispan.commands.write.RemoveCommand.acceptVisitor(RemoveCommand.java:59)




	at org.infinispan.interceptors.base.CommandInterceptor.invokeNextInterceptor(CommandInterceptor.java:99)




	at org.infinispan.statetransfer.StateTransferInterceptor.handleTxWriteCommand(StateTransferInterceptor.java:306)




	at org.infinispan.statetransfer.StateTransferInterceptor.handleWriteCommand(StateTransferInterceptor.java:288)




	at org.infinispan.statetransfer.StateTransferInterceptor.visitRemoveCommand(StateTransferInterceptor.java:122)




	at org.infinispan.commands.write.RemoveCommand.acceptVisitor(RemoveCommand.java:59)




	at org.infinispan.interceptors.base.CommandInterceptor.invokeNextInterceptor(CommandInterceptor.java:99)




	at org.infinispan.interceptors.InvocationContextInterceptor.handleAll(InvocationContextInterceptor.java:107)




	at org.infinispan.interceptors.InvocationContextInterceptor.handleDefault(InvocationContextInterceptor.java:76)




	at org.infinispan.commands.AbstractVisitor.visitRemoveCommand(AbstractVisitor.java:48)




	at org.infinispan.commands.write.RemoveCommand.acceptVisitor(RemoveCommand.java:59)




	at org.infinispan.interceptors.base.CommandInterceptor.invokeNextInterceptor(CommandInterceptor.java:99)




	at org.infinispan.interceptors.base.CommandInterceptor.handleDefault(CommandInterceptor.java:113)




	at org.infinispan.commands.AbstractVisitor.visitRemoveCommand(AbstractVisitor.java:48)




	at org.infinispan.commands.write.RemoveCommand.acceptVisitor(RemoveCommand.java:59)




	at org.infinispan.interceptors.InterceptorChain.invoke(InterceptorChain.java:336)




	at org.infinispan.cache.impl.CacheImpl.executeCommandAndCommitIfNeeded(CacheImpl.java:1672)




	at org.infinispan.cache.impl.CacheImpl.removeInternal(CacheImpl.java:557)




	at org.infinispan.cache.impl.CacheImpl.remove(CacheImpl.java:549)




	at org.infinispan.cache.impl.DecoratedCache.remove(DecoratedCache.java:458)




	at org.infinispan.cache.impl.AbstractDelegatingCache.remove(AbstractDelegatingCache.java:296)




	at org.wildfly.clustering.web.infinispan.session.InfinispanSessionMetaDataFactory.remove(InfinispanSessionMetaDataFactory.java:125)




	at org.wildfly.clustering.web.infinispan.session.InfinispanSessionMetaDataFactory.remove(InfinispanSessionMetaDataFactory.java:39)




	at org.wildfly.clustering.web.infinispan.session.InfinispanSessionFactory.findValue(InfinispanSessionFactory.java:68)




	at org.wildfly.clustering.web.infinispan.session.InfinispanSessionFactory.findValue(InfinispanSessionFactory.java:40)




	at org.wildfly.clustering.web.infinispan.session.InfinispanSessionManager.lambda$removed$26(InfinispanSessionManager.java:330)




	at org.wildfly.clustering.service.concurrent.StampedLockServiceExecutor.execute(StampedLockServiceExecutor.java:42)




	at org.wildfly.clustering.web.infinispan.session.InfinispanSessionManager.removed(InfinispanSessionManager.java:327)




	at sun.reflect.GeneratedMethodAccessor36.invoke(Unknown Source)




	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)




	at java.lang.reflect.Method.invoke(Method.java:497)




	at org.infinispan.notifications.impl.AbstractListenerImpl$ListenerInvocationImpl$1.run(AbstractListenerImpl.java:286)




	at org.infinispan.util.concurrent.WithinThreadExecutor.execute(WithinThreadExecutor.java:21)




	at org.infinispan.notifications.impl.AbstractListenerImpl$ListenerInvocationImpl.invoke(AbstractListenerImpl.java:309)




	at org.infinispan.notifications.cachelistener.CacheNotifierImpl$BaseCacheEntryListenerInvocation.doRealInvocation(CacheNotifierImpl.java:1234)




	at org.infinispan.notifications.cachelistener.CacheNotifierImpl$BaseCacheEntryListenerInvocation.invokeNoChecks(CacheNotifierImpl.java:1229)




	at org.infinispan.notifications.cachelistener.CacheNotifierImpl$BaseCacheEntryListenerInvocation.invoke(CacheNotifierImpl.java:1206)




	at org.infinispan.notifications.cachelistener.CacheNotifierImpl.notifyCacheEntryRemoved(CacheNotifierImpl.java:354)




	at org.infinispan.commands.write.RemoveCommand.notify(RemoveCommand.java:98)




	at org.infinispan.commands.write.RemoveCommand.performRemove(RemoveCommand.java:215)




	at org.infinispan.commands.write.RemoveCommand.perform(RemoveCommand.java:94)




	at org.infinispan.interceptors.CallInterceptor.handleDefault(CallInterceptor.java:124)




	at org.infinispan.commands.AbstractVisitor.visitRemoveCommand(AbstractVisitor.java:48)




	at org.infinispan.commands.write.RemoveCommand.acceptVisitor(RemoveCommand.java:59)




	at org.infinispan.interceptors.base.CommandInterceptor.invokeNextInterceptor(CommandInterceptor.java:99)




	at org.infinispan.interceptors.distribution.TxDistributionInterceptor.handleTxWriteCommand(TxDistributionInterceptor.java:283)




	at org.infinispan.interceptors.distribution.TxDistributionInterceptor.visitRemoveCommand(TxDistributionInterceptor.java:96)




	at org.infinispan.commands.write.RemoveCommand.acceptVisitor(RemoveCommand.java:59)




	at org.infinispan.interceptors.base.CommandInterceptor.invokeNextInterceptor(CommandInterceptor.java:99)




	at org.infinispan.interceptors.CacheLoaderInterceptor.visitDataCommand(CacheLoaderInterceptor.java:186)




	at org.infinispan.interceptors.CacheLoaderInterceptor.visitRemoveCommand(CacheLoaderInterceptor.java:171)




	at org.infinispan.commands.write.RemoveCommand.acceptVisitor(RemoveCommand.java:59)




	at org.infinispan.interceptors.base.CommandInterceptor.invokeNextInterceptor(CommandInterceptor.java:99)




	at org.infinispan.interceptors.EntryWrappingInterceptor.invokeNextAndApplyChanges(EntryWrappingInterceptor.java:495)




	at org.infinispan.interceptors.EntryWrappingInterceptor.setSkipRemoteGetsAndInvokeNextForDataCommand(EntryWrappingInterceptor.java:560)




	at org.infinispan.interceptors.EntryWrappingInterceptor.visitRemoveCommand(EntryWrappingInterceptor.java:255)




	at org.infinispan.commands.write.RemoveCommand.acceptVisitor(RemoveCommand.java:59)




	at org.infinispan.interceptors.base.CommandInterceptor.invokeNextInterceptor(CommandInterceptor.java:99)




	at org.infinispan.interceptors.base.CommandInterceptor.handleDefault(CommandInterceptor.java:113)




	at org.infinispan.commands.AbstractVisitor.visitRemoveCommand(AbstractVisitor.java:48)




	at org.infinispan.commands.write.RemoveCommand.acceptVisitor(RemoveCommand.java:59)




	at org.infinispan.interceptors.base.CommandInterceptor.invokeNextInterceptor(CommandInterceptor.java:99)




	at org.infinispan.interceptors.base.CommandInterceptor.handleDefault(CommandInterceptor.java:113)




	at org.infinispan.commands.AbstractVisitor.visitRemoveCommand(AbstractVisitor.java:48)




	at org.infinispan.commands.write.RemoveCommand.acceptVisitor(RemoveCommand.java:59)




	at org.infinispan.interceptors.base.CommandInterceptor.invokeNextInterceptor(CommandInterceptor.java:99)




	at org.infinispan.interceptors.locking.PessimisticLockingInterceptor.visitDataWriteCommand(PessimisticLockingInterceptor.java:123)




	at org.infinispan.interceptors.locking.AbstractLockingInterceptor.visitRemoveCommand(AbstractLockingInterceptor.java:72)




	at org.infinispan.commands.write.RemoveCommand.acceptVisitor(RemoveCommand.java:59)




	at org.infinispan.interceptors.base.CommandInterceptor.invokeNextInterceptor(CommandInterceptor.java:99)




	at org.infinispan.interceptors.TxInterceptor.enlistWriteAndInvokeNext(TxInterceptor.java:366)




	at org.infinispan.interceptors.TxInterceptor.visitRemoveCommand(TxInterceptor.java:230)




	at org.infinispan.commands.write.RemoveCommand.acceptVisitor(RemoveCommand.java:59)




	at org.infinispan.interceptors.base.CommandInterceptor.invokeNextInterceptor(CommandInterceptor.java:99)




	at org.infinispan.interceptors.base.CommandInterceptor.handleDefault(CommandInterceptor.java:113)




	at org.infinispan.commands.AbstractVisitor.visitRemoveCommand(AbstractVisitor.java:48)




	at org.infinispan.commands.write.RemoveCommand.acceptVisitor(RemoveCommand.java:59)




	at org.infinispan.interceptors.base.CommandInterceptor.invokeNextInterceptor(CommandInterceptor.java:99)




	at org.infinispan.statetransfer.StateTransferInterceptor.handleTxWriteCommand(StateTransferInterceptor.java:306)




	at org.infinispan.statetransfer.StateTransferInterceptor.handleWriteCommand(StateTransferInterceptor.java:288)




	at org.infinispan.statetransfer.StateTransferInterceptor.visitRemoveCommand(StateTransferInterceptor.java:122)




	at org.infinispan.commands.write.RemoveCommand.acceptVisitor(RemoveCommand.java:59)




	at org.infinispan.interceptors.base.CommandInterceptor.invokeNextInterceptor(CommandInterceptor.java:99)




	at org.infinispan.interceptors.InvocationContextInterceptor.handleAll(InvocationContextInterceptor.java:107)




	at org.infinispan.interceptors.InvocationContextInterceptor.handleDefault(InvocationContextInterceptor.java:76)




	at org.infinispan.commands.AbstractVisitor.visitRemoveCommand(AbstractVisitor.java:48)




	at org.infinispan.commands.write.RemoveCommand.acceptVisitor(RemoveCommand.java:59)




	at org.infinispan.interceptors.base.CommandInterceptor.invokeNextInterceptor(CommandInterceptor.java:99)




	at org.infinispan.interceptors.base.CommandInterceptor.handleDefault(CommandInterceptor.java:113)




	at org.infinispan.commands.AbstractVisitor.visitRemoveCommand(AbstractVisitor.java:48)




	at org.infinispan.commands.write.RemoveCommand.acceptVisitor(RemoveCommand.java:59)




	at org.infinispan.interceptors.InterceptorChain.invoke(InterceptorChain.java:336)




	at org.infinispan.cache.impl.CacheImpl.executeCommandAndCommitIfNeeded(CacheImpl.java:1672)




	at org.infinispan.cache.impl.CacheImpl.removeInternal(CacheImpl.java:557)




	at org.infinispan.cache.impl.CacheImpl.remove(CacheImpl.java:549)




	at org.infinispan.cache.impl.DecoratedCache.remove(DecoratedCache.java:458)




	at org.infinispan.cache.impl.AbstractDelegatingCache.remove(AbstractDelegatingCache.java:296)




	at org.wildfly.clustering.web.infinispan.session.InfinispanSessionMetaDataFactory.remove(InfinispanSessionMetaDataFactory.java:125)




	at org.wildfly.clustering.web.infinispan.session.InfinispanSessionMetaDataFactory.remove(InfinispanSessionMetaDataFactory.java:39)




	at org.wildfly.clustering.web.infinispan.session.InfinispanSessionFactory.findValue(InfinispanSessionFactory.java:68)




	at org.wildfly.clustering.web.infinispan.session.InfinispanSessionFactory.findValue(InfinispanSessionFactory.java:40)




	at org.wildfly.clustering.web.infinispan.session.InfinispanSessionManager.lambda$removed$26(InfinispanSessionManager.java:330)




	at org.wildfly.clustering.service.concurrent.StampedLockServiceExecutor.execute(StampedLockServiceExecutor.java:42)




	at org.wildfly.clustering.web.infinispan.session.InfinispanSessionManager.removed(InfinispanSessionManager.java:327)




	at sun.reflect.GeneratedMethodAccessor36.invoke(Unknown Source)




	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)




	at java.lang.reflect.Method.invoke(Method.java:497)




	at org.infinispan.notifications.impl.AbstractListenerImpl$ListenerInvocationImpl$1.run(AbstractListenerImpl.java:286)




	at org.infinispan.util.concurrent.WithinThreadExecutor.execute(WithinThreadExecutor.java:21)




	at org.infinispan.notifications.impl.AbstractListenerImpl$ListenerInvocationImpl.invoke(AbstractListenerImpl.java:309)




	at org.infinispan.notifications.cachelistener.CacheNotifierImpl$BaseCacheEntryListenerInvocation.doRealInvocation(CacheNotifierImpl.java:1234)




	at org.infinispan.notifications.cachelistener.CacheNotifierImpl$BaseCacheEntryListenerInvocation.invokeNoChecks(CacheNotifierImpl.java:1229)




	at org.infinispan.notifications.cachelistener.CacheNotifierImpl$BaseCacheEntryListenerInvocation.invoke(CacheNotifierImpl.java:1206)




	at org.infinispan.notifications.cachelistener.CacheNotifierImpl.notifyCacheEntryRemoved(CacheNotifierImpl.java:354)




	at org.infinispan.commands.write.RemoveCommand.notify(RemoveCommand.java:98)




	at org.infinispan.commands.write.RemoveCommand.performRemove(RemoveCommand.java:215)




	at org.infinispan.commands.write.RemoveCommand.perform(RemoveCommand.java:94)




	at org.infinispan.interceptors.CallInterceptor.handleDefault(CallInterceptor.java:124)




	at org.infinispan.commands.AbstractVisitor.visitRemoveCommand(AbstractVisitor.java:48)




	at org.infinispan.commands.write.RemoveCommand.acceptVisitor(RemoveCommand.java:59)




	at org.infinispan.interceptors.base.CommandInterceptor.invokeNextInterceptor(CommandInterceptor.java:99)




	at org.infinispan.interceptors.distribution.TxDistributionInterceptor.handleTxWriteCommand(TxDistributionInterceptor.java:283)




	at org.infinispan.interceptors.distribution.TxDistributionInterceptor.visitRemoveCommand(TxDistributionInterceptor.java:96)




	at org.infinispan.commands.write.RemoveCommand.acceptVisitor(RemoveCommand.java:59)




	at org.infinispan.interceptors.base.CommandInterceptor.invokeNextInterceptor(CommandInterceptor.java:99)




	at org.infinispan.interceptors.CacheLoaderInterceptor.visitDataCommand(CacheLoaderInterceptor.java:186)




	at org.infinispan.interceptors.CacheLoaderInterceptor.visitRemoveCommand(CacheLoaderInterceptor.java:171)




	at org.infinispan.commands.write.RemoveCommand.acceptVisitor(RemoveCommand.java:59)




	at org.infinispan.interceptors.base.CommandInterceptor.invokeNextInterceptor(CommandInterceptor.java:99)




	at org.infinispan.interceptors.EntryWrappingInterceptor.invokeNextAndApplyChanges(EntryWrappingInterceptor.java:495)




	at org.infinispan.interceptors.EntryWrappingInterceptor.setSkipRemoteGetsAndInvokeNextForDataCommand(EntryWrappingInterceptor.java:560)




	at org.infinispan.interceptors.EntryWrappingInterceptor.visitRemoveCommand(EntryWrappingInterceptor.java:255)




	at org.infinispan.commands.write.RemoveCommand.acceptVisitor(RemoveCommand.java:59)




	at org.infinispan.interceptors.base.CommandInterceptor.invokeNextInterceptor(CommandInterceptor.java:99)




	at org.infinispan.interceptors.base.CommandInterceptor.handleDefault(CommandInterceptor.java:113)




	at org.infinispan.commands.AbstractVisitor.visitRemoveCommand(AbstractVisitor.java:48)




	at org.infinispan.commands.write.RemoveCommand.acceptVisitor(RemoveCommand.java:59)




	at org.infinispan.interceptors.base.CommandInterceptor.invokeNextInterceptor(CommandInterceptor.java:99)




	at org.infinispan.interceptors.base.CommandInterceptor.handleDefault(CommandInterceptor.java:113)




	at org.infinispan.commands.AbstractVisitor.visitRemoveCommand(AbstractVisitor.java:48)




	at org.infinispan.commands.write.RemoveCommand.acceptVisitor(RemoveCommand.java:59)




	at org.infinispan.interceptors.base.CommandInterceptor.invokeNextInterceptor(CommandInterceptor.java:99)




	at org.infinispan.interceptors.locking.PessimisticLockingInterceptor.visitDataWriteCommand(PessimisticLockingInterceptor.java:123)




	at org.infinispan.interceptors.locking.AbstractLockingInterceptor.visitRemoveCommand(AbstractLockingInterceptor.java:72)




	at org.infinispan.commands.write.RemoveCommand.acceptVisitor(RemoveCommand.java:59)




	at org.infinispan.interceptors.base.CommandInterceptor.invokeNextInterceptor(CommandInterceptor.java:99)




	at org.infinispan.interceptors.TxInterceptor.enlistWriteAndInvokeNext(TxInterceptor.java:366)




	at org.infinispan.interceptors.TxInterceptor.visitRemoveCommand(TxInterceptor.java:230)




	at org.infinispan.commands.write.RemoveCommand.acceptVisitor(RemoveCommand.java:59)




	at org.infinispan.interceptors.base.CommandInterceptor.invokeNextInterceptor(CommandInterceptor.java:99)




	at org.infinispan.interceptors.base.CommandInterceptor.handleDefault(CommandInterceptor.java:113)




	at org.infinispan.commands.AbstractVisitor.visitRemoveCommand(AbstractVisitor.java:48)




	at org.infinispan.commands.write.RemoveCommand.acceptVisitor(RemoveCommand.java:59)




	at org.infinispan.interceptors.base.CommandInterceptor.invokeNextInterceptor(CommandInterceptor.java:99)




	at org.infinispan.statetransfer.StateTransferInterceptor.handleTxWriteCommand(StateTransferInterceptor.java:306)




	at org.infinispan.statetransfer.StateTransferInterceptor.handleWriteCommand(StateTransferInterceptor.java:288)




	at org.infinispan.statetransfer.StateTransferInterceptor.visitRemoveCommand(StateTransferInterceptor.java:122)




	at org.infinispan.commands.write.RemoveCommand.acceptVisitor(RemoveCommand.java:59)




	at org.infinispan.interceptors.base.CommandInterceptor.invokeNextInterceptor(CommandInterceptor.java:99)




	at org.infinispan.interceptors.InvocationContextInterceptor.handleAll(InvocationContextInterceptor.java:107)




	at org.infinispan.interceptors.InvocationContextInterceptor.handleDefault(InvocationContextInterceptor.java:76)




	at org.infinispan.commands.AbstractVisitor.visitRemoveCommand(AbstractVisitor.java:48)




	at org.infinispan.commands.write.RemoveCommand.acceptVisitor(RemoveCommand.java:59)




	at org.infinispan.interceptors.base.CommandInterceptor.invokeNextInterceptor(CommandInterceptor.java:99)




	at org.infinispan.interceptors.base.CommandInterceptor.handleDefault(CommandInterceptor.java:113)




	at org.infinispan.commands.AbstractVisitor.visitRemoveCommand(AbstractVisitor.java:48)




	at org.infinispan.commands.write.RemoveCommand.acceptVisitor(RemoveCommand.java:59)




	at org.infinispan.interceptors.InterceptorChain.invoke(InterceptorChain.java:336)




	at org.infinispan.cache.impl.CacheImpl.executeCommandAndCommitIfNeeded(CacheImpl.java:1672)




	at org.infinispan.cache.impl.CacheImpl.removeInternal(CacheImpl.java:557)




	at org.infinispan.cache.impl.CacheImpl.remove(CacheImpl.java:549)




	at org.infinispan.cache.impl.DecoratedCache.remove(DecoratedCache.java:458)




	at org.infinispan.cache.impl.AbstractDelegatingCache.remove(AbstractDelegatingCache.java:296)




	at org.wildfly.clustering.web.infinispan.session.InfinispanSessionMetaDataFactory.remove(InfinispanSessionMetaDataFactory.java:125)




	at org.wildfly.clustering.web.infinispan.session.InfinispanSessionMetaDataFactory.remove(InfinispanSessionMetaDataFactory.java:39)




	at org.wildfly.clustering.web.infinispan.session.InfinispanSessionFactory.findValue(InfinispanSessionFactory.java:68)




	at org.wildfly.clustering.web.infinispan.session.InfinispanSessionFactory.findValue(InfinispanSessionFactory.java:40)




	at org.wildfly.clustering.web.infinispan.session.InfinispanSessionManager.lambda$removed$26(InfinispanSessionManager.java:330)




	at org.wildfly.clustering.service.concurrent.StampedLockServiceExecutor.execute(StampedLockServiceExecutor.java:42)




	at org.wildfly.clustering.web.infinispan.session.InfinispanSessionManager.removed(InfinispanSessionManager.java:327)




	at sun.reflect.GeneratedMethodAccessor36.invoke(Unknown Source)




	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)




	at java.lang.reflect.Method.invoke(Method.java:497)




	at org.infinispan.notifications.impl.AbstractListenerImpl$ListenerInvocationImpl$1.run(AbstractListenerImpl.java:286)




	at org.infinispan.util.concurrent.WithinThreadExecutor.execute(WithinThreadExecutor.java:21)




	at org.infinispan.notifications.impl.AbstractListenerImpl$ListenerInvocationImpl.invoke(AbstractListenerImpl.java:309)




	at org.infinispan.notifications.cachelistener.CacheNotifierImpl$BaseCacheEntryListenerInvocation.doRealInvocation(CacheNotifierImpl.java:1234)




	at org.infinispan.notifications.cachelistener.CacheNotifierImpl$BaseCacheEntryListenerInvocation.invokeNoChecks(CacheNotifierImpl.java:1229)




	at org.infinispan.notifications.cachelistener.CacheNotifierImpl$BaseCacheEntryListenerInvocation.invoke(CacheNotifierImpl.java:1206)




	at org.infinispan.notifications.cachelistener.CacheNotifierImpl.notifyCacheEntryRemoved(CacheNotifierImpl.java:354)




	at org.infinispan.commands.write.RemoveCommand.notify(RemoveCommand.java:98)




	at org.infinispan.commands.write.RemoveCommand.performRemove(RemoveCommand.java:215)




	at org.infinispan.commands.write.RemoveCommand.perform(RemoveCommand.java:94)




	at org.infinispan.interceptors.CallInterceptor.handleDefault(CallInterceptor.java:124)




	at org.infinispan.commands.AbstractVisitor.visitRemoveCommand(AbstractVisitor.java:48)




	at org.infinispan.commands.write.RemoveCommand.acceptVisitor(RemoveCommand.java:59)




	at org.infinispan.interceptors.base.CommandInterceptor.invokeNextInterceptor(CommandInterceptor.java:99)




	at org.infinispan.interceptors.distribution.TxDistributionInterceptor.handleTxWriteCommand(TxDistributionInterceptor.java:283)




	at org.infinispan.interceptors.distribution.TxDistributionInterceptor.visitRemoveCommand(TxDistributionInterceptor.java:96)




	at org.infinispan.commands.write.RemoveCommand.acceptVisitor(RemoveCommand.java:59)




	at org.infinispan.interceptors.base.CommandInterceptor.invokeNextInterceptor(CommandInterceptor.java:99)




	at org.infinispan.interceptors.CacheLoaderInterceptor.visitDataCommand(CacheLoaderInterceptor.java:186)




	at org.infinispan.interceptors.CacheLoaderInterceptor.visitRemoveCommand(CacheLoaderInterceptor.java:171)




	at org.infinispan.commands.write.RemoveCommand.acceptVisitor(RemoveCommand.java:59)




	at org.infinispan.interceptors.base.CommandInterceptor.invokeNextInterceptor(CommandInterceptor.java:99)




	at org.infinispan.interceptors.EntryWrappingInterceptor.invokeNextAndApplyChanges(EntryWrappingInterceptor.java:495)




	at org.infinispan.interceptors.EntryWrappingInterceptor.setSkipRemoteGetsAndInvokeNextForDataCommand(EntryWrappingInterceptor.java:560)




	at org.infinispan.interceptors.EntryWrappingInterceptor.visitRemoveCommand(EntryWrappingInterceptor.java:255)




	at org.infinispan.commands.write.RemoveCommand.acceptVisitor(RemoveCommand.java:59)




	at org.infinispan.interceptors.base.CommandInterceptor.invokeNextInterceptor(CommandInterceptor.java:99)




	at org.infinispan.interceptors.base.CommandInterceptor.handleDefault(CommandInterceptor.java:113)




	at org.infinispan.commands.AbstractVisitor.visitRemoveCommand(AbstractVisitor.java:48)




	at org.infinispan.commands.write.RemoveCommand.acceptVisitor(RemoveCommand.java:59)




	at org.infinispan.interceptors.base.CommandInterceptor.invokeNextInterceptor(CommandInterceptor.java:99)




	at org.infinispan.interceptors.base.CommandInterceptor.handleDefault(CommandInterceptor.java:113)




	at org.infinispan.commands.AbstractVisitor.visitRemoveCommand(AbstractVisitor.java:48)




	at org.infinispan.commands.write.RemoveCommand.acceptVisitor(RemoveCommand.java:59)




	at org.infinispan.interceptors.base.CommandInterceptor.invokeNextInterceptor(CommandInterceptor.java:99)




	at org.infinispan.interceptors.locking.PessimisticLockingInterceptor.visitDataWriteCommand(PessimisticLockingInterceptor.java:123)




	at org.infinispan.interceptors.locking.AbstractLockingInterceptor.visitRemoveCommand(AbstractLockingInterceptor.java:72)




	at org.infinispan.commands.write.RemoveCommand.acceptVisitor(RemoveCommand.java:59)




	at org.infinispan.interceptors.base.CommandInterceptor.invokeNextInterceptor(CommandInterceptor.java:99)




	at org.infinispan.interceptors.TxInterceptor.enlistWriteAndInvokeNext(TxInterceptor.java:366)




	at org.infinispan.interceptors.TxInterceptor.visitRemoveCommand(TxInterceptor.java:230)




	at org.infinispan.commands.write.RemoveCommand.acceptVisitor(RemoveCommand.java:59)




	at org.infinispan.interceptors.base.CommandInterceptor.invokeNextInterceptor(CommandInterceptor.java:99)




	at org.infinispan.interceptors.base.CommandInterceptor.handleDefault(CommandInterceptor.java:113)




	at org.infinispan.commands.AbstractVisitor.visitRemoveCommand(AbstractVisitor.java:48)




	at org.infinispan.commands.write.RemoveCommand.acceptVisitor(RemoveCommand.java:59)




	at org.infinispan.interceptors.base.CommandInterceptor.invokeNextInterceptor(CommandInterceptor.java:99)




	at org.infinispan.statetransfer.StateTransferInterceptor.handleTxWriteCommand(StateTransferInterceptor.java:306)




	at org.infinispan.statetransfer.StateTransferInterceptor.handleWriteCommand(StateTransferInterceptor.java:288)




	at org.infinispan.statetransfer.StateTransferInterceptor.visitRemoveCommand(StateTransferInterceptor.java:122)




	at org.infinispan.commands.write.RemoveCommand.acceptVisitor(RemoveCommand.java:59)




	at org.infinispan.interceptors.base.CommandInterceptor.invokeNextInterceptor(CommandInterceptor.java:99)




	at org.infinispan.interceptors.InvocationContextInterceptor.handleAll(InvocationContextInterceptor.java:107)




	at org.infinispan.interceptors.InvocationContextInterceptor.handleDefault(InvocationContextInterceptor.java:76)




	at org.infinispan.commands.AbstractVisitor.visitRemoveCommand(AbstractVisitor.java:48)




	at org.infinispan.commands.write.RemoveCommand.acceptVisitor(RemoveCommand.java:59)




	at org.infinispan.interceptors.base.CommandInterceptor.invokeNextInterceptor(CommandInterceptor.java:99)




	at org.infinispan.interceptors.base.CommandInterceptor.handleDefault(CommandInterceptor.java:113)




	at org.infinispan.commands.AbstractVisitor.visitRemoveCommand(AbstractVisitor.java:48)




	at org.infinispan.commands.write.RemoveCommand.acceptVisitor(RemoveCommand.java:59)




	at org.infinispan.interceptors.InterceptorChain.invoke(InterceptorChain.java:336)




	at org.infinispan.cache.impl.CacheImpl.executeCommandAndCommitIfNeeded(CacheImpl.java:1672)




	at org.infinispan.cache.impl.CacheImpl.removeInternal(CacheImpl.java:557)




	at org.infinispan.cache.impl.CacheImpl.remove(CacheImpl.java:549)




	at org.infinispan.cache.impl.DecoratedCache.remove(DecoratedCache.java:458)




	at org.infinispan.cache.impl.AbstractDelegatingCache.remove(AbstractDelegatingCache.java:296)




	at org.wildfly.clustering.web.infinispan.session.InfinispanSessionMetaDataFactory.remove(InfinispanSessionMetaDataFactory.java:125)




	at org.wildfly.clustering.web.infinispan.session.InfinispanSessionMetaDataFactory.remove(InfinispanSessionMetaDataFactory.java:39)




	at org.wildfly.clustering.web.infinispan.session.InfinispanSessionFactory.findValue(InfinispanSessionFactory.java:68)




	at org.wildfly.clustering.web.infinispan.session.InfinispanSessionFactory.findValue(InfinispanSessionFactory.java:40)




	at org.wildfly.clustering.web.infinispan.session.InfinispanSessionManager.lambda$removed$26(InfinispanSessionManager.java:330)




	at org.wildfly.clustering.service.concurrent.StampedLockServiceExecutor.execute(StampedLockServiceExecutor.java:42)




	at org.wildfly.clustering.web.infinispan.session.InfinispanSessionManager.removed(InfinispanSessionManager.java:327)




	at sun.reflect.GeneratedMethodAccessor36.invoke(Unknown Source)




	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)




	at java.lang.reflect.Method.invoke(Method.java:497)




	at org.infinispan.notifications.impl.AbstractListenerImpl$ListenerInvocationImpl$1.run(AbstractListenerImpl.java:286)




	at org.infinispan.util.concurrent.WithinThreadExecutor.execute(WithinThreadExecutor.java:21)




	at org.infinispan.notifications.impl.AbstractListenerImpl$ListenerInvocationImpl.invoke(AbstractListenerImpl.java:309)




	at org.infinispan.notifications.cachelistener.CacheNotifierImpl$BaseCacheEntryListenerInvocation.doRealInvocation(CacheNotifierImpl.java:1234)




	at org.infinispan.notifications.cachelistener.CacheNotifierImpl$BaseCacheEntryListenerInvocation.invokeNoChecks(CacheNotifierImpl.java:1229)




	at org.infinispan.notifications.cachelistener.CacheNotifierImpl$BaseCacheEntryListenerInvocation.invoke(CacheNotifierImpl.java:1206)




	at org.infinispan.notifications.cachelistener.CacheNotifierImpl.notifyCacheEntryRemoved(CacheNotifierImpl.java:354)




	at org.infinispan.commands.write.RemoveCommand.notify(RemoveCommand.java:98)




	at org.infinispan.commands.write.RemoveCommand.performRemove(RemoveCommand.java:215)




	at org.infinispan.commands.write.RemoveCommand.perform(RemoveCommand.java:94)




	at org.infinispan.interceptors.CallInterceptor.handleDefault(CallInterceptor.java:124)




	at org.infinispan.commands.AbstractVisitor.visitRemoveCommand(AbstractVisitor.java:48)




	at org.infinispan.commands.write.RemoveCommand.acceptVisitor(RemoveCommand.java:59)




	at org.infinispan.interceptors.base.CommandInterceptor.invokeNextInterceptor(CommandInterceptor.java:99)




	at org.infinispan.interceptors.distribution.TxDistributionInterceptor.handleTxWriteCommand(TxDistributionInterceptor.java:283)




	at org.infinispan.interceptors.distribution.TxDistributionInterceptor.visitRemoveCommand(TxDistributionInterceptor.java:96)




	at org.infinispan.commands.write.RemoveCommand.acceptVisitor(RemoveCommand.java:59)




	at org.infinispan.interceptors.base.CommandInterceptor.invokeNextInterceptor(CommandInterceptor.java:99)




	at org.infinispan.interceptors.CacheLoaderInterceptor.visitDataCommand(CacheLoaderInterceptor.java:186)




	at org.infinispan.interceptors.CacheLoaderInterceptor.visitRemoveCommand(CacheLoaderInterceptor.java:171)




	at org.infinispan.commands.write.RemoveCommand.acceptVisitor(RemoveCommand.java:59)




	at org.infinispan.interceptors.base.CommandInterceptor.invokeNextInterceptor(CommandInterceptor.java:99)




	at org.infinispan.interceptors.EntryWrappingInterceptor.invokeNextAndApplyChanges(EntryWrappingInterceptor.java:495)




	at org.infinispan.interceptors.EntryWrappingInterceptor.setSkipRemoteGetsAndInvokeNextForDataCommand(EntryWrappingInterceptor.java:560)




	at org.infinispan.interceptors.EntryWrappingInterceptor.visitRemoveCommand(EntryWrappingInterceptor.java:255)




	at org.infinispan.commands.write.RemoveCommand.acceptVisitor(RemoveCommand.java:59)




	at org.infinispan.interceptors.base.CommandInterceptor.invokeNextInterceptor(CommandInterceptor.java:99)




	at org.infinispan.interceptors.base.CommandInterceptor.handleDefault(CommandInterceptor.java:113)




	at org.infinispan.commands.AbstractVisitor.visitRemoveCommand(AbstractVisitor.java:48)




	at org.infinispan.commands.write.RemoveCommand.acceptVisitor(RemoveCommand.java:59)




	at org.infinispan.interceptors.base.CommandInterceptor.invokeNextInterceptor(CommandInterceptor.java:99)




	at org.infinispan.interceptors.base.CommandInterceptor.handleDefault(CommandInterceptor.java:113)




	at org.infinispan.commands.AbstractVisitor.visitRemoveCommand(AbstractVisitor.java:48)




	at org.infinispan.commands.write.RemoveCommand.acceptVisitor(RemoveCommand.java:59)




	at org.infinispan.interceptors.base.CommandInterceptor.invokeNextInterceptor(CommandInterceptor.java:99)




	at org.infinispan.interceptors.locking.PessimisticLockingInterceptor.visitDataWriteCommand(PessimisticLockingInterceptor.java:123)




	at org.infinispan.interceptors.locking.AbstractLockingInterceptor.visitRemoveCommand(AbstractLockingInterceptor.java:72)




	at org.infinispan.commands.write.RemoveCommand.acceptVisitor(RemoveCommand.java:59)




	at org.infinispan.interceptors.base.CommandInterceptor.invokeNextInterceptor(CommandInterceptor.java:99)




	at org.infinispan.interceptors.TxInterceptor.enlistWriteAndInvokeNext(TxInterceptor.java:366)




	at org.infinispan.interceptors.TxInterceptor.visitRemoveCommand(TxInterceptor.java:230)




	at org.infinispan.commands.write.RemoveCommand.acceptVisitor(RemoveCommand.java:59)




	at org.infinispan.interceptors.base.CommandInterceptor.invokeNextInterceptor(CommandInterceptor.java:99)




	at org.infinispan.interceptors.base.CommandInterceptor.handleDefault(CommandInterceptor.java:113)




	at org.infinispan.commands.AbstractVisitor.visitRemoveCommand(AbstractVisitor.java:48)




	at org.infinispan.commands.write.RemoveCommand.acceptVisitor(RemoveCommand.java:59)




	at org.infinispan.interceptors.base.CommandInterceptor.invokeNextInterceptor(CommandInterceptor.java:99)




	at org.infinispan.statetransfer.StateTransferInterceptor.handleTxWriteCommand(StateTransferInterceptor.java:306)




	at org.infinispan.statetransfer.StateTransferInterceptor.handleWriteCommand(StateTransferInterceptor.java:288)




	at org.infinispan.statetransfer.StateTransferInterceptor.visitRemoveCommand(StateTransferInterceptor.java:122)




	at org.infinispan.commands.write.RemoveCommand.acceptVisitor(RemoveCommand.java:59)




	at org.infinispan.interceptors.base.CommandInterceptor.invokeNextInterceptor(CommandInterceptor.java:99)




	at org.infinispan.interceptors.InvocationContextInterceptor.handleAll(InvocationContextInterceptor.java:107)




	at org.infinispan.interceptors.InvocationContextInterceptor.handleDefault(InvocationContextInterceptor.java:76)




	at org.infinispan.commands.AbstractVisitor.visitRemoveCommand(AbstractVisitor.java:48)




	at org.infinispan.commands.write.RemoveCommand.acceptVisitor(RemoveCommand.java:59)




	at org.infinispan.interceptors.base.CommandInterceptor.invokeNextInterceptor(CommandInterceptor.java:99)




	at org.infinispan.interceptors.base.CommandInterceptor.handleDefault(CommandInterceptor.java:113)




	at org.infinispan.commands.AbstractVisitor.visitRemoveCommand(AbstractVisitor.java:48)




	at org.infinispan.commands.write.RemoveCommand.acceptVisitor(RemoveCommand.java:59)




	at org.infinispan.interceptors.InterceptorChain.invoke(InterceptorChain.java:336)




	at org.infinispan.cache.impl.CacheImpl.executeCommandAndCommitIfNeeded(CacheImpl.java:1672)




	at org.infinispan.cache.impl.CacheImpl.removeInternal(CacheImpl.java:557)




	at org.infinispan.cache.impl.CacheImpl.remove(CacheImpl.java:549)




	at org.infinispan.cache.impl.DecoratedCache.remove(DecoratedCache.java:458)




	at org.infinispan.cache.impl.AbstractDelegatingCache.remove(AbstractDelegatingCache.java:296)




	at org.wildfly.clustering.web.infinispan.session.InfinispanSessionMetaDataFactory.remove(InfinispanSessionMetaDataFactory.java:125)




	at org.wildfly.clustering.web.infinispan.session.InfinispanSessionMetaDataFactory.remove(InfinispanSessionMetaDataFactory.java:39)




	at org.wildfly.clustering.web.infinispan.session.InfinispanSessionFactory.findValue(InfinispanSessionFactory.java:68)




	at org.wildfly.clustering.web.infinispan.session.InfinispanSessionFactory.findValue(InfinispanSessionFactory.java:40)




	at org.wildfly.clustering.web.infinispan.session.InfinispanSessionManager.lambda$removed$26(InfinispanSessionManager.java:330)




	at org.wildfly.clustering.service.concurrent.StampedLockServiceExecutor.execute(StampedLockServiceExecutor.java:42)




	at org.wildfly.clustering.web.infinispan.session.InfinispanSessionManager.removed(InfinispanSessionManager.java:327)




	at sun.reflect.GeneratedMethodAccessor36.invoke(Unknown Source)




	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)




	at java.lang.reflect.Method.invoke(Method.java:497)




	at org.infinispan.notifications.impl.AbstractListenerImpl$ListenerInvocationImpl$1.run(AbstractListenerImpl.java:286)




	at org.infinispan.util.concurrent.WithinThreadExecutor.execute(WithinThreadExecutor.java:21)




	at org.infinispan.notifications.impl.AbstractListenerImpl$ListenerInvocationImpl.invoke(AbstractListenerImpl.java:309)




	at org.infinispan.notifications.cachelistener.CacheNotifierImpl$BaseCacheEntryListenerInvocation.doRealInvocation(CacheNotifierImpl.java:1234)




	at org.infinispan.notifications.cachelistener.CacheNotifierImpl$BaseCacheEntryListenerInvocation.invokeNoChecks(CacheNotifierImpl.java:1229)




	at org.infinispan.notifications.cachelistener.CacheNotifierImpl$BaseCacheEntryListenerInvocation.invoke(CacheNotifierImpl.java:1206)




	at org.infinispan.notifications.cachelistener.CacheNotifierImpl.notifyCacheEntryRemoved(CacheNotifierImpl.java:354)




	at org.infinispan.commands.write.RemoveCommand.notify(RemoveCommand.java:98)




	at org.infinispan.commands.write.RemoveCommand.performRemove(RemoveCommand.java:215)




	at org.infinispan.commands.write.RemoveCommand.perform(RemoveCommand.java:94)




	at org.infinispan.interceptors.CallInterceptor.handleDefault(CallInterceptor.java:124)




	at org.infinispan.commands.AbstractVisitor.visitRemoveCommand(AbstractVisitor.java:48)




	at org.infinispan.commands.write.RemoveCommand.acceptVisitor(RemoveCommand.java:59)




	at org.infinispan.interceptors.base.CommandInterceptor.invokeNextInterceptor(CommandInterceptor.java:99)




	at org.infinispan.interceptors.distribution.TxDistributionInterceptor.handleTxWriteCommand(TxDistributionInterceptor.java:283)




	at org.infinispan.interceptors.distribution.TxDistributionInterceptor.visitRemoveCommand(TxDistributionInterceptor.java:96)




	at org.infinispan.commands.write.RemoveCommand.acceptVisitor(RemoveCommand.java:59)




	at org.infinispan.interceptors.base.CommandInterceptor.invokeNextInterceptor(CommandInterceptor.java:99)




	at org.infinispan.interceptors.CacheLoaderInterceptor.visitDataCommand(CacheLoaderInterceptor.java:186)




	at org.infinispan.interceptors.CacheLoaderInterceptor.visitRemoveCommand(CacheLoaderInterceptor.java:171)




	at org.infinispan.commands.write.RemoveCommand.acceptVisitor(RemoveCommand.java:59)




	at org.infinispan.interceptors.base.CommandInterceptor.invokeNextInterceptor(CommandInterceptor.java:99)




	at org.infinispan.interceptors.EntryWrappingInterceptor.invokeNextAndApplyChanges(EntryWrappingInterceptor.java:495)




	at org.infinispan.interceptors.EntryWrappingInterceptor.setSkipRemoteGetsAndInvokeNextForDataCommand(EntryWrappingInterceptor.java:560)




	at org.infinispan.interceptors.EntryWrappingInterceptor.visitRemoveCommand(EntryWrappingInterceptor.java:255)




	at org.infinispan.commands.write.RemoveCommand.acceptVisitor(RemoveCommand.java:59)




	at org.infinispan.interceptors.base.CommandInterceptor.invokeNextInterceptor(CommandInterceptor.java:99)




	at org.infinispan.interceptors.base.CommandInterceptor.handleDefault(CommandInterceptor.java:113)




	at org.infinispan.commands.AbstractVisitor.visitRemoveCommand(AbstractVisitor.java:48)




	at org.infinispan.commands.write.RemoveCommand.acceptVisitor(RemoveCommand.java:59)




	at org.infinispan.interceptors.base.CommandInterceptor.invokeNextInterceptor(CommandInterceptor.java:99)




	at org.infinispan.interceptors.base.CommandInterceptor.handleDefault(CommandInterceptor.java:113)




	at org.infinispan.commands.AbstractVisitor.visitRemoveCommand(AbstractVisitor.java:48)




	at org.infinispan.commands.write.RemoveCommand.acceptVisitor(RemoveCommand.java:59)




	at org.infinispan.interceptors.base.CommandInterceptor.invokeNextInterceptor(CommandInterceptor.java:99)




	at org.infinispan.interceptors.locking.PessimisticLockingInterceptor.visitDataWriteCommand(PessimisticLockingInterceptor.java:123)




	at org.infinispan.interceptors.locking.AbstractLockingInterceptor.visitRemoveCommand(AbstractLockingInterceptor.java:72)




	at org.infinispan.commands.write.RemoveCommand.acceptVisitor(RemoveCommand.java:59)




	at org.infinispan.interceptors.base.CommandInterceptor.invokeNextInterceptor(CommandInterceptor.java:99)




	at org.infinispan.interceptors.TxInterceptor.enlistWriteAndInvokeNext(TxInterceptor.java:366)




	at org.infinispan.interceptors.TxInterceptor.visitRemoveCommand(TxInterceptor.java:230)




	at org.infinispan.commands.write.RemoveCommand.acceptVisitor(RemoveCommand.java:59)




	at org.infinispan.interceptors.base.CommandInterceptor.invokeNextInterceptor(CommandInterceptor.java:99)




	at org.infinispan.interceptors.base.CommandInterceptor.handleDefault(CommandInterceptor.java:113)




	at org.infinispan.commands.AbstractVisitor.visitRemoveCommand(AbstractVisitor.java:48)




	at org.infinispan.commands.write.RemoveCommand.acceptVisitor(RemoveCommand.java:59)




	at org.infinispan.interceptors.base.CommandInterceptor.invokeNextInterceptor(CommandInterceptor.java:99)




	at org.infinispan.statetransfer.StateTransferInterceptor.handleTxWriteCommand(StateTransferInterceptor.java:306)




	at org.infinispan.statetransfer.StateTransferInterceptor.handleWriteCommand(StateTransferInterceptor.java:288)




	at org.infinispan.statetransfer.StateTransferInterceptor.visitRemoveCommand(StateTransferInterceptor.java:122)




	at org.infinispan.commands.write.RemoveCommand.acceptVisitor(RemoveCommand.java:59)




	at org.infinispan.interceptors.base.CommandInterceptor.invokeNextInterceptor(CommandInterceptor.java:99)




	at org.infinispan.interceptors.InvocationContextInterceptor.handleAll(InvocationContextInterceptor.java:107)




	at org.infinispan.interceptors.InvocationContextInterceptor.handleDefault(InvocationContextInterceptor.java:76)




	at org.infinispan.commands.AbstractVisitor.visitRemoveCommand(AbstractVisitor.java:48)




	at org.infinispan.commands.write.RemoveCommand.acceptVisitor(RemoveCommand.java:59)




	at org.infinispan.interceptors.base.CommandInterceptor.invokeNextInterceptor(CommandInterceptor.java:99)




	at org.infinispan.interceptors.base.CommandInterceptor.handleDefault(CommandInterceptor.java:113)




	at org.infinispan.commands.AbstractVisitor.visitRemoveCommand(AbstractVisitor.java:48)




	at org.infinispan.commands.write.RemoveCommand.acceptVisitor(RemoveCommand.java:59)




	at org.infinispan.interceptors.InterceptorChain.invoke(InterceptorChain.java:336)




	at org.infinispan.cache.impl.CacheImpl.executeCommandAndCommitIfNeeded(CacheImpl.java:1672)




	at org.infinispan.cache.impl.CacheImpl.removeInternal(CacheImpl.java:557)




	at org.infinispan.cache.impl.CacheImpl.remove(CacheImpl.java:549)




	at org.infinispan.cache.impl.DecoratedCache.remove(DecoratedCache.java:458)




	at org.infinispan.cache.impl.AbstractDelegatingCache.remove(AbstractDelegatingCache.java:296)




	at org.wildfly.clustering.web.infinispan.session.InfinispanSessionMetaDataFactory.remove(InfinispanSessionMetaDataFactory.java:125)




	at org.wildfly.clustering.web.infinispan.session.InfinispanSessionMetaDataFactory.remove(InfinispanSessionMetaDataFactory.java:39)




	at org.wildfly.clustering.web.infinispan.session.InfinispanSessionFactory.findValue(InfinispanSessionFactory.java:68)




	at org.wildfly.clustering.web.infinispan.session.InfinispanSessionFactory.findValue(InfinispanSessionFactory.java:40)




	at org.wildfly.clustering.web.infinispan.session.InfinispanSessionManager.lambda$removed$26(InfinispanSessionManager.java:330)




	at org.wildfly.clustering.service.concurrent.StampedLockServiceExecutor.execute(StampedLockServiceExecutor.java:42)




	at org.wildfly.clustering.web.infinispan.session.InfinispanSessionManager.removed(InfinispanSessionManager.java:327)




	at sun.reflect.GeneratedMethodAccessor36.invoke(Unknown Source)




	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)




	at java.lang.reflect.Method.invoke(Method.java:497)




	at org.infinispan.notifications.impl.AbstractListenerImpl$ListenerInvocationImpl$1.run(AbstractListenerImpl.java:286)




	at org.infinispan.util.concurrent.WithinThreadExecutor.execute(WithinThreadExecutor.java:21)




	at org.infinispan.notifications.impl.AbstractListenerImpl$ListenerInvocationImpl.invoke(AbstractListenerImpl.java:309)




	at org.infinispan.notifications.cachelistener.CacheNotifierImpl$BaseCacheEntryListenerInvocation.doRealInvocation(CacheNotifierImpl.java:1234)




	at org.infinispan.notifications.cachelistener.CacheNotifierImpl$BaseCacheEntryListenerInvocation.invokeNoChecks(CacheNotifierImpl.java:1229)




	at org.infinispan.notifications.cachelistener.CacheNotifierImpl$BaseCacheEntryListenerInvocation.invoke(CacheNotifierImpl.java:1206)




	at org.infinispan.notifications.cachelistener.CacheNotifierImpl.notifyCacheEntryRemoved(CacheNotifierImpl.java:354)




	at org.infinispan.commands.write.RemoveCommand.notify(RemoveCommand.java:98)




	at org.infinispan.commands.write.RemoveCommand.performRemove(RemoveCommand.java:215)




	at org.infinispan.commands.write.RemoveCommand.perform(RemoveCommand.java:94)




	at org.infinispan.interceptors.CallInterceptor.handleDefault(CallInterceptor.java:124)




	at org.infinispan.commands.AbstractVisitor.visitRemoveCommand(AbstractVisitor.java:48)




	at org.infinispan.commands.write.RemoveCommand.acceptVisitor(RemoveCommand.java:59)




	at org.infinispan.interceptors.base.CommandInterceptor.invokeNextInterceptor(CommandInterceptor.java:99)




	at org.infinispan.interceptors.distribution.TxDistributionInterceptor.handleTxWriteCommand(TxDistributionInterceptor.java:283)




	at org.infinispan.interceptors.distribution.TxDistributionInterceptor.visitRemoveCommand(TxDistributionInterceptor.java:96)




	at org.infinispan.commands.write.RemoveCommand.acceptVisitor(RemoveCommand.java:59)




	at org.infinispan.interceptors.base.CommandInterceptor.invokeNextInterceptor(CommandInterceptor.java:99)




	at org.infinispan.interceptors.CacheLoaderInterceptor.visitDataCommand(CacheLoaderInterceptor.java:186)




	at org.infinispan.interceptors.CacheLoaderInterceptor.visitRemoveCommand(CacheLoaderInterceptor.java:171)




	at org.infinispan.commands.write.RemoveCommand.acceptVisitor(RemoveCommand.java:59)




	at org.infinispan.interceptors.base.CommandInterceptor.invokeNextInterceptor(CommandInterceptor.java:99)




	at org.infinispan.interceptors.EntryWrappingInterceptor.invokeNextAndApplyChanges(EntryWrappingInterceptor.java:495)




	at org.infinispan.interceptors.EntryWrappingInterceptor.setSkipRemoteGetsAndInvokeNextForDataCommand(EntryWrappingInterceptor.java:560)




	at org.infinispan.interceptors.EntryWrappingInterceptor.visitRemoveCommand(EntryWrappingInterceptor.java:255)




	at org.infinispan.commands.write.RemoveCommand.acceptVisitor(RemoveCommand.java:59)




	at org.infinispan.interceptors.base.CommandInterceptor.invokeNextInterceptor(CommandInterceptor.java:99)




	at org.infinispan.interceptors.base.CommandInterceptor.handleDefault(CommandInterceptor.java:113)




	at org.infinispan.commands.AbstractVisitor.visitRemoveCommand(AbstractVisitor.java:48)




	at org.infinispan.commands.write.RemoveCommand.acceptVisitor(RemoveCommand.java:59)




	at org.infinispan.interceptors.base.CommandInterceptor.invokeNextInterceptor(CommandInterceptor.java:99)




	at org.infinispan.interceptors.base.CommandInterceptor.handleDefault(CommandInterceptor.java:113)




	at org.infinispan.commands.AbstractVisitor.visitRemoveCommand(AbstractVisitor.java:48)




	at org.infinispan.commands.write.RemoveCommand.acceptVisitor(RemoveCommand.java:59)




	at org.infinispan.interceptors.base.CommandInterceptor.invokeNextInterceptor(CommandInterceptor.java:99)




	at org.infinispan.interceptors.locking.PessimisticLockingInterceptor.visitDataWriteCommand(PessimisticLockingInterceptor.java:123)




	at org.infinispan.interceptors.locking.AbstractLockingInterceptor.visitRemoveCommand(AbstractLockingInterceptor.java:72)




	at org.infinispan.commands.write.RemoveCommand.acceptVisitor(RemoveCommand.java:59)




	at org.infinispan.interceptors.base.CommandInterceptor.invokeNextInterceptor(CommandInterceptor.java:99)




	at org.infinispan.interceptors.TxInterceptor.enlistWriteAndInvokeNext(TxInterceptor.java:366)




	at org.infinispan.interceptors.TxInterceptor.visitRemoveCommand(TxInterceptor.java:230)




	at org.infinispan.commands.write.RemoveCommand.acceptVisitor(RemoveCommand.java:59)




	at org.infinispan.interceptors.base.CommandInterceptor.invokeNextInterceptor(CommandInterceptor.java:99)




	at org.infinispan.interceptors.base.CommandInterceptor.handleDefault(CommandInterceptor.java:113)




	at org.infinispan.commands.AbstractVisitor.visitRemoveCommand(AbstractVisitor.java:48)




	at org.infinispan.commands.write.RemoveCommand.acceptVisitor(RemoveCommand.java:59)




	at org.infinispan.interceptors.base.CommandInterceptor.invokeNextInterceptor(CommandInterceptor.java:99)




	at org.infinispan.statetransfer.StateTransferInterceptor.handleTxWriteCommand(StateTransferInterceptor.java:306)




	at org.infinispan.statetransfer.StateTransferInterceptor.handleWriteCommand(StateTransferInterceptor.java:288)




	at org.infinispan.statetransfer.StateTransferInterceptor.visitRemoveCommand(StateTransferInterceptor.java:122)




	at org.infinispan.commands.write.RemoveCommand.acceptVisitor(RemoveCommand.java:59)




	at org.infinispan.interceptors.base.CommandInterceptor.invokeNextInterceptor(CommandInterceptor.java:99)




	at org.infinispan.interceptors.InvocationContextInterceptor.handleAll(InvocationContextInterceptor.java:107)




	at org.infinispan.interceptors.InvocationContextInterceptor.handleDefault(InvocationContextInterceptor.java:76)




	at org.infinispan.commands.AbstractVisitor.visitRemoveCommand(AbstractVisitor.java:48)




	at org.infinispan.commands.write.RemoveCommand.acceptVisitor(RemoveCommand.java:59)




	at org.infinispan.interceptors.base.CommandInterceptor.invokeNextInterceptor(CommandInterceptor.java:99)




	at org.infinispan.interceptors.base.CommandInterceptor.handleDefault(CommandInterceptor.java:113)




	at org.infinispan.commands.AbstractVisitor.visitRemoveCommand(AbstractVisitor.java:48)




	at org.infinispan.commands.write.RemoveCommand.acceptVisitor(RemoveCommand.java:59)




	at org.infinispan.interceptors.InterceptorChain.invoke(InterceptorChain.java:336)




	at org.infinispan.cache.impl.CacheImpl.executeCommandAndCommitIfNeeded(CacheImpl.java:1672)




	at org.infinispan.cache.impl.CacheImpl.removeInternal(CacheImpl.java:557)




	at org.infinispan.cache.impl.CacheImpl.remove(CacheImpl.java:549)




	at org.infinispan.cache.impl.DecoratedCache.remove(DecoratedCache.java:458)




	at org.infinispan.cache.impl.AbstractDelegatingCache.remove(AbstractDelegatingCache.java:296)




	at org.wildfly.clustering.web.infinispan.session.InfinispanSessionMetaDataFactory.remove(InfinispanSessionMetaDataFactory.java:125)




	at org.wildfly.clustering.web.infinispan.session.InfinispanSessionMetaDataFactory.remove(InfinispanSessionMetaDataFactory.java:39)




	at org.wildfly.clustering.web.infinispan.session.InfinispanSessionFactory.findValue(InfinispanSessionFactory.java:68)




	at org.wildfly.clustering.web.infinispan.session.InfinispanSessionFactory.findValue(InfinispanSessionFactory.java:40)




	at org.wildfly.clustering.web.infinispan.session.InfinispanSessionManager.lambda$removed$26(InfinispanSessionManager.java:330)




	at org.wildfly.clustering.service.concurrent.StampedLockServiceExecutor.execute(StampedLockServiceExecutor.java:42)




	at org.wildfly.clustering.web.infinispan.session.InfinispanSessionManager.removed(InfinispanSessionManager.java:327)




	at sun.reflect.GeneratedMethodAccessor36.invoke(Unknown Source)




	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)




	at java.lang.reflect.Method.invoke(Method.java:497)




	at org.infinispan.notifications.impl.AbstractListenerImpl$ListenerInvocationImpl$1.run(AbstractListenerImpl.java:286)




	at org.infinispan.util.concurrent.WithinThreadExecutor.execute(WithinThreadExecutor.java:21)




	at org.infinispan.notifications.impl.AbstractListenerImpl$ListenerInvocationImpl.invoke(AbstractListenerImpl.java:309)




	at org.infinispan.notifications.cachelistener.CacheNotifierImpl$BaseCacheEntryListenerInvocation.doRealInvocation(CacheNotifierImpl.java:1234)




	at org.infinispan.notifications.cachelistener.CacheNotifierImpl$BaseCacheEntryListenerInvocation.invokeNoChecks(CacheNotifierImpl.java:1229)




	at org.infinispan.notifications.cachelistener.CacheNotifierImpl$BaseCacheEntryListenerInvocation.invoke(CacheNotifierImpl.java:1206)




	at org.infinispan.notifications.cachelistener.CacheNotifierImpl.notifyCacheEntryRemoved(CacheNotifierImpl.java:354)




	at org.infinispan.commands.write.RemoveCommand.notify(RemoveCommand.java:98)




	at org.infinispan.commands.write.RemoveCommand.performRemove(RemoveCommand.java:215)




	at org.infinispan.commands.write.RemoveCommand.perform(RemoveCommand.java:94)




	at org.infinispan.interceptors.CallInterceptor.handleDefault(CallInterceptor.java:124)




	at org.infinispan.commands.AbstractVisitor.visitRemoveCommand(AbstractVisitor.java:48)




	at org.infinispan.commands.write.RemoveCommand.acceptVisitor(RemoveCommand.java:59)




	at org.infinispan.interceptors.base.CommandInterceptor.invokeNextInterceptor(CommandInterceptor.java:99)




	at org.infinispan.interceptors.distribution.TxDistributionInterceptor.handleTxWriteCommand(TxDistributionInterceptor.java:283)




	at org.infinispan.interceptors.distribution.TxDistributionInterceptor.visitRemoveCommand(TxDistributionInterceptor.java:96)




	at org.infinispan.commands.write.RemoveCommand.acceptVisitor(RemoveCommand.java:59)




	at org.infinispan.interceptors.base.CommandInterceptor.invokeNextInterceptor(CommandInterceptor.java:99)




	at org.infinispan.interceptors.CacheLoaderInterceptor.visitDataCommand(CacheLoaderInterceptor.java:186)




	at org.infinispan.interceptors.CacheLoaderInterceptor.visitRemoveCommand(CacheLoaderInterceptor.java:171)




	at org.infinispan.commands.write.RemoveCommand.acceptVisitor(RemoveCommand.java:59)




	at org.infinispan.interceptors.base.CommandInterceptor.invokeNextInterceptor(CommandInterceptor.java:99)




	at org.infinispan.interceptors.EntryWrappingInterceptor.invokeNextAndApplyChanges(EntryWrappingInterceptor.java:495)




	at org.infinispan.interceptors.EntryWrappingInterceptor.setSkipRemoteGetsAndInvokeNextForDataCommand(EntryWrappingInterceptor.java:560)




	at org.infinispan.interceptors.EntryWrappingInterceptor.visitRemoveCommand(EntryWrappingInterceptor.java:255)




	at org.infinispan.commands.write.RemoveCommand.acceptVisitor(RemoveCommand.java:59)




	at org.infinispan.interceptors.base.CommandInterceptor.invokeNextInterceptor(CommandInterceptor.java:99)




	at org.infinispan.interceptors.base.CommandInterceptor.handleDefault(CommandInterceptor.java:113)




	at org.infinispan.commands.AbstractVisitor.visitRemoveCommand(AbstractVisitor.java:48)




	at org.infinispan.commands.write.RemoveCommand.acceptVisitor(RemoveCommand.java:59)




	at org.infinispan.interceptors.base.CommandInterceptor.invokeNextInterceptor(CommandInterceptor.java:99)




	at org.infinispan.interceptors.base.CommandInterceptor.handleDefault(CommandInterceptor.java:113)




	at org.infinispan.commands.AbstractVisitor.visitRemoveCommand(AbstractVisitor.java:48)




	at org.infinispan.commands.write.RemoveCommand.acceptVisitor(RemoveCommand.java:59)




	at org.infinispan.interceptors.base.CommandInterceptor.invokeNextInterceptor(CommandInterceptor.java:99)




	at org.infinispan.interceptors.locking.PessimisticLockingInterceptor.visitDataWriteCommand(PessimisticLockingInterceptor.java:123)




	at org.infinispan.interceptors.locking.AbstractLockingInterceptor.visitRemoveCommand(AbstractLockingInterceptor.java:72)




	at org.infinispan.commands.write.RemoveCommand.acceptVisitor(RemoveCommand.java:59)




	at org.infinispan.interceptors.base.CommandInterceptor.invokeNextInterceptor(CommandInterceptor.java:99)




	at org.infinispan.interceptors.TxInterceptor.enlistWriteAndInvokeNext(TxInterceptor.java:366)




	at org.infinispan.interceptors.TxInterceptor.visitRemoveCommand(TxInterceptor.java:230)




	at org.infinispan.commands.write.RemoveCommand.acceptVisitor(RemoveCommand.java:59)




	at org.infinispan.interceptors.base.CommandInterceptor.invokeNextInterceptor(CommandInterceptor.java:99)




	at org.infinispan.interceptors.base.CommandInterceptor.handleDefault(CommandInterceptor.java:113)




	at org.infinispan.commands.AbstractVisitor.visitRemoveCommand(AbstractVisitor.java:48)




	at org.infinispan.commands.write.RemoveCommand.acceptVisitor(RemoveCommand.java:59)




	at org.infinispan.interceptors.base.CommandInterceptor.invokeNextInterceptor(CommandInterceptor.java:99)




	at org.infinispan.statetransfer.StateTransferInterceptor.handleTxWriteCommand(StateTransferInterceptor.java:306)




	at org.infinispan.statetransfer.StateTransferInterceptor.handleWriteCommand(StateTransferInterceptor.java:288)




	at org.infinispan.statetransfer.StateTransferInterceptor.visitRemoveCommand(StateTransferInterceptor.java:122)




	at org.infinispan.commands.write.RemoveCommand.acceptVisitor(RemoveCommand.java:59)




	at org.infinispan.interceptors.base.CommandInterceptor.invokeNextInterceptor(CommandInterceptor.java:99)




	at org.infinispan.interceptors.InvocationContextInterceptor.handleAll(InvocationContextInterceptor.java:107)




	at org.infinispan.interceptors.InvocationContextInterceptor.handleDefault(InvocationContextInterceptor.java:76)




	at org.infinispan.commands.AbstractVisitor.visitRemoveCommand(AbstractVisitor.java:48)




	at org.infinispan.commands.write.RemoveCommand.acceptVisitor(RemoveCommand.java:59)




	at org.infinispan.interceptors.base.CommandInterceptor.invokeNextInterceptor(CommandInterceptor.java:99)




	at org.infinispan.interceptors.base.CommandInterceptor.handleDefault(CommandInterceptor.java:113)




	at org.infinispan.commands.AbstractVisitor.visitRemoveCommand(AbstractVisitor.java:48)




	at org.infinispan.commands.write.RemoveCommand.acceptVisitor(RemoveCommand.java:59)




	at org.infinispan.interceptors.InterceptorChain.invoke(InterceptorChain.java:336)




	at org.infinispan.cache.impl.CacheImpl.executeCommandAndCommitIfNeeded(CacheImpl.java:1672)




	at org.infinispan.cache.impl.CacheImpl.removeInternal(CacheImpl.java:557)




	at org.infinispan.cache.impl.CacheImpl.remove(CacheImpl.java:549)




	at org.infinispan.cache.impl.DecoratedCache.remove(DecoratedCache.java:458)




	at org.infinispan.cache.impl.AbstractDelegatingCache.remove(AbstractDelegatingCache.java:296)




	at org.wildfly.clustering.web.infinispan.session.InfinispanSessionMetaDataFactory.remove(InfinispanSessionMetaDataFactory.java:125)




	at org.wildfly.clustering.web.infinispan.session.InfinispanSessionMetaDataFactory.remove(InfinispanSessionMetaDataFactory.java:39)




	at org.wildfly.clustering.web.infinispan.session.InfinispanSessionFactory.findValue(InfinispanSessionFactory.java:68)




	at org.wildfly.clustering.web.infinispan.session.InfinispanSessionFactory.findValue(InfinispanSessionFactory.java:40)




	at org.wildfly.clustering.web.infinispan.session.InfinispanSessionManager.lambda$removed$26(InfinispanSessionManager.java:330)




	at org.wildfly.clustering.service.concurrent.StampedLockServiceExecutor.execute(StampedLockServiceExecutor.java:42)




	at org.wildfly.clustering.web.infinispan.session.InfinispanSessionManager.removed(InfinispanSessionManager.java:327)




	at sun.reflect.GeneratedMethodAccessor36.invoke(Unknown Source)




	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)




	at java.lang.reflect.Method.invoke(Method.java:497)




	at org.infinispan.notifications.impl.AbstractListenerImpl$ListenerInvocationImpl$1.run(AbstractListenerImpl.java:286)




	at org.infinispan.util.concurrent.WithinThreadExecutor.execute(WithinThreadExecutor.java:21)




	at org.infinispan.notifications.impl.AbstractListenerImpl$ListenerInvocationImpl.invoke(AbstractListenerImpl.java:309)




	at org.infinispan.notifications.cachelistener.CacheNotifierImpl$BaseCacheEntryListenerInvocation.doRealInvocation(CacheNotifierImpl.java:1234)




	at org.infinispan.notifications.cachelistener.CacheNotifierImpl$BaseCacheEntryListenerInvocation.invokeNoChecks(CacheNotifierImpl.java:1229)




	at org.infinispan.notifications.cachelistener.CacheNotifierImpl$BaseCacheEntryListenerInvocation.invoke(CacheNotifierImpl.java:1206)




	at org.infinispan.notifications.cachelistener.CacheNotifierImpl.notifyCacheEntryRemoved(CacheNotifierImpl.java:354)




	at org.infinispan.commands.write.RemoveCommand.notify(RemoveCommand.java:98)




	at org.infinispan.commands.write.RemoveCommand.performRemove(RemoveCommand.java:215)




	at org.infinispan.commands.write.RemoveCommand.perform(RemoveCommand.java:94)




	at org.infinispan.interceptors.CallInterceptor.handleDefault(CallInterceptor.java:124)




	at org.infinispan.commands.AbstractVisitor.visitRemoveCommand(AbstractVisitor.java:48)




	at org.infinispan.commands.write.RemoveCommand.acceptVisitor(RemoveCommand.java:59)




	at org.infinispan.interceptors.base.CommandInterceptor.invokeNextInterceptor(CommandInterceptor.java:99)




	at org.infinispan.interceptors.distribution.TxDistributionInterceptor.handleTxWriteCommand(TxDistributionInterceptor.java:283)




	at org.infinispan.interceptors.distribution.TxDistributionInterceptor.visitRemoveCommand(TxDistributionInterceptor.java:96)




	at org.infinispan.commands.write.RemoveCommand.acceptVisitor(RemoveCommand.java:59)




	at org.infinispan.interceptors.base.CommandInterceptor.invokeNextInterceptor(CommandInterceptor.java:99)




	at org.infinispan.interceptors.CacheLoaderInterceptor.visitDataCommand(CacheLoaderInterceptor.java:186)




	at org.infinispan.interceptors.CacheLoaderInterceptor.visitRemoveCommand(CacheLoaderInterceptor.java:171)




	at org.infinispan.commands.write.RemoveCommand.acceptVisitor(RemoveCommand.java:59)




	at org.infinispan.interceptors.base.CommandInterceptor.invokeNextInterceptor(CommandInterceptor.java:99)




	at org.infinispan.interceptors.EntryWrappingInterceptor.invokeNextAndApplyChanges(EntryWrappingInterceptor.java:495)




	at org.infinispan.interceptors.EntryWrappingInterceptor.setSkipRemoteGetsAndInvokeNextForDataCommand(EntryWrappingInterceptor.java:560)




	at org.infinispan.interceptors.EntryWrappingInterceptor.visitRemoveCommand(EntryWrappingInterceptor.java:255)




	at org.infinispan.commands.write.RemoveCommand.acceptVisitor(RemoveCommand.java:59)




	at org.infinispan.interceptors.base.CommandInterceptor.invokeNextInterceptor(CommandInterceptor.java:99)




	at org.infinispan.interceptors.base.CommandInterceptor.handleDefault(CommandInterceptor.java:113)




	at org.infinispan.commands.AbstractVisitor.visitRemoveCommand(AbstractVisitor.java:48)




	at org.infinispan.commands.write.RemoveCommand.acceptVisitor(RemoveCommand.java:59)




	at org.infinispan.interceptors.base.CommandInterceptor.invokeNextInterceptor(CommandInterceptor.java:99)




	at org.infinispan.interceptors.base.CommandInterceptor.handleDefault(CommandInterceptor.java:113)




	at org.infinispan.commands.AbstractVisitor.visitRemoveCommand(AbstractVisitor.java:48)




	at org.infinispan.commands.write.RemoveCommand.acceptVisitor(RemoveCommand.java:59)




	at org.infinispan.interceptors.base.CommandInterceptor.invokeNextInterceptor(CommandInterceptor.java:99)




	at org.infinispan.interceptors.locking.PessimisticLockingInterceptor.visitDataWriteCommand(PessimisticLockingInterceptor.java:123)




	at org.infinispan.interceptors.locking.AbstractLockingInterceptor.visitRemoveCommand(AbstractLockingInterceptor.java:72)




	at org.infinispan.commands.write.RemoveCommand.acceptVisitor(RemoveCommand.java:59)




	at org.infinispan.interceptors.base.CommandInterceptor.invokeNextInterceptor(CommandInterceptor.java:99)




	at org.infinispan.interceptors.TxInterceptor.enlistWriteAndInvokeNext(TxInterceptor.java:366)




	at org.infinispan.interceptors.TxInterceptor.visitRemoveCommand(TxInterceptor.java:230)




	at org.infinispan.commands.write.RemoveCommand.acceptVisitor(RemoveCommand.java:59)




	at org.infinispan.interceptors.base.CommandInterceptor.invokeNextInterceptor(CommandInterceptor.java:99)




	at org.infinispan.interceptors.base.CommandInterceptor.handleDefault(CommandInterceptor.java:113)




	at org.infinispan.commands.AbstractVisitor.visitRemoveCommand(AbstractVisitor.java:48)




	at org.infinispan.commands.write.RemoveCommand.acceptVisitor(RemoveCommand.java:59)




	at org.infinispan.interceptors.base.CommandInterceptor.invokeNextInterceptor(CommandInterceptor.java:99)




	at org.infinispan.statetransfer.StateTransferInterceptor.handleTxWriteCommand(StateTransferInterceptor.java:306)




	at org.infinispan.statetransfer.StateTransferInterceptor.handleWriteCommand(StateTransferInterceptor.java:288)




	at org.infinispan.statetransfer.StateTransferInterceptor.visitRemoveCommand(StateTransferInterceptor.java:122)




	at org.infinispan.commands.write.RemoveCommand.acceptVisitor(RemoveCommand.java:59)




	at org.infinispan.interceptors.base.CommandInterceptor.invokeNextInterceptor(CommandInterceptor.java:99)




	at org.infinispan.interceptors.InvocationContextInterceptor.handleAll(InvocationContextInterceptor.java:107)




	at org.infinispan.interceptors.InvocationContextInterceptor.handleDefault(InvocationContextInterceptor.java:76)




	at org.infinispan.commands.AbstractVisitor.visitRemoveCommand(AbstractVisitor.java:48)




	at org.infinispan.commands.write.RemoveCommand.acceptVisitor(RemoveCommand.java:59)




	at org.infinispan.interceptors.base.CommandInterceptor.invokeNextInterceptor(CommandInterceptor.java:99)




	at org.infinispan.interceptors.base.CommandInterceptor.handleDefault(CommandInterceptor.java:113)




	at org.infinispan.commands.AbstractVisitor.visitRemoveCommand(AbstractVisitor.java:48)




	at org.infinispan.commands.write.RemoveCommand.acceptVisitor(RemoveCommand.java:59)




	at org.infinispan.interceptors.InterceptorChain.invoke(InterceptorChain.java:336)




	at org.infinispan.cache.impl.CacheImpl.executeCommandAndCommitIfNeeded(CacheImpl.java:1672)




	at org.infinispan.cache.impl.CacheImpl.removeInternal(CacheImpl.java:557)




	at org.infinispan.cache.impl.CacheImpl.remove(CacheImpl.java:549)




	at org.infinispan.cache.impl.DecoratedCache.remove(DecoratedCache.java:458)




	at org.infinispan.cache.impl.AbstractDelegatingCache.remove(AbstractDelegatingCache.java:296)




	at org.wildfly.clustering.web.infinispan.session.InfinispanSessionMetaDataFactory.remove(InfinispanSessionMetaDataFactory.java:125)




	at org.wildfly.clustering.web.infinispan.session.InfinispanSessionMetaDataFactory.remove(InfinispanSessionMetaDataFactory.java:39)




	at org.wildfly.clustering.web.infinispan.session.InfinispanSessionFactory.findValue(InfinispanSessionFactory.java:68)




	at org.wildfly.clustering.web.infinispan.session.InfinispanSessionFactory.findValue(InfinispanSessionFactory.java:40)




	at org.wildfly.clustering.web.infinispan.session.InfinispanSessionManager.lambda$removed$26(InfinispanSessionManager.java:330)




	at org.wildfly.clustering.service.concurrent.StampedLockServiceExecutor.execute(StampedLockServiceExecutor.java:42)




	at org.wildfly.clustering.web.infinispan.session.InfinispanSessionManager.removed(InfinispanSessionManager.java:327)




	at sun.reflect.GeneratedMethodAccessor36.invoke(Unknown Source)




	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)




	at java.lang.reflect.Method.invoke(Method.java:497)




	at org.infinispan.notifications.impl.AbstractListenerImpl$ListenerInvocationImpl$1.run(AbstractListenerImpl.java:286)




	at org.infinispan.util.concurrent.WithinThreadExecutor.execute(WithinThreadExecutor.java:21)




	at org.infinispan.notifications.impl.AbstractListenerImpl$ListenerInvocationImpl.invoke(AbstractListenerImpl.java:309)




	at org.infinispan.notifications.cachelistener.CacheNotifierImpl$BaseCacheEntryListenerInvocation.doRealInvocation(CacheNotifierImpl.java:1234)




	at org.infinispan.notifications.cachelistener.CacheNotifierImpl$BaseCacheEntryListenerInvocation.invokeNoChecks(CacheNotifierImpl.java:1229)




	at org.infinispan.notifications.cachelistener.CacheNotifierImpl$BaseCacheEntryListenerInvocation.invoke(CacheNotifierImpl.java:1206)




	at org.infinispan.notifications.cachelistener.CacheNotifierImpl.notifyCacheEntryRemoved(CacheNotifierImpl.java:354)




	at org.infinispan.commands.write.RemoveCommand.notify(RemoveCommand.java:98)




	at org.infinispan.commands.write.RemoveCommand.performRemove(RemoveCommand.java:215)




	at org.infinispan.commands.write.RemoveCommand.perform(RemoveCommand.java:94)




	at org.infinispan.interceptors.CallInterceptor.handleDefault(CallInterceptor.java:124)




	at org.infinispan.commands.AbstractVisitor.visitRemoveCommand(AbstractVisitor.java:48)




	at org.infinispan.commands.write.RemoveCommand.acceptVisitor(RemoveCommand.java:59)




	at org.infinispan.interceptors.base.CommandInterceptor.invokeNextInterceptor(CommandInterceptor.java:99)




	at org.infinispan.interceptors.distribution.TxDistributionInterceptor.handleTxWriteCommand(TxDistributionInterceptor.java:283)




	at org.infinispan.interceptors.distribution.TxDistributionInterceptor.visitRemoveCommand(TxDistributionInterceptor.java:96)




	at org.infinispan.commands.write.RemoveCommand.acceptVisitor(RemoveCommand.java:59)




	at org.infinispan.interceptors.base.CommandInterceptor.invokeNextInterceptor(CommandInterceptor.java:99)




	at org.infinispan.interceptors.CacheLoaderInterceptor.visitDataCommand(CacheLoaderInterceptor.java:186)




	at org.infinispan.interceptors.CacheLoaderInterceptor.visitRemoveCommand(CacheLoaderInterceptor.java:171)




	at org.infinispan.commands.write.RemoveCommand.acceptVisitor(RemoveCommand.java:59)




	at org.infinispan.interceptors.base.CommandInterceptor.invokeNextInterceptor(CommandInterceptor.java:99)




	at org.infinispan.interceptors.EntryWrappingInterceptor.invokeNextAndApplyChanges(EntryWrappingInterceptor.java:495)




	at org.infinispan.interceptors.EntryWrappingInterceptor.setSkipRemoteGetsAndInvokeNextForDataCommand(EntryWrappingInterceptor.java:560)




	at org.infinispan.interceptors.EntryWrappingInterceptor.visitRemoveCommand(EntryWrappingInterceptor.java:255)




	at org.infinispan.commands.write.RemoveCommand.acceptVisitor(RemoveCommand.java:59)




	at org.infinispan.interceptors.base.CommandInterceptor.invokeNextInterceptor(CommandInterceptor.java:99)




	at org.infinispan.interceptors.base.CommandInterceptor.handleDefault(CommandInterceptor.java:113)




	at org.infinispan.commands.AbstractVisitor.visitRemoveCommand(AbstractVisitor.java:48)




	at org.infinispan.commands.write.RemoveCommand.acceptVisitor(RemoveCommand.java:59)




	at org.infinispan.interceptors.base.CommandInterceptor.invokeNextInterceptor(CommandInterceptor.java:99)




	at org.infinispan.interceptors.base.CommandInterceptor.handleDefault(CommandInterceptor.java:113)




	at org.infinispan.commands.AbstractVisitor.visitRemoveCommand(AbstractVisitor.java:48)




	at org.infinispan.commands.write.RemoveCommand.acceptVisitor(RemoveCommand.java:59)




	at org.infinispan.interceptors.base.CommandInterceptor.invokeNextInterceptor(CommandInterceptor.java:99)




	at org.infinispan.interceptors.locking.PessimisticLockingInterceptor.visitDataWriteCommand(PessimisticLockingInterceptor.java:123)




	at org.infinispan.interceptors.locking.AbstractLockingInterceptor.visitRemoveCommand(AbstractLockingInterceptor.java:72)




	at org.infinispan.commands.write.RemoveCommand.acceptVisitor(RemoveCommand.java:59)




	at org.infinispan.interceptors.base.CommandInterceptor.invokeNextInterceptor(CommandInterceptor.java:99)




	at org.infinispan.interceptors.TxInterceptor.enlistWriteAndInvokeNext(TxInterceptor.java:366)




	at org.infinispan.interceptors.TxInterceptor.visitRemoveCommand(TxInterceptor.java:230)




	at org.infinispan.commands.write.RemoveCommand.acceptVisitor(RemoveCommand.java:59)




	at org.infinispan.interceptors.base.CommandInterceptor.invokeNextInterceptor(CommandInterceptor.java:99)




	at org.infinispan.interceptors.base.CommandInterceptor.handleDefault(CommandInterceptor.java:113)




	at org.infinispan.commands.AbstractVisitor.visitRemoveCommand(AbstractVisitor.java:48)




	at org.infinispan.commands.write.RemoveCommand.acceptVisitor(RemoveCommand.java:59)




	at org.infinispan.interceptors.base.CommandInterceptor.invokeNextInterceptor(CommandInterceptor.java:99)




	at org.infinispan.statetransfer.StateTransferInterceptor.handleTxWriteCommand(StateTransferInterceptor.java:306)




	at org.infinispan.statetransfer.StateTransferInterceptor.handleWriteCommand(StateTransferInterceptor.java:288)




	at org.infinispan.statetransfer.StateTransferInterceptor.visitRemoveCommand(StateTransferInterceptor.java:122)




	at org.infinispan.commands.write.RemoveCommand.acceptVisitor(RemoveCommand.java:59)




	at org.infinispan.interceptors.base.CommandInterceptor.invokeNextInterceptor(CommandInterceptor.java:99)




	at org.infinispan.interceptors.InvocationContextInterceptor.handleAll(InvocationContextInterceptor.java:107)




	at org.infinispan.interceptors.InvocationContextInterceptor.handleDefault(InvocationContextInterceptor.java:76)




	at org.infinispan.commands.AbstractVisitor.visitRemoveCommand(AbstractVisitor.java:48)




	at org.infinispan.commands.write.RemoveCommand.acceptVisitor(RemoveCommand.java:59)




	at org.infinispan.interceptors.base.CommandInterceptor.invokeNextInterceptor(CommandInterceptor.java:99)




	at org.infinispan.interceptors.base.CommandInterceptor.handleDefault(CommandInterceptor.java:113)




	at org.infinispan.commands.AbstractVisitor.visitRemoveCommand(AbstractVisitor.java:48)




	at org.infinispan.commands.write.RemoveCommand.acceptVisitor(RemoveCommand.java:59)




	at org.infinispan.interceptors.InterceptorChain.invoke(InterceptorChain.java:336)




	at org.infinispan.cache.impl.CacheImpl.executeCommandAndCommitIfNeeded(CacheImpl.java:1672)




	at org.infinispan.cache.impl.CacheImpl.removeInternal(CacheImpl.java:557)




	at org.infinispan.cache.impl.CacheImpl.remove(CacheImpl.java:549)




	at org.infinispan.cache.impl.DecoratedCache.remove(DecoratedCache.java:458)




	at org.infinispan.cache.impl.AbstractDelegatingCache.remove(AbstractDelegatingCache.java:296)




	at org.wildfly.clustering.web.infinispan.session.InfinispanSessionMetaDataFactory.remove(InfinispanSessionMetaDataFactory.java:125)




	at org.wildfly.clustering.web.infinispan.session.InfinispanSessionMetaDataFactory.remove(InfinispanSessionMetaDataFactory.java:39)




	at org.wildfly.clustering.web.infinispan.session.InfinispanSessionFactory.findValue(InfinispanSessionFactory.java:68)




	at org.wildfly.clustering.web.infinispan.session.InfinispanSessionFactory.findValue(InfinispanSessionFactory.java:40)




	at org.wildfly.clustering.web.infinispan.session.InfinispanSessionManager.lambda$removed$26(InfinispanSessionManager.java:330)




	at org.wildfly.clustering.service.concurrent.StampedLockServiceExecutor.execute(StampedLockServiceExecutor.java:42)




	at org.wildfly.clustering.web.infinispan.session.InfinispanSessionManager.removed(InfinispanSessionManager.java:327)




	at sun.reflect.GeneratedMethodAccessor36.invoke(Unknown Source)




	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)




	at java.lang.reflect.Method.invoke(Method.java:497)




	at org.infinispan.notifications.impl.AbstractListenerImpl$ListenerInvocationImpl$1.run(AbstractListenerImpl.java:286)




	at org.infinispan.util.concurrent.WithinThreadExecutor.execute(WithinThreadExecutor.java:21)




	at org.infinispan.notifications.impl.AbstractListenerImpl$ListenerInvocationImpl.invoke(AbstractListenerImpl.java:309)




	at org.infinispan.notifications.cachelistener.CacheNotifierImpl$BaseCacheEntryListenerInvocation.doRealInvocation(CacheNotifierImpl.java:1234)




	at org.infinispan.notifications.cachelistener.CacheNotifierImpl$BaseCacheEntryListenerInvocation.invokeNoChecks(CacheNotifierImpl.java:1229)




	at org.infinispan.notifications.cachelistener.CacheNotifierImpl$BaseCacheEntryListenerInvocation.invoke(CacheNotifierImpl.java:1206)




	at org.infinispan.notifications.cachelistener.CacheNotifierImpl.notifyCacheEntryRemoved(CacheNotifierImpl.java:354)




	at org.infinispan.commands.write.RemoveCommand.notify(RemoveCommand.java:98)




	at org.infinispan.commands.write.RemoveCommand.performRemove(RemoveCommand.java:215)




	at org.infinispan.commands.write.RemoveCommand.perform(RemoveCommand.java:94)




	at org.infinispan.interceptors.CallInterceptor.handleDefault(CallInterceptor.java:124)




	at org.infinispan.commands.AbstractVisitor.visitRemoveCommand(AbstractVisitor.java:48)




	at org.infinispan.commands.write.RemoveCommand.acceptVisitor(RemoveCommand.java:59)




	at org.infinispan.interceptors.base.CommandInterceptor.invokeNextInterceptor(CommandInterceptor.java:99)




	at org.infinispan.interceptors.distribution.TxDistributionInterceptor.handleTxWriteCommand(TxDistributionInterceptor.java:283)




	at org.infinispan.interceptors.distribution.TxDistributionInterceptor.visitRemoveCommand(TxDistributionInterceptor.java:96)




	at org.infinispan.commands.write.RemoveCommand.acceptVisitor(RemoveCommand.java:59)




	at org.infinispan.interceptors.base.CommandInterceptor.invokeNextInterceptor(CommandInterceptor.java:99)




	at org.infinispan.interceptors.CacheLoaderInterceptor.visitDataCommand(CacheLoaderInterceptor.java:186)




	at org.infinispan.interceptors.CacheLoaderInterceptor.visitRemoveCommand(CacheLoaderInterceptor.java:171)




	at org.infinispan.commands.write.RemoveCommand.acceptVisitor(RemoveCommand.java:59)




	at org.infinispan.interceptors.base.CommandInterceptor.invokeNextInterceptor(CommandInterceptor.java:99)




	at org.infinispan.interceptors.EntryWrappingInterceptor.invokeNextAndApplyChanges(EntryWrappingInterceptor.java:495)




	at org.infinispan.interceptors.EntryWrappingInterceptor.setSkipRemoteGetsAndInvokeNextForDataCommand(EntryWrappingInterceptor.java:560)




	at org.infinispan.interceptors.EntryWrappingInterceptor.visitRemoveCommand(EntryWrappingInterceptor.java:255)




	at org.infinispan.commands.write.RemoveCommand.acceptVisitor(RemoveCommand.java:59)




	at org.infinispan.interceptors.base.CommandInterceptor.invokeNextInterceptor(CommandInterceptor.java:99)




	at org.infinispan.interceptors.base.CommandInterceptor.handleDefault(CommandInterceptor.java:113)




	at org.infinispan.commands.AbstractVisitor.visitRemoveCommand(AbstractVisitor.java:48)




	at org.infinispan.commands.write.RemoveCommand.acceptVisitor(RemoveCommand.java:59)




	at org.infinispan.interceptors.base.CommandInterceptor.invokeNextInterceptor(CommandInterceptor.java:99)




	at org.infinispan.interceptors.base.CommandInterceptor.handleDefault(CommandInterceptor.java:113)




	at org.infinispan.commands.AbstractVisitor.visitRemoveCommand(AbstractVisitor.java:48)




	at org.infinispan.commands.write.RemoveCommand.acceptVisitor(RemoveCommand.java:59)




	at org.infinispan.interceptors.base.CommandInterceptor.invokeNextInterceptor(CommandInterceptor.java:99)




	at org.infinispan.interceptors.locking.PessimisticLockingInterceptor.visitDataWriteCommand(PessimisticLockingInterceptor.java:123)




	at org.infinispan.interceptors.locking.AbstractLockingInterceptor.visitRemoveCommand(AbstractLockingInterceptor.java:72)




	at org.infinispan.commands.write.RemoveCommand.acceptVisitor(RemoveCommand.java:59)




	at org.infinispan.interceptors.base.CommandInterceptor.invokeNextInterceptor(CommandInterceptor.java:99)




	at org.infinispan.interceptors.TxInterceptor.enlistWriteAndInvokeNext(TxInterceptor.java:366)




	at org.infinispan.interceptors.TxInterceptor.visitRemoveCommand(TxInterceptor.java:230)




	at org.infinispan.commands.write.RemoveCommand.acceptVisitor(RemoveCommand.java:59)




	at org.infinispan.interceptors.base.CommandInterceptor.invokeNextInterceptor(CommandInterceptor.java:99)




	at org.infinispan.interceptors.base.CommandInterceptor.handleDefault(CommandInterceptor.java:113)




	at org.infinispan.commands.AbstractVisitor.visitRemoveCommand(AbstractVisitor.java:48)




	at org.infinispan.commands.write.RemoveCommand.acceptVisitor(RemoveCommand.java:59)




	at org.infinispan.interceptors.base.CommandInterceptor.invokeNextInterceptor(CommandInterceptor.java:99)




	at org.infinispan.statetransfer.StateTransferInterceptor.handleTxWriteCommand(StateTransferInterceptor.java:306)




	at org.infinispan.statetransfer.StateTransferInterceptor.handleWriteCommand(StateTransferInterceptor.java:288)




	at org.infinispan.statetransfer.StateTransferInterceptor.visitRemoveCommand(StateTransferInterceptor.java:122)




	at org.infinispan.commands.write.RemoveCommand.acceptVisitor(RemoveCommand.java:59)




	at org.infinispan.interceptors.base.CommandInterceptor.invokeNextInterceptor(CommandInterceptor.java:99)




	at org.infinispan.interceptors.InvocationContextInterceptor.handleAll(InvocationContextInterceptor.java:107)




	at org.infinispan.interceptors.InvocationContextInterceptor.handleDefault(InvocationContextInterceptor.java:76)




	at org.infinispan.commands.AbstractVisitor.visitRemoveCommand(AbstractVisitor.java:48)




	at org.infinispan.commands.write.RemoveCommand.acceptVisitor(RemoveCommand.java:59)




	at org.infinispan.interceptors.base.CommandInterceptor.invokeNextInterceptor(CommandInterceptor.java:99)




	at org.infinispan.interceptors.base.CommandInterceptor.handleDefault(CommandInterceptor.java:113)




	at org.infinispan.commands.AbstractVisitor.visitRemoveCommand(AbstractVisitor.java:48)




	at org.infinispan.commands.write.RemoveCommand.acceptVisitor(RemoveCommand.java:59)




	at org.infinispan.interceptors.InterceptorChain.invoke(InterceptorChain.java:336)




	at org.infinispan.cache.impl.CacheImpl.executeCommandAndCommitIfNeeded(CacheImpl.java:1672)




	at org.infinispan.cache.impl.CacheImpl.removeInternal(CacheImpl.java:557)




	at org.infinispan.cache.impl.CacheImpl.remove(CacheImpl.java:549)




	at org.infinispan.cache.impl.DecoratedCache.remove(DecoratedCache.java:458)




	at org.infinispan.cache.impl.AbstractDelegatingCache.remove(AbstractDelegatingCache.java:296)




	at org.wildfly.clustering.web.infinispan.session.InfinispanSessionMetaDataFactory.remove(InfinispanSessionMetaDataFactory.java:125)




	at org.wildfly.clustering.web.infinispan.session.InfinispanSessionMetaDataFactory.remove(InfinispanSessionMetaDataFactory.java:39)




	at org.wildfly.clustering.web.infinispan.session.InfinispanSessionFactory.findValue(InfinispanSessionFactory.java:68)




	at org.wildfly.clustering.web.infinispan.session.InfinispanSessionFactory.findValue(InfinispanSessionFactory.java:40)




	at org.wildfly.clustering.web.infinispan.session.InfinispanSessionManager.lambda$removed$26(InfinispanSessionManager.java:330)




	at org.wildfly.clustering.service.concurrent.StampedLockServiceExecutor.execute(StampedLockServiceExecutor.java:42)




	at org.wildfly.clustering.web.infinispan.session.InfinispanSessionManager.removed(InfinispanSessionManager.java:327)




	at sun.reflect.GeneratedMethodAccessor36.invoke(Unknown Source)




	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)




	at java.lang.reflect.Method.invoke(Method.java:497)




	at org.infinispan.notifications.impl.AbstractListenerImpl$ListenerInvocationImpl$1.run(AbstractListenerImpl.java:286)




	at org.infinispan.util.concurrent.WithinThreadExecutor.execute(WithinThreadExecutor.java:21)




	at org.infinispan.notifications.impl.AbstractListenerImpl$ListenerInvocationImpl.invoke(AbstractListenerImpl.java:309)




	at org.infinispan.notifications.cachelistener.CacheNotifierImpl$BaseCacheEntryListenerInvocation.doRealInvocation(CacheNotifierImpl.java:1234)




	at org.infinispan.notifications.cachelistener.CacheNotifierImpl$BaseCacheEntryListenerInvocation.invokeNoChecks(CacheNotifierImpl.java:1229)




	at org.infinispan.notifications.cachelistener.CacheNotifierImpl$BaseCacheEntryListenerInvocation.invoke(CacheNotifierImpl.java:1206)




	at org.infinispan.notifications.cachelistener.CacheNotifierImpl.notifyCacheEntryRemoved(CacheNotifierImpl.java:354)




	at org.infinispan.commands.write.RemoveCommand.notify(RemoveCommand.java:98)




	at org.infinispan.commands.write.RemoveCommand.performRemove(RemoveCommand.java:215)




	at org.infinispan.commands.write.RemoveCommand.perform(RemoveCommand.java:94)




	at org.infinispan.interceptors.CallInterceptor.handleDefault(CallInterceptor.java:124)




	at org.infinispan.commands.AbstractVisitor.visitRemoveCommand(AbstractVisitor.java:48)




	at org.infinispan.commands.write.RemoveCommand.acceptVisitor(RemoveCommand.java:59)




	at org.infinispan.interceptors.base.CommandInterceptor.invokeNextInterceptor(CommandInterceptor.java:99)




	at org.infinispan.interceptors.distribution.TxDistributionInterceptor.handleTxWriteCommand(TxDistributionInterceptor.java:283)




	at org.infinispan.interceptors.distribution.TxDistributionInterceptor.visitRemoveCommand(TxDistributionInterceptor.java:96)




	at org.infinispan.commands.write.RemoveCommand.acceptVisitor(RemoveCommand.java:59)





</description>
			<version>10.0.0.CR5</version>
			<fixedVersion>10.0.0.Final</fixedVersion>
			<type>Bug</type>
		</buginformation>
		<fixedFiles>
			<file type="M">org.wildfly.clustering.ee.infinispan.Remover.java</file>
			<file type="M">org.wildfly.clustering.web.infinispan.session.InfinispanSessionFactory.java</file>
			<file type="M">org.wildfly.clustering.web.infinispan.session.InfinispanSessionFactoryTestCase.java</file>
			<file type="M">org.wildfly.clustering.web.infinispan.session.InfinispanSessionMetaDataFactory.java</file>
		</fixedFiles>
		<links>
			<link type="Cloners" description="cloned from">2561</link>
		</links>
	</bug>
	<bug id="5939" opendate="2016-01-05 21:18:09" fixdate="2016-01-08 12:46:54" resolution="Done">
		<buginformation>
			<summary>Binding to &lt;any-address/&gt; will make mod_cluster advertise host as 0.0.0.0</summary>
			<description>Needs to be handled in org.wildfly.mod_cluster.undertow.UndertowConnector#setAddress.</description>
			<version>10.0.0.CR5</version>
			<fixedVersion>10.0.0.Final</fixedVersion>
			<type>Bug</type>
		</buginformation>
		<fixedFiles>
			<file type="M">org.wildfly.mod_cluster.undertow.UndertowConnector.java</file>
		</fixedFiles>
		<links>
			<link type="Cloners" description="cloned to">2576</link>
		</links>
	</bug>
	<bug id="4678" opendate="2015-05-26 14:57:49" fixdate="2016-01-08 16:14:24" resolution="Done">
		<buginformation>
			<summary>IllegalStateException when accessing DistributableCache</summary>
			<description>When making invocations on SFSBs in a cluster, the following exception arises:






[0m[31m17:58:44,853 ERROR [org.infinispan.interceptors.InvocationContextInterceptor] (EJB default - 2) ISPN000136: Execution error: java.lang.IllegalStateException: Transaction DummyTransaction{xid=DummyXid{id=5}, status=3} is not in a valid state to be invoking cache operations on.




        at org.infinispan.interceptors.TxInterceptor.enlist(TxInterceptor.java:389)




        at org.infinispan.interceptors.TxInterceptor.enlistIfNeeded(TxInterceptor.java:351)




        at org.infinispan.interceptors.TxInterceptor.enlistReadAndInvokeNext(TxInterceptor.java:345)




        at org.infinispan.interceptors.TxInterceptor.visitGetKeyValueCommand(TxInterceptor.java:318)




        at org.infinispan.commands.read.GetKeyValueCommand.acceptVisitor(GetKeyValueCommand.java:40)




        at org.infinispan.interceptors.base.CommandInterceptor.invokeNextInterceptor(CommandInterceptor.java:97)




        at org.infinispan.interceptors.base.CommandInterceptor.handleDefault(CommandInterceptor.java:111)




        at org.infinispan.commands.AbstractVisitor.visitGetKeyValueCommand(AbstractVisitor.java:86)




        at org.infinispan.commands.read.GetKeyValueCommand.acceptVisitor(GetKeyValueCommand.java:40)




        at org.infinispan.interceptors.base.CommandInterceptor.invokeNextInterceptor(CommandInterceptor.java:97)




        at org.infinispan.statetransfer.StateTransferInterceptor.handleTopologyAffectedCommand(StateTransferInterceptor.java:369)




        at org.infinispan.statetransfer.StateTransferInterceptor.handleDefault(StateTransferInterceptor.java:354)




        at org.infinispan.commands.AbstractVisitor.visitGetKeyValueCommand(AbstractVisitor.java:86)




        at org.infinispan.commands.read.GetKeyValueCommand.acceptVisitor(GetKeyValueCommand.java:40)




        at org.infinispan.interceptors.base.CommandInterceptor.invokeNextInterceptor(CommandInterceptor.java:97)




        at org.infinispan.interceptors.CacheMgmtInterceptor.visitDataReadCommand(CacheMgmtInterceptor.java:103)




        at org.infinispan.interceptors.CacheMgmtInterceptor.visitGetKeyValueCommand(CacheMgmtInterceptor.java:91)




        at org.infinispan.commands.read.GetKeyValueCommand.acceptVisitor(GetKeyValueCommand.java:40)




        at org.infinispan.interceptors.base.CommandInterceptor.invokeNextInterceptor(CommandInterceptor.java:97)




        at org.infinispan.interceptors.InvocationContextInterceptor.handleAll(InvocationContextInterceptor.java:102)




        at org.infinispan.interceptors.InvocationContextInterceptor.handleDefault(InvocationContextInterceptor.java:71)




        at org.infinispan.commands.AbstractVisitor.visitGetKeyValueCommand(AbstractVisitor.java:86)




        at org.infinispan.commands.read.GetKeyValueCommand.acceptVisitor(GetKeyValueCommand.java:40)




        at org.infinispan.interceptors.InterceptorChain.invoke(InterceptorChain.java:336)




        at org.infinispan.cache.impl.CacheImpl.get(CacheImpl.java:430)




        at org.infinispan.cache.impl.DecoratedCache.get(DecoratedCache.java:427)




        at org.infinispan.cache.impl.AbstractDelegatingCache.get(AbstractDelegatingCache.java:287)




        at org.wildfly.clustering.ejb.infinispan.bean.InfinispanBeanFactory.findValue(InfinispanBeanFactory.java:88)




        at org.wildfly.clustering.ejb.infinispan.bean.InfinispanBeanFactory.findValue(InfinispanBeanFactory.java:51)




        at org.wildfly.clustering.ejb.infinispan.InfinispanBeanManager.findBean(InfinispanBeanManager.java:261)




        at org.jboss.as.ejb3.cache.distributable.DistributableCache.get(DistributableCache.java:115)










</description>
			<version>9.0.0.CR1</version>
			<fixedVersion>10.0.0.Final</fixedVersion>
			<type>Bug</type>
		</buginformation>
		<fixedFiles>
			<file type="M">org.jboss.as.ejb3.cache.distributable.DistributableCache.java</file>
			<file type="M">org.wildfly.clustering.ee.infinispan.InfinispanBatcherTestCase.java</file>
			<file type="M">org.wildfly.clustering.ee.infinispan.InfinispanBatcher.java</file>
		</fixedFiles>
		<links>
			<link type="Cloners" description="cloned to">1220</link>
		</links>
	</bug>
	<bug id="5998" opendate="2016-01-14 18:57:34" fixdate="2016-01-15 14:42:20" resolution="Done">
		<buginformation>
			<summary>ISPN-6007 workaround fails for caches using optimistic locking</summary>
			<description>Ultimately, this workaround should be removed following the upgrade to Infinispan 8.1.1.Final - which incorporates a fix for ISPN-6007.</description>
			<version>10.0.0.CR5</version>
			<fixedVersion>10.0.0.Final</fixedVersion>
			<type>Bug</type>
		</buginformation>
		<fixedFiles>
			<file type="M">org.wildfly.clustering.web.infinispan.session.InfinispanSessionManagerFactory.java</file>
			<file type="M">org.wildfly.clustering.web.infinispan.session.InfinispanSessionMetaDataFactory.java</file>
		</fixedFiles>
		<links>
			<link type="Cloners" description="cloned to">2801</link>
		</links>
	</bug>
	<bug id="5959" opendate="2016-01-08 10:00:23" fixdate="2016-01-19 20:18:06" resolution="Done">
		<buginformation>
			<summary>Infinispan caches non transactional despite transactional cache mode</summary>
			<description>Local Infinispan caches declared in standalone.xml are no longer set as transactional even if a transactional mode is selected.
This prevents creation of atomic maps using AtomicMapLookup as that specifically checks if the cache is transactional (throws java.lang.IllegalStateException: AtomicMap needs a transactional cache.)
Possibly caused by issue WFLY-5327.</description>
			<version>10.0.0.CR5</version>
			<fixedVersion>10.0.0.Final</fixedVersion>
			<type>Bug</type>
		</buginformation>
		<fixedFiles>
			<file type="M">org.jboss.as.clustering.infinispan.subsystem.CacheServiceHandler.java</file>
		</fixedFiles>
		<links>
			<link type="Cloners" description="cloned to">2658</link>
		</links>
	</bug>
	<bug id="6027" opendate="2016-01-19 10:44:05" fixdate="2016-01-20 08:29:51" resolution="Done">
		<buginformation>
			<summary>Fix messaging migration warnings</summary>
			<description></description>
			<version>10.0.0.CR5</version>
			<fixedVersion>10.0.0.Final</fixedVersion>
			<type>Bug</type>
		</buginformation>
		<fixedFiles>
			<file type="M">org.jboss.as.messaging.logging.MessagingLogger.java</file>
		</fixedFiles>
		<links>
			<link type="Cloners" description="cloned to">2873</link>
		</links>
	</bug>
	<bug id="5971" opendate="2016-01-11 13:35:09" fixdate="2016-01-20 09:58:31" resolution="Done">
		<buginformation>
			<summary>Weld&amp;apos;s ProxyServicesImpl#getClassLoader has reversed security manager check</summary>
			<description>Introduced by 
9362aab078aa0b61144b27f9a0ae9b233bcde9ca
Method
org.jboss.as.weld.services.bootstrap.ProxyServicesImpl#getClassLoader
Stack trace 
https://gist.github.com/rhusar/2db92caf6e3bd182331f</description>
			<version>10.0.0.CR5</version>
			<fixedVersion>10.0.0.Final</fixedVersion>
			<type>Bug</type>
		</buginformation>
		<fixedFiles>
			<file type="M">org.jboss.as.weld.services.bootstrap.ProxyServicesImpl.java</file>
		</fixedFiles>
		<links>
			<link type="Cloners" description="cloned to">2667</link>
			<link type="Cloners" description="cloned to">2742</link>
			<link type="Dependency" description="blocks">5519</link>
		</links>
	</bug>
	<bug id="5927" opendate="2016-01-04 19:46:25" fixdate="2016-01-20 09:59:03" resolution="Done">
		<buginformation>
			<summary>Transformation tests that were failing due to WFCORE-1210 are still disabled</summary>
			<description>Alias addresses tests in org.jboss.as.clustering.infinispan.subsystem.TransformersTestCase#propertiesMapOperationsTest were affected by WFCORE-1210.</description>
			<version>10.0.0.CR5</version>
			<fixedVersion>10.0.0.Final</fixedVersion>
			<type>Bug</type>
		</buginformation>
		<fixedFiles>
			<file type="M">org.jboss.as.clustering.infinispan.subsystem.TransformersTestCase.java</file>
		</fixedFiles>
		<links>
			<link type="Cloners" description="cloned from">2539</link>
			<link type="Dependency" description="is blocked by">1210</link>
		</links>
	</bug>
	<bug id="5995" opendate="2016-01-14 16:32:21" fixdate="2016-01-21 11:17:59" resolution="Done">
		<buginformation>
			<summary>Initial calculation of the first expiration time for a scheduled timer is wrong if a start date is set</summary>
			<description>If a scheduled timer should be created with the following parameters:
ScheduleExpression[second=0 minute=0/5 hour=20-22 dayOfWeek=* dayOfMonth=* month=* year=* start=Thu Jan 14 09:45:35 GMT+1 2016]
The first schedule should be 
  Thu Jan 17 20:00:20 GMT+1 2016
but is calculated as
  Sun Jan 17 20:45:35 GMT+1 2016
The minutes are not correctly set according to the schedule and the given start date.
This happen for seconds/minutes if the ScheduleExpression limit the range.</description>
			<version>8.2.1.Final</version>
			<fixedVersion>10.0.0.Final</fixedVersion>
			<type>Bug</type>
		</buginformation>
		<fixedFiles>
			<file type="M">org.jboss.as.ejb3.timerservice.schedule.CalendarBasedTimeout.java</file>
			<file type="M">org.jboss.as.ejb3.timer.schedule.CalendarBasedTimeoutTestCase.java</file>
		</fixedFiles>
		<links>
			<link type="Cloners" description="cloned to">2799</link>
			<link type="Superset" description="is incorporated by">2799</link>
		</links>
	</bug>
	<bug id="5880" opendate="2015-12-18 13:56:01" fixdate="2016-01-25 20:45:39" resolution="Done">
		<buginformation>
			<summary>org.infinispan.util.concurrent.TimeoutException: Timed out waiting for topology after failover</summary>
			<description>Seen in these scenarios in ER3:

http-session-jvmkill-dist-async-3owners
ejb-ejbservlet-shutdown-dist-async

Immediately after perf18 was killed (jvmkill), perf19 and perf20 logged JBEAP-794 and then this error:






[0m[31m04:21:28,668 ERROR [org.infinispan.interceptors.InvocationContextInterceptor] (default task-127) ISPN000136: Error executing command LockControlCommand, writing keys []: org.infinispan.util.concurrent.TimeoutException: Timed out waiting for topology 9




[JBossINF] 	at org.infinispan.statetransfer.StateTransferLockImpl.waitForTransactionData(StateTransferLockImpl.java:92)




[JBossINF] 	at org.infinispan.interceptors.base.BaseStateTransferInterceptor.waitForTransactionData(BaseStateTransferInterceptor.java:96)




[JBossINF] 	at org.infinispan.statetransfer.StateTransferInterceptor.handleTxCommand(StateTransferInterceptor.java:259)




[JBossINF] 	at org.infinispan.statetransfer.StateTransferInterceptor.visitLockControlCommand(StateTransferInterceptor.java:103)




[JBossINF] 	at org.infinispan.commands.control.LockControlCommand.acceptVisitor(LockControlCommand.java:110)




[JBossINF] 	at org.infinispan.interceptors.base.CommandInterceptor.invokeNextInterceptor(CommandInterceptor.java:99)




[JBossINF] 	at org.infinispan.interceptors.InvocationContextInterceptor.handleAll(InvocationContextInterceptor.java:107)




[JBossINF] 	at org.infinispan.interceptors.InvocationContextInterceptor.visitLockControlCommand(InvocationContextInterceptor.java:81)




[JBossINF] 	at org.infinispan.commands.control.LockControlCommand.acceptVisitor(LockControlCommand.java:110)




[JBossINF] 	at org.infinispan.interceptors.base.CommandInterceptor.invokeNextInterceptor(CommandInterceptor.java:99)




[JBossINF] 	at org.infinispan.interceptors.base.CommandInterceptor.handleDefault(CommandInterceptor.java:113)




[JBossINF] 	at org.infinispan.commands.AbstractVisitor.visitLockControlCommand(AbstractVisitor.java:163)




[JBossINF] 	at org.infinispan.commands.control.LockControlCommand.acceptVisitor(LockControlCommand.java:110)




[JBossINF] 	at org.infinispan.interceptors.InterceptorChain.invoke(InterceptorChain.java:336)




[JBossINF] 	at org.infinispan.cache.impl.CacheImpl.lock(CacheImpl.java:828)




[JBossINF] 	at org.infinispan.cache.impl.CacheImpl.lock(CacheImpl.java:810)




[JBossINF] 	at org.infinispan.cache.impl.AbstractDelegatingAdvancedCache.lock(AbstractDelegatingAdvancedCache.java:177)




[JBossINF] 	at org.wildfly.clustering.web.infinispan.session.InfinispanSessionMetaDataFactory.getValue(InfinispanSessionMetaDataFactory.java:82)




[JBossINF] 	at org.wildfly.clustering.web.infinispan.session.InfinispanSessionMetaDataFactory.findValue(InfinispanSessionMetaDataFactory.java:67)




[JBossINF] 	at org.wildfly.clustering.web.infinispan.session.InfinispanSessionMetaDataFactory.findValue(InfinispanSessionMetaDataFactory.java:39)




[JBossINF] 	at org.wildfly.clustering.web.infinispan.session.InfinispanSessionFactory.findValue(InfinispanSessionFactory.java:61)




[JBossINF] 	at org.wildfly.clustering.web.infinispan.session.InfinispanSessionFactory.findValue(InfinispanSessionFactory.java:40)




[JBossINF] 	at org.wildfly.clustering.web.infinispan.session.InfinispanSessionManager.findSession(InfinispanSessionManager.java:234)




[JBossINF] 	at org.wildfly.clustering.web.undertow.session.DistributableSessionManager.getSession(DistributableSessionManager.java:140)




[JBossINF] 	at io.undertow.servlet.spec.ServletContextImpl.getSession(ServletContextImpl.java:726)




[JBossINF] 	at io.undertow.servlet.spec.HttpServletRequestImpl.getSession(HttpServletRequestImpl.java:370)




[JBossINF] 	at org.jboss.weld.servlet.SessionHolder.requestInitialized(SessionHolder.java:47)




[JBossINF] 	at org.jboss.weld.servlet.HttpContextLifecycle.requestInitialized(HttpContextLifecycle.java:231)




[JBossINF] 	at org.jboss.weld.servlet.WeldInitialListener.requestInitialized(WeldInitialListener.java:152)




[JBossINF] 	at io.undertow.servlet.core.ApplicationListeners.requestInitialized(ApplicationListeners.java:245)




[JBossINF] 	at io.undertow.servlet.handlers.ServletInitialHandler.handleFirstRequest(ServletInitialHandler.java:283)




[JBossINF] 	at io.undertow.servlet.handlers.ServletInitialHandler.dispatchRequest(ServletInitialHandler.java:263)




[JBossINF] 	at io.undertow.servlet.handlers.ServletInitialHandler.access$000(ServletInitialHandler.java:81)




[JBossINF] 	at io.undertow.servlet.handlers.ServletInitialHandler$1.handleRequest(ServletInitialHandler.java:174)




[JBossINF] 	at io.undertow.server.Connectors.executeRootHandler(Connectors.java:202)




[JBossINF] 	at io.undertow.server.HttpServerExchange$1.run(HttpServerExchange.java:793)




[JBossINF] 	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)




[JBossINF] 	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)




[JBossINF] 	at java.lang.Thread.run(Thread.java:745)






This one followed right after:






[JBossINF] [0m[31m04:21:28,717 ERROR [io.undertow.request] (default task-127) UT005023: Exception handling request to /clusterbench/session: org.infinispan.util.concurrent.TimeoutException: Timed out waiting for topology 9




[JBossINF] 	at org.infinispan.statetransfer.StateTransferLockImpl.waitForTransactionData(StateTransferLockImpl.java:92)




[JBossINF] 	at org.infinispan.interceptors.base.BaseStateTransferInterceptor.waitForTransactionData(BaseStateTransferInterceptor.java:96)




[JBossINF] 	at org.infinispan.statetransfer.StateTransferInterceptor.handleTxCommand(StateTransferInterceptor.java:259)




[JBossINF] 	at org.infinispan.statetransfer.StateTransferInterceptor.visitLockControlCommand(StateTransferInterceptor.java:103)




[JBossINF] 	at org.infinispan.commands.control.LockControlCommand.acceptVisitor(LockControlCommand.java:110)




[JBossINF] 	at org.infinispan.interceptors.base.CommandInterceptor.invokeNextInterceptor(CommandInterceptor.java:99)




[JBossINF] 	at org.infinispan.interceptors.InvocationContextInterceptor.handleAll(InvocationContextInterceptor.java:107)




[JBossINF] 	at org.infinispan.interceptors.InvocationContextInterceptor.visitLockControlCommand(InvocationContextInterceptor.java:81)




[JBossINF] 	at org.infinispan.commands.control.LockControlCommand.acceptVisitor(LockControlCommand.java:110)




[JBossINF] 	at org.infinispan.interceptors.base.CommandInterceptor.invokeNextInterceptor(CommandInterceptor.java:99)




[JBossINF] 	at org.infinispan.interceptors.base.CommandInterceptor.handleDefault(CommandInterceptor.java:113)




[JBossINF] 	at org.infinispan.commands.AbstractVisitor.visitLockControlCommand(AbstractVisitor.java:163)




[JBossINF] 	at org.infinispan.commands.control.LockControlCommand.acceptVisitor(LockControlCommand.java:110)




[JBossINF] 	at org.infinispan.interceptors.InterceptorChain.invoke(InterceptorChain.java:336)




[JBossINF] 	at org.infinispan.cache.impl.CacheImpl.lock(CacheImpl.java:828)




[JBossINF] 	at org.infinispan.cache.impl.CacheImpl.lock(CacheImpl.java:810)




[JBossINF] 	at org.infinispan.cache.impl.AbstractDelegatingAdvancedCache.lock(AbstractDelegatingAdvancedCache.java:177)




[JBossINF] 	at org.wildfly.clustering.web.infinispan.session.InfinispanSessionMetaDataFactory.getValue(InfinispanSessionMetaDataFactory.java:82)




[JBossINF] 	at org.wildfly.clustering.web.infinispan.session.InfinispanSessionMetaDataFactory.findValue(InfinispanSessionMetaDataFactory.java:67)




[JBossINF] 	at org.wildfly.clustering.web.infinispan.session.InfinispanSessionMetaDataFactory.findValue(InfinispanSessionMetaDataFactory.java:39)




[JBossINF] 	at org.wildfly.clustering.web.infinispan.session.InfinispanSessionFactory.findValue(InfinispanSessionFactory.java:61)




[JBossINF] 	at org.wildfly.clustering.web.infinispan.session.InfinispanSessionFactory.findValue(InfinispanSessionFactory.java:40)




[JBossINF] 	at org.wildfly.clustering.web.infinispan.session.InfinispanSessionManager.findSession(InfinispanSessionManager.java:234)




[JBossINF] 	at org.wildfly.clustering.web.undertow.session.DistributableSessionManager.getSession(DistributableSessionManager.java:140)




[JBossINF] 	at io.undertow.servlet.spec.ServletContextImpl.getSession(ServletContextImpl.java:726)




[JBossINF] 	at io.undertow.servlet.spec.HttpServletRequestImpl.getSession(HttpServletRequestImpl.java:370)




[JBossINF] 	at org.jboss.weld.servlet.SessionHolder.requestInitialized(SessionHolder.java:47)




[JBossINF] 	at org.jboss.weld.servlet.HttpContextLifecycle.requestInitialized(HttpContextLifecycle.java:231)




[JBossINF] 	at org.jboss.weld.servlet.WeldInitialListener.requestInitialized(WeldInitialListener.java:152)




[JBossINF] 	at io.undertow.servlet.core.ApplicationListeners.requestInitialized(ApplicationListeners.java:245)




[JBossINF] 	at io.undertow.servlet.handlers.ServletInitialHandler.handleFirstRequest(ServletInitialHandler.java:283)




[JBossINF] 	at io.undertow.servlet.handlers.ServletInitialHandler.dispatchRequest(ServletInitialHandler.java:263)




[JBossINF] 	at io.undertow.servlet.handlers.ServletInitialHandler.access$000(ServletInitialHandler.java:81)




[JBossINF] 	at io.undertow.servlet.handlers.ServletInitialHandler$1.handleRequest(ServletInitialHandler.java:174)




[JBossINF] 	at io.undertow.server.Connectors.executeRootHandler(Connectors.java:202)




[JBossINF] 	at io.undertow.server.HttpServerExchange$1.run(HttpServerExchange.java:793)




[JBossINF] 	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)




[JBossINF] 	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)




[JBossINF] 	at java.lang.Thread.run(Thread.java:745)






The stacktrace is different from JBEAP-735 although it can be related.
Link: 
http://jenkins.mw.lab.eng.bos.redhat.com/hudson/job/eap-7x-failover-http-session-jvmkill-dist-async-3owners/15/console-perf19/</description>
			<version>10.0.0.CR4</version>
			<fixedVersion>10.0.0.Final</fixedVersion>
			<type>Bug</type>
		</buginformation>
		<fixedFiles>
			<file type="M">org.wildfly.clustering.server.registry.CacheRegistry.java</file>
		</fixedFiles>
		<links>
			<link type="Cloners" description="cloned from">2481</link>
		</links>
	</bug>
	<bug id="6031" opendate="2016-01-19 15:32:57" fixdate="2016-01-26 10:27:46" resolution="Done">
		<buginformation>
			<summary>WeldProvider.containerShutDown() not invoked if the deployment fails</summary>
			<description>We&amp;amp;apos;ve run into this problem when executing Weld and CDI TCK test suites on a specific HP-UX machine. Both test suites contain a lot of scenarios where the deployment fails. HP-UX jvm cannot handle this load and the test suite fails with OutOfMemoryError.</description>
			<version>10.0.0.CR5</version>
			<fixedVersion>10.0.0.Final</fixedVersion>
			<type>Bug</type>
		</buginformation>
		<fixedFiles>
			<file type="M">org.jboss.as.weld.WeldBootstrapService.java</file>
		</fixedFiles>
		<links>
			<link type="Cloners" description="cloned to">2935</link>
			<link type="Sequence" description="follows up on">5604</link>
		</links>
	</bug>
	<bug id="6009" opendate="2016-01-15 15:12:31" fixdate="2016-01-27 00:01:31" resolution="Done">
		<buginformation>
			<summary>[Migration operation] [Web to Undertow] Migrating non migratable valve doesn&amp;apos;t result in error shown in migration-warnings</summary>
			<description>When migration web with custom valve or any valve, which can&amp;amp;apos;t be automatically migrated, there is no error shown in migration-warnings.
It is necessary to inform that something wasn&amp;amp;apos;t migrated to let user know he needs to migrate it manually.</description>
			<version>10.0.0.CR5</version>
			<fixedVersion>10.0.0.Final</fixedVersion>
			<type>Bug</type>
		</buginformation>
		<fixedFiles>
			<file type="M">org.jboss.as.web.WebMigrateOperation.java</file>
		</fixedFiles>
		<links>
			<link type="Cloners" description="cloned from">2823</link>
		</links>
	</bug>
	<bug id="5828" opendate="2015-12-09 22:06:05" fixdate="2016-01-29 19:01:08" resolution="Done">
		<buginformation>
			<summary>Format differences between default configuration and read/persisted oneFormat differences between default configuration and read/persisted one in infinispan/undertow/ejb3 subsystems and management section</summary>
			<description>Neverending classic, just like every release:






[rhusar@syrah wildfly-10.0.0.Final-SNAPSHOT]$ diff standalone/configuration/standalone-ha.xml standalone/configuration/standalone_xml_history/standalone-ha.initial.xml




1c1




&amp;lt; &amp;lt;?xml version=&amp;amp;apos;1.0&amp;amp;apos; encoding=&amp;amp;apos;UTF-8&amp;amp;apos;?&amp;gt;




---




&amp;gt; &amp;lt;?xml version="1.0" ?&amp;gt;




4d3




&amp;lt;




36,37d34




&amp;lt;




&amp;lt;




64c61




&amp;lt;                 &amp;lt;file-handler name="file" formatter="json-formatter" path="audit-log.log" relative-to="jboss.server.data.dir"/&amp;gt;




---




&amp;gt;                 &amp;lt;file-handler name="file" formatter="json-formatter" relative-to="jboss.server.data.dir" path="audit-log.log"/&amp;gt;




87d83




&amp;lt;




178a175




&amp;gt;                 &amp;lt;stateful default-access-timeout="5000" cache-ref="distributable" passivation-disabled-cache-ref="simple"/&amp;gt;




182d178




&amp;lt;                 &amp;lt;stateful default-access-timeout="5000" cache-ref="distributable" passivation-disabled-cache-ref="simple"/&amp;gt;




186a183




&amp;gt;                     &amp;lt;!-- Automatically configure pools. Alternatively, max-pool-size can be set to a specific value --&amp;gt;




193c190




&amp;lt;                 &amp;lt;cache name="distributable" passivation-store-ref="infinispan" aliases="passivating clustered"/&amp;gt;




---




&amp;gt;                 &amp;lt;cache name="distributable" aliases="passivating clustered" passivation-store-ref="infinispan"/&amp;gt;




220c217




&amp;lt;             &amp;lt;cache-container name="server" aliases="singleton cluster" module="org.wildfly.clustering.server" default-cache="default"&amp;gt;




---




&amp;gt;             &amp;lt;cache-container name="server" aliases="singleton cluster" default-cache="default" module="org.wildfly.clustering.server"&amp;gt;




226c223




&amp;lt;             &amp;lt;cache-container name="web" module="org.wildfly.clustering.web.infinispan" default-cache="dist"&amp;gt;




---




&amp;gt;             &amp;lt;cache-container name="web" default-cache="dist" module="org.wildfly.clustering.web.infinispan"&amp;gt;




234c231




&amp;lt;             &amp;lt;cache-container name="ejb" aliases="sfsb" module="org.wildfly.clustering.ejb.infinispan" default-cache="dist"&amp;gt;




---




&amp;gt;             &amp;lt;cache-container name="ejb" aliases="sfsb" default-cache="dist" module="org.wildfly.clustering.ejb.infinispan"&amp;gt;




242c239




&amp;lt;             &amp;lt;cache-container name="hibernate" module="org.hibernate.infinispan" default-cache="local-query"&amp;gt;




---




&amp;gt;             &amp;lt;cache-container name="hibernate" default-cache="local-query" module="org.hibernate.infinispan"&amp;gt;




244,247d240




&amp;lt;                 &amp;lt;local-cache name="local-query"&amp;gt;




&amp;lt;                     &amp;lt;eviction max-entries="10000" strategy="LRU"/&amp;gt;




&amp;lt;                     &amp;lt;expiration max-idle="100000"/&amp;gt;




&amp;lt;                 &amp;lt;/local-cache&amp;gt;




250c243




&amp;lt;                     &amp;lt;eviction max-entries="10000" strategy="LRU"/&amp;gt;




---




&amp;gt;                     &amp;lt;eviction strategy="LRU" max-entries="10000"/&amp;gt;




252a246,249




&amp;gt;                 &amp;lt;local-cache name="local-query"&amp;gt;




&amp;gt;                     &amp;lt;eviction strategy="LRU" max-entries="10000"/&amp;gt;




&amp;gt;                     &amp;lt;expiration max-idle="100000"/&amp;gt;




&amp;gt;                 &amp;lt;/local-cache&amp;gt;




403c400




&amp;lt;                 &amp;lt;http-listener name="default" redirect-socket="https" socket-binding="http"/&amp;gt;




---




&amp;gt;                 &amp;lt;http-listener name="default" socket-binding="http" redirect-socket="https"/&amp;gt;




418,419c415,416




&amp;lt;                 &amp;lt;response-header name="server-header" header-value="WildFly/10" header-name="Server"/&amp;gt;




&amp;lt;                 &amp;lt;response-header name="x-powered-by-header" header-value="Undertow/1" header-name="X-Powered-By"/&amp;gt;




---




&amp;gt;                 &amp;lt;response-header name="server-header" header-name="Server" header-value="WildFly/10"/&amp;gt;




&amp;gt;                 &amp;lt;response-header name="x-powered-by-header" header-name="X-Powered-By" header-value="Undertow/1"/&amp;gt;




434d430




&amp;lt;




446d441




&amp;lt;





</description>
			<version>10.0.0.CR4</version>
			<fixedVersion>10.0.0.Final</fixedVersion>
			<type>Bug</type>
		</buginformation>
		<fixedFiles>
			<file type="M">org.jboss.as.clustering.infinispan.subsystem.EvictionResourceDefinition.java</file>
			<file type="M">org.wildfly.extension.undertow.UndertowSubsystemParser_3_0.java</file>
			<file type="M">org.jboss.as.clustering.infinispan.subsystem.CacheContainerResourceDefinition.java</file>
		</fixedFiles>
		<links>
			<link type="Cloners" description="cloned to">3093</link>
		</links>
	</bug>
	<bug id="5520" opendate="2015-10-13 09:51:53" fixdate="2016-01-29 20:01:16" resolution="Done">
		<buginformation>
			<summary>Manually migrated EAP 6.x profiles fail to boot due to &amp;apos;default-clustered-sfsb-cache&amp;apos; used in runtime</summary>
			<description>If you try (curated) EAP 6 standalone-ha.xml configuration on WildFly the server will fail to boot due to an EJB3 subsystem attribute.
Server boot console log:
mbp:migration-tests emmartins$ ./default-config-manual-copy/wildfly-10.0.0.CR3-SNAPSHOT/bin/standalone.sh -c standalone-ha.xml
=========================================================================
  JBoss Bootstrap Environment
  JBOSS_HOME: /Users/emmartins/wildfly/migration-tests/default-config-manual-copy/wildfly-10.0.0.CR3-SNAPSHOT
  JAVA: /Library/Java/JavaVirtualMachines/jdk1.8.0_40.jdk/Contents/Home/bin/java
  JAVA_OPTS:  -server -Xms64m -Xmx512m -Djava.net.preferIPv4Stack=true -Djboss.modules.system.pkgs=org.jboss.byteman -Djava.awt.headless=true
=========================================================================
11:37:25,583 INFO  [org.jboss.modules] (main) JBoss Modules version 1.4.4.Final
11:37:25,896 INFO  [org.jboss.msc] (main) JBoss MSC version 1.2.6.Final
11:37:25,985 INFO  [org.jboss.as] (MSC service thread 1-7) WFLYSRV0049: WildFly Full 10.0.0.CR3-SNAPSHOT (WildFly Core 2.0.0.CR6) starting
11:37:27,307 INFO  [org.jboss.as.controller.management-deprecated] (ServerService Thread Pool  7) WFLYCTL0028: Attribute &amp;amp;apos;default-stack&amp;amp;apos; in the resource at address &amp;amp;apos;/subsystem=jgroups&amp;amp;apos; is deprecated, and may be removed in future version. See the attribute description in the output of the read-resource-description operation to learn more about the deprecation.
11:37:27,307 INFO  [org.jboss.as.controller.management-deprecated] (ServerService Thread Pool  15) WFLYCTL0028: Attribute &amp;amp;apos;default-clustered-sfsb-cache&amp;amp;apos; in the resource at address &amp;amp;apos;/subsystem=ejb3&amp;amp;apos; is deprecated, and may be removed in future version. See the attribute description in the output of the read-resource-description operation to learn more about the deprecation.
11:37:27,385 ERROR [org.jboss.as.controller.management-operation] (ServerService Thread Pool  15) WFLYCTL0013: Operation ("add") failed - address: ([("subsystem" =&amp;gt; "ejb3")]) - failure description: "WFLYEJB0451: Attribute &amp;amp;apos;default-clustered-sfsb-cache&amp;amp;apos; is not supported on current version servers; it is only allowed if its value matches &amp;amp;apos;default-sfsb-cache&amp;amp;apos;"
11:37:27,586 ERROR [org.jboss.as.controller.management-operation] (Controller Boot Thread) "WFLYCTL0193: Failed executing subsystem ejb3 boot operations"
11:37:27,588 ERROR [org.jboss.as.controller.management-operation] (Controller Boot Thread) WFLYCTL0013: Operation ("parallel-subsystem-boot") failed - address: ([]) - failure description: "\"WFLYCTL0193: Failed executing subsystem ejb3 boot operations\""
11:37:27,591 FATAL [org.jboss.as.server] (Controller Boot Thread) WFLYSRV0056: Server boot has failed in an unrecoverable manner; exiting. See previous messages for details.
11:37:27,594 INFO  [org.jboss.as.server] (Thread-2) WFLYSRV0220: Server shutdown has been requested.
11:37:27,603 INFO  [org.jboss.as] (MSC service thread 1-7) WFLYSRV0050: WildFly Full 10.0.0.CR3-SNAPSHOT (WildFly Core 2.0.0.CR6) stopped in 6ms
Attached is the standalone-ha.xml config, with just threads subsystem removed, and web subsystem migrated to undertow, that should be able to boot the server.</description>
			<version>10.0.0.CR2</version>
			<fixedVersion>10.0.0.Final</fixedVersion>
			<type>Bug</type>
		</buginformation>
		<fixedFiles>
			<file type="M">org.jboss.as.test.integration.domain.mixed.eap640.DomainAdjuster640.java</file>
			<file type="M">org.jboss.as.ejb3.logging.EjbLogger.java</file>
			<file type="D">org.jboss.as.ejb3.subsystem.ValidateClusteredCacheRefHandler.java</file>
			<file type="M">org.jboss.as.ejb3.subsystem.TransformersTestCase.java</file>
			<file type="M">org.jboss.as.ejb3.subsystem.EJB3SubsystemAdd.java</file>
			<file type="M">org.jboss.as.ejb3.subsystem.EJB3SubsystemRootResourceDefinition.java</file>
			<file type="M">org.jboss.as.ejb3.subsystem.EJB3SubsystemXMLPersister.java</file>
			<file type="M">org.jboss.as.ejb3.subsystem.EJB3SubsystemDefaultCacheWriteHandler.java</file>
		</fixedFiles>
		<links>
			<link type="Causality" description="causes">2014</link>
		</links>
	</bug>
	<bug id="6081" opendate="2016-01-27 14:22:31" fixdate="2016-01-30 01:36:48" resolution="Done">
		<buginformation>
			<summary>Undertow migration operation doesn&amp;apos;t migrate Access log valves</summary>
			<description>Access log valves are not automatically migrated, it should be either printed warning for them to be migrated automatically or migrated automatically.</description>
			<version>10.0.0.CR5</version>
			<fixedVersion>10.0.0.Final</fixedVersion>
			<type>Bug</type>
		</buginformation>
		<fixedFiles>
			<file type="M">org.jboss.as.web.test.WebMigrateTestCase.java</file>
			<file type="M">org.jboss.as.web.WebMigrateOperation.java</file>
		</fixedFiles>
		<links>
			<link type="Cloners" description="cloned from">2861</link>
			<link type="Dependency" description="is blocked by">6074</link>
		</links>
	</bug>
	<bug id="5962" opendate="2016-01-08 14:46:50" fixdate="2016-01-30 01:37:32" resolution="Done">
		<buginformation>
			<summary>ServletContainerInitializers from jboss-deployment-structure.xml module dependencies are not invoked</summary>
			<description>If a module includes a ServletContainerInitializer, that ServletContainerInitializer is not invoked for any applications that include the module in its jboss-deployment-structure.xml module dependencies.  It looks like the ServletContainerInitializerDeploymentProcessor only checks server provided dependencies.</description>
			<version>10.0.0.CR5</version>
			<fixedVersion>10.0.0.Final</fixedVersion>
			<type>Bug</type>
		</buginformation>
		<fixedFiles>
			<file type="M">org.wildfly.extension.undertow.deployment.ServletContainerInitializerDeploymentProcessor.java</file>
		</fixedFiles>
		<links>
			<link type="Related" description="is related to">5159</link>
			<link type="Superset" description="is incorporated by">2744</link>
		</links>
	</bug>
	<bug id="5944" opendate="2016-01-06 20:38:44" fixdate="2016-01-30 01:37:57" resolution="Done">
		<buginformation>
			<summary>ParseAndMarshalModelsTestCase is not testing EAP 6.4 files or legacy standalone-picketlink.xml files</summary>
			<description>Our test coverage of parsing and marshaling compatibility has holes.</description>
			<version>10.0.0.CR5</version>
			<fixedVersion>10.0.0.Final</fixedVersion>
			<type>Bug</type>
		</buginformation>
		<fixedFiles>
			<file type="M">org.wildfly.extension.picketlink.federation.model.parser.AbstractFederationSubsystemReader.java</file>
			<file type="M">org.wildfly.extension.picketlink.idm.IDMExtension.java</file>
			<file type="M">org.wildfly.extension.picketlink.federation.FederationExtension.java</file>
			<file type="M">org.wildfly.extension.picketlink.federation.model.idp.TrustDomainResourceDefinition.java</file>
			<file type="M">org.jboss.as.test.manualmode.parse.ParseAndMarshalModelsTestCase.java</file>
			<file type="M">org.wildfly.extension.picketlink.idm.Namespace.java</file>
			<file type="M">org.wildfly.extension.picketlink.idm.model.parser.AbstractIDMSubsystemReader.java</file>
			<file type="M">org.wildfly.extension.picketlink.federation.Namespace.java</file>
		</fixedFiles>
	</bug>
	<bug id="5883" opendate="2015-12-18 16:09:37" fixdate="2016-01-30 01:38:24" resolution="Done">
		<buginformation>
			<summary>Imposible to fix wrong PicketLink Federation identity provider&amp;apos;s security domain after reload</summary>
			<description>If you do typo when editing security domain of identity provider it&amp;amp;apos;s impossible to fix it by writing correct value to attribute but you have to remove the whole identity provider and create it again.</description>
			<version>10.0.0.CR4</version>
			<fixedVersion>10.0.0.Final</fixedVersion>
			<type>Bug</type>
		</buginformation>
		<fixedFiles>
			<file type="M">org.wildfly.extension.picketlink.federation.model.idp.IdentityProviderAddHandler.java</file>
			<file type="M">org.wildfly.extension.picketlink.federation.model.idp.IdentityProviderRemoveHandler.java</file>
			<file type="M">org.wildfly.extension.picketlink.federation.model.sp.ServiceProviderResourceDefinition.java</file>
			<file type="M">org.wildfly.extension.picketlink.federation.model.idp.IdentityProviderResourceDefinition.java</file>
			<file type="M">org.wildfly.extension.picketlink.federation.service.TrustDomainService.java</file>
			<file type="M">org.wildfly.extension.picketlink.federation.model.idp.IdentityProviderConfigAddStepHandler.java</file>
			<file type="M">org.wildfly.extension.picketlink.federation.model.idp.IdentityProviderConfigRemoveStepHandler.java</file>
			<file type="M">org.wildfly.extension.picketlink.federation.model.idp.TrustDomainAddHandler.java</file>
		</fixedFiles>
		<links>
			<link type="Cloners" description="cloned from">1988</link>
		</links>
	</bug>
	<bug id="5873" opendate="2015-12-18 11:14:41" fixdate="2016-01-30 01:38:34" resolution="Done">
		<buginformation>
			<summary>Can&amp;apos;t set static-connectors on AMQ bridge, if discovery-group were set before</summary>
			<description>When AMQ bridge is created with static-connectors field set, and then static-connectors are undefined and discovery-group is set (in a single batch), following error is thrown:
"WFLYMSGAMQ0069: Attribute (static-connectors) can not been undefined as the resource does not define any alternative to this attribute."
Problem seems to be missing STATIC_CONNECTORS.setAlternatives(CommonAttributes.DISCOVERY_GROUP) in resource definition, which is causing !attr.hasAlternative(resource.getModel()) check to fail in following code:






AlternativeAttributeCheckHandler.java






    private void checkAlternativeAttribute(OperationContext context, String attributeName, boolean alternativeMustBeSet) throws OperationFailedException {




        if (attributeDefinitions.containsKey(attributeName)) {




            AttributeDefinition attr = attributeDefinitions.get(attributeName);




            final Resource resource = context.readResource(EMPTY_ADDRESS);




            if (alternativeMustBeSet) {




                if (!attr.hasAlternative(resource.getModel())) {




                    throw new OperationFailedException(MessagingLogger.ROOT_LOGGER.undefineAttributeWithoutAlternative(attributeName));




                }




            } else {




                if (attr.hasAlternative(resource.getModel())) {




                    throw new OperationFailedException(MessagingLogger.ROOT_LOGGER.altAttributeAlreadyDefined(attributeName));




                }




            }




        }




    }





</description>
			<version>10.0.0.CR4</version>
			<fixedVersion>10.0.0.Final</fixedVersion>
			<type>Bug</type>
		</buginformation>
		<fixedFiles>
			<file type="M">org.wildfly.extension.messaging.activemq.CommonAttributes.java</file>
			<file type="M">org.wildfly.extension.messaging.activemq.ClusterConnectionDefinition.java</file>
			<file type="M">org.wildfly.extension.messaging.activemq.BridgeDefinition.java</file>
			<file type="M">org.wildfly.extension.messaging.activemq.AlternativeAttributeCheckHandler.java</file>
		</fixedFiles>
		<links>
			<link type="Cloners" description="cloned from">1453</link>
		</links>
	</bug>
	<bug id="5871" opendate="2015-12-17 21:35:06" fixdate="2016-01-30 01:38:44" resolution="Done">
		<buginformation>
			<summary>post-binding attribute of PicketLink Federation service provider should be of type Boolean not String</summary>
			<description>Currently type of this attribute is String despite it&amp;amp;apos;s description "Indicate if this service provider uses a HTTP POST(true) or REDIRECT(false) binding."
If user tries to write other value than "true" or "false" to this attribute IllegalArgumentException is thrown.</description>
			<version>10.0.0.CR4</version>
			<fixedVersion>10.0.0.Final</fixedVersion>
			<type>Bug</type>
		</buginformation>
		<fixedFiles>
			<file type="M">org.wildfly.extension.picketlink.federation.model.sp.ServiceProviderResourceDefinition.java</file>
		</fixedFiles>
		<links>
			<link type="Cloners" description="cloned from">2034</link>
		</links>
	</bug>
	<bug id="5841" opendate="2015-12-11 15:59:43" fixdate="2016-01-30 01:38:55" resolution="Done">
		<buginformation>
			<summary>SchemaLocationsRewriteTestCase is checking implementation details</summary>
			<description>Test case is currently checking implementation details, so it&amp;amp;apos;s easy to brake it when implementation changes while still being correct.
Specifically, the test case shouldn&amp;amp;apos;t make any assumptions about the format of rewritten schema locations. Instead, it should only check that rewritten location is a retrievable URL.</description>
			<version>10.0.0.CR4</version>
			<fixedVersion>10.0.0.Final</fixedVersion>
			<type>Bug</type>
		</buginformation>
		<fixedFiles>
			<file type="M">org.jboss.as.test.integration.ws.schemalocations.SchemaLocationsRewriteTestCase.java</file>
		</fixedFiles>
		<links>
			<link type="Cloners" description="cloned from">2364</link>
		</links>
	</bug>
	<bug id="5656" opendate="2015-11-10 14:21:17" fixdate="2016-01-30 01:39:17" resolution="Done">
		<buginformation>
			<summary>No warning is shown when deploying web application with defined valves</summary>
			<description>There is currently not shown any warning when trying to deploy web application having defined valves which are not available. There should be shown warning in the logs during deployment for customer to know that not all features defined in deployment are working.
Marking as critical as this behaviour hides that some features are not enabled and the features might be important for customer (e.g. some address filtering). resulting in thinking that everything is defined correctly instead of showing warning to let customer know that this part of logic requires migration to handlers.
Steps to reproduce:
deploy attached application and see whether there occurs warning in logs during deployment.</description>
			<version>10.0.0.CR4</version>
			<fixedVersion>10.0.0.Final</fixedVersion>
			<type>Bug</type>
		</buginformation>
		<fixedFiles>
			<file type="M">org.wildfly.extension.undertow.logging.UndertowLogger.java</file>
			<file type="M">org.wildfly.extension.undertow.deployment.JBossWebParsingDeploymentProcessor.java</file>
		</fixedFiles>
		<links>
			<link type="Cloners" description="cloned from">1865</link>
		</links>
	</bug>
	<bug id="5238" opendate="2015-08-31 14:49:42" fixdate="2016-01-30 01:40:13" resolution="Done">
		<buginformation>
			<summary>[Migration operation] [Web to Undertow] Unable to migrate any valve to handler</summary>
			<description>In Undertow there are Handlers which can be used similarly as Valves. Some valves have corresponding handler in Undertow. Such valves could be migrated.
E.g. as part of [EAP7-428] there is added io.undertow.server.handlers.RequestDumpingHandler.
This could be thereby migrated from 






&amp;lt;subsystem xmlns="urn:jboss:domain:web:2.2" default-virtual-server="default-host" native="false"&amp;gt;




     &amp;lt;valve name="request-dumper" module="org.jboss.as.web" class-name="org.apache.catalina.valves.RequestDumperValve"/&amp;gt;




     &amp;lt;virtual-server name="default-host" enable-welcome-root="false"&amp;gt;




         &amp;lt;alias name="localhost"/&amp;gt;




         &amp;lt;alias name="example.com"/&amp;gt;




     &amp;lt;/virtual-server&amp;gt;




      ...




&amp;lt;/subsystem&amp;gt;






to something like:






&amp;lt;subsystem xmlns="urn:jboss:domain:undertow:3.0"&amp;gt;




    &amp;lt;buffer-cache name="default"/&amp;gt;




    &amp;lt;server name="default-server" default-host="default-host"&amp;gt;




        &amp;lt;host name="default-host" alias="localhost, example.com"&amp;gt;




            &amp;lt;filter-ref name="request-dumper"/&amp;gt;




        &amp;lt;/host&amp;gt;




    &amp;lt;/server&amp;gt;




    &amp;lt;servlet-container name="default"&amp;gt;




        &amp;lt;jsp-config/&amp;gt;




    &amp;lt;/servlet-container&amp;gt;




    &amp;lt;filter name="request-dumper" module="io.undertow.core" class-name="io.undertow.server.handlers.RequestDumpingHandler"/&amp;gt;




    ...




&amp;lt;/subsystem&amp;gt;











</description>
			<version>10.0.0.Beta2</version>
			<fixedVersion>10.0.0.Final</fixedVersion>
			<type>Bug</type>
		</buginformation>
		<fixedFiles>
			<file type="M">org.jboss.as.web.test.WebMigrateTestCase.java</file>
			<file type="M">org.jboss.as.web.WebMigrateOperation.java</file>
		</fixedFiles>
		<links>
			<link type="Cloners" description="cloned from">954</link>
		</links>
	</bug>
	<bug id="5907" opendate="2015-12-23 09:33:32" fixdate="2016-02-02 06:00:24" resolution="Done">
		<buginformation>
			<summary>NullPointerException during deployment with class level @EJB and lookup</summary>
			<description>If deploying a ejb3 SSB with a ejb reference to another bean (in my case an old ejb 2 SSB) with a mappedName-parameter, a NullPointerException occurs.
@EJBs(
{
  @EJB(name = "ejb/MyOldEJB2LocalHome", beanInterface=MyOldEJB2LocalHome.class, beanName="oldejb.jar#MyOldEJB2", mappedName = "oldejb/MyOldEJB2Local"),
  }
)
Caused by: java.lang.NullPointerException
        at org.jboss.as.ejb3.deployment.processors.EjbResourceInjectionAnnotationProcessor.process(EjbResourceInjectionA
nnotationProcessor.java:166)
        at org.jboss.as.ejb3.deployment.processors.EjbResourceInjectionAnnotationProcessor.processClass(EjbResourceInjec
tionAnnotationProcessor.java:146)
        at org.jboss.as.ejb3.deployment.processors.EjbResourceInjectionAnnotationProcessor.deploy(EjbResourceInjectionAn
notationProcessor.java:106)
        at org.jboss.as.server.deployment.DeploymentUnitPhaseService.start(DeploymentUnitPhaseService.java:156)
Seems, if mappedName is declared, always a  NullPointerException occurs.</description>
			<version>9.0.2.Final</version>
			<fixedVersion>10.1.0.CR1, 10.1.0.Final</fixedVersion>
			<type>Bug</type>
		</buginformation>
		<fixedFiles>
			<file type="M">org.jboss.as.ejb3.deployment.processors.EjbResourceInjectionAnnotationProcessor.java</file>
		</fixedFiles>
		<links>
			<link type="Cloners" description="cloned to">3111</link>
		</links>
	</bug>
	<bug id="6026" opendate="2016-01-19 10:02:03" fixdate="2016-02-02 22:20:34" resolution="Done">
		<buginformation>
			<summary>Add ability to specify max packet size of ajp-listener</summary>
			<description>Currently there is not possible to specify maximum packet size for AJP listener in Undertow. In EAP6 there was possible to use org.apache.coyote.ajp.MAX_PACKET_SIZE system property for this purpose, see also this jira.
This is missing feature compared to EAP6 therefore we should add this otherwise some customers might miss it.
Proposed solution: add a new attribute into AJP listener that would specify max packet size.</description>
			<version>10.0.0.CR5</version>
			<fixedVersion>10.1.0.CR1, 10.1.0.Final</fixedVersion>
			<type>Bug</type>
		</buginformation>
		<fixedFiles>
			<file type="M">org.wildfly.extension.undertow.UndertowSubsystemTestCase.java</file>
			<file type="M">org.wildfly.extension.undertow.Constants.java</file>
			<file type="M">org.wildfly.extension.undertow.AjpListenerResourceDefinition.java</file>
			<file type="M">org.wildfly.extension.undertow.AjpListenerAdd.java</file>
			<file type="M">org.wildfly.extension.undertow.filters.ModClusterDefinition.java</file>
			<file type="M">org.wildfly.extension.undertow.UndertowExtension.java</file>
			<file type="M">org.wildfly.extension.undertow.Namespace.java</file>
			<file type="M">org.wildfly.extension.undertow.filters.ModClusterService.java</file>
		</fixedFiles>
		<links>
			<link type="Cloners" description="cloned from">2867</link>
		</links>
	</bug>
	<bug id="6038" opendate="2016-01-20 16:37:02" fixdate="2016-02-03 10:08:56" resolution="Done">
		<buginformation>
			<summary>Can not deploy a @ConnectionFactoryDefinition if the RA has more &lt;connection-definitions&gt;</summary>
			<description>Steps to reproduce:

add a 2nd connection-defintion to testsuite/integration/basic/src/test/java/org/jboss/as/test/integration/jca/deployment/ra.xml:






         &amp;lt;connection-definition&amp;gt;




            &amp;lt;managedconnectionfactory-class&amp;gt;org.jboss.as.test.integration.jca.rar.MultipleManagedConnectionFactory2&amp;lt;/managedconnectionfactory-class&amp;gt;




            &amp;lt;connectionfactory-interface&amp;gt;org.jboss.as.test.integration.jca.rar.MultipleConnectionFactory2&amp;lt;/connectionfactory-interface&amp;gt;




            &amp;lt;connectionfactory-impl-class&amp;gt;org.jboss.as.test.integration.jca.rar.MultipleConnectionFactory2Impl&amp;lt;/connectionfactory-impl-class&amp;gt;




            &amp;lt;connection-interface&amp;gt;org.jboss.as.test.integration.jca.rar.MultipleConnection2&amp;lt;/connection-interface&amp;gt;




            &amp;lt;connection-impl-class&amp;gt;org.jboss.as.test.integration.jca.rar.MultipleConnection2Impl&amp;lt;/connection-impl-class&amp;gt;




         &amp;lt;/connection-definition&amp;gt;






Run the WarServletDeploymentTestCase test
=&amp;gt; it fails because the ConnectionFactoryDefinition objects are no longer deployed.

After debugging, the test fails because the deployed connection definitions are not activated.
The code at org/jboss/as/connector/services/resourceadapters/ResourceAdapterActivatorService.java:232 is preventing the activation and looks suspicious.
It expects that all the MCF in the RA (raMcfClasses) must all be in the activation (ijMcfClasses). 
With a 2nd &amp;lt;connection-definition&amp;gt; in the RA, it is no longer the case (as the activation only contains a single MCF (MultipleManagedConnectionFactory1).
If I change the code so that it checks that all the MCF in the activations are in the RA, the test passes again.
This issue is preventing me to reuse the code handling the @ConnectionFactoryDefinition to support the @JMSConnectionFactoryDefinition (my JMS RA defines 3 MCF for generic/queue/topic CFs but my activation only defines a single MCF per @JMSConnectionFactoryDefinition).
I&amp;amp;apos;ve not run it but the same issue is likely for admin objects too (the code in checkActivation is similar)</description>
			<version>10.0.0.CR5</version>
			<fixedVersion>10.1.0.CR1, 10.1.0.Final</fixedVersion>
			<type>Bug</type>
		</buginformation>
		<fixedFiles>
			<file type="M">org.jboss.as.connector.services.resourceadapters.ResourceAdapterActivatorService.java</file>
		</fixedFiles>
		<links>
			<link type="Cloners" description="cloned to">3047</link>
			<link type="Dependency" description="blocks">5081</link>
		</links>
	</bug>
	<bug id="5082" opendate="2015-08-12 10:41:58" fixdate="2016-02-03 10:17:14" resolution="Done">
		<buginformation>
			<summary>WebSphere MQ 8 RA - [TCK] ClassCastException when calling toString() on JMSContext</summary>
			<description>TCK 7 tests are calling toString() on JMSContext to print trace information about jms context like:






    ...




    @TransactionAttribute(TransactionAttributeType.REQUIRED)




    public void method1a() {




    TestUtil.logMsg("CMBean1.method1a(): JMSContext context="+context); &amp;lt;-- this is the line




    ...






This call is handled by ActiveMQ Artemis integration because it provides JMSContextProducer for CDI by which JMSContext was injected to EJB in TCK test. Problem occurs in call of JMSContextProducer#JMSContextWrapper.create():






...




            ConnectionFactory cf = (ConnectionFactory) lookup(info.connectionFactoryLookup);




            if (inTransaction) {




                XAJMSContext xaContext = ((XAConnectionFactory) cf).createXAContext(info.userName, info.password);




                return xaContext.getContext();




           ...






Looked up connection factory is instance of class com.ibm.mq.connector.outbound.ManagedQueueConnectionFactoryImpl which does not implement javax.jms.XAConnectionFactory interface.
Tests fails with:






15:06:28,130 INFO  [stdout] (EJB default - 4) cfactory=com.ibm.mq.connector.outbound.QueueConnectionFactoryImpl@4bb55738




15:06:28,203 ERROR [org.jboss.as.ejb3.invocation] (EJB default - 5) WFLYEJB0034: EJB Invocation failed on component CDIUseCasesCMBEAN1 for method public abstract void com.sun.ts.tests.jms.ee20.cditests.usecases.CMBean1IF.method1a(): javax.ejb.EJBException: java.lang.ClassCastException: com.ibm.mq.connector.outbound.QueueConnectionFactoryImpl cannot be cast to javax.jms.XAConnectionFactory




	at org.jboss.as.ejb3.tx.CMTTxInterceptor.handleExceptionInOurTx(CMTTxInterceptor.java:187) [wildfly-ejb3-10.0.0.Alpha5-redhat-1.jar:10.0.0.Alpha5-redhat-1]




	at org.jboss.as.ejb3.tx.CMTTxInterceptor.invokeInOurTx(CMTTxInterceptor.java:277) [wildfly-ejb3-10.0.0.Alpha5-redhat-1.jar:10.0.0.Alpha5-redhat-1]




	at org.jboss.as.ejb3.tx.CMTTxInterceptor.required(CMTTxInterceptor.java:327) [wildfly-ejb3-10.0.0.Alpha5-redhat-1.jar:10.0.0.Alpha5-redhat-1]




	at org.jboss.as.ejb3.tx.CMTTxInterceptor.processInvocation(CMTTxInterceptor.java:239) [wildfly-ejb3-10.0.0.Alpha5-redhat-1.jar:10.0.0.Alpha5-redhat-1]




	at org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:340)




	at org.jboss.as.ejb3.remote.EJBRemoteTransactionPropagatingInterceptor.processInvocation(EJBRemoteTransactionPropagatingInterceptor.java:79) [wildfly-ejb3-10.0.0.Alpha5-redhat-1.jar:10.0.0.Alpha5-redhat-1]




	at org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:340)




	at org.jboss.as.ejb3.component.interceptors.CurrentInvocationContextInterceptor.processInvocation(CurrentInvocationContextInterceptor.java:41) [wildfly-ejb3-10.0.0.Alpha5-redhat-1.jar:10.0.0.Alpha5-redhat-1]




	at org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:340)




	at org.jboss.as.ejb3.component.invocationmetrics.WaitTimeInterceptor.processInvocation(WaitTimeInterceptor.java:43) [wildfly-ejb3-10.0.0.Alpha5-redhat-1.jar:10.0.0.Alpha5-redhat-1]




	at org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:340)




	at org.jboss.as.ejb3.security.SecurityContextInterceptor.processInvocation(SecurityContextInterceptor.java:100) [wildfly-ejb3-10.0.0.Alpha5-redhat-1.jar:10.0.0.Alpha5-redhat-1]




	at org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:340)




	at org.jboss.as.ejb3.component.interceptors.ShutDownInterceptorFactory$1.processInvocation(ShutDownInterceptorFactory.java:64) [wildfly-ejb3-10.0.0.Alpha5-redhat-1.jar:10.0.0.Alpha5-redhat-1]




	at org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:340)




	at org.jboss.as.ejb3.component.interceptors.LoggingInterceptor.processInvocation(LoggingInterceptor.java:66) [wildfly-ejb3-10.0.0.Alpha5-redhat-1.jar:10.0.0.Alpha5-redhat-1]




	at org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:340)




	at org.jboss.as.ee.component.NamespaceContextInterceptor.processInvocation(NamespaceContextInterceptor.java:50)




	at org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:340)




	at org.jboss.as.ejb3.component.interceptors.AdditionalSetupInterceptor.processInvocation(AdditionalSetupInterceptor.java:54) [wildfly-ejb3-10.0.0.Alpha5-redhat-1.jar:10.0.0.Alpha5-redhat-1]




	at org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:340)




	at org.jboss.invocation.ContextClassLoaderInterceptor.processInvocation(ContextClassLoaderInterceptor.java:64)




	at org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:340)




	at org.jboss.invocation.InterceptorContext.run(InterceptorContext.java:356)




	at org.wildfly.security.manager.WildFlySecurityManager.doChecked(WildFlySecurityManager.java:635)




	at org.jboss.invocation.AccessCheckingInterceptor.processInvocation(AccessCheckingInterceptor.java:61)




	at org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:340)




	at org.jboss.invocation.InterceptorContext.run(InterceptorContext.java:356)




	at org.jboss.invocation.PrivilegedWithCombinerInterceptor.processInvocation(PrivilegedWithCombinerInterceptor.java:80)




	at org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:340)




	at org.jboss.invocation.ChainedInterceptor.processInvocation(ChainedInterceptor.java:61)




	at org.jboss.as.ee.component.ViewService$View.invoke(ViewService.java:195)




	at org.jboss.as.ejb3.remote.protocol.versionone.MethodInvocationMessageHandler.invokeMethod(MethodInvocationMessageHandler.java:331) [wildfly-ejb3-10.0.0.Alpha5-redhat-1.jar:10.0.0.Alpha5-redhat-1]




	at org.jboss.as.ejb3.remote.protocol.versionone.MethodInvocationMessageHandler.access$100(MethodInvocationMessageHandler.java:69) [wildfly-ejb3-10.0.0.Alpha5-redhat-1.jar:10.0.0.Alpha5-redhat-1]




	at org.jboss.as.ejb3.remote.protocol.versionone.MethodInvocationMessageHandler$1.run(MethodInvocationMessageHandler.java:202) [wildfly-ejb3-10.0.0.Alpha5-redhat-1.jar:10.0.0.Alpha5-redhat-1]




	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511) [rt.jar:1.8.0_51]




	at java.util.concurrent.FutureTask.run(FutureTask.java:266) [rt.jar:1.8.0_51]




	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142) [rt.jar:1.8.0_51]




	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617) [rt.jar:1.8.0_51]




	at java.lang.Thread.run(Thread.java:745) [rt.jar:1.8.0_51]




	at org.jboss.threads.JBossThread.run(JBossThread.java:320)




Caused by: java.lang.ClassCastException: com.ibm.mq.connector.outbound.QueueConnectionFactoryImpl cannot be cast to javax.jms.XAConnectionFactory




	at org.wildfly.extension.messaging.activemq.deployment.JMSContextProducer$JMSContextWrapper.create(JMSContextProducer.java:192) [wildfly-messaging-activemq-10.0.0.Alpha5-redhat-1.jar:10.0.0.Alpha5-redhat-1]




	at org.wildfly.extension.messaging.activemq.deployment.JMSContextProducer$JMSContextWrapper.getDelegate(JMSContextProducer.java:217) [wildfly-messaging-activemq-10.0.0.Alpha5-redhat-1.jar:10.0.0.Alpha5-redhat-1]




	at org.wildfly.extension.messaging.activemq.deployment.JMSContextProducer$JMSContextWrapper.toString(JMSContextProducer.java:477) [wildfly-messaging-activemq-10.0.0.Alpha5-redhat-1.jar:10.0.0.Alpha5-redhat-1]




	at java.lang.String.valueOf(String.java:2982) [rt.jar:1.8.0_51]




	at java.lang.StringBuilder.append(StringBuilder.java:131) [rt.jar:1.8.0_51]




	at com.sun.ts.tests.jms.ee20.cditests.usecases.CMBean1.method1a(CMBean1.java:105) [cditestsusecases_ejb.jar:]




	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) [rt.jar:1.8.0_51]




	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) [rt.jar:1.8.0_51]




	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) [rt.jar:1.8.0_51]




	at java.lang.reflect.Method.invoke(Method.java:497) [rt.jar:1.8.0_51]




	at org.jboss.as.ee.component.ManagedReferenceMethodInterceptor.processInvocation(ManagedReferenceMethodInterceptor.java:52)




	at org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:340)




	at org.jboss.invocation.InterceptorContext$Invocation.proceed(InterceptorContext.java:437)




	at org.jboss.as.weld.ejb.Jsr299BindingsInterceptor.doMethodInterception(Jsr299BindingsInterceptor.java:82) [wildfly-weld-10.0.0.Alpha5-redhat-1.jar:10.0.0.Alpha5-redhat-1]




	at org.jboss.as.weld.ejb.Jsr299BindingsInterceptor.processInvocation(Jsr299BindingsInterceptor.java:93) [wildfly-weld-10.0.0.Alpha5-redhat-1.jar:10.0.0.Alpha5-redhat-1]




	at org.jboss.as.ee.component.interceptors.UserInterceptorFactory$1.processInvocation(UserInterceptorFactory.java:63)




	at org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:340)




	at org.jboss.as.ejb3.component.invocationmetrics.ExecutionTimeInterceptor.processInvocation(ExecutionTimeInterceptor.java:43) [wildfly-ejb3-10.0.0.Alpha5-redhat-1.jar:10.0.0.Alpha5-redhat-1]




	at org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:340)




	at org.jboss.as.jpa.interceptor.SBInvocationInterceptor.processInvocation(SBInvocationInterceptor.java:47)




	at org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:340)




	at org.jboss.invocation.InterceptorContext$Invocation.proceed(InterceptorContext.java:437)




	at org.jboss.weld.ejb.AbstractEJBRequestScopeActivationInterceptor.aroundInvoke(AbstractEJBRequestScopeActivationInterceptor.java:73) [weld-core-impl-2.3.0.Beta2.jar:2015-07-01 06:18]




	at org.jboss.as.weld.ejb.EjbRequestScopeActivationInterceptor.processInvocation(EjbRequestScopeActivationInterceptor.java:83) [wildfly-weld-10.0.0.Alpha5-redhat-1.jar:10.0.0.Alpha5-redhat-1]




	at org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:340)




	at org.jboss.as.ee.concurrent.ConcurrentContextInterceptor.processInvocation(ConcurrentContextInterceptor.java:45) [wildfly-ee-10.0.0.Alpha5-redhat-1.jar:10.0.0.Alpha5-redhat-1]




	at org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:340)




	at org.jboss.invocation.InitialInterceptor.processInvocation(InitialInterceptor.java:21)




	at org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:340)




	at org.jboss.invocation.ChainedInterceptor.processInvocation(ChainedInterceptor.java:61)




	at org.jboss.as.ee.component.interceptors.ComponentDispatcherInterceptor.processInvocation(ComponentDispatcherInterceptor.java:52)




	at org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:340)




	at org.jboss.as.ejb3.component.pool.PooledInstanceInterceptor.processInvocation(PooledInstanceInterceptor.java:51) [wildfly-ejb3-10.0.0.Alpha5-redhat-1.jar:10.0.0.Alpha5-redhat-1]




	at org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:340)




	at org.jboss.as.ejb3.tx.CMTTxInterceptor.invokeInOurTx(CMTTxInterceptor.java:275) [wildfly-ejb3-10.0.0.Alpha5-redhat-1.jar:10.0.0.Alpha5-redhat-1]




	... 39 more






Affected tests:
[javatest.batch] FAILED........com/sun/ts/tests/jms/ee20/cditests/usecases/Client.java#beanUseCaseA
[javatest.batch] FAILED........com/sun/ts/tests/jms/ee20/cditests/usecases/Client.java#beanUseCaseB
[javatest.batch] FAILED........com/sun/ts/tests/jms/ee20/cditests/usecases/Client.java#beanUseCaseC
[javatest.batch] FAILED........com/sun/ts/tests/jms/ee20/cditests/usecases/Client.java#beanUseCaseD
[javatest.batch] FAILED........com/sun/ts/tests/jms/ee20/cditests/usecases/Client.java#beanUseCaseE
[javatest.batch] FAILED........com/sun/ts/tests/jms/ee20/cditests/usecases/Client.java#beanUseCaseF
[javatest.batch] FAILED........com/sun/ts/tests/jms/ee20/cditests/usecases/Client.java#beanUseCaseG
[javatest.batch] FAILED........com/sun/ts/tests/jms/ee20/cditests/usecases/Client.java#beanUseCaseH
[javatest.batch] FAILED........com/sun/ts/tests/jms/ee20/cditests/usecases/Client.java#beanUseCaseJ
[javatest.batch] FAILED........com/sun/ts/tests/jms/ee20/cditests/usecases/Client.java#beanUseCaseK
Customer impact:
If JMSContext is injected using CDI like:






//JMSContext CDI injection specifying ConnectionFactory 




    @Inject




    @JMSConnectionFactory("jms/ConnectionFactory")




    JMSContext context;






then call of toString() method on this JMSContext will lead to java.lang.ClassCastException.</description>
			<version>10.0.0.Alpha6</version>
			<fixedVersion>10.1.0.CR1, 10.1.0.Final</fixedVersion>
			<type>Bug</type>
		</buginformation>
		<fixedFiles>
			<file type="M">org.wildfly.extension.messaging.activemq.deployment.JMSContextProducer.java</file>
		</fixedFiles>
		<links>
			<link type="Cloners" description="cloned from">559</link>
		</links>
	</bug>
	<bug id="6064" opendate="2016-01-25 20:18:31" fixdate="2016-02-04 02:02:45" resolution="Done">
		<buginformation>
			<summary>Distributed SFSB cache entries may rehash to different nodes following topology change</summary>
			<description>A distributed SFSB is stored in 2 cache entries, one mapping the bean ID to a serialization group ID, and another mapping the group ID to a map of bean instances.
We ensure that both cache entries will hash to the local node, but following a topology change, these entries could get re-mapped to different nodes.
If we made the group ID = the bean Id of the first bean in the group, this solves the problem for 90% of use cases.</description>
			<version>10.0.0.CR5</version>
			<fixedVersion>10.1.0.CR1, 10.1.0.Final</fixedVersion>
			<type>Bug</type>
		</buginformation>
		<fixedFiles>
			<file type="M">org.wildfly.clustering.ejb.infinispan.BeanGroupFactory.java</file>
			<file type="M">org.wildfly.clustering.ejb.infinispan.bean.InfinispanBeanKey.java</file>
			<file type="M">org.wildfly.clustering.ejb.infinispan.logging.InfinispanEjbLogger.java</file>
			<file type="M">org.wildfly.clustering.ejb.infinispan.bean.InfinispanBeanFactory.java</file>
			<file type="D">org.wildfly.clustering.ejb.infinispan.BeanKeyFilter.java</file>
			<file type="M">org.jboss.as.ejb3.cache.Cache.java</file>
			<file type="M">org.wildfly.clustering.ejb.infinispan.group.InfinispanBeanGroupTestCase.java</file>
			<file type="M">org.wildfly.clustering.ejb.infinispan.bean.InfinispanBeanEntry.java</file>
			<file type="M">org.wildfly.clustering.ejb.infinispan.BeanFactory.java</file>
			<file type="M">org.wildfly.clustering.ejb.infinispan.group.InfinispanBeanGroupEntry.java</file>
			<file type="M">org.wildfly.clustering.ejb.infinispan.InfinispanBeanManagerFactoryBuilderFactoryProvider.java</file>
			<file type="M">org.wildfly.clustering.ejb.infinispan.bean.InfinispanBeanTestCase.java</file>
			<file type="M">org.wildfly.clustering.ejb.Bean.java</file>
			<file type="M">org.wildfly.clustering.ejb.infinispan.InfinispanBeanManagerFactoryBuilder.java</file>
			<file type="M">org.wildfly.clustering.ejb.infinispan.bean.InfinispanBeanKeyExternalizer.java</file>
			<file type="M">org.wildfly.clustering.ejb.infinispan.InfinispanBeanManager.java</file>
			<file type="M">org.wildfly.clustering.ejb.infinispan.BeanEntry.java</file>
			<file type="M">org.wildfly.clustering.ejb.BeanManager.java</file>
			<file type="M">org.wildfly.clustering.ejb.infinispan.ExpiredBeanRemover.java</file>
			<file type="M">org.wildfly.clustering.ejb.infinispan.BeanKey.java</file>
			<file type="M">org.jboss.as.ejb3.cache.distributable.DistributableCacheFactoryBuilderService.java</file>
			<file type="M">org.wildfly.clustering.ejb.infinispan.bean.InfinispanBean.java</file>
			<file type="M">org.wildfly.clustering.ejb.BeanManagerFactory.java</file>
			<file type="M">org.jboss.as.ejb3.cache.simple.SimpleCache.java</file>
			<file type="M">org.wildfly.clustering.ejb.infinispan.Configuration.java</file>
			<file type="M">org.wildfly.clustering.ejb.BeanManagerFactoryBuilderFactoryProvider.java</file>
			<file type="M">org.jboss.as.ejb3.cache.distributable.DistributableCache.java</file>
			<file type="M">org.wildfly.clustering.ejb.infinispan.InfinispanBeanManagerFactory.java</file>
			<file type="M">org.wildfly.clustering.ejb.infinispan.group.InfinispanBeanGroupFactory.java</file>
			<file type="M">org.jboss.as.ejb3.cache.distributable.DistributableCacheFactoryService.java</file>
			<file type="M">org.wildfly.clustering.ejb.infinispan.group.InfinispanBeanGroup.java</file>
			<file type="M">org.wildfly.clustering.ejb.infinispan.BeanEvictionSchedulerTestCase.java</file>
			<file type="M">org.wildfly.clustering.ejb.infinispan.InfinispanBeanManagerFactoryBuilderFactory.java</file>
			<file type="M">org.wildfly.clustering.ejb.infinispan.BeanGroup.java</file>
			<file type="M">org.wildfly.clustering.ejb.BeanManagerFactoryBuilderFactory.java</file>
			<file type="M">org.wildfly.clustering.ejb.infinispan.bean.InfinispanBeanEntryExternalizer.java</file>
			<file type="M">org.jboss.as.test.integration.ejb.stateful.passivation.PassivationTestCase.java</file>
		</fixedFiles>
		<links>
			<link type="Cloners" description="cloned to">3201</link>
		</links>
	</bug>
	<bug id="6125" opendate="2016-02-04 09:24:46" fixdate="2016-02-10 11:46:26" resolution="Done">
		<buginformation>
			<summary>[Migration operation] No migration warning for remoting-interceptors</summary>
			<description>There is missing warning if following configuration is migrated to messaging-activemq subsystem:






&amp;lt;remoting-interceptors&amp;gt;




                &amp;lt;class-name&amp;gt;




                    org.jboss.qa.hornetq.apps.interceptors.LargeMessagePacketInterceptorImpl




                &amp;lt;/class-name&amp;gt;




                &amp;lt;class-name&amp;gt;




                    org.jboss.qa.hornetq.apps.interceptors.LargeMessagePacketInterceptorImpl




                &amp;lt;/class-name&amp;gt;




&amp;lt;/remoting-interceptors&amp;gt;






There should be warning like:
WFLYMSG0082: Classes providing the remoting-incoming-interceptors are discarded during the migration. To use them in the new messaging-activemq subsystem, you will have to extend the Artemis-based Interceptor.
as for migration of remoting-incoming-interceptors and remoting-outgoing-interceptors.</description>
			<version>10.0.0.Final</version>
			<fixedVersion>10.1.0.CR1, 10.1.0.Final</fixedVersion>
			<type>Bug</type>
		</buginformation>
		<fixedFiles>
			<file type="M">org.jboss.as.messaging.test.MigrateTestCase.java</file>
			<file type="M">org.jboss.as.messaging.MigrateOperation.java</file>
		</fixedFiles>
		<links>
			<link type="Cloners" description="cloned from">3205</link>
		</links>
	</bug>
	<bug id="6134" opendate="2016-02-05 14:28:06" fixdate="2016-02-10 11:48:24" resolution="Done">
		<buginformation>
			<summary>Deployment with @JMSConnectionFactoryDefinitions annotation cannot be deployed</summary>
			<description>There is regression in EAP 7.0.0.ER5 against EAP 7.0.0.ER4 hit by TCK 7.
Deployment of MDB which contains:






@JMSConnectionFactoryDefinition(




        name = "java:jboss/exported/MyConnectionFactory",




        resourceAdapter = "activemq-ra",




        properties = {




            "connectors=http-connector",}




)






 definition of connection factory fails with:






09:19:10,704 ERROR [org.jboss.as.controller.management-operation] (DeploymentScanner-threads - 1) WFLYCTL0013: Operation ("deploy") failed - address: ([("deployment" =&amp;gt; "mdb.jar")]) - failure description: {




    "WFLYCTL0180: Services with missing/unavailable dependencies" =&amp;gt; ["jboss.connector.direct-connection-factory-activator.java:jboss/exported/MyConnectionFactory is missing [jboss.ra.deployer.\"activemq-ra.rar\"]"],




    "WFLYCTL0288: One or more services were unable to start due to one or more indirect dependencies not being available." =&amp;gt; {




        "Services that were unable to start:" =&amp;gt; [




            "jboss.deployment.unit.\"mdb.jar\".component.mdb1.JndiBindingsService",




            "jboss.deployment.unit.\"mdb.jar\".component.mdb1.START",




            "jboss.deployment.unit.\"mdb.jar\".deploymentCompleteService",




            "jboss.deployment.unit.\"mdb.jar\".jndiDependencyService",




            "jboss.deployment.unit.\"mdb.jar\".moduleDeploymentRuntimeInformationStart",




            "jboss.naming.context.java.comp.mdb.mdb.mdb1.env.\"org.jboss.qa.hornetq.apps.mdb.LocalMdbFromQueueAnnotated\".cf"




        ],




        "Services that may be the cause:" =&amp;gt; [




            "jboss.connection-factory.reference-factory.jboss.naming.context.java.jboss.exported.MyConnectionFactory",




            "jboss.ra.deployer.\"activemq-ra.rar\""




        ]




    }




}






Failed TCK tests:






com/sun/ts/tests/jms/ee20/resourcedefs/annotations/Client.java#checkClientIDOnDurableConnFactoryTest	FAIL	20




com/sun/ts/tests/jms/ee20/resourcedefs/annotations/Client.java#sendAndRecvQueueTestFromAppClient	FAIL	20




com/sun/ts/tests/jms/ee20/resourcedefs/annotations/Client.java#sendAndRecvQueueTestFromEjbClient	FAIL	20




com/sun/ts/tests/jms/ee20/resourcedefs/annotations/Client.java#sendAndRecvQueueTestFromJspClient	FAIL	20




com/sun/ts/tests/jms/ee20/resourcedefs/annotations/Client.java#sendAndRecvQueueTestFromServletClient	FAIL	20




com/sun/ts/tests/jms/ee20/resourcedefs/annotations/Client.java#sendAndRecvTopicTestFromAppClient	FAIL	20




com/sun/ts/tests/jms/ee20/resourcedefs/annotations/Client.java#sendAndRecvTopicTestFromEjbClient	FAIL	20




com/sun/ts/tests/jms/ee20/resourcedefs/annotations/Client.java#sendAndRecvTopicTestFromJspClient	FAIL	20




com/sun/ts/tests/jms/ee20/resourcedefs/annotations/Client.java#sendAndRecvTopicTestFromServletClient	FAIL	20




com/sun/ts/tests/jms/ee20/resourcedefs/annotations/Client.java#verifyLookupWithRAElementSpecifiedTest




com/sun/ts/tests/jms/ee20/resourcedefs/descriptor/Client.java#checkClientIDOnDurableConnFactoryTest_from_appclient	FAIL	20




com/sun/ts/tests/jms/ee20/resourcedefs/descriptor/Client.java#checkClientIDOnDurableConnFactoryTest_from_ejb	FAIL	20




com/sun/ts/tests/jms/ee20/resourcedefs/descriptor/Client.java#checkClientIDOnDurableConnFactoryTest_from_jsp	FAIL	20




com/sun/ts/tests/jms/ee20/resourcedefs/descriptor/Client.java#checkClientIDOnDurableConnFactoryTest_from_servlet	FAIL	20




com/sun/ts/tests/jms/ee20/resourcedefs/descriptor/Client.java#sendAndRecvQueueTest_from_appclient	FAIL	20




com/sun/ts/tests/jms/ee20/resourcedefs/descriptor/Client.java#sendAndRecvQueueTest_from_ejb	FAIL	20




com/sun/ts/tests/jms/ee20/resourcedefs/descriptor/Client.java#sendAndRecvQueueTest_from_jsp	FAIL	20




com/sun/ts/tests/jms/ee20/resourcedefs/descriptor/Client.java#sendAndRecvQueueTest_from_servlet	FAIL	20




com/sun/ts/tests/jms/ee20/resourcedefs/descriptor/Client.java#sendAndRecvTopicTest_from_appclient	FAIL	20




com/sun/ts/tests/jms/ee20/resourcedefs/descriptor/Client.java#sendAndRecvTopicTest_from_ejb	FAIL	20




com/sun/ts/tests/jms/ee20/resourcedefs/descriptor/Client.java#sendAndRecvTopicTest_from_jsp	FAIL	20




com/sun/ts/tests/jms/ee20/resourcedefs/descriptor/Client.java#sendAndRecvTopicTest_from_servlet	FAIL	20




com/sun/ts/tests/jms/ee20/resourcedefs/descriptor/Client.java#verifyLookupWithRAElementSpecifiedTest_from_appclient	FAIL	20




com/sun/ts/tests/jms/ee20/resourcedefs/descriptor/Client.java#verifyLookupWithRAElementSpecifiedTest_from_ejb	FAIL	20




com/sun/ts/tests/jms/ee20/resourcedefs/descriptor/Client.java#verifyLookupWithRAElementSpecifiedTest_from_jsp	FAIL	20




com/sun/ts/tests/jms/ee20/resourcedefs/descriptor/Client.java#verifyLookupWithRAElementSpecifiedTest_from_servlet





</description>
			<version>10.0.0.Final</version>
			<fixedVersion>10.1.0.CR1, 10.1.0.Final</fixedVersion>
			<type>Bug</type>
		</buginformation>
		<fixedFiles>
			<file type="M">org.jboss.as.test.integration.messaging.jms.definitions.MessagingBean.java</file>
			<file type="M">org.wildfly.extension.messaging.activemq.deployment.JMSConnectionFactoryDefinitionInjectionSource.java</file>
			<file type="M">org.wildfly.extension.messaging.activemq.deployment.JMSDestinationDefinitionInjectionSource.java</file>
		</fixedFiles>
		<links>
			<link type="Cloners" description="cloned from">3251</link>
		</links>
	</bug>
	<bug id="6068" opendate="2016-01-26 11:03:11" fixdate="2016-02-11 16:51:55" resolution="Done">
		<buginformation>
			<summary>Warn that attribute failback-delay is handled automatically</summary>
			<description>Attribute failback-delay="6000" is not migrated. 
The migrated configuration should like:






&amp;lt;shared-store-master failover-on-server-shutdown="true" failback-delay="6000" /&amp;gt;






but there is just:






&amp;lt;shared-store-master failover-on-server-shutdown="true" /&amp;gt;






See failed test in Jenkins:
[1] https://jenkins.mw.lab.eng.bos.redhat.com/hudson/job/eap7-migration-standalone/8/testReport/org.jboss.qa.eap6to7migration.hornetq2artemis/ColocatedReplicatedTopologyTest/migrate/</description>
			<version>10.0.0.CR5</version>
			<fixedVersion>10.1.0.CR1, 10.1.0.Final</fixedVersion>
			<type>Bug</type>
		</buginformation>
		<fixedFiles>
			<file type="M">org.jboss.as.messaging.test.MigrateTestCase.java</file>
			<file type="M">org.jboss.as.messaging.MigrateOperation.java</file>
			<file type="M">org.jboss.as.messaging.logging.MessagingLogger.java</file>
		</fixedFiles>
		<links>
			<link type="Cloners" description="cloned from">2455</link>
		</links>
	</bug>
	<bug id="6118" opendate="2016-02-03 18:19:31" fixdate="2016-02-15 20:07:12" resolution="Done">
		<buginformation>
			<summary>EJB subsystem adds a capability but does not remove it in remove handler</summary>
			<description>EJB3SubsystemAdd adds capability org.wildfly.ejb3.clustered.singleton but then EJB3SubsystemRemove does not remove it.
This breaks use cases where the subsystem is repeatedly added, particularly a cycle of 
/profile=foo:clone(to-profile=bar)
... make some adjustments to bar
... oops, screwed up on those adjustments, lets start over!
/profile=bar:remove
/profile=foo:clone(to-profile=bar)
The last step will fail with:






[Host Controller] &amp;amp;amp#27;[33m&amp;amp;amp#27;[0m&amp;amp;amp#27;[31m12:05:13,818 ERROR [org.jboss.as.controller.management-operation] (management-handler-thread - 4) WFLYCTL0013: Operation ("add") failed - address: ([&amp;amp;amp#27;[0m




[Host Controller] &amp;amp;amp#27;[31m    ("profile" =&amp;gt; "clone"),&amp;amp;amp#27;[0m




[Host Controller] &amp;amp;amp#27;[31m    ("subsystem" =&amp;gt; "ejb3")&amp;amp;amp#27;[0m




[Host Controller] &amp;amp;amp#27;[31m]): java.lang.IllegalStateException: WFLYCTL0363: Capability &amp;amp;apos;org.wildfly.ejb3.clustered.singleton&amp;amp;apos; is already registered in context &amp;amp;apos;profile=clone&amp;amp;apos;.&amp;amp;amp#27;[0m




[Host Controller] &amp;amp;amp#27;[31m	at org.jboss.as.controller.CapabilityRegistry.registerCapability(CapabilityRegistry.java:146)&amp;amp;amp#27;[0m




[Host Controller] &amp;amp;amp#27;[31m	at org.jboss.as.controller.OperationContextImpl.registerCapability(OperationContextImpl.java:1430)&amp;amp;amp#27;[0m




[Host Controller] &amp;amp;amp#27;[31m	at org.jboss.as.controller.OperationContextImpl.registerCapability(OperationContextImpl.java:1417)&amp;amp;amp#27;[0m




[Host Controller] &amp;amp;amp#27;[31m	at org.jboss.as.ejb3.subsystem.EJB3SubsystemAdd.recordCapabilitiesAndRequirements(EJB3SubsystemAdd.java:178)&amp;amp;amp#27;[0m





</description>
			<version>10.0.0.Final</version>
			<fixedVersion>10.1.0.CR1, 10.1.0.Final</fixedVersion>
			<type>Bug</type>
		</buginformation>
		<fixedFiles>
			<file type="M">org.jboss.as.ejb3.subsystem.EJB3SubsystemAdd.java</file>
			<file type="M">org.jboss.as.ejb3.subsystem.EJB3SubsystemRemove.java</file>
		</fixedFiles>
	</bug>
	<bug id="6225" opendate="2016-02-16 13:29:28" fixdate="2016-02-16 15:47:41" resolution="Duplicate Issue">
		<buginformation>
			<summary>ClassNotFoundException from in-server EJB client</summary>
			<description>During a 2clusters test eap-7x-failover-ejb-2clusters-ejbremote-shutdown-repl-async (where 2clusters test = standalone EJB client -&amp;gt; 2-node "forwarder" cluster -&amp;gt; 2-node "target" cluster -&amp;gt; back to "forwarder" -&amp;gt; back to standalone client), I&amp;amp;apos;m seeing javax.ejb.EJBException: java.lang.ClassNotFoundException: org.infinispan.util.concurrent.TimeoutException from [Module "deployment.clusterbench-ee7.ear.clusterbench-ee7-ejb.jar:main" from Service Module Loader] being thrown from an in-server EJB client.
The TimeoutException-s are due to WFLY-5809, as can be seen by comparing the parsed logs: log messages with "TimeoutException: Unable to acquire lock" and log messages with "TimeoutException" only.
This sounds very similar to WFLY-5788, except that in this case, the EJB client is inside the server. The EJB JAR subdeployment probably doesn&amp;amp;apos;t have a dependency on org.infinispan, but in previous EAP 7 ERs, this wasn&amp;amp;apos;t a problem and there were no CNFEs even though there were the TimeoutException-s. (BTW, there&amp;amp;apos;s another subdeployment that has the dependency.) This is new in EAP 7.0.0.ER5, which is why I&amp;amp;apos;m filing it separately from WFLY-5788.</description>
			<version>10.0.0.Final</version>
			<fixedVersion></fixedVersion>
			<type>Bug</type>
		</buginformation>
		<fixedFiles>
			<file type="M">org.jboss.as.test.clustering.cluster.ejb.remote.RemoteFailoverTestCase.java</file>
			<file type="M">org.jboss.as.test.clustering.cluster.ejb.remote.bean.IncrementorBean.java</file>
			<file type="M">org.jboss.as.ejb3.remote.protocol.versionone.MethodInvocationMessageHandler.java</file>
			<file type="M">org.jboss.as.ejb3.component.stateful.StatefulSessionComponent.java</file>
			<file type="M">org.jboss.as.ejb3.cache.distributable.DistributableCache.java</file>
			<file type="M">org.jboss.as.ejb3.cache.Cache.java</file>
			<file type="M">org.wildfly.clustering.ejb.infinispan.InfinispanBeanManager.java</file>
			<file type="M">org.jboss.as.ee.component.Component.java</file>
			<file type="M">org.wildfly.clustering.ejb.BeanManager.java</file>
		</fixedFiles>
		<links>
			<link type="Cloners" description="cloned from">3435</link>
			<link type="Duplicate" description="duplicates">5788</link>
		</links>
	</bug>
	<bug id="6136" opendate="2016-02-05 23:47:17" fixdate="2016-02-17 03:06:14" resolution="Done">
		<buginformation>
			<summary>Wildfly 10.0.0.Final duplitates contents of &lt;jsp-config&gt;&lt;include-prelude&gt; or &lt;include-coda&gt; directives in web.xml</summary>
			<description>I have been successfully deploying an application on WildFly 8.2.1 and WildFly 9.0.2 versions with the following &amp;lt;jsp-config&amp;gt; directives in web.xml deployment descriptor:
&amp;lt;jsp-config&amp;gt;
&amp;lt;jsp-property-group&amp;gt;
&amp;lt;description&amp;gt;header and footer settings&amp;lt;/description&amp;gt;
&amp;lt;url-pattern&amp;gt;/WEB-INF/view/*&amp;lt;/url-pattern&amp;gt;
&amp;lt;url-pattern&amp;gt;/WEB-INF/error/*&amp;lt;/url-pattern&amp;gt;
&amp;lt;include-prelude&amp;gt;/WEB-INF/jspf/header.jspf&amp;lt;/include-prelude&amp;gt;
&amp;lt;include-coda&amp;gt;/WEB-INF/jspf/footer.jspf&amp;lt;/include-coda&amp;gt;
&amp;lt;/jsp-property-group&amp;gt;
&amp;lt;/jsp-config&amp;gt;
This code fragment includes the contents of /WEB-INF/jspf/header.jspf at the beginning of each .jsp file and &amp;lt;include-coda&amp;gt;/WEB-INF/jspf/footer.jspf&amp;lt;/include-coda&amp;gt; at the end of each .jsp file that matches the &amp;lt;url-pattern&amp;gt;.
But when I try to deploy this application with the same deployment descriptor in WildFly 10.0.0.Final, the contents of /WEB-INF/jspf/header.jspf and /WEB-INF/jspf/footer.jspf are included twice in each .jsp file that matches the &amp;lt;url-pattern&amp;gt;.
If I add another &amp;lt;url-pattern&amp;gt; line, then the contents of /WEB-INF/jspf/header.jspf and /WEB-INF/jspf/footer.jspf are included three times, and so on.
Any suggestion about this issue?
Is this a deployment descriptor issue or a configuration issue in the standalone.xml of WildFly 10.0.0.Final version?</description>
			<version>10.0.0.Final</version>
			<fixedVersion>10.1.0.CR1, 10.1.0.Final</fixedVersion>
			<type>Bug</type>
		</buginformation>
		<fixedFiles>
			<file type="M">org.jboss.as.test.integration.jsp.JspTagTestCase.java</file>
			<file type="M">org.wildfly.extension.undertow.deployment.UndertowDeploymentInfoService.java</file>
		</fixedFiles>
		<links>
			<link type="Cloners" description="cloned to">3288</link>
		</links>
	</bug>
	<bug id="6139" opendate="2016-02-08 10:33:42" fixdate="2016-02-17 03:35:25" resolution="Done">
		<buginformation>
			<summary>Starting server with EAP 6.4 standalone-full-ha.xml in --admin-only doesn&amp;apos;t list "web" as legacy</summary>
			<description>





unzip jboss-eap-6.4.0.zip




unzip wildfly-10.0.0.Final.zip









cp jboss-eap-6.4/standalone/configuration/standalone-full-ha.xml jboss-eap-7.0/standalone/configuration/




./wildfly-10.0.0.Final/bin/standalone.sh -c standalone-full-ha.xml --admin-only






During boot, the server lists threads, cmp, jaxr, messaging and jacorb as legacy:






11:26:55,792 ERROR [org.jboss.as.controller.management-operation] (ServerService Thread Pool -- 5) WFLYCTL0402: Subsystems [jacorb] provided by legacy extension &amp;amp;apos;org.jboss.as.jacorb&amp;amp;apos; are not supported on servers running this version. Both the subsystem and the extension must be removed or migrated before the server will function.




11:26:55,795 ERROR [org.jboss.as.controller.management-operation] (ServerService Thread Pool -- 8) WFLYCTL0402: Subsystems [cmp] provided by legacy extension &amp;amp;apos;org.jboss.as.cmp&amp;amp;apos; are not supported on servers running this version. Both the subsystem and the extension must be removed or migrated before the server will function.




11:26:55,793 ERROR [org.jboss.as.controller.management-operation] (ServerService Thread Pool -- 12) WFLYCTL0402: Subsystems [threads] provided by legacy extension &amp;amp;apos;org.jboss.as.threads&amp;amp;apos; are not supported on servers running this version. Both the subsystem and the extension must be removed or migrated before the server will function.




11:26:55,800 ERROR [org.jboss.as.controller.management-operation] (ServerService Thread Pool -- 18) WFLYCTL0402: Subsystems [messaging] provided by legacy extension &amp;amp;apos;org.jboss.as.messaging&amp;amp;apos; are not supported on servers running this version. Both the subsystem and the extension must be removed or migrated before the server will function.




11:26:55,800 ERROR [org.jboss.as.controller.management-operation] (ServerService Thread Pool -- 9) WFLYCTL0402: Subsystems [jaxr] provided by legacy extension &amp;amp;apos;org.jboss.as.jaxr&amp;amp;apos; are not supported on servers running this version. Both the subsystem and the extension must be removed or migrated before the server will function.






However, web is missing. IMHO it should be there.</description>
			<version>10.0.0.Final</version>
			<fixedVersion>10.1.0.CR1, 10.1.0.Final</fixedVersion>
			<type>Bug</type>
		</buginformation>
		<fixedFiles>
			<file type="M">org.jboss.as.web.WebExtension.java</file>
			<file type="M">org.jboss.as.web.test.WebMigrateTestCase.java</file>
			<file type="M">org.jboss.as.web.WebMigrateOperation.java</file>
		</fixedFiles>
		<links>
			<link type="Cloners" description="cloned from">3275</link>
		</links>
	</bug>
	<bug id="6197" opendate="2016-02-12 14:08:54" fixdate="2016-02-18 14:08:36" resolution="Done">
		<buginformation>
			<summary>@ClusteredSingleton is hardcoded to use a specific singleton policy name</summary>
			<description>The default singleton policy happens to be named "default" in our default configuration.  However, the EJB subsystem should not rely on this - as a user can change this.  Part of the problem is, there is no registered capability that specifically refers to the default singleton policy.</description>
			<version>10.0.0.Final</version>
			<fixedVersion>10.1.0.CR1, 10.1.0.Final</fixedVersion>
			<type>Bug</type>
		</buginformation>
		<fixedFiles>
			<file type="M">org.jboss.as.clustering.controller.RequiredCapability.java</file>
			<file type="M">org.jboss.as.clustering.subsystem.AdditionalInitialization.java</file>
			<file type="M">org.wildfly.clustering.singleton.SingletonPolicy.java</file>
			<file type="M">org.jboss.as.ejb3.subsystem.EJB3SubsystemAdd.java</file>
			<file type="D">org.jboss.as.clustering.controller.Requirement.java</file>
			<file type="M">org.wildfly.extension.clustering.singleton.SingletonPolicyResourceDefinition.java</file>
			<file type="M">org.jboss.as.clustering.controller.CapabilityDependency.java</file>
			<file type="M">org.jboss.as.clustering.controller.CapabilityReference.java</file>
			<file type="M">org.wildfly.extension.clustering.singleton.SingletonResourceDefinition.java</file>
			<file type="M">org.jboss.as.ejb3.subsystem.Ejb3SubsystemUnitTestCase.java</file>
		</fixedFiles>
		<links>
			<link type="Cloners" description="cloned to">3396</link>
		</links>
	</bug>
	<bug id="5579" opendate="2015-10-26 13:13:45" fixdate="2016-02-21 13:21:38" resolution="Done">
		<buginformation>
			<summary>Failing tests of AS testsuite StatefulFailoverTestCase and CdiFailoverTestCase when JTS transactions are used</summary>
			<description>Failing tests cases 

org.jboss.as.test.clustering.cluster.cdi.CdiFailoverTestCase
org.jboss.as.test.clustering.cluster.ejb.stateful.StatefulFailoverTestCase
org.jboss.as.test.clustering.cluster.ejb.xpc.StatefulWithXPCFailoverTestCase

when transaction used with JTS. There is a common server failure for all of them






WARN  [com.arjuna.ats.jts] (default task-1) ARJUNA022261: ServerTopLevelAction detected that the transaction was inactive




WARN  [com.arjuna.ats.jts] (default task-1) ARJUNA022261: ServerTopLevelAction detected that the transaction was inactive2015-10-26 13:58:43,887 




WARN  [org.jboss.as.txn] (default task-1) WFLYTX0027: The pre-jca synchronization org.jboss.as.ejb3.component.stateful.StatefulSessionSynchronizationInterceptor$StatefulSessionSynchronization@5c8b87d associated with tx TransactionImple &amp;lt; jts, 0:ffff0a28048f:-1ef8a8a1:562e236e:16 &amp;gt; failed during after completion: javax.ejb.EJBException: javax.transaction.SystemException: org.omg.CORBA.TRANSACTION_UNAVAILABLE: ARJUNA022258: Transaction was inactive  vmcid: 0x0  minor code: 1  completed: No




 at org.jboss.as.ejb3.component.stateful.StatefulSessionComponentInstance.execute(StatefulSessionComponentInstance.java:177)




 at org.jboss.as.ejb3.component.stateful.StatefulSessionComponentInstance.prePassivate(StatefulSessionComponentInstance.java:143)




 at org.jboss.as.ejb3.component.stateful.StatefulSessionComponent.prePassivate(StatefulSessionComponent.java:168)




 at org.jboss.as.ejb3.component.stateful.StatefulSessionComponent.prePassivate(StatefulSessionComponent.java:75)




 at org.wildfly.clustering.ejb.infinispan.group.InfinispanBeanGroup.prePassivate(InfinispanBeanGroup.java:131)




 at org.wildfly.clustering.ejb.infinispan.group.InfinispanBeanGroup.releaseBean(InfinispanBeanGroup.java:107)




 at org.wildfly.clustering.ejb.infinispan.bean.InfinispanBean.release(InfinispanBean.java:104)




 at org.wildfly.clustering.ejb.infinispan.InfinispanBeanManager$SchedulableBean.release(InfinispanBeanManager.java:364)




 at org.jboss.as.ejb3.cache.distributable.DistributableCache.release(DistributableCache.java:135)




 at org.jboss.as.ejb3.component.stateful.StatefulSessionSynchronizationInterceptor.releaseInstance(StatefulSessionSynchronizationInterceptor.java:168)




 at org.jboss.as.ejb3.component.stateful.StatefulSessionSynchronizationInterceptor$StatefulSessionSynchronization.afterCompletion(StatefulSessionSynchronizationInterceptor.java:250)




 at org.jboss.as.txn.service.internal.tsr.JCAOrderedLastSynchronizationList.afterCompletion(JCAOrderedLastSynchronizationList.java:147)




 at com.arjuna.ats.internal.jta.resources.jts.orbspecific.SynchronizationImple.after_completion(SynchronizationImple.java:118)




 at com.arjuna.ArjunaOTS.JTAInterposedSynchronizationPOATie.after_completion(JTAInterposedSynchronizationPOATie.java:46)




 at com.arjuna.ArjunaOTS.JTAInterposedSynchronizationPOA._invoke(JTAInterposedSynchronizationPOA.java:47)




 at com.sun.corba.se.impl.protocol.CorbaServerRequestDispatcherImpl.dispatchToServant(CorbaServerRequestDispatcherImpl.java:654)




 at com.sun.corba.se.impl.protocol.CorbaServerRequestDispatcherImpl.dispatch(CorbaServerRequestDispatcherImpl.java:205)




 at com.sun.corba.se.impl.protocol.CorbaMessageMediatorImpl.handleRequestRequest(CorbaMessageMediatorImpl.java:1700)




 at com.sun.corba.se.impl.protocol.SharedCDRClientRequestDispatcherImpl.marshalingComplete(SharedCDRClientRequestDispatcherImpl.java:180)




 at com.sun.corba.se.impl.protocol.CorbaClientDelegateImpl.invoke(CorbaClientDelegateImpl.java:148)




 at org.omg.CORBA.portable.ObjectImpl._invoke(ObjectImpl.java:475)




 at org.omg.CosTransactions._SynchronizationStub.after_completion(_SynchronizationStub.java:38)




 at com.arjuna.ats.internal.jts.orbspecific.coordinator.ArjunaTransactionImple.doAfterCompletion(ArjunaTransactionImple.java:1636)




 at com.arjuna.ats.internal.jts.orbspecific.coordinator.ArjunaTransactionImple.commit(ArjunaTransactionImple.java:383)




 at com.arjuna.ats.internal.jts.ControlWrapper.commit(ControlWrapper.java:244)




 at com.arjuna.ats.internal.jts.orbspecific.CurrentImple.commit(CurrentImple.java:247)




 at com.arjuna.ats.jts.extensions.AtomicTransaction.commit(AtomicTransaction.java:276)




 at com.arjuna.ats.internal.jta.transaction.jts.TransactionImple.commitAndDisassociate(TransactionImple.java:1313)




 at com.arjuna.ats.internal.jta.transaction.jts.BaseTransaction.commit(BaseTransaction.java:130)




 at com.arjuna.ats.jbossatx.BaseTransactionManagerDelegate.commit(BaseTransactionManagerDelegate.java:89)




 at org.jboss.as.ejb3.tx.CMTTxInterceptor.endTransaction(CMTTxInterceptor.java:91)




 at org.jboss.as.ejb3.tx.CMTTxInterceptor.invokeInOurTx(CMTTxInterceptor.java:279)




 at org.jboss.as.ejb3.tx.CMTTxInterceptor.required(CMTTxInterceptor.java:327)




 at org.jboss.as.ejb3.tx.CMTTxInterceptor.processInvocation(CMTTxInterceptor.java:239)




 at org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:340)




 at org.jboss.as.ejb3.component.interceptors.CurrentInvocationContextInterceptor.processInvocation(CurrentInvocationContextInterceptor.java:41)




 at org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:340)




 at org.jboss.as.ejb3.component.invocationmetrics.WaitTimeInterceptor.processInvocation(WaitTimeInterceptor.java:43)




 at org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:340)




 at org.jboss.as.ejb3.security.SecurityContextInterceptor.processInvocation(SecurityContextInterceptor.java:100)




 at org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:340)




 at org.jboss.as.ejb3.component.interceptors.ShutDownInterceptorFactory$1.processInvocation(ShutDownInterceptorFactory.java:64)




 at org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:340)




 at org.jboss.as.ejb3.component.interceptors.LoggingInterceptor.processInvocation(LoggingInterceptor.java:66)




 at org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:340)




 at org.jboss.as.ee.component.NamespaceContextInterceptor.processInvocation(NamespaceContextInterceptor.java:50)




 at org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:340)




 at org.jboss.as.ejb3.component.interceptors.AdditionalSetupInterceptor.processInvocation(AdditionalSetupInterceptor.java:54)




 at org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:340)




 at org.jboss.invocation.ContextClassLoaderInterceptor.processInvocation(ContextClassLoaderInterceptor.java:64)




 at org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:340)




 at org.jboss.invocation.InterceptorContext.run(InterceptorContext.java:356)




 at org.wildfly.security.manager.WildFlySecurityManager.doChecked(WildFlySecurityManager.java:636)




 at org.jboss.invocation.AccessCheckingInterceptor.processInvocation(AccessCheckingInterceptor.java:61)




 at org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:340)




 at org.jboss.invocation.InterceptorContext.run(InterceptorContext.java:356)




 at org.jboss.invocation.PrivilegedWithCombinerInterceptor.processInvocation(PrivilegedWithCombinerInterceptor.java:80)




 at org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:340)




 at org.jboss.invocation.ChainedInterceptor.processInvocation(ChainedInterceptor.java:61)




 at org.jboss.as.ee.component.ViewService$View.invoke(ViewService.java:195)




 at org.jboss.as.ee.component.ViewDescription$1.processInvocation(ViewDescription.java:185)




 at org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:340)




 at org.jboss.invocation.ChainedInterceptor.processInvocation(ChainedInterceptor.java:61)




 at org.jboss.as.ee.component.ProxyInvocationHandler.invoke(ProxyInvocationHandler.java:73)




 at org.jboss.as.test.clustering.cluster.ejb.stateful.bean.Incrementor$$$view1.increment(Unknown Source)




 at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)




 at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)




 at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)




 at java.lang.reflect.Method.invoke(Method.java:497)




 at org.jboss.weld.util.reflection.Reflections.invokeAndUnwrap(Reflections.java:436)




 at org.jboss.weld.bean.proxy.EnterpriseBeanProxyMethodHandler.invoke(EnterpriseBeanProxyMethodHandler.java:127)




 at org.jboss.weld.bean.proxy.EnterpriseTargetBeanInstance.invoke(EnterpriseTargetBeanInstance.java:56)




 at org.jboss.weld.bean.proxy.ProxyMethodHandler.invoke(ProxyMethodHandler.java:100)




 at org.jboss.as.test.clustering.cluster.cdi.Incrementor$64999020$Proxy$_$$_Weld$EnterpriseProxy$.increment(Unknown Source)




 at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)




 at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)




 at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)




 at java.lang.reflect.Method.invoke(Method.java:497)




 at org.jboss.weld.bean.proxy.AbstractBeanInstance.invoke(AbstractBeanInstance.java:38)




 at org.jboss.weld.bean.proxy.ProxyMethodHandler.invoke(ProxyMethodHandler.java:100)




 at org.jboss.weld.proxies.Incrementor$64999020$Proxy$_$$_WeldClientProxy.increment(Unknown Source)




 at org.jboss.as.test.clustering.cluster.cdi.CdiServlet.doGet(CdiServlet.java:56)




 at javax.servlet.http.HttpServlet.service(HttpServlet.java:687)




 at javax.servlet.http.HttpServlet.service(HttpServlet.java:790)




 at io.undertow.servlet.handlers.ServletHandler.handleRequest(ServletHandler.java:86)




 at io.undertow.servlet.handlers.security.ServletSecurityRoleHandler.handleRequest(ServletSecurityRoleHandler.java:62)




 at io.undertow.servlet.handlers.ServletDispatchingHandler.handleRequest(ServletDispatchingHandler.java:36)




 at org.wildfly.extension.undertow.security.SecurityContextAssociationHandler.handleRequest(SecurityContextAssociationHandler.java:78)




 at io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43)




 at io.undertow.servlet.handlers.security.SSLInformationAssociationHandler.handleRequest(SSLInformationAssociationHandler.java:131)




 at io.undertow.servlet.handlers.security.ServletAuthenticationCallHandler.handleRequest(ServletAuthenticationCallHandler.java:57)




 at io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43)




 at io.undertow.security.handlers.AbstractConfidentialityHandler.handleRequest(AbstractConfidentialityHandler.java:46)




 at io.undertow.servlet.handlers.security.ServletConfidentialityConstraintHandler.handleRequest(ServletConfidentialityConstraintHandler.java:64)




 at io.undertow.security.handlers.AuthenticationMechanismsHandler.handleRequest(AuthenticationMechanismsHandler.java:60)




 at io.undertow.servlet.handlers.security.CachedAuthenticatedSessionHandler.handleRequest(CachedAuthenticatedSessionHandler.java:72)




 at io.undertow.security.handlers.NotificationReceiverHandler.handleRequest(NotificationReceiverHandler.java:50)




 at io.undertow.security.handlers.AbstractSecurityContextAssociationHandler.handleRequest(AbstractSecurityContextAssociationHandler.java:43)




 at io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43)




 at org.wildfly.extension.undertow.security.jacc.JACCContextIdHandler.handleRequest(JACCContextIdHandler.java:61)




 at io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43)




 at io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43)




 at io.undertow.servlet.handlers.ServletInitialHandler.handleFirstRequest(ServletInitialHandler.java:284)




 at io.undertow.servlet.handlers.ServletInitialHandler.dispatchRequest(ServletInitialHandler.java:263)




 at io.undertow.servlet.handlers.ServletInitialHandler.access$000(ServletInitialHandler.java:81)




 at io.undertow.servlet.handlers.ServletInitialHandler$1.handleRequest(ServletInitialHandler.java:174)




 at io.undertow.server.Connectors.executeRootHandler(Connectors.java:198)




 at io.undertow.server.HttpServerExchange$1.run(HttpServerExchange.java:784)




 at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)




 at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)




 at java.lang.Thread.run(Thread.java:745)Caused by: javax.transaction.SystemException: org.omg.CORBA.TRANSACTION_UNAVAILABLE: ARJUNA022258: Transaction was inactive  vmcid: 0x0  minor code: 1  completed: No




 at com.arjuna.ats.internal.jta.transaction.jts.BaseTransaction.checkTransactionState(BaseTransaction.java:291)




 at com.arjuna.ats.internal.jta.transaction.jts.TransactionManagerImple.resume(TransactionManagerImple.java:154)




 at com.arjuna.ats.jbossatx.BaseTransactionManagerDelegate.resume(BaseTransactionManagerDelegate.java:122)




 at org.jboss.as.ejb3.tx.CMTTxInterceptor.notSupported(CMTTxInterceptor.java:310)




 at org.jboss.as.ejb3.tx.LifecycleCMTTxInterceptor.processInvocation(LifecycleCMTTxInterceptor.java:62)




 at org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:340)




 at org.jboss.as.ejb3.component.interceptors.CurrentInvocationContextInterceptor.processInvocation(CurrentInvocationContextInterceptor.java:41)




 at org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:340)




 at org.jboss.as.ee.concurrent.ConcurrentContextInterceptor.processInvocation(ConcurrentContextInterceptor.java:45)




 at org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:340)




 at org.jboss.invocation.ContextClassLoaderInterceptor.processInvocation(ContextClassLoaderInterceptor.java:64)




 at org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:340)




 at org.jboss.invocation.InterceptorContext.run(InterceptorContext.java:356)




 at org.jboss.invocation.PrivilegedWithCombinerInterceptor.processInvocation(PrivilegedWithCombinerInterceptor.java:80)




 at org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:340)




 at org.jboss.invocation.ChainedInterceptor.processInvocation(ChainedInterceptor.java:61)




 at org.jboss.as.ejb3.component.stateful.StatefulSessionComponentInstance.execute(StatefulSessionComponentInstance.java:171) ... 110 moreCaused by: org.omg.CORBA.TRANSACTION_UNAVAILABLE: ARJUNA022258: Transaction was inactive  vmcid: 0x0  minor code: 1  completed: No




 at com.arjuna.ats.internal.jts.interposition.resources.arjuna.Interposition.createHierarchy(Interposition.java:189)




 at com.arjuna.ats.internal.jts.interposition.resources.arjuna.Interposition.setupHierarchy(Interposition.java:107)




 at com.arjuna.ats.internal.jts.interposition.resources.arjuna.Interposition.create(Interposition.java:66)




 at com.arjuna.ats.internal.jts.interposition.resources.arjuna.InterpositionCreator.recreateLocal(InterpositionCreator.java:46)




 at com.arjuna.ats.internal.jts.interposition.FactoryElement.recreateLocal(FactoryList.java:66)




 at com.arjuna.ats.internal.jts.interposition.FactoryList.recreateLocal(FactoryList.java:115)




 at com.arjuna.ats.internal.jts.orbspecific.TransactionFactoryImple.recreateLocal(TransactionFactoryImple.java:230)




 at com.arjuna.ats.internal.jts.context.ContextManager.createHierarchy(ContextManager.java:703)




 at com.arjuna.ats.internal.jts.context.ContextManager.currentPIContext(ContextManager.java:610)




 at com.arjuna.ats.internal.jts.context.ContextManager.current(ContextManager.java:170)




 at com.arjuna.ats.internal.jts.context.ContextManager.associate(ContextManager.java:311)




 at com.arjuna.ats.internal.jts.OTSImpleManager.get_current(OTSImpleManager.java:104)




 at com.arjuna.ats.jts.OTSManager.get_current(OTSManager.java:71)




 at com.arjuna.ats.internal.jta.transaction.jts.BaseTransaction.checkTransactionState(BaseTransaction.java:265) ... 126 more





</description>
			<version>10.0.0.CR3</version>
			<fixedVersion>10.1.0.CR1, 10.1.0.Final</fixedVersion>
			<type>Bug</type>
		</buginformation>
		<fixedFiles>
			<file type="M">org.jboss.as.ejb3.tx.LifecycleCMTTxInterceptor.java</file>
		</fixedFiles>
		<links>
			<link type="Cloners" description="cloned from">1634</link>
		</links>
	</bug>
	<bug id="6160" opendate="2016-02-10 09:43:36" fixdate="2016-02-21 13:21:58" resolution="Done">
		<buginformation>
			<summary>Failing RemoteFailoverTestCase#testStatefulFailover when transaction run under JTS</summary>
			<description>I can see failing test RemoteFailoverTestCase#testStatefulFailover when transactions are set to run under JTS. I&amp;amp;apos;m not sure if this is a trouble of clustering component or only a testsuite issue.
This could be connected with JBEAP-1954.</description>
			<version>10.0.0.Final</version>
			<fixedVersion>10.1.0.CR1, 10.1.0.Final</fixedVersion>
			<type>Bug</type>
		</buginformation>
		<fixedFiles>
			<file type="M">org.jboss.as.ejb3.tx.LifecycleCMTTxInterceptor.java</file>
		</fixedFiles>
		<links>
			<link type="Cloners" description="cloned from">3330</link>
			<link type="Related" description="is related to">5680</link>
			<link type="Related" description="is related to">1954</link>
		</links>
	</bug>
	<bug id="6234" opendate="2016-02-16 19:37:02" fixdate="2016-02-22 10:05:50" resolution="Done">
		<buginformation>
			<summary>Undertow mod_cluster should use multicast port from socket binding</summary>
			<description>Currently uses org.jboss.as.network.SocketBinding#getPort</description>
			<version>10.0.0.Final</version>
			<fixedVersion>10.1.0.CR1, 10.1.0.Final</fixedVersion>
			<type>Bug</type>
		</buginformation>
		<fixedFiles>
			<file type="M">org.wildfly.extension.undertow.filters.ModClusterService.java</file>
		</fixedFiles>
		<links>
			<link type="Cloners" description="cloned to">3451</link>
			<link type="Related" description="is related to">1767</link>
		</links>
	</bug>
	<bug id="5788" opendate="2015-12-04 09:53:36" fixdate="2016-02-22 10:06:33" resolution="Done">
		<buginformation>
			<summary>EJB client can fail with CNFE when deserializing EJBException since wrapped cause might not be on classpath such as CacheException</summary>
			<description>RuntimeExceptions thrown when accessing the SFSB cache should be rethrown as an EJBException. Otherwise the client doesn&amp;amp;apos;t know how to serialize implementation specific exception classes.
This is not correct. The cause is wrapped in the EJBException but it is the cause that cannot be deserialized. Updated the Jira summary and crossed ^ out. --Rado
Seen in our failover tests for remote stateful EJBs - scenarios.
After failing a node, client logs these error messages:






2015/11/27 04:10:03:241 EST [ERROR][Runner - 894] HOST perf17.mw.lab.eng.bos.redhat.com:rootProcess:c - Error getting response. &amp;lt;javax.ejb.EJBException: java.lang.ClassNotFoundException: org.infinispan.statetransfer.OutdatedTopologyException&amp;gt;




        javax.ejb.EJBException: java.lang.ClassNotFoundException: org.infinispan.statetransfer.OutdatedTopologyException




        at org.jboss.ejb.client.EJBInvocationHandler.doInvoke(EJBInvocationHandler.java:238)




        at org.jboss.ejb.client.EJBInvocationHandler.doInvoke(EJBInvocationHandler.java:183)




        at org.jboss.ejb.client.EJBInvocationHandler.invoke(EJBInvocationHandler.java:146)




        at com.sun.proxy.$Proxy2.getSerialAndIncrement(Unknown Source)




        at org.jboss.smartfrog.clustering.ejb3.StatefulSBProcessorFactoryImpl$EJB3RequestProcessor.processRequest(StatefulSBProcessorFactoryImpl.java:84)




        at org.jboss.smartfrog.loaddriver.CompoundRequestProcessorFactoryImpl$CompoundRequestProcessor.processRequest(CompoundRequestProcessorFactoryImpl.java:52)




        at org.jboss.smartfrog.loaddriver.Runner.run(Runner.java:103)




        at java.lang.Thread.run(Thread.java:745)




Caused by: java.lang.ClassNotFoundException: org.infinispan.statetransfer.OutdatedTopologyException




        at java.net.URLClassLoader.findClass(URLClassLoader.java:381)




        at java.lang.ClassLoader.loadClass(ClassLoader.java:424)




        at sun.misc.Launcher$AppClassLoader.loadClass(Launcher.java:331)




        at java.lang.ClassLoader.loadClass(ClassLoader.java:357)




        at java.lang.Class.forName0(Native Method)




        at java.lang.Class.forName(Class.java:348)




        at org.jboss.marshalling.AbstractClassResolver.loadClass(AbstractClassResolver.java:131)




        at org.jboss.marshalling.AbstractClassResolver.resolveClass(AbstractClassResolver.java:112)




        at org.jboss.marshalling.river.RiverUnmarshaller.doReadClassDescriptor(RiverUnmarshaller.java:948)




        at org.jboss.marshalling.river.RiverUnmarshaller.doReadNewObject(RiverUnmarshaller.java:1255)




        at org.jboss.marshalling.river.RiverUnmarshaller.doReadObject(RiverUnmarshaller.java:276)




        at org.jboss.marshalling.river.RiverUnmarshaller.doReadObject(RiverUnmarshaller.java:224)




        at org.jboss.marshalling.river.RiverUnmarshaller.readFields(RiverUnmarshaller.java:1745)




        at org.jboss.marshalling.river.RiverObjectInputStream.defaultReadObject(RiverObjectInputStream.java:81)




        at java.lang.Throwable.readObject(Throwable.java:914)




        at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)




        at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)




        at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)




        at java.lang.reflect.Method.invoke(Method.java:497)




        at org.jboss.marshalling.reflect.SerializableClass.callReadObject(SerializableClass.java:307)




        at org.jboss.marshalling.river.RiverUnmarshaller.doInitSerializable(RiverUnmarshaller.java:1637)




        at org.jboss.marshalling.river.RiverUnmarshaller.doInitSerializable(RiverUnmarshaller.java:1606)




        at org.jboss.marshalling.river.RiverUnmarshaller.doInitSerializable(RiverUnmarshaller.java:1606)




        at org.jboss.marshalling.river.RiverUnmarshaller.doInitSerializable(RiverUnmarshaller.java:1606)




        at org.jboss.marshalling.river.RiverUnmarshaller.doReadNewObject(RiverUnmarshaller.java:1285)




        at org.jboss.marshalling.river.RiverUnmarshaller.doReadObject(RiverUnmarshaller.java:276)




        at org.jboss.marshalling.river.RiverUnmarshaller.doReadObject(RiverUnmarshaller.java:209)




        at org.jboss.marshalling.AbstractObjectInput.readObject(AbstractObjectInput.java:41)




        at org.jboss.ejb.client.remoting.InvocationExceptionResponseHandler$MethodInvocationExceptionResultProducer.getResult(InvocationExceptionResponseHandler.java:79)




        at org.jboss.ejb.client.EJBClientInvocationContext$1.run(EJBClientInvocationContext.java:282)




        at java.security.AccessController.doPrivileged(Native Method)




        at org.jboss.ejb.client.EJBClientInvocationContext.getResult(EJBClientInvocationContext.java:279)




        at org.jboss.ejb.client.EJBObjectInterceptor.handleInvocationResult(EJBObjectInterceptor.java:64)




        at org.jboss.ejb.client.EJBClientInvocationContext.getResult(EJBClientInvocationContext.java:290)




        at org.jboss.ejb.client.EJBHomeInterceptor.handleInvocationResult(EJBHomeInterceptor.java:88)




        at org.jboss.ejb.client.EJBClientInvocationContext.getResult(EJBClientInvocationContext.java:290)




        at org.jboss.ejb.client.TransactionInterceptor.handleInvocationResult(TransactionInterceptor.java:46)




        at org.jboss.ejb.client.EJBClientInvocationContext.getResult(EJBClientInvocationContext.java:290)




        at org.jboss.ejb.client.ReceiverInterceptor.handleInvocationResult(ReceiverInterceptor.java:129)




        at org.jboss.ejb.client.EJBClientInvocationContext.getResult(EJBClientInvocationContext.java:265)




        at org.jboss.ejb.client.EJBClientInvocationContext.awaitResponse(EJBClientInvocationContext.java:453)




        at org.jboss.ejb.client.EJBInvocationHandler.doInvoke(EJBInvocationHandler.java:204)




        ... 7 more






Link
http://jenkins.mw.lab.eng.bos.redhat.com/hudson/job/eap-7x-failover-ejb-ejbremote-jvmkill-dist-async/17/console-perf17/</description>
			<version>10.0.0.CR5</version>
			<fixedVersion>10.1.0.CR1, 10.1.0.Final</fixedVersion>
			<type>Bug</type>
		</buginformation>
		<fixedFiles>
			<file type="M">org.jboss.as.test.clustering.cluster.ejb.remote.RemoteFailoverTestCase.java</file>
			<file type="M">org.jboss.as.test.clustering.cluster.ejb.remote.bean.IncrementorBean.java</file>
			<file type="M">org.jboss.as.ejb3.remote.protocol.versionone.MethodInvocationMessageHandler.java</file>
			<file type="M">org.jboss.as.ejb3.component.stateful.StatefulSessionComponent.java</file>
			<file type="M">org.jboss.as.ejb3.cache.distributable.DistributableCache.java</file>
			<file type="M">org.jboss.as.ejb3.cache.Cache.java</file>
			<file type="M">org.wildfly.clustering.ejb.infinispan.InfinispanBeanManager.java</file>
			<file type="M">org.jboss.as.ee.component.Component.java</file>
			<file type="M">org.wildfly.clustering.ejb.BeanManager.java</file>
		</fixedFiles>
		<links>
			<link type="Cloners" description="cloned from">2159</link>
			<link type="Duplicate" description="is duplicated by">6225</link>
		</links>
	</bug>
	<bug id="4941" opendate="2015-07-16 12:51:00" fixdate="2016-02-23 10:19:58" resolution="Done">
		<buginformation>
			<summary>WFLYCLEJBINF0005: Failed to cancel[schedule] expiration/passivation of bean UnknownSessionID on primary owner.: ExecutionException: TimeoutException: timeout sending message</summary>
			<description>Seen in our failover tests - this warning message is present in each server log in each test we have run so far.
When each server in cluster is restarting after failover, other servers get CacheTopology change (the starting server is added) and the servers log this warning message many times:
(for http session tests, the error identificator is WFLYCL*WEB*INF0005 rather than WFLYCL*EJB*INF0005)






[JBossINF] [0m[0m11:32:27,681 INFO  [org.infinispan.CLUSTER] (remote-thread--p5-t12) ISPN000336: Finished cluster-wide rebalance for cache dist, topology id = 10




[JBossINF] [0m[0m11:32:27,809 INFO  [org.infinispan.CLUSTER] (remote-thread--p6-t2) ISPN000310: Starting cluster-wide rebalance for cache clusterbench-ee7.ear/clusterbench-ee7-ejb.jar, topology CacheTopology{id=10, rebalanceId=5, currentCH=DefaultConsistentHash{ns=80, owners = (3)[perf19: 26+28, perf20: 27+26, perf21: 27+26]}, pendingCH=DefaultConsistentHash{ns=80, owners = (4)[perf19: 20+20, perf20: 20+20, perf21: 20+20, perf18: 20+20]}, unionCH=null, actualMembers=[perf19, perf20, perf21, perf18]}




[JBossINF] [0m[0m11:32:28,347 INFO  [org.infinispan.CLUSTER] (remote-thread--p6-t6) ISPN000336: Finished cluster-wide rebalance for cache clusterbench-ee7.ear/clusterbench-ee7-ejb.jar, topology id = 10




[JBossINF] [0m[33m11:32:28,624 WARN  [org.wildfly.clustering.ejb.infinispan] (EJB default - 4) WFLYCLEJBINF0005: Failed to cancel expiration/passivation of bean UnknownSessionID [6855655451695655554868505252524957485470656956657048536848556569] on primary owner.: java.util.concurrent.ExecutionException: java.util.concurrent.TimeoutException: timeout sending message to perf18




[JBossINF] 	at org.jgroups.blocks.UnicastRequest.getValue(UnicastRequest.java:203)




[JBossINF] 	at org.jgroups.blocks.UnicastRequest.get(UnicastRequest.java:212)




[JBossINF] 	at org.wildfly.clustering.server.dispatcher.ChannelCommandDispatcher.executeOnNode(ChannelCommandDispatcher.java:151)




[JBossINF] 	at org.wildfly.clustering.ejb.infinispan.InfinispanBeanManager$6.call(InfinispanBeanManager.java:237)




[JBossINF] 	at org.wildfly.clustering.ejb.infinispan.InfinispanBeanManager$6.call(InfinispanBeanManager.java:232)




[JBossINF] 	at org.wildfly.clustering.ee.infinispan.RetryingInvoker.invoke(RetryingInvoker.java:70)




[JBossINF] 	at org.wildfly.clustering.ejb.infinispan.InfinispanBeanManager.executeOnPrimaryOwner(InfinispanBeanManager.java:240)




[JBossINF] 	at org.wildfly.clustering.ejb.infinispan.InfinispanBeanManager.cancel(InfinispanBeanManager.java:217)




[JBossINF] 	at org.wildfly.clustering.ejb.infinispan.InfinispanBeanManager.findBean(InfinispanBeanManager.java:267)




[JBossINF] 	at org.jboss.as.ejb3.cache.distributable.DistributableCache.get(DistributableCache.java:115)




[JBossINF] 	at org.jboss.as.ejb3.component.stateful.StatefulComponentInstanceInterceptor.processInvocation(StatefulComponentInstanceInterceptor.java:58)




[JBossINF] 	at org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:340)




[JBossINF] 	at org.jboss.as.ejb3.tx.CMTTxInterceptor.invokeInOurTx(CMTTxInterceptor.java:275)




[JBossINF] 	at org.jboss.as.ejb3.tx.CMTTxInterceptor.required(CMTTxInterceptor.java:327)




[JBossINF] 	at org.jboss.as.ejb3.tx.CMTTxInterceptor.processInvocation(CMTTxInterceptor.java:239)




[JBossINF] 	at org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:340)




[JBossINF] 	at org.jboss.as.ejb3.remote.EJBRemoteTransactionPropagatingInterceptor.processInvocation(EJBRemoteTransactionPropagatingInterceptor.java:79)




[JBossINF] 	at org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:340)




[JBossINF] 	at org.jboss.as.ejb3.component.interceptors.CurrentInvocationContextInterceptor.processInvocation(CurrentInvocationContextInterceptor.java:41)




[JBossINF] 	at org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:340)




[JBossINF] 	at org.jboss.as.ejb3.component.invocationmetrics.WaitTimeInterceptor.processInvocation(WaitTimeInterceptor.java:43)




[JBossINF] 	at org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:340)




[JBossINF] 	at org.jboss.as.ejb3.security.SecurityContextInterceptor.processInvocation(SecurityContextInterceptor.java:100)




[JBossINF] 	at org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:340)




[JBossINF] 	at org.jboss.as.ejb3.component.interceptors.ShutDownInterceptorFactory$1.processInvocation(ShutDownInterceptorFactory.java:64)




[JBossINF] 	at org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:340)




[JBossINF] 	at org.jboss.as.ejb3.deployment.processors.EjbSuspendInterceptor.processInvocation(EjbSuspendInterceptor.java:53)




[JBossINF] 	at org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:340)




[JBossINF] 	at org.jboss.as.ejb3.component.interceptors.LoggingInterceptor.processInvocation(LoggingInterceptor.java:66)




[JBossINF] 	at org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:340)




[JBossINF] 	at org.jboss.as.ee.component.NamespaceContextInterceptor.processInvocation(NamespaceContextInterceptor.java:50)




[JBossINF] 	at org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:340)




[JBossINF] 	at org.jboss.as.ejb3.component.interceptors.AdditionalSetupInterceptor.processInvocation(AdditionalSetupInterceptor.java:54)




[JBossINF] 	at org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:340)




[JBossINF] 	at org.jboss.invocation.ContextClassLoaderInterceptor.processInvocation(ContextClassLoaderInterceptor.java:64)




[JBossINF] 	at org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:340)




[JBossINF] 	at org.jboss.invocation.InterceptorContext.run(InterceptorContext.java:356)




[JBossINF] 	at org.wildfly.security.manager.WildFlySecurityManager.doChecked(WildFlySecurityManager.java:635)




[JBossINF] 	at org.jboss.invocation.AccessCheckingInterceptor.processInvocation(AccessCheckingInterceptor.java:61)




[JBossINF] 	at org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:340)




[JBossINF] 	at org.jboss.invocation.InterceptorContext.run(InterceptorContext.java:356)




[JBossINF] 	at org.jboss.invocation.PrivilegedWithCombinerInterceptor.processInvocation(PrivilegedWithCombinerInterceptor.java:80)




[JBossINF] 	at org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:340)




[JBossINF] 	at org.jboss.invocation.ChainedInterceptor.processInvocation(ChainedInterceptor.java:61)




[JBossINF] 	at org.jboss.as.ee.component.ViewService$View.invoke(ViewService.java:195)




[JBossINF] 	at org.jboss.as.ejb3.remote.protocol.versionone.MethodInvocationMessageHandler.invokeMethod(MethodInvocationMessageHandler.java:331)




[JBossINF] 	at org.jboss.as.ejb3.remote.protocol.versionone.MethodInvocationMessageHandler.access$100(MethodInvocationMessageHandler.java:69)




[JBossINF] 	at org.jboss.as.ejb3.remote.protocol.versionone.MethodInvocationMessageHandler$1.run(MethodInvocationMessageHandler.java:202)




[JBossINF] 	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)




[JBossINF] 	at java.util.concurrent.FutureTask.run(FutureTask.java:266)




[JBossINF] 	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)




[JBossINF] 	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)




[JBossINF] 	at java.lang.Thread.run(Thread.java:745)




[JBossINF] 	at org.jboss.threads.JBossThread.run(JBossThread.java:320)




[JBossINF] Caused by: java.util.concurrent.TimeoutException: timeout sending message to perf18




[JBossINF] 	... 54 more




[JBossINF] 











Server log:
http://jenkins.mw.lab.eng.bos.redhat.com/hudson/job/eap-7x-failover-ejb-ejbremote-jvmkill-dist-async/2/console-perf19/
Client log:
http://jenkins.mw.lab.eng.bos.redhat.com/hudson/job/eap-7x-failover-ejb-ejbremote-jvmkill-dist-async/2/console-perf17/</description>
			<version>10.0.0.Alpha6</version>
			<fixedVersion>10.1.0.CR1, 10.1.0.Final</fixedVersion>
			<type>Bug</type>
		</buginformation>
		<fixedFiles>
			<file type="M">org.wildfly.clustering.ejb.infinispan.logging.InfinispanEjbLogger.java</file>
			<file type="M">org.wildfly.clustering.web.infinispan.logging.InfinispanWebLogger.java</file>
		</fixedFiles>
		<links>
			<link type="Cloners" description="cloned from">446</link>
			<link type="Sequence" description="is followed up by">6128</link>
		</links>
	</bug>
	<bug id="6178" opendate="2016-02-11 14:58:02" fixdate="2016-03-01 08:40:45" resolution="Done">
		<buginformation>
			<summary>Clean shutdown of server with Artemis configured as backup logs warning</summary>
			<description>In one of our failover tests there is logged error to server.log during clean shutdown of EAP 7.0.0.ER5 with Artemis configured as backup. (see attach config) This error is not expected and should not appear.
Error log:






12:18:19,509 ERROR [org.apache.activemq.artemis.core.server] (AMQ119000: Activation for server ActiveMQServerImpl::serverUUID=5d29fceb-cfd3-11e5-a0c8-11ddbbd9fb5b) AMQ224000: Failure in initialisation: java.lang.IllegalStateException: Container is down




	at org.jboss.msc.service.ServiceContainerImpl.install(ServiceContainerImpl.java:716) [jboss-msc-1.2.6.Final-redhat-1.jar:1.2.6.Final-redhat-1]




	at org.jboss.msc.service.ServiceBuilderImpl.install(ServiceBuilderImpl.java:317) [jboss-msc-1.2.6.Final-redhat-1.jar:1.2.6.Final-redhat-1]




	at org.wildfly.extension.messaging.activemq.jms.JMSService$3.activated(JMSService.java:154) [wildfly-messaging-activemq-7.0.0.ER5-redhat-1.jar:7.0.0.ER5-redhat-1]




	at org.apache.activemq.artemis.core.server.impl.ActiveMQServerImpl.callActivateCallbacks(ActiveMQServerImpl.java:1421) [artemis-server-1.1.0.redhat-7.jar:1.1.0.redhat-7]




	at org.apache.activemq.artemis.core.server.impl.ActiveMQServerImpl.initialisePart2(ActiveMQServerImpl.java:1616) [artemis-server-1.1.0.redhat-7.jar:1.1.0.redhat-7]




	at org.apache.activemq.artemis.core.server.impl.SharedStoreBackupActivation.run(SharedStoreBackupActivation.java:85) [artemis-server-1.1.0.redhat-7.jar:1.1.0.redhat-7]




	at java.lang.Thread.run(Thread.java:745) [rt.jar:1.8.0_51]





</description>
			<version>10.0.0.Final</version>
			<fixedVersion>10.1.0.CR1, 10.1.0.Final</fixedVersion>
			<type>Bug</type>
		</buginformation>
		<fixedFiles>
			<file type="M">org.wildfly.extension.messaging.activemq.jms.JMSService.java</file>
		</fixedFiles>
		<links>
			<link type="Cloners" description="cloned from">3333</link>
		</links>
	</bug>
	<bug id="6278" opendate="2016-02-24 21:03:52" fixdate="2016-03-02 15:21:09" resolution="Done">
		<buginformation>
			<summary>Requesting a session with an unexpected character causes request to fail</summary>
			<description>The root cause of the problem is that the distributed web session code optimizes the marshalling of the session identifier, by using a URL safe Base64 codec.  Because this marshalling happens transparently, when Cache.get(...) goes remote (since the session ID containing an invalid character will never be found locally), the resulting IllegalArgumentException goes undetected - and propagates back to the client.
To prevent this, we need to validate that the requested session ID can be serialized - and if not, respond as if the session was not found.</description>
			<version>10.0.0.Final</version>
			<fixedVersion>10.1.0.CR1, 10.1.0.Final</fixedVersion>
			<type>Bug</type>
		</buginformation>
		<fixedFiles>
			<file type="M">org.wildfly.clustering.web.undertow.sso.DistributableSingleSignOnManagerTestCase.java</file>
			<file type="M">org.wildfly.clustering.web.undertow.session.DistributableSessionManager.java</file>
			<file type="M">org.wildfly.clustering.web.undertow.session.DistributableSessionManagerTestCase.java</file>
			<file type="M">org.wildfly.clustering.web.undertow.sso.DistributableSingleSignOnManager.java</file>
		</fixedFiles>
		<links>
			<link type="Cloners" description="cloned to">3573</link>
		</links>
	</bug>
	<bug id="6250" opendate="2016-02-19 13:16:49" fixdate="2016-03-03 12:00:25" resolution="Done">
		<buginformation>
			<summary>JMX inefficiently handles resource adapters</summary>
			<description>If you connect to JBoss over JMX when it has many rars deployed (over 500), long running high CPU is seen in the following calls:






        at org.jboss.as.controller.ModelControllerImpl.execute(ModelControllerImpl.java:188)




        at org.jboss.as.jmx.model.ResourceAccessControlUtil.getResourceAccess(ResourceAccessControlUtil.java:85)




        at org.jboss.as.jmx.model.RootResourceIterator.doIterate(RootResourceIterator.java:51)




        at org.jboss.as.jmx.model.RootResourceIterator.doIterate(RootResourceIterator.java:61)




        at org.jboss.as.jmx.model.RootResourceIterator.doIterate(RootResourceIterator.java:61)




        at org.jboss.as.jmx.model.RootResourceIterator.doIterate(RootResourceIterator.java:61)




        at org.jboss.as.jmx.model.RootResourceIterator.doIterate(RootResourceIterator.java:61)




        at org.jboss.as.jmx.model.RootResourceIterator.doIterate(RootResourceIterator.java:61)




        at org.jboss.as.jmx.model.RootResourceIterator.doIterate(RootResourceIterator.java:61)




        at org.jboss.as.jmx.model.RootResourceIterator.iterate(RootResourceIterator.java:43)






It&amp;amp;apos;s evident that it is iterating over each deployment (each resource adapter counting as a deployment), but for each deployment, it is also iterating over all resource adapter&amp;amp;apos;s and their config properties.  So it would iterate over all 500+ resource adapters once for each deployment, so it iterates over all 500 adapters at least 500 times.  Is there anyway we could avoid that n^2 iteration for deployed rars?</description>
			<version>10.0.0.Final</version>
			<fixedVersion>11.0.0.Alpha1</fixedVersion>
			<type>Bug</type>
		</buginformation>
		<fixedFiles>
			<file type="M">org.jboss.as.connector.subsystems.resourceadapters.IronJacamarResourceCreator.java</file>
			<file type="M">org.jboss.as.connector.services.resourceadapters.IronJacamarActivationResourceService.java</file>
		</fixedFiles>
		<links>
			<link type="Cloners" description="cloned from">3498</link>
		</links>
	</bug>
	<bug id="6264" opendate="2016-02-23 19:19:38" fixdate="2016-03-04 14:45:56" resolution="Done">
		<buginformation>
			<summary>ClassNotFoundException when creating singleton service via SingletonPolicy</summary>
			<description>This is because the org.wildfly.clustering.singleton.SingletonPolicy interface references org.wildfly.clustering.service.Builder from the org.wildfly.clustering.service module, but this module is not exported to deployments.






&amp;amp;amp#27;[0m&amp;amp;amp#27;[31m13:22:08,386 ERROR [org.jboss.msc.service.fail] (MSC service thread 1-5) MSC000001: Failed to start service jboss.deployment.unit."singleton.war".INSTALL: org.jboss.msc.service.StartException in service jboss.deployment.unit."singleton.war".INSTALL: WFLYSRV0153: Failed to process phase INSTALL of deployment "singleton.war"




	at org.jboss.as.server.deployment.DeploymentUnitPhaseService.start(DeploymentUnitPhaseService.java:154)




	at org.jboss.msc.service.ServiceControllerImpl$StartTask.startService(ServiceControllerImpl.java:1948)




	at org.jboss.msc.service.ServiceControllerImpl$StartTask.run(ServiceControllerImpl.java:1881)




	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)




	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)




	at java.lang.Thread.run(Thread.java:745)




Caused by: java.lang.NoClassDefFoundError: org/wildfly/clustering/service/Builder




	at org.jboss.as.test.clustering.cluster.singleton.service.AbstractServiceActivator.install(AbstractServiceActivator.java:59)




	at org.jboss.as.test.clustering.cluster.singleton.service.MyServiceActivator.activate(MyServiceActivator.java:38)




	at org.jboss.as.server.deployment.service.ServiceActivatorProcessor.deploy(ServiceActivatorProcessor.java:74)




	at org.jboss.as.server.deployment.DeploymentUnitPhaseService.start(DeploymentUnitPhaseService.java:147)




	... 5 more




Caused by: java.lang.ClassNotFoundException: org.wildfly.clustering.service.Builder from [Module "deployment.singleton.war:main" from Service Module Loader]




	at org.jboss.modules.ModuleClassLoader.findClass(ModuleClassLoader.java:198)




	at org.jboss.modules.ConcurrentClassLoader.performLoadClassUnchecked(ConcurrentClassLoader.java:363)




	at org.jboss.modules.ConcurrentClassLoader.performLoadClass(ConcurrentClassLoader.java:351)




	at org.jboss.modules.ConcurrentClassLoader.loadClass(ConcurrentClassLoader.java:93)




	... 9 more





</description>
			<version>10.0.0.Final</version>
			<fixedVersion>10.1.0.CR1, 10.1.0.Final</fixedVersion>
			<type>Bug</type>
		</buginformation>
		<fixedFiles>
			<file type="M">org.jboss.as.test.clustering.cluster.singleton.SingletonServiceTestCase.java</file>
			<file type="M">org.jboss.as.test.clustering.cluster.singleton.service.MyService.java</file>
			<file type="M">org.jboss.as.test.clustering.cluster.singleton.service.MyServiceActivator.java</file>
			<file type="D">org.jboss.as.test.clustering.cluster.singleton.service.AbstractServiceActivator.java</file>
			<file type="M">org.jboss.as.test.clustering.tunnel.singleton.SingletonServiceActivator.java</file>
			<file type="M">org.jboss.as.test.clustering.tunnel.singleton.SingletonTunnelTestCase.java</file>
			<file type="M">org.wildfly.clustering.server.singleton.CacheSingletonServiceBuilder.java</file>
			<file type="M">org.jboss.as.test.clustering.single.singleton.SingletonServiceTestCase.java</file>
		</fixedFiles>
		<links>
			<link type="Cloners" description="cloned to">3555</link>
		</links>
	</bug>
	<bug id="6199" opendate="2016-02-12 14:38:16" fixdate="2016-03-09 18:21:19" resolution="Done">
		<buginformation>
			<summary>XNIO001007: A channel event listener threw an exception: java.lang.NullPointerException</summary>
			<description>We hit NPE during failback in HA scenario with replicated journal in dedicated HA topology. Http connectors are used.
Test scenario:
Start 1st EAP 7 server with Artemis configured as live 
Start 2nd EAP 7 server with Artemis configured as backup
Send 2000 messages to in InQueue to live
Start 3rd EAP 7 server with RA configured to connecto to live and deploy MDB  which receives messages from InQueue and sends a new message to OutQueue
When MDB is  processing messages then kill live server -&amp;gt; MDB failovers to backup
After MDB processed all messages receive all messages from OutQueue
NPE occurs when live is killed on backup server:






02:48:36,503 ERROR [org.xnio.listener] (default I/O-2) XNIO001007: A channel event listener threw an exception: java.lang.NullPointerException




        at org.wildfly.extension.messaging.activemq.HTTPUpgradeService$2.handleEvent(HTTPUpgradeService.java:154)




        at org.wildfly.extension.messaging.activemq.HTTPUpgradeService$2.handleEvent(HTTPUpgradeService.java:146)




        at org.xnio.ChannelListeners.invokeChannelListener(ChannelListeners.java:92) [xnio-api-3.3.4.Final-redhat-1.jar:3.3.4.Final-redhat-1]




        at io.undertow.server.handlers.ChannelUpgradeHandler$1.handleUpgrade(ChannelUpgradeHandler.java:149)




        at io.undertow.server.protocol.http.HttpReadListener.exchangeComplete(HttpReadListener.java:362)




        at io.undertow.server.protocol.http.HttpServerConnection.exchangeComplete(HttpServerConnection.java:228)




        at io.undertow.server.HttpServerExchange.invokeExchangeCompleteListeners(HttpServerExchange.java:1226)




        at io.undertow.server.HttpServerExchange.terminateResponse(HttpServerExchange.java:1503)




        at io.undertow.server.Connectors.terminateResponse(Connectors.java:99)




        at io.undertow.server.protocol.http.HttpTransferEncoding$3.handleEvent(HttpTransferEncoding.java:197)




        at io.undertow.server.protocol.http.HttpTransferEncoding$3.handleEvent(HttpTransferEncoding.java:195)




        at io.undertow.conduits.HeadStreamSinkConduit.exitFlush(HeadStreamSinkConduit.java:178)




        at io.undertow.conduits.HeadStreamSinkConduit.flush(HeadStreamSinkConduit.java:122)




        at org.xnio.conduits.ConduitStreamSinkChannel.flush(ConduitStreamSinkChannel.java:162) [xnio-api-3.3.4.Final-redhat-1.jar:3.3.4.Final-redhat-1]




        at io.undertow.channels.DetachableStreamSinkChannel.flush(DetachableStreamSinkChannel.java:119)




        at io.undertow.server.HttpServerExchange.closeAndFlushResponse(HttpServerExchange.java:1652)




        at io.undertow.server.HttpServerExchange.endExchange(HttpServerExchange.java:1630)




        at io.undertow.server.handlers.ChannelUpgradeHandler.handleRequest(ChannelUpgradeHandler.java:152)




        at io.undertow.server.Connectors.executeRootHandler(Connectors.java:202)




        at io.undertow.server.protocol.http.HttpReadListener.handleEventWithNoRunningRequest(HttpReadListener.java:233)




        at io.undertow.server.protocol.http.HttpReadListener.handleEvent(HttpReadListener.java:131)




        at io.undertow.server.protocol.http.HttpOpenListener.handleEvent(HttpOpenListener.java:145)




        at io.undertow.server.protocol.http.HttpOpenListener.handleEvent(HttpOpenListener.java:92)




        at io.undertow.server.protocol.http.HttpOpenListener.handleEvent(HttpOpenListener.java:51)




        at org.xnio.ChannelListeners.invokeChannelListener(ChannelListeners.java:92) [xnio-api-3.3.4.Final-redhat-1.jar:3.3.4.Final-redhat-1]




        at org.xnio.ChannelListeners$10.handleEvent(ChannelListeners.java:291) [xnio-api-3.3.4.Final-redhat-1.jar:3.3.4.Final-redhat-1]




        at org.xnio.ChannelListeners$10.handleEvent(ChannelListeners.java:286) [xnio-api-3.3.4.Final-redhat-1.jar:3.3.4.Final-redhat-1]




        at org.xnio.ChannelListeners.invokeChannelListener(ChannelListeners.java:92) [xnio-api-3.3.4.Final-redhat-1.jar:3.3.4.Final-redhat-1]




        at org.xnio.nio.QueuedNioTcpServer$1.run(QueuedNioTcpServer.java:121) [xnio-nio-3.3.4.Final-redhat-1.jar:3.3.4.Final-redhat-1]




        at org.xnio.nio.WorkerThread.safeRun(WorkerThread.java:580) [xnio-nio-3.3.4.Final-redhat-1.jar:3.3.4.Final-redhat-1]




        at org.xnio.nio.WorkerThread.run(WorkerThread.java:464) [xnio-nio-3.3.4.Final-redhat-1.jar:3.3.4.Final-redhat-1]





</description>
			<version>10.0.0.Final</version>
			<fixedVersion>10.1.0.CR1, 10.1.0.Final</fixedVersion>
			<type>Bug</type>
		</buginformation>
		<fixedFiles>
			<file type="M">org.wildfly.extension.messaging.activemq.HTTPUpgradeService.java</file>
		</fixedFiles>
		<links>
			<link type="Cloners" description="cloned from">3379</link>
		</links>
	</bug>
	<bug id="6288" opendate="2016-02-26 09:06:19" fixdate="2016-03-16 08:11:33" resolution="Done">
		<buginformation>
			<summary>java.lang.IllegalStateException: AMQ119116: Netty Acceptor unavailable</summary>
			<description>There is regression against ER5 in failover tests during failback.
During failback backup server logs lots of errors like:






17:57:37,163 ERROR [org.xnio.listener] (default I/O-7) XNIO001007: A channel event listener threw an exception: java.lang.IllegalStateException: AMQ119116: Netty Acceptor unavailable




        at org.apache.activemq.artemis.core.remoting.impl.netty.NettyAcceptor.transfer(NettyAcceptor.java:426)




        at org.wildfly.extension.messaging.activemq.HTTPUpgradeService$2.handleEvent(HTTPUpgradeService.java:159)




        at org.wildfly.extension.messaging.activemq.HTTPUpgradeService$2.handleEvent(HTTPUpgradeService.java:147)




        at org.xnio.ChannelListeners.invokeChannelListener(ChannelListeners.java:92) [xnio-api-3.3.4.Final-redhat-1.jar:3.3.4.Final-redhat-1]




        at io.undertow.server.handlers.ChannelUpgradeHandler$1.handleUpgrade(ChannelUpgradeHandler.java:149)




        at io.undertow.server.protocol.http.HttpReadListener.exchangeComplete(HttpReadListener.java:362)




        at io.undertow.server.protocol.http.HttpServerConnection.exchangeComplete(HttpServerConnection.java:228)




        at io.undertow.server.HttpServerExchange.invokeExchangeCompleteListeners(HttpServerExchange.java:1226)




        at io.undertow.server.HttpServerExchange.terminateResponse(HttpServerExchange.java:1503)




        at io.undertow.server.Connectors.terminateResponse(Connectors.java:99)




        at io.undertow.server.protocol.http.HttpTransferEncoding$3.handleEvent(HttpTransferEncoding.java:197)




        at io.undertow.server.protocol.http.HttpTransferEncoding$3.handleEvent(HttpTransferEncoding.java:195)




        at io.undertow.conduits.HeadStreamSinkConduit.exitFlush(HeadStreamSinkConduit.java:178)




        at io.undertow.conduits.HeadStreamSinkConduit.flush(HeadStreamSinkConduit.java:122)




        at org.xnio.conduits.ConduitStreamSinkChannel.flush(ConduitStreamSinkChannel.java:162) [xnio-api-3.3.4.Final-redhat-1.jar:3.3.4.Final-redhat-1]




        at io.undertow.channels.DetachableStreamSinkChannel.flush(DetachableStreamSinkChannel.java:119)




        at io.undertow.server.HttpServerExchange.closeAndFlushResponse(HttpServerExchange.java:1652)




        at io.undertow.server.HttpServerExchange.endExchange(HttpServerExchange.java:1630)




        at io.undertow.server.handlers.ChannelUpgradeHandler.handleRequest(ChannelUpgradeHandler.java:152)




        at io.undertow.server.Connectors.executeRootHandler(Connectors.java:202)




        at io.undertow.server.protocol.http.HttpReadListener.handleEventWithNoRunningRequest(HttpReadListener.java:233)




        at io.undertow.server.protocol.http.HttpReadListener.handleEvent(HttpReadListener.java:131)




        at io.undertow.server.protocol.http.HttpOpenListener.handleEvent(HttpOpenListener.java:145)




        at io.undertow.server.protocol.http.HttpOpenListener.handleEvent(HttpOpenListener.java:92)




        at io.undertow.server.protocol.http.HttpOpenListener.handleEvent(HttpOpenListener.java:51)




        at org.xnio.ChannelListeners.invokeChannelListener(ChannelListeners.java:92) [xnio-api-3.3.4.Final-redhat-1.jar:3.3.4.Final-redhat-1]




        at org.xnio.ChannelListeners$10.handleEvent(ChannelListeners.java:291) [xnio-api-3.3.4.Final-redhat-1.jar:3.3.4.Final-redhat-1]




        at org.xnio.ChannelListeners$10.handleEvent(ChannelListeners.java:286) [xnio-api-3.3.4.Final-redhat-1.jar:3.3.4.Final-redhat-1]




        at org.xnio.ChannelListeners.invokeChannelListener(ChannelListeners.java:92) [xnio-api-3.3.4.Final-redhat-1.jar:3.3.4.Final-redhat-1]




        at org.xnio.nio.QueuedNioTcpServer$1.run(QueuedNioTcpServer.java:121) [xnio-nio-3.3.4.Final-redhat-1.jar:3.3.4.Final-redhat-1]




        at org.xnio.nio.WorkerThread.safeRun(WorkerThread.java:580) [xnio-nio-3.3.4.Final-redhat-1.jar:3.3.4.Final-redhat-1]




        at org.xnio.nio.WorkerThread.run(WorkerThread.java:464) [xnio-nio-3.3.4.Final-redhat-1.jar:3.3.4.Final-redhat-1]






This issue might be related to fix for JBEAP-1527. </description>
			<version>10.0.0.Final</version>
			<fixedVersion>10.1.0.CR1, 10.1.0.Final</fixedVersion>
			<type>Bug</type>
		</buginformation>
		<fixedFiles>
			<file type="M">org.wildfly.extension.messaging.activemq.HTTPUpgradeService.java</file>
		</fixedFiles>
		<links>
			<link type="Cloners" description="cloned from">3588</link>
		</links>
	</bug>
	<bug id="6327" opendate="2016-03-07 11:22:23" fixdate="2016-03-21 17:47:17" resolution="Done">
		<buginformation>
			<summary>NPE when handling request with fine-granularity and REPL cache settings</summary>
			<description>When default cache is set to "repl", after deploying clusterbench and accessing http://localhost:8080/clusterbench-granular/granular, the following NPE is logged:






12:08:42,201 ERROR [org.infinispan.interceptors.InvocationContextInterceptor] (default task-1) ISPN000136: Error executing command GetKeysInGroupCommand, writing keys []: java.lang.NullPointerException




        at org.infinispan.interceptors.base.BaseStateTransferInterceptor.visitGetKeysInGroupCommand(BaseStateTransferInterceptor.java:50)




        at org.infinispan.commands.remote.GetKeysInGroupCommand.acceptVisitor(GetKeysInGroupCommand.java:95)




        at org.infinispan.interceptors.base.CommandInterceptor.invokeNextInterceptor(CommandInterceptor.java:99)




        at org.infinispan.interceptors.InvocationContextInterceptor.handleAll(InvocationContextInterceptor.java:107)




        at org.infinispan.interceptors.InvocationContextInterceptor.handleDefault(InvocationContextInterceptor.java:76)




        at org.infinispan.commands.AbstractVisitor.visitGetKeysInGroupCommand(AbstractVisitor.java:178)




        at org.infinispan.commands.remote.GetKeysInGroupCommand.acceptVisitor(GetKeysInGroupCommand.java:95)




        at org.infinispan.interceptors.InterceptorChain.invoke(InterceptorChain.java:336)




        at org.infinispan.cache.impl.CacheImpl.internalGetGroup(CacheImpl.java:490)




        at org.infinispan.cache.impl.CacheImpl.getGroup(CacheImpl.java:483)




        at org.infinispan.cache.impl.CacheImpl.getGroup(CacheImpl.java:478)




        at org.infinispan.cache.impl.AbstractDelegatingAdvancedCache.getGroup(AbstractDelegatingAdvancedCache.java:227)




        at org.wildfly.clustering.web.infinispan.session.fine.FineSessionAttributesFactory.createValue(FineSessionAttributesFactory.java:73)




        at org.wildfly.clustering.web.infinispan.session.fine.FineSessionAttributesFactory.createValue(FineSessionAttributesFactory.java:45)




        at org.wildfly.clustering.web.infinispan.session.InfinispanSessionFactory.createValue(InfinispanSessionFactory.java:55)




        at org.wildfly.clustering.web.infinispan.session.InfinispanSessionFactory.createValue(InfinispanSessionFactory.java:40)




        at org.wildfly.clustering.web.infinispan.session.InfinispanSessionManager.createSession(InfinispanSessionManager.java:256)




        at org.wildfly.clustering.web.undertow.session.DistributableSessionManager.createSession(DistributableSessionManager.java:109)




        at io.undertow.servlet.spec.ServletContextImpl.getSession(ServletContextImpl.java:741)




        at io.undertow.servlet.spec.HttpServletRequestImpl.getSession(HttpServletRequestImpl.java:370)




        at org.jboss.test.clusterbench.common.session.CommonGranularHttpSessionServlet.doGet(CommonGranularHttpSessionServlet.java:40)




        at javax.servlet.http.HttpServlet.service(HttpServlet.java:687)




        at javax.servlet.http.HttpServlet.service(HttpServlet.java:790)




        at io.undertow.servlet.handlers.ServletHandler.handleRequest(ServletHandler.java:85)




        at io.undertow.servlet.handlers.security.ServletSecurityRoleHandler.handleRequest(ServletSecurityRoleHandler.java:62)




        at io.undertow.servlet.handlers.ServletDispatchingHandler.handleRequest(ServletDispatchingHandler.java:36)




        at org.wildfly.extension.undertow.security.SecurityContextAssociationHandler.handleRequest(SecurityContextAssociationHandler.java:78)




        at io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43)




        at io.undertow.servlet.handlers.security.SSLInformationAssociationHandler.handleRequest(SSLInformationAssociationHandler.java:131)




        at io.undertow.servlet.handlers.security.ServletAuthenticationCallHandler.handleRequest(ServletAuthenticationCallHandler.java:57)




        at io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43)




        at io.undertow.security.handlers.AbstractConfidentialityHandler.handleRequest(AbstractConfidentialityHandler.java:46)




        at io.undertow.servlet.handlers.security.ServletConfidentialityConstraintHandler.handleRequest(ServletConfidentialityConstraintHandler.java:64)




        at io.undertow.security.handlers.AuthenticationMechanismsHandler.handleRequest(AuthenticationMechanismsHandler.java:60)




        at io.undertow.servlet.handlers.security.CachedAuthenticatedSessionHandler.handleRequest(CachedAuthenticatedSessionHandler.java:77)




        at io.undertow.security.handlers.NotificationReceiverHandler.handleRequest(NotificationReceiverHandler.java:50)




        at io.undertow.security.handlers.AbstractSecurityContextAssociationHandler.handleRequest(AbstractSecurityContextAssociationHandler.java:43)




        at io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43)




        at org.wildfly.extension.undertow.security.jacc.JACCContextIdHandler.handleRequest(JACCContextIdHandler.java:61)




        at io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43)




        at io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43)




        at io.undertow.servlet.handlers.ServletInitialHandler.handleFirstRequest(ServletInitialHandler.java:284)




        at io.undertow.servlet.handlers.ServletInitialHandler.dispatchRequest(ServletInitialHandler.java:263)




        at io.undertow.servlet.handlers.ServletInitialHandler.access$000(ServletInitialHandler.java:81)




        at io.undertow.servlet.handlers.ServletInitialHandler$1.handleRequest(ServletInitialHandler.java:174)




        at io.undertow.server.Connectors.executeRootHandler(Connectors.java:202)




        at io.undertow.server.HttpServerExchange$1.run(HttpServerExchange.java:793)




        at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)




        at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)




        at java.lang.Thread.run(Thread.java:745)






Followed by:






12:08:42,203 ERROR [io.undertow.request] (default task-1) UT005023: Exception handling request to /clusterbench-granular/granular: java.lang.NullPointerException




        at org.infinispan.interceptors.base.BaseStateTransferInterceptor.visitGetKeysInGroupCommand(BaseStateTransferInterceptor.java:50)




        at org.infinispan.commands.remote.GetKeysInGroupCommand.acceptVisitor(GetKeysInGroupCommand.java:95)




        at org.infinispan.interceptors.base.CommandInterceptor.invokeNextInterceptor(CommandInterceptor.java:99)




        at org.infinispan.interceptors.InvocationContextInterceptor.handleAll(InvocationContextInterceptor.java:107)




        at org.infinispan.interceptors.InvocationContextInterceptor.handleDefault(InvocationContextInterceptor.java:76)




        at org.infinispan.commands.AbstractVisitor.visitGetKeysInGroupCommand(AbstractVisitor.java:178)




        at org.infinispan.commands.remote.GetKeysInGroupCommand.acceptVisitor(GetKeysInGroupCommand.java:95)




        at org.infinispan.interceptors.InterceptorChain.invoke(InterceptorChain.java:336)




        at org.infinispan.cache.impl.CacheImpl.internalGetGroup(CacheImpl.java:490)




        at org.infinispan.cache.impl.CacheImpl.getGroup(CacheImpl.java:483)




        at org.infinispan.cache.impl.CacheImpl.getGroup(CacheImpl.java:478)




        at org.infinispan.cache.impl.AbstractDelegatingAdvancedCache.getGroup(AbstractDelegatingAdvancedCache.java:227)




        at org.wildfly.clustering.web.infinispan.session.fine.FineSessionAttributesFactory.createValue(FineSessionAttributesFactory.java:73)




        at org.wildfly.clustering.web.infinispan.session.fine.FineSessionAttributesFactory.createValue(FineSessionAttributesFactory.java:45)




        at org.wildfly.clustering.web.infinispan.session.InfinispanSessionFactory.createValue(InfinispanSessionFactory.java:55)




        at org.wildfly.clustering.web.infinispan.session.InfinispanSessionFactory.createValue(InfinispanSessionFactory.java:40)




        at org.wildfly.clustering.web.infinispan.session.InfinispanSessionManager.createSession(InfinispanSessionManager.java:256)




        at org.wildfly.clustering.web.undertow.session.DistributableSessionManager.createSession(DistributableSessionManager.java:109)




        at io.undertow.servlet.spec.ServletContextImpl.getSession(ServletContextImpl.java:741)




        at io.undertow.servlet.spec.HttpServletRequestImpl.getSession(HttpServletRequestImpl.java:370)




        at org.jboss.test.clusterbench.common.session.CommonGranularHttpSessionServlet.doGet(CommonGranularHttpSessionServlet.java:40)




        at javax.servlet.http.HttpServlet.service(HttpServlet.java:687)




        at javax.servlet.http.HttpServlet.service(HttpServlet.java:790)




        at io.undertow.servlet.handlers.ServletHandler.handleRequest(ServletHandler.java:85)




        at io.undertow.servlet.handlers.security.ServletSecurityRoleHandler.handleRequest(ServletSecurityRoleHandler.java:62)




        at io.undertow.servlet.handlers.ServletDispatchingHandler.handleRequest(ServletDispatchingHandler.java:36)




        at org.wildfly.extension.undertow.security.SecurityContextAssociationHandler.handleRequest(SecurityContextAssociationHandler.java:78)




        at io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43)




        at io.undertow.servlet.handlers.security.SSLInformationAssociationHandler.handleRequest(SSLInformationAssociationHandler.java:131)




        at io.undertow.servlet.handlers.security.ServletAuthenticationCallHandler.handleRequest(ServletAuthenticationCallHandler.java:57)




        at io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43)




        at io.undertow.security.handlers.AbstractConfidentialityHandler.handleRequest(AbstractConfidentialityHandler.java:46)




        at io.undertow.servlet.handlers.security.ServletConfidentialityConstraintHandler.handleRequest(ServletConfidentialityConstraintHandler.java:64)




        at io.undertow.security.handlers.AuthenticationMechanismsHandler.handleRequest(AuthenticationMechanismsHandler.java:60)




        at io.undertow.servlet.handlers.security.CachedAuthenticatedSessionHandler.handleRequest(CachedAuthenticatedSessionHandler.java:77)




        at io.undertow.security.handlers.NotificationReceiverHandler.handleRequest(NotificationReceiverHandler.java:50)




        at io.undertow.security.handlers.AbstractSecurityContextAssociationHandler.handleRequest(AbstractSecurityContextAssociationHandler.java:43)




        at io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43)




        at org.wildfly.extension.undertow.security.jacc.JACCContextIdHandler.handleRequest(JACCContextIdHandler.java:61)




        at io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43)




        at io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43)




        at io.undertow.servlet.handlers.ServletInitialHandler.handleFirstRequest(ServletInitialHandler.java:284)




        at io.undertow.servlet.handlers.ServletInitialHandler.dispatchRequest(ServletInitialHandler.java:263)




        at io.undertow.servlet.handlers.ServletInitialHandler.access$000(ServletInitialHandler.java:81)




        at io.undertow.servlet.handlers.ServletInitialHandler$1.handleRequest(ServletInitialHandler.java:174)




        at io.undertow.server.Connectors.executeRootHandler(Connectors.java:202)




        at io.undertow.server.HttpServerExchange$1.run(HttpServerExchange.java:793)




        at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)




        at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)




        at java.lang.Thread.run(Thread.java:745)






See Steps to Reproduce.
This does not happen when using "dist" cache.
Server log:
http://jenkins.mw.lab.eng.bos.redhat.com/hudson/job/mvinkler_eap-7x-failover-http-granular-shutdown-repl-sync/1/console-perf18/</description>
			<version>10.0.0.Final</version>
			<fixedVersion>10.1.0.CR1, 10.1.0.Final</fixedVersion>
			<type>Bug</type>
		</buginformation>
		<fixedFiles>
			<file type="M">org.jboss.as.clustering.infinispan.subsystem.DistributedCacheBuilder.java</file>
			<file type="M">org.wildfly.clustering.web.infinispan.session.RouteCacheGroupBuilderProvider.java</file>
			<file type="M">org.jboss.as.clustering.infinispan.subsystem.LocalCacheBuilder.java</file>
			<file type="M">org.wildfly.clustering.ejb.infinispan.ClientMappingsCacheBuilderProvider.java</file>
			<file type="D">org.wildfly.clustering.infinispan.spi.service.ConfigurationBuilderFactory.java</file>
			<file type="M">org.jboss.as.clustering.infinispan.subsystem.ConsistentHashStrategy.java</file>
			<file type="M">org.wildfly.clustering.infinispan.spi.service.TemplateConfigurationBuilder.java</file>
			<file type="M">org.jboss.as.clustering.infinispan.subsystem.CacheConfigurationBuilder.java</file>
			<file type="M">org.wildfly.clustering.infinispan.spi.service.ConfigurationBuilder.java</file>
			<file type="M">org.jboss.as.clustering.infinispan.subsystem.SharedStateCacheBuilder.java</file>
			<file type="M">org.jboss.as.clustering.infinispan.subsystem.ClusteredCacheBuilder.java</file>
		</fixedFiles>
		<links>
			<link type="Cloners" description="cloned from">3695</link>
			<link type="Sequence" description="is followed up by">6343</link>
		</links>
	</bug>
	<bug id="5932" opendate="2016-01-05 11:16:27" fixdate="2016-04-06 00:26:17" resolution="Done">
		<buginformation>
			<summary>Invalidating a session of an SSO on a different node than where the session was created does not logout the user</summary>
			<description>See steps to reproduce for description. Additional scenario with a failover where we don&amp;amp;apos;t need to authenticate with the last request (but where we should be required to authenticate):

Access A1, authenticate, fail A1 (e.g. shutdown the server), access A2, invalidate session on A2, access A2

Scenarios where the SSO context is destroyed (where we need to authenticate with the last request as expected):

Access A1, authenticate, invalidate session on A1, access A1
Access A1, authenticate, access A2, invalidate session on A1, access A1

Possibly related to JBEAP-1228, JBEAP-1282. Note that we always only have a single session bound to an SSO. I&amp;amp;apos;m not flagging this as a blocker, since the issue usually doesn&amp;amp;apos;t manifest thanks to sticky sessions on a load balancer.</description>
			<version>10.0.0.CR5</version>
			<fixedVersion>10.1.0.CR1, 10.1.0.Final</fixedVersion>
			<type>Bug</type>
		</buginformation>
		<fixedFiles>
			<file type="M">org.wildfly.extension.undertow.deployment.UndertowDeploymentInfoService.java</file>
			<file type="M">org.wildfly.extension.undertow.SingleSignOnService.java</file>
		</fixedFiles>
		<links>
			<link type="Cloners" description="cloned from">2263</link>
		</links>
	</bug>
	<bug id="5810" opendate="2015-12-08 13:22:19" fixdate="2016-04-13 11:53:18" resolution="Done">
		<buginformation>
			<summary>JNDIPermission is based in a private module</summary>
			<description>At the moment JndiPermission is based in org.jboss.as.naming module which is private. Because of this it effectively cannot be used by deployments.</description>
			<version>10.0.0.CR4</version>
			<fixedVersion>10.1.0.CR1, 10.1.0.Final</fixedVersion>
			<type>Bug</type>
		</buginformation>
		<fixedFiles>
			<file type="M">org.jboss.as.naming.WritableServiceBasedNamingStoreTestCase.java</file>
			<file type="M">org.jboss.as.test.integration.web.servlet.lifecycle.ServletLifecycleMethodDescriptorTestCase.java</file>
			<file type="D">org.jboss.as.naming.JndiPermission.java</file>
			<file type="M">org.jboss.as.naming.NamingContext.java</file>
			<file type="M">org.jboss.as.test.integration.naming.remote.ejb.RemoteNamingEjbTestCase.java</file>
			<file type="M">org.jboss.as.naming.NamingContextTestCase.java</file>
			<file type="M">org.jboss.as.test.integration.naming.remote.multiple.NestedRemoteContextTestCase.java</file>
			<file type="M">org.jboss.as.ee.component.deployers.EEDefaultPermissionsProcessor.java</file>
			<file type="M">org.jboss.as.test.integration.naming.remote.simple.RemoteNamingTestCase.java</file>
			<file type="M">org.jboss.as.naming.SecurityHelper.java</file>
			<file type="M">org.jboss.as.ee.managedbean.processors.JavaEEDependencyProcessor.java</file>
			<file type="M">org.jboss.as.test.integration.naming.remote.multiple.MultipleClientRemoteJndiTestCase.java</file>
		</fixedFiles>
		<links>
			<link type="Cloners" description="cloned from">2275</link>
			<link type="Dependency" description="blocks">5170</link>
			<link type="Related" description="relates to">6517</link>
		</links>
	</bug>
	<bug id="6340" opendate="2016-03-09 12:26:13" fixdate="2016-04-13 12:25:06" resolution="Done">
		<buginformation>
			<summary>Adding deployment permissions doesn&amp;apos;t put server in requires reload state</summary>
			<description>When adding permissions in the security-manager subsystem, the changes are not used until server reload. But the CLI operation doesn&amp;amp;apos;t require reload.</description>
			<version>10.0.0.Alpha4</version>
			<fixedVersion>10.1.0.CR1, 10.1.0.Final</fixedVersion>
			<type>Bug</type>
		</buginformation>
		<fixedFiles>
			<file type="M">org.wildfly.extension.security.manager.DeploymentPermissionsResourceDefinition.java</file>
		</fixedFiles>
		<links>
			<link type="Cloners" description="cloned from">4898</link>
			<link type="Dependency" description="blocks">416</link>
		</links>
	</bug>
	<bug id="6517" opendate="2016-04-13 11:45:36" fixdate="2016-04-14 16:43:48" resolution="Done">
		<buginformation>
			<summary>Module org.wildfly.naming does not export JndiPermission</summary>
			<description>The new module org.wildfly.naming which contains JndiPermission does not export it. Hence, the module is efficiently useless. Deployments still have to depend on the private org.jboss.as.naming module to get the JndiPermission to work.</description>
			<version>10.0.0.Final</version>
			<fixedVersion>10.1.0.CR1, 10.1.0.Final</fixedVersion>
			<type>Bug</type>
		</buginformation>
		<fixedFiles>
			<file type="M">org.jboss.as.test.integration.naming.remote.multiple.NestedRemoteContextTestCase.java</file>
			<file type="M">org.jboss.as.test.integration.naming.remote.simple.RemoteNamingTestCase.java</file>
			<file type="M">org.jboss.as.test.integration.web.servlet.lifecycle.ServletLifecycleMethodDescriptorTestCase.java</file>
			<file type="M">org.jboss.as.test.integration.naming.remote.multiple.MultipleClientRemoteJndiTestCase.java</file>
		</fixedFiles>
		<links>
			<link type="Cloners" description="cloned from">4195</link>
			<link type="Related" description="is related to">5810</link>
		</links>
	</bug>
	<bug id="6514" opendate="2016-04-12 21:00:14" fixdate="2016-04-18 15:14:35" resolution="Done">
		<buginformation>
			<summary>DistributableSingleSignOn register an SessionIdChangeListener for each SSO session</summary>
			<description>During performance testing on our app we noticed an continuous increase of CPU utilization while the load was constant. 
In turns out that for each session an undertow SessionListener was registered at login and was never unregistered (request.logout or session.invalidate).
As a result all the operations on undertow SessionListeners are taking more CPU every time a listener is added as we loop over those listeners.
First of all we should register only one (if needed) such SessionListener per webapp.
But even in the current implementation, the listener was not unregistered when request.logout was called.
It is unregistered when session.invalidate is called but then this is not the same listener that is provided and thus nothing is done.</description>
			<version>10.0.0.Final</version>
			<fixedVersion>10.1.0.CR1, 10.1.0.Final</fixedVersion>
			<type>Bug</type>
		</buginformation>
		<fixedFiles>
			<file type="M">org.wildfly.clustering.web.infinispan.sso.AuthenticationEntryExternalizer.java</file>
			<file type="M">org.wildfly.clustering.web.infinispan.sso.SSOFactory.java</file>
			<file type="M">org.wildfly.clustering.web.undertow.sso.SessionManagerRegistryBuilder.java</file>
			<file type="D">org.wildfly.clustering.web.infinispan.sso.coarse.CoarseSSOFactory.java</file>
			<file type="M">org.wildfly.clustering.web.infinispan.sso.InfinispanSSOManager.java</file>
			<file type="M">org.wildfly.clustering.web.undertow.sso.DistributableSingleSignOnManagerFactoryBuilder.java</file>
			<file type="M">org.wildfly.clustering.web.sso.SSOManager.java</file>
			<file type="M">org.wildfly.clustering.web.infinispan.sso.AuthenticationEntry.java</file>
			<file type="M">org.wildfly.clustering.web.undertow.sso.DistributableSingleSignOn.java</file>
			<file type="M">org.wildfly.clustering.web.infinispan.sso.InfinispanSSOManagerFactory.java</file>
			<file type="D">org.wildfly.clustering.web.infinispan.sso.coarse.CoarseSSOEntry.java</file>
		</fixedFiles>
		<links>
			<link type="Cloners" description="cloned to">4199</link>
		</links>
	</bug>
	<bug id="6588" opendate="2016-05-05 12:54:24" fixdate="2016-05-09 07:02:31" resolution="Duplicate Issue">
		<buginformation>
			<summary>Allow configuration of rebalanceConnections activation config property in pooled-connection-factory</summary>
			<description>For inbound connections we allow to configure activation config property rebalanceConnections for MDBs which allows to rebalance inbound connection in runtime when underlying Artemis cluster topology changes. 
Purpose of this RFE is to add it to configuration of inbound connections in pooled-connection-factory so it does not have to be specified in every MDB. Default should be set to false. </description>
			<version>10.0.0.Final</version>
			<fixedVersion></fixedVersion>
			<type>Feature Request</type>
		</buginformation>
		<fixedFiles>
			<file type="M">org.wildfly.extension.messaging.activemq.MessagingActiveMQSubsystem_1_1_TestCase.java</file>
			<file type="M">org.wildfly.extension.messaging.activemq.MessagingSubsystemRootResourceDefinition.java</file>
			<file type="M">org.wildfly.extension.messaging.activemq.jms.PooledConnectionFactoryAttributesTestCase.java</file>
			<file type="M">org.wildfly.extension.messaging.activemq.jms.PooledConnectionFactoryService.java</file>
			<file type="M">org.wildfly.extension.messaging.activemq.MessagingSubsystemParser_1_1.java</file>
			<file type="M">org.wildfly.extension.messaging.activemq.jms.ConnectionFactoryAttributes.java</file>
		</fixedFiles>
		<links>
			<link type="Cloners" description="cloned from">4456</link>
			<link type="Duplicate" description="duplicates">5851</link>
		</links>
	</bug>
	<bug id="6303" opendate="2016-03-01 11:02:30" fixdate="2016-05-11 18:36:15" resolution="Done">
		<buginformation>
			<summary>RemotingLoginModuleTestCase fails with the latest IBM jdk 20160108_01(SR2 FP10)</summary>
			<description>org.jboss.as.test.integration.security.loginmodules.RemotingLoginModuleTestCase starts failing with the latest IBM jdk.






./integration-tests.sh clean test -Dmaven.repo.local=$REPO -Dts.noSmoke -Dts.basic -Dtest=RemotingLoginModuleTestCase




Running org.jboss.as.test.integration.security.loginmodules.RemotingLoginModuleTestCase




Tests run: 3, Failures: 0, Errors: 2, Skipped: 0, Time elapsed: 0.546 sec &amp;lt;&amp;lt;&amp;lt; FAILURE! - in org.jboss.as.test.integration.security.loginmodules.RemotingLoginModuleTestCase




testNotAuthorizedClient(org.jboss.as.test.integration.security.loginmodules.RemotingLoginModuleTestCase)  Time elapsed: 0.031 sec  &amp;lt;&amp;lt;&amp;lt; ERROR!




javax.naming.CommunicationException: Failed to connect to any server. Servers tried: [remote://127.0.0.1:14447 (javax.net.ssl.SSLException: Received fatal alert: handshake_failure)]




        at org.jboss.naming.remote.client.HaRemoteNamingStore.failOverSequence(HaRemoteNamingStore.java:244)




        at org.jboss.naming.remote.client.HaRemoteNamingStore.namingStore(HaRemoteNamingStore.java:149)




        at org.jboss.naming.remote.client.HaRemoteNamingStore.namingOperation(HaRemoteNamingStore.java:130)




        at org.jboss.naming.remote.client.HaRemoteNamingStore.lookup(HaRemoteNamingStore.java:272)




        at org.jboss.naming.remote.client.RemoteContext.lookupInternal(RemoteContext.java:104)




        at org.jboss.naming.remote.client.RemoteContext.lookup(RemoteContext.java:93)




        at org.jboss.naming.remote.client.RemoteContext.lookup(RemoteContext.java:146)




        at javax.naming.InitialContext.lookup(InitialContext.java:428)




        at org.jboss.as.test.integration.security.loginmodules.RemotingLoginModuleTestCase.testNotAuthorizedClient(RemotingLoginModuleTestCase.java:179)




 




testAuthorizedClient(org.jboss.as.test.integration.security.loginmodules.RemotingLoginModuleTestCase)  Time elapsed: 0.026 sec  &amp;lt;&amp;lt;&amp;lt; ERROR!




javax.naming.CommunicationException: Failed to connect to any server. Servers tried: [remote://127.0.0.1:14447 (javax.net.ssl.SSLException: Received fatal alert: handshake_failure)]




        at org.jboss.naming.remote.client.HaRemoteNamingStore.failOverSequence(HaRemoteNamingStore.java:244)




        at org.jboss.naming.remote.client.HaRemoteNamingStore.namingStore(HaRemoteNamingStore.java:149)




        at org.jboss.naming.remote.client.HaRemoteNamingStore.namingOperation(HaRemoteNamingStore.java:130)




        at org.jboss.naming.remote.client.HaRemoteNamingStore.lookup(HaRemoteNamingStore.java:272)




        at org.jboss.naming.remote.client.RemoteContext.lookupInternal(RemoteContext.java:104)




        at org.jboss.naming.remote.client.RemoteContext.lookup(RemoteContext.java:93)




        at org.jboss.naming.remote.client.RemoteContext.lookup(RemoteContext.java:146)




        at javax.naming.InitialContext.lookup(InitialContext.java:428)




        at org.jboss.as.test.integration.security.loginmodules.RemotingLoginModuleTestCase.testAuthorizedClient(RemotingLoginModuleTestCase.java:165)





</description>
			<version>10.0.0.Final</version>
			<fixedVersion>10.1.0.CR1, 10.1.0.Final</fixedVersion>
			<type>Bug</type>
		</buginformation>
		<fixedFiles>
			<file type="M">org.jboss.as.test.integration.security.loginmodules.RemotingLoginModuleTestCase.java</file>
		</fixedFiles>
		<links>
			<link type="Cloners" description="cloned from">3619</link>
		</links>
	</bug>
	<bug id="6220" opendate="2016-02-16 00:12:41" fixdate="2016-05-11 18:40:20" resolution="Done">
		<buginformation>
			<summary>Duplicate WFLYUT0003 message in boot log</summary>
			<description>Boot log noise:
18:06:49,739 INFO  [org.wildfly.extension.undertow] (ServerService Thread Pool  55) WFLYUT0003: Undertow 1.3.16.Final starting
18:06:49,739 INFO  [org.wildfly.extension.undertow] (MSC service thread 1-2) WFLYUT0003: Undertow 1.3.16.Final starting</description>
			<version>10.0.0.Final</version>
			<fixedVersion>10.1.0.CR1, 10.1.0.Final</fixedVersion>
			<type>Bug</type>
		</buginformation>
		<fixedFiles>
			<file type="M">org.wildfly.extension.undertow.UndertowSubsystemAdd.java</file>
		</fixedFiles>
	</bug>
	<bug id="6505" opendate="2016-04-08 17:46:31" fixdate="2016-05-11 18:47:27" resolution="Done">
		<buginformation>
			<summary>CalendarBasedTimeout needs to trim whitespaces in ScheduleExpression.timezone</summary>
			<description>When creating a calendar-based timer with a timezone id having leading/trailiing whitespaces, the specified timezone is ignored and the system default timezone is used instead.
Although there is a warning, users may not notice it and would still expect the requested timezone to be used.
The logged warning:






13:18:14,259 WARN  [org.jboss.as.ejb3] (default task-42) WFLYEJB0015: Unknown timezone id:




                                            US/Eastern




                                         found in schedule expression. Ignoring it and using server&amp;amp;apos;s timezone: America/New_York






The user-provided timezone &amp;amp;apos;US/Eastern&amp;amp;apos; is a valid timezone (after trimming).</description>
			<version>10.0.0.Final</version>
			<fixedVersion>10.1.0.CR1, 10.1.0.Final</fixedVersion>
			<type>Bug</type>
		</buginformation>
		<fixedFiles>
			<file type="M">org.jboss.as.ejb3.timerservice.schedule.CalendarBasedTimeout.java</file>
		</fixedFiles>
	</bug>
	<bug id="6539" opendate="2016-04-20 09:26:06" fixdate="2016-05-11 18:52:03" resolution="Done">
		<buginformation>
			<summary>SingletonDeploymentDescriptorTestCase and SingletonDeploymentJBossAllTestCase fails due to http-trace disallowed</summary>
			<description>There are two tests

SingletonDeploymentDescriptorTestCase
SingletonDeploymentJBossAllTestCase
that fails because http-trace is disallowed






 Error Details









expected:&amp;lt;200&amp;gt; but was:&amp;lt;405&amp;gt;









 Stack Trace









java.lang.AssertionError: expected:&amp;lt;200&amp;gt; but was:&amp;lt;405&amp;gt;




	at org.junit.Assert.fail(Assert.java:88)




	at org.junit.Assert.failNotEquals(Assert.java:834)




	at org.junit.Assert.assertEquals(Assert.java:645)




	at org.junit.Assert.assertEquals(Assert.java:631)




	at org.jboss.as.test.clustering.cluster.singleton.SingletonDeploymentTestCase.test(SingletonDeploymentTestCase.java:107)




	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)




	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)




...







We need to enable http-trace requests in clustering configurations.</description>
			<version>10.0.0.Final</version>
			<fixedVersion>10.1.0.CR1, 10.1.0.Final</fixedVersion>
			<type>Bug</type>
		</buginformation>
		<fixedFiles>
			<file type="M">org.jboss.as.test.clustering.cluster.singleton.servlet.TraceServlet.java</file>
			<file type="M">org.jboss.as.test.clustering.cluster.singleton.SingletonDeploymentTestCase.java</file>
		</fixedFiles>
		<links>
			<link type="Cloners" description="cloned from">4265</link>
		</links>
	</bug>
	<bug id="4939" opendate="2015-07-16 11:12:14" fixdate="2016-05-13 18:42:09" resolution="Done">
		<buginformation>
			<summary>WFLYEJB0467: The request was rejected as the container is suspended during server shutdown</summary>
			<description>Seen in our failover tests (scenario shutdown) for remote stateful EJBs 
Setup: 4 node cluster, one node at time is shutdown, while standalone clients keep calling the application. 
When server is shutting down (via cli command ":shutdown"), it logs the following error message for each client invocation during suspend phase:






[JBossINF] [0m[0m12:36:39,319 INFO  [org.jboss.as.server] (management-handler-thread - 1) WFLYSRV0211: Suspending server




[JBossINF] [0m[0m12:36:39,323 INFO  [org.jboss.as.server] (Thread-2) WFLYSRV0220: Server shutdown has been requested.




[JBossINF] [0m[31m12:36:39,346 ERROR [org.jboss.as.ejb3.invocation] (EJB default - 7) WFLYEJB0034: EJB Invocation failed on component RemoteStatefulSBImpl for method public abstract int org.jboss.test.clusterbench.common.ejb.CommonStatefulSB.getSerialAndIncrement(): org.jboss.as.ejb3.component.EJBComponentUnavailableException: WFLYEJB0467: The request was rejected as the container is suspended




[JBossINF] 	at org.jboss.as.ejb3.deployment.processors.EjbSuspendInterceptor.processInvocation(EjbSuspendInterceptor.java:50)




[JBossINF] 	at org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:340)




[JBossINF] 	at org.jboss.as.ejb3.component.interceptors.LoggingInterceptor.processInvocation(LoggingInterceptor.java:66)




[JBossINF] 	at org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:340)




[JBossINF] 	at org.jboss.as.ee.component.NamespaceContextInterceptor.processInvocation(NamespaceContextInterceptor.java:50)




[JBossINF] 	at org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:340)




[JBossINF] 	at org.jboss.as.ejb3.component.interceptors.AdditionalSetupInterceptor.processInvocation(AdditionalSetupInterceptor.java:54)




[JBossINF] 	at org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:340)




[JBossINF] 	at org.jboss.invocation.ContextClassLoaderInterceptor.processInvocation(ContextClassLoaderInterceptor.java:64)




[JBossINF] 	at org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:340)




[JBossINF] 	at org.jboss.invocation.InterceptorContext.run(InterceptorContext.java:356)




[JBossINF] 	at org.wildfly.security.manager.WildFlySecurityManager.doChecked(WildFlySecurityManager.java:635)




[JBossINF] 	at org.jboss.invocation.AccessCheckingInterceptor.processInvocation(AccessCheckingInterceptor.java:61)




[JBossINF] 	at org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:340)




[JBossINF] 	at org.jboss.invocation.InterceptorContext.run(InterceptorContext.java:356)




[JBossINF] 	at org.jboss.invocation.PrivilegedWithCombinerInterceptor.processInvocation(PrivilegedWithCombinerInterceptor.java:80)




[JBossINF] 	at org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:340)




[JBossINF] 	at org.jboss.invocation.ChainedInterceptor.processInvocation(ChainedInterceptor.java:61)




[JBossINF] 	at org.jboss.as.ee.component.ViewService$View.invoke(ViewService.java:195)




[JBossINF] 	at org.jboss.as.ejb3.remote.protocol.versionone.MethodInvocationMessageHandler.invokeMethod(MethodInvocationMessageHandler.java:331)




[JBossINF] 	at org.jboss.as.ejb3.remote.protocol.versionone.MethodInvocationMessageHandler.access$100(MethodInvocationMessageHandler.java:69)




[JBossINF] 	at org.jboss.as.ejb3.remote.protocol.versionone.MethodInvocationMessageHandler$1.run(MethodInvocationMessageHandler.java:202)




[JBossINF] 	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)




[JBossINF] 	at java.util.concurrent.FutureTask.run(FutureTask.java:266)




[JBossINF] 	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)




[JBossINF] 	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)




[JBossINF] 	at java.lang.Thread.run(Thread.java:745)




[JBossINF] 	at org.jboss.threads.JBossThread.run(JBossThread.java:320)






Server log:
http://jenkins.mw.lab.eng.bos.redhat.com/hudson/job/eap-7x-failover-ejb-ejbremote-shutdown-dist-async/2/console-perf18/</description>
			<version>10.0.0.Alpha6</version>
			<fixedVersion>10.1.0.CR1, 10.1.0.Final</fixedVersion>
			<type>Bug</type>
		</buginformation>
		<fixedFiles>
			<file type="M">org.jboss.as.ejb3.component.interceptors.LoggingInterceptor.java</file>
		</fixedFiles>
		<links>
			<link type="Cloners" description="cloned from">444</link>
		</links>
	</bug>
	<bug id="5823" opendate="2015-12-09 15:28:32" fixdate="2016-05-13 18:43:18" resolution="Done">
		<buginformation>
			<summary>Register callbacks for messaging paths</summary>
			<description></description>
			<version>10.0.0.CR4</version>
			<fixedVersion>10.1.0.CR1, 10.1.0.Final</fixedVersion>
			<type>Bug</type>
		</buginformation>
		<fixedFiles>
			<file type="M">org.wildfly.extension.messaging.activemq.ActiveMQServerService.java</file>
		</fixedFiles>
	</bug>
	<bug id="5096" opendate="2015-08-13 09:53:16" fixdate="2016-05-13 18:46:40" resolution="Done">
		<buginformation>
			<summary>Example configuration standalone-activemq-colocated.xml is not in server distribution</summary>
			<description>In EAP 6.4.x, example configuration "standalone-hornetq-colocated.xml" is in ${JBOSS_HOME}/docs/examples/configs/
Similar activemq alternative is missing in EAP7</description>
			<version>10.0.0.Alpha1</version>
			<fixedVersion>10.1.0.CR1, 10.1.0.Final</fixedVersion>
			<type>Bug</type>
		</buginformation>
		<fixedFiles>
			<file type="M">org.jboss.as.test.manualmode.parse.ParseAndMarshalModelsTestCase.java</file>
		</fixedFiles>
		<links>
			<link type="Cloners" description="cloned from">689</link>
			<link type="Dependency" description="is blocked by">5979</link>
			<link type="Duplicate" description="duplicates">4735</link>
		</links>
	</bug>
	<bug id="4936" opendate="2015-07-16 08:49:52" fixdate="2016-05-18 10:10:55" resolution="Done">
		<buginformation>
			<summary>JGroups: failed setting ip_ttl on windows with dual-stack IPv6 with "Method not implemented!"</summary>
			<description>





10:18:14,721 SEVERE [org.jgroups.protocols.UDP] (Thread-0 (ActiveMQ-server-ActiveMQServerImpl::serverUUID=34818b2c-2b93-11e5-aeb7-199c6bd1db3c-31443612)) failed setting ip_ttl: java.lang.reflect.InvocationTargetException




    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)




    at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)




    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)




    at java.lang.reflect.Method.invoke(Method.java:497)




    at org.jgroups.protocols.UDP.setTimeToLive(UDP.java:339)




    at org.jgroups.protocols.UDP.createSockets(UDP.java:368)




    at org.jgroups.protocols.UDP.start(UDP.java:270)




    at org.jgroups.stack.ProtocolStack.startStack(ProtocolStack.java:965)




    at org.jgroups.JChannel.startStack(JChannel.java:891)




    at org.jgroups.JChannel._preConnect(JChannel.java:553)




    at org.jgroups.JChannel.connect(JChannel.java:288)




    at org.jgroups.JChannel.connect(JChannel.java:279)




    at org.apache.activemq.artemis.api.core.JGroupsBroadcastEndpoint$JChannelWrapper.connect(JGroupsBroadcastEndpoint.java:211)




    at org.apache.activemq.artemis.api.core.JGroupsBroadcastEndpoint.internalOpen(JGroupsBroadcastEndpoint.java:115)




    at org.apache.activemq.artemis.api.core.JGroupsBroadcastEndpoint.openClient(JGroupsBroadcastEndpoint.java:92)




    at org.apache.activemq.artemis.core.cluster.DiscoveryGroup.start(DiscoveryGroup.java:105)




    at org.apache.activemq.artemis.core.client.impl.ServerLocatorImpl.initialise(ServerLocatorImpl.java:380)




    at org.apache.activemq.artemis.core.client.impl.ServerLocatorImpl.createSessionFactory(ServerLocatorImpl.java:846)




    at org.apache.activemq.artemis.core.client.impl.ServerLocatorImpl.connect(ServerLocatorImpl.java:687)




    at org.apache.activemq.artemis.core.client.impl.ServerLocatorImpl.connect(ServerLocatorImpl.java:671)




    at org.apache.activemq.artemis.core.server.cluster.ClusterController$ConnectRunnable.run(ClusterController.java:448)




    at org.apache.activemq.artemis.utils.OrderedExecutorFactory$OrderedExecutor$1.run(OrderedExecutorFactory.java:105)




    at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)




    at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)




    at java.lang.Thread.run(Thread.java:745)




Caused by: java.io.IOException: Method not implemented!




    at java.net.DualStackPlainDatagramSocketImpl.setTimeToLive(DualStackPlainDatagramSocketImpl.java:236)




    ... 25 more





</description>
			<version>10.0.0.Alpha1</version>
			<fixedVersion>10.1.0.CR1, 10.1.0.Final</fixedVersion>
			<type>Bug</type>
		</buginformation>
		<fixedFiles>
			<file type="M">org.jboss.as.test.clustering.messaging.ClusteredMessagingTestCase.java</file>
		</fixedFiles>
		<links>
			<link type="Dependency" description="is blocked by">5981</link>
			<link type="Related" description="relates to">4421</link>
			<link type="Sequence" description="is followed up by">5035</link>
		</links>
	</bug>
	<bug id="4786" opendate="2015-06-16 10:30:57" fixdate="2016-05-20 20:30:06" resolution="Done">
		<buginformation>
			<summary>Clustering integration tests fails once -Dnode0 and -Dnode1 are used</summary>
			<description>Tests from wildfly-ts-integ-clustering module fails once we change default binding interfaces by -Dnode0 and -Dnode1 properties.
See https://jenkins.mw.lab.eng.bos.redhat.com/hudson/job/eap-7x-as-testsuite-clustering/

build 5 binds to localhost (no -Dnode*)
build 6 uses -Dnode0=$MYTESTIP_1 -Dnode1=$MYTESTIP_2

Similar failures were addressed for EAP 6 by https://bugzilla.redhat.com/show_bug.cgi?id=1076015</description>
			<version>10.0.0.Alpha3</version>
			<fixedVersion>10.1.0.CR1, 10.1.0.Final</fixedVersion>
			<type>Bug</type>
		</buginformation>
		<fixedFiles>
			<file type="M">org.jboss.as.test.http.util.TestHttpClientUtils.java</file>
			<file type="M">org.jboss.as.test.clustering.cluster.web.ReplicationForNegotiationAuthenticatorTestCase.java</file>
			<file type="M">org.jboss.as.test.clustering.cluster.web.context.InvalidateConversationTestCase.java</file>
			<file type="M">org.jboss.as.test.clustering.cluster.sso.ClusteredSingleSignOnTestCase.java</file>
			<file type="M">org.jboss.as.test.clustering.xsite.XSiteBackupForTestCase.java</file>
			<file type="M">org.jboss.as.test.clustering.cluster.web.authentication.FormAuthenticationWebFailoverTestCase.java</file>
			<file type="M">org.jboss.as.test.clustering.cluster.web.ClusteredWebSimpleTestCase.java</file>
			<file type="M">org.jboss.as.test.clustering.xsite.XSiteSimpleTestCase.java</file>
			<file type="M">org.jboss.as.test.clustering.cluster.ejb.xpc.StatefulWithXPCFailoverTestCase.java</file>
			<file type="M">org.jboss.as.test.clustering.cluster.ClusterAbstractTestCase.java</file>
			<file type="M">org.jboss.as.test.integration.web.sharedsession.SharedSessionTestCase.java</file>
			<file type="M">org.jboss.as.test.clustering.cluster.cdi.CdiFailoverTestCase.java</file>
			<file type="M">org.jboss.as.test.clustering.cluster.ejb.stateful.StatefulTimeoutTestCase.java</file>
			<file type="M">org.jboss.as.test.clustering.extended.ejb2.stateful.passivation.ClusterPassivationTestBase.java</file>
			<file type="M">org.jboss.as.test.clustering.cluster.web.expiration.SessionExpirationTestCase.java</file>
			<file type="M">org.jboss.as.test.clustering.single.web.SimpleWebTestCase.java</file>
			<file type="M">org.jboss.as.test.clustering.cluster.web.authentication.BasicAuthenticationWebFailoverTestCase.java</file>
			<file type="M">org.jboss.as.test.clustering.cluster.web.shared.SharedSessionFailoverTestCase.java</file>
			<file type="M">org.jboss.as.test.clustering.cluster.singleton.SingletonDeploymentTestCase.java</file>
			<file type="M">org.jboss.as.test.clustering.cluster.jsf.JSFFailoverTestCase.java</file>
			<file type="M">org.jboss.as.test.integration.web.sso.SSOTestBase.java</file>
			<file type="M">org.jboss.as.test.clustering.cluster.web.NonDistributableTestCase.java</file>
			<file type="M">org.jboss.as.test.clustering.cluster.web.async.AsyncServletTestCase.java</file>
			<file type="M">org.jboss.as.test.clustering.cluster.web.ClusteredWebFailoverAbstractCase.java</file>
			<file type="M">org.jboss.as.test.integration.management.api.web.ListenerTestCase.java</file>
			<file type="M">org.jboss.as.test.integration.web.security.tg.TransportGuaranteeTestCase.java</file>
			<file type="M">org.jboss.as.test.clustering.cluster.ejb.stateful.StatefulFailoverTestCase.java</file>
			<file type="M">org.jboss.as.test.clustering.cluster.singleton.SingletonServiceTestCase.java</file>
			<file type="D">org.jboss.as.test.http.util.HttpClientUtils.java</file>
			<file type="M">org.jboss.as.test.clustering.cluster.web.context.ConversationServlet.java</file>
			<file type="M">org.jboss.as.test.clustering.extended.ejb2.stateless.RemoteStatelessFailoverTestCase.java</file>
			<file type="M">org.jboss.as.test.clustering.cluster.web.NonHaWebSessionPersistenceTestCase.java</file>
			<file type="M">org.jboss.as.test.clustering.cluster.web.passivation.SessionPassivationTestCase.java</file>
			<file type="M">org.jboss.as.test.clustering.single.singleton.SingletonServiceTestCase.java</file>
			<file type="M">org.jboss.as.test.clustering.ClusterHttpClientUtil.java</file>
			<file type="M">org.jboss.as.test.clustering.single.web.SimpleServlet.java</file>
		</fixedFiles>
		<links>
			<link type="Cloners" description="cloned from">322</link>
			<link type="Duplicate" description="is duplicated by">5021</link>
			<link type="Related" description="is related to">5519</link>
		</links>
	</bug>
	<bug id="6141" opendate="2016-02-08 15:28:15" fixdate="2016-05-25 14:23:36" resolution="Done">
		<buginformation>
			<summary>[Migration][WebToUndertow] Migrating access log valve results always in migration warning</summary>
			<description>When migrating AccessLogValve it results in printing migration warning for attributes which are not even defined with the valve.
The attributes are: "resolveHosts", "fileDateFormat", "renameOnRotate", "encoding", "locale", "requestAttributesEnabled", "buffered".
Such warning should only be printed for attributes which were actually used with the valve and not when they are actually not used.</description>
			<version>10.0.0.Final</version>
			<fixedVersion>10.1.0.CR1, 10.1.0.Final</fixedVersion>
			<type>Bug</type>
		</buginformation>
		<fixedFiles>
			<file type="M">org.jboss.as.web.test.WebMigrateTestCase.java</file>
			<file type="M">org.jboss.as.web.WebMigrateOperation.java</file>
		</fixedFiles>
		<links>
			<link type="Cloners" description="cloned from">3277</link>
		</links>
	</bug>
	<bug id="6453" opendate="2016-04-01 18:11:03" fixdate="2016-05-25 15:37:49" resolution="Done">
		<buginformation>
			<summary>InfinispanSessionManager#getLocalSessions should only return sessions with current node locality</summary>
			<description>Stumbled upon while fixing WFLY-6294; mod_cluster is the only consumer of this at the moment.</description>
			<version>10.0.0.Final</version>
			<fixedVersion>10.1.0.CR1, 10.1.0.Final</fixedVersion>
			<type>Bug</type>
		</buginformation>
		<fixedFiles>
			<file type="M">org.wildfly.clustering.infinispan.spi.distribution.ConsistentHashLocality.java</file>
			<file type="M">org.wildfly.clustering.web.infinispan.session.InfinispanSessionManager.java</file>
		</fixedFiles>
		<links>
			<link type="Cloners" description="cloned to">4646</link>
			<link type="Dependency" description="blocks">6294</link>
		</links>
	</bug>
	<bug id="6315" opendate="2016-01-11 04:17:59" fixdate="2016-05-25 15:40:46" resolution="Done">
		<buginformation>
			<summary>session.invalidate() behaviour not conform Servlet specification in HA profile</summary>
			<description>We suspected that calling session.invalidate() on an already invalidated session with replication-granularity set to "ATTRIBUTE" will throw a NullPointerException, but from the specification it should throw an IllegalStateException instead.
Stack trace as below:






13:12:35,554 ERROR [io.undertow.request] (default task-32) UT005023: Exception handling request to /&amp;lt;our system url&amp;gt;: java.lang.NullPointerException




    at org.wildfly.clustering.web.infinispan.session.fine.FineSessionFactory$1.invoke(FineSessionFactory.java:103)




    at org.wildfly.clustering.web.infinispan.session.fine.FineSessionFactory$1.invoke(FineSessionFactory.java:100)




    at org.jboss.as.clustering.infinispan.invoker.SimpleCacheInvoker.invoke(SimpleCacheInvoker.java:34)




    at org.jboss.as.clustering.infinispan.invoker.RetryingCacheInvoker.invoke(RetryingCacheInvoker.java:87)




    at org.wildfly.clustering.web.infinispan.session.fine.FineSessionFactory.remove(FineSessionFactory.java:109)




    at org.wildfly.clustering.web.infinispan.session.fine.FineSessionFactory.remove(FineSessionFactory.java:53)




    at org.wildfly.clustering.web.infinispan.session.InfinispanSession.invalidate(InfinispanSession.java:74)




    at org.wildfly.clustering.web.infinispan.session.InfinispanSessionManager$SchedulableSession.invalidate(InfinispanSessionManager.java:359)




    at org.wildfly.clustering.web.undertow.session.DistributableSession.invalidate(DistributableSession.java:140)




    at io.undertow.servlet.spec.HttpSessionImpl.invalidate(HttpSessionImpl.java:199) [undertow-servlet-1.1.8.Final.jar:1.1.8.Final]




... // our application code, just calling "session.invalidate()"






We also enclosed the simplified samples to reproduce this issue (session-invalidate-noreplication.war, session-invalidate-replication-attribute.war, session-invalidate-replication-session.war). In general they are the same except the replication-granularity (in jboss-web.xml =&amp;gt; replication-granularity) settings.

session-invalidate-noreplication.war and session-invalidate-replication-session.war works correctly as they are throwing IllegalStateException.
session-invalidate-replication-attribute.war is buggy because it throw NullPointerException instead.

For more information, please refer to https://developer.jboss.org/message/947295
Updated in 2016-04-27
Test again in Wildfly 8.2.1.Final, Wildfly 10.0.0.Final and Wildfly 10.1.0.Final-SNAPSHOT (master branch), with HA profile (2 nodes in same machine), with my updated WARs, detail as below:
Wildfly 8.2.1.Final:

session-invalidate-noreplication.war - throwing IllegalStateException in the index.jsp (line 62), which is expected, detail stacktrace as below:






15:42:56,424 INFO  [stdout] (default task-9) {} session.invalidate() throw IllegalStateException, but it is intended!!!




15:42:56,424 ERROR [stderr] (default task-9) {} java.lang.IllegalStateException: UT000021: Session already invalidated




15:42:56,424 ERROR [stderr] (default task-9) {} 	at io.undertow.server.session.InMemorySessionManager$SessionImpl.invalidate(InMemorySessionManager.java:415)




15:42:56,425 ERROR [stderr] (default task-9) {} 	at io.undertow.server.session.InMemorySessionManager$SessionImpl.invalidate(InMemorySessionManager.java:404)




15:42:56,425 ERROR [stderr] (default task-9) {} 	at io.undertow.servlet.spec.HttpSessionImpl.invalidate(HttpSessionImpl.java:199)




15:42:56,425 ERROR [stderr] (default task-9) {} 	at org.apache.jsp.index_jsp._jspService(index_jsp.java:62)




15:42:56,425 ERROR [stderr] (default task-9) {} 	at org.apache.jasper.runtime.HttpJspBase.service(HttpJspBase.java:69)




15:42:56,425 ERROR [stderr] (default task-9) {} 	at javax.servlet.http.HttpServlet.service(HttpServlet.java:790)




15:42:56,426 ERROR [stderr] (default task-9) {} 	at org.apache.jasper.servlet.JspServletWrapper.service(JspServletWrapper.java:366)




15:42:56,426 ERROR [stderr] (default task-9) {} 	at org.apache.jasper.servlet.JspServlet.serviceJspFile(JspServlet.java:326)




15:42:56,426 ERROR [stderr] (default task-9) {} 	at org.apache.jasper.servlet.JspServlet.service(JspServlet.java:259)




15:42:56,426 ERROR [stderr] (default task-9) {} 	at javax.servlet.http.HttpServlet.service(HttpServlet.java:790)




15:42:56,426 ERROR [stderr] (default task-9) {} 	at io.undertow.servlet.handlers.ServletHandler.handleRequest(ServletHandler.java:86)




15:42:56,426 ERROR [stderr] (default task-9) {} 	at io.undertow.servlet.handlers.FilterHandler$FilterChainImpl.doFilter(FilterHandler.java:130)




15:42:56,426 ERROR [stderr] (default task-9) {} 	at com.jboss.test.StoreSessionFilter.doFilter(StoreSessionFilter.java:72)




15:42:56,426 ERROR [stderr] (default task-9) {} 	at io.undertow.servlet.core.ManagedFilter.doFilter(ManagedFilter.java:60)




15:42:56,427 ERROR [stderr] (default task-9) {} 	at io.undertow.servlet.handlers.FilterHandler$FilterChainImpl.doFilter(FilterHandler.java:132)




15:42:56,427 ERROR [stderr] (default task-9) {} 	at io.undertow.servlet.handlers.FilterHandler.handleRequest(FilterHandler.java:85)




15:42:56,427 ERROR [stderr] (default task-9) {} 	at io.undertow.servlet.handlers.security.ServletSecurityRoleHandler.handleRequest(ServletSecurityRoleHandler.java:62)




15:42:56,427 ERROR [stderr] (default task-9) {} 	at io.undertow.servlet.handlers.ServletDispatchingHandler.handleRequest(ServletDispatchingHandler.java:36)




15:42:56,427 ERROR [stderr] (default task-9) {} 	at org.wildfly.extension.undertow.security.SecurityContextAssociationHandler.handleRequest(SecurityContextAssociationHandler.java:78)




15:42:56,427 ERROR [stderr] (default task-9) {} 	at io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43)




15:42:56,427 ERROR [stderr] (default task-9) {} 	at io.undertow.servlet.handlers.security.SSLInformationAssociationHandler.handleRequest(SSLInformationAssociationHandler.java:131)




15:42:56,427 ERROR [stderr] (default task-9) {} 	at io.undertow.servlet.handlers.security.ServletAuthenticationCallHandler.handleRequest(ServletAuthenticationCallHandler.java:57)




15:42:56,428 ERROR [stderr] (default task-9) {} 	at io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43)




15:42:56,428 ERROR [stderr] (default task-9) {} 	at io.undertow.security.handlers.AbstractConfidentialityHandler.handleRequest(AbstractConfidentialityHandler.java:46)




15:42:56,428 ERROR [stderr] (default task-9) {} 	at io.undertow.servlet.handlers.security.ServletConfidentialityConstraintHandler.handleRequest(ServletConfidentialityConstraintHandler.java:64)




15:42:56,428 ERROR [stderr] (default task-9) {} 	at io.undertow.security.handlers.AuthenticationMechanismsHandler.handleRequest(AuthenticationMechanismsHandler.java:58)




15:42:56,428 ERROR [stderr] (default task-9) {} 	at io.undertow.servlet.handlers.security.CachedAuthenticatedSessionHandler.handleRequest(CachedAuthenticatedSessionHandler.java:70)




15:42:56,428 ERROR [stderr] (default task-9) {} 	at io.undertow.security.handlers.SecurityInitialHandler.handleRequest(SecurityInitialHandler.java:76)




15:42:56,428 ERROR [stderr] (default task-9) {} 	at io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43)




15:42:56,428 ERROR [stderr] (default task-9) {} 	at org.wildfly.extension.undertow.security.jacc.JACCContextIdHandler.handleRequest(JACCContextIdHandler.java:61)




15:42:56,429 ERROR [stderr] (default task-9) {} 	at io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43)




15:42:56,429 ERROR [stderr] (default task-9) {} 	at io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43)




15:42:56,429 ERROR [stderr] (default task-9) {} 	at io.undertow.servlet.handlers.ServletInitialHandler.handleFirstRequest(ServletInitialHandler.java:261)




15:42:56,429 ERROR [stderr] (default task-9) {} 	at io.undertow.servlet.handlers.ServletInitialHandler.dispatchRequest(ServletInitialHandler.java:248)




15:42:56,429 ERROR [stderr] (default task-9) {} 	at io.undertow.servlet.handlers.ServletInitialHandler.access$000(ServletInitialHandler.java:77)




15:42:56,429 ERROR [stderr] (default task-9) {} 	at io.undertow.servlet.handlers.ServletInitialHandler$1.handleRequest(ServletInitialHandler.java:167)




15:42:56,429 ERROR [stderr] (default task-9) {} 	at io.undertow.server.Connectors.executeRootHandler(Connectors.java:199)




15:42:56,429 ERROR [stderr] (default task-9) {} 	at io.undertow.server.HttpServerExchange$1.run(HttpServerExchange.java:761)




15:42:56,430 ERROR [stderr] (default task-9) {} 	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)




15:42:56,430 ERROR [stderr] (default task-9) {} 	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)




15:42:56,430 ERROR [stderr] (default task-9) {} 	at java.lang.Thread.run(Thread.java:745)






session-invalidate-replication-session.war - do NOT throw IllegalStateException when invalidating an already invalidated session, which is incorrect. My test just print:






15:38:38,568 ERROR [stderr] (default task-4) {} Should not reach here!!! That means session.invalidate() do NOT throw IllegalStateException






session-invalidate-replication-attribute.war - throwing NullPointerException in the index.jsp (line 62), which is incorrect. Detail stacktrace as below:






15:38:57,894 ERROR [io.undertow.request] (default task-6) {} UT005023: Exception handling request to /session-invalidate-replication-attribute/index.jsp: org.apache.jasper.JasperException: JBWEB004038: An exception occurred processing JSP page /index.jsp at line 7









4: &amp;lt;%




5: 	if (request.getParameter("logout") != null) {




6: 		try {




7: 			session.invalidate();  // invalidate the invalidated session




8: 			System.err.println("Should not reach here!!! That means session.invalidate() do NOT throw IllegalStateException");




9: 		} catch (IllegalStateException e) {




10: 			// expected to throw IllegalStateException when invalidate a invalidated session














Stacktrace:




	at org.apache.jasper.servlet.JspServletWrapper.handleJspException(JspServletWrapper.java:494) [jastow-1.0.0.Final.jar:1.0.0.Final]




	at org.apache.jasper.servlet.JspServletWrapper.service(JspServletWrapper.java:408) [jastow-1.0.0.Final.jar:1.0.0.Final]




	at org.apache.jasper.servlet.JspServlet.serviceJspFile(JspServlet.java:326) [jastow-1.0.0.Final.jar:1.0.0.Final]




	at org.apache.jasper.servlet.JspServlet.service(JspServlet.java:259) [jastow-1.0.0.Final.jar:1.0.0.Final]




	at javax.servlet.http.HttpServlet.service(HttpServlet.java:790) [jboss-servlet-api_3.1_spec-1.0.0.Final.jar:1.0.0.Final]




	at io.undertow.servlet.handlers.ServletHandler.handleRequest(ServletHandler.java:86) [undertow-servlet-1.1.8.Final.jar:1.1.8.Final]




	at io.undertow.servlet.handlers.FilterHandler$FilterChainImpl.doFilter(FilterHandler.java:130) [undertow-servlet-1.1.8.Final.jar:1.1.8.Final]




	at com.jboss.test.StoreSessionFilter.doFilter(StoreSessionFilter.java:72) [classes:]




	at io.undertow.servlet.core.ManagedFilter.doFilter(ManagedFilter.java:60) [undertow-servlet-1.1.8.Final.jar:1.1.8.Final]




	at io.undertow.servlet.handlers.FilterHandler$FilterChainImpl.doFilter(FilterHandler.java:132) [undertow-servlet-1.1.8.Final.jar:1.1.8.Final]




	at io.undertow.servlet.handlers.FilterHandler.handleRequest(FilterHandler.java:85) [undertow-servlet-1.1.8.Final.jar:1.1.8.Final]




	at io.undertow.servlet.handlers.security.ServletSecurityRoleHandler.handleRequest(ServletSecurityRoleHandler.java:62) [undertow-servlet-1.1.8.Final.jar:1.1.8.Final]




	at io.undertow.servlet.handlers.ServletDispatchingHandler.handleRequest(ServletDispatchingHandler.java:36) [undertow-servlet-1.1.8.Final.jar:1.1.8.Final]




	at org.wildfly.extension.undertow.security.SecurityContextAssociationHandler.handleRequest(SecurityContextAssociationHandler.java:78)




	at io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43) [undertow-core-1.1.8.Final.jar:1.1.8.Final]




	at io.undertow.servlet.handlers.security.SSLInformationAssociationHandler.handleRequest(SSLInformationAssociationHandler.java:131) [undertow-servlet-1.1.8.Final.jar:1.1.8.Final]




	at io.undertow.servlet.handlers.security.ServletAuthenticationCallHandler.handleRequest(ServletAuthenticationCallHandler.java:57) [undertow-servlet-1.1.8.Final.jar:1.1.8.Final]




	at io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43) [undertow-core-1.1.8.Final.jar:1.1.8.Final]




	at io.undertow.security.handlers.AbstractConfidentialityHandler.handleRequest(AbstractConfidentialityHandler.java:46) [undertow-core-1.1.8.Final.jar:1.1.8.Final]




	at io.undertow.servlet.handlers.security.ServletConfidentialityConstraintHandler.handleRequest(ServletConfidentialityConstraintHandler.java:64) [undertow-servlet-1.1.8.Final.jar:1.1.8.Final]




	at io.undertow.security.handlers.AuthenticationMechanismsHandler.handleRequest(AuthenticationMechanismsHandler.java:58) [undertow-core-1.1.8.Final.jar:1.1.8.Final]




	at io.undertow.servlet.handlers.security.CachedAuthenticatedSessionHandler.handleRequest(CachedAuthenticatedSessionHandler.java:70) [undertow-servlet-1.1.8.Final.jar:1.1.8.Final]




	at io.undertow.security.handlers.SecurityInitialHandler.handleRequest(SecurityInitialHandler.java:76) [undertow-core-1.1.8.Final.jar:1.1.8.Final]




	at io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43) [undertow-core-1.1.8.Final.jar:1.1.8.Final]




	at org.wildfly.extension.undertow.security.jacc.JACCContextIdHandler.handleRequest(JACCContextIdHandler.java:61)




	at io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43) [undertow-core-1.1.8.Final.jar:1.1.8.Final]




	at io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43) [undertow-core-1.1.8.Final.jar:1.1.8.Final]




	at io.undertow.servlet.handlers.ServletInitialHandler.handleFirstRequest(ServletInitialHandler.java:261) [undertow-servlet-1.1.8.Final.jar:1.1.8.Final]




	at io.undertow.servlet.handlers.ServletInitialHandler.dispatchRequest(ServletInitialHandler.java:248) [undertow-servlet-1.1.8.Final.jar:1.1.8.Final]




	at io.undertow.servlet.handlers.ServletInitialHandler.access$000(ServletInitialHandler.java:77) [undertow-servlet-1.1.8.Final.jar:1.1.8.Final]




	at io.undertow.servlet.handlers.ServletInitialHandler$1.handleRequest(ServletInitialHandler.java:167) [undertow-servlet-1.1.8.Final.jar:1.1.8.Final]




	at io.undertow.server.Connectors.executeRootHandler(Connectors.java:199) [undertow-core-1.1.8.Final.jar:1.1.8.Final]




	at io.undertow.server.HttpServerExchange$1.run(HttpServerExchange.java:761) [undertow-core-1.1.8.Final.jar:1.1.8.Final]




	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142) [rt.jar:1.8.0_92]




	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617) [rt.jar:1.8.0_92]




	at java.lang.Thread.run(Thread.java:745) [rt.jar:1.8.0_92]




Caused by: java.lang.NullPointerException




	at org.wildfly.clustering.web.infinispan.session.fine.FineSessionFactory$1.invoke(FineSessionFactory.java:103)




	at org.wildfly.clustering.web.infinispan.session.fine.FineSessionFactory$1.invoke(FineSessionFactory.java:100)




	at org.jboss.as.clustering.infinispan.invoker.SimpleCacheInvoker.invoke(SimpleCacheInvoker.java:34)




	at org.jboss.as.clustering.infinispan.invoker.RetryingCacheInvoker.invoke(RetryingCacheInvoker.java:87)




	at org.wildfly.clustering.web.infinispan.session.fine.FineSessionFactory.remove(FineSessionFactory.java:109)




	at org.wildfly.clustering.web.infinispan.session.fine.FineSessionFactory.remove(FineSessionFactory.java:53)




	at org.wildfly.clustering.web.infinispan.session.InfinispanSession.invalidate(InfinispanSession.java:74)




	at org.wildfly.clustering.web.infinispan.session.InfinispanSessionManager$SchedulableSession.invalidate(InfinispanSessionManager.java:359)




	at org.wildfly.clustering.web.undertow.session.DistributableSession.invalidate(DistributableSession.java:140)




	at io.undertow.servlet.spec.HttpSessionImpl.invalidate(HttpSessionImpl.java:199) [undertow-servlet-1.1.8.Final.jar:1.1.8.Final]




	at org.apache.jsp.index_jsp._jspService(index_jsp.java:62)




	at org.apache.jasper.runtime.HttpJspBase.service(HttpJspBase.java:69) [jastow-1.0.0.Final.jar:1.0.0.Final]




	at javax.servlet.http.HttpServlet.service(HttpServlet.java:790) [jboss-servlet-api_3.1_spec-1.0.0.Final.jar:1.0.0.Final]




	at org.apache.jasper.servlet.JspServletWrapper.service(JspServletWrapper.java:366) [jastow-1.0.0.Final.jar:1.0.0.Final]




	... 34 more







Wildfly-10.0.0.Final:

session-invalidate-noreplication.war - same as Wildfly 8 to throw IllegalStateException which is intended.
session-invalidate-replication-session.war - throwing IllegalStateException in the filter!!! (Yes, in the filter, NOT in the index.jsp!!!) which is incorrect. Detail as below:






16:00:28,742 ERROR [org.infinispan.interceptors.InvocationContextInterceptor] (default task-5) {} ISPN000136: Error executing command GetKeyValueCommand, writing keys []: java.lang.IllegalStateException: Transaction DummyTransaction{xid=DummyXid{id=5}, status=3} is not in a valid state to be invoking cache operations on.




	at org.infinispan.interceptors.TxInterceptor.enlist(TxInterceptor.java:394)




	at org.infinispan.interceptors.TxInterceptor.enlistIfNeeded(TxInterceptor.java:350)




	at org.infinispan.interceptors.TxInterceptor.enlistReadAndInvokeNext(TxInterceptor.java:344)




	at org.infinispan.interceptors.TxInterceptor.visitGetKeyValueCommand(TxInterceptor.java:330)




	at org.infinispan.commands.read.GetKeyValueCommand.acceptVisitor(GetKeyValueCommand.java:40)




	at org.infinispan.interceptors.base.CommandInterceptor.invokeNextInterceptor(CommandInterceptor.java:99)




	at org.infinispan.interceptors.base.CommandInterceptor.handleDefault(CommandInterceptor.java:113)




	at org.infinispan.commands.AbstractVisitor.visitGetKeyValueCommand(AbstractVisitor.java:85)




	at org.infinispan.commands.read.GetKeyValueCommand.acceptVisitor(GetKeyValueCommand.java:40)




	at org.infinispan.interceptors.base.CommandInterceptor.invokeNextInterceptor(CommandInterceptor.java:99)




	at org.infinispan.statetransfer.StateTransferInterceptor.handleTopologyAffectedCommand(StateTransferInterceptor.java:405)




	at org.infinispan.statetransfer.StateTransferInterceptor.handleDefault(StateTransferInterceptor.java:390)




	at org.infinispan.commands.AbstractVisitor.visitGetKeyValueCommand(AbstractVisitor.java:85)




	at org.infinispan.commands.read.GetKeyValueCommand.acceptVisitor(GetKeyValueCommand.java:40)




	at org.infinispan.interceptors.base.CommandInterceptor.invokeNextInterceptor(CommandInterceptor.java:99)




	at org.infinispan.interceptors.InvocationContextInterceptor.handleAll(InvocationContextInterceptor.java:107)




	at org.infinispan.interceptors.InvocationContextInterceptor.handleDefault(InvocationContextInterceptor.java:76)




	at org.infinispan.commands.AbstractVisitor.visitGetKeyValueCommand(AbstractVisitor.java:85)




	at org.infinispan.commands.read.GetKeyValueCommand.acceptVisitor(GetKeyValueCommand.java:40)




	at org.infinispan.interceptors.InterceptorChain.invoke(InterceptorChain.java:336)




	at org.infinispan.cache.impl.CacheImpl.get(CacheImpl.java:411)




	at org.infinispan.cache.impl.CacheImpl.get(CacheImpl.java:403)




	at org.infinispan.cache.impl.AbstractDelegatingCache.get(AbstractDelegatingCache.java:286)




	at org.wildfly.clustering.server.registry.CacheRegistry.getEntry(CacheRegistry.java:128)




	at org.wildfly.clustering.web.infinispan.session.InfinispanRouteLocator.locate(InfinispanRouteLocator.java:58)




	at org.wildfly.clustering.web.undertow.session.DistributableSessionIdentifierCodec.encode(DistributableSessionIdentifierCodec.java:48)




	at org.wildfly.extension.undertow.session.CodecSessionConfig.clearSession(CodecSessionConfig.java:51)




	at io.undertow.servlet.spec.ServletContextImpl$ServletContextSessionConfig.clearSession(ServletContextImpl.java:985)




	at org.wildfly.clustering.web.undertow.session.DistributableSession.invalidate(DistributableSession.java:184)




	at io.undertow.servlet.spec.HttpSessionImpl.invalidate(HttpSessionImpl.java:199)




	at com.jboss.test.StoreSessionFilter.doFilter(StoreSessionFilter.java:58)




	at io.undertow.servlet.core.ManagedFilter.doFilter(ManagedFilter.java:60)




	at io.undertow.servlet.handlers.FilterHandler$FilterChainImpl.doFilter(FilterHandler.java:131)




	at io.undertow.servlet.handlers.FilterHandler.handleRequest(FilterHandler.java:84)




	at io.undertow.servlet.handlers.security.ServletSecurityRoleHandler.handleRequest(ServletSecurityRoleHandler.java:62)




	at io.undertow.jsp.JspFileHandler.handleRequest(JspFileHandler.java:32)




	at io.undertow.servlet.handlers.ServletDispatchingHandler.handleRequest(ServletDispatchingHandler.java:36)




	at org.wildfly.extension.undertow.security.SecurityContextAssociationHandler.handleRequest(SecurityContextAssociationHandler.java:78)




	at io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43)




	at io.undertow.servlet.handlers.security.SSLInformationAssociationHandler.handleRequest(SSLInformationAssociationHandler.java:131)




	at io.undertow.servlet.handlers.security.ServletAuthenticationCallHandler.handleRequest(ServletAuthenticationCallHandler.java:57)




	at io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43)




	at io.undertow.security.handlers.AbstractConfidentialityHandler.handleRequest(AbstractConfidentialityHandler.java:46)




	at io.undertow.servlet.handlers.security.ServletConfidentialityConstraintHandler.handleRequest(ServletConfidentialityConstraintHandler.java:64)




	at io.undertow.security.handlers.AuthenticationMechanismsHandler.handleRequest(AuthenticationMechanismsHandler.java:60)




	at io.undertow.servlet.handlers.security.CachedAuthenticatedSessionHandler.handleRequest(CachedAuthenticatedSessionHandler.java:77)




	at io.undertow.security.handlers.NotificationReceiverHandler.handleRequest(NotificationReceiverHandler.java:50)




	at io.undertow.security.handlers.AbstractSecurityContextAssociationHandler.handleRequest(AbstractSecurityContextAssociationHandler.java:43)




	at io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43)




	at org.wildfly.extension.undertow.security.jacc.JACCContextIdHandler.handleRequest(JACCContextIdHandler.java:61)




	at io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43)




	at io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43)




	at io.undertow.servlet.handlers.ServletInitialHandler.handleFirstRequest(ServletInitialHandler.java:284)




	at io.undertow.servlet.handlers.ServletInitialHandler.dispatchRequest(ServletInitialHandler.java:263)




	at io.undertow.servlet.handlers.ServletInitialHandler.access$000(ServletInitialHandler.java:81)




	at io.undertow.servlet.handlers.ServletInitialHandler$1.handleRequest(ServletInitialHandler.java:174)




	at io.undertow.server.Connectors.executeRootHandler(Connectors.java:202)




	at io.undertow.server.HttpServerExchange$1.run(HttpServerExchange.java:793)




	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)




	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)




	at java.lang.Thread.run(Thread.java:745)









16:00:28,743 ERROR [com.jboss.test.StoreSessionFilter] (default task-5) {} Transaction DummyTransaction{xid=DummyXid{id=5}, status=3} is not in a valid state to be invoking cache operations on.: java.lang.IllegalStateException: Transaction DummyTransaction{xid=DummyXid{id=5}, status=3} is not in a valid state to be invoking cache operations on.




	at org.infinispan.interceptors.TxInterceptor.enlist(TxInterceptor.java:394)




	at org.infinispan.interceptors.TxInterceptor.enlistIfNeeded(TxInterceptor.java:350)




	at org.infinispan.interceptors.TxInterceptor.enlistReadAndInvokeNext(TxInterceptor.java:344)




	at org.infinispan.interceptors.TxInterceptor.visitGetKeyValueCommand(TxInterceptor.java:330)




	at org.infinispan.commands.read.GetKeyValueCommand.acceptVisitor(GetKeyValueCommand.java:40)




	at org.infinispan.interceptors.base.CommandInterceptor.invokeNextInterceptor(CommandInterceptor.java:99)




	at org.infinispan.interceptors.base.CommandInterceptor.handleDefault(CommandInterceptor.java:113)




	at org.infinispan.commands.AbstractVisitor.visitGetKeyValueCommand(AbstractVisitor.java:85)




	at org.infinispan.commands.read.GetKeyValueCommand.acceptVisitor(GetKeyValueCommand.java:40)




	at org.infinispan.interceptors.base.CommandInterceptor.invokeNextInterceptor(CommandInterceptor.java:99)




	at org.infinispan.statetransfer.StateTransferInterceptor.handleTopologyAffectedCommand(StateTransferInterceptor.java:405)




	at org.infinispan.statetransfer.StateTransferInterceptor.handleDefault(StateTransferInterceptor.java:390)




	at org.infinispan.commands.AbstractVisitor.visitGetKeyValueCommand(AbstractVisitor.java:85)




	at org.infinispan.commands.read.GetKeyValueCommand.acceptVisitor(GetKeyValueCommand.java:40)




	at org.infinispan.interceptors.base.CommandInterceptor.invokeNextInterceptor(CommandInterceptor.java:99)




	at org.infinispan.interceptors.InvocationContextInterceptor.handleAll(InvocationContextInterceptor.java:107)




	at org.infinispan.interceptors.InvocationContextInterceptor.handleDefault(InvocationContextInterceptor.java:76)




	at org.infinispan.commands.AbstractVisitor.visitGetKeyValueCommand(AbstractVisitor.java:85)




	at org.infinispan.commands.read.GetKeyValueCommand.acceptVisitor(GetKeyValueCommand.java:40)




	at org.infinispan.interceptors.InterceptorChain.invoke(InterceptorChain.java:336)




	at org.infinispan.cache.impl.CacheImpl.get(CacheImpl.java:411)




	at org.infinispan.cache.impl.CacheImpl.get(CacheImpl.java:403)




	at org.infinispan.cache.impl.AbstractDelegatingCache.get(AbstractDelegatingCache.java:286)




	at org.wildfly.clustering.server.registry.CacheRegistry.getEntry(CacheRegistry.java:128)




	at org.wildfly.clustering.web.infinispan.session.InfinispanRouteLocator.locate(InfinispanRouteLocator.java:58)




	at org.wildfly.clustering.web.undertow.session.DistributableSessionIdentifierCodec.encode(DistributableSessionIdentifierCodec.java:48)




	at org.wildfly.extension.undertow.session.CodecSessionConfig.clearSession(CodecSessionConfig.java:51)




	at io.undertow.servlet.spec.ServletContextImpl$ServletContextSessionConfig.clearSession(ServletContextImpl.java:985)




	at org.wildfly.clustering.web.undertow.session.DistributableSession.invalidate(DistributableSession.java:184)




	at io.undertow.servlet.spec.HttpSessionImpl.invalidate(HttpSessionImpl.java:199)




	at com.jboss.test.StoreSessionFilter.doFilter(StoreSessionFilter.java:58)




	at io.undertow.servlet.core.ManagedFilter.doFilter(ManagedFilter.java:60)




	at io.undertow.servlet.handlers.FilterHandler$FilterChainImpl.doFilter(FilterHandler.java:131)




	at io.undertow.servlet.handlers.FilterHandler.handleRequest(FilterHandler.java:84)




	at io.undertow.servlet.handlers.security.ServletSecurityRoleHandler.handleRequest(ServletSecurityRoleHandler.java:62)




	at io.undertow.jsp.JspFileHandler.handleRequest(JspFileHandler.java:32)




	at io.undertow.servlet.handlers.ServletDispatchingHandler.handleRequest(ServletDispatchingHandler.java:36)




	at org.wildfly.extension.undertow.security.SecurityContextAssociationHandler.handleRequest(SecurityContextAssociationHandler.java:78)




	at io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43)




	at io.undertow.servlet.handlers.security.SSLInformationAssociationHandler.handleRequest(SSLInformationAssociationHandler.java:131)




	at io.undertow.servlet.handlers.security.ServletAuthenticationCallHandler.handleRequest(ServletAuthenticationCallHandler.java:57)




	at io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43)




	at io.undertow.security.handlers.AbstractConfidentialityHandler.handleRequest(AbstractConfidentialityHandler.java:46)




	at io.undertow.servlet.handlers.security.ServletConfidentialityConstraintHandler.handleRequest(ServletConfidentialityConstraintHandler.java:64)




	at io.undertow.security.handlers.AuthenticationMechanismsHandler.handleRequest(AuthenticationMechanismsHandler.java:60)




	at io.undertow.servlet.handlers.security.CachedAuthenticatedSessionHandler.handleRequest(CachedAuthenticatedSessionHandler.java:77)




	at io.undertow.security.handlers.NotificationReceiverHandler.handleRequest(NotificationReceiverHandler.java:50)




	at io.undertow.security.handlers.AbstractSecurityContextAssociationHandler.handleRequest(AbstractSecurityContextAssociationHandler.java:43)




	at io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43)




	at org.wildfly.extension.undertow.security.jacc.JACCContextIdHandler.handleRequest(JACCContextIdHandler.java:61)




	at io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43)




	at io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43)




	at io.undertow.servlet.handlers.ServletInitialHandler.handleFirstRequest(ServletInitialHandler.java:284)




	at io.undertow.servlet.handlers.ServletInitialHandler.dispatchRequest(ServletInitialHandler.java:263)




	at io.undertow.servlet.handlers.ServletInitialHandler.access$000(ServletInitialHandler.java:81)




	at io.undertow.servlet.handlers.ServletInitialHandler$1.handleRequest(ServletInitialHandler.java:174)




	at io.undertow.server.Connectors.executeRootHandler(Connectors.java:202)




	at io.undertow.server.HttpServerExchange$1.run(HttpServerExchange.java:793)




	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)




	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)




	at java.lang.Thread.run(Thread.java:745)









16:00:28,745 ERROR [stderr] (default task-5) {} Should not reach here!!! That means session.invalidate() do NOT throw IllegalStateException






session-invalidate-replication-session.war - same behaviour as session-invalidate-replication-attribute.war as in Wildfly 10.0.0.Final, which throw exception in filter and do NOT throw exception in index.jsp, which is incorrect.

Wildfly 10.1.0.Final-SNAPSHOT:
those 3 cases behaviour identical as Wildfly 10.0.0.Final.</description>
			<version>10.0.0.Final</version>
			<fixedVersion>10.1.0.CR1, 10.1.0.Final</fixedVersion>
			<type>Bug</type>
		</buginformation>
		<fixedFiles>
			<file type="M">org.wildfly.clustering.web.infinispan.session.InfinispanSessionTestCase.java</file>
			<file type="M">org.wildfly.clustering.web.undertow.session.DistributableSessionTestCase.java</file>
			<file type="M">org.wildfly.clustering.web.infinispan.session.SimpleImmutableSession.java</file>
			<file type="M">org.wildfly.clustering.web.session.ImmutableSessionMetaData.java</file>
			<file type="M">org.wildfly.clustering.web.infinispan.session.InfinispanSessionManager.java</file>
			<file type="M">org.wildfly.clustering.web.infinispan.session.InfinispanImmutableSession.java</file>
			<file type="M">org.wildfly.clustering.web.session.ImmutableSession.java</file>
			<file type="M">org.wildfly.clustering.web.infinispan.session.InfinispanSession.java</file>
			<file type="M">org.wildfly.clustering.web.infinispan.session.SimpleSessionMetaData.java</file>
			<file type="M">org.wildfly.clustering.web.infinispan.session.InfinispanSessionFactoryTestCase.java</file>
			<file type="M">org.wildfly.clustering.web.session.Session.java</file>
			<file type="M">org.wildfly.clustering.web.infinispan.session.SessionCreationMetaData.java</file>
			<file type="M">org.wildfly.clustering.web.infinispan.session.SessionMetaDataFactory.java</file>
			<file type="M">org.wildfly.clustering.web.infinispan.session.InfinispanSessionMetaDataFactory.java</file>
			<file type="M">org.wildfly.clustering.web.infinispan.session.SimpleSessionCreationMetaData.java</file>
			<file type="M">org.wildfly.clustering.web.infinispan.session.InfinispanSessionFactory.java</file>
			<file type="M">org.wildfly.clustering.web.undertow.session.DistributableSession.java</file>
			<file type="M">org.wildfly.clustering.web.infinispan.session.MutableSessionCreationMetaData.java</file>
		</fixedFiles>
		<links>
			<link type="Cloners" description="cloned to">4386</link>
		</links>
	</bug>
	<bug id="6566" opendate="2016-04-27 16:26:57" fixdate="2016-05-25 15:41:55" resolution="Done">
		<buginformation>
			<summary>SAR deployer uses wrong MBean class to resolve source Method for property injection</summary>
			<description>If using a &amp;lt;value-factory&amp;gt; or &amp;lt;inject&amp;gt; element with "parameter" attribute in jboss-service.xml to inject a value from one bean to another, a "java.lang.IllegalArgumentException: object is not an instance of declaring class" error is raised during deployment.
jboss-service.xml






&amp;lt;server xmlns="urn:jboss:service:7.0" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="urn:jboss:service:7.0 jboss-service_7_0.xsd"&amp;gt;









    &amp;lt;mbean code="com.test.redhat.mbean.OtherValueFactory" name="test:type=OtherValueFactory"&amp;gt;




        &amp;lt;attribute name="WelcomeString"&amp;gt;Welcome&amp;lt;/attribute&amp;gt;




        &amp;lt;attribute name="CustName"&amp;gt;Other&amp;lt;/attribute&amp;gt;




    &amp;lt;/mbean&amp;gt;









    &amp;lt;mbean code="com.test.redhat.mbean.TestValueFactory" name="test:type=SarTestValueFactory"&amp;gt;




        &amp;lt;depends&amp;gt;test:type=OtherValueFactory&amp;lt;/depends&amp;gt;




        &amp;lt;attribute name="WelcomeString"&amp;gt;Welcome&amp;lt;/attribute&amp;gt;




        &amp;lt;attribute name="CustName"&amp;gt;




            &amp;lt;value-factory bean="test:type=OtherValueFactory" method="getNameOfCustomer"&amp;gt;




                &amp;lt;parameter class="java.lang.String"&amp;gt;Foo&amp;lt;/parameter&amp;gt;




            &amp;lt;/value-factory&amp;gt;




        &amp;lt;/attribute&amp;gt;




    &amp;lt;/mbean&amp;gt;




&amp;lt;/server&amp;gt;






Full error:






16:54:36,505 INFO  [org.jboss.as.server.deployment] (MSC service thread 1-3) WFLYSRV0027: Starting deployment of "test.sar" (runtime-name: "test.sar")




16:54:36,690 WARN  [org.jboss.msc.inject] (MSC service thread 1-2) MSC000100: Unexpected failure to uninject public void com.test.redhat.mbean.TestValueFactory.setCustName(java.lang.String): java.lang.NullPointerException




	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)




	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)




	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)




	at java.lang.reflect.Method.invoke(Method.java:497)




	at org.jboss.msc.value.MethodValue.getValue(MethodValue.java:62)




	at org.jboss.msc.value.CachedValue.getValue(CachedValue.java:54)




	at org.jboss.msc.value.Values.getValues(Values.java:68)




	at org.jboss.msc.value.Values.getValues(Values.java:82)




	at org.jboss.msc.inject.MethodInjector.uninject(MethodInjector.java:119)




	at org.jboss.msc.service.ServiceControllerImpl$StartTask.performInjections(ServiceControllerImpl.java:1923)




	at org.jboss.msc.service.ServiceControllerImpl$StartTask.run(ServiceControllerImpl.java:1876)




	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)




	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)




	at java.lang.Thread.run(Thread.java:745)









16:54:36,691 ERROR [org.jboss.msc.service.fail] (MSC service thread 1-2) MSC000001: Failed to start service jboss.mbean.service.test:type=SarTestValueFactory.create: org.jboss.msc.service.StartException in service jboss.mbean.service.test:type=SarTestValueFactory.create: Failed to start service




	at org.jboss.msc.service.ServiceControllerImpl$StartTask.run(ServiceControllerImpl.java:1904)




	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)




	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)




	at java.lang.Thread.run(Thread.java:745)




Caused by: org.jboss.msc.inject.InjectionException: Injection failed




	at org.jboss.msc.inject.MethodInjector.inject(MethodInjector.java:102)




	at org.jboss.msc.service.ServiceControllerImpl.doInject(ServiceControllerImpl.java:1672)




	at org.jboss.msc.service.ServiceControllerImpl.access$2000(ServiceControllerImpl.java:51)




	at org.jboss.msc.service.ServiceControllerImpl$StartTask.performInjections(ServiceControllerImpl.java:1917)




	at org.jboss.msc.service.ServiceControllerImpl$StartTask.run(ServiceControllerImpl.java:1876)




	... 3 more




Caused by: java.lang.IllegalArgumentException: object is not an instance of declaring class




	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)




	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)




	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)




	at java.lang.reflect.Method.invoke(Method.java:497)




	at org.jboss.msc.value.MethodValue.getValue(MethodValue.java:62)




	at org.jboss.msc.value.CachedValue.getValue(CachedValue.java:54)




	at org.jboss.msc.value.Values.getValues(Values.java:68)




	at org.jboss.msc.value.Values.getValues(Values.java:82)




	at org.jboss.msc.inject.MethodInjector.inject(MethodInjector.java:92)




	... 7 more









16:54:36,697 INFO  [com.test.redhat.mbean.OtherValueFactory] (ServerService Thread Pool -- 58)  &amp;gt;&amp;gt; TestValuFactory.start() invoked




16:54:36,698 INFO  [stdout] (ServerService Thread Pool -- 58) TestValuFactory.start() invoked




16:54:36,776 ERROR [org.jboss.as.controller.management-operation] (DeploymentScanner-threads - 1) WFLYCTL0013: Operation ("deploy") failed - address: ([("deployment" =&amp;gt; "test.sar")]) - failure description: {"WFLYCTL0080: Failed services" =&amp;gt; {"jboss.mbean.service.test:type=SarTestValueFactory.create" =&amp;gt; "org.jboss.msc.service.StartException in service jboss.mbean.service.test:type=SarTestValueFactory.create: Failed to start service




    Caused by: org.jboss.msc.inject.InjectionException: Injection failed




    Caused by: java.lang.IllegalArgumentException: object is not an instance of declaring class"}}






</description>
			<version>10.0.0.Final</version>
			<fixedVersion>10.1.0.CR1, 10.1.0.Final</fixedVersion>
			<type>Bug</type>
		</buginformation>
		<fixedFiles>
			<file type="M">org.jboss.as.service.ReflectionUtils.java</file>
			<file type="M">org.jboss.as.test.integration.sar.injection.pojos.AbstractService.java</file>
			<file type="M">org.jboss.as.test.integration.sar.injection.pojos.POJOServiceMBean.java</file>
			<file type="M">org.jboss.as.test.integration.sar.injection.pojos.AbstractSetterMethodsA.java</file>
			<file type="M">org.jboss.as.service.ParsedServiceDeploymentProcessor.java</file>
			<file type="M">org.jboss.as.test.integration.sar.injection.SarInjectionTestCase.java</file>
		</fixedFiles>
		<links>
			<link type="Cloners" description="cloned from">4389</link>
		</links>
	</bug>
	<bug id="6552" opendate="2016-04-25 08:57:38" fixdate="2016-06-02 03:42:17" resolution="Done">
		<buginformation>
			<summary>NPE when absolute ordering is used and a web fragment is missing</summary>
			<description>





PARSE: WFLYSRV0153: Failed to process phase PARSE of deployment "****.war"




	at org.jboss.as.server.deployment.DeploymentUnitPhaseService.start(DeploymentUnitPhaseService.java:163) [wildfly-server-1.0.2.Final.jar:1.0.2.Final]




	at org.jboss.msc.service.ServiceControllerImpl$StartTask.startService(ServiceControllerImpl.java:1948) [jboss-msc-1.2.6.Final.jar:1.2.6.Final]




	at org.jboss.msc.service.ServiceControllerImpl$StartTask.run(ServiceControllerImpl.java:1881) [jboss-msc-1.2.6.Final.jar:1.2.6.Final]




	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142) [rt.jar:1.8.0_66]




	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617) [rt.jar:1.8.0_66]




	at java.lang.Thread.run(Thread.java:745) [rt.jar:1.8.0_66]




Caused by: java.lang.IndexOutOfBoundsException: Index: 4, Size: 2




	at java.util.LinkedList.checkPositionIndex(LinkedList.java:560) [rt.jar:1.8.0_66]




	at java.util.LinkedList.addAll(LinkedList.java:406) [rt.jar:1.8.0_66]




	at org.wildfly.extension.undertow.deployment.WarMetaDataProcessor.deploy(WarMetaDataProcessor.java:206)




	at org.jboss.as.server.deployment.DeploymentUnitPhaseService.start(DeploymentUnitPhaseService.java:156) [wildfly-server-1.0.2.Final.jar:1.0.2.Final]




	... 5 more





</description>
			<version>10.0.0.Final</version>
			<fixedVersion>10.1.0.CR1, 10.1.0.Final</fixedVersion>
			<type>Bug</type>
		</buginformation>
		<fixedFiles>
			<file type="M">org.wildfly.extension.undertow.deployment.WarMetaDataProcessor.java</file>
		</fixedFiles>
		<links>
			<link type="Sequence" description="follows up on">4247</link>
		</links>
	</bug>
	<bug id="6600" opendate="2016-05-08 20:11:40" fixdate="2016-06-02 04:26:45" resolution="Done">
		<buginformation>
			<summary>NPE thrown during EAR deployment</summary>
			<description>We deploy an EAR file to a Wildfly domain with two slaves. On one slave, we&amp;amp;apos;ll frequently see this exception:






[Server:main-server] 2016-05-08 16:06:13+1000 INFO [[org.jboss.as.server]] [[ServerService Thread Pool -- 359]] WFLYSRV0016: Replaced deployment "services.war" with deployment "services.war"




[Server:main-server] 2016-05-09 06:05:08+1000 ERROR [[org.jboss.as.controller.management-operation]] [[ServerService Thread Pool -- 384]] WFLYCTL0013: Operation ("read-attribute") failed - address: ([




[Server:main-server]     ("deployment" =&amp;gt; "OnlineSystemsApplications.ear"),




[Server:main-server]     ("subdeployment" =&amp;gt; "systemcheck.war"),




[Server:main-server]     ("subsystem" =&amp;gt; "undertow"),




[Server:main-server]     ("servlet" =&amp;gt; "javax.ws.rs.core.Application")




[Server:main-server] ]): java.lang.NullPointerException




[Server:main-server]    at org.wildfly.extension.undertow.DeploymentServletDefinition$AbstractMetricsHandler.execute(DeploymentServletDefinition.java:125)




[Server:main-server]    at org.jboss.as.controller.operations.global.ReadAttributeHandler.doExecuteInternal(ReadAttributeHandler.java:174)




[Server:main-server]    at org.jboss.as.controller.operations.global.ReadAttributeHandler.doExecute(ReadAttributeHandler.java:137)




[Server:main-server]    at org.jboss.as.controller.operations.global.GlobalOperationHandlers$AbstractMultiTargetHandler.execute(GlobalOperationHandlers.java:263)




[Server:main-server]    at org.jboss.as.controller.operations.global.GlobalOperationHandlers$AvailableResponseWrapper.execute(GlobalOperationHandlers.java:933)




[Server:main-server]    at org.jboss.as.controller.AbstractOperationContext.executeStep(AbstractOperationContext.java:890)




[Server:main-server]    at org.jboss.as.controller.AbstractOperationContext.processStages(AbstractOperationContext.java:659)




[Server:main-server]    at org.jboss.as.controller.AbstractOperationContext.executeOperation(AbstractOperationContext.java:370)




[Server:main-server]    at org.jboss.as.controller.OperationContextImpl.executeOperation(OperationContextImpl.java:1344)




[Server:main-server]    at org.jboss.as.controller.ModelControllerImpl.internalExecute(ModelControllerImpl.java:392)




[Server:main-server]    at org.jboss.as.controller.ModelControllerImpl.execute(ModelControllerImpl.java:217)




[Server:main-server]    at org.jboss.as.controller.remote.TransactionalProtocolOperationHandler.internalExecute(TransactionalProtocolOperationHandler.java:247)




[Server:main-server]    at org.jboss.as.controller.remote.TransactionalProtocolOperationHandler$ExecuteRequestHandler.doExecute(TransactionalProtocolOperationHandler.java:185)




[Server:main-server]    at org.jboss.as.controller.remote.TransactionalProtocolOperationHandler$ExecuteRequestHandler$1.run(TransactionalProtocolOperationHandler.java:138)




[Server:main-server]    at org.jboss.as.controller.remote.TransactionalProtocolOperationHandler$ExecuteRequestHandler$1.run(TransactionalProtocolOperationHandler.java:134)




[Server:main-server]    at java.security.AccessController.doPrivileged(Native Method)




[Server:main-server]    at javax.security.auth.Subject.doAs(Subject.java:360)




[Server:main-server]    at org.jboss.as.controller.AccessAuditContext.doAs(AccessAuditContext.java:81)




[Server:main-server]    at org.jboss.as.controller.remote.TransactionalProtocolOperationHandler$ExecuteRequestHandler$2$1.run(TransactionalProtocolOperationHandler.java:157)




[Server:main-server]    at org.jboss.as.controller.remote.TransactionalProtocolOperationHandler$ExecuteRequestHandler$2$1.run(TransactionalProtocolOperationHandler.java:153)




[Server:main-server]    at java.security.AccessController.doPrivileged(Native Method)




[Server:main-server]    at org.jboss.as.controller.remote.TransactionalProtocolOperationHandler$ExecuteRequestHandler$2.execute(TransactionalProtocolOperationHandler.java:153)




[Server:main-server]    at org.jboss.as.protocol.mgmt.AbstractMessageHandler$ManagementRequestContextImpl$1.doExecute(AbstractMessageHandler.java:363)




[Server:main-server]    at org.jboss.as.protocol.mgmt.AbstractMessageHandler$AsyncTaskRunner.run(AbstractMessageHandler.java:472)




[Server:main-server]    at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)




[Server:main-server]    at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)




[Server:main-server]    at java.lang.Thread.run(Thread.java:745)




[Server:main-server]    at org.jboss.threads.JBossThread.run(JBossThread.java:320)






At the same time we&amp;amp;apos;ll see this on the second node






[Server:main-server] 2016-05-06 16:17:59+1000 ERROR [[org.jboss.as.controller.management-operation]] [[ServerService Thread Pool -- 276]] WFLYCTL0190: Step handler org.jboss.as.server.deployment.DeploymentHandlerUtil$4@14bd8919 for operation {"operation" =&amp;gt; "full-replace-deployment","name" =&amp;gt; "OnlineSystemsApplications.ear","enabled" =&amp;gt; true,"content" =&amp;gt; [{"hash" =&amp;gt; bytes { 0x73, 0xec, 0x83, 0x82, 0xb6, 0x67, 0x2d, 0x92, 0x36, 0x7a, 0xb7, 0x7c, 0x7a, 0x4e, 0xc4, 0x93, 0x00, 0xc1, 0xf3, 0xc3 }}],"operation-headers" =&amp;gt; {"access-mechanism" =&amp;gt; "NATIVE","domain-uuid" =&amp;gt; "76dbe681-46d0-4f2e-a4c7-82f615919ff0"},"address" =&amp;gt; [],"runtime-name" =&amp;gt; undefined,"persistent" =&amp;gt; true,"owner" =&amp;gt; undefined} at address [] failed handling operation rollback -- java.util.NoSuchElementException: No child &amp;amp;apos;name&amp;amp;apos; exists: java.util.NoSuchElementException: No child &amp;amp;apos;name&amp;amp;apos; exists




[Server:main-server]    at org.jboss.dmr.ModelValue.requireChild(ModelValue.java:377)




[Server:main-server]    at org.jboss.dmr.ObjectModelValue.requireChild(ObjectModelValue.java:299)




[Server:main-server]    at org.jboss.dmr.ModelNode.require(ModelNode.java:870)




[Server:main-server]    at org.jboss.as.server.deployment.DeploymentHandlerUtil$4$1.handleResult(DeploymentHandlerUtil.java:277)




[Server:main-server]    at org.jboss.as.controller.AbstractOperationContext$Step.invokeResultHandler(AbstractOperationContext.java:1384)




[Server:main-server]    at org.jboss.as.controller.AbstractOperationContext$Step.handleResult(AbstractOperationContext.java:1366)




[Server:main-server]    at org.jboss.as.controller.AbstractOperationContext$Step.finalizeInternal(AbstractOperationContext.java:1328)




[Server:main-server]    at org.jboss.as.controller.AbstractOperationContext$Step.finalizeStep(AbstractOperationContext.java:1311)




[Server:main-server]    at org.jboss.as.controller.AbstractOperationContext$Step.access$300(AbstractOperationContext.java:1185)




[Server:main-server]    at org.jboss.as.controller.AbstractOperationContext.executeResultHandlerPhase(AbstractOperationContext.java:767)




[Server:main-server]    at org.jboss.as.controller.AbstractOperationContext.executeDoneStage(AbstractOperationContext.java:753)




[Server:main-server]    at org.jboss.as.controller.AbstractOperationContext.processStages(AbstractOperationContext.java:680)




[Server:main-server]    at org.jboss.as.controller.AbstractOperationContext.executeOperation(AbstractOperationContext.java:370)




[Server:main-server]    at org.jboss.as.controller.OperationContextImpl.executeOperation(OperationContextImpl.java:1344)




[Server:main-server]    at org.jboss.as.controller.ModelControllerImpl.internalExecute(ModelControllerImpl.java:392)




[Server:main-server]    at org.jboss.as.controller.ModelControllerImpl.execute(ModelControllerImpl.java:217)




[Server:main-server]    at org.jboss.as.controller.remote.TransactionalProtocolOperationHandler.internalExecute(TransactionalProtocolOperationHandler.java:247)




[Server:main-server]    at org.jboss.as.controller.remote.TransactionalProtocolOperationHandler$ExecuteRequestHandler.doExecute(TransactionalProtocolOperationHandler.java:185)




[Server:main-server]    at org.jboss.as.controller.remote.TransactionalProtocolOperationHandler$ExecuteRequestHandler$1.run(TransactionalProtocolOperationHandler.java:138)




[Server:main-server]    at org.jboss.as.controller.remote.TransactionalProtocolOperationHandler$ExecuteRequestHandler$1.run(TransactionalProtocolOperationHandler.java:134)




[Server:main-server]    at java.security.AccessController.doPrivileged(Native Method)




[Server:main-server]    at javax.security.auth.Subject.doAs(Subject.java:360)




[Server:main-server]    at org.jboss.as.controller.AccessAuditContext.doAs(AccessAuditContext.java:81)




[Server:main-server]    at org.jboss.as.controller.remote.TransactionalProtocolOperationHandler$ExecuteRequestHandler$2$1.run(TransactionalProtocolOperationHandler.java:157)




[Server:main-server]    at org.jboss.as.controller.remote.TransactionalProtocolOperationHandler$ExecuteRequestHandler$2$1.run(TransactionalProtocolOperationHandler.java:153)




[Server:main-server]    at java.security.AccessController.doPrivileged(Native Method)




[Server:main-server]    at org.jboss.as.controller.remote.TransactionalProtocolOperationHandler$ExecuteRequestHandler$2.execute(TransactionalProtocolOperationHandler.java:153)




[Server:main-server]    at org.jboss.as.protocol.mgmt.AbstractMessageHandler$ManagementRequestContextImpl$1.doExecute(AbstractMessageHandler.java:363)




[Server:main-server]    at org.jboss.as.protocol.mgmt.AbstractMessageHandler$AsyncTaskRunner.run(AbstractMessageHandler.java:472)




[Server:main-server]    at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)




[Server:main-server]    at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)




[Server:main-server]    at java.lang.Thread.run(Thread.java:745)




[Server:main-server]    at org.jboss.threads.JBossThread.run(JBossThread.java:320)






The WAR file in question doesn&amp;amp;apos;t actually use JAX-RS, so I&amp;amp;apos;m not sure why javax.ws.rs.core.Application would be causing any issues.</description>
			<version>10.0.0.Final</version>
			<fixedVersion>10.1.0.CR1, 10.1.0.Final</fixedVersion>
			<type>Bug</type>
		</buginformation>
		<fixedFiles>
			<file type="M">org.wildfly.extension.undertow.DeploymentServletDefinition.java</file>
		</fixedFiles>
	</bug>
	<bug id="5640" opendate="2015-11-06 11:02:22" fixdate="2016-06-03 10:28:12" resolution="Done">
		<buginformation>
			<summary>RemoteStatelessFailoverTestCase fails with "No EJB receiver available for handling"</summary>
			<description>There are two tests failing in exteded tests in clusteringejb2 package  in AS TS.
org.jboss.as.test.clustering.extended.ejb2.stateless.RemoteStatelessFailoverTestCase(SYNC-tcp-extended)#testLoadbalanceSpecifiedByDescriptor
org.jboss.as.test.clustering.extended.ejb2.stateless.RemoteStatelessFailoverTestCase(SYNC-tcp-extended)#testLoadbalanceAnnotatedBean
both with exception






Error Message









EJBCLIENT000025: No EJB receiver available for handling [appName:, moduleName:stateless-ejb2-failover-test, distinctName:] combination for invocation context org.jboss.ejb.client.EJBClientInvocationContext@54acff7d









Stacktrace









java.lang.IllegalStateException: EJBCLIENT000025: No EJB receiver available for handling [appName:, moduleName:stateless-ejb2-failover-test, distinctName:] combination for invocation context org.jboss.ejb.client.EJBClientInvocationContext@54acff7d




	at org.jboss.ejb.client.EJBClientContext.requireEJBReceiver(EJBClientContext.java:798)




	at org.jboss.ejb.client.ReceiverInterceptor.handleInvocation(ReceiverInterceptor.java:112)




	at org.jboss.ejb.client.EJBClientInvocationContext.sendRequest(EJBClientInvocationContext.java:186)




	at org.jboss.ejb.client.EJBInvocationHandler.sendRequestWithPossibleRetries(EJBInvocationHandler.java:255)




	at org.jboss.ejb.client.EJBInvocationHandler.doInvoke(EJBInvocationHandler.java:200)




	at org.jboss.ejb.client.EJBInvocationHandler.doInvoke(EJBInvocationHandler.java:183)




	at org.jboss.ejb.client.EJBInvocationHandler.invoke(EJBInvocationHandler.java:146)




	at com.sun.proxy.$Proxy28.create(Unknown Source)




	at org.jboss.as.test.clustering.extended.ejb2.stateless.RemoteStatelessFailoverTestCase.loadbalance(RemoteStatelessFailoverTestCase.java:262)




	at org.jboss.as.test.clustering.extended.ejb2.stateless.RemoteStatelessFailoverTestCase.testLoadbalanceAnnotatedBean(RemoteStatelessFailoverTestCase.java:224)










</description>
			<version>10.0.0.CR4</version>
			<fixedVersion>10.1.0.CR1, 10.1.0.Final</fixedVersion>
			<type>Bug</type>
		</buginformation>
		<fixedFiles>
			<file type="M">org.jboss.as.test.clustering.extended.ejb2.stateless.RemoteStatelessFailoverTestCase.java</file>
		</fixedFiles>
		<links>
			<link type="Cloners" description="cloned from">1772</link>
		</links>
	</bug>
	<bug id="6504" opendate="2016-04-08 07:58:36" fixdate="2016-06-06 07:02:06" resolution="Done">
		<buginformation>
			<summary>[Migration operation] wrong resource address in migration warning</summary>
			<description>Say I take EAP 6.4 default standalone-full.xml and add a discovery group like this:






&amp;lt;subsystem xmlns="urn:jboss:domain:messaging:1.4"&amp;gt;




    &amp;lt;hornetq-server&amp;gt;




        ...




        &amp;lt;discovery-groups&amp;gt;




             &amp;lt;discovery-group name="my-discovery-group"&amp;gt;




                &amp;lt;group-address&amp;gt;224.0.1.105&amp;lt;/group-address&amp;gt;




                &amp;lt;group-port&amp;gt;56789&amp;lt;/group-port&amp;gt;




             &amp;lt;/discovery-group&amp;gt;




        &amp;lt;/discovery-groups&amp;gt;




        ...




    &amp;lt;/hornetq-server&amp;gt;




&amp;lt;/subsystem&amp;gt;






This is the only change I make to the configuration file. Then I try to migrate the messaging subsystem, expecting a migration warning that I should use the socket-binding attribute.
The warning appears indeed:






[standalone@localhost:9999 /] /subsystem=messaging:migrate




{




    "outcome" =&amp;gt; "success",




    "result" =&amp;gt; {"migration-warnings" =&amp;gt; [




        "WFLYMSG0084: Can not migrate attribute group-address from resource [




    (\"subsystem\" =&amp;gt; \"messaging-activemq\"),




    (\"server\" =&amp;gt; \"default\"),




    (\"discovery-group\" =&amp;gt; \"my-discovery-group\")




]. Use instead the socket-binding attribute to configure this discovery-group.",




        "WFLYMSG0084: Can not migrate attribute group-port from resource [




    (\"subsystem\" =&amp;gt; \"messaging-activemq\"),




    (\"server\" =&amp;gt; \"default\"),




    (\"discovery-group\" =&amp;gt; \"my-discovery-group\")




]. Use instead the socket-binding attribute to configure this discovery-group."




    ]}




}






But the resource addresses in the warning are wrong. They refer to the messaging-activemq subsystem, which clearly isn&amp;amp;apos;t what I&amp;amp;apos;m migrating from, it&amp;amp;apos;s what I&amp;amp;apos;m migrating to.
I understand from the code that the DMR structure of the old subsystem model is very close to the structure of the new subsystem model, which is why these warning are produced on an already translated structure, but it generates wrong warnings.
CC Miroslav Novak.</description>
			<version>10.0.0.Final</version>
			<fixedVersion>10.1.0.CR1, 10.1.0.Final</fixedVersion>
			<type>Bug</type>
		</buginformation>
		<fixedFiles>
			<file type="M">org.jboss.as.messaging.logging.MessagingLogger.java</file>
			<file type="M">org.jboss.as.messaging.MigrateOperation.java</file>
		</fixedFiles>
		<links>
			<link type="Cloners" description="cloned from">4116</link>
		</links>
	</bug>
	<bug id="6652" opendate="2016-05-25 15:51:59" fixdate="2016-06-06 07:02:59" resolution="Done">
		<buginformation>
			<summary>Warning when stopping a server with a deployed MDB listening to a topic</summary>
			<description>How to reproduce:

start WildFly with ActiveMQ security for in-vm (override-in-vm-security=false) and a pooled-connection-factory with user credentials (see attached configuration)
deploy the regular helloworld-mdb quickstart
stop WildFly (with Ctl+C)

The server logs a warning:






17:48:54,217 WARN  [org.apache.activemq.artemis.core.server] (Thread-6 (ActiveMQ-remoting-threads-ActiveMQServerImpl::serverUUID=1c98f514-2290-11e6-a581-c1ccabba71e3-1850673655-879332228)) Sending unexpected exception to the client: java.lang.IllegalArgumentException: No PolicyContextHandler for key=javax.security.auth.Subject.container




        at javax.security.jacc.PolicyContext.getContext(PolicyContext.java:96)




        at org.jboss.security.plugins.SubjectActions$GetSubjectAction.run(SubjectActions.java:90)




        at org.jboss.security.plugins.SubjectActions$GetSubjectAction.run(SubjectActions.java:82)




        at java.security.AccessController.doPrivileged(Native Method)




        at org.jboss.security.plugins.SubjectActions.getActiveSubject(SubjectActions.java:316)




        at org.jboss.security.plugins.JBossAuthorizationManager.getCurrentRoles(JBossAuthorizationManager.java:331)




        at org.jboss.security.plugins.JBossAuthorizationManager.doesUserHaveRole(JBossAuthorizationManager.java:148)




        at org.wildfly.extension.messaging.activemq.WildFlySecurityManager$1.run(WildFlySecurityManager.java:105)




        at org.wildfly.extension.messaging.activemq.WildFlySecurityManager$1.run(WildFlySecurityManager.java:78)




        at java.security.AccessController.doPrivileged(Native Method)




        at org.wildfly.extension.messaging.activemq.WildFlySecurityManager.validateUserAndRole(WildFlySecurityManager.java:78)




        at org.apache.activemq.artemis.core.security.impl.SecurityStoreImpl.check(SecurityStoreImpl.java:162)




        at org.apache.activemq.artemis.core.server.impl.ActiveMQServerImpl.destroyQueue(ActiveMQServerImpl.java:1272)




        at org.apache.activemq.artemis.core.server.impl.ActiveMQServerImpl.destroyQueue(ActiveMQServerImpl.java:1243)




        at org.apache.activemq.artemis.core.server.impl.ServerSessionImpl.deleteQueue(ServerSessionImpl.java:598)




        at org.apache.activemq.artemis.core.protocol.core.ServerSessionPacketHandler.handlePacket(ServerSessionPacketHandler.java:244)




        at org.apache.activemq.artemis.core.protocol.core.impl.ChannelImpl.handlePacket(ChannelImpl.java:626)




        at org.apache.activemq.artemis.core.protocol.core.impl.RemotingConnectionImpl.doBufferReceived(RemotingConnectionImpl.java:349)




        at org.apache.activemq.artemis.core.protocol.core.impl.RemotingConnectionImpl.bufferReceived(RemotingConnectionImpl.java:331)




        at org.apache.activemq.artemis.core.remoting.server.impl.RemotingServiceImpl$DelegatingBufferHandler.bufferReceived(RemotingServiceImpl.java:616)




        at org.apache.activemq.artemis.core.remoting.impl.invm.InVMConnection$1.run(InVMConnection.java:171)




        at org.apache.activemq.artemis.utils.OrderedExecutorFactory$OrderedExecutor$ExecutorTask.run(OrderedExecutorFactory.java:100)




        at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)




        at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)




        at java.lang.Thread.run(Thread.java:745)






When the server is stopped, ActiveMQ RA will attempt to destroy the core queue corresponding to the MDB listening on the JMS topic.
On the broker side, the exception occurs because there is no dependency between the pooled-connection-factory&amp;amp;apos;s service and the boostrap security service that handles the javax.security.auth.Subject.container context.</description>
			<version>10.0.0.Final</version>
			<fixedVersion>10.1.0.CR1, 10.1.0.Final</fixedVersion>
			<type>Bug</type>
		</buginformation>
		<fixedFiles>
			<file type="M">org.wildfly.extension.messaging.activemq.jms.PooledConnectionFactoryService.java</file>
		</fixedFiles>
	</bug>
	<bug id="6576" opendate="2016-04-29 15:47:04" fixdate="2016-06-06 09:30:29" resolution="Done">
		<buginformation>
			<summary>mod_cluster advertise="false" does not disable advertise if there are no proxies configured</summary>
			<description>





17:05:56,822 INFO  [org.jboss.modcluster] (ServerService Thread Pool -- 64) MODCLUSTER000001: Initializing mod_cluster version 1.3.2.Final




17:05:56,833 INFO  [org.jboss.modcluster] (ServerService Thread Pool -- 64) MODCLUSTER000032: Listening to proxy advertisements on /224.0.1.105:23364












[standalone@localhost:9990 /] /subsystem=modcluster/mod-cluster-config=configuration:read-resource




{




    "outcome" =&amp;gt; "success",




    "result" =&amp;gt; {




        "advertise" =&amp;gt; false,




        "advertise-security-key" =&amp;gt; undefined,




        "advertise-socket" =&amp;gt; undefined,





</description>
			<version>10.0.0.Final</version>
			<fixedVersion>10.1.0.CR1, 10.1.0.Final</fixedVersion>
			<type>Bug</type>
		</buginformation>
		<fixedFiles>
			<file type="M">org.wildfly.extension.mod_cluster.ContainerEventHandlerService.java</file>
		</fixedFiles>
	</bug>
	<bug id="6674" opendate="2016-06-06 14:40:44" fixdate="2016-06-06 22:26:43" resolution="Done">
		<buginformation>
			<summary>Infinispan subsystem cache configuration is lost when cache is created</summary>
			<description>Infinispan subsystem configuration is lost when cache is created.
If it is helpful, I made a simple test project to validate the problem. It is prepared to run with Wildfly 8 and 10.
https://github.com/arielcarrera/test-infinispan-wildfly10
After startup and created the cache, it is not configured with the specified settings in Wildfly&amp;amp;apos;s Infinispan Subsystem. 
This can be verified by monitoring the jboss.infinispan nodes with JConsole retrieving the cache settings or running my simple test project.
Entities never expire/invalidate. The lifespan/max-entries are set to -1.
I found an old issue (https://issues.jboss.org/browse/WFLY-3858) about wildfly 8 but this problem talks about a security config problem and is a little different. It is a problem about wildfly 10 configuration and it is working OK on wildfly 8.2.</description>
			<version>10.0.0.Final</version>
			<fixedVersion>10.1.0.CR1, 10.1.0.Final</fixedVersion>
			<type>Bug</type>
		</buginformation>
		<fixedFiles>
			<file type="M">org.jboss.as.clustering.infinispan.subsystem.ComponentBuilder.java</file>
		</fixedFiles>
	</bug>
	<bug id="6502" opendate="2016-04-07 21:24:35" fixdate="2016-06-06 22:27:47" resolution="Done">
		<buginformation>
			<summary>NPE during Session.requestDone(...) when using &lt;transaction mode="NONE"/&gt;</summary>
			<description></description>
			<version>10.0.0.Final</version>
			<fixedVersion>10.1.0.CR1, 10.1.0.Final</fixedVersion>
			<type>Bug</type>
		</buginformation>
		<fixedFiles>
			<file type="M">org.wildfly.clustering.ee.infinispan.InfinispanBatcher.java</file>
		</fixedFiles>
		<links>
			<link type="Cloners" description="cloned to">4128</link>
		</links>
	</bug>
	<bug id="6522" opendate="2016-04-14 19:16:12" fixdate="2016-06-06 22:27:55" resolution="Done">
		<buginformation>
			<summary>Mutable session variables do not replicate correctly using non-tx session cache</summary>
			<description>Currently, mutable session attributes require a transactional cache configuration in order to replicate properly.  To support non-tx caches, we can record which mutable session attributes were accessed on a given session and re-set them at the end of the request.</description>
			<version>10.0.0.Final</version>
			<fixedVersion>10.1.0.CR1, 10.1.0.Final</fixedVersion>
			<type>Bug</type>
		</buginformation>
		<fixedFiles>
			<file type="M">org.wildfly.clustering.web.infinispan.session.InfinispanSessionTestCase.java</file>
			<file type="M">org.jboss.as.test.clustering.cluster.web.ReplicationForNegotiationAuthenticatorTestCase.java</file>
			<file type="M">org.jboss.as.test.clustering.cluster.web.context.InvalidateConversationTestCase.java</file>
			<file type="M">org.wildfly.clustering.web.infinispan.session.fine.FineSessionAttributesFactory.java</file>
			<file type="D">org.jboss.as.test.clustering.cluster.web.ClusteredWebFailoverAbstractCase.java</file>
			<file type="M">org.jboss.as.test.clustering.cluster.web.CoarseWebFailoverTestCase.java</file>
			<file type="M">org.jboss.as.test.clustering.cluster.session.persistence.SessionClusterDbPersistenceTestCase.java</file>
			<file type="M">org.wildfly.clustering.web.infinispan.session.coarse.CoarseSessionAttributesFactory.java</file>
			<file type="M">org.jboss.as.test.clustering.cluster.web.expiration.SessionExpirationTestCase.java</file>
			<file type="M">org.wildfly.clustering.web.infinispan.session.InfinispanSessionFactoryTestCase.java</file>
			<file type="M">org.jboss.as.test.integration.domain.mixed.eap620.DomainAdjuster620.java</file>
			<file type="M">org.jboss.as.test.clustering.cluster.jsf.JSFFailoverTestCase.java</file>
			<file type="M">org.jboss.as.test.clustering.cluster.web.async.AsyncServletTestCase.java</file>
			<file type="D">org.jboss.as.test.clustering.cluster.web.ClusteredWebSimpleTestCase.java</file>
			<file type="M">org.wildfly.clustering.web.infinispan.session.InfinispanSessionFactory.java</file>
			<file type="M">org.wildfly.clustering.web.infinispan.session.coarse.CoarseSessionAttributes.java</file>
			<file type="M">org.wildfly.clustering.web.infinispan.session.InfinispanSession.java</file>
			<file type="M">org.wildfly.clustering.ee.infinispan.CacheEntryMutator.java</file>
			<file type="D">org.jboss.as.test.clustering.cluster.web.GranularWebFailoverTestCase.java</file>
			<file type="M">org.wildfly.clustering.web.infinispan.session.SessionAttributesFactory.java</file>
			<file type="M">org.wildfly.clustering.web.infinispan.session.fine.FineSessionAttributes.java</file>
			<file type="M">org.jboss.as.test.clustering.cluster.web.passivation.SessionPassivationTestCase.java</file>
		</fixedFiles>
		<links>
			<link type="Cloners" description="cloned to">4391</link>
		</links>
	</bug>
	<bug id="6591" opendate="2016-05-05 14:58:48" fixdate="2016-06-06 22:28:04" resolution="Done">
		<buginformation>
			<summary>Expired/invalidated session meta-data entries not removed when using optimistic locking or READ_COMMITTED isolation</summary>
			<description>When using optimistic locking on the web cache, data from expired sessions is not removed from the web cache by the org.wildfly.clustering.web.infinispan.session.SessionExpirationScheduler and leaks forever.
Session seems to be invalidated correctly and isn&amp;amp;apos;t accessible anymore.
After tracing the code, org.wildfly.clustering.web.infinispan.session.InfinispanSessionMetaDataFactory.remove() doesn&amp;amp;apos;t remove the metadata entries when "this.properties.isLockOnWrite()" returns false (which is always the case for optimistic locking). Then in org.wildfly.clustering.web.infinispan.session.InfinispanSessionFactory.remove(), the call to attributesFactory.remove(id) also gets skipped.
We&amp;amp;apos;ve tried to adjust the code of org.wildfly.clustering.web.infinispan.session.InfinispanSessionMetaDataFactory.remove() to the following:






    private boolean remove(String id, Cache&amp;lt;SessionCreationMetaDataKey, SessionCreationMetaDataEntry&amp;lt;L&amp;gt;&amp;gt; creationMetaDataCache) {




        SessionCreationMetaDataKey key = new SessionCreationMetaDataKey(id);




        if (this.properties.isLockOnWrite()) {




            if (creationMetaDataCache.getAdvancedCache().withFlags(Flag.ZERO_LOCK_ACQUISITION_TIMEOUT, Flag.FAIL_SILENTLY).lock(key)) {




                creationMetaDataCache.getAdvancedCache().withFlags(Flag.IGNORE_RETURN_VALUES).remove(key);




                this.accessMetaDataCache.getAdvancedCache().withFlags(Flag.IGNORE_RETURN_VALUES).remove(new SessionAccessMetaDataKey(id));




                return true;




            }




            return false;




        } else {




            creationMetaDataCache.getAdvancedCache().withFlags(Flag.IGNORE_RETURN_VALUES).remove(key);




            this.accessMetaDataCache.getAdvancedCache().withFlags(Flag.IGNORE_RETURN_VALUES).remove(new SessionAccessMetaDataKey(id));




            return true;




        }




    }






With that change, the memory leaks disappears.</description>
			<version>10.0.0.Final</version>
			<fixedVersion>10.1.0.CR1, 10.1.0.Final</fixedVersion>
			<type>Bug</type>
		</buginformation>
		<fixedFiles>
			<file type="M">org.wildfly.clustering.web.infinispan.session.InfinispanSessionMetaDataFactory.java</file>
		</fixedFiles>
		<links>
			<link type="Cloners" description="cloned to">4548</link>
		</links>
	</bug>
	<bug id="6316" opendate="2016-03-03 00:04:31" fixdate="2016-06-09 13:33:01" resolution="Done">
		<buginformation>
			<summary>Deploying @Stateless EJB causes default ejb cache to start unnecessarily.</summary>
			<description>This cache isn&amp;amp;apos;t used for anything.</description>
			<version>10.0.0.Final</version>
			<fixedVersion>10.1.0.CR1, 10.1.0.Final</fixedVersion>
			<type>Bug</type>
		</buginformation>
		<fixedFiles>
			<file type="M">org.jboss.as.ejb3.component.stateless.StatelessComponentCreateServiceFactory.java</file>
		</fixedFiles>
		<links>
			<link type="Cloners" description="cloned to">4928</link>
		</links>
	</bug>
	<bug id="6152" opendate="2016-02-09 16:44:24" fixdate="2016-06-09 20:56:03" resolution="Done">
		<buginformation>
			<summary>EJB timer scheduler log an Exception for an already canceled timer</summary>
			<description>If a timer is canceled inside of the @timeout method the scheduler will log an ERROR if the timer duration is longer than the intervall and an overlapping execution should be fired.
This is due to internal validatons.
This will not happen if the timer is canceled by an external process, here the scheduler is removed.
The log message is like this:
ERROR [org.jboss.as.ejb3] (EJB default - 3) WFLYEJB0164: Exception running timer task for timer [id=0bd9870b-568b-42f5-9bda-e1525c3500aa timedObjectId=ejb30-timer.ejb30-timer.SimpleTimerBean auto-timer?:false persistent?:true timerService=org.jboss.as.ejb3.timerservice.TimerServiceImpl@53ba1a7f initialExpiration=Tue Feb 09 17:19:32 CET 2016 intervalDuration(in milli sec)=5000 nextExpiration=Tue Feb 09 17:19:37 CET 2016 timerState=CANCELED info=SimpleTimerInfo description=A timer started every 5 seconds] on EJB ejb30-timer.ejb30-timer.SimpleTimerBean: javax.ejb.NoSuchObjectLocalException: WFLYEJB0331: Timer was canceled
	at org.jboss.as.ejb3.timerservice.TimerImpl.assertTimerState(TimerImpl.java:459)
	at org.jboss.as.ejb3.timerservice.TimerImpl.isPersistent(TimerImpl.java:215)
	at org.jboss.as.ejb3.timerservice.TimerServiceImpl.shouldRun(TimerServiceImpl.java:1117)
	at org.jboss.as.ejb3.timerservice.TimerTask.run(TimerTask.java:124)
	at org.jboss.as.ejb3.timerservice.TimerServiceImpl$Task$1.run(TimerServiceImpl.java:1221)
	at org.wildfly.extension.requestcontroller.RequestController$QueuedTask$1.run(RequestController.java:497)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)
	at java.lang.Thread.run(Thread.java:745)
	at org.jboss.threads.JBossThread.run(JBossThread.java:320)</description>
			<version>8.0.0.Final</version>
			<fixedVersion>10.1.0.CR1, 10.1.0.Final</fixedVersion>
			<type>Bug</type>
		</buginformation>
		<fixedFiles>
			<file type="M">org.jboss.as.ejb3.timerservice.TimerServiceImpl.java</file>
		</fixedFiles>
		<links>
			<link type="Superset" description="is incorporated by">3320</link>
		</links>
	</bug>
	<bug id="6223" opendate="2016-02-16 07:16:44" fixdate="2016-06-10 23:18:20" resolution="Done">
		<buginformation>
			<summary>Enabling statistics in web console requires reload while it doesn&amp;apos;t in CLI</summary>
			<description>If I want to enable statistics for Web Services subsystem, I do it in CLI:






[standalone@localhost:9990 /] /subsystem=webservices:write-attribute(name=statistics-enabled, value=true)




{"outcome" =&amp;gt; "success"}






Via web console, I navigate to Configuration-&amp;gt;Subsystems-&amp;gt;Web Services-&amp;gt;View
I click edit and click checkbox for statistics enabled attribute. Now when I submit the value by clicking Save, dialog appears with reload require information.
There is no need to require reload just for enabling statistics, by the way statistics are accessible even before reload (Runtime-&amp;gt;Subsystems-&amp;gt;Webservices and try to get wsdl for the web service for several times).
Note: if there is no active deployment, reload is not required in web console (correct). To reproduce the issue you must have some active WS deployment</description>
			<version>10.0.0.Final</version>
			<fixedVersion>10.1.0.CR1, 10.1.0.Final</fixedVersion>
			<type>Bug</type>
		</buginformation>
		<fixedFiles>
			<file type="M">org.jboss.as.webservices.dmr.WSServerConfigAttributeHandler.java</file>
		</fixedFiles>
		<links>
			<link type="Cloners" description="cloned from">3337</link>
		</links>
	</bug>
	<bug id="6672" opendate="2016-06-04 13:51:27" fixdate="2016-06-13 01:12:57" resolution="Done">
		<buginformation>
			<summary>EJB&amp;apos;s async methods&amp;apos; Future#get should treat zero timeout as "don&amp;apos;t wait"</summary>
			<description>Say there is an asynchronous EJB method:






@Asynchronous




public Future&amp;lt;Boolean&amp;gt; method() {




   ...




}






Calling Future#get with a zero timeout:






if (bean.method().get(0, TimeUnit.MILLISECONDS))






results in a block until the task is finished.
Instead I expected zero waiting, because java.util.concurrent.Future.get(long, TimeUnit) doesn&amp;amp;apos;t specify any special treatment for a zero timeout value.</description>
			<version>8.2.0.Final</version>
			<fixedVersion>10.1.0.CR1, 10.1.0.Final</fixedVersion>
			<type>Bug</type>
		</buginformation>
		<fixedFiles>
			<file type="M">org.jboss.as.ejb3.component.interceptors.AsyncInvocationTask.java</file>
		</fixedFiles>
		<links>
			<link type="Causality" description="is caused by">158</link>
			<link type="Cloners" description="cloned from">6826</link>
		</links>
	</bug>
	<bug id="6155" opendate="2016-02-09 20:03:27" fixdate="2016-06-13 06:22:55" resolution="Done">
		<buginformation>
			<summary>[Migration][WebToUndertow] RemoteIpValve - protocolHeaderHttpsValue and proxiesHeader are neither migrated and neither migration warning is shown</summary>
			<description>When migrating RemoteIpValve which has defined params proxiesHeader and protocolHeaderHttpsValue these params are neither migrated nor migration warning is shown.
If those params are not migratable, there should be printed at least migration warning for them.</description>
			<version>10.0.0.Final</version>
			<fixedVersion></fixedVersion>
			<type>Bug</type>
		</buginformation>
		<fixedFiles>
			<file type="M">org.jboss.as.web.test.WebMigrateTestCase.java</file>
			<file type="M">org.jboss.as.web.WebMigrateOperation.java</file>
		</fixedFiles>
		<links>
			<link type="Cloners" description="cloned from">3303</link>
		</links>
	</bug>
	<bug id="6154" opendate="2016-02-09 19:13:02" fixdate="2016-06-13 06:23:23" resolution="Done">
		<buginformation>
			<summary>[Migration][WebToUndertow] RemoteAddrValve and RemoteHostValve are incorrectly migrated</summary>
			<description>When migrating RemoteHostValve or RemoteAddrValve which contains multiple allows or denies or contains both as in [1], it is migrated incorrectly. In the resulting expression the acl attribute should be in format acl={&amp;amp;apos;xxx allow&amp;amp;apos;, &amp;amp;apos;yyy deny&amp;amp;apos;}, but instead it results in acl=&amp;amp;apos;xxx allow, yyy deny&amp;amp;apos; which is incorrect and results in exception when doing any request to the server. 
Marking as critical as that it was migrated incorrectly the customer will not find out during migration but when actually doing request to the server.
Might be interesting to ehsavoie Hugonnet
[1]






 &amp;lt;valve name="request-filter" module="org.jboss.as.web" class-name="org.apache.catalina.valves.RemoteAddrValve"&amp;gt;




        &amp;lt;param param-name="deny" param-value="10.0.0.1"/&amp;gt;




        &amp;lt;param param-name="allow" param-value="127.*"/&amp;gt;




    &amp;lt;/valve&amp;gt;






</description>
			<version>10.0.0.Final</version>
			<fixedVersion></fixedVersion>
			<type>Bug</type>
		</buginformation>
		<fixedFiles>
			<file type="M">org.jboss.as.web.test.WebMigrateTestCase.java</file>
			<file type="M">org.jboss.as.web.WebMigrateOperation.java</file>
		</fixedFiles>
		<links>
			<link type="Cloners" description="cloned from">3294</link>
		</links>
	</bug>
	<bug id="6153" opendate="2016-02-09 19:10:54" fixdate="2016-06-13 06:23:49" resolution="Done">
		<buginformation>
			<summary>[Migration][WebToUndertow] RemoteIpValve is not correctly migrated</summary>
			<description>When migrating RemoteIpValve which looks like this 






 &amp;lt;valve name="remote-ip-valve" module="org.jboss.as.web" class-name="org.apache.catalina.valves.RemoteIpValve"&amp;gt;




        &amp;lt;param param-name="httpServerPort" param-value="8080"/&amp;gt;




        &amp;lt;param param-name="httpsServerPort" param-value="8443"/&amp;gt;




        &amp;lt;param param-name="internalProxies" param-value="192.*|127.*"/&amp;gt;




        &amp;lt;param param-name="trustedProxies" param-value="10.*"/&amp;gt;




        &amp;lt;param param-name="protocolHeaderHttpsValue" param-value="https"/&amp;gt;




        &amp;lt;param param-name="protocolHeader" param-value="X-Forwarded-Proto"/&amp;gt;




        &amp;lt;param param-name="remoteIpHeader" param-value="X-Forwarded-For"/&amp;gt;




        &amp;lt;param param-name="proxiesHeader" param-value="X-Forwarded-By"/&amp;gt;




    &amp;lt;/valve&amp;gt;






it is migrated to expression filter looking like this






&amp;lt;expression-filter expression="regexp(pattern=&amp;amp;quot;10.*&amp;amp;quot;, value=%{i, x-forwarded-for}, full-match=true) and regexp(pattern=&amp;amp;quot;192.*|127.*&amp;amp;quot;, value=%{i, x-forwarded-for}, full-match=true) -&amp;amp;gt; { proxy-peer-address(); }" name="remote-ip-valve"/&amp;gt;






When doing request to http://127.0.0.1:8080/ it fails with 500 and this exception in log






14:06:53,648 ERROR [io.undertow.request] (default I/O-4) UT005071: Undertow request failed HttpServerExchange{ GET / request {Accept=[*/*], User-Agent=[curl/7.43.0-DEV], Host=[127.0.0.1:8080]} response {}}: java.lang.IllegalArgumentException: UT000045: Error parsing predicated handler string Expecting , or ):




regexp(pattern="10.*", value=%{i, x-forwarded-for}, full-match=true) and regexp(pattern="192.*|127.*", value=%{i, x-forwarded-for}, full-match=true) -&amp;gt; { proxy-peer-address(); }




                                                                                                                                                                                 ^




	at io.undertow.server.handlers.builder.PredicatedHandlersParser.error(PredicatedHandlersParser.java:727)




	at io.undertow.server.handlers.builder.PredicatedHandlersParser.parseExpression(PredicatedHandlersParser.java:506)




	at io.undertow.server.handlers.builder.PredicatedHandlersParser.parse(PredicatedHandlersParser.java:381)




	at io.undertow.server.handlers.builder.PredicatedHandlersParser.parse(PredicatedHandlersParser.java:322)




	at io.undertow.server.handlers.builder.PredicatedHandlersParser.parse(PredicatedHandlersParser.java:85)




	at org.wildfly.extension.undertow.filters.ExpressionFilterDefinition.createHttpHandler(ExpressionFilterDefinition.java:88)




	at org.wildfly.extension.undertow.filters.FilterService.createHttpHandler(FilterService.java:57)




	at org.wildfly.extension.undertow.filters.FilterRef.createHttpHandler(FilterRef.java:69)




	at org.wildfly.extension.undertow.LocationService.configureHandlerChain(LocationService.java:96)




	at org.wildfly.extension.undertow.Host.configureRootHandler(Host.java:117)




	at org.wildfly.extension.undertow.Host.getOrCreateRootHandler(Host.java:171)




	at org.wildfly.extension.undertow.Host$HostRootHandler.handleRequest(Host.java:285)




	at io.undertow.server.handlers.NameVirtualHostHandler.handleRequest(NameVirtualHostHandler.java:64)




	at io.undertow.server.handlers.error.SimpleErrorPageHandler.handleRequest(SimpleErrorPageHandler.java:76)




	at io.undertow.server.handlers.CanonicalPathHandler.handleRequest(CanonicalPathHandler.java:49)




	at io.undertow.server.handlers.ChannelUpgradeHandler.handleRequest(ChannelUpgradeHandler.java:158)




	at io.undertow.server.Connectors.executeRootHandler(Connectors.java:202)




	at io.undertow.server.protocol.http.HttpReadListener.handleEventWithNoRunningRequest(HttpReadListener.java:233)




	at io.undertow.server.protocol.http.HttpReadListener.handleEvent(HttpReadListener.java:131)




	at io.undertow.server.protocol.http.HttpOpenListener.handleEvent(HttpOpenListener.java:145)




	at io.undertow.server.protocol.http.HttpOpenListener.handleEvent(HttpOpenListener.java:92)




	at io.undertow.server.protocol.http.HttpOpenListener.handleEvent(HttpOpenListener.java:51)




	at org.xnio.ChannelListeners.invokeChannelListener(ChannelListeners.java:92)




	at org.xnio.ChannelListeners$10.handleEvent(ChannelListeners.java:291)




	at org.xnio.ChannelListeners$10.handleEvent(ChannelListeners.java:286)




	at org.xnio.ChannelListeners.invokeChannelListener(ChannelListeners.java:92)




	at org.xnio.nio.QueuedNioTcpServer$1.run(QueuedNioTcpServer.java:121)




	at org.xnio.nio.WorkerThread.safeRun(WorkerThread.java:580)




	at org.xnio.nio.WorkerThread.run(WorkerThread.java:464)






The exception is caused by not having in quotes the &amp;amp;apos;%{i, x-forwarded-for}&amp;amp;apos;.
Also there is no predicate named regexp, the correct name is regex.
As this is hidden to the customer during the migration operation and is not visible before customer sends request to the server marking as blocker.</description>
			<version>10.0.0.Final</version>
			<fixedVersion></fixedVersion>
			<type>Bug</type>
		</buginformation>
		<fixedFiles>
			<file type="M">org.jboss.as.web.test.WebMigrateTestCase.java</file>
			<file type="M">org.jboss.as.web.WebMigrateOperation.java</file>
		</fixedFiles>
		<links>
			<link type="Cloners" description="cloned from">3311</link>
		</links>
	</bug>
	<bug id="6142" opendate="2016-02-08 15:43:09" fixdate="2016-06-13 06:24:06" resolution="Done">
		<buginformation>
			<summary>[Migration] StuckThreadDetectionValve is not automatically migrated</summary>
			<description>org.apache.catalina.valves.StuckThreadDetectionValve is not automatically migrated even though there exists equivalent handler in EAP7 (io.undertow.server.handlers.StuckThreadDetectionHandler).</description>
			<version>10.0.0.Final</version>
			<fixedVersion></fixedVersion>
			<type>Bug</type>
		</buginformation>
		<fixedFiles>
			<file type="M">org.jboss.as.web.test.WebMigrateTestCase.java</file>
			<file type="M">org.jboss.as.web.WebMigrateOperation.java</file>
		</fixedFiles>
		<links>
			<link type="Cloners" description="cloned from">3276</link>
		</links>
	</bug>
	<bug id="6685" opendate="2016-06-08 13:28:02" fixdate="2016-06-13 20:06:20" resolution="Done">
		<buginformation>
			<summary>Cache container enable statistics can lead to classloader leak</summary>
			<description>In standalone.xml, if we enable statistics such as:






            &amp;lt;cache-container name="web" default-cache="repl" module="org.wildfly.clustering.web.infinispan" statistics-enabled="true"&amp;gt;




                &amp;lt;transport lock-timeout="60000"/&amp;gt;




                &amp;lt;replicated-cache name="repl" statistics-enabled="true" mode="ASYNC"&amp;gt;




                    &amp;lt;locking isolation="READ_COMMITTED"/&amp;gt;




                    &amp;lt;transaction locking="OPTIMISTIC" mode="BATCH"/&amp;gt;




                    &amp;lt;state-transfer chunk-size="512" timeout="240000"/&amp;gt;




                &amp;lt;/replicated-cache&amp;gt;




            &amp;lt;/cache-container&amp;gt;






The following MBean:






jboss.infinispan:cluster=web,type=channel






is getting eventually registered when deploying any application.
When undeploying that application, the MBean is not getting unregistered and thus can leak pretty much anything.
Also, if you try to deploy the very same application right after another MBean will get registered:






jboss.infinispan2:cluster=web,type=channel






Note: cache enable-statistics=true doesn&amp;amp;apos;t seems to leak anything.</description>
			<version>10.0.0.Final</version>
			<fixedVersion>10.1.0.CR1, 10.1.0.Final</fixedVersion>
			<type>Bug</type>
		</buginformation>
		<fixedFiles>
			<file type="M">org.jboss.as.clustering.infinispan.ChannelTransport.java</file>
		</fixedFiles>
		<links>
			<link type="Cloners" description="cloned to">4925</link>
		</links>
	</bug>
	<bug id="6610" opendate="2016-05-12 23:06:34" fixdate="2016-06-20 03:24:59" resolution="Done">
		<buginformation>
			<summary>Default singleton policy capability needs distinct name</summary>
			<description>Currently, the "org.wildfly.clustering.singleton.policy" capability name is used by 2 capabilities:
1. The default singleton policy, using the static name
2. A named singleton policy, using a dynamic name
Even though this works, it&amp;amp;apos;s not future-proof, as determined by a chat session from today:






Paul Ferraro15:11




@BrianStansberry question - is it valid for a capability to be both static and dynamic?




@BrianStansberry e.g. I have 2 resources, one registers a capability using a static name, the other resource registers a capability using the same name, but dynamic




@BrianStansberry it works fine - but it occurs to me, when completing my capability.adoc, that the DYNAMIC field is intended to be true or false - not both




@BrianStansberry I could certainly use a different name for the static variant, but I&amp;amp;apos;m wondering if that is really necessary




Brian Stansberry15:17




@PaulFerraro the intent is they have different names




basically because for a dynamic capability the way you learn its contract is by looking up the static part of the name




I suppose if the static and dynamic had the same contract except for that one piece of data it could be ok




but it sounds like something that some day would bite us in the rear




Paul Ferraro15:18




@BrianStansberry an example of this is the SingletonPolicy capability




@BrianStansberry there are named policies (i.e. dynamic), and there is the default policy, which references a named policy, but registers itself using the same name (but is static)




Brian Stansberry15:20




hmm, yeah i can see the advantage of just using the static name




Paul Ferraro15:20




so, a dependency on org.wildfly.clustering.singleton.policy gives you the default policy, but a dependency on so, a dependency on org.wildfly.clustering.singleton.policy.foo gives you the foo policy




Brian Stansberry15:21




is org.wildfly.clustering.singleton.default-policy better?




I&amp;amp;apos;d need to poke a bit to see if I can identify any real problems




I mean the registry info could just say (in template.adoc) DYNAMIC: true | false | both




or something




Paul Ferraro15:22Hide card




I used "both", https://github.com/wildfly/wildfly-capabilities/pull/4




 




Add missing capability description for singleton policy. by pferraro  Pull Request #4  wildfly/wildfly-capabilities




github.com




 wildfly-capabilities - Registry of capabilities accessible via the management layer of a WildFly Core base server




Brian Stansberry15:22




the capability names are just string so the dynamic business is just string concatenation




hmm, maybe it would be a problem with the "possible" capability thing




Paul Ferraro15:23




"possible"?




what is that?




Brian Stansberry15:24




caps are declared in the ResourceDefintion. so when the RD is used to create a ManagementResourceRegistration, the cap info is associated with the MRR




and is part of the resource def metadata




but, for a typical MRR there is no dynamic part




the point of all this is tools that are trying to help a user create a config can see which addresses could provide the cap if a resource was added




i.e. what caps are "possible" given the set of extensions that are available




but your case becomes ambiguous




maybe that&amp;amp;apos;s not a big problem; it&amp;amp;apos;s kind of a question of data representation




Brian Stansberry goes to look how it&amp;amp;apos;s displayed now




Brian Stansberry15:29




ok, good so far; it&amp;amp;apos;s a list not a map keyed on the static cap name:




[standalone@embedded socket-binding=management-http] :read-resource-description




{




"outcome" =&amp;gt; "success",




"result" =&amp;gt; {




"description" =&amp;gt; "Configuration information for a socket.",




"capabilities" =&amp;gt; [{




"name" =&amp;gt; "org.wildfly.network.socket-binding",




"dynamic" =&amp;gt; true




}],




Show more




Alexey Loubyansky joined the room




Brian Stansberry15:30




@ctomc @HaraldPehl I&amp;amp;apos;m curious what your thoughts are on ^^^ (tomorrow is fine)




Paul Ferraro15:33




@BrianStansberry Here are the resource descriptions containing the singleton policy capability:




[standalone@localhost:9990 /] /subsystem=singleton:read-resource-description 




{




"outcome" =&amp;gt; "success",




"result" =&amp;gt; {




"description" =&amp;gt; "The configuration of the singleton subsystem",




"capabilities" =&amp;gt; [{




"name" =&amp;gt; "org.wildfly.clustering.singleton.policy",




"dynamic" =&amp;gt; false




}],




"attributes" =&amp;gt; {"default" =&amp;gt; {




"type" =&amp;gt; STRING,




"description" =&amp;gt; "The default singleton policy",




"expressions-allowed" =&amp;gt; false,




"nillable" =&amp;gt; false,




"capability-reference" =&amp;gt; "org.wildfly.clustering.singleton.policy",




"min-length" =&amp;gt; 1L,




"max-length" =&amp;gt; 2147483647L,




"access-type" =&amp;gt; "read-write",




"storage" =&amp;gt; "configuration",




"restart-required" =&amp;gt; "resource-services"




}},




"operations" =&amp;gt; undefined,




"notifications" =&amp;gt; undefined,




"children" =&amp;gt; {"singleton-policy" =&amp;gt; {




"description" =&amp;gt; "A singleton policy",




"model-description" =&amp;gt; undefined




}}




}




}




[standalone@localhost:9990 /] /subsystem=singleton/singleton-policy=default:read-resource-description




{




"outcome" =&amp;gt; "success",




"result" =&amp;gt; {




"description" =&amp;gt; "A singleton policy",




"capabilities" =&amp;gt; [{




"name" =&amp;gt; "org.wildfly.clustering.singleton.policy",




"dynamic" =&amp;gt; true




}],




"attributes" =&amp;gt; {




"cache" =&amp;gt; {




"type" =&amp;gt; STRING,




"description" =&amp;gt; "The cache backing the singleton policy&amp;amp;apos;s singleton service",




"expressions-allowed" =&amp;gt; true,




"nillable" =&amp;gt; true,




"default" =&amp;gt; "default",




"min-length" =&amp;gt; 1L,




"max-length" =&amp;gt; 2147483647L,




"access-type" =&amp;gt; "read-write",




"storage" =&amp;gt; "configuration",




"restart-required" =&amp;gt; "no-services"




},




"cache-container" =&amp;gt; {




"type" =&amp;gt; STRING,




"description" =&amp;gt; "The cache container backing the singleton policy&amp;amp;apos;s singleton service",




"expressions-allowed" =&amp;gt; true,




"nillable" =&amp;gt; false,




"min-length" =&amp;gt; 1L,




"max-length" =&amp;gt; 2147483647L,




"access-type" =&amp;gt; "read-write",




"storage" =&amp;gt; "configuration",




"restart-required" =&amp;gt; "no-services"




},




"quorum" =&amp;gt; {




"type" =&amp;gt; INT,




"description" =&amp;gt; "The minimum number of nodes required before this singleton service will start",




"expressions-allowed" =&amp;gt; true,




"nillable" =&amp;gt; true,




"default" =&amp;gt; 1,




"access-type" =&amp;gt; "read-write",




"storage" =&amp;gt; "configuration",




"restart-required" =&amp;gt; "no-services"




}




},




"operations" =&amp;gt; undefined,




"notifications" =&amp;gt; undefined,




"children" =&amp;gt; {"election-policy" =&amp;gt; {




"description" =&amp;gt; "The election policy of this singleton policy",




"model-description" =&amp;gt; undefined




}}




}




}




Show more




Kabir Khan joined the room




Brian Stansberry15:34




@PaulFerraro ok, so there it&amp;amp;apos;s not even the same MRR registering both variants, so list vs map doesn&amp;amp;apos;t matter




I think @HaraldPehl &amp;amp;apos;s input is important as he&amp;amp;apos;s the one who&amp;amp;apos;d need to deal with this situation




the fact that the same string can have two different meanings




it may not be a big deal for what he&amp;amp;apos;s doing now though




which is probably focused on giving people the valid values for attributes




and those are always for dynamic caps




Harald Pehl15:45




@BrianStansberry For me it&amp;amp;apos;s important to get the possible resources for an attribute which declares a "capability-reference" in its metadata




For instance the "profile" attribute in "/server-group=*:read-resource-description" has a "capability-reference" =&amp;gt; "org.wildfly.domain.profile"




So I need a way to resolve this reference to a list of resource names which the admin can select from




Brian Stansberry15:50




@HaraldPehl thanks. that confirms what I thought; for right now you need to find out dynamic capabilities




I think the tricky thing for you would be if the string "org.wildfly.domain.profile" appeared in two different forms, one dynamic (the one you want) and one static (irrelevant to you)




you&amp;amp;apos;d have to dig a bit deeper to make sure you were looking at the right one




@BrianStansberry I think that is addressed by @ctomc PR: https://github.com/wildfly/wildfly-core/pull/1554




 




WFCORE-1540 Expose capability registry via mgmt api by ctomc  Pull Request #1554  wildfly/wildfly-core




github.com




 wildfly-core - The core runtime that is used by the Wildfly application server




Harald Pehl15:53




It introduces some mgmt ops to query capabilities




Harald Pehl15:54




1. /core-service=capability-registry:read-resource which returns a list of




possible capabilities




2. /core-service=capability-registry:get-provider-points(name=org.wildfly.domain.profile)




Harald Pehl15:56




which returns the address for a given capability




Brian Stansberry15:56




@HaraldPehl with what @PaulFerraro is proposing, you&amp;amp;apos;d probably need a 2nd param for your #2




and probably some more parsing of the result of your #1 to get the particular data you want




"probably" as I&amp;amp;apos;m just guessing what you do with #1




Harald Pehl15:58




I use #1 to bootstrap a registry of all known capabilities when the console starts




Brian Stansberry15:58




does that registry include whether the cap is dynamic?




Harald Pehl15:58




and #2 if I cannot find a capability in that registry




yes




Brian Stansberry15:59




is the name the registry key?




Harald Pehl16:00




yes its actually a Map&amp;lt;String, CapabilityInfo&amp;gt; with the capability name as key and some info about that cap as value (including dynamic)




Brian Stansberry16:01




yeah, so you need some kind of custom type as the key, or a List&amp;lt;CapabilityInfo&amp;gt; as the value




tbh @PaulFerraro doing this sounds like a likely bug nest




Harald, I should have said "you *would* need..." -- you don&amp;amp;apos;t now




Paul Ferraro16:02




@BrianStansberry ok - I&amp;amp;apos;ll give the static capabilities a separate name




Kabir Khan joined the room




Paul Ferraro16:03




not a huge deal - just one more capability name to keep track of




Brian Stansberry16:04




yeah, it&amp;amp;apos;s a good thought though. perhaps it will be easier for users anyway, since 2 names for two things may require less brainpower to understand





</description>
			<version>10.0.0.Final</version>
			<fixedVersion>10.1.0.CR1, 10.1.0.Final</fixedVersion>
			<type>Bug</type>
		</buginformation>
		<fixedFiles>
			<file type="M">org.wildfly.extension.clustering.singleton.SubsystemParsingTestCase.java</file>
			<file type="M">org.jboss.as.clustering.controller.Capability.java</file>
			<file type="M">org.jboss.as.clustering.infinispan.subsystem.SubsystemParsingTestCase.java</file>
			<file type="M">org.wildfly.extension.clustering.singleton.ElectionPolicyBuilder.java</file>
			<file type="M">org.jboss.as.clustering.infinispan.ChannelTransport.java</file>
			<file type="M">org.wildfly.extension.clustering.singleton.ElectionPolicyResourceDefinition.java</file>
			<file type="M">org.jboss.as.clustering.jgroups.subsystem.TransformersTestCase.java</file>
			<file type="M">org.wildfly.extension.clustering.singleton.RandomElectionPolicyBuilder.java</file>
			<file type="M">org.jboss.as.clustering.jgroups.subsystem.ProtocolResourceDefinition.java</file>
			<file type="M">org.jboss.as.clustering.controller.RemoveStepHandler.java</file>
			<file type="M">org.wildfly.extension.clustering.singleton.SimpleElectionPolicyBuilder.java</file>
			<file type="D">org.jboss.as.clustering.controller.RequiredCapability.java</file>
			<file type="M">org.jboss.as.clustering.controller.BoottimeAddStepHandler.java</file>
			<file type="M">org.jboss.as.ejb3.subsystem.Ejb3SubsystemUnitTestCase.java</file>
			<file type="M">org.jboss.as.clustering.infinispan.subsystem.JDBCStoreResourceDefinition.java</file>
			<file type="M">org.wildfly.extension.clustering.singleton.SimpleElectionPolicyResourceDefinition.java</file>
			<file type="M">org.wildfly.extension.clustering.singleton.deployment.SingletonDeploymentDependencyProcessor.java</file>
			<file type="D">org.wildfly.extension.clustering.singleton.SimpleElectionPolicyBuilderFactory.java</file>
			<file type="M">org.wildfly.clustering.service.Requirement.java</file>
			<file type="M">org.jboss.as.clustering.infinispan.subsystem.RemoteStoreResourceDefinition.java</file>
			<file type="M">org.jboss.as.clustering.controller.AddStepHandler.java</file>
			<file type="M">org.jboss.as.clustering.infinispan.subsystem.JDBCStoreBuilder.java</file>
			<file type="M">org.wildfly.extension.clustering.singleton.SingletonPolicyBuilder.java</file>
			<file type="M">org.wildfly.extension.clustering.singleton.ElectionPolicyServiceNameProvider.java</file>
			<file type="M">org.jboss.as.clustering.jgroups.subsystem.TransportResourceDefinition.java</file>
			<file type="D">org.wildfly.clustering.singleton.RequiredCapability.java</file>
			<file type="M">org.wildfly.clustering.singleton.SingletonPolicy.java</file>
			<file type="M">org.jboss.as.ejb3.subsystem.EJB3SubsystemAdd.java</file>
			<file type="M">org.wildfly.extension.clustering.singleton.SingletonPolicyResourceDefinition.java</file>
			<file type="M">org.wildfly.extension.clustering.singleton.SingletonResourceDefinition.java</file>
			<file type="M">org.jboss.as.test.clustering.cluster.singleton.service.MyServicePolicyActivator.java</file>
			<file type="M">org.jboss.as.clustering.jgroups.subsystem.TransportConfigurationBuilder.java</file>
			<file type="D">org.wildfly.extension.clustering.singleton.RandomElectionPolicyBuilderFactory.java</file>
			<file type="M">org.jboss.as.clustering.jgroups.subsystem.SubsystemParsingTestCase.java</file>
			<file type="M">org.wildfly.extension.clustering.singleton.SingletonServiceHandler.java</file>
			<file type="M">org.jboss.as.clustering.infinispan.subsystem.TransformersTestCase.java</file>
			<file type="M">org.jboss.as.clustering.jgroups.subsystem.OperationTestCaseBase.java</file>
			<file type="M">org.jboss.as.clustering.jgroups.subsystem.AbstractProtocolConfigurationBuilder.java</file>
			<file type="D">org.jboss.as.clustering.controller.CapabilityDependency.java</file>
			<file type="M">org.jboss.as.clustering.controller.CapabilityReference.java</file>
			<file type="M">org.wildfly.extension.clustering.singleton.RandomElectionPolicyResourceDefinition.java</file>
			<file type="M">org.jboss.as.clustering.infinispan.subsystem.RemoteStoreBuilder.java</file>
			<file type="M">org.jboss.as.clustering.infinispan.subsystem.OperationTestCaseBase.java</file>
			<file type="D">org.wildfly.extension.clustering.singleton.SingletonPolicyBuilderFactory.java</file>
		</fixedFiles>
	</bug>
	<bug id="6680" opendate="2013-06-28 16:53:56" fixdate="2016-06-20 03:25:55" resolution="Done">
		<buginformation>
			<summary>:read-proxies-configuration and :read-proxies-info fail when at least one of the proxies is unreachable</summary>
			<description>When the modcluster subsystem is unable to connect to a proxy, the jboss-cli commands :read-proxies-configuration and :read-proxies-info fail with an unhelpful error.
On both the domain controller and application host, :read-proxies-info and :read-proxies-configuration fail with the same error.  This is the output from the application host:






[domain@localhost:9999 subsystem=modcluster] pwd




/host=localhost/server=cluster2/subsystem=modcluster









[domain@localhost:9999 subsystem=modcluster] :list-proxies




{




    "outcome" =&amp;gt; "success",




    "result" =&amp;gt; [




        "web02:8009",




        "web01:8009"




    ]




}









[domain@localhost:9999 subsystem=modcluster] :read-proxies-configuration




{




    "outcome" =&amp;gt; "failed",




    "result" =&amp;gt; undefined,




    "failure-description" =&amp;gt; "JBAS014749: Operation handler failed: newValue is null",




    "rolled-back" =&amp;gt; true




}









[domain@localhost:9999 subsystem=modcluster] :read-proxies-info




{




    "outcome" =&amp;gt; "failed",




    "result" =&amp;gt; undefined,




    "failure-description" =&amp;gt; "JBAS014749: Operation handler failed: newValue is null",




    "rolled-back" =&amp;gt; true




}






In the above example, modcluster was not able to connect to the proxies due to an ssl misconfiguration in the modcluster subsystem in domain.xml.</description>
			<version>10.0.0.Final</version>
			<fixedVersion>10.1.0.CR1, 10.1.0.Final</fixedVersion>
			<type>Bug</type>
		</buginformation>
		<fixedFiles>
			<file type="M">org.wildfly.extension.mod_cluster.ModClusterGetProxyInfo.java</file>
			<file type="M">org.wildfly.extension.mod_cluster.ModClusterGetProxyConfiguration.java</file>
		</fixedFiles>
		<links>
			<link type="Related" description="relates to">5111</link>
		</links>
	</bug>
	<bug id="6376" opendate="2016-03-15 17:31:17" fixdate="2016-06-22 20:49:05" resolution="Done">
		<buginformation>
			<summary>Class loader leak due to Infinispan ExpirationManagerImpl</summary>
			<description>Scenario
Given a WAR containing a persistence unit with second level cache and query cache enabled, I&amp;amp;apos;m consistently hitting a Metaspace OutOfMemoryError after redeploying the unchanged application a couple of times.
Analyzing the situation with Eclipse Memory Analyzer, I found one cause to be WFLY-6348, but even after applying that fix locally, I&amp;amp;apos;m still having a Classloader leak which I can trace to a thread used by Infinispan referencing an obsolete web app classloader as context classloader.
Just to rule out that this might be related to WFLY-6283, WFLY-6285, I repeated my experiments with a local build of WildFly master (2f11a59aee0dbdd52b65c5c684eafa83c3f418da), with Hibernate locally upgraded to 5.0.9.
I&amp;amp;apos;m still getting a classloader leak with that build.
Analysis
org.infinispan.expiration.impl.ExpirationManagerImpl uses a LazyInitializingScheduledExecutorService. Due to lazy initialization, the ExecutorService and the underlying thread pool is not created until my web app is deployed. Thus, when the ExecutorService is created, the context class loader is set to the web app class loader, and this appears to propagate to the threads of the executor thread pool.
When the application is undeployed, ExpirationManagerImpl.stop() gets invoked to cancel any running expiration task. However, the ExecutorService is not shut down, the threads remain alive and still keep a reference to the now obsolete context classloader.
Remarks
I&amp;amp;apos;m not sure if this analysis is correct, at least I hope there&amp;amp;apos;s a clue for WildFly and Infinispan experts to identify the real cause.
By the way, it would be helpful if all threads created by Infinispan had meaningful names, rather than default names like pool-5-thread-1.</description>
			<version>10.0.0.Final</version>
			<fixedVersion>10.1.0.CR1, 10.1.0.Final</fixedVersion>
			<type>Bug</type>
		</buginformation>
		<fixedFiles>
			<file type="M">org.jboss.as.clustering.infinispan.subsystem.ScheduledThreadPoolBuilder.java</file>
			<file type="M">org.jboss.as.clustering.jgroups.JChannelFactory.java</file>
			<file type="M">org.jboss.as.clustering.infinispan.subsystem.ThreadPoolBuilder.java</file>
		</fixedFiles>
		<links>
			<link type="Cloners" description="cloned to">3852</link>
		</links>
	</bug>
	<bug id="6667" opendate="2016-06-02 23:17:39" fixdate="2016-06-24 01:37:23" resolution="Done">
		<buginformation>
			<summary>Servlet attributes are not availble in undertow-handlers.conf as it runs too early</summary>
			<description></description>
			<version>10.0.0.Final</version>
			<fixedVersion>10.1.0.CR1, 10.1.0.Final</fixedVersion>
			<type>Bug</type>
		</buginformation>
		<fixedFiles>
			<file type="M">org.wildfly.extension.undertow.deployment.UndertowDeploymentInfoService.java</file>
			<file type="M">org.jboss.as.test.integration.web.handlers.UndertowHandlersConfigTestCase.java</file>
		</fixedFiles>
		<links>
			<link type="Cloners" description="cloned to">4846</link>
		</links>
	</bug>
	<bug id="6772" opendate="2016-06-24 15:48:52" fixdate="2016-06-25 10:34:11" resolution="Done">
		<buginformation>
			<summary>Intermittent failures in ConcurrentFineWebFailoverTestCase(SYNC-tcp).testGracefulUndeployFailover</summary>
			<description>172 runs / 5 failures / 0 ignored Success rate: 97.1%
org.jboss.as.test.clustering.cluster.web (1)
     ConcurrentFineWebFailoverTestCase(SYNC-tcp).testGracefulUndeployFailover   Muted on 07 Jun 16 14:48 by Tomaz Cerar	
First failure:	pull/1628	#2988 	Changes (73) 	22 Jun 16 16:47
java.lang.AssertionError: Session failed to replicate after container 1 was shutdown. expected:&amp;lt;7&amp;gt; but was:&amp;lt;6&amp;gt;
    at org.junit.Assert.fail(Assert.java:88)
    at org.junit.Assert.failNotEquals(Assert.java:834)
    at org.junit.Assert.assertEquals(Assert.java:645)
    at org.jboss.as.test.clustering.cluster.web.AbstractWebFailoverTestCase.testFailover(AbstractWebFailoverTestCase.java:207)
    at org.jboss.as.test.clustering.cluster.web.AbstractWebFailoverTestCase.testGracefulUndeployFailover(AbstractWebFailoverTestCase.java:103)
https://ci.wildfly.org/viewLog.html?buildId=19454&amp;amp;tab=buildResultsDiv&amp;amp;buildTypeId=WildFlyCore_PullRequest_WildFlyCoreFullIntegration#testNameId2219954691680252460
</description>
			<version>10.0.0.Final</version>
			<fixedVersion>10.1.0.CR1, 10.1.0.Final</fixedVersion>
			<type>Bug</type>
		</buginformation>
		<fixedFiles>
			<file type="M">org.jboss.as.test.clustering.cluster.web.AbstractWebFailoverTestCase.java</file>
		</fixedFiles>
	</bug>
	<bug id="6798" opendate="2016-07-01 15:45:42" fixdate="2016-07-06 00:57:01" resolution="Done">
		<buginformation>
			<summary>Distributed single sign-on manager created twice per host</summary>
			<description>While fixing an unrelated bug, I discovered that the distributable SSOManager is actually created twice per host - one is created for use with the single sign-on authentication mechanism, and a separate instance is created to handle session identifier changes.  I&amp;amp;apos;m not entirely certain of the consequence of this (as the managers will share the same underlying infinispan cache), but it is definitely wrong and unintentional.</description>
			<version>10.0.0.Final</version>
			<fixedVersion>10.1.0.CR1, 10.1.0.Final</fixedVersion>
			<type>Bug</type>
		</buginformation>
		<fixedFiles>
			<file type="M">org.wildfly.clustering.web.undertow.sso.SessionManagerRegistryBuilder.java</file>
			<file type="D">org.wildfly.extension.undertow.AbstractUndertowEventListener.java</file>
			<file type="M">org.wildfly.clustering.web.undertow.sso.SSOManagerBuilder.java</file>
			<file type="D">org.wildfly.extension.undertow.security.sso.SingleSignOnManagerFactory.java</file>
			<file type="M">org.wildfly.clustering.web.undertow.sso.DistributableSingleSignOnManager.java</file>
			<file type="D">org.wildfly.clustering.web.undertow.sso.DistributableSingleSignOnManagerFactory.java</file>
			<file type="D">org.wildfly.extension.undertow.security.sso.InMemorySingleSignOnManagerFactory.java</file>
			<file type="D">org.wildfly.clustering.web.undertow.sso.DistributableSingleSignOnManagerFactoryBuilder.java</file>
			<file type="M">org.wildfly.clustering.web.undertow.sso.DistributableSingleSignOnManagerTestCase.java</file>
			<file type="D">org.wildfly.extension.undertow.security.sso.DistributableSingleSignOnManagerFactoryBuilderValue.java</file>
			<file type="M">org.wildfly.clustering.web.undertow.sso.DistributableSingleSignOn.java</file>
			<file type="D">org.wildfly.extension.undertow.security.sso.DistributableSingleSignOnManagerFactoryBuilder.java</file>
			<file type="D">org.wildfly.extension.undertow.security.sso.SingleSignOnManager.java</file>
			<file type="D">org.wildfly.extension.undertow.security.sso.SingleSignOnManagerService.java</file>
			<file type="M">org.wildfly.extension.undertow.SingleSignOnAdd.java</file>
			<file type="M">org.wildfly.extension.undertow.UndertowEventListener.java</file>
		</fixedFiles>
	</bug>
	<bug id="6405" opendate="2016-03-17 21:57:55" fixdate="2016-07-07 16:40:53" resolution="Done">
		<buginformation>
			<summary>Performance: WeldDeployment.getBeanDeploymentArchive method is synchronized</summary>
			<description>(Wildfly 10.0.0.FINAL)
During the performance test of my app (50 concurrent users with jmeter) I am running into the following issue:
There are locked threads in the method WeldDeployment.getBeanDeploymentArchive(). Looking the code, this method is synchronized, so it makes sense. The question is, is this the expected behavior or this is a bug. In both cases is there any workaround to overcome this limitation?
STACK TRACE:
....
org.jboss.as.weld.WeldProvider$CdiImpl.getBeanManager():73
org.jboss.as.weld.WeldProvider$CdiImpl.getBeanManager():93
org.jboss.as.weld.deployment.WeldDeployment.getBeanDeploymentArchive():226 </description>
			<version>10.0.0.Final</version>
			<fixedVersion>10.1.0.CR1, 10.1.0.Final</fixedVersion>
			<type>Bug</type>
		</buginformation>
		<fixedFiles>
			<file type="M">org.jboss.as.weld.deployment.WeldDeployment.java</file>
		</fixedFiles>
	</bug>
	<bug id="5519" opendate="2015-10-12 15:58:16" fixdate="2016-07-08 00:31:29" resolution="Done">
		<buginformation>
			<summary>Some clustering tests fail with security manager</summary>
			<description>Description of problem:
Some clustering tests fails with security manager. Affected testcases:






org.jboss.as.test.clustering.cluster.cdi.CdiFailoverTestCase(SYNC-tcp).testGracefulUndeployFailover




org.jboss.as.test.clustering.cluster.cdi.CdiFailoverTestCase(SYNC-tcp).testGracefulSimpleFailover




org.jboss.as.test.clustering.cluster.dispatcher.CommandDispatcherTestCase(SYNC-tcp).test




org.jboss.as.test.clustering.cluster.ejb.stateful.StatefulFailoverTestCase(SYNC-tcp).failoverOnStop




org.jboss.as.test.clustering.cluster.ejb.stateful.StatefulFailoverTestCase(SYNC-tcp).nestedBeanFailover




org.jboss.as.test.clustering.cluster.ejb.stateful.StatefulFailoverTestCase(SYNC-tcp).connectionFactoryFailover




org.jboss.as.test.clustering.cluster.ejb.stateful.StatefulFailoverTestCase(SYNC-tcp).jmsConnectionFactoryFailover




org.jboss.as.test.clustering.cluster.ejb.stateful.StatefulFailoverTestCase(SYNC-tcp).noFailover




org.jboss.as.test.clustering.cluster.ejb.stateful.StatefulFailoverTestCase(SYNC-tcp).simpleFailover




org.jboss.as.test.clustering.cluster.ejb.stateful.StatefulTimeoutTestCase(SYNC-tcp).timeout




org.jboss.as.test.clustering.cluster.ejb.xpc.StatefulWithXPCFailoverTestCase(SYNC-tcp).testBasicXPC




org.jboss.as.test.clustering.cluster.ejb.xpc.StatefulWithXPCFailoverTestCase(SYNC-tcp).testSecondLevelCache




org.jboss.as.test.clustering.cluster.provider.ServiceProviderRegistrationTestCase(SYNC-tcp).test




org.jboss.as.test.clustering.cluster.registry.RegistryTestCase(SYNC-tcp).test




org.jboss.as.test.clustering.cluster.singleton.SingletonServiceTestCase(SYNC-tcp).testSingletonService




org.jboss.as.test.clustering.cluster.sso.ClusteredSingleSignOnTestCase(SYNC-tcp).testFormAuthSingleSignOn




org.jboss.as.test.clustering.cluster.web.ClusteredWebSimpleTestCase(SYNC-tcp).testSerialized




org.jboss.as.test.clustering.cluster.web.ClusteredWebSimpleTestCase(SYNC-tcp).testSessionReplication




org.jboss.as.test.clustering.cluster.web.ClusteredWebSimpleTestCase(SYNC-tcp).testGracefulServeOnUndeploy




org.jboss.as.test.clustering.cluster.web.ClusteredWebSimpleTestCase(SYNC-tcp).testGracefulServeOnShutdown




org.jboss.as.test.clustering.cluster.web.ExternalizerTestCase(SYNC-tcp).test




org.jboss.as.test.clustering.cluster.web.ReplicationForNegotiationAuthenticatorTestCase(SYNC-tcp).testOneRequestSimpleFailover




org.jboss.as.test.clustering.cluster.web.async.AsyncServletTestCase(SYNC-tcp).test




org.jboss.as.test.clustering.cluster.web.context.InvalidateConversationTestCase(SYNC-tcp).testInvalidate




org.jboss.as.test.clustering.cluster.web.expiration.CoarseSessionExpirationTestCase(SYNC-tcp).test




org.jboss.as.test.clustering.cluster.web.expiration.FineSessionExpirationTestCase(SYNC-tcp).test




org.jboss.as.test.clustering.cluster.web.passivation.CoarseSessionPassivationTestCase(SYNC-tcp).test




org.jboss.as.test.clustering.cluster.web.passivation.FineSessionPassivationTestCase(SYNC-tcp).test




org.jboss.as.test.clustering.cluster.web.shared.SharedSessionFailoverTestCase(SYNC-tcp).test




org.jboss.as.test.clustering.single.registry.RegistryTestCase.org.jboss.as.test.clustering.single.registry.RegistryTestCase




org.jboss.as.test.clustering.single.singleton.SingletonServiceTestCase.org.jboss.as.test.clustering.single.singleton.SingletonServiceTestCase






How reproducible:
Always
Steps to Reproduce:

./integration-tests.sh -Dmaven.repo.local=$MAVEN_REPO_LOCAL -fae -Dmaven.test.failure.ignore=true -Dnode0=$MYTESTIP_1 -Dnode1=$MYTESTIP_2 -Dmcast=$MCAST_ADDR -Djboss.dist=$JBOSS_DIST -Dsecurity.manager -Dts.clustering -Dts.noSmoke

Actual results:
See attached logs
Expected results:
No errors</description>
			<version>10.0.0.CR2</version>
			<fixedVersion>10.1.0.CR1, 10.1.0.Final</fixedVersion>
			<type>Bug</type>
		</buginformation>
		<fixedFiles>
			<file type="M">org.jboss.as.test.clustering.cluster.singleton.SingletonPolicyServiceTestCase.java</file>
			<file type="M">org.jboss.as.test.clustering.cluster.singleton.SingletonServiceTestCase.java</file>
			<file type="M">org.jboss.as.test.clustering.single.provider.ServiceProviderRegistrationTestCase.java</file>
			<file type="M">org.jboss.as.test.clustering.single.registry.RegistryTestCase.java</file>
			<file type="M">org.jboss.as.test.clustering.cluster.web.AbstractWebFailoverTestCase.java</file>
			<file type="M">org.jboss.as.test.clustering.cluster.registry.RegistryTestCase.java</file>
			<file type="M">org.jboss.as.test.clustering.single.singleton.SingletonServiceTestCase.java</file>
			<file type="M">org.jboss.as.test.clustering.ClusterTestUtil.java</file>
			<file type="M">org.jboss.as.test.clustering.ClusteringTestConstants.java</file>
			<file type="M">org.jboss.as.test.clustering.cluster.ejb.remote.RemoteFailoverTestCase.java</file>
			<file type="M">org.jboss.as.clustering.infinispan.DefaultCacheContainer.java</file>
		</fixedFiles>
		<links>
			<link type="Cloners" description="cloned from">1430</link>
			<link type="Dependency" description="is blocked by">6049</link>
			<link type="Dependency" description="is blocked by">179</link>
			<link type="Dependency" description="is blocked by">180</link>
			<link type="Dependency" description="is blocked by">5971</link>
			<link type="Dependency" description="is blocked by">6025</link>
			<link type="Dependency" description="is blocked by">1290</link>
			<link type="Dependency" description="blocks">6542</link>
			<link type="Related" description="relates to">4786</link>
		</links>
	</bug>
	<bug id="6025" opendate="2016-01-18 18:37:18" fixdate="2016-07-08 00:31:41" resolution="Done">
		<buginformation>
			<summary>org.wildfly.clustering.server.dispatcher needs to account for security manager</summary>
			<description></description>
			<version>10.0.0.CR5</version>
			<fixedVersion>10.1.0.CR1, 10.1.0.Final</fixedVersion>
			<type>Bug</type>
		</buginformation>
		<fixedFiles>
			<file type="M">org.wildfly.clustering.server.dispatcher.LocalCommandDispatcher.java</file>
		</fixedFiles>
		<links>
			<link type="Dependency" description="blocks">5519</link>
		</links>
	</bug>
	<bug id="5167" opendate="2015-08-21 13:28:28" fixdate="2016-07-08 00:34:11" resolution="Done">
		<buginformation>
			<summary>IIOPNamingInContainer*TestCase can not connect to ORB with security manager</summary>
			<description>Description of problem:
Two tests can not connect to ORB with security manager. Tests run in "basic-integration-default-full.surefire" execution of basic profile.

org.jboss.as.test.integration.ejb.iiop.naming.IIOPNamingInContainerDDNameTestCase
org.jboss.as.test.integration.ejb.iiop.naming.IIOPNamingInContainerTestCase

How reproducible:
Always
Steps to Reproduce:

./integration-tests.sh -fae -Dmaven.test.failure.ignore=true -Dnode0=$MYTESTIP_1 -Dnode1=$MYTESTIP_2  -DfailIfNoTests=false  -Dsecurity.manager -Dts.basic -Dts.noSmoke -Dtest=IIOPNamingInContainerDDNameTestCase,IIOPNamingInContainerTestCase

Actual results:






avax.naming.NamingException: WFLYIIOP0031: Cannot connect to ORB




	at com.sun.corba.se.impl.logging.ORBUtilSystemException.connectFailure(ORBUtilSystemException.java:2200)




	at com.sun.corba.se.impl.logging.ORBUtilSystemException.connectFailure(ORBUtilSystemException.java:2221)




	at com.sun.corba.se.impl.transport.SocketOrChannelConnectionImpl.&amp;lt;init&amp;gt;(SocketOrChannelConnectionImpl.java:223)




	at com.sun.corba.se.impl.transport.SocketOrChannelConnectionImpl.&amp;lt;init&amp;gt;(SocketOrChannelConnectionImpl.java:236)




	at com.sun.corba.se.impl.transport.SocketOrChannelContactInfoImpl.createConnection(SocketOrChannelContactInfoImpl.java:119)




	at com.sun.corba.se.impl.protocol.CorbaClientRequestDispatcherImpl.beginRequest(CorbaClientRequestDispatcherImpl.java:187)




	at com.sun.corba.se.impl.protocol.CorbaClientDelegateImpl.request(CorbaClientDelegateImpl.java:137)




	at com.sun.corba.se.impl.protocol.CorbaClientDelegateImpl.is_a(CorbaClientDelegateImpl.java:229)




	at org.omg.CORBA.portable.ObjectImpl._is_a(ObjectImpl.java:130)




	at org.omg.CosNaming.NamingContextHelper.narrow(NamingContextHelper.java:69)




	at org.wildfly.iiop.openjdk.naming.jndi.CNCtx.setOrbAndRootContext(CNCtx.java:353)




	at org.wildfly.iiop.openjdk.naming.jndi.CNCtx.initUsingCorbanameUrl(CNCtx.java:335)




	at org.wildfly.iiop.openjdk.naming.jndi.CNCtx.initUsingUrl(CNCtx.java:268)




	at org.wildfly.iiop.openjdk.naming.jndi.CNCtx.initOrbAndRootContext(CNCtx.java:233)




	at org.wildfly.iiop.openjdk.naming.jndi.CNCtx.&amp;lt;init&amp;gt;(CNCtx.java:99)




	at org.wildfly.iiop.openjdk.naming.jndi.CNCtxFactory.getInitialContext(CNCtxFactory.java:53)




	at org.wildfly.iiop.openjdk.naming.jndi.WrapperInitialContext.lookup(WrapperInitialContext.java:72)




	at javax.naming.InitialContext.lookup(InitialContext.java:417)




	at javax.naming.InitialContext.lookup(InitialContext.java:417)




	at org.jboss.as.test.integration.ejb.iiop.naming.IIOPNamingInContainerDDNameTestCase.testIIOPNamingInvocationWithDDOverride(IIOPNamingInContainerDDNameTestCase.java:55)






Expected results:
No errors on output</description>
			<version>10.0.0.CR1</version>
			<fixedVersion>10.1.0.CR1, 10.1.0.Final</fixedVersion>
			<type>Bug</type>
		</buginformation>
		<fixedFiles>
			<file type="M">org.jboss.as.test.integration.ejb.iiop.naming.IIOPNamingInContainerDDNameTestCase.java</file>
			<file type="M">org.jboss.as.test.integration.ejb.iiop.naming.IIOPNamingInContainerTestCase.java</file>
		</fixedFiles>
		<links>
			<link type="Cloners" description="cloned from">819</link>
			<link type="Dependency" description="blocks">6542</link>
		</links>
	</bug>
	<bug id="3248" opendate="2014-04-10 19:12:46" fixdate="2016-07-08 00:35:07" resolution="Done">
		<buginformation>
			<summary>Clustering Extended testsuite is broken</summary>
			<description>What we did a while back, we made the sync-tcp the default configuration for running the clustering tests. However, we kept a extended testsuite with other combinations and other unimportant clustering tests.</description>
			<version>8.0.0.Final</version>
			<fixedVersion>10.1.0.CR1, 10.1.0.Final</fixedVersion>
			<type>Bug</type>
		</buginformation>
		<fixedFiles>
			<file type="M">org.jboss.as.test.clustering.extended.ejb2.stateful.passivation.dd.ClusterPassivationDDTestCase.java</file>
		</fixedFiles>
	</bug>
	<bug id="6434" opendate="2016-03-29 07:03:38" fixdate="2016-07-08 00:41:54" resolution="Done">
		<buginformation>
			<summary>System property &amp;apos;org.jboss.as.security.jacc-module&amp;apos; not always used</summary>
			<description>JaccService of security subsystem does not use the system property &amp;amp;apos;org.jboss.as.security.jacc-module&amp;amp;apos; for class loader.
Due to this "not using", the custom JACC module is not used.
This property was introduced by WFLY-5340</description>
			<version>10.0.0.Final</version>
			<fixedVersion>10.1.0.CR1, 10.1.0.Final</fixedVersion>
			<type>Bug</type>
		</buginformation>
		<fixedFiles>
			<file type="M">org.jboss.as.security.service.JaccService.java</file>
		</fixedFiles>
	</bug>
	<bug id="3471" opendate="2014-06-09 19:02:59" fixdate="2016-07-08 00:43:57" resolution="Done">
		<buginformation>
			<summary>Scope of JMSContextProducer should be either @Request or @Tx not default</summary>
			<description>From this email thread.
Note that if you @Inject JMSProducer into a @ApplicationScoped bean then that&amp;amp;apos;s the scoping used, although it&amp;amp;apos;s not correct as the scope should be either @Request or @TransactionScoped
To: users@jms-spec.java.net
Subject: [jms-spec users] Re: Confusion about JMSProducer methods and CDI
On 05/06/2014 19:29, Elias Ross wrote:
&amp;gt;
&amp;gt; The other question I had was the scoping for CDI. For example:
&amp;gt;
&amp;gt; @ApplicationScoped
&amp;gt; public class MyClient 
{
&amp;gt;     @Inject JMSContext context;
&amp;gt; }
&amp;gt;
&amp;gt; public class MyServlet extends HttpServlet 
{
&amp;gt;     @Inject MyClient client;
&amp;gt; }
&amp;gt;
&amp;gt; Then JMSContext ends up being potentially shared between multiple
&amp;gt; threads. I would expect the scoping of JMSContext to be request, not
&amp;gt; @Dependent here.
&amp;gt;
Why do you say that the "JMSContext ends up being potentially shared between multiple threads"?
The scope of the injected JMSContext is defined in the JMS 2.0 spec, section 12.4.4. "Scope of injected JMSContext 
objects". Essentially, if there&amp;amp;apos;s a transaction in progress then the injected JMSContext will have transaction scope, 
otherwise it will have request scope.
It looks like you&amp;amp;apos;re in a servlet here, and you haven&amp;amp;apos;t started a transaction, so the injected JMSContext must have 
request scope.
The scope of the injected JMSContext is defined in the JMS 2.0 spec, section 12.4.4. "Scope of injected JMSContext objects". Essentially, if there&amp;amp;apos;s a transaction in progress then the injected JMSContext will have transaction scope, otherwise it will have request scope.
It looks like you&amp;amp;apos;re in a servlet here, and you haven&amp;amp;apos;t started a transaction, so the injected JMSContext must have request scope.</description>
			<version>8.1.0.Final</version>
			<fixedVersion>10.1.0.CR1, 10.1.0.Final</fixedVersion>
			<type>Bug</type>
		</buginformation>
		<fixedFiles>
			<file type="D">org.wildfly.extension.messaging.activemq.deployment.CDIDeploymentProcessor.java</file>
			<file type="M">org.wildfly.extension.messaging.activemq.MessagingSubsystemAdd.java</file>
			<file type="D">org.wildfly.extension.messaging.activemq.deployment.JMSCDIExtension.java</file>
			<file type="D">org.wildfly.extension.messaging.activemq.deployment.JMSContextProducer.java</file>
			<file type="M">org.wildfly.extension.messaging.activemq.deployment.MessagingDependencyProcessor.java</file>
		</fixedFiles>
		<links>
			<link type="Causality" description="causes">4567</link>
		</links>
	</bug>
	<bug id="6740" opendate="2016-06-17 13:51:16" fixdate="2016-07-08 00:44:22" resolution="Done">
		<buginformation>
			<summary>resources for messaging paths are not created in domain&amp;apos;s profile</summary>
			<description>Reading or modyfing of journal paths via CLI is not possible in domain. If you list the journal paths via CLI, you get an empty result. Configuring of journal paths is necessary if you want to have more Artemis servers in one EAP.






ls /profile=full/subsystem=messaging-activemq/server=default/path=





</description>
			<version>10.0.0.Final</version>
			<fixedVersion>10.1.0.CR1, 10.1.0.Final</fixedVersion>
			<type>Bug</type>
		</buginformation>
		<fixedFiles>
			<file type="M">org.wildfly.extension.messaging.activemq.ServerAdd.java</file>
		</fixedFiles>
		<links>
			<link type="Cloners" description="cloned to">5307</link>
		</links>
	</bug>
	<bug id="5464" opendate="2015-10-02 14:35:30" fixdate="2016-07-08 16:47:50" resolution="Done">
		<buginformation>
			<summary>JDR report contains reference to AS7</summary>
			<description>Description of problem:
 JDR report contains some legacy reference to AS7
How reproducible:
 Always
Steps to Reproduce:

Create a JDR report using one of provided scripts (depends on OS)
Check the created report
	
cd $JDR_LOCATION
find | grep as7



Actual results:






./jdr_15-10-02_04-28-03_dhcp-10-40-5-38/sos_strings/as7




./jdr_15-10-02_04-28-03_dhcp-10-40-5-38/sos_strings/as7/configuration.json




./jdr_15-10-02_04-28-03_dhcp-10-40-5-38/sos_strings/as7/tree.txt




./jdr_15-10-02_04-28-03_dhcp-10-40-5-38/sos_strings/as7/dump-services.json




./jdr_15-10-02_04-28-03_dhcp-10-40-5-38/sos_strings/as7/deployment-dependencies.txt




./jdr_15-10-02_04-28-03_dhcp-10-40-5-38/sos_strings/as7/jarcheck.txt




./jdr_15-10-02_04-28-03_dhcp-10-40-5-38/sos_strings/as7/cluster-proxies-configuration.json




./jdr_15-10-02_04-28-03_dhcp-10-40-5-38/sos_strings/as7/local-module-dependencies.txt




./jdr_15-10-02_04-28-03_dhcp-10-40-5-38/sos_strings/as7/system-properties.txt




./jdr_15-10-02_04-28-03_dhcp-10-40-5-38/sos_strings/as7/jndi-view.json






Expected results:
No references to AS7</description>
			<version>10.0.0.CR2</version>
			<fixedVersion>10.1.0.CR1, 10.1.0.Final</fixedVersion>
			<type>Bug</type>
		</buginformation>
		<fixedFiles>
			<file type="M">org.jboss.as.jdr.commands.JdrEnvironment.java</file>
			<file type="M">org.jboss.as.jdr.util.JdrZipFile.java</file>
			<file type="M">org.jboss.as.jdr.JdrRunner.java</file>
		</fixedFiles>
		<links>
			<link type="Cloners" description="cloned from">1223</link>
		</links>
	</bug>
	<bug id="6782" opendate="2016-06-27 21:09:32" fixdate="2016-07-13 01:38:19" resolution="Done">
		<buginformation>
			<summary>Unable to add JGroups protocol at a given index via CLI</summary>
			<description>Unable to use this via CLI, tests pass since they use management client which won&amp;amp;apos;t check against  the operation description:






[standalone@localhost:9990 /] /subsystem=jgroups/stack=tcp/protocol=JDBC_PING:add(add-index=4)




&amp;amp;apos;add-index&amp;amp;apos; is not found among the supported properties: [socket-binding, module, properties, type]






add index is missing in the description, after the fix:






[standalone@localhost:9990 /] /subsystem=jgroups/stack=tcp/protocol=MPING:read-operation-description(name=add




{




    "outcome" =&amp;gt; "success",




    "result" =&amp;gt; {




        "operation-name" =&amp;gt; "add",




        "description" =&amp;gt; "Add a protocol to a protocol stack.",




        "request-properties" =&amp;gt; {




            "add-index" =&amp;gt; {




                "type" =&amp;gt; INT,




                "description" =&amp;gt; "If specified inserts the protocol at the given (zero-based) index. If null it will add at the end.",




                "expressions-allowed" =&amp;gt; false,




                "required" =&amp;gt; false,




                "nillable" =&amp;gt; true




            },





</description>
			<version>8.2.1.Final</version>
			<fixedVersion>10.1.0.CR1, 10.1.0.Final</fixedVersion>
			<type>Bug</type>
		</buginformation>
		<fixedFiles>
			<file type="M">org.jboss.as.clustering.jgroups.subsystem.StackResourceDefinition.java</file>
			<file type="M">org.jboss.as.clustering.jgroups.subsystem.TransportResourceDefinition.java</file>
			<file type="M">org.jboss.as.clustering.jgroups.subsystem.JGroupsModel.java</file>
			<file type="M">org.jboss.as.clustering.jgroups.subsystem.ForkProtocolResourceDefinition.java</file>
			<file type="M">org.jboss.as.clustering.jgroups.subsystem.StackProtocolResourceDefinition.java</file>
			<file type="M">org.jboss.as.clustering.jgroups.subsystem.ChannelResourceDefinition.java</file>
			<file type="M">org.jboss.as.clustering.jgroups.subsystem.ProtocolResourceDefinition.java</file>
			<file type="M">org.jboss.as.clustering.controller.ChildResourceDefinition.java</file>
			<file type="M">org.jboss.as.test.integration.domain.OrderedChildResourcesTestCase.java</file>
			<file type="M">org.jboss.as.clustering.controller.AddStepHandler.java</file>
		</fixedFiles>
		<links>
			<link type="Cloners" description="cloned to">5133</link>
			<link type="Sequence" description="follows up on">598</link>
			<link type="Sequence" description="follows up on">4723</link>
		</links>
	</bug>
	<bug id="6350" opendate="2016-03-10 22:44:39" fixdate="2016-07-13 13:04:06" resolution="Done">
		<buginformation>
			<summary>Configuration differences between default configuration and read/persisted in messaging and IIOP</summary>
			<description>Following up on JBEAP-3093, there are still differences in these 2 subsystems:






258a255




&amp;gt;             &amp;lt;orb socket-binding="iiop" ssl-socket-binding="iiop-ssl"/&amp;gt;




337c334




&amp;lt;                     &amp;lt;role name="guest" delete-non-durable-queue="true" create-non-durable-queue="true" consume="true" send="true"/&amp;gt;




---




&amp;gt;                     &amp;lt;role name="guest" send="true" consume="true" create-non-durable-queue="true" delete-non-durable-queue="true"/&amp;gt;




339,341c336,338




&amp;lt;                 &amp;lt;address-setting name="#" redistribution-delay="1000" message-counter-history-day-limit="10" page-size-bytes="2097152" max-size-bytes="10485760" expiry-address="jms.queue.ExpiryQueue" dead-letter-address="jms.queue.DLQ"/&amp;gt;




&amp;lt;                 &amp;lt;http-connector name="http-connector" endpoint="http-acceptor" socket-binding="http"/&amp;gt;




&amp;lt;                 &amp;lt;http-connector name="http-connector-throughput" endpoint="http-acceptor-throughput" socket-binding="http"&amp;gt;




---




&amp;gt;                 &amp;lt;address-setting name="#" dead-letter-address="jms.queue.DLQ" expiry-address="jms.queue.ExpiryQueue" max-size-bytes="10485760" page-size-bytes="2097152" message-counter-history-day-limit="10" redistribution-delay="1000"/&amp;gt;




&amp;gt;                 &amp;lt;http-connector name="http-connector" socket-binding="http" endpoint="http-acceptor"/&amp;gt;




&amp;gt;                 &amp;lt;http-connector name="http-connector-throughput" socket-binding="http" endpoint="http-acceptor-throughput"&amp;gt;




353c350




&amp;lt;                 &amp;lt;cluster-connection name="my-cluster" discovery-group="dg-group1" connector-name="http-connector" address="jms"/&amp;gt;




---




&amp;gt;                 &amp;lt;cluster-connection name="my-cluster" address="jms" connector-name="http-connector" discovery-group="dg-group1"/&amp;gt;




356,358c353,355




&amp;lt;                 &amp;lt;connection-factory name="InVmConnectionFactory" entries="java:/ConnectionFactory" connectors="in-vm"/&amp;gt;




&amp;lt;                 &amp;lt;connection-factory name="RemoteConnectionFactory" reconnect-attempts="-1" block-on-acknowledge="true" ha="true" entries="java:jboss/exported/jms/RemoteConnectionFactory" connectors="http-connector"/&amp;gt;




&amp;lt;                 &amp;lt;pooled-connection-factory name="activemq-ra" transaction="xa" entries="java:/JmsXA java:jboss/DefaultJMSConnectionFactory" connectors="in-vm"/&amp;gt;




---




&amp;gt;                 &amp;lt;connection-factory name="InVmConnectionFactory" connectors="in-vm" entries="java:/ConnectionFactory"/&amp;gt;




&amp;gt;                 &amp;lt;connection-factory name="RemoteConnectionFactory" ha="true" block-on-acknowledge="true" reconnect-attempts="-1" connectors="http-connector" entries="java:jboss/exported/jms/RemoteConnectionFactory"/&amp;gt;




&amp;gt;                 &amp;lt;pooled-connection-factory name="activemq-ra" transaction="xa" connectors="in-vm" entries="java:/JmsXA java:jboss/DefaultJMSConnectionFactory"/&amp;gt;










</description>
			<version>10.0.0.Final</version>
			<fixedVersion>10.1.0.CR1, 10.1.0.Final</fixedVersion>
			<type>Bug</type>
		</buginformation>
		<fixedFiles>
			<file type="M">org.wildfly.extension.messaging.activemq.MessagingSubsystemParser_1_0.java</file>
			<file type="M">org.wildfly.extension.undertow.UndertowSubsystemParser_3_1.java</file>
			<file type="M">org.wildfly.iiop.openjdk.IIOPSubsystemParser.java</file>
		</fixedFiles>
		<links>
			<link type="Cloners" description="cloned from">3773</link>
			<link type="Dependency" description="is blocked by">1432</link>
			<link type="Dependency" description="is blocked by">3792</link>
		</links>
	</bug>
	<bug id="6817" opendate="2016-07-11 20:57:09" fixdate="2016-07-13 21:32:55" resolution="Done">
		<buginformation>
			<summary>JASPICSecureResponseHandler.handleRequest throws NullPointerException when redirecting for CONFIDENTIAL transport guarantee</summary>
			<description>JASPICSecureResponseHandler.handleRequest can throw a NPE for a redirect from a CONFIDENTIAL transport guarantee:






java.lang.NullPointerException




        at org.wildfly.extension.undertow.security.jaspi.JASPICSecureResponseHandler.handleRequest(JASPICSecureResponseHandler.java:35)




        at io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43)




        at io.undertow.servlet.handlers.ServletInitialHandler.handleFirstRequest(ServletInitialHandler.java:285)




        at io.undertow.servlet.handlers.ServletInitialHandler.dispatchRequest(ServletInitialHandler.java:264)




        at io.undertow.servlet.handlers.ServletInitialHandler.access$000(ServletInitialHandler.java:81)




        at io.undertow.servlet.handlers.ServletInitialHandler$1.handleRequest(ServletInitialHandler.java:175)




        at io.undertow.server.Connectors.executeRootHandler(Connectors.java:202)




        at io.undertow.server.HttpServerExchange$1.run(HttpServerExchange.java:792)




        at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)




        at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)




        at java.lang.Thread.run(Thread.java:745)






This occurs because io.undertow.security.handlers.AbstractConfidentialityHandler generates the redirect before any JASPICContext is placed on the request, so JASPICSecureResponseHandler sees the null.</description>
			<version>10.0.0.Final</version>
			<fixedVersion>10.1.0.CR1, 10.1.0.Final</fixedVersion>
			<type>Bug</type>
		</buginformation>
		<fixedFiles>
			<file type="M">org.wildfly.extension.undertow.security.jaspi.JASPICSecureResponseHandler.java</file>
		</fixedFiles>
		<links>
			<link type="Cloners" description="cloned to">5226</link>
		</links>
	</bug>
	<bug id="6501" opendate="2016-04-07 07:18:12" fixdate="2016-07-17 20:23:55" resolution="Done">
		<buginformation>
			<summary>EJB with AroundConstruct interceptor with Object return type fails to deploy</summary>
			<description>Having:






@Stateless




@Interceptors(AroundConstructInterceptor.class)




public class AroundConstructSLSB {




...




}






and 






public class AroundConstructInterceptor {









    public static volatile boolean intercepted = false;









    @AroundConstruct




    private Object aroundConstruct(InvocationContext ctx) throws Exception {




        intercepted = true;




        return ctx.proceed();




    }




}






fails with following exception:






08:18:55,464 ERROR [org.jboss.msc.service.fail] (MSC service thread 1-4) MSC000001: Failed to start service jboss.deployment.unit."bcc899ab-39cf-44dc-a2ba-e364d53091cc.war".INSTALL: org.jboss.msc.service.StartException in service jboss.deployment.unit."bcc899ab-39cf-44dc-a2ba-e364d53091cc.war".INSTALL: WFLYSRV0153: Failed to process phase INSTALL of deployment "bcc899ab-39cf-44dc-a2ba-e364d53091cc.war"




	at org.jboss.as.server.deployment.DeploymentUnitPhaseService.start(DeploymentUnitPhaseService.java:154)




	at org.jboss.msc.service.ServiceControllerImpl$StartTask.startService(ServiceControllerImpl.java:1948)




	at org.jboss.msc.service.ServiceControllerImpl$StartTask.run(ServiceControllerImpl.java:1881)




	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)




	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)




	at java.lang.Thread.run(Thread.java:745)




Caused by: org.jboss.as.server.deployment.DeploymentUnitProcessingException: WFLYEE0024: Could not configure component AroundConstructSLSB




	at org.jboss.as.ee.component.deployers.EEModuleConfigurationProcessor.deploy(EEModuleConfigurationProcessor.java:96)




	at org.jboss.as.server.deployment.DeploymentUnitPhaseService.start(DeploymentUnitPhaseService.java:147)




	... 5 more




Caused by: org.jboss.as.server.deployment.DeploymentUnitProcessingException: WFLYSRV0175: No method found with id: Method aroundConstruct(javax.interceptor.InvocationContext) on class (or its super class) class org.jboss.as.test.integration.ejb.interceptor.aroundconstruct.returnObject.AroundConstructInterceptor




	at org.jboss.as.server.deployment.reflect.ClassReflectionIndexUtil.findRequiredMethod(ClassReflectionIndexUtil.java:79)




	at org.jboss.as.ee.component.DefaultInterceptorConfigurator$1.handleInterceptorClass(DefaultInterceptorConfigurator.java:177)




	at org.jboss.as.ee.component.DefaultInterceptorConfigurator$1.handle(DefaultInterceptorConfigurator.java:158)




	at org.jboss.as.ee.component.ClassDescriptionTraversal.run(ClassDescriptionTraversal.java:54)




	at org.jboss.as.ee.component.DefaultInterceptorConfigurator.configure(DefaultInterceptorConfigurator.java:188)




	at org.jboss.as.ee.component.deployers.EEModuleConfigurationProcessor.deploy(EEModuleConfigurationProcessor.java:82)




	... 6 more






I cannot see any statement in Interceptor spec forbidding this. Testcase is available at https://github.com/tremes/wildfly/tree/intercept_ejb. I think the problem is class description having this method return type as void. I guess it occurs at first at https://github.com/wildfly/wildfly/blob/master/ee/src/main/java/org/jboss/as/ee/component/ClassDescriptionTraversal.java#L46 </description>
			<version>10.0.0.Final</version>
			<fixedVersion>10.1.0.CR1, 10.1.0.Final</fixedVersion>
			<type>Bug</type>
		</buginformation>
		<fixedFiles>
			<file type="M">org.jboss.as.test.integration.ejb.interceptor.aroundconstruct.simple.AroundConstructSimpleTestCase.java</file>
			<file type="M">org.jboss.as.ee.component.deployers.LifecycleAnnotationParsingProcessor.java</file>
		</fixedFiles>
		<links>
			<link type="Cloners" description="cloned to">4594</link>
		</links>
	</bug>
	<bug id="6754" opendate="2016-06-22 11:00:06" fixdate="2016-07-18 00:54:13" resolution="Done">
		<buginformation>
			<summary>Bindings of most binding-types can not be created in naming subsystem configuration in Web Console</summary>
			<description>When adding bindings in naming subsystem configuration of Web Console, the Add form has wrong mandatory fields. Mandatory fields for bindings are dependent on binding type. 
On the other hand, some binding types do not have attributes that the Add form will try to send to the interface, resulting in user being unable to add any binding type besides external context (for example, adding a simple or lookup binding will result in Unknown error due to simple binding type not being able to have &amp;amp;apos;cache&amp;amp;apos; attribute).
For example, /subsystem=naming/binding=java\:global\/a:add(binding-type=simple, type=int, value=100) would be a legal simple binding inserted through the JBoss CLI:






{"outcome" =&amp;gt; "success"}






Adding this same following binding will produce the following error output in Web Console:
Unknown error
Unexpected HTTP response: 500
Request






{




    "name" =&amp;gt; "java:global/a",




    "binding-type" =&amp;gt; "simple",




    "cache" =&amp;gt; false,




    "class" =&amp;gt; undefined,




    "environment" =&amp;gt; undefined,




    "lookup" =&amp;gt; undefined,




    "module" =&amp;gt; undefined,




    "type" =&amp;gt; "int",




    "value" =&amp;gt; "100",




    "operation" =&amp;gt; "add",




    "address" =&amp;gt; [




        ("subsystem" =&amp;gt; "naming"),




        ("binding" =&amp;gt; "java:global/a")




    ]




}






Response
Internal Server Error






{




    "outcome" =&amp;gt; "failed",




    "failure-description" =&amp;gt; "WFLYNAM0061: Binding type simple can not take a &amp;amp;apos;cache&amp;amp;apos; attribute",




    "rolled-back" =&amp;gt; true




}






</description>
			<version>10.0.0.Final</version>
			<fixedVersion>10.1.0.CR1, 10.1.0.Final</fixedVersion>
			<type>Bug</type>
		</buginformation>
		<fixedFiles>
			<file type="M">org.jboss.as.naming.subsystem.NamingBindingResourceDefinition.java</file>
		</fixedFiles>
		<links>
			<link type="Cloners" description="cloned from">5101</link>
		</links>
	</bug>
	<bug id="6741" opendate="2016-06-17 14:42:15" fixdate="2016-07-18 00:55:56" resolution="Done">
		<buginformation>
			<summary>Missing validation for messaging-activemq (journal-buffer-size)</summary>
			<description>There is no validation for journal-buffer-size attribute. 
The following request shouldn&amp;amp;apos;t be successful:






[standalone@localhost:9990 /] /subsystem=messaging-activemq/server=default:write-attribute(name=journal-buffer-size, value=-8L




{




    "outcome" =&amp;gt; "success",




}




[standalone@localhost:9990 /] reload






server.log






15:11:57,787 ERROR [org.apache.activemq.artemis.core.server] (ServerService Thread Pool -- 64) AMQ224000: Failure in initialisation: java.lang.IllegalArgumentException: initialCapacity: -8 (expectd: 0+)




	at io.netty.buffer.AbstractByteBufAllocator.validate(AbstractByteBufAllocator.java:196)




	at io.netty.buffer.AbstractByteBufAllocator.heapBuffer(AbstractByteBufAllocator.java:135)




	at io.netty.buffer.Unpooled.buffer(Unpooled.java:135)




	at org.apache.activemq.artemis.api.core.ActiveMQBuffers.fixedBuffer(ActiveMQBuffers.java:86)




	at org.apache.activemq.artemis.core.io.buffer.TimedBuffer.&amp;lt;init&amp;gt;(TimedBuffer.java:108)




	at org.apache.activemq.artemis.core.io.AbstractSequentialFileFactory.&amp;lt;init&amp;gt;(AbstractSequentialFileFactory.java:74)




	at org.apache.activemq.artemis.core.io.aio.AIOSequentialFileFactory.&amp;lt;init&amp;gt;(AIOSequentialFileFactory.java:77)




	at org.apache.activemq.artemis.core.persistence.impl.journal.JournalStorageManager.&amp;lt;init&amp;gt;(JournalStorageManager.java:251)




	at org.apache.activemq.artemis.core.server.impl.ActiveMQServerImpl.createStorageManager(ActiveMQServerImpl.java:1421)




	at org.apache.activemq.artemis.core.server.impl.ActiveMQServerImpl.initialisePart1(ActiveMQServerImpl.java:1540)




	at org.apache.activemq.artemis.core.server.impl.LiveOnlyActivation.run(LiveOnlyActivation.java:61)




	at org.apache.activemq.artemis.core.server.impl.ActiveMQServerImpl.start(ActiveMQServerImpl.java:396)




	at org.apache.activemq.artemis.jms.server.impl.JMSServerManagerImpl.start(JMSServerManagerImpl.java:381)




	at org.wildfly.extension.messaging.activemq.jms.JMSService.doStart(JMSService.java:199)




	at org.wildfly.extension.messaging.activemq.jms.JMSService.access$000(JMSService.java:63)




	at org.wildfly.extension.messaging.activemq.jms.JMSService$1.run(JMSService.java:97)




	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)




	at java.util.concurrent.FutureTask.run(FutureTask.java:266)




	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)




	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)




	at java.lang.Thread.run(Thread.java:745)




	at org.jboss.threads.JBossThread.run(JBossThread.java:320)






This issue can occur on other subsystem resources as well.</description>
			<version>10.0.0.Final</version>
			<fixedVersion>10.1.0.CR1, 10.1.0.Final</fixedVersion>
			<type>Bug</type>
		</buginformation>
		<fixedFiles>
			<file type="M">org.wildfly.extension.messaging.activemq.ServerDefinition.java</file>
		</fixedFiles>
		<links>
			<link type="Cloners" description="cloned from">5055</link>
		</links>
	</bug>
	<bug id="6579" opendate="2016-05-01 21:20:51" fixdate="2016-07-18 03:04:56" resolution="Done">
		<buginformation>
			<summary>When JASPIC&amp;apos;s register session is used, Subject not propagated to EJB</summary>
			<description>When the JASPIC 1.1 register session (javax.servlet.http.registerSession) is used, the authenticated identity (via the Subject) is not propagated to the EJB container.
The problems seems to be with JASPICAuthenticationMechanism.createAccount. When a cached account is re-used, a null is passed for the Subject parameter in the call to jbossSct.getUtil().createSubjectInfo. This will set indeed set a SubjectInfo with subject being null.
EJBContext#getCallerPrincipal checks exactly this subject, and when seeing a null will consider the user to be unauthenticated, even when the caller is authenticated in the web layer.
See the code below:






   // SAM handled the same principal found in the cached account: indicates we must use the cached account.




        if (cachedAccount != null &amp;amp;&amp;amp; cachedAccount.getPrincipal() == userPrincipal) {




            // populate the security context using the cached account data.




            jbossSct.getUtil().createSubjectInfo(




                userPrincipal, ((AccountImpl) cachedAccount).getCredential(), 




                null); // PROBLEMATIC NULL




            RoleGroup roleGroup = new SimpleRoleGroup(SecurityConstants.ROLES_IDENTIFIER);




            for (String role : cachedAccount.getRoles())




                roleGroup.addRole(new SimpleRole(role));




            jbossSct.getUtil().setRoles(roleGroup);




            return cachedAccount;




        }






Instead of passing a null, passing the existing subject as set by the JASPIC callback handler seems to work:






jbossSct.getUtil().createSubjectInfo(




    userPrincipal, ((AccountImpl) cachedAccount).getCredential(), 




    jbossSct.getUtil().getSubject());





</description>
			<version>10.0.0.Final</version>
			<fixedVersion>10.1.0.CR1, 10.1.0.Final</fixedVersion>
			<type>Bug</type>
		</buginformation>
		<fixedFiles>
			<file type="M">org.wildfly.extension.undertow.security.jaspi.JASPICAuthenticationMechanism.java</file>
		</fixedFiles>
		<links>
			<link type="Cloners" description="cloned from">6403</link>
		</links>
	</bug>
	<bug id="6402" opendate="2016-03-17 16:37:35" fixdate="2016-07-18 10:58:42" resolution="Done">
		<buginformation>
			<summary>EJBs accessible too early (spec violation)</summary>
			<description>





EJB 3.1 spec, section 4.8.1:




    "If the Startup annotation appears on the Singleton bean class or if the Singleton has been designated via the deployment descriptor as requiring eager initialization, the container must initialize the Singleton bean instance during the application startup sequence. The container must initialize all such startup-time Singletons before any external client requests (that is, client requests originating outside of the application) are delivered to any enterprise bean components in the application.






Wildlfy does not implement this correctly, and allows calls to other EJBs before a @Startup @Singleton finishes its @PostConstruct call.
This Jira ticket handles two PR&amp;amp;apos;s on WFLY:
https://github.com/wildfly/wildfly/pull/8824 (that is already merged)
and https://github.com/wildfly/wildfly/pull/8989</description>
			<version>10.0.0.Final</version>
			<fixedVersion></fixedVersion>
			<type>Bug</type>
		</buginformation>
		<fixedFiles>
			<file type="M">org.jboss.as.ee.component.deployers.EEModuleConfigurationProcessor.java</file>
			<file type="M">org.jboss.as.ee.component.deployers.StartupCountdown.java</file>
			<file type="M">org.jboss.as.ejb3.remote.LocalEjbReceiver.java</file>
			<file type="M">org.jboss.as.ejb3.component.singleton.StartupCountDownInterceptor.java</file>
			<file type="M">org.jboss.as.ejb3.component.interceptors.AsyncFutureInterceptorFactory.java</file>
			<file type="M">org.jboss.as.ee.component.EEModuleDescription.java</file>
			<file type="M">org.jboss.as.ejb3.component.singleton.SingletonComponentDescription.java</file>
			<file type="M">org.jboss.as.ejb3.subsystem.EJB3SubsystemAdd.java</file>
			<file type="M">org.jboss.as.ee.component.interceptors.InterceptorOrder.java</file>
			<file type="M">org.jboss.as.ejb3.deployment.processors.merging.StartupMergingProcessor.java</file>
			<file type="M">org.jboss.as.ee.component.Attachments.java</file>
		</fixedFiles>
		<links>
			<link type="Cloners" description="cloned to">5299</link>
			<link type="Sequence" description="is followed up by">7069</link>
			<link type="Superset" description="is incorporated by">5299</link>
		</links>
	</bug>
	<bug id="6645" opendate="2016-05-24 08:27:26" fixdate="2016-07-19 14:35:57" resolution="Done">
		<buginformation>
			<summary>DriverProcessor should catch Throwable and not only Exception</summary>
			<description>The method org.jboss.as.connector.deployers.ds.processors.DriverProcessor.deploy() should catch java.lang.Throwable instead of only java.lang.Exception because class loading can also produce Throwables of type java.lang.Error.






08:29:48,196 ERROR [org.jboss.msc.service.fail] (MSC service thread 1-4) MSC000001: Failed to start service jboss.deployment.unit."reporting.war".INSTALL: org.jboss.msc.service.StartException in service jboss.deployment.unit."reporting.war".INSTALL: WFLYSRV0153: Failed to process phase INSTALL of deployment "reporting.war"




	at org.jboss.as.server.deployment.DeploymentUnitPhaseService.start(DeploymentUnitPhaseService.java:154)




	at org.jboss.msc.service.ServiceControllerImpl$StartTask.startService(ServiceControllerImpl.java:1948)




	at org.jboss.msc.service.ServiceControllerImpl$StartTask.run(ServiceControllerImpl.java:1881)




	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)




	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)




	at java.lang.Thread.run(Thread.java:745)




Caused by: java.lang.UnsatisfiedLinkError: Unable to load library &amp;amp;apos;odbc&amp;amp;apos;: Native library (linux-x86/libodbc.so) not found in resource path (/home/andrek/Schreibtisch/wildfly-10.0.0.Final/jboss-modules.jar)




	at com.sun.jna.NativeLibrary.loadLibrary(NativeLibrary.java:277)




	at com.sun.jna.NativeLibrary.getInstance(NativeLibrary.java:403)




	at com.sun.jna.Library$Handler.&amp;lt;init&amp;gt;(Library.java:147)




	at com.inet.odbc.OdbcLibrary$1.&amp;lt;init&amp;gt;(OdbcLibrary.java:34)




	at com.inet.odbc.OdbcLibrary.&amp;lt;clinit&amp;gt;(OdbcLibrary.java:34)




	at com.inet.odbc.OdbcDriver.&amp;lt;clinit&amp;gt;(OdbcDriver.java:21)




	at sun.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)




	at sun.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:62)




	at sun.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45)




	at java.lang.reflect.Constructor.newInstance(Constructor.java:408)




	at org.jboss.as.connector.deployers.ds.processors.DriverProcessor.deploy(DriverProcessor.java:65)




	at org.jboss.as.server.deployment.DeploymentUnitPhaseService.start(DeploymentUnitPhaseService.java:147)




	... 5 more









08:29:48,213 ERROR [org.jboss.as.controller.management-operation] (management task-7) WFLYCTL0013: Operation ("add") failed - address: ([("deployment" =&amp;gt; "reporting")]) - failure description: {"WFLYCTL0080: Failed services" =&amp;gt; {"jboss.deployment.unit.\"reporting.war\".INSTALL" =&amp;gt; "org.jboss.msc.service.StartException in service jboss.deployment.unit.\"reporting.war\".INSTALL: WFLYSRV0153: Failed to process phase INSTALL of deployment \"reporting.war\"




    Caused by: java.lang.UnsatisfiedLinkError: Unable to load library &amp;amp;apos;odbc&amp;amp;apos;: Native library (linux-x86/libodbc.so) not found in resource path (/home/andrek/Schreibtisch/wildfly-10.0.0.Final/jboss-modules.jar)"}}




08:29:48,217 ERROR [org.jboss.as.server] (management task-7) WFLYSRV0021: Deploy of deployment "reporting.war" was rolled back with the following failure message: 




{"WFLYCTL0080: Failed services" =&amp;gt; {"jboss.deployment.unit.\"reporting.war\".INSTALL" =&amp;gt; "org.jboss.msc.service.StartException in service jboss.deployment.unit.\"reporting.war\".INSTALL: WFLYSRV0153: Failed to process phase INSTALL of deployment \"reporting.war\"




    Caused by: java.lang.UnsatisfiedLinkError: Unable to load library &amp;amp;apos;odbc&amp;amp;apos;: Native library (linux-x86/libodbc.so) not found in resource path (/home/andrek/Schreibtisch/wildfly-10.0.0.Final/jboss-modules.jar)"}}





</description>
			<version>10.0.0.Final</version>
			<fixedVersion>10.1.0.CR1, 10.1.0.Final</fixedVersion>
			<type>Bug</type>
		</buginformation>
		<fixedFiles>
			<file type="M">org.jboss.as.connector.deployers.ds.processors.DriverProcessor.java</file>
		</fixedFiles>
	</bug>
	<bug id="6787" opendate="2016-06-28 09:59:31" fixdate="2016-07-20 16:51:09" resolution="Done">
		<buginformation>
			<summary>WebSockets compression should be allowed by default</summary>
			<description>In EAP 6.4 there was allowed WebSockets compression by default if requested by client. In EAP 7 it is not. I believe it should be also allowed by default in EAP 7.</description>
			<version>10.0.0.Final</version>
			<fixedVersion>10.1.0.CR1, 10.1.0.Final</fixedVersion>
			<type>Bug</type>
		</buginformation>
		<fixedFiles>
			<file type="M">org.wildfly.extension.undertow.deployment.UndertowDeploymentInfoService.java</file>
		</fixedFiles>
		<links>
			<link type="Cloners" description="cloned from">5076</link>
		</links>
	</bug>
	<bug id="6838" opendate="2016-07-15 21:43:43" fixdate="2016-07-20 16:51:39" resolution="Done">
		<buginformation>
			<summary>RPCs to non-existant FORK channel are dropped</summary>
			<description>RPCs sent to a FORK channel that is not currently running are not responded to correctly, causing the caller to eventually time out.
An error response is being sent by org.jboss.as.clustering.jgroups.JChannelFactory, but the request ID is hard-coded to 0 so the reply can not be routed back to the sender and gets dropped.</description>
			<version>10.0.0.Final</version>
			<fixedVersion>10.1.0.CR1, 10.1.0.Final</fixedVersion>
			<type>Bug</type>
		</buginformation>
		<fixedFiles>
			<file type="M">org.jboss.as.clustering.jgroups.JChannelFactory.java</file>
		</fixedFiles>
		<links>
			<link type="Cloners" description="cloned to">5365</link>
		</links>
	</bug>
	<bug id="6561" opendate="2016-04-26 22:01:32" fixdate="2016-07-20 16:52:25" resolution="Done">
		<buginformation>
			<summary>EJB Timers Intermittently Execute Repeatedly on Server Restart with Error Code WFLYEJB0043</summary>
			<description>On Wildfly10, we are experiencing intermittent problems where on server startup, an @Timeout annotated method can be executed hundreds of times in a second (log below).  Going through the references to the @Timeout methods and the @Scheduled methods, all scheduled methods are set to be non-persistent (ex: timerConfig.setPersistent(false), persistent=false) so we don&amp;amp;apos;t know how this could occur.  It is not consistent and our only solution has been to kill the Wildfly10 server process and restart.
13:47:27,824 WARN  [org.jboss.as.ejb3] (EJB default - 6) [  ] WFLYEJB0043: A previous execution of timer [id=d31eb95a-3f8b-4b7d-882e-f1ff53bc7de8 timedObjectId=synergy.synergy-app-head.QuartzWatcherService auto-timer?:false persistent?:false timerService=org.jboss.as.ejb3.timerservice.TimerServiceImpl@dec94c6 initialExpiration=null intervalDuration(in milli sec)=0 nextExpiration=Wed Apr 06 12:10:00 PDT 2016 timerState=IN_TIMEOUT info=null] is still in progress, skipping this overlapping scheduled execution at: Wed Apr 06 13:47:27 PDT 2016.
13:47:27,825 WARN  [org.jboss.as.ejb3] (EJB default - 96) [  ] WFLYEJB0043: A previous execution of timer [id=d31eb95a-3f8b-4b7d-882e-f1ff53bc7de8 timedObjectId=synergy.synergy-app-head.QuartzWatcherService auto-timer?:false persistent?:false timerService=org.jboss.as.ejb3.timerservice.TimerServiceImpl@dec94c6 initialExpiration=null intervalDuration(in milli sec)=0 nextExpiration=Wed Apr 06 12:10:00 PDT 2016 timerState=IN_TIMEOUT info=null] is still in progress, skipping this overlapping scheduled execution at: Wed Apr 06 13:47:27 PDT 2016.
13:47:27,825 WARN  [org.jboss.as.ejb3] (EJB default - 97) [  ] WFLYEJB0043: A previous execution of timer [id=d31eb95a-3f8b-4b7d-882e-f1ff53bc7de8 timedObjectId=synergy.synergy-app-head.QuartzWatcherService auto-timer?:false persistent?:false timerService=org.jboss.as.ejb3.timerservice.TimerServiceImpl@dec94c6 initialExpiration=null intervalDuration(in milli sec)=0 nextExpiration=Wed Apr 06 12:10:00 PDT 2016 timerState=IN_TIMEOUT info=null] is still in progress, skipping this overlapping scheduled execution at: Wed Apr 06 13:47:27 PDT 2016.
13:47:27,825 WARN  [org.jboss.as.ejb3] (EJB default - 37) [  ] WFLYEJB0043: A previous execution of timer [id=d31eb95a-3f8b-4b7d-882e-f1ff53bc7de8 timedObjectId=synergy.synergy-app-head.QuartzWatcherService auto-timer?:false persistent?:false timerService=org.jboss.as.ejb3.timerservice.TimerServiceImpl@dec94c6 initialExpiration=null intervalDuration(in milli sec)=0 nextExpiration=Wed Apr 06 12:10:00 PDT 2016 timerState=IN_TIMEOUT info=null] is still in progress, skipping this overlapping scheduled execution at: Wed Apr 06 13:47:27 PDT 2016.</description>
			<version>10.0.0.Final</version>
			<fixedVersion>10.1.0.CR1, 10.1.0.Final</fixedVersion>
			<type>Bug</type>
		</buginformation>
		<fixedFiles>
			<file type="M">org.jboss.as.ejb3.timerservice.schedule.CalendarBasedTimeout.java</file>
		</fixedFiles>
		<links>
			<link type="Cloners" description="cloned to">4442</link>
		</links>
	</bug>
	<bug id="6215" opendate="2016-02-15 16:03:03" fixdate="2016-07-20 18:49:44" resolution="Done">
		<buginformation>
			<summary>SessionSynchronization callbacks allow concurrent access to SFSB</summary>
			<description>Issue first encountered by customer in EAP5 (JBPAPP-11239).
Assume a local SFSB, B1, with container managed transactions and a calling SFSB, B2, which has bean managed transactions.  B1 implements the SessionSynchronization interface.  
When B2&amp;amp;apos;s bean managed transaction timesout whilst executing B1.exampleMethod(), B2&amp;amp;apos;s transaction aborts and the transaction reaper thread calls B1.afterCompletion().  However, the original worker thread that was executing B1.exampleMethod() continues to execute B1.exampleMethod() until it has completed.  Hence it is possible for the B1 SFSB to be accessed concurrently.  It is also possible for B1.afterCompletion() to finish executing before B1.exampleMethod().</description>
			<version>10.0.0.Final</version>
			<fixedVersion>10.1.0.CR1, 10.1.0.Final</fixedVersion>
			<type>Bug</type>
		</buginformation>
		<fixedFiles>
			<file type="M">org.jboss.as.ejb3.component.stateful.StatefulSessionSynchronizationInterceptor.java</file>
			<file type="M">org.jboss.as.ejb3.component.stateful.StatefulComponentInstanceInterceptor.java</file>
			<file type="M">org.jboss.as.ejb3.component.stateful.StatefulSessionComponentInstance.java</file>
			<file type="M">org.jboss.as.ejb3.component.stateful.StatefulSessionComponent.java</file>
			<file type="M">org.jboss.as.ejb3.logging.EjbLogger.java</file>
		</fixedFiles>
		<links>
			<link type="Cloners" description="cloned to">3448</link>
			<link type="Dependency" description="is blocked by">6271</link>
		</links>
	</bug>
	<bug id="5739" opendate="2015-11-26 16:09:38" fixdate="2016-07-20 18:52:23" resolution="Done">
		<buginformation>
			<summary>Subject not populated with groups/roles when authenticated via JASPIC</summary>
			<description>After having authenticated via JASPIC, requesting the current Subject via JACC and then using that for permission checks fails.
For instance the following code will always set hasAccess to false given that "/protected/*" requires a role and the authenticated user is in that role:






Subject subject = (Subject) PolicyContext.getContext("javax.security.auth.Subject.container");




 




boolean hasAccess = Policy.getPolicy().implies(




    new ProtectionDomain(




        new CodeSource(null, (Certificate[]) null),




        null, null, 




        subject.getPrincipals().toArray(new Principal[subject.getPrincipals().size()])




    ),




    new WebResourcePermission("/protected/Servlet", "GET"))




;






As it appears, the problem originates from the fact that subject.getPrincipals() does not contain the roles.
This can be traced back to org.jboss.security.auth.callback.JASPICallbackHandler.handleCallBack, where it becomes clear that the roles are only put into the "util", but not in the "authenticatedSubject":






String[] rolesArray = groupPrincipalCallback.getGroups();




int sizeOfRoles = rolesArray != null ? rolesArray.length : 0;




 




if( sizeOfRoles &amp;gt; 0 )




{




  List&amp;lt;Role&amp;gt; rolesList = new ArrayList&amp;lt;Role&amp;gt;();




  for( int i = 0; i &amp;lt; sizeOfRoles ; i++ )




  {




     Role role = new SimpleRole( rolesArray[ i ] );




     rolesList.add( role );




  }




  RoleGroup roles = new SimpleRoleGroup( SecurityConstants.ROLES_IDENTIFIER, rolesList );









  // if the current security context already has roles, we merge them with the incoming roles.




  RoleGroup currentRoles = currentSC.getUtil().getRoles();









  // *** ROLES ARE ONLY SET HERE ***




  if (currentRoles != null) {




      currentRoles.addAll(roles.getRoles());




  }




  else {




      currentSC.getUtil().setRoles( roles );




  }




} 









// *** BELOW THIS LINE ROLES ARE NOT REFERENCED ANYMORE




// *** SUBJECT IS NOT POPULATED WITH ANY ROLE INFO 









Subject subject = groupPrincipalCallback.getSubject();




if( subject != null )




{




   // if the current security context already has an associated subject, we merge it with the incoming subject.




   Subject currentSubject = currentSC.getSubjectInfo().getAuthenticatedSubject();




   if (currentSubject != null) {




       subject.getPrincipals().addAll(currentSubject.getPrincipals());




       subject.getPublicCredentials().addAll(currentSubject.getPublicCredentials());




       subject.getPrivateCredentials().addAll(currentSubject.getPrivateCredentials());




   }




   currentSC.getSubjectInfo().setAuthenticatedSubject(subject);




}





</description>
			<version>10.0.0.CR4</version>
			<fixedVersion>10.1.0.CR1, 10.1.0.Final</fixedVersion>
			<type>Bug</type>
		</buginformation>
		<fixedFiles>
			<file type="M">org.wildfly.extension.undertow.security.jaspi.JASPICAuthenticationMechanism.java</file>
		</fixedFiles>
		<links>
			<link type="Cloners" description="cloned to">5330</link>
		</links>
	</bug>
	<bug id="6550" opendate="2016-04-22 21:24:38" fixdate="2016-07-26 23:32:08" resolution="Done">
		<buginformation>
			<summary>Invalid use of ModuleIdentifier.create(String) for dynamic names prevents use of slots</summary>
			<description>The ModuleIdentifier.create(String) method is a convenience method for creating an id with a slot of "main". Using this method for user-provided module names prevents the user from encoding a slot into their string. Better is to use ModuleIdentifier.fromString(String) which will parse out a slot if present.
WFCORE-1499 is due to this problem; reviewing the PR for it led me to investigate core and full for other occurrences. Found a few.</description>
			<version>10.0.0.Final</version>
			<fixedVersion>10.1.0.CR1, 10.1.0.Final</fixedVersion>
			<type>Bug</type>
		</buginformation>
		<fixedFiles>
			<file type="M">org.jboss.as.connector.subsystems.datasources.JdbcDriverRemove.java</file>
			<file type="M">org.wildfly.extension.messaging.activemq.jms.bridge.JMSBridgeService.java</file>
			<file type="M">org.wildfly.extension.messaging.activemq.jms.bridge.JMSBridgeAdd.java</file>
			<file type="M">org.wildfly.extension.undertow.deployment.UndertowHandlersDeploymentProcessor.java</file>
			<file type="M">org.wildfly.extension.security.manager.SecurityManagerSubsystemAdd.java</file>
			<file type="M">org.wildfly.extension.picketlink.idm.model.PartitionManagerAddHandler.java</file>
			<file type="M">org.wildfly.extension.messaging.activemq.ServerAdd.java</file>
			<file type="M">org.wildfly.extension.picketlink.idm.config.JPAStoreSubsystemConfiguration.java</file>
		</fixedFiles>
	</bug>
	<bug id="5696" opendate="2015-11-17 17:17:21" fixdate="2016-07-26 23:33:13" resolution="Done">
		<buginformation>
			<summary>Mixed domain test launches a broken server from the DC</summary>
			<description>The host.xml used by the DC in the testsuite/mixed-domain tests is launching a server. This server fails to launch because the profiles being used include stuff that won&amp;amp;apos;t work on current version servers (i.e. legacy subsystems like web).
The failure to launch the server isn&amp;amp;apos;t affecting the test results, proving the existence of the server is not relevant to the test assertions.
However, WildcardReadsTestCase is asserting that the wildcard reads are able to read this server, so we need to decide how to proceed. Simply dropping the "server" element from host.xml doesn&amp;amp;apos;t work.</description>
			<version>10.0.0.CR4</version>
			<fixedVersion>10.1.0.CR1, 10.1.0.Final</fixedVersion>
			<type>Bug</type>
		</buginformation>
		<fixedFiles>
			<file type="M">org.jboss.as.test.integration.domain.mixed.WildcardReadsTestCase.java</file>
		</fixedFiles>
	</bug>
	<bug id="6877" opendate="2016-07-25 03:30:17" fixdate="2016-07-28 06:32:33" resolution="Done">
		<buginformation>
			<summary>Fine session attributes (i.e. replication-granularity = ATTRIBUTE) cause org.infinispan.util.concurrent.TimeoutException: ISPN000299: Unable to acquire lock after 15 seconds</summary>
			<description>Our system using the following infinispan configuration for web session cache (i.e. an async, non-transactional, batch, optimistic locking dustrubutable cache):






&amp;lt;cache-container name="web" default-cache="dist" module="org.wildfly.clustering.web.infinispan"&amp;gt;




	&amp;lt;transport lock-timeout="60000"/&amp;gt;




	&amp;lt;distributed-cache name="dist" mode="ASYNC" l1-lifespan="0" owners="2"&amp;gt;




		&amp;lt;locking isolation="REPEATABLE_READ"/&amp;gt;




		&amp;lt;transaction locking="OPTIMISTIC" mode="BATCH"/&amp;gt;




		&amp;lt;file-store/&amp;gt;




	&amp;lt;/distributed-cache&amp;gt;




&amp;lt;/cache-container&amp;gt;






When we perform a load test for one of our business use case in our system, Wildfly always throw the infamous locking for 15 seconds timeout exception:






2016-07-21 13:01:37,971 TRACE [org.infinispan.util.concurrent.locks.impl.DefaultLockManager] (default task-33) Lock all keys=[4V3S9Lw0pGPAK3wt8bYEt3BK06iimxk88geCH2Gl, 4V3S9Lw0pGPAK3wt8bYEt3BK06iimxk88geCH2Gl-&amp;gt;YYY] for owner=GlobalTransaction:&amp;lt;10.1.3.29&amp;gt;:492:local. timeout=15000 (MILLISECONDS)




2016-07-21 13:01:52,975 ERROR [org.infinispan.interceptors.InvocationContextInterceptor] (default task-33) ISPN000136: Error executing command PrepareCommand, writing keys [4V3S9Lw0pGPAK3wt8bYEt3BK06iimxk88geCH2Gl, 4V3S9Lw0pGPAK3wt8bYEt3BK06iimxk88geCH2Gl-&amp;gt;YYY]: org.infinispan.util.concurrent.TimeoutException: ISPN000299: Unable to acquire lock after 15 seconds for key 4V3S9Lw0pGPAK3wt8bYEt3BK06iimxk88geCH2Gl-&amp;gt;YYY and requestor GlobalTransaction:&amp;lt;10.1.3.29&amp;gt;:492:local. Lock is held by GlobalTransaction:&amp;lt;10.1.3.29&amp;gt;:458:local




	at org.infinispan.util.concurrent.locks.impl.DefaultLockManager$KeyAwareExtendedLockPromise.lock(DefaultLockManager.java:236)




	at org.infinispan.util.concurrent.locks.impl.DefaultLockManager$CompositeLockPromise.lock(DefaultLockManager.java:305)




	at org.infinispan.interceptors.locking.AbstractLockingInterceptor.lockAllAndRecord(AbstractLockingInterceptor.java:199)




	at org.infinispan.interceptors.locking.AbstractTxLockingInterceptor.checkPendingAndLockAllKeys(AbstractTxLockingInterceptor.java:199)




	at org.infinispan.interceptors.locking.AbstractTxLockingInterceptor.lockAllOrRegisterBackupLock(AbstractTxLockingInterceptor.java:165)




	at org.infinispan.interceptors.locking.OptimisticLockingInterceptor.visitPrepareCommand(OptimisticLockingInterceptor.java:69)




	at org.infinispan.commands.tx.PrepareCommand.acceptVisitor(PrepareCommand.java:173)




	at org.infinispan.interceptors.base.CommandInterceptor.invokeNextInterceptor(CommandInterceptor.java:99)




	at org.infinispan.interceptors.TxInterceptor.invokeNextInterceptorAndVerifyTransaction(TxInterceptor.java:157)




	at org.infinispan.interceptors.TxInterceptor.visitPrepareCommand(TxInterceptor.java:144)




	at org.infinispan.commands.tx.PrepareCommand.acceptVisitor(PrepareCommand.java:173)




	at org.infinispan.interceptors.base.CommandInterceptor.invokeNextInterceptor(CommandInterceptor.java:99)




	at org.infinispan.interceptors.base.CommandInterceptor.handleDefault(CommandInterceptor.java:113)




	at org.infinispan.commands.AbstractVisitor.visitPrepareCommand(AbstractVisitor.java:112)




	at org.infinispan.statetransfer.TransactionSynchronizerInterceptor.visitPrepareCommand(TransactionSynchronizerInterceptor.java:42)




	at org.infinispan.commands.tx.PrepareCommand.acceptVisitor(PrepareCommand.java:173)




	at org.infinispan.interceptors.base.CommandInterceptor.invokeNextInterceptor(CommandInterceptor.java:99)




	at org.infinispan.statetransfer.StateTransferInterceptor.handleTxCommand(StateTransferInterceptor.java:238)




	at org.infinispan.statetransfer.StateTransferInterceptor.visitPrepareCommand(StateTransferInterceptor.java:87)




	at org.infinispan.commands.tx.PrepareCommand.acceptVisitor(PrepareCommand.java:173)




	at org.infinispan.interceptors.base.CommandInterceptor.invokeNextInterceptor(CommandInterceptor.java:99)




	at org.infinispan.interceptors.InvocationContextInterceptor.handleAll(InvocationContextInterceptor.java:107)




	at org.infinispan.interceptors.InvocationContextInterceptor.handleDefault(InvocationContextInterceptor.java:76)




	at org.infinispan.commands.AbstractVisitor.visitPrepareCommand(AbstractVisitor.java:112)




	at org.infinispan.commands.tx.PrepareCommand.acceptVisitor(PrepareCommand.java:173)




	at org.infinispan.interceptors.base.CommandInterceptor.invokeNextInterceptor(CommandInterceptor.java:99)




	at org.infinispan.interceptors.base.CommandInterceptor.handleDefault(CommandInterceptor.java:113)




	at org.infinispan.commands.AbstractVisitor.visitPrepareCommand(AbstractVisitor.java:112)




	at org.infinispan.commands.tx.PrepareCommand.acceptVisitor(PrepareCommand.java:173)




	at org.infinispan.interceptors.InterceptorChain.invoke(InterceptorChain.java:336)




	at org.infinispan.transaction.impl.TransactionCoordinator.commit(TransactionCoordinator.java:157)




	at org.infinispan.transaction.xa.TransactionXaAdapter.commit(TransactionXaAdapter.java:114)




	at org.infinispan.transaction.tm.DummyTransaction.finishResource(DummyTransaction.java:389)




	at org.infinispan.transaction.tm.DummyTransaction.commitResources(DummyTransaction.java:435)




	at org.infinispan.transaction.tm.DummyTransaction.runCommit(DummyTransaction.java:314)




	at org.infinispan.transaction.tm.DummyTransaction.commit(DummyTransaction.java:105)




	at org.infinispan.transaction.tm.DummyBaseTransactionManager.commit(DummyBaseTransactionManager.java:73)




	at org.wildfly.clustering.ee.infinispan.ActiveTransactionBatch.close(ActiveTransactionBatch.java:48)




	at org.wildfly.clustering.web.undertow.session.DistributableSession.requestDone(DistributableSession.java:77)




	at io.undertow.servlet.spec.ServletContextImpl.updateSessionAccessTime(ServletContextImpl.java:768)




	at io.undertow.servlet.spec.HttpServletResponseImpl.responseDone(HttpServletResponseImpl.java:557)




	at io.undertow.servlet.handlers.ServletInitialHandler.handleFirstRequest(ServletInitialHandler.java:331)




	at io.undertow.servlet.handlers.ServletInitialHandler.dispatchRequest(ServletInitialHandler.java:263)




	at io.undertow.servlet.handlers.ServletInitialHandler.access$000(ServletInitialHandler.java:81)




	at io.undertow.servlet.handlers.ServletInitialHandler$1.handleRequest(ServletInitialHandler.java:174)




	at io.undertow.server.Connectors.executeRootHandler(Connectors.java:202)




	at io.undertow.server.HttpServerExchange$1.run(HttpServerExchange.java:793)




	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)




	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)




	at java.lang.Thread.run(Thread.java:745)






After tracing using the trace log, we found the time difference between a "Lock all keys" log statement and the "Release locks for keys" log statement takes for about 15~20 seconds, so if another concurrent request would like to lock the same key within that interval, it will result in the timeout exception, example as below:






2016-07-21 13:01:37,958 TRACE [org.infinispan.util.concurrent.locks.impl.DefaultLockManager] (default task-37) Lock all keys=[4V3S9Lw0pGPAK3wt8bYEt3BK06iimxk88geCH2Gl-&amp;gt;XXX, 4V3S9Lw0pGPAK3wt8bYEt3BK06iimxk88geCH2Gl-&amp;gt;YYY, 4V3S9Lw0pGPAK3wt8bYEt3BK06iimxk88geCH2Gl-&amp;gt;ZZZ, 4V3S9Lw0pGPAK3wt8bYEt3BK06iimxk88geCH2Gl] for owner=GlobalTransaction:&amp;lt;10.1.3.29&amp;gt;:458:local. timeout=15000 (MILLISECONDS)




2016-07-21 13:01:53,364 TRACE [org.infinispan.util.concurrent.locks.impl.DefaultLockManager] (default task-37) Release locks for keys=[4V3S9Lw0pGPAK3wt8bYEt3BK06iimxk88geCH2Gl-&amp;gt;XXX, 4V3S9Lw0pGPAK3wt8bYEt3BK06iimxk88geCH2Gl-&amp;gt;YYY, 4V3S9Lw0pGPAK3wt8bYEt3BK06iimxk88geCH2Gl-&amp;gt;ZZZ, 4V3S9Lw0pGPAK3wt8bYEt3BK06iimxk88geCH2Gl]. owner=GlobalTransaction:&amp;lt;10.1.3.29&amp;gt;:458:local






We think that is strange as those session keys are POJO without complex nested objects, and we only perform read operation on those objects. Although we know objects without marked @org.wildfly.clustering.web.annotation.Immutable will perform cache sync, we believe that should not took for more than 1 second to commit the cache but it takes for more than 15 seconds...
After future tracing, we found the following log message on another cluster node:






2016-07-21 13:01:53,410 TRACE [org.infinispan.commands.tx.PrepareCommand] (Incoming-10,ee,10.1.3.30) {} Invoking remotely originated prepare: PrepareCommand {modifications=[PutKeyValueCommand{key=4V3S9Lw0pGPAK3wt8bYEt3BK06iimxk88geCH2Gl-&amp;gt;XXX, value=[B@f9f09c2, flags=[IGNORE_RETURN_VALUES], putIfAbsent=false, valueMatcher=MATCH_ALWAYS, metadata=EmbeddedExpirableMetadata{lifespan=-1, maxIdle=-1, version=null}, successful=true}, PutKeyValueCommand{key=4V3S9Lw0pGPAK3wt8bYEt3BK06iimxk88geCH2Gl-&amp;gt;YYY, value=[B@f72eca9, flags=[IGNORE_RETURN_VALUES], putIfAbsent=false, valueMatcher=MATCH_ALWAYS, metadata=EmbeddedExpirableMetadata{lifespan=-1, maxIdle=-1, version=null}, successful=true}, PutKeyValueCommand{key=4V3S9Lw0pGPAK3wt8bYEt3BK06iimxk88geCH2Gl-&amp;gt;ZZZ, value=[B@6f108f88, flags=[IGNORE_RETURN_VALUES], putIfAbsent=false, valueMatcher=MATCH_ALWAYS, metadata=EmbeddedExpirableMetadata{lifespan=-1, maxIdle=-1, version=null}, successful=true}, PutKeyValueCommand{key=4V3S9Lw0pGPAK3wt8bYEt3BK06iimxk88geCH2Gl, value=org.wildfly.clustering.web.infinispan.session.SimpleSessionAccessMetaData@126bb5d4, flags=[IGNORE_RETURN_VALUES], putIfAbsent=false, valueMatcher=MATCH_ALWAYS, metadata=EmbeddedExpirableMetadata{lifespan=-1, maxIdle=-1, version=null}, successful=true}, PutKeyValueCommand{key=4V3S9Lw0pGPAK3wt8bYEt3BK06iimxk88geCH2Gl-&amp;gt;XXX, value=[B@1a574fb5, flags=[IGNORE_RETURN_VALUES], putIfAbsent=false, valueMatcher=MATCH_ALWAYS, metadata=EmbeddedExpirableMetadata{lifespan=-1, maxIdle=-1, version=null}, successful=true}, PutKeyValueCommand{key=4V3S9Lw0pGPAK3wt8bYEt3BK06iimxk88geCH2Gl-&amp;gt;YYY, value=[B@3141bcb, flags=[IGNORE_RETURN_VALUES], putIfAbsent=false, valueMatcher=MATCH_ALWAYS, metadata=EmbeddedExpirableMetadata{lifespan=-1, maxIdle=-1, version=null}, successful=true}, PutKeyValueCommand{key=4V3S9Lw0pGPAK3wt8bYEt3BK06iimxk88geCH2Gl-&amp;gt;ZZZ.menuName, value=[B@ae3a302, flags=[FORCE_SYNCHRONOUS], putIfAbsent=false, valueMatcher=MATCH_ALWAYS, metadata=EmbeddedExpirableMetadata{lifespan=-1, maxIdle=-1, version=null}, successful=true}, ...], onePhaseCommit=true, retried=false, gtx=GlobalTransaction:&amp;lt;10.1.3.29&amp;gt;:458:remote, cacheName=&amp;amp;apos;app.war&amp;amp;apos;, topologyId=2} with invocation context: org.infinispan.context.impl.RemoteTxInvocationContext@3d21e5e9






In general, it synchronized XXX key 2 times, YYY key 2272 times, ZZZ key 3 times!!!
The root cause should be this line: https://github.com/wildfly/wildfly/blob/10.0.0.Final/clustering/web/infinispan/src/main/java/org/wildfly/clustering/web/infinispan/session/fine/FineSessionAttributes.java#L76 where a new CacheEntryMutator.mutate() will trigger a new PutKeyValueCommand. For consecutive get call on the same session key, it will trigger the PutKeyValueCommand multiple times, but that is not necessary for transactional/ batched cache in general as the MarshalledValue is lazily serialized, the actual value is pointing to the same instance.
Attached the suggested change, which solved our issue. Basically use a Set to track the mutated attribute names, to ensure the command is only issued once. Tested on non-transactional, batched cache (non-transactional, non-batch cache may not work as I did not think about that...)</description>
			<version>10.0.0.Final</version>
			<fixedVersion>10.1.0.CR1, 10.1.0.Final, 11.0.0.Alpha1</fixedVersion>
			<type>Bug</type>
		</buginformation>
		<fixedFiles>
			<file type="M">org.wildfly.clustering.web.infinispan.session.fine.FineSessionAttributes.java</file>
			<file type="M">org.wildfly.clustering.web.infinispan.session.coarse.CoarseSessionAttributes.java</file>
		</fixedFiles>
	</bug>
	<bug id="6879" opendate="2016-07-25 19:04:01" fixdate="2016-07-28 09:06:35" resolution="Done">
		<buginformation>
			<summary>Parsing logic in EJB3Subsystem30Parser#parseRemotingReceiver ignores unparseable attributes instead of exception</summary>
			<description>We do throw exception when unparseable data is found.</description>
			<version>10.0.0.Final</version>
			<fixedVersion>10.1.0.CR1, 10.1.0.Final, 11.0.0.Alpha1</fixedVersion>
			<type>Bug</type>
		</buginformation>
		<fixedFiles>
			<file type="M">org.jboss.as.ejb3.subsystem.EJB3Subsystem30Parser.java</file>
		</fixedFiles>
	</bug>
	<bug id="6902" opendate="2016-04-29 01:18:30" fixdate="2016-08-03 12:00:15" resolution="Done">
		<buginformation>
			<summary>Undertow mod_cluster: Multiinterface box: Manager-Address always contains hostname</summary>
			<description>On a multi-interface Windows box
Even though the EAP balancer instance is bound to an IP address, 10.40.128.61 in this case:






    &amp;lt;interfaces&amp;gt;




        &amp;lt;interface name="management"&amp;gt;




            &amp;lt;inet-address value="10.40.128.61"/&amp;gt;




        &amp;lt;/interface&amp;gt;




        &amp;lt;interface name="public"&amp;gt;




            &amp;lt;inet-address value="10.40.128.61"/&amp;gt;




        &amp;lt;/interface&amp;gt;




    &amp;lt;/interfaces&amp;gt;





, it advertises a hostname as its Manager-Address. The receiving worker node then might have troubles calling the balancer if it translates the hostname to a different IP address (interface on the same box...):
Balancer:






2016-04-28 18:00:00,232 DEBUG [io.undertow] (default I/O-2) UT005040: Gonna send payload:




HTTP/1.0 200 OK




Date: Thu, 28 Apr 2016 18:00:00 -0700




Sequence: 11




Digest: d356f44c4372f38eeb064e214b61b3e0




Server: 73a81e63-9938-42ce-bd17-92e2aeef3991




X-Manager-Address: atomic-0.yada.bla.bla.redhat.com:8847




X-Manager-Url: /




X-Manager-Protocol: https




X-Manager-Host: atomic-0.yada.bla.bla.redhat.com






Worker:






MODCLUSTER000043: Failed to send INFO command to atomic-0.yada.bla.bla.redhat.com/169.254.47.37:8847: Connection refused: connect






i.e. instead of using  10.40.128.61 the balancer is bound to, worker tries to call anotehr interface and fails.
Suggestion: If user explicitly uses IP address instead of a hostname, it should be either honoured or at least explicitly configurable for the Manager-Address attribute. IMHO.</description>
			<version>10.1.0.CR1</version>
			<fixedVersion>11.0.0.Alpha1</fixedVersion>
			<type>Bug</type>
		</buginformation>
		<fixedFiles>
			<file type="M">org.wildfly.extension.undertow.filters.ModClusterService.java</file>
		</fixedFiles>
		<links>
			<link type="Cloners" description="cloned from">4413</link>
		</links>
	</bug>
	<bug id="6903" opendate="2016-08-02 09:34:29" fixdate="2016-08-11 21:46:25" resolution="Done">
		<buginformation>
			<summary>Configuring session cookie config except for cookie name yields NPE in mod_cluster when registering with the proxy</summary>
			<description>To reproduce run e.g. 






/subsystem=undertow/servlet-container=default/setting=session-cookie:add(http-only=true)






yields NPE when registering with the proxy






2016-08-01 14:42:20,623 ERROR [org.jboss.modcluster] (UndertowEventHandlerAdapter - 1) MODCLUSTER000042: Error MEM sending STATUS command to apache-server/10.0.0.1:6666, configuration will be reset: MEM: Can&amp;amp;apos;t read node




2016-08-01 14:42:30,626 ERROR [org.jboss.mod_cluster.undertow] (UndertowEventHandlerAdapter - 1) null: java.lang.NullPointerException




    at org.jboss.modcluster.mcmp.impl.DefaultMCMPRequestFactory.createConfigRequest(DefaultMCMPRequestFactory.java:128)




    at org.jboss.modcluster.mcmp.impl.ResetRequestSourceImpl.getResetRequests(ResetRequestSourceImpl.java:89)




    at org.jboss.modcluster.mcmp.impl.DefaultMCMPHandler.status(DefaultMCMPHandler.java:399)




    at org.jboss.modcluster.mcmp.impl.DefaultMCMPHandler.status(DefaultMCMPHandler.java:365)




    at org.jboss.modcluster.ModClusterService.status(ModClusterService.java:457)




    at org.wildfly.mod_cluster.undertow.UndertowEventHandlerAdapter.run(UndertowEventHandlerAdapter.java:179)




    at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)




    at java.util.concurrent.FutureTask.runAndReset(FutureTask.java:308)




    at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.access$301(ScheduledThreadPoolExecutor.java:180)




    at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:294)




    at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)




    at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)




    at java.lang.Thread.run(Thread.java:745)




    at org.jboss.threads.JBossThread.run(JBossThread.java:320)










</description>
			<version>10.0.0.Final</version>
			<fixedVersion>11.0.0.Alpha1, 11.0.0.Beta1</fixedVersion>
			<type>Bug</type>
		</buginformation>
		<fixedFiles>
			<file type="M">org.wildfly.mod_cluster.undertow.UndertowEngine.java</file>
		</fixedFiles>
		<links>
			<link type="Cloners" description="cloned to">5494</link>
		</links>
	</bug>
	<bug id="6821" opendate="2016-07-12 08:50:09" fixdate="2016-08-14 14:08:44" resolution="Done">
		<buginformation>
			<summary>Not possible to overlay non existing file in WAR - mark the sub deployment which will be mounted exploded</summary>
			<description>It is either bug in how deployments are treated or how overlay/vfs work.
Steps to reproduce:
1. deploy undexploded war with jar inside
2. add overlay that will add non existing file in jar
Result: exception:
Caused by: org.jboss.as.server.deployment.DeploymentUnitProcessingException: JBAS018776: Failed to get content for deployment overlay WEB-INF/lib/overlayed.jar//META-INF/x/file.txt at WEB-INF/lib/overlayed.jar//META-INF/x/file.txt
    Caused by: java.io.FileNotFoundException: /content/shell.war/WEB-INF/lib/overlayed.jar/META-INF/x/file.txt"}}
    at org.jboss.as.test.integration.management.ManagementOperations.executeOperation(ManagementOperations.java:67)
    at org.jboss.as.test.integration.management.ManagementOperations.executeOperation(ManagementOperations.java:37)
    at org.jboss.as.test.integration.deployment.deploymentoverlay.jar.OverlayUtils.setupOverlay(OverlayUtils.java:76)
    at org.jboss.as.test.integration.deployment.deploymentoverlay.war.OverlayNonExistingResourceTestCase.testOverlay(OverlayNonExistingResourceTestCase.java:67)
Expectation:
 should work. It actually does work, if war is really exploded or
&amp;amp;apos;if(exploded)&amp;amp;apos; part in overlay is removed from overlay processor and everything is handled via: https://github.com/stuartwdouglas/wildfly-core/blob/a75af9118c4062fafb899b2c1109387a0748d925/server/src/main/java/org/jboss/as/server/deployment/DeploymentOverlayDeploymentUnitProcessor.java#L117
This is part of the fix of above issue, which depends on WFCORE-761.</description>
			<version>10.0.0.Final</version>
			<fixedVersion>11.0.0.Alpha1</fixedVersion>
			<type>Bug</type>
		</buginformation>
		<fixedFiles>
			<file type="M">org.jboss.as.ee.structure.EarStructureProcessor.java</file>
		</fixedFiles>
		<links>
			<link type="Cloners" description="cloned to">5308</link>
			<link type="Dependency" description="is blocked by">761</link>
		</links>
	</bug>
	<bug id="6950" opendate="2016-08-12 15:17:46" fixdate="2016-08-15 13:18:20" resolution="Done">
		<buginformation>
			<summary>JacORBSubsystemParser should create an OBJECT param for an OBJECT attribute</summary>
			<description>The parser when parsing "properties" elements is producing a DMR param of ModelType.LIST of ModelType.PROPERTY instead of a param of ModelType.OBJECT, which is how the attribute is specified. This works ok although it results in storing the attribute value in non-canonical format. But this behavior blocks completion of WFCORE-1581 because it results in test failures once WFCORE-1581 is implemented. Tests that compare the model structure generated by a current version controller when it executes the parser&amp;amp;apos;s ops fail as that structure doesn&amp;amp;apos;t match what a legacy version controller produces. The mismatch is largely harmless, but it&amp;amp;apos;s much simpler to correct the parser than to code a workaround into the tests. Plus the parser is just wrong.</description>
			<version>10.1.0.CR1</version>
			<fixedVersion>11.0.0.Alpha1</fixedVersion>
			<type>Bug</type>
		</buginformation>
		<fixedFiles>
			<file type="M">org.jboss.as.jacorb.JacORBSubsystemParser.java</file>
		</fixedFiles>
		<links>
			<link type="Cloners" description="cloned to">5621</link>
			<link type="Dependency" description="blocks">1581</link>
		</links>
	</bug>
	<bug id="6926" opendate="2016-08-08 10:55:10" fixdate="2016-08-16 19:29:14" resolution="Done">
		<buginformation>
			<summary>TimeoutException: Replication timeout when handling request with DIST cache</summary>
			<description>Seen in http-session scenarios with DIST cache only. REPL cache scenarios seem not to be affected.
TimeoutExceptions occur right away after sending first request and definitely result in client getting 500:






[JBossINF] [0m[31m04:31:39,033 ERROR [org.infinispan.interceptors.InvocationContextInterceptor] (default task-1) ISPN000136: Error executing command GetKeyValueCommand, writing keys []: org.infinispan.util.concurrent.TimeoutException: Replication timeout for perf19




[JBossINF] 	at org.infinispan.remoting.transport.jgroups.JGroupsTransport.checkRsp(JGroupsTransport.java:801)




[JBossINF] 	at org.infinispan.remoting.transport.jgroups.JGroupsTransport.lambda$invokeRemotelyAsync$1(JGroupsTransport.java:642)




[JBossINF] 	at java.util.concurrent.CompletableFuture.uniApply(CompletableFuture.java:602)




[JBossINF] 	at java.util.concurrent.CompletableFuture$UniApply.tryFire(CompletableFuture.java:577)




[JBossINF] 	at java.util.concurrent.CompletableFuture.postComplete(CompletableFuture.java:474)




[JBossINF] 	at java.util.concurrent.CompletableFuture.complete(CompletableFuture.java:1962)




[JBossINF] 	at org.infinispan.remoting.transport.jgroups.CommandAwareRpcDispatcher.staggeredProcessNext(CommandAwareRpcDispatcher.java:375)




[JBossINF] 	at org.infinispan.remoting.transport.jgroups.CommandAwareRpcDispatcher.lambda$processCallsStaggered$3(CommandAwareRpcDispatcher.java:357)




[JBossINF] 	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)




[JBossINF] 	at java.util.concurrent.FutureTask.run(FutureTask.java:266)




[JBossINF] 	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.access$201(ScheduledThreadPoolExecutor.java:180)




[JBossINF] 	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:293)




[JBossINF] 	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)




[JBossINF] 	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)




[JBossINF] 	at java.lang.Thread.run(Thread.java:745)






Client:






2016/08/08 04:31:39:068 EDT [WARN ][Runner - 4] HOST perf17.mw.lab.eng.bos.redhat.com:rootProcess:c - Error sampling data:  Internal Server Error&amp;gt;




        org.jboss.smartfrog.loaddriver.RequestProcessingException: Invalid response code: 500 Content: Internal Server Error




	at org.jboss.smartfrog.loaddriver.http.HttpRequestProcessorFactoryImpl$HttpRequestProcessor.processRequest(HttpRequestProcessorFactoryImpl.java:163)




	at org.jboss.smartfrog.loaddriver.CompoundRequestProcessorFactoryImpl$CompoundRequestProcessor.processRequest(CompoundRequestProcessorFactoryImpl.java:52)




	at org.jboss.smartfrog.loaddriver.Runner.run(Runner.java:103)




	at java.lang.Thread.run(Thread.java:745)






I was able to reproduce it even with a very small load of 30 sessions.
Server link (run with 30 sessions):
http://jenkins.mw.lab.eng.bos.redhat.com/hudson/job/mvinkler_eap-7x-failover-http-session-jvmkill-dist-sync/27/console-perf21/consoleText
Client link (run with 30 sessions):
http://jenkins.mw.lab.eng.bos.redhat.com/hudson/job/mvinkler_eap-7x-failover-http-session-jvmkill-dist-sync/27/console-perf17/consoleText
This issue occurs under different conditions than JBEAP-3779 (which is similar), that&amp;amp;apos;s why I opened new issue.
Number of occurrences of TimeoutExceptions is very high. The server logs are full of them. 
This issue makes clustering with DIST cache unusable, thus giving blocker priority. 
Also, there is a issue with shutting down the servers in the end of the test, I don&amp;amp;apos;t know if it can be related, but I am hitting it constantly in the http-session DIST scenarios.
The server shutdown usually gets stuck on this command:






[JBossINF] [0m[0m04:38:51,694 INFO  [org.infinispan.remoting.transport.jgroups.JGroupsTransport] (MSC service thread 1-7) ISPN000082: Stopping the RpcDispatcher for channel web






EDIT:
Also ejb-remote tests with DIST cache are affected (even if only 20 sessions are created).
Server log for ejb-remote run:
http://jenkins.mw.lab.eng.bos.redhat.com/hudson/job/mvinkler_eap-7x-failover-ejb-ejbremote-shutdown-dist-async/3/console-perf20/
Client log for ejb-remote run:
http://jenkins.mw.lab.eng.bos.redhat.com/hudson/job/mvinkler_eap-7x-failover-ejb-ejbremote-shutdown-dist-async/3/console-perf17/
EDIT #2:
Can be very easily reproduced locally. Just start a cluster of at least 3 servers with clusterbench deployed. Then do few requests to various nodes until you get 500 as a response. Also notice, when shutting down a node, which logged TimeoutException before, the node won&amp;amp;apos;t stop and get stuck during the shutdown.</description>
			<version>10.1.0.CR1</version>
			<fixedVersion>10.1.0.Final, 11.0.0.Alpha1</fixedVersion>
			<type>Bug</type>
		</buginformation>
		<fixedFiles>
			<file type="M">org.jboss.as.clustering.infinispan.ChannelFactoryTransport.java</file>
			<file type="M">org.jboss.as.clustering.infinispan.subsystem.SubsystemParsingTestCase.java</file>
			<file type="M">org.jboss.as.clustering.infinispan.subsystem.InfinispanSchema.java</file>
			<file type="M">org.jboss.as.clustering.infinispan.subsystem.SegmentsAndVirtualNodeConverter.java</file>
			<file type="M">org.jboss.as.clustering.infinispan.subsystem.DistributedCacheBuilder.java</file>
			<file type="M">org.jboss.as.test.clustering.cluster.web.AbstractWebFailoverTestCase.java</file>
			<file type="M">org.jboss.as.clustering.infinispan.subsystem.DistributedCacheResourceDefinition.java</file>
			<file type="M">org.jboss.as.clustering.infinispan.ChannelTransport.java</file>
		</fixedFiles>
		<links>
			<link type="Causality" description="is caused by">6925</link>
			<link type="Causality" description="is caused by">6745</link>
			<link type="Cloners" description="cloned from">5573</link>
			<link type="Dependency" description="is blocked by">6928</link>
			<link type="Dependency" description="is blocked by">5614</link>
		</links>
	</bug>
	<bug id="6969" opendate="2016-08-17 17:41:51" fixdate="2016-08-18 19:35:46" resolution="Done">
		<buginformation>
			<summary>Intermittent failures in Concurrent*WebFailoverTestCase following change to default consistent hash</summary>
			<description>See: https://ci.wildfly.org/project.html?tab=testDetails&amp;amp;projectId=WF_PullRequest&amp;amp;testNameId=2516785978928573613</description>
			<version>10.1.0.CR1</version>
			<fixedVersion>10.1.0.Final, 11.0.0.Alpha1</fixedVersion>
			<type>Bug</type>
		</buginformation>
		<fixedFiles>
			<file type="M">org.jboss.as.test.clustering.cluster.web.ReplicationForNegotiationAuthenticatorTestCase.java</file>
			<file type="M">org.jboss.as.test.clustering.cluster.web.FineWebFailoverTestCase.java</file>
			<file type="M">org.wildfly.clustering.infinispan.spi.distribution.Key.java</file>
			<file type="M">org.jboss.as.test.clustering.single.web.SimpleServlet.java</file>
			<file type="M">org.jboss.as.test.clustering.cluster.web.AbstractWebFailoverTestCase.java</file>
			<file type="M">org.jboss.as.test.clustering.cluster.web.CoarseWebFailoverTestCase.java</file>
			<file type="M">org.jboss.as.test.clustering.cluster.web.ConcurrentCoarseWebFailoverTestCase.java</file>
			<file type="M">org.jboss.as.test.clustering.cluster.session.persistence.SessionClusterDbPersistenceTestCase.java</file>
			<file type="M">org.jboss.as.test.clustering.TopologyChangeListenerBean.java</file>
			<file type="M">org.jboss.as.test.clustering.cluster.web.ConcurrentFineWebFailoverTestCase.java</file>
		</fixedFiles>
	</bug>
	<bug id="6127" opendate="2016-02-04 13:32:41" fixdate="2016-08-19 03:48:29" resolution="Done">
		<buginformation>
			<summary>Throw IllegalStateException if JTA tx has an unsynchronized persistence context and the target is synchronized persistence context</summary>
			<description>SPEC: If a component is called and the JTA transaction is propagated into that component:
If there is a persistence context of type SynchronizationType.UNSYNCHRONIZED
associated with the JTA transaction and the target component specifies a persistence context of type SynchronizationType.SYNCHRONIZED, the IllegalStateException is thrown by the container
We have a stateful session bean (SFB1) / PC: TRANSACTION/UNSYNCHRONIZED)
stateful session bean (SFB2) / PC: TRANSACTION/SYNCHRONIZED)
SFB1 method M1 (REQUIRED) calls SFB2 Method 2 (REQUIRED):
PC is propagated from SFB1 to SFB2 without any exception.</description>
			<version>9.0.2.Final</version>
			<fixedVersion>10.1.0.CR1, 10.1.0.Final</fixedVersion>
			<type>Bug</type>
		</buginformation>
		<fixedFiles>
			<file type="M">org.jboss.as.test.integration.jpa.transaction.TransactionTestCase.java</file>
			<file type="M">org.jboss.as.jpa.transaction.TransactionUtil.java</file>
			<file type="M">org.jboss.as.jpa.messages.JpaLogger.java</file>
			<file type="M">org.jboss.as.jpa.container.TransactionScopedEntityManager.java</file>
			<file type="M">org.jboss.as.test.integration.jpa.transaction.UnsynchronizedSFSB.java</file>
			<file type="M">org.jboss.as.jpa.container.ExtendedEntityManager.java</file>
		</fixedFiles>
		<links>
			<link type="Cloners" description="cloned to">3271</link>
		</links>
	</bug>
	<bug id="6099" opendate="2016-02-01 00:55:57" fixdate="2016-08-19 03:48:30" resolution="Done">
		<buginformation>
			<summary>JPA&amp;apos;s persistence.xml is deployed before datasources are created through application.xml</summary>
			<description>Please refer to discussion
https://developer.jboss.org/thread/267371</description>
			<version>10.0.0.Final</version>
			<fixedVersion>10.1.0.CR1, 10.1.0.Final</fixedVersion>
			<type>Bug</type>
		</buginformation>
		<fixedFiles>
			<file type="M">org.jboss.as.jpa.config.Configuration.java</file>
		</fixedFiles>
		<links>
			<link type="Cloners" description="cloned to">3133</link>
		</links>
	</bug>
	<bug id="6485" opendate="2016-04-04 15:04:02" fixdate="2016-08-19 03:48:30" resolution="Done">
		<buginformation>
			<summary>add JPA dependency in subdeployments to avoid NPE </summary>
			<description>WeldDeploymentProcessor only processes top level deployments (jpa dependencies for subdeployments are skipped). This means that subdeployments that CDI inject a persistence unit/context, will not add a dependency on the JPA PersistenceUnitService. As a result, the PersistenceUnitService is referenced before it is started (which leads to PersistenceUnitService.entityManagerFactory being null).
We should avoid the following NPE by ensuring that dependencies on the JPA persistence unit are added for all sub-deployments.

Caused by: java.lang.NullPointerException
at org.jboss.as.jpa.container.TransactionScopedEntityManager.createEntityManager(TransactionScopedEntityManager.java:186)
at org.jboss.as.jpa.container.TransactionScopedEntityManager.getEntityManager(TransactionScopedEntityManager.java:91)
at org.jboss.as.jpa.container.AbstractEntityManager.find(AbstractEntityManager.java:212)
Potential fix is at https://github.com/scottmarlow/wildfly/tree/jpaNPE</description>
			<version>10.0.0.Final</version>
			<fixedVersion>10.1.0.CR1, 10.1.0.Final</fixedVersion>
			<type>Bug</type>
		</buginformation>
		<fixedFiles>
			<file type="M">org.jboss.as.weld.deployment.processors.WeldDeploymentProcessor.java</file>
		</fixedFiles>
		<links>
			<link type="Cloners" description="cloned to">4084</link>
		</links>
	</bug>
	<bug id="6120" opendate="2016-02-03 21:37:15" fixdate="2016-08-19 03:48:31" resolution="Done">
		<buginformation>
			<summary>SFSB PassivationTestCase fails to resolve XPC following passivation</summary>
			<description>javax.ejb.EJBException: WFLYJPA0030: Found extended persistence context in SFSB invocation call stack but that cannot be used because the transaction already has a transactional context associated with it.  This can be avoided by changing application code, either eliminate the extended persistence context or the transactional context.  See JPA spec 2.0 section 7.6.3.1.  Scoped persistence unit name=passivation-test.jar#main, persistence context already in transaction =ExtendedEntityManager passivation-test.jar#main, extended persistence context =ExtendedEntityManager passivation-test.jar#main.
	at org.jboss.as.jpa.container.ExtendedEntityManager.internalAssociateWithJtaTx(ExtendedEntityManager.java:149)
	at org.jboss.as.jpa.container.ExtendedEntityManager.getEntityManager(ExtendedEntityManager.java:129)
	at org.jboss.as.jpa.container.AbstractEntityManager.createQuery(AbstractEntityManager.java:444)
	at org.jboss.as.test.integration.ejb.stateful.passivation.TestPassivationBean.isPersistenceContextSame(TestPassivationBean.java:91)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.jboss.as.ee.component.ManagedReferenceMethodInterceptor.processInvocation(ManagedReferenceMethodInterceptor.java:52)
	at org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:340)
	at org.jboss.invocation.InterceptorContext$Invocation.proceed(InterceptorContext.java:437)
	at org.jboss.as.weld.ejb.Jsr299BindingsInterceptor.delegateInterception(Jsr299BindingsInterceptor.java:70)
	at org.jboss.as.weld.ejb.Jsr299BindingsInterceptor.doMethodInterception(Jsr299BindingsInterceptor.java:80)
	at org.jboss.as.weld.ejb.Jsr299BindingsInterceptor.processInvocation(Jsr299BindingsInterceptor.java:93)
	at org.jboss.as.ee.component.interceptors.UserInterceptorFactory$1.processInvocation(UserInterceptorFactory.java:63)
	at org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:340)
	at org.jboss.as.ejb3.component.invocationmetrics.ExecutionTimeInterceptor.processInvocation(ExecutionTimeInterceptor.java:43)
	at org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:340)
	at org.jboss.as.jpa.interceptor.SBInvocationInterceptor.processInvocation(SBInvocationInterceptor.java:47)
	at org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:340)
	at org.jboss.as.jpa.interceptor.SFSBInvocationInterceptor.processInvocation(SFSBInvocationInterceptor.java:57)
	at org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:340)
	at org.jboss.as.ejb3.component.stateful.StatefulSessionSynchronizationInterceptor.processInvocation(StatefulSessionSynchronizationInterceptor.java:125)
	at org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:340)
	at org.jboss.invocation.InterceptorContext$Invocation.proceed(InterceptorContext.java:437)
	at org.jboss.weld.ejb.AbstractEJBRequestScopeActivationInterceptor.aroundInvoke(AbstractEJBRequestScopeActivationInterceptor.java:64)
	at org.jboss.as.weld.ejb.EjbRequestScopeActivationInterceptor.processInvocation(EjbRequestScopeActivationInterceptor.java:83)
	at org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:340)
	at org.jboss.as.ee.concurrent.ConcurrentContextInterceptor.processInvocation(ConcurrentContextInterceptor.java:45)
	at org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:340)
	at org.jboss.invocation.InitialInterceptor.processInvocation(InitialInterceptor.java:21)
	at org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:340)
	at org.jboss.invocation.ChainedInterceptor.processInvocation(ChainedInterceptor.java:61)
	at org.jboss.as.ee.component.interceptors.ComponentDispatcherInterceptor.processInvocation(ComponentDispatcherInterceptor.java:52)
	at org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:340)
	at org.jboss.as.ejb3.component.stateful.StatefulComponentInstanceInterceptor.processInvocation(StatefulComponentInstanceInterceptor.java:65)
	at org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:340)
	at org.jboss.as.ejb3.tx.CMTTxInterceptor.invokeInOurTx(CMTTxInterceptor.java:275)
	at org.jboss.as.ejb3.tx.CMTTxInterceptor.required(CMTTxInterceptor.java:327)
	at org.jboss.as.ejb3.tx.CMTTxInterceptor.processInvocation(CMTTxInterceptor.java:239)
	at org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:340)
	at org.jboss.as.ejb3.remote.EJBRemoteTransactionPropagatingInterceptor.processInvocation(EJBRemoteTransactionPropagatingInterceptor.java:79)
	at org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:340)
	at org.jboss.as.ejb3.component.interceptors.CurrentInvocationContextInterceptor.processInvocation(CurrentInvocationContextInterceptor.java:41)
	at org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:340)
	at org.jboss.as.ejb3.component.invocationmetrics.WaitTimeInterceptor.processInvocation(WaitTimeInterceptor.java:43)
	at org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:340)
	at org.jboss.as.ejb3.security.SecurityContextInterceptor.processInvocation(SecurityContextInterceptor.java:100)
	at org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:340)
	at org.jboss.as.ejb3.component.interceptors.ShutDownInterceptorFactory$1.processInvocation(ShutDownInterceptorFactory.java:64)
	at org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:340)
	at org.jboss.as.ejb3.deployment.processors.EjbSuspendInterceptor.processInvocation(EjbSuspendInterceptor.java:44)
	at org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:340)
	at org.jboss.as.ejb3.component.interceptors.LoggingInterceptor.processInvocation(LoggingInterceptor.java:66)
	at org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:340)
	at org.jboss.as.ee.component.NamespaceContextInterceptor.processInvocation(NamespaceContextInterceptor.java:50)
	at org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:340)
	at org.jboss.as.ejb3.component.interceptors.AdditionalSetupInterceptor.processInvocation(AdditionalSetupInterceptor.java:54)
	at org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:340)
	at org.jboss.invocation.ContextClassLoaderInterceptor.processInvocation(ContextClassLoaderInterceptor.java:64)
	at org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:340)
	at org.jboss.invocation.InterceptorContext.run(InterceptorContext.java:356)
	at org.wildfly.security.manager.WildFlySecurityManager.doChecked(WildFlySecurityManager.java:636)
	at org.jboss.invocation.AccessCheckingInterceptor.processInvocation(AccessCheckingInterceptor.java:61)
	at org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:340)
	at org.jboss.invocation.InterceptorContext.run(InterceptorContext.java:356)
	at org.jboss.invocation.PrivilegedWithCombinerInterceptor.processInvocation(PrivilegedWithCombinerInterceptor.java:80)
	at org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:340)
	at org.jboss.invocation.ChainedInterceptor.processInvocation(ChainedInterceptor.java:61)
	at org.jboss.as.ee.component.ViewService$View.invoke(ViewService.java:195)
	at org.jboss.as.ejb3.remote.LocalEjbReceiver.processInvocation(LocalEjbReceiver.java:259)
	at org.jboss.ejb.client.EJBClientInvocationContext.sendRequest(EJBClientInvocationContext.java:184)
	at org.jboss.ejb.client.EJBObjectInterceptor.handleInvocation(EJBObjectInterceptor.java:58)
	at org.jboss.ejb.client.EJBClientInvocationContext.sendRequest(EJBClientInvocationContext.java:186)
	at org.jboss.ejb.client.EJBHomeInterceptor.handleInvocation(EJBHomeInterceptor.java:83)
	at org.jboss.ejb.client.EJBClientInvocationContext.sendRequest(EJBClientInvocationContext.java:186)
	at org.jboss.ejb.client.TransactionInterceptor.handleInvocation(TransactionInterceptor.java:42)
	at org.jboss.ejb.client.EJBClientInvocationContext.sendRequest(EJBClientInvocationContext.java:186)
	at org.jboss.ejb.client.ReceiverInterceptor.handleInvocation(ReceiverInterceptor.java:138)
	at org.jboss.ejb.client.EJBClientInvocationContext.sendRequest(EJBClientInvocationContext.java:186)
	at org.jboss.ejb.client.EJBInvocationHandler.sendRequestWithPossibleRetries(EJBInvocationHandler.java:255)
	at org.jboss.ejb.client.EJBInvocationHandler.doInvoke(EJBInvocationHandler.java:200)
	at org.jboss.ejb.client.EJBInvocationHandler.doInvoke(EJBInvocationHandler.java:183)
	at org.jboss.ejb.client.EJBInvocationHandler.invoke(EJBInvocationHandler.java:146)
	at com.sun.proxy.$Proxy72.isPersistenceContextSame(Unknown Source)
	at org.jboss.as.test.integration.ejb.stateful.passivation.PassivationTestCase.testPassivationMaxSize(PassivationTestCase.java:103)</description>
			<version>10.0.0.Final</version>
			<fixedVersion>10.1.0.CR1, 10.1.0.Final</fixedVersion>
			<type>Bug</type>
		</buginformation>
		<fixedFiles>
			<file type="M">org.wildfly.clustering.ejb.infinispan.CancelSchedulerCommand.java</file>
			<file type="M">org.jboss.as.test.integration.ejb.stateful.passivation.PassivationEnabledBean.java</file>
			<file type="M">org.wildfly.clustering.ejb.infinispan.ScheduleSchedulerCommand.java</file>
			<file type="M">org.jboss.as.ejb3.cache.distributable.DistributableCache.java</file>
			<file type="M">org.jboss.as.ejb3.cache.Cache.java</file>
			<file type="M">org.jboss.as.test.integration.ejb.stateful.passivation.NestledBean.java</file>
			<file type="M">org.wildfly.clustering.ejb.infinispan.BeanFactory.java</file>
			<file type="M">org.wildfly.clustering.ejb.Bean.java</file>
			<file type="M">org.jboss.as.test.integration.ejb.stateful.passivation.ejb2.PassivationSucceedsEJB2TestCase.java</file>
			<file type="M">org.jboss.as.test.integration.ejb.stateful.passivation.TestPassivationBean.java</file>
			<file type="M">org.wildfly.clustering.ejb.infinispan.InfinispanBeanManager.java</file>
			<file type="M">org.wildfly.clustering.ejb.infinispan.InfinispanBeanManagerFactoryBuilderFactory.java</file>
			<file type="M">org.jboss.as.test.integration.ejb.stateful.passivation.BeanWithSerializationIssue.java</file>
			<file type="M">org.wildfly.clustering.ejb.infinispan.bean.InfinispanBeanFactory.java</file>
			<file type="M">org.jboss.as.test.integration.ejb.stateful.passivation.PassivationDisabledBean.java</file>
			<file type="M">org.wildfly.clustering.web.infinispan.session.InfinispanSessionManager.java</file>
			<file type="M">org.jboss.as.ejb3.cache.simple.SimpleCache.java</file>
			<file type="D">org.wildfly.clustering.ejb.infinispan.BeanEvictionCommand.java</file>
			<file type="M">org.jboss.as.test.integration.ejb.stateful.passivation.PassivationTestCase.java</file>
			<file type="M">org.wildfly.clustering.ejb.infinispan.InfinispanBeanManagerFactory.java</file>
			<file type="D">org.wildfly.clustering.ejb.infinispan.BeanEvictionScheduler.java</file>
			<file type="M">org.wildfly.clustering.ejb.infinispan.group.InfinispanBeanGroupFactory.java</file>
			<file type="M">org.wildfly.clustering.ejb.infinispan.bean.InfinispanBean.java</file>
			<file type="M">org.wildfly.clustering.ejb.infinispan.BeanEvictionSchedulerTestCase.java</file>
			<file type="M">org.jboss.as.test.integration.ejb.stateful.passivation.DDBasedSFSB.java</file>
			<file type="D">org.wildfly.clustering.ejb.infinispan.BeanEvictionContext.java</file>
			<file type="M">org.jboss.as.test.integration.ejb.stateful.passivation.TestPassivationRemote.java</file>
		</fixedFiles>
		<links>
			<link type="Cloners" description="cloned to">3250</link>
		</links>
	</bug>
	<bug id="6857" opendate="2016-07-20 13:52:24" fixdate="2016-08-19 03:48:31" resolution="Done">
		<buginformation>
			<summary>Infinispan subsystem writes incorrect xml namespace when system locale is not English</summary>
			<description>Running the server under a non-English Locale and using the CLI to create resources, leads to Infinispan writing out a subsystem configuration which doesn&amp;amp;apos;t load on server reload.</description>
			<version>10.0.0.Final</version>
			<fixedVersion>10.1.0.CR1, 10.1.0.Final</fixedVersion>
			<type>Bug</type>
		</buginformation>
		<fixedFiles>
			<file type="M">org.jboss.as.clustering.infinispan.subsystem.InfinispanSchema.java</file>
		</fixedFiles>
		<links>
			<link type="Cloners" description="cloned to">5325</link>
			<link type="Sequence" description="is followed up by">6871</link>
		</links>
	</bug>
	<bug id="5081" opendate="2015-08-12 10:38:33" fixdate="2016-08-19 03:48:31" resolution="Done">
		<buginformation>
			<summary>WebSphere MQ 8 RA - [TCK] - Defining connection factory by @JMSConnectionFactoryDefinition annotation or in deployment descriptor fails</summary>
			<description>If WebSphere MQ 8 resource adapter is configured as default resource adapter for MDB in ejb subsystem and MDB is trying to deploy its connection factory like:






@JMSConnectionFactoryDefinition(




        description="Define TopicConnectionFactory AppClientMyTestTopicConnectionFactory",




        interfaceName="javax.jms.TopicConnectionFactory",




        name="java:module/AppClientMyTestTopicConnectionFactory",




        user = "j2ee",




        password = "j2ee",




)






then deployment fails with:






11:18:37,471 INFO  [org.jboss.as.repository] (DeploymentScanner-threads - 2) WFLYDR0001: Content added at location /home/mnovak/mnovak_home/tmp/tck7/work/jboss-eap-7.0/standalone/data/content/1d/4fbecb4dd1e3a9c03b791cd64c21cd6b7f49de/content




11:18:37,475 INFO  [org.jboss.as.server.deployment] (MSC service thread 1-7) WFLYSRV0027: Starting deployment of "mdb-1.0-SNAPSHOT.jar" (runtime-name: "mdb-1.0-SNAPSHOT.jar")




11:18:37,499 INFO  [org.jboss.as.ejb3] (MSC service thread 1-2) WFLYEJB0042: Started message driven bean &amp;amp;apos;SampleMdb&amp;amp;apos; with &amp;amp;apos;wmq.jmsra&amp;amp;apos; resource adapter




11:18:37,501 ERROR [org.jboss.as.controller.management-operation] (DeploymentScanner-threads - 2) WFLYCTL0013: Operation ("deploy") failed - address: ([("deployment" =&amp;gt; "mdb-1.0-SNAPSHOT.jar")]) - failure description: {"WFLYCTL0180: Services with missing/unavailable dependencies" =&amp;gt; ["jboss.naming.context.java.app.\"mdb-1.0-SNAPSHOT\".AppClientMyTestQueueConnectionFactory is missing [jboss.connection-factory.reference-factory.jboss.naming.context.java.app.\"mdb-1.0-SNAPSHOT\".AppClientMyTestQueueConnectionFactory]"]}




11:18:37,616 INFO  [org.jboss.as.server] (DeploymentScanner-threads - 2) WFLYSRV0010: Deployed "mdb-1.0-SNAPSHOT.jar" (runtime-name : "mdb-1.0-SNAPSHOT.jar")




11:18:37,616 INFO  [org.jboss.as.controller] (DeploymentScanner-threads - 2) WFLYCTL0183: Service status report




WFLYCTL0185:    Newly corrected services:




      service jboss.deployment.unit."mdb-1.0-SNAPSHOT.jar".component.SampleMdb.CREATE (new available)




      service jboss.deployment.unit."mdb-1.0-SNAPSHOT.jar".component.SampleMdb.JndiBindingsService (new available)




      service jboss.deployment.unit."mdb-1.0-SNAPSHOT.jar".component.SampleMdb.START (new available)




      service jboss.deployment.unit."mdb-1.0-SNAPSHOT.jar".component.SampleMdb.VIEW.SampleMdb.MESSAGE_ENDPOINT (new available)




      service jboss.deployment.unit."mdb-1.0-SNAPSHOT.jar".component.SampleMdb.ejb.non-functional-timerservice (new available)




      service jboss.deployment.unit."mdb-1.0-SNAPSHOT.jar".jndiDependencyService (new available)




      service jboss.deployment.unit."mdb-1.0-SNAPSHOT.jar".moduleDeploymentRuntimeInformation (new available)




      service jboss.naming.context.java.app."mdb-1.0-SNAPSHOT".AppClientMyTestQueueConnectionFactory (new available)




      service jboss.naming.context.java.app."mdb-1.0-SNAPSHOT".env (new available)




      service jboss.naming.context.java.comp."mdb-1.0-SNAPSHOT"."mdb-1.0-SNAPSHOT".SampleMdb (new available)




      service jboss.naming.context.java.comp."mdb-1.0-SNAPSHOT"."mdb-1.0-SNAPSHOT".SampleMdb.TransactionSynchronizationRegistry (new available)




      service jboss.naming.context.java.comp."mdb-1.0-SNAPSHOT"."mdb-1.0-SNAPSHOT".SampleMdb.UserTransaction (new available)




      service jboss.naming.context.java.module."mdb-1.0-SNAPSHOT"."mdb-1.0-SNAPSHOT".env (new available)






Customer impact:
Any deployment which needs to define its connection factory in deployment will fail. Customer cannot use @JMSConnectionFactoryDefinition to deploy connection factory.
Debugging showed that deployment of connection factory defined in @JMSConnectionFactoryDefinition is using messaging activemq extension integration. WebSphereMQ&amp;amp;apos;s managed connection factory cannot be added as pooled-connection-factory to messaging-activemq subsystem.
We need to provide a way 3rd party JMS managed connection factory will be created and registered to JNDI.
Failing TCK tests failing because of this issue:













[javatest.batch] FAILED........com/sun/ts/tests/jms/ee20/resourcedefs/annotations/Client.java#checkClientIDOnDurableConnFactoryTest 
[javatest.batch] FAILED........com/sun/ts/tests/jms/ee20/resourcedefs/annotations/Client.java#sendAndRecvQueueTestFromAppClient
[javatest.batch] FAILED........com/sun/ts/tests/jms/ee20/resourcedefs/annotations/Client.java#sendAndRecvQueueTestFromEjbClient
[javatest.batch] FAILED........com/sun/ts/tests/jms/ee20/resourcedefs/annotations/Client.java#sendAndRecvQueueTestFromJspClient
[javatest.batch] FAILED........com/sun/ts/tests/jms/ee20/resourcedefs/annotations/Client.java#sendAndRecvQueueTestFromServletClient
[javatest.batch] FAILED........com/sun/ts/tests/jms/ee20/resourcedefs/annotations/Client.java#sendAndRecvTopicTestFromAppClient
[javatest.batch] FAILED........com/sun/ts/tests/jms/ee20/resourcedefs/annotations/Client.java#sendAndRecvTopicTestFromEjbClient
[javatest.batch] FAILED........com/sun/ts/tests/jms/ee20/resourcedefs/annotations/Client.java#sendAndRecvTopicTestFromJspClient
[javatest.batch] FAILED........com/sun/ts/tests/jms/ee20/resourcedefs/annotations/Client.java#sendAndRecvTopicTestFromServletClient
[javatest.batch] FAILED........com/sun/ts/tests/jms/ee20/resourcedefs/annotations/Client.java#verifyLookupWithRAElementSpecifiedTest
[javatest.batch] FAILED........com/sun/ts/tests/jms/ee20/resourcedefs/descriptor/Client.java#checkClientIDOnDurableConnFactoryTest_from_appclient 
[javatest.batch] FAILED........com/sun/ts/tests/jms/ee20/resourcedefs/descriptor/Client.java#checkClientIDOnDurableConnFactoryTest_from_ejb
[javatest.batch] FAILED........com/sun/ts/tests/jms/ee20/resourcedefs/descriptor/Client.java#checkClientIDOnDurableConnFactoryTest_from_jsp
[javatest.batch] FAILED........com/sun/ts/tests/jms/ee20/resourcedefs/descriptor/Client.java#checkClientIDOnDurableConnFactoryTest_from_servlet
[javatest.batch] FAILED........com/sun/ts/tests/jms/ee20/resourcedefs/descriptor/Client.java#sendAndRecvQueueTest_from_appclient 
[javatest.batch] FAILED........com/sun/ts/tests/jms/ee20/resourcedefs/descriptor/Client.java#sendAndRecvQueueTest_from_ejb
[javatest.batch] FAILED........com/sun/ts/tests/jms/ee20/resourcedefs/descriptor/Client.java#sendAndRecvQueueTest_from_jsp
[javatest.batch] FAILED........com/sun/ts/tests/jms/ee20/resourcedefs/descriptor/Client.java#sendAndRecvQueueTest_from_servlet
[javatest.batch] FAILED........com/sun/ts/tests/jms/ee20/resourcedefs/descriptor/Client.java#sendAndRecvTopicTest_from_appclient
[javatest.batch] FAILED........com/sun/ts/tests/jms/ee20/resourcedefs/descriptor/Client.java#sendAndRecvTopicTest_from_ejb
[javatest.batch] FAILED........com/sun/ts/tests/jms/ee20/resourcedefs/descriptor/Client.java#sendAndRecvTopicTest_from_jsp
[javatest.batch] FAILED........com/sun/ts/tests/jms/ee20/resourcedefs/descriptor/Client.java#sendAndRecvTopicTest_from_servlet
[javatest.batch] FAILED........com/sun/ts/tests/jms/ee20/resourcedefs/descriptor/Client.java#verifyLookupWithRAElementSpecifiedTest_from_appclient
[javatest.batch] FAILED........com/sun/ts/tests/jms/ee20/resourcedefs/descriptor/Client.java#verifyLookupWithRAElementSpecifiedTest_from_ejb
[javatest.batch] FAILED........com/sun/ts/tests/jms/ee20/resourcedefs/descriptor/Client.java#verifyLookupWithRAElementSpecifiedTest_from_jsp
[javatest.batch] FAILED........com/sun/ts/tests/jms/ee20/resourcedefs/descriptor/Client.java#verifyLookupWithRAElementSpecifiedTest_from_servlet
{cdde}</description>
			<version>10.0.0.Beta1</version>
			<fixedVersion>10.1.0.CR1, 10.1.0.Final</fixedVersion>
			<type>Bug</type>
		</buginformation>
		<fixedFiles>
			<file type="M">org.wildfly.extension.messaging.activemq.deployment.JMSDestinationDefinitionInjectionSource.java</file>
			<file type="M">org.jboss.as.connector.deployers.ra.ConnectionFactoryDefinitionInjectionSource.java</file>
			<file type="M">org.jboss.as.connector.deployers.ra.AdministeredObjectDefinitionInjectionSource.java</file>
			<file type="M">org.wildfly.extension.messaging.activemq.deployment.JMSConnectionFactoryDefinitionInjectionSource.java</file>
		</fixedFiles>
		<links>
			<link type="Cloners" description="cloned from">624</link>
			<link type="Dependency" description="is blocked by">6038</link>
		</links>
	</bug>
	<bug id="4908" opendate="2015-07-13 04:08:34" fixdate="2016-08-19 03:48:31" resolution="Done">
		<buginformation>
			<summary>Redeploy dependent ear fails with duplicate resource error for persistence unit</summary>
			<description>I have two EARs:






module1.ear  




|  




+--ejb.jar  




   |  




  +--META-INF  




      |  




      +--persistence.xml with persistence unit "module1-pu" 






and 






module2.ear  




|  




+--META-INF  




|  |  




|  +--jboss-all.xml  




|  




+--ejb.jar  




   |  




   +--META-INF  




      |  




      +--persistence.xml with persistence unit "module2-pu"  






module2.ear/META-INF/jboss-all.xml contains:






&amp;lt;jboss xmlns="urn:jboss:1.0"&amp;gt;  




  &amp;lt;jboss-deployment-dependencies xmlns="urn:jboss:deployment-dependencies:1.0"&amp;gt;  




  &amp;lt;dependency name="module1.ear" /&amp;gt;  




  &amp;lt;/jboss-deployment-dependencies&amp;gt;  




&amp;lt;/jboss&amp;gt;  






When I redeploy module1.ear, module2.ear not redeployed automatically with error: java.lang.IllegalStateException: WFLYCTL0075: Duplicate resource module2.ear/ejb.jar#module2-pu (on wildfly 8.2.0.Final: java.lang.IllegalStateException: JBAS014666: Duplicate resource module2.ear/ejb.jar#module2-pu)
Full redeploy log:






09:11:31,425 INFO  [org.jboss.as.jpa] (ServerService Thread Pool -- 63) WFLYJPA0011: Stopping Persistence Unit (phase 2 of 2) Service &amp;amp;apos;module2.ear/ejb.jar#module2-pu&amp;amp;apos;  




09:11:31,426 INFO  [org.jboss.as.jpa] (ServerService Thread Pool -- 63) WFLYJPA0011: Stopping Persistence Unit (phase 1 of 2) Service &amp;amp;apos;module2.ear/ejb.jar#module2-pu&amp;amp;apos;  




09:11:31,431 INFO  [org.jboss.as.jpa] (ServerService Thread Pool -- 63) WFLYJPA0011: Stopping Persistence Unit (phase 2 of 2) Service &amp;amp;apos;module1.ear/ejb.jar#module1-pu&amp;amp;apos;  




09:11:31,434 INFO  [org.jboss.as.jpa] (ServerService Thread Pool -- 63) WFLYJPA0011: Stopping Persistence Unit (phase 1 of 2) Service &amp;amp;apos;module1.ear/ejb.jar#module1-pu&amp;amp;apos;  




09:11:31,437 INFO  [org.jboss.as.server.deployment] (MSC service thread 1-1) WFLYSRV0208: Stopped subdeployment (runtime-name: ejb.jar) in 17ms  




09:11:31,438 INFO  [org.jboss.as.server.deployment] (MSC service thread 1-2) WFLYSRV0028: Stopped deployment module1.ear (runtime-name: module1.ear) in 18ms  




09:11:31,495 INFO  [org.jboss.as.server] (management-handler-thread - 3) WFLYSRV0009: Undeployed "module1.ear" (runtime-name: "module1.ear")  




09:11:31,495 INFO  [org.jboss.as.controller] (management-handler-thread - 3) WFLYCTL0183: Service status report  




WFLYCTL0184:    New missing/unsatisfied dependencies:  




      service jboss.deployment.unit."module1.ear".deploymentCompleteService (missing) dependents: [service jboss.deployment.unit."module2.ear".PARSE, service jboss.deployment.subunit."module2.ear"."ejb.jar".PARSE]   




  




  




09:11:31,558 INFO  [org.jboss.as.repository] (management-handler-thread - 1) WFLYDR0002: Content removed from location /opt/wildfly/standalone/data/content/69/baf0eeab47c006bc1f3d99b21b4355fac62d13/content  




09:11:43,170 INFO  [org.jboss.as.repository] (management-handler-thread - 1) WFLYDR0001: Content added at location /opt/wildfly/standalone/data/content/69/baf0eeab47c006bc1f3d99b21b4355fac62d13/content  




09:11:43,266 INFO  [org.jboss.as.server.deployment] (MSC service thread 1-2) WFLYSRV0027: Starting deployment of "module1.ear" (runtime-name: "module1.ear")  




09:11:43,268 INFO  [org.jboss.as.server.deployment] (MSC service thread 1-2) WFLYSRV0207: Starting subdeployment (runtime-name: "ejb.jar")  




09:11:43,273 INFO  [org.jboss.as.jpa] (MSC service thread 1-1) WFLYJPA0002: Read persistence.xml for module1-pu  




09:11:43,289 INFO  [org.jboss.as.jpa] (ServerService Thread Pool -- 63) WFLYJPA0010: Starting Persistence Unit (phase 1 of 2) Service &amp;amp;apos;module1.ear/ejb.jar#module1-pu&amp;amp;apos;  




09:11:43,289 INFO  [org.hibernate.jpa.internal.util.LogHelper] (ServerService Thread Pool -- 63) HHH000204: Processing PersistenceUnitInfo [  




  name: module1-pu  




  ...]  




09:11:43,292 INFO  [org.jboss.as.jpa] (ServerService Thread Pool -- 63) WFLYJPA0010: Starting Persistence Unit (phase 2 of 2) Service &amp;amp;apos;module1.ear/ejb.jar#module1-pu&amp;amp;apos;  




09:11:43,293 INFO  [org.hibernate.dialect.Dialect] (ServerService Thread Pool -- 63) HHH000400: Using dialect: org.hibernate.dialect.H2Dialect  




09:11:43,293 WARN  [org.hibernate.dialect.H2Dialect] (ServerService Thread Pool -- 63) HHH000431: Unable to determine H2 database version, certain features may not work  




09:11:43,294 INFO  [org.hibernate.hql.internal.ast.ASTQueryTranslatorFactory] (ServerService Thread Pool -- 63) HHH000397: Using ASTQueryTranslatorFactory  




09:11:43,296 INFO  [org.jboss.as.server.deployment] (MSC service thread 1-1) WFLYSRV0070: Deployment restart detected for deployment module2.ear, performing full redeploy instead.  




09:11:43,296 INFO  [org.jboss.as.server.deployment] (MSC service thread 1-1) WFLYSRV0070: Deployment restart detected for deployment ejb.jar, performing full redeploy instead.  




09:11:43,296 INFO  [org.jboss.as.server.deployment] (MSC service thread 1-1) WFLYSRV0208: Stopped subdeployment (runtime-name: ejb.jar) in 0ms  




09:11:43,297 INFO  [org.jboss.as.server.deployment] (MSC service thread 1-2) WFLYSRV0028: Stopped deployment module2.ear (runtime-name: module2.ear) in 1ms  




09:11:43,298 INFO  [org.jboss.as.server.deployment] (MSC service thread 1-2) WFLYSRV0027: Starting deployment of "module2.ear" (runtime-name: "module2.ear")  




09:11:43,299 INFO  [org.jboss.as.server.deployment] (MSC service thread 1-2) WFLYSRV0207: Starting subdeployment (runtime-name: "ejb.jar")  




09:11:43,300 INFO  [org.jboss.as.jpa] (MSC service thread 1-2) WFLYJPA0002: Read persistence.xml for module2-pu  




09:11:43,307 INFO  [org.jboss.as.jpa] (ServerService Thread Pool -- 63) WFLYJPA0010: Starting Persistence Unit (phase 1 of 2) Service &amp;amp;apos;module2.ear/ejb.jar#module2-pu&amp;amp;apos;  




09:11:43,308 INFO  [org.hibernate.jpa.internal.util.LogHelper] (ServerService Thread Pool -- 63) HHH000204: Processing PersistenceUnitInfo [  




  name: module2-pu  




  ...]  




09:11:43,312 ERROR [org.jboss.msc.service.fail] (MSC service thread 1-4) MSC000001: Failed to start service jboss.deployment.subunit."module2.ear"."ejb.jar".INSTALL: org.jboss.msc.service.StartException in service jboss.deployment.subunit."module2.ear"."ejb.jar".INSTALL: WFLYSRV0153: Failed to process phase INSTALL of subdeployment "ejb.jar" of deployment "module2.ear"  




  at org.jboss.as.server.deployment.DeploymentUnitPhaseService.start(DeploymentUnitPhaseService.java:163)  




  at org.jboss.msc.service.ServiceControllerImpl$StartTask.startService(ServiceControllerImpl.java:1948)  




  at org.jboss.msc.service.ServiceControllerImpl$StartTask.run(ServiceControllerImpl.java:1881)  




  at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)  




  at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)  




  at java.lang.Thread.run(Thread.java:745)  




Caused by: java.lang.IllegalStateException: WFLYCTL0075: Duplicate resource module2.ear/ejb.jar#module2-pu  




  at org.jboss.as.controller.registry.AbstractModelResource$DefaultResourceProvider.register(AbstractModelResource.java:248)  




  at org.jboss.as.controller.registry.AbstractModelResource.registerChild(AbstractModelResource.java:143)  




  at org.jboss.as.jpa.processor.PersistenceUnitServiceHandler.addManagementConsole(PersistenceUnitServiceHandler.java:1128)  




  at org.jboss.as.jpa.processor.PersistenceUnitServiceHandler.deployPersistenceUnitPhaseTwo(PersistenceUnitServiceHandler.java:704)  




  at org.jboss.as.jpa.processor.PersistenceUnitServiceHandler.addPuService(PersistenceUnitServiceHandler.java:289)  




  at org.jboss.as.jpa.processor.PersistenceUnitServiceHandler.handleJarDeployment(PersistenceUnitServiceHandler.java:162)  




  at org.jboss.as.jpa.processor.PersistenceUnitServiceHandler.deploy(PersistenceUnitServiceHandler.java:133)  




  at org.jboss.as.jpa.processor.PersistenceCompleteInstallProcessor.deploy(PersistenceCompleteInstallProcessor.java:55)  




  at org.jboss.as.server.deployment.DeploymentUnitPhaseService.start(DeploymentUnitPhaseService.java:156)  




  ... 5 more  




  




  




09:11:43,376 INFO  [org.jboss.as.server] (management-handler-thread - 2) WFLYSRV0010: Deployed "module1.ear" (runtime-name : "module1.ear")  




09:11:43,376 INFO  [org.jboss.as.controller] (management-handler-thread - 2) WFLYCTL0183: Service status report  




WFLYCTL0184:    New missing/unsatisfied dependencies:  




      service jboss.deployment.subunit."module2.ear"."ejb.jar" (unavailable) dependents: [service jboss.deployment.unit."module2.ear".PARSE]   




      service jboss.deployment.subunit."module2.ear"."ejb.jar".STRUCTURE (unavailable) dependents: [service jboss.deployment.unit."module2.ear".PARSE]   




      service jboss.deployment.subunit."module2.ear"."ejb.jar".deploymentCompleteService (missing) dependents: [service jboss.deployment.unit."module2.ear".deploymentCompleteService]   




WFLYCTL0185:    Newly corrected services:  




      service jboss.deployment.unit."module1.ear".deploymentCompleteService (new available)  




WFLYCTL0186:   Services which failed to start:      service jboss.deployment.subunit."module2.ear"."ejb.jar".INSTALL: org.jboss.msc.service.StartException in service jboss.deployment.subunit."module2.ear"."ejb.jar".INSTALL: WFLYSRV0153: Failed to process phase INSTALL of subdeployment "ejb.jar" of deployment "module2.ear"  





</description>
			<version>8.2.0.Final</version>
			<fixedVersion>10.1.0.CR1, 10.1.0.Final</fixedVersion>
			<type>Bug</type>
		</buginformation>
		<fixedFiles>
			<file type="M">org.jboss.as.jpa.processor.PersistenceUnitServiceHandler.java</file>
		</fixedFiles>
		<links>
			<link type="Cloners" description="cloned to">2984</link>
			<link type="Dependency" description="blocks">2984</link>
		</links>
	</bug>
	<bug id="6228" opendate="2016-02-16 14:57:24" fixdate="2016-08-19 03:48:31" resolution="Done">
		<buginformation>
			<summary>Component upgrade Hibernate Validator to 5.2.4.Final</summary>
			<description></description>
			<version>10.0.0.Final</version>
			<fixedVersion>10.1.0.CR1, 10.1.0.Final</fixedVersion>
			<type>Bug</type>
		</buginformation>
		<fixedFiles>
			<file type="M">org.jboss.as.test.integration.beanvalidation.hibernate.validator.CarGroupSequenceProvider.java</file>
		</fixedFiles>
		<links>
			<link type="Cloners" description="cloned to">3439</link>
		</links>
	</bug>
	<bug id="6033" opendate="2016-01-19 21:13:25" fixdate="2016-08-19 03:48:31" resolution="Done">
		<buginformation>
			<summary>enable JPA entity class transformation if any of the new Hibernate enhancer properties are enabled</summary>
			<description>See new Hibernate properties at https://github.com/hibernate/hibernate-orm/commit/809e3cf4b9eda5c8922bb8a04292dbd29aa3c793.
New properties that influence entity class transformation are:

hibernate.enhancer.enableDirtyTracking
hibernate.enhancer.enableLazyInitialization
hibernate.enhancer.enableAssociationManagement
If any of the above properties are true, it is the same as the application setting jboss.as.jpa.classtransformer=true.</description>
			<version>10.0.0.CR5</version>
			<fixedVersion>10.1.0.CR1, 10.1.0.Final</fixedVersion>
			<type>Bug</type>
		</buginformation>
		<fixedFiles>
			<file type="M">org.jboss.as.jpa.config.Configuration.java</file>
		</fixedFiles>
	</bug>
	<bug id="6871" opendate="2016-07-21 17:55:24" fixdate="2016-08-19 03:48:32" resolution="Done">
		<buginformation>
			<summary>Server fails to boot using locales not using arabic numerals for representation of numbers</summary>
			<description>e.g. Hindu (hi_IN) 






[rhusar@syrah wildfly-10.1.0.Final-SNAPSHOT]$ ./bin/standalone.sh -c standalone-ha.xml -Djboss.node.name=node1




JAVA_OPTS already set in environment; overriding default settings with values:  -Duser.country=IN -Duser.language=hi




=========================================================================









  JBoss Bootstrap Environment









  JBOSS_HOME: /Users/rhusar/wildfly/build/target/wildfly-10.1.0.Final-SNAPSHOT









  JAVA: /Library/Java/JavaVirtualMachines/jdk1.8.0_92.jdk/Contents/Home/bin/java









  JAVA_OPTS:  -server  -Duser.country=IN -Duser.language=hi









=========================================================================









::, INFO  [org.jboss.modules] (main) JBoss Modules version 1.5.2.Final




::, INFO  [org.jboss.msc] (main) JBoss MSC version 1.2.6.Final




::, INFO  [org.jboss.as] (MSC service thread -) WFLYSRV0049: WildFly Core 2.2.0.CR8 "Kenny" starting




::, ERROR [org.jboss.as.server] (Controller Boot Thread) WFLYSRV0055: Caught exception during boot: org.jboss.as.controller.persistence.ConfigurationPersistenceException: WFLYCTL0085: Failed to parse configuration




	at org.jboss.as.controller.persistence.XmlConfigurationPersister.load(XmlConfigurationPersister.java:131)




	at org.jboss.as.server.ServerService.boot(ServerService.java:357)




	at org.jboss.as.controller.AbstractControllerService$1.run(AbstractControllerService.java:299)




	at java.lang.Thread.run(Thread.java:745)




Caused by: javax.xml.stream.XMLStreamException: ParseError at [row,col]:[388,9]




Message: Unexpected element &amp;amp;apos;{urn:jboss:domain:singleton:1.0}subsystem&amp;amp;apos;




	at org.jboss.staxmapper.XMLMapperImpl.processNested(XMLMapperImpl.java:108)




	at org.jboss.staxmapper.XMLExtendedStreamReaderImpl.handleAny(XMLExtendedStreamReaderImpl.java:69)




	at org.jboss.as.server.parsing.StandaloneXml_4.parseServerProfile(StandaloneXml_4.java:546)




	at org.jboss.as.server.parsing.StandaloneXml_4.readServerElement(StandaloneXml_4.java:242)




	at org.jboss.as.server.parsing.StandaloneXml_4.readElement(StandaloneXml_4.java:141)




	at org.jboss.as.server.parsing.StandaloneXml.readElement(StandaloneXml.java:103)




	at org.jboss.as.server.parsing.StandaloneXml.readElement(StandaloneXml.java:49)




	at org.jboss.staxmapper.XMLMapperImpl.processNested(XMLMapperImpl.java:110)




	at org.jboss.staxmapper.XMLMapperImpl.parseDocument(XMLMapperImpl.java:69)




	at org.jboss.as.controller.persistence.XmlConfigurationPersister.load(XmlConfigurationPersister.java:123)




	... 3 more









::, FATAL [org.jboss.as.server] (Controller Boot Thread) WFLYSRV0056: Server boot has failed in an unrecoverable manner; exiting. See previous messages for details.




::, INFO  [org.jboss.as] (MSC service thread -) WFLYSRV0050: WildFly Core 2.2.0.CR8 "Kenny" stopped in ms





</description>
			<version>10.0.0.Final</version>
			<fixedVersion>10.1.0.CR1, 10.1.0.Final</fixedVersion>
			<type>Bug</type>
		</buginformation>
		<fixedFiles>
			<file type="M">org.wildfly.extension.clustering.singleton.SingletonSchema.java</file>
			<file type="M">org.jboss.as.clustering.jgroups.subsystem.JGroupsSchema.java</file>
			<file type="M">org.wildfly.extension.mod_cluster.Namespace.java</file>
			<file type="M">org.wildfly.extension.clustering.singleton.deployment.SingletonDeploymentSchema.java</file>
			<file type="M">org.jboss.as.ejb3.clustering.ClusteringSchema.java</file>
			<file type="M">org.jboss.as.clustering.infinispan.subsystem.InfinispanSchema.java</file>
		</fixedFiles>
		<links>
			<link type="Related" description="is related to">5325</link>
			<link type="Sequence" description="follows up on">6857</link>
		</links>
	</bug>
	<bug id="6840" opendate="2016-07-18 09:45:11" fixdate="2016-08-19 11:50:27" resolution="Done">
		<buginformation>
			<summary>Tab completion does not work in messaging-activemq subsystem for "path" attributes </summary>
			<description>Tab completion does not work in message-activemq subsystem for "path" attributes. For example when trying to specify exported journal file on file system for :import-journal operation:






/subsystem=messaging-activemq/server=default:import-journal(file=/home/mnovak/jour &amp;lt;-- tab does not provide help






Pressing Tab does not provide help.</description>
			<version>10.0.0.Final</version>
			<fixedVersion>10.2.0.Final</fixedVersion>
			<type>Bug</type>
		</buginformation>
		<fixedFiles>
			<file type="M">org.wildfly.extension.messaging.activemq.ImportJournalOperation.java</file>
		</fixedFiles>
		<links>
			<link type="Cloners" description="cloned from">5215</link>
		</links>
	</bug>
	<bug id="6898" opendate="2016-07-30 22:11:06" fixdate="2016-08-20 23:38:13" resolution="Done">
		<buginformation>
			<summary>ConcurrentModificationException when returning from JMS onMessage() MBean</summary>
			<description>I receive the following stacktrace when an MBean&amp;amp;apos;s onMessage() returns. The transaction is rolled back and the message marked as undelivered. This started sometime after nightly #2280 which works fine for me.
2016-07-30 21:51:49,273 TRACE [com.envestnet.ejb.winthorpe.optimizer.WinthorpeRunListener] (Thread-0 (ActiveMQ-client-global-threads-556320704)) Finished processing run 16819
        at org.jboss.as.ejb3.tx.CMTTxInterceptor.handleInCallerTx(CMTTxInterceptor.java:159)
        at org.jboss.as.ejb3.tx.CMTTxInterceptor.invokeInCallerTx(CMTTxInterceptor.java:256)
        at org.jboss.as.ejb3.tx.CMTTxInterceptor.required(CMTTxInterceptor.java:329)
        at org.jboss.as.ejb3.tx.CMTTxInterceptor.processInvocation(CMTTxInterceptor.java:239)
        at org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:340)
        at org.jboss.as.ejb3.component.interceptors.CurrentInvocationContextInterceptor.processInvocation(CurrentInvocationContextInterceptor.java:41)
        at org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:340)
        at org.jboss.as.ejb3.component.invocationmetrics.WaitTimeInterceptor.processInvocation(WaitTimeInterceptor.java:47)
        at org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:340)
        at org.jboss.as.ejb3.security.SecurityContextInterceptor.processInvocation(SecurityContextInterceptor.java:100)
        at org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:340)
        at org.jboss.as.ejb3.deployment.processors.StartupAwaitInterceptor.processInvocation(StartupAwaitInterceptor.java:22)
        at org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:340)
        at org.jboss.as.ejb3.component.interceptors.ShutDownInterceptorFactory$1.processInvocation(ShutDownInterceptorFactory.java:64)
        at org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:340)
        at org.jboss.as.ejb3.deployment.processors.EjbSuspendInterceptor.processInvocation(EjbSuspendInterceptor.java:53)
        at org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:340)
        at org.jboss.as.ejb3.component.interceptors.LoggingInterceptor.processInvocation(LoggingInterceptor.java:67)
        at org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:340)
        at org.jboss.as.ee.component.NamespaceContextInterceptor.processInvocation(NamespaceContextInterceptor.java:50)
        at org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:340)
        at org.jboss.as.ejb3.component.interceptors.AdditionalSetupInterceptor.processInvocation(AdditionalSetupInterceptor.java:54)
        at org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:340)
        at org.jboss.as.ejb3.component.messagedriven.MessageDrivenComponentDescription$5$1.processInvocation(MessageDrivenComponentDescription.java:239)
        at org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:340)
        at org.jboss.invocation.ContextClassLoaderInterceptor.processInvocation(ContextClassLoaderInterceptor.java:64)
        at org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:340)
        at org.jboss.invocation.InterceptorContext.run(InterceptorContext.java:356)
        at org.wildfly.security.manager.WildFlySecurityManager.doChecked(WildFlySecurityManager.java:636)
        at org.jboss.invocation.AccessCheckingInterceptor.processInvocation(AccessCheckingInterceptor.java:61)
        at org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:340)
        at org.jboss.invocation.InterceptorContext.run(InterceptorContext.java:356)
        at org.jboss.invocation.PrivilegedWithCombinerInterceptor.processInvocation(PrivilegedWithCombinerInterceptor.java:80)
        at org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:340)
        at org.jboss.invocation.ChainedInterceptor.processInvocation(ChainedInterceptor.java:61)
        at org.jboss.as.ee.component.ViewService$View.invoke(ViewService.java:198)
        at org.jboss.as.ee.component.ViewDescription$1.processInvocation(ViewDescription.java:185)
        at org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:340)
        at org.jboss.invocation.ChainedInterceptor.processInvocation(ChainedInterceptor.java:61)
        at org.jboss.as.ee.component.ProxyInvocationHandler.invoke(ProxyInvocationHandler.java:73)
        at com.envestnet.ejb.winthorpe.optimizer.WinthorpeRunListener$$$view3.onMessage(Unknown Source)
        at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
        at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
        at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
        at java.lang.reflect.Method.invoke(Method.java:497)
        at org.jboss.as.ejb3.inflow.MessageEndpointInvocationHandler.doInvoke(MessageEndpointInvocationHandler.java:139)
        at org.jboss.as.ejb3.inflow.AbstractInvocationHandler.invoke(AbstractInvocationHandler.java:73)
        at com.envestnet.ejb.winthorpe.optimizer.WinthorpeRunListener$$$endpoint1.onMessage(Unknown Source)
        at org.apache.activemq.artemis.ra.inflow.ActiveMQMessageHandler.onMessage(ActiveMQMessageHandler.java:310)
        at org.apache.activemq.artemis.core.client.impl.ClientConsumerImpl.callOnMessage(ClientConsumerImpl.java:1018)
        at org.apache.activemq.artemis.core.client.impl.ClientConsumerImpl.access$400(ClientConsumerImpl.java:48)
        at org.apache.activemq.artemis.core.client.impl.ClientConsumerImpl$Runner.run(ClientConsumerImpl.java:1145)
        at org.apache.activemq.artemis.utils.OrderedExecutorFactory$OrderedExecutor$ExecutorTask.run(OrderedExecutorFactory.java:103)
        at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)
        at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)
        at java.lang.Thread.run(Thread.java:745)
Caused by: java.util.ConcurrentModificationException
        at java.util.HashMap$HashIterator.nextNode(HashMap.java:1429)
        at java.util.HashMap$KeyIterator.next(HashMap.java:1453)
        at org.jboss.weld.context.AbstractContext.destroy(AbstractContext.java:160)
        at org.jboss.weld.context.AbstractManagedContext.deactivate(AbstractManagedContext.java:58)
        at org.jboss.weld.context.AbstractBoundContext.deactivate(AbstractBoundContext.java:72)
        at org.jboss.weld.context.ejb.EjbRequestContextImpl.deactivate(EjbRequestContextImpl.java:47)
        at org.jboss.weld.ejb.AbstractEJBRequestScopeActivationInterceptor.aroundInvoke(AbstractEJBRequestScopeActivationInterceptor.java:76)
        at org.jboss.as.weld.ejb.EjbRequestScopeActivationInterceptor.processInvocation(EjbRequestScopeActivationInterceptor.java:83)
        at org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:340)
        at org.jboss.as.ee.concurrent.ConcurrentContextInterceptor.processInvocation(ConcurrentContextInterceptor.java:45)
        at org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:340)
        at org.jboss.invocation.InitialInterceptor.processInvocation(InitialInterceptor.java:21)</description>
			<version>10.1.0.CR1</version>
			<fixedVersion>10.1.0.Final</fixedVersion>
			<type>Bug</type>
		</buginformation>
		<fixedFiles>
			<file type="M">org.wildfly.extension.messaging.activemq.deployment.injection.InjectedJMSContext.java</file>
		</fixedFiles>
		<links>
			<link type="Cloners" description="cloned to">5542</link>
		</links>
	</bug>
	<bug id="3532" opendate="2014-06-20 14:57:45" fixdate="2016-08-23 15:02:23" resolution="Done">
		<buginformation>
			<summary> RemoteFailoverTestCase still fails intermittently</summary>
			<description>Fail rate is at 1.5% atm.
http://brontes.lab.eng.brq.redhat.com/project.html?projectId=WF&amp;amp;testNameId=3213279503671281753&amp;amp;tab=testDetails
(making affected version alpha, but indeed its master)</description>
			<version>9.0.0.Alpha1</version>
			<fixedVersion>11.0.0.Alpha1</fixedVersion>
			<type>Bug</type>
		</buginformation>
		<fixedFiles>
			<file type="M">org.jboss.as.test.clustering.cluster.ClusterAbstractTestCase.java</file>
			<file type="M">org.jboss.as.test.clustering.NodeUtil.java</file>
			<file type="M">org.jboss.as.test.clustering.ClusteringTestConstants.java</file>
			<file type="M">org.jboss.as.test.clustering.cluster.ejb.remote.RemoteFailoverTestCase.java</file>
		</fixedFiles>
		<links>
			<link type="Causality" description="is caused by">4255</link>
			<link type="Causality" description="is caused by">130</link>
			<link type="Dependency" description="is blocked by">4697</link>
			<link type="Related" description="is related to">4234</link>
			<link type="Related" description="is related to">5679</link>
		</links>
	</bug>
	<bug id="6304" opendate="2016-03-01 12:15:51" fixdate="2016-08-30 13:10:45" resolution="Done">
		<buginformation>
			<summary>Remoting login module&amp;apos;s certificate propagation uses the old certificate API but should be using the new API instead</summary>
			<description>RemotingLoginModule propagates javax.security.cert.X509Certificate but should use the newer API java.security.cert.X509Certificate. 
David proposed the following:
The problem is at org.jboss.as.security.remoting.RemotingLoginModule line 126: session.getPeerCertificateChain() is called where session.getPeerCertificates() should be.</description>
			<version>10.0.0.Final</version>
			<fixedVersion>11.0.0.Alpha1</fixedVersion>
			<type>Bug</type>
		</buginformation>
		<fixedFiles>
			<file type="M">org.jboss.as.security.remoting.RemotingLoginModule.java</file>
		</fixedFiles>
		<links>
			<link type="Causality" description="is caused by">3580</link>
			<link type="Cloners" description="cloned from">3625</link>
		</links>
	</bug>
	<bug id="6336" opendate="2016-03-08 10:05:14" fixdate="2016-08-30 13:11:14" resolution="Done">
		<buginformation>
			<summary>request-limit should have its attributes as &amp;apos;required&amp;apos;</summary>
			<description>When creating the &amp;amp;apos;request-limit&amp;amp;apos; filter in Undertow, there is not required to provide any of two available attributes. Although when I attach such filter to listener and perform request to server,  I get following error:






ERROR [io.undertow.request] (default I/O-1) UT005071: Undertow request failed HttpServerExchange{ GET /long-running-servlet/HeavyProcessing request {Accept=[text/html,application/xhtml+xml,application/xml;q=0.9,image/webp,*/*;q=0.8], Accept-Language=[cs,en-US;q=0.8,en;q=0.6], Cache-Control=[no-cache], Accept-Encoding=[gzip, deflate, sdch], DNT=[1], Pragma=[no-cache], User-Agent=[Mozilla/5.0 (X11; Linux x86_64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/49.0.2623.75 Safari/537.36], Connection=[keep-alive], Upgrade-Insecure-Requests=[1], Host=[localhost:8080]} response {}}: java.lang.RuntimeException: WFLYUT0059: Could not construct handler for class: class io.undertow.server.handlers.RequestLimitingHandler. with parameters {




    "max-concurrent-requests" =&amp;gt; undefined,




    "queue-size" =&amp;gt; undefined




}




	at org.wildfly.extension.undertow.filters.Filter.createHandler(Filter.java:111)




	at org.wildfly.extension.undertow.filters.Filter.createHttpHandler(Filter.java:68)




	at org.wildfly.extension.undertow.filters.RequestLimitHandler.createHttpHandler(RequestLimitHandler.java:37)




	at org.wildfly.extension.undertow.filters.FilterService.createHttpHandler(FilterService.java:57)




	at org.wildfly.extension.undertow.filters.FilterRef.createHttpHandler(FilterRef.java:69)




	at org.wildfly.extension.undertow.LocationService.configureHandlerChain(LocationService.java:96)




	at org.wildfly.extension.undertow.Host.configureRootHandler(Host.java:117)




	at org.wildfly.extension.undertow.Host.getOrCreateRootHandler(Host.java:171)




	at org.wildfly.extension.undertow.Host$HostRootHandler.handleRequest(Host.java:285)




	at io.undertow.server.handlers.NameVirtualHostHandler.handleRequest(NameVirtualHostHandler.java:54)




	at io.undertow.server.handlers.error.SimpleErrorPageHandler.handleRequest(SimpleErrorPageHandler.java:76)




	at io.undertow.server.handlers.CanonicalPathHandler.handleRequest(CanonicalPathHandler.java:49)




	at io.undertow.server.handlers.ChannelUpgradeHandler.handleRequest(ChannelUpgradeHandler.java:158)




	at io.undertow.server.Connectors.executeRootHandler(Connectors.java:202)




	at io.undertow.server.protocol.http.HttpReadListener.handleEventWithNoRunningRequest(HttpReadListener.java:233)




	at io.undertow.server.protocol.http.HttpReadListener.handleEvent(HttpReadListener.java:131)




	at io.undertow.server.protocol.http.HttpOpenListener.handleEvent(HttpOpenListener.java:145)




	at io.undertow.server.protocol.http.HttpOpenListener.handleEvent(HttpOpenListener.java:92)




	at io.undertow.server.protocol.http.HttpOpenListener.handleEvent(HttpOpenListener.java:51)




	at org.xnio.ChannelListeners.invokeChannelListener(ChannelListeners.java:92)




	at org.xnio.ChannelListeners$10.handleEvent(ChannelListeners.java:291)




	at org.xnio.ChannelListeners$10.handleEvent(ChannelListeners.java:286)




	at org.xnio.ChannelListeners.invokeChannelListener(ChannelListeners.java:92)




	at org.xnio.nio.QueuedNioTcpServer$1.run(QueuedNioTcpServer.java:121)




	at org.xnio.nio.WorkerThread.safeRun(WorkerThread.java:580)




	at org.xnio.nio.WorkerThread.run(WorkerThread.java:464)




Caused by: java.lang.IllegalArgumentException




	at org.jboss.dmr.ModelValue.asInt(ModelValue.java:58)




	at org.jboss.dmr.ModelNode.asInt(ModelNode.java:240)




	at org.wildfly.extension.undertow.filters.Filter.createHandler(Filter.java:94)




	... 25 more






I think we should make those attributes as required when creating such filter as they are required for it&amp;amp;apos;s construction anyway.
Expected:
Make both attributes of request-limit filter as required when creating such filter and write operation error in case they are not provided.
NOTE: also it seems that now when I set attribute queue-size to 0 then this queue is unlimited. Maybe it would be more suitable to set behaviour like this:

undefined -&amp;gt; unlimited queue
0 -&amp;gt; no queue
1..N -&amp;gt; queue size
well this would be a change of behaviour so maybe it&amp;amp;apos;s too late to do such change already...

</description>
			<version>10.0.0.Final</version>
			<fixedVersion>11.0.0.Alpha1</fixedVersion>
			<type>Bug</type>
		</buginformation>
		<fixedFiles>
			<file type="M">org.wildfly.extension.undertow.filters.RequestLimitHandler.java</file>
		</fixedFiles>
		<links>
			<link type="Cloners" description="cloned from">3668</link>
			<link type="Related" description="is related to">7220</link>
		</links>
	</bug>
	<bug id="6982" opendate="2016-08-23 07:08:09" fixdate="2016-08-30 13:12:58" resolution="Done">
		<buginformation>
			<summary>session-max-alive-time statistics for deployment are counted incorrectly</summary>
			<description>The value of session-max-alive-time is incorrectly counted. It looks as it is counted in miliseconds instead of seconds + the value is double of expected one.</description>
			<version>10.1.0.Final</version>
			<fixedVersion>11.0.0.Alpha1</fixedVersion>
			<type>Bug</type>
		</buginformation>
		<fixedFiles>
			<file type="M">org.wildfly.extension.undertow.DeploymentDefinition.java</file>
		</fixedFiles>
		<links>
			<link type="Cloners" description="cloned from">5701</link>
		</links>
	</bug>
	<bug id="7000" opendate="2016-08-25 05:55:59" fixdate="2016-08-30 13:16:06" resolution="Done">
		<buginformation>
			<summary>Batch jobs from installed modules should be detected for non-batch app</summary>
			<description>Hibernate Search is creating a batch job which embedded in a WildFly module. Any user of Hibernate Search should be able to the launch this batch job, no matter if they&amp;amp;apos;re using a batch-app. However, it seems that jobs are only resolvable for batch-app. More explicitly, WildFly requires deployed web-app to have the below structure to enable the job resolver:
    META-INF/batch-jobs
For those who don&amp;amp;apos;t have this batch folder in their webapp, they cannot use the jobs from installed module. And an error "JBERET000601: Failed to get job xml file for job" will be raised.</description>
			<version>10.0.0.Final</version>
			<fixedVersion>11.0.0.Alpha1</fixedVersion>
			<type>Bug</type>
		</buginformation>
		<fixedFiles>
			<file type="M">org.wildfly.extension.batch.jberet.deployment.WildFlyJobXmlResolver.java</file>
		</fixedFiles>
		<links>
			<link type="Cloners" description="cloned to">5766</link>
		</links>
	</bug>
	<bug id="6996" opendate="2016-08-24 14:00:22" fixdate="2016-08-31 18:04:03" resolution="Done">
		<buginformation>
			<summary>High CPU Usage By Infinispan when using ATTRIBUTE granularity</summary>
			<description>Customer is deploying clustered application to EAP 7.0.1 and notices high CPU utilization by Infinispan (default configuration). Customer took thread dumps (attachment high-cpu1.zip and high-cpu1.zip) during the occurrence of the issue in question. Reports [1] show high CPU utilization with Infinispan. 
Customer then gave us an app to reproduce the issue in question (attachment webapp3.zip). The attachment includes the app, which consist of JSP pages and code that can be used to test the app. During the test, we notice CPU utilization increases upwards to 80% -90% and remains there until the test is finished. If I deploy the same app to clustered EAP 6.4/Java 8 (with dist mode like default EAP 7), CPU utilization remains low (~2%) during the running of the test.
Customer is under the assumption that the high CPU is due to the number of entries in the cache (web cache). As the number of entries increases, so does the likelihood of the high CPU utilization by Infinispan. Inside the test code (SessionReplicationTest.java) provided by the customer, they included (commented out) a call to a JSP file (index3.jsp) that invalidates the session (thus removing it from cache). High CPU is not experienced when they invalidate the session.    
[1]
https://access.redhat.com/labs/jvmpeg/results/8712a840-5da6-11e6-8f83-277d70f61057
https://access.redhat.com/labs/jvmpeg/results/56bc07a0-6322-11e6-b64b-2ddd7b4e30bc</description>
			<version>10.1.0.Final</version>
			<fixedVersion>11.0.0.Alpha1</fixedVersion>
			<type>Bug</type>
		</buginformation>
		<fixedFiles>
			<file type="M">org.wildfly.clustering.web.infinispan.session.fine.FineImmutableSessionAttributes.java</file>
			<file type="M">org.wildfly.clustering.web.infinispan.session.InfinispanSessionManagerFactory.java</file>
			<file type="M">org.wildfly.clustering.web.infinispan.session.fine.FineSessionAttributesFactory.java</file>
			<file type="M">org.wildfly.clustering.web.infinispan.session.fine.SessionAttributeKeyExternalizer.java</file>
			<file type="M">org.wildfly.clustering.web.infinispan.session.fine.SessionAttributeKey.java</file>
			<file type="M">org.wildfly.clustering.web.infinispan.session.fine.FineSessionAttributes.java</file>
			<file type="M">org.wildfly.clustering.web.infinispan.session.coarse.CoarseSessionAttributesFactory.java</file>
		</fixedFiles>
		<links>
			<link type="Cloners" description="cloned from">5687</link>
		</links>
	</bug>
	<bug id="5661" opendate="2015-11-11 14:48:44" fixdate="2016-09-01 10:10:02" resolution="Done">
		<buginformation>
			<summary>Enable CCM for jta=false</summary>
			<description>Currently AbstractDataSourceAdd doesn&amp;amp;apos;t add the CCM service for jta=false deployments, which could work if applications rely on the CCM boundaries.
For both jta=true and jta=false deployments the dependency should be guarded with a "if (useCCM)"</description>
			<version>10.0.0.CR4</version>
			<fixedVersion>11.0.0.Alpha1</fixedVersion>
			<type>Bug</type>
		</buginformation>
		<fixedFiles>
			<file type="M">org.jboss.as.connector.subsystems.jca.ListOfConnectionsHandler.java</file>
			<file type="M">org.jboss.as.connector.deployers.ra.processors.ParsedRaDeploymentProcessor.java</file>
			<file type="M">org.jboss.as.connector.subsystems.jca.CachedConnectionManagerAdd.java</file>
			<file type="M">org.jboss.as.connector.deployers.ra.processors.CachedConnectionManagerSetupProcessor.java</file>
			<file type="M">org.jboss.as.connector.logging.ConnectorLogger.java</file>
			<file type="M">org.jboss.as.connector.subsystems.jca.Constants.java</file>
			<file type="M">org.jboss.as.connector.subsystems.datasources.AbstractDataSourceAdd.java</file>
			<file type="M">org.jboss.as.connector.util.ConnectorServices.java</file>
			<file type="M">org.jboss.as.connector.subsystems.jca.GetNumberOfConnectionsHandler.java</file>
		</fixedFiles>
		<links>
			<link type="Related" description="is related to">5020</link>
			<link type="Sequence" description="is followed up by">2897</link>
		</links>
	</bug>
	<bug id="7034" opendate="2016-09-02 20:23:00" fixdate="2016-09-05 10:53:35" resolution="Done">
		<buginformation>
			<summary>JDR is not collecting the file .overlays, layer.conf, version.txt config files</summary>
			<description>The JDR report when collecting files should be collecting
$JBOSS_HOME/modules/system/layers/base/.overlays/.overlays
$JBOSS_HOME/.installation/identity.conf
$JBOSS_HOME/.installation/layers/base/layer.conf
$JBOSS_HOME/.installation/patches/*/misc/version.txt
This file is needed to confirm overlay priority and other layer configurations to make sure the installation is not corrupted.</description>
			<version>10.1.0.Final</version>
			<fixedVersion>11.0.0.Alpha1</fixedVersion>
			<type>Bug</type>
		</buginformation>
		<fixedFiles>
			<file type="M">org.jboss.as.jdr.plugins.AS7Plugin.java</file>
		</fixedFiles>
		<links>
			<link type="Cloners" description="cloned to">5861</link>
			<link type="Superset" description="is incorporated by">5861</link>
		</links>
	</bug>
	<bug id="7084" opendate="2016-09-09 15:29:00" fixdate="2016-09-09 15:31:45" resolution="Duplicate Issue">
		<buginformation>
			<summary>Support Artemis JDBC store</summary>
			<description></description>
			<version>10.0.0.Final</version>
			<fixedVersion></fixedVersion>
			<type>Feature Request</type>
		</buginformation>
		<fixedFiles>
			<file type="M">org.wildfly.extension.messaging.activemq.MessagingActiveMQSubsystem_1_1_TestCase.java</file>
			<file type="M">org.wildfly.extension.messaging.activemq.MessagingSubsystemRootResourceDefinition.java</file>
			<file type="M">org.wildfly.extension.messaging.activemq.ServerDefinition.java</file>
			<file type="M">org.wildfly.extension.messaging.activemq.logging.MessagingLogger.java</file>
			<file type="M">org.wildfly.extension.messaging.activemq.ServerAdd.java</file>
			<file type="M">org.wildfly.extension.messaging.activemq.MessagingSubsystemParser_1_1.java</file>
			<file type="M">org.wildfly.extension.messaging.activemq.ActiveMQServerService.java</file>
		</fixedFiles>
		<links>
			<link type="Duplicate" description="duplicates">6728</link>
		</links>
	</bug>
	<bug id="7061" opendate="2016-09-06 12:06:28" fixdate="2016-09-14 13:42:03" resolution="Done">
		<buginformation>
			<summary>Inconsistency of elytron security domains mapping</summary>
			<description>Looking into wildfly-undertow_4_0.xsd and wildfly-ejb3_5_0.xsd .Both undertow and ejb subsystem enables to map deployment security domain to elytron security domain using application-security-domains element. 
However, each in little different way, what could be IMHO misleading. 
Ejb subsystem defines:

name attribute for deployment security domain
security-domain for elytron security domain

Undertow subsystem defines:

security-domain for deployment security domain

Could this be unified? 
Also is it possible mention explicitly in comment in undertow subsystem, that elytron security domain is configured in http-authentication-factory.</description>
			<version>11.0.0.Alpha1</version>
			<fixedVersion>11.0.0.Alpha1</fixedVersion>
			<type>Bug</type>
		</buginformation>
		<fixedFiles>
			<file type="M">org.wildfly.extension.undertow.UndertowSubsystemParser_4_0.java</file>
		</fixedFiles>
		<links>
			<link type="Cloners" description="cloned from">5889</link>
		</links>
	</bug>
	<bug id="6564" opendate="2016-04-27 15:53:39" fixdate="2016-09-15 07:52:52" resolution="Done">
		<buginformation>
			<summary>show-resources operation of jaxrs subsystem shows wrong path in resource-methods attribute</summary>
			<description>Description of problem:
Show-resources operation of jaxrs subsystem shows wrong path in resource-methods attribute. There are double slash in path. Eg.: "/jaxrs-eap//sample", but correct path is "/jaxrs-eap/sample" (http://localhost:8080/jaxrs-eap/sample) 
This operation was added by WFLY-3045.
How reproducible:
Always
Steps to Reproduce:

./standalone.sh
deploy /home/mkopecky/playground/resteasy/single-application/target/jaxrs-eap.war
/deployment=jaxrs-eap.war/subsystem=jaxrs:show-resources

Actual results:






...




"resource-methods" =&amp;gt; ["GET /jaxrs-eap//sample - org.resteasy.simple.deployment.AdvancedService.get()"]




...






Expected results:






...




"resource-methods" =&amp;gt; ["GET /jaxrs-eap/sample - org.resteasy.simple.deployment.AdvancedService.get()"]




...





</description>
			<version>10.0.0.Final</version>
			<fixedVersion>11.0.0.Alpha1</fixedVersion>
			<type>Bug</type>
		</buginformation>
		<fixedFiles>
			<file type="M">org.jboss.as.jaxrs.JaxrsDeploymentDefinition.java</file>
		</fixedFiles>
		<links>
			<link type="Cloners" description="cloned from">4373</link>
		</links>
	</bug>
	<bug id="7106" opendate="2016-09-14 19:38:31" fixdate="2016-09-15 11:34:12" resolution="Done">
		<buginformation>
			<summary>Reject distributed web sessions with missing attribute cache entries</summary>
			<description>If we detect cache entry integrity constraint violations, then the session is invalid, and we should report it as not found and purge the orphaned entries.</description>
			<version>10.1.0.Final</version>
			<fixedVersion>11.0.0.Alpha1</fixedVersion>
			<type>Bug</type>
		</buginformation>
		<fixedFiles>
			<file type="M">org.wildfly.clustering.web.infinispan.session.fine.FineSessionAttributesFactory.java</file>
			<file type="M">org.wildfly.clustering.web.infinispan.logging.InfinispanWebLogger.java</file>
		</fixedFiles>
		<links>
			<link type="Cloners" description="cloned to">6009</link>
		</links>
	</bug>
	<bug id="7069" opendate="2016-09-07 15:01:49" fixdate="2016-09-15 11:35:55" resolution="Done">
		<buginformation>
			<summary>EJBs accessible too early (spec violation) - deployment marked started before ready</summary>
			<description>Follow up of WFLY-6402, the deployment is being marked started in the deployment repository before it is ready, resulting in requests being accepted.</description>
			<version>10.1.0.Final</version>
			<fixedVersion>11.0.0.Alpha1</fixedVersion>
			<type>Bug</type>
		</buginformation>
		<fixedFiles>
			<file type="M">org.jboss.as.ejb3.deployment.processors.DeploymentRepositoryProcessor.java</file>
			<file type="M">org.jboss.as.ee.component.deployers.StartupCountdown.java</file>
			<file type="M">org.jboss.as.ejb3.deployment.ModuleDeployment.java</file>
		</fixedFiles>
		<links>
			<link type="Cloners" description="cloned to">5917</link>
			<link type="Sequence" description="follows up on">6402</link>
		</links>
	</bug>
	<bug id="5970" opendate="2016-01-11 03:06:17" fixdate="2016-09-15 12:49:38" resolution="Duplicate Issue">
		<buginformation>
			<summary>Plain JMS clients don&amp;apos;t fallback</summary>
			<description>Plain JMS clients don&amp;amp;apos;t fallback when the Live server takes over
Version-Release number of selected component 
messaging subsystem 1.4</description>
			<version>9.0.2.Final</version>
			<fixedVersion></fixedVersion>
			<type>Bug</type>
		</buginformation>
		<fixedFiles>
			<file type="M">org.wildfly.extension.messaging.activemq.TransportConfigOperationHandlers.java</file>
			<file type="M">org.wildfly.extension.messaging.activemq.GenericTransportDefinition.java</file>
		</fixedFiles>
		<links>
			<link type="Cloners" description="cloned to">4477</link>
			<link type="Duplicate" description="duplicates">5394</link>
		</links>
	</bug>
	<bug id="7021" opendate="2016-08-29 18:09:54" fixdate="2016-09-15 15:50:41" resolution="Done">
		<buginformation>
			<summary>jdr.sh script should have better help message</summary>
			<description>jdr.sh script should have better help message. There is no general description about this script. There is only list of attributes.






./jdr.sh -h





</description>
			<version>10.1.0.Final</version>
			<fixedVersion>11.0.0.Alpha1</fixedVersion>
			<type>Bug</type>
		</buginformation>
		<fixedFiles>
			<file type="M">org.jboss.as.jdr.CommandLineMain.java</file>
			<file type="M">org.jboss.as.jdr.logger.JdrLogger.java</file>
		</fixedFiles>
		<links>
			<link type="Cloners" description="cloned from">5760</link>
		</links>
	</bug>
	<bug id="7130" opendate="2016-09-16 17:45:54" fixdate="2016-09-23 14:22:01" resolution="Done">
		<buginformation>
			<summary>PersistenceProperty specified in @PersistenceContext should be passed to the created EntityManager </summary>
			<description>While working on the unit test for WFLY-7075, I noticed that PersistenceContext properties are not being passed correctly to the Injected EntityManager, we should fix that.
For Example:

@PersistenceContext(type = PersistenceContextType.TRANSACTION, unitName = "mypc", properties=
Unknown macro: {@PersistenceProperty(name="wildfly.jpa.allowjoinedunsync", value="true")} 
)
private EntityManager allowjoinedunsyncEm;
Is passing an incorrect form of the property values.</description>
			<version>JBoss AS7 7.1.1.Final</version>
			<fixedVersion>11.0.0.Alpha1</fixedVersion>
			<type>Bug</type>
		</buginformation>
		<fixedFiles>
			<file type="M">org.jboss.as.jpa.processor.JPAAnnotationProcessor.java</file>
		</fixedFiles>
		<links>
			<link type="Dependency" description="blocks">7075</link>
		</links>
	</bug>
	<bug id="7120" opendate="2016-09-15 22:18:06" fixdate="2016-09-27 14:49:48" resolution="Done">
		<buginformation>
			<summary>NPE in SessionManagerStatsHandler</summary>
			<description>Mathieu Lachance reports an NPE when SessionManagerStatsHandler tries to use the ServiceController for a no-longer present deployment. See https://github.com/wildfly/wildfly/pull/9189</description>
			<version>10.1.0.Final</version>
			<fixedVersion>11.0.0.Alpha1</fixedVersion>
			<type>Bug</type>
		</buginformation>
		<fixedFiles>
			<file type="M">org.wildfly.extension.undertow.DeploymentDefinition.java</file>
		</fixedFiles>
		<links>
			<link type="Cloners" description="cloned to">6026</link>
		</links>
	</bug>
	<bug id="5239" opendate="2015-08-31 15:40:51" fixdate="2016-09-27 15:55:55" resolution="Done">
		<buginformation>
			<summary>XSiteSimpleTestCase.testPutRelayedToBackups intermittently fails in ~5% cases with "no physical address for"</summary>
			<description>I have done some work to stabilize this test a little more by switching both stacks (default stack and the bridge stack) to tcp. This does not help the test completely, it still fails with the well known:






rhusar		&amp;amp;amp#27;[0m&amp;amp;amp#27;[0m15:14:52,808 INFO  [org.jboss.as.server] (management-handler-thread - 4) WFLYSRV0010: Deployed "xsite.war" (runtime-name : "xsite.war")




&amp;amp;amp#27;[0mExecuting HTTP request: http://[::1]:8080/xsite/cache?operation=put&amp;amp;key=a&amp;amp;value=100




&amp;amp;amp#27;[33m15:14:53,513 WARNING [org.jgroups.protocols.TCP] (TransferQueueBundler,ee,LON-1) JGRP000032: LON-1: no physical address for a9d43ee2-698a-fbab-2ed8-fb54009f7af4, dropping message




&amp;amp;amp#27;[0m&amp;amp;amp#27;[33m15:14:55,581 WARNING [org.jgroups.protocols.TCP] (TransferQueueBundler,ee,LON-1) JGRP000032: LON-1: no physical address for a9d43ee2-698a-fbab-2ed8-fb54009f7af4, dropping message




&amp;amp;amp#27;[0m&amp;amp;amp#27;[33m15:14:57,583 WARNING [org.jgroups.protocols.TCP] (TransferQueueBundler,ee,LON-1) JGRP000032: LON-1: no physical address for a9d43ee2-698a-fbab-2ed8-fb54009f7af4, dropping message




&amp;amp;amp#27;[0m&amp;amp;amp#27;[33m15:14:59,584 WARNING [org.jgroups.protocols.TCP] (TransferQueueBundler,ee,LON-1) JGRP000032: LON-1: no physical address for a9d43ee2-698a-fbab-2ed8-fb54009f7af4, dropping message




&amp;amp;amp#27;[0m&amp;amp;amp#27;[33m15:15:01,585 WARNING [org.jgroups.protocols.TCP] (TransferQueueBundler,ee,LON-1) JGRP000032: LON-1: no physical address for a9d43ee2-698a-fbab-2ed8-fb54009f7af4, dropping message




&amp;amp;amp#27;[0m&amp;amp;amp#27;[33m15:15:03,277 WARN  [org.infinispan.xsite.BackupSenderImpl] (default task-1) ISPN000202: Problems backing up data for cache dist to site NYC: org.infinispan.util.concurrent.TimeoutException: Timed out after 10 seconds waiting for a response from NYC (sync, timeout=10000)




&amp;amp;amp#27;[0mExecuted HTTP request




&amp;amp;amp#27;[33m15:15:03,586 WARNING [org.jgroups.protocols.TCP] (TransferQueueBundler,ee,LON-1) JGRP000032: LON-1: no physical address for a9d43ee2-698a-fbab-2ed8-fb54009f7af4, dropping message




&amp;amp;amp#27;[0m&amp;amp;amp#27;[33m15:15:05,591 WARNING [org.jgroups.protocols.TCP] (TransferQueueBundler,ee,LON-1) JGRP000032: LON-1: no physical address for a9d43ee2-698a-fbab-2ed8-fb54009f7af4, dropping message			17:02





</description>
			<version>10.0.0.Beta2</version>
			<fixedVersion>11.0.0.Alpha1</fixedVersion>
			<type>Bug</type>
		</buginformation>
		<fixedFiles>
			<file type="M">org.jboss.as.test.clustering.xsite.XSiteSimpleTestCase.java</file>
		</fixedFiles>
	</bug>
	<bug id="5851" opendate="2015-12-15 16:44:14" fixdate="2016-09-29 07:56:11" resolution="Done">
		<buginformation>
			<summary>Add support for "rebalanceConnections" to inbound-config</summary>
			<description>ARTEMIS-293 added a new feature which is configured via the "rebalanceConnections" activation configuration property. This should also be available on the inbound-config of the pooled-connection-factory in the XML configuration so that users don&amp;amp;apos;t need to explicitly set the activation configuration property on their MDBs.</description>
			<version>10.0.0.CR4</version>
			<fixedVersion>11.0.0.Alpha1</fixedVersion>
			<type>Enhancement</type>
		</buginformation>
		<fixedFiles>
			<file type="M">org.wildfly.extension.messaging.activemq.MessagingActiveMQSubsystem_1_1_TestCase.java</file>
			<file type="M">org.wildfly.extension.messaging.activemq.MessagingSubsystemRootResourceDefinition.java</file>
			<file type="M">org.wildfly.extension.messaging.activemq.jms.PooledConnectionFactoryAttributesTestCase.java</file>
			<file type="M">org.wildfly.extension.messaging.activemq.jms.PooledConnectionFactoryService.java</file>
			<file type="M">org.wildfly.extension.messaging.activemq.MessagingSubsystemParser_1_1.java</file>
			<file type="M">org.wildfly.extension.messaging.activemq.jms.ConnectionFactoryAttributes.java</file>
		</fixedFiles>
		<links>
			<link type="Duplicate" description="is duplicated by">6588</link>
			<link type="Related" description="is related to">4456</link>
		</links>
	</bug>
	<bug id="7139" opendate="2016-09-19 13:29:28" fixdate="2016-09-30 14:28:18" resolution="Done">
		<buginformation>
			<summary>IllegalStateException: WFLYEE0043: Component is stopped</summary>
			<description>Occured on client during remote EJB undeploy failover tests. Scenarios:
eap-7x-failover-ejb-ejbremote-undeploy-dist-async,
eap-7x-failover-ejb-ejbremote-undeploy-repl-async,
eap-7x-failover-ejb-ejbremote-undeploy-repl-sync.
Happened after "Failing node 0 (perf18)" at 2016/08/18 11:59:51:537 and stopped occuring at 2016/08/18 12:06:04:494 just before "Node 3 (perf21) is down".
Stacktrace from client:






2016/08/18 11:59:52:694 EDT [ERROR][Runner - 1092] HOST perf17.mw.lab.eng.bos.redhat.com:rootProcess:c - Error getting response. &amp;lt;java.lang.IllegalStateException: WFLYEE0043: Component is stopped&amp;gt;




        java.lang.IllegalStateException: WFLYEE0043: Component is stopped




	at org.jboss.as.ee.component.BasicComponent.waitForComponentStart(BasicComponent.java:110)




	at org.jboss.as.ee.component.ViewService$View.invoke(ViewService.java:194)




	at org.jboss.as.ejb3.remote.protocol.versionone.MethodInvocationMessageHandler.invokeMethod(MethodInvocationMessageHandler.java:328)




	at org.jboss.as.ejb3.remote.protocol.versionone.MethodInvocationMessageHandler.access$100(MethodInvocationMessageHandler.java:67)




	at org.jboss.as.ejb3.remote.protocol.versionone.MethodInvocationMessageHandler$1.run(MethodInvocationMessageHandler.java:201)




	at org.jboss.as.ejb3.remote.protocol.versionone.MethodInvocationMessageHandler.processMessage(MethodInvocationMessageHandler.java:263)




	at org.jboss.as.ejb3.remote.protocol.versionone.VersionOneProtocolChannelReceiver.processMessage(VersionOneProtocolChannelReceiver.java:213)




	at org.jboss.as.ejb3.remote.protocol.versiontwo.VersionTwoProtocolChannelReceiver.processMessage(VersionTwoProtocolChannelReceiver.java:76)




	at org.jboss.as.ejb3.remote.protocol.versionone.VersionOneProtocolChannelReceiver.handleMessage(VersionOneProtocolChannelReceiver.java:159)




	at org.jboss.remoting3.remote.RemoteConnectionChannel$4.run(RemoteConnectionChannel.java:383)




	at org.jboss.remoting3.EndpointImpl$TrackingExecutor$1.run(EndpointImpl.java:731)




	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)




	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)




	at java.lang.Thread.run(Thread.java:745)




	at ...asynchronous invocation...(Unknown Source)




	at org.jboss.ejb.client.remoting.InvocationExceptionResponseHandler$MethodInvocationExceptionResultProducer.getResult(InvocationExceptionResponseHandler.java:96)




	at org.jboss.ejb.client.EJBClientInvocationContext$1.run(EJBClientInvocationContext.java:282)




	at java.security.AccessController.doPrivileged(Native Method)




	at org.jboss.ejb.client.EJBClientInvocationContext.getResult(EJBClientInvocationContext.java:279)




	at org.jboss.ejb.client.EJBObjectInterceptor.handleInvocationResult(EJBObjectInterceptor.java:64)




	at org.jboss.ejb.client.EJBClientInvocationContext.getResult(EJBClientInvocationContext.java:290)




	at org.jboss.ejb.client.EJBHomeInterceptor.handleInvocationResult(EJBHomeInterceptor.java:88)




	at org.jboss.ejb.client.EJBClientInvocationContext.getResult(EJBClientInvocationContext.java:290)




	at org.jboss.ejb.client.TransactionInterceptor.handleInvocationResult(TransactionInterceptor.java:46)




	at org.jboss.ejb.client.EJBClientInvocationContext.getResult(EJBClientInvocationContext.java:290)




	at org.jboss.ejb.client.ReceiverInterceptor.handleInvocationResult(ReceiverInterceptor.java:142)




	at org.jboss.ejb.client.EJBClientInvocationContext.getResult(EJBClientInvocationContext.java:265)




	at org.jboss.ejb.client.EJBClientInvocationContext.awaitResponse(EJBClientInvocationContext.java:453)




	at org.jboss.ejb.client.EJBInvocationHandler.doInvoke(EJBInvocationHandler.java:204)




	at org.jboss.ejb.client.EJBInvocationHandler.doInvoke(EJBInvocationHandler.java:183)




	at org.jboss.ejb.client.EJBInvocationHandler.invoke(EJBInvocationHandler.java:146)




	at com.sun.proxy.$Proxy2.getSerialAndIncrement(Unknown Source)




	at org.jboss.smartfrog.clustering.ejb3.StatefulSBProcessorFactoryImpl$EJB3RequestProcessor.processRequest(StatefulSBProcessorFactoryImpl.java:84)




	at org.jboss.smartfrog.loaddriver.CompoundRequestProcessorFactoryImpl$CompoundRequestProcessor.processRequest(CompoundRequestProcessorFactoryImpl.java:52)




	at org.jboss.smartfrog.loaddriver.Runner.run(Runner.java:103)




	at java.lang.Thread.run(Thread.java:745)






Link to client logs:
http://jenkins.mw.lab.eng.bos.redhat.com/hudson/view/EAP7/view/EAP7-Clustering/view/EAP7-Clustering-Triggers/job/eap-7x-failover-ejb-ejbremote-undeploy-dist-async/21/console-perf17/</description>
			<version>11.0.0.Alpha1</version>
			<fixedVersion>11.0.0.Alpha1</fixedVersion>
			<type>Bug</type>
		</buginformation>
		<fixedFiles>
			<file type="M">org.jboss.as.ee.logging.EeLogger.java</file>
			<file type="M">org.jboss.as.ejb3.remote.protocol.versionone.MethodInvocationMessageHandler.java</file>
		</fixedFiles>
		<links>
			<link type="Cloners" description="cloned from">5764</link>
		</links>
	</bug>
	<bug id="7240" opendate="2016-09-29 12:58:36" fixdate="2016-09-30 15:01:53" resolution="Done">
		<buginformation>
			<summary>CacheRegistry is missing entries (e.g. client mappings) following a merge after a cluster split</summary>
			<description>One of the manifestation of the issue:

start 2 nodes with SLSB with TUNNEL transport
start both nodes creating 2 clusters (or partitions)
start ejb client
start GossipRouter and wait for merge
ejb client keeps talking only to known node; never receives a topology update

This is because org.wildfly.clustering.server.registry.CacheRegistry#topologyChanged does not handle cluster merges and thus all entries from a given partition will be lost forever.
The effects are especially missing client mappings and broken session stickiness. </description>
			<version>10.0.0.Final</version>
			<fixedVersion>11.0.0.Alpha1</fixedVersion>
			<type>Bug</type>
		</buginformation>
		<fixedFiles>
			<file type="M">org.wildfly.clustering.server.provider.CacheServiceProviderRegistryBuilderProvider.java</file>
			<file type="M">org.wildfly.clustering.server.registry.CacheRegistry.java</file>
		</fixedFiles>
		<links>
			<link type="Cloners" description="cloned to">6251</link>
			<link type="Related" description="is related to">4938</link>
		</links>
	</bug>
	<bug id="6602" opendate="2016-05-11 15:02:53" fixdate="2016-09-30 17:02:49" resolution="Done">
		<buginformation>
			<summary>JGroups subsystem does not expose a proper capability contract</summary>
			<description></description>
			<version>10.0.0.Final</version>
			<fixedVersion>11.0.0.Alpha1</fixedVersion>
			<type>Bug</type>
		</buginformation>
		<fixedFiles>
			<file type="M">org.wildfly.extension.messaging.activemq.DiscoveryGroupDefinition.java</file>
			<file type="M">org.jboss.as.clustering.jgroups.subsystem.RemoteSiteConfigurationBuilder.java</file>
			<file type="D">org.jboss.as.clustering.infinispan.ChannelTransport.java</file>
			<file type="M">org.jboss.as.clustering.jgroups.subsystem.ForkServiceHandler.java</file>
			<file type="M">org.wildfly.extension.clustering.singleton.ElectionPolicyResourceDefinition.java</file>
			<file type="M">org.jboss.as.clustering.jgroups.subsystem.ChannelResourceDefinition.java</file>
			<file type="M">org.jboss.as.connector.subsystems.jca.DistributedWorkManagerAdd.java</file>
			<file type="M">org.wildfly.clustering.server.GroupBuilderFactory.java</file>
			<file type="M">org.jboss.as.clustering.jgroups.subsystem.StackProtocolResourceDefinition.java</file>
			<file type="D">org.wildfly.clustering.jgroups.spi.service.ChannelBuilder.java</file>
			<file type="M">org.jboss.as.clustering.jgroups.subsystem.OperationSequencesTestCase.java</file>
			<file type="M">org.jboss.as.clustering.jgroups.subsystem.TransportConfigurationBuilder.java</file>
			<file type="M">org.jboss.as.clustering.jgroups.subsystem.SubsystemParsingTestCase.java</file>
			<file type="M">org.jboss.as.clustering.subsystem.AdditionalInitialization.java</file>
			<file type="M">org.jboss.as.clustering.infinispan.subsystem.OperationTestCaseBase.java</file>
			<file type="M">org.wildfly.clustering.server.group.ChannelNodeFactoryBuilder.java</file>
			<file type="D">org.jboss.as.clustering.jgroups.subsystem.ForkChannelFactoryBuilderFactory.java</file>
			<file type="M">org.wildfly.clustering.service.AliasServiceBuilder.java</file>
			<file type="M">org.wildfly.clustering.server.group.GroupBuilderProvider.java</file>
			<file type="M">org.jboss.as.clustering.infinispan.subsystem.JGroupsTransportResourceDefinition.java</file>
			<file type="M">org.jboss.as.clustering.jgroups.subsystem.ForkChannelFactoryBuilder.java</file>
			<file type="M">org.jboss.as.clustering.jgroups.subsystem.StackResourceDefinition.java</file>
			<file type="M">org.wildfly.clustering.server.group.GroupAliasBuilderProvider.java</file>
			<file type="M">org.jboss.as.clustering.controller.Capability.java</file>
			<file type="M">org.jboss.as.clustering.jgroups.subsystem.TransformersTestCase.java</file>
			<file type="M">org.jboss.as.clustering.jgroups.subsystem.ProtocolResourceDefinition.java</file>
			<file type="M">org.jboss.as.clustering.jgroups.subsystem.JGroupsSubsystemResourceDefinition.java</file>
			<file type="M">org.wildfly.clustering.server.group.ChannelGroupBuilderProvider.java</file>
			<file type="M">org.jboss.as.clustering.infinispan.subsystem.NoTransportServiceHandler.java</file>
			<file type="M">org.jboss.as.clustering.jgroups.subsystem.StackServiceHandler.java</file>
			<file type="M">org.jboss.as.clustering.jgroups.JChannelFactory.java</file>
			<file type="D">org.wildfly.clustering.jgroups.spi.service.ChannelServiceName.java</file>
			<file type="M">org.jboss.as.clustering.controller.CapabilityProvider.java</file>
			<file type="M">org.jboss.as.clustering.jgroups.subsystem.RemoteSiteResourceDefinition.java</file>
			<file type="M">org.wildfly.clustering.spi.GroupBuilderProvider.java</file>
			<file type="D">org.wildfly.clustering.jgroups.spi.service.ChannelConnectorBuilder.java</file>
			<file type="M">org.jboss.as.clustering.jgroups.subsystem.TransportResourceDefinition.java</file>
			<file type="D">org.wildfly.clustering.jgroups.spi.service.ProtocolStackServiceNameFactory.java</file>
			<file type="M">org.jboss.as.clustering.jgroups.subsystem.RelayResourceDefinition.java</file>
			<file type="M">org.jboss.as.clustering.jgroups.subsystem.ProtocolConfigurationBuilder.java</file>
			<file type="M">org.wildfly.extension.messaging.activemq.BroadcastGroupDefinition.java</file>
			<file type="M">org.wildfly.extension.messaging.activemq.DiscoveryGroupRemove.java</file>
			<file type="M">org.wildfly.extension.messaging.activemq.ServerAdd.java</file>
			<file type="D">org.jboss.as.clustering.jgroups.subsystem.TransportConfigurationBuilderFactory.java</file>
			<file type="M">org.wildfly.extension.messaging.activemq.BroadcastGroupRemove.java</file>
			<file type="M">org.jboss.as.clustering.infinispan.subsystem.TransformersTestCase.java</file>
			<file type="M">org.jboss.as.clustering.jgroups.subsystem.AbstractProtocolConfigurationBuilder.java</file>
			<file type="M">org.wildfly.clustering.server.group.LocalNodeFactoryBuilderProvider.java</file>
			<file type="M">org.wildfly.clustering.server.dispatcher.LocalCommandDispatcherFactoryBuilderProvider.java</file>
			<file type="M">org.jboss.as.clustering.jgroups.subsystem.ProtocolResourceRegistrationHandler.java</file>
			<file type="D">org.jboss.as.clustering.jgroups.subsystem.RelayConfigurationBuilderFactory.java</file>
			<file type="M">org.wildfly.clustering.server.group.ChannelNodeFactoryBuilderProvider.java</file>
			<file type="D">org.wildfly.clustering.jgroups.spi.service.ChannelServiceNameFactory.java</file>
			<file type="M">org.jboss.as.clustering.controller.RemoveStepHandler.java</file>
			<file type="M">org.wildfly.extension.messaging.activemq.MessagingActiveMQSubsystem_1_1_TestCase.java</file>
			<file type="M">org.wildfly.clustering.server.group.LocalGroupBuilderProvider.java</file>
			<file type="M">org.jboss.as.clustering.jgroups.subsystem.JGroupsSubsystemXMLReader.java</file>
			<file type="M">org.jboss.as.clustering.jgroups.subsystem.JGroupsSubsystemServiceHandler.java</file>
			<file type="M">org.jboss.as.clustering.controller.AddStepHandler.java</file>
			<file type="M">org.wildfly.extension.messaging.activemq.MessagingSubsystemParser_1_0.java</file>
			<file type="M">org.wildfly.clustering.jgroups.spi.RemoteSiteConfiguration.java</file>
			<file type="M">org.wildfly.clustering.service.AsynchronousServiceBuilder.java</file>
			<file type="M">org.jboss.as.connector.subsystems.jca.JcaDistributedWorkManagerDefinition.java</file>
			<file type="M">org.wildfly.extension.messaging.activemq.DiscoveryGroupAdd.java</file>
			<file type="M">org.wildfly.clustering.server.dispatcher.ChannelCommandDispatcherFactoryBuilderProvider.java</file>
			<file type="D">org.jboss.as.clustering.jgroups.subsystem.JChannelFactoryBuilderFactory.java</file>
			<file type="D">org.wildfly.clustering.jgroups.spi.service.ProtocolStackServiceName.java</file>
			<file type="M">org.wildfly.extension.messaging.activemq.MessagingSubsystemParser_1_1.java</file>
			<file type="M">org.jboss.as.clustering.infinispan.subsystem.JGroupsTransportBuilder.java</file>
			<file type="M">org.jboss.as.clustering.jgroups.subsystem.ForkProtocolResourceDefinition.java</file>
			<file type="M">org.wildfly.extension.messaging.activemq.BroadcastGroupAdd.java</file>
			<file type="M">org.jboss.as.clustering.controller.CapabilityReference.java</file>
			<file type="M">org.jboss.as.clustering.jgroups.subsystem.ExportNativeConfiguration.java</file>
			<file type="M">org.wildfly.clustering.server.dispatcher.CommandDispatcherFactoryAliasBuilderProvider.java</file>
			<file type="M">org.jboss.as.clustering.naming.JndiNameFactory.java</file>
			<file type="M">org.jboss.as.messaging.test.MigrateTestCase.java</file>
			<file type="M">org.jboss.as.clustering.jgroups.subsystem.ProtocolMetricsHandler.java</file>
			<file type="M">org.jboss.as.clustering.jgroups.subsystem.ChannelMetricExecutor.java</file>
			<file type="M">org.wildfly.clustering.server.group.GroupNodeFactoryAliasBuilderProvider.java</file>
			<file type="M">org.jboss.as.clustering.jgroups.subsystem.ForkProtocolResourceRegistrationHandler.java</file>
			<file type="M">org.jboss.as.clustering.infinispan.subsystem.SubsystemParsingTestCase.java</file>
			<file type="M">org.jboss.as.clustering.jgroups.subsystem.JChannelFactoryBuilder.java</file>
			<file type="M">org.jboss.as.clustering.jgroups.subsystem.ForkResourceDefinition.java</file>
			<file type="M">org.wildfly.clustering.spi.GroupServiceName.java</file>
			<file type="M">org.jboss.as.clustering.infinispan.subsystem.SiteBuilder.java</file>
			<file type="M">org.wildfly.clustering.server.dispatcher.ChannelCommandDispatcherFactoryBuilder.java</file>
			<file type="M">org.jboss.as.clustering.naming.BinderServiceBuilder.java</file>
			<file type="M">org.wildfly.clustering.spi.GroupAliasBuilderProvider.java</file>
			<file type="M">org.jboss.as.ejb3.subsystem.EJB3RemoteServiceAdd.java</file>
			<file type="D">org.jboss.as.clustering.jgroups.subsystem.ProtocolConfigurationBuilderFactory.java</file>
			<file type="M">org.jboss.as.clustering.infinispan.subsystem.JGroupsTransportServiceHandler.java</file>
			<file type="M">org.jboss.as.clustering.infinispan.subsystem.InfinispanSubsystemServiceHandler.java</file>
			<file type="D">org.jboss.as.clustering.jgroups.subsystem.RemoteSiteConfigurationBuilderFactory.java</file>
			<file type="M">org.jboss.as.clustering.jgroups.subsystem.RelayConfigurationBuilder.java</file>
			<file type="M">org.jboss.as.clustering.jgroups.subsystem.StackOperationExecutor.java</file>
			<file type="M">org.jboss.as.connector.subsystems.jca.JcaSubsystemTestCase.java</file>
			<file type="M">org.jboss.as.clustering.jgroups.subsystem.ChannelServiceHandler.java</file>
			<file type="M">org.wildfly.clustering.server.dispatcher.CommandDispatcherFactoryBuilderProvider.java</file>
			<file type="M">org.jboss.as.clustering.jgroups.subsystem.ThreadPoolResourceDefinition.java</file>
		</fixedFiles>
		<links>
			<link type="Cloners" description="cloned to">6047</link>
			<link type="Dependency" description="blocks">6603</link>
		</links>
	</bug>
	<bug id="835" opendate="2013-03-05 14:57:25" fixdate="2016-10-03 16:39:49" resolution="Done">
		<buginformation>
			<summary>@Resource UserTransaction error when file passivation store is selected</summary>
			<description>The following exception is launched when the server tries to passivate into the file passivation storage a stateful EJB session with UserTransaction injected as a resource:






[org.jboss.as.ejb3.cache.spi.impl.PassivateTask] (pool-10-thread-1) JBAS014538: Failed to passivate {[-36, 0, 14, -43, 72, 10, 76, -28, -105, -108, 24, 45, -70, -58, -48, -107]}: java.lang.RuntimeException: JBAS014538: Failed to passivate {[-36, 0, 14, -43, 72, 10, 76, -28, -105, -108, 24, 45, -70, -58, -48, -107]}




	at org.jboss.as.ejb3.cache.spi.impl.FilePersistentObjectStore.store(FilePersistentObjectStore.java:248) [jboss-as-ejb3-7.1.1.Final.jar:7.1.1.Final]




	at org.jboss.as.ejb3.cache.spi.impl.FilePersistentObjectStore.store(FilePersistentObjectStore.java:52) [jboss-as-ejb3-7.1.1.Final.jar:7.1.1.Final]




	at org.jboss.as.ejb3.cache.impl.backing.SimpleBackingCacheEntryStore.passivate(SimpleBackingCacheEntryStore.java:155) [jboss-as-ejb3-7.1.1.Final.jar:7.1.1.Final]




	at org.jboss.as.ejb3.cache.impl.backing.SerializationGroupMemberContainer.passivate(SerializationGroupMemberContainer.java:288) [jboss-as-ejb3-7.1.1.Final.jar:7.1.1.Final]




	at org.jboss.as.ejb3.cache.impl.backing.SerializationGroupMemberContainer.passivate(SerializationGroupMemberContainer.java:50) [jboss-as-ejb3-7.1.1.Final.jar:7.1.1.Final]




	at org.jboss.as.ejb3.cache.impl.backing.PassivatingBackingCacheImpl.passivate(PassivatingBackingCacheImpl.java:190) [jboss-as-ejb3-7.1.1.Final.jar:7.1.1.Final]




	at org.jboss.as.ejb3.cache.impl.backing.PassivatingBackingCacheImpl.passivate(PassivatingBackingCacheImpl.java:60) [jboss-as-ejb3-7.1.1.Final.jar:7.1.1.Final]




	at org.jboss.as.ejb3.cache.spi.impl.PassivateTask.run(PassivateTask.java:45) [jboss-as-ejb3-7.1.1.Final.jar:7.1.1.Final]




	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:471) [rt.jar:1.7.0_13]




	at java.util.concurrent.FutureTask$Sync.innerRun(FutureTask.java:334) [rt.jar:1.7.0_13]




	at java.util.concurrent.FutureTask.run(FutureTask.java:166) [rt.jar:1.7.0_13]




	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.access$201(ScheduledThreadPoolExecutor.java:178) [rt.jar:1.7.0_13]




	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:292) [rt.jar:1.7.0_13]




	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1145) [rt.jar:1.7.0_13]




	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:615) [rt.jar:1.7.0_13]




	at java.lang.Thread.run(Thread.java:722) [rt.jar:1.7.0_13]




Caused by: java.io.NotSerializableException: org.jboss.tm.usertx.client.ServerVMClientUserTransaction




	at org.jboss.marshalling.river.RiverMarshaller.doWriteObject(RiverMarshaller.java:891)




	at org.jboss.marshalling.river.RiverMarshaller.doWriteFields(RiverMarshaller.java:1063)




	at org.jboss.marshalling.river.RiverMarshaller.doWriteSerializableObject(RiverMarshaller.java:1019)




	at org.jboss.marshalling.river.RiverMarshaller.doWriteObject(RiverMarshaller.java:885)




	at org.jboss.marshalling.river.RiverMarshaller.doWriteFields(RiverMarshaller.java:1063)




	at org.jboss.marshalling.river.RiverMarshaller.doWriteSerializableObject(RiverMarshaller.java:1019)




	at org.jboss.marshalling.river.RiverMarshaller.doWriteObject(RiverMarshaller.java:885)




	at org.jboss.marshalling.river.RiverMarshaller.doWriteFields(RiverMarshaller.java:1063)




	at org.jboss.marshalling.river.RiverMarshaller.doWriteSerializableObject(RiverMarshaller.java:1019)




	at org.jboss.marshalling.river.RiverMarshaller.doWriteObject(RiverMarshaller.java:885)




	at org.jboss.marshalling.river.BlockMarshaller.doWriteObject(BlockMarshaller.java:69)




	at org.jboss.marshalling.river.BlockMarshaller.writeObject(BlockMarshaller.java:60)




	at org.jboss.marshalling.MarshallerObjectOutputStream.writeObjectOverride(MarshallerObjectOutputStream.java:54)




	at java.io.ObjectOutputStream.writeObject(ObjectOutputStream.java:342) [rt.jar:1.7.0_13]




	at org.jboss.as.ejb3.cache.impl.backing.SerializationGroupMemberImpl.writeObject(SerializationGroupMemberImpl.java:368) [jboss-as-ejb3-7.1.1.Final.jar:7.1.1.Final]




	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) [rt.jar:1.7.0_13]




	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:57) [rt.jar:1.7.0_13]




	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) [rt.jar:1.7.0_13]




	at java.lang.reflect.Method.invoke(Method.java:601) [rt.jar:1.7.0_13]




	at org.jboss.marshalling.reflect.SerializableClass.callWriteObject(SerializableClass.java:175)




	at org.jboss.marshalling.river.RiverMarshaller.doWriteSerializableObject(RiverMarshaller.java:1007)




	at org.jboss.marshalling.river.RiverMarshaller.doWriteObject(RiverMarshaller.java:885)




	at org.jboss.marshalling.AbstractObjectOutput.writeObject(AbstractObjectOutput.java:62)




	at org.jboss.marshalling.AbstractMarshaller.writeObject(AbstractMarshaller.java:119)




	at org.jboss.as.ejb3.cache.spi.impl.FilePersistentObjectStore.store(FilePersistentObjectStore.java:239) [jboss-as-ejb3-7.1.1.Final.jar:7.1.1.Final]




	... 15 more




Caused by: an exception which occurred:




	in field userTransaction




	in field instance




	in field instance




	in object org.jboss.as.ejb3.cache.impl.backing.SerializationGroupMemberImpl@6a4de0c9






The EJB subsystem configuration is:






&amp;lt;subsystem xmlns="urn:jboss:domain:ejb3:1.2"&amp;gt;




            &amp;lt;session-bean&amp;gt;




                &amp;lt;stateless&amp;gt;




                    &amp;lt;bean-instance-pool-ref pool-name="slsb-strict-max-pool"/&amp;gt;




                &amp;lt;/stateless&amp;gt;




                &amp;lt;stateful default-access-timeout="10000" cache-ref="passivating"/&amp;gt;




                &amp;lt;singleton default-access-timeout="5000"/&amp;gt;




            &amp;lt;/session-bean&amp;gt;




            &amp;lt;mdb&amp;gt;




                &amp;lt;resource-adapter-ref resource-adapter-name="hornetq-ra"/&amp;gt;




                &amp;lt;bean-instance-pool-ref pool-name="mdb-strict-max-pool"/&amp;gt;




            &amp;lt;/mdb&amp;gt;




            &amp;lt;pools&amp;gt;




                &amp;lt;bean-instance-pools&amp;gt;




                    &amp;lt;strict-max-pool name="slsb-strict-max-pool" max-pool-size="50" instance-acquisition-timeout="5" instance-acquisition-timeout-unit="MINUTES"/&amp;gt;




                    &amp;lt;strict-max-pool name="mdb-strict-max-pool" max-pool-size="20" instance-acquisition-timeout="5" instance-acquisition-timeout-unit="MINUTES"/&amp;gt;




                &amp;lt;/bean-instance-pools&amp;gt;




            &amp;lt;/pools&amp;gt;




            &amp;lt;caches&amp;gt;




                &amp;lt;cache name="simple" aliases="NoPassivationCache"/&amp;gt;




                &amp;lt;cache name="passivating" passivation-store-ref="file" aliases="SimpleStatefulCache"/&amp;gt;




            &amp;lt;/caches&amp;gt;




            &amp;lt;passivation-stores&amp;gt;




                &amp;lt;file-passivation-store name="file" idle-timeout="10" idle-timeout-unit="SECONDS"/&amp;gt;




            &amp;lt;/passivation-stores&amp;gt;




            &amp;lt;async thread-pool-name="default"/&amp;gt;




            &amp;lt;timer-service thread-pool-name="default"&amp;gt;




                &amp;lt;data-store path="timer-service-data" relative-to="jboss.server.data.dir"/&amp;gt;




            &amp;lt;/timer-service&amp;gt;




            &amp;lt;remote connector-ref="remoting-connector" thread-pool-name="default"/&amp;gt;




            &amp;lt;thread-pools&amp;gt;




                &amp;lt;thread-pool name="default"&amp;gt;




                    &amp;lt;max-threads count="100"/&amp;gt;




                    &amp;lt;keepalive-time time="100" unit="milliseconds"/&amp;gt;




                &amp;lt;/thread-pool&amp;gt;




            &amp;lt;/thread-pools&amp;gt;




            &amp;lt;iiop enable-by-default="false" use-qualified-name="false"/&amp;gt;




        &amp;lt;/subsystem&amp;gt;





</description>
			<version>9.0.0.CR2</version>
			<fixedVersion>11.0.0.Alpha1</fixedVersion>
			<type>Bug</type>
		</buginformation>
		<fixedFiles>
			<file type="M">org.jboss.as.test.clustering.cluster.ejb.stateful.StatefulFailoverTestCase.java</file>
		</fixedFiles>
		<links>
			<link type="Cloners" description="cloned from">5721</link>
			<link type="Dependency" description="blocks">2607</link>
			<link type="Related" description="relates to">2449</link>
		</links>
	</bug>
	<bug id="6603" opendate="2016-05-11 15:08:56" fixdate="2016-10-07 19:07:50" resolution="Done">
		<buginformation>
			<summary>Infinispan subsystem does not expose a proper capability contract</summary>
			<description></description>
			<version>10.0.0.Final</version>
			<fixedVersion>11.0.0.Alpha1</fixedVersion>
			<type>Bug</type>
		</buginformation>
		<fixedFiles>
			<file type="M">org.jboss.as.clustering.infinispan.subsystem.EvictionResourceDefinition.java</file>
			<file type="M">org.jboss.as.clustering.infinispan.subsystem.LocalCacheBuilder.java</file>
			<file type="M">org.jboss.as.clustering.infinispan.subsystem.GlobalConfigurationBuilder.java</file>
			<file type="M">org.jboss.as.clustering.infinispan.subsystem.FileStoreResourceDefinition.java</file>
			<file type="M">org.wildfly.clustering.web.infinispan.sso.InfinispanSSOManagerFactoryBuilder.java</file>
			<file type="M">org.jboss.as.clustering.infinispan.subsystem.StateTransferResourceDefinition.java</file>
			<file type="M">org.wildfly.clustering.server.registry.RegistryFactoryAliasBuilderProvider.java</file>
			<file type="M">org.jboss.as.clustering.infinispan.subsystem.TableBuilder.java</file>
			<file type="M">org.jboss.as.clustering.infinispan.subsystem.PartitionHandlingMetricExecutor.java</file>
			<file type="M">org.wildfly.clustering.server.registry.CacheRegistryFactoryBuilderProvider.java</file>
			<file type="D">org.wildfly.clustering.infinispan.spi.service.CacheServiceName.java</file>
			<file type="M">org.jboss.as.test.integration.ee.injection.resource.infinispan.InfinispanBean.java</file>
			<file type="D">org.jboss.as.clustering.infinispan.subsystem.ExpirationBuilderFactory.java</file>
			<file type="M">org.wildfly.clustering.infinispan.spi.service.ConfigurationBuilder.java</file>
			<file type="M">org.jboss.as.clustering.infinispan.subsystem.MixedKeyedJDBCStoreBuilder.java</file>
			<file type="D">org.jboss.as.clustering.infinispan.subsystem.CacheContainerComponentBuilder.java</file>
			<file type="M">org.wildfly.clustering.server.provider.LocalServiceProviderRegistryBuilderProvider.java</file>
			<file type="M">org.jboss.as.clustering.infinispan.subsystem.ClusteredCacheBuilder.java</file>
			<file type="M">org.wildfly.extension.undertow.session.DistributableSessionManagerFactoryBuilder.java</file>
			<file type="M">org.wildfly.extension.clustering.singleton.SingletonModel.java</file>
			<file type="M">org.jboss.as.clustering.infinispan.subsystem.CacheServiceHandler.java</file>
			<file type="M">org.wildfly.extension.undertow.deployment.SharedSessionManagerDeploymentProcessor.java</file>
			<file type="M">org.jboss.as.clustering.infinispan.subsystem.PartitionHandlingBuilder.java</file>
			<file type="D">org.jboss.as.clustering.infinispan.subsystem.PartitionHandlingBuilderFactory.java</file>
			<file type="D">org.jboss.as.clustering.infinispan.subsystem.BinaryKeyedJDBCStoreBuilderFactory.java</file>
			<file type="M">org.jboss.as.clustering.infinispan.subsystem.BinaryKeyedJDBCStoreBuilder.java</file>
			<file type="M">org.jboss.as.clustering.infinispan.subsystem.CacheResourceDefinition.java</file>
			<file type="D">org.jboss.as.clustering.infinispan.subsystem.StringTableBuilderFactory.java</file>
			<file type="M">org.jboss.as.clustering.infinispan.subsystem.XAResourceRecoveryBuilder.java</file>
			<file type="D">org.jboss.as.clustering.infinispan.subsystem.CacheComponentServiceNameProvider.java</file>
			<file type="M">org.wildfly.clustering.web.infinispan.session.InfinispanSessionManagerFactoryBuilder.java</file>
			<file type="M">org.jboss.as.clustering.infinispan.subsystem.JDBCStoreBuilder.java</file>
			<file type="M">org.jboss.as.clustering.infinispan.subsystem.ScheduledThreadPoolResourceDefinition.java</file>
			<file type="M">org.jboss.as.clustering.infinispan.subsystem.ScheduledThreadPoolBuilder.java</file>
			<file type="D">org.jboss.as.clustering.infinispan.subsystem.LocalCacheBuilderFactory.java</file>
			<file type="D">org.jboss.as.clustering.infinispan.subsystem.DistributedCacheBuilderFactory.java</file>
			<file type="M">org.wildfly.clustering.server.group.LocalCacheGroupBuilderProvider.java</file>
			<file type="M">org.wildfly.clustering.infinispan.spi.service.TemplateConfigurationBuilder.java</file>
			<file type="M">org.wildfly.extension.clustering.singleton.SingletonPolicyResourceDefinition.java</file>
			<file type="M">org.wildfly.clustering.server.CacheBuilderFactory.java</file>
			<file type="M">org.jboss.as.clustering.infinispan.subsystem.StoreWriteBehindBuilder.java</file>
			<file type="M">org.wildfly.clustering.ejb.BeanManagerFactoryBuilderFactoryProvider.java</file>
			<file type="M">org.jboss.as.clustering.infinispan.subsystem.BackupsBuilder.java</file>
			<file type="M">org.jboss.as.clustering.infinispan.subsystem.SharedStateCacheBuilder.java</file>
			<file type="D">org.jboss.as.clustering.infinispan.subsystem.CustomStoreBuilderFactory.java</file>
			<file type="M">org.wildfly.clustering.server.singleton.SingletonServiceBuilderFactoryAliasBuilderProvider.java</file>
			<file type="M">org.wildfly.extension.undertow.deployment.UndertowDeploymentProcessor.java</file>
			<file type="M">org.jboss.as.clustering.infinispan.subsystem.CacheContainerBuilder.java</file>
			<file type="M">org.jboss.as.clustering.infinispan.subsystem.ExpirationResourceDefinition.java</file>
			<file type="M">org.jboss.as.clustering.infinispan.subsystem.JGroupsTransportResourceDefinition.java</file>
			<file type="M">org.jboss.as.test.integration.ee.injection.resource.infinispan.InfinispanManagedBean.java</file>
			<file type="M">org.wildfly.extension.undertow.security.sso.DistributableSingleSignOnManagerBuilder.java</file>
			<file type="M">org.jboss.as.clustering.infinispan.subsystem.ReplicatedCacheServiceHandler.java</file>
			<file type="M">org.wildfly.extension.clustering.singleton.SubsystemParsingTestCase.java</file>
			<file type="M">org.jboss.as.clustering.infinispan.subsystem.StringTableResourceDefinition.java</file>
			<file type="M">org.jboss.as.clustering.infinispan.subsystem.StringKeyedJDBCStoreResourceDefinition.java</file>
			<file type="D">org.jboss.as.clustering.infinispan.subsystem.StringKeyedJDBCStoreBuilderFactory.java</file>
			<file type="M">org.jboss.as.jpa.processor.secondLevelCache.CacheDeploymentListener.java</file>
			<file type="M">org.jboss.as.clustering.infinispan.subsystem.BackupForBuilder.java</file>
			<file type="M">org.jboss.as.clustering.controller.CommonRequirement.java</file>
			<file type="M">org.jboss.as.test.clustering.TopologyChangeListenerBean.java</file>
			<file type="D">org.jboss.as.clustering.infinispan.subsystem.StateTransferBuilderFactory.java</file>
			<file type="D">org.jboss.as.clustering.infinispan.subsystem.ScheduledThreadPoolBuilderFactory.java</file>
			<file type="M">org.wildfly.clustering.web.undertow.sso.DistributableSingleSignOnManagerBuilder.java</file>
			<file type="M">org.jboss.as.clustering.infinispan.subsystem.NoStoreResourceDefinition.java</file>
			<file type="M">org.jboss.as.clustering.infinispan.subsystem.TransactionBuilder.java</file>
			<file type="M">org.jboss.as.clustering.infinispan.subsystem.StringKeyedJDBCStoreBuilder.java</file>
			<file type="M">org.jboss.as.clustering.infinispan.subsystem.NoTransportServiceHandler.java</file>
			<file type="M">org.jboss.as.clustering.infinispan.subsystem.BinaryTableResourceDefinition.java</file>
			<file type="M">org.jboss.as.jpa.processor.secondLevelCache.InfinispanCacheDeploymentListener.java</file>
			<file type="M">org.jboss.as.clustering.infinispan.subsystem.FileStoreBuilder.java</file>
			<file type="M">org.jboss.as.clustering.infinispan.subsystem.OperationSequencesTestCase.java</file>
			<file type="M">org.jboss.as.clustering.infinispan.subsystem.ThreadPoolDefinition.java</file>
			<file type="M">org.jboss.as.clustering.infinispan.subsystem.NoStoreBuilder.java</file>
			<file type="M">org.jboss.as.clustering.infinispan.subsystem.LockingBuilder.java</file>
			<file type="M">org.jboss.as.test.integration.ee.injection.resource.infinispan.InfinispanResourceRefTestCase.java</file>
			<file type="D">org.jboss.as.clustering.infinispan.subsystem.ReplicatedCacheBuilderFactory.java</file>
			<file type="D">org.jboss.as.clustering.infinispan.subsystem.EvictionBuilderFactory.java</file>
			<file type="D">org.jboss.as.clustering.infinispan.subsystem.CacheComponentBuilder.java</file>
			<file type="M">org.jboss.as.clustering.infinispan.subsystem.CacheContainerComponent.java</file>
			<file type="M">org.jboss.as.clustering.infinispan.subsystem.ComponentBuilder.java</file>
			<file type="M">org.wildfly.clustering.web.infinispan.sso.InfinispanSSOManagerFactoryBuilderProvider.java</file>
			<file type="M">org.wildfly.clustering.server.singleton.LocalSingletonServiceBuilderFactoryBuilderProvider.java</file>
			<file type="M">org.wildfly.clustering.server.provider.ServiceProviderRegistryAliasBuilderProvider.java</file>
			<file type="M">org.jboss.as.clustering.infinispan.subsystem.InvalidationCacheResourceDefinition.java</file>
			<file type="M">org.jboss.as.clustering.infinispan.subsystem.LockingMetricExecutor.java</file>
			<file type="M">org.jboss.as.jpa.processor.PersistenceUnitServiceHandler.java</file>
			<file type="M">org.jboss.as.ejb3.subsystem.ClusterPassivationStoreAdd.java</file>
			<file type="M">org.jboss.as.test.clustering.ClusterTestUtil.java</file>
			<file type="M">org.jboss.as.clustering.infinispan.subsystem.DistributedCacheBuilder.java</file>
			<file type="M">org.wildfly.clustering.server.group.DistributedCacheGroupBuilderProvider.java</file>
			<file type="M">org.jboss.as.clustering.infinispan.subsystem.TransformersTestCase.java</file>
			<file type="M">org.jboss.as.clustering.infinispan.subsystem.PartitionHandlingResourceDefinition.java</file>
			<file type="M">org.wildfly.clustering.server.provider.CacheServiceProviderRegistryBuilder.java</file>
			<file type="M">org.jboss.as.clustering.infinispan.subsystem.StoreWriteBehindResourceDefinition.java</file>
			<file type="M">org.wildfly.clustering.web.session.SessionManagerFactoryBuilderProvider.java</file>
			<file type="M">org.wildfly.clustering.server.singleton.CacheSingletonServiceBuilderFactoryBuilderProvider.java</file>
			<file type="M">org.jboss.as.clustering.infinispan.subsystem.ThreadPoolResourceDefinition.java</file>
			<file type="M">org.wildfly.clustering.server.registry.CacheRegistryFactoryBuilder.java</file>
			<file type="M">org.jboss.as.clustering.infinispan.subsystem.EvictionBuilder.java</file>
			<file type="M">org.jboss.as.clustering.infinispan.subsystem.RemoteStoreBuilder.java</file>
			<file type="M">org.wildfly.clustering.server.registry.RegistryFactoryBuilderProvider.java</file>
			<file type="D">org.jboss.as.clustering.infinispan.subsystem.StoreWriteThroughBuilderFactory.java</file>
			<file type="M">org.wildfly.clustering.web.undertow.session.DistributableSessionManagerFactoryBuilder.java</file>
			<file type="M">org.jboss.as.clustering.infinispan.subsystem.CacheContainerServiceHandler.java</file>
			<file type="M">org.jboss.as.clustering.infinispan.subsystem.ScheduledThreadPoolDefinition.java</file>
			<file type="M">org.jboss.as.clustering.infinispan.DefaultCacheContainerTestCase.java</file>
			<file type="M">org.jboss.as.clustering.infinispan.subsystem.StoreWriteThroughBuilder.java</file>
			<file type="D">org.jboss.as.clustering.infinispan.subsystem.InvalidationCacheBuilderFactory.java</file>
			<file type="D">org.jboss.as.clustering.infinispan.subsystem.RemoteStoreBuilderFactory.java</file>
			<file type="D">org.jboss.as.clustering.infinispan.subsystem.BackupsBuilderFactory.java</file>
			<file type="M">org.wildfly.clustering.server.group.CacheNodeFactoryBuilderProvider.java</file>
			<file type="M">org.jboss.as.clustering.infinispan.subsystem.BackupOperationExecutor.java</file>
			<file type="M">org.jboss.as.clustering.infinispan.subsystem.CacheContainerResourceDefinition.java</file>
			<file type="M">org.jboss.as.ejb3.subsystem.EJB3RemoteServiceAdd.java</file>
			<file type="D">org.wildfly.clustering.infinispan.spi.service.CacheContainerServiceName.java</file>
			<file type="M">org.jboss.as.ejb3.subsystem.PassivationStoreAdd.java</file>
			<file type="M">org.jboss.as.clustering.infinispan.subsystem.StringTableBuilder.java</file>
			<file type="M">org.jboss.as.clustering.infinispan.subsystem.LockingResourceDefinition.java</file>
			<file type="D">org.jboss.as.clustering.infinispan.subsystem.LockingBuilderFactory.java</file>
			<file type="M">org.jboss.as.security.SecurityDomainAdd.java</file>
			<file type="M">org.jboss.as.clustering.infinispan.subsystem.RemoteStoreResourceDefinition.java</file>
			<file type="M">org.jboss.as.clustering.infinispan.subsystem.MixedKeyedJDBCStoreResourceDefinition.java</file>
			<file type="M">org.wildfly.clustering.server.provider.ServiceProviderRegistryBuilderProvider.java</file>
			<file type="M">org.jboss.as.clustering.infinispan.subsystem.CustomStoreResourceDefinition.java</file>
			<file type="M">org.jboss.as.clustering.infinispan.subsystem.StoreBuilder.java</file>
			<file type="D">org.jboss.as.clustering.infinispan.subsystem.ThreadPoolBuilderFactory.java</file>
			<file type="M">org.jboss.as.clustering.infinispan.subsystem.PartitionHandlingOperationExecutor.java</file>
			<file type="M">org.jboss.as.clustering.infinispan.subsystem.CacheMetricExecutor.java</file>
			<file type="M">org.jboss.as.clustering.infinispan.subsystem.JGroupsTransportBuilder.java</file>
			<file type="M">org.jboss.as.clustering.infinispan.subsystem.TransactionMetricExecutor.java</file>
			<file type="M">org.jboss.as.clustering.infinispan.subsystem.ExpirationBuilder.java</file>
			<file type="M">org.jboss.as.clustering.infinispan.subsystem.CacheComponent.java</file>
			<file type="M">org.jboss.as.clustering.infinispan.subsystem.StateTransferBuilder.java</file>
			<file type="M">org.wildfly.extension.clustering.singleton.SingletonExtension.java</file>
			<file type="D">org.jboss.as.clustering.infinispan.subsystem.FileStoreBuilderFactory.java</file>
			<file type="M">org.jboss.as.clustering.infinispan.subsystem.InfinispanSubsystemXMLReader.java</file>
			<file type="M">org.wildfly.clustering.web.sso.SSOManagerFactoryBuilderProvider.java</file>
			<file type="M">org.jboss.as.clustering.infinispan.subsystem.LocalCacheServiceHandler.java</file>
			<file type="M">org.jboss.as.ejb3.subsystem.FilePassivationStoreAdd.java</file>
			<file type="M">org.jboss.as.clustering.infinispan.subsystem.SiteBuilder.java</file>
			<file type="D">org.jboss.as.clustering.infinispan.subsystem.BinaryTableBuilderFactory.java</file>
			<file type="M">org.wildfly.clustering.server.group.CacheNodeFactoryAliasBuilderProvider.java</file>
			<file type="M">org.jboss.as.clustering.infinispan.subsystem.InfinispanSubsystemXMLWriter.java</file>
			<file type="D">org.jboss.as.clustering.infinispan.subsystem.MixedKeyedJDBCStoreBuilderFactory.java</file>
			<file type="M">org.jboss.as.clustering.naming.JndiNameFactory.java</file>
			<file type="M">org.jboss.as.clustering.infinispan.subsystem.BackupsResourceDefinition.java</file>
			<file type="M">org.jboss.as.clustering.infinispan.subsystem.InvalidationCacheBuilder.java</file>
			<file type="M">org.jboss.as.clustering.infinispan.subsystem.EvictionMetricExecutor.java</file>
			<file type="M">org.wildfly.clustering.web.infinispan.session.RouteCacheGroupBuilderProvider.java</file>
			<file type="M">org.wildfly.clustering.spi.CacheGroupBuilderProvider.java</file>
			<file type="M">org.jboss.as.ejb3.cache.distributable.DistributableCacheFactoryBuilderService.java</file>
			<file type="M">org.jboss.as.clustering.infinispan.subsystem.ClusteredCacheMetricExecutor.java</file>
			<file type="M">org.jboss.as.clustering.infinispan.subsystem.SubsystemParsingTestCase.java</file>
			<file type="M">org.jboss.as.clustering.infinispan.DefaultCacheContainer.java</file>
			<file type="M">org.wildfly.clustering.server.group.CacheGroupBuilderProvider.java</file>
			<file type="M">org.jboss.as.clustering.infinispan.subsystem.DistributedCacheResourceDefinition.java</file>
			<file type="M">org.jboss.as.clustering.infinispan.subsystem.KeyAffinityServiceFactoryBuilder.java</file>
			<file type="M">org.wildfly.clustering.server.provider.CacheServiceProviderRegistryBuilderProvider.java</file>
			<file type="M">org.wildfly.clustering.spi.GroupServiceName.java</file>
			<file type="M">org.wildfly.clustering.spi.CacheGroupServiceName.java</file>
			<file type="M">org.jboss.as.clustering.infinispan.subsystem.NoTransportBuilder.java</file>
			<file type="M">org.jboss.as.clustering.infinispan.subsystem.StoreMetricExecutor.java</file>
			<file type="M">org.jboss.as.clustering.infinispan.subsystem.ReplicatedCacheResourceDefinition.java</file>
			<file type="D">org.jboss.as.clustering.infinispan.subsystem.TransactionBuilderFactory.java</file>
			<file type="M">org.wildfly.clustering.spi.CacheGroupAliasBuilderProvider.java</file>
			<file type="M">org.wildfly.clustering.ejb.infinispan.InfinispanBeanManagerFactoryBuilderFactoryProvider.java</file>
			<file type="D">org.jboss.as.clustering.infinispan.subsystem.NoStoreBuilderFactory.java</file>
			<file type="M">org.wildfly.clustering.singleton.SingletonServiceName.java</file>
			<file type="M">org.jboss.as.clustering.infinispan.subsystem.BinaryKeyedJDBCStoreResourceDefinition.java</file>
			<file type="M">org.wildfly.clustering.ejb.infinispan.InfinispanBeanManagerFactoryBuilder.java</file>
			<file type="M">org.wildfly.clustering.service.SubGroupServiceNameFactory.java</file>
			<file type="M">org.jboss.as.clustering.infinispan.subsystem.CacheContainerMetricExecutor.java</file>
			<file type="M">org.jboss.as.clustering.infinispan.subsystem.CacheConfigurationBuilder.java</file>
			<file type="M">org.jboss.as.clustering.infinispan.subsystem.StoreWriteThroughResourceDefinition.java</file>
			<file type="M">org.wildfly.extension.clustering.singleton.SingletonPolicyBuilder.java</file>
			<file type="M">org.wildfly.clustering.ejb.infinispan.InfinispanBeanManagerFactoryBuilderFactory.java</file>
			<file type="M">org.wildfly.extension.undertow.SingleSignOnAdd.java</file>
			<file type="M">org.wildfly.clustering.infinispan.spi.service.CacheBuilder.java</file>
			<file type="M">org.jboss.as.clustering.infinispan.subsystem.BinaryTableBuilder.java</file>
			<file type="M">org.jboss.as.clustering.infinispan.subsystem.ThreadPoolBuilder.java</file>
			<file type="M">org.jboss.as.clustering.infinispan.subsystem.InfinispanBindingFactory.java</file>
			<file type="M">org.wildfly.clustering.service.GroupServiceNameFactory.java</file>
			<file type="M">org.wildfly.clustering.ejb.infinispan.ClientMappingsCacheBuilderProvider.java</file>
			<file type="M">org.jboss.as.clustering.infinispan.subsystem.DistributedCacheServiceHandler.java</file>
			<file type="M">org.wildfly.clustering.server.group.CacheGroupAliasBuilderProvider.java</file>
			<file type="M">org.jboss.as.clustering.infinispan.subsystem.CustomStoreBuilder.java</file>
			<file type="M">org.wildfly.clustering.server.registry.LocalRegistryFactoryBuilderProvider.java</file>
			<file type="M">org.wildfly.extension.clustering.singleton.SingletonResourceDefinition.java</file>
			<file type="M">org.jboss.as.clustering.infinispan.subsystem.BackupForResourceDefinition.java</file>
			<file type="M">org.jboss.as.clustering.infinispan.subsystem.JGroupsTransportServiceHandler.java</file>
			<file type="M">org.wildfly.extension.clustering.singleton.SingletonSchema.java</file>
			<file type="M">org.jboss.as.clustering.infinispan.subsystem.TransactionResourceDefinition.java</file>
			<file type="M">org.wildfly.clustering.web.infinispan.session.InfinispanSessionManagerFactoryBuilderProvider.java</file>
			<file type="M">org.jboss.as.clustering.infinispan.subsystem.LocalCacheResourceDefinition.java</file>
			<file type="D">org.jboss.as.clustering.infinispan.subsystem.CacheContainerComponentServiceNameProvider.java</file>
			<file type="D">org.jboss.as.clustering.infinispan.subsystem.StoreWriteBehindBuilderFactory.java</file>
			<file type="M">org.wildfly.clustering.server.group.CacheGroupBuilder.java</file>
			<file type="M">org.jboss.as.clustering.infinispan.subsystem.InvalidationCacheServiceHandler.java</file>
			<file type="D">org.jboss.as.clustering.infinispan.subsystem.BackupForBuilderFactory.java</file>
		</fixedFiles>
		<links>
			<link type="Cloners" description="cloned to">6270</link>
			<link type="Dependency" description="is blocked by">6602</link>
			<link type="Dependency" description="blocks">6634</link>
			<link type="Dependency" description="blocks">6604</link>
		</links>
	</bug>
	<bug id="6585" opendate="2016-05-05 09:11:11" fixdate="2016-10-08 22:37:20" resolution="Done">
		<buginformation>
			<summary>IIOP bean lookup fails after transaction timeout happens</summary>
			<description>IIOP lookup call for a bean could fails when transaction timeout happens on the lookuped bean. The exception is javax.naming.NameNotFoundException: null [1]
My feeling is that the issue has something to do with transaction timeout when JTS/iiop lookup is used. My experience is that the same type of testcase passes when JTA/ejb remoting is used.
What I can say I think that lookup fails on server at time when &amp;amp;apos;get_txcontext&amp;amp;apos; is used. I mean that is what could be seen from server.log file [2] (attached).
[1]






javax.naming.NameNotFoundException: null




 at org.omg.CosNaming.NamingContextPackage.NotFoundHelper.read(NotFoundHelper.java:72)




 at org.omg.CosNaming._NamingContextStub.resolve(_NamingContextStub.java:251)




 at com.sun.jndi.cosnaming.CNCtx.callResolve(CNCtx.java:486)




 at com.sun.jndi.cosnaming.CNCtx.lookup(CNCtx.java:539)




 at com.sun.jndi.cosnaming.CNCtx.lookup(CNCtx.java:517)




 at javax.naming.InitialContext.lookup(InitialContext.java:417)




 at org.jboss.as.test.integration.transactions.TransactionTestLookupUtil.lookupIIOP(TransactionTestLookupUtil.java:77)




 at org.jboss.as.test.iiop.transaction.timeout.IIOPTimeoutTestCase.lookupStateful(IIOPTimeoutTestCase.java:176)




 at org.jboss.as.test.iiop.transaction.timeout.IIOPTimeoutTestCase.timeoutStateful(IIOPTimeoutTestCase.java:157)






[2]
2016-04-27 19:38:09,297 TRACE [com.arjuna.ats.jts] (p: default-threadpool; w: Idle) InterpositionClientRequestInterceptorImpl::send_request ( get_txcontext ) nodeId=1 requestId=64
2016-04-27 19:38:09,297 TRACE [com.arjuna.ats.jts] (p: default-threadpool; w: Idle) InterpositionServerRequestInterceptorImpl::receive_request_service_contexts ( get_txcontext ) nodeId=1 requestId=70
2016-04-27 19:38:09,297 TRACE [org.wildfly.iiop.openjdk] (p: default-threadpool; w: Idle) Intercepting receive_request_service_contexts, operation: get_txcontext
2016-04-27 19:38:09,300 TRACE [org.wildfly.iiop.openjdk] (p: default-threadpool; w: Idle) send_exception: get_txcontext
2016-04-27 19:38:09,300 TRACE [com.arjuna.ats.jts] (p: default-threadpool; w: Idle) InterpositionServerRequestInterceptorImpl::send_exception ( get_txcontext ) nodeId=1 requestId=70
2016-04-27 19:38:09,300 TRACE [com.arjuna.ats.jts] (p: default-threadpool; w: Idle) InterpositionServerRequestInterceptorImpl::suspendContext ( get_txcontext ) nodeId=1 requestId=70
2016-04-27 19:38:09,303 TRACE [com.arjuna.ats.jts] (p: default-threadpool; w: Idle) InterpositionClientRequestInterceptorImpl::receive_exception ( get_txcontext ) nodeId=1 requestId=64
2016-04-27 19:38:09,305 TRACE [org.wildfly.iiop.openjdk] (p: default-threadpool; w: Idle) send_exception: resolve
2016-04-27 19:38:09,305 TRACE [com.arjuna.ats.jts] (p: default-threadpool; w: Idle) InterpositionServerRequestInterceptorImpl::send_exception ( resolve ) nodeId=1 requestId=69
2016-04-27 19:38:09,305 TRACE [com.arjuna.ats.jts] (p: default-threadpool; w: Idle) InterpositionServerRequestInterceptorImpl::suspendContext ( resolve ) nodeId=1 requestId=69 </description>
			<version>10.0.0.Final</version>
			<fixedVersion></fixedVersion>
			<type>Bug</type>
		</buginformation>
		<fixedFiles>
			<file type="D">org.jboss.as.test.integration.ejb.transaction.utils.TestLookupUtil.java</file>
			<file type="M">org.jboss.as.test.iiop.client.IIOPTransactionPropagationTestCase.java</file>
			<file type="D">org.jboss.as.test.integration.ejb.transaction.utils.TxTestUtil.java</file>
			<file type="M">org.jboss.as.test.integration.transactions.TxTestUtil.java</file>
			<file type="D">org.jboss.as.test.integration.ejb.transaction.utils.TestSynchronization.java</file>
			<file type="D">org.jboss.as.test.integration.ejb.transaction.utils.SingletonCheckerRemote.java</file>
			<file type="D">org.jboss.as.test.integration.ejb.transaction.utils.TestXAResource.java</file>
			<file type="D">org.jboss.as.test.integration.ejb.transaction.utils.SingletonChecker.java</file>
			<file type="M">org.jboss.as.test.iiop.client.Util.java</file>
		</fixedFiles>
		<links>
			<link type="Causality" description="is caused by">6935</link>
			<link type="Causality" description="is caused by">2725</link>
			<link type="Cloners" description="cloned from">4526</link>
		</links>
	</bug>
	<bug id="3639" opendate="2014-07-17 23:09:26" fixdate="2016-10-17 13:13:16" resolution="Done">
		<buginformation>
			<summary>default-web-module doesn&amp;apos;t work for non default hosts &amp; servers</summary>
			<description>If you use config like this:






&amp;lt;host name="default-host" default-web-module="myapp1.war" alias="webapp.domain1.com"/&amp;gt;




    &amp;lt;host name="other-host" default-web-module="myapp2.war" alias="test.domain2.net"/&amp;gt;






and have apps myapp1.war &amp;amp; myapp2.war deployed myappwar2.war won&amp;amp;apos;t be bind to other-host.</description>
			<version>8.1.0.Final</version>
			<fixedVersion>11.0.0.Alpha1</fixedVersion>
			<type>Bug</type>
		</buginformation>
		<fixedFiles>
			<file type="M">org.wildfly.extension.undertow.HostAdd.java</file>
			<file type="M">org.wildfly.extension.undertow.logging.UndertowLogger.java</file>
			<file type="M">org.wildfly.extension.undertow.filters.ErrorPageDefinition.java</file>
			<file type="M">org.wildfly.extension.undertow.HostDefinition.java</file>
			<file type="M">org.wildfly.extension.undertow.UndertowSubsystemParser_4_0.java</file>
			<file type="M">org.wildfly.extension.undertow.Host.java</file>
			<file type="M">org.jboss.as.test.integration.web.rootcontext.RootContextUtil.java</file>
			<file type="M">org.wildfly.extension.undertow.ServerAdd.java</file>
			<file type="M">org.wildfly.extension.undertow.deployment.UndertowDeploymentProcessor.java</file>
			<file type="M">org.jboss.as.test.integration.management.api.web.VirtualServerTestCase.java</file>
			<file type="M">org.wildfly.extension.undertow.UndertowSubsystemAdd.java</file>
			<file type="M">org.wildfly.extension.undertow.HostRemove.java</file>
			<file type="D">org.wildfly.extension.undertow.deployment.DefaultDeploymentMappingProvider.java</file>
			<file type="D">org.wildfly.test.integration.web.VirtualHostTestCase.java</file>
		</fixedFiles>
		<links>
			<link type="Cloners" description="cloned to">2004</link>
		</links>
	</bug>
	<bug id="7282" opendate="2016-10-11 05:53:45" fixdate="2016-10-17 13:15:08" resolution="Done">
		<buginformation>
			<summary>Deadlock in BasicAction when jboss remoting and JTA is used</summary>
			<description>At EJBRemoteTransactionPropagatingInterceptor, a transaction that has been already open at current server could be ignored, thus causing the transaction to be reimported, resulting in the double diamond problem and a deadlock.
Issue created based on discussion at jboss-support-transactions list: http://post-office.corp.redhat.com/archives/jboss-support-transactions/2016-September/msg00000.html
Current jboss remoting implementation on JTA does not provide correct handling of double diamond transaction propagation problem.
If transaction is propagated from one server to other one and then back to the first one then such situation can cause deadlock. Remote calls and transactions are processed but when servers using the same remote resource the prepare phase of 2PC can stuck. Transaction is timed-out later and recovery process rolls it back.
IIOP/JTS does not suffer with this flaw.</description>
			<version>10.1.0.Final</version>
			<fixedVersion>11.0.0.Alpha1</fixedVersion>
			<type>Bug</type>
		</buginformation>
		<fixedFiles>
			<file type="M">org.jboss.as.ejb3.remote.EJBRemoteTransactionPropagatingInterceptor.java</file>
			<file type="M">org.jboss.as.ejb3.remote.EJBRemoteTransactionsRepository.java</file>
			<file type="M">org.jboss.as.ejb3.subsystem.EJB3RemoteServiceAdd.java</file>
		</fixedFiles>
		<links>
			<link type="Duplicate" description="duplicates">6374</link>
			<link type="Duplicate" description="is duplicated by">6394</link>
			<link type="Duplicate" description="is duplicated by">6193</link>
			<link type="Superset" description="is incorporated by">6193</link>
		</links>
	</bug>
	<bug id="6663" opendate="2016-05-31 20:47:20" fixdate="2016-10-17 13:16:04" resolution="Done">
		<buginformation>
			<summary>NPE o.j.a.ejb3.component.stateful.StatefulSessionComponent.createSession(StatefulSessionComponent.java:238)</summary>
			<description>1 in 8 deployments fail to deploy, usually a redeploy fixes it.
If there is anyway to get a module state logging out of it, I can send over two logs to compare, one that deploy ok and one that fails.  I guess there is a race bug there somewhere.
09:42:01,687 ERROR [org.jboss.msc.service.fail] (ServerService Thread Pool  529) MSC000001: Failed to start service jboss.deployment.subunit."com.domain.ear-0.0.1-SNAPSHOT.ear"."com-domain-ejb.main-0.0.1-SNAPSHOT.jar".component.MainStartupEjbImpl.START: org.jboss.msc.service.StartException in service jboss.deployment.subunit."com.domain.ear-0.0.1-SNAPSHOT.ear"."com-domain-ejb.main-0.0.1-SNAPSHOT.jar".component.MainStartupEjbImpl.START: java.lang.IllegalStateException: WFLYEE0042: Failed to construct component instance
	at org.jboss.as.ee.component.ComponentStartService$1.run(ComponentStartService.java:57)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)
	at java.lang.Thread.run(Thread.java:745)
	at org.jboss.threads.JBossThread.run(JBossThread.java:320)
Caused by: java.lang.IllegalStateException: WFLYEE0042: Failed to construct component instance
	at org.jboss.as.ee.component.BasicComponent.constructComponentInstance(BasicComponent.java:163)
	at org.jboss.as.ee.component.BasicComponent.constructComponentInstance(BasicComponent.java:134)
	at org.jboss.as.ee.component.BasicComponent.createInstance(BasicComponent.java:88)
	at org.jboss.as.ejb3.component.singleton.SingletonComponent.getComponentInstance(SingletonComponent.java:124)
	at org.jboss.as.ejb3.component.singleton.SingletonComponent.start(SingletonComponent.java:138)
	at org.jboss.as.ee.component.ComponentStartService$1.run(ComponentStartService.java:54)
	... 6 more
Caused by: javax.ejb.EJBException: java.lang.RuntimeException: WFLYNAM0059: Resource lookup for injection failed: env/com.domain.ejb.main.impl.MainStartupEjbImpl/mainEjb
	at org.jboss.as.ejb3.tx.BMTInterceptor.handleException(BMTInterceptor.java:83)
	at org.jboss.as.ejb3.tx.EjbBMTInterceptor.checkStatelessDone(EjbBMTInterceptor.java:91)
	at org.jboss.as.ejb3.tx.EjbBMTInterceptor.handleInvocation(EjbBMTInterceptor.java:106)
	at org.jboss.as.ejb3.tx.BMTInterceptor.processInvocation(BMTInterceptor.java:58)
	at org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:340)
	at org.jboss.as.weld.injection.WeldInjectionContextInterceptor.processInvocation(WeldInjectionContextInterceptor.java:43)
	at org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:340)
	at org.jboss.as.ejb3.component.interceptors.CurrentInvocationContextInterceptor.processInvocation(CurrentInvocationContextInterceptor.java:41)
	at org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:340)
	at org.jboss.as.ee.concurrent.ConcurrentContextInterceptor.processInvocation(ConcurrentContextInterceptor.java:45)
	at org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:340)
	at org.jboss.invocation.ContextClassLoaderInterceptor.processInvocation(ContextClassLoaderInterceptor.java:64)
	at org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:340)
	at org.jboss.invocation.InterceptorContext.run(InterceptorContext.java:356)
	at org.jboss.invocation.PrivilegedWithCombinerInterceptor.processInvocation(PrivilegedWithCombinerInterceptor.java:80)
	at org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:340)
	at org.jboss.invocation.ChainedInterceptor.processInvocation(ChainedInterceptor.java:61)
	at org.jboss.as.ee.component.BasicComponent.constructComponentInstance(BasicComponent.java:161)
	... 11 more
Caused by: java.lang.RuntimeException: WFLYNAM0059: Resource lookup for injection failed: env/com.domain.ejb.main.impl.MainStartupEjbImpl/mainEjb
	at org.jboss.as.naming.deployment.ContextNames$BindInfo$1$1.getReference(ContextNames.java:319)
	at org.jboss.as.ee.component.ManagedReferenceFieldInjectionInterceptorFactory$ManagedReferenceFieldInjectionInterceptor.processInvocation(ManagedReferenceFieldInjectionInterceptorFactory.java:97)
	at org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:340)
	at org.jboss.as.ee.component.ManagedReferenceFieldInjectionInterceptorFactory$ManagedReferenceFieldInjectionInterceptor.processInvocation(ManagedReferenceFieldInjectionInterceptorFactory.java:107)
	at org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:340)
	at org.jboss.as.ee.component.ManagedReferenceFieldInjectionInterceptorFactory$ManagedReferenceFieldInjectionInterceptor.processInvocation(ManagedReferenceFieldInjectionInterceptorFactory.java:107)
	at org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:340)
	at org.jboss.as.ee.component.ManagedReferenceFieldInjectionInterceptorFactory$ManagedReferenceFieldInjectionInterceptor.processInvocation(ManagedReferenceFieldInjectionInterceptorFactory.java:107)
	at org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:340)
	at org.jboss.as.ee.component.AroundConstructInterceptorFactory$1.processInvocation(AroundConstructInterceptorFactory.java:28)
	at org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:340)
	at org.jboss.as.weld.injection.WeldInterceptorInjectionInterceptor.processInvocation(WeldInterceptorInjectionInterceptor.java:56)
	at org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:340)
	at org.jboss.as.weld.ejb.Jsr299BindingsCreateInterceptor.processInvocation(Jsr299BindingsCreateInterceptor.java:100)
	at org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:340)
	at org.jboss.as.ee.component.NamespaceContextInterceptor.processInvocation(NamespaceContextInterceptor.java:50)
	at org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:340)
	at org.jboss.as.ejb3.tx.EjbBMTInterceptor.handleInvocation(EjbBMTInterceptor.java:103)
	... 26 more
Caused by: javax.naming.NamingException: WFLYNAM0062: Failed to lookup env/com.domain.ejb.main.impl.MainStartupEjbImpl/mainEjb [Root exception is java.lang.RuntimeException: WFLYEJB0423: Could not create session for stateful bean MainEjbImpl]
	at org.jboss.as.naming.ServiceBasedNamingStore.lookup(ServiceBasedNamingStore.java:157)
	at org.jboss.as.naming.ServiceBasedNamingStore.lookup(ServiceBasedNamingStore.java:83)
	at org.jboss.as.naming.NamingContext.lookup(NamingContext.java:207)
	at org.jboss.as.naming.NamingContext.lookup(NamingContext.java:193)
	at org.jboss.as.naming.NamingContext.lookup(NamingContext.java:189)
	at org.jboss.as.naming.deployment.ContextNames$BindInfo$1$1.getReference(ContextNames.java:316)
	... 43 more
Caused by: java.lang.RuntimeException: WFLYEJB0423: Could not create session for stateful bean MainEjbImpl
	at org.jboss.as.ejb3.remote.RemoteViewManagedReferenceFactory.getReference(RemoteViewManagedReferenceFactory.java:99)
	at org.jboss.as.naming.ServiceBasedNamingStore.lookup(ServiceBasedNamingStore.java:143)
	... 48 more
Caused by: java.lang.NullPointerException
	at org.jboss.as.ejb3.component.stateful.StatefulSessionComponent.createSession(StatefulSessionComponent.java:238)
	at org.jboss.as.ejb3.remote.LocalEjbReceiver.openSession(LocalEjbReceiver.java:296)
	at org.jboss.ejb.client.EJBClient.createSessionWithPossibleRetries(EJBClient.java:225)
	at org.jboss.ejb.client.EJBClient.createSession(EJBClient.java:202)
	at org.jboss.ejb.client.EJBClient.createSession(EJBClient.java:176)
	at org.jboss.as.ejb3.remote.RemoteViewManagedReferenceFactory.getReference(RemoteViewManagedReferenceFactory.java:97)
	... 49 more</description>
			<version>10.0.0.Final</version>
			<fixedVersion>11.0.0.Alpha1</fixedVersion>
			<type>Bug</type>
		</buginformation>
		<fixedFiles>
			<file type="M">org.jboss.as.ejb3.component.stateful.StatefulSessionComponent.java</file>
			<file type="M">org.jboss.as.ejb3.component.stateful.StatefulComponentSessionIdGeneratingInterceptor.java</file>
		</fixedFiles>
		<links>
			<link type="Cloners" description="cloned to">6354</link>
		</links>
	</bug>
	<bug id="6491" opendate="2016-04-04 19:08:32" fixdate="2016-10-18 16:30:20" resolution="Done">
		<buginformation>
			<summary>Undertow subsystem is misleading about listener capabilities</summary>
			<description>ListenerResourceDefinition registers the LISTENER_CAPABILITY regardless of the value of the &amp;amp;apos;enabled&amp;amp;apos; attribute. But the contract provided by that capability is only fulfilled if the attribute is &amp;amp;apos;true&amp;amp;apos;.
Even worse, the attribute supports expressions, which can only be reliably resolved in Stage.RUNTIME, which is too late for recording a capability.
Fortunately, it&amp;amp;apos;s vault resolution that makes it necessary to resolve in RUNTIME and reality is people are highly unlikely to use the vault for this expression, so we can try and resolve and hope for the best.
This enabled stuff is just the worst. DON&amp;amp;apos;T USE THIS CONCEPT IN YOUR MODEL!</description>
			<version>10.0.0.Final</version>
			<fixedVersion>11.0.0.Alpha1</fixedVersion>
			<type>Bug</type>
		</buginformation>
		<fixedFiles>
			<file type="M">org.wildfly.extension.undertow.ListenerResourceDefinition.java</file>
			<file type="M">org.wildfly.extension.undertow.ListenerService.java</file>
			<file type="M">org.wildfly.extension.undertow.ListenerAdd.java</file>
		</fixedFiles>
		<links>
			<link type="Cloners" description="cloned to">6460</link>
			<link type="Related" description="relates to">5670</link>
		</links>
	</bug>
	<bug id="7274" opendate="2016-10-07 12:17:44" fixdate="2016-10-18 20:34:09" resolution="Done">
		<buginformation>
			<summary>Undertow request failed HttpServerExchange due to replication timeout</summary>
			<description>Occured on server during eap-7x-failover-ejb-ejbservlet-shutdown-dist-async scenario.
Server log stacktrace:






15:29:15,717 WARN  [org.jboss.weld.Servlet] (default task-104) WELD-000717: Unable to deactivate context org.jboss.weld.context.http.HttpSessionContextImpl@351bc717 when destroying request HttpServletRequestImpl [ GET /clusterbench/ejbservlet ]




[JBossINF] 15:29:15,718 ERROR [io.undertow.request] (default task-104) UT005071: Undertow request failed HttpServerExchange{ GET /clusterbench/ejbservlet request {Cookie=[$Version=0; JSESSIONID=YiEdTzoqqzKiWxjI1VqEQNz8BB0id8L6GKrA1Uix.dev215; $Path=/clusterbench], Content-Length=[0], User-Agent=[Jakarta Commons-HttpClient/3.1], Host=[dev220:8080]} response {Set-Cookie=[JSESSIONID=YiEdTzoqqzKiWxjI1VqEQNz8BB0id8L6GKrA1Uix.dev213; path=/clusterbench], Content-Type=[text/html;charset=UTF-8], Content-Length=[80], Date=[Wed, 21 Sep 2016 19:29:00 GMT]}}: org.infinispan.util.concurrent.TimeoutException: Replication timeout for dev213




[JBossINF] 	at org.infinispan.remoting.transport.jgroups.JGroupsTransport.checkRsp(JGroupsTransport.java:801)




[JBossINF] 	at org.infinispan.remoting.transport.jgroups.JGroupsTransport.lambda$invokeRemotelyAsync$1(JGroupsTransport.java:642)




[JBossINF] 	at java.util.concurrent.CompletableFuture.uniApply(CompletableFuture.java:602)




[JBossINF] 	at java.util.concurrent.CompletableFuture$UniApply.tryFire(CompletableFuture.java:577)




[JBossINF] 	at java.util.concurrent.CompletableFuture.postComplete(CompletableFuture.java:474)




[JBossINF] 	at java.util.concurrent.CompletableFuture.complete(CompletableFuture.java:1962)




[JBossINF] 	at org.infinispan.remoting.transport.jgroups.RspListFuture.call(RspListFuture.java:47)




[JBossINF] 	at org.infinispan.remoting.transport.jgroups.RspListFuture.call(RspListFuture.java:16)




[JBossINF] 	at java.util.concurrent.FutureTask.run(FutureTask.java:266)




[JBossINF] 	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.access$201(ScheduledThreadPoolExecutor.java:180)




[JBossINF] 	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:293)




[JBossINF] 	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)




[JBossINF] 	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)




[JBossINF] 	at java.lang.Thread.run(Thread.java:745)






Followed by:






15:29:15,720 ERROR [org.infinispan.interceptors.InvocationContextInterceptor] (remote-thread--p7-t17) ISPN000136: Error executing command LockControlCommand, writing keys []: org.infinispan.util.concurrent.TimeoutException: Could not acquire lock on SessionCreationMetaDataKey(bprpzS1jzQGMjU9vmr1uwUvsN0ehaPpWtpRQYUhA) in behalf of transaction GlobalTransaction:&amp;lt;dev213&amp;gt;:108660:remote. Current owner GlobalTransaction:&amp;lt;dev213&amp;gt;:90576:remote.




[JBossINF] 	at org.infinispan.util.concurrent.locks.impl.DefaultPendingLockManager.timeout(DefaultPendingLockManager.java:261)




...






or:






15:29:19,720 ERROR [org.infinispan.interceptors.InvocationContextInterceptor] (default task-54) ISPN000136: Error executing command GetKeyValueCommand, writing keys []: org.infinispan.util.concurrent.TimeoutException: Could not acquire lock on SessionCreationMetaDataKey(bprpzS1jzQGMjU9vmr1uwUvsN0ehaPpWtpRQYUhA) in behalf of transaction GlobalTransaction:&amp;lt;dev215&amp;gt;:112942:local. Current owner GlobalTransaction:&amp;lt;dev213&amp;gt;:90576:remote.




[JBossINF] 	at org.infinispan.util.concurrent.locks.impl.DefaultPendingLockManager.timeout(DefaultPendingLockManager.java:261)




...






Server logs:
http://jenkins.mw.lab.eng.bos.redhat.com/hudson/job/eap-7x-failover-ejb-ejbservlet-shutdown-dist-async/29/console-dev215/</description>
			<version>10.1.0.Final</version>
			<fixedVersion>11.0.0.Alpha1</fixedVersion>
			<type>Bug</type>
		</buginformation>
		<fixedFiles>
			<file type="M">org.jboss.as.clustering.infinispan.subsystem.ClusteredCacheResourceDefinition.java</file>
			<file type="M">org.jboss.as.clustering.infinispan.subsystem.InfinispanModel.java</file>
		</fixedFiles>
		<links>
			<link type="Cloners" description="cloned from">6202</link>
		</links>
	</bug>
	<bug id="6604" opendate="2016-05-11 15:10:27" fixdate="2016-10-20 08:53:18" resolution="Done">
		<buginformation>
			<summary>Clustering API does not expose a proper capability contract</summary>
			<description></description>
			<version>10.0.0.Final</version>
			<fixedVersion>11.0.0.Alpha1</fixedVersion>
			<type>Bug</type>
		</buginformation>
		<fixedFiles>
			<file type="M">org.jboss.as.ejb3.subsystem.EJB3RemoteServiceAdd.java</file>
			<file type="M">org.wildfly.clustering.server.registry.RegistryFactoryAliasBuilderProvider.java</file>
			<file type="M">org.wildfly.clustering.ejb.infinispan.LocalClientMappingsCacheBuilderProvider.java</file>
			<file type="M">org.wildfly.clustering.server.registry.CacheRegistryFactoryBuilderProvider.java</file>
			<file type="D">org.wildfly.clustering.server.GroupServiceNameProvider.java</file>
			<file type="M">org.jboss.as.clustering.jgroups.subsystem.ForkServiceHandler.java</file>
			<file type="M">org.wildfly.clustering.server.group.GroupAliasBuilderProvider.java</file>
			<file type="M">org.wildfly.clustering.server.provider.LocalServiceProviderRegistryBuilderProvider.java</file>
			<file type="M">org.jboss.as.clustering.infinispan.subsystem.CacheServiceHandler.java</file>
			<file type="M">org.wildfly.clustering.server.singleton.SingletonClassTableContributor.java</file>
			<file type="M">org.wildfly.clustering.server.registry.RegistryFactoryBuilderProvider.java</file>
			<file type="D">org.wildfly.clustering.server.GroupBuilderFactory.java</file>
			<file type="M">org.jboss.as.ejb3.remote.RegistryInstallerService.java</file>
			<file type="M">org.jboss.as.clustering.infinispan.subsystem.CacheResourceDefinition.java</file>
			<file type="M">org.jboss.as.ejb3.cache.simple.SimpleCacheFactoryBuilderService.java</file>
			<file type="M">org.wildfly.clustering.web.infinispan.session.InfinispanSessionManagerFactoryBuilder.java</file>
			<file type="M">org.jboss.as.clustering.infinispan.subsystem.JGroupsTransportResourceDefinition.java</file>
			<file type="M">org.wildfly.clustering.server.singleton.LocalSingletonServiceBuilderFactoryBuilder.java</file>
			<file type="M">org.wildfly.clustering.server.singleton.CacheSingletonServiceBuilderFactoryBuilder.java</file>
			<file type="M">org.wildfly.clustering.server.group.LocalCacheGroupBuilderProvider.java</file>
			<file type="M">org.wildfly.extension.clustering.singleton.SingletonPolicyResourceDefinition.java</file>
			<file type="D">org.wildfly.clustering.server.CacheBuilderFactory.java</file>
			<file type="M">org.jboss.as.clustering.infinispan.subsystem.InfinispanSubsystemResourceDefinition.java</file>
			<file type="M">org.jboss.as.clustering.infinispan.subsystem.NoTransportResourceDefinition.java</file>
			<file type="D">org.wildfly.clustering.server.registry.LocalRegistryFactory.java</file>
			<file type="M">org.wildfly.clustering.server.group.ChannelNodeFactoryBuilder.java</file>
			<file type="M">org.wildfly.clustering.server.group.LocalGroupBuilder.java</file>
			<file type="M">org.wildfly.clustering.web.infinispan.session.LocalRouteCacheGroupBuilderProvider.java</file>
			<file type="M">org.wildfly.clustering.ejb.BeanManagerFactoryBuilderFactory.java</file>
			<file type="M">org.wildfly.clustering.spi.GroupBuilderProvider.java</file>
			<file type="M">org.wildfly.clustering.server.group.GroupBuilderProvider.java</file>
			<file type="M">org.wildfly.clustering.server.group.LocalNodeFactoryBuilderProvider.java</file>
			<file type="M">org.wildfly.clustering.server.registry.RegistryBuilder.java</file>
			<file type="M">org.wildfly.clustering.server.ServiceLoaderTestCase.java</file>
			<file type="M">org.wildfly.clustering.server.dispatcher.LocalCommandDispatcherFactoryBuilder.java</file>
			<file type="D">org.wildfly.clustering.spi.DistributedCacheGroupBuilderProvider.java</file>
			<file type="M">org.jboss.as.clustering.jgroups.subsystem.JGroupsSubsystemResourceDefinition.java</file>
			<file type="M">org.wildfly.clustering.server.group.ChannelGroupBuilderProvider.java</file>
			<file type="M">org.jboss.as.clustering.infinispan.subsystem.NoTransportServiceHandler.java</file>
			<file type="M">org.wildfly.clustering.ejb.infinispan.ServiceLoaderTestCase.java</file>
			<file type="M">org.jboss.as.clustering.controller.DefaultableCapabilityReference.java</file>
			<file type="M">org.jboss.as.clustering.jgroups.subsystem.ChannelResourceDefinition.java</file>
			<file type="M">org.wildfly.clustering.server.singleton.SingletonServiceBuilderFactoryBuilderProvider.java</file>
			<file type="D">org.wildfly.clustering.server.singleton.SingletonServiceBuilderFactoryServiceNameProvider.java</file>
			<file type="M">org.wildfly.clustering.service.AliasServiceBuilder.java</file>
			<file type="M">org.wildfly.clustering.server.provider.LocalServiceProviderRegistryBuilder.java</file>
			<file type="D">org.wildfly.clustering.server.group.GroupNodeFactoryServiceNameProvider.java</file>
			<file type="M">org.jboss.as.test.clustering.cluster.singleton.service.MyServiceActivator.java</file>
			<file type="M">org.jboss.as.ejb3.deployment.processors.CacheDependenciesProcessor.java</file>
			<file type="M">org.wildfly.clustering.server.group.CacheNodeFactoryBuilder.java</file>
			<file type="M">org.wildfly.clustering.server.singleton.LocalSingletonServiceBuilderFactoryBuilderProvider.java</file>
			<file type="M">org.wildfly.clustering.server.provider.ServiceProviderRegistryAliasBuilderProvider.java</file>
			<file type="M">org.jboss.as.clustering.infinispan.subsystem.InvalidationCacheResourceDefinition.java</file>
			<file type="M">org.wildfly.clustering.spi.LocalGroupBuilderProvider.java</file>
			<file type="M">org.wildfly.clustering.server.group.DistributedCacheGroupBuilderProvider.java</file>
			<file type="M">org.jboss.as.clustering.infinispan.subsystem.TransformersTestCase.java</file>
			<file type="M">org.wildfly.clustering.web.sso.SSOManagerFactoryBuilderProvider.java</file>
			<file type="M">org.wildfly.clustering.server.provider.CacheServiceProviderRegistryBuilder.java</file>
			<file type="M">org.wildfly.clustering.web.session.SessionManagerFactoryBuilderProvider.java</file>
			<file type="M">org.wildfly.clustering.server.registry.LocalRegistryFactoryBuilder.java</file>
			<file type="M">org.wildfly.clustering.server.registry.CacheRegistryFactoryBuilder.java</file>
			<file type="D">org.wildfly.clustering.server.CacheServiceNameProvider.java</file>
			<file type="M">org.jboss.as.clustering.naming.BinderServiceBuilder.java</file>
			<file type="M">org.wildfly.clustering.server.dispatcher.LocalCommandDispatcherFactoryBuilderProvider.java</file>
			<file type="M">org.wildfly.clustering.server.group.LocalCacheGroupBuilder.java</file>
			<file type="D">org.wildfly.clustering.server.singleton.CacheSingletonServiceBuilder.java</file>
			<file type="M">org.jboss.as.clustering.infinispan.subsystem.ClusteredCacheServiceHandler.java</file>
			<file type="M">org.wildfly.clustering.web.undertow.session.DistributableSessionManagerFactoryBuilder.java</file>
			<file type="M">org.jboss.as.clustering.infinispan.subsystem.CacheContainerServiceHandler.java</file>
			<file type="M">org.wildfly.clustering.server.group.ChannelNodeFactoryBuilderProvider.java</file>
			<file type="M">org.wildfly.clustering.server.group.LocalNodeFactoryBuilder.java</file>
			<file type="M">org.wildfly.clustering.server.registry.LocalRegistryFactoryBuilderProvider.java</file>
			<file type="M">org.wildfly.clustering.server.singleton.SingletonServiceBuilderFactoryAliasBuilderProvider.java</file>
			<file type="M">org.wildfly.clustering.server.group.CacheNodeFactoryBuilderProvider.java</file>
			<file type="M">org.jboss.as.clustering.controller.RemoveStepHandler.java</file>
			<file type="M">org.jboss.as.clustering.infinispan.subsystem.CacheContainerResourceDefinition.java</file>
			<file type="D">org.wildfly.clustering.server.provider.ServiceProviderRegistryServiceNameProvider.java</file>
			<file type="M">org.wildfly.clustering.server.group.LocalGroupBuilderProvider.java</file>
			<file type="M">org.jboss.as.clustering.jgroups.subsystem.JGroupsSubsystemServiceHandler.java</file>
			<file type="M">org.jboss.as.clustering.infinispan.subsystem.TransportResourceDefinition.java</file>
			<file type="M">org.jboss.as.ejb3.cache.distributable.DistributableCacheFactoryBuilderService.java</file>
			<file type="M">org.jboss.as.ejb3.remote.EJBRemotingConnectorClientMappingsEntryProviderService.java</file>
			<file type="M">org.wildfly.clustering.web.infinispan.session.RouteRegistryEntryProvider.java</file>
			<file type="M">org.wildfly.clustering.server.provider.ServiceProviderRegistryBuilderProvider.java</file>
			<file type="M">org.wildfly.clustering.server.registry.CacheRegistry.java</file>
			<file type="M">org.wildfly.clustering.server.dispatcher.ChannelCommandDispatcherFactoryBuilderProvider.java</file>
			<file type="M">org.wildfly.clustering.web.infinispan.sso.InfinispanSSOManagerFactoryBuilder.java</file>
			<file type="M">org.wildfly.clustering.web.infinispan.sso.InfinispanSSOManagerFactoryBuilderProvider.java</file>
			<file type="M">org.jboss.as.clustering.infinispan.subsystem.LocalCacheServiceHandler.java</file>
			<file type="M">org.jboss.as.clustering.controller.CapabilityReference.java</file>
			<file type="M">org.wildfly.clustering.server.registry.LocalRegistry.java</file>
			<file type="D">org.wildfly.clustering.server.dispatcher.CommandDispatcherFactoryServiceNameProvider.java</file>
			<file type="M">org.wildfly.clustering.ejb.infinispan.DistributedClientMappingsCacheBuilderProvider.java</file>
			<file type="M">org.wildfly.clustering.server.group.CacheNodeFactoryAliasBuilderProvider.java</file>
			<file type="M">org.wildfly.clustering.server.dispatcher.CommandDispatcherFactoryAliasBuilderProvider.java</file>
			<file type="D">org.wildfly.clustering.server.registry.RegistryFactoryServiceNameProvider.java</file>
			<file type="M">org.wildfly.clustering.web.infinispan.ServiceLoaderTestCase.java</file>
			<file type="M">org.wildfly.clustering.server.singleton.CacheSingletonServiceBuilderFactoryBuilderProvider.java</file>
			<file type="M">org.wildfly.clustering.web.infinispan.session.RouteCacheGroupBuilderProvider.java</file>
			<file type="D">org.wildfly.clustering.spi.CacheGroupBuilderProvider.java</file>
			<file type="D">org.wildfly.clustering.server.group.GroupServiceNameProvider.java</file>
			<file type="M">org.wildfly.clustering.server.group.GroupNodeFactoryAliasBuilderProvider.java</file>
			<file type="M">org.wildfly.clustering.web.undertow.sso.DistributableSingleSignOnManagerBuilder.java</file>
			<file type="M">org.wildfly.clustering.server.group.CacheGroupBuilderProvider.java</file>
			<file type="M">org.jboss.as.clustering.logging.ClusteringLogger.java</file>
			<file type="M">org.jboss.as.clustering.infinispan.subsystem.DistributedCacheResourceDefinition.java</file>
			<file type="M">org.jboss.as.clustering.jgroups.subsystem.ForkResourceDefinition.java</file>
			<file type="D">org.wildfly.clustering.server.registry.CacheRegistryFactoryConfiguration.java</file>
			<file type="M">org.wildfly.clustering.server.provider.CacheServiceProviderRegistryBuilderProvider.java</file>
			<file type="D">org.wildfly.clustering.server.singleton.CacheSingletonServiceBuilderFactory.java</file>
			<file type="D">org.wildfly.clustering.spi.GroupServiceName.java</file>
			<file type="D">org.wildfly.clustering.spi.CacheGroupServiceName.java</file>
			<file type="M">org.wildfly.clustering.server.group.CacheGroupAliasBuilderProvider.java</file>
			<file type="D">org.wildfly.clustering.spi.CacheGroupAliasBuilderProvider.java</file>
			<file type="M">org.wildfly.clustering.singleton.SingletonServiceName.java</file>
			<file type="M">org.wildfly.clustering.ejb.infinispan.InfinispanBeanManagerFactoryBuilder.java</file>
			<file type="M">org.wildfly.clustering.service.SubGroupServiceNameFactory.java</file>
			<file type="M">org.wildfly.clustering.server.dispatcher.ChannelCommandDispatcherFactoryBuilder.java</file>
			<file type="M">org.jboss.as.clustering.infinispan.subsystem.CacheConfigurationBuilder.java</file>
			<file type="M">org.wildfly.extension.clustering.singleton.SingletonPolicyBuilder.java</file>
			<file type="M">org.wildfly.clustering.ejb.infinispan.InfinispanBeanManagerFactoryBuilderFactory.java</file>
			<file type="M">org.jboss.as.ejb3.cache.CacheFactoryBuilder.java</file>
			<file type="M">org.jboss.as.test.clustering.cluster.dispatcher.bean.CommandDispatcherFactoryBean.java</file>
			<file type="M">org.wildfly.clustering.spi.GroupAliasBuilderProvider.java</file>
			<file type="M">org.wildfly.clustering.service.GroupServiceNameFactory.java</file>
			<file type="M">org.wildfly.clustering.ejb.infinispan.ClientMappingsCacheBuilderProvider.java</file>
			<file type="M">org.wildfly.clustering.server.group.ChannelGroupBuilder.java</file>
			<file type="M">org.jboss.as.clustering.infinispan.subsystem.ReplicatedCacheResourceDefinition.java</file>
			<file type="D">org.wildfly.clustering.spi.LocalCacheGroupBuilderProvider.java</file>
			<file type="M">org.wildfly.clustering.web.infinispan.session.InfinispanSessionManagerFactoryBuilderProvider.java</file>
			<file type="D">org.wildfly.clustering.server.registry.CacheRegistryFactory.java</file>
			<file type="M">org.jboss.as.clustering.infinispan.subsystem.JGroupsTransportServiceHandler.java</file>
			<file type="M">org.jboss.as.clustering.infinispan.subsystem.InfinispanSubsystemServiceHandler.java</file>
			<file type="M">org.wildfly.clustering.web.infinispan.session.RouteRegistryEntryProviderBuilder.java</file>
			<file type="M">org.jboss.as.clustering.infinispan.subsystem.LocalCacheResourceDefinition.java</file>
			<file type="D">org.wildfly.clustering.server.group.CacheGroupServiceNameProvider.java</file>
			<file type="M">org.wildfly.clustering.web.infinispan.session.DistributedRouteCacheGroupBuilderProvider.java</file>
			<file type="M">org.wildfly.clustering.server.group.CacheGroupBuilder.java</file>
			<file type="M">org.jboss.as.clustering.jgroups.subsystem.ChannelServiceHandler.java</file>
			<file type="M">org.wildfly.clustering.server.dispatcher.CommandDispatcherFactoryBuilderProvider.java</file>
		</fixedFiles>
		<links>
			<link type="Cloners" description="cloned to">6271</link>
			<link type="Dependency" description="is blocked by">6603</link>
			<link type="Dependency" description="blocks">5550</link>
		</links>
	</bug>
	<bug id="7163" opendate="2016-09-21 11:14:41" fixdate="2016-10-24 11:41:19" resolution="Done">
		<buginformation>
			<summary>Relative ordering of webfragments causes an IllegalStateException</summary>
			<description>Caused by: java.lang.IllegalStateException: WFLYUT0047: Relative ordering conflict with JAR: &amp;lt;jarname&amp;gt;.jar
       at org.wildfly.extension.undertow.deployment.WarMetaDataProcessor.resolveOrder(WarMetaDataProcessor.java:717)
       at org.wildfly.extension.undertow.deployment.WarMetaDataProcessor.deploy(WarMetaDataProcessor.java:212)
       ... 6 more</description>
			<version>9.0.2.Final</version>
			<fixedVersion>11.0.0.Alpha1</fixedVersion>
			<type>Bug</type>
		</buginformation>
		<fixedFiles>
			<file type="M">org.wildfly.extension.undertow.deployment.WarMetaDataProcessor.java</file>
		</fixedFiles>
		<links>
			<link type="Cloners" description="cloned to">6579</link>
		</links>
	</bug>
	<bug id="6624" opendate="2016-05-18 15:14:35" fixdate="2016-10-24 11:42:11" resolution="Done">
		<buginformation>
			<summary>Frequent intermittent failures in coarse/fine web session passivation tests</summary>
			<description></description>
			<version>10.0.0.Final</version>
			<fixedVersion>11.0.0.Alpha1</fixedVersion>
			<type>Bug</type>
		</buginformation>
		<fixedFiles>
			<file type="M">org.jboss.as.test.clustering.cluster.web.passivation.SessionOperationServlet.java</file>
			<file type="M">org.jboss.as.test.clustering.cluster.web.passivation.CoarseSessionPassivationTestCase.java</file>
			<file type="M">org.jboss.as.test.clustering.cluster.web.passivation.SessionPassivationTestCase.java</file>
			<file type="M">org.jboss.as.test.clustering.cluster.web.passivation.FineSessionPassivationTestCase.java</file>
			<file type="M">org.jboss.as.test.clustering.cluster.singleton.service.MyServiceServlet.java</file>
		</fixedFiles>
		<links>
			<link type="Cloners" description="cloned to">6514</link>
		</links>
	</bug>
	<bug id="7281" opendate="2016-10-10 10:12:15" fixdate="2016-10-24 13:56:36" resolution="Done">
		<buginformation>
			<summary>IllegalStateException: DummyTransaction is not in a valid state to be invoking cache operations on</summary>
			<description>Occured on server during scenario eap-7x-failover-http-granular-shutdown-repl-sync.
Server log stacktrace:






23:04:41,857 ERROR [org.infinispan.interceptors.InvocationContextInterceptor] (default task-97) ISPN000136: Error executing command GetKeyValueCommand, writing keys []: java.lang.IllegalStateException: Transaction DummyTransaction{xid=DummyXid{id=19027}, status=1} is not in a valid state to be invoking cache operations on.




[JBossINF] 	at org.infinispan.interceptors.TxInterceptor.enlist(TxInterceptor.java:395)




[JBossINF] 	at org.infinispan.interceptors.TxInterceptor.enlistIfNeeded(TxInterceptor.java:351)




[JBossINF] 	at org.infinispan.interceptors.TxInterceptor.enlistReadAndInvokeNext(TxInterceptor.java:345)




[JBossINF] 	at org.infinispan.interceptors.TxInterceptor.visitGetKeyValueCommand(TxInterceptor.java:331)




[JBossINF] 	at org.infinispan.commands.read.GetKeyValueCommand.acceptVisitor(GetKeyValueCommand.java:43)




[JBossINF] 	at org.infinispan.interceptors.base.CommandInterceptor.invokeNextInterceptor(CommandInterceptor.java:99)




[JBossINF] 	at org.infinispan.interceptors.base.CommandInterceptor.handleDefault(CommandInterceptor.java:113)




[JBossINF] 	at org.infinispan.commands.AbstractVisitor.visitGetKeyValueCommand(AbstractVisitor.java:85)




[JBossINF] 	at org.infinispan.commands.read.GetKeyValueCommand.acceptVisitor(GetKeyValueCommand.java:43)




[JBossINF] 	at org.infinispan.interceptors.base.CommandInterceptor.invokeNextInterceptor(CommandInterceptor.java:99)




[JBossINF] 	at org.infinispan.statetransfer.StateTransferInterceptor.visitReadCommand(StateTransferInterceptor.java:177)




[JBossINF] 	at org.infinispan.statetransfer.StateTransferInterceptor.visitGetKeyValueCommand(StateTransferInterceptor.java:154)




[JBossINF] 	at org.infinispan.commands.read.GetKeyValueCommand.acceptVisitor(GetKeyValueCommand.java:43)




[JBossINF] 	at org.infinispan.interceptors.base.CommandInterceptor.invokeNextInterceptor(CommandInterceptor.java:99)




[JBossINF] 	at org.infinispan.interceptors.InvocationContextInterceptor.handleAll(InvocationContextInterceptor.java:114)




[JBossINF] 	at org.infinispan.interceptors.InvocationContextInterceptor.handleDefault(InvocationContextInterceptor.java:83)




[JBossINF] 	at org.infinispan.commands.AbstractVisitor.visitGetKeyValueCommand(AbstractVisitor.java:85)




[JBossINF] 	at org.infinispan.commands.read.GetKeyValueCommand.acceptVisitor(GetKeyValueCommand.java:43)




[JBossINF] 	at org.infinispan.interceptors.base.CommandInterceptor.invokeNextInterceptor(CommandInterceptor.java:99)




[JBossINF] 	at org.infinispan.interceptors.base.CommandInterceptor.handleDefault(CommandInterceptor.java:113)




[JBossINF] 	at org.infinispan.commands.AbstractVisitor.visitGetKeyValueCommand(AbstractVisitor.java:85)




[JBossINF] 	at org.infinispan.commands.read.GetKeyValueCommand.acceptVisitor(GetKeyValueCommand.java:43)




[JBossINF] 	at org.infinispan.interceptors.InterceptorChain.invoke(InterceptorChain.java:335)




[JBossINF] 	at org.infinispan.cache.impl.CacheImpl.get(CacheImpl.java:411)




[JBossINF] 	at org.infinispan.cache.impl.CacheImpl.get(CacheImpl.java:403)




[JBossINF] 	at org.infinispan.cache.impl.AbstractDelegatingCache.get(AbstractDelegatingCache.java:286)




[JBossINF] 	at org.wildfly.clustering.web.infinispan.session.fine.FineImmutableSessionAttributes.getAttribute(FineImmutableSessionAttributes.java:59)




[JBossINF] 	at org.wildfly.clustering.web.infinispan.session.InfinispanSessionManager.lambda$findListeners$13(InfinispanSessionManager.java:406)




[JBossINF] 	at java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:193)




[JBossINF] 	at java.util.concurrent.ConcurrentHashMap$KeySpliterator.forEachRemaining(ConcurrentHashMap.java:3527)




[JBossINF] 	at java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:481)




[JBossINF] 	at java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:471)




[JBossINF] 	at java.util.stream.ReduceOps$ReduceOp.evaluateSequential(ReduceOps.java:708)




[JBossINF] 	at java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:234)




[JBossINF] 	at java.util.stream.ReferencePipeline.collect(ReferencePipeline.java:499)




[JBossINF] 	at org.wildfly.clustering.web.infinispan.session.InfinispanSessionManager.findListeners(InfinispanSessionManager.java:406)




[JBossINF] 	at org.wildfly.clustering.web.infinispan.session.InfinispanSessionManager.triggerPrePassivationEvents(InfinispanSessionManager.java:389)




[JBossINF] 	at org.wildfly.clustering.web.infinispan.session.InfinispanSessionManager$SchedulableSession.close(InfinispanSessionManager.java:457)




[JBossINF] 	at org.wildfly.clustering.web.undertow.session.DistributableSession.requestDone(DistributableSession.java:80)




[JBossINF] 	at io.undertow.servlet.spec.ServletContextImpl.updateSessionAccessTime(ServletContextImpl.java:814)




[JBossINF] 	at io.undertow.servlet.spec.HttpServletResponseImpl.responseDone(HttpServletResponseImpl.java:572)




[JBossINF] 	at io.undertow.servlet.spec.HttpServletResponseImpl.doErrorDispatch(HttpServletResponseImpl.java:171)




[JBossINF] 	at io.undertow.servlet.handlers.ServletInitialHandler.handleFirstRequest(ServletInitialHandler.java:327)




[JBossINF] 	at io.undertow.servlet.handlers.ServletInitialHandler.access$100(ServletInitialHandler.java:81)




[JBossINF] 	at io.undertow.servlet.handlers.ServletInitialHandler$2.call(ServletInitialHandler.java:138)




[JBossINF] 	at io.undertow.servlet.handlers.ServletInitialHandler$2.call(ServletInitialHandler.java:135)




[JBossINF] 	at io.undertow.servlet.core.ServletRequestContextThreadSetupAction$1.call(ServletRequestContextThreadSetupAction.java:48)




[JBossINF] 	at io.undertow.servlet.core.ContextClassLoaderSetupAction$1.call(ContextClassLoaderSetupAction.java:43)




[JBossINF] 	at org.wildfly.extension.undertow.security.SecurityContextThreadSetupAction.lambda$create$0(SecurityContextThreadSetupAction.java:105)




[JBossINF] 	at org.wildfly.extension.undertow.deployment.UndertowDeploymentInfoService$UndertowThreadSetupAction.lambda$create$0(UndertowDeploymentInfoService.java:1668)




[JBossINF] 	at org.wildfly.extension.undertow.deployment.UndertowDeploymentInfoService$UndertowThreadSetupAction.lambda$create$0(UndertowDeploymentInfoService.java:1668)




[JBossINF] 	at org.wildfly.extension.undertow.deployment.UndertowDeploymentInfoService$UndertowThreadSetupAction.lambda$create$0(UndertowDeploymentInfoService.java:1668)




[JBossINF] 	at org.wildfly.extension.undertow.deployment.UndertowDeploymentInfoService$UndertowThreadSetupAction.lambda$create$0(UndertowDeploymentInfoService.java:1668)




[JBossINF] 	at io.undertow.servlet.handlers.ServletInitialHandler.dispatchRequest(ServletInitialHandler.java:272)




[JBossINF] 	at io.undertow.servlet.handlers.ServletInitialHandler.access$000(ServletInitialHandler.java:81)




[JBossINF] 	at io.undertow.servlet.handlers.ServletInitialHandler$1.handleRequest(ServletInitialHandler.java:104)




[JBossINF] 	at io.undertow.server.Connectors.executeRootHandler(Connectors.java:207)




[JBossINF] 	at io.undertow.server.HttpServerExchange$1.run(HttpServerExchange.java:810)




[JBossINF] 	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)




[JBossINF] 	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)




[JBossINF] 	at java.lang.Thread.run(Thread.java:745)






Link to server log:
http://jenkins.mw.lab.eng.bos.redhat.com/hudson/job/eap-7x-failover-http-granular-shutdown-repl-sync/14/console-dev214/
WARN occured on client at the same time:






2016/09/21 23:04:41:857 EDT [WARN ][Runner - 1402] HOST dev220.mw.lab.eng.bos.redhat.com:rootProcess:c - Error sampling data:  &amp;lt;org.jboss.smartfrog.loaddriver.RequestProcessingException: Invalid response code: 500 Content: &amp;lt;html&amp;gt;&amp;lt;head&amp;gt;&amp;lt;title&amp;gt;Error&amp;lt;/title&amp;gt;&amp;lt;/head&amp;gt;&amp;lt;body&amp;gt;Internal Server Error&amp;lt;/body&amp;gt;&amp;lt;/html&amp;gt;&amp;gt;




        org.jboss.smartfrog.loaddriver.RequestProcessingException: Invalid response code: 500 Content: &amp;lt;html&amp;gt;&amp;lt;head&amp;gt;&amp;lt;title&amp;gt;Error&amp;lt;/title&amp;gt;&amp;lt;/head&amp;gt;&amp;lt;body&amp;gt;Internal Server Error&amp;lt;/body&amp;gt;&amp;lt;/html&amp;gt;




	at org.jboss.smartfrog.loaddriver.http.HttpRequestProcessorFactoryImpl$HttpRequestProcessor.processRequest(HttpRequestProcessorFactoryImpl.java:163)




	at org.jboss.smartfrog.loaddriver.CompoundRequestProcessorFactoryImpl$CompoundRequestProcessor.processRequest(CompoundRequestProcessorFactoryImpl.java:52)




	at org.jboss.smartfrog.loaddriver.Runner.run(Runner.java:103)




	at java.lang.Thread.run(Thread.java:745)






Link to client log:
http://jenkins.mw.lab.eng.bos.redhat.com/hudson/job/eap-7x-failover-http-granular-shutdown-repl-sync/14/console-dev220/</description>
			<version>10.1.0.Final</version>
			<fixedVersion>11.0.0.Alpha1</fixedVersion>
			<type>Bug</type>
		</buginformation>
		<fixedFiles>
			<file type="M">org.wildfly.clustering.web.undertow.session.DistributableSession.java</file>
		</fixedFiles>
		<links>
			<link type="Cloners" description="cloned from">6224</link>
		</links>
	</bug>
	<bug id="6727" opendate="2016-06-15 14:55:52" fixdate="2016-10-27 10:36:24" resolution="Done">
		<buginformation>
			<summary>Transaction resource definition missing validator for default timeout</summary>
			<description>TransactionSubsystemRootResourceDefinition is missing a validator for default-timeout. This affects web console when something bigger than a 32-bit integer is entered. I see no specification but I&amp;amp;apos;m assuming (0,MAX_INT) is the expected range.</description>
			<version>10.0.0.Final</version>
			<fixedVersion></fixedVersion>
			<type>Bug</type>
		</buginformation>
		<fixedFiles>
			<file type="M">org.jboss.as.txn.subsystem.TransactionSubsystemRootResourceDefinition.java</file>
		</fixedFiles>
		<links>
			<link type="Superset" description="is incorporated by">4933</link>
		</links>
	</bug>
	<bug id="6268" opendate="2016-02-24 10:01:27" fixdate="2016-10-27 17:03:00" resolution="Done">
		<buginformation>
			<summary>There is no validation of some of messaging server attributes</summary>
			<description>There is no validation of some attributes of messaging provider. Setting of these attributes to non valid value causes an error during next reload. Some of these attributes are: journal-file-size or journal-compact-percentage.</description>
			<version>10.0.0.Final</version>
			<fixedVersion>11.0.0.Alpha1</fixedVersion>
			<type>Bug</type>
		</buginformation>
		<fixedFiles>
			<file type="M">org.wildfly.extension.messaging.activemq.ServerDefinition.java</file>
			<file type="M">org.wildfly.extension.messaging.activemq.logging.MessagingLogger.java</file>
		</fixedFiles>
		<links>
			<link type="Cloners" description="cloned from">3532</link>
			<link type="Cloners" description="cloned to">6655</link>
		</links>
	</bug>
	<bug id="7387" opendate="2016-10-26 11:57:00" fixdate="2016-10-28 14:48:00" resolution="Done">
		<buginformation>
			<summary>Infinispan cache containers should only use JMX if the associated capability is available.</summary>
			<description></description>
			<version>10.1.0.Final</version>
			<fixedVersion>11.0.0.Alpha1</fixedVersion>
			<type>Bug</type>
		</buginformation>
		<fixedFiles>
			<file type="M">org.jboss.as.clustering.infinispan.subsystem.CacheContainerResourceDefinition.java</file>
			<file type="M">org.jboss.as.clustering.infinispan.subsystem.GlobalConfigurationBuilder.java</file>
			<file type="M">org.jboss.as.clustering.infinispan.subsystem.TransformersTestCase.java</file>
		</fixedFiles>
		<links>
			<link type="Cloners" description="cloned to">6689</link>
		</links>
	</bug>
	<bug id="7386" opendate="2016-10-26 11:56:26" fixdate="2016-10-28 14:48:08" resolution="Done">
		<buginformation>
			<summary>JGroups channels should only use JMX if the associated capability is available.</summary>
			<description></description>
			<version>10.1.0.Final</version>
			<fixedVersion>11.0.0.Alpha1</fixedVersion>
			<type>Bug</type>
		</buginformation>
		<fixedFiles>
			<file type="M">org.jboss.as.clustering.jgroups.subsystem.ChannelResourceDefinition.java</file>
			<file type="M">org.jboss.as.clustering.jgroups.subsystem.ChannelBuilder.java</file>
			<file type="M">org.jboss.as.clustering.jgroups.subsystem.TransformersTestCase.java</file>
			<file type="M">org.jboss.as.clustering.jgroups.subsystem.ForkResourceDefinition.java</file>
			<file type="M">org.jboss.as.clustering.jgroups.subsystem.SubsystemParsingTestCase.java</file>
		</fixedFiles>
		<links>
			<link type="Cloners" description="cloned to">6688</link>
		</links>
	</bug>
	<bug id="6888" opendate="2016-07-28 08:20:29" fixdate="2016-10-31 14:36:57" resolution="Done">
		<buginformation>
			<summary>Fix bridge support for large messages</summary>
			<description></description>
			<version>10.0.0.Final</version>
			<fixedVersion>11.0.0.Alpha1</fixedVersion>
			<type>Bug</type>
		</buginformation>
		<fixedFiles>
			<file type="M">org.wildfly.extension.messaging.activemq.MessagingActiveMQSubsystem_1_1_TestCase.java</file>
			<file type="M">org.wildfly.extension.messaging.activemq.MessagingSubsystemRootResourceDefinition.java</file>
			<file type="M">org.wildfly.extension.messaging.activemq.BridgeAdd.java</file>
			<file type="M">org.wildfly.extension.messaging.activemq.ClusterConnectionDefinition.java</file>
			<file type="M">org.wildfly.extension.messaging.activemq.ClusterConnectionAdd.java</file>
			<file type="M">org.wildfly.extension.messaging.activemq.BridgeDefinition.java</file>
			<file type="M">org.wildfly.extension.messaging.activemq.MessagingSubsystemParser_1_1.java</file>
		</fixedFiles>
		<links>
			<link type="Cloners" description="cloned from">5434</link>
			<link type="Dependency" description="blocks">5434</link>
			<link type="Related" description="is related to">5434</link>
		</links>
	</bug>
	<bug id="7413" opendate="2016-10-28 20:39:50" fixdate="2016-10-31 16:50:05" resolution="Done">
		<buginformation>
			<summary>Singleton policy quorum attribute is missing a validator</summary>
			<description></description>
			<version>10.1.0.Final</version>
			<fixedVersion>11.0.0.Alpha1</fixedVersion>
			<type>Bug</type>
		</buginformation>
		<fixedFiles>
			<file type="M">org.wildfly.extension.clustering.singleton.SingletonPolicyResourceDefinition.java</file>
		</fixedFiles>
		<links>
			<link type="Cloners" description="cloned to">6709</link>
		</links>
	</bug>
	<bug id="7426" opendate="2016-10-31 14:03:46" fixdate="2016-10-31 20:50:28" resolution="Done">
		<buginformation>
			<summary>Attempt to remove cache container with default-cache defined throws NPE</summary>
			<description>When I create a local cache as a child of some cache container and then set it to that cache container as its default cache, it is impossible to remove that cache container.</description>
			<version>10.1.0.Final</version>
			<fixedVersion>11.0.0.Alpha1</fixedVersion>
			<type>Bug</type>
		</buginformation>
		<fixedFiles>
			<file type="M">org.jboss.as.clustering.infinispan.subsystem.InfinispanSubsystemServiceHandler.java</file>
			<file type="M">org.jboss.as.clustering.infinispan.subsystem.CacheContainerServiceHandler.java</file>
		</fixedFiles>
		<links>
			<link type="Cloners" description="cloned from">6742</link>
		</links>
	</bug>
	<bug id="6935" opendate="2016-08-09 19:47:57" fixdate="2016-10-31 20:53:07" resolution="Done">
		<buginformation>
			<summary>CMTTxInterceptor transaction comparison</summary>
			<description></description>
			<version>10.1.0.CR1</version>
			<fixedVersion>11.0.0.Alpha1</fixedVersion>
			<type>Bug</type>
		</buginformation>
		<fixedFiles>
			<file type="M">org.jboss.as.ejb3.tx.CMTTxInterceptor.java</file>
		</fixedFiles>
		<links>
			<link type="Causality" description="causes">6585</link>
			<link type="Causality" description="causes">4526</link>
			<link type="Cloners" description="cloned to">7427</link>
			<link type="Cloners" description="cloned to">6744</link>
		</links>
	</bug>
	<bug id="6841" opendate="2016-07-18 19:47:49" fixdate="2016-11-01 10:56:00" resolution="Done">
		<buginformation>
			<summary>Singleton backup service cannot be overridden</summary>
			<description>Currently, singleton services are started on the primary node only - no service is started on the backup nodes.  We can generalize this use case by building a singleton service using 2 services: one to be started on the primary node, and the other to be installed on backup nodes.  When a node is elected as the primary provider, we stop the backup service, and start the primary service.  Conversely, when a primary node loses a re-election, it stops its primary service and starts its backup service.</description>
			<version>10.0.0.Final</version>
			<fixedVersion>11.0.0.Alpha1</fixedVersion>
			<type>Bug</type>
		</buginformation>
		<fixedFiles>
			<file type="M">org.jboss.as.test.clustering.cluster.singleton.SingletonPolicyServiceTestCase.java</file>
			<file type="D">org.jboss.as.test.clustering.cluster.singleton.service.MyServiceServlet.java</file>
			<file type="M">org.wildfly.extension.clustering.singleton.deployment.SingletonSubDeploymentUnitPhaseBuilder.java</file>
			<file type="M">org.wildfly.clustering.server.provider.GetLocalServicesCommand.java</file>
			<file type="M">org.wildfly.clustering.server.provider.LocalServiceProviderRegistry.java</file>
			<file type="D">org.jboss.as.test.clustering.cluster.singleton.service.MyService.java</file>
			<file type="M">org.wildfly.clustering.singleton.Singleton.java</file>
			<file type="D">org.jboss.as.test.clustering.cluster.singleton.service.Environment.java</file>
			<file type="M">org.jboss.as.test.clustering.tunnel.singleton.SingletonTunnelTestCase.java</file>
			<file type="M">org.wildfly.extension.clustering.singleton.SingletonPolicyBuilder.java</file>
			<file type="M">org.wildfly.clustering.singleton.SingletonElectionPolicy.java</file>
			<file type="M">org.jboss.as.test.clustering.cluster.singleton.SingletonServiceTestCase.java</file>
			<file type="M">org.wildfly.clustering.singleton.SingletonPolicy.java</file>
			<file type="D">org.jboss.as.test.clustering.cluster.singleton.service.MyServiceActivator.java</file>
			<file type="M">org.jboss.as.test.clustering.tunnel.singleton.SingletonServiceActivator.java</file>
			<file type="M">org.jboss.as.clustering.msc.ServiceContainerHelper.java</file>
			<file type="M">org.wildfly.clustering.server.singleton.LocalSingletonServiceBuilder.java</file>
			<file type="M">org.wildfly.clustering.server.singleton.DistributedSingletonServiceBuilder.java</file>
			<file type="D">org.jboss.as.test.clustering.cluster.singleton.service.MyServicePolicyActivator.java</file>
			<file type="M">org.wildfly.clustering.server.provider.CacheServiceProviderRegistry.java</file>
			<file type="M">org.wildfly.clustering.singleton.election.SimpleSingletonElectionPolicy.java</file>
			<file type="M">org.wildfly.clustering.server.group.AddressableNodeExternalizer.java</file>
			<file type="M">org.wildfly.clustering.singleton.SingletonServiceBuilder.java</file>
			<file type="M">org.jboss.as.test.clustering.single.singleton.SingletonServiceTestCase.java</file>
		</fixedFiles>
		<links>
			<link type="Cloners" description="cloned to">6736</link>
		</links>
	</bug>
	<bug id="7372" opendate="2016-10-25 13:25:25" fixdate="2016-11-01 16:28:56" resolution="Done">
		<buginformation>
			<summary>Hibernate Scanner implementation class shouldn&amp;apos;t leak application entity classes</summary>
			<description></description>
			<version>JBoss AS7 7.2.0.Final</version>
			<fixedVersion>11.0.0.Alpha1</fixedVersion>
			<type>Bug</type>
		</buginformation>
		<fixedFiles>
			<file type="M">org.jboss.as.jpa.config.PersistenceUnitMetadataImpl.java</file>
			<file type="M">org.jipijapa.plugin.spi.PersistenceUnitMetadata.java</file>
			<file type="M">org.jboss.as.jpa.hibernate4.HibernateAnnotationScanner.java</file>
		</fixedFiles>
		<links>
			<link type="Related" description="is related to">7367</link>
		</links>
	</bug>
	<bug id="7431" opendate="2016-10-31 15:31:18" fixdate="2016-11-01 16:34:46" resolution="Done">
		<buginformation>
			<summary>Convert stats-enabled metric into proper statistics-enabled attribute</summary>
			<description>





/subsystem=jgroups/channel=ee:read-attribute(name=stats-enabled)






Other subsystems usually use attribute name statistics-enabled, we should deprecate the current attribute name and support the unified attribute name. This is the case in the transaction subsystem. This issue is similar to JBEAP-6501.</description>
			<version>10.1.0.Final</version>
			<fixedVersion>11.0.0.Alpha1</fixedVersion>
			<type>Bug</type>
		</buginformation>
		<fixedFiles>
			<file type="M">org.jboss.as.clustering.jgroups.subsystem.ChannelMetric.java</file>
			<file type="M">org.jboss.as.clustering.jgroups.subsystem.ChannelBuilder.java</file>
			<file type="M">org.jboss.as.clustering.jgroups.subsystem.ChannelResourceDefinition.java</file>
			<file type="M">org.jboss.as.clustering.jgroups.subsystem.JGroupsSubsystemXMLReader.java</file>
			<file type="M">org.jboss.as.clustering.jgroups.subsystem.ChannelServiceHandler.java</file>
			<file type="M">org.jboss.as.clustering.jgroups.subsystem.XMLAttribute.java</file>
		</fixedFiles>
		<links>
			<link type="Cloners" description="cloned from">6713</link>
			<link type="Dependency" description="is blocked by">6765</link>
		</links>
	</bug>
	<bug id="4882" opendate="2015-07-07 14:22:44" fixdate="2016-11-02 15:22:04" resolution="Done">
		<buginformation>
			<summary>Security manager&amp;apos;s maximum-permissions setting doesn&amp;apos;t work</summary>
			<description>Configuration of maximum-permissions attribute in /subsystem=security-manager/deployment-permissions=default doesn&amp;amp;apos;t work so the permissions for deployments can&amp;amp;apos;t be restricted. 
(The "policy of the product installation" in the words of EE specification is not enforced).
If administrator specifies maximum-permissions in server configuration and also permissions.xml in the deployment, all permissions from the permissions.xml are granted even if the policies are in conflict.
The maximum-permissions configuration has following meaning: 
A set containing the maximum permission scope that can be granted to deployments or jars
The Java EE 7 platform specification (JSR 342) says in section EE.6.2.2.1:
If security permissions are declared that conflict with the policy of the product installation, the Java EE product must fail deployment of the application module.
Expected behavior:

based on EE spec the deployment should fail
deployed application should not get more permissions than specified in the maximum-permissions

</description>
			<version>10.0.0.Alpha4</version>
			<fixedVersion>11.0.0.Alpha1</fixedVersion>
			<type>Bug</type>
		</buginformation>
		<fixedFiles>
			<file type="M">org.wildfly.extension.security.manager.logging.SecurityManagerLogger.java</file>
			<file type="D">org.wildfly.extension.security.manager.SecurityManagerSubsystemTestCase.java</file>
			<file type="M">org.wildfly.extension.security.manager.Namespace.java</file>
			<file type="M">org.wildfly.extension.security.manager.SecurityManagerExtension.java</file>
			<file type="M">org.wildfly.extension.security.manager.SecurityManagerSubsystemAdd.java</file>
			<file type="D">org.wildfly.extension.security.manager.SecurityManagerSubsystemParser.java</file>
			<file type="M">org.wildfly.extension.security.manager.DeploymentPermissionsResourceDefinition.java</file>
			<file type="D">org.wildfly.extension.security.manager.deployment.PermissionsParseProcessor.java</file>
		</fixedFiles>
		<links>
			<link type="Cloners" description="cloned from">408</link>
			<link type="Dependency" description="blocks">7680</link>
		</links>
	</bug>
	<bug id="6653" opendate="2016-05-26 02:35:57" fixdate="2016-11-02 15:25:03" resolution="Done">
		<buginformation>
			<summary>The default min and max pool size of -1 is confusing. </summary>
			<description>The default values for min and max pool size are confusing
"max-pool-size" =&amp;gt; -1,
"min-pool-size" =&amp;gt; -1,
They should either say default
"max-pool-size" =&amp;gt; default,
"min-pool-size" =&amp;gt; default,
or display the default JCA values which I believe are 2 and 20
"max-pool-size" =&amp;gt; 20,
"min-pool-size" =&amp;gt; 2,</description>
			<version>10.0.0.Final</version>
			<fixedVersion>11.0.0.Alpha1</fixedVersion>
			<type>Bug</type>
		</buginformation>
		<fixedFiles>
			<file type="M">org.wildfly.extension.messaging.activemq.jms.ConnectionFactoryAttributes.java</file>
			<file type="M">org.wildfly.extension.messaging.activemq.MessagingSubsystemRootResourceDefinition.java</file>
			<file type="M">org.jboss.as.test.integration.messaging.jms.definitions.JMSResourceManagementTestCase.java</file>
		</fixedFiles>
		<links>
			<link type="Cloners" description="cloned from">4628</link>
		</links>
	</bug>
	<bug id="7410" opendate="2016-10-28 16:24:15" fixdate="2016-11-02 15:26:37" resolution="Done">
		<buginformation>
			<summary>CommandDispatcher.submitOnCluster() futures throw NPEs</summary>
			<description>Calling Future.get() on a response from CommandDispatcher.submitOnCluster(...) will always throw an NPE.
We also need to handle the case where the response from a node was filtered.</description>
			<version>10.1.0.Final</version>
			<fixedVersion>11.0.0.Alpha1</fixedVersion>
			<type>Bug</type>
		</buginformation>
		<fixedFiles>
			<file type="M">org.wildfly.clustering.server.dispatcher.ChannelCommandDispatcher.java</file>
		</fixedFiles>
		<links>
			<link type="Cloners" description="cloned to">6707</link>
		</links>
	</bug>
	<bug id="7113" opendate="2016-09-15 11:56:07" fixdate="2016-11-04 13:37:25" resolution="Done">
		<buginformation>
			<summary>Naming subsystem does not expose a proper capability contract</summary>
			<description>Subsystems that currently use JNDI bindings require that the naming subsystem be present.  The naming subsystem should expose capabilities for which other subsystems can test for the presence, so they can function in the absence of the naming subsystem.</description>
			<version>10.1.0.Final</version>
			<fixedVersion>11.0.0.Alpha1</fixedVersion>
			<type>Bug</type>
		</buginformation>
		<fixedFiles>
			<file type="M">org.jboss.as.naming.subsystem.NamingSubsystemRootResourceDefinition.java</file>
			<file type="M">org.jboss.as.naming.subsystem.NamingSubsystemRemove.java</file>
			<file type="M">org.jboss.as.naming.deployment.JndiNamingDependencyProcessor.java</file>
			<file type="M">org.jboss.as.naming.subsystem.NamingExtension.java</file>
			<file type="M">org.jboss.as.naming.service.NamingService.java</file>
			<file type="M">org.jboss.as.clustering.naming.BinderServiceBuilder.java</file>
			<file type="M">org.jboss.as.clustering.controller.CommonRequirement.java</file>
			<file type="M">org.jboss.as.naming.subsystem.NamingSubsystemAdd.java</file>
		</fixedFiles>
		<links>
			<link type="Cloners" description="cloned to">6069</link>
		</links>
	</bug>
	<bug id="7309" opendate="2016-10-13 14:14:49" fixdate="2016-11-04 13:44:04" resolution="Done">
		<buginformation>
			<summary>Make the authentication configurable in the testsuite </summary>
			<description>Actually some tests cases fails when running against a remote eap instance. 
In this specific case instances running on Openshift v3.
In order to get those tests working we have to modify some classes to configure the authentication.
Example: 
org.jboss.as.test.integration.ee.jmx.property.JMXPropertyEditorsTestCase, had to change this:






    private MBeanServerConnection getMBeanServerConnection() throws IOException {




        final String address = managementClient.getMgmtAddress()+":"+managementClient.getMgmtPort();




        connector = JMXConnectorFactory.connect(new JMXServiceURL("service:jmx:http-remoting-jmx://"+address));




        return connector.getMBeanServerConnection();









    }






To:











    private MBeanServerConnection getMBeanServerConnection() throws IOException {




        HashMap&amp;lt;String, String[]&amp;gt; propEnv = new HashMap&amp;lt;String, String[]&amp;gt;();




        String[] credentials = {  System.getProperty("jboss.management.user",""), System.getProperty("jboss.management.password","") };




        propEnv.put(JMXConnector.CREDENTIALS, credentials);




        final String address = managementClient.getMgmtAddress()+":"+managementClient.getMgmtPort();




        connector = JMXConnectorFactory.connect(new JMXServiceURL("service:jmx:http-remoting-jmx://"+address),propEnv);




        return connector.getMBeanServerConnection();




    }






Could these kind of authentication being configurable?
It is important to us because this allows the tests to be executed against the docker images running in openshift.</description>
			<version>10.1.0.Final</version>
			<fixedVersion>11.0.0.Alpha1</fixedVersion>
			<type>Bug</type>
		</buginformation>
		<fixedFiles>
			<file type="M">org.jboss.as.test.integration.ee.jmx.property.JMXPropertyEditorsTestCase.java</file>
			<file type="M">org.jboss.as.test.integration.sar.injection.resource.SarResourceInjectionTestCase.java</file>
			<file type="M">org.jboss.as.test.integration.sar.servicembean.ServiceMBeanSupportTestCase.java</file>
			<file type="M">org.jboss.as.test.integration.sar.context.classloader.MBeanTCCLTestCase.java</file>
			<file type="M">org.jboss.as.test.integration.sar.JNDIBindingMBeanTestCase.java</file>
			<file type="M">org.jboss.as.test.integration.naming.remote.simple.RemoteNamingTestCase.java</file>
			<file type="M">org.jboss.as.test.integration.jmx.ModelControllerMBeanTestCase.java</file>
			<file type="M">org.jboss.as.test.integration.naming.remote.ejb.RemoteNamingEjbTestCase.java</file>
			<file type="M">org.jboss.as.test.integration.sar.SarWithinEarTestCase.java</file>
			<file type="M">org.jboss.as.test.integration.sar.injection.depends.DependsTestCase.java</file>
		</fixedFiles>
		<links>
			<link type="Cloners" description="cloned to">6424</link>
		</links>
	</bug>
	<bug id="7465" opendate="2016-11-03 18:47:17" fixdate="2016-11-04 15:39:46" resolution="Done">
		<buginformation>
			<summary>JGroups channel operations using allow-resource-service-restart cause duplicate service exception</summary>
			<description>





[standalone@embedded /] /subsystem=jgroups/channel=ee:write-attribute(name=statistics-enabled, value=true){allow-resource-service-restart=true}









14:40:24,676 ERROR [org.jboss.as.controller.management-operation] (AeshProcess: 3) WFLYCTL0013: Operation ("write-attribute") failed - address: ([




    ("subsystem" =&amp;gt; "jgroups"),




    ("channel" =&amp;gt; "ee")




]): org.jboss.msc.service.DuplicateServiceException: Service org.wildfly.clustering.jgroups.channel-cluster.ee is already registered




	at org.jboss.msc.service.ServiceRegistrationImpl.setInstance(ServiceRegistrationImpl.java:158)




	at org.jboss.msc.service.ServiceControllerImpl.startInstallation(ServiceControllerImpl.java:236)




	at org.jboss.msc.service.ServiceContainerImpl.install(ServiceContainerImpl.java:768)




	at org.jboss.msc.service.ServiceTargetImpl.install(ServiceTargetImpl.java:223)




	at org.jboss.msc.service.ServiceControllerImpl$ChildServiceTarget.install(ServiceControllerImpl.java:2416)




	at org.jboss.msc.service.ServiceTargetImpl.install(ServiceTargetImpl.java:223)




	at org.jboss.msc.service.ServiceControllerImpl$ChildServiceTarget.install(ServiceControllerImpl.java:2416)




	at org.jboss.msc.service.ServiceBuilderImpl.install(ServiceBuilderImpl.java:317)




	at org.jboss.as.controller.OperationContextImpl$ContextServiceBuilder.install(OperationContextImpl.java:2174)




	at org.jboss.as.clustering.jgroups.subsystem.ChannelServiceHandler.installServices(ChannelServiceHandler.java:61)




	at org.jboss.as.clustering.controller.WriteAttributeStepHandler.restartServices(WriteAttributeStepHandler.java:67)




	at org.jboss.as.clustering.controller.WriteAttributeStepHandler.applyUpdateToRuntime(WriteAttributeStepHandler.java:51)




	at org.jboss.as.controller.AbstractWriteAttributeHandler$1.execute(AbstractWriteAttributeHandler.java:104)




	at org.jboss.as.controller.AbstractOperationContext.executeStep(AbstractOperationContext.java:940)




	at org.jboss.as.controller.AbstractOperationContext.processStages(AbstractOperationContext.java:683)




	at org.jboss.as.controller.AbstractOperationContext.executeOperation(AbstractOperationContext.java:382)




	at org.jboss.as.controller.OperationContextImpl.executeOperation(OperationContextImpl.java:1361)




	at org.jboss.as.controller.ModelControllerImpl.internalExecute(ModelControllerImpl.java:411)




	at org.jboss.as.controller.ModelControllerImpl.execute(ModelControllerImpl.java:219)




	at org.jboss.as.controller.ModelControllerImpl$3.execute(ModelControllerImpl.java:701)




	at org.jboss.as.controller.ModelControllerImpl$3.execute(ModelControllerImpl.java:691)




	at org.jboss.as.controller.client.helpers.DelegatingModelControllerClient.execute(DelegatingModelControllerClient.java:68)




	at org.jboss.as.cli.embedded.ThreadContextsModelControllerClient.execute(ThreadContextsModelControllerClient.java:69)




	at org.jboss.as.cli.impl.CommandExecutor.execute(CommandExecutor.java:652)




	at org.jboss.as.cli.impl.CommandContextImpl.lambda$execute$1(CommandContextImpl.java:857)




	at org.jboss.as.cli.impl.CommandContextImpl.execute(CommandContextImpl.java:877)




	at org.jboss.as.cli.impl.CommandContextImpl.execute(CommandContextImpl.java:856)




	at org.jboss.as.cli.handlers.OperationRequestHandler.handle(OperationRequestHandler.java:90)




	at org.jboss.as.cli.impl.CommandContextImpl.handle(CommandContextImpl.java:801)




	at org.jboss.as.cli.impl.CommandContextImpl.handleSafe(CommandContextImpl.java:902)




	at org.jboss.as.cli.impl.CommandContextImpl$2.execute(CommandContextImpl.java:436)




	at org.jboss.aesh.console.AeshProcess.run(AeshProcess.java:53)




	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)




	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)




	at java.lang.Thread.run(Thread.java:745)





</description>
			<version>10.1.0.Final</version>
			<fixedVersion>11.0.0.Alpha1</fixedVersion>
			<type>Bug</type>
		</buginformation>
		<fixedFiles>
			<file type="M">org.jboss.as.clustering.jgroups.subsystem.ChannelServiceHandler.java</file>
		</fixedFiles>
		<links>
			<link type="Cloners" description="cloned to">6875</link>
		</links>
	</bug>
	<bug id="7464" opendate="2016-11-03 18:46:58" fixdate="2016-11-04 15:39:55" resolution="Done">
		<buginformation>
			<summary>Infinispan cache operations using allow-resource-service-restart cause duplicate service exception</summary>
			<description>





[standalone@embedded /] /subsystem=infinispan/cache-container=server/local-cache=default:write-attribute(name=statistics-enabled, value=true){allow-resource-service-restart=true}









14:22:34,146 ERROR [org.jboss.as.controller.management-operation] (AeshProcess: 11) WFLYCTL0013: Operation ("write-attribute") failed - address: ([




    ("subsystem" =&amp;gt; "infinispan"),




    ("cache-container" =&amp;gt; "server"),




    ("local-cache" =&amp;gt; "default")




]): org.jboss.msc.service.DuplicateServiceException: Service org.wildfly.clustering.infinispan.cache-configuration.server.default.module is already registered




	at org.jboss.msc.service.ServiceRegistrationImpl.setInstance(ServiceRegistrationImpl.java:158)




	at org.jboss.msc.service.ServiceControllerImpl.startInstallation(ServiceControllerImpl.java:236)




	at org.jboss.msc.service.ServiceContainerImpl.install(ServiceContainerImpl.java:768)




	at org.jboss.msc.service.ServiceTargetImpl.install(ServiceTargetImpl.java:223)




	at org.jboss.msc.service.ServiceControllerImpl$ChildServiceTarget.install(ServiceControllerImpl.java:2416)




	at org.jboss.msc.service.ServiceTargetImpl.install(ServiceTargetImpl.java:223)




	at org.jboss.msc.service.ServiceControllerImpl$ChildServiceTarget.install(ServiceControllerImpl.java:2416)




	at org.jboss.msc.service.ServiceBuilderImpl.install(ServiceBuilderImpl.java:317)




	at org.jboss.as.controller.OperationContextImpl$ContextServiceBuilder.install(OperationContextImpl.java:2174)




	at org.jboss.as.clustering.infinispan.subsystem.CacheServiceHandler.installServices(CacheServiceHandler.java:82)




	at org.jboss.as.clustering.controller.RestartWriteAttributeHandler.restartServices(RestartWriteAttributeHandler.java:67)




	at org.jboss.as.clustering.controller.RestartWriteAttributeHandler.applyUpdateToRuntime(RestartWriteAttributeHandler.java:51)




	at org.jboss.as.controller.AbstractWriteAttributeHandler$1.execute(AbstractWriteAttributeHandler.java:104)




	at org.jboss.as.controller.AbstractOperationContext.executeStep(AbstractOperationContext.java:940)




	at org.jboss.as.controller.AbstractOperationContext.processStages(AbstractOperationContext.java:683)




	at org.jboss.as.controller.AbstractOperationContext.executeOperation(AbstractOperationContext.java:382)




	at org.jboss.as.controller.OperationContextImpl.executeOperation(OperationContextImpl.java:1361)




	at org.jboss.as.controller.ModelControllerImpl.internalExecute(ModelControllerImpl.java:411)




	at org.jboss.as.controller.ModelControllerImpl.execute(ModelControllerImpl.java:219)




	at org.jboss.as.controller.ModelControllerImpl$3.execute(ModelControllerImpl.java:701)




	at org.jboss.as.controller.ModelControllerImpl$3.execute(ModelControllerImpl.java:691)




	at org.jboss.as.controller.client.helpers.DelegatingModelControllerClient.execute(DelegatingModelControllerClient.java:68)




	at org.jboss.as.cli.embedded.ThreadContextsModelControllerClient.execute(ThreadContextsModelControllerClient.java:69)




	at org.jboss.as.cli.impl.CommandExecutor.execute(CommandExecutor.java:652)




	at org.jboss.as.cli.impl.CommandContextImpl.lambda$execute$1(CommandContextImpl.java:857)




	at org.jboss.as.cli.impl.CommandContextImpl.execute(CommandContextImpl.java:877)




	at org.jboss.as.cli.impl.CommandContextImpl.execute(CommandContextImpl.java:856)




	at org.jboss.as.cli.handlers.OperationRequestHandler.handle(OperationRequestHandler.java:90)




	at org.jboss.as.cli.impl.CommandContextImpl.handle(CommandContextImpl.java:801)




	at org.jboss.as.cli.impl.CommandContextImpl.handleSafe(CommandContextImpl.java:902)




	at org.jboss.as.cli.impl.CommandContextImpl$2.execute(CommandContextImpl.java:436)




	at org.jboss.aesh.console.AeshProcess.run(AeshProcess.java:53)




	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)




	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)




	at java.lang.Thread.run(Thread.java:745)





</description>
			<version>10.1.0.Final</version>
			<fixedVersion>11.0.0.Alpha1</fixedVersion>
			<type>Bug</type>
		</buginformation>
		<fixedFiles>
			<file type="M">org.jboss.as.clustering.infinispan.subsystem.CacheServiceHandler.java</file>
		</fixedFiles>
		<links>
			<link type="Cloners" description="cloned to">6876</link>
		</links>
	</bug>
	<bug id="7486" opendate="2016-11-04 14:47:29" fixdate="2016-11-07 15:24:01" resolution="Done">
		<buginformation>
			<summary>Bad error message when adding singleton policy with new cache container in Singleton Subsystem</summary>
			<description>Adding a new singleton policy as described in https://access.redhat.com/documentation/en/red-hat-jboss-enterprise-application-platform/version-7.0/development-guide/#clustered_ha_singleton_service with a newly created cache-container leads to a non-explanatory fail message "WFLYCTL0180: Services with missing/unavailable dependencies" =&amp;gt; undefined.</description>
			<version>10.1.0.Final</version>
			<fixedVersion>11.0.0.Alpha1</fixedVersion>
			<type>Bug</type>
		</buginformation>
		<fixedFiles>
			<file type="M">org.wildfly.extension.clustering.singleton.SingletonPolicyBuilder.java</file>
			<file type="M">org.wildfly.extension.clustering.singleton.SingletonPolicyResourceDefinition.java</file>
		</fixedFiles>
		<links>
			<link type="Cloners" description="cloned from">6893</link>
		</links>
	</bug>
	<bug id="7488" opendate="2016-11-04 15:11:27" fixdate="2016-11-07 15:24:40" resolution="Done">
		<buginformation>
			<summary>JGroups subsystem resource registers default-channel capabilities even when undefined</summary>
			<description>Analog of WFLY-7487, but for the optional default channel attribute of the JGroups subsystem.</description>
			<version>10.1.0.Final</version>
			<fixedVersion>11.0.0.Alpha1</fixedVersion>
			<type>Bug</type>
		</buginformation>
		<fixedFiles>
			<file type="M">org.jboss.as.clustering.jgroups.subsystem.JGroupsSubsystemResourceDefinition.java</file>
		</fixedFiles>
		<links>
			<link type="Cloners" description="cloned from">7487</link>
			<link type="Cloners" description="cloned to">6921</link>
		</links>
	</bug>
	<bug id="7487" opendate="2016-11-04 15:10:35" fixdate="2016-11-07 15:24:47" resolution="Done">
		<buginformation>
			<summary>Infinispan cache container resource registers default-cache capabilities even when undefined</summary>
			<description>The management operations specified in the description for: https://issues.jboss.org/browse/WFLY-7486
... should fail during model validation due to a missing capability, since the default-cache was not defined.  However, the commands will succeed, even though the singleton policy will fail at runtime due to a missing service dependency.</description>
			<version>10.1.0.Final</version>
			<fixedVersion>11.0.0.Alpha1</fixedVersion>
			<type>Bug</type>
		</buginformation>
		<fixedFiles>
			<file type="M">org.jboss.as.clustering.infinispan.subsystem.CacheContainerResourceDefinition.java</file>
		</fixedFiles>
		<links>
			<link type="Cloners" description="cloned to">7488</link>
			<link type="Cloners" description="cloned to">6926</link>
		</links>
	</bug>
	<bug id="7503" opendate="2016-11-07 13:19:21" fixdate="2016-11-07 17:37:31" resolution="Done">
		<buginformation>
			<summary>Typo in NamingLogger log message with id WFLYNAM0060</summary>
			<description>There is a typo "attributed" in the log message:






@Message(id = 60, value = "Binding type %s requires attributed named %s defined")




OperationFailedException bindingTypeRequiresAttributeDefined(BindingType bindingType, String attributeName);





</description>
			<version>10.1.0.Final</version>
			<fixedVersion>11.0.0.Alpha1</fixedVersion>
			<type>Bug</type>
		</buginformation>
		<fixedFiles>
			<file type="M">org.jboss.as.naming.logging.NamingLogger.java</file>
		</fixedFiles>
		<links>
			<link type="Cloners" description="cloned from">5407</link>
		</links>
	</bug>
	<bug id="7037" opendate="2016-09-05 06:36:17" fixdate="2016-11-08 13:42:43" resolution="Done">
		<buginformation>
			<summary>Memory leak when doing deploy/undeploy app using REST and JPA</summary>
			<description>It seems that exposing some type (ApplicationUser in attached app) which has enum type as attribute via REST api could cause memory leak (See steps to reproduce). You can observe that person.joey.test.UserType instances are kept in memory when GC happens (metaspace exceeds) and the path to GC root looks:

Note that this map https://github.com/FasterXML/jackson-databind/blob/jackson-databind-2.7.4/src/main/java/com/fasterxml/jackson/databind/util/ClassUtil.java#L366 was not available in 2.5.4 version used in WF 10.0.0.Final</description>
			<version>10.1.0.Final</version>
			<fixedVersion>11.0.0.Alpha1</fixedVersion>
			<type>Bug</type>
		</buginformation>
		<fixedFiles>
			<file type="M">org.jboss.as.jaxrs.deployment.JaxrsIntegrationProcessor.java</file>
		</fixedFiles>
		<links>
			<link type="Cloners" description="cloned from">5854</link>
			<link type="Cloners" description="cloned to">5870</link>
			<link type="Related" description="is related to">6173</link>
			<link type="Sequence" description="is followed up by">7261</link>
		</links>
	</bug>
	<bug id="6728" opendate="2016-06-15 14:59:15" fixdate="2016-11-09 10:37:44" resolution="Done">
		<buginformation>
			<summary>JDBC persistence-store for Artemis</summary>
			<description>Apache ActiveMQ had the capability to store messages into a database via JDBC. In Apache ActiveMQ Artemis this has gone.
For a consistent backup data of various (co-located) systems participating in transactions should reside at the same datastore as otherwise this needs to be achieved through application software design (i.e. idempotent consumers etc.).
As in Apache ActiveMQ Artemis a JDBC Persistence-Store is about to be introduced we should also offer this capability on WildFly / EAP.</description>
			<version>10.0.0.Final</version>
			<fixedVersion>11.0.0.Alpha1</fixedVersion>
			<type>Enhancement</type>
		</buginformation>
		<fixedFiles>
			<file type="M">org.wildfly.extension.messaging.activemq.MessagingActiveMQSubsystem_1_1_TestCase.java</file>
			<file type="M">org.wildfly.extension.messaging.activemq.MessagingSubsystemRootResourceDefinition.java</file>
			<file type="M">org.wildfly.extension.messaging.activemq.ServerDefinition.java</file>
			<file type="M">org.wildfly.extension.messaging.activemq.logging.MessagingLogger.java</file>
			<file type="M">org.wildfly.extension.messaging.activemq.ServerAdd.java</file>
			<file type="M">org.wildfly.extension.messaging.activemq.MessagingSubsystemParser_1_1.java</file>
			<file type="M">org.wildfly.extension.messaging.activemq.ActiveMQServerService.java</file>
		</fixedFiles>
		<links>
			<link type="Dependency" description="is blocked by">6730</link>
			<link type="Duplicate" description="is duplicated by">7084</link>
		</links>
	</bug>
	<bug id="7518" opendate="2016-11-08 15:14:25" fixdate="2016-11-14 13:08:45" resolution="Done">
		<buginformation>
			<summary>Fix NPE when building clustering API modules using CapabilityServiceSupport</summary>
			<description>





10:08:19,620 ERROR [org.jboss.as.controller.management-operation] (ServerService Thread Pool -- 36) WFLYCTL0013: Operation ("add") failed - address: ([




    ("subsystem" =&amp;gt; "ejb3"),




    ("service" =&amp;gt; "remote")




]): java.lang.NullPointerException




	at org.wildfly.clustering.server.dispatcher.LocalCommandDispatcherFactoryBuilder.build(LocalCommandDispatcherFactoryBuilder.java:69)




	at org.jboss.as.ejb3.subsystem.EJB3RemoteServiceAdd.installRuntimeServices(EJB3RemoteServiceAdd.java:128)




	at org.jboss.as.ejb3.subsystem.EJB3RemoteServiceAdd.performRuntime(EJB3RemoteServiceAdd.java:87)




	at org.jboss.as.controller.AbstractAddStepHandler.performRuntime(AbstractAddStepHandler.java:337)




	at org.jboss.as.controller.AbstractAddStepHandler$1.execute(AbstractAddStepHandler.java:151)




	at org.jboss.as.controller.AbstractOperationContext.executeStep(AbstractOperationContext.java:940)




	at org.jboss.as.controller.AbstractOperationContext.processStages(AbstractOperationContext.java:683)




	at org.jboss.as.controller.AbstractOperationContext.executeOperation(AbstractOperationContext.java:382)




	at org.jboss.as.controller.ParallelBootOperationStepHandler$ParallelBootTask.run(ParallelBootOperationStepHandler.java:368)




	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)




	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)




	at java.lang.Thread.run(Thread.java:745)




	at org.jboss.threads.JBossThread.run(JBossThread.java:320)





</description>
			<version>10.1.0.Final</version>
			<fixedVersion>11.0.0.Alpha1</fixedVersion>
			<type>Bug</type>
		</buginformation>
		<fixedFiles>
			<file type="M">org.wildfly.clustering.server.group.ChannelGroupBuilder.java</file>
			<file type="M">org.wildfly.clustering.server.dispatcher.LocalCommandDispatcherFactoryBuilder.java</file>
			<file type="M">org.wildfly.clustering.server.group.LocalGroupBuilder.java</file>
			<file type="M">org.wildfly.clustering.server.dispatcher.ChannelCommandDispatcherFactoryBuilder.java</file>
			<file type="M">org.wildfly.clustering.server.group.ChannelNodeFactoryBuilder.java</file>
		</fixedFiles>
		<links>
			<link type="Cloners" description="cloned to">6983</link>
		</links>
	</bug>
	<bug id="6599" opendate="2016-05-10 01:10:26" fixdate="2016-11-14 15:01:40" resolution="Done">
		<buginformation>
			<summary>JDBC_PING can&amp;apos;t use a JNDI database connection because it is closed on shutdown</summary>
			<description>If you configure the JDBC_PING protocol in JGroups to use a datasource provided by WildFly via the datasource_jndi_name setting, you&amp;amp;apos;ll get the following exception when WildFly is shutdown:






[Server:main-server] 2016-05-10 11:05:45+1000 ERROR [[org.jgroups.protocols.JDBC_PING]] [[MSC service thread 1-4]] Could not open connection to database: java.sql.SQLException: javax.resource.ResourceException: IJ000470: You are trying to use a connection factory that has been shut down: java:/comp/env/jdbc/jgroups




[Server:main-server]    at org.jboss.jca.adapters.jdbc.WrapperDataSource.getConnection(WrapperDataSource.java:146)




[Server:main-server]    at org.jboss.as.connector.subsystems.datasources.WildFlyDataSource.getConnection(WildFlyDataSource.java:66)




[Server:main-server]    at org.jgroups.protocols.JDBC_PING.getConnection(JDBC_PING.java:348)




[Server:main-server]    at org.jgroups.protocols.JDBC_PING.delete(JDBC_PING.java:379)




[Server:main-server]    at org.jgroups.protocols.JDBC_PING.deleteSelf(JDBC_PING.java:395)




[Server:main-server]    at org.jgroups.protocols.JDBC_PING.stop(JDBC_PING.java:144)




[Server:main-server]    at org.jgroups.stack.ProtocolStack.stopStack(ProtocolStack.java:1015)




[Server:main-server]    at org.jgroups.JChannel.stopStack(JChannel.java:1002)




[Server:main-server]    at org.jgroups.JChannel.disconnect(JChannel.java:373)




[Server:main-server]    at org.wildfly.clustering.jgroups.spi.service.ChannelConnectorBuilder.stop(ChannelConnectorBuilder.java:103)




[Server:main-server]    at org.jboss.msc.service.ServiceControllerImpl$StopTask.stopService(ServiceControllerImpl.java:2056)




[Server:main-server]    at org.jboss.msc.service.ServiceControllerImpl$StopTask.run(ServiceControllerImpl.java:2017)




[Server:main-server]    at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)




[Server:main-server]    at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)




[Server:main-server]    at java.lang.Thread.run(Thread.java:745)




[Server:main-server] Caused by: javax.resource.ResourceException: IJ000470: You are trying to use a connection factory that has been shut down: java:/comp/env/jdbc/jgroups




[Server:main-server]    at org.jboss.jca.core.connectionmanager.AbstractConnectionManager.allocateConnection(AbstractConnectionManager.java:735)




[Server:main-server]    at org.jboss.jca.adapters.jdbc.WrapperDataSource.getConnection(WrapperDataSource.java:138)




[Server:main-server]    ... 14 more






The solution is to configure the database connection directly, but then it seems that you loose the ability to use features like database connection validation, reconnection and the other settings provided by a WildFly datasource the improve the reliability of a database connection.</description>
			<version>10.0.0.Final</version>
			<fixedVersion>11.0.0.Alpha1</fixedVersion>
			<type>Bug</type>
		</buginformation>
		<fixedFiles>
			<file type="M">org.jboss.as.clustering.jgroups.subsystem.JGroupsSchema.java</file>
			<file type="M">org.jboss.as.clustering.jgroups.subsystem.JGroupsSubsystemXMLReader.java</file>
			<file type="M">org.wildfly.clustering.jgroups.spi.ProtocolConfiguration.java</file>
			<file type="M">org.jboss.as.clustering.jgroups.subsystem.AbstractProtocolConfigurationBuilder.java</file>
			<file type="M">org.jboss.as.clustering.jgroups.JChannelFactory.java</file>
			<file type="M">org.jboss.as.clustering.jgroups.subsystem.XMLAttribute.java</file>
			<file type="M">org.jboss.as.clustering.jgroups.subsystem.ProtocolResourceDefinition.java</file>
			<file type="M">org.jboss.as.clustering.jgroups.subsystem.SubsystemParsingTestCase.java</file>
			<file type="M">org.jboss.as.connector.subsystems.datasources.WildFlyDataSource.java</file>
		</fixedFiles>
		<links>
			<link type="Cloners" description="cloned to">4911</link>
		</links>
	</bug>
	<bug id="7529" opendate="2016-11-08 22:04:08" fixdate="2016-11-15 15:54:13" resolution="Done">
		<buginformation>
			<summary>Singleton subsystem remove operation must require reload</summary>
			<description>Since the add operation registers deployment unit processors, the remove operation must require a server reload.</description>
			<version>10.1.0.Final</version>
			<fixedVersion>11.0.0.Alpha1</fixedVersion>
			<type>Bug</type>
		</buginformation>
		<fixedFiles>
			<file type="M">org.jboss.as.clustering.infinispan.subsystem.InfinispanSubsystemResourceDefinition.java</file>
			<file type="M">org.jboss.as.clustering.infinispan.subsystem.InfinispanSubsystemServiceHandler.java</file>
			<file type="D">org.jboss.as.clustering.controller.BoottimeAddStepHandler.java</file>
			<file type="M">org.wildfly.extension.clustering.singleton.SingletonServiceHandler.java</file>
			<file type="M">org.wildfly.extension.clustering.singleton.SingletonResourceDefinition.java</file>
		</fixedFiles>
		<links>
			<link type="Cloners" description="cloned to">7055</link>
		</links>
	</bug>
	<bug id="7528" opendate="2016-11-08 22:03:38" fixdate="2016-11-15 15:54:19" resolution="Done">
		<buginformation>
			<summary>Infinispan subsystem remove operation must require reload</summary>
			<description>Since the add operation registers deployment unit processors, the remove operation must require a server reload.</description>
			<version>10.1.0.Final</version>
			<fixedVersion>11.0.0.Alpha1</fixedVersion>
			<type>Bug</type>
		</buginformation>
		<fixedFiles>
			<file type="M">org.jboss.as.clustering.infinispan.subsystem.InfinispanSubsystemResourceDefinition.java</file>
			<file type="M">org.jboss.as.clustering.infinispan.subsystem.InfinispanSubsystemServiceHandler.java</file>
			<file type="D">org.jboss.as.clustering.controller.BoottimeAddStepHandler.java</file>
			<file type="M">org.wildfly.extension.clustering.singleton.SingletonServiceHandler.java</file>
			<file type="M">org.wildfly.extension.clustering.singleton.SingletonResourceDefinition.java</file>
		</fixedFiles>
		<links>
			<link type="Cloners" description="cloned to">7054</link>
		</links>
	</bug>
	<bug id="7536" opendate="2016-11-09 10:24:36" fixdate="2016-11-15 15:56:27" resolution="Done">
		<buginformation>
			<summary>RemotingLoginModuleUseNewClientCertTestCase fails on IBM jdk</summary>
			<description>testAuthorizedClient and testNotAuthorizedClient tests from RemotingLoginModuleUseNewClientCertTestCase fails on IBM jdk with javax.net.ssl.SSLException: Received fatal alert: handshake_failure)
reproduce






$ ./integration-tests.sh -Dts.noSmoke -Dts.basic -Dtest=RemotingLoginModuleUseNewClientCertTestCase












testNotAuthorizedClient(org.jboss.as.test.integration.security.loginmodules.RemotingLoginModuleUseNewClientCertTestCase)  Time elapsed: 0.079 sec  &amp;lt;&amp;lt;&amp;lt; ERROR!




javax.naming.CommunicationException: Failed to connect to any server. Servers tried: [remote://127.0.0.1:14447 (javax.net.ssl.SSLException: Received fatal alert: handshake_failure)]




	at org.jboss.naming.remote.client.HaRemoteNamingStore.failOverSequence(HaRemoteNamingStore.java:244)




	at org.jboss.naming.remote.client.HaRemoteNamingStore.namingStore(HaRemoteNamingStore.java:149)




	at org.jboss.naming.remote.client.HaRemoteNamingStore.namingOperation(HaRemoteNamingStore.java:130)




	at org.jboss.naming.remote.client.HaRemoteNamingStore.lookup(HaRemoteNamingStore.java:272)




	at org.jboss.naming.remote.client.RemoteContext.lookupInternal(RemoteContext.java:104)




	at org.jboss.naming.remote.client.RemoteContext.lookup(RemoteContext.java:93)




	at org.jboss.naming.remote.client.RemoteContext.lookup(RemoteContext.java:146)




	at javax.naming.InitialContext.lookup(InitialContext.java:428)




	at org.jboss.as.test.integration.security.loginmodules.RemotingLoginModuleUseNewClientCertTestCase.testNotAuthorizedClient(RemotingLoginModuleUseNewClientCertTestCase.java:180)









testAuthorizedClient(org.jboss.as.test.integration.security.loginmodules.RemotingLoginModuleUseNewClientCertTestCase)  Time elapsed: 0.046 sec  &amp;lt;&amp;lt;&amp;lt; ERROR!




javax.naming.CommunicationException: Failed to connect to any server. Servers tried: [remote://127.0.0.1:14447 (javax.net.ssl.SSLException: Received fatal alert: handshake_failure)]




	at org.jboss.naming.remote.client.HaRemoteNamingStore.failOverSequence(HaRemoteNamingStore.java:244)




	at org.jboss.naming.remote.client.HaRemoteNamingStore.namingStore(HaRemoteNamingStore.java:149)




	at org.jboss.naming.remote.client.HaRemoteNamingStore.namingOperation(HaRemoteNamingStore.java:130)




	at org.jboss.naming.remote.client.HaRemoteNamingStore.lookup(HaRemoteNamingStore.java:272)




	at org.jboss.naming.remote.client.RemoteContext.lookupInternal(RemoteContext.java:104)




	at org.jboss.naming.remote.client.RemoteContext.lookup(RemoteContext.java:93)




	at org.jboss.naming.remote.client.RemoteContext.lookup(RemoteContext.java:146)




	at javax.naming.InitialContext.lookup(InitialContext.java:428)




	at org.jboss.as.test.integration.security.loginmodules.RemotingLoginModuleUseNewClientCertTestCase.testAuthorizedClient(RemotingLoginModuleUseNewClientCertTestCase.java:166)










</description>
			<version>11.0.0.Alpha1</version>
			<fixedVersion>11.0.0.Alpha1</fixedVersion>
			<type>Bug</type>
		</buginformation>
		<fixedFiles>
			<file type="M">org.jboss.as.test.integration.security.loginmodules.RemotingLoginModuleUseNewClientCertTestCase.java</file>
		</fixedFiles>
		<links>
			<link type="Cloners" description="cloned from">6302</link>
		</links>
	</bug>
	<bug id="7570" opendate="2016-11-14 11:38:23" fixdate="2016-11-15 19:15:50" resolution="Done">
		<buginformation>
			<summary>JBeret WildFly extension cannot handle runtime-name</summary>
			<description>A NullPointerException is thrown, when using a runtime-name for a batch job.
 Exception






    ERROR [org.jboss.as.controller.management-operation] (management-handler-thread - 13) WFLYCTL0013: Operation ("read-attribute") failed - address: ([  




        ("deployment" =&amp;gt; "batch-chunk-csv-database.war"),  




        ("subsystem" =&amp;gt; "batch-jberet"),  




        ("job" =&amp;gt; "myJob")  




    ]): java.lang.NullPointerException  




        at org.wildfly.extension.batch.jberet.deployment.JobOperationStepHandler.execute(JobOperationStepHandler.java:68)  




        at org.jboss.as.controller.operations.global.ReadAttributeHandler.doExecuteInternal(ReadAttributeHandler.java:174)  




        at org.jboss.as.controller.operations.global.ReadAttributeHandler.doExecute(ReadAttributeHandler.java:137)  




        at org.jboss.as.controller.operations.global.GlobalOperationHandlers$AbstractMultiTargetHandler.execute(GlobalOperationHandlers.java:230)  




        at org.jboss.as.controller.operations.global.GlobalOperationHandlers$AvailableResponseWrapper.execute(GlobalOperationHandlers.java:988)  




        at org.jboss.as.controller.AbstractOperationContext.executeStep(AbstractOperationContext.java:921)  




        at org.jboss.as.controller.AbstractOperationContext.processStages(AbstractOperationContext.java:664)  




        at org.jboss.as.controller.AbstractOperationContext.executeOperation(AbstractOperationContext.java:383)  




        at org.jboss.as.controller.OperationContextImpl.executeOperation(OperationContextImpl.java:1364)  




        at org.jboss.as.controller.ModelControllerImpl.internalExecute(ModelControllerImpl.java:416)  




        at org.jboss.as.controller.ModelControllerImpl.lambda$execute$1(ModelControllerImpl.java:237)  




        at org.wildfly.security.auth.client.PeerIdentity.runAsAll(PeerIdentity.java:431)  




        at org.wildfly.security.auth.server.SecurityIdentity.runAs(SecurityIdentity.java:206)  




        at org.jboss.as.controller.ModelControllerImpl.execute(ModelControllerImpl.java:237)  




        at org.jboss.as.controller.remote.ModelControllerClientOperationHandler$ExecuteRequestHandler.doExecute(ModelControllerClientOperationHandler.java:217)  




        at org.jboss.as.controller.remote.ModelControllerClientOperationHandler$ExecuteRequestHandler.access$400(ModelControllerClientOperationHandler.java:137)  




        at org.jboss.as.controller.remote.ModelControllerClientOperationHandler$ExecuteRequestHandler$1$1.run(ModelControllerClientOperationHandler.java:161)  




        at org.jboss.as.controller.remote.ModelControllerClientOperationHandler$ExecuteRequestHandler$1$1.run(ModelControllerClientOperationHandler.java:157)  




        at org.wildfly.security.auth.client.PeerIdentity.runAsAll(PeerIdentity.java:464)  




        at org.wildfly.security.auth.server.SecurityIdentity.runAs(SecurityIdentity.java:225)  




        at org.jboss.as.controller.AccessAuditContext.doAs(AccessAuditContext.java:185)  




        at org.jboss.as.controller.remote.ModelControllerClientOperationHandler$ExecuteRequestHandler$1.execute(ModelControllerClientOperationHandler.java:157)  




        at org.jboss.as.protocol.mgmt.ManagementRequestContextImpl$1.doExecute(ManagementRequestContextImpl.java:70)  




        at org.jboss.as.protocol.mgmt.ManagementRequestContextImpl$AsyncTaskRunner.run(ManagementRequestContextImpl.java:160)  




        at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)  




        at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)  




        at java.lang.Thread.run(Thread.java:745)  




        at org.jboss.threads.JBossThread.run(JBossThread.java:320)  





</description>
			<version>11.0.0.Alpha1</version>
			<fixedVersion>11.0.0.Alpha1</fixedVersion>
			<type>Bug</type>
		</buginformation>
		<fixedFiles>
			<file type="M">org.wildfly.extension.batch.jberet.deployment.JobOperationStepHandler.java</file>
			<file type="M">org.wildfly.extension.batch.jberet.BatchServiceNames.java</file>
		</fixedFiles>
		<links>
			<link type="Cloners" description="cloned to">7264</link>
		</links>
	</bug>
	<bug id="6200" opendate="2016-02-12 14:53:26" fixdate="2016-11-17 16:41:56" resolution="Done">
		<buginformation>
			<summary>connection-url is required even when not used</summary>
			<description>Per the comments on WFLY-6157 and WFLY-6198, connection-url is ignored in a datasource if datasource-class is defined. However, connection-url is currently mandatory. If it is not present, WildFly fails to start:






09:51:18,216 ERROR [org.jboss.as.controller.management-operation] (ServerService Thread Pool -- 8) WFLYCTL0013: Operation ("add") failed - address: ([




    ("subsystem" =&amp;gt; "datasources"),




    ("data-source" =&amp;gt; "GamingPortalDS")




]) - failure description: "WFLYCTL0155: connection-url may not be null"





</description>
			<version>10.0.0.Final</version>
			<fixedVersion>11.0.0.Alpha1</fixedVersion>
			<type>Bug</type>
		</buginformation>
		<fixedFiles>
			<file type="M">org.jboss.as.connector.subsystems.datasources.DataSourcesSubsystemRootDefinition.java</file>
			<file type="M">org.jboss.as.test.integration.jca.datasource.DatasourceEnableAttributeTestCase.java</file>
			<file type="M">org.jboss.as.connector.subsystems.datasources.Constants.java</file>
			<file type="M">org.jboss.as.connector.subsystems.datasources.DataSourceDefinition.java</file>
			<file type="M">org.jboss.as.test.integration.jca.datasource.Datasource.java</file>
			<file type="M">org.jboss.as.connector.subsystems.datasources.DataSourcesExtension.java</file>
			<file type="M">org.jboss.as.connector.subsystems.datasources.DatasourcesSubsystemTestCase.java</file>
		</fixedFiles>
		<links>
			<link type="Cloners" description="cloned to">5770</link>
			<link type="Dependency" description="blocks">6133</link>
			<link type="Related" description="relates to">7018</link>
			<link type="Related" description="relates to">1312</link>
			<link type="Related" description="is related to">6157</link>
			<link type="Related" description="is related to">6198</link>
		</links>
	</bug>
	<bug id="6906" opendate="2016-08-02 13:04:57" fixdate="2016-11-17 16:43:39" resolution="Done">
		<buginformation>
			<summary>Silence "ISPN000152: Passivation configured without an eviction policy being selected. Only manually evicted entities will be passivated."</summary>
			<description>Integrate MANUAL eviction strategy introduced in ISPN-6911.</description>
			<version>10.0.0.Final</version>
			<fixedVersion>11.0.0.Alpha1</fixedVersion>
			<type>Bug</type>
		</buginformation>
		<fixedFiles>
			<file type="M">org.jboss.as.clustering.infinispan.subsystem.EvictionResourceDefinition.java</file>
			<file type="M">org.jboss.as.clustering.controller.validation.EnumValidatorBuilder.java</file>
			<file type="M">org.jboss.as.clustering.infinispan.subsystem.EvictionBuilder.java</file>
		</fixedFiles>
		<links>
			<link type="Cloners" description="cloned to">6684</link>
			<link type="Dependency" description="is blocked by">6911</link>
			<link type="Dependency" description="is blocked by">7555</link>
		</links>
	</bug>
	<bug id="7603" opendate="2016-11-15 16:48:08" fixdate="2016-11-18 12:08:15" resolution="Done">
		<buginformation>
			<summary>Singleton extension uses deprecated transformer API</summary>
			<description></description>
			<version>10.1.0.Final</version>
			<fixedVersion>11.0.0.Alpha1</fixedVersion>
			<type>Bug</type>
		</buginformation>
		<fixedFiles>
			<file type="M">org.wildfly.extension.clustering.singleton.SingletonExtension.java</file>
		</fixedFiles>
		<links>
			<link type="Cloners" description="cloned from">7602</link>
			<link type="Cloners" description="cloned to">7326</link>
		</links>
	</bug>
	<bug id="7602" opendate="2016-11-15 16:47:57" fixdate="2016-11-18 12:08:22" resolution="Done">
		<buginformation>
			<summary>Infinispan extension uses deprecated transformer API</summary>
			<description></description>
			<version>10.1.0.Final</version>
			<fixedVersion>11.0.0.Alpha1</fixedVersion>
			<type>Bug</type>
		</buginformation>
		<fixedFiles>
			<file type="M">org.jboss.as.clustering.infinispan.subsystem.InfinispanExtension.java</file>
		</fixedFiles>
		<links>
			<link type="Cloners" description="cloned from">7601</link>
			<link type="Cloners" description="cloned to">7603</link>
			<link type="Cloners" description="cloned to">7325</link>
		</links>
	</bug>
	<bug id="7601" opendate="2016-11-15 16:47:45" fixdate="2016-11-18 12:08:29" resolution="Done">
		<buginformation>
			<summary>JGroups extension uses deprecated transformer API</summary>
			<description></description>
			<version>10.1.0.Final</version>
			<fixedVersion>11.0.0.Alpha1</fixedVersion>
			<type>Bug</type>
		</buginformation>
		<fixedFiles>
			<file type="M">org.jboss.as.clustering.jgroups.subsystem.JGroupsExtension.java</file>
		</fixedFiles>
		<links>
			<link type="Cloners" description="cloned to">7602</link>
			<link type="Cloners" description="cloned to">7324</link>
		</links>
	</bug>
	<bug id="6776" opendate="2016-06-27 06:00:57" fixdate="2016-11-18 12:09:50" resolution="Done">
		<buginformation>
			<summary>Unclear error message when creating multiple thread pools of the same type for a workmanager</summary>
			<description>When there is already a long-running thread pool for a work manager and you try to create another one:
/subsystem=jca/workmanager=default/long-running-threads=custom:add(max-threads=30, queue-length=30)
you only get an opaque error message:
"failure-description" =&amp;gt; "WFLYCTL0086: Failed to persist configuration change: WFLYCTL0084: Failed to marshal configuration", with a, also useless, java.lang.IllegalArgumentException in the server log.
It should be more obvious that the error is that you cannot create two long-running thread pools</description>
			<version>10.0.0.Final</version>
			<fixedVersion>11.0.0.Alpha1</fixedVersion>
			<type>Bug</type>
		</buginformation>
		<fixedFiles>
			<file type="M">org.jboss.as.connector.subsystems.jca.JcaWorkManagerDefinition.java</file>
			<file type="M">org.jboss.as.connector.logging.ConnectorLogger.java</file>
			<file type="M">org.jboss.as.connector.subsystems.jca.JcaDistributedWorkManagerDefinition.java</file>
		</fixedFiles>
		<links>
			<link type="Cloners" description="cloned from">4990</link>
			<link type="Dependency" description="is blocked by">1623</link>
		</links>
	</bug>
	<bug id="7405" opendate="2016-10-28 13:14:42" fixdate="2016-11-18 17:20:38" resolution="Done">
		<buginformation>
			<summary>Message counters doesn&amp;apos;t work correctly without server reload after enabling statistics</summary>
			<description>Server is started with queue deployed. Attribute statistics-enabled is then set to true in messaging server. This operation doesn&amp;amp;apos;t require reload. Start sending messages and look at outputs of operation list-message-counter-as-json or list-message-counter-as-html at queue you are using to send messages. (message-counter-sample-period is set to 10s by default, so give it some time).






list-message-counter-as-json output






[standalone@localhost:9990 jms-queue=q] :list-message-counter-as-json




{




    "outcome" =&amp;gt; "success",




    "result" =&amp;gt; "{\"destinationName\":\"q\",\"destinationSubscription\":null,\"destinationDurable\":true,\"count\":0,\"countDelta\":0,\"messageCount\":47064,\"messageCountDelta\":809,\"lastAddTimestamp\":\"1/1/70 1:00:00 AM\",\"updateTimestamp\":\"1/1/70 1:00:00 AM\"}"




}






Only attributes messageCount, messageCountDelta contain updated values . Other attributes are either null, 0 or default timestamp.
Output of list-message-counter-history-as-json is also not correctly updated






list-message-counter-history-as-json output






[standalone@localhost:9990 jms-queue=q] :list-message-counter-history-as-json




{




    "outcome" =&amp;gt; "success",




    "result" =&amp;gt; "{\"dayCounters\":[{\"date\":\"10/27/16\",\"counters\":[-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,0,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1]}]}"




}






After server reload, output of operations updates and starts working as expected.






Output after reload






[standalone@localhost:9990 jms-queue=q] :list-message-counter-history-as-json




{




    "outcome" =&amp;gt; "success",




    "result" =&amp;gt; "{\"dayCounters\":[{\"date\":\"10/27/16\",\"counters\":[-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,60015,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1]}]}"




}




[standalone@localhost:9990 jms-queue=q] :list-message-counter-as-json




{




    "outcome" =&amp;gt; "success",




    "result" =&amp;gt; "{\"destinationName\":\"q\",\"destinationSubscription\":null,\"destinationDurable\":true,\"count\":60015,\"countDelta\":60015,\"messageCount\":60015,\"messageCountDelta\":60015,\"lastAddTimestamp\":\"10/27/16 11:34:39 AM\",\"updateTimestamp\":\"10/27/16 11:35:29 AM\"}"




}






Values are also correctly updated when new messages are sent now.
As administrator, I would like to be able to turn on/off statistics also without server reload. Although it is possible with messaging subsystem, it is not working correctly until reload.</description>
			<version>10.1.0.Final</version>
			<fixedVersion>11.0.0.Alpha1</fixedVersion>
			<type>Bug</type>
		</buginformation>
		<fixedFiles>
			<file type="M">org.jboss.as.test.integration.messaging.mgmt.JMSQueueManagementTestCase.java</file>
			<file type="M">org.wildfly.extension.messaging.activemq.ActiveMQServerControlWriteHandler.java</file>
		</fixedFiles>
		<links>
			<link type="Cloners" description="cloned from">6666</link>
		</links>
	</bug>
	<bug id="7668" opendate="2016-11-24 12:49:47" fixdate="2016-11-24 22:08:15" resolution="Done">
		<buginformation>
			<summary>Revert singleton subsystem schema 2.0</summary>
			<description>Singleton subsystem downgrades after configuration change is performed on server:






3a4




&amp;gt; 




37a39,44




&amp;gt; 




&amp;gt;     &amp;lt;system-properties&amp;gt;




&amp;gt;         &amp;lt;property name="foo" value="bar"/&amp;gt;




&amp;gt;     &amp;lt;/system-properties&amp;gt;




&amp;gt; 




&amp;gt; 




92a100




&amp;gt; 




423c431




&amp;lt;         &amp;lt;subsystem xmlns="urn:jboss:domain:singleton:2.0"&amp;gt;




---




&amp;gt;         &amp;lt;subsystem xmlns="urn:jboss:domain:singleton:1.0"&amp;gt;




473a482




&amp;gt; 




487a497




&amp;gt; 





</description>
			<version>10.1.0.Final</version>
			<fixedVersion>11.0.0.Alpha1</fixedVersion>
			<type>Bug</type>
		</buginformation>
		<fixedFiles>
			<file type="M">org.wildfly.extension.clustering.singleton.SingletonSchema.java</file>
			<file type="M">org.wildfly.extension.clustering.singleton.SingletonSubsystemParsingTestCase.java</file>
		</fixedFiles>
		<links>
			<link type="Cloners" description="cloned from">7489</link>
		</links>
	</bug>
	<bug id="7694" opendate="2016-11-29 13:47:30" fixdate="2016-11-29 23:50:10" resolution="Done">
		<buginformation>
			<summary>Operation import/export journal should be available in domain mode only for given server in server group but not for the whole profile</summary>
			<description>Operation import/export journal in CLI should not be available for the profile:






[domain@localhost:9990 /] /profile=full-ha/subsystem=messaging-activemq/server=default:export-journal()






</description>
			<version>10.1.0.Final</version>
			<fixedVersion>11.0.0.Alpha1</fixedVersion>
			<type>Bug</type>
		</buginformation>
		<fixedFiles>
			<file type="M">org.wildfly.extension.messaging.activemq.MessagingSubsystemParser_1_0.java</file>
			<file type="M">org.wildfly.extension.messaging.activemq.MessagingSubsystemParser_1_1.java</file>
			<file type="M">org.wildfly.extension.messaging.activemq.ServerDefinition.java</file>
		</fixedFiles>
		<links>
			<link type="Cloners" description="cloned from">4915</link>
		</links>
	</bug>
	<bug id="7547" opendate="2016-11-10 06:19:48" fixdate="2016-11-30 00:00:58" resolution="Done">
		<buginformation>
			<summary>Default certificate is generated on server boot</summary>
			<description>There is change of behavior of "SSL out of box" , AFAICT . Certificate is generated on boot, not on first access as intended. 

It slow down server start.
contradicts WFLYDM0111: Keystore /wildfly-11.0.0.Alpha1-SNAPSHOT/standalone/configuration/application.keystore not found, it will be auto generated on first use with a self signed certificate for host localhost

Steps to reproduce:
1) build wildfly from master
2) unzip fresh distro
3) run ./standalone.sh 
4) certificate is generated
full server log






[mchoma@localhost bin]$ ./standalone.sh 




=========================================================================









  JBoss Bootstrap Environment









  JBOSS_HOME: /home/mchoma/workspace/eap-versions/wildfly-11.0.0.Alpha1-SNAPSHOT









  JAVA: /usr/java/latest/bin/java









  JAVA_OPTS:  -server -Xms64m -Xmx512m -XX:MetaspaceSize=96M -XX:MaxMetaspaceSize=256m -Djava.net.preferIPv4Stack=true -Djboss.modules.system.pkgs=org.jboss.byteman -Djava.awt.headless=true









=========================================================================









15:01:54,487 INFO  [org.jboss.modules] (main) JBoss Modules version 1.6.0.Beta3




15:01:54,680 INFO  [org.jboss.msc] (main) JBoss MSC version 1.2.7.Final




15:01:54,739 INFO  [org.jboss.as] (MSC service thread 1-6) WFLYSRV0049: WildFly Core 3.0.0.Alpha11 "Kenny" starting




15:01:54,857 INFO  [org.jboss.as.domain.management] (MSC service thread 1-2) WFLYDM0136: Registered OpenSSL provider




15:01:55,504 INFO  [org.jboss.as.controller.management-deprecated] (ServerService Thread Pool -- 11) WFLYCTL0028: Attribute &amp;amp;apos;security-realm&amp;amp;apos; in the resource at address &amp;amp;apos;/subsystem=undertow/server=default-server/https-listener=https&amp;amp;apos; is deprecated, and may be removed in future version. See the attribute description in the output of the read-resource-description operation to learn more about the deprecation.




15:01:55,562 INFO  [org.jboss.as.server] (Controller Boot Thread) WFLYSRV0039: Creating http management service using socket-binding (management-http)




15:01:55,575 INFO  [org.xnio] (MSC service thread 1-4) XNIO version 3.4.1.Final




15:01:55,582 INFO  [org.xnio.nio] (MSC service thread 1-4) XNIO NIO Implementation Version 3.4.1.Final




15:01:55,611 INFO  [org.jboss.as.clustering.infinispan] (ServerService Thread Pool -- 38) WFLYCLINF0001: Activating Infinispan subsystem.




15:01:55,614 INFO  [org.jboss.as.naming] (ServerService Thread Pool -- 46) WFLYNAM0001: Activating Naming Subsystem




15:01:55,619 WARN  [org.jboss.as.txn] (ServerService Thread Pool -- 54) WFLYTX0013: Node identifier property is set to the default value. Please make sure it is unique.




15:01:55,628 INFO  [org.wildfly.extension.io] (ServerService Thread Pool -- 37) WFLYIO001: Worker &amp;amp;apos;default&amp;amp;apos; has auto-configured to 16 core threads with 128 task threads based on your 8 available processors




15:01:55,629 INFO  [org.jboss.as.jsf] (ServerService Thread Pool -- 44) WFLYJSF0007: Activated the following JSF Implementations: [main]




15:01:55,632 INFO  [org.jboss.as.security] (ServerService Thread Pool -- 53) WFLYSEC0002: Activating Security Subsystem




15:01:55,641 INFO  [org.jboss.as.webservices] (ServerService Thread Pool -- 56) WFLYWS0002: Activating WebServices Extension




15:01:55,655 INFO  [org.jboss.as.security] (MSC service thread 1-2) WFLYSEC0001: Current PicketBox version=5.0.0.Alpha3




15:01:55,664 INFO  [org.jboss.as.naming] (MSC service thread 1-6) WFLYNAM0003: Starting Naming Service




15:01:55,665 INFO  [org.jboss.as.mail.extension] (MSC service thread 1-3) WFLYMAIL0001: Bound mail session [java:jboss/mail/Default]




15:01:55,668 INFO  [org.jboss.as.connector] (MSC service thread 1-3) WFLYJCA0009: Starting JCA Subsystem (WildFly/IronJacamar 1.3.4.Final)




15:01:55,672 INFO  [org.jboss.remoting] (MSC service thread 1-4) JBoss Remoting version 4.0.21.Final




15:01:55,679 INFO  [org.jboss.as.connector.subsystems.datasources] (ServerService Thread Pool -- 33) WFLYJCA0004: Deploying JDBC-compliant driver class org.h2.Driver (version 1.3)




15:01:55,688 INFO  [org.jboss.as.connector.deployers.jdbc] (MSC service thread 1-5) WFLYJCA0018: Started Driver service with driver-name = h2




15:01:55,719 INFO  [org.wildfly.extension.undertow] (MSC service thread 1-2) WFLYUT0003: Undertow 1.4.4.Final starting




15:01:55,784 INFO  [org.wildfly.extension.undertow] (ServerService Thread Pool -- 55) WFLYUT0014: Creating file handler for path &amp;amp;apos;/home/mchoma/workspace/eap-versions/wildfly-11.0.0.Alpha1-SNAPSHOT/welcome-content&amp;amp;apos; with options [directory-listing: &amp;amp;apos;false&amp;amp;apos;, follow-symlink: &amp;amp;apos;false&amp;amp;apos;, case-sensitive: &amp;amp;apos;true&amp;amp;apos;, safe-symlink-paths: &amp;amp;apos;[]&amp;amp;apos;]




15:01:55,826 INFO  [org.wildfly.extension.undertow] (MSC service thread 1-3) WFLYUT0012: Started server default-server.




15:01:55,831 INFO  [org.wildfly.extension.undertow] (MSC service thread 1-1) WFLYUT0018: Host default-host starting




15:01:55,903 INFO  [org.jboss.as.ejb3] (MSC service thread 1-1) WFLYEJB0482: Strict pool mdb-strict-max-pool is using a max instance size of 32 (per class), which is derived from the number of CPUs on this host.




15:01:55,904 INFO  [org.jboss.as.ejb3] (MSC service thread 1-7) WFLYEJB0481: Strict pool slsb-strict-max-pool is using a max instance size of 128 (per class), which is derived from thread worker pool sizing.




15:01:55,909 INFO  [org.wildfly.extension.undertow] (MSC service thread 1-3) WFLYUT0006: Undertow HTTP listener default listening on 127.0.0.1:8080




15:01:56,114 INFO  [org.jboss.as.connector.subsystems.datasources] (MSC service thread 1-8) WFLYJCA0001: Bound data source [java:jboss/datasources/ExampleDS]




15:01:56,195 INFO  [org.jboss.as.patching] (MSC service thread 1-4) WFLYPAT0050: WildFly cumulative patch ID is: base, one-off patches include: none




15:01:56,220 WARN  [org.jboss.as.domain.management.security] (MSC service thread 1-5) WFLYDM0111: Keystore /home/mchoma/workspace/eap-versions/wildfly-11.0.0.Alpha1-SNAPSHOT/standalone/configuration/application.keystore not found, it will be auto generated on first use with a self signed certificate for host localhost




15:01:56,231 INFO  [org.jboss.as.server.deployment.scanner] (MSC service thread 1-7) WFLYDS0013: Started FileSystemDeploymentService for directory /home/mchoma/workspace/eap-versions/wildfly-11.0.0.Alpha1-SNAPSHOT/standalone/deployments




15:01:56,364 INFO  [org.infinispan.factories.GlobalComponentRegistry] (MSC service thread 1-6) ISPN000128: Infinispan version: Infinispan &amp;amp;apos;Chakra&amp;amp;apos; 8.2.4.Final




15:01:56,379 INFO  [org.infinispan.configuration.cache.EvictionConfigurationBuilder] (MSC service thread 1-2) ISPN000152: Passivation configured without an eviction policy being selected. Only manually evicted entities will be passivated.




15:01:56,380 INFO  [org.infinispan.configuration.cache.EvictionConfigurationBuilder] (MSC service thread 1-2) ISPN000152: Passivation configured without an eviction policy being selected. Only manually evicted entities will be passivated.




15:01:56,380 INFO  [org.infinispan.configuration.cache.EvictionConfigurationBuilder] (MSC service thread 1-5) ISPN000152: Passivation configured without an eviction policy being selected. Only manually evicted entities will be passivated.




15:01:56,381 INFO  [org.infinispan.configuration.cache.EvictionConfigurationBuilder] (MSC service thread 1-4) ISPN000152: Passivation configured without an eviction policy being selected. Only manually evicted entities will be passivated.




15:01:56,381 INFO  [org.infinispan.configuration.cache.EvictionConfigurationBuilder] (MSC service thread 1-8) ISPN000152: Passivation configured without an eviction policy being selected. Only manually evicted entities will be passivated.




15:01:56,383 INFO  [org.infinispan.configuration.cache.EvictionConfigurationBuilder] (MSC service thread 1-4) ISPN000152: Passivation configured without an eviction policy being selected. Only manually evicted entities will be passivated.




15:01:56,384 INFO  [org.infinispan.configuration.cache.EvictionConfigurationBuilder] (MSC service thread 1-5) ISPN000152: Passivation configured without an eviction policy being selected. Only manually evicted entities will be passivated.




15:01:56,385 INFO  [org.infinispan.configuration.cache.EvictionConfigurationBuilder] (MSC service thread 1-8) ISPN000152: Passivation configured without an eviction policy being selected. Only manually evicted entities will be passivated.




15:01:56,386 INFO  [org.infinispan.configuration.cache.EvictionConfigurationBuilder] (MSC service thread 1-5) ISPN000152: Passivation configured without an eviction policy being selected. Only manually evicted entities will be passivated.




15:01:56,386 INFO  [org.infinispan.configuration.cache.EvictionConfigurationBuilder] (MSC service thread 1-2) ISPN000152: Passivation configured without an eviction policy being selected. Only manually evicted entities will be passivated.




15:01:56,386 INFO  [org.infinispan.configuration.cache.EvictionConfigurationBuilder] (MSC service thread 1-5) ISPN000152: Passivation configured without an eviction policy being selected. Only manually evicted entities will be passivated.




15:01:56,386 INFO  [org.infinispan.configuration.cache.EvictionConfigurationBuilder] (MSC service thread 1-2) ISPN000152: Passivation configured without an eviction policy being selected. Only manually evicted entities will be passivated.




15:01:56,386 INFO  [org.infinispan.configuration.cache.EvictionConfigurationBuilder] (MSC service thread 1-8) ISPN000152: Passivation configured without an eviction policy being selected. Only manually evicted entities will be passivated.




15:01:56,387 INFO  [org.infinispan.configuration.cache.EvictionConfigurationBuilder] (MSC service thread 1-8) ISPN000152: Passivation configured without an eviction policy being selected. Only manually evicted entities will be passivated.




15:01:57,161 WARN  [org.jboss.as.domain.management.security] (MSC service thread 1-3) WFLYDM0113: Generated self signed certificate at /home/mchoma/workspace/eap-versions/wildfly-11.0.0.Alpha1-SNAPSHOT/standalone/configuration/application.keystore. Please note that self signed certificates are not secure, and should only be used for testing purposes. Do not use this self signed certificate in production.




SHA-1 fingerprint of the generated key is c7:27:a2:1e:f5:86:77:47:f7:ac:01:f1:d3:54:ef:2c:a0:ed:ff:9c




SHA-256 fingerprint of the generated key is c9:69:8a:0d:3f:45:81:6f:42:be:2e:18:a8:ac:7f:d6:67:ea:60:3d:3e:53:67:f7:04:00:d0:cc:17:c4:94:3c




15:01:57,286 INFO  [org.wildfly.extension.undertow] (MSC service thread 1-3) WFLYUT0006: Undertow HTTPS listener https listening on 127.0.0.1:8443




15:01:57,339 INFO  [org.jboss.ws.common.management] (MSC service thread 1-5) JBWS022052: Starting JBossWS 5.1.5.Final (Apache CXF 3.1.8) 




15:01:57,439 INFO  [org.jboss.as] (Controller Boot Thread) WFLYSRV0060: Http management interface listening on http://127.0.0.1:9990/management




15:01:57,440 INFO  [org.jboss.as] (Controller Boot Thread) WFLYSRV0051: Admin console listening on http://127.0.0.1:9990




15:01:57,440 INFO  [org.jboss.as] (Controller Boot Thread) WFLYSRV0025: WildFly Core 3.0.0.Alpha11 "Kenny" started in 3168ms - Started 370 of 613 services (426 services are lazy, passive or on-demand)





</description>
			<version>11.0.0.Alpha1</version>
			<fixedVersion>11.0.0.Alpha1</fixedVersion>
			<type>Bug</type>
		</buginformation>
		<fixedFiles>
			<file type="M">org.wildfly.extension.undertow.HttpsListenerService.java</file>
			<file type="M">org.wildfly.extension.undertow.logging.UndertowLogger.java</file>
		</fixedFiles>
		<links>
			<link type="Cloners" description="cloned to">7095</link>
		</links>
	</bug>
	<bug id="7330" opendate="2016-10-18 08:21:50" fixdate="2016-11-30 09:54:03" resolution="Done">
		<buginformation>
			<summary>Colocated HA topology with HTTP connectors/acceptors</summary>
			<description>I try to configure colocated HA topology with HTTP connectors/acceptors but something goes wrong and I see repeated WARN message [1] on the first node and on the second I see the [2]. Maybe it is misconfiguration, but I have no idea what I do wrong. I attached XML configurations of both nodes, please review it.
[1]






12:55:47,789 WARN  [org.apache.activemq.artemis.core.client] (Thread-10 (ActiveMQ-client-global-threads-487873773)) AMQ212006: Waiting 2000 milliseconds before next retry. RetryInterval=2000 and multiplier=1






[2]






12:56:39,054 WARN  [org.apache.activemq.artemis.core.client] (Thread-10 (ActiveMQ-server-org.apache.activemq.artemis.core.server.impl.ActiveMQServerImpl$2@4766f9b3-516179796)) AMQ212006: Waiting 500 milliseconds before next retry. RetryInterval=500 and multiplier=1





</description>
			<version>10.1.0.Final</version>
			<fixedVersion>11.0.0.Alpha1</fixedVersion>
			<type>Bug</type>
		</buginformation>
		<fixedFiles>
			<file type="M">org.wildfly.extension.messaging.activemq.jms.legacy.LegacyConnectionFactoryService.java</file>
			<file type="M">org.wildfly.extension.messaging.activemq.HTTPUpgradeService.java</file>
			<file type="M">org.wildfly.extension.messaging.activemq.TransportConfigOperationHandlers.java</file>
		</fixedFiles>
		<links>
			<link type="Cloners" description="cloned from">4602</link>
		</links>
	</bug>
	<bug id="7713" opendate="2016-11-30 21:09:47" fixdate="2016-12-05 14:42:08" resolution="Done">
		<buginformation>
			<summary>Distributed web session expiration loads session twice</summary>
			<description></description>
			<version>10.1.0.Final</version>
			<fixedVersion>11.0.0.Alpha1</fixedVersion>
			<type>Bug</type>
		</buginformation>
		<fixedFiles>
			<file type="M">org.wildfly.clustering.web.infinispan.session.ExpiredSessionRemover.java</file>
			<file type="M">org.wildfly.clustering.web.infinispan.session.InfinispanSessionFactory.java</file>
			<file type="M">org.wildfly.clustering.web.infinispan.session.SessionFactory.java</file>
			<file type="M">org.wildfly.clustering.web.infinispan.session.ExpiredSessionRemoverTestCase.java</file>
		</fixedFiles>
		<links>
			<link type="Cloners" description="cloned to">7582</link>
		</links>
	</bug>
	<bug id="7695" opendate="2016-11-29 14:02:07" fixdate="2016-12-06 14:25:40" resolution="Done">
		<buginformation>
			<summary>Unexpected error while replicating: NPE</summary>
			<description>Occured on server during scenario eap-7x-failover-ejb-ejbservlet-shutdown-dist-async.
Server log stacktrace:






11:07:31,390 WARN  [org.infinispan.transaction.impl.TransactionTable] (ServerService Thread Pool -- 87) ISPN000100: Stopping, but there are 1 local transactions and 4 remote transactions that did not finish in time.




[JBossINF] [11:07:31,391 INFO  [org.jboss.as.clustering.infinispan] (ServerService Thread Pool -- 87) WFLYCLINF0003: Stopped clusterbench-ee7.ear.clusterbench-ee7-web-default.war cache from web container




[JBossINF] [11:07:31,393 INFO  [org.infinispan.remoting.transport.jgroups.JGroupsTransport] (MSC service thread 1-7) ISPN000080: Disconnecting JGroups channel web




[JBossINF] [11:07:31,393 INFO  [org.infinispan.remoting.transport.jgroups.JGroupsTransport] (MSC service thread 1-7) ISPN000082: Stopping the RpcDispatcher for channel web




[JBossINF] [11:07:31,394 ERROR [org.infinispan.remoting.rpc.RpcManagerImpl] (default task-65) ISPN000073: Unexpected error while replicating: java.lang.NullPointerException




[JBossINF] 	at org.infinispan.remoting.transport.jgroups.JGroupsTransport.invokeRemotelyAsync(JGroupsTransport.java:611)




[JBossINF] 	at org.infinispan.remoting.rpc.RpcManagerImpl.invokeRemotelyAsync(RpcManagerImpl.java:144)




[JBossINF] 	at org.infinispan.remoting.rpc.RpcManagerImpl.invokeRemotely(RpcManagerImpl.java:185)




[JBossINF] 	at org.infinispan.interceptors.locking.PessimisticLockingInterceptor.releaseLocksOnFailureBeforePrepare(PessimisticLockingInterceptor.java:268)




[JBossINF] 	at org.infinispan.interceptors.locking.PessimisticLockingInterceptor.visitDataReadCommand(PessimisticLockingInterceptor.java:79)




[JBossINF] 	at org.infinispan.interceptors.locking.AbstractLockingInterceptor.visitGetKeyValueCommand(AbstractLockingInterceptor.java:80)




[JBossINF] 	at org.infinispan.commands.read.GetKeyValueCommand.acceptVisitor(GetKeyValueCommand.java:43)




[JBossINF] 	at org.infinispan.interceptors.base.CommandInterceptor.invokeNextInterceptor(CommandInterceptor.java:99)




[JBossINF] 	at org.infinispan.interceptors.TxInterceptor.enlistReadAndInvokeNext(TxInterceptor.java:346)




[JBossINF] 	at org.infinispan.interceptors.TxInterceptor.visitGetKeyValueCommand(TxInterceptor.java:331)




[JBossINF] 	at org.infinispan.commands.read.GetKeyValueCommand.acceptVisitor(GetKeyValueCommand.java:43)




[JBossINF] 	at org.infinispan.interceptors.base.CommandInterceptor.invokeNextInterceptor(CommandInterceptor.java:99)




[JBossINF] 	at org.infinispan.interceptors.base.CommandInterceptor.handleDefault(CommandInterceptor.java:113)




[JBossINF] 	at org.infinispan.commands.AbstractVisitor.visitGetKeyValueCommand(AbstractVisitor.java:85)




[JBossINF] 	at org.infinispan.commands.read.GetKeyValueCommand.acceptVisitor(GetKeyValueCommand.java:43)




[JBossINF] 	at org.infinispan.interceptors.base.CommandInterceptor.invokeNextInterceptor(CommandInterceptor.java:99)




[JBossINF] 	at org.infinispan.statetransfer.StateTransferInterceptor.visitReadCommand(StateTransferInterceptor.java:177)




[JBossINF] 	at org.infinispan.statetransfer.StateTransferInterceptor.visitGetKeyValueCommand(StateTransferInterceptor.java:154)




[JBossINF] 	at org.infinispan.commands.read.GetKeyValueCommand.acceptVisitor(GetKeyValueCommand.java:43)




[JBossINF] 	at org.infinispan.interceptors.base.CommandInterceptor.invokeNextInterceptor(CommandInterceptor.java:99)




[JBossINF] 	at org.infinispan.interceptors.InvocationContextInterceptor.handleAll(InvocationContextInterceptor.java:114)




[JBossINF] 	at org.infinispan.interceptors.InvocationContextInterceptor.handleDefault(InvocationContextInterceptor.java:83)




[JBossINF] 	at org.infinispan.commands.AbstractVisitor.visitGetKeyValueCommand(AbstractVisitor.java:85)




[JBossINF] 	at org.infinispan.commands.read.GetKeyValueCommand.acceptVisitor(GetKeyValueCommand.java:43)




[JBossINF] 	at org.infinispan.interceptors.base.CommandInterceptor.invokeNextInterceptor(CommandInterceptor.java:99)




[JBossINF] 	at org.infinispan.interceptors.base.CommandInterceptor.handleDefault(CommandInterceptor.java:113)




[JBossINF] 	at org.infinispan.commands.AbstractVisitor.visitGetKeyValueCommand(AbstractVisitor.java:85)




[JBossINF] 	at org.infinispan.commands.read.GetKeyValueCommand.acceptVisitor(GetKeyValueCommand.java:43)




[JBossINF] 	at org.infinispan.interceptors.InterceptorChain.invoke(InterceptorChain.java:335)




[JBossINF] 	at org.infinispan.cache.impl.CacheImpl.get(CacheImpl.java:411)




[JBossINF] 	at org.infinispan.cache.impl.DecoratedCache.get(DecoratedCache.java:443)




[JBossINF] 	at org.infinispan.cache.impl.AbstractDelegatingCache.get(AbstractDelegatingCache.java:286)




[JBossINF] 	at org.wildfly.clustering.web.infinispan.session.InfinispanSessionMetaDataFactory.getValue(InfinispanSessionMetaDataFactory.java:74)




[JBossINF] 	at org.wildfly.clustering.web.infinispan.session.InfinispanSessionMetaDataFactory.findValue(InfinispanSessionMetaDataFactory.java:64)




[JBossINF] 	at org.wildfly.clustering.web.infinispan.session.InfinispanSessionMetaDataFactory.findValue(InfinispanSessionMetaDataFactory.java:36)




[JBossINF] 	at org.wildfly.clustering.web.infinispan.session.InfinispanSessionFactory.findValue(InfinispanSessionFactory.java:60)




[JBossINF] 	at org.wildfly.clustering.web.infinispan.session.InfinispanSessionFactory.findValue(InfinispanSessionFactory.java:38)




[JBossINF] 	at org.wildfly.clustering.web.infinispan.session.InfinispanSessionManager.findSession(InfinispanSessionManager.java:228)




[JBossINF] 	at org.wildfly.clustering.web.undertow.session.DistributableSessionManager.getSession(DistributableSessionManager.java:142)




[JBossINF] 	at io.undertow.servlet.spec.ServletContextImpl.getSession(ServletContextImpl.java:772)




[JBossINF] 	at io.undertow.servlet.spec.ServletContextImpl.getSession(ServletContextImpl.java:802)




[JBossINF] 	at io.undertow.servlet.spec.ServletContextImpl.updateSessionAccessTime(ServletContextImpl.java:806)




[JBossINF] 	at io.undertow.servlet.spec.HttpServletResponseImpl.responseDone(HttpServletResponseImpl.java:572)




[JBossINF] 	at io.undertow.servlet.spec.HttpServletResponseImpl.doErrorDispatch(HttpServletResponseImpl.java:171)




[JBossINF] 	at io.undertow.servlet.handlers.ServletInitialHandler.handleFirstRequest(ServletInitialHandler.java:327)




[JBossINF] 	at io.undertow.servlet.handlers.ServletInitialHandler.access$100(ServletInitialHandler.java:81)




[JBossINF] 	at io.undertow.servlet.handlers.ServletInitialHandler$2.call(ServletInitialHandler.java:138)




[JBossINF] 	at io.undertow.servlet.handlers.ServletInitialHandler$2.call(ServletInitialHandler.java:135)




[JBossINF] 	at io.undertow.servlet.core.ServletRequestContextThreadSetupAction$1.call(ServletRequestContextThreadSetupAction.java:48)




[JBossINF] 	at io.undertow.servlet.core.ContextClassLoaderSetupAction$1.call(ContextClassLoaderSetupAction.java:43)




[JBossINF] 	at org.wildfly.extension.undertow.security.SecurityContextThreadSetupAction.lambda$create$0(SecurityContextThreadSetupAction.java:105)




[JBossINF] 	at org.wildfly.extension.undertow.deployment.UndertowDeploymentInfoService$UndertowThreadSetupAction.lambda$create$0(UndertowDeploymentInfoService.java:1671)




[JBossINF] 	at org.wildfly.extension.undertow.deployment.UndertowDeploymentInfoService$UndertowThreadSetupAction.lambda$create$0(UndertowDeploymentInfoService.java:1671)




[JBossINF] 	at org.wildfly.extension.undertow.deployment.UndertowDeploymentInfoService$UndertowThreadSetupAction.lambda$create$0(UndertowDeploymentInfoService.java:1671)




[JBossINF] 	at org.wildfly.extension.undertow.deployment.UndertowDeploymentInfoService$UndertowThreadSetupAction.lambda$create$0(UndertowDeploymentInfoService.java:1671)




[JBossINF] 	at io.undertow.servlet.handlers.ServletInitialHandler.dispatchRequest(ServletInitialHandler.java:272)




[JBossINF] 	at io.undertow.servlet.handlers.ServletInitialHandler.access$000(ServletInitialHandler.java:81)




[JBossINF] 	at io.undertow.servlet.handlers.ServletInitialHandler$1.handleRequest(ServletInitialHandler.java:104)




[JBossINF] 	at io.undertow.server.Connectors.executeRootHandler(Connectors.java:207)




[JBossINF] 	at io.undertow.server.HttpServerExchange$1.run(HttpServerExchange.java:810)




[JBossINF] 	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)




[JBossINF] 	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)




[JBossINF] 	at java.lang.Thread.run(Thread.java:745)




[JBossINF] 




[JBossINF] [11:07:31,394 ERROR [org.infinispan.remoting.rpc.RpcManagerImpl] (default task-65) ISPN000073: Unexpected error while replicating: java.lang.NullPointerException




[JBossINF] 	at org.infinispan.remoting.transport.jgroups.JGroupsTransport.invokeRemotelyAsync(JGroupsTransport.java:611) ...






There were two occurences of this ERROR in a direct sequence when the server was shutting down.
This ERROR occured afterwards on the server:






07:31,397 ERROR [org.infinispan.transaction.impl.TransactionCoordinator] (default task-65) ISPN000097: Error while processing a prepare in a single-phase transaction: org.infinispan.IllegalLifecycleStateException: ISPN000323: Cache &amp;amp;apos;routing&amp;amp;apos; is in &amp;amp;apos;TERMINATED&amp;amp;apos; state and so it does not accept new invocations. Either restart it or recreate the cache container.




[JBossINF] 	at org.infinispan.interceptors.InvocationContextInterceptor.handleAll(InvocationContextInterceptor.java:101) ...






JvmRoute changed occured on client at the same time:






2016/10/05 11:07:31:452 EDT [INFO ][Runner - 874] HOST dev220.mw.lab.eng.bos.redhat.com:rootProcess:c - Failover detected, JvmRoute changed. dev213 -&amp;gt; dev212






Link to server log:
http://jenkins.mw.lab.eng.bos.redhat.com/hudson/job/eap-7x-failover-ejb-ejbservlet-shutdown-dist-async/30/console-dev213/</description>
			<version>10.1.0.Final</version>
			<fixedVersion>11.0.0.Alpha1</fixedVersion>
			<type>Bug</type>
		</buginformation>
		<fixedFiles>
			<file type="M">org.wildfly.clustering.web.undertow.session.DistributableSessionTestCase.java</file>
			<file type="M">org.wildfly.clustering.web.undertow.session.DistributableSessionManagerTestCase.java</file>
			<file type="M">org.wildfly.clustering.web.undertow.session.DistributableSessionManager.java</file>
			<file type="M">org.wildfly.clustering.web.undertow.logging.UndertowClusteringLogger.java</file>
			<file type="M">org.jboss.as.test.clustering.cluster.web.DistributableTestCase.java</file>
			<file type="M">org.wildfly.clustering.web.undertow.session.DistributableSession.java</file>
		</fixedFiles>
		<links>
			<link type="Cloners" description="cloned from">6320</link>
		</links>
	</bug>
	<bug id="7733" opendate="2016-12-05 21:54:48" fixdate="2016-12-07 16:45:54" resolution="Done">
		<buginformation>
			<summary>JDBC-based cache stores require a DataSource attribute for runtime</summary>
			<description>Currently, there are 2 attributes for defining the DataSource of a JDBC-based cache store:
1. "data-store", which references a named DataSource capability
2. "datasource", the legacy attribute which specifies the jndi name of a DataSource
Both attributes are currently nullable.  Consequently, the model does not require either to be specified, which would cause the runtime to fail.
The data-source attribute should be required, with "datasource" set as an alternative.
No transformer is necessary since "datasource" was a required attribute in older versions of the model.</description>
			<version>10.1.0.Final</version>
			<fixedVersion>11.0.0.Alpha1</fixedVersion>
			<type>Bug</type>
		</buginformation>
		<fixedFiles>
			<file type="M">org.jboss.as.clustering.infinispan.subsystem.JDBCStoreResourceDefinition.java</file>
		</fixedFiles>
		<links>
			<link type="Cloners" description="cloned to">7634</link>
		</links>
	</bug>
	<bug id="2387" opendate="2013-10-25 14:29:10" fixdate="2016-12-07 17:07:29" resolution="Done">
		<buginformation>
			<summary>CDI injection in entity listeners failing</summary>
			<description>When trying to use CDI injection in JPA entity listeners, deployment fails with the following exception:






16:16:37,448 ERROR [org.jboss.msc.service.fail] (ServerService Thread Pool -- 15) MSC000001: Failed to start service jboss.persistenceunit."inject-ear.ear#primary": org.jboss.msc.service.StartException in service jboss.persistenceunit."inject-ear.ear#primary": java.lang.IllegalStateException: JBAS016071: Singleton not set for org.hibernate.boot.registry.classloading.internal.ClassLoaderServiceImpl$AggregatedClassLoader@4eeb95dc. This means that you are trying to access a weld deployment with a Thread Context ClassLoader that is not associated with the deployment.




	at org.jboss.as.jpa.service.PersistenceUnitServiceImpl$1$1.run(PersistenceUnitServiceImpl.java:169)




	at org.jboss.as.jpa.service.PersistenceUnitServiceImpl$1$1.run(PersistenceUnitServiceImpl.java:117)




	at java.security.AccessController.doPrivileged(Native Method) [rt.jar:1.7.0_25]




	at org.wildfly.security.manager.WildFlySecurityManager.doChecked(WildFlySecurityManager.java:463) [wildfly-security-manager-1.0.0.Beta3.jar:1.0.0.Beta3]




	at org.jboss.as.jpa.service.PersistenceUnitServiceImpl$1.run(PersistenceUnitServiceImpl.java:178)




	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1145) [rt.jar:1.7.0_25]




	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:615) [rt.jar:1.7.0_25]




	at java.lang.Thread.run(Thread.java:724) [rt.jar:1.7.0_25]




	at org.jboss.threads.JBossThread.run(JBossThread.java:122) [jboss-threads-2.1.1.Final.jar:2.1.1.Final]




Caused by: java.lang.IllegalStateException: JBAS016071: Singleton not set for org.hibernate.boot.registry.classloading.internal.ClassLoaderServiceImpl$AggregatedClassLoader@4eeb95dc. This means that you are trying to access a weld deployment with a Thread Context ClassLoader that is not associated with the deployment.




	at org.jboss.as.weld.services.ModuleGroupSingletonProvider$TCCLSingleton.get(ModuleGroupSingletonProvider.java:75)




	at org.jboss.as.weld.services.ModuleGroupSingletonProvider$TCCLSingleton.get(ModuleGroupSingletonProvider.java:128)




	at org.jboss.weld.Container.instance(Container.java:65)




	at org.jboss.weld.manager.BeanManagerImpl.getBeans(BeanManagerImpl.java:563)




	at org.jboss.weld.injection.FieldInjectionPoint.inject(FieldInjectionPoint.java:90)




	at org.jboss.weld.util.Beans.injectBoundFields(Beans.java:358)




	at org.jboss.weld.util.Beans.injectFieldsAndInitializers(Beans.java:369)




	at org.jboss.weld.injection.producer.DefaultInjector.inject(DefaultInjector.java:72)




	at org.jboss.weld.injection.producer.ResourceInjector.inject(ResourceInjector.java:60)




	at org.jboss.weld.injection.producer.DefaultInjector$1.proceed(DefaultInjector.java:66)




	at org.jboss.weld.injection.InjectionContextImpl.run(InjectionContextImpl.java:48)




	at org.jboss.weld.injection.producer.DefaultInjector.inject(DefaultInjector.java:64)




	at org.jboss.weld.injection.producer.BasicInjectionTarget.inject(BasicInjectionTarget.java:90)




	at org.hibernate.jpa.event.internal.jpa.BeanManagerListenerFactory$BeanMetaData.&amp;lt;init&amp;gt;(BeanManagerListenerFactory.java:82)




	at org.hibernate.jpa.event.internal.jpa.BeanManagerListenerFactory$BeanMetaData.&amp;lt;init&amp;gt;(BeanManagerListenerFactory.java:71)




	at org.hibernate.jpa.event.internal.jpa.BeanManagerListenerFactory.buildListener(BeanManagerListenerFactory.java:57)




	at org.hibernate.jpa.event.internal.jpa.LegacyCallbackProcessor.resolveCallbacks(LegacyCallbackProcessor.java:168)




	at org.hibernate.jpa.event.internal.jpa.LegacyCallbackProcessor.processCallbacksForEntity(LegacyCallbackProcessor.java:71)




	at org.hibernate.jpa.event.spi.JpaIntegrator.integrate(JpaIntegrator.java:150)




	at org.hibernate.internal.SessionFactoryImpl.&amp;lt;init&amp;gt;(SessionFactoryImpl.java:310)




	at org.hibernate.cfg.Configuration.buildSessionFactory(Configuration.java:1837)




	at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl$4.perform(EntityManagerFactoryBuilderImpl.java:854)




	at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl$4.perform(EntityManagerFactoryBuilderImpl.java:847)




	at org.hibernate.boot.registry.classloading.internal.ClassLoaderServiceImpl.withTccl(ClassLoaderServiceImpl.java:396)




	at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:846)




	at org.jboss.as.jpa.hibernate4.TwoPhaseBootstrapImpl.build(TwoPhaseBootstrapImpl.java:44)




	at org.jboss.as.jpa.service.PersistenceUnitServiceImpl$1$1.run(PersistenceUnitServiceImpl.java:151)




	... 8 more






I&amp;amp;apos;ve created a small showcase of the problem: https://github.com/papegaaij/listener-injection</description>
			<version>8.0.0.Beta1</version>
			<fixedVersion>11.0.0.Alpha1</fixedVersion>
			<type>Bug</type>
		</buginformation>
		<fixedFiles>
			<file type="M">org.jboss.as.jpa.service.PhaseOnePersistenceUnitServiceImpl.java</file>
			<file type="M">org.jboss.as.jpa.hibernate5.HibernatePersistenceProviderAdaptor.java</file>
			<file type="M">org.jboss.as.test.integration.ee.injection.support.jpa.MyBean.java</file>
			<file type="M">org.jboss.as.jpa.hibernate4.HibernatePersistenceProviderAdaptor.java</file>
			<file type="M">org.jboss.as.test.integration.ee.injection.support.jpa.MyListener.java</file>
			<file type="M">org.jboss.as.jpa.service.PersistenceUnitServiceImpl.java</file>
			<file type="M">org.jboss.as.jpa.processor.JpaAttachments.java</file>
			<file type="M">org.jboss.as.jpa.processor.PersistenceUnitServiceHandler.java</file>
			<file type="M">org.jipijapa.plugin.spi.PersistenceProviderAdaptor.java</file>
			<file type="M">org.jboss.as.test.integration.jpa.mockprovider.classtransformer.TestAdapter.java</file>
			<file type="M">org.jboss.as.jpa.processor.PersistenceProviderAdaptorLoader.java</file>
			<file type="M">org.jboss.as.jpa.openjpa.OpenJPAPersistenceProviderAdaptor.java</file>
			<file type="M">org.jipijapa.eclipselink.EclipseLinkPersistenceProviderAdaptor.java</file>
		</fixedFiles>
		<links>
			<link type="Dependency" description="is blocked by">6941</link>
			<link type="Dependency" description="is blocked by">2434</link>
			<link type="Dependency" description="blocks">2362</link>
			<link type="Superset" description="is incorporated by">5371</link>
		</links>
	</bug>
	<bug id="7118" opendate="2016-09-15 14:23:01" fixdate="2016-12-07 17:08:47" resolution="Done">
		<buginformation>
			<summary>Inefficient marshalling of common session attribute types</summary>
			<description>e.g.

Duration/Instant/etc.
Date (java.sql variants)
Locale
TimeZone
Atomic[Boolean|Integer|Long]

</description>
			<version>10.1.0.Final</version>
			<fixedVersion>11.0.0.Alpha1</fixedVersion>
			<type>Bug</type>
		</buginformation>
		<fixedFiles>
			<file type="M">org.wildfly.clustering.marshalling.spi.time.InstantExternalizer.java</file>
			<file type="M">org.wildfly.clustering.marshalling.jboss.ExternalizerObjectTable.java</file>
		</fixedFiles>
		<links>
			<link type="Cloners" description="cloned to">7562</link>
		</links>
	</bug>
	<bug id="7745" opendate="2016-12-06 17:46:59" fixdate="2016-12-07 17:55:23" resolution="Done">
		<buginformation>
			<summary>mod_cluster extension uses deprecated transformer API</summary>
			<description> The deprecated APIs used are org.jboss.as.controller.ExtensionContext#isRegisterTransformers and org.jboss.as.controller.transform.description.TransformationDescription.Tools#register(...).</description>
			<version>10.1.0.Final</version>
			<fixedVersion>11.0.0.Alpha1</fixedVersion>
			<type>Bug</type>
		</buginformation>
		<fixedFiles>
			<file type="M">org.wildfly.extension.mod_cluster.ModClusterModel.java</file>
			<file type="M">org.wildfly.extension.mod_cluster.ModClusterExtension.java</file>
		</fixedFiles>
		<links>
			<link type="Cloners" description="cloned to">7663</link>
		</links>
	</bug>
	<bug id="7751" opendate="2016-12-07 14:51:34" fixdate="2016-12-08 16:53:07" resolution="Done">
		<buginformation>
			<summary>mod_cluster XML parsers are loaded eagerly</summary>
			<description>We need to make use of the new API method: 
org.jboss.as.controller.parsing.ExtensionParsingContext#setSubsystemXmlMapping(java.lang.String, java.lang.String, java.util.function.Supplier&amp;lt;org.jboss.staxmapper.XMLElementReader&amp;lt;java.util.List&amp;lt;org.jboss.dmr.ModelNode&amp;gt;&amp;gt;&amp;gt;)</description>
			<version>10.1.0.Final</version>
			<fixedVersion>11.0.0.Alpha1</fixedVersion>
			<type>Bug</type>
		</buginformation>
		<fixedFiles>
			<file type="M">org.wildfly.extension.mod_cluster.ModClusterSchema.java</file>
			<file type="M">org.wildfly.extension.mod_cluster.ModClusterExtension.java</file>
		</fixedFiles>
		<links>
			<link type="Cloners" description="cloned to">7751</link>
		</links>
	</bug>
	<bug id="7752" opendate="2016-12-07 16:10:59" fixdate="2016-12-08 16:54:58" resolution="Done">
		<buginformation>
			<summary>Clustering XML readers are loaded eagerly</summary>
			<description>[5:02 PM] Radoslav Husar: org.jboss.as.controller.parsing.ExtensionParsingContext#setSubsystemXmlMapping(java.lang.String, java.lang.String, java.util.function.Supplier&amp;lt;org.jboss.staxmapper.XMLElementReader&amp;lt;java.util.List&amp;lt;org.jboss.dmr.ModelNode&amp;gt;&amp;gt;&amp;gt;)
[5:02 PM] Radoslav Husar: I mean we want to be using^
[5:02 PM] Radoslav Husar: but we are using org.jboss.as.controller.parsing.ExtensionParsingContext#setSubsystemXmlMapping(java.lang.String, java.lang.String, org.jboss.staxmapper.XMLElementReader&amp;lt;java.util.List&amp;lt;org.jboss.dmr.ModelNode&amp;gt;&amp;gt;)</description>
			<version>10.1.0.Final</version>
			<fixedVersion>11.0.0.Alpha1</fixedVersion>
			<type>Bug</type>
		</buginformation>
		<fixedFiles>
			<file type="M">org.jboss.as.clustering.infinispan.subsystem.InfinispanExtension.java</file>
			<file type="M">org.wildfly.extension.clustering.singleton.SingletonExtension.java</file>
			<file type="M">org.jboss.as.clustering.jgroups.subsystem.JGroupsExtension.java</file>
		</fixedFiles>
		<links>
			<link type="Cloners" description="cloned to">7741</link>
		</links>
	</bug>
</bugrepository>