<!-- 
RSS generated by JIRA (7.2.3#72005-sha1:73be91d2b96fc29303a7eb6820acf420e5d0ed65) at Tue Dec 06 18:29:07 EST 2016

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary add field=key&field=summary to the URL of your request.
For example:
https://issues.jboss.org/si/jira.issueviews:issue-xml/SWARM-624/SWARM-624.xml?field=key&amp;field=summary
-->
<rss version="0.92" >
<channel>
    <title>JBoss Issue Tracker</title>
    <link>https://issues.jboss.org</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-us</language>    <build-info>
        <version>7.2.3</version>
        <build-number>72005</build-number>
        <build-date>06-10-2016</build-date>
    </build-info>

<item>
            <title>[SWARM-624] Add zipkin support to booker</title>
                <link>https://issues.jboss.org/browse/SWARM-624</link>
                <project id="12317020" key="SWARM">WildFly Swarm</project>
                    <description>&lt;p&gt;Scenario:&lt;/p&gt;

&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;Added a dependency to the Booker example (io.zipkin.brave:brave-jaxrs2:3.9.1)&lt;/li&gt;
	&lt;li&gt;This dependency has a JAX-RS filter and expects a CDI bean to be injected&lt;/li&gt;
	&lt;li&gt;This bean is produced by a transitive dependency (io.zipkin.brave:brave-core:3.9.1)&lt;/li&gt;
	&lt;li&gt;On boot, a &quot;dependency is not satisfied&quot; message appears&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;This can be reproduced with the following branch:&lt;br/&gt;
&lt;a href=&quot;https://github.com/jpkrohling/booker/tree/SWARM-624-Reproducer&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://github.com/jpkrohling/booker/tree/SWARM-624-Reproducer&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;I tried to add them directly as dependency for the deployment (addAsLibrary(&quot;gav&quot;)), but that didn&apos;t seem to do the trick. It looks like the dependencies aren&apos;t being scanned by the Weld for possible beans.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12644438">SWARM-624</key>
            <summary>Add zipkin support to booker</summary>
                <type id="1" iconUrl="https://issues.jboss.org/secure/viewavatar?size=xsmall&amp;avatarId=13263&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.jboss.org/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.jboss.org/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Done</resolution>
                                        <assignee username="heiko.braun">Heiko Braun</assignee>
                                    <reporter username="juraci.costa">Juraci Paix&#227;o Kr&#246;hling</reporter>
                        <labels>
                    </labels>
                <created>Tue, 23 Aug 2016 09:32:49 -0400</created>
                <updated>Fri, 4 Nov 2016 14:42:39 -0400</updated>
                            <resolved>Tue, 18 Oct 2016 03:38:27 -0400</resolved>
                                                    <fixVersion>2016.11.0</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                                <comments>
                            <comment id="13299083" author="heiko.braun" created="Tue, 27 Sep 2016 09:51:42 -0400"  >&lt;p/&gt;
&lt;div id=&quot;syntaxplugin&quot; class=&quot;syntaxplugin&quot; style=&quot;border: 1px dashed #bbb; border-radius: 5px !important; overflow: auto; max-height: 30em;&quot;&gt;
&lt;table cellspacing=&quot;0&quot; cellpadding=&quot;0&quot; border=&quot;0&quot; width=&quot;100%&quot; style=&quot;font-size: 1em; line-height: 1.4em !important; font-weight: normal; font-style: normal; color: black;&quot;&gt;
		&lt;tbody &gt;
				&lt;tr id=&quot;syntaxplugin_code_and_gutter&quot;&gt;
						&lt;td  style=&quot; line-height: 1.4em !important; padding: 0em; vertical-align: top;&quot;&gt;
					&lt;pre style=&quot;font-size: 1em; margin: 0 10px;  margin-top: 10px;   width: auto; padding: 0;&quot;&gt;&lt;span style=&quot;color: black; font-family: &apos;Consolas&apos;, &apos;Bitstream Vera Sans Mono&apos;, &apos;Courier New&apos;, Courier, monospace !important;&quot;&gt;org.jboss.weld.exceptions.DeploymentException: WELD-001408: Unsatisfied dependencies for type SpanNameProvider with qualifiers @Default&lt;/span&gt;&lt;/pre&gt;
			&lt;/td&gt;
		&lt;/tr&gt;
				&lt;tr id=&quot;syntaxplugin_code_and_gutter&quot;&gt;
						&lt;td  style=&quot; line-height: 1.4em !important; padding: 0em; vertical-align: top;&quot;&gt;
					&lt;pre style=&quot;font-size: 1em; margin: 0 10px;   width: auto; padding: 0;&quot;&gt;&lt;span style=&quot;color: black; font-family: &apos;Consolas&apos;, &apos;Bitstream Vera Sans Mono&apos;, &apos;Courier New&apos;, Courier, monospace !important;&quot;&gt;  at injection point [UnbackedAnnotatedParameter] Parameter 2 of [UnbackedAnnotatedConstructor] @Inject public com.github.kristofa.brave.jaxrs2.BraveContainerRequestFilter(ServerRequestInterceptor, SpanNameProvider)&lt;/span&gt;&lt;/pre&gt;
			&lt;/td&gt;
		&lt;/tr&gt;
				&lt;tr id=&quot;syntaxplugin_code_and_gutter&quot;&gt;
						&lt;td  style=&quot; line-height: 1.4em !important; padding: 0em; vertical-align: top;&quot;&gt;
					&lt;pre style=&quot;font-size: 1em; margin: 0 10px;   width: auto; padding: 0;&quot;&gt;&lt;span style=&quot;color: black; font-family: &apos;Consolas&apos;, &apos;Bitstream Vera Sans Mono&apos;, &apos;Courier New&apos;, Courier, monospace !important;&quot;&gt;  at com.github.kristofa.brave.jaxrs2.BraveContainerRequestFilter.&amp;lt;init&amp;gt;(BraveContainerRequestFilter.java:30)&lt;/span&gt;&lt;/pre&gt;
			&lt;/td&gt;
		&lt;/tr&gt;
				&lt;tr id=&quot;syntaxplugin_code_and_gutter&quot;&gt;
						&lt;td  style=&quot; line-height: 1.4em !important; padding: 0em; vertical-align: top;&quot;&gt;
					&lt;pre style=&quot;font-size: 1em; margin: 0 10px;   margin-bottom: 10px;  width: auto; padding: 0;&quot;&gt;&lt;span style=&quot;color: black; font-family: &apos;Consolas&apos;, &apos;Bitstream Vera Sans Mono&apos;, &apos;Courier New&apos;, Courier, monospace !important;&quot;&gt;&lt;/span&gt;&lt;/pre&gt;
			&lt;/td&gt;
		&lt;/tr&gt;
			&lt;/tbody&gt;
&lt;/table&gt;
&lt;/div&gt;
&lt;p/&gt;</comment>
                            <comment id="13303573" author="heiko.braun" created="Thu, 6 Oct 2016 11:27:44 -0400"  >&lt;p&gt;The missing deps don&apos;t ship META-INF/beans.xml nor do they have bean defining annotations on SpanNameProvider. Hence Weld is not able to detect these classes&lt;/p&gt;</comment>
                            <comment id="13307723" author="heiko.braun" created="Mon, 17 Oct 2016 05:52:36 -0400"  >&lt;p&gt;To resolve this issue two things have been added:&lt;/p&gt;

&lt;p&gt;a) beans.xml to prevent scanning of the zipking packages. This solves the primary error reported here&lt;br/&gt;
b) introduced a zipking fraction that encapsulates the instrumentation for jaxrs resources (see  &lt;a href=&quot;https://issues.jboss.org/browse/SWARM-771&quot; title=&quot;Provide a zipkin fraction&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SWARM-771&quot;&gt;&lt;del&gt;SWARM-771&lt;/del&gt;&lt;/a&gt;)  &lt;/p&gt;</comment>
                            <comment id="13308279" author="heiko.braun" created="Tue, 18 Oct 2016 04:49:02 -0400"  >&lt;p&gt;&lt;a href=&quot;https://issues.jboss.org/secure/ViewProfile.jspa?name=juraci.costa&quot; class=&quot;user-hover&quot; rel=&quot;juraci.costa&quot;&gt;Juraci Paix&#227;o Kr&#246;hling&lt;/a&gt; We now have a zipkin fraction in master (2016.11-SNAPSHOT) if you want to continue your integration work. Take a look here: &lt;a href=&quot;https://github.com/wildfly-swarm/wildfly-swarm/blob/master/testsuite/testsuite-zipkin-jaxrs/src/test/java/org/wildfly/swarm/jaxrs/ZipkinJAXRSTest.java&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://github.com/wildfly-swarm/wildfly-swarm/blob/master/testsuite/testsuite-zipkin-jaxrs/src/test/java/org/wildfly/swarm/jaxrs/ZipkinJAXRSTest.java&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="13308284" author="heiko.braun" created="Tue, 18 Oct 2016 04:51:39 -0400"  >&lt;p&gt;Exemplary booker instrumentation can be found here: &lt;a href=&quot;https://github.com/wildfly-swarm/booker/blob/master/store/src/main/java/org/wildfly/swarm/booker/store/Main.java&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://github.com/wildfly-swarm/booker/blob/master/store/src/main/java/org/wildfly/swarm/booker/store/Main.java&lt;/a&gt;&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10012">
                    <name>Dependency</name>
                                            <outwardlinks description="is blocked by">
                                        <issuelink>
            <issuekey id="12655198">SWARM-771</issuekey>
        </issuelink>
            <issuelink>
            <issuekey id="12652419">SWARM-725</issuekey>
        </issuelink>
                            </outwardlinks>
                                                                <inwardlinks description="blocks">
                                        <issuelink>
            <issuekey id="12644058">HWKAPM-587</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310220" key="org.jboss.labs.jira.plugin.jboss-custom-field-types-plugin:multiurl">
                        <customfieldname>Git Pull Request</customfieldname>
                        <customfieldvalues>
                            https://github.com/wildfly-swarm/booker/pull/10
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12310641" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Number of attachments</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310640" key="com.atlassian.jira.toolkit:comments">
                        <customfieldname>Number of comments</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>5.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12311940" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1|hypec7:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310840" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                <customfield id="customfield_12310940" key="com.pyxis.greenhopper.jira:gh-sprint">
                        <customfieldname>Sprint</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue id="5176">2016.10</customfieldvalue>
    <customfieldvalue id="5304">2016.11</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        </customfields>
    </item>
</channel>
</rss>