<!-- 
RSS generated by JIRA (7.2.3#72005-sha1:73be91d2b96fc29303a7eb6820acf420e5d0ed65) at Tue Dec 06 16:36:24 EST 2016

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary add field=key&field=summary to the URL of your request.
For example:
https://issues.jboss.org/si/jira.issueviews:issue-xml/WFCORE-1093/WFCORE-1093.xml?field=key&amp;field=summary
-->
<rss version="0.92" >
<channel>
    <title>JBoss Issue Tracker</title>
    <link>https://issues.jboss.org</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-us</language>    <build-info>
        <version>7.2.3</version>
        <build-number>72005</build-number>
        <build-date>06-10-2016</build-date>
    </build-info>

<item>
            <title>[WFCORE-1093] TempFileProviderService threads consume high CPU</title>
                <link>https://issues.jboss.org/browse/WFCORE-1093</link>
                <project id="12315422" key="WFCORE">WildFly Core</project>
                    <description>&lt;p&gt;TempFileProviderService threads consume high CPU as they poll their non empty task queue.  This is ultimately due to a flaw in the JDK ThreadPoolExecutor code (&lt;a href=&quot;https://bugs.openjdk.java.net/browse/JDK-8129861&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://bugs.openjdk.java.net/browse/JDK-8129861&lt;/a&gt;), impacting ScheduledThreadPoolExecutors that use a core size of 0 and a default 0 keepalive timeout.  &lt;/p&gt;

&lt;p&gt;While the executor queue is not empty, the executor does not allow the pool to go below 1 thread.  So the one remaining work thread keeps looping over its poll call with a 0 timeout.  Options to protect JBoss from this are:&lt;/p&gt;

&lt;p&gt;1) Set a keepalive timeout on the executor so the poll has a duration and the worker run loop isn&apos;t so busy&lt;br/&gt;
2) Or set the Executor core pool size to &amp;gt;0.  The worker thread would then use a blocking take() call on its queue instead of a constant 0 second poll calls.  The side effect of this change is that the thread pool wouldn&apos;t ever drop back down to 0.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12591413">WFCORE-1093</key>
            <summary>TempFileProviderService threads consume high CPU</summary>
                <type id="1" iconUrl="https://issues.jboss.org/secure/viewavatar?size=xsmall&amp;avatarId=13263&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.jboss.org/images/icons/priorities/major.svg">Major</priority>
                        <status id="5" iconUrl="https://issues.jboss.org/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Done</resolution>
                                        <assignee username="jason.greene">Jason Greene</assignee>
                                    <reporter username="aogburn">Aaron Ogburn</reporter>
                        <labels>
                    </labels>
                <created>Tue, 3 Nov 2015 15:38:55 -0500</created>
                <updated>Wed, 31 Aug 2016 03:30:02 -0400</updated>
                            <resolved>Wed, 25 Nov 2015 14:13:03 -0500</resolved>
                                                    <fixVersion>2.0.3.Final</fixVersion>
                                    <component>Server</component>
                        <due></due>
                            <votes>1</votes>
                                    <watches>3</watches>
                                                                <comments>
                            <comment id="13125104" author="aogburn" created="Tue, 3 Nov 2015 15:42:53 -0500"  >&lt;p&gt;PR using a keepalive time to avoid the issue:&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://github.com/wildfly/wildfly-core/pull/1215&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://github.com/wildfly/wildfly-core/pull/1215&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="13125113" author="jira-bugzilla-migration" created="Tue, 3 Nov 2015 16:15:12 -0500"  >&lt;p&gt;Aaron Ogburn &amp;lt;aogburn@redhat.com&amp;gt; changed the Status of &lt;a href=&quot;https://bugzilla.redhat.com/show_bug.cgi?id=1277699&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;bug 1277699&lt;/a&gt; from ASSIGNED to POST&lt;/p&gt;</comment>
                            <comment id="13182708" author="jira-bugzilla-migration" created="Mon, 28 Mar 2016 17:27:01 -0400"  >&lt;p&gt;Sat6QE Jenkins &amp;lt;sat6-jenkins@redhat.com&amp;gt; changed the Status of &lt;a href=&quot;https://bugzilla.redhat.com/show_bug.cgi?id=1277699&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;bug 1277699&lt;/a&gt; from POST to MODIFIED&lt;/p&gt;</comment>
                            <comment id="13182762" author="jira-bugzilla-migration" created="Mon, 28 Mar 2016 19:21:33 -0400"  >&lt;p&gt;Mike McCune &amp;lt;mmccune@redhat.com&amp;gt; changed the Status of &lt;a href=&quot;https://bugzilla.redhat.com/show_bug.cgi?id=1277699&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;bug 1277699&lt;/a&gt; from MODIFIED to POST&lt;/p&gt;</comment>
                            <comment id="13275484" author="jira-bugzilla-migration" created="Fri, 5 Aug 2016 01:49:08 -0400"  >&lt;p&gt;Vladimir Dosoudil &amp;lt;dosoudil@redhat.com&amp;gt; changed the Status of &lt;a href=&quot;https://bugzilla.redhat.com/show_bug.cgi?id=1277699&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;bug 1277699&lt;/a&gt; from POST to MODIFIED&lt;/p&gt;</comment>
                            <comment id="13275485" author="jira-bugzilla-migration" created="Fri, 5 Aug 2016 01:49:24 -0400"  >&lt;p&gt;Vladimir Dosoudil &amp;lt;dosoudil@redhat.com&amp;gt; changed the Status of &lt;a href=&quot;https://bugzilla.redhat.com/show_bug.cgi?id=1277699&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;bug 1277699&lt;/a&gt; from MODIFIED to ON_QA&lt;/p&gt;</comment>
                            <comment id="13286454" author="jira-bugzilla-migration" created="Wed, 31 Aug 2016 03:30:02 -0400"  >&lt;p&gt;Ji&#345;&#237; B&#237;lek &amp;lt;jbilek@redhat.com&amp;gt; changed the Status of &lt;a href=&quot;https://bugzilla.redhat.com/show_bug.cgi?id=1277699&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;bug 1277699&lt;/a&gt; from ON_QA to VERIFIED&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310440" key="org.jboss.labs.jira.plugin.jboss-custom-field-types-plugin:multiurl">
                        <customfieldname>Bugzilla References</customfieldname>
                        <customfieldvalues>
                            https://bugzilla.redhat.com/show_bug.cgi?id=1277699
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310341" key="com.atlassian.jira.plugin.system.customfieldtypes:multicheckboxes">
                        <customfieldname>Bugzilla Update</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10250"><![CDATA[Perform]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12310092" key="com.atlassian.jira.plugin.system.customfieldtypes:select">
                        <customfieldname>Estimated Difficulty</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10062"><![CDATA[Low]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12310220" key="org.jboss.labs.jira.plugin.jboss-custom-field-types-plugin:multiurl">
                        <customfieldname>Git Pull Request</customfieldname>
                        <customfieldvalues>
                            https://github.com/wildfly/wildfly-core/pull/1215
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12310641" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Number of attachments</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310640" key="com.atlassian.jira.toolkit:comments">
                        <customfieldname>Number of comments</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>7.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12311940" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1|hzzgun:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310840" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310091" key="com.atlassian.jira.plugin.system.customfieldtypes:textarea">
                        <customfieldname>Workaround Description</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>&lt;p&gt;-Use the attached byteman script to force work to the TempFileProviderService threads.&lt;br/&gt;
-Deploy and undeploy an application.&lt;/p&gt;</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>
</channel>
</rss>