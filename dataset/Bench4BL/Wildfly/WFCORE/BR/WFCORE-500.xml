<!-- 
RSS generated by JIRA (7.2.3#72005-sha1:73be91d2b96fc29303a7eb6820acf420e5d0ed65) at Tue Dec 06 16:19:41 EST 2016

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary add field=key&field=summary to the URL of your request.
For example:
https://issues.jboss.org/si/jira.issueviews:issue-xml/WFCORE-500/WFCORE-500.xml?field=key&amp;field=summary
-->
<rss version="0.92" >
<channel>
    <title>JBoss Issue Tracker</title>
    <link>https://issues.jboss.org</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-us</language>    <build-info>
        <version>7.2.3</version>
        <build-number>72005</build-number>
        <build-date>06-10-2016</build-date>
    </build-info>

<item>
            <title>[WFCORE-500] domain mode: remove a path entry from a server instance fails</title>
                <link>https://issues.jboss.org/browse/WFCORE-500</link>
                <project id="12315422" key="WFCORE">WildFly Core</project>
                    <description>&lt;p&gt;Adding a &quot;path&quot; to a &quot;server-config&quot; in domain mode (works fine) and then remove it again results in a NullPointerException&lt;/p&gt;</description>
                <environment>&lt;p&gt;Wildfly master build 2015-01-13&lt;/p&gt;</environment>
        <key id="12560828">WFCORE-500</key>
            <summary>domain mode: remove a path entry from a server instance fails</summary>
                <type id="1" iconUrl="https://issues.jboss.org/secure/viewavatar?size=xsmall&amp;avatarId=13263&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.jboss.org/images/icons/priorities/major.svg">Major</priority>
                        <status id="5" iconUrl="https://issues.jboss.org/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Done</resolution>
                                        <assignee username="brian.stansberry">Brian Stansberry</assignee>
                                    <reporter username="tfonteyn">Tom Fonteyne</reporter>
                        <labels>
                    </labels>
                <created>Tue, 13 Jan 2015 08:10:50 -0500</created>
                <updated>Mon, 16 Feb 2015 08:08:09 -0500</updated>
                            <resolved>Wed, 21 Jan 2015 20:53:22 -0500</resolved>
                                    <version>1.0.0.Alpha15</version>
                                    <fixVersion>1.0.0.Alpha16</fixVersion>
                                    <component>Domain Management</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                                <comments>
                            <comment id="13032113" author="tfonteyn" created="Tue, 13 Jan 2015 08:12:19 -0500"  >&lt;p&gt;Debugging showed this:&lt;/p&gt;

&lt;p&gt;/host=master/server-config=i1/path=foo.bar:add(path=&quot;/tmp&quot;)&lt;/p&gt;

&lt;p&gt;org.jboss.as.controller.services.path:  PathAddHandler.java&lt;/p&gt;

&lt;p&gt;public void execute(final OperationContext context, final ModelNode operation) throws OperationFailedException {&lt;br/&gt;
        final ModelNode model = resource.getModel();&lt;br/&gt;
        PathAddress address = PathAddress.pathAddress(operation.get(OP_ADDR));&lt;br/&gt;
        final String name = address.getLastElement().getValue();&lt;br/&gt;
        pathAttribute.validateAndSet(operation, model);&lt;br/&gt;
        RELATIVE_TO.validateAndSet(operation, model);&lt;/p&gt;

&lt;p&gt;        if (services) {&lt;/p&gt;

&lt;p&gt;validateAndSet adds the path to the server, and &quot;services==false&quot; ==&amp;gt; all fine&lt;/p&gt;

&lt;p&gt;---------------------------------------------------------------&lt;/p&gt;

&lt;p&gt;/host=master/server-config=i1/path=foo.bar:remove&lt;/p&gt;

&lt;p&gt;org.jboss.as.controller.services.path:  PathRemoveHandler.aja&lt;/p&gt;

&lt;p&gt;    public void execute(OperationContext context, ModelNode operation) throws OperationFailedException {&lt;/p&gt;

&lt;p&gt;        final PathAddress address = PathAddress.pathAddress(operation.require(OP_ADDR));&lt;br/&gt;
        final String name = address.getLastElement().getValue();&lt;/p&gt;

&lt;p&gt;        final ModelNode model = Resource.Tools.readModel(context.readResource(PathAddress.EMPTY_ADDRESS));&lt;/p&gt;

&lt;p&gt;        if (model.get(READ_ONLY.getName()).asBoolean(false)) &lt;/p&gt;
{
            throw ControllerMessages.MESSAGES.cannotRemoveReadOnlyPath(name);
        }

&lt;p&gt;        context.removeResource(PathAddress.EMPTY_ADDRESS);&lt;/p&gt;

&lt;p&gt;        if (services) {&lt;/p&gt;


&lt;p&gt;context.removeResource   removed the path, BUT &quot;services==true&quot; ... which ends up looking for the path in the pathEntries of the domain controller and fails to find it... obvious as it was never there.&lt;/p&gt;</comment>
                            <comment id="13033665" author="jira-bugzilla-migration" created="Mon, 19 Jan 2015 14:53:11 -0500"  >&lt;p&gt;Brian Stansberry &amp;lt;brian.stansberry@redhat.com&amp;gt; changed the Status of &lt;a href=&quot;https://bugzilla.redhat.com/show_bug.cgi?id=1181618&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;bug 1181618&lt;/a&gt; from NEW to POST&lt;/p&gt;</comment>
                            <comment id="13034030" author="jira-bugzilla-migration" created="Wed, 21 Jan 2015 04:40:40 -0500"  >&lt;p&gt;Kabir Khan &amp;lt;kkhan@redhat.com&amp;gt; changed the Status of &lt;a href=&quot;https://bugzilla.redhat.com/show_bug.cgi?id=1181618&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;bug 1181618&lt;/a&gt; from POST to MODIFIED&lt;/p&gt;</comment>
                            <comment id="13038589" author="jira-bugzilla-migration" created="Fri, 6 Feb 2015 18:23:08 -0500"  >&lt;p&gt;Paul Gier &amp;lt;pgier@redhat.com&amp;gt; changed the Status of &lt;a href=&quot;https://bugzilla.redhat.com/show_bug.cgi?id=1181618&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;bug 1181618&lt;/a&gt; from MODIFIED to ON_QA&lt;/p&gt;</comment>
                            <comment id="13040498" author="jira-bugzilla-migration" created="Mon, 16 Feb 2015 08:08:09 -0500"  >&lt;p&gt;Martin Simka &amp;lt;msimka@redhat.com&amp;gt; changed the Status of &lt;a href=&quot;https://bugzilla.redhat.com/show_bug.cgi?id=1181618&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;bug 1181618&lt;/a&gt; from ON_QA to VERIFIED&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310440" key="org.jboss.labs.jira.plugin.jboss-custom-field-types-plugin:multiurl">
                        <customfieldname>Bugzilla References</customfieldname>
                        <customfieldvalues>
                            https://bugzilla.redhat.com/show_bug.cgi?id=1181618
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310341" key="com.atlassian.jira.plugin.system.customfieldtypes:multicheckboxes">
                        <customfieldname>Bugzilla Update</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10250"><![CDATA[Perform]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310220" key="org.jboss.labs.jira.plugin.jboss-custom-field-types-plugin:multiurl">
                        <customfieldname>Git Pull Request</customfieldname>
                        <customfieldvalues>
                            https://github.com/wildfly/wildfly-core/pull/443
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12310641" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Number of attachments</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310640" key="com.atlassian.jira.toolkit:comments">
                        <customfieldname>Number of comments</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>5.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12311940" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1|hzun4v:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310840" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                            <customfield id="customfield_12310183" key="com.atlassian.jira.plugin.system.customfieldtypes:textarea">
                        <customfieldname>Steps to Reproduce</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>&lt;p&gt;in domain mode (DC started, no servers started)&lt;/p&gt;

&lt;p&gt;/host=master/server-config=i1/path=foo.bar:add(path=&quot;/tmp&quot;)&lt;br/&gt;
=&amp;gt; success&lt;/p&gt;

&lt;p&gt;/host=master/server-config=i1/path=foo.bar:remove&lt;/p&gt;

&lt;p&gt;[&lt;span class=&quot;error&quot;&gt;&amp;#91;Host Controller&amp;#93;&lt;/span&gt; 13:19:02,569 ERROR &lt;span class=&quot;error&quot;&gt;&amp;#91;org.jboss.as.controller.management-operation&amp;#93;&lt;/span&gt; (management-handler-thread - 1) WFLYCTL0013: Operation (&quot;remove&quot;) failed - address: ([&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;Host Controller&amp;#93;&lt;/span&gt;     (&quot;host&quot; =&amp;gt; &quot;master&quot;),&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;Host Controller&amp;#93;&lt;/span&gt;     (&quot;server-config&quot; =&amp;gt; &quot;i1&quot;),&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;Host Controller&amp;#93;&lt;/span&gt;     (&quot;path&quot; =&amp;gt; &quot;foo.bar&quot;)&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;Host Controller&amp;#93;&lt;/span&gt; ]): java.lang.NullPointerException&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;Host Controller&amp;#93;&lt;/span&gt;       at org.jboss.as.controller.services.path.PathManagerService.removePathEntry(PathManagerService.java:181)&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;Host Controller&amp;#93;&lt;/span&gt;       at org.jboss.as.controller.services.path.PathRemoveHandler$1.execute(PathRemoveHandler.java:90)&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;Host Controller&amp;#93;&lt;/span&gt;       at org.jboss.as.controller.AbstractOperationContext.executeStep(AbstractOperationContext.java:743)&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;Host Controller&amp;#93;&lt;/span&gt;       at org.jboss.as.controller.AbstractOperationContext.doCompleteStep(AbstractOperationContext.java:578)&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;Host Controller&amp;#93;&lt;/span&gt;       at org.jboss.as.controller.AbstractOperationContext.completeStepInternal(AbstractOperationContext.java:336)&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;Host Controller&amp;#93;&lt;/span&gt;       at org.jboss.as.controller.AbstractOperationContext.executeOperation(AbstractOperationContext.java:312)&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;Host Controller&amp;#93;&lt;/span&gt;       at org.jboss.as.controller.OperationContextImpl.executeOperation(OperationContextImpl.java:1181)&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;Host Controller&amp;#93;&lt;/span&gt;       at org.jboss.as.controller.ModelControllerImpl.internalExecute(ModelControllerImpl.java:357)&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;Host Controller&amp;#93;&lt;/span&gt;       at org.jboss.as.controller.ModelControllerImpl.execute(ModelControllerImpl.java:216)&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;Host Controller&amp;#93;&lt;/span&gt;       at org.jboss.as.controller.remote.ModelControllerClientOperationHandler$ExecuteRequestHandler.doExecute(ModelControllerClientOperationHandler.java:220)&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;Host Controller&amp;#93;&lt;/span&gt;       at org.jboss.as.controller.remote.ModelControllerClientOperationHandler$ExecuteRequestHandler.access$300(ModelControllerClientOperationHandler.java:147)&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;Host Controller&amp;#93;&lt;/span&gt;       at org.jboss.as.controller.remote.ModelControllerClientOperationHandler$ExecuteRequestHandler$1$1.run(ModelControllerClientOperationHandler.java:169)&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;Host Controller&amp;#93;&lt;/span&gt;       at org.jboss.as.controller.remote.ModelControllerClientOperationHandler$ExecuteRequestHandler$1$1.run(ModelControllerClientOperationHandler.java:165)&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;Host Controller&amp;#93;&lt;/span&gt;       at java.security.AccessController.doPrivileged(Native Method)&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;Host Controller&amp;#93;&lt;/span&gt;       at javax.security.auth.Subject.doAs(Subject.java:415)&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;Host Controller&amp;#93;&lt;/span&gt;       at org.jboss.as.controller.AccessAuditContext.doAs(AccessAuditContext.java:94)&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;Host Controller&amp;#93;&lt;/span&gt;       at org.jboss.as.controller.remote.ModelControllerClientOperationHandler$ExecuteRequestHandler$1.execute(ModelControllerClientOperationHandler.java:165)&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;Host Controller&amp;#93;&lt;/span&gt;       at org.jboss.as.protocol.mgmt.AbstractMessageHandler$2$1.doExecute(AbstractMessageHandler.java:298)&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;Host Controller&amp;#93;&lt;/span&gt;       at org.jboss.as.protocol.mgmt.AbstractMessageHandler$AsyncTaskRunner.run(AbstractMessageHandler.java:518)&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;Host Controller&amp;#93;&lt;/span&gt;       at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1145)&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;Host Controller&amp;#93;&lt;/span&gt;       at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:615)&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;Host Controller&amp;#93;&lt;/span&gt;       at java.lang.Thread.run(Thread.java:745)&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;Host Controller&amp;#93;&lt;/span&gt;       at org.jboss.threads.JBossThread.run(JBossThread.java:320)&lt;/p&gt;</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                <customfield id="customfield_12310090" key="com.atlassian.jira.plugin.system.customfieldtypes:multicheckboxes">
                        <customfieldname>Workaround</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10060"><![CDATA[Workaround Exists]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310091" key="com.atlassian.jira.plugin.system.customfieldtypes:textarea">
                        <customfieldname>Workaround Description</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>&lt;p&gt;manually edit the xml&lt;/p&gt;</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>
</channel>
</rss>