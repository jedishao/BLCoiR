<!-- 
RSS generated by JIRA (7.2.3#72005-sha1:73be91d2b96fc29303a7eb6820acf420e5d0ed65) at Tue Dec 06 16:50:34 EST 2016

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary add field=key&field=summary to the URL of your request.
For example:
https://issues.jboss.org/si/jira.issueviews:issue-xml/WFCORE-1277/WFCORE-1277.xml?field=key&amp;field=summary
-->
<rss version="0.92" >
<channel>
    <title>JBoss Issue Tracker</title>
    <link>https://issues.jboss.org</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-us</language>    <build-info>
        <version>7.2.3</version>
        <build-number>72005</build-number>
        <build-date>06-10-2016</build-date>
    </build-info>

<item>
            <title>[WFCORE-1277] Embed-server from CLI launch shows twice prompt string</title>
                <link>https://issues.jboss.org/browse/WFCORE-1277</link>
                <project id="12315422" key="WFCORE">WildFly Core</project>
                    <description>&lt;p/&gt;
&lt;div id=&quot;syntaxplugin&quot; class=&quot;syntaxplugin&quot; style=&quot;border: 1px dashed #bbb; border-radius: 5px !important; overflow: auto; max-height: 30em;&quot;&gt;
&lt;table cellspacing=&quot;0&quot; cellpadding=&quot;0&quot; border=&quot;0&quot; width=&quot;100%&quot; style=&quot;font-size: 1em; line-height: 1.4em !important; font-weight: normal; font-style: normal; color: black;&quot;&gt;
		&lt;tbody &gt;
				&lt;tr id=&quot;syntaxplugin_code_and_gutter&quot;&gt;
						&lt;td  style=&quot; line-height: 1.4em !important; padding: 0em; vertical-align: top;&quot;&gt;
					&lt;pre style=&quot;font-size: 1em; margin: 0 10px;  margin-top: 10px;   width: auto; padding: 0;&quot;&gt;&lt;span style=&quot;color: black; font-family: &apos;Consolas&apos;, &apos;Bitstream Vera Sans Mono&apos;, &apos;Courier New&apos;, Courier, monospace !important;&quot;&gt;When I launch an embed-server from CLI, it displays twice [standalone@embedded /] [standalone@embedded /] for the first time.&lt;/span&gt;&lt;/pre&gt;
			&lt;/td&gt;
		&lt;/tr&gt;
				&lt;tr id=&quot;syntaxplugin_code_and_gutter&quot;&gt;
						&lt;td  style=&quot; line-height: 1.4em !important; padding: 0em; vertical-align: top;&quot;&gt;
					&lt;pre style=&quot;font-size: 1em; margin: 0 10px;   width: auto; padding: 0;&quot;&gt;&amp;nbsp;&lt;/pre&gt;
			&lt;/td&gt;
		&lt;/tr&gt;
				&lt;tr id=&quot;syntaxplugin_code_and_gutter&quot;&gt;
						&lt;td  style=&quot; line-height: 1.4em !important; padding: 0em; vertical-align: top;&quot;&gt;
					&lt;pre style=&quot;font-size: 1em; margin: 0 10px;   width: auto; padding: 0;&quot;&gt;&lt;span style=&quot;color: black; font-family: &apos;Consolas&apos;, &apos;Bitstream Vera Sans Mono&apos;, &apos;Courier New&apos;, Courier, monospace !important;&quot;&gt;[wangc@dhcp-128-40 wildfly-10.0.0.Final-SNAPSHOT]$ sh bin/jboss-cli.sh &lt;/span&gt;&lt;/pre&gt;
			&lt;/td&gt;
		&lt;/tr&gt;
				&lt;tr id=&quot;syntaxplugin_code_and_gutter&quot;&gt;
						&lt;td  style=&quot; line-height: 1.4em !important; padding: 0em; vertical-align: top;&quot;&gt;
					&lt;pre style=&quot;font-size: 1em; margin: 0 10px;   width: auto; padding: 0;&quot;&gt;&lt;span style=&quot;color: black; font-family: &apos;Consolas&apos;, &apos;Bitstream Vera Sans Mono&apos;, &apos;Courier New&apos;, Courier, monospace !important;&quot;&gt;You are disconnected at the moment. Type &apos;connect&apos; to connect to the server or &apos;help&apos; for the list of supported commands.&lt;/span&gt;&lt;/pre&gt;
			&lt;/td&gt;
		&lt;/tr&gt;
				&lt;tr id=&quot;syntaxplugin_code_and_gutter&quot;&gt;
						&lt;td  style=&quot; line-height: 1.4em !important; padding: 0em; vertical-align: top;&quot;&gt;
					&lt;pre style=&quot;font-size: 1em; margin: 0 10px;   width: auto; padding: 0;&quot;&gt;&lt;span style=&quot;color: black; font-family: &apos;Consolas&apos;, &apos;Bitstream Vera Sans Mono&apos;, &apos;Courier New&apos;, Courier, monospace !important;&quot;&gt;[disconnected /] embed-server &lt;/span&gt;&lt;/pre&gt;
			&lt;/td&gt;
		&lt;/tr&gt;
				&lt;tr id=&quot;syntaxplugin_code_and_gutter&quot;&gt;
						&lt;td  style=&quot; line-height: 1.4em !important; padding: 0em; vertical-align: top;&quot;&gt;
					&lt;pre style=&quot;font-size: 1em; margin: 0 10px;   width: auto; padding: 0;&quot;&gt;&lt;span style=&quot;color: black; font-family: &apos;Consolas&apos;, &apos;Bitstream Vera Sans Mono&apos;, &apos;Courier New&apos;, Courier, monospace !important;&quot;&gt;[standalone@embedded /] [standalone@embedded /] ls  &lt;/span&gt;&lt;/pre&gt;
			&lt;/td&gt;
		&lt;/tr&gt;
				&lt;tr id=&quot;syntaxplugin_code_and_gutter&quot;&gt;
						&lt;td  style=&quot; line-height: 1.4em !important; padding: 0em; vertical-align: top;&quot;&gt;
					&lt;pre style=&quot;font-size: 1em; margin: 0 10px;   width: auto; padding: 0;&quot;&gt;&lt;span style=&quot;color: black; font-family: &apos;Consolas&apos;, &apos;Bitstream Vera Sans Mono&apos;, &apos;Courier New&apos;, Courier, monospace !important;&quot;&gt;core-service                               launch-type=EMBEDDED                       product-version=undefined                  &lt;/span&gt;&lt;/pre&gt;
			&lt;/td&gt;
		&lt;/tr&gt;
				&lt;tr id=&quot;syntaxplugin_code_and_gutter&quot;&gt;
						&lt;td  style=&quot; line-height: 1.4em !important; padding: 0em; vertical-align: top;&quot;&gt;
					&lt;pre style=&quot;font-size: 1em; margin: 0 10px;   width: auto; padding: 0;&quot;&gt;&lt;span style=&quot;color: black; font-family: &apos;Consolas&apos;, &apos;Bitstream Vera Sans Mono&apos;, &apos;Courier New&apos;, Courier, monospace !important;&quot;&gt;deployment                                 management-major-version=4                 profile-name=undefined                     &lt;/span&gt;&lt;/pre&gt;
			&lt;/td&gt;
		&lt;/tr&gt;
				&lt;tr id=&quot;syntaxplugin_code_and_gutter&quot;&gt;
						&lt;td  style=&quot; line-height: 1.4em !important; padding: 0em; vertical-align: top;&quot;&gt;
					&lt;pre style=&quot;font-size: 1em; margin: 0 10px;   width: auto; padding: 0;&quot;&gt;&lt;span style=&quot;color: black; font-family: &apos;Consolas&apos;, &apos;Bitstream Vera Sans Mono&apos;, &apos;Courier New&apos;, Courier, monospace !important;&quot;&gt;deployment-overlay                         management-micro-version=0                 release-codename=Kenny                     &lt;/span&gt;&lt;/pre&gt;
			&lt;/td&gt;
		&lt;/tr&gt;
				&lt;tr id=&quot;syntaxplugin_code_and_gutter&quot;&gt;
						&lt;td  style=&quot; line-height: 1.4em !important; padding: 0em; vertical-align: top;&quot;&gt;
					&lt;pre style=&quot;font-size: 1em; margin: 0 10px;   width: auto; padding: 0;&quot;&gt;&lt;span style=&quot;color: black; font-family: &apos;Consolas&apos;, &apos;Bitstream Vera Sans Mono&apos;, &apos;Courier New&apos;, Courier, monospace !important;&quot;&gt;extension                                  management-minor-version=0                 release-version=2.0.5.Final                &lt;/span&gt;&lt;/pre&gt;
			&lt;/td&gt;
		&lt;/tr&gt;
				&lt;tr id=&quot;syntaxplugin_code_and_gutter&quot;&gt;
						&lt;td  style=&quot; line-height: 1.4em !important; padding: 0em; vertical-align: top;&quot;&gt;
					&lt;pre style=&quot;font-size: 1em; margin: 0 10px;   width: auto; padding: 0;&quot;&gt;&lt;span style=&quot;color: black; font-family: &apos;Consolas&apos;, &apos;Bitstream Vera Sans Mono&apos;, &apos;Courier New&apos;, Courier, monospace !important;&quot;&gt;interface                                  name=dhcp-128-40                           running-mode=ADMIN_ONLY                    &lt;/span&gt;&lt;/pre&gt;
			&lt;/td&gt;
		&lt;/tr&gt;
				&lt;tr id=&quot;syntaxplugin_code_and_gutter&quot;&gt;
						&lt;td  style=&quot; line-height: 1.4em !important; padding: 0em; vertical-align: top;&quot;&gt;
					&lt;pre style=&quot;font-size: 1em; margin: 0 10px;   width: auto; padding: 0;&quot;&gt;&lt;span style=&quot;color: black; font-family: &apos;Consolas&apos;, &apos;Bitstream Vera Sans Mono&apos;, &apos;Courier New&apos;, Courier, monospace !important;&quot;&gt;path                                       namespaces=[]                              schema-locations=[]                        &lt;/span&gt;&lt;/pre&gt;
			&lt;/td&gt;
		&lt;/tr&gt;
				&lt;tr id=&quot;syntaxplugin_code_and_gutter&quot;&gt;
						&lt;td  style=&quot; line-height: 1.4em !important; padding: 0em; vertical-align: top;&quot;&gt;
					&lt;pre style=&quot;font-size: 1em; margin: 0 10px;   width: auto; padding: 0;&quot;&gt;&lt;span style=&quot;color: black; font-family: &apos;Consolas&apos;, &apos;Bitstream Vera Sans Mono&apos;, &apos;Courier New&apos;, Courier, monospace !important;&quot;&gt;socket-binding-group                       organization=undefined                     server-state=running                       &lt;/span&gt;&lt;/pre&gt;
			&lt;/td&gt;
		&lt;/tr&gt;
				&lt;tr id=&quot;syntaxplugin_code_and_gutter&quot;&gt;
						&lt;td  style=&quot; line-height: 1.4em !important; padding: 0em; vertical-align: top;&quot;&gt;
					&lt;pre style=&quot;font-size: 1em; margin: 0 10px;   width: auto; padding: 0;&quot;&gt;&lt;span style=&quot;color: black; font-family: &apos;Consolas&apos;, &apos;Bitstream Vera Sans Mono&apos;, &apos;Courier New&apos;, Courier, monospace !important;&quot;&gt;subsystem                                  process-type=Server                        suspend-state=RUNNING                      &lt;/span&gt;&lt;/pre&gt;
			&lt;/td&gt;
		&lt;/tr&gt;
				&lt;tr id=&quot;syntaxplugin_code_and_gutter&quot;&gt;
						&lt;td  style=&quot; line-height: 1.4em !important; padding: 0em; vertical-align: top;&quot;&gt;
					&lt;pre style=&quot;font-size: 1em; margin: 0 10px;   width: auto; padding: 0;&quot;&gt;&lt;span style=&quot;color: black; font-family: &apos;Consolas&apos;, &apos;Bitstream Vera Sans Mono&apos;, &apos;Courier New&apos;, Courier, monospace !important;&quot;&gt;system-property                            product-name=undefined                     uuid=8c4ede2f-8e14-48bf-9eaf-73947e23edcf  &lt;/span&gt;&lt;/pre&gt;
			&lt;/td&gt;
		&lt;/tr&gt;
				&lt;tr id=&quot;syntaxplugin_code_and_gutter&quot;&gt;
						&lt;td  style=&quot; line-height: 1.4em !important; padding: 0em; vertical-align: top;&quot;&gt;
					&lt;pre style=&quot;font-size: 1em; margin: 0 10px;   width: auto; padding: 0;&quot;&gt;&amp;nbsp;&lt;/pre&gt;
			&lt;/td&gt;
		&lt;/tr&gt;
				&lt;tr id=&quot;syntaxplugin_code_and_gutter&quot;&gt;
						&lt;td  style=&quot; line-height: 1.4em !important; padding: 0em; vertical-align: top;&quot;&gt;
					&lt;pre style=&quot;font-size: 1em; margin: 0 10px;   margin-bottom: 10px;  width: auto; padding: 0;&quot;&gt;&lt;span style=&quot;color: black; font-family: &apos;Consolas&apos;, &apos;Bitstream Vera Sans Mono&apos;, &apos;Courier New&apos;, Courier, monospace !important;&quot;&gt;[standalone@embedded /] quit&lt;/span&gt;&lt;/pre&gt;
			&lt;/td&gt;
		&lt;/tr&gt;
			&lt;/tbody&gt;
&lt;/table&gt;
&lt;/div&gt;
&lt;p/&gt;
&lt;p&gt;This does not happen in 2.0.4.Final.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12598415">WFCORE-1277</key>
            <summary>Embed-server from CLI launch shows twice prompt string</summary>
                <type id="1" iconUrl="https://issues.jboss.org/secure/viewavatar?size=xsmall&amp;avatarId=13263&amp;avatarType=issuetype">Bug</type>
                                            <priority id="1" iconUrl="https://issues.jboss.org/images/icons/priorities/blocker.svg">Blocker</priority>
                        <status id="5" iconUrl="https://issues.jboss.org/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Done</resolution>
                                        <assignee username="stalep">St&#229;le Pedersen</assignee>
                                    <reporter username="soul2zimate">Chao Wang</reporter>
                        <labels>
                    </labels>
                <created>Thu, 7 Jan 2016 04:59:46 -0500</created>
                <updated>Fri, 22 Jan 2016 19:46:57 -0500</updated>
                            <resolved>Fri, 22 Jan 2016 19:46:57 -0500</resolved>
                                    <version>2.0.5.Final</version>
                                    <fixVersion>2.0.8.Final</fixVersion>
                                    <component>CLI</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>6</watches>
                                                                <comments>
                            <comment id="13145997" author="brian.stansberry" created="Thu, 7 Jan 2016 15:14:50 -0500"  >&lt;p&gt;Yesterday using non-embedded CLI I noticed something similar after using CLI to shut down the server:&lt;/p&gt;

&lt;p/&gt;
&lt;div id=&quot;syntaxplugin&quot; class=&quot;syntaxplugin&quot; style=&quot;border: 1px dashed #bbb; border-radius: 5px !important; overflow: auto; max-height: 30em;&quot;&gt;
&lt;table cellspacing=&quot;0&quot; cellpadding=&quot;0&quot; border=&quot;0&quot; width=&quot;100%&quot; style=&quot;font-size: 1em; line-height: 1.4em !important; font-weight: normal; font-style: normal; color: black;&quot;&gt;
		&lt;tbody &gt;
				&lt;tr id=&quot;syntaxplugin_code_and_gutter&quot;&gt;
						&lt;td  style=&quot; line-height: 1.4em !important; padding: 0em; vertical-align: top;&quot;&gt;
					&lt;pre style=&quot;font-size: 1em; margin: 0 10px;  margin-top: 10px;   width: auto; padding: 0;&quot;&gt;&lt;span style=&quot;color: black; font-family: &apos;Consolas&apos;, &apos;Bitstream Vera Sans Mono&apos;, &apos;Courier New&apos;, Courier, monospace !important;&quot;&gt;[standalone@localhost:9990 /] shutdown &lt;/span&gt;&lt;/pre&gt;
			&lt;/td&gt;
		&lt;/tr&gt;
				&lt;tr id=&quot;syntaxplugin_code_and_gutter&quot;&gt;
						&lt;td  style=&quot; line-height: 1.4em !important; padding: 0em; vertical-align: top;&quot;&gt;
					&lt;pre style=&quot;font-size: 1em; margin: 0 10px;   margin-bottom: 10px;  width: auto; padding: 0;&quot;&gt;&lt;span style=&quot;color: black; font-family: &apos;Consolas&apos;, &apos;Bitstream Vera Sans Mono&apos;, &apos;Courier New&apos;, Courier, monospace !important;&quot;&gt;[disconnected /] [disconnected /]&lt;/span&gt;&lt;/pre&gt;
			&lt;/td&gt;
		&lt;/tr&gt;
			&lt;/tbody&gt;
&lt;/table&gt;
&lt;/div&gt;
&lt;p/&gt;</comment>
                            <comment id="13147729" author="stalep" created="Tue, 12 Jan 2016 11:49:51 -0500"  >&lt;p&gt;this is caused by a fix we did for aesh 0.66.2. - ill look into this today.&lt;br/&gt;
there is a pr that fixes it, but it just hides the underlying problem so ill take a look.&lt;/p&gt;</comment>
                            <comment id="13147806" author="stalep" created="Tue, 12 Jan 2016 14:52:54 -0500"  >&lt;p&gt;ive pushed out a 0.66.3-SNAPSHOT, could you please try that?&lt;br/&gt;
it fixes the issue when ive tested it locally.&lt;br/&gt;
&lt;a href=&quot;https://issues.jboss.org/secure/ViewProfile.jspa?name=soul2zimate&quot; class=&quot;user-hover&quot; rel=&quot;soul2zimate&quot;&gt;Chao Wang&lt;/a&gt; i didnt use your pr for now, i feel the current fix is a bit better fix since updating the prompt shouldnt really rewrite the buffer line. it should only do that on request.&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.jboss.org/secure/ViewProfile.jspa?name=aloubyansky&quot; class=&quot;user-hover&quot; rel=&quot;aloubyansky&quot;&gt;Alexey Loubyansky&lt;/a&gt; could you please verify as well that this do not cause any other regressions? &lt;/p&gt;</comment>
                            <comment id="13147857" author="soul2zimate" created="Tue, 12 Jan 2016 19:12:30 -0500"  >&lt;p&gt;Yes, I can confirm that the version 0.66.3-SNAPSHOT fixed the reported case and case in comment 1. I&apos;ll assign this to &lt;a href=&quot;https://issues.jboss.org/secure/ViewProfile.jspa?name=stalep&quot; class=&quot;user-hover&quot; rel=&quot;stalep&quot;&gt;St&#229;le Pedersen&lt;/a&gt; and close the other open PR in aesh.&lt;/p&gt;</comment>
                            <comment id="13147860" author="stalep" created="Tue, 12 Jan 2016 19:20:19 -0500"  >&lt;p&gt;&lt;a href=&quot;https://issues.jboss.org/secure/ViewProfile.jspa?name=soul2zimate&quot; class=&quot;user-hover&quot; rel=&quot;soul2zimate&quot;&gt;Chao Wang&lt;/a&gt; im off on meetings this week, could you be so kind to test this against the cli testsuite on wildfly-core/wildfly?&lt;br/&gt;
i just want to be sure there are no other issues affected by this.&lt;/p&gt;</comment>
                            <comment id="13147867" author="soul2zimate" created="Tue, 12 Jan 2016 19:31:32 -0500"  >&lt;p&gt;Sure, there are following new failures in wildfly-core testsuite once I run them with version 0.66.3-SNAPSHOT&lt;/p&gt;

&lt;p/&gt;
&lt;div id=&quot;syntaxplugin&quot; class=&quot;syntaxplugin&quot; style=&quot;border: 1px dashed #bbb; border-radius: 5px !important; overflow: auto; max-height: 30em;&quot;&gt;
&lt;table cellspacing=&quot;0&quot; cellpadding=&quot;0&quot; border=&quot;0&quot; width=&quot;100%&quot; style=&quot;font-size: 1em; line-height: 1.4em !important; font-weight: normal; font-style: normal; color: black;&quot;&gt;
		&lt;tbody &gt;
				&lt;tr id=&quot;syntaxplugin_code_and_gutter&quot;&gt;
						&lt;td  style=&quot; line-height: 1.4em !important; padding: 0em; vertical-align: top;&quot;&gt;
					&lt;pre style=&quot;font-size: 1em; margin: 0 10px;  margin-top: 10px;   width: auto; padding: 0;&quot;&gt;&lt;span style=&quot;color: black; font-family: &apos;Consolas&apos;, &apos;Bitstream Vera Sans Mono&apos;, &apos;Courier New&apos;, Courier, monospace !important;&quot;&gt;Running org.jboss.as.test.integration.management.cli.CtrlCTestCase&lt;/span&gt;&lt;/pre&gt;
			&lt;/td&gt;
		&lt;/tr&gt;
				&lt;tr id=&quot;syntaxplugin_code_and_gutter&quot;&gt;
						&lt;td  style=&quot; line-height: 1.4em !important; padding: 0em; vertical-align: top;&quot;&gt;
					&lt;pre style=&quot;font-size: 1em; margin: 0 10px;   width: auto; padding: 0;&quot;&gt;&lt;span style=&quot;color: black; font-family: &apos;Consolas&apos;, &apos;Bitstream Vera Sans Mono&apos;, &apos;Courier New&apos;, Courier, monospace !important;&quot;&gt;Tests run: 3, Failures: 2, Errors: 0, Skipped: 0, Time elapsed: 20.835 sec &amp;lt;&amp;lt;&amp;lt; FAILURE! - in org.jboss.as.test.integration.management.cli.CtrlCTestCase&lt;/span&gt;&lt;/pre&gt;
			&lt;/td&gt;
		&lt;/tr&gt;
				&lt;tr id=&quot;syntaxplugin_code_and_gutter&quot;&gt;
						&lt;td  style=&quot; line-height: 1.4em !important; padding: 0em; vertical-align: top;&quot;&gt;
					&lt;pre style=&quot;font-size: 1em; margin: 0 10px;   width: auto; padding: 0;&quot;&gt;&lt;span style=&quot;color: black; font-family: &apos;Consolas&apos;, &apos;Bitstream Vera Sans Mono&apos;, &apos;Courier New&apos;, Courier, monospace !important;&quot;&gt;userCtrlCTestCase(org.jboss.as.test.integration.management.cli.CtrlCTestCase)  Time elapsed: 10.118 sec  &amp;lt;&amp;lt;&amp;lt; FAILURE!&lt;/span&gt;&lt;/pre&gt;
			&lt;/td&gt;
		&lt;/tr&gt;
				&lt;tr id=&quot;syntaxplugin_code_and_gutter&quot;&gt;
						&lt;td  style=&quot; line-height: 1.4em !important; padding: 0em; vertical-align: top;&quot;&gt;
					&lt;pre style=&quot;font-size: 1em; margin: 0 10px;   width: auto; padding: 0;&quot;&gt;&lt;span style=&quot;color: black; font-family: &apos;Consolas&apos;, &apos;Bitstream Vera Sans Mono&apos;, &apos;Courier New&apos;, Courier, monospace !important;&quot;&gt;java.lang.AssertionError: Prompt isn&apos;t asking for username. Output: &apos;Authenticating against security realm: ManagementRealm&lt;/span&gt;&lt;/pre&gt;
			&lt;/td&gt;
		&lt;/tr&gt;
				&lt;tr id=&quot;syntaxplugin_code_and_gutter&quot;&gt;
						&lt;td  style=&quot; line-height: 1.4em !important; padding: 0em; vertical-align: top;&quot;&gt;
					&lt;pre style=&quot;font-size: 1em; margin: 0 10px;   width: auto; padding: 0;&quot;&gt;&lt;span style=&quot;color: black; font-family: &apos;Consolas&apos;, &apos;Bitstream Vera Sans Mono&apos;, &apos;Courier New&apos;, Courier, monospace !important;&quot;&gt;&apos;&lt;/span&gt;&lt;/pre&gt;
			&lt;/td&gt;
		&lt;/tr&gt;
				&lt;tr id=&quot;syntaxplugin_code_and_gutter&quot;&gt;
						&lt;td  style=&quot; line-height: 1.4em !important; padding: 0em; vertical-align: top;&quot;&gt;
					&lt;pre style=&quot;font-size: 1em; margin: 0 10px;   width: auto; padding: 0;&quot;&gt;&lt;span style=&quot;color: black; font-family: &apos;Consolas&apos;, &apos;Bitstream Vera Sans Mono&apos;, &apos;Courier New&apos;, Courier, monospace !important;&quot;&gt;    at org.junit.Assert.fail(Assert.java:88)&lt;/span&gt;&lt;/pre&gt;
			&lt;/td&gt;
		&lt;/tr&gt;
				&lt;tr id=&quot;syntaxplugin_code_and_gutter&quot;&gt;
						&lt;td  style=&quot; line-height: 1.4em !important; padding: 0em; vertical-align: top;&quot;&gt;
					&lt;pre style=&quot;font-size: 1em; margin: 0 10px;   width: auto; padding: 0;&quot;&gt;&lt;span style=&quot;color: black; font-family: &apos;Consolas&apos;, &apos;Bitstream Vera Sans Mono&apos;, &apos;Courier New&apos;, Courier, monospace !important;&quot;&gt;    at org.junit.Assert.assertTrue(Assert.java:41)&lt;/span&gt;&lt;/pre&gt;
			&lt;/td&gt;
		&lt;/tr&gt;
				&lt;tr id=&quot;syntaxplugin_code_and_gutter&quot;&gt;
						&lt;td  style=&quot; line-height: 1.4em !important; padding: 0em; vertical-align: top;&quot;&gt;
					&lt;pre style=&quot;font-size: 1em; margin: 0 10px;   width: auto; padding: 0;&quot;&gt;&lt;span style=&quot;color: black; font-family: &apos;Consolas&apos;, &apos;Bitstream Vera Sans Mono&apos;, &apos;Courier New&apos;, Courier, monospace !important;&quot;&gt;    at org.jboss.as.test.integration.management.cli.CtrlCTestCase.userCtrlCTestCase(CtrlCTestCase.java:63)&lt;/span&gt;&lt;/pre&gt;
			&lt;/td&gt;
		&lt;/tr&gt;
				&lt;tr id=&quot;syntaxplugin_code_and_gutter&quot;&gt;
						&lt;td  style=&quot; line-height: 1.4em !important; padding: 0em; vertical-align: top;&quot;&gt;
					&lt;pre style=&quot;font-size: 1em; margin: 0 10px;   width: auto; padding: 0;&quot;&gt;&amp;nbsp;&lt;/pre&gt;
			&lt;/td&gt;
		&lt;/tr&gt;
				&lt;tr id=&quot;syntaxplugin_code_and_gutter&quot;&gt;
						&lt;td  style=&quot; line-height: 1.4em !important; padding: 0em; vertical-align: top;&quot;&gt;
					&lt;pre style=&quot;font-size: 1em; margin: 0 10px;   width: auto; padding: 0;&quot;&gt;&lt;span style=&quot;color: black; font-family: &apos;Consolas&apos;, &apos;Bitstream Vera Sans Mono&apos;, &apos;Courier New&apos;, Courier, monospace !important;&quot;&gt;passCtrlCTestCase(org.jboss.as.test.integration.management.cli.CtrlCTestCase)  Time elapsed: 10.115 sec  &amp;lt;&amp;lt;&amp;lt; FAILURE!&lt;/span&gt;&lt;/pre&gt;
			&lt;/td&gt;
		&lt;/tr&gt;
				&lt;tr id=&quot;syntaxplugin_code_and_gutter&quot;&gt;
						&lt;td  style=&quot; line-height: 1.4em !important; padding: 0em; vertical-align: top;&quot;&gt;
					&lt;pre style=&quot;font-size: 1em; margin: 0 10px;   width: auto; padding: 0;&quot;&gt;&lt;span style=&quot;color: black; font-family: &apos;Consolas&apos;, &apos;Bitstream Vera Sans Mono&apos;, &apos;Courier New&apos;, Courier, monospace !important;&quot;&gt;java.lang.AssertionError: Prompt isn&apos;t asking for username. Output: &apos;Authenticating against security realm: ManagementRealm&lt;/span&gt;&lt;/pre&gt;
			&lt;/td&gt;
		&lt;/tr&gt;
				&lt;tr id=&quot;syntaxplugin_code_and_gutter&quot;&gt;
						&lt;td  style=&quot; line-height: 1.4em !important; padding: 0em; vertical-align: top;&quot;&gt;
					&lt;pre style=&quot;font-size: 1em; margin: 0 10px;   width: auto; padding: 0;&quot;&gt;&lt;span style=&quot;color: black; font-family: &apos;Consolas&apos;, &apos;Bitstream Vera Sans Mono&apos;, &apos;Courier New&apos;, Courier, monospace !important;&quot;&gt;&apos;&lt;/span&gt;&lt;/pre&gt;
			&lt;/td&gt;
		&lt;/tr&gt;
				&lt;tr id=&quot;syntaxplugin_code_and_gutter&quot;&gt;
						&lt;td  style=&quot; line-height: 1.4em !important; padding: 0em; vertical-align: top;&quot;&gt;
					&lt;pre style=&quot;font-size: 1em; margin: 0 10px;   width: auto; padding: 0;&quot;&gt;&lt;span style=&quot;color: black; font-family: &apos;Consolas&apos;, &apos;Bitstream Vera Sans Mono&apos;, &apos;Courier New&apos;, Courier, monospace !important;&quot;&gt;    at org.junit.Assert.fail(Assert.java:88)&lt;/span&gt;&lt;/pre&gt;
			&lt;/td&gt;
		&lt;/tr&gt;
				&lt;tr id=&quot;syntaxplugin_code_and_gutter&quot;&gt;
						&lt;td  style=&quot; line-height: 1.4em !important; padding: 0em; vertical-align: top;&quot;&gt;
					&lt;pre style=&quot;font-size: 1em; margin: 0 10px;   width: auto; padding: 0;&quot;&gt;&lt;span style=&quot;color: black; font-family: &apos;Consolas&apos;, &apos;Bitstream Vera Sans Mono&apos;, &apos;Courier New&apos;, Courier, monospace !important;&quot;&gt;    at org.junit.Assert.assertTrue(Assert.java:41)&lt;/span&gt;&lt;/pre&gt;
			&lt;/td&gt;
		&lt;/tr&gt;
				&lt;tr id=&quot;syntaxplugin_code_and_gutter&quot;&gt;
						&lt;td  style=&quot; line-height: 1.4em !important; padding: 0em; vertical-align: top;&quot;&gt;
					&lt;pre style=&quot;font-size: 1em; margin: 0 10px;   margin-bottom: 10px;  width: auto; padding: 0;&quot;&gt;&lt;span style=&quot;color: black; font-family: &apos;Consolas&apos;, &apos;Bitstream Vera Sans Mono&apos;, &apos;Courier New&apos;, Courier, monospace !important;&quot;&gt;    at org.jboss.as.test.integration.management.cli.CtrlCTestCase.passCtrlCTestCase(CtrlCTestCase.java:83)&lt;/span&gt;&lt;/pre&gt;
			&lt;/td&gt;
		&lt;/tr&gt;
			&lt;/tbody&gt;
&lt;/table&gt;
&lt;/div&gt;
&lt;p/&gt;</comment>
                            <comment id="13147873" author="stalep" created="Tue, 12 Jan 2016 20:04:39 -0500"  >&lt;p&gt;thanks, ill have a look...&lt;/p&gt;</comment>
                            <comment id="13147877" author="stalep" created="Tue, 12 Jan 2016 21:02:18 -0500"  >&lt;p&gt;hm, that test fails for me on wildfly-core master when just running with aesh-0.66.2. does it fail for you as well? &lt;a href=&quot;https://issues.jboss.org/secure/ViewProfile.jspa?name=soul2zimate&quot; class=&quot;user-hover&quot; rel=&quot;soul2zimate&quot;&gt;Chao Wang&lt;/a&gt;&lt;/p&gt;
&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;just to clarify, there is a bug caused by my changes (that ive fixed locally), but the tests still fails since it expects ctrl-c to interrupt the input which it doesnt.&lt;br/&gt;
locally that also happens on wildfly-core master for me, i just want others to verify.&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13147878" author="soul2zimate" created="Tue, 12 Jan 2016 21:11:01 -0500"  >&lt;p&gt;No, I did not see it with aesh 0.66.2. Also, It looks good on recent pull requests against master branch on &lt;a href=&quot;https://github.com/wildfly/wildfly-core/pulls&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://github.com/wildfly/wildfly-core/pulls&lt;/a&gt; as well. &lt;/p&gt;</comment>
                            <comment id="13148228" author="stalep" created="Wed, 13 Jan 2016 11:08:32 -0500"  >&lt;p&gt;hm, atm i have a lot on my plate, so just to get this working. ill revert my changes for now, and use your pr &lt;a href=&quot;https://issues.jboss.org/secure/ViewProfile.jspa?name=soul2zimate&quot; class=&quot;user-hover&quot; rel=&quot;soul2zimate&quot;&gt;Chao Wang&lt;/a&gt;. ill let you know when i have that deployed on mvn for you to test.&lt;/p&gt;
&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;ill try to put off time later to fix this a better way.&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13148275" author="stalep" created="Wed, 13 Jan 2016 12:00:58 -0500"  >&lt;p&gt;&lt;a href=&quot;https://issues.jboss.org/secure/ViewProfile.jspa?name=soul2zimate&quot; class=&quot;user-hover&quot; rel=&quot;soul2zimate&quot;&gt;Chao Wang&lt;/a&gt; ive reverted my changes and used your commit. it is deployed now (0.66.3-SNAPSHOT) can you please verify that it works? the testsuite fails for me locally (it fails with a clean master checkout as well), but i dont see the double prompt anymore when i test jboss-cli.&lt;/p&gt;</comment>
                            <comment id="13148469" author="soul2zimate" created="Thu, 14 Jan 2016 01:07:51 -0500"  >&lt;p&gt;I have rebased the PR and added one more line &quot;consoleBuffer.setPrompted(false);&quot; inside Console.java. After that, I can no longer see the double prompt issue, and wildfly-core and wilfy tests are both passed.&lt;/p&gt;

&lt;p&gt;About the failed CtrlCTestCase, it tries to check prompt Username and Password on CLI connection. Thus, I have following steps to see the failure with your two commits:&lt;br/&gt;
1. comment out line  &quot;&amp;lt;local default-user=&quot;$local&quot; skip-group-loading=&quot;true&quot;/&amp;gt;&quot; in standalone.xml&lt;br/&gt;
2. use add-user.sh to create a new Management User with password.&lt;br/&gt;
3. run standalone.sh to start server, and run jboss-cli.sh -c, it will ask user to input username and password as:&lt;/p&gt;

&lt;p&gt;&lt;p/&gt;
&lt;div id=&quot;syntaxplugin&quot; class=&quot;syntaxplugin&quot; style=&quot;border: 1px dashed #bbb; border-radius: 5px !important; overflow: auto; max-height: 30em;&quot;&gt;
&lt;table cellspacing=&quot;0&quot; cellpadding=&quot;0&quot; border=&quot;0&quot; width=&quot;100%&quot; style=&quot;font-size: 1em; line-height: 1.4em !important; font-weight: normal; font-style: normal; color: black;&quot;&gt;
		&lt;tbody &gt;
				&lt;tr id=&quot;syntaxplugin_code_and_gutter&quot;&gt;
						&lt;td  style=&quot; line-height: 1.4em !important; padding: 0em; vertical-align: top;&quot;&gt;
					&lt;pre style=&quot;font-size: 1em; margin: 0 10px;  margin-top: 10px;   width: auto; padding: 0;&quot;&gt;&lt;span style=&quot;color: black; font-family: &apos;Consolas&apos;, &apos;Bitstream Vera Sans Mono&apos;, &apos;Courier New&apos;, Courier, monospace !important;&quot;&gt;Authenticating against security realm: ManagementRealm&lt;/span&gt;&lt;/pre&gt;
			&lt;/td&gt;
		&lt;/tr&gt;
				&lt;tr id=&quot;syntaxplugin_code_and_gutter&quot;&gt;
						&lt;td  style=&quot; line-height: 1.4em !important; padding: 0em; vertical-align: top;&quot;&gt;
					&lt;pre style=&quot;font-size: 1em; margin: 0 10px;   margin-bottom: 10px;  width: auto; padding: 0;&quot;&gt;&lt;span style=&quot;color: black; font-family: &apos;Consolas&apos;, &apos;Bitstream Vera Sans Mono&apos;, &apos;Courier New&apos;, Courier, monospace !important;&quot;&gt;Username&lt;/span&gt;&lt;/pre&gt;
			&lt;/td&gt;
		&lt;/tr&gt;
			&lt;/tbody&gt;
&lt;/table&gt;
&lt;/div&gt;
&lt;p/&gt;:&lt;br/&gt;
including your two commits, it misses the &quot;Username:&quot; prompt as:&lt;/p&gt;
&lt;p/&gt;
&lt;div id=&quot;syntaxplugin&quot; class=&quot;syntaxplugin&quot; style=&quot;border: 1px dashed #bbb; border-radius: 5px !important; overflow: auto; max-height: 30em;&quot;&gt;
&lt;table cellspacing=&quot;0&quot; cellpadding=&quot;0&quot; border=&quot;0&quot; width=&quot;100%&quot; style=&quot;font-size: 1em; line-height: 1.4em !important; font-weight: normal; font-style: normal; color: black;&quot;&gt;
		&lt;tbody &gt;
				&lt;tr id=&quot;syntaxplugin_code_and_gutter&quot;&gt;
						&lt;td  style=&quot; line-height: 1.4em !important; padding: 0em; vertical-align: top;&quot;&gt;
					&lt;pre style=&quot;font-size: 1em; margin: 0 10px;  margin-top: 10px;   margin-bottom: 10px;  width: auto; padding: 0;&quot;&gt;&lt;span style=&quot;color: black; font-family: &apos;Consolas&apos;, &apos;Bitstream Vera Sans Mono&apos;, &apos;Courier New&apos;, Courier, monospace !important;&quot;&gt;Authenticating against security realm: ManagementRealm&lt;/span&gt;&lt;/pre&gt;
			&lt;/td&gt;
		&lt;/tr&gt;
			&lt;/tbody&gt;
&lt;/table&gt;
&lt;/div&gt;
&lt;p/&gt;

&lt;p&gt;That&apos;s why the CtrlCTestCase fails at line &quot;boolean promptFound = cli.executeInteractive(&quot;Username&quot;);&quot; I think it&apos;s due to the remove of this &lt;a href=&quot;https://github.com/aeshell/aesh/commit/91e4696338c80f2e1f3e7a77a7d88c0deb7907a0#diff-d91c0c938b6c364f7db2b61677896465L418&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;block&lt;/a&gt; which is supposed to display prompt when it sets new prompt &quot;Username&quot; (in this case)&lt;/p&gt;</comment>
                            <comment id="13148945" author="stalep" created="Thu, 14 Jan 2016 11:25:12 -0500"  >&lt;p&gt;hi, regarding why CtrlCTestCase failing, yes, one reason was the code block you mentioned, but i had made a change to jboss-cli to call console.displayPrompt() just after it sets it. The test still failed locally, but that was because ctrl-c did not abort the connection, it just printed the value of ctrl-c to the terminal.&lt;br/&gt;
i have already used your commit, i just cherry-picked from your repo after you closed the pr. i see i managed to forget to push it, sorry.&lt;br/&gt;
if this looks good for you ill create a 0.66.3 version today.&lt;/p&gt;</comment>
                            <comment id="13149120" author="soul2zimate" created="Thu, 14 Jan 2016 18:45:51 -0500"  >&lt;p&gt;Hi &lt;a href=&quot;https://issues.jboss.org/secure/ViewProfile.jspa?name=stalep&quot; class=&quot;user-hover&quot; rel=&quot;stalep&quot;&gt;St&#229;le Pedersen&lt;/a&gt; I have rebased the PR and added one more line &quot;consoleBuffer.setPrompted(false);&quot; when I re-opened it. This is missing in the push based on previous commit. &lt;/p&gt;</comment>
                            <comment id="13149124" author="stalep" created="Thu, 14 Jan 2016 19:22:59 -0500"  >&lt;p&gt;hm, the pr wasnt updated as i could see so i just added that on line change myself. ive pushed out a new version of 0.66.3-SNAPSHOT if you want to try?&lt;/p&gt;</comment>
                            <comment id="13149127" author="soul2zimate" created="Thu, 14 Jan 2016 21:09:34 -0500"  >&lt;p&gt;Yes, I can see it now. Thanks. &lt;/p&gt;</comment>
                            <comment id="13150674" author="brian.stansberry" created="Tue, 19 Jan 2016 09:58:59 -0500"  >&lt;p&gt;&lt;a href=&quot;https://issues.jboss.org/secure/ViewProfile.jspa?name=stalep&quot; class=&quot;user-hover&quot; rel=&quot;stalep&quot;&gt;St&#229;le Pedersen&lt;/a&gt;&lt;a href=&quot;https://issues.jboss.org/secure/ViewProfile.jspa?name=soul2zimate&quot; class=&quot;user-hover&quot; rel=&quot;soul2zimate&quot;&gt;Chao Wang&lt;/a&gt; I&apos;m raising this to Blocker due to the &quot;&lt;span class=&quot;error&quot;&gt;&amp;#91;disconnected /&amp;#93;&lt;/span&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;disconnected /&amp;#93;&lt;/span&gt;&quot; issue, which happens following common actions like a &quot;shutdown&quot; command. Can you guys update me on the possibility of getting a fix for this, ASAP, even a temporary one? I&apos;d like this fixed in WildFly 10.0.0.Final.&lt;/p&gt;</comment>
                            <comment id="13150682" author="stalep" created="Tue, 19 Jan 2016 10:02:59 -0500"  >&lt;p&gt;ill push out a 0.66.3 now, that is working as expected afaik.&lt;/p&gt;</comment>
                            <comment id="13150711" author="stalep" created="Tue, 19 Jan 2016 10:25:47 -0500"  >&lt;p&gt;aesh-0.66.3 is out, please give it a try &lt;a href=&quot;https://issues.jboss.org/secure/ViewProfile.jspa?name=soul2zimate&quot; class=&quot;user-hover&quot; rel=&quot;soul2zimate&quot;&gt;Chao Wang&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="13150953" author="soul2zimate" created="Tue, 19 Jan 2016 19:13:02 -0500"  >&lt;p&gt;0.66.3 looks good to me, and I have opened the aesh upgrade PR for it.&lt;/p&gt;</comment>
                            <comment id="13151284" author="brian.stansberry" created="Wed, 20 Jan 2016 11:27:56 -0500"  >&lt;p&gt;Just an FYI: I observed this really minor thing with 0.66.3 in a kind of franken-build of EAP 7: &lt;a href=&quot;https://issues.jboss.org/browse/WFCORE-1315&quot; title=&quot;Double prompt when connecting to a new HC&quot; class=&quot;issue-link&quot; data-issue-key=&quot;WFCORE-1315&quot;&gt;&lt;del&gt;WFCORE-1315&lt;/del&gt;&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;I regard this as largely OT to this JIRA; I just wanted to let you know. I suspect the issue, to the extent there is one, is in the CLI itself and not aesh.&lt;/p&gt;

&lt;p&gt;The stuff discussed in this JIRA looked good.&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="12310120">
                    <name>Cloners</name>
                                                                <inwardlinks description="cloned to">
                                        <issuelink>
            <issuekey id="12598577">JBEAP-2606</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="org.jboss.labs.jira.plugin.jboss-custom-field-types-plugin:multiurl">
                        <customfieldname>Git Pull Request</customfieldname>
                        <customfieldvalues>
                            https://github.com/wildfly/wildfly-core/pull/1372
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12310641" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Number of attachments</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310640" key="com.atlassian.jira.toolkit:comments">
                        <customfieldname>Number of comments</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>21.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12311940" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1|i00ksf:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310840" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                    </customfields>
    </item>
</channel>
</rss>