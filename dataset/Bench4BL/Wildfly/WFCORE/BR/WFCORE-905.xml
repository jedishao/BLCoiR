<!-- 
RSS generated by JIRA (7.2.3#72005-sha1:73be91d2b96fc29303a7eb6820acf420e5d0ed65) at Tue Dec 06 16:49:36 EST 2016

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary add field=key&field=summary to the URL of your request.
For example:
https://issues.jboss.org/si/jira.issueviews:issue-xml/WFCORE-905/WFCORE-905.xml?field=key&amp;field=summary
-->
<rss version="0.92" >
<channel>
    <title>JBoss Issue Tracker</title>
    <link>https://issues.jboss.org</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-us</language>    <build-info>
        <version>7.2.3</version>
        <build-number>72005</build-number>
        <build-date>06-10-2016</build-date>
    </build-info>

<item>
            <title>[WFCORE-905] CLI command &quot;/host=master/server-config=server-one:remove&quot; did not work if used in a batch</title>
                <link>https://issues.jboss.org/browse/WFCORE-905</link>
                <project id="12315422" key="WFCORE">WildFly Core</project>
                    <description>&lt;p&gt;If a server is removed from a batch the command will fail.&lt;br/&gt;
The same command will work correct if no batch is used&lt;/p&gt;

&lt;p&gt;21:13:46,310 INFO  &lt;span class=&quot;error&quot;&gt;&amp;#91;org.jboss.as.process.Server:server-one.status&amp;#93;&lt;/span&gt; (reaper for Server:server-one) WFLYPC0011: Process &apos;Server:server-one&apos; finished with an exit status of 0&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;Host Controller&amp;#93;&lt;/span&gt; 21:13:46,351 INFO  &lt;span class=&quot;error&quot;&gt;&amp;#91;org.jboss.as.host.controller&amp;#93;&lt;/span&gt; (ProcessControllerConnection-thread - 2) WFLYHC0027: Unregistering server server-one&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;Host Controller&amp;#93;&lt;/span&gt; 21:13:46,392 ERROR &lt;span class=&quot;error&quot;&gt;&amp;#91;org.jboss.as.controller.management-operation&amp;#93;&lt;/span&gt; (management-handler-thread - 4) WFLYCTL0013: Operation (&quot;stop&quot;) failed - address: ([&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;Host Controller&amp;#93;&lt;/span&gt;     (&quot;host&quot; =&amp;gt; &quot;master&quot;),&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;Host Controller&amp;#93;&lt;/span&gt;     (&quot;server-config&quot; =&amp;gt; &quot;server-one&quot;)&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;Host Controller&amp;#93;&lt;/span&gt; ]) - failure description: &quot;WFLYCTL0216: Management resource &apos;[&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;Host Controller&amp;#93;&lt;/span&gt;     (\&quot;host\&quot; =&amp;gt; \&quot;master\&quot;),&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;Host Controller&amp;#93;&lt;/span&gt;     (\&quot;server-config\&quot; =&amp;gt; \&quot;server-one\&quot;)&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;Host Controller&amp;#93;&lt;/span&gt; ]&apos; not found&quot;&lt;/p&gt;
</description>
                <environment>&lt;p&gt;Upstream 10.x.CR&lt;/p&gt;</environment>
        <key id="12582384">WFCORE-905</key>
            <summary>CLI command &quot;/host=master/server-config=server-one:remove&quot; did not work if used in a batch</summary>
                <type id="1" iconUrl="https://issues.jboss.org/secure/viewavatar?size=xsmall&amp;avatarId=13263&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.jboss.org/images/icons/priorities/major.svg">Major</priority>
                        <status id="5" iconUrl="https://issues.jboss.org/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Done</resolution>
                                        <assignee username="ehugonnet">ehsavoie Hugonnet</assignee>
                                    <reporter username="wdfink">Wolf-Dieter Fink</reporter>
                        <labels>
                    </labels>
                <created>Mon, 24 Aug 2015 15:16:37 -0400</created>
                <updated>Fri, 28 Aug 2015 19:13:53 -0400</updated>
                            <resolved>Fri, 28 Aug 2015 19:13:53 -0400</resolved>
                                                    <fixVersion>2.0.0.Beta5</fixVersion>
                                    <component>Domain Management</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>3</watches>
                                                                <comments>
                            <comment id="13101188" author="brian.stansberry" created="Mon, 24 Aug 2015 15:46:26 -0400"  >&lt;p&gt;&lt;a href=&quot;https://issues.jboss.org/secure/ViewProfile.jspa?name=ehugonnet&quot; class=&quot;user-hover&quot; rel=&quot;ehugonnet&quot;&gt;ehsavoie Hugonnet&lt;/a&gt; A quick look at the history of ServerStopHandler makes me think this is due to the &lt;a href=&quot;https://issues.jboss.org/browse/WFCORE-297&quot; title=&quot;HC should remember the &amp;#39;run&amp;#39; state of the server instances after crash or shutdown&quot; class=&quot;issue-link&quot; data-issue-key=&quot;WFCORE-297&quot;&gt;&lt;del&gt;WFCORE-297&lt;/del&gt;&lt;/a&gt; fix. At L90 it is trying to read the resource, which may be gone at that point.&lt;/p&gt;

&lt;p&gt;I think simply putting that call in a try block and catching and ignoring any RuntimeException will probably fix the problem.&lt;/p&gt;</comment>
                            <comment id="13101326" author="ehugonnet" created="Tue, 25 Aug 2015 05:47:43 -0400"  >&lt;p&gt;That is correct, we have a Resource.NoSuchResourceException thrown there.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="org.jboss.labs.jira.plugin.jboss-custom-field-types-plugin:multiurl">
                        <customfieldname>Git Pull Request</customfieldname>
                        <customfieldvalues>
                            https://github.com/wildfly/wildfly-core/pull/993
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12310641" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Number of attachments</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310640" key="com.atlassian.jira.toolkit:comments">
                        <customfieldname>Number of comments</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>2.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12311940" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1|hzy4h3:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310840" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                            <customfield id="customfield_12310183" key="com.atlassian.jira.plugin.system.customfieldtypes:textarea">
                        <customfieldname>Steps to Reproduce</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>&lt;p&gt;If a default 10.x domain is started this command sequence will fail:&lt;br/&gt;
  batch&lt;br/&gt;
  /host=master/server-config=server-one:stop(blocking=true)&lt;br/&gt;
  /host=master/server-config=server-one:remove&lt;br/&gt;
  run-batch&lt;/p&gt;
</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                            </customfields>
    </item>
</channel>
</rss>