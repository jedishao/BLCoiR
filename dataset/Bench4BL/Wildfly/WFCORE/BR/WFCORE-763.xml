<!-- 
RSS generated by JIRA (7.2.3#72005-sha1:73be91d2b96fc29303a7eb6820acf420e5d0ed65) at Tue Dec 06 17:24:38 EST 2016

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary add field=key&field=summary to the URL of your request.
For example:
https://issues.jboss.org/si/jira.issueviews:issue-xml/WFCORE-763/WFCORE-763.xml?field=key&amp;field=summary
-->
<rss version="0.92" >
<channel>
    <title>JBoss Issue Tracker</title>
    <link>https://issues.jboss.org</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-us</language>    <build-info>
        <version>7.2.3</version>
        <build-number>72005</build-number>
        <build-date>06-10-2016</build-date>
    </build-info>

<item>
            <title>[WFCORE-763] Persisting an empty list [] gets read as a list with empty string [&quot;&quot;] resulting in IllegalArgumentException</title>
                <link>https://issues.jboss.org/browse/WFCORE-763</link>
                <project id="12315422" key="WFCORE">WildFly Core</project>
                    <description>&lt;p&gt;In short, the default AttributeParser/AttributeMarshaller for list attributes do not handle empty lists in a symmetric fashion.&lt;br/&gt;
e.g. if I persist an empty list to xml, and read it back again, using the default parser/marshaller, I should get back an empty list.  Instead I get back a list of size 1 containing an empty string.&lt;/p&gt;

&lt;p&gt;Affects at least infinispan aliases and modcluster proxies...&lt;/p&gt;


&lt;p&gt;(20:09:22) rhusar: pferraro: &lt;a href=&quot;https://gist.github.com/rhusar/5eef22d7a6479f042a5d#file-gistfile1-txt-L23&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://gist.github.com/rhusar/5eef22d7a6479f042a5d#file-gistfile1-txt-L23&lt;/a&gt;&lt;br/&gt;
(20:09:34) rhusar: pferraro: if i write an empy list, read it back -&amp;gt; empty list&lt;br/&gt;
(20:09:57) rhusar: pferraro: if i use the default writeAttribute, reload, read it back and i have a list of size 1 containing empty String..&lt;br/&gt;
(20:23:23) rhusar: pferraro: alright, this is also &quot;broken&quot; in the infiinispan subsystem aliases&lt;/p&gt;


&lt;p&gt;(20:23:24) rhusar: pferraro: 20:22:55,775 ERROR &lt;span class=&quot;error&quot;&gt;&amp;#91;org.jboss.as.controller.management-operation&amp;#93;&lt;/span&gt; (ServerService Thread Pool &amp;#8211; 40) WFLYCTL0013: Operation (&quot;add&quot;) failed - address: ([&lt;br/&gt;
(20:23:24) rhusar:     (&quot;subsystem&quot; =&amp;gt; &quot;infinispan&quot;),&lt;br/&gt;
(20:23:24) rhusar:     (&quot;cache-container&quot; =&amp;gt; &quot;hibernate&quot;)&lt;br/&gt;
(20:23:24) rhusar: ]): java.lang.IllegalArgumentException: Empty name segment is not allowed for infinispan&lt;br/&gt;
(20:23:24) rhusar: 	at org.jboss.msc.service.ServiceName.of(ServiceName.java:90)&lt;br/&gt;
(20:23:24) rhusar: 	at org.jboss.msc.service.ServiceName.append(ServiceName.java:117)&lt;br/&gt;
(20:23:24) rhusar: 	at org.wildfly.clustering.infinispan.spi.service.CacheContainerServiceName$1.getServiceName(CacheContainerServiceName.java:35)&lt;br/&gt;
(20:23:24) rhusar: 	at org.jboss.as.clustering.infinispan.subsystem.CacheContainerBuilder.build(CacheContainerBuilder.java:79)&lt;br/&gt;
(20:23:24) rhusar: 	at org.jboss.as.clustering.infinispan.subsystem.CacheContainerAddHandler.installRuntimeServices(CacheContainerAddHandler.java:165)&lt;br/&gt;
(20:23:24) rhusar: 	at org.jboss.as.clustering.infinispan.subsystem.CacheContainerAddHandler.performRuntime(CacheContainerAddHandler.java:82)&lt;br/&gt;
(20:23:24) rhusar: 	at org.jboss.as.controller.AbstractAddStepHandler.performRuntime(AbstractAddStepHandler.java:309)&lt;br/&gt;
(20:23:24) rhusar: 	at org.jboss.as.controller.AbstractAddStepHandler$1.execute(AbstractAddStepHandler.java:130)&lt;br/&gt;
(20:23:24) rhusar: 	at org.jboss.as.controller.AbstractOperationContext.executeStep(AbstractOperationContext.java:822)&lt;br/&gt;
(20:23:24) rhusar: 	at org.jboss.as.controller.AbstractOperationContext.doCompleteStep(AbstractOperationContext.java:620)&lt;br/&gt;
(20:23:24) rhusar: 	at org.jboss.as.controller.AbstractOperationContext.completeStepInternal(AbstractOperationContext.java:373)&lt;br/&gt;
(20:23:24) rhusar: 	at org.jboss.as.controller.AbstractOperationContext.executeOperation(AbstractOperationContext.java:349)&lt;br/&gt;
(20:23:24) rhusar: 	at org.jboss.as.controller.ParallelBootOperationStepHandler$ParallelBootTask.run(ParallelBootOperationStepHandler.java:359)&lt;br/&gt;
(20:23:24) rhusar: 	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)&lt;br/&gt;
(20:23:24) rhusar: 	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)&lt;br/&gt;
(20:23:24) rhusar: 	at java.lang.Thread.run(Thread.java:745)&lt;br/&gt;
(20:23:24) rhusar: 	at org.jboss.threads.JBossThread.run(JBossThread.java:320)&lt;/p&gt;</description>
                <environment></environment>
        <key id="12575174">WFCORE-763</key>
            <summary>Persisting an empty list [] gets read as a list with empty string [&quot;&quot;] resulting in IllegalArgumentException</summary>
                <type id="1" iconUrl="https://issues.jboss.org/secure/viewavatar?size=xsmall&amp;avatarId=13263&amp;avatarType=issuetype">Bug</type>
                                            <priority id="4" iconUrl="https://issues.jboss.org/images/icons/priorities/minor.svg">Minor</priority>
                        <status id="5" iconUrl="https://issues.jboss.org/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Done</resolution>
                                        <assignee username="pferraro">Paul Ferraro</assignee>
                                    <reporter username="pferraro">Paul Ferraro</reporter>
                        <labels>
                    </labels>
                <created>Tue, 16 Jun 2015 10:59:39 -0400</created>
                <updated>Thu, 18 Jun 2015 16:36:00 -0400</updated>
                            <resolved>Thu, 18 Jun 2015 16:36:00 -0400</resolved>
                                    <version>1.0.0.CR6</version>
                    <version>2.0.0.Alpha4</version>
                                    <fixVersion>1.0.0.CR7</fixVersion>
                    <fixVersion>2.0.0.Alpha5</fixVersion>
                                    <component>Domain Management</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>3</watches>
                                                                <comments>
                            <comment id="13079866" author="brian.stansberry" created="Tue, 16 Jun 2015 11:38:49 -0400"  >&lt;p&gt;I was going to ask for a test case, but I like reassigning it to yourself even better!&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="12310120">
                    <name>Cloners</name>
                                            <outwardlinks description="cloned from">
                                        <issuelink>
            <issuekey id="12574881">WFLY-4779</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                    </issuelinks>
                <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="org.jboss.labs.jira.plugin.jboss-custom-field-types-plugin:multiurl">
                        <customfieldname>Git Pull Request</customfieldname>
                        <customfieldvalues>
                            https://github.com/wildfly/wildfly-core/pull/812, https://github.com/wildfly/wildfly-core/pull/815
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12310641" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Number of attachments</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310640" key="com.atlassian.jira.toolkit:comments">
                        <customfieldname>Number of comments</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12311940" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1|hzwyjb:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310840" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310090" key="com.atlassian.jira.plugin.system.customfieldtypes:multicheckboxes">
                        <customfieldname>Workaround</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10060"><![CDATA[Workaround Exists]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310091" key="com.atlassian.jira.plugin.system.customfieldtypes:textarea">
                        <customfieldname>Workaround Description</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>&lt;p&gt;Configure the attribute with a default value of new ModelNode().setEmptyList().  When persisting, choose not to marshal default values.&lt;/p&gt;</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>
</channel>
</rss>