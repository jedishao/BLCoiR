<!-- 
RSS generated by JIRA (7.2.3#72005-sha1:73be91d2b96fc29303a7eb6820acf420e5d0ed65) at Tue Dec 06 16:23:03 EST 2016

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary add field=key&field=summary to the URL of your request.
For example:
https://issues.jboss.org/si/jira.issueviews:issue-xml/WFCORE-1592/WFCORE-1592.xml?field=key&amp;field=summary
-->
<rss version="0.92" >
<channel>
    <title>JBoss Issue Tracker</title>
    <link>https://issues.jboss.org</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-us</language>    <build-info>
        <version>7.2.3</version>
        <build-number>72005</build-number>
        <build-date>06-10-2016</build-date>
    </build-info>

<item>
            <title>[WFCORE-1592] PropertiesFileLoader persists entries after deletion</title>
                <link>https://issues.jboss.org/browse/WFCORE-1592</link>
                <project id="12315422" key="WFCORE">WildFly Core</project>
                    <description>&lt;p&gt;There is a bug in PropertiesFileLoader#persistProperties, specifically &lt;a href=&quot;https://github.com/wildfly/wildfly-core/blob/master/domain-management/src/main/java/org/jboss/as/domain/management/security/PropertiesFileLoader.java#L230-L238&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;here&lt;/a&gt;. Because of the write call in the else block, properties are persisted to the file even after they have been deleted in memory.&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://github.com/psiroky/uberfire/blob/2811baeac64805646d3943a096e77cf56d5fdc26/uberfire-extensions/uberfire-security/uberfire-security-management/uberfire-security-management-wildfly/src/main/java/org/uberfire/ext/security/management/wildfly/properties/WildflyUserPropertiesManager.java#L221-L246&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;Here&lt;/a&gt; is a fixed implementation of persistProperties that we are using as a workaround.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12631010">WFCORE-1592</key>
            <summary>PropertiesFileLoader persists entries after deletion</summary>
                <type id="1" iconUrl="https://issues.jboss.org/secure/viewavatar?size=xsmall&amp;avatarId=13263&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.jboss.org/images/icons/priorities/major.svg">Major</priority>
                        <status id="5" iconUrl="https://issues.jboss.org/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Done</resolution>
                                        <assignee username="luck3y">Ken Wills</assignee>
                                    <reporter username="mbarkley">Max Barkley</reporter>
                        <labels>
                    </labels>
                <created>Mon, 13 Jun 2016 14:50:58 -0400</created>
                <updated>Fri, 29 Jul 2016 05:06:12 -0400</updated>
                            <resolved>Thu, 28 Jul 2016 12:56:23 -0400</resolved>
                                    <version>2.1.0.Final</version>
                    <version>2.2.0.CR1</version>
                    <version>2.2.0.CR2</version>
                    <version>3.0.0.Alpha1</version>
                                    <fixVersion>2.2.0.Final</fixVersion>
                    <fixVersion>3.0.0.Alpha4</fixVersion>
                                    <component>Domain Management</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>4</watches>
                                                                <comments>
                            <comment id="13270917" author="brian.stansberry" created="Tue, 26 Jul 2016 19:51:29 -0400"  >&lt;p&gt;&lt;a href=&quot;https://issues.jboss.org/secure/ViewProfile.jspa?name=luck3y&quot; class=&quot;user-hover&quot; rel=&quot;luck3y&quot;&gt;Ken Wills&lt;/a&gt; Can you evaluate the code in the description and the linked fix and if it&apos;s ok send up a PR? Thanks.&lt;/p&gt;</comment>
                            <comment id="13271693" author="luck3y" created="Wed, 27 Jul 2016 18:53:30 -0400"  >&lt;p&gt;I wrote some tests for this, and as &lt;a href=&quot;https://issues.jboss.org/secure/ViewProfile.jspa?name=mbarkley&quot; class=&quot;user-hover&quot; rel=&quot;mbarkley&quot;&gt;Max Barkley&lt;/a&gt; says, sure enough removed entries are still persisted. I&apos;ve removed the offending else, and everything still seems to be working &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.jboss.org/images/icons/emoticons/smile.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt; Thanks &lt;a href=&quot;https://issues.jboss.org/secure/ViewProfile.jspa?name=mbarkley&quot; class=&quot;user-hover&quot; rel=&quot;mbarkley&quot;&gt;Max Barkley&lt;/a&gt;!&lt;/p&gt;</comment>
                            <comment id="13272423" author="dlofthouse" created="Thu, 28 Jul 2016 16:29:12 -0400"  >&lt;p&gt;It shouldn&apos;t be a problem but can we double check the add-user utility is working Ok with any changes.&lt;/p&gt;</comment>
                            <comment id="13272432" author="brian.stansberry" created="Thu, 28 Jul 2016 16:49:04 -0400"  >&lt;p&gt;+1. If there are any issues we have time to correct them for 2.2.0.Final.&lt;/p&gt;</comment>
                            <comment id="13272440" author="luck3y" created="Thu, 28 Jul 2016 17:15:09 -0400"  >&lt;p&gt;Yep, I&apos;ll test this against full and make sure its still working.&lt;/p&gt;</comment>
                            <comment id="13272449" author="luck3y" created="Thu, 28 Jul 2016 17:27:23 -0400"  >&lt;p&gt;add-user is working fine, as it only enables / disables users by commenting them out then resaving the file, so I think we&apos;re good there. I&apos;ll have a quick look in the console too for any user management.&lt;/p&gt;</comment>
                            <comment id="13272478" author="luck3y" created="Thu, 28 Jul 2016 21:21:50 -0400"  >&lt;p&gt;I&apos;ve checked the web console too, this doesn&apos;t appear to use this mechanism for adding users at all. So I think we&apos;re good to go.&lt;/p&gt;</comment>
                            <comment id="13272626" author="dlofthouse" created="Fri, 29 Jul 2016 05:06:12 -0400"  >&lt;p&gt;No there is nothing in the console that touches the users.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310220" key="org.jboss.labs.jira.plugin.jboss-custom-field-types-plugin:multiurl">
                        <customfieldname>Git Pull Request</customfieldname>
                        <customfieldvalues>
                            https://github.com/wildfly/wildfly-core/pull/1710, https://github.com/wildfly/wildfly-core/pull/1712
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12310641" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Number of attachments</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310640" key="com.atlassian.jira.toolkit:comments">
                        <customfieldname>Number of comments</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>8.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12311940" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1|i05wq7:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310840" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                    </customfields>
    </item>
</channel>
</rss>