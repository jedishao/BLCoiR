<!-- 
RSS generated by JIRA (7.2.3#72005-sha1:73be91d2b96fc29303a7eb6820acf420e5d0ed65) at Tue Dec 06 17:38:00 EST 2016

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary add field=key&field=summary to the URL of your request.
For example:
https://issues.jboss.org/si/jira.issueviews:issue-xml/WFCORE-242/WFCORE-242.xml?field=key&amp;field=summary
-->
<rss version="0.92" >
<channel>
    <title>JBoss Issue Tracker</title>
    <link>https://issues.jboss.org</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-us</language>    <build-info>
        <version>7.2.3</version>
        <build-number>72005</build-number>
        <build-date>06-10-2016</build-date>
    </build-info>

<item>
            <title>[WFCORE-242] the deployment content is deleted if first undeploy and then deploy the same application using CLI batch</title>
                <link>https://issues.jboss.org/browse/WFCORE-242</link>
                <project id="12315422" key="WFCORE">WildFly Core</project>
                    <description>&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;If deploy and undeploy CLI commands executed in a batch mode then it causes missing  deployment inside the &quot;data/content&quot; directory which leads to the following error:&lt;/li&gt;
&lt;/ul&gt;


&lt;p/&gt;
&lt;div id=&quot;syntaxplugin&quot; class=&quot;syntaxplugin&quot; style=&quot;border: 1px dashed #bbb; border-radius: 5px !important; overflow: auto; max-height: 30em;&quot;&gt;
&lt;table cellspacing=&quot;0&quot; cellpadding=&quot;0&quot; border=&quot;0&quot; width=&quot;100%&quot; style=&quot;font-size: 1em; line-height: 1.4em !important; font-weight: normal; font-style: normal; color: black;&quot;&gt;
		&lt;tbody &gt;
				&lt;tr id=&quot;syntaxplugin_code_and_gutter&quot;&gt;
						&lt;td  style=&quot; line-height: 1.4em !important; padding: 0em; vertical-align: top;&quot;&gt;
					&lt;pre style=&quot;font-size: 1em; margin: 0 10px;  margin-top: 10px;   width: auto; padding: 0;&quot;&gt;&lt;span style=&quot;color: black; font-family: &apos;Consolas&apos;, &apos;Bitstream Vera Sans Mono&apos;, &apos;Courier New&apos;, Courier, monospace !important;&quot;&gt;[Host Controller] 10:33:42,387 ERROR [org.jboss.as.controller.management-operation] (Controller Boot Thread) WFLYCTL0013: Operation (&quot;add&quot;) failed - address: ([(&quot;deployment&quot; =&amp;gt; &quot;example.war&quot;)]) - failure description: &quot;WFLYDC0058: No deployment content with hash d85f1e3106bc8a49838a0dccae9e80819c25e02c is available in the deployment content repository for deployment &apos;example.war&apos;. This is a fatal boot error. To correct the problem, either restart with the --admin-only switch set and use the CLI to install the missing content or remove it from the configuration, or remove the deployment from the xml configuraiton file and restart.&quot;&lt;/span&gt;&lt;/pre&gt;
			&lt;/td&gt;
		&lt;/tr&gt;
				&lt;tr id=&quot;syntaxplugin_code_and_gutter&quot;&gt;
						&lt;td  style=&quot; line-height: 1.4em !important; padding: 0em; vertical-align: top;&quot;&gt;
					&lt;pre style=&quot;font-size: 1em; margin: 0 10px;   margin-bottom: 10px;  width: auto; padding: 0;&quot;&gt;&lt;span style=&quot;color: black; font-family: &apos;Consolas&apos;, &apos;Bitstream Vera Sans Mono&apos;, &apos;Courier New&apos;, Courier, monospace !important;&quot;&gt;[Host Controller] 10:33:42,390 FATAL [org.jboss.as.host.controller] (Controller Boot Thread) WFLYHC0034: Host Controller boot has failed in an unrecoverable manner; exiting. See previous messages for details.&lt;/span&gt;&lt;/pre&gt;
			&lt;/td&gt;
		&lt;/tr&gt;
			&lt;/tbody&gt;
&lt;/table&gt;
&lt;/div&gt;
&lt;p/&gt;
</description>
                <environment></environment>
        <key id="12557097">WFCORE-242</key>
            <summary>the deployment content is deleted if first undeploy and then deploy the same application using CLI batch</summary>
                <type id="1" iconUrl="https://issues.jboss.org/secure/viewavatar?size=xsmall&amp;avatarId=13263&amp;avatarType=issuetype">Bug</type>
                                            <priority id="4" iconUrl="https://issues.jboss.org/images/icons/priorities/minor.svg">Minor</priority>
                        <status id="6" iconUrl="https://issues.jboss.org/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Done</resolution>
                                        <assignee username="ehugonnet">ehsavoie Hugonnet</assignee>
                                    <reporter username="jaysensharma">Jay SenSharma</reporter>
                        <labels>
                    </labels>
                <created>Tue, 11 Nov 2014 00:10:37 -0500</created>
                <updated>Mon, 19 Jan 2015 06:56:31 -0500</updated>
                            <resolved>Fri, 5 Dec 2014 11:52:07 -0500</resolved>
                                                    <fixVersion>1.0.0.Alpha14</fixVersion>
                                    <component>CLI</component>
                    <component>Domain Management</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>4</watches>
                                                                <comments>
                            <comment id="13018964" author="brian.stansberry" created="Tue, 11 Nov 2014 09:19:03 -0500"  >&lt;p&gt;Adding --force to the &quot;deploy&quot; command will allow you to skip the &quot;undeploy&quot; command.&lt;/p&gt;</comment>
                            <comment id="13018967" author="brian.stansberry" created="Tue, 11 Nov 2014 09:22:42 -0500"  >&lt;p&gt;Emmanuel, I&apos;m assigning this to you as it&apos;s so related to the content repo gc issues you&apos;ve tackled.&lt;/p&gt;

&lt;p&gt;It&apos;s possible this is a CLI issue though. The &quot;undeploy&quot; and &quot;deploy&quot; commands are high level commands, not low level ops. So it&apos;s possible the actual low level commands that the CLI sends out are happening in a different order than you&apos;d expect from looking at the batch in the description. I suggest you test that first by tracking what ops the server receives.&lt;/p&gt;</comment>
                            <comment id="13019605" author="jira-bugzilla-migration" created="Thu, 13 Nov 2014 02:40:59 -0500"  >&lt;p&gt;baranowb &amp;lt;bbaranow@redhat.com&amp;gt; changed the Status of &lt;a href=&quot;https://bugzilla.redhat.com/show_bug.cgi?id=1163173&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;bug 1163173&lt;/a&gt; from NEW to ASSIGNED&lt;/p&gt;</comment>
                            <comment id="13020239" author="ehugonnet" created="Fri, 14 Nov 2014 12:55:32 -0500"  >&lt;p&gt;&lt;span class=&quot;error&quot;&gt;&amp;#91;Host Controller&amp;#93;&lt;/span&gt; 18:53:49,120 INFO  &lt;span class=&quot;error&quot;&gt;&amp;#91;org.jboss.as.deployment&amp;#93;&lt;/span&gt; (management-handler-thread - 2) ServerGroupDeploymentUndeployHandler is undeploying something {&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;Host Controller&amp;#93;&lt;/span&gt;     &quot;operation&quot; =&amp;gt; &quot;undeploy&quot;,&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;Host Controller&amp;#93;&lt;/span&gt;     &quot;address&quot; =&amp;gt; [&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;Host Controller&amp;#93;&lt;/span&gt;         (&quot;server-group&quot; =&amp;gt; &quot;main-server-group&quot;),&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;Host Controller&amp;#93;&lt;/span&gt;         (&quot;deployment&quot; =&amp;gt; &quot;wildfly-ejb-in-war.war&quot;)&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;Host Controller&amp;#93;&lt;/span&gt;     ],&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;Host Controller&amp;#93;&lt;/span&gt;     &quot;operation-headers&quot; =&amp;gt; &lt;/p&gt;
{
[Host Controller]         &quot;caller-type&quot; =&amp;gt; &quot;user&quot;,
[Host Controller]         &quot;access-mechanism&quot; =&amp;gt; &quot;NATIVE&quot;,
[Host Controller]         &quot;domain-uuid&quot; =&amp;gt; &quot;79e6a653-cf73-4d4f-a9b7-df0a83795da3&quot;
[Host Controller]     }&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;Host Controller&amp;#93;&lt;/span&gt; } &lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;Host Controller&amp;#93;&lt;/span&gt; 18:53:49,125 INFO  &lt;span class=&quot;error&quot;&gt;&amp;#91;org.jboss.as.deployment&amp;#93;&lt;/span&gt; (management-handler-thread - 2) ServerGroupDeploymentRemoveHandler is removing something {&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;Host Controller&amp;#93;&lt;/span&gt;     &quot;operation&quot; =&amp;gt; &quot;remove&quot;,&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;Host Controller&amp;#93;&lt;/span&gt;     &quot;address&quot; =&amp;gt; [&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;Host Controller&amp;#93;&lt;/span&gt;         (&quot;server-group&quot; =&amp;gt; &quot;main-server-group&quot;),&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;Host Controller&amp;#93;&lt;/span&gt;         (&quot;deployment&quot; =&amp;gt; &quot;wildfly-ejb-in-war.war&quot;)&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;Host Controller&amp;#93;&lt;/span&gt;     ],&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;Host Controller&amp;#93;&lt;/span&gt;     &quot;operation-headers&quot; =&amp;gt; {
[Host Controller]         &quot;caller-type&quot; =&amp;gt; &quot;user&quot;,
[Host Controller]         &quot;access-mechanism&quot; =&amp;gt; &quot;NATIVE&quot;,
[Host Controller]         &quot;domain-uuid&quot; =&amp;gt; &quot;79e6a653-cf73-4d4f-a9b7-df0a83795da3&quot;
[Host Controller]     }
&lt;p&gt;&lt;span class=&quot;error&quot;&gt;&amp;#91;Host Controller&amp;#93;&lt;/span&gt; } &lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;Host Controller&amp;#93;&lt;/span&gt; 18:53:49,136 INFO  &lt;span class=&quot;error&quot;&gt;&amp;#91;org.jboss.as.deployment&amp;#93;&lt;/span&gt; (management-handler-thread - 2) ServerGroupDeploymentAddHandler is adding something {&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;Host Controller&amp;#93;&lt;/span&gt;     &quot;operation&quot; =&amp;gt; &quot;add&quot;,&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;Host Controller&amp;#93;&lt;/span&gt;     &quot;address&quot; =&amp;gt; [&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;Host Controller&amp;#93;&lt;/span&gt;         (&quot;server-group&quot; =&amp;gt; &quot;main-server-group&quot;),&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;Host Controller&amp;#93;&lt;/span&gt;         (&quot;deployment&quot; =&amp;gt; &quot;wildfly-ejb-in-war.war&quot;)&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;Host Controller&amp;#93;&lt;/span&gt;     ],&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;Host Controller&amp;#93;&lt;/span&gt;     &quot;operation-headers&quot; =&amp;gt; &lt;/p&gt;
{
[Host Controller]         &quot;caller-type&quot; =&amp;gt; &quot;user&quot;,
[Host Controller]         &quot;access-mechanism&quot; =&amp;gt; &quot;NATIVE&quot;,
[Host Controller]         &quot;domain-uuid&quot; =&amp;gt; &quot;79e6a653-cf73-4d4f-a9b7-df0a83795da3&quot;
[Host Controller]     }&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;Host Controller&amp;#93;&lt;/span&gt; } &lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;Host Controller&amp;#93;&lt;/span&gt; 18:53:49,143 INFO  &lt;span class=&quot;error&quot;&gt;&amp;#91;org.jboss.as.deployment&amp;#93;&lt;/span&gt; (management-handler-thread - 2) ServerGroupDeploymentDeployHandler is enabling something {&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;Host Controller&amp;#93;&lt;/span&gt;     &quot;operation&quot; =&amp;gt; &quot;deploy&quot;,&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;Host Controller&amp;#93;&lt;/span&gt;     &quot;address&quot; =&amp;gt; [&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;Host Controller&amp;#93;&lt;/span&gt;         (&quot;server-group&quot; =&amp;gt; &quot;main-server-group&quot;),&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;Host Controller&amp;#93;&lt;/span&gt;         (&quot;deployment&quot; =&amp;gt; &quot;wildfly-ejb-in-war.war&quot;)&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;Host Controller&amp;#93;&lt;/span&gt;     ],&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;Host Controller&amp;#93;&lt;/span&gt;     &quot;operation-headers&quot; =&amp;gt; {
[Host Controller]         &quot;caller-type&quot; =&amp;gt; &quot;user&quot;,
[Host Controller]         &quot;access-mechanism&quot; =&amp;gt; &quot;NATIVE&quot;,
[Host Controller]         &quot;domain-uuid&quot; =&amp;gt; &quot;79e6a653-cf73-4d4f-a9b7-df0a83795da3&quot;
[Host Controller]     }
&lt;p&gt;&lt;span class=&quot;error&quot;&gt;&amp;#91;Host Controller&amp;#93;&lt;/span&gt; } &lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;Server:server-one&amp;#93;&lt;/span&gt; 18:53:49,252 INFO  &lt;span class=&quot;error&quot;&gt;&amp;#91;org.jboss.as.server&amp;#93;&lt;/span&gt; (ServerService Thread Pool &amp;#8211; 20) DeploymentUndeployHandler is undeploying something {&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;Server:server-one&amp;#93;&lt;/span&gt;     &quot;operation&quot; =&amp;gt; &quot;undeploy&quot;,&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;Server:server-one&amp;#93;&lt;/span&gt;     &quot;address&quot; =&amp;gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;(&amp;quot;deployment&amp;quot; =&amp;gt; &amp;quot;wildfly-ejb-in-war.war&amp;quot;)&amp;#93;&lt;/span&gt;,&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;Server:server-one&amp;#93;&lt;/span&gt;     &quot;operation-headers&quot; =&amp;gt; {}&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;Server:server-one&amp;#93;&lt;/span&gt; } &lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;Server:server-two&amp;#93;&lt;/span&gt; 18:53:49,263 INFO  &lt;span class=&quot;error&quot;&gt;&amp;#91;org.jboss.as.server&amp;#93;&lt;/span&gt; (ServerService Thread Pool &amp;#8211; 12) DeploymentUndeployHandler is undeploying something {&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;Server:server-two&amp;#93;&lt;/span&gt;     &quot;operation&quot; =&amp;gt; &quot;undeploy&quot;,&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;Server:server-two&amp;#93;&lt;/span&gt;     &quot;address&quot; =&amp;gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;(&amp;quot;deployment&amp;quot; =&amp;gt; &amp;quot;wildfly-ejb-in-war.war&amp;quot;)&amp;#93;&lt;/span&gt;,&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;Server:server-two&amp;#93;&lt;/span&gt;     &quot;operation-headers&quot; =&amp;gt; {}&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;Server:server-two&amp;#93;&lt;/span&gt; } &lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;Server:server-one&amp;#93;&lt;/span&gt; 18:53:49,267 INFO  &lt;span class=&quot;error&quot;&gt;&amp;#91;org.jboss.as.server&amp;#93;&lt;/span&gt; (ServerService Thread Pool &amp;#8211; 20) DeploymentAddHandler is adding something {&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;Server:server-one&amp;#93;&lt;/span&gt;     &quot;operation&quot; =&amp;gt; &quot;add&quot;,&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;Server:server-one&amp;#93;&lt;/span&gt;     &quot;address&quot; =&amp;gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;(&amp;quot;deployment&amp;quot; =&amp;gt; &amp;quot;wildfly-ejb-in-war.war&amp;quot;)&amp;#93;&lt;/span&gt;,&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;Server:server-one&amp;#93;&lt;/span&gt;     &quot;operation-headers&quot; =&amp;gt; {},&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;Server:server-one&amp;#93;&lt;/span&gt;     &quot;runtime-name&quot; =&amp;gt; &quot;wildfly-ejb-in-war.war&quot;,&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;Server:server-one&amp;#93;&lt;/span&gt;     &quot;content&quot; =&amp;gt; [{&quot;hash&quot; =&amp;gt; bytes {&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;Server:server-one&amp;#93;&lt;/span&gt;         0x5e, 0x4b, 0x77, 0x2f, 0xb7, 0xc3, 0x95, 0xc3,&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;Server:server-one&amp;#93;&lt;/span&gt;         0xc3, 0x00, 0xda, 0xd6, 0xe9, 0x3e, 0x3d, 0x8c,&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;Server:server-one&amp;#93;&lt;/span&gt;         0x7e, 0xcd, 0xea, 0x20&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;Server:server-one&amp;#93;&lt;/span&gt;     }}]&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;Server:server-one&amp;#93;&lt;/span&gt; } &lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;Server:server-one&amp;#93;&lt;/span&gt; 18:53:49,270 INFO  &lt;span class=&quot;error&quot;&gt;&amp;#91;org.jboss.as.server&amp;#93;&lt;/span&gt; (ServerService Thread Pool &amp;#8211; 20) DeploymentDeployHandler is enabling something {&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;Server:server-one&amp;#93;&lt;/span&gt;     &quot;operation&quot; =&amp;gt; &quot;deploy&quot;,&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;Server:server-one&amp;#93;&lt;/span&gt;     &quot;address&quot; =&amp;gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;(&amp;quot;deployment&amp;quot; =&amp;gt; &amp;quot;wildfly-ejb-in-war.war&amp;quot;)&amp;#93;&lt;/span&gt;,&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;Server:server-one&amp;#93;&lt;/span&gt;     &quot;operation-headers&quot; =&amp;gt; {}&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;Server:server-one&amp;#93;&lt;/span&gt; } &lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;Server:server-one&amp;#93;&lt;/span&gt; 18:53:49,280 INFO  &lt;span class=&quot;error&quot;&gt;&amp;#91;org.jboss.as.server&amp;#93;&lt;/span&gt; (ServerService Thread Pool &amp;#8211; 20) DeploymentRemoveHandler is removing something {&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;Server:server-one&amp;#93;&lt;/span&gt;     &quot;operation&quot; =&amp;gt; &quot;remove&quot;,&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;Server:server-one&amp;#93;&lt;/span&gt;     &quot;address&quot; =&amp;gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;(&amp;quot;deployment&amp;quot; =&amp;gt; &amp;quot;wildfly-ejb-in-war.war&amp;quot;)&amp;#93;&lt;/span&gt;,&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;Server:server-one&amp;#93;&lt;/span&gt;     &quot;operation-headers&quot; =&amp;gt; {}&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;Server:server-one&amp;#93;&lt;/span&gt; } &lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;Server:server-two&amp;#93;&lt;/span&gt; 18:53:49,284 INFO  &lt;span class=&quot;error&quot;&gt;&amp;#91;org.jboss.as.server&amp;#93;&lt;/span&gt; (ServerService Thread Pool &amp;#8211; 12) DeploymentAddHandler is adding something {&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;Server:server-two&amp;#93;&lt;/span&gt;     &quot;operation&quot; =&amp;gt; &quot;add&quot;,&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;Server:server-two&amp;#93;&lt;/span&gt;     &quot;address&quot; =&amp;gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;(&amp;quot;deployment&amp;quot; =&amp;gt; &amp;quot;wildfly-ejb-in-war.war&amp;quot;)&amp;#93;&lt;/span&gt;,&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;Server:server-two&amp;#93;&lt;/span&gt;     &quot;operation-headers&quot; =&amp;gt; {},&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;Server:server-two&amp;#93;&lt;/span&gt;     &quot;runtime-name&quot; =&amp;gt; &quot;wildfly-ejb-in-war.war&quot;,&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;Server:server-two&amp;#93;&lt;/span&gt;     &quot;content&quot; =&amp;gt; [{&quot;hash&quot; =&amp;gt; bytes {&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;Server:server-two&amp;#93;&lt;/span&gt;         0x5e, 0x4b, 0x77, 0x2f, 0xb7, 0xc3, 0x95, 0xc3,&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;Server:server-two&amp;#93;&lt;/span&gt;         0xc3, 0x00, 0xda, 0xd6, 0xe9, 0x3e, 0x3d, 0x8c,&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;Server:server-two&amp;#93;&lt;/span&gt;         0x7e, 0xcd, 0xea, 0x20&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;Server:server-two&amp;#93;&lt;/span&gt;     }}]&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;Server:server-two&amp;#93;&lt;/span&gt; } &lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;Server:server-two&amp;#93;&lt;/span&gt; 18:53:49,286 INFO  &lt;span class=&quot;error&quot;&gt;&amp;#91;org.jboss.as.server&amp;#93;&lt;/span&gt; (ServerService Thread Pool &amp;#8211; 12) DeploymentDeployHandler is enabling something {&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;Server:server-two&amp;#93;&lt;/span&gt;     &quot;operation&quot; =&amp;gt; &quot;deploy&quot;,&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;Server:server-two&amp;#93;&lt;/span&gt;     &quot;address&quot; =&amp;gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;(&amp;quot;deployment&amp;quot; =&amp;gt; &amp;quot;wildfly-ejb-in-war.war&amp;quot;)&amp;#93;&lt;/span&gt;,&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;Server:server-two&amp;#93;&lt;/span&gt;     &quot;operation-headers&quot; =&amp;gt; {}&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;Server:server-two&amp;#93;&lt;/span&gt; } &lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;Server:server-one&amp;#93;&lt;/span&gt; 18:53:49,299 INFO  &lt;span class=&quot;error&quot;&gt;&amp;#91;org.wildfly.extension.undertow&amp;#93;&lt;/span&gt; (MSC service thread 1-4) WFLYUT0022: Unregistered web context: /wildfly-ejb-in-war&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;Server:server-two&amp;#93;&lt;/span&gt; 18:53:49,303 INFO  &lt;span class=&quot;error&quot;&gt;&amp;#91;org.wildfly.extension.undertow&amp;#93;&lt;/span&gt; (MSC service thread 1-4) WFLYUT0022: Unregistered web context: /wildfly-ejb-in-war&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;Server:server-two&amp;#93;&lt;/span&gt; 18:53:49,293 INFO  &lt;span class=&quot;error&quot;&gt;&amp;#91;org.jboss.as.server&amp;#93;&lt;/span&gt; (ServerService Thread Pool &amp;#8211; 12) DeploymentRemoveHandler is removing something {&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;Server:server-two&amp;#93;&lt;/span&gt;     &quot;operation&quot; =&amp;gt; &quot;remove&quot;,&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;Server:server-two&amp;#93;&lt;/span&gt;     &quot;address&quot; =&amp;gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;(&amp;quot;deployment&amp;quot; =&amp;gt; &amp;quot;wildfly-ejb-in-war.war&amp;quot;)&amp;#93;&lt;/span&gt;,&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;Server:server-two&amp;#93;&lt;/span&gt;     &quot;operation-headers&quot; =&amp;gt; {}&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;Server:server-two&amp;#93;&lt;/span&gt; } &lt;/p&gt;</comment>
                            <comment id="13020241" author="ehugonnet" created="Fri, 14 Nov 2014 12:58:18 -0500"  >&lt;p&gt;So it looks like the commands on the servers are not runned in the expected order.&lt;/p&gt;</comment>
                            <comment id="13020263" author="brian.stansberry" created="Fri, 14 Nov 2014 14:27:37 -0500"  >&lt;p&gt;The way this works is after the HC executes the normal operation steps (you&apos;ve logged some of that), a step that executes ServerOperationsResolverHandler is executed. It calls ServerOperationResolver, whose job is to translate the HC-level ops into a set of ops to invoke on the servers.* So the first place to look is there, to confirm it is producing the correct sequence of operations to execute on the servers. HostControllerExecutionSupport.Factory and HostControllerExecutionSupport.MultiStepOpExecutionSupport are good places to look, as they deal with composites.&lt;/p&gt;

&lt;ul&gt;
	&lt;li&gt;ServerOperationsResolverHandler adds the op ModelNodes as data on the response, making it available to whatever HC is controlling rollout of the overall op across the domain. In this case that would be the master HC. The controlling HC then tells the servers to execute. It&apos;s possible the problem is there, but it&apos;s better to start with ServerOperationsResolverHandler.&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13020511" author="ehugonnet" created="Mon, 17 Nov 2014 11:15:45 -0500"  >&lt;p&gt;The content is removed in a ResultHandler thus the effective removal is done after adding the deployment resource.&lt;/p&gt;</comment>
                            <comment id="13020529" author="ehugonnet" created="Mon, 17 Nov 2014 12:15:30 -0500"  >&lt;p&gt;This has nothing to do with the CLI nor the ordering of operations on the server side, so I&apos;m decreasing the priority.&lt;br/&gt;
This behaviour is incorrect but there is a simple workaround using --force in the deploy command to avoid it.&lt;/p&gt;

&lt;p&gt;With the fix, you&apos;ll need to start the deployment after the batch :&lt;/p&gt;
&lt;p/&gt;
&lt;div id=&quot;syntaxplugin&quot; class=&quot;syntaxplugin&quot; style=&quot;border: 1px dashed #bbb; border-radius: 5px !important; overflow: auto; max-height: 30em;&quot;&gt;
&lt;table cellspacing=&quot;0&quot; cellpadding=&quot;0&quot; border=&quot;0&quot; width=&quot;100%&quot; style=&quot;font-size: 1em; line-height: 1.4em !important; font-weight: normal; font-style: normal; color: black;&quot;&gt;
		&lt;tbody &gt;
				&lt;tr id=&quot;syntaxplugin_code_and_gutter&quot;&gt;
						&lt;td  style=&quot; line-height: 1.4em !important; padding: 0em; vertical-align: top;&quot;&gt;
					&lt;pre style=&quot;font-size: 1em; margin: 0 10px;  margin-top: 10px;   width: auto; padding: 0;&quot;&gt;&lt;span style=&quot;color: black; font-family: &apos;Consolas&apos;, &apos;Bitstream Vera Sans Mono&apos;, &apos;Courier New&apos;, Courier, monospace !important;&quot;&gt;batch&lt;/span&gt;&lt;/pre&gt;
			&lt;/td&gt;
		&lt;/tr&gt;
				&lt;tr id=&quot;syntaxplugin_code_and_gutter&quot;&gt;
						&lt;td  style=&quot; line-height: 1.4em !important; padding: 0em; vertical-align: top;&quot;&gt;
					&lt;pre style=&quot;font-size: 1em; margin: 0 10px;   width: auto; padding: 0;&quot;&gt;&lt;span style=&quot;color: black; font-family: &apos;Consolas&apos;, &apos;Bitstream Vera Sans Mono&apos;, &apos;Courier New&apos;, Courier, monospace !important;&quot;&gt;undeploy example.war --server-groups=main-server-group&lt;/span&gt;&lt;/pre&gt;
			&lt;/td&gt;
		&lt;/tr&gt;
				&lt;tr id=&quot;syntaxplugin_code_and_gutter&quot;&gt;
						&lt;td  style=&quot; line-height: 1.4em !important; padding: 0em; vertical-align: top;&quot;&gt;
					&lt;pre style=&quot;font-size: 1em; margin: 0 10px;   width: auto; padding: 0;&quot;&gt;&lt;span style=&quot;color: black; font-family: &apos;Consolas&apos;, &apos;Bitstream Vera Sans Mono&apos;, &apos;Courier New&apos;, Courier, monospace !important;&quot;&gt;deploy /PATH/TO/example.war --name=example.war --server-groups=main-server-group&lt;/span&gt;&lt;/pre&gt;
			&lt;/td&gt;
		&lt;/tr&gt;
				&lt;tr id=&quot;syntaxplugin_code_and_gutter&quot;&gt;
						&lt;td  style=&quot; line-height: 1.4em !important; padding: 0em; vertical-align: top;&quot;&gt;
					&lt;pre style=&quot;font-size: 1em; margin: 0 10px;   width: auto; padding: 0;&quot;&gt;&lt;span style=&quot;color: black; font-family: &apos;Consolas&apos;, &apos;Bitstream Vera Sans Mono&apos;, &apos;Courier New&apos;, Courier, monospace !important;&quot;&gt;/server-group=main-server-group/deployment=example.war:redeploy&lt;/span&gt;&lt;/pre&gt;
			&lt;/td&gt;
		&lt;/tr&gt;
				&lt;tr id=&quot;syntaxplugin_code_and_gutter&quot;&gt;
						&lt;td  style=&quot; line-height: 1.4em !important; padding: 0em; vertical-align: top;&quot;&gt;
					&lt;pre style=&quot;font-size: 1em; margin: 0 10px;   margin-bottom: 10px;  width: auto; padding: 0;&quot;&gt;&lt;span style=&quot;color: black; font-family: &apos;Consolas&apos;, &apos;Bitstream Vera Sans Mono&apos;, &apos;Courier New&apos;, Courier, monospace !important;&quot;&gt;run-batch&lt;/span&gt;&lt;/pre&gt;
			&lt;/td&gt;
		&lt;/tr&gt;
			&lt;/tbody&gt;
&lt;/table&gt;
&lt;/div&gt;
&lt;p/&gt;</comment>
                            <comment id="13022707" author="jira-bugzilla-migration" created="Tue, 25 Nov 2014 08:05:42 -0500"  >&lt;p&gt;Tomas Hofman &amp;lt;thofman@redhat.com&amp;gt; changed the Status of &lt;a href=&quot;https://bugzilla.redhat.com/show_bug.cgi?id=1162444&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;bug 1162444&lt;/a&gt; from NEW to ASSIGNED&lt;/p&gt;</comment>
                            <comment id="13022754" author="jira-bugzilla-migration" created="Tue, 25 Nov 2014 09:17:25 -0500"  >&lt;p&gt;Brian Stansberry &amp;lt;brian.stansberry@redhat.com&amp;gt; changed the Status of &lt;a href=&quot;https://bugzilla.redhat.com/show_bug.cgi?id=1162444&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;bug 1162444&lt;/a&gt; from ASSIGNED to POST&lt;/p&gt;</comment>
                            <comment id="13023061" author="jira-bugzilla-migration" created="Wed, 26 Nov 2014 05:45:16 -0500"  >&lt;p&gt;Emmanuel Hugonnet (ehsavoie) &amp;lt;ehugonne@redhat.com&amp;gt; changed the Status of &lt;a href=&quot;https://bugzilla.redhat.com/show_bug.cgi?id=1162444&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;bug 1162444&lt;/a&gt; from POST to ASSIGNED&lt;/p&gt;</comment>
                            <comment id="13023070" author="jira-bugzilla-migration" created="Wed, 26 Nov 2014 06:22:35 -0500"  >&lt;p&gt;Tomas Hofman &amp;lt;thofman@redhat.com&amp;gt; changed the Status of &lt;a href=&quot;https://bugzilla.redhat.com/show_bug.cgi?id=1162444&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;bug 1162444&lt;/a&gt; from ASSIGNED to POST&lt;/p&gt;</comment>
                            <comment id="13023365" author="jira-bugzilla-migration" created="Wed, 26 Nov 2014 12:43:25 -0500"  >&lt;p&gt;Kabir Khan &amp;lt;kkhan@redhat.com&amp;gt; changed the Status of &lt;a href=&quot;https://bugzilla.redhat.com/show_bug.cgi?id=1162444&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;bug 1162444&lt;/a&gt; from POST to MODIFIED&lt;/p&gt;</comment>
                            <comment id="13024545" author="jira-bugzilla-migration" created="Tue, 2 Dec 2014 15:56:18 -0500"  >&lt;p&gt;Paul Gier &amp;lt;pgier@redhat.com&amp;gt; changed the Status of &lt;a href=&quot;https://bugzilla.redhat.com/show_bug.cgi?id=1162444&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;bug 1162444&lt;/a&gt; from MODIFIED to ON_QA&lt;/p&gt;</comment>
                            <comment id="13024621" author="jira-bugzilla-migration" created="Wed, 3 Dec 2014 03:52:44 -0500"  >&lt;p&gt;Tomas Hofman &amp;lt;thofman@redhat.com&amp;gt; changed the Status of &lt;a href=&quot;https://bugzilla.redhat.com/show_bug.cgi?id=1163173&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;bug 1163173&lt;/a&gt; from ASSIGNED to POST&lt;/p&gt;</comment>
                            <comment id="13025535" author="jira-bugzilla-migration" created="Fri, 5 Dec 2014 09:29:35 -0500"  >&lt;p&gt;Marek Kopecky &amp;lt;mkopecky@redhat.com&amp;gt; changed the Status of &lt;a href=&quot;https://bugzilla.redhat.com/show_bug.cgi?id=1162444&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;bug 1162444&lt;/a&gt; from ON_QA to VERIFIED&lt;/p&gt;</comment>
                            <comment id="13030398" author="jira-bugzilla-migration" created="Wed, 7 Jan 2015 03:13:02 -0500"  >&lt;p&gt;Dominik Pospisil &amp;lt;dpospisi@redhat.com&amp;gt; changed the Status of &lt;a href=&quot;https://bugzilla.redhat.com/show_bug.cgi?id=1163173&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;bug 1163173&lt;/a&gt; from POST to MODIFIED&lt;/p&gt;</comment>
                            <comment id="13033084" author="jira-bugzilla-migration" created="Fri, 16 Jan 2015 06:25:57 -0500"  >&lt;p&gt;Vaclav Tunka &amp;lt;vtunka@redhat.com&amp;gt; changed the Status of &lt;a href=&quot;https://bugzilla.redhat.com/show_bug.cgi?id=1163173&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;bug 1163173&lt;/a&gt; from MODIFIED to ON_QA&lt;/p&gt;</comment>
                            <comment id="13033477" author="jira-bugzilla-migration" created="Mon, 19 Jan 2015 06:56:31 -0500"  >&lt;p&gt;Marek Kopecky &amp;lt;mkopecky@redhat.com&amp;gt; changed the Status of &lt;a href=&quot;https://bugzilla.redhat.com/show_bug.cgi?id=1163173&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;bug 1163173&lt;/a&gt; from ON_QA to VERIFIED&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310440" key="org.jboss.labs.jira.plugin.jboss-custom-field-types-plugin:multiurl">
                        <customfieldname>Bugzilla References</customfieldname>
                        <customfieldvalues>
                            https://bugzilla.redhat.com/show_bug.cgi?id=1162444, https://bugzilla.redhat.com/show_bug.cgi?id=1163173
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310341" key="com.atlassian.jira.plugin.system.customfieldtypes:multicheckboxes">
                        <customfieldname>Bugzilla Update</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10250"><![CDATA[Perform]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310220" key="org.jboss.labs.jira.plugin.jboss-custom-field-types-plugin:multiurl">
                        <customfieldname>Git Pull Request</customfieldname>
                        <customfieldvalues>
                            https://github.com/wildfly/wildfly-core/pull/339
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12310641" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Number of attachments</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310640" key="com.atlassian.jira.toolkit:comments">
                        <customfieldname>Number of comments</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>19.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12311940" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1|hzu1yn:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310840" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                            <customfield id="customfield_12310183" key="com.atlassian.jira.plugin.system.customfieldtypes:textarea">
                        <customfieldname>Steps to Reproduce</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;1. Take a fresh WildFly 9 and start the domain mode.&lt;/li&gt;
	&lt;li&gt;2. Deploy any simple application to it as following:
&lt;p/&gt;
&lt;div id=&quot;syntaxplugin&quot; class=&quot;syntaxplugin&quot; style=&quot;border: 1px dashed #bbb; border-radius: 5px !important; overflow: auto; max-height: 30em;&quot;&gt;
&lt;table cellspacing=&quot;0&quot; cellpadding=&quot;0&quot; border=&quot;0&quot; width=&quot;100%&quot; style=&quot;font-size: 1em; line-height: 1.4em !important; font-weight: normal; font-style: normal; color: black;&quot;&gt;
		&lt;tbody &gt;
				&lt;tr id=&quot;syntaxplugin_code_and_gutter&quot;&gt;
						&lt;td  style=&quot; line-height: 1.4em !important; padding: 0em; vertical-align: top;&quot;&gt;
					&lt;pre style=&quot;font-size: 1em; margin: 0 10px;  margin-top: 10px;   margin-bottom: 10px;  width: auto; padding: 0;&quot;&gt;&lt;span style=&quot;color: black; font-family: &apos;Consolas&apos;, &apos;Bitstream Vera Sans Mono&apos;, &apos;Courier New&apos;, Courier, monospace !important;&quot;&gt;deploy /PATH/TO/example.war --name=example.war --server-groups=main-server-group&lt;/span&gt;&lt;/pre&gt;
			&lt;/td&gt;
		&lt;/tr&gt;
			&lt;/tbody&gt;
&lt;/table&gt;
&lt;/div&gt;
&lt;p/&gt;&lt;/li&gt;
&lt;/ul&gt;


&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;3. Check the application is working and accessible and the contetns are present inside the &quot;domain/servers/server-one/data/content&quot; and &quot;domain/servers/server-two/data/content&quot;&lt;/li&gt;
&lt;/ul&gt;


&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;4. Now run the following command sequence in batch mode using CLI.
&lt;p/&gt;
&lt;div id=&quot;syntaxplugin&quot; class=&quot;syntaxplugin&quot; style=&quot;border: 1px dashed #bbb; border-radius: 5px !important; overflow: auto; max-height: 30em;&quot;&gt;
&lt;table cellspacing=&quot;0&quot; cellpadding=&quot;0&quot; border=&quot;0&quot; width=&quot;100%&quot; style=&quot;font-size: 1em; line-height: 1.4em !important; font-weight: normal; font-style: normal; color: black;&quot;&gt;
		&lt;tbody &gt;
				&lt;tr id=&quot;syntaxplugin_code_and_gutter&quot;&gt;
						&lt;td  style=&quot; line-height: 1.4em !important; padding: 0em; vertical-align: top;&quot;&gt;
					&lt;pre style=&quot;font-size: 1em; margin: 0 10px;  margin-top: 10px;   width: auto; padding: 0;&quot;&gt;&lt;span style=&quot;color: black; font-family: &apos;Consolas&apos;, &apos;Bitstream Vera Sans Mono&apos;, &apos;Courier New&apos;, Courier, monospace !important;&quot;&gt;batch&lt;/span&gt;&lt;/pre&gt;
			&lt;/td&gt;
		&lt;/tr&gt;
				&lt;tr id=&quot;syntaxplugin_code_and_gutter&quot;&gt;
						&lt;td  style=&quot; line-height: 1.4em !important; padding: 0em; vertical-align: top;&quot;&gt;
					&lt;pre style=&quot;font-size: 1em; margin: 0 10px;   width: auto; padding: 0;&quot;&gt;&lt;span style=&quot;color: black; font-family: &apos;Consolas&apos;, &apos;Bitstream Vera Sans Mono&apos;, &apos;Courier New&apos;, Courier, monospace !important;&quot;&gt;undeploy example.war --server-groups=main-server-group&lt;/span&gt;&lt;/pre&gt;
			&lt;/td&gt;
		&lt;/tr&gt;
				&lt;tr id=&quot;syntaxplugin_code_and_gutter&quot;&gt;
						&lt;td  style=&quot; line-height: 1.4em !important; padding: 0em; vertical-align: top;&quot;&gt;
					&lt;pre style=&quot;font-size: 1em; margin: 0 10px;   width: auto; padding: 0;&quot;&gt;&lt;span style=&quot;color: black; font-family: &apos;Consolas&apos;, &apos;Bitstream Vera Sans Mono&apos;, &apos;Courier New&apos;, Courier, monospace !important;&quot;&gt;deploy /PATH/TO/example.war --name=example.war --server-groups=main-server-group&lt;/span&gt;&lt;/pre&gt;
			&lt;/td&gt;
		&lt;/tr&gt;
				&lt;tr id=&quot;syntaxplugin_code_and_gutter&quot;&gt;
						&lt;td  style=&quot; line-height: 1.4em !important; padding: 0em; vertical-align: top;&quot;&gt;
					&lt;pre style=&quot;font-size: 1em; margin: 0 10px;   margin-bottom: 10px;  width: auto; padding: 0;&quot;&gt;&lt;span style=&quot;color: black; font-family: &apos;Consolas&apos;, &apos;Bitstream Vera Sans Mono&apos;, &apos;Courier New&apos;, Courier, monospace !important;&quot;&gt;run-batch&lt;/span&gt;&lt;/pre&gt;
			&lt;/td&gt;
		&lt;/tr&gt;
			&lt;/tbody&gt;
&lt;/table&gt;
&lt;/div&gt;
&lt;p/&gt;&lt;/li&gt;
&lt;/ul&gt;


&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;5.  Check the domain.xml file that it has the deployment entry properly inside it. However the Content of this WAR is missing from the server&apos;s content directory which  &quot;domain/servers/server-one/data/content&quot; and &quot;domain/servers/server-two/data/content&quot;,  So when attempt to restart the domain next time it leads to the following error:&lt;/li&gt;
&lt;/ul&gt;


&lt;p/&gt;
&lt;div id=&quot;syntaxplugin&quot; class=&quot;syntaxplugin&quot; style=&quot;border: 1px dashed #bbb; border-radius: 5px !important; overflow: auto; max-height: 30em;&quot;&gt;
&lt;table cellspacing=&quot;0&quot; cellpadding=&quot;0&quot; border=&quot;0&quot; width=&quot;100%&quot; style=&quot;font-size: 1em; line-height: 1.4em !important; font-weight: normal; font-style: normal; color: black;&quot;&gt;
		&lt;tbody &gt;
				&lt;tr id=&quot;syntaxplugin_code_and_gutter&quot;&gt;
						&lt;td  style=&quot; line-height: 1.4em !important; padding: 0em; vertical-align: top;&quot;&gt;
					&lt;pre style=&quot;font-size: 1em; margin: 0 10px;  margin-top: 10px;   width: auto; padding: 0;&quot;&gt;&lt;span style=&quot;color: black; font-family: &apos;Consolas&apos;, &apos;Bitstream Vera Sans Mono&apos;, &apos;Courier New&apos;, Courier, monospace !important;&quot;&gt;[Host Controller] 10:33:42,387 ERROR [org.jboss.as.controller.management-operation] (Controller Boot Thread) WFLYCTL0013: Operation (&quot;add&quot;) failed - address: ([(&quot;deployment&quot; =&amp;gt; &quot;example.war&quot;)]) - failure description: &quot;WFLYDC0058: No deployment content with hash d85f1e3106bc8a49838a0dccae9e80819c25e02c is available in the deployment content repository for deployment &apos;example.war&apos;. This is a fatal boot error. To correct the problem, either restart with the --admin-only switch set and use the CLI to install the missing content or remove it from the configuration, or remove the deployment from the xml configuraiton file and restart.&quot;&lt;/span&gt;&lt;/pre&gt;
			&lt;/td&gt;
		&lt;/tr&gt;
				&lt;tr id=&quot;syntaxplugin_code_and_gutter&quot;&gt;
						&lt;td  style=&quot; line-height: 1.4em !important; padding: 0em; vertical-align: top;&quot;&gt;
					&lt;pre style=&quot;font-size: 1em; margin: 0 10px;   margin-bottom: 10px;  width: auto; padding: 0;&quot;&gt;&lt;span style=&quot;color: black; font-family: &apos;Consolas&apos;, &apos;Bitstream Vera Sans Mono&apos;, &apos;Courier New&apos;, Courier, monospace !important;&quot;&gt;[Host Controller] 10:33:42,390 FATAL [org.jboss.as.host.controller] (Controller Boot Thread) WFLYHC0034: Host Controller boot has failed in an unrecoverable manner; exiting. See previous messages for details.&lt;/span&gt;&lt;/pre&gt;
			&lt;/td&gt;
		&lt;/tr&gt;
			&lt;/tbody&gt;
&lt;/table&gt;
&lt;/div&gt;
&lt;p/&gt;</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                            <customfield id="customfield_12310091" key="com.atlassian.jira.plugin.system.customfieldtypes:textarea">
                        <customfieldname>Workaround Description</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;Do not run the deploy and undeploy CLI commands together inside the same CLI batch run.&lt;/li&gt;
&lt;/ul&gt;
</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                    </customfields>
    </item>
</channel>
</rss>