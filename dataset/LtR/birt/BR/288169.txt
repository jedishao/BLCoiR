Bug 288169  Snow Leopard (OS X 10.6) : BIRT Report Designer Crashes EclipseUser-Agent:       Mozilla/5.0 (Macintosh; U; Intel Mac OS X 10_6; en-us) AppleWebKit/531.9 (KHTML, like Gecko) Version/4.0.3 Safari/531.9
Build Identifier: 20090619-0625

The BIRT Report Designer crashes Eclipse immediately upon clicking on a report design. The Report Designer is unusable in Snow Leopard (even with 32-bit Java enabled as default) 

Reproducible: Always

Steps to Reproduce:
1. Install Eclipse on a Mac OS X 10.6
2. Open a .rptdesign file 
3. Click on the report design (invoke the Report Designer plugin)
4) Notice Elcipse crash



Process:         eclipse [20398]
Path:            /Applications/eclipse/Eclipse.app/Contents/MacOS/eclipse
Identifier:      org.eclipse.eclipse
Version:         3.5 (3.5)
Code Type:       X86 (Native)
Parent Process:  launchd [115]

Date/Time:       2009-08-31 13:17:38.817 -0500
OS Version:      Mac OS X 10.6 (10A432)
Report Version:  6

Interval Since Last Report:          772 sec
Crashes Since Last Report:           1
Per-App Interval Since Last Report:  372 sec
Per-App Crashes Since Last Report:   1
Anonymous UUID:                      E7F9E1AC-A027-4F56-944C-C42667953C57

Exception Type:  EXC_BAD_ACCESS (SIGSEGV)
Exception Codes: KERN_INVALID_ADDRESS at 0x000000006bda7100
Crashed Thread:  0  Dispatch queue: com.apple.main-thread

Application Specific Information:

Java information:
 Exception type: Bus Error (0xa) at pc=0x97c71df0

 Java VM: Java HotSpot(TM) Client VM (14.1-b02-90 mixed mode macosx-x86)

Current thread (0x13800000):  JavaThread "main" [_thread_in_native, id=-1608452864, stack(0xbf800000,0xc0000000)]
Stack: [0xbf800000,0xc0000000]
Java frames: (J=compiled Java code, j=interpreted, Vv=VM code)
J  org.eclipse.swt.internal.cocoa.OS.objc_msgSend(II)I
j  org.eclipse.swt.internal.cocoa.NSBezierPath.fill()V+7
j  org.eclipse.swt.graphics.GC.fillRectangle(IIII)V+136
j  org.eclipse.birt.chart.reportitem.ui.DesignerRepresentation.paintClientArea(Lorg/eclipse/draw2d/Graphics;)V+244
j  org.eclipse.draw2d.Figure.paint(Lorg/eclipse/draw2d/Graphics;)V+60
j  org.eclipse.birt.report.designer.internal.ui.editors.schematic.figures.ReportRootFigure.paintChildren(Lorg/eclipse/draw2d/Graphics;)V+119
j  org.eclipse.draw2d.Figure.paintClientArea(Lorg/eclipse/draw2d/Graphics;)V+143
j  org.eclipse.draw2d.Figure.paint(Lorg/eclipse/draw2d/Graphics;)V+60
j  org.eclipse.draw2d.Figure.paintChildren(Lorg/eclipse/draw2d/Graphics;)V+60
j  org.eclipse.draw2d.Figure.paintClientArea(Lorg/eclipse/draw2d/Graphics;)V+120
j  org.eclipse.draw2d.Figure.paint(Lorg/eclipse/draw2d/Graphics;)V+60
j  org.eclipse.draw2d.Figure.paintChildren(Lorg/eclipse/draw2d/Graphics;)V+60
j  org.eclipse.draw2d.Figure.paintClientArea(Lorg/eclipse/draw2d/Graphics;)V+120
j  org.eclipse.draw2d.Figure.paint(Lorg/eclipse/draw2d/Graphics;)V+60
j  org.eclipse.draw2d.Figure.paintChildren(Lorg/eclipse/draw2d/Graphics;)V+60
j  org.eclipse.draw2d.Figure.paintClientArea(Lorg/eclipse/draw2d/Graphics;)V+120
j  org.eclipse.draw2d.ScalableFreeformLayeredPane.paintClientArea(Lorg/eclipse/draw2d/Graphics;)V+24
j  org.eclipse.draw2d.Figure.paint(Lorg/eclipse/draw2d/Graphics;)V+60
j  org.eclipse.draw2d.Figure.paintChildren(Lorg/eclipse/draw2d/Graphics;)V+60
j  org.eclipse.draw2d.Figure.paintClientArea(Lorg/eclipse/draw2d/Graphics;)V+120
j  org.eclipse.draw2d.Figure.paint(Lorg/eclipse/draw2d/Graphics;)V+60
j  org.eclipse.draw2d.Figure.paintChildren(Lorg/eclipse/draw2d/Graphics;)V+60
j  org.eclipse.draw2d.Figure.paintClientArea(Lorg/eclipse/draw2d/Graphics;)V+100
j  org.eclipse.draw2d.Viewport.paintClientArea(Lorg/eclipse/draw2d/Graphics;)V+32
j  org.eclipse.draw2d.Figure.paint(Lorg/eclipse/draw2d/Graphics;)V+60
j  org.eclipse.draw2d.Figure.paintChildren(Lorg/eclipse/draw2d/Graphics;)V+60
j  org.eclipse.draw2d.Figure.paintClientArea(Lorg/eclipse/draw2d/Graphics;)V+120
j  org.eclipse.draw2d.Figure.paint(Lorg/eclipse/draw2d/Graphics;)V+60
j  org.eclipse.draw2d.DeferredUpdateManager.paint(Lorg/eclipse/swt/graphics/GC;)V+71
j  org.eclipse.draw2d.LightweightSystem.paint(Lorg/eclipse/swt/graphics/GC;)V+5
j  org.eclipse.draw2d.LightweightSystem$2.handleEvent(Lorg/eclipse/swt/widgets/Event;)V+8
J  org.eclipse.swt.widgets.EventTable.sendEvent(Lorg/eclipse/swt/widgets/Event;)V
j  org.eclipse.swt.widgets.Display.sendEvent(Lorg/eclipse/swt/widgets/EventTable;Lorg/eclipse/swt/widgets/Event;)V+24
j  org.eclipse.swt.widgets.Widget.sendEvent(Lorg/eclipse/swt/widgets/Event;)V+9
j  org.eclipse.swt.widgets.Widget.sendEvent(ILorg/eclipse/swt/widgets/Event;Z)V+73
j  org.eclipse.swt.widgets.Widget.sendEvent(ILorg/eclipse/swt/widgets/Event;)V+4
j  org.eclipse.swt.widgets.Control.drawWidget(ILorg/eclipse/swt/internal/cocoa/NSGraphicsContext;Lorg/eclipse/swt/internal/cocoa/NSRect;)V+115
j  org.eclipse.swt.widgets.Canvas.drawWidget(ILorg/eclipse/swt/internal/cocoa/NSGraphicsContext;Lorg/eclipse/swt/internal/cocoa/NSRect;)V+16
J  org.eclipse.swt.widgets.Widget.drawRect(IILorg/eclipse/swt/internal/cocoa/NSRect;)V
j  org.eclipse.swt.widgets.Canvas.drawRect(IILorg/eclipse/swt/internal/cocoa/NSRect;)V+32
J  org.eclipse.swt.widgets.Display.windowProc(III)I
v  ~StubRoutines::call_stub
J  org.eclipse.swt.internal.cocoa.OS.objc_msgSendSuper(Lorg/eclipse/swt/internal/cocoa/objc_super;IIIIZ)I
J  org.eclipse.swt.widgets.Display.applicationNextEventMatchingMask(IIIIII)I
J  org.eclipse.swt.widgets.Display.applicationProc(IIIIII)I
v  ~StubRoutines::call_stub
J  org.eclipse.swt.internal.cocoa.OS.objc_msgSend(IIIIIZ)I
J  org.eclipse.swt.internal.cocoa.NSApplication.nextEventMatchingMask(ILorg/eclipse/swt/internal/cocoa/NSDate;Lorg/eclipse/swt/internal/cocoa/NSString;Z)Lorg/eclipse/swt/internal/cocoa/NSEvent;
J  org.eclipse.swt.widgets.Display.readAndDispatch()Z
j  org.eclipse.ui.internal.Workbench.runEventLoop(Lorg/eclipse/jface/window/Window$IExceptionHandler;Lorg/eclipse/swt/widgets/Display;)V+9
j  org.eclipse.ui.internal.Workbench.runUI()I+393
j  org.eclipse.ui.internal.Workbench.access$4(Lorg/eclipse/ui/internal/Workbench;)I+1
j  org.eclipse.ui.internal.Workbench$5.run()V+55
j  org.eclipse.core.databinding.observable.Realm.runWithDefault(Lorg/eclipse/core/databinding/observable/Realm;Ljava/lang/Runnable;)V+12
j  org.eclipse.ui.internal.Workbench.createAndRunWorkbench(Lorg/eclipse/swt/widgets/Display;Lorg/eclipse/ui/application/WorkbenchAdvisor;)I+18
j  org.eclipse.ui.PlatformUI.createAndRunWorkbench(Lorg/eclipse/swt/widgets/Display;Lorg/eclipse/ui/application/WorkbenchAdvisor;)I+2
j  org.eclipse.ui.internal.ide.application.IDEApplication.start(Lorg/eclipse/equinox/app/IApplicationContext;)Ljava/lang/Object;+84
j  org.eclipse.equinox.internal.app.EclipseAppHandle.run(Ljava/lang/Object;)Ljava/lang/Object;+135
j  org.eclipse.core.runtime.internal.adaptor.EclipseAppLauncher.runApplication(Ljava/lang/Object;)Ljava/lang/Object;+103
j  org.eclipse.core.runtime.internal.adaptor.EclipseAppLauncher.start(Ljava/lang/Object;)Ljava/lang/Object;+29
j  org.eclipse.core.runtime.adaptor.EclipseStarter.run(Ljava/lang/Object;)Ljava/lang/Object;+149
j  org.eclipse.core.runtime.adaptor.EclipseStarter.run([Ljava/lang/String;Ljava/lang/Runnable;)Ljava/lang/Object;+183
v  ~StubRoutines::call_stub
j  sun.reflect.NativeMethodAccessorImpl.invoke0(Ljava/lang/reflect/Method;Ljava/lang/Object;[Ljava/lang/Object;)Ljava/lang/Object;+0
j  sun.reflect.NativeMethodAccessorImpl.invoke(Ljava/lang/Object;[Ljava/lang/Object;)Ljava/lang/Object;+87
j  sun.reflect.DelegatingMethodAccessorImpl.invoke(Ljava/lang/Object;[Ljava/lang/Object;)Ljava/lang/Object;+6
j  java.lang.reflect.Method.invoke(Ljava/lang/Object;[Ljava/lang/Object;)Ljava/lang/Object;+161
j  org.eclipse.equinox.launcher.Main.invokeFramework([Ljava/lang/String;[Ljava/net/URL;)V+211
j  org.eclipse.equinox.launcher.Main.basicRun([Ljava/lang/String;)V+114
j  org.eclipse.equinox.launcher.Main.run([Ljava/lang/String;)I+4
v  ~StubRoutines::call_stub

Java Threads: ( => current thread )
  0x130d0000 JavaThread "Worker-8" [_thread_blocked, id=-1324027904, stack(0xb104f000,0xb114f000)]
  0x139f3800 JavaThread "[ThreadPool Manager] - Idle Thread" daemon [_thread_blocked, id=-1309749248, stack(0xb1ded000,0xb1eed000)]
  0x138af000 JavaThread "Worker-5" [_thread_blocked, id=-1312919552, stack(0xb1ae7000,0xb1be7000)]
  0x1395d400 JavaThread "Worker-4" [_thread_blocked, id=-1313976320, stack(0xb19e5000,0xb1ae5000)]
  0x131fa800 JavaThread "JavaScript indexing" daemon [_thread_blocked, id=-1316651008, stack(0xb1758000,0xb1858000)]
  0x131eec00 JavaThread "Java indexing" daemon [_thread_blocked, id=-1318744064, stack(0xb1559000,0xb1659000)]
  0x139f2400 JavaThread "Bundle File Closer" daemon [_thread_blocked, id=-1319800832, stack(0xb1457000,0xb1557000)]
  0x13081400 JavaThread "[Timer] - Main Queue Handler" daemon [_thread_blocked, id=-1322971136, stack(0xb1151000,0xb1251000)]
  0x13944c00 JavaThread "Framework Event Dispatcher" daemon [_thread_blocked, id=-1325084672, stack(0xb0f4d000,0xb104d000)]
  0x13042000 JavaThread "Start Level Event Dispatcher" daemon [_thread_blocked, id=-1326284800, stack(0xb0e28000,0xb0f28000)]
  0x13041800 JavaThread "State Data Manager" daemon [_thread_blocked, id=-1327341568, stack(0xb0d26000,0xb0e26000)]
  0x1300dc00 JavaThread "Low Memory Detector" daemon [_thread_blocked, id=-1329491968, stack(0xb0b19000,0xb0c19000)]
  0x1300cc00 JavaThread "CompilerThread0" daemon [_thread_blocked, id=-1330548736, stack(0xb0a17000,0xb0b17000)]
  0x1300c000 JavaThread "Signal Dispatcher" daemon [_thread_blocked, id=-1331605504, stack(0xb0915000,0xb0a15000)]
  0x1300b000 JavaThread "Surrogate Locker Thread (CMS)" daemon [_thread_blocked, id=-1332662272, stack(0xb0813000,0xb0913000)]
  0x13001400 JavaThread "Finalizer" daemon [_thread_blocked, id=-1333719040, stack(0xb0711000,0xb0811000)]
  0x138ab400 JavaThread "Reference Handler" daemon [_thread_blocked, id=-1334775808, stack(0xb060f000,0xb070f000)]
=>0x13800000 JavaThread "main" [_thread_in_native, id=-1608452864, stack(0xbf800000,0xc0000000)]
Other Threads:
  0x13000c00 VMThread [stack: 0xb050d000,0xb060d000] [id=-1335832576]
  0x13016800 WatcherThread [stack: 0xb0c1b000,0xb0d1b000] [id=-1328435200]

VM state:not at safepoint (normal execution)
VM Mutex/Monitor currently owned by a thread: None

Heap
 par new generation   total 28672K, used 4897K [0x16010000, 0x18010000, 0x18010000)
  eden space 24576K,   8% used [0x16010000, 0x16219908, 0x17810000)
  from space 4096K,  68% used [0x17c10000, 0x17ecee28, 0x18010000)
  to   space 4096K,   0% used [0x17810000, 0x17810000, 0x17c10000)
 concurrent mark-sweep generation total 507904K, used 30369K [0x18010000, 0x37010000, 0x56010000)
 concurrent-mark-sweep perm gen total 69724K, used 61101K [0x56010000, 0x5a427000, 0x66010000)

Virtual Machine Arguments:
JVM Args: -Dosgi.requiredJavaVersion=1.5 -XstartOnFirstThread -Dorg.eclipse.swt.internal.carbon.smallFonts -XX:MaxPermSize=256m -Xms512m -Xmx1024m -Xdock:icon=../Resources/Eclipse.icns -XstartOnFirstThread -Dorg.eclipse.swt.internal.carbon.smallFonts 
Java Command: <unknown>
Launcher Type: generic
Physical Memory: Page Size = 4k, Total = 3840M, Free = 13M