Bug 92707  NPE in OperationHistroy while shutting down EclipseI20050420-1200 & latest command and workbench.ui code

Did the following

- execute a rename method refactoring form the editor which affected
  several files

- did some undo/redo (don't know how often)

- exit eclispe.

The problem is that site.getShell() == null since the workbench is already gone


Thread [System Bundle Shutdown] (Suspended (exception NullPointerException))
	UndoActionHandler(OperationHistoryActionHandler).historyNotification(OperationHistoryEvent)
line: 261
	DefaultOperationHistory.notifyRemoved(IUndoableOperation) line: 926
	DefaultOperationHistory.internalRemove(IUndoableOperation) line: 751
	DefaultOperationHistory.replaceOperation(IUndoableOperation,
IUndoableOperation[]) line: 1104
	TriggeredOperations.remove(IUndoableOperation) line: 83
	TriggeredOperations.removeContext(IUndoContext) line: 108
	DefaultOperationHistory.flushUndo(IUndoContext) line: 544
	DefaultOperationHistory.dispose(IUndoContext, boolean, boolean, boolean) line: 253
	WorkbenchOperationSupport.dispose() line: 55
	WorkbenchPlugin.stop(BundleContext) line: 893
	BundleContextImpl$3.run() line: 1035
	AccessController.doPrivileged(PrivilegedExceptionAction<T>) line: not available
[native method]
	BundleContextImpl.stop() line: 1031
	BundleHost.stopWorker(boolean) line: 402
	BundleHost(AbstractBundle).stop() line: 410
	BundleStopper.basicStopBundles() line: 73
	BundleStopper.stopBundles() line: 62
	EclipseAdaptor.frameworkStopping(BundleContext) line: 695
	Framework.shutdown() line: 502
	SystemBundle$1.run() line: 171
	Thread.run() line: 595