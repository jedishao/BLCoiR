12996	open multipage editor causes Invalid thread access when exporting to a jar  This also happens in Eclipse 2 0 build 20020214  1  install the mulitpage editor example into the workspace 2  in a project create a file of type  mpe 3  a multipage editor opens on this new file  Leave the editor open  4  select File Export Jar File  Fill in the jar file and click finish  You get the following Jar Export Error  Creation of JAR failed  Invalid thread access
29531	JavaColorManager initialized in non UI thread  Build I20030114   open Workspace   select CU without opening in editor   activate Move refactoring   select different package   press Preview Caused by  java lang NullPointerException at org eclipse jdt internal ui text JavaColorManager getColor JavaColorManager java 53  at org eclipse jdt internal ui text JavaColorManager getColor JavaColorManager java 85  at org eclipse jdt internal ui text AbstractJavaScanner addToken AbstractJavaScanner java 90  at org eclipse jdt internal ui text AbstractJavaScanner initialize AbstractJavaScanner java 75  at org eclipse jdt internal ui text java JavaCodeScanner  init  JavaCodeScanner java 126  at org eclipse jdt ui text JavaTextTools  init  JavaTextTools java 80  at org eclipse jdt internal ui JavaPlugin getJavaTextTools JavaPlugin java 316  at org eclipse jdt internal ui javaeditor CompilationUnitDocumentProvider initializeDocument CompilationUnitDocumentProvider java 979  at org eclipse jdt internal ui javaeditor CompilationUnitDocumentProvider createDocument CompilationUnitDocumentProvider java 994  at org eclipse jdt internal ui javaeditor CompilationUnitDocumentProvider BufferFactory internalGetDocument CompilationUnitDocumentProvider java 630  at org eclipse jdt internal ui javaeditor CompilationUnitDocumentProvider BufferFactory createBuffer CompilationUnitDocumentProvider java 646  at org eclipse jdt internal core WorkingCopy openBuffer WorkingCopy java 365  at org eclipse jdt internal core Openable getBuffer Openable java 192  at org eclipse jdt internal core CompilationUnit getContents CompilationUnit java 367  at org eclipse jdt internal compiler parser Parser parse Parser java 7095  at org eclipse jdt internal compiler SourceElementParser parseCompilationUnit SourceElementParser java 1051  at org eclipse jdt internal core CompilationUnit generateInfos CompilationUnit java 323  at org eclipse jdt internal core CompilationUnit buildStructure CompilationUnit java 77  at org eclipse jdt internal core Openable openWhenClosed Openable java 395  at org eclipse jdt internal core Openable open Openable java 346  at org eclipse jdt internal core WorkingCopy open WorkingCopy java 354  at org eclipse jdt internal core CompilationUnit getWorkingCopy CompilationUnit java 609  at org eclipse jdt internal core CompilationUnit getSharedWorkingCopy CompilationUnit java 581  at org eclipse jdt internal ui javaeditor CompilationUnitDocumentProvider createElementInfo CompilationUnitDocumentProvider java 845  at org eclipse ui texteditor AbstractDocumentProvider connect AbstractDocumentProvider java 302  at org eclipse jdt internal corext textmanipulation TextBufferFactory acquire TextBufferFactory java 85  at org eclipse jdt internal corext textmanipulation TextBuffer acquire TextBuffer java 371  at org eclipse jdt internal corext codemanipulation ImportsStructure aquireTextBuffer ImportsStructure java 538  at org eclipse jdt internal corext codemanipulation ImportsStructure  init  ImportsStructure java 85  at org eclipse jdt internal corext codemanipulation ImportEdit  init  ImportEdit java 33  at org eclipse jdt internal corext refactoring reorg MoveCuUpdateCreator getImportEdit MoveCuUpdateCreator java 217  at org eclipse jdt internal corext refactoring reorg MoveCuUpdateCreator addImportToSourcePackageTypes MoveCuUpdateCreator java 176  at org eclipse jdt internal corext refactoring reorg MoveCuUpdateCreator addUpdates MoveCuUpdateCreator java 121  at org eclipse jdt internal corext refactoring reorg MoveCuUpdateCreator addUpdates MoveCuUpdateCreator java 112  at org eclipse jdt internal corext refactoring reorg MoveCuUpdateCreator createChangeManager MoveCuUpdateCreator java 88  at org eclipse jdt internal corext refactoring reorg MoveRefactoring createChangeManager MoveRefactoring java 448  at org eclipse jdt internal corext refactoring reorg MoveRefactoring checkInput MoveRefactoring java 151  at org eclipse jdt internal ui refactoring CheckConditionsOperation run CheckConditionsOperation java 59  at org eclipse jdt internal ui refactoring CreateChangeOperation run CreateChangeOperation java 94  at org eclipse jface operation ModalContext ModalContextThread run ModalContext java 95
75843	Deadlock arised when calling JDIDebugModel createMethodEntryBreakpoint  We are now having quite a few cases where a deadlock occurred when we were trying to created an internal breakpoint by calling JDIDebugModel createMethodEntryBreakpoint  The deadlock will freeze the entire UI  The situation can be summarized into the following  1  The UI thread  main thread  is in the process of displaying a GUI component  e g  a dialog 2  The processing of the UI component triggers our debugger to call JDIDebugModel createMethodEntryBreakpoint to set an internal breakpoint  3  The process of creating the method entry breakpoint results in the WorkbenchContentProvider resourceChanged IResourceChangeEvent  to be executed  which calls Display syncExec Runnable   4  And we have a deadlock  Since I have already discussed this issue with folks from both the JDT team an UI team  I just want to reemphasize a few points  1  Delay the displaying of the GUI component is not a valid solution  because it is the displaying of the GUI component that triggers the rest of the reaction chain  2  The process of displaying the GUI component is pending because the information required by the GUI component cannot be completed due to the breakpoint creation  I am including the thread snapshots when the deadlock is occurred  The main thread shows  Thread  main   Suspended  OS DispatchMessageW MSG  line  not available  native method  OS DispatchMessage MSG  line  1467 Display readAndDispatch   line  2429 Workbench runEventLoop Window IExceptionHandler  Display  line  1377 Workbench runUI   line  1348 Workbench createAndRunWorkbench Display  WorkbenchAdvisor  line  254 PlatformUI createAndRunWorkbench Display  WorkbenchAdvisor  line  141 IDEApplication run Object  line  96 PlatformActivator 1 run Object  line  335 EclipseStarter run Object  line  273 EclipseStarter run String    Runnable  line  129 NativeMethodAccessorImpl invoke0 Method  Object  Object    line  not available  native method  NativeMethodAccessorImpl invoke Object  Object    line  85 NativeMethodAccessorImpl invoke Method  Object  Object    line  58 DelegatingMethodAccessorImpl invoke Method  Object  Object    line  60 Method invoke Object  Object    line  391 Main basicRun String    line  185 Main run String    line  684 Main main String    line  668 The thread that is responsible for the creation of the java method entry breakpoint shows  Thread  org eclipse jdt debug  JDI Event Dispatcher   Suspended  Semaphore Object  wait long  int  line  not available  native method  Semaphore Object  wait long  line  223 Semaphore acquire long  line  37 UISynchronizer syncExec Runnable  line  42 Display syncExec Runnable  line  3096 WorkbenchContentProvider resourceChanged IResourceChangeEvent  line  107 NotificationManager 2 run   line  283 InternalPlatform run ISafeRunnable  line  615 Platform run ISafeRunnable  line  747 NotificationManager notify ResourceChangeListenerList ListenerEntry    IResourceChangeEvent  boolean  line  277 NotificationManager broadcastChanges ElementTree  int  boolean  line  151 Workspace broadcastChanges int  boolean  line  172 Workspace endOperation ISchedulingRule  boolean  IProgressMonitor  line  900 Workspace run IWorkspaceRunnable  ISchedulingRule  int  IProgressMonitor  line  1682 JavaMethodEntryBreakpoint JavaBreakpoint  run ISchedulingRule  IWorkspaceRunnable  line  769 JavaMethodEntryBreakpoint  init  IResource  String  String  String  int  int  int  int  boolean  Map  line  87 JDIDebugModel createMethodEntryBreakpoint IResource  String  String  String  int  int  int  int  boolean  Map  line  553 WSAJavaMethodEntryBreakpoint setBreakpoint IResource  IDebugTarget  line  35 WSAJavaMethodEntryBreakpoint  WSAJavaMethodBreakpoint  setTemporaryBreakpoint IResource  IDebugTarget  line  35 WSABreakpointManager setMethodEntryBreakpoint String  String  String  line  893 WSAJavaThread handleBreakpointHit IBreakpoint  line  468 WSAJavaThread handleDebugEvents DebugEvent    line  255 WSAJavaDebugTarget filterJavaEvents DebugEvent    line  731 WSAJavaDebugTarget filterDebugEvents DebugEvent    line  705 DebugPlugin EventNotifier run   line  936 InternalPlatform run ISafeRunnable  line  615 Platform run ISafeRunnable  line  747 DebugPlugin EventNotifier dispatch DebugEvent    line  960 DebugPlugin fireDebugEventSet DebugEvent    line  337 EventDispatcher fireEvents   line  296 EventDispatcher dispatch EventSet  line  181 EventDispatcher run   line  221 Thread run   line  813
79793	Deadlock in JavaWorkingSetUpdater  I20041130   Started workspace   Pressed CTRL Shift T to open a type   Progress dialog appeared   pressed cancel   Pressed CTRL Shift T again   workspace deadlocked will attach thread dump
103450	Quick fix to remove synchronized block  I would like a Quick Fix option to  remove surrounding  synchronized  statement   just like you can do with an  if  statement
125013	deadlock in PreferencesAdapter firePropertyChangeEvent  I20060119   ZRH plug ins from 20060124   started target workbench  but it never came up   selected threads from the vm dump below    the trace shows that the syncExec call from PreferenceForwarder waits forever while holding the JavaModelManager waited for by the main thread    the main thread waits for the lock    the reconciler waits forever and is never woken up by the main thread    Not exactly a deadlock  but similar in result  org eclipse core launcher Main at localhost 32917  Suspended  Thread  main   Suspended  waiting for  JavaModelManager   id 80  JavaModelManager containerGet IJavaProject  IPath  line  337 JavaModelManager getClasspathContainer IPath  IJavaProject  line  1163 ClasspathEntry validateClasspathEntry IJavaProject  IClasspathEntry  boolean  boolean  line  1560 JavaProject getResolvedClasspath IClasspathEntry    IPath  boolean  boolean  Map  line  2120 DeltaProcessingState ProjectUpdateInfo updateProjectReferencesIfNecessary   line  98 DeltaProcessingState performClasspathResourceChange JavaProject  IClasspathEntry    IClasspathEntry    IClasspathEntry    boolean  line  228 SetClasspathOperation updateProjectReferencesIfNecessary   line  799 SetClasspathOperation executeOperation   line  254 SetClasspathOperation JavaModelOperation  run IProgressMonitor  line  720 Workspace run IWorkspaceRunnable  ISchedulingRule  int  IProgressMonitor  line  1714 SetClasspathOperation JavaModelOperation  runOperation IProgressMonitor  line  784 JavaProject setRawClasspath IClasspathEntry    IPath  IProgressMonitor  boolean  IClasspathEntry    boolean  boolean  line  2995 JavaCore 5 run IProgressMonitor  line  4167 BatchOperation executeOperation   line  39 BatchOperation JavaModelOperation  run IProgressMonitor  line  720 Workspace run IWorkspaceRunnable  ISchedulingRule  int  IProgressMonitor  line  1714 JavaCore run IWorkspaceRunnable  ISchedulingRule  IProgressMonitor  line  3976 JavaCore setClasspathContainer IPath  IJavaProject    IClasspathContainer    IProgressMonitor  line  4150 JREContainerInitializer initialize IPath  IJavaProject  line  56 JavaModelManager initializeContainer IJavaProject  IPath  line  1748 JavaModelManager 7 run IProgressMonitor  line  1694 Workspace run IWorkspaceRunnable  ISchedulingRule  int  IProgressMonitor  line  1714 JavaModelManager initializeAllContainers IJavaProject  IPath  line  1703 JavaModelManager getClasspathContainer IPath  IJavaProject  line  1170 JavaCore getClasspathContainer IPath  IJavaProject  line  1458 JavaProject getResolvedClasspath IClasspathEntry    IPath  boolean  boolean  Map  line  2154 JavaProject getResolvedClasspath boolean  boolean  boolean  line  2058 DeltaProcessingState initializeRoots   line  271 BatchOperation JavaModelOperation  run IProgressMonitor  line  717 Workspace run IWorkspaceRunnable  ISchedulingRule  int  IProgressMonitor  line  1714 JavaCore run IWorkspaceRunnable  ISchedulingRule  IProgressMonitor  line  3976 JavaCore setClasspathContainer IPath  IJavaProject    IClasspathContainer    IProgressMonitor  line  4150 JREContainerInitializer initialize IPath  IJavaProject  line  56 JavaModelManager initializeContainer IJavaProject  IPath  line  1748 JavaModelManager getClasspathContainer IPath  IJavaProject  line  1172 JavaCore getClasspathContainer IPath  IJavaProject  line  1458 JavaProject getResolvedClasspath IClasspathEntry    IPath  boolean  boolean  Map  line  2154 JavaProject getResolvedClasspath boolean  boolean  boolean  line  2058 JavaModelManager determineIfOnClasspath IResource  IJavaProject  line  735 JavaModelManager create IFolder  IJavaProject  line  624 JavaModelManager create IResource  IJavaProject  line  553 JavaCore create IResource  line  1372 ResourceAdapterFactory getAdapter Object  Class  line  32 AdapterFactoryProxy getAdapter Object  Class  line  63 AdapterManager getAdapter Object  Class  line  253 Folder PlatformObject  getAdapter Class  line  65 NamePatternFilter select Viewer  Object  Object  line  62 PackageExplorerPart PackageExplorerProblemTreeViewer filter Object  Object  ViewerFilter    line  324 PackageExplorerPart PackageExplorerProblemTreeViewer isExpandable Object  line  313 PackageExplorerPart PackageExplorerProblemTreeViewer AbstractTreeViewer  updatePlus Item  Object  line  2021 PackageExplorerPart PackageExplorerProblemTreeViewer AbstractTreeViewer  createTreeItem Widget  Object  int  line  541 AbstractTreeViewer 1 run   line  519 BusyIndicator showWhile Display  Runnable  line  69 PackageExplorerPart PackageExplorerProblemTreeViewer AbstractTreeViewer  createChildren Widget  line  499 PackageExplorerPart PackageExplorerProblemTreeViewer TreeViewer  createChildren Widget  line  794 AbstractTreeViewer 5 run   line  1002 PackageExplorerPart PackageExplorerProblemTreeViewer StructuredViewer  preservingSelection Runnable  line  1259 PackageExplorerPart PackageExplorerProblemTreeViewer preservingSelection Runnable  line  624 PackageExplorerPart PackageExplorerProblemTreeViewer AbstractTreeViewer  inputChanged Object  Object  line  992 PackageExplorerPart PackageExplorerProblemTreeViewer ContentViewer  setInput Object  line  249 PackageExplorerPart PackageExplorerProblemTreeViewer StructuredViewer  setInput Object  line  1475 PackageExplorerPart createPartControl Composite  line  854 ViewReference createPartHelper   line  330 ViewReference createPart   line  195 ViewReference WorkbenchPartReference  getPart boolean  line
179109	Editor computing AST twice concurrently  Build  I20070322 1800 I did Open Type  and it was taking a long time to open the editor after I clicked finish  I produced a stack dump while I was waiting  and I noticed that there are two threads creating an AST at the same time  Presumably they are even generating the same AST  It would be good to avoid creating the same AST multiple times when the editor is first opened
261198	nodes missing in Java Model in Synchronize view  I have a project with the following structure  123  project shared using CVS     src  source folder     somebusiness    some business       file1 txt   file2 txt Now when I make changes only to file1 txt and do  Team  Synchronize with Repository   I don t see the file1 txt  only  123    src But when I make changes to file2 txt  in  Team  Synchronize with Repository  I see that both file1 txt and file2 txt have changed  This problem was originally spotted on Eclipse 3 2 2  but appears still on 3 5M4  So far I had traced it to org eclipse jdt internal ui model JavaSynchronizationContentProvider
272742	ImagesOnFileSystemRegistry is not thread safe  I20090416 1053 Got the exception below when I clicked hovered over a type and had the Javadoc view open  linked to editor   This has already been reported as bug 223686  but the real problem is that ImagesOnFileSystemRegistry is not thread safe  I could not find steps to reproduce  but I m pretty sure this happens if getNewFile   is called in two threads at the same time such that fImageCount is the same for both threads  Later  both threads must call ImageLoader save     concurrently  Exception in thread  Info view input computer  org eclipse swt SWTException  i o error  java io FileNotFoundException  C  e w runtime head CLEAN 2  metadata  plugins org eclipse jdt ui jdt images 0 png  The system cannot find the path specified   at org eclipse swt SWT error SWT java 3864  at org eclipse swt SWT error SWT java 3779  at org eclipse swt graphics ImageLoader save ImageLoader java 241  at org eclipse jdt internal ui viewsupport ImagesOnFileSystemRegistry getImageURL ImagesOnFileSystemRegistry java 104  at org eclipse jdt internal ui viewsupport ImagesOnFileSystemRegistry getImageURL ImagesOnFileSystemRegistry java 85  at org eclipse jdt internal ui infoviews JavadocView getInfoText JavadocView java 1079  at org eclipse jdt internal ui infoviews JavadocView getJavadocHtml JavadocView java 1009  at org eclipse jdt internal ui infoviews JavadocView computeInput JavadocView java 876  at org eclipse jdt internal ui infoviews AbstractInfoView 2 run AbstractInfoView java 620  Caused by  java io FileNotFoundException  C  e w runtime head CLEAN 2  metadata  plugins org eclipse jdt ui jdt images 0 png  The system cannot find the path specified  at java io FileOutputStream   YJP  open Native Method  at java io FileOutputStream open FileOutputStream java  at java io FileOutputStream  init  FileOutputStream java 179  at java io FileOutputStream  init  FileOutputStream java 70  at org eclipse swt internal Compatibility newFileOutputStream Compatibility java 193  at org eclipse swt graphics ImageLoader save ImageLoader java 239      6 more
291996	Invalid thread access from JavaMergeViewer during extracting method  I was extracting method in the source with compilation errors  Error dialog disappeared  so I guess some shell was presented and closed after the error  org eclipse swt SWTException  Invalid thread access at org eclipse swt SWT error SWT java 3952  at org eclipse swt SWT error SWT java 3867  at org eclipse swt SWT error SWT java 3838  at org eclipse swt widgets Widget error Widget java 463  at org eclipse swt widgets Widget checkWidget Widget java 355  at org eclipse swt custom StyledText replaceStyleRanges StyledText java 7191  at org eclipse jface text TextViewer addPresentation TextViewer java 4776  at org eclipse jface text TextViewer changeTextPresentation TextViewer java 4855  at org eclipse jface text presentation PresentationReconciler applyTextRegionCollection PresentationReconciler java 579  at org eclipse jface text presentation PresentationReconciler processDamage PresentationReconciler java 568  at org eclipse jface text presentation PresentationReconciler access 3 PresentationReconciler java 564  at org eclipse jface text presentation PresentationReconciler InternalListener textChanged PresentationReconciler java 225  at org eclipse jface text TextViewer updateTextListeners TextViewer java 2806  at org eclipse jface text TextViewer invalidateTextPresentation TextViewer java 3426  at org eclipse compare contentmergeviewer TextMergeViewer invalidateTextPresentation TextMergeViewer java 1686  at org eclipse jdt internal ui compare JavaMergeViewer handlePropertyChange JavaMergeViewer java 174  at org eclipse jdt internal ui compare JavaMergeViewer access 4 JavaMergeViewer java 166  at org eclipse jdt internal ui compare JavaMergeViewer 2 propertyChange JavaMergeViewer java 455  at org eclipse ui texteditor ChainedPreferenceStore firePropertyChangeEvent ChainedPreferenceStore java 164  at org eclipse ui texteditor ChainedPreferenceStore handlePropertyChangeEvent ChainedPreferenceStore java 431  at org eclipse ui texteditor ChainedPreferenceStore access 0 ChainedPreferenceStore java 408  at org eclipse ui texteditor ChainedPreferenceStore PropertyChangeListener propertyChange ChainedPreferenceStore java 69  at org eclipse ui preferences ScopedPreferenceStore 3 run ScopedPreferenceStore java 375  at org eclipse core runtime SafeRunner run SafeRunner java 42  at org eclipse ui preferences ScopedPreferenceStore firePropertyChangeEvent ScopedPreferenceStore java 372  at org eclipse ui preferences ScopedPreferenceStore 2 preferenceChange ScopedPreferenceStore java 194  at org eclipse core internal preferences EclipsePreferences 2 run EclipsePreferences java 753  at org eclipse core runtime SafeRunner run SafeRunner java 42  at org eclipse core internal preferences EclipsePreferences firePreferenceEvent EclipsePreferences java 756  at org eclipse core internal preferences EclipsePreferences put EclipsePreferences java 769  at org eclipse ui preferences ScopedPreferenceStore setValue ScopedPreferenceStore java 789  at org eclipse jface text templates persistence TemplateStore save TemplateStore java 215  at org eclipse jdt internal ui CompatibilityTemplateStore load CompatibilityTemplateStore java 64  at org eclipse jdt internal ui JavaPlugin getCodeTemplateStore JavaPlugin java 899  at org eclipse jdt internal ui viewsupport ProjectTemplateStore  init  ProjectTemplateStore java 47  at org eclipse jdt internal corext codemanipulation StubUtility getCodeTemplate StubUtility java 1439  at org eclipse jdt internal corext codemanipulation StubUtility getMethodComment StubUtility java 616  at org eclipse jdt ui CodeGeneration getMethodComment CodeGeneration java 196  at org eclipse jdt internal corext refactoring code ExtractMethodRefactoring createNewMethod ExtractMethodRefactoring java 908  at org eclipse jdt internal corext refactoring code ExtractMethodRefactoring createChange ExtractMethodRefactoring java 486  at org eclipse ltk core refactoring CreateChangeOperation run CreateChangeOperation java 124  at org eclipse ltk core refactoring PerformChangeOperation run PerformChangeOperation java 209  at org eclipse core internal resources Workspace run Workspace java 1800  at org eclipse ltk internal ui refactoring WorkbenchRunnableAdapter run WorkbenchRunnableAdapter java 87  at org eclipse jface operation ModalContext ModalContextThread run ModalContext java 121  CodeGeneration java 196  at org eclipse jdt internal corext refactoring code ExtractMethodRefactoring createNewMethod ExtractMethodRefactoring java 908  at org eclipse jdt internal corext refactoring code ExtractMethodRefactoring createChange ExtractMethodRefactoring java 486  at org eclipse ltk core refactoring CreateChangeOperation run CreateChangeOperation java 124  at org eclipse ltk core refactoring PerformChangeOperation run PerformChangeOperation java 209  at org eclipse core internal resources Workspace run Workspace java 1800  at org eclipse ltk internal ui refactoring WorkbenchRunnableAdapter run WorkbenchRunnableAdapter java 87  at org eclipse jface operation ModalContext ModalContextThread run ModalContext java 121
296794	DocumentChange fails if document is not thread safe  User Agent Mozilla 5 0  Windows  U  Windows NT 5 1  ru  rv 1 9 1 2  Gecko 20090729 Firefox 3 5 2 Build Identifier  I20090611 1540 This code worked in Eclipse 3 4 but throws org eclipse swt SWTException  Invalid thread access in Eclipse 3 5  Seems like this is because of you try to run the refactoring changes in non ui thread when possible  Reproducible  Always Steps to Reproduce  final Document doc    SynchronizableDocument final Point position  Refactoring ref   new Refactoring     Override public Change createChange IProgressMonitor pm   DocumentChange change   new DocumentChange  test   doc   TextEdit replaceEdit   new ReplaceEdit position x  position y   replaced    change setEdit replaceEdit   return change          RefactoringWizard wizard   new RefactoringWizard ref  RefactoringWizard DIALOG_BASED_USER_INTERFACE    Override protected void addUserInputPages     UserInputWizardPage page   new UserInputWizardPage  wizard_title    public void createControl Composite parent          addPage page        IWorkbenchWindow win   PlatformUI getWorkbench   getActiveWorkbenchWindow    new RefactoringStarter   activate wizard  win getShell     wizard_title   RefactoringSaveHelper SAVE_ALL
297709	JDT error behavior when  link with editor  option opening  User Agent        Mozilla 5 0  Windows  U  Windows NT 6 1  zh CN  rv 1 9 1 5  Gecko 20091102 Firefox 3 5 5 GTB6 Build Identifier  I20091210 1301 JDT frequencely synchronize the package tree when link with editor option opening  Reproducible  Always Steps to Reproduce  1 open some other class in editor  like Composite  SWT  Control and so on 2 new java class wizard  after completed  the editor should open the newly java file  3 At this moment  the package tree change change and change again  4 where change to the before opened class resource item  5  sometimes  autocomplete result to same synchronize actions
300536	Invalid thread access while undoing quick fix   I20100122 0800  I quick fixed a dead code error and then used undo to see previous state  Got this error  org eclipse swt SWTException  Invalid thread access at org eclipse swt SWT error SWT java 4083  at org eclipse swt SWT error SWT java 3998  at org eclipse swt SWT error SWT java 3969  at org eclipse swt widgets Widget error Widget java 664  at org eclipse swt widgets Widget checkWidget Widget java 491  at org eclipse swt custom StyledText getLinePixel StyledText java 4167  at org eclipse swt custom StyledText handleTextChanging StyledText java 6241  at org eclipse swt custom StyledText 6 textChanging StyledText java 5611  at org eclipse jface text DefaultDocumentAdapter fireTextChanging DefaultDocumentAdapter java 392  at org eclipse jface text DefaultDocumentAdapter documentAboutToBeChanged DefaultDocumentAdapter java 309  at org eclipse jface text AbstractDocument fireDocumentAboutToBeChanged AbstractDocument java 641  at org eclipse jface text projection ProjectionDocument delayedFireDocumentAboutToBeChanged ProjectionDocument java 769  at org eclipse jface text projection ProjectionDocument masterDocumentAboutToBeChanged ProjectionDocument java 728  at org eclipse jface text projection ProjectionDocumentManager fireDocumentEvent ProjectionDocumentManager java 121  at org eclipse jface text projection ProjectionDocumentManager documentAboutToBeChanged ProjectionDocumentManager java 138  at org eclipse jface text AbstractDocument fireDocumentAboutToBeChanged AbstractDocument java 645  at org eclipse jface text AbstractDocument replace AbstractDocument java 1148  at org eclipse core internal filebuffers SynchronizableDocument replace SynchronizableDocument java 195  at org eclipse jface text AbstractDocument replace AbstractDocument java 1176  at org eclipse core internal filebuffers SynchronizableDocument replace SynchronizableDocument java 181  at org eclipse text edits ReplaceEdit performDocumentUpdating ReplaceEdit java 82  at org eclipse text edits TextEditProcessor executeUndo TextEditProcessor java 223  at org eclipse text edits UndoEdit dispatchPerformEdits UndoEdit java 57  at org eclipse text edits TextEditProcessor performEdits TextEditProcessor java 156  at org eclipse text edits TextEdit apply TextEdit java 711  at org eclipse ltk core refactoring UndoTextFileChange perform UndoTextFileChange java 195  at org eclipse jdt core refactoring UndoCompilationUnitChange perform UndoCompilationUnitChange java 74  at org eclipse ltk internal core refactoring UndoableOperation2ChangeAdapter 1 run UndoableOperation2ChangeAdapter java 321  at org eclipse core internal resources Workspace run Workspace java 1859  at org eclipse core internal resources Workspace run Workspace java 1841  at org eclipse ltk internal core refactoring UndoableOperation2ChangeAdapter executeChange UndoableOperation2ChangeAdapter java 351  at org eclipse ltk internal core refactoring UndoableOperation2ChangeAdapter undo UndoableOperation2ChangeAdapter java 183  at org eclipse core commands operations TriggeredOperations undo TriggeredOperations java 228  at org eclipse core commands operations DefaultOperationHistory doUndo DefaultOperationHistory java 415  at org eclipse core commands operations DefaultOperationHistory undo DefaultOperationHistory java 1280  at org eclipse ui operations UndoActionHandler runCommand UndoActionHandler java 78  at org eclipse ui operations OperationHistoryActionHandler 4 run OperationHistoryActionHandler java 311  at org eclipse jface operation ModalContext ModalContextThread run ModalContext java 121
301242	UI locked by 2 dialogs after repeated Undos in Java editor  Created attachment 157616  details  Stacktrace I20100128 1731 The UI can be locked up by 2 dialogs when the user repeatedly performs Undo in a Java editor with the  Format all  Save Action enabled  My test case    check out org eclipse ui workbench   open class SearchPattern  go to validateMatchRule       add spaces at the beginning of a few lines   press Ctrl S   add more spaces at the beginning of a few lines   press Ctrl S again   press and hold Ctrl Z
319689	Invalid thread access in ProblemMarkerManager  I ve just got this exception while shuting down my 4 0 SDK but my guess from the stacktrace is that this not really a problem solely in 4 0         8          org eclipse swt SWTException  Invalid thread access at org eclipse swt SWT error SWT java 4083  at org eclipse swt SWT error SWT java 3998  at org eclipse swt SWT error SWT java 3969  at org eclipse swt widgets Display error Display java 1027  at org eclipse swt widgets Display createDisplay Display java 794  at org eclipse swt widgets Display create Display java 777  at org eclipse swt graphics Device  init  Device java 130  at org eclipse swt widgets Display  init  Display java 668  at org eclipse swt widgets Display  init  Display java 659  at org eclipse swt widgets Display getDefault Display java 1303  at org eclipse jdt internal ui util SWTUtil getStandardDisplay SWTUtil java 63  at org eclipse jdt internal ui viewsupport ProblemMarkerManager fireChanges ProblemMarkerManager java 201  at org eclipse jdt internal ui viewsupport ProblemMarkerManager resourceChanged ProblemMarkerManager java 144  at org eclipse core internal events NotificationManager 2 run NotificationManager java 291  at org eclipse core runtime SafeRunner run SafeRunner java 42  at org eclipse core internal events NotificationManager notify NotificationManager java 285  at org eclipse core internal events NotificationManager broadcastChanges NotificationManager java 149  at org eclipse core internal resources Workspace broadcastPostChange Workspace java 327  at org eclipse core internal resources Workspace endOperation Workspace java 1181  at org eclipse core internal events AutoBuildJob doBuild AutoBuildJob java 157  at org eclipse core internal events AutoBuildJob run AutoBuildJob java 242  at org eclipse core internal jobs Worker run Worker java 54          8
336841	Show In  doesn t work in Synchronize view for open  java file outside of classpath  Created attachment 188698  details  Fix & test HEAD  Show In   Package Explorer  doesn t work in the Synchronize view for an open  java file that is not on the classpath
347599	Provide a way to implement refactorings that depend on resources that have to be explicitly released  Created attachment 196865  details  Refactoring dispose   method C   refactorings must hold a lock on C   index  Currently it is pretty hard to determine when the lock should be released  Under normal circumstances the lock has to be released at the end of createChange method  but in case of errors it may have to be released in checkFinalConditions or checkInitialConditions  The situation is further complicated by possibility that check Conditions and createChange methods may be called multiple times  This life cycle uncertainty makes reliable release of C   index in CDT refactorings virtually impossible  The proposed solution is to add org eclipse ltk core refactoring Refactoring dispose   method and call that method before the refactoring object goes out of scope  C   rafactorings would override the dispose method and release the index lock there  The attached patch adds dispose method to Refactoring class and calls to this method to PerformRefactoringHistoryOperation and RefactoringHistoryWizard  There are more places where dispose calls should be added  but none of these places would cause problems even with a missing dispose call since they don t deal with refactorings that override the dispose method  The patch is intended for Eclipse 3 8
411636	Save is very slow  burns cycles in the Package and Project Explorer   Created attachment 232751  details  Stack trace I noticed that when I saved a Java file  the UI would be come unresponsive for about 5 seconds  I did a stack trace  attached  and noticed that the main thread seemed to be hung up somewhere in the project explorer  When I unchecked  Link With Editor  this delay went away  I tried doing the same action on the exact same workspace in Indigo and did not notice the same delay  My workspace is very large  100  projects  maybe 50 100K files   I m using  Version  4 3 0 Build id  I20130605 2000
411841	Rerunning a test from JUnit results view is launching the test on UI thread  When I rerun a test by selecting  Run  from the JUnit test results view context menu the test launch is happening on the UI thread  When build before launch is enabled the project build is invoked on UI thread on Eclipse is frozen during the test launch process  I am working on a patch to avoid it by delegating the rerun config launching to DebugUITools launch   and will attach it to the bug soon  A sample stack trace captured during the freeze is     java io UnixFileSystem createDirectory Native Method  java io File mkdir File java 1239  java io File mkdirs File java 1266  org eclipse core internal filesystem local LocalFile mkdir LocalFile java 286  org eclipse core internal localstore FileSystemResourceManager write FileSystemResourceManager java 1132  org eclipse core internal resources Folder internalCreate Folder java 180  org eclipse core internal resources Folder create Folder java 107  org eclipse jdt internal core builder AbstractImageBuilder createFolder AbstractImageBuilder java 470  org eclipse jdt internal core builder AbstractImageBuilder 1 visit AbstractImageBuilder java 254  org eclipse core internal resources Resource 1 visitElement Resource java 85  org eclipse core internal watson ElementTreeIterator doIteration ElementTreeIterator java 82  org eclipse core internal watson ElementTreeIterator doIteration ElementTreeIterator java 86  org eclipse core internal watson ElementTreeIterator doIteration ElementTreeIterator java 86  org eclipse core internal watson ElementTreeIterator doIteration ElementTreeIterator java 86  org eclipse core internal watson ElementTreeIterator doIteration ElementTreeIterator java 86  org eclipse core internal watson ElementTreeIterator doIteration ElementTreeIterator java 86  org eclipse core internal watson ElementTreeIterator doIteration ElementTreeIterator java 86  org eclipse core internal watson ElementTreeIterator iterate ElementTreeIterator java 127  org eclipse core internal resources Resource accept Resource java 95  org eclipse core internal resources Resource accept Resource java 52  org eclipse jdt internal core builder AbstractImageBuilder addAllSourceFiles AbstractImageBuilder java 219  org eclipse jdt internal core builder BatchImageBuilder build BatchImageBuilder java 51  org eclipse jdt internal core builder JavaBuilder buildAll JavaBuilder java 254  org eclipse jdt internal core builder JavaBuilder build JavaBuilder java 184  org eclipse core internal events BuildManager 2 run BuildManager java 728  org eclipse core runtime SafeRunner run SafeRunner java 42  org eclipse core internal events BuildManager basicBuild BuildManager java 199  org eclipse core internal events BuildManager basicBuild BuildManager java 239  org eclipse core internal events BuildManager 1 run BuildManager java 292  org eclipse core runtime SafeRunner run SafeRunner java 42  org eclipse core internal events BuildManager basicBuild BuildManager java 295  org eclipse core internal events BuildManager basicBuild BuildManager java 256  org eclipse core internal events BuildManager build BuildManager java 394  org eclipse core internal resources Project 1 run Project java 618  org eclipse core internal resources Workspace run Workspace java 2344  org eclipse core internal resources Project internalBuild Project java 597  org eclipse core internal resources Project build Project java 114  org eclipse debug core model LaunchConfigurationDelegate 1 run LaunchConfigurationDelegate java 423  org eclipse core internal resources Workspace run Workspace java 2344  org eclipse core internal resources Workspace run Workspace java 2326  org eclipse debug core model LaunchConfigurationDelegate buildProjects LaunchConfigurationDelegate java 430  org eclipse debug core model LaunchConfigurationDelegate buildForLaunch LaunchConfigurationDelegate java 126  org eclipse debug internal core LaunchConfiguration launch LaunchConfiguration java 823  org eclipse debug internal core LaunchConfiguration launch LaunchConfiguration java 704  org eclipse jdt internal junit model TestRunSession rerunTest TestRunSession java 485  org eclipse jdt internal junit ui TestRunnerViewPart rerunTest TestRunnerViewPart java 2062  org eclipse jdt internal junit ui RerunAction run RerunAction java 52  org eclipse jface action Action runWithEvent Action java 498  org eclipse jface action ActionContributionItem handleWidgetSelection ActionContributionItem java 584  org eclipse jface action ActionContributionItem access 2 ActionContributionItem java 501  org eclipse jface action ActionContributionItem 5 handleEvent ActionContributionItem java 411  org eclipse swt widgets EventTable sendEvent EventTable java 84  org eclipse swt widgets Widget sendEvent Widget java 1276  org eclipse swt widgets Display runDeferredEvents Display java 3554  org eclipse swt widgets Display readAndDispatch Display java 3179
417765	ImageDescriptorRegistry hookDisplay   causes SWT Invalid thread access  Eclipse Kepler There appears to be a case where NewJavaProjectWizardPageTwo causes an SWT Invalid Thread Access when using Bndtools  This problem has been reproduced by others  To reproduce  create a new workspace  switch to the Bndtools perspective  create a new Bndtools OSGi project  You should get the Invalid Thread Access  The workaround is to delete the project you just created and create it again  I believe the key here is that you have a brand new workspace  Here is the stack trace  org eclipse swt SWTException  Invalid thread access at org eclipse swt SWT error SWT java 4397  at org eclipse swt SWT error SWT java 4312  at org eclipse swt SWT error SWT java 4283  at org eclipse swt widgets Display error Display java 1204  at org eclipse swt widgets Display checkDevice Display java 759  at org eclipse swt widgets Display disposeExec Display java 1181  at org eclipse jdt internal ui viewsupport ImageDescriptorRegistry hookDisplay ImageDescriptorRegistry java 77  at org eclipse jdt internal ui viewsupport ImageDescriptorRegistry  init  ImageDescriptorRegistry java 40  at org eclipse jdt internal ui JavaPlugin internalGetImageDescriptorRegistry JavaPlugin java 954  at org eclipse jdt internal ui JavaPlugin getImageDescriptorRegistry JavaPlugin java 347  at org eclipse jdt internal ui wizards buildpaths CPListLabelProvider  init  CPListLabelProvider java 68  at org eclipse jdt internal ui wizards buildpaths BuildPathsBlock  init  BuildPathsBlock java 189  at org eclipse jdt ui wizards JavaCapabilityConfigurationPage getBuildPathsBlock JavaCapabilityConfigurationPage java 95  at org eclipse jdt ui wizards JavaCapabilityConfigurationPage init JavaCapabilityConfigurationPage java 151  at org eclipse jdt ui wizards NewJavaProjectWizardPageTwo initializeBuildPath NewJavaProjectWizardPageTwo java 318  at bndtools wizards project NewBndProjectWizardPageTwo initializeBuildPath NewBndProjectWizardPageTwo java 106  at org eclipse jdt ui wizards NewJavaProjectWizardPageTwo updateProject NewJavaProjectWizardPageTwo java 252  at org eclipse jdt ui wizards NewJavaProjectWizardPageTwo performFinish NewJavaProjectWizardPageTwo java 484  at org eclipse jdt internal ui wizards JavaProjectWizard finishPage JavaProjectWizard java 82  at org eclipse jdt internal ui wizards NewElementWizard 2 run NewElementWizard java 118  at org eclipse jdt internal core BatchOperation executeOperation BatchOperation java 39  at org eclipse jdt internal core JavaModelOperation run JavaModelOperation java 728  at org eclipse core internal resources Workspace run Workspace java 2345  at org eclipse jdt core JavaCore run JavaCore java 5331  at org eclipse jdt internal ui actions WorkbenchRunnableAdapter run WorkbenchRunnableAdapter java 106  at org eclipse jface operation ModalContext ModalContextThread run ModalContext java 121