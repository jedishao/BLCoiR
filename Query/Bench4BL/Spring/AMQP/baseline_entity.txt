125	lock algorithm SimpleMessageListenerContainer lock algorithm SimpleMessageListenerContainer leads container waiting stop listeners have failed
190	leaks channels synchronized TransactionManager See Forum Reference info observed channel leak goes choose channelTransacted look supply recreate scrounge time seems use RabbitTemplate channelTransacted convertAndSend message exchange context synchronized TransactionManager g transaction thread channel is closed publishes get channel is closed released channel pool Rabbit handle channels problem is observed consumer side g MessageListenerContainer observed publishing side g RabbitTemplate is observed use RabbitTemplate use spring integration tag
223	Threads Running SimpleListenerContainerIf doStart is called end threads running consumer happen say spring integration amqp declares adapter uses defined listener container container is started started adapter cause acks go Need protect running consumers times
243	AmqpAppender log4j synchronization issues resulting messages lossThe Log4j AmqpAppender is synchronization issues Log4j PatternLayout Problem is following line use pattern EnhancedPatternLayoutlike suggested PatternLayout JavaDoc add synchronization code consequence is message lost routing generated
249	Issues RabbitTemplate Temporary Reply QueuesTemporary Reply Queues are configured autoAck do ack reply using cached channel causes accounting problems Rabbit admin channel shows count replyHandoff is SynchronizedQueue is race condition case timeout is exceeded reply is received consumer thread hangs put is nobody take
260	Hanging thread using RabbitTransactionManager listener container channelTransacted using following configuration message be acknowledged Attached is zip file sample demo project reproduces issue PS test was done RELEASE 1 1 2 BUID SNAPSHOT be related AMQP
262	ConcurrentModificationException publish confirms  m getting ConcurrentModificationExceptions publish confirm code sending messages threads using rabbit template  ve attached fix Caused ConcurrentModificationException Looking code seems addPendingConfirm is thread synchronize access pendingConfirms processAck does
274	Listener Container Transactions Set using transactions tx manager exposeListenerChannel is default synchronized resource does have synchronizedWithTransaction property set causes RabbitTemplate close channel
275	Race Condition Stopping Listener Container Race condition messages be rejected requeued container stop consumer was canceled message be redelivered blocking queue cancel Cancel consumer Drain queue reject requeue
331	OutOfMemory occurs threads do abort is expected threads be abort situation OutOfMemory occurs threads do abort
355	container is stopped message is received exit onMessage method is possibility container is  s time invoke ErrorHandler verify fails was called
365	Fix Race Condition Consumer Recovery Test CasesAnalysis is race broker closing channel message being received listener listener counts latch test is waiting broker loses race channel is message is received listener message is redelivered consumer is recovered results messages being received test message fails Solution listener count latch message is redelivery latch have been counted message test flag message have been sent broker received listener Add message Set countdown latch  s received test cases send messages consumer uses ack does ack message causing channel be closed
469	used SingleConnectionFactory means thread be using connection believe have checked SimpleConnectionFactory happen thread have connection understand thread safety is documented be assumed am issuing bug request documentation thread safety ErlangTemplate ErlangTemplate is intended be thread bug be raised Thread safety executeErlangRpc is threadsafe used SingleConnectionFactory code executeErlangRpc calls sendRPC calls receiveRPC end result is sendRPC receiveRPC requests become interleaved
506	ConcurrentModificationException getUnconfirmed  re synchronized pendingConfirms values are maps fail synchronize iterating removing
532	ConcurrentModificationException PublisherCallbackChannelImpl testing publishing RabbitMQ node blocked network traffic simulating network partition got ConcurrentModificationException PublisherCallbackChannelImpl line number indicates happened pendingConfirms map Looking source code code is guarded synchronizing map places code map is accessed are synchronized PublisherCallbackChannelImpl Stacktrace Caused ConcurrentModificationException
551	build failure caused use MockitoLocalizedQueueConnection Boolean be returned toString toString return String apos apos getting error read nature syntax problem occur exception occur written multi threaded tests refer Mockito FAQ limitations concurrency testing Boolean be returned toString toString return String apos apos getting error read nature syntax problem occur exception occur written multi threaded tests refer Mockito FAQ limitations concurrency testing testFailOver uses Mockito threads changes apos behaviour listener container is running calling cause container fail leads test failures Mockito does support usage failure is WrongTypeOfReturnValue WrongTypeOfReturnValue spy is stubbed using syntax is stub spies doReturn Throw family methods javadocs spy method WrongTypeOfReturnValue spy is stubbed using syntax is stub spies doReturn Throw family methods javadocs spy method
648	Container Fails RecoverContainer configured listen queues Delete queue suspend consumer thread handleCancel Stop start broker issue is detect are queues attempt cancel consumers basicCacncel get handleCancelOk call broker had been restarted cancel consumers need deal failure cancel VESC