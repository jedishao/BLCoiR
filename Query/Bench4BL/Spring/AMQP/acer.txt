125	Unreliable lock algorithm SimpleMessageListenerContainer Unreliable lock algorithm SimpleMessageListenerContainer leads container waiting listeners failed Unreliable lock algorithm SimpleMessageListenerContainer set test consumer listener queue container queues reply
190	CachingConnectionFactory leaks channels TransactionManager RabbitTemplate channelTransacted convertAndSend message exchange context TransactionManager active transaction current thread channel closed publishes shiny channel closed released channel pool Rabbit handle channels Forum Reference info problem observed consumer side MessageListenerContainer observed publishing side RabbitTemplate observed RabbitTemplate natively spring integration amqp outbound channel adapter tag BTW observed channel leak choose channelTransacted supply simple recreate scrounge time CachingConnectionFactory leaks channels TransactionManager set connection channel transaction close test cache listener
223	Threads Running SimpleListenerContainerIf doStart called threads running consumer happen spring integration amqp declares adapter externally defined listener container container started started adapter acks asynchronously protect running consumers multiple times Threads Running SimpleListenerContainerIf doStart called threads running consumer set consumer listener message transaction exception queue test
243	AmqpAppender log synchronization issues messages lossThe Log AmqpAppender subject synchronization issues Log PatternLayout Problem String routingKey routingKeyLayout format logEvent pattern EnhancedPatternLayoutlike suggested PatternLayout JavaDoc add synchronization code consequence message lost routing key badly generated AmqpAppender log synchronization issues messages lossThe Log AmqpAppender subject synchronization issues Log PatternLayout set test resource transaction message sender stopped connection
249	Issues RabbitTemplate Temporary Reply QueuesTemporary Reply Queues configured autoAck don ack reply cached channel accounting problems Rabbit admin channel unacked count replyHandoff SynchronizedQueue race condition timeout exceeded reply received consumer thread hangs Issues RabbitTemplate Temporary Reply QueuesTemporary reply message set receive test send queue transaction
260	Hanging thread RabbitTransactionManager listener container channelTransacted configuration message acknowledged bean connectionFactory org springframework amqp rabbit connection CachingConnectionFactory constructor arg localhost property username guest property password guest bean bean rabbitTransactionManager org springframework amqp rabbit transaction RabbitTransactionManager property connectionFactory connectionFactory bean bean org springframework amqp rabbit listener SimpleMessageListenerContainer property connectionFactory connectionFactory property queueNames Queue property messageListener bean org springframework amqp rabbit listener adapter MessageListenerAdapter property delegate endpoint bean property property transactionManager rabbitTransactionManager property channelTransacted bean bean endpoint amqp Endpoint rabbit admin connection factory connectionFactory rabbit queue Queue Attached zip file sample demo project reproduces issue test RELEASE BUID SNAPSHOT AMQP Hanging thread RabbitTransactionManager listener container channelTransacted set listener consumer connection transaction channel message container
262	ConcurrentModificationException publish confirms random ConcurrentModificationExceptions publish confirm code sending messages multiple threads rabbit template Caused java util ConcurrentModificationException code PublisherCallbackChannelImpl addPendingConfirm thread unsafe synchronize access pendingConfirms processAck attached ConcurrentModificationException publish confirms message set confirm send reply exchange listener received
274	Listener Container Local Transactions Properly Set local transactions external manager exposeListenerChannel resource synchronizedWithTransaction property set downstream RabbitTemplate close channel Listener Container Local Transactions Properly Set set consumer transaction resource message listener exception channel
275	Race Condition Stopping Listener ContainerRace condition messages rejected requeued container consumer canceled message redelivered blocking queue cancel Cancel consumer Drain queue reject requeue Race Condition Stopping Listener ContainerRace condition messages rejected requeued container consumer canceled set consumer exception test listener message queue transaction
331	java lang Error OutOfMemory occurs threads abort OutOfMemory occurs threads abort expected threads abort situation java lang Error OutOfMemory occurs threads abort set consumer message event exception transaction exchange receive
355	Race Condition Test CaseThe ErrorHandler called container active container stopped message received exit onMessage method small possibility container active amp apos time invoke ErrorHandler verify fails called Race Condition Test CaseThe ErrorHandler called container active set listener test container message consumer exception queue
365	Race Condition Consumer Recovery Test CasesAnalysis test cases send messages consumer manual ack ack message causing channel closed race broker closing channel message received listener listener counts latch test waiting broker loses race channel closed message received listener message redelivered consumer recovered messages received test message fails Solution listener count latch message redelivery latch counted message test redelivered flag message broker received listener Add message Set countdown latch received Race Condition Consumer Recovery Test CasesAnalysis set consumer test container message transaction start receive
469	Thread safety ErlangTemplateErlangTemplate executeErlangRpc threadsafe SingleConnectionFactory code ErlangTemplate executeErlangRpc calls connection sendRPC calls connection receiveRPC SingleConnectionFactory thread connection result connection sendRPC connection receiveRPC requests interleaved checked SimpleConnectionFactory happen thread connection understand thread safety documented assumed issuing bug request documentation thread safety ErlangTemplate ErlangTemplate intended thread safe bug raised Critical Thread safety ErlangTemplateErlangTemplate executeErlangRpc threadsafe SingleConnectionFactory test connection message listener consumer queues event mock
506	ConcurrentModificationException RabbitTemplate getUnconfirmed pendingConfirms values maps fail synchronize iterating removing ConcurrentModificationException RabbitTemplate getUnconfirmed pendingConfirms values maps fail synchronize iterating removing test queue listener close confirm reply channel transactional
532	ConcurrentModificationException PublisherCallbackChannelImpl testing continuous publishing RabbitMQ node blocked network traffic simulating network partition ConcurrentModificationException PublisherCallbackChannelImpl number happened pendingConfirms map source code code guarded synchronizing map places code map accessed PublisherCallbackChannelImpl Stacktrace Caused java util ConcurrentModificationException spring rabbit RELEASE jar spring rabbit RELEASE jar spring rabbit RELEASE jar spring rabbit RELEASE jar spring rabbit RELEASE jar spring rabbit RELEASE jar spring rabbit RELEASE jar spring rabbit RELEASE jar spring rabbit RELEASE jar spring rabbit RELEASE jar spring rabbit RELEASE jar spring rabbit RELEASE jar spring rabbit RELEASE jar spring rabbit RELEASE jar spring rabbit RELEASE jar spring rabbit RELEASE jar spring rabbit RELEASE jar spring rabbit RELEASE jar spring rabbit RELEASE jar spring rabbit RELEASE jar spring rabbit RELEASE jar spring rabbit RELEASE jar spring rabbit RELEASE jar spring rabbit RELEASE jar spring rabbit RELEASE jar spring rabbit RELEASE jar spring rabbit RELEASE jar spring integration amqp RELEASE jar spring integration amqp RELEASE jar ConcurrentModificationException PublisherCallbackChannelImpl connection test channel close receive queue confirm basic
551	Intermittent build failure caused thread safe MockitoLocalizedQueueConnection FactoryTests testFailOver Mockito mock multiple threads mock amp apos behaviour listener container running calling mock container fail leads intermittent test failures Mockito support multi threaded usage failure org mockito exceptions misusing WrongTypeOfReturnValue org mockito exceptions misusing WrongTypeOfReturnValue returned toString toString String amp apos unsure amp apos error read nature syntax problem occur exception occur wrongly written multi threaded tests refer Mockito FAQ limitations concurrency testing spy stubbed spy foo syntax safer stub spies doReturn family methods javadocs Mockito spy method org mockito exceptions misusing WrongTypeOfReturnValue returned toString toString String amp apos unsure amp apos error read nature syntax problem occur exception occur wrongly written multi threaded tests refer Mockito FAQ limitations concurrency testing spy stubbed spy foo syntax safer stub spies doReturn family methods javadocs Mockito spy method Intermittent build failure caused thread safe MockitoLocalizedQueueConnection message custom listener queue test channel connection exchange
648	Container Fails RecoverContainer configured listen multiple queues Delete queue suspend consumer thread handleCancel start broker issue detect queues attempt cancel consumers basicCacncel handleCancelOk call broker restarted cancel consumers properly deal failure cancel VESC Container Fails RecoverContainer configured listen multiple queues set consumer message reply queue handle rabbit listener