140	XsltBuilder instance threadsafe XsltBuilder ResultHandler instance variable hold result transformation thread unsafe time it‘s cleared reset can’t XsltBuilder instance threadsafe set xslt transformer cache output test create endpoint
510	Intermittent test failure MultiCastAggregatorTest race condition test aggregators aggregating output InAggregator copy exchange attached patch rid unused method Intermittent test failure MultiCastAggregatorTest test exception failure create message object remove camel
574	Multicast excecutor create thread parallel processing loan broker CAMEL performance improvement parallelly mulitcast digging code create thread parallel processing Multicast excecutor create thread parallel processing set exchange processor create aggregate exception definition parallel
715	HashMap EntryIterator HashMap HashIterator HashMap nextEntry Hash Map Pipeline 1 next Entry Iterator putAll ConcurrentModificationException Exception ConcurrentModificationException in ThreadProcessorWhen defining very simple routing with ThreadProcessor
803	ValidatingProcessor thread safe method org apache camel processor validation ValidatingProcessor process executed concurrently error stored shared errorHandler thread calls errorHandler reset clean errors written thread easiest issue block ValidatingProcessor java errorHandler errorHandler reset validator setErrorHandler errorHandler DOMResult result DOMResult validator validate source result errorHandler handleErrors exchange schema result disadvantage solution serializes threads locally created error handler preferrable ValidatingProcessor thread safe schema set fail validator resource create header validating
1199	Throttler appears throttle thread throttling multiple threads Throttler appears throttle thread throttling multiple threads set async max shutdown consumer duration route rejected
1270	Starting Camel Main camel Main countdown latch hanging countdown latch MainSupport completed Main stopping hanging thread bee ctrl Starting Camel Main camel Main countdown latch hanging set main camel route context application hangup create
1401	JaxbDataFormat thread safe JaxbDataFormat reuses Marshaller Unmarshaller instances https jaxb dev java net faq html threadSafety Marshaller Unmarshaller instances thread safe separate threads time exceptions JAXB implementation ClassCastException org xml sax SAXException FWK parse called parsing works nice custom JaxbDataFormat creates Unmarshaller Marshaller instance request lazy creating instances JAXBContext getter methods thread safe explicit synchronization required JaxbDataFormat thread safe marshal set filtering test jaxb xml unmarshal predicate
1510	BatchProcessor interrupt side effects noticed BatchProcessor Thread interrupt method wake loop sleeping enqueueExchange method unfortunate side loop middle processing exchanges processing involves slow establishing JMS connection SSL queuing asynchronous processor processing interrupted consequence side batch sender thread rarely opportunity complete properly exceptions interrupt thrown apparent performance testing continuously adding exchanges aggregator threshold reached enqueue aggregated result JMS queue analysis BatchProcessor correct recommend finer grained concurrency controls relying interrupting thread untested write sender BatchSender Thread Queue Exchange queue exchangeQueued Lock queueMutex ReentrantLock Condition queueCondition queueMutex newCondition BatchSender Batch Sender queue LinkedList Exchange cancel interrupt drainQueueTo Collection Exchange collection batchSize batchSize Exchange queue poll collection add enqueueExchange Exchange exchange queueMutex lock queue add exchange exchangeQueued queueCondition signal queueMutex unlock Override queueMutex lock exchangeQueued queueCondition await batchTimeout TimeUnit MILLISECONDS exchangeQueued drainQueueTo collection batchSize exchangeQueued exchangeQueued queueMutex unlock isInBatchCompleted queue size queueMutex lock drainQueueTo collection batchSize queueMutex unlock isOutBatchCompleted queueMutex lock queueMutex unlock sendExchanges Exception getExceptionHandler handleException queueMutex lock InterruptedException queueMutex unlock sendExchanges Exception Iterator Exchange iter collection iterator iter hasNext Exchange exchange iter iter remove processExchange exchange replaced concurrent queue regular linked list mutexed access addition queuing exchanges result locking main change queuing exchange interrupt batch sender current activity hope sample BatchProcessor interrupt side effects set batch create route context completion exchange processor
1565	toSAXException AsyncProcessorTypeConverter ProcessorToAsyncProcessorBridge Util ValidatingProcessor SAXException ProcessorEndpoint 1 newSchema process XMLSchemaFactory createSchema ProcessorEndpoint toSAXException SAXException Make camel validation thread safe
1583	ldap component thread safe JNDI context objects thread safe LDAP component shares directory context threads component safe addition LDAP component attempt establish connection instantiation component component required process requests LDAP server ready temporarily unavailable entire Camel application JNDI directory contexts established consuming thread released thread finished component ctx InitialDirContext env ctx close release connection LDAP server existing component relies JNDI release socket time seconds ldap component thread safe ldap set route search test create endpoint predicate
1604	UnitOfWork synchronization callbacks add DSL easy registering custom processor nabble http nabble DISCUSS Camel Synchronization UnitOfWork callbacks needed syntax DSL sugar html UnitOfWork synchronization callbacks add DSL easy registering custom processor route advice set pattern synchronization create callback unit
1641	camel ftp thread safe nabble discussion http nabble Threadsafety Camel FTP html Basically FTPClient created instance created producer consumer http component camel ftp thread safe thread set pool service ftp async predicate exchange
1650	Race condition IdempotentConsumer race condition exists IdempotentConsumer implementation code checks MessageIdRepository message processed processes message adds repository http issues apache org activemq browse CAMEL locking check insert add multiple threads instances parallel happen finds contained repository message processed multiple times enclose extended version IdempotentConsumerTest illustrates problem note test demonstrates issue MemoryIdempotentRepository solution address database based respository clustered environment imply locking mechanism database required Race condition IdempotentConsumer breakpoint event duplicate search match route query single
1670	thread File Components experimented adding calls thread route multithreaded speeds route throwing java nio channels OverlappingFileLockException errors leaving lock files start route file startDirectory move endDirectory threads bean myBean myMethod route OverlappingFileLockException thrown file read lock files left source directory thread File Components tabular component composite column data list execute filter
1795	camel jms wrong defaults message listener thread receiving messageJmsConfiguratiuon bad maxMessagesPerTask strict DefaultMessageListenerContainer handle message thread camel jms wrong defaults message listener thread receiving messageJmsConfiguratiuon bad set message reply create jms destination listener consumer
1930	access XPathExpression contention multiple consumers Camel JMS message routing Messages XML xpath natural choice choice xpath expression XPathBuilder creates XPathExpression object specification objects thread safe synchronizing natural multiple jms consumers totally useless concurrent evaluations XPathExpression objects stored ThreadLocal avoid synchronization contention Cheers Fabrice access XPathExpression contention multiple consumers producer consumer test disruptor configuration set endpoint expression
1966	CamelNamespaceHandler thread safe mail thread discusses http nabble Occasional CamelNamespaceHandler exception running Spring html CamelNamespaceHandler thread safe thread set task pool shutdown predicate exchange commit
2049	Improper configuration MINA connector acceptor instances producerA sample scenario MINA producer consumer route kind dispatching proxying mina tcp localhost lazySessionCreation amp sync mina tcp localhost lazySessionCreation amp sync mina tcp localhost lazySessionCreation amp sync process prepare answer improper configuration MINA acceptor connector instances MinaComponent createSocketEndpoint incoming threads served port producer unable open outgoing session issue MINA Camel test application written raw MINA behaviour solution apply configuration rules http mina apache org configuring thread model html attached patch standard Camel MINA producer thread safe point attached file thread pool based reentrant version efficiently TCP endpoints parameters lazySessionCreation sync set Improper configuration MINA connector acceptor instances log mina create session event message store socket
2175	Initialization code camel cxf thread safe getCxfBinding thread safe multiple threads hit CXF webserive hasnt initialized Code CxfBinding getCxfBinding cxfBinding cxfBinding DefaultCxfBinding LOG isDebugEnabled LOG debug Create CXF Binding cxfBinding cxfBindingInitialized getAndSet amp amp cxfBinding HeaderFilterStrategyAware HeaderFilterStrategyAware cxfBinding setHeaderFilterStrategy getHeaderFilterStrategy cxfBinding sense getAndSet threads pass cxfBinding initialized Initialization code camel cxf thread safe set bundle camel bean stream invoke initialization endpoint
2496	FileInputStreamCache StreamCacheConverter StreamSourceCache XPathBuilder resetStreamCache createProcessorExchangePairs reset MessageHelper Stream Cache DeadLetterChannel MulticastProcessor FileNotFoundException RuntimeCamelException StreamCache Splitter race condition
2824	Deadlock org apache camel util DefaultTimeoutMapAfter running camel route camel Aggregator deadlock org apache camel util DefaultTimeoutMap full processdump attached bug recreate failing testcase luck Deadlock org apache camel util DefaultTimeoutMapAfter running camel route camel Aggregator deadlock org apache camel util DefaultTimeoutMap test route build app property config explicit incorrect
2935	Broken failure reporting DefaultProucerTemplate asyncCallback Synchronization onFailureThe change ProducerCache send ProducerCache java send Endpoint endpoint Exchange exchange sendExchange endpoint exchange CHANGE ensure CamelExecutionException thrown exchange getException exchange setException wrapCamelExecutionException exchange exchange getException Exception wrapCamelExecutionException exchange CamelExecutionException exchange getException impossible DefaultProducerTemplate asyncCallback report failures fault messages asynchronously Synchronization onFailure DefaultProducerTemplate java Exchange asyncCallback Endpoint endpoint Exchange exchange Synchronization onCompletion Callable Exchange task Callable Exchange Exchange call Exception FIXME exception thrown Camel normal answer getException Camel Exchange answer send endpoint exchange answer isFailed onCompletion onFailure answer answer working Camel wasn test attached patch DefaultProducerTemplateAsyncTest demonstrates problem didn commit unsure moment naive DefaultProducerTemplate asyncCallback methods test patch pass hear opinions Broken failure reporting DefaultProucerTemplate asyncCallback Synchronization body set route exchange message endpoint create async
2986	AsyncContinuation CamelContinuationServlet 1 UnitOfWorkProcessor 1 done RedeliveryErrorHandler 1 InstrumentationProcessor 1 1 dispatch DefaultChannel 1 Continuation resume IllegalStateException RedeliveryError IllegalStateException in CamelContinuationServlet under heavy loadReason is a race between continuation suspend  and continuation resume
2994	AbstractList Itr HTTPConduit WrappedOutputStream 1 RedeliveryErrorHandler 1 AutomaticWorkQueueImpl 2 done CxfClientCallback ClientOutFaultObserver InstrumentationProcessor 1 1 handleException next handleException RedeliveryError Exception NoSuchElementException camel cxf   CxfClientCallback is invoked twice when only one was expectedRun the test CXFWsdlOnlyTest
3216	ScheduledPollConsumer avoid runnable thread die ensure scheduledscheduled consumers file ftp ScheduledPollConsumer poll throwable thrown thread die JDK avoid ensure exceptions thread die JDK schedule thread polling http fusesource forums thread jspa threadID amp tstart ScheduledPollConsumer avoid runnable thread die ensure scheduledscheduled consumers file ftp ScheduledPollConsumer poll set consumer poll endpoint exchange scheduled backoff create
3277	XPathExpressionImpl eval XPathBuilder evaluate doInEvaluateAs XPath evaluateAs Impl Expression Evaluate Builder ClassCastException Threading issue which lets converter loading abortThe type converter loading is not threadsafe and fails sometimes
3349	Race condition CxfRsEndpoint endpoint binding load performing sync async invocation CxfRsEndpoint amp apos getBinding method thread safe customer site issue startup threads raced perform sync async invocation code getBinding react Thread proceed create binding object Thread find binding proceed create binding thread binding set Atomic binding initialized proceed set HeaderStrategy Thread overwrite original binding object find Atomic set associate HeaderFilterStrategy object flag absence HeaderFilterStrategy copying ProtocolHeaders exceptions request invocation CxfRsBinding getBinding binding binding DefaultCxfRsBinding LOG isDebugEnabled LOG debug Create CXF Binding binding bindingInitialized getAndSet amp amp binding HeaderFilterStrategyAware HeaderFilterStrategyAware binding setHeaderFilterStrategy getHeaderFilterStrategy binding Race condition CxfRsEndpoint endpoint binding load performing sync async invocation set endpoint client cxf resource response create camel
3493	AbstractList Itr checkForComodification removeRouteDefinitions next Comodification check AbstractCollection DefaultCamelContext removeAll Itr List ConcurrentModificationException ConcurrentModificationException in DefaultCamelContext removeRouteDefinitions
3528	HybridSourceDataBinding thread safe HybridSourceDataBinding camel cxf thread safe readers writers CXF hold schemas properties created needed HybridSourceDataBinding thread safe thread set task pool predicate exchange shutdown data
7116	JettyHttpProducer doStop client thread poolCase CamelContext route direct routingSlip generateHttpUrl generateHttpUrl returns jetty http someurl httpClientMinThreads amp CamelContext closing JettyHttpProducer doStop called Result JettyHttpProducer client closing thread pool closed threads deamon threads subject JIRA application shutdown JettyHttpProducer doStop client thread poolCase set client create server http consumer test thread
7161	DefaultSingletonBeanRegistry DefaultListableBeanFactory beansOfTypeIncludingAncestors Bean getBeansOfType PropertyPlaceholderDelegateRegistry Type BeanFactoryUtils ApplicationContextRegistry getBeanNamesForType doGetBeanNamesForType camel dozer   Can cause dead lock in init when using springWhen using spring with dozer  and we call init in the ctr  then spring can cause a deadlock when it does its getBean stuff
7239	Address SchemaFactory thread safe issue SchemaFactory thread safe addition work ValidatorProcessor avoid threads issue Address SchemaFactory thread safe issue set schema create xml resource stream endpoint jaxb
7318	Concurrency HDFS Consumer working efficiently HDFS consumers files processed consumer waiting consumers working parallel add consumers work team transfer faster exception thrown rename method returns carries happened order add HdfsInputStream info getFileSystem rename Path ret actualPath Path ret suffixedPath IOException exception thrown rename succeded HdfsConsumer rwlock writeLock lock istream HdfsInputStream createInputStream fileStatuses getPath toString config IOException ioe log info ioe getMessage rename fails move file Concurrency HDFS Consumer working efficiently set hdfs file type test split consumer check
7321	JcrConsumer freezes environments January Willem Jiang reported JUnit test JcrConsumerTest fails environment reproduced environments time Willem Jiang applied pom xml order test pass camel jcr pom xml build plugins plugin groupId org apache maven plugins groupId artifactId maven surefire plugin artifactId configuration forkMode pertest forkMode configuration plugin plugins build tests separate processes indicator potential multi threading issues JcrConsumer reproduce problem running Maven Eclipse problem synchronization issue addressed ticket JcrConsumer freezes environments set create session listener stream endpoint type thread
7364	JpaMessageIdRepository EntityManager thread safe product strange behavior JpaMessageIdRepository change version reason EntityManager assigned constructor org apache camel processor idempotent jpa JpaMessageIdRepository EntityManager required thread safe http download oracle otn pub jcp persistence oth JSpec persistence spec pdf assign EntityManager method separately JpaMessageIdRepository EntityManager thread safe set query jpa create route manager pre parameters
7556	camel rabbitmq Multiple concurrent consumer threads multiple concurrent threads listening single queue JMS endpoint camel rabbitmq Multiple concurrent consumer threads set message exchange max consumer create time jms
7715	SjmsConsumer SjmsProducer remove thread pool stopSjmsConsumer SjmsProducer register ThreadPool Camel context ExecutorServiceManager time instance created endpoint consumer producer stopped removed component removed thread pool exists SjmsConsumer SjmsProducer remove thread pool stopSjmsConsumer SjmsProducer register ThreadPool Camel context ExecutorServiceManager time instance created endpoint set create thread pool add http producer object
7795	Regression MDC lose values Async Routing Engine CAMEL introduced optimisations MDC Logging mechanism lose MDC values async routing engine async component CXF response callback issued thread managed Camel MDCCallback reset MDC values routeId intended commits caused regression situation salvaged fact underlying MDC implementations InheritableThreadLocal requests system initialisation correct behaviour MDC values requesting thread propagated newly initialised threads underlying stack ThreadPool coreThreads initialised context original threads parent threads attempts odd behaviour responses async endpoint MDC Regression MDC lose values Async Routing Engine event route async message processor endpoint servlet nit
7968	Container undefined concurrency behaviour implementation Container Instance ThreadSafe defined multiple Containers race singleton Container singleton approach singleton ContainerRegistry handle concurrent multiple Containers Container undefined concurrency behaviour container execute blob image request create store search
7973	CircuitBreakerLoadBalancer fails async processors CircuitBreakerLoadBalancer works fine direct synchronous processor behave expected async processor reproduce error add threads mock processor CircuitBreakerLoadBalancerTest routeBuilder configuration misbehaviour AsyncProcessorConverterHelper force processor behave asynchronous propose patch failing test proposal solution EDIT patch unexpected behaviour CircuitBreaker problem addressed opening circuit RejectedExecutionException raised circuit breaker set Exchange doesn processor receive Exchange circuit open CircuitBreaker instructed react specific Exception close circuit request raised exception RejectedExecutionException configuration CircuitBreakerLoadBalancer fails async processors exchange set processor aggregate exception create load circuit
7988	file consumer call abort read lock acquired exception thrown nabble http camel nabble issue FileLockExclusiveReadLockStrategy leaves orphaned camelLock file html camelLock phaned file causing file eligible consuming poll file consumer call abort read lock acquired exception thrown set file lock move create delete min exclusive
8088	connectAction SocketClient connect FtpOperations FTP FTPClient Action Client Socket Ftp Operations SocketException SocketTimeoutException RuntimeException GenericFileOperationFailedException IOException Exception FTP can wait indefinitely when connection timeout occurs during connect
8134	add synchronisation CachedOutputStream closedOnCompletion option falseCachedOutputStream adds synchronization exchange closedOnCompletion option OOM error HttpProducer endpoint unlimited limited redelivery discussion issue add synchronisation CachedOutputStream closedOnCompletion option falseCachedOutputStream stream http response create input request file strategy
8146	ScheduledThreadPoolExecutor DelayedWorkQueue AbstractQueuedSynchronizer ConditionObject parkNanos LockSupport park awaitNanos Unsafe ThreadPoolExecutor Nanos ThreadPoolExecutor Worker take Starting and stopping routes leak threadsSeems to be identical consequence as with previous issue CAMEL    but perhaps due to a different cause
8200	Race condition JmsProducer request response messaging causing nondeterministic setting body team noticed race condition problem JmsProducer request response messaging nondeterministically body response message changed happen JMS response received fast memory ActiveMQ transport persistence heavy load problem JmsProducer processInOut exchange callback method processInOut Exchange exchange AsyncCallback callback doSend destinationName destination messageCreator messageSentCallback sending set message JMSMessageID identical setMessageId exchange routing asynchronously reply processed async received setMessageId Exchange exchange exchange hasOut JmsMessage exchange getOut JmsMessage amp amp getJmsMessage setMessageId getJmsMessage getJMSMessageID JMSException LOG warn Unable retrieve JMSMessageID outgoing JMS Message set Camel amp apos MessageId problem caused invoking setMessageId method doSend Method doSend sending JMS request message thread handle JMS reply message leads situation threads operate exchange time original thread processInOut method called separate thread JMS component handling JMS response happening setMessageId invoked time PipelineHelper createNextMessage exchange method Exchange createNextExchange Exchange previousExchange Exchange answer previousExchange set input exchange output previous message answer hasOut answer setIn answer getOut answer setOut answer caused body response message lost set calling setMessageId processInOut method redundant logic executed JMS reply message handled attached patch invokation setMessageId removed checked doesn test camel jms component Race condition JmsProducer request response messaging causing nondeterministic setting body set response http request reply message create test
8241	Exec command failures Java Unix I’m attaching test issue I‘ve running exec command updating environment Java appears I’m running race condition stream closed prematurely DefaultExecutor chance close causing DefaultExecCommandExecutor exit command execute properly I‘ve tested updated version commons exec hasn’t fixed library note attached test doesn‘t fail times error Exec command failures Java Unix set exec file script test connect create command
8268	camel hbase scan method thread safe filter listThe scan method thread safe filter list concurrent call endpoint produce wrong values FilterList threads Cloning passed filter list solve problem camel hbase scan method thread safe filter listThe scan method thread safe filter list set trace filter create row converter http processor
8353	FileLockExclusiveReadLockStrategy defer closing channel release lock nabble http camel nabble FileLockExclusiveReadLockStrategy doesn hold lock error commit html acquire lock method closes channel acquired lock lock invalid channel remain open closed lock released FileLockExclusiveReadLockStrategy defer closing channel release lock channel lock file set object read exclusive netty
8673	ConcurrentModificationException creating dynamic routesThis ticket refers CAMEL wrong geht ConcurrentModificationException removeRouteCollection addRouteCollection removeRouteCollection Collection Route routes routes routes removeAll routes code synchronizes routes parameter routes getRoutes addRouteCollection ConcurrentModificationException creating dynamic routesThis ticket refers CAMEL set configuration create route header security http server
8713	ParallelAggregate option parallel mode parallel CAMEL parallel processing boss thread aggregate fly single threaded boss thread controls aggregation setting parallel aggregate boss thread thread pool existing pool parallel processing worker threads aggregate work parallel ParallelAggregate option parallel mode parallel set completion exchange aggregate definition create processor executor
8885	ConsumeLockEntity ConsumeDeleteI condition lock function wrong lockEntity Object entity EntityManager entityManager getEndpoint isConsumeDelete getEndpoint isConsumeLockEntity wanna select update entity set consumeDelete entity newer locked ConsumeLockEntity ConsumeDeleteI condition lock function wrong set lock create expression entity transaction route simple
8954	Lock handovered Exchange completion synchronizations applies file components common read lock strategies markerFile org apache camel component file strategy MarkerFileExclusiveReadLockStrategy fileLock org apache camel component file strategy FileLockExclusiveReadLockStrategy strategies stores lock Exchange properties Exchange FILE LOCK FILE ACQUIRED CamelFileLockFileAcquired Exchange FILE LOCK FILE CamelFileLockFileName Exchange FILE LOCK EXCLUSIVE LOCK CamelFileLockExclusiveLock Exchange FILE LOCK RANDOM ACCESS FILE CamelFileLockRandomAccessFile Lock stored scalar values hold single lock Exchanges participates route share UoW synchronizations handovered Exchange locks stored Exchange properties lost completion synchronizations performed read lock strategies access locks released completing route lock file dat released file data input fileName file dat amp readLock markerFile pollEnrich file data input fileName file dat amp readLock markerFile mock result Lock handovered Exchange completion synchronizations set timeout completion lock batch route task exchange
9199	RabbitMQ Consumer threads crash sending partially serializable objects RabbitMQ consumer thread crashes sending object Serializable Serializable objects add tests RabbitMQ Consumer threads crash sending partially serializable objects set message max channel reply create exchange jms
9311	Concurrency issue dynamic router service HTTP contexts http endpoin dynamic http endpoin dynamic endpoints called HTTP method dynamic router routes message differently HTTP endpoint instance dynamic router bean dynamic router bean shared HTTP endpoints called sequentially calls handled expected HTTP endpoints called concurrently dynamic router endpoin dynamic endpoint routing calls originating endpoin dynamic vice versa attached unit test detail Concurrency issue dynamic router create set test context definition issue dynamic epository
9319	SshClient resource leak ProducerTemplate ProducerTemplate execution ssh command producerTemplate requestBody ssh String threads created killed subsequent calls create threads eventually exhausts memory thread resources machine threads killed explicitly stopping ProducerTemplate detailed discussion profiler code reproduce issue http stackoverflow questions spring boot camel producertemplate thousands threads http camel nabble Spring Boot Camel producerTemplate ssh spawning thousands threads html SshClient resource leak ProducerTemplate test leak template script send create route browsable
9331	Thread leak Http Endpoint doStop close httpClientThread leak Http Endpoint doStop close httpClient shared client connection manager builder told close shared connection manager http client closed Thread leak Http Endpoint doStop close httpClientThread leak Http Endpoint doStop close httpClient http set handler message test client browsable exception
9738	Thread leak camel mina consumers camel mina consumer org apache camel component mina Mina Consumer doStart internally start Mina IoAcceptor org apache mina core service IoAcceptor org apache camel component mina Mina Consumer doStop invoke acceptor dispose release threadpool started Mina Current behavior stopping web application threadpool started Mina IoAcceptor stopped thread properly shutdown Current workaround create custom CamelShutdownStrategy collect Mina Consumer invoke Mina consumer getAcceptor dispose alternative create dedicated consumer overwrite method Mina consumer https github oehf ipf commit fdde ebbbb aadeab bed Suggested bugfix org apache camel component mina Mina Consumer doShutdown call IoAcceptor dispose method unbind address Thread leak camel mina consumers set create endpoint mina codec consumers exchange context
9951	Setup values thread connected properties WebSocket component set properties minThreads maxThreads method getThreadPool returns RuntimeCamelException websocket cosumer created attributes required previous versions camel Websocket component Jetty properties required values minThreads maxThreads Runtime getRuntime availableProcessors https github apache camel blob master components camel websocket src main java org apache camel component websocket WebsocketComponent java Setup values thread connected properties WebSocket component set endpoint create web socket http ssl thread
9970	CamelFileLength header wrong write fileGiven write file slowfile dat Camel polls file stores parameters length lastModified Camel exclusive read lock fails file writing time Camel lock file changed parameters wrong solution pretty simple check file length lastModified exclusive read lock granted update patch http pastebin vyF BTU CamelFileLength header wrong write fileGiven write file slowfile dat file write mac test buffer stream create set
10024	Race condition Mina Producer Mina Consumer closing connections disconnect race condition Mina Producer close connections setting disconnect setting CamelMina CloseSessionWhenComplete Connections fully closed method maybeDisconnectOnDone call session close returns CloseFuture await ensure session closed current implementation await CloseFuture producer returned pool session closed call producer session suddenly closed leading errors ExchangeTimedOutException message received java lang IllegalStateException handler set service active trivial change Mina Producer java session close timeout getEndpoint getConfiguration getTimeout CloseFuture closeFuture session close closeFuture awaitUninterruptibly timeout TimeUnit MILLISECONDS unit testing complex issue Mina Consumer provoke easily small program demonstrating problem system fail iterations debug log clear connections closed late iteration started org apache camel org apache camel builder RouteBuilder org apache camel impl DefaultCamelContext org slf Demonstrating race condition Main main String args Exception System setProperty org slf simpleLogger log org apache camel component mina Mina Producer trace System setProperty org slf simpleLogger log org apache mina filter logging LoggingFilter trace Logger logger LoggerFactory getLogger Main CamelContext context DefaultCamelContext context addRoutes RouteBuilder Override configure Exception mina tcp localhost sync setBody simple body ProducerTemplate producerTemplate context createProducerTemplate context start logger info Call String result String producerTemplate requestBody mina tcp localhost disconnect amp timeout amp sync amp minaLogger logger info call result context Race condition Mina Producer Mina Consumer closing connections disconnect set mina protocol consumer codec pool address response
10215	EventDrivenPollingConsumer thread safe ConsumerCache endpoints DefaultConsumerTemplate receive ConsumerCache cached instance PollingConsumer thread parallel processing split aggregate EventDrivenPollingConsumer returning cache instance race condition receive receive methods thread safe ordering beforePoll poll afterPoll consumer suspended afterPoll client beforePoll couldn wake suspended thread data EventDrivenPollingConsumer thread safe ConsumerCache endpoints DefaultConsumerTemplate receive ConsumerCache cached instance PollingConsumer thread parallel processing split aggregate set aggregate cache exchange consumer create endpoint processor
10229	ensureIsOpen AMQChannel ConsumerWorkService WorkPoolRunnable transmit basicAck ChannelN ConsumerDispatcher 5 run handleDelivery RabbitConsumer ThreadPoolExecutor Worker DefaultException AlreadyClosedException Exception camel rabbitmq   Race condition when stopping context with autoack false
10273	Jetty missing jmx object custom thread pool custom configuration ThreadPool passed correspondent JMX object published issue enableJmx https github apache camel blob camel components camel jetty common src main java org apache camel component jetty JettyHttpComponent java adds mbeans listeners called setThread https github apache camel blob camel components camel jetty common src main java org apache camel component jetty JettyHttpComponent java method explains threadpool exposed JMX simple adds check enableJmx flag component level smarter account settings Endpoint level remove flag Endpoint altogether Jetty missing jmx object custom thread pool set thread create http pool filter endpoint context