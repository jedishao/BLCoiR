344	Deadlock during refresh properties  Hi  Commons configurations get itself stuck in deadlock when refreshing properties using Managed reloading strategy  It seems to me it get stuck because of fireEvent in reload method  Another access grabs lock on synchronized  getNodeCombiner    when trying to rebuild but Combined configuration is one of the listeners for event es well and it gets stuck when processing invalidate  Can anyone suggest quick fix please  Relevant information follows  Thanks Pavel Configuration     &lt configuration&gt   &lt override&gt   &lt system &gt   &lt properties fileName  gsxweb properties  throwExceptionOnMissing  false   config name  gsxweb  config optional  false  listDelimiter    &gt   &lt reloadingStrategy config class  org apache commons configuration reloading ManagedReloadingStrategy  &gt   &lt  properties&gt   &lt  override&gt   &lt  configuration&gt     Our Reload code     int ln   combinedConfiguration getNumberOfConfigurations     int reloaded   0   for  int i   0  i &lt  ln  i       Configuration conf   combinedConfiguration getConfiguration i    if  conf instanceof PropertiesConfiguration     ManagedReloadingStrategy strat   null   ReloadingStrategy strategy     PropertiesConfiguration  conf  getReloadingStrategy       refresh if managed strategy  if  strategy instanceof ManagedReloadingStrategy       ManagedReloadingStrategy  strategy  refresh       reload if file changed strategy    else if  strategy instanceof FileChangedReloadingStrategy       PropertiesConfiguration  conf  reload        reloaded                Stack trace of deadlock threads  Name  http 10980 1  State  BLOCKED on  org apache commons configuration tree OverrideCombiner 8511bb owned by   http 10980 6  Total blocked  154  Total waited  2    Stack trace          locked java lang Object 127e34c       locked java lang Class 109bcda              Name  http 10980 6  State  BLOCKED on java lang Object 127e34c owned by  http 10980 1  Total blocked  115  Total waited  2    Stack trace       org apache commons configuration CombinedConfiguration       locked  org apache commons configuration tree OverrideCombiner 8511bb
407	HierarchicalINIConfiguration can throw an exception if the global section is accessed concurrently  If the global section of a hierarchical INI configuration is requested  a new ViewNode is created which becomes the root node of a new configuration for the global section  Nodes representing properties of the global section are added to this ViewNode  This operation temporarily changes the parent node of these nodes which may cause problems if the method is called by multiple threads concurrently  Because access to a section is a read only operation  this should be thread safe  The probability that this error happens is pretty low IMO  Therefore it should be hard to create a unit test  The issue can be fixed by synchronizing the add operation to the ViewNode