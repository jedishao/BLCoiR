Threads spinning doing nothing at end of multi-threaded Step.
Threads spinning doing nothing at end of multi-threaded Step.
When a multi-threaded step is waiting for its last chunk to process it needs to wait on threads that are FINISHED, rather than spinning round asking them over and over if they want to do more work.
The visible effect is often a large disparity between commit count and read count at the end of a step.
One user even reported an apparently infinite loop (probably it was just the JVM scheduler not giving priority to the real worker thread).