XML Datasource is not Thread-Safe when passing data as InputStream.

When passing XML-data to the IRunTask in a multi-threaded application, some of the resulting .rptdocument files will be corrupted.

The error only occures when passing an InputStream using the setAppContext method:


Reproducible: Sometimes

Steps to Reproduce:
1. Run the sample application in the attachments (use the -Xmx1024m VM-Argument to avoid our of memory errors
2. Wait till the log shows this warning: WARNUNG: Exceptions occur during xml parsing
3. Kill the sample application process
4. Analyze the generated rptdocument files (sort by ascending file size to find corrupted files)