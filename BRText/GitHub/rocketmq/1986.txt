IndexService#getAndCreateLastIndexFile threadsafe issue.
The issue tracker is ONLY used for bug report(feature request need to follow RIP process).
Keep in mind, please check whether there is an existing same report before your raise a new one.
Alternately (especially if your communication is not a bug report), you can send mail to our mailing lists.
We welcome any friendly suggestions, bug fixes, collaboration and other improvements.
Please ensure that your bug report is clear and that it is complete.
Otherwise, we may be unable to understand it or to reproduce it, either of which would prevent us from fixing the bug.
We strongly recommend the report(bug report or feature request) could include some hints as the following:
BUG REPORT

Please describe the issue you observed:

thread safe in function getAndCreateLastIndexFile


What did you see instead?

Please tell us about your environment:

Other information (e.g. detailed explanation, logs, related issues, suggestions how to fix, etc):

FEATURE REQUEST

Please describe the feature you are requesting.

getAndCreateLastIndexFile execute in thread ReputMessageService, and ReputMessageService is single thread. so

1.getAndCreateLastIndexFile do not need to use lock readWriteLock。
2.if want to use readWriteLock，where IndexFile is null we try to create new file，it's not thread safe。


Provide any additional detail on your proposed use case for this feature.


Indicate the importance of this issue to you (blocker, must-have, should-have, nice-to-have).
Are you currently using any workarounds to address this issue?


If there are some sub-tasks using -[] for each subtask and create a corresponding issue to map to the sub task:

